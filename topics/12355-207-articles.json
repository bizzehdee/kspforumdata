{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":207,"Articles":[{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-01-28T10:26:40Z","Content":"\n\u003Cp\u003EOnly explanation I can think of is that you\u0027re controlling the craft from the wrong place. Burning downwards is supposed to lower your apoapsis and rise your periapsis which sounds like what\u0027s happening with you. Is the navball also pointing downwards or just the ship?\u003C/p\u003E\n"},{"CreatedByName":"Ratzap","CreatedById":75982,"CreatedDateTime":"2014-01-28T14:15:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EYou should never use autoconfigure with FAR anyway, and you should be flying FAR with RSS.\u003Cp\u003ERegarding burns, a suggestion Sarbian was going to look into was cutting off a hair early and fine-tuning with RCS. It is bad news for landings, though, you\u0027re quite right.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI never do and I\u0027m using all the mods specified except engine ignitor (that\u0027s just masochistic). I should have added that I\u0027d set the turn start at 32km, end at 100km, left it at 40% and it was set to climb to 32,786km for a geo sat. It got out to about 130km then dipped the nose down - I can only assume it wanted to get better use of the gravity turn? No idea, anyway it plunged into the atmosphere and I went \u0027welp, doing it manually then\u0027.\u003C/p\u003E\u003Cp\u003EThe landing was pretty damn comical. I\u0027d quicksaved prior to the descent as I had a feeling I\u0027d be doing it again manually but I wanted to see. The course corrections went a bit jerky but it got there eventually and the descent path was spot on - it really nailed the co-ordinates nicely as per normal KSP. It\u0027s just the hover and final descent where it needs low power that it went nuts. Swinging in ever wider circles as it desperately tried to compensate for the previous overcompensation. Thankfully it seemed to call it quits after a while and just went for it - up, down, left, right .....argh! The lander bounced, rolled over, I pulled the legs up and got the roll stopped with it pointing upwards then put the legs back down. Nothing fell off so perfect landing right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003ERSS definitely confuses MJ2 in some areas.\u003Cp\u003EI don\u0027t recall having a problem with ascent with regards to atmospheric height however. I just edited the ascent path / ascent profile / whatever-it\u0027s-called-that-I-can\u0027t-quite-remember and either set it to auto or I manually set the desired flight path destination altitude and end turn altitude.\u003C/p\u003E\u003Cp\u003EIf it says 69 that\u0027s just because the default configuration is set that way. It\u0027s capable of dealing with different atmospheric heights or it couldn\u0027t handle Laythe, Eve or Duna properly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI always manually set the parameters for the ascent as MJ doesn\u0027t (or didn\u0027t) take the ships landed altitude into account on Duna for instance.\u003C/p\u003E\u003Cp\u003EIt\u0027s a pity because ascent takes 15 minutes and it\u0027s the least complex \u0027milkrun\u0027 type part of KSP once you get it set up. Something MJ is ideal for - do that for me while I make coffee \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-28T19:00:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI should have added that I\u0027d set the turn start at 32km, end at 100km, left it at 40%\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s your problem right there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWith FAR you need to start your turn when your vessel reaches ~100m/s (less if it\u0027s high TWR off the pad). For your average 1.5 sea level TWR rocket, that\u0027s about 1km. (If you\u0027re launching at 1.2g, which is safer, it\u0027s ~1.5km).\u003C/p\u003E\u003Cp\u003EYou set end and shape based on TWR throughout the flight, aiming to never be outside the little prograde marker. If you have a reasonable two-stage rocket (1.2-\u0026gt;7, .9-\u0026gt;6, say, for the TWRs of the two stages, noting the 1.2 is sea level and the rest vacuum) then maybe something like end at 150 and shape 60? Or even 100/45 if the upper stage has more punch. Anyway, tweak.\u003C/p\u003E\u003Cp\u003EEDIT: From Ferram:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIt depends a lot on your vehicle\u0027s design, but here are some guidelines that I\u0027ve worked with:\u003Cp\u003EInitial TWR 1.2: Vertical until 100 m/s, ~2-5 degree initial pitch, follow prograde (SLS w/ Pyrios Boosters, Saturn V)\u003C/p\u003E\u003Cp\u003EInitial TWR 1.6: Vertical until 50 m/s, 5 degree initial pitch, follow prograde (Delta II 7925)\u003C/p\u003E\u003Cp\u003ETry to hit 1 km/s when your velocity vector is headed down the 45 degree mark, usually out of the densest part of the atmosphere (somewhere above 20 km, but below 40 km).\u003C/p\u003E\u003Cp\u003EDon\u0027t hit 1.5 km/s until you\u0027re above ~30 km. If you do, you\u0027re probably taking too shallow a trajectory or your initial TWR is too high. This won\u0027t waste fuel, but it does risk heating melting your rocket apart.\u003C/p\u003E\u003Cp\u003ELook to have at least 2.5 km/s of velocity and an apoapsis of \u0026gt;90 km at first stage burnout if your second stage has an initial TWR of 0.9 and will provide most of the dV to orbit. If you\u0027re going to need to burn a complete third stage to get to orbit, make sure that your second stage has an initial 1.2 at this velocity.\u003C/p\u003E\u003Cp\u003EYou can get away with an initial TWR for a second stage (that gets into orbit) of 0.4 if your first stage burns out at ~4.5 km/s - 5 km/s. Generally, in this case you\u0027re sending something to another planet, the moon, or to GEO.\u003C/p\u003E\u003Cp\u003EYou want an orbit of ~190 km for lunar and interplanetary missions, and ~300 - 400 km if you\u0027re sending something to LEO. The higher apoapsis gives you mroe time to circularize.\u003C/p\u003E\u003Cp\u003EDon\u0027t be afraid to burn upwards slightly and not follow prograde once you\u0027re out of the atmosphere. It can help buy you time to get extremely heavy payloads into space. Also, don\u0027t be afraid to circularize after apoapsis; most rockets do this actually, since the lower thrust engine allows the stage to weigh less and get more dV.\u003C/p\u003E\u003Cp\u003EIf you need practice getting into orbit, build a Titan II or a Falcon 9; both have abnormally high-thrust upper stages that will make getting into orbit easier, and then you can go for the lower-thrust upper-stage rockets where piloting is more difficult. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-28T19:05:54Z\u0022 title=\u002201/28/2014 07:05  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 28, 2014\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2014-01-28T23:12:15Z","Content":"\n\u003Cp\u003EWhere can I find an explanation of the advanced SMART A.S.S. tab?\u003C/p\u003E\n"},{"CreatedByName":"CERVERUS","CreatedById":15589,"CreatedDateTime":"2014-01-28T23:34:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ABZB\u0022 data-cite=\u0022ABZB\u0022\u003E\u003Cdiv\u003EWhere can I find an explanation of the advanced SMART A.S.S. tab?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere is: \u003Ca href=\u0022http://wiki.mechjeb.com/index.php?title=MechJeb_1_Manual\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.mechjeb.com/index.php?title=MechJeb_1_Manual\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-28T23:38:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AndreyATGB\u0022 data-cite=\u0022AndreyATGB\u0022\u003E\u003Cdiv\u003EOnly explanation I can think of is that you\u0027re controlling the craft from the wrong place. Burning downwards is supposed to lower your apoapsis and rise your periapsis which sounds like what\u0027s happening with you. Is the navball also pointing downwards or just the ship?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EControl direction is fine. I always make sure it\u0027s aimed the right direction and I never put command parts on upside down, but in some cases I have stuck an OKTO2 on its side when I need remote control for testing or to drop one for a landing beacon. In those cases it\u0027s done because I need the docking port on top clear, and set as control.\u003C/p\u003E\u003Cp\u003EThat\u0027s not the case with this small Eve lander remnant or any other ship as it idles merrily away, shifting the orbit off center instead of making it circular and centered.\u003C/p\u003E\u003Cp\u003EHere\u0027s a case of it doing that around Ike. Circular but off center. If Ike had an atmosphere, that orbit would be a bit of a problem. I got fed up with it failing to center the orbit and used Hyprtedit to knock it into place. It would do the proper burn, then change direction and start moving the orbit off center. IIRC this was with the dev build that fixed the bug where it would only use active engines at one end of a pair of ships docked nose to nose.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://farm4.staticflickr.com/3803/11131492403_d93e2f7285_z.jpg\u0022 alt=\u002211131492403_d93e2f7285_z.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2014-01-29T00:17:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CERVERUS\u0022 data-cite=\u0022CERVERUS\u0022\u003E\u003Cdiv\u003EHere is: \u003Ca href=\u0022http://wiki.mechjeb.com/index.php?title=MechJeb_1_Manual\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.mechjeb.com/index.php?title=MechJeb_1_Manual\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, but that does not contain the information I am looking for - the use of the options such as Target Orientation, Inertial, etc.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-29T00:22:31Z","Content":"\n\u003Cp\u003EThe advanced tab offers you various vectors to align to, and the six cardinal orientations. So Surface_Forward is your surface velocity vector (and choosing Surface_Forward and forward will align you with surface prograde); Surface_North is towards the north pole, etc.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-29T12:11:04Z","Content":"\n\u003Cp\u003ERatzap : nothing is hard coded (save the Ascent profile default ) so MJ should use RSS info in all situation. I did not test it much but other use it and I never got word of a problem before. You either triggered some special case or got a bug that got the AP stuck somewhere. As always having more info ( MJ version, dev release ?) and a save game helps a lot.\u003C/p\u003E\n"},{"CreatedByName":"BPI_Bel","CreatedById":89914,"CreatedDateTime":"2014-01-29T16:01:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThere\u0027s your problem right there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EWith FAR you need to start your turn when your vessel reaches ~100m/s (less if it\u0027s high TWR off the pad). For your average 1.5 sea level TWR rocket, that\u0027s about 1km. (If you\u0027re launching at 1.2g, which is safer, it\u0027s ~1.5km).\u003C/p\u003E\u003Cp\u003EYou set end and shape based on TWR throughout the flight, aiming to never be outside the little prograde marker. If you have a reasonable two-stage rocket (1.2-\u0026gt;7, .9-\u0026gt;6, say, for the TWRs of the two stages, noting the 1.2 is sea level and the rest vacuum) then maybe something like end at 150 and shape 60? Or even 100/45 if the upper stage has more punch. Anyway, tweak.\u003C/p\u003E\u003Cp\u003EEDIT: From Ferram:\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis makes me wonder if it might be a better plan to have the ascent guidance work on velocity metrics instead of elevation. This would eliminate much of the oddity in FAR-related launches, since we would be able to follow Ferram\u0027s suggestion directly. I am not sure how it would affect non-FAR play, although I don\u0027t see how it would be a problem. Any thoughts?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-29T16:22:00Z","Content":"\n\u003Cp\u003EI have plan to code a new ascent profile that use a more \u0022realistic\u0022 profile ( the quote are important since I can\u0027t do the same as real rocket without rewriting too much of the code).\u003C/p\u003E\u003Cp\u003EYou would set an turn start alt ( or speed ? ) and a % and MJ would incline the ship so that 100% is straight up and 0% is 1g up and the rest sideways. ( I don\u0027t like my wording here, does it makes sense ? I should draw something ...)\u003C/p\u003E\u003Cp\u003EComments ?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-01-29T16:47:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI have plan to code a new ascent profile that use a more \u0022realistic\u0022 profile ( the quote are important since I can\u0027t do the same as real rocket without rewriting too much of the code).\u003Cp\u003EYou would set an turn start alt ( or speed ? ) and a % and MJ would incline the ship so that 100% is straight up and 0% is 1g up and the rest sideways. ( I don\u0027t like my wording here, does it makes sense ? I should draw something ...)\u003C/p\u003E\u003Cp\u003EComments ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I am another follower of FAR, I use ascent with all precautions just as Nathankell explained in his post #5153. One of the main difficulties with MJ ascent autopilot is to find a profile that will not exceed a sustainable angle of attack (AoA) at any altitude. If it was possible to tell a new ascent autopilot a limit in the AoA (that varies with atmospheric density and speed), it would be better than start alt and %. Far better, for FAR users.\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-01-29T17:36:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI have plan to code a new ascent profile that use a more \u0022realistic\u0022 profile ( the quote are important since I can\u0027t do the same as real rocket without rewriting too much of the code).\u003Cp\u003EYou would set an turn start alt ( or speed ? ) and a % and MJ would incline the ship so that 100% is straight up and 0% is 1g up and the rest sideways. ( I don\u0027t like my wording here, does it makes sense ? I should draw something ...)\u003C/p\u003E\u003Cp\u003EComments ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds good and makes sense, the current ascent module is fine as long as I spend a few launches to tune it for each ship. I think it\u0027s important for the new one to be aware of stuff like FAR and RSS. I suppose it\u0027s the same thing just faster speeds but I\u0027m not sure how to interpret your explanation 100%.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-29T19:47:52Z","Content":"\n\u003Cp\u003EDoes it makes more sense ? For a rocket with a TWR of 1.5 taking off from Kerbin :\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.sarbian.com/sarbian/MJ_Ascent_AP.png\u0022 alt=\u0022MJ_Ascent_AP.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-01-29T20:13:27Z","Content":"\n\u003Cp\u003ESo 0% will always be whatever angle keeps vertical at 1g? If it can adapt to different designs and power/stages then it\u0027s both easier to understand and probably more efficient. How would it work in non-FAR KSP though? An early gravity turn just means wasting a lot of dV in the atmosphere.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-29T20:21:53Z","Content":"\n\u003Cp\u003EIt would not replace the current system. It\u0027s one more ascent profile to select ( manual and auto are the two implemented now, but unless you look at the code you don\u0027t really see they are actually 2 different profile )\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-01-29T21:40:58Z","Content":"\n\u003Cp\u003E@ Sarbian: the ascent profile as you seem defining it is just the trajectory that the rocket should follow. Being just a trajectory, the physical behaviour of the object is not considered, so it could be the same to launch a sphere instead of a tall cylinder. But a true autopilot must consider the forces applied and how to use or counteract them properly. \u003C/p\u003E\u003Cp\u003ESorry if what is below is rather basic, but I better show it or my thinking may not be understood. Pardon me, I grabbed one of your nice drawings and applied some forces to the rocket depicted in it, to show what I mean: \u003Ca href=\u0022https://www.dropbox.com/s/b0iwr90p67w3va2/Ascent%20Rocket%20forces.png\u0022 rel=\u0022external nofollow\u0022\u003Edrawing here\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EThere you see: \u003C/p\u003E\u003Cp\u003E- Lift, applied to the center of lift (CL), of course along the opposite direction of the tangent to the trajectory. Lift is proportional to speed squared, so speed os a critical factor here. The angle of lift force in relation to the rocket axis is the angle of attack (AoA);\u003C/p\u003E\u003Cp\u003E- Weight, applied to the center of mass (CM), of course on the local vertical;\u003C/p\u003E\u003Cp\u003E- Thrust.\u003C/p\u003E\u003Cp\u003EAs CM and CL are far, this rocket will tend to capsize. AoA must be kept to a minimum here, so to remain within the ability of the rocket controls to keep it stable. There are two possible flight profiles possible for this rocket: vertical one up to such an altitude that lift will then be minimal when turning, or (if thrust allows) a very fast one, so that CL moves more towards the nose and AoA remains very small.\u003C/p\u003E\u003Cp\u003ETherefore, I hope in a future MJ autopilot that will actually keep AoA under control.\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2014-01-29T21:53:38Z","Content":"\n\u003Cp\u003EI\u0027m guessing what you\u0027re talking about is also FAR stuff since in the stock game it doesn\u0027t matter much if you have a high AoA. What you\u0027re describing would be nice indeed, but really I think the ascent module is fine for stock, acceptable for FAR and sarbian\u0027s suggestions will surely up it to fine with FAR as well. An option to limit AoA would be great, while following the optimal trajectory.\u003C/p\u003E\u003Cp\u003EI think this will be the most difficult thing to do, MechJeb should keep AoA at a minimum while following a good trajectory. It\u0027s currently possibly to do this by playing around with the values until it works and I can\u0027t think of a way for MechJeb to calculate what the trajectory for a particular ship should be without pretty much simulating the whole ascent.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-01-29T22:38:57Z","Content":"\n\u003Cp\u003E@ AndreyATGB: Exactly. The only thing required is a limit on the AoA, to make a decent autopilot. \u003C/p\u003E\u003Cp\u003EIndeed what I describe is very much FAR stuff, because stock KSP has only very primitive aerodynamics. But they exist in KSP too, as you can see CL and CM differing without having FAR: a wrong profile with a unbalanced rocket won\u0027t let reach orbit, you don\u0027t need FAR for that.\u003C/p\u003E\u003Cp\u003EYou say to be trying different values to find the correct profile. That is also what I must currently do. Most often, what spells disaster when trying profiles is MJ trying to steer the rocket sideways (mostly due to corrective steering), while it already has built a large speed and therefore lift. MJ doesn\u0027t care of AoA, lift, or air density to this end, it seems to maneuver the rocket as if it was outside of an atmosphere. So, the rocket does a couple loops, losing fuel and often speeding in a completely different direction then desired (even by MJ). And often the result is lithobraking, very kerbalish.\u003C/p\u003E\u003Cp\u003EI am not actually asking MJ to calculate the optimum AoA for atmospheric flight, therefore I don\u0027t even want MJ to simulate an atmospheric ascent trajectory. I just need to have the possibility to make a setting, I would jell to MJ \u0022stop pitching\u0022 when AoA is increasing way out of safety. Why can I have MJ deal with engines overheating and not with a simple AoA limiter?\u003C/p\u003E\n"},{"CreatedByName":"Caelib","CreatedById":59329,"CreatedDateTime":"2014-01-30T01:47:40Z","Content":"\n\u003Cp\u003EI use this mod occassionally and I really enjoy it -- thanks for making it. I would also like to say that I have been programming for almost 20 years and I\u0027ve looked at the source code ... you are math GOD and a damn good programmer \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am just curious, what do you do for a living?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-01-30T06:00:53Z","Content":"\n\u003Cp\u003EThe way I\u0027d do the autopilot--although I\u0027d ask Ferram and asmi (who AFAIK know this stuff best!)--is set a turn start speed, an initial turn pitch and azimuth, an AoA/Sideslip limit, and a final pitch limit.\u003C/p\u003E\u003Cp\u003EAutopilot acts as follows:\u003C/p\u003E\u003Cp\u003E1. Burn vertical until velocity \u0026gt; start speed, rolling to place \u002BZ along azimuth\u003C/p\u003E\u003Cp\u003E2. Pitch over (aka pull up, since \u002BZ will be aligned with azimuth) until aligned with initial pitch/azimuth (pitching slower if necessary to keep AoA/sideslip below limit).\u003C/p\u003E\u003Cp\u003E3. When velocity vector passes desired pitch, (unlock pitch and) follow it, but stay locked in azimuth (yawing to return to desired azimuth, limiting yaw to keep within sideslip limit, and rolling to keep \u002BZ stabilized along azimuth line, aka vessel roll parallel to the surface).\u003C/p\u003E\u003Cp\u003E4. Lock pitch again when pitch = final pitch limit.\u003C/p\u003E\u003Cp\u003EAn addition, for the circularize-after-apogee type of rocket, would be an \u0022unlock pitch altitude\u0022, when \u0026gt;= that altitude, immediately pitch over to final pitch and stay there. Or perhaps key this to stage number?\u003C/p\u003E\u003Cp\u003EThis would allow a gravity turn until high enough apogee, then a horizontal burn to circularize. Since the switch from prograde to horizontal usually accompanies stage separation, it might make sense to key to that rather than a pure altitude thing, but altitude is probably more flexible.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T06:03:38Z\u0022 title=\u002201/30/2014 06:03  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-30T07:54:37Z","Content":"\n\u003Cp\u003EThere\u0027s something wrong with this image.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://farm6.staticflickr.com/5521/12217891676_84a9ac176d_z.jpg\u0022 alt=\u002212217891676_84a9ac176d_z.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the middle are two docking ports together. Around the big tank were six asparagus staged boosters. Right after the last pair drop, MechJeb lights the lander engines in the higher stage. Yes, all but the lowest engine in the list ARE in a higher stage.\u003C/p\u003E\u003Cp\u003EHere I\u0027ve manually shut down all 8 lander engines during the coast phase, which it completed and circularized properly using just the one mainsail.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://farm8.staticflickr.com/7292/12217477833_880a876d0c_z.jpg\u0022 alt=\u002212217477833_880a876d0c_z.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s no structural failure, no parts hanging around that have become disconnected. Just MechJeb ignoring that the lander engines are not in the same stage as the mainsail on the big tank, which had been running since launch. I carefully checked to make certain the decouplers for the final pair of asparagus boosters were not in the lander engine stage.\u003C/p\u003E\u003Cp\u003EIf I put a decoupler in place of the lowest docking port, in a stage all by itself, it doesn\u0027t do this improper engine activation - but for this launch I need that docking port because that big tank is going to become a fuel dump after it tops off the ship it\u0027s carrying the lander to dock with.\u003C/p\u003E\u003Cp\u003EDock the top of the lander to the Eve ship, top off fuel, undock tanker from the bottom of the lander and back it away with RCS, undock the lander then flip it around and dock its bottom to the top of the Eve ship.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T07:57:27Z\u0022 title=\u002201/30/2014 07:57  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magnemoe","CreatedById":57801,"CreatedDateTime":"2014-01-30T09:28:43Z","Content":"\n\u003Cp\u003EQuestion is it an newer build than the 2.1.1 at the start page? \u003C/p\u003E\u003Cp\u003EI have an weird bug, if undocking an unmanned probe from an manned one the execute maneuverer node function seems to be broken as in mechjeb does not control heading. Docking autopilot works think landing too.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-30T12:28:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Caelib\u0022 data-cite=\u0022Caelib\u0022\u003E\u003Cdiv\u003EI use this mod occassionally and I really enjoy it -- thanks for making it. I would also like to say that I have been programming for almost 20 years and I\u0027ve looked at the source code ... you are math GOD and a damn good programmer \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am just curious, what do you do for a living?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMost of the code was written by R4am0n (and Anatid ? ). So most of the credit should go to them and the others contributor. I don\u0027t know what they do IRL but I know r4m0n do mod for other games.\u003C/p\u003E\u003Cp\u003EAs for me my work is not even remotely related to that. I work in performance/architecture java stuff for a bank (the boring type of bank) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003ENathanKell : thank for the input. I can\u0027t unlock an axis with the current code. I ll have to see how I can do that properly.\u003C/p\u003E\u003Cp\u003EI\u0027ll see if I can make those without too much change in the code for now.\u003C/p\u003E\u003Cp\u003Emagnemoe : there is a link for dev version on the first post : \u003Ca href=\u0022http://jenkins.mumech.com/job/MechJeb2/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://jenkins.mumech.com/job/MechJeb2/\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T12:49:57Z\u0022 title=\u002201/30/2014 12:49  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2014-01-30T12:42:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EDoes it makes more sense ? For a rocket with a TWR of 1.5 taking off from Kerbin :\u003Cp\u003E\u003Ca href=\u0022http://www.sarbian.com/sarbian/MJ_Ascent_AP.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.sarbian.com/sarbian/MJ_Ascent_AP.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis will be good for orbit circularization of an upper stage with decent TWR instead. And don\u0027t forget to cut the acceleration of gravity by the centrifugal effect especially when you have really high horizontal orbital velocity. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T12:47:34Z\u0022 title=\u002201/30/2014 12:47  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"}]}