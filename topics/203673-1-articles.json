{"TopicId":203673,"ForumId":44,"TopicTitle":"Why gravity is offseted in KSP ?","CreatedByName":"MaverickWoe","CreatedById":152650,"CreatedDateTime":"2021-07-07T17:23:47Z","PageNum":1,"Articles":[{"CreatedByName":"MaverickWoe","CreatedById":152650,"CreatedDateTime":"2021-07-07T17:23:47Z","Content":"\n\u003Cp\u003E\nHey all\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m working with a student on KSP as a sandbox for controls because it\u0027s a rather complete simulator.\u003Cbr\u003E\nThough, I just discovered that the game was outputting a gravity of roughly 9.75 m\u00B2/s near the launch pad ( 5 - 6 meters above sea level).\u003Cbr\u003E\nWhereas, when I calculate the gravity at the same location, using the game\u0027s data of Kerbin, I will find roughly 9.80 m\u00B2/s.\u003Cbr\u003E\u003Cbr\u003E\nDoes anyone know why the gravity is lower than expected. It doesn\u0027t look like much but I need to be precise for something.\u003Cbr\u003E\nI could be reducing the mass or increasing the radius in the formula but I\u0027m not sure why there is this offset.\u003Cbr\u003E\u003Cbr\u003E\ng = KerbinGravParameter / (KerbinRadius \u002B Altitude)\u00B2\u003Cbr\u003E\nThose are directly extracted from the Kerbin celestial object within the game, so I assume they are supposedly accurate.\n\u003C/p\u003E\n\u003Cp\u003E\nI initially thought that this could maybe come from the centripetal acceleration but a quick computation shows me it would only be 0.0031 m\u00B2/s with Kerbin\u0027s dimensions, far from the 0.05 I\u0027m looking for.\u003Cbr\u003E\nI also checked if it could be an influence of the Mun. But similarly, it would only account for 0.0004 m\u00B2/s in KSP.\u003Cbr\u003E\u003Cbr\u003E\nAny idea would be nice to hear or if you know anything about that in the game.\n\u003C/p\u003E\n"},{"CreatedByName":"RCgothic","CreatedById":132560,"CreatedDateTime":"2021-07-07T17:52:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224001033\u0022 data-ipsquote-contentid=\u0022203673\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221625678627\u0022 data-ipsquote-userid=\u0022152650\u0022 data-ipsquote-username=\u0022MaverickWoe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 minutes ago, MaverickWoe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003Eg = KerbinGravParameter / (KerbinRadius \u002B Altitude)\u00B2\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis formula checks out.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the limit where one object is very much larger than the second, gravitational acceleration is given by the gravitational parameter GM (also called mu) divided by the radial distance from the centre of the parent object squared, in the radially inward direction.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd the radius of your position is Altitude plus Kerbin\u0027s Radius.\n\u003C/p\u003E\n\u003Cp\u003E\nI also agree that this calculates at ~9.80, 9.81ish using Kerbin\u0027s gravitational parameter and mean sea level (altitude 0).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat might be happening is that apparent gravity at the equator is being reduced by the rotation of Kerbin. Give me as moment and I\u0027ll calculate that effect as well.\n\u003C/p\u003E\n"},{"CreatedByName":"RCgothic","CreatedById":132560,"CreatedDateTime":"2021-07-07T18:06:38Z","Content":"\n\u003Cp\u003E\nCentripetal acceleration is radius multiplied by angular velocity squared.\n\u003C/p\u003E\n\u003Cp\u003E\nRadius is 600,000m.\n\u003C/p\u003E\n\u003Cp\u003E\nSidereal rotational period is 5h 59m 9.4s.\n\u003C/p\u003E\n\u003Cp\u003E\nAngular velocity is 0.0002914rad/s.\n\u003C/p\u003E\n\u003Cp\u003E\nCentripetal acceleration is therefore ~0.051m/s/s at the equator.\n\u003C/p\u003E\n\u003Cp\u003E\nYup, that\u0027s the difference. The game is displaying \u0022apparent gravity\u0022, not true gravity.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-07-07T18:07:07Z\u0022 title=\u002207/07/2021 06:07  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 7, 2021\u003C/time\u003E by RCgothic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MaverickWoe","CreatedById":152650,"CreatedDateTime":"2021-07-07T18:09:18Z","Content":"\n\u003Cp\u003E\nyou might find this graph interesting. I compared the theoretical g computation given \u003Cspan\u003Eg = KerbinGravParameter / (KerbinRadius \u002B Altitude)\u00B2\u003Cbr\u003E\nwith the one the game was outputing directly. And I absolutely cannot understand why there is such a complex difference...\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Capture-d-cran-2021-07-07-200624.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002259.10\u0022 height=\u0022276\u0022 width=\u0022467\u0022 src=\u0022https://i.ibb.co/JjJD0dM/Capture-d-cran-2021-07-07-200624.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWhy would the gravity in the game be affected my the behaviour of the rocket ?!\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224001054\u0022 data-ipsquote-contentid=\u0022203673\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221625681198\u0022 data-ipsquote-userid=\u0022132560\u0022 data-ipsquote-username=\u0022RCgothic\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, RCgothic said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSidereal rotational period is 5h 59m 9.4s.\n\u003C/p\u003E\n\u003Cp\u003E\nCentripetal acceleration is therefore ~0.051m/s/s at the equator.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, thanks for doing the computation again. I thought the days were 24h on Kerbin. Thanks for double checking.\n\u003C/p\u003E\n\u003Cp\u003E\nThough, it still doesn\u0027t explain the weird graph above.\u00A0 Why would apparent gravity change depending on the direction of fall or the thrust ?\n\u003C/p\u003E\n"},{"CreatedByName":"RCgothic","CreatedById":132560,"CreatedDateTime":"2021-07-07T19:14:12Z","Content":"\n\u003Cp\u003E\nHard to tell without seeing your complete flight.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAs it\u0027s apparent gravity that the game states it will change depending on factors other than radial position, most notably tangential velocity.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m a little defeated by the reason for the step change around full throttle, but the rest of the plot doesn\u0027t look too unusual. Maybe someone else will have some idea.\n\u003C/p\u003E\n"},{"CreatedByName":"MaverickWoe","CreatedById":152650,"CreatedDateTime":"2021-07-07T19:19:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThough, it still doesn\u0027t explain the weird graph above.\u00A0 Why would apparent gravity change depending on the direction of fall or the thrust ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh ! I think I get it. Wouldn\u0027t\u00A0 \u0022g\u0022 be an expression of the gravity in the rotating frame of reference ? so that all coriolis, centripetal and Euler Forces would be inserted in this fake gravity coefficient ?\u003Cbr\u003E\nSo you have m * angularVelocity\u00B2 x radiusToAxis for the the centrifugal force you already mentioned RCgothic but also other terms like:\u003Cbr\u003E\ncoriolis : m * 2 * angularVelocity x speed\u003Cbr\u003E\nEuler : m * angularAcceleration\u00A0 x radiusToAxis\u003Cbr\u003E\nSo all the silly variations I see must be Coriolis and Euler expressed into g, hence why g is a vector and may not point toward the center of Kerbin in the game.\n\u003C/p\u003E\n\u003Cp\u003E\nEureka \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nNice\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-07-07T19:49:25Z\u0022 title=\u002207/07/2021 07:49  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 7, 2021\u003C/time\u003E by MaverickWoe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RCgothic","CreatedById":132560,"CreatedDateTime":"2021-07-07T20:02:08Z","Content":"\n\u003Cp\u003E\nGlad to have been of help. :-)\n\u003C/p\u003E\n"}]}