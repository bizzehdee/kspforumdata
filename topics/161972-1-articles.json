{"TopicId":161972,"ForumId":20,"TopicTitle":"Limit MechJeb2 Communications RANGE","CreatedByName":"Voodoo8648","CreatedById":142471,"CreatedDateTime":"2017-06-12T04:18:05Z","PageNum":1,"Articles":[{"CreatedByName":"Voodoo8648","CreatedById":142471,"CreatedDateTime":"2017-06-12T04:18:05Z","Content":"\n\u003Cp\u003E\nCurrently, Mech Jeb \u00A0is not affected by CommNet. You can still use Smart ASS, and create and execute maneuver nodes, ect using \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E...\n\u003C/p\u003E\n\u003Cp\u003E\nWould it be possible for someone to please write a patch to fix this that disables MJ2 control when signal is lost? This issue is known within the MJ2 community\u00A0but it doesn\u0027t seem to be a priority.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2017-06-20T23:28:24Z","Content":"\n\u003Cp\u003E\nHere\u0027s some code I was playing with. It works in that it completely disables the ability for MechJeb to control the craft (you can still use its menus and stuff, it just has no ability to control). It doesn\u0027t work in that it simply disables MechJeb all the time. There\u0027s some logic failure in there with the CommStatusChange going wrong (I have confirmed, however, that the CommStatusChange event does trip correctly and with the proper boolean when the craft is out of communications). It might also have to do with the fact that I\u0027m not validating whether MechJeb actually exists when this runs, so it might need to start a coroutine and wait for a second or two.\n\u003C/p\u003E\n\u003Cp\u003E\nSo basically, here\u0027s some plugin code that needs some testing/debugging that I\u0027m not particularly interested in doing. Free of charge, public domain. All this needs is for the project to be linked to the normal KSP libraries and MechJeb, this will be compiled as a separate library which you can safely plop anywhere in GameData.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Enamespace MechCommJebNet {\n    [KSPAddon(KSPAddon.Startup.Flight, false)]\n    public class Core : MonoBehaviour {\n        public void Start() {\n            GameEvents.CommNet.OnCommStatusChange.Add(new EventData\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E, \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Ebool\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.OnEvent(this.OnCommStatusChange));\n            Vessel vessel = FlightGlobals.ActiveVessel;\n            MechJebCore mj = VesselExtensions.GetMasterMechJeb(vessel);\n            mj.DeactivateControl = vessel.IsControllable;\n        }\n\n        private void OnCommStatusChange(Vessel vessel, bool b) {\n            MechJebCore mj = VesselExtensions.GetMasterMechJeb(vessel);\n            mj.DeactivateControl = b;\n            ScreenMessages.PostScreenMessage(\u0022Comm status changed to \u0022 \u002B b, 5f, ScreenMessageStyle.UPPER_CENTER);\n        }\n\n        public void OnDisable() {\n            GameEvents.CommNet.OnCommStatusChange.Remove(new EventData\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E, \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Ebool\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.OnEvent(this.OnCommStatusChange));\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-20T23:29:38Z\u0022 title=\u002206/20/2017 11:29  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 20, 2017\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Voodoo8648","CreatedById":142471,"CreatedDateTime":"2017-06-22T16:26:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223098364\u0022 data-ipsquote-contentid=\u0022161972\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498001304\u0022 data-ipsquote-userid=\u002270807\u0022 data-ipsquote-username=\u0022regex\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/20/2017 at 7:28 PM, regex said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere\u0027s some code I was playing with. It works in that it completely disables the ability for MechJeb to control the craft (you can still use its menus and stuff, it just has no ability to control). It doesn\u0027t work in that it simply disables MechJeb all the time. There\u0027s some logic failure in there with the CommStatusChange going wrong (I have confirmed, however, that the CommStatusChange event does trip correctly and with the proper boolean when the craft is out of communications). It might also have to do with the fact that I\u0027m not validating whether MechJeb actually exists when this runs, so it might need to start a coroutine and wait for a second or two.\n\u003C/p\u003E\n\u003Cp\u003E\nSo basically, here\u0027s some plugin code that needs some testing/debugging that I\u0027m not particularly interested in doing. Free of charge, public domain. All this needs is for the project to be linked to the normal KSP libraries and MechJeb, this will be compiled as a separate library which you can safely plop anywhere in GameData.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Enamespace MechCommJebNet {\n    [KSPAddon(KSPAddon.Startup.Flight, false)]\n    public class Core : MonoBehaviour {\n        public void Start() {\n            GameEvents.CommNet.OnCommStatusChange.Add(new EventData\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E, \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Ebool\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.OnEvent(this.OnCommStatusChange));\n            Vessel vessel = FlightGlobals.ActiveVessel;\n            MechJebCore mj = VesselExtensions.GetMasterMechJeb(vessel);\n            mj.DeactivateControl = vessel.IsControllable;\n        }\n\n        private void OnCommStatusChange(Vessel vessel, bool b) {\n            MechJebCore mj = VesselExtensions.GetMasterMechJeb(vessel);\n            mj.DeactivateControl = b;\n            ScreenMessages.PostScreenMessage(\u0022Comm status changed to \u0022 \u002B b, 5f, ScreenMessageStyle.UPPER_CENTER);\n        }\n\n        public void OnDisable() {\n            GameEvents.CommNet.OnCommStatusChange.Remove(new EventData\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E, \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Ebool\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.OnEvent(this.OnCommStatusChange));\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you! I\u0027ll see if I can get this to work. I don\u0027t know how to code.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDo I need to create a notepad file and save this as a .cfg ?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIs there anything else that I need to do to link this to \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E or the KSP libraries?\n\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2017-06-22T16:56:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223099815\u0022 data-ipsquote-contentid=\u0022161972\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221498148772\u0022 data-ipsquote-userid=\u0022142471\u0022 data-ipsquote-username=\u0022Voodoo8648\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, Voodoo8648 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo I need to create a notepad file and save this as a .cfg ?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, you need to properly compile it, it\u0027s C#, not KSP or Module Manager configs. Sarbian left instructions to get you started in the MechJeb thread.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, Voodoo8648 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there anything else that I need to do to link this to \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E or the KSP libraries?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, you will link the new project that you create to put this code into to those libraries.\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, I remind you, this code is not entirely working, there will be some debugging involved. I advise you to get a stock install, remove the asset bundles and possibly prune enough parts to make loading the game super quick (you can get by with just a probe core,\u00A0some solar panels, and an antenna\u00A0for this now that Hyperedit isn\u0027t needed), and MechJeb. You want it to load as quick as possible because debugging this will involve starting and quitting the game over and over and over.\n\u003C/p\u003E\n\u003Cp\u003E\nGood luck!\n\u003C/p\u003E\n"}]}