{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":99,"Articles":[{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2014-10-21T02:06:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003ENot sure who this was aimed at, but I\u0027m only chasing after my memory issue since Sarbian reported such a lower memory usage with an empty GameData folder. I get that .25 will have a larger memory footprint overall but the large difference in usage at the base level is a bit strange.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you running in OpenGL mode? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/59005-0-25-Release-3-8-Oct-16-2014-Active-Texture-Management-Save-RAM%21?p=1490286\u0026amp;viewfull=1#post1490286\u0022 rel=\u0022external nofollow\u0022\u003EMy testing last night\u003C/a\u003E showed a huge memory increase when running ATM in OpenGL mode. I was able to work around the problem by setting Texture Replacer to always unload textures (by default it disables unloading if ATM is present).\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-10-21T02:15:03Z","Content":"\n\u003Cp\u003EOn my phone, so I don\u0027t have a link handy, but I had some preliminary good results with LoD, a mod for DirectX that dynamically loads and unloads hi res textures. I need to build up a new install. I played around with the DDS loader mod, and I think I mangled a texture or three...\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-21T09:12:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022somnambulist\u0022 data-cite=\u0022somnambulist\u0022\u003E\u003Cdiv\u003EAre you running in OpenGL mode? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/59005-0-25-Release-3-8-Oct-16-2014-Active-Texture-Management-Save-RAM%21?p=1490286\u0026amp;viewfull=1#post1490286\u0022 rel=\u0022external nofollow\u0022\u003EMy testing last night\u003C/a\u003E showed a huge memory increase when running ATM in OpenGL mode. I was able to work around the problem by setting Texture Replacer to always unload textures (by default it disables unloading if ATM is present).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe things is that \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/59005-0-25-Release-3-8-Oct-16-2014-Active-Texture-Management-Save-RAM%21?p=1485287\u0026amp;viewfull=1#post1485287\u0022 rel=\u0022external nofollow\u0022\u003Emy testing\u003C/a\u003E show the opposite. So assuming we both test the same way there must be different like the drivers, GPU model or GPU memory.\u003C/p\u003E\u003Cp\u003EHere I see you have a GPU with 2GB of memory, while I have one with 4GB and that leave more memory for the texture.\u003C/p\u003E\u003Cp\u003EThe \u003Ca href=\u0022http://technet.microsoft.com/en-us/sysinternals/bb896653\u0022 rel=\u0022external nofollow\u0022\u003Esysinternals process explorer\u003C/a\u003E can show you how much of your GPU memory is used ( other the process list there are a bunch of graph, click on them and select the GPU tab).\u003C/p\u003E\u003Cp\u003EEdit : if you enable the GPU memory display in the process list you\u0027ll see that some process can use a lot of GPU memory too, and it means less memory available for KSP in OpenGL (a Chrome tab with Google Map in WebGL is a huge user for obvious reason). Test with only KSP active.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T09:15:05Z\u0022 title=\u002210/21/2014 09:15  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-10-21T14:11:10Z","Content":"\n\u003Cp\u003EI saved a tremendous amount of RAM using OpenGL mode. Maybe its video card dependent?\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-21T14:42:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EI saved a tremendous amount of RAM using OpenGL mode. Maybe its video card dependent?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlmost definitely so. I can\u0027t even run KSP using OpenGL. It just hangs at start.\u003C/p\u003E\n"},{"CreatedByName":"Deflep","CreatedById":92199,"CreatedDateTime":"2014-10-21T19:47:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ERunning with the current version?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, only found this for the first time the other day post 0.25 update. Can\u0027t say if this would run on my setup on 0.24. All the mods bar Science Alert is up to 0.25 compat. \u003C/p\u003E\u003Cp\u003EIf I get time this weekend, I might install this on a Vanilla install, then add mods until it breaks.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-10-21T19:53:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EAlmost definitely so. I can\u0027t even run KSP using OpenGL. It just hangs at start.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe last time I tried OpenGL mode was back on .23 and it failed to run on the exact same hardware I\u0027ve got now. With .25 it decided to work beautifully. (MSI GE70 laptop running some NVidia GPU who\u0027s model number escapes me at the moment. 760M? Something like that.)\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2014-10-22T09:05:57Z","Content":"\n\u003Cp\u003EOpenGL did save me tons of memory in my tests. but the shadows were missing, so i never really used it. i don\u0027t think this has changed with 0.25?\u003C/p\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2014-10-23T00:01:25Z","Content":"\n\u003Cp\u003ESo, I\u0027m running into a memory leak between this and Texture Replacer. With one or the other it works fine, but with both of them together my memory usage climbs slowly until crash. After initial load I have a memory usage of about 2.5-2.8 GB, while it\u0027s loading the main menu (After the progress bar but before the Mun scene) memory jumps to about 3 GB, then during game play it will climb slowly but steadily until finally the game crashes.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./view/dq405wpu4yba63o/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003EOuput_log.txt\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-10-23T00:11:43Z","Content":"\n\u003Cp\u003EI can also report significant RAM usage improvements with OpenGL, over 1GB\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2014-10-23T04:49:10Z","Content":"\n\u003Cp\u003EI\u0027m having two issues which I believe are being caused by ATM. Just wanted to check and see if these were common problems, and perhaps if there are common solutions. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFirst is the quality of toolbar button icons. Images on both the stock toolbar and blizzy\u0027s toolbar appear quite blurry, with the exception of stock buttons. I\u0027m guessing ATM is compressing those images, resulting in the fuzziness. I\u0027d really like a way around that if possible. Is there a way to make sure certain files get excluded?\u003C/p\u003E\u003Cp\u003ESecond is that on every flag selection dialog, I see two images of every flag. It\u0027s as if there are duplicate copies of every flag in my game folder. But I\u0027ve checked and double checked. There\u0027s definitely only one copy of the file. Wondering if ATM is making a compressed version and the game is loading that in addition to the original? Is there any way to stop these duplicates from showing up?\u003C/p\u003E\u003Cp\u003EThanks, and sorry if this has been asked a thousand times.\u003C/p\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2014-10-23T12:34:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jofwu\u0022 data-cite=\u0022jofwu\u0022\u003E\u003Cdiv\u003EI\u0027m having two issues which I believe are being caused by ATM. Just wanted to check and see if these were common problems, and perhaps if there are common solutions. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EFirst is the quality of toolbar button icons. Images on both the stock toolbar and blizzy\u0027s toolbar appear quite blurry, with the exception of stock buttons. I\u0027m guessing ATM is compressing those images, resulting in the fuzziness. I\u0027d really like a way around that if possible. Is there a way to make sure certain files get excluded?\u003C/p\u003E\u003Cp\u003ESecond is that on every flag selection dialog, I see two images of every flag. It\u0027s as if there are duplicate copies of every flag in my game folder. But I\u0027ve checked and double checked. There\u0027s definitely only one copy of the file. Wondering if ATM is making a compressed version and the game is loading that in addition to the original? Is there any way to stop these duplicates from showing up?\u003C/p\u003E\u003Cp\u003EThanks, and sorry if this has been asked a thousand times.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUpdate to the latest version. Both of these issues have been fixed.\u003C/p\u003E\n"},{"CreatedByName":"Verios44","CreatedById":125676,"CreatedDateTime":"2014-10-23T13:30:05Z","Content":"\n\u003Cp\u003EHow do I know which version to use? x64 or 86? I use a 2011 Mac Book Pro.\u003C/p\u003E\n"},{"CreatedByName":"asheft","CreatedById":112588,"CreatedDateTime":"2014-10-23T13:38:45Z","Content":"\n\u003Cp\u003ESince there is no 64 bit executable for mac you should use x86.\u003C/p\u003E\n"},{"CreatedByName":"Verios44","CreatedById":125676,"CreatedDateTime":"2014-10-23T13:47:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asheft\u0022 data-cite=\u0022asheft\u0022\u003E\u003Cdiv\u003ESince there is no 64 bit executable for mac you should use x86.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI thought so, just had to heck. This mod is a lifesaver. Running USI mods ( almost all of em), Near Future Package, parts of B9, Interstellar, Extraplanetary Launchpads, RemoteTech, FAR, and other UI and hlep mods really taxes the system.\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2014-10-23T13:51:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Taki117\u0022 data-cite=\u0022Taki117\u0022\u003E\u003Cdiv\u003EUpdate to the latest version. Both of these issues have been fixed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh! Thought I had. Apparently I last updated only a few hours before the most recent version was released. Thanks!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Verios44\u0022 data-cite=\u0022Verios44\u0022\u003E\u003Cdiv\u003EHow do I know which version to use? x64 or 86? I use a 2011 Mac Book Pro.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAsheft is right- Mac supports x86 only right now. But in case that changes down the road... Generally it depends which version of KSP you run. Many mods don\u0027t support x64 right now due to bugs. Hopefully that won\u0027t be the case by the time they get x64 out to Mac.\u003C/p\u003E\n"},{"CreatedByName":"Verios44","CreatedById":125676,"CreatedDateTime":"2014-10-23T14:24:01Z","Content":"\n\u003Cp\u003Ewow! After I finally used the right version, my KSP is down to 2.22 gb RAM use in the VAB when before ( using x64 basic my mistake) was at 2.8, 2.9. Very big difference. Also, even though I am running the latest version, re downloaded a hour ago, toolbar icons are still blurred. Is this related to the half res settings I play on? ( find low graphics settings helps alot too RAM wise)\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-10-23T14:27:58Z","Content":"\n\u003Cp\u003EPossible feature idea: Combine with that DDS loader mod and convert textures to DDS format when filling out the texture cache folder so that future loads will be faster. Is this doable?\u003C/p\u003E\n"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2014-10-23T14:33:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Verios44\u0022 data-cite=\u0022Verios44\u0022\u003E\u003Cdiv\u003Ewow! After I finally used the right version, my KSP is down to 2.22 gb RAM use in the VAB when before ( using x64 basic my mistake) was at 2.8, 2.9. Very big difference. Also, even though I am running the latest version, re downloaded a hour ago, toolbar icons are still blurred. Is this related to the half res settings I play on? ( find low graphics settings helps alot too RAM wise)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen I was trying to unblur my toolbar icons last night I noticed that the move from full res to half res made it \u003Cem\u003Eworse\u003C/em\u003E. So I\u0027m betting you that might be your problem. If you\u0027re down to 2.22 GB then why are you worried about RAM? Try going up to full res and see how it plays.\u003C/p\u003E\n"},{"CreatedByName":"Verios44","CreatedById":125676,"CreatedDateTime":"2014-10-23T14:37:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jofwu\u0022 data-cite=\u0022jofwu\u0022\u003E\u003Cdiv\u003EWhen I was trying to unblur my toolbar icons last night I noticed that the move from full res to half res made it \u003Cem\u003Eworse\u003C/em\u003E. So I\u0027m betting you that might be your problem. If you\u0027re down to 2.22 GB then why are you worried about RAM? Try going up to full res and see how it plays.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eill give it a try and see what happens.\u003C/p\u003E\n"},{"CreatedByName":"Volt","CreatedById":4686,"CreatedDateTime":"2014-10-23T18:55:35Z","Content":"\n\u003Cp\u003EHey, I have an issue. I\u0027ve installed the normal version (non-basic) the normal way by extracting into Kerbal Space Program (merging GameData folders). Nothing happened. After the load was over, the console outputted \u0027Memory saved: 0kb.\u0027 I was at least expecting b9 to compress. What happened?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-23T19:10:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Volt\u0022 data-cite=\u0022Volt\u0022\u003E\u003Cdiv\u003EHey, I have an issue. I\u0027ve installed the normal version (non-basic) the normal way by extracting into Kerbal Space Program (merging GameData folders). Nothing happened. After the load was over, the console outputted \u0027Memory saved: 0kb.\u0027 I was at least expecting b9 to compress. What happened?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMemory reporting is not correct, but it does work.\u003C/p\u003E\n"},{"CreatedByName":"Volt","CreatedById":4686,"CreatedDateTime":"2014-10-23T19:12:08Z","Content":"\n\u003Cp\u003EHmm. Yeah, I just checked Task Manager. Since I posted, my memory usage has dropped below the usual 2.95GB. My mistake. Awesome, no more crashes on revert!\u003C/p\u003E\n"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2014-10-24T15:50:10Z","Content":"\n\u003Cp\u003EMy mac shows a reduced memory footprint, which is great, but my ground textures are stretched out. I uninstalled ATM, and they went back to normal (the Mun is a great example, all the surface has the craters smeared out looking like brush strokes, take ATM away, and they are little craterlets, etc). I installed the x86 version, and again, it showed a memory reduction (2.18 or so vs just shy of 3 GB).\u003C/p\u003E\u003Cp\u003EDid I do something wrong?\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-25T15:06:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tater\u0022 data-cite=\u0022tater\u0022\u003E\u003Cdiv\u003EMy mac shows a reduced memory footprint, which is great, but my ground textures are stretched out. I uninstalled ATM, and they went back to normal (the Mun is a great example, all the surface has the craters smeared out looking like brush strokes, take ATM away, and they are little craterlets, etc). I installed the x86 version, and again, it showed a memory reduction (2.18 or so vs just shy of 3 GB).\u003Cp\u003EDid I do something wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe stretched ground textures are a side effect of the new terrain rendering in 0.25. It looks beautiful from above, but once you get close up they\u0027re all smeared out. Additionally, it looks like they just applied yellow colored grass textures to the deserts. Hopefully this will be corrected in 0.90, or at least by 1.0.\u003C/p\u003E\n"}]}