{"TopicId":107422,"ForumId":29,"TopicTitle":"Switching Vessels on button press.","CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T13:27:18Z","PageNum":1,"Articles":[{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T13:27:18Z","Content":"\n\u003Cp\u003EHey all,\u003C/p\u003E\u003Cp\u003EI\u0027ve searched a little and can\u0027t find what I\u0027m looking for. I\u0027ve got a list of vessels from FlightGlobals, how would I switch to it like you would in the tracking station?\u003C/p\u003E\u003Cp\u003EThis is what I have so far (this is also a partless plugin, running as an addon):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Efor (int cVessel = 0; cVessel \u0026lt; FlightGlobals.Vessels.Count; cVessel\u002B\u002B)\u003Cbr\u003E{\u003Cbr\u003E    Vessel sVessel = (Vessel)FlightGlobals.Vessels[cVessel];\u003Cbr\u003E\u003Cbr\u003E    if (sVessel.state != Vessel.State.ACTIVE)\u003Cbr\u003E    {\u003Cbr\u003E        if (GUILayout.Button(string.Format(\u0022{0} [{1}]\u0022, sVessel.vesselName, sVessel.situation), buttonStyle))\u003Cbr\u003E        {\u003Cbr\u003E            //sVessel.GoOnRails(); ?                \u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks for reading.\u003C/p\u003E\n"},{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2015-05-04T14:26:32Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003EI think you search :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFlightDriver.StartAndFocusVessel (savegame, idx);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eand to find idx you can use :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EHighLogic.CurrentGame.flightState.protoVessels.IndexOf (YourProtoVessel);\u003Cbr\u003Eor\u003Cbr\u003EFlightGlobals.Vessels.IndexOf (YourVessel);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut I think that you can\u0027t access FlightGlobals.Vessels from anywhere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T14:43:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Malah\u0022 data-cite=\u0022Malah\u0022\u003E\u003Cdiv\u003EHello,\u003Cp\u003EI think you search :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFlightDriver.StartAndFocusVessel (savegame, idx);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eand to find idx you can use :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EHighLogic.CurrentGame.flightState.protoVessels.IndexOf (YourProtoVessel);\u003Cbr\u003Eor\u003Cbr\u003EFlightGlobals.Vessels.IndexOf (YourVessel);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut I think that you can\u0027t access FlightGlobals.Vessels from anywhere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, I have access to FlightGlobals and the IDX for the intended vessel; however I\u0027m unsure about the \u0027savegame\u0027 section of StartAndFocusVessel(savegame, idx). What should I use, is there a default?\u003C/p\u003E\n"},{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2015-05-04T20:09:27Z","Content":"\n\u003Cp\u003EI\u0027ve used this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Estring _saveGame = GamePersistence.SaveGame (\u0022persistent\u0022, HighLogic.SaveFolder, SaveMode.OVERWRITE);\u003Cbr\u003EFlightDriver.StartAndFocusVessel (_saveGame, _idx);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPerhaps \u0022HighLogic.CurrentGame.Updated ()\u0022 would also work, I haven\u0027t try ...\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T20:55:37Z","Content":"\n\u003Cp\u003EThanks Malah.\u003C/p\u003E\n"}]}