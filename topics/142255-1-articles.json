{"TopicId":142255,"ForumId":29,"TopicTitle":"Vessel Length?","CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-06-22T12:49:52Z","PageNum":1,"Articles":[{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-06-22T12:49:52Z","Content":"\n\u003Cp\u003E\nOk, this shouldn\u0027t be buried this deep. \u00A0Is there any way to get the vessel length of the flightglobals.activevessel??? \u00A0 I know how to get this in the editor but there doesn\u0027t seem to be an easy way to do this once it\u0027s out and about.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-06-22T13:51:56Z","Content":"\n\u003Cp\u003E\nI was not able to find this myself either when I looked for it.\n\u003C/p\u003E\n\u003Cp\u003E\nIf there is something, it\u0027s probably going to be something in the underlying Unity stuff, rather then the KSP stuff.\n\u003C/p\u003E\n\u003Cp\u003E\nThe one method I did find was the .closestPointOnBounds method which I was able to finagle for my purposes, but I\u0027m not sure how you\u0027d go about using that to get vessel length.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-06-22T14:28:40Z","Content":"\n\u003Cp\u003E\n\u00A0PartGeometryUtil.GetPartRendererBound or then PartGeometryUtil.GetPartColliderBounds and then PartGeometryUtil.MergeBounds ?\n\u003C/p\u003E\n\u003Cp\u003E\n(they returns array so I would not call those each frame)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-22T14:29:16Z\u0022 title=\u002206/22/2016 02:29  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 22, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-06-25T17:48:12Z","Content":"\n\u003Cp\u003E\nThanks @sarbian but... wow... just wow. \u00A0That would be an absolute mess to figure out the way I see it. \u00A0If you want to get the volume of a vessel, that would work because you end up with a Vector3. \u00A0But the length?\n\u003C/p\u003E\n\u003Cp\u003E\nThat seems like a LOT of work to figure out how long a vessel is. \u00A0Isn\u0027t there something like this?\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nVector3 dimensions = this.vessel.GetComponent\u0026lt;Collider\u0026gt;().bounds.size;\n\u003C/p\u003E\n\u003Cp\u003E\nI know that gives a null ref but isn\u0027t there anything like that?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-25T18:08:03Z\u0022 title=\u002206/25/2016 06:08  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 25, 2016\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DennyTX","CreatedById":92389,"CreatedDateTime":"2016-06-25T19:21:01Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthis is how SQUAD calculates ship height (lenght) in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E. \u00A0 \u003Cspan style=\u0022color:#0000ff;font-weight:bold;\u0022\u003Epublic\u003C/span\u003E \u003Cspan style=\u0022color:#a52a2a;\u0022\u003Estatic\u003C/span\u003E Vector3 \u003Cspan style=\u0022color:#191970;font-weight:bold;\u0022\u003ECalculateCraftSize\u003C/span\u003E(ShipConstruct ship)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tBounds bounds = default(Bounds);\n\tVector3 orgPos = ship.parts[0].orgPos;\n\tbounds.center = orgPos;\n\tList\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Bounds\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E list = new List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Bounds\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\tforeach (Part current in ship.parts)\n\t{\n\t\tBounds[] partRendererBounds = PartGeometryUtil.GetPartRendererBounds(current);\n\t\tBounds[] array = partRendererBounds;\n\t\tfor (int i = 0; i \u0026lt; array.Length; i\u002B\u002B)\n\t\t{\n\t\t\tBounds bounds2 = array[i];\n\t\t\tBounds bounds3 = bounds2;\n\t\t\tbounds3.size *= current.boundsMultiplier;\n\t\t\tVector3 size = bounds3.size;\n\t\t\tbounds3.Expand(current.GetModuleSize(size));\n\t\t\tlist.Add(bounds2);\n\t\t}\n\t}\n\treturn PartGeometryUtil.MergeBounds(list.ToArray(), ship.parts[0].transform.root).size;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nif change \u003Cstrong\u003Eship\u003C/strong\u003E to \u003Cstrong\u003Evessel\u003C/strong\u003E we can teoretically get vessel lenght in flight, but, i guess, usefull results will be only when it goes vertically.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-25T19:21:41Z\u0022 title=\u002206/25/2016 07:21  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 25, 2016\u003C/time\u003E by DennyTX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-06-26T06:13:43Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/92389-dennytx/\u0026amp;do=hovercard\u0022 data-mentionid=\u002292389\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/92389-dennytx/\u0022 rel=\u0022external\u0022\u003E@DennyTX\u003C/a\u003E\u00A0but didn\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nPut that into a function and got the x,y,z of the Vector3 it returns and I get this.\n\u003C/p\u003E\n\u003Cp\u003E\nVessel x: 46.6925 y:22.34021 z:74.10925\n\u003C/p\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, the vessel is listed at\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nh:19.4, w:22.2 and l:80.2\n\u003C/p\u003E\n\u003Cp\u003E\nThe good news is, the vessel orientation didn\u0027t really affect those numbers.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I was right. \u00A0That\u0027s an absolute mess of a methodology for getting the vessel size.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-26T12:18:13Z\u0022 title=\u002206/26/2016 12:18  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 26, 2016\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DennyTX","CreatedById":92389,"CreatedDateTime":"2016-06-26T14:31:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222647863\u0022 data-ipsquote-contentid=\u0022142255\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466921623\u0022 data-ipsquote-userid=\u002278435\u0022 data-ipsquote-username=\u0022Fengist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Fengist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n***\n\u003C/p\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E, the vessel is listed at\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n****\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe previous example was for \u00A0\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E only\n\u003C/p\u003E\n\u003Cp\u003E\nfor \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E, SQUAD has another branch, as well as for subassemblies\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-26T14:34:56Z\u0022 title=\u002206/26/2016 02:34  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 26, 2016\u003C/time\u003E by DennyTX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2016-06-26T15:37:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222648205\u0022 data-ipsquote-contentid=\u0022142255\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466951479\u0022 data-ipsquote-userid=\u002292389\u0022 data-ipsquote-username=\u0022DennyTX\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, DennyTX said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe previous example was for \u00A0\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E only\n\u003C/p\u003E\n\u003Cp\u003E\nfor \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, SQUAD has another branch, as well as for subassemblies\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight, but I\u0027m not looking to get the size in any editor. \u00A0I need it outside. \u00A0And when the vessel is out there I shouldn\u0027t have to ask where it was created in order to determine it\u0027s dimensions. \u00A0My god this is ridiculous. \u00A0I shouldn\u0027t have to be jumping through hoops to get a basic vessel size. \u00A0It should be right there along with it\u0027s mass.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-06-26T15:45:28Z","Content":"\n\u003Cp\u003E\nIt s a matter of origin when merging the bounds. The calls I gave you are the right method to do it...\n\u003C/p\u003E\n"}]}