{"TopicId":91625,"ForumId":34,"TopicTitle":"[1.10.1\u002B] Contract Configurator [v1.30.5] [2020-10-05]","CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-11-30T06:23:07Z","PageNum":35,"Articles":[{"CreatedByName":"Athywren","CreatedById":82792,"CreatedDateTime":"2015-05-13T14:50:45Z","Content":"\n\u003Cp\u003EHello again.\u003C/p\u003E\u003Cp\u003EI\u0027ve been working on my contract idea on and off in spare moments over the past week or so, and I think I have the shape of it pretty much right. I kept coming up with an issue that didn\u0027t seem to make sense, though, because I think I\u0027d confused myself on something. The requirement \u0022HasCrew\u0022, I\u0027m pretty sure, refers to the entire space program, right? That\u0027s the entire collection of Kerbals you\u0027ve hired? But the \u003Cem\u003Eparameter\u003C/em\u003E \u0022HasCrew\u0022 seems to be specific to a single vessel. Is that right? If so, is there a parameter that corresponds to the \u0022HasCrew\u0022 requirement?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-13T14:59:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022severedsolo\u0022 data-cite=\u0022severedsolo\u0022\u003E\u003Cdiv\u003ESo, I just got a contract under SS Lite, to do a BIOME scan of the Sun. Now, this is not a valid contract... as Sun has no biomes.\u003Cp\u003EIs there any kind of logic checking I can introduce to make sure that sun (and probably jool) are not returned as valid targets?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBiome mapping of the Sun or Jool is possible, as is terrain mapping. \u003C/p\u003E\u003Cp\u003EThe bigger problem is just mapping of the sun in general. The dV requirements to get into the correct orbit are insane, so really it should just be excluded entirely.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-13T18:43:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Athywren\u0022 data-cite=\u0022Athywren\u0022\u003E\u003Cdiv\u003EHello again.\u003Cp\u003EI\u0027ve been working on my contract idea on and off in spare moments over the past week or so, and I think I have the shape of it pretty much right. I kept coming up with an issue that didn\u0027t seem to make sense, though, because I think I\u0027d confused myself on something. The requirement \u0022HasCrew\u0022, I\u0027m pretty sure, refers to the entire space program, right? That\u0027s the entire collection of Kerbals you\u0027ve hired? But the \u003Cem\u003Eparameter\u003C/em\u003E \u0022HasCrew\u0022 seems to be specific to a single vessel. Is that right? If so, is there a parameter that corresponds to the \u0022HasCrew\u0022 requirement?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDone for next version, it\u0027s called HasAstronaut and takes the same inputs as the HasCrew requirement (which is now renamed to HasAstronaut for consistency). Test it on the dev version \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/blob/master/GameData/ContractConfigurator/ContractConfigurator.dll?raw=true\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E if you like, otherwise it\u0027ll be in the next release in a few days.\u003C/p\u003E\n"},{"CreatedByName":"Athywren","CreatedById":82792,"CreatedDateTime":"2015-05-13T21:19:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EDone for next version, it\u0027s called HasAstronaut and takes the same inputs as the HasCrew requirement (which is now renamed to HasAstronaut for consistency). Test it on the dev version \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/blob/master/GameData/ContractConfigurator/ContractConfigurator.dll?raw=true\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E if you like, otherwise it\u0027ll be in the next release in a few days.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMarvelous! In that case, I\u0027ll run away with the dev version this weekend, and maybe figure out how to put things on github, on the off chance there\u0027s anyone else out there who wants to work with the Kerbal Resources department and get paid for training up their crews. Thanks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"westamastaflash","CreatedById":110546,"CreatedDateTime":"2015-05-13T22:32:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EBiome mapping of the Sun or Jool is possible, as is terrain mapping. \u003Cp\u003EThe bigger problem is just mapping of the sun in general. The dV requirements to get into the correct orbit are insane, so really it should just be excluded entirely.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://gaming.stackexchange.com/questions/107855/how-can-i-use-jool-to-put-a-spacecraft-into-a-solar-polar-orbit\u0022 rel=\u0022external nofollow\u0022\u003EWhat, you don\u0027t want to do a difficult gravity-assisted inclination change at Jool?\u003C/a\u003E Followed up by a ridiculous burn to reduce your Ap?\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-14T01:45:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EBiome mapping of the Sun or Jool is possible, as is terrain mapping. \u003Cp\u003EThe bigger problem is just mapping of the sun in general. The dV requirements to get into the correct orbit are insane, so really it should just be excluded entirely.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think it should be disabled just because it\u0027s difficult. If they can do it good on them and they should be rewarded handsomely. Just don\u0027t give them a commensurately large advance that they could abuse as a loan for other missions. That way they only take it if they feel they are ready for it.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-05-16T00:35:54Z","Content":"\n\u003Cp\u003EI\u0027m working on an AntennaRange contract pack, and I want to make it general rather than planet-specific by using the list syntax, but I\u0027m running into difficulties. Here\u0027s my targetBody selection:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody = Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains().Random()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(This one is for the contracts to the homeworld\u0027s moons, which use a different dish than all of the other bodies, which has a much more complicated expression. First things first.)\u003C/p\u003E\u003Cp\u003EHowever, the system grumbles that targetBody isn\u0027t set (for the Orbit PARAMETER), and when I try to verify that it\u0027s non-null as an Expression REQUIREMENT that Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains(\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E).Count() \u0026gt; 0, the system grumbles that Expression evaluates to a double instead of a boolean. Do I need more parentheses to hold Contract Configurator\u0027s hand through the order of operations?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-16T02:16:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EI\u0027m working on an AntennaRange contract pack, and I want to make it general rather than planet-specific by using the list syntax, but I\u0027m running into difficulties. Here\u0027s my targetBody selection:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody = Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains().Random()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(This one is for the contracts to the homeworld\u0027s moons, which use a different dish than all of the other bodies, which has a much more complicated expression. First things first.)\u003C/p\u003E\u003Cp\u003EHowever, the system grumbles that targetBody isn\u0027t set (for the Orbit PARAMETER), and when I try to verify that it\u0027s non-null as an Expression REQUIREMENT that Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains(\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E).Count() \u0026gt; 0, the system grumbles that Expression evaluates to a double instead of a boolean. Do I need more parentheses to hold Contract Configurator\u0027s hand through the order of operations?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, I based it off the \u003Ca href=\u0022https://msdn.microsoft.com/en-us/library/aa691323(v=vs.71).aspx\u0022 rel=\u0022external nofollow\u0022\u003EC# operator precedence\u003C/a\u003E (which is pretty much the same as any other language), and unary not (!) has one of the highest precedences. So Contract Configurator is doing what you\u0027re telling it to. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Since Count() is unsigned, you can just rewrite that as xxx.Count() == 0. That being said, what you found sounds like a bug. The expression requirement \u003Cem\u003Eshould\u003C/em\u003E work as a workaround, but I\u0027ll get the main issue fixed for the next release (which should be pretty soon).\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-05-16T02:43:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EActually, I based it off the \u003Ca href=\u0022https://msdn.microsoft.com/en-us/library/aa691323(v=vs.71).aspx\u0022 rel=\u0022external nofollow\u0022\u003EC# operator precedence\u003C/a\u003E (which is pretty much the same as any other language), and unary not (!) has one of the highest precedences. So Contract Configurator is doing what you\u0027re telling it to. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Since Count() is unsigned, you can just rewrite that as xxx.Count() == 0. That being said, what you found sounds like a bug. The expression requirement \u003Cem\u003Eshould\u003C/em\u003E work as a workaround, but I\u0027ll get the main issue fixed for the next release (which should be pretty soon).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you say unary not has the highest precedence, does that mean that the Where expression is saying \u0022(not OrbitedBodes) contains\u0022? That sounds like the opposite of what I want, which is \u0022not (OrbitedBodies contains)\u0022.\u003C/p\u003E\u003Cp\u003E(Actually, it would be great if there were a way to poll the ships which orbit the various bodies -- then I could pick a body which doesn\u0027t have enough ships in orbit around it, or even not enough ships \u003Cem\u003Ewith dishes\u003C/em\u003E in orbit, rather than just guessing that a body which has been orbited at some point probably has a relay.)\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-16T03:05:20Z","Content":"\n\u003Cp\u003EFirst off - this is what I see when using your expression:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[ERR 20:24:07.814] ContractConfigurator.ContractType: CONTRACT_TYPE \u0027TargetBodyTest\u0027: Error parsing targetBody[EXC 20:24:07.817] MissingMethodException: Cannot find function \u0027Homeworld\u0027 for class \u0027CelestialBody\u0027.\u003Cbr\u003E    ContractConfigurator.ExpressionParser.ExpressionParser\u00601[T].GetCalledFunction (System.String functionName, Function\u0026amp; selectedMethod, Boolean isFunction)\u003Cbr\u003E    ContractConfigurator.ExpressionParser.ExpressionParser\u00601[CelestialBody].ParseMethod[CelestialBody] (ContractConfigurator.ExpressionParser.Token token, .CelestialBody obj, Boolean isFunction)\u003Cbr\u003E    Rethrow as Exception: Error parsing statement.\u003Cbr\u003E    Error occurred near \u0027*\u0027:\u003Cbr\u003E    Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains().Random()\u003Cbr\u003E    ..........* \u0026lt;-- HERE\u003Cbr\u003E    ContractConfigurator.ExpressionParser.ExpressionParser\u00601[T].ParseExpression (System.String key, System.String expression, ContractConfigurator.ExpressionParser.DataNode dataNode)\u003Cbr\u003E    ContractConfigurator.ConfigNodeUtil.ParseSingleValue[CelestialBody] (System.String key, System.String stringValue, Boolean allowExpression)\u003Cbr\u003E    ContractConfigurator.ConfigNodeUtil.ParseValue[CelestialBody] (.ConfigNode configNode, System.String key, Boolean allowExpression)\u003Cbr\u003E    ContractConfigurator.ConfigNodeUtil.ParseValue[CelestialBody] (.ConfigNode configNode, System.String key, System.Action\u00601 setter, IContractConfiguratorFactory obj, .CelestialBody defaultValue, System.Func\u00602 validation)\u003Cbr\u003E    UnityEngine.Debug:LogException(Exception)\u003Cbr\u003E    ContractConfigurator.LoggingUtil:LogException(Exception)\u003Cbr\u003E    ContractConfigurator.ConfigNodeUtil:ParseValue(ConfigNode, String, Action\u00601, IContractConfiguratorFactory, CelestialBody, Func\u00602)\u003Cbr\u003E    ContractConfigurator.ConfigNodeUtil:ParseValue(ConfigNode, String, Action\u00601, IContractConfiguratorFactory, CelestialBody)\u003Cbr\u003E    ContractConfigurator.ContractType:Load(ConfigNode)\u003Cbr\u003E    ContractConfigurator.\u0026lt;LoadContractConfig\u0026gt;d__14:MoveNext()\u003Cbr\u003E    ContractConfigurator.ContractConfigurator:Update()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENot sure if that\u0027s something you missed, or it was a transcription error when posting (the correct function is HomeWorld()). After I fixed that everything seemed to behave fine.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EWhen you say unary not has the highest precedence, does that mean that the Where expression is saying \u0022(not OrbitedBodes) contains\u0022? That sounds like the opposite of what I want, which is \u0022not (OrbitedBodies contains)\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, I was referring to your second expression:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#3E3E3E]Homeworld().Children().Where(b =\u0026gt; !OrbitedBodies().Contains().Count() \u0026gt; 0)[/COLOR]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd what I mean is that it is equivalent to:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[color=#3E3E3E]Homeworld().Children().Where(b =\u0026gt; (!OrbitedBodies().Contains().Count()) \u0026gt; 0)[/color]\u003C/pre\u003E\u003Cp\u003EWhich I think is why you see the double/bool conversion error (although I would\u0027ve expected int, but whatever. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003E(Actually, it would be great if there were a way to poll the ships which orbit the various bodies -- then I could pick a body which doesn\u0027t have enough ships in orbit around it, or even not enough ships [i]with dishes[/i] in orbit, rather than just guessing that a body which has been orbited at some point probably has a relay.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, there\u0027s AllVessels().Where(v =\u0026gt; v.CelestialBody() == @targetBody), but nothing to go from body to vessels (I can add it if you need it). You can also do AllVessels().Where(v =\u0026gt; v.Parts().Where(p =\u0026gt; p....)).... hmm... that\u0027s not right. Realized that I don\u0027t have much in the way of functions for parts. I\u0027ll need to add at least part name. I don\u0027t not want to get into part modules though as that would be scary performance wise (I\u0027m already worried about the AllVessels =\u0026gt; Parts could be huge).\u003C/p\u003E\u003Cp\u003EEDIT: Oh right, there\u0027s no name because you just convert it to a string to get the name. Note the expression below will only work on the dev build (quoted strings have only recently been introduced):\u003C/p\u003E\u003Cp\u003EAllVessels().Where(v =\u0026gt; v.Parts().Where(p =\u0026gt; p == \u0022SomeCoolAntenna\u0022).Count() \u0026gt; 0)\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-05-16T06:50:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003E(the correct function is HomeWorld()).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou got me. No fair misspelling \u0022homeworld\u0022 in your API -- it\u0027s one word! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ERegarding the search-by-partmodule, it\u0027s not really necessary -- I see how it would eventually overwhelm performance. (Strictly speaking, I\u0027d have to search by ships, parts, PartModules, and then \u003Cem\u003Eidentify which PartModules have enough range to reach back to the homeworld\u003C/em\u003Ein case the user has parts from other mods, for extra CPU-meltage.) Counting ships should do the trick. Thanks!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-16T06:53:35Z\u0022 title=\u002205/16/2015 06:53  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 16, 2015\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-16T14:23:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EYou got me. No fair misspelling \u0022homeworld\u0022 in your API -- it\u0027s one word! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t blame me, it\u0027s the \u003Cem\u003Espanish\u003C/em\u003E spelling. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn most cases, I opt for consistency with Squad over correctness. Except for the \u003Cem\u003EOnScienceRecieved\u003C/em\u003E event. That one drives me insane every time I see it. Also, they changed the function signature on that one twice recently (1.0 and 1.0.1), so they missed to opportunities to fix the typo (since they are breaking mods using it anyway).\u003C/p\u003E\n"},{"CreatedByName":"Addesso","CreatedById":144127,"CreatedDateTime":"2015-05-16T16:30:00Z","Content":"\n\u003Cp\u003EI\u0027ve read it here somewhere before, but for the life of me can\u0027t find it.\u003C/p\u003E\u003Cp\u003EHow do you reactivate a contract that was either cancelled or declined?\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-16T17:01:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Addesso\u0022 data-cite=\u0022Addesso\u0022\u003E\u003Cdiv\u003EI\u0027ve read it here somewhere before, but for the life of me can\u0027t find it.\u003Cp\u003EHow do you reactivate a contract that was either cancelled or declined?\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDecline other contracts until is shows back up.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2015-05-16T17:17:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EDon\u0027t blame me, it\u0027s the \u003Cem\u003Espanish\u003C/em\u003E spelling. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003EIn most cases, I opt for consistency with Squad over correctness. Except for the \u003Cem\u003EOnScienceRecieved\u003C/em\u003E event. That one drives me insane every time I see it. Also, they changed the function signature on that one twice recently (1.0 and 1.0.1), so they missed to opportunities to fix the typo (since they are breaking mods using it anyway).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixing HomeWorld() helped, but I\u0027m still not getting a body out of my functions (they return \u0022empty\u0022). The upper one is the one that I think I want in the end, and the lower one is a simpler one that I\u0027ve tried for testing:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody1 = HomeWorld().Children().Where(b =\u0026gt; (AllVessels().Where( v =\u0026gt; ( (v.CelestialBody() ==  \u0026amp;\u0026amp; (v.IsOrbiting()) )  ).Count() \u0026lt; 4)   ).Random()\u003Cbr\u003EtargetBody1 = HomeWorld().Children().Where(b =\u0026gt; !(OrbitedBodies().Contains() ).Random()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow complicated is the evaluation formula in a Where() statement allowed to get?\u003C/p\u003E\u003Cp\u003EEDIT: Well, the debug menu didn\u0027t seem to evaluate the second one, but I got a contract with it, so now I\u0027m trying the first, and we\u0027ll see how it goes...\u003C/p\u003E\u003Cp\u003EEDIT 2: One more question. When setting an Orbit parameter, what\u0027s the difference between maxApA and maxAltitude?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-16T18:31:56Z\u0022 title=\u002205/16/2015 06:31  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 16, 2015\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Addesso","CreatedById":144127,"CreatedDateTime":"2015-05-16T21:04:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022futrtrubl\u0022 data-cite=\u0022futrtrubl\u0022\u003E\u003Cdiv\u003EDecline other contracts until is shows back up.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe one in particular was to build a ground Mun station. I misclicked and declined it, but it has yet to show up again. I now have the \u0022build a Minmus\u0022 base one, which I have accepted. Seems like I may have to go into my persistent file to get it back and I recall that it can be edited to have contracts reappear. Or is it permanently skipped as I\u0027ve accepted the Minmus one (that\u0027s assuming that the progression happens to be linear).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-16T21:29:00Z\u0022 title=\u002205/16/2015 09:29  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 16, 2015\u003C/time\u003E by Addesso\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-16T23:28:36Z","Content":"\n\u003Cp\u003EDeclining a mission doesn\u0027t stop it coming back. You just need to decline more missions so it has a chance of showing back up. Having said that none of the CC packs yet have ground bases yet (I believe) so that is a stock mission, and what I have said above is still true and there is almost no progression there. You could still get missions to make Kerbin stations in stock after having colonised the entire Jool system, in stock.\u003C/p\u003E\n"},{"CreatedByName":"Yemo","CreatedById":114412,"CreatedDateTime":"2015-05-16T23:44:29Z","Content":"\n\u003Cp\u003EIs there any ContractConfigurator mission so far, which deals with asteroids?\u003C/p\u003E\u003Cp\u003EEg defining the paramters to check whether docking with an asteroid is completed.\u003C/p\u003E\u003Cp\u003EI can not spawn my own asteroid, as that would limit the timeframe of the mission.\u003C/p\u003E\u003Cp\u003EAlso I can not use asteroidSample to determine a successful asteroid mission, because I want the first mission to be completeable by probes.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-17T03:35:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EFixing HomeWorld() helped, but I\u0027m still not getting a body out of my functions (they return \u0022empty\u0022). The upper one is the one that I think I want in the end, and the lower one is a simpler one that I\u0027ve tried for testing:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EtargetBody1 = HomeWorld().Children().Where(b =\u0026gt; (AllVessels().Where( v =\u0026gt; ( (v.CelestialBody() ==  \u0026amp;\u0026amp; (v.IsOrbiting()) )  ).Count() \u0026lt; 4)   ).Random()\u003Cbr\u003EtargetBody1 = HomeWorld().Children().Where(b =\u0026gt; !(OrbitedBodies().Contains() ).Random()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow complicated is the evaluation formula in a Where() statement allowed to get?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, there\u0027s no limits that Contract Configurator places on it, and as far as I know the text in a ConfigNode attribute doesn\u0027t have limits. So the limit is when KSP starts getting \u0022chunky\u0022 when generating new contracts. And good test is to hit the \u0022clear all active contracts\u0022 button in the debug menu - that\u0027ll cause a whole set to be regenerated.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EEDIT: Well, the debug menu didn\u0027t seem to evaluate the second one, but I got a contract with it, so now I\u0027m trying the first, and we\u0027ll see how it goes...\u003Cp\u003EEDIT 2: One more question. When setting an Orbit parameter, what\u0027s the difference between maxApA and maxAltitude?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had to look up the code, which is a sure sign that I need to fix the documentation. The following formulas are used to determine if the condition is met for altitude/ApA/PeA:\u003C/p\u003E\u003Cp\u003EminAltitude \u0026lt;= PeA \u0026lt;= ApA \u0026lt;= maxAltitude\u003C/p\u003E\u003Cp\u003EminApA \u0026lt;= ApA \u0026lt;= maxApA\u003C/p\u003E\u003Cp\u003EminPeA \u0026lt;= PeA \u0026lt;= maxPeA\u003C/p\u003E\u003Cp\u003ESo basically, if you don\u0027t specify both a min/max then maxAltitude and maxApA are the same. If you specify a min/max then both the PeA and ApA must fall within the range. Think of it as a shortcut to specifying all four of [min/max][ApA/Pea].\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yemo\u0022 data-cite=\u0022Yemo\u0022\u003E\u003Cdiv\u003EIs there any ContractConfigurator mission so far, which deals with asteroids?\u003Cp\u003EEg defining the paramters to check whether docking with an asteroid is completed.\u003C/p\u003E\u003Cp\u003EI can not spawn my own asteroid, as that would limit the timeframe of the mission.\u003C/p\u003E\u003Cp\u003EAlso I can not use asteroidSample to determine a successful asteroid mission, because I want the first mission to be completeable by probes.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you say missions - then no, there\u0027s nothing out there in the wild using asteroids (well, I suppose there some minor stuff in Tourism Plus). If the goal is to grapple it with the claw, then it\u0027s fairly easy, you can just do a PartValidation that checks for the Asteroid module (this is done \u003Ca href=\u0022https://github.com/jrossignol/ContractPack-Tourism/blob/master/GameData/ContractPacks/Tourism/CasinoBuilding.cfg#L82\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E as an example).\u003C/p\u003E\u003Cp\u003EIf you want to have a contract that says \u0022rendezvous with any asteroid\u0022, then I think I may have a solution. Have a rendezvous with a \u0022named\u0022 vessel, and have another parameter that sets the named vessel as any asteroid (it\u0027ll get set to the first asteroid the player rendezvous with anyway). Untested, but try this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPARAMETER{\u003Cbr\u003E    name = Asteroid\u003Cbr\u003E    type = VesselParameterGroup\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    define = An Asteroid\u003Cbr\u003E    title = Find an asteroid\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = VesselIsType\u003Cbr\u003E        type = VesselIsType\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        // Type of vessel to check for.  Valid values are a subset from the\u003Cbr\u003E        // VesselType enum:\u003Cbr\u003E        //   Base\u003Cbr\u003E        //   EVA\u003Cbr\u003E        //   Lander\u003Cbr\u003E        //   Probe\u003Cbr\u003E        //   Rover\u003Cbr\u003E        //   Ship\u003Cbr\u003E        //   Station\u003Cbr\u003E        vesselType = SpaceObject\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPARAMETER\u003Cbr\u003E{\u003Cbr\u003E    name = RendezvousShip\u003Cbr\u003E    type = VesselParameterGroup\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    title = Rendezvous with the asteroid\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = Rendezvous\u003Cbr\u003E        type = Rendezvous\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        // The vessel attribute is the *defined* name of the vessel that must\u003Cbr\u003E        // participate in the rendezvous event.  This is a name of a vessel\u003Cbr\u003E        // defined either with the define attribute of a VesselParameterGroup\u003Cbr\u003E        // parameter, or via a SpawnVessel.\u003Cbr\u003E        //\u003Cbr\u003E        // If this Rendezvous parameter is a child of a VesselParameterGroup\u003Cbr\u003E        // parameter, then no more than *one* vessel should be provided (the\u003Cbr\u003E        // other is the vessel being tracked under the VesselParameterGroup).\u003Cbr\u003E        // If no vessel attributes are provided, the second vessel will match\u003Cbr\u003E        // any vessel.\u003Cbr\u003E        //\u003Cbr\u003E        // If this Rendezvous parameter is NOT a child of a VesselParameterGroup,\u003Cbr\u003E        // then *at least one* vessel must be provided.  If only one vessel is\u003Cbr\u003E        // provided, then the second vessel will match any vessel.\u003Cbr\u003E        vessel = An Asteroid\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        // Distance in meters that defines a rendezvous as having occurred.\u003Cbr\u003E        // Default = 2000.0\u003Cbr\u003E        distance = 2500.0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        // Text for the contract parameter.\u003Cbr\u003E        // Default varies depending on the situation.\u003Cbr\u003E        //title =\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENote that the IsVessel documentation lies - you can use any value (so SpaceObject is valid). I\u0027ll fix that.\u003C/p\u003E\u003Cp\u003EIf you try that one out, let me know how it goes and whether you have to do weird stuff like cycling through vessels to get things to fire. Ideally you should be able to get the asteroid one to fire once you get in physics range of the asteroid without making it the active vessel... but I\u0027m not 100% sure.\u003C/p\u003E\n"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-05-17T05:08:17Z","Content":"\n\u003Cp\u003EHey, just getting started diving into the Contract-Configurator! And really enjoying working out these new contracts. \u003C/p\u003E\u003Cp\u003EJust wanted to drop a line and say a BIG THANK YOU to Nightingale (and anyone else who may have contributed) for the great documentation and well done wiki \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks again for putting this together.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-17T05:22:11Z\u0022 title=\u002205/17/2015 05:22  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 17, 2015\u003C/time\u003E by rabidninjawombat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-17T05:17:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rabidninjawombat\u0022 data-cite=\u0022rabidninjawombat\u0022\u003E\u003Cdiv\u003EHey, just getting started diving into the Contract-Configurator! And really enjoying working out these new contracts. \u003Cp\u003EJust wanted to drop a line and say a BIG THANK YOU to Nightingale (and anyone else who may have contributed) for the great documentation and well done wiki \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks again for putting this together.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, and I wish you best of luck in getting whatever it is your working on released! I\u0027ve seen too many people with neat ideas that never quite made it to fruition.\u003C/p\u003E\u003Cp\u003EAnd if you need assistance, you can always drop by the thread and I should be able to answer within a day (at least).\u003C/p\u003E\n"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-05-17T05:24:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EThanks, and I wish you best of luck in getting whatever it is your working on released! I\u0027ve seen too many people with neat ideas that never quite made it to fruition.\u003Cp\u003EAnd if you need assistance, you can always drop by the thread and I should be able to answer within a day (at least).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! I did have a quick question. Is there a PARAMETER for checking completion of a scan using the new stock orbital scanner parts that dropped with 1.0 yet? Or is there a possible way to detect completion even if their isnt?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-17T05:39:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rabidninjawombat\u0022 data-cite=\u0022rabidninjawombat\u0022\u003E\u003Cdiv\u003EThanks! I did have a quick question. Is there a PARAMETER for checking completion of a scan using the new stock orbital scanner parts that dropped with 1.0 yet? Or is there a possible way to detect completion even if their isnt?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is not, but it\u0027s one of the things I meant to look at more closely with the 1.0 release but haven\u0027t yet. Raised [\u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/issues/210\u0022 rel=\u0022external nofollow\u0022\u003E#210\u003C/a\u003E] to track - comment there if you have more specific requirements. Trying to get the next release out tomorrow (most of the bugs are squashed), so I should be able to throw something very basic together, basically it\u0027ll just be \u0022is the planet scanned\u0022. I\u0027ll probably need to do one for the biome unlock thing too, not sure if I\u0027ll try to combine them into one parameter or have separate ones. And a couple expression functions for checking the same things. And requirements. Still, they\u0027re really simple checks, so it shouldn\u0027t take long. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: Oh, and no other way without someone coding something up, no.\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-17T06:23:53Z","Content":"\n\u003Cp\u003ECouldn\u0027t you have it select a vessel that has the part PotatoRoid?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-17T18:17:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022futrtrubl\u0022 data-cite=\u0022futrtrubl\u0022\u003E\u003Cdiv\u003ECouldn\u0027t you have it select a vessel that has the part PotatoRoid?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would work too - but many users wouldn\u0027t know what the heck a PotatoRoid is. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}