{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":80,"Articles":[{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2016-02-15T20:13:52Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Mmm... looking pretty tasty even without proper schematics.  Some stuff -will- be a bit off... but.. silly Russians... they just don\u0027t publish their rocket-related engineering blueprints apparently (still cannot find any good blueprints/diagrams/schematics... so proportions, measurement, and placement is all guessed at from various images... which thankfully there are at least a couple high-res ones available).\n\u003E \n\nMain chamber and bell, dimensions in millimeters, will be the exact same for both the RD-107 and RD-108.\n\n![main_chamber.jpg](http://www.lpre.de/energomash/RD-107/img/main_chamber.jpg)\n\nS1.53800 chamber and bell (verniers), dimensions in millimeters.\n\n![ra_chamber.jpg](http://www.lpre.de/energomash/RD-107/img/ra_chamber.jpg)\n\nA decent page on the engine with some additional links at the bottom (where these images are from):\n\n[http://www.lpre.de/energomash/RD-107/index.htm](http://www.lpre.de/energomash/RD-107/index.htm)\n\n**Edited \u003Ctime datetime=\u00222016-02-15T20:15:28Z\u0022 title=\u002202/15/2016 08:15  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 15, 2016\u003C/time\u003E by regex**"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-02-15T20:17:28Z","Content":"[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) Have you thought about how the vernier gimbals will work?  I\u0027ve experimented with such setups myself and ran into the following issues:\n\n- There\u0027s no easy way to distribute thrust unevenly between multiple transforms.  There might be a couple of hacky ways around this:\n    - Put lots of thrust transforms on the main nozzles so that they effectively get more thrust (since thrust is evenly distributed between each transform).  Not sure if having that many force would impact physics performance.\n    - Include another module that adds thrust proportional to the main module\u0027s thrust.  The reported thrust and Isp on the main engine would be wrong.\n    - Include another module that adds proportional thrust to the verniers, and adds an equal magnitude negative thrust on the main engines.  Definitely hacky, but might work.\n- The stock gimbal module doesn\u0027t allow single-axis gimbaling.  I almost got it working with some look at constraints, but it ended up having weird issues."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-15T20:23:00Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, regex said:\n\u003E \n\u003E \n\u003E Main chamber and bell, dimensions in millimeters, will be the exact same for both the RD-107 and RD-108.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![main_chamber.jpg](http://www.lpre.de/energomash/RD-107/img/main_chamber.jpg)\n\u003E \n\u003E \n\u003E \n\u003E S1.53800 chamber and bell (verniers), dimensions in millimeters.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ![ra_chamber.jpg](http://www.lpre.de/energomash/RD-107/img/ra_chamber.jpg)\n\u003E \n\nYep, that is about the extent of the \u0027schematic\u0027 like information I\u0027ve found.  Precisely two images.  I have a third and fourth that show the flow-diagram for a single chamber, and the full engine.\n\nBut.. for F1/J-2 / etc... I can find stuff like:\n\n![J-2_1964.png](http://www.alternatewars.com/SpaceRace/Saturn/J-2_1964.png)\n\nNice and detailed, orthographic projection, from multiple views.\n\nBut.. ohwell...  I can do it without them... I just don\u0027t -feel- as good about doing it."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-15T20:28:40Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, blowfish said:\n\u003E \n\u003E \n\u003E [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) Have you thought about how the vernier gimbals will work?  I\u0027ve experimented with such setups myself and ran into the following issues:\n\u003E \n\u003E \n\u003E \n\u003E - There\u0027s no easy way to distribute thrust unevenly between multiple transforms.  There might be a couple of hacky ways around this:\n\u003E     - Put lots of thrust transforms on the main nozzles so that they effectively get more thrust (since thrust is evenly distributed between each transform).  Not sure if having that many force would impact physics performance.\n\u003E     - Include another module that adds thrust proportional to the main module\u0027s thrust.  The reported thrust and Isp on the main engine would be wrong.\n\u003E     - Include another module that adds proportional thrust to the verniers, and adds an equal magnitude negative thrust on the main engines.  Definitely hacky, but might work.\n\u003E - The stock gimbal module doesn\u0027t allow single-axis gimbaling.  I almost got it working with some look at constraints, but it ended up having weird issues.\n\u003E \n\nIt will use two engine modules, one for the main chambers, one for the verniers.  I\u0027ve used similar setups in other parts in the past without issue -- MJ/KER even calculate the burn-time/etc properly with mixed ISP and thrusts (as near as I could tell).  For simplicity sake, both main and verniers will use the same ISP; the thrusts will be different though.\n\nYes, the verniers will gimbal on all axis, nothing I can do about it (as you say, stock limitations).  While I -do- have a functional single-axis constraint system that I could use (see the AJ-10-190 gimbal ring setup; it uses two different constraints, locked to a single axis, to simulate the multi-axis input), I don\u0027t think it would really be necessary and might cause problems with MJ/etc that expect those thrusts to gimbal (might not be as much of a problem with PID feedback/cycle as it would be with anything that pre-calculated  from the gimbal range)."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-02-15T20:47:58Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E It will use two engine modules, one for the main chambers, one for the verniers.  I\u0027ve used similar setups in other parts in the past without issue -- MJ/KER even calculate the burn-time/etc properly with mixed ISP and thrusts (as near as I could tell).  For simplicity sake, both main and verniers will use the same ISP; the thrusts will be different though.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Yes, the verniers will gimbal on all axis, nothing I can do about it (as you say, stock limitations).  While I -do- have a functional single-axis constraint system that I could use (see the AJ-10-190 gimbal ring setup; it uses two different constraints, locked to a single axis, to simulate the multi-axis input), I don\u0027t think it would really be necessary and might cause problems with MJ/etc that expect those thrusts to gimbal (might not be as much of a problem with PID feedback/cycle as it would be with anything that pre-calculated  from the gimbal range).\n\u003E \n\nAh cool, makes sense.  Re: engine modules, you might want to include another module that hides the individual engine controls (events, actions, thrust limiter, maybe thrust and I\u003Csub\u003Esp\u003C/sub\u003E) and replaces them with a unified interface.  I don\u0027t think this would interfere with Mechjeb etc at all, since it\u0027s not changing how the engines respond to staging or the main throttle, just how the user interacts with them."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-02-16T00:39:04Z","Content":"quick question, I know the RD-107 and RD-108 are both clusters of 4x main chambers and 2 and 4 verniers, but.... my mad side of the brain is curious... can we cluster the chambers or if we try to cluster it will cluster the whole thing?  \n\nlike, can we create a thing with 18 chambers and verniers around it, or we should only be able to cluster the RD-107 or RD-108 themselves?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T00:51:15Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blowfish said:\n\u003E \n\u003E \n\u003E Ah cool, makes sense.  Re: engine modules, you might want to include another module that hides the individual engine controls (events, actions, thrust limiter, maybe thrust and I\u003Csub\u003Esp\u003C/sub\u003E) and replaces them with a unified interface.  I don\u0027t think this would interfere with Mechjeb etc at all, since it\u0027s not changing how the engines respond to staging or the main throttle, just how the user interacts with them.\n\u003E \n\nWill give some thought to the extra-GUI-interface module; though, might just leave it as-is for now/the initial implementation.\n\n\u003E \n\u003E \n\u003E 8 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E quick question, I know the RD-107 and RD-108 are both clusters of 4x main chambers and 2 and 4 verniers, but.... my mad side of the brain is curious... can we cluster the chambers or if we try to cluster it will cluster the whole thing?  \n\u003E   \n\u003E \n\u003E like, can we create a thing with 18 chambers and verniers around it, or we should only be able to cluster the RD-107 or RD-108 themselves?\n\u003E \n\nVerniers will be part of the model(s)... so these engines will be mostly non-clusterable, as it will copy the verniers for each engine.  Might make a no-vernier one specifically for clustering -- but then your entire cluster will have zero verniers and no gimballing; so not sure how useful that would be."},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2016-02-16T01:01:27Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E quick question, I know the RD-107 and RD-108 are both clusters of 4x main chambers and 2 and 4 verniers, but.... my mad side of the brain is curious... can we cluster the chambers or if we try to cluster it will cluster the whole thing?  \n\u003E   \n\u003E \n\u003E like, can we create a thing with 18 chambers and verniers around it, or we should only be able to cluster the RD-107 or RD-108 themselves?\n\u003E \n\nThe RD-107/108 and the similar RD-171 or RD-180 simply use clusters of chambers to avoid many of the problems associated with larger chambers, things that the F-1, for instance, had to overcome.  They incorporate shared turbopumps and hardware along with multiple combustion chambers and bells to create engines with excellent thrust to weight ratios and overall performance.  They are complete engines in themselves, optimized to work the way they do.  You can\u0027t simply stack more chambers/bells together without changing the shared hardware."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-02-16T01:29:19Z","Content":"\u003E \n\u003E \n\u003E 35 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Will give some thought to the extra-GUI-interface module; though, might just leave it as-is for now/the initial implementation.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Verniers will be part of the model(s)... so these engines will be mostly non-clusterable, as it will copy the verniers for each engine.  Might make a no-vernier one specifically for clustering -- but then your entire cluster will have zero verniers and no gimballing; so not sure how useful that would be.\n\u003E \n\nbut in this case, would it allow me to make a new engine with 18 chambers (not 18 RD-108) or would it be 72 chambers if I tried to make a 18 cluster?  \n\nor in other words, will the chambers be available as a single model at some point or the whole RD-107/108 will be one model/4 chambers? (not counting the verniers of course)"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-02-16T01:51:01Z","Content":"[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) [NathanKell says](https://forum.kerbalspaceprogram.com/index.php?/topic/132107-twin-boar-yaw-gimbal-reversed/\u0026do=findComment\u0026comment=2412044) that the issue with gimbals should be fixed in 1.1.  Not sure if that changes your plans for the shuttle or not."},{"CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-02-16T01:51:34Z","Content":"\u003E \n\u003E \n\u003E 58 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Verniers will be part of the model(s)... so these engines will be mostly non-clusterable, as it will copy the verniers for each engine.  Might make a no-vernier one specifically for clustering -- but then your entire cluster will have zero verniers and no gimballing; so not sure how useful that would be.\n\u003E \n\nBut in this case you can make individual veiners for clustering... Only a bit too many parts to stack on the rocket."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T02:14:57Z","Content":"\u003E \n\u003E \n\u003E 46 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E but in this case, would it allow me to make a new engine with 18 chambers (not 18 RD-108) or would it be 72 chambers if I tried to make a 18 cluster?  \n\u003E   \n\u003E \n\u003E or in other words, will the chambers be available as a single model at some point or the whole RD-107/108 will be one model/4 chambers? (not counting the verniers of course)\n\u003E \n\nIt will be **one model file** for each engine, 107 \u0026 108; the models in those files will include the verniers in their specific locations.  Depending on how I setup them  up though, I -might- be able to release a no vernier 4-chamber (with thrust structure\u002Bpump) model file as well.  Though, honestly, you should just get the .blend file from me and set it up / export it yourself, as I have no interest in including it in the mod, but have no problem with you doing it for personal use if you want to spend the time to set it up.\n\n\u003E \n\u003E \n\u003E 24 minutes ago, blowfish said:\n\u003E \n\u003E \n\u003E [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) [NathanKell says](https://forum.kerbalspaceprogram.com/index.php?/topic/132107-twin-boar-yaw-gimbal-reversed/\u0026do=findComment\u0026comment=2412044) that the issue with gimbals should be fixed in 1.1.  Not sure if that changes your plans for the shuttle or not.\n\u003E \n\nI found out the cheating bit on it worked great.  Set the part-origin down near the engines/gimbals and then used the config-based CoMOffset to move it upwards/where it should be.  So engines have been integrated back into the fuselage, and back down to 6 parts.\n\nGood to know though, was a bit of an odd bug that has effected a few parts of mine.\n\nAlso got the single-axis verniers working on the RD-107s (and 108s when I get there). \n\nNow I just need to finish off the models ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)   (for both the shuttle and engines)\n\n**Edited \u003Ctime datetime=\u00222016-02-16T02:17:05Z\u0022 title=\u002202/16/2016 02:17  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 16, 2016\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-02-16T02:21:27Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Also got the single-axis verniers working on the RD-107s (and 108s when I get there).\n\u003E \n\nHow did you do this?  With a custom gimbal?  When I tried with the stock module it sorta worked, but when the engine was pitched and the yaw input was triggered, the gimbal would wobble around a lot."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T02:31:30Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, blowfish said:\n\u003E \n\u003E \n\u003E How did you do this?  With a custom gimbal?  When I tried with the stock module it sorta worked, but when the engine was pitched and the yaw input was triggered, the gimbal would wobble around a lot.\n\u003E \n\nUsing the custom model constraint module that I wrote; It supports standard look-constraints, and \u0027limited\u0027 support for locked-axis constraints (z- pointing direction, lock either x or y).  The model setup is probably much like you would expect; separate gimbal\u002Btarget from visible mesh\u002Bthrust transform.  Gimbal rotates the target, visible mesh tracks to the target along the specified axis."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T03:32:19Z","Content":"![VWBo3fw.png](http://i.imgur.com/VWBo3fw.png)\n\nThing is actually coming along nicely; all thats is really needed on this first pass is the vernier fuel lines and possible vernier mounting brackets (thinking I\u0027m going to brace them against the nearest bell...we\u0027ll see...).  Then of course comes all the joins and brackets/adapters/fittings.. cleaning things up."},{"CreatedByName":"SpaceBadger007","CreatedById":150547,"CreatedDateTime":"2016-02-16T04:52:54Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E It is actually 2 of the longest \u002B 1 of the shortest stock bays in length -- the cargo bay is the entire length of the shuttle.\n\u003E \n\nThis makes me very happy!![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T16:48:24Z","Content":"RD-107 - First pass/initial geometry done:\n\n![qE60AII.png](http://i.imgur.com/qE60AII.png)\n\nGoing to work on setting up the verniers and fuel-lines/etc for the RD-108\u0027s, and then will be working on cleanup and poly reduction (~20k tris at the moment...would like about half that; a big portion of those will come from cleaning up/fixing all the plumbing/bezier-curve based stuff, though the bells and turbopump may require some face reduction as well (both are 24t, could be 16-20t to save a few tris and still look acceptable))"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-02-16T17:12:14Z","Content":"Show-off!!!   ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-16T22:52:11Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E Show-off!!!   ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\u003E \n\nYes ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nGotta do something to make it feel like I\u0027m making actual progress.\n\nIn other (general) development news, I\u0027ve spent a bit of time today prototyping an upgraded Engine Cluster module -- the goal of this will be to remove all of the parts for individual clusters, and allow for swapping of the number of engines (and layouts) while in the editor (while keeping all other existing functionality intact; e.g. mount selections, fairings, etc).\n\nThis was the original intent of the engine-cluster plugin, but I was unable to dedicate the time to it to fix up the interaction issues, and ended up settling for a compromised version.\n\nWell, now I already have a functional single-part engine cluster plugin, so have no problem devoting a bit of time to trying to make it work like it was supposed to originally -- if it doesn\u0027t work out, then nothing major is lost (aside from a bit of time).  However, if it -does- work... great ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  All of the engine-cluster parts are one of the bits of the mod I have misgivings about, and would be glad if I could finally clean them up / unify them into a single set of in-editor parts.\n\nWill know more in a few hours after I can do some testing on the mess of code that I\u0027ve written.  Even if the initial implementation works out, I\u0027ll still have some stuff to clean up in regards to RO (more specifically, RealFuels and its ModuleEngineConfigs)."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-02-17T02:24:39Z","Content":"After a bit of.... arguing... with KSP code about ConfigNodes... I have an initial working implementation of an engine-cluster module that can swap the # of engines while in the editor.  Layout / number of engine swapping works, effects work once launched, gimbals work once launched... thrust works fine.  So far it is looking good, though I still have most of the features to (re)implement, and loads of testing to do.\n\nHopefully this news makes at least a few of you as happy as it does for me;  the single-part-per-cluster always seemed like a hacky/sub-optimal solution, and I will be happy to finally clean that bit of mess up.\n\nAlso, if the techniques that I\u0027ve setup for this are working properly, this means that I **-might-** be able to implement some interesting features like running a cluster on only some of its engines / selective enabling of engines.\n\nStill need to validate that it will work with RF\u0027s ModuleEngineConfigs setup.... I imagine that it should fine (at least in flight), and if not I can likely add an inter-mod hook to support it.  Likely won\u0027t let this stop me even if it doesn\u0027t work out, as RO can always create their customized clusters the old fashioned way... by hand, with MODEL nodes and a lot of patience."},{"CreatedByName":"RedParadize","CreatedById":129285,"CreatedDateTime":"2016-02-17T02:45:54Z","Content":"Thats great stuff!   \n\nI didn\u0027t play this game in a while. I am mostly waiting 1.1 for obvious reason. But I think I will luch kerbal again just to see your new stuff.\n\nYou should release this!"},{"CreatedByName":"StickyScissors","CreatedById":144204,"CreatedDateTime":"2016-02-17T03:45:57Z","Content":"Question: has the gradual trailing off of thrust in SRB\u0027s been considered as an idea for this mod? IIRC the component space shuttle SRB\u0027s did this somehow, but i\u0027m not certain it would work properly."},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-02-17T06:58:28Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E After a bit of.... arguing... with KSP code about ConfigNodes...\n\u003E \n\nI\u0027ve never argued with code before. Seems like no matter how much you threaten to change it, it never does. You can\u0027t even reason with code. It\u0027s like they are written down or something. But, in any case, I am glad you\u0027ve yielded positive results. I tried my luck at texturing the other day. I gave a full day of wanting to design an interplanetary command module. Needless to say, I\u0027m getting better at modelling, but my texturing looks like a 2nd grader did it with a melted crayon with paste mixed in with it."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-02-17T08:46:35Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, StickyScissors said:\n\u003E \n\u003E \n\u003E Question: has the gradual trailing off of thrust in SRB\u0027s been considered as an idea for this mod? IIRC the component space shuttle SRB\u0027s did this somehow, but i\u0027m not certain it would work properly.\n\u003E \n\nIt\u0027s a useful feature but I don\u0027t think it\u0027s specific to SSTU.  In any case, Crzyrndm [already has a mod that does that](https://forum.kerbalspaceprogram.com/index.php?showtopic=105289), though it\u0027s by no means perfect."},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2016-02-17T10:17:09Z","Content":"I like it how it\u0027s never hard to find this mod. Always on the front page. ![:cool:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif \u0022:cool:\u0022)"}]}