{"TopicId":222944,"ForumId":144,"TopicTitle":"Ion Engines Continue To Produce Thrust After Running Out Of EC During Accelerate Under Timewarp, But Stop Consuming Xenon Fuel (Leading To Infinite Acceleration)","CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2024-01-12T16:17:40Z","PageNum":1,"Articles":[{"CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2024-01-12T16:17:40Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.2.0 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Windows 10 | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A0Intel Core I7 10th Gen | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0NVIDIA GeForce MX350 | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E8GB\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EIssue:\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003Cbr\u003E\nIon engines continue to produce thrust during accelerate under timewarp after EC runs out, but stop consuming Xenon fuel.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003ESteps to Replicate:\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nLoad\u00A0\u003Ca data-fileext=\u0022json\u0022 data-fileid=\u00221289\u0022 href=\u0022https://forum.kerbalspaceprogram.com/applications/core/interface/file/attachment.php?id=1289\u0026amp;key=789db0b944dbae989226ec820dd9d0b6\u0022 rel=\u0022\u0022\u003Eion_kraken_drive_v2.json\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSet throttle to 100%\n\u003C/li\u003E\n\u003Cli\u003E\nEngage 10.000x timewarp\n\u003C/li\u003E\n\u003Cli\u003E\nObserve that when the vessel runs out of EC, the player is not kicked out of timewarp and the vessel continues to accelerate without consuming proppelant for a while\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003ENote:\u003C/strong\u003E\u003C/span\u003E The player does get kicked out of timewarp\u00A0 eventually, after which these steps can be repeated to gain what\u0027s essentially infinite acceleration (also known as a \u0027Kraken Drive\u0027)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003ESpeculation:\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003Cbr\u003E\nIon engines have a discrepancy between the code that checks whether an engine should be consuming fuel and the code that checks if the vessel is close to running out of fuel during accelerate under timewarp. The former correctly detects the ion engine doesnt have sufficient EC and stops consuming Xenon fuel, but the latter only considers Xenon fuel levels and thus incorrectly keeps the craft in accelerate under timewarp after EC runs out. This may be related to the \u0027XenonEC\u0027 fuel type used by ion engines. The player does eventually get kicked out of timewarp; i assume this happens at the point where the game calculates the player would have run out of Xenon proppelant if it were still being consumed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EVideo Evidence:\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 src=\u0022https://www.youtube-nocookie.com/embed/F8g5jiHK1FQ?feature=oembed\u0022 title=\u0022ion kraken drive v2\u0022 width=\u0022200\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-01-12T16:43:03Z\u0022 title=\u002201/12/2024 04:43  PM\u0022 data-short=\u0022Jan 12\u0022\u003EJanuary 12\u003C/time\u003E by The Space Peacock\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BlackholeKS","CreatedById":79668,"CreatedDateTime":"2024-01-12T16:32:26Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.2.0 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Microsoft Windows 10 | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A0AMD Ryzen 7 3700X 8-Core | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0NVIDIA GeForce RTX 3070 | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E15.95\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cp\u003E\nSeverity: Mid\n\u003C/p\u003E\n\u003Cp\u003E\nFrequency: High\n\u003C/p\u003E\n\u003Cp\u003E\nAs noted in the title, When timewarping under xenon thruster acceleration, depleting vessel EC results in thrusters continuing to work while not depleting xenon, giving infinite acceleration without depleting propellant. I have confirmed this with some users in the KSP discord. Apparently this is due to an improper resource check that lacks parity between the timewarp controller and the engine resource depletion.\n\u003C/p\u003E\n\u003Cp\u003E\nI have attached a save that includes a craft that this can be done on. In my case the xenon \u003Cem\u003Edoes\u003C/em\u003E deplete, albeit too slowly, slowly as the solar panels will recharge the EC enough for both to deplete, but the same principle applies.\n\u003C/p\u003E\n\n\u003Cp\u003E\n\u003Cstrong\u003EIncluded Attachments:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/applications/core/interface/file/cfield.php?storage=form_Fields\u0026amp;path=quicksave_433.json\u0026amp;fileKey=[!AES128GCM[qR3t231aHZv3kpmp0lI2k9LQlUb19DGwsa6CIII%2BKP/E2Jt9Zedpb/qok92lSJhFXsyXe7Ly0Zkoo0VtFmpOlaegHg==][4d73245aafe8a786c58a44aa][7691e3bba8cbf775c83c26d21fb7beae]]\u0022\u003Equicksave_433.json\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cstyle type=\u0022text/css\u0022\u003E\r\n.ipsImage {\r\nwidth: 900px !important;\r\n}\u003C/style\u003E\n"},{"CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2024-01-12T16:44:49Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/79668-blackholeks/?do=hovercard\u0022 data-mentionid=\u002279668\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/79668-blackholeks/\u0022 rel=\u0022\u0022\u003E@BlackholeKS\u003C/a\u003E merged your report \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\n\u003C/p\u003E\n"}]}