{"TopicId":221834,"ForumId":144,"TopicTitle":"Docking Ports Not Docking [When Trying To Re-Dock After Undocking]","CreatedByName":"Stenner","CreatedById":231719,"CreatedDateTime":"2023-12-23T04:35:00Z","PageNum":1,"Articles":[{"CreatedByName":"Stenner","CreatedById":231719,"CreatedDateTime":"2023-12-23T04:35:00Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.2.0 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Windows 11 Pro 64-bit (10.0, Build 22631) | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A013th Gen Intel (R) Core (TM) i7-13700KF | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0NVIDIA GeForce RTX 4080 | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E32366 MB\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI accidentally submitted this somewhere else so here it is, here.\u00A0 \u00A0 You can load the save and they\u0027re touching but will not connect, nothing seems to be occluded, each part was previously attached to something and they\u0027ve been docked since, but not when they meed after rendezvous from the mun.\u00A0 any help is welcome, thanks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIncluded Attachments:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002220231222121520_1.jpg.46ded5e6a95c8073e5013409b710e22b.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022https://forum.kerbalspaceprogram.com/uploads/monthly_2023_12/20231222121520_1.jpg.46ded5e6a95c8073e5013409b710e22b.jpg\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/applications/core/interface/file/cfield.php?storage=form_Fields\u0026amp;path=OsirisMKIV.json\u0026amp;fileKey=%5B!AES128GCM%5BOg7OFBY5snoT53NtUKYWYwGTMdfegbx/XCI6NzYJIsLfzE6EHEEs1zSb9tsqZF6kiTuUU8NUkouH1iQVWMRGVw==%5D%5B468d2ab221491dd83a363a0b%5D%5B43b89c369beccf605dbcff4031bde951%5D%5D\u0022 rel=\u0022\u0022\u003EOsirisMKIV.json\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/applications/core/interface/file/cfield.php?storage=form_Fields\u0026amp;path=ksp2save.zip\u0026amp;fileKey=%5B!AES128GCM%5Bda2eW6%2BXFP/p2M6GHZjQdU6cGLjrevaSc2giqrEjADVDQEuuy/C5WWyuNjU/MyYK7yTf8ErPaGwb6KEi8A==%5D%5B09086ac93dfc19bcb791efe6%5D%5B6d6238402e6bd9ba7dcf415b4b44af67%5D%5D\u0022 rel=\u0022\u0022\u003Eksp2save.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-01-02T22:13:23Z\u0022 title=\u002201/02/2024 10:13  PM\u0022 data-short=\u0022Jan 2\u0022\u003EJanuary 2\u003C/time\u003E by The Space Peacock\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"antra","CreatedById":226356,"CreatedDateTime":"2024-01-04T21:13:11Z","Content":"\n\u003Cp\u003E\nThe problem is \u0060PartComponentModule_DockingNode\u0060 module state of the \u0060dockinport_vX_inline\u0060 part has ModuleData.DataObject.CurrentState incorrectly set to \u0022Docked\u0022 when it should be \u0022Ready\u0022. The exact cause for this is unclear, but in my testing it involved previous docking and undocking with a separately launched craft. In some circumstances undocking does not cleanly reset the CurrentState to \u0022Ready\u0022.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe immediate workaround involves editing the save file manually. Its fairly tedious, but not hard if you are comfortable with JSON. It can probably be automated in a community fix mod. The steps would be as follows:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nIdentify the two craft with difficulty docking. Note their craft names\n\u003C/li\u003E\n\u003Cli\u003E\nLocate the JSON dicts corresponding to the craft names. Search for \u0060\u0022assemblyName\u0022: \u0022your_craft_name\u0022\u0060. Optionally note the Guid.Guid in the beginning on the dict containing the AssemblyDefinition found. The guids make the dicts easier to find if you need to look them up again.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the entire craft dict to separate file. It is easier if you use something like VSCode to enable folding of JSON dicts and lists.\n\u003C/li\u003E\n\u003Cli\u003E\nIn the craft dict search for \u0060dockingport_v\u0060. This may produce multiple matches if there is more than one docking port.\n\u003C/li\u003E\n\u003Cli\u003E\nFor each docking port dict search for \u0060\u0022CurrentState\u0022:\u0060. If this dock port is showing \u0060Docked\u0060 when it shouldn\u0027t, change it to \u0060Ready\u0060. You can examine the attach points to see if there is anything attached to the \u0027top\u0027. If there is a null part with 0000 guid, that means that there is nothing attached, otherwise you will see a proper part link.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nFor resolution it would be very helpful to test various docking and undocking scenarios. One interesting case to test is the following:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nLaunch 2 crafts, craft A and craft B. Craft A should have a pair of docking ports in pre-docked configuration.\n\u003C/li\u003E\n\u003Cli\u003E\nSeparate the pre-docked dock ports in craft A after launch.\n\u003C/li\u003E\n\u003Cli\u003E\nBring in craft A and craft B to immediate vicinity and dock. Optionally conduct resource transfer, but not likely to matter.\n\u003C/li\u003E\n\u003Cli\u003E\nUndock craft A without switching control to craft B\n\u003C/li\u003E\n\u003Cli\u003E\nLeave the vicinity in craft A (so that craft B is no longer rendered or shown as a marker on HUD).\n\u003C/li\u003E\n\u003Cli\u003E\nCheck the save-file state for the CurrentState of docking port of craft B and craft A.\u00A0\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nIt is possible that the issue is related to incorrect state initialization after the craft is loaded from save file and then undocked.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-01-04T21:13:44Z\u0022 title=\u002201/04/2024 09:13  PM\u0022 data-short=\u0022Jan 4\u0022\u003EJanuary 4\u003C/time\u003E by antra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jclovis3","CreatedById":188635,"CreatedDateTime":"2024-01-07T08:48:44Z","Content":"\n\u003Cp\u003E\nI just had an occasion where the docking port\u00A0\u0022CurrentState\u0022 was \u0022Acquire_Docker\u0022 rather than Docked or Ready. Replacing it with Ready worked, just the same.\n\u003C/p\u003E\n"},{"CreatedByName":"Doyouknowkimble","CreatedById":233048,"CreatedDateTime":"2024-03-20T07:34:16Z","Content":"\n\u003Cp\u003E\nSeems this is still bugged as of writing this. I have a fix, without editing game files. Go to your action groups and group the undock command on the docking collar to a number key. Press number in game, you are now undocked........ again.\n\u003C/p\u003E\n"},{"CreatedByName":"Ezekiel","CreatedById":1447,"CreatedDateTime":"2023-12-27T19:17:32Z","Content":"\n\u003Cp\u003E\nI have the same problem with the medium size docking port not pairing with another. I would like to upload my save file but the forum is not letting me at the moment.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Elnod","CreatedById":228944,"CreatedDateTime":"2024-01-02T11:37:04Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.2.0 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Windows 10 | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A0AMD Threadripper 1920X | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0RTX 2060 and GTX 1070 Ti | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E32 GB\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cp\u003E\nI\u0027ve just encountered a situation where I docked via medium docking ports a crewed hydrogen ship with a double-2XL hydrogen fuel station around Jool, and after exploring some more of its moons (Bop and Pol) with the orbital survey, returned to the hydrogen fuel station to refuel for the trip back to Kerbin. I intercepted it successfully and pointed both docking ports at each other with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, they meet up perfectly at 0.5 - 1 m/s but the ships just bounce off each other. I\u0027ve tried accelerating again and trying to dock several more times, but it does not resolve.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI just tried reloading a save and unfortunately that doesn\u0027t fix it either.\n\u003C/p\u003E\n\n\u003Cp\u003E\n\u003Cstrong\u003EIncluded Attachments:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cstyle type=\u0022text/css\u0022\u003E\r\n.ipsImage {\r\nwidth: 900px !important;\r\n}\u003C/style\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2024-01-02T18:50:45Z","Content":"\n\u003Cp\u003E\nThis is important as plenty of people faced that:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022181989\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed8281909451\u0022 src=\u0022https://forum.kerbalspaceprogram.com/topic/222171-2-vessels-just-not-docking-perfectly-aligned-and-01ms-ksp-12?do=embed\u0022 style=\u0022height:194px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"The Space Peacock","CreatedById":224498,"CreatedDateTime":"2024-01-02T22:12:10Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/228944-elnod/?do=hovercard\u0022 data-mentionid=\u0022228944\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/228944-elnod/\u0022 rel=\u0022\u0022\u003E@Elnod\u003C/a\u003E merged your report\n\u003C/p\u003E\n\u003Cp\u003E\nalso changed the title to be a bit more clear and include a mention of undocking then trying to redock as a possible cause for this\n\u003C/p\u003E\n"},{"CreatedByName":"jclovis3","CreatedById":188635,"CreatedDateTime":"2024-01-05T07:10:54Z","Content":"\n\u003Cp\u003E\nI found this online JSON editor handy for branching down the nodes in a collapsible node tree.\u003Cbr\u003E\n\u003Ca href=\u0022https://jsonviewer.stack.hu/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://jsonviewer.stack.hu/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn my instance, I did dock with another ship to get fuel, and they use the medium size docking node, both inline. Later, I used to newly refueled ship to dock with a newly launched ship. They wouldn\u0027t dock. I checked their states in the save file and found the refueled ship to have the bad state. The online tool doesn\u0027t make editing easy so I had to go back into Wordpad and make my way down with the Find tool using the node tree as a guide for what to search for. Multiple searches brought me along the stack to the right part on the right ship.\n\u003C/p\u003E\n\u003Cp\u003E\nSome thing I think we might want to test is weather this bug occurs from using the docking port on the affected ship to undock in the previous instance, or use the docking port from the ship we previously docked with to undock and see if this decision can reliable trigger the bug. In old KSP1, you could not choose either docking port. Only one would have the undock action available.\n\u003C/p\u003E\n"},{"CreatedByName":"Ezekiel","CreatedById":1447,"CreatedDateTime":"2024-01-06T06:57:12Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/226356-antra/?do=hovercard\u0022 data-mentionid=\u0022226356\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/226356-antra/\u0022 rel=\u0022\u0022\u003E@antra\u003C/a\u003E\u00A0Thanks for the write up. Editing the save file fixed the issue for me. Seems like the state is sometimes not getting set to \u0022Ready\u0022 after things have decoupled/undocked from the node.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2024-01-07T10:54:19Z","Content":"\n\u003Cp\u003E\nI tried replicating this on Kerbin. Had two rovers docked together, undocked, drove around a bit, but had no issues docking back. (However, it caused some symmetry control issues, to be reported) There must be something else that triggers the port state switch. A situation of one, perhaps?\n\u003C/p\u003E\n"},{"CreatedByName":"rnt_hank","CreatedById":228866,"CreatedDateTime":"2024-01-08T00:44:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224356655\u0022 data-ipsquote-contentid=\u0022221834\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221704617324\u0022 data-ipsquote-userid=\u0022188635\u0022 data-ipsquote-username=\u0022jclovis3\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, jclovis3 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just had an occasion where the docking port\u00A0\u0022CurrentState\u0022 was \u0022Acquire_Docker\u0022 rather than Docked or Ready. Replacing it with Ready worked, just the same.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022LviJu90.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/LviJu90.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMy ship is saved!\u00A0 You guys are my heroes, thank you all!\u00A0 (Acquire_Docker on the refuel ship\u0027s port was the culprit)\u003Cbr\u003E\n\u003Cbr\u003E\nFor posterity, on this mission (refuel #6), while in the editor, I used a docking port from a sub-assembly to attach a heat-shield instead of grabbing a new one out of the menu bar.\u00A0 It was attached *to* the port that failed.\u00A0\u00A0 Not sure if that could be related but it\u0027s the only significant change I made for this mission.\n\u003C/p\u003E\n"},{"CreatedByName":"jclovis3","CreatedById":188635,"CreatedDateTime":"2024-01-08T04:09:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224356675\u0022 data-ipsquote-contentid=\u0022221834\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221704624859\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried replicating this on Kerbin. Had two rovers docked together, undocked, drove around a bit, but had no issues docking back. (However, it caused some symmetry control issues, to be reported) There must be something else that triggers the port state switch. A situation of one, perhaps?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou tested this by docking the same rovers twice? There is a line item in the save files for last docked part. Maybe repeating the same connection isn\u0027t going to reproduce the bug. Try docking rover A with rover B, then undock using the docking port on rover A while in control of rover A. Then dock rover A to rover C. Now repeat test by undocking A/B using the docking port on Rover B while the controlling part is still on rover A. Then Dock each with rover C one at a time and see what happens. I\u0027ve been meaning to get around to this but been busy with another mission.\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems to me, the culprit could be related to which part has control and which docking port is closest or farthest from that controlling part at the time of separation, or which part is used to cause the separation. There are at least six different combinations of this to run through.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I just ran some tests with three rovers and verified the smaller docking ports as well as the Docking Port Sr, which is what I most commonly see this bug with. In my tests between three different rovers and all combinations of controlling parts and which part was used to decouple, I could not replicate. I know this bug happens though, so we might need someone with access to the code to drill down and find it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-01-08T09:40:47Z\u0022 title=\u002201/08/2024 09:40  AM\u0022 data-short=\u0022Jan 8\u0022\u003EJanuary 8\u003C/time\u003E by jclovis3\u003C/strong\u003E\n\u003Cbr\u003EAdded results of further testing.\n\u003C/span\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2024-01-08T10:50:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224356972\u0022 data-ipsquote-contentid=\u0022221834\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221704686957\u0022 data-ipsquote-userid=\u0022188635\u0022 data-ipsquote-username=\u0022jclovis3\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, jclovis3 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou tested this by docking the same rovers twice? There is a line item in the save files for last docked part. Maybe repeating the same connection isn\u0027t going to reproduce the bug. Try docking rover A with rover B, then undock using the docking port on rover A while in control of rover A. Then dock rover A to rover C. Now repeat test by undocking A/B using the docking port on Rover B while the controlling part is still on rover A. Then Dock each with rover C one at a time and see what happens. I\u0027ve been meaning to get around to this but been busy with another mission.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe initial bug occured to me with Apollo style vehicle. Lander below the transfer stage, docked together in orbit, undocked above the Mun, landed, returned, unable to dock back. But since I couldn\u0027t replicate \u0022dock then undock then fail to dock again\u0022, there must be more to it.\n\u003C/p\u003E\n"},{"CreatedByName":"TygeR","CreatedById":181989,"CreatedDateTime":"2024-01-11T08:32:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224355558\u0022 data-ipsquote-contentid=\u0022221834\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221704402791\u0022 data-ipsquote-userid=\u0022226356\u0022 data-ipsquote-username=\u0022antra\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/4/2024 at 10:13 PM, antra said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem is \u0060PartComponentModule_DockingNode\u0060 module state of the \u0060dockinport_vX_inline\u0060 part has ModuleData.DataObject.CurrentState incorrectly set to \u0022Docked\u0022 when it should be \u0022Ready\u0022. The exact cause for this is unclear, but in my testing it involved previous docking and undocking with a separately launched craft. In some circumstances undocking does not cleanly reset the CurrentState to \u0022Ready\u0022.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe immediate workaround involves editing the save file manually. Its fairly tedious, but not hard if you are comfortable with JSON. It can probably be automated in a community fix mod. The steps would be as follows:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nIdentify the two craft with difficulty docking. Note their craft names\n\u003C/li\u003E\n\u003Cli\u003E\nLocate the JSON dicts corresponding to the craft names. Search for \u0060\u0022assemblyName\u0022: \u0022your_craft_name\u0022\u0060. Optionally note the Guid.Guid in the beginning on the dict containing the AssemblyDefinition found. The guids make the dicts easier to find if you need to look them up again.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the entire craft dict to separate file. It is easier if you use something like VSCode to enable folding of JSON dicts and lists.\n\u003C/li\u003E\n\u003Cli\u003E\nIn the craft dict search for \u0060dockingport_v\u0060. This may produce multiple matches if there is more than one docking port.\n\u003C/li\u003E\n\u003Cli\u003E\nFor each docking port dict search for \u0060\u0022CurrentState\u0022:\u0060. If this dock port is showing \u0060Docked\u0060 when it shouldn\u0027t, change it to \u0060Ready\u0060. You can examine the attach points to see if there is anything attached to the \u0027top\u0027. If there is a null part with 0000 guid, that means that there is nothing attached, otherwise you will see a proper part link.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nFor resolution it would be very helpful to test various docking and undocking scenarios. One interesting case to test is the following:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nLaunch 2 crafts, craft A and craft B. Craft A should have a pair of docking ports in pre-docked configuration.\n\u003C/li\u003E\n\u003Cli\u003E\nSeparate the pre-docked dock ports in craft A after launch.\n\u003C/li\u003E\n\u003Cli\u003E\nBring in craft A and craft B to immediate vicinity and dock. Optionally conduct resource transfer, but not likely to matter.\n\u003C/li\u003E\n\u003Cli\u003E\nUndock craft A without switching control to craft B\n\u003C/li\u003E\n\u003Cli\u003E\nLeave the vicinity in craft A (so that craft B is no longer rendered or shown as a marker on HUD).\n\u003C/li\u003E\n\u003Cli\u003E\nCheck the save-file state for the CurrentState of docking port of craft B and craft A.\u00A0\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nIt is possible that the issue is related to incorrect state initialization after the craft is loaded from save file and then undocked.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis seems to be the case in my save file as well. One of the two docking ports CurrentState lists Docked. My normal way of undocking is to right click the dock port and then select undock from the component manager. It seems that the bug causes only the state of the selected dock port to change to undocked/ready. The other docking port still remains \u0022docked\u0022.\u00A0 Basically the origin of this bug is redundancy in the craft data. As the dock state is appearent in multiple locations. This is considered bad practice and bug prone. It\u0027s sad to see that even though they restarted programming KSP2 from scratch they still have got many core failures in the way it is (sloppily) programmed.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m glad this is another bug we can work around now and hope the redundancy issue (which occurs on more than the dock port part) can be fixed.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks to antra for pointing us to this issue and workaround,\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2024-01-11T10:36:51Z","Content":"\n\u003Cp\u003E\nI have done a very similar mission like the one where I encountered the bug - but it worked (almost) flawlessly. On approach it bounced off a little but docked a second later. So not very reliable, I hope the team can get to it regardless.\n\u003C/p\u003E\n"},{"CreatedByName":"tweaked9107","CreatedById":231891,"CreatedDateTime":"2024-01-18T22:33:08Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EReported Version:\u003C/strong\u003E\u00A0v0.2.0 (latest) |\u00A0\u003Cstrong\u003EMods:\u00A0\u003C/strong\u003Enone | \u003Cstrong\u003ECan replicate without mods?\u003C/strong\u003E Yes\u00A0\u003Cbr\u003E\n\u003Cstrong\u003EOS:\u003C/strong\u003E\u00A0Windows 11 | \u003Cstrong\u003ECPU:\u003C/strong\u003E\u00A0Intel i9-9900k | \u003Cstrong\u003EGPU:\u003C/strong\u003E\u00A0NVIDIA RTX 2080 Ti | \u003Cstrong\u003ERAM\u003Cspan\u003E:\u00A0\u003C/span\u003E\u003C/strong\u003E32GB\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cp\u003E\nWith the docking clamp-senior I undock the \u0022command\u0022 module with my pilot in. The part of the rocket behind is controlled by a probe module and has a docking port both ends with the opposite end being attached to a science lab. I spin the rocket and dock back with the command module so that my kerbals in the science lab can jump out. All of this works absolutely fine.\n\u003C/p\u003E\n\u003Cp\u003E\nI then undock my command module and flip the rocket back around so that it can re-dock the opposite end with the command module. The idea being that I can then eject the science lab behind me leaving my command module attached to the return stage of my rocket. HOWEVER, when I attempt that final dock, going back to what is effectively the original position, it won\u0027t re-dock. They just bump up against each other doing a whole lot of nothing. I can change the docking force, where I\u0027m controlling from, re-load. Nothing works. Mission abort, wasted 3 hours of\u00A0 my time.\n\u003C/p\u003E\n\n\u003Cp\u003E\n\u003Cstrong\u003EIncluded Attachments:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/applications/core/interface/file/cfield.php?storage=form_Fields\u0026amp;path=OrbitalLabPrototype.json\u0026amp;fileKey=[!AES128GCM[3%2BNZ7vLWITARnN8CfIF3boaEM2HOe8iJJXKzgRi4niQ0Cmurk9XWibKkxxyqQrhjfxL4kY8KmvYEXDCUA/cW/zTz4AZsKiuHxw==][f19d64cf2bba46ae73d8e4e1][cb3f55fbefafc3404043dc4e9ec9db80]]\u0022\u003EOrbitalLabPrototype.json\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\n\u003Cstyle type=\u0022text/css\u0022\u003E\r\n.ipsImage {\r\nwidth: 900px !important;\r\n}\u003C/style\u003E\n"},{"CreatedByName":"DibzNr","CreatedById":212219,"CreatedDateTime":"2024-01-19T08:30:17Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/231891-tweaked9107/?do=hovercard\u0022 data-mentionid=\u0022231891\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/231891-tweaked9107/\u0022 rel=\u0022\u0022\u003E@tweaked9107\u003C/a\u003E\u00A0Merged your report with this post\n\u003C/p\u003E\n"},{"CreatedByName":"Schtoopid","CreatedById":166678,"CreatedDateTime":"2024-02-01T01:38:08Z","Content":"\n\u003Cp\u003E\nI\u0027m going to throw in a \u0022Me too\u0022 here.\u003Cbr\u003E\nLander and orbiter. Dock fine initially, but once the lander returns to the orbiter, it won\u0027t dock.\u003Cbr\u003E\nI\u0027ll try the json.\n\u003C/p\u003E\n"},{"CreatedByName":"HammerTyme","CreatedById":227259,"CreatedDateTime":"2024-02-01T20:46:42Z","Content":"\n\u003Cp\u003E\nI stopped playing this game a few months ago because of this one specific issue. It was unbelievably frustrating when I can\u2019t dock due to whatever bug this is. \u00A0 \u00A0I just tried playing again today thinking surely this has been fixed after 4-5 months. And it\u2019s not\u2026 \u00A0This is a huge bummer. \u00A0 I really hope the devs are aware of this issue. \u00A0I really don\u2019t understand why this hasn\u2019t been fixed yet. \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0 \u00A0I love this game and I thank the devs for creating this, but my god\u2026 it\u2019s such a downer when a bug like this hasn\u2019t been fixed yet. \u00A0 \u00A0I guess I\u2019ll check back again in a couple months. \u00A0 Sorry if I sound rude, I\u2019m just really upset and frustrated.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"EngineeringWaffle","CreatedById":218949,"CreatedDateTime":"2024-03-05T17:53:55Z","Content":"\n\u003Cp\u003E\nAlso having this issue, the JSON fix worked. Had a big mission to Jool and have had to do a lot of save file editing to make it work. Between trajectories disappearing and docking ports locking up I\u0027ve had to keep the saves folder open next to KSP because I\u0027m in there so much fixing stuff.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo be clear about what I was doing, I have a descent stage and a transit stage and was visiting all the moons of Jool. My descent stage would undock, go down to the moon surface, run experiments, take off, and then redock to the same docking port. I had this bug every time. One time both docking ports were bugged, the other time just one docking port was bugged. But the dock never worked without editing the save file.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-05T17:57:22Z\u0022 title=\u002203/05/2024 05:57  PM\u0022 data-short=\u0022Mar 5\u0022\u003EMarch 5\u003C/time\u003E by EngineeringWaffle\u003C/strong\u003E\n\u003C/span\u003E\n"}]}