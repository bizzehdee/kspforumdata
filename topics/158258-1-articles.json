{"TopicId":158258,"ForumId":29,"TopicTitle":"KSPField vs KSPEvent - externalToEVAOnly","CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-03-26T17:10:54Z","PageNum":1,"Articles":[{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-03-26T17:10:54Z","Content":"\n\u003Cp\u003E\nI have a KSPField with the\u00A0UI_ChooseOption user interface attached. Now I would really like to make it so, that it was only available on EVA. However, it turns out the KSPField does not have that feature, but\u00A0UI_ChooseOption cannot be used with KSPEvents since it will not accept a method....\n\u003C/p\u003E\n\u003Cp\u003E\nWhat can be done. I considered simply hiding the UI in flight unless I was on EVA. However, I am not sure how to do that.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nI currently have this: \u00A0 \u00A0 \u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[KSPField(guiActive = true, guiActiveEditor = true, isPersistant = true, guiName = \u0022MultiMode\u0022)]\u003Cbr\u003E\n[UI_ChooseOption(affectSymCounterparts = UI_Scene.Editor, scene = UI_Scene.All, suppressEditorShipModified = false, options = new[] { \u0022None\u0022 }, display = new[] { \u0022None\u0022 })]\u003Cbr\u003E\npublic string ChooseOption = string.Empty;\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nDoes anybody know a nice way to have the above, or something similar to be bound to EVA.\n\u003C/p\u003E\n\u003Cp\u003E\nAlternatively, can anybody advice on how to detect EVA? And which events to subscribe to to detect it.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-03-26T17:48:00Z","Content":"\n\u003Cp\u003E\nPut something into an Update\u00A0() \u00A0function that checks to see if you are EVA or not. \u00A0If so, enable it, otherwise disable it.\n\u003C/p\u003E\n\u003Cp\u003E\nLots of mods do this, just search for Events in a mod\u0027s code (events is capitolized). \u00A0On a phone now, otherwise I\u0027d post an example\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-03-26T17:52:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222998073\u0022 data-ipsquote-contentid=\u0022158258\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490550480\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPut something into an Update\u00A0() \u00A0function that checks to see if you are EVA or not. \u00A0If so, enable it, otherwise disable it.\n\u003C/p\u003E\n\u003Cp\u003E\nLots of mods do this, just search for Events in a mod\u0027s code (events is capitolized). \u00A0On a phone now, otherwise I\u0027d post an example\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks... But how do I check if I\u0027m on EVA. The states is just landed, or space etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI will go through some mods, but if you know it would be a great help. Maybe I should start with eva enhancements, it must need to do this detection.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-03-26T18:25:55Z","Content":"\n\u003Cp\u003E\nYou want to look at: \u00A0EVAEnhancementsBehaviour.cs\n\u003C/p\u003E\n\u003Cp\u003E\nAlso look at EVAParachutes\n\u003C/p\u003E\n\u003Cp\u003E\nand DangIt (it uses Events a lot)\n\u003C/p\u003E\n\u003Cp\u003E\nBut the simplest way is one of the following:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eif (FlightGlobals.ActiveVessel.vesselType == VesselType.EVA)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nor this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0if (vessel.isEVA)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-03-26T18:40:25Z","Content":"\n\u003Cp\u003E\nAhh.... Vessel type... I didn\u0027t consider that. Brilliant! Thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd thanks for the other references, I\u0027m sure they will come in handy while figuring out how best to approach implementing this thing.\n\u003C/p\u003E\n"}]}