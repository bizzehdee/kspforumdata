{"TopicId":95778,"ForumId":36,"TopicTitle":"[0.90] [DEV] Plane Mode - Swap Yaw/Roll in Flight","CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-06T00:00:22Z","PageNum":1,"Articles":[{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-06T00:00:22Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EPlane Mode\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EDevelopment\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Apokee/PlaneMode/releases\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022https://mediacru.sh/M/MtLoWguLnD-s.png\u0022 alt=\u0022MtLoWguLnD-s.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/106934\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003ERelease Thread\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is the development thread for \u003Cstrong\u003EPlane Mode\u003C/strong\u003E. For more information please see the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/106934\u0022 rel=\u0022external nofollow\u0022\u003Erelease thread\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cstrong\u003EDownload:\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\u0022https://github.com/Apokee/PlaneMode/releases\u0022 rel=\u0022external nofollow\u0022\u003Ev0.4.1\u003C/a\u003E \u003Cspan style=\u0022font-size:8px;\u0022\u003EReleased Beta\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cstrong\u003ERequires:\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219\u0022 rel=\u0022external nofollow\u0022\u003EModule Manager\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESource:\u003C/strong\u003E \u003Ca href=\u0022https://github.com/Apokee/PlaneMode\u0022 rel=\u0022external nofollow\u0022\u003EGitHub\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELicense:\u003C/strong\u003E \u003Ca href=\u0022https://github.com/Apokee/PlaneMode/blob/master/LICENSE.md\u0022 rel=\u0022external nofollow\u0022\u003EMIT/CC BY 3.0\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-29T15:11:24Z\u0022 title=\u002204/29/2015 03:11  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 29, 2015\u003C/time\u003E by zengei\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-06T00:07:00Z","Content":"\n\u003Cp\u003EVery useful, this has been one of my annoyances while using a controller \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lextacy","CreatedById":107955,"CreatedDateTime":"2015-01-06T00:23:03Z","Content":"\n\u003Cp\u003Esoooo, if im using the keyboard....I can use this mod to turn planes with just using the A \u0026amp; D key ?\u003C/p\u003E\n"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-06T00:27:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lextacy\u0022 data-cite=\u0022lextacy\u0022\u003E\u003Cdiv\u003Esoooo, if im using the keyboard....I can use this mod to turn planes with just using the A \u0026amp; D key ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, indeed.\u003C/p\u003E\n"},{"CreatedByName":"lextacy","CreatedById":107955,"CreatedDateTime":"2015-01-06T01:26:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zengei\u0022 data-cite=\u0022zengei\u0022\u003E\u003Cdiv\u003EYes, indeed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is going to make turning more easy , and fun. Was tired of the jerky hurkey way you had to turn the planes\u003C/p\u003E\n"},{"CreatedByName":"Reblet","CreatedById":64545,"CreatedDateTime":"2015-01-16T21:22:28Z","Content":"\n\u003Cp\u003EHello Zengei,\u003C/p\u003E\u003Cp\u003EYour mod is a lifesaver as my stick does not allow swapping axes in the profiler (despite having three shift modes :/).\u003C/p\u003E\u003Cp\u003EUnfortunately, I found a bug: if no control input is given either on roll or yaw in plane mode, the trims are not applied, either. The pitch indicator doesn\u0027t move either, although pitch input is in fact applied to the craft.\u003C/p\u003E\u003Cp\u003EI think the offending piece of code is in turning the autopilot on and off explicitly. If fly with the SAS off, but by setting FlightGlobals.ActiveVessel.Autopilot.Enabled = true I guess it\u0027s forced on anyway?\u003C/p\u003E\u003Cp\u003EI wonder if it is necessary to turn the autopilot on and off (and mess with SAS) in the first place? As the swapping occurs in OnPreAutopilotUpdate, it appears to me that the yaw and roll can simply be swapped and then it\u0027s up to the SAS code to figure out what to do with that (if anything)?\u003C/p\u003E\u003Cp\u003EHope it will be possible to squash this bug. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003EReblet\u003C/p\u003E\n"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-16T22:19:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Reblet\u0022 data-cite=\u0022Reblet\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYour mod is a lifesaver as my stick does not allow swapping axes in the profiler (despite having three shift modes :/).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGlad you find it useful.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Reblet\u0022 data-cite=\u0022Reblet\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EUnfortunately, I found a bug: if no control input is given either on roll or yaw in plane mode, the trims are not applied, either. The pitch indicator doesn\u0027t move either, although pitch input is in fact applied to the craft.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDrats, this has been out there suspiciously long without a bug report. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Reblet\u0022 data-cite=\u0022Reblet\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI think the offending piece of code is in turning the autopilot on and off explicitly. If fly with the SAS off, but by setting FlightGlobals.ActiveVessel.Autopilot.Enabled = true I guess it\u0027s forced on anyway?\u003C/p\u003E\u003Cp\u003EI wonder if it is necessary to turn the autopilot on and off (and mess with SAS) in the first place? As the swapping occurs in OnPreAutopilotUpdate, it appears to me that the yaw and roll can simply be swapped and then it\u0027s up to the SAS code to figure out what to do with that (if anything)?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis was in the original Aeroplane Mode code and I was suspicious of it too, but not turning them off explicitly causes the autopilot/SAS to flip out. You would think doing it in OnPreAutopilotUpdate would be rather transparent, but unfortunately it\u0027s not. I\u0027ll look into it and see if there\u0027s a better way. Thanks.\u003C/p\u003E\n"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-24T17:58:39Z","Content":"\n\u003Cp\u003ERablet,\u003C/p\u003E\u003Cp\u003EI\u0027ve pushed some changes that should fix your issues. I\u0027ve completely revamped how the switching is done now. It\u0027s simultaneously both more robust and fragile. More robust because it\u0027s effectively doing what a player what do if they changed their controls manually so it should be completely transparent to the SAS, autopilot, and other mods. More fragile because in order to do that I had to perform \u003Cem\u003Eshenanigans\u003C/em\u003E that may break between KSP versions. The tradeoff is well worth it though.\u003C/p\u003E\u003Cp\u003EYou can download a dev version \u003Ca href=\u0022https://ci.appveyor.com/api/buildjobs/iops077adhlayxgh/artifacts/Output/Package/Release/PlaneMode-0.3.0.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E (dev version is still marked v0.3.0, but it\u0027s the updated code, I swear). If it\u0027s not completely broken, I\u0027ll push this as v0.4.0.\u003C/p\u003E\n"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-01-25T16:49:26Z","Content":"\n\u003Cp\u003Ev0.4.0 published in the release thread.\u003C/p\u003E\n"},{"CreatedByName":"Reblet","CreatedById":64545,"CreatedDateTime":"2015-01-25T19:23:51Z","Content":"\n\u003Cp\u003ECheers mate!\u003C/p\u003E\u003Cp\u003EDidn\u0027t get to play KSP yesterday, but from a quick tour with 0.4.0 it seems to do exactly as promised on the tin! Trims work without a hitch now. Excellent work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EReblet\u003C/p\u003E\n"}]}