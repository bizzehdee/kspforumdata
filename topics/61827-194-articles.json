{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":194,"Articles":[{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-23T01:44:26Z","Content":"\n\u003Cp\u003E\nI have an issue with steering in kOS version 1.0 that I haven\u0027t been able to fix. \u00A0I\u0027m afraid to upgrade kOS to the latest version because I\u0027m using kOS on an install of Real Solar System and Realism Overhaul that is still using KSP 1.1.3, and I don\u0027t think the mods I\u0027m using are all update for KSP version 1.2.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, as part of my Ares mission, I\u0027ve been writing a kOS script for handling the launch. \u00A0I\u0027ve been able to write the staging and throtting commands just fine, but when it comes to steering, my rocket seems to act like a drunk man.\n\u003C/p\u003E\n\u003Cp\u003E\nMy main launch scripts can be found here:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/146593-another-voyage-ares-mission-and-a-kspers-crash-course-in-realism-overhaul/\u0026amp;do=embed\u0026amp;comment=2958572\u0026amp;embedComment=2958572\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nRight now, I\u0027m trying to test how to tell my rocket to roll 90 degrees clockwise. \u00A0I\u0027ve been using this command:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n//Execute 90-degree roll.\nSET roll to 180 - 90.\nLOCK STEERING to Up \u002B R(0,0,roll).\u003C/pre\u003E\n\u003Cp\u003E\nIt\u0027s equivalent to LOCK STEERING to Up \u002B R(0,0,90). \u00A0When the command is executed, though, my rocket oversteers by up to twice the commanded roll, so for instance, the rocket rolls from 180 to 0 and back. \u00A0I looked up the kOS documentation and got to work trying to solve the issue.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst I tried adjusting the ROLLTS and observed no change in behavior. \u00A0I tried adjusting ROLLTORQUEFACTOR and observed no change in behavior. \u00A0Then I figured that I would have to tune the Roll PID controller itself.\n\u003C/p\u003E\n\u003Cp\u003E\nI wrote a script for doing so, hoping I was measuring the correct value for tuning:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n//Saturn VB PID Tuning\n//DECLARE PARAMETER Kd.\n\nRUNPATH(\u0022AresLaunchDisplay.ks\u0022).\n\n//SET Inboard to SHIP:PARTSTAGGED(\u0022F1AInboard\u0022)[0].\nSET Outboard to SHIP:PARTSTAGGED(\u0022F1AOutboard1\u0022)[0].\nSET \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E to SHIP:PARTSTAGGED(\u0022SRB1\u0022)[0].\n\n//Possibility for roll oversteer - kOS underestimates torque available.\n\n//STEERINGMANAGER:RESETPIDS().\n//SET STEERINGMANAGER:ROLLPID:KP to 1. //Wrong parameters?\n//SET STEERINGMANAGER:ROLLPID:KI to 0.\n//SET STEERINGMANAGER:ROLLPID:KD to Kd.\nSET STEERINGMANAGER:ROLLTORQUEADJUST to -300000. //This should correct kOS\u0027s torque underestimation\n\nCLEARSCREEN.\n\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON.\nLOCK THROTTLE to 1.0.\n\nSTAGE. //F-1A ignition\n\nUNTIL (Outboard:THRUST/Outboard:MAXTHRUST) \u0026gt; 0.88 {\n  IF(Outboard:MAXTHRUST \u0026gt; 0) {  //Prevent NAN\n    LaunchDisplay(0,2,Outboard:THRUST/Outboard:MAXTHRUST,0).\n  }\n}\n\nSTAGE.  //\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E ignition and liftoff\nCLEARSCREEN.\n\nLOG \u0022Roll PID Tuning\u0022 TO Roll_Log.txt.\nLOG \u0022Kd: \u0022 \u002B STEERINGMANAGER:ROLLPID:KD TO Roll_Log.txt.\nLOG \u0022t,Roll Deviation (Kd = \u0022 \u002B STEERINGMANAGER:ROLLPID:KD \u002B\u0022)\u0022 TO Roll_Log.txt.\n\n//Execute 90-degree roll.\nSET roll to 180 - 90.\nLOCK STEERING to Up \u002B R(0,0,roll). //rotation not affected by PID settings because not cooked?\n\n//Print deviation from desired roll vs time.\nUNTIL MISSIONTIME \u0026gt; 90 {\n  SET r to (SHIP:BEARING) - (-roll \u002B 180).\n  LOG MISSIONTIME \u002B \u0022,\u0022 \u002B r TO Roll_Log.txt.\n  WAIT 0.001. //Should this wait go away?  Is it causing cooked steering to malfunction? - NO\n}\u003C/pre\u003E\n\u003Cp\u003E\nAresLaunchDisplay.ks\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n//Display program for Ares Launch program.\n\nSET State to list(\u0022Ignition Sequence Start\u0022, \u0022Liftoff\u0022, \u0022Max Q\u0022, \u0022Throttle Up\u0022, \u0022\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E Sep\u0022, \u0022Center Engine Shutdown\u0022, \u0022Staging\u0022, \u0022Stage Two Ignition\u0022, \u0022Skirt Separation\u0022, \u0022\u003Cabbr title=\u0022Launch Escape System\u0022\u003ELES\u003C/abbr\u003E Jettison\u0022, \u0022SECO\u0022).\nSET Level to list(\u002260\u0022, \u002285\u0022, \u0022100\u0022).\n\nfunction LaunchDisplay{\n\n  parameter statevariable.\n  parameter throttlelevel.\n  parameter liquidthrust.\n  parameter SRBthrust is 0.\n  \n  CLEARVECDRAWS().\n  //Set Velocity to VECDRAW(V(0,0,0),SHIP:VELOCITY:SURFACE \u002B R(0,-3,0),Blue,\u0022v\u0022,5.0,TRUE,0.3).\n  \n  //Set Prograde to VECDRAW(V(0,0,0),50*SHIP:SRFPROGRADE:VECTOR,Green,\u0022p\u0022,5.0,TRUE,0.3).\n  PRINT State[statevariable] at (0,0).\n  PRINT \u0022Throttle Setting: \u0022 \u002B Level[throttlelevel] \u002B \u0022%\u0022 at (0,1).\n  \n  IF statevariable \u0026lt;= 5 {\n    PRINT \u0022F-1A Thrust: \u0022 \u002B ROUND(liquidthrust * 100,1) \u002B \u0022%.\u0022 at (0,2).\n  } ELSE {\n    PRINT \u0022J-2S Thrust: \u0022 \u002B ROUND(liquidthrust * 100,1) \u002B \u0022%.\u0022 at (0,2).\n  }\n  \n  IF statevariable \u0026lt; 4 AND statevariable \u0026gt; 0 {\n    PRINT \u0022UA1564 Thrust: \u0022 \u002B ROUND(SRBthrust * 100,1) \u002B \u0022%.\u0022 at (0,3).\n  }\n}\u003C/pre\u003E\n\u003Cp\u003E\nThe lines for the PID parameters and declare statement are commented out here only temporarily, and I uncomment them when I need them. \u00A0I also didn\u0027t have the ROLLTORQUEADJUST line in the code when trying to tweak the PID parameters.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I went on to set KI and KD to zero and vary KP. \u00A0No value of KP changed the behavior of the roll oscillations:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg src=\u0022http://i.imgur.com/k6Z4fvT.png\u0022 alt=\u0022k6Z4fvT.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nKp was set at 2000, 1, 0.001, and 100.\n\u003C/p\u003E\n\u003Cp\u003E\nI then fixed Kp to 1 and varied Kd. \u00A0Also didn\u0027t see any real change in behavior except at bit of an amplitude variation at the end.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg src=\u0022http://i.imgur.com/1owEcUz.png\u0022 alt=\u00221owEcUz.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNext I thought that maybe my engines are gimballing too much and tried to reduce the gimbal ranges. \u00A0Again, no change in behavior. (no graph available right now).\u00A0 Finally, I thought that maybe kOS was underestimating the amount of available torque my craft had, so I set ROLLTORQUEADJUST to\u00A0300,000 kNm, which is what MechJeb said I was producing in the z-direction. \u00A0No change in behavior. \u00A0I subtracted 300,000kNm and also experienced no change in behavior. \u00A0After that, I ran out of ideas.\n\u003C/p\u003E\n\u003Cp\u003E\nI did a test with MechJeb\u0027s SmartASS and it was able to perform the 90-degree roll with almost no overshoot, so I know that it\u0027s possible for some sort of script to make the craft roll properly. \u00A0I\u0027m not sure what, and I\u0027m not even sure I\u0027m tuning the right parameters or using the right commands to steer the craft or tuning the proper PID controller.\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone has any ideas what I\u0027m doing wrong, let me know, because I don\u0027t have an idea what might be going on. \u00A0I\u0027m not really familiar with PID controllers, and this is my first time using kOS to steer a rocket, and my first time trying to tune a PID controller.\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-23T21:47:58Z","Content":"\n\u003Cp\u003E\nActually, I may have solved my own problem. \u00A0On a fluke, I set Kd to 90 and finally got a different steering behavior. \u00A0I guess my PID parameters were just too low for my rocket.\n\u003C/p\u003E\n\u003Cp\u003E\nAt worst, I\u0027ll just make my own PID loop. \u00A0I was in the process of doing that if a high Kd setting didn\u0027t work for kOS\u0027s built-in Roll PID controller.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Turns out having \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on is causing the undesired steering behavior. \u00A0I noticed \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E was off, turned it on, and the severe oscillations returned. \u00A0Therefore, I can only conclude the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E was causing issues with kOS steering.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is something I overlooked, but I\u0027m glad I found it. \u00A0I assumed that \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E wouldn\u0027t have an effect during cooked steering because of what the kOS documentation said, but maybe it still does cause some unwanted effects in v1.0.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-23T23:35:42Z\u0022 title=\u002202/23/2017 11:35  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 23, 2017\u003C/time\u003E by Nittany Tiger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-02-24T09:40:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222965743\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487886478\u0022 data-ipsquote-userid=\u0022123570\u0022 data-ipsquote-username=\u0022Nittany Tiger\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Nittany Tiger said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is something I overlooked, but I\u0027m glad I found it. \u00A0I assumed that \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E wouldn\u0027t have an effect during cooked steering because of what the kOS documentation said, but maybe it still does cause some unwanted effects in v1.0.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHaving \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E stability assist turned on when kOS has a LOCK STEERING on is still bad.\u00A0 Does the documentation claim otherwise somewhere?\u00A0 If so that needs to be changed.\n\u003C/p\u003E\n\u003Cp\u003E\n(Stability assist has logic in it to stop messing with the controls when the HUMAN does something with the controls, and not take over again until the human stops touching the controls.\u00A0 But it only does this for the human.\u00A0 It doesn\u0027t do the same thing when an autopilot is moving the controls.\u00A0 So both kOS and \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E are trying to move the controls at the same time.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-24T09:49:33Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/flight.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/commands/flight.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv style=\u0022color:rgb(64,64,64);font-family:Lato, \u0027proxima-nova\u0027, \u0027Helvetica Neue\u0027, Arial, sans-serif;font-size:16px;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(252,252,252);\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022padding:12px;line-height:24px;margin-bottom:24px;background:rgb(255,237,204);\u0022\u003E\n\u003Cp style=\u0022line-height:24px;margin:0px 0px 24px;font-size:16px;\u0022\u003E\n\u003Cstrong style=\u0022font-weight:bold;\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E OVERRIDES kOS\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022line-height:24px;margin:0px;font-size:16px;\u0022\u003E\nWith the current implementation of flight control, you may now leave\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eturned on in\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003E\u0022STABILITYASSIST\u0022\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Emode, and it will not override\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong style=\u0022font-weight:bold;\u0022\u003EkOS\u003C/strong\u003E\u2018s attempts to steer the ship. However, it will fight and/or override\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong style=\u0022font-weight:bold;\u0022\u003EkOS\u003C/strong\u003E\u2018s attempts to steer when using any other mode. In order for\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong style=\u0022font-weight:bold;\u0022\u003EkOS\u003C/strong\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eto be able to turn the ship in other modes, you need to set\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003EOFF\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eor\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003ESET\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003ESASMODE\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003ETO\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003E\u0022STABILITYASSIST\u0022\u003C/span\u003E\u003C/code\u003E. You should take care in your scripts to manage the use of\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eand\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003ESASMODE\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eappropriately. It is common for people writing\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cstrong style=\u0022font-weight:bold;\u0022\u003EkOS\u003C/strong\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Escripts to explicitly start them with a use of the\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003EOFF\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eand/or\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ccode style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;background:rgb(255,255,255);border:1px solid rgb(225,228,229);padding:2px 5px;color:rgb(231,76,60);\u0022\u003E\u003Cspan\u003ESET\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003ESASMODE\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003ETO\u003C/span\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Cspan\u003E\u0022STABILITYASSIST\u0022\u003C/span\u003E\u003C/code\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Ecommands just in case you forgot to turn it off before running the script. You could also store the current state in a temporary variable, and re-set it at the conclusion of your script.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands/flight/cooked.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(64,64,64);text-decoration:none;line-height:normal;text-align:center;font-size:16px;padding:6px 12px 8px;border:1px solid;background-color:rgb(243,246,246);font-weight:normal;font-family:Lato, \u0027proxima-nova\u0027, \u0027Helvetica Neue\u0027, Arial, sans-serif;vertical-align:middle;float:right;\u0022 title=\u0022Cooked Control\u0022\u003ENext\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/a\u003E\u003Ca href=\u0022https://ksp-kos.github.io/KOS/commands.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(64,64,64);text-decoration:none;line-height:normal;text-align:center;font-size:16px;padding:6px 12px 8px;border:1px solid;background-color:rgb(243,246,246);font-weight:normal;font-family:Lato, \u0027proxima-nova\u0027, \u0027Helvetica Neue\u0027, Arial, sans-serif;vertical-align:middle;\u0022 title=\u0022Command Reference\u0022\u003E\u003Cspan\u003E\u00A0\u003C/span\u003EPrevious\u003C/a\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0 I made a mistake in reading that you could have \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on and have it not do anything. \u00A0I was using \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E to help keep my ship pointed up to dampen any oscillations, but having it full on instead caused \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E and kOS to fight each other and produce those huge oscillations. \u00A0The belief that I could have \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on meant that I overlooked it as a problem until I reconsidered it today.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 I actually thought kOS\u0027s PID controllers were wonky, and was on the verge on writing my own. \u00A0As fun as that could have been, I\u0027m glad I found out the true cause of my issues, albeit it was a silly mistake.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 I should try \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E set to Stability Assist before I start coding the pitch maneuver since I want my ship to roll and then pitch after reaching 50 m/s, and it needs to be stable for a second or two during its ascent before the pitch and roll program are engaged.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Turns out default \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E setting was Stability Assist, so I dunno what was going on. \u00A0I\u0027m just going to leave \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E off in my code. \u00A0I could try to figure out the problem later, or possibly it\u0027s a feature post 1.0, but I can replace \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON with LOCK STEERING to Up and get the same result I want hopefully without any steering silliness.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-24T13:58:14Z\u0022 title=\u002202/24/2017 01:58  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 24, 2017\u003C/time\u003E by Nittany Tiger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"meyerweb","CreatedById":135212,"CreatedDateTime":"2017-02-24T14:54:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222966215\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487929773\u0022 data-ipsquote-userid=\u0022123570\u0022 data-ipsquote-username=\u0022Nittany Tiger\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Nittany Tiger said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTurns out default \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E setting was Stability Assist, so I dunno what was going on. \u00A0I\u0027m just going to leave \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E off in my code. \u00A0I could try to figure out the problem later, or possibly it\u0027s a feature post 1.0, but I can replace \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON with LOCK STEERING to Up and get the same result I want hopefully without any steering silliness.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u2019s more or less what I do, and it works fine, except this is what I have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Elock steering to lookdirup(heading(azimuth,90):vector, ship:facing:topvector).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI think I snarfed that from someone else\u2019s script when I was starting out, so there are probably better ways to do it.\u00A0 I\u2019m also wondering, now that I look at it again, if this would lead to disaster if I built a ship where the command module was upside down or sideways at launch\u2026\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2017-02-26T11:23:03Z","Content":"\n\u003Cp\u003E\nFound a problem with this Cooked control.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile all the indicators say the cooked control system is working, the gimbals (RD704s) are not moving (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E ON\u00A0or\u00A0OFF)\u00A0= no control ?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve gone though checking the gimbals etc.. \u00A0Anyone else have a similar problem ?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T11:24:26Z\u0022 title=\u002202/26/2017 11:24  AM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by ColKlonk2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-02-26T12:32:59Z","Content":"\n\u003Cp\u003E\nFor anyone interested, I\u0027ve updated \u003Ca href=\u0022http://spacedock.info/mod/1074/OctoSat%20Continued\u0022 rel=\u0022external nofollow\u0022\u003EOctosat\u003C/a\u003E with kOS processors added to the guidance units\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-26T18:16:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222966372\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487948058\u0022 data-ipsquote-userid=\u0022135212\u0022 data-ipsquote-username=\u0022meyerweb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/24/2017 at 9:54 AM, meyerweb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u2019s more or less what I do, and it works fine, except this is what I have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Elock steering to lookdirup(heading(azimuth,90):vector, ship:facing:topvector).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI think I snarfed that from someone else\u2019s script when I was starting out, so there are probably better ways to do it.\u00A0 I\u2019m also wondering, now that I look at it again, if this would lead to disaster if I built a ship where the command module was upside down or sideways at launch\u2026\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSince I launch vertically, and stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E holds vertical just fine, I decided to just lock steering to \u0022kill,\u0022 since that\u0027s the same as turning \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on and setting it to stability assist mode. \u00A0Maybe the statement about \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is for post 1.0 versions of kOS.Plus, using cooked steering all the way seems to work so far for my rocket guidance. \u00A0I start with LOCK STEERING to \u0022kill\u0022 until my surface velocity exceeds 50 m/s (it\u0027s all vertical velocity because it\u0027s a vertical launch), and then I command the pitch and roll by using LOCK STEERING to HEADING(90,87). \u00A0From experimentation, that seems to do what I want where the rocket pitches slightly for a gravity turn and rolls to a eastward heading. \u00A0I\u0027ll try to lock it\u00A0to prograde after the pitchover when the velocity and facing vectors are closely aligned and hopefully that will give me a good gravity turn.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFound a problem with this Cooked control.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile all the indicators say the cooked control system is working, the gimbals (RD704s) are not moving (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u00A0ON\u00A0or\u00A0OFF)\u00A0= no control ?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve gone though checking the gimbals etc.. \u00A0Anyone else have a similar problem ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs your rocket following cooked steering commands? \u00A0Is it turning or holding still like you ask even though you\u0027re not getting a visible gimbal response?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T18:23:49Z\u0022 title=\u002202/26/2017 06:23  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by Nittany Tiger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2017-02-26T18:40:41Z","Content":"\n\u003Cp\u003E\nYou can see the control action indicators moving in\u00A0the bottom left hand corner.\n\u003C/p\u003E\n\u003Cp\u003E\nWith a close up view\u00A0of the engines, the (engines) gimbals are not moving.\n\u003C/p\u003E\n\u003Cp\u003E\nThe rocket doesn\u0027t correct for heading nor pitch under Steering lock, and drifts about the vertical.. straight up.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/ad3h93UW8Xo?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T19:30:16Z\u0022 title=\u002202/26/2017 07:30  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by ColKlonk2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-26T18:43:44Z","Content":"\n\u003Cp\u003E\nI know I once experienced a bug where if I didn\u0027t activate engines through staging, they would not gimbal. \u00A0This wasn\u0027t a kOS problem, but a problem I experienced trying to activate engines through AGX. \u00A0This might just be a stock bug.\n\u003C/p\u003E\n\u003Cp\u003E\nHow are you activating your engines?\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2017-02-26T19:22:30Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t// in 2 seperate functions - global variables//\n\t//===========================================//\n\tList Parts in EngList.\n\tFor Prt in EngList\n\t{\n\t\tIf prt:TAG = \u0022Stg1_Eng1\u0022\n\t\t{\n\t\t\tSet Eng1 to prt.\n\t\t}\n\t\tIf prt:TAG = \u0022Stg1_Eng2\u0022\n\t\t{\n\t\t\tSet Eng2 to prt.\n\t\t}\n\t\tIf prt:TAG = \u0022Stg1_Eng3\u0022\n\t\t{\n\t\t\tSet Eng3 to prt.\n\t\t}\n\t\tIf prt:TAG = \u0022Stg2_Eng1\u0022\n\t\t{\n\t\t\tSet Eng4 to prt.\n\t\t}\n\t}\n//===========================================//\n\t\tIf ThisTime = 4\n\t\t{\n\t\t\tPrint \u0022Activated   \u0022 at (22,12).\n\t\t\tEng1:activate.\n\t\t\tSet Eng1:Gimbal:LOCK to FALSE.\n\t\t\tSet Eng1:Gimbal:LIMIT to 100.\n\t\t\tEng2:activate.\n\t\t\tSet Eng2:Gimbal:LOCK to FALSE.\n\t\t\tSet Eng2:Gimbal:LIMIT to 100.\n\t\t\tEng3:activate.\n\t\t\tSet Eng3:Gimbal:LOCK to FALSE.\n\t\t\tSet Eng3:Gimbal:LIMIT to 100.\n\t\t\tLock THROTTLE to 1.0.\n\t\t}\n\t\tWait 1.\n//===========================================//\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNot sure but AGX doesn\u0027t seem have and engine activate triggers this time around ??\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027ve put this into a parts list.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T19:25:17Z\u0022 title=\u002202/26/2017 07:25  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by ColKlonk2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-26T19:30:34Z","Content":"\n\u003Cp\u003E\nYeah, I think you\u0027re hitting the same bug I am where if you don\u0027t activate engines through staging but through action groups, then the engines don\u0027t gimbal. \u00A0I don\u0027t know if it\u0027s an AGX bug or a stock bug, but it\u0027s not a kOS bug. \u00A0The only way I know how to fix it is to activate your engines through staging. \u00A0I also don\u0027t know if this is a bug in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E installs or stock ones. \u00A0I think I just need to check myself where the bug is.\n\u003C/p\u003E\n\u003Cp\u003E\nIn summary, your issue is that since you\u0027re trying to turn your engines on via AGX action groups (or stock action groups), the engine gimbals don\u0027t turn on. \u00A0Currently, the only solution to that is to activate your engines through staging.\n\u003C/p\u003E\n"},{"CreatedByName":"GeKa","CreatedById":147494,"CreatedDateTime":"2017-02-26T20:32:51Z","Content":"\n\u003Cp\u003E\ncan somebody explain me why\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0set antenna to ship:partstagged(\u0022antenna\u0022).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0print antenna:modules.\n\u003C/p\u003E\n\u003Cp\u003E\ngets error \u0022suffix MODULES not found on object list of 1\u00A0items...\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-26T21:45:50Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/147494-geka/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022147494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/147494-geka/\u0022 rel=\u0022\u0022\u003E@GeKa\u003C/a\u003E\u00A0do you have any parts whose name tags are set to \u0022antenna\u0022? \u00A0SHIP:PARTSTAGGED()\u00A0doesn\u0027t look for part with \u0022antenna\u0022 in the name, but it looks for parts with their name tags set to \u0022antenna.\u0022\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T21:51:45Z\u0022 title=\u002202/26/2017 09:51  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by Nittany Tiger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GeKa","CreatedById":147494,"CreatedDateTime":"2017-02-26T22:27:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222968785\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488145550\u0022 data-ipsquote-userid=\u0022123570\u0022 data-ipsquote-username=\u0022Nittany Tiger\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n39 minutes ago, Nittany Tiger said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/147494-geka/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022147494\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/147494-geka/\u0022 rel=\u0022\u0022\u003E@GeKa\u003C/a\u003E\u00A0do you have any parts whose name tags are set to \u0022antenna\u0022? \u00A0SHIP:PARTSTAGGED()\u00A0doesn\u0027t look for part with \u0022antenna\u0022 in the name, but it looks for parts with their name tags set to \u0022antenna.\u0022\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyes, i know, the first line doesn\u0027t get error, and if after first line i type \u0022print antenna\u0022 it shows me the id and tag of it, the error appears when i try to find out the modules of the part.\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-26T22:35:15Z","Content":"\n\u003Cp\u003E\nI think the problem is that you can\u0027t use PRINT for a list, and PART:MODULES is a list. \u00A0If you want to print out the modules, use LIST antenna:modules.\n\u003C/p\u003E\n"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2017-02-26T23:50:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222968711\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488141171\u0022 data-ipsquote-userid=\u0022147494\u0022 data-ipsquote-username=\u0022GeKa\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, GeKa said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nerror \u0022suffix MODULES not found on object list of 1\u00A0items...\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ntry:\u003Cbr\u003E\nset antenna to ship:partstagged(\u0022antenna\u0022)[0].\n\u003C/p\u003E\n\u003Cp\u003E\npartstagged returns a list (of parts). You want the modules of the first element in that list.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-26T23:52:10Z\u0022 title=\u002202/26/2017 11:52  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 26, 2017\u003C/time\u003E by pellinor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2017-02-27T05:11:35Z","Content":"\n\u003Cp\u003E\n@Nittany Tiger: It seems to be a combination of staging and engine activation.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EStage.\nWait 1.\nLock THROTTLE to 1.0.\nEng4:activate.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Nittany Tiger","CreatedById":123570,"CreatedDateTime":"2017-02-27T08:47:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222969087\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488172295\u0022 data-ipsquote-userid=\u0022167493\u0022 data-ipsquote-username=\u0022ColKlonk2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, ColKlonk2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n@Nittany Tiger: It seems to be a combination of staging and engine activation.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan\u003EStage\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003EWait\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003ELock\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E THROTTLE to \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1.0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003EEng4\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eactivate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s good. \u00A0I tested engine activation with stock action groups, and the gimbal bug didn\u0027t pop up. \u00A0It must be something with AGX.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-02-27T11:37:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222964585\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487800843\u0022 data-ipsquote-userid=\u0022170346\u0022 data-ipsquote-username=\u0022podbaydoor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 02/22/2017 at 10:00 PM, podbaydoor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m trying to call the trajectory prediction functions (\u0060positionat\u0060 and \u0060velocityat\u0060) on a landed vessel to do some precision landings. I was hoping this would be a clean way to account the changing absolute position of the landed vessel as the parent body rotates. However I just get NaN vectors back. Am I doing something wrong or does \u0060positionat\u0060 not work on unloaded or landed vessels?\n\u003C/p\u003E\n\u003Cp\u003E\nIf trajectory prediction won\u0027t work here, does anyone have code for computing the position of a landed vessel in the future, accounting for rotation speed, elevation, latitude, etc?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI wouldn\u0027t expect POSITIONAT to work for anything landed. Landed vessels have an orbital velocity based on the body\u0027s rotation, but their trajectory does not follow the Keplerian orbit that corresponds to this velocity (e.g. a 175m/s orbital velocity at Kerbin\u0027s equator corresponds roughly to a 0m by -598500m orbit, but the vessel can\u0027t fall through the planet towards periapsis). For the same reasons, VELOCITYAT is likely not to predict their future velocity.\n\u003C/p\u003E\n\u003Cp\u003E\nAt least body rotation is predictable. Can you rotate the landed craft\u0027s current position vector (converted to be from the body\u0027s centre to the craft) around the body\u0027s axis of rotation by the angle the body will rotate over the time that will elapse? That could then be converted back to be relative to the active vessel. I\u0027ve not done any accurate landings yet, so I don\u0027t really have anything useful to share, I\u0027m afraid.\n\u003C/p\u003E\n"},{"CreatedByName":"GeKa","CreatedById":147494,"CreatedDateTime":"2017-02-27T12:59:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222968889\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488153057\u0022 data-ipsquote-userid=\u002285299\u0022 data-ipsquote-username=\u0022pellinor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, pellinor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ntry:\u003Cbr\u003E\nset antenna to ship:partstagged(\u0022antenna\u0022)[0].\n\u003C/p\u003E\n\u003Cp\u003E\npartstagged returns a list (of parts). You want the modules of the first element in that list.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthank you a lot, that works. But i don\u0027t understand, year earlier i did it without this [0] and it works and also it shows whether the module is string or not.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-27T13:05:03Z\u0022 title=\u002202/27/2017 01:05  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 27, 2017\u003C/time\u003E by GeKa\u003C/strong\u003E\n\u003Cbr\u003Enew information\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-02-27T22:45:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222969311\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488200374\u0022 data-ipsquote-userid=\u0022147494\u0022 data-ipsquote-username=\u0022GeKa\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, GeKa said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthank you a lot, that works. But i don\u0027t understand, year earlier i did it without this [0] and it works and also it shows whether the module is string or not.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAre you sure this used to work?\u00A0 I think it only worked on a pre-release not public version nobody should have seen.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason for the [0] is that there can be more than one part with the same name.\u00A0 PartsTagged returns a list of hits.\u00A0 That also allows it to return a list of zero things as a way to communicate that there were no such parts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"danielboro","CreatedById":166078,"CreatedDateTime":"2017-02-28T14:49:34Z","Content":"\n\u003Cp\u003E\nhow do i find/calc the lift force of wings in an aircraft?\n\u003C/p\u003E\n"},{"CreatedByName":"stargateat77","CreatedById":175465,"CreatedDateTime":"2017-03-02T11:43:27Z","Content":"\n\u003Cp\u003E\nHey guys, I have a problem with my second ever script. \u00A0It is intended to launch a rocket, circularize in \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E, perform scientific experiments and recover the capsule. I dont know why, but all of a sudden kOS seems to restart when my ship reaches about 75km. The Terminal Window just \u0022reboots\u0022, showing the exact same data it does when starting up on the launchpad. Does anybody have a clue why this happens? Or did someone have a similar problem?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks so much for your help!\n\u003C/p\u003E\n\u003Cp\u003E\nFinn\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n//Test01 REMASTERED \n//Goal: Launch a Capsule into Orbit, perform experiments and return home safely.\n\n//Set the ship to a known configuration\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E off.\n\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E on.\nlights on.\nlock throttle to 0. //Throttle is a decimal from 0.0 to 1.0\ngear off.\nset fuel to 0.\n\nclearscreen.\n\nset targetApoapsis to 80000. //Target apoapsis in meters\nset targetPeriapsis to 80000. //Target periapsis in meters\n\nset runmode to 2. //Safety in case we start mid-flight\nif ALT:RADAR \u0026lt; 100 { //Guess if we are waiting for take off\n    set runmode to 1.\n    }\n\nprint \u0022Initating launch sequence.\u0022.\nwait 1.\nprint \u0022T-3 to Engine Ignition.\u0022.\nwait 1.\nprint \u0022T-2\u0022.\nwait 1.\nprint \u0022T-1\u0022.\nwait 1.\nprint \u0022Lift off!\u0022.\n\nuntil runmode = 0 { //Run until we end the program\n\n    if runmode = 1 { //Ship is on the launchpad\n        lock steering to UP.  //Point the rocket straight up\n        set TVAL to 1.        //Throttle up to 100%\n        stage.                //Same thing as pressing Space-bar\n        set runmode to 2.     //Go to the next runmode\n    }\n\n    else if runmode = 2 { // Fly UP to 10,000m\n        lock steering to heading (90,90). //Straight up.\n        set TVAL to 1.\n        if SHIP:ALTITUDE \u0026gt; 10000 { \n            //Once altitude is higher than 10km, go to Gravity Turn mode\n            set runmode to 3.\n        }\n    }\n\n    else if runmode = 3 { //Gravity turn\n        set targetPitch to max( 5, 90 * (1 - ALT:RADAR / 50000)).  //Pitch over gradually until levelling out to 5 degrees at 50km\n        lock steering to heading ( 90, targetPitch). //Heading 90\u0027 (East), then target pitch\n        set TVAL to 1.\n\t\tif SHIP:APOAPSIS \u0026gt; targetApoapsis {\n            set runmode to 4.\n        }\n    }\n    \n    else if runmode = 4 { //Coast to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\n        lock steering to heading ( 90, 3). //Stay pointing 3 degrees above horizon\n        set TVAL to 0. //Engines off.\n       \tset runmode to 5.\n    }\n\n    else if runmode = 5 { //Burn to raise Periapsis\n        if (ETA:APOAPSIS \u0026lt; 15) or (VERTICALSPEED \u0026lt; 0) { //If we\u0027re less then 15 seconds from \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E or loosing altitude\n            set TVAL to 1.\n        }\n        if (SHIP:PERIAPSIS \u0026gt; targetPeriapsis) or (SHIP:PERIAPSIS \u0026gt; targetApoapsis * 0.95) {\n            //If the periapsis is high enough or getting close to the apoapsis\n            set TVAL to 0.\n            set runmode to 6.\n        }\n    }\n\n    else if runmode = 6 { //Final touches\n        set TVAL to 0. //Shutdown engine.\n        panels on.     //Deploy solar panels\n        lights on.\n        unlock steering.\n        print \u0022Stable Orbit around Kerbin reached.\u0022.\n        wait 6.\n        print \u0022Beginning scientific Experiments.\u0022.\n        wait 1.\n        toggle ag1.\n        wait 6.\n        print \u0022All data collected!\u0022.\n        toggle ag2.\n        set runmode to 7.\n    }\n\n    else if runmode = 7 { //Wait for the ship to reach Apoapsis\n       if ETA:APOAPSIS \u0026lt; 10{\n    \t\tset WARP to 0.\n       \t\twait 2.\n       \t\tlock steering to retrograde.\n       \t\twait 3.\n       \t\tuntil SHIP:PERIAPSIS \u0026lt; 28000{\n       \t\t\t\tlock throttle to 1.\n       \t\t}\n       \t}\n       \tlock throttle to 0.\n       \tset runmode to 8.\n    }\n\n    else if runmode = 8{\n       \t\tif ALT:RADAR \u0026lt; 80000 {\n       \t\t\tstage.\n       \t\t\tset runmode to 9.\n       \t\t}\n    }\n\n    else if runmode = 9{\n    \tif ALT:RADAR \u0026lt; 4500 {\n    \t\tstage.\n    \t\tunlock steering.\n    \t\tset runmode to 10.\n    \t}\n    }\n\n    else if runmode = 10{\n    \tif ALT:RADAR \u0026lt; 2500 {\n    \t\tstage.\n    \t\tset runmode to 0.\n    \t}\n    }\n\n    //Housekeeping\n    if stage:Liquidfuel \u0026lt; 1 and fuel \u0026lt; 2 { //Stage if the stage is out of fuel\n        lock throttle to 0.\n        wait 2.\n        stage.\n        set fuel to fuel\u002B1.\n        wait 3.\n        lock throttle to TVAL.\n    }\n\n    set finalTVAL to TVAL.\n    lock throttle to finalTVAL. //Write our planned throttle to the physical throttle\n    \n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MrabEzreb","CreatedById":120473,"CreatedDateTime":"2017-03-02T16:18:24Z","Content":"\n\u003Cp\u003E\n(I use remote tech) If I have crew on the vessel, giving the vessel local control, kOS tells me I have no signal, and I can\u0027t do anything! Why is this happening!\n\u003C/p\u003E\n"}]}