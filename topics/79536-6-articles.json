{"TopicId":79536,"ForumId":36,"TopicTitle":"[Early development, 0.24] Kopernicus Planetary System Modifier","CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2014-07-25T22:31:54Z","PageNum":6,"Articles":[{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-03T04:48:22Z","Content":"\n\u003Cp\u003EOoh, pretty ocean. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-03T09:57:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022VonFrank\u0022 data-cite=\u0022VonFrank\u0022\u003E\u003Cdiv\u003ELooks awesome! \u003Cp\u003EI\u0027m assuming you can modify the water colour as well?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnything that can be configured we will try our best to provide configuration options for. As far as water goes, we know of options (from the shader at least) for color, opacity, color from space, specular color, and specular power. The planets have even more options, such as textures for different situations, like steepness, altitude, latitude, etc. Most of the stock worlds don\u0027t actually use a color map texture, but rather a procedural blend of tiled textures.\u003C/p\u003E\n"},{"CreatedByName":"braininator","CreatedById":78003,"CreatedDateTime":"2014-08-03T13:43:18Z","Content":"\n\u003Cp\u003EWow that looks amazing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EOnce everything is done and you have the cfg system do you plan on documenting all the different variables exposed in the cfg? I know planets are more documented then when PF was released, but documentation would still be appreciated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso my dad helped me program a java program that formated PF CE cfgs. If you can get me an early blank CFG file (with all variables put in there... but blank...) Dad and I can probably adapt it for this purpose.\u003C/p\u003E\n"},{"CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2014-08-03T13:44:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022braininator\u0022 data-cite=\u0022braininator\u0022\u003E\u003Cdiv\u003EWow that looks amazing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EOnce everything is done and you have the cfg system do you plan on documenting all the different variables exposed in the cfg? I know planets are more documented then when PF was released, but documentation would still be appreciated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso my dad helped me program a java program that formated PF CE cfgs. If you can get me an early blank CFG file (with all variables put in there... but blank...) Dad and I can probably adapt it for this purpose.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe were just talking yesterday about making a documentation wiki yesterday. It does seem like an important practical aspect of the project...\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-03T17:34:21Z","Content":"\n\u003Cp\u003EWe were also talking about documenting some of KSP\u0027s internal structure, considering how much of a pain it has been to get a lot of this working. All the variables in odd places, the magic render layers etc.\u003C/p\u003E\n"},{"CreatedByName":"antgeth","CreatedById":96275,"CreatedDateTime":"2014-08-03T18:21:32Z","Content":"\n\u003Cp\u003Ejust wanted to pop in to say that what you guys are doing is amazing; i wait with bated breath. i hope that once this is released it gets the attention of some really good planet designers. for me, one of the biggest downfalls of PF was that so many of the planet packs added very little new content; just more same-size gas giants with rocky moons. hopefully the fact that now planets will need to be designed from scratch will force more creativity.\u003C/p\u003E\u003Cp\u003E(i am, however, a bit concerned that the MET in that screenshot up there seems to have a negative value!)\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-03T20:52:07Z","Content":"\n\u003Cp\u003EYeah, hyperedit is a hell of a thing. I didn\u0027t realize it was negative until after I posted the screenshot.\u003C/p\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-03T22:52:14Z","Content":"\n\u003Cp\u003EA bit of feedback from the pre-alpha u sent me. \u003C/p\u003E\u003Cp\u003ELaythe\u0027s Atmo might be a bit of an exaggeration, it has no o2. ;P\u003C/p\u003E\u003Cp\u003EThe visible terrain doesn\u0027t seem to line up quite right with the actual collision mesh when trying to glide down a plane, i sink about 3m under the visible surface before instantly blowing up regardless of having gear down. (Rocket vertical landing works fine and the terrain mesh is correct)\u003C/p\u003E\u003Cp\u003EThe time control \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/69363-0-24-2-Time-Control-7-27-14-v12-1-HyperWarp-oodles-of-other-new-features\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/69363-0-24-2-Time-Control-7-27-14-v12-1-HyperWarp-oodles-of-other-new-features\u003C/a\u003E mod doesn\u0027t appear to work on Kopernicus, but dynamic warp does so I\u0027m not sure where that fault lies.\u003C/p\u003E\u003Cp\u003EIt seems like a ship exploding on the surface creates a bit more lag than normal? But hat could just be me)\u003C/p\u003E\u003Cp\u003EParachutes react as if the terrain were all at 0m absolute rather than to actual terrain level. (So they won\u0027t deploy until you are at their deploy range from sea level)\u003C/p\u003E\u003Cp\u003EKerbal Engineer can\u0027t read the slope angles until you are just barely over the terrain. (it does read altitude to terrain correctly even though parachutes don\u0027t)\u003C/p\u003E\u003Cp\u003EThe texture subdivision lines are quite noticeable and frequent on the surface, it looks like a checkerboard of 5x5 dotted white outline when viewed from a camera angle close to the terrain.\u003C/p\u003E\u003Cp\u003EAll that said, it handles map view much better than planet factory ever did, and exhibits none of the bouncing off the orbit or hyperedit issues that plagues PF (especially the CE version) You guys have done an amazing job so far, and I look forward to continuing to toss you guys feedback.\u003C/p\u003E\n"},{"CreatedByName":"braininator","CreatedById":78003,"CreatedDateTime":"2014-08-03T22:58:35Z","Content":"\n\u003Cp\u003EI am unsure what you put hte radius to be, however, in Kittoptech, PF, PF CE, and possibly also RSS that the radius of a planet only has so much accuracy to the number. IIRC it was about 2 significant figures. This also had the standard issue of the terrain not meeting the mesh in each of them...prompting me to believe it is in the core game. HTH \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-03T23:05:43Z","Content":"\n\u003Cp\u003EI think I may know why the time control mod isn\u0027t working. It hard codes the standard warp altitudes for all the bodies. See \u003Ca href=\u0022https://github.com/Xaiier/TimeControl/blob/master/TimeControl/TimeControlSettings.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Xaiier/TimeControl/blob/master/TimeControl/TimeControlSettings.cs\u003C/a\u003E and note the \u0022public static string[,] standardAltitudeLimits = \u0022 variable has as many hard coded values as worlds. I may change that to a dynamic lookup and submit a pull request.\u003C/p\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-03T23:10:19Z","Content":"\n\u003Cp\u003EI got to thinking, I dont think the terrain thing is a \u0022terrain scale\u0022 issue at all. Rather I\u0027m thinking that maybe the airplane landing gear just aren\u0027t interacting with the terrain at all. The height is just about right for the collision to be happening when the rest of the plane interacts. I\u0027ll do a bit more testing, but I have a theory for the cause.\u003C/p\u003E\u003Cp\u003EEdit: Nope, it\u0027s not that. i dropped the landing gear straight down and they worked fine. Will do some more testing.\u003C/p\u003E\u003Cp\u003EEdit 2: So it\u0027s not landing gear specific. Rather it has to do with when you\u0027re ship rolls from one ground \u0027tile\u0027 so to speak to another. Collision is not rendered with the terrain on the second tile. I\u0027ve confirmed this with plane and rover wheels so far. Going to try a Kerbal next.\u003C/p\u003E\u003Cp\u003EEdit 3: On foot works the same. Furthermore, if you make a complete stop every 70 meters or so you\u0027re good. But if you go somewhere between 70 and 85 meters (it tends to vary) in a single direction you\u0027ll fall through the world and explode immediately. (Also of note the planet is extremely \u0022grabby\u0022 meaning it\u0027s basically impossible to slide an I-beam/metal plate across the surface compared to on Kerbin)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-03T23:52:11Z\u0022 title=\u002208/03/2014 11:52  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 3, 2014\u003C/time\u003E by Yargnit\u003C/strong\u003E\n\u003Cbr\u003EUpdate\n\u003C/span\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-04T01:42:17Z","Content":"\n\u003Cp\u003EInteresting. I\u0027ve just confirmed the bug with the airplane (I added oxygen) and the rover. Very interesting - and confusing. I\u0027ve have a couple of theories.\u003C/p\u003E\u003Cp\u003E1) I may have goofed the physics material for the surface. This certainly describes the \u0022grabby\u0022 aspect, as the physics material used it from Dres, which probably is made more grabby to help land in the vacuum.\u003C/p\u003E\u003Cp\u003E2) The \u0022maxLevelAtCurrentTgtSpeed\u0022 and \u0022maxQuadLengthPerFrame\u0022 variables might cause the terrain to not update rapidly enough at speed. I currently have quad lengths per frame set a lot lower than stock because of something I saw in RSS, but, as the tiles are larger there, this could be having adverse effects.\u003C/p\u003E\u003Cp\u003E3) The build I sent you has experimental detail presets. This might describe the lag, as Kopernicus uses a detail preset 4x greater than the \u0022high\u0022 setting for the rest of the planets (more subdivision, this might explain the fracturing of the terrain textures).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T02:20:05Z\u0022 title=\u002208/04/2014 02:20  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Teknoman117\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-04T01:53:11Z","Content":"\n\u003Cp\u003EWell the \u0022speed\u0022 doesn\u0027t appear to matter. it can be a plane landing at 50\u002B m/s, or a Kerbal waddling at non-running speed. All that appears to matter is if you come to a full stop before u move far enough to fall off the current ground tile you\u0027re on. I\u0027m currently flying out there without Hyperedit to confirm that nothing I was seeing was Hyperedit related, though I don\u0027t expect it was.\u003C/p\u003E\u003Cp\u003EEdit: Confirmed ground glitch is the same when not using Hyperedit\u003C/p\u003E\u003Cp\u003EEdit 2: And quickloading that lander I lost the ability to click the EVA or the ladder to extend it. When I went to the tracking station and back to it the entire thing exploded and shot into the air. Note I was landed on quite the slope.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T02:10:34Z\u0022 title=\u002208/04/2014 02:10  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Yargnit\u003C/strong\u003E\n\u003Cbr\u003EConfirmed\n\u003C/span\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-04T02:19:33Z","Content":"\n\u003Cp\u003ETerrain bug fixed (at least reduced? \u0022Fixed\u0022 makes a claim which I can\u0027t truly know the answer to)\u003C/p\u003E\u003Cp\u003EA combination of theory #2 and theory #3 were the answer. As you increase the maximum LOD level, you must increase quadLengthsPerFrame. Essentially, I bumped up quadLengthsPerFrame and my rover no longer fell through the ground at high speeds, but the plane still crashed. I dropped the maxLevel and the plane lands properly.\u003C/p\u003E\u003Cp\u003EWhy the speed matters is that the game is generating tiles at a slower rate than you are moving over them. Eventually, you just get past the computed physics zone. This is fixed in the latest commit and I\u0027ll send you a new build. As it turns out, I discovered a bug with time warp. When coming out of it the planet would reverse along its orbit... UpdateOrbit() is no longer safe to call during PQS creation now that we are a true prefab. The removal of this fixed time warp.\u003C/p\u003E\u003Cp\u003EI just checked out Kerbal Engineer\u0027s source code. Its got the same issue as the time warp mod. All the worlds in the mod are hard coded. After I figure out the terrain bug, I\u0027ll play around with them and see if I can modify them to work.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/CYBUTEK/Engineer/blob/master/Engineer/CelestialBodies.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/CYBUTEK/Engineer/blob/master/Engineer/CelestialBodies.cs\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T02:23:59Z\u0022 title=\u002208/04/2014 02:23  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Teknoman117\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-04T02:25:11Z","Content":"\n\u003Cp\u003EAnything with the parachutes only detecting absolute sea level as opposed to relative ground level? (Not sure if u missed that part)\u003C/p\u003E\u003Cp\u003EThat\u0027s actually funny, I hadn\u0027t noticed any issues with time warp myself.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T02:31:33Z\u0022 title=\u002208/04/2014 02:31  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Yargnit\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-04T02:42:26Z","Content":"\n\u003Cp\u003EMaybe something I did fixed it, but i didn\u0027t address it directly. Just did a test, and a drogue \u0027chute set to deploy at 2500m deployed at 3100m ASL over terrain. Do you have RealChutes installed? It might be messing with things. Like the two other mods you use won\u0027t be compatible without modification to them.\u003C/p\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-04T02:51:00Z","Content":"\n\u003Cp\u003ENegative, no real chutes here. \u003C/p\u003E\u003Cp\u003EFull mod list atm:\u003C/p\u003E\u003Cp\u003EEditor Extensions\u003C/p\u003E\u003Cp\u003EKerbal Engineer\u003C/p\u003E\u003Cp\u003EHyperedit\u003C/p\u003E\u003Cp\u003EDynamic Warp\u003C/p\u003E\u003Cp\u003EModule Manager\u003C/p\u003E\u003Cp\u003E\u0026amp; Kopernicus\u003C/p\u003E\u003Cp\u003ERunning the 32bit version of KSP, haven\u0027t tried it on x64 yet.\u003C/p\u003E\u003Cp\u003EBTW if you\u0027d like to add me on Skype for easier feedback/conversation feel free. Same name as the forums.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T02:54:23Z\u0022 title=\u002208/04/2014 02:54  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Yargnit\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-08-04T03:54:23Z","Content":"\n\u003Cp\u003EmaxQuadLenghtsPerFrame is actually a divisor (and the typo is correct). The lower the value, the higher the number of quads that can be shown per frame. A value of 0 means to not cap them at all (and makes timewarp essentially impossiblly chuggy with a PQS displayed).\u003C/p\u003E\n"},{"CreatedByName":"Yargnit","CreatedById":57535,"CreatedDateTime":"2014-08-04T05:56:07Z","Content":"\n\u003Cp\u003ESo Tek got the terrain bugs all sorted out. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I\u0027ve tested x32 and x64, both work well. I also did a science test mission and science reports properly including the repository. It\u0027s looking really good all around here, you guys have done an amazing job.\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-04T06:11:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EmaxQuadLenghtsPerFrame is actually a divisor (and the typo is correct). The lower the value, the higher the number of quads that can be shown per frame. A value of 0 means to not cap them at all (and makes timewarp essentially impossiblly chuggy with a PQS displayed).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm. Well, I think I may have discovered the initial problem as a side effect of the other issues (such as Kerbal Engineer). Even with the quad length set at 0.001f as it is in RSS, if the maxLevel is too high (had it set at 14), something broke about ray casting. This is probably why physics glitched out as well. And why the PQ nodes weren\u0027t showing up in the debug log....\u003C/p\u003E\n"},{"CreatedByName":"Teknoman117","CreatedById":53200,"CreatedDateTime":"2014-08-04T06:13:58Z","Content":"\n\u003Cp\u003EI\u0027ve written a patch for Kerbal Engineer that allows it to provide VAB and SPH flight stats for custom worlds. The patch finds planets dynamically, so any planets you may set up or any planets Squad may add in the future would be discovered.\u003C/p\u003E\u003Cp\u003EHopefully they accept my pull request.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/CYBUTEK/Engineer/pull/11\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/CYBUTEK/Engineer/pull/11\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve gone back and patched the *current* branch of Kerbal Engineer (missed the big 1.0.x release banner. I need to sleep more...)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/CYBUTEK/KerbalEngineer/pull/2\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/CYBUTEK/KerbalEngineer/pull/2\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/8061287/Kopernicus/Screenshot.2014.08_04_15.29.24.small.png\u0022 alt=\u0022Screenshot.2014.08_04_15.29.24.small.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T22:32:55Z\u0022 title=\u002208/04/2014 10:32  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Teknoman117\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-08-04T07:06:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Teknoman117\u0022 data-cite=\u0022Teknoman117\u0022\u003E\u003Cdiv\u003EI\u0027ve written a patch for Kerbal Engineer that allows it to provide VAB and SPH flight stats for custom worlds. The patch finds planets dynamically, so any planets you may set up or any planets Squad may add in the future would be discovered.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you (or anyone else) do the same for MJ?\u003C/p\u003E\n"},{"CreatedByName":"aftokinito","CreatedById":66811,"CreatedDateTime":"2014-08-04T08:23:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022biohazard15\u0022 data-cite=\u0022biohazard15\u0022\u003E\u003Cdiv\u003ECan you (or anyone else) do the same for MJ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMJ detects planets dynamically as it is based on manual targetting.\u003C/p\u003E\u003Cp\u003EThe only thing that does not work dynamically, afaik, is the DeltaV stats window.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-08-04T10:05:33Z","Content":"\n\u003Cp\u003ELove what you\u0027ve done with this so far.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Yargnit\u0022 data-cite=\u0022Yargnit\u0022\u003E\u003Cdiv\u003EKerbal Engineer can\u0027t read the slope angles until you are just barely over the terrain. (it does read altitude to terrain correctly even though parachutes don\u0027t)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wrote the slope detection in KER and it simply uses a RayCast so that it can get the actual surface normal:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (Physics.Raycast(vessel.CoM, -rad, out hit, Mathf.Infinity, 1 \u0026lt;\u0026lt; 15))  // Just \u0022Local Scenery\u0022 please\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E...but I suspect that the layer mask may need some tweaking. Originally, it didn\u0027t use a mask at all and it sometimes hit the vessel but I didn\u0027t exactly do a lot of research to come up with 1\u0026lt;\u0026lt;15, just looked at a list of layers somewhere on the forum, tried 1\u0026lt;\u0026lt;15 and it seemed to work in the situations I knew of that were broken. It usually works up to a considerable altitude but I presume this simply depends on when the PQS decides to start generating polygons...\u003C/p\u003E\u003Cp\u003EAs for the altitude to terrain, this uses:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Evessel.mainBody.GetAltitude(vessel.CoM) - vessel.terrainAltitude\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is some \u0022TERRAINTEST\u0022 conditional code in KER 0.6.x.x that displays various extra readouts for terrain height related stuff. Building a version that includes this code may help to give insight into what is going on.\u003C/p\u003E\u003Cp\u003EEdit: Doh! I should\u0027ve read to the end of the thread first, I see you\u0027ve already worked most, if not all, of this out...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-04T10:15:14Z\u0022 title=\u002208/04/2014 10:15  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 4, 2014\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Megalodon 720","CreatedById":108146,"CreatedDateTime":"2014-08-04T13:49:11Z","Content":"\n\u003Cp\u003EIs this available for download yet?\u003C/p\u003E\n"}]}