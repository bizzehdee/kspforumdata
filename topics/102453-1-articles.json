{"TopicId":102453,"ForumId":16,"TopicTitle":"Help with Math and atmospheric pressure","CreatedByName":"pizzaboy150","CreatedById":90315,"CreatedDateTime":"2015-03-22T12:43:02Z","PageNum":1,"Articles":[{"CreatedByName":"pizzaboy150","CreatedById":90315,"CreatedDateTime":"2015-03-22T12:43:02Z","Content":"Hi Everyone,\n\nI wonder if anyone can help me calculate pressure as I am doing it wrong but cannot figure out why?\n\np = p0 \\* e \\* -(alt/scale) ...\n\np0 = 1 atm at at sea level\n\ne = 2.718281828 base of natural logarithm\n\nalt = 10 km pressure I am trying to find\n\nscale = 5km scale height for kerbin\n\nso..\n\np = 1 \\* 2.718281828 \\* -(10,000 / 5000)\n\n= -5.436563656\n\nI was expecting a value between 1 and 0?\n\nMy math isn\u0027t great though I am trying!\n\nAny help most appreciated!"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-03-22T13:04:56Z","Content":"\u003E \n\u003E Hi Everyone,\n\u003E I wonder if anyone can help me calculate pressure as I am doing it wrong but cannot figure out why?\n\u003E \n\u003E p = p0 \\* e \\* -(alt/scale) ...\n\u003E \n\u003E p0 = 1 atm at at sea level\n\u003E \n\u003E e = 2.718281828 base of natural logarithm\n\u003E \n\u003E alt = 10 km pressure I am trying to find\n\u003E \n\u003E scale = 5km scale height for kerbin\n\u003E \n\u003E so..\n\u003E \n\u003E p = 1 \\* 2.718281828 \\* -(10,000 / 5000)\n\u003E \n\u003E = -5.436563656\n\u003E \n\u003E I was expecting a value between 1 and 0?\n\u003E \n\u003E My math isn\u0027t great though I am trying!\n\u003E \n\u003E Any help most appreciated!\n\nLooks to me like everything\u0027s in order except for one thing: e should be raised to the power of (neg altitude/scale height), not multiplied by it.\n\ne^(-10k/5k)= e^-2 = .135.\n\nBest,\n\n-Slashy"},{"CreatedByName":"pizzaboy150","CreatedById":90315,"CreatedDateTime":"2015-03-22T13:20:14Z","Content":"Your a hero slashy need to take more care with the format of the equation just assumed i had to multiply never even though about raising to the power!\n\nThank you!!!"},{"CreatedByName":"pizzaboy150","CreatedById":90315,"CreatedDateTime":"2015-03-22T13:36:40Z","Content":"Well I just smashed the correct formula into a simple python script to check the output up to 70km and now have an error at around 47km...\n\n\u003E \n\u003E Alt : 0 1.0\n\u003E \n\u003E Alt : 1 0.8187307531056343\n\u003E \n\u003E Alt : 2 0.670320046080919\n\u003E \n\u003E Alt : 3 0.5488116361496342\n\u003E \n\u003E Alt : 4 0.44932896417792534\n\u003E \n\u003E Alt : 5 0.36787944123356736\n\u003E \n\u003E Alt : 6 0.30119421197323853\n\u003E \n\u003E Alt : 7 0.24659696399990763\n\u003E \n\u003E Alt : 8 0.2018965180492073\n\u003E \n\u003E Alt : 9 0.16529888827183278\n\u003E \n\u003E Alt : 10 0.13533528328232175\n\u003E \n\u003E Alt : 11 0.11080315840349961\n\u003E \n\u003E Alt : 12 0.09071795332618014\n\u003E \n\u003E Alt : 13 0.07427357824694523\n\u003E \n\u003E Alt : 14 0.060810062653971736\n\u003E \n\u003E Alt : 15 0.049787068393087074\n\u003E \n\u003E Alt : 16 0.04076220400039389\n\u003E \n\u003E Alt : 17 0.033373269979487995\n\u003E \n\u003E Alt : 18 0.027323722463903855\n\u003E \n\u003E Alt : 19 0.022370771870521344\n\u003E \n\u003E Alt : 20 0.018315638901106275\n\u003E \n\u003E Alt : 21 0.014995576831113588\n\u003E \n\u003E Alt : 22 0.012277339912191026\n\u003E \n\u003E Alt : 23 0.010051835752442027\n\u003E \n\u003E Alt : 24 0.008229747055690998\n\u003E \n\u003E Alt : 25 0.006737947004774766\n\u003E \n\u003E Alt : 26 0.005516564425605095\n\u003E \n\u003E Alt : 27 0.0045165809467314095\n\u003E \n\u003E Alt : 28 0.003697863719979968\n\u003E \n\u003E Alt : 29 0.0030275547483412006\n\u003E \n\u003E Alt : 30 0.0024787521791779297\n\u003E \n\u003E Alt : 31 0.002029430638420578\n\u003E \n\u003E Alt : 32 0.0016615572749697277\n\u003E \n\u003E Alt : 33 0.0013603680390641114\n\u003E \n\u003E Alt : 34 0.0011137751491237945\n\u003E \n\u003E Alt : 35 0.0009118819666324642\n\u003E \n\u003E Alt : 36 0.0007465858092844442\n\u003E \n\u003E Alt : 37 0.0006112527618934322\n\u003E \n\u003E Alt : 38 0.000500451434082909\n\u003E \n\u003E Alt : 39 0.0004097349795194947\n\u003E \n\u003E Alt : 40 0.00033546262835571747\n\u003E \n\u003E Alt : 41 0.00027465357035247226\n\u003E \n\u003E Alt : 42 0.00022486732449783064\n\u003E \n\u003E Alt : 43 0.00018410579393495803\n\u003E \n\u003E Alt : 44 0.00015073307531947874\n\u003E \n\u003E Alt : 45 0.0001234098042742452\n\u003E \n\u003E Alt : 46 0.00010103940199407177\n\u003E \n\u003E Alt : 47 8.272406568794921e-05\n\u003E \n\u003E Alt : 48 6.772873660065466e-05\n\u003E \n\u003E Alt : 49 5.545159952394706e-05\n\u003E \n\u003E Alt : 50 4.539992983915324e-05\n\u003E \n\u003E Alt : 51 3.717031874815291e-05\n\u003E \n\u003E Alt : 52 3.0432483061851678e-05\n\u003E \n\u003E Alt : 53 2.49160097761043e-05\n\u003E \n\u003E Alt : 54 2.0399503448377194e-05\n\u003E \n\u003E Alt : 55 1.6701700821270857e-05\n\u003E \n\u003E Alt : 56 1.3674196091544086e-05\n\u003E \n\u003E Alt : 57 1.1195484864143998e-05\n\u003E \n\u003E Alt : 58 9.166087754203352e-06\n\u003E \n\u003E Alt : 59 7.504557930031233e-06\n\u003E \n\u003E Alt : 60 6.144212365779335e-06\n\u003E \n\u003E Alt : 61 5.030455617475469e-06\n\u003E \n\u003E Alt : 62 4.1185887161601544e-06\n\u003E \n\u003E Alt : 63 3.372015241314173e-06\n\u003E \n\u003E Alt : 64 2.760772578004827e-06\n\u003E \n\u003E Alt : 65 2.260329411943277e-06\n\u003E \n\u003E Alt : 66 1.8506012017071356e-06\n\u003E \n\u003E Alt : 67 1.5151441155718734e-06\n\u003E \n\u003E Alt : 68 1.2404950828057307e-06\n\u003E \n\u003E Alt : 69 1.015631473369371e-06\n\u003E \n\u003E Alt : 70 8.315287210694906e-07\n\u003E \n\u003E \n\nAlso checked the individual values in the windows calculator and have the errors.\n\nWhether this is a rounding error to do with the precision of the computer or a mathematical error I am unsure..."},{"CreatedByName":"pizzaboy150","CreatedById":90315,"CreatedDateTime":"2015-03-22T15:03:51Z","Content":"Ignore my second post it is correct!!!! i didnt spot python adding the e-11 at the end!"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-03-22T15:44:56Z","Content":"- - - Updated - - -\n\n\u003E \n\u003E Well I just smashed the correct formula into a simple python script to check the output up to 70km and now have an error at around 47km...\n\u003E \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E Alt : 0 1.0\n\u003E \u003E \n\u003E \u003E Alt : 1 0.8187307531056343\n\u003E \u003E \n\u003E \u003E Alt : 2 0.670320046080919\n\u003E \u003E \n\u003E \u003E Alt : 3 0.5488116361496342\n\u003E \u003E \n\u003E \u003E Alt : 4 0.44932896417792534\n\u003E \u003E \n\u003E \u003E Alt : 5 0.36787944123356736\n\u003E \u003E \n\u003E \u003E Alt : 6 0.30119421197323853\n\u003E \u003E \n\u003E \u003E Alt : 7 0.24659696399990763\n\u003E \u003E \n\u003E \u003E Alt : 8 0.2018965180492073\n\u003E \u003E \n\u003E \u003E Alt : 9 0.16529888827183278\n\u003E \u003E \n\u003E \u003E Alt : 10 0.13533528328232175\n\u003E \u003E \n\u003E \u003E Alt : 11 0.11080315840349961\n\u003E \u003E \n\u003E \u003E Alt : 12 0.09071795332618014\n\u003E \u003E \n\u003E \u003E Alt : 13 0.07427357824694523\n\u003E \u003E \n\u003E \u003E Alt : 14 0.060810062653971736\n\u003E \u003E \n\u003E \u003E Alt : 15 0.049787068393087074\n\u003E \u003E \n\u003E \u003E Alt : 16 0.04076220400039389\n\u003E \u003E \n\u003E \u003E Alt : 17 0.033373269979487995\n\u003E \u003E \n\u003E \u003E Alt : 18 0.027323722463903855\n\u003E \u003E \n\u003E \u003E Alt : 19 0.022370771870521344\n\u003E \u003E \n\u003E \u003E Alt : 20 0.018315638901106275\n\u003E \u003E \n\u003E \u003E Alt : 21 0.014995576831113588\n\u003E \u003E \n\u003E \u003E Alt : 22 0.012277339912191026\n\u003E \u003E \n\u003E \u003E Alt : 23 0.010051835752442027\n\u003E \u003E \n\u003E \u003E Alt : 24 0.008229747055690998\n\u003E \u003E \n\u003E \u003E Alt : 25 0.006737947004774766\n\u003E \u003E \n\u003E \u003E Alt : 26 0.005516564425605095\n\u003E \u003E \n\u003E \u003E Alt : 27 0.0045165809467314095\n\u003E \u003E \n\u003E \u003E Alt : 28 0.003697863719979968\n\u003E \u003E \n\u003E \u003E Alt : 29 0.0030275547483412006\n\u003E \u003E \n\u003E \u003E Alt : 30 0.0024787521791779297\n\u003E \u003E \n\u003E \u003E Alt : 31 0.002029430638420578\n\u003E \u003E \n\u003E \u003E Alt : 32 0.0016615572749697277\n\u003E \u003E \n\u003E \u003E Alt : 33 0.0013603680390641114\n\u003E \u003E \n\u003E \u003E Alt : 34 0.0011137751491237945\n\u003E \u003E \n\u003E \u003E Alt : 35 0.0009118819666324642\n\u003E \u003E \n\u003E \u003E Alt : 36 0.0007465858092844442\n\u003E \u003E \n\u003E \u003E Alt : 37 0.0006112527618934322\n\u003E \u003E \n\u003E \u003E Alt : 38 0.000500451434082909\n\u003E \u003E \n\u003E \u003E Alt : 39 0.0004097349795194947\n\u003E \u003E \n\u003E \u003E Alt : 40 0.00033546262835571747\n\u003E \u003E \n\u003E \u003E Alt : 41 0.00027465357035247226\n\u003E \u003E \n\u003E \u003E Alt : 42 0.00022486732449783064\n\u003E \u003E \n\u003E \u003E Alt : 43 0.00018410579393495803\n\u003E \u003E \n\u003E \u003E Alt : 44 0.00015073307531947874\n\u003E \u003E \n\u003E \u003E Alt : 45 0.0001234098042742452\n\u003E \u003E \n\u003E \u003E Alt : 46 0.00010103940199407177\n\u003E \u003E \n\u003E \u003E Alt : 47 8.272406568794921e-05\n\u003E \u003E \n\u003E \u003E Alt : 48 6.772873660065466e-05\n\u003E \u003E \n\u003E \u003E Alt : 49 5.545159952394706e-05\n\u003E \u003E \n\u003E \u003E Alt : 50 4.539992983915324e-05\n\u003E \u003E \n\u003E \u003E Alt : 51 3.717031874815291e-05\n\u003E \u003E \n\u003E \u003E Alt : 52 3.0432483061851678e-05\n\u003E \u003E \n\u003E \u003E Alt : 53 2.49160097761043e-05\n\u003E \u003E \n\u003E \u003E Alt : 54 2.0399503448377194e-05\n\u003E \u003E \n\u003E \u003E Alt : 55 1.6701700821270857e-05\n\u003E \u003E \n\u003E \u003E Alt : 56 1.3674196091544086e-05\n\u003E \u003E \n\u003E \u003E Alt : 57 1.1195484864143998e-05\n\u003E \u003E \n\u003E \u003E Alt : 58 9.166087754203352e-06\n\u003E \u003E \n\u003E \u003E Alt : 59 7.504557930031233e-06\n\u003E \u003E \n\u003E \u003E Alt : 60 6.144212365779335e-06\n\u003E \u003E \n\u003E \u003E Alt : 61 5.030455617475469e-06\n\u003E \u003E \n\u003E \u003E Alt : 62 4.1185887161601544e-06\n\u003E \u003E \n\u003E \u003E Alt : 63 3.372015241314173e-06\n\u003E \u003E \n\u003E \u003E Alt : 64 2.760772578004827e-06\n\u003E \u003E \n\u003E \u003E Alt : 65 2.260329411943277e-06\n\u003E \u003E \n\u003E \u003E Alt : 66 1.8506012017071356e-06\n\u003E \u003E \n\u003E \u003E Alt : 67 1.5151441155718734e-06\n\u003E \u003E \n\u003E \u003E Alt : 68 1.2404950828057307e-06\n\u003E \u003E \n\u003E \u003E Alt : 69 1.015631473369371e-06\n\u003E \u003E \n\u003E \u003E Alt : 70 8.315287210694906e-07\n\u003E \u003E \n\u003E \u003E \n\u003E \n\u003E \n\u003E Also checked the individual values in the windows calculator and have the errors.\n\u003E \n\u003E Whether this is a rounding error to do with the precision of the computer or a mathematical error I am unsure...\n\nPizzaboy,\n\n those aren\u0027t actually errors. It\u0027s just providing the answer in scientific notation.\n\n the \u0022e-NN\u0022 means \u0022x10^-NN\u0022\n\nso for the example at 47km altitude, 8.272e-05 is 8.272x10^-5, which is 0.00008272.\n\n\\*edit\\*\n\n Or another way of looking at it: \u0022eNN\u0022 means \u0022shift the decimal point this many times this way\u0022. Take 8.272 and shift the decimal point -5 places.\n\nBest,\n\n-Slashy\n\n**Edited \u003Ctime datetime=\u00222015-03-22T15:47:05Z\u0022 title=\u002203/22/2015 03:47  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 22, 2015\u003C/time\u003E by GoSlash27**"},{"CreatedByName":"QPDO","CreatedById":104760,"CreatedDateTime":"2015-03-23T10:02:35Z","Content":"This makes me curious. Isn\u0027t the stock atmosphere pressure degradation in KSP linear instad of logarhytmic? (at least before the new aero) While Far applies the natural log ?"},{"CreatedByName":"AlexinTokyo","CreatedById":104401,"CreatedDateTime":"2015-03-23T10:26:39Z","Content":"No, stock atmospheric pressure is definitely logarythmic."},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-03-23T11:26:47Z","Content":"\u003E \n\u003E This makes me curious. Isn\u0027t the stock atmosphere pressure degradation in KSP linear instad of logarhytmic? (at least before the new aero) While Far applies the natural log ?\n\nQPDO,\n\n Negatory. \n\n Pressure has always been logarithmic in KSP and FAR uses the same atmosphere, it just changes the behavior of the parts themselves. I think the source of this confusion is from people referring to stock aerodynamics as \u0022souposphere\u0022 in comparison to FAR, but in reality the atmosphere itself is not altered.\n\n Best,\n\n-Slashy"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-03-23T19:40:39Z","Content":"FAR does change the atmosphere: it computes density using pressure and temperature, vs. stock .90 where density is a linear function of pressure, ignoring temperature. This means that lift/drag, which are a function of Q (which is a function of density and velocity squared) will vary with temperature as well as pressure."},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2015-03-25T19:30:16Z","Content":"\u003E \n\u003E FAR does change the atmosphere: it computes density using pressure and temperature, vs. stock .90 where density is a linear function of pressure, ignoring temperature.\n\nThe FAR method, as you describe it, isn\u0027t correct either. Atmospheric pressure in KSP is computed using a constant scale height, which implies constant temperature. If temperature is going to be varied, then the pressure-height profile should be reformulated. Using the same pressure-height profile as the stock game (i.e. constant scale height) while varying the temperature necessitates the improbably scenario of variable molecular weight. In real life this is not the case. The lower layers of known planetary atmospheres are well-mixed and homogeneous with constant molecular weight (though this begins to change at extreme altitudes).\n\nThe stock model is a reasonable simplification that works well for a game. If FAR wants more realism, then it should completely remodel the atmosphere rather than trying to retain some aspects of stock while changing others. All that\u0027s needed to formulate a model is the temperature-height profile (typically defined as a series of linear functions of height), the pressure at sea level, and the gas molecular weight (or, alternately, the density at sea level). Rather than using the stock formula to calculate pressure, atmospheric pressure should be computed using different formulas for each segment of the temperature-height profile.\n\nIf the FAR method, as I understand it from NathanKell\u0027s post, was intended to produce greater realism, then I believe it failed. It simply traded one unrealistic assumption (constant temperature) for a different unrealistic assumption (variable molecular weight)."}]}