{"TopicId":216988,"ForumId":120,"TopicTitle":"Current inconsistency between maneuver plans and markers","CreatedByName":"BComFly","CreatedById":228687,"CreatedDateTime":"2023-05-02T04:59:07Z","PageNum":1,"Articles":[{"CreatedByName":"BComFly","CreatedById":228687,"CreatedDateTime":"2023-05-02T04:59:07Z","Content":"\n\u003Cp\u003E\nRecently I found that performing plane-changing maneuvers using the maneuver planer will give very inaccurate results. I noticed that the maneuver marker was changing its position during the burn. After a little investigation,\u00A0 I can finally confirm that there is currently an inconsistency between a planned maneuver node and the maneuver marker.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you are planning a maneuver node, the system assumes you will be accelerating in a fixed direction \u003Cu\u003Erelative to the celestial body\u003C/u\u003E. However, when you are performing the planned maneuver, the maneuver node marker (on the Nav ball) is calculated \u003Cu\u003Erelative to current velocity\u003C/u\u003E. So if you are following the maneuver marker during a plan-changing burn, the result will be significantly different. If you want to perform a burn similar to your plan, you will need to change to \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E lock when the burn starts.\n\u003C/p\u003E\n\u003Cp\u003E\nSurprisingly, this inconsistency does not apply to prograde/retrograde burns, because a prograde/retrograde maneuver in the planner will actually consider the velocity change during the burn. I can see that this is a good addition to prepare for the very-low-thrust spacecraft in the future, but why does this feature only apply to prograde/retrograde burns? We at lease expect some consistency in all directions.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-05-02T05:20:10Z\u0022 title=\u002205/02/2023 05:20  AM\u0022 data-short=\u00221 yr\u0022\u003EMay 2, 2023\u003C/time\u003E by BComFly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lyneira","CreatedById":149515,"CreatedDateTime":"2023-05-09T14:18:47Z","Content":"\n\u003Cp\u003E\nThis bug is pretty extreme when making large plane change maneuvers, such as turning an equatorial orbit into a polar orbit. Would appreciate the maneuver marker staying in place so that targeting it while executing the burn actually result in the planned trajectory.\n\u003C/p\u003E\n"},{"CreatedByName":"Tomator","CreatedById":163065,"CreatedDateTime":"2023-06-24T06:52:30Z","Content":"\n\u003Cp\u003E\nI miss the way how maneuvers worked in KSP1.\u00A0\u003Cbr\u003E\nHere the maneuver\u0027s aim is to change velocity by adding planned vector.\u00A0 In KSP1 it was to achieve specific vector of velocity, when the target velocity was a sum of maneuver\u0027s vector and the ship velocity at the point of the maneuver. The difference is significant when, during the maneuver, any deviation appears. In old game the marker reflected this deviation so it could be corrected during the burn and get quite accurate result. In KSP2 the change vector is constant and when deviation occur, the remaining \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E just won\u0027t hit 0. Instead, it\u0027ll bounce up. The burn cannot be the done as accurately as possible since the player must wait for the bar to bounce back to shut engines down. I KSP1 when the marker went off sight on the navball it was a sign the burn must end. Ant, if maneuver\u0027s \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E was significant, the ship could be rotated and the remaining portion of velocity change could be done. In KSP2 another maneuver is necessary to be planed. And another...\n\u003C/p\u003E\n"},{"CreatedByName":"appenz","CreatedById":229568,"CreatedDateTime":"2023-06-27T21:41:34Z","Content":"\n\u003Cp\u003E\n100% agreed that this is an issue. I am calculating and burning nodes with KontrolSystem 2 and for many maneuvers I have to split them into multiple burns because the precision of a single burn is just terrible. KS1 was vastly better.\n\u003C/p\u003E\n"},{"CreatedByName":"Spicat","CreatedById":228085,"CreatedDateTime":"2023-06-27T22:49:32Z","Content":"\n\u003Cp\u003E\nGo to bug reports for this, I already reported this\u00A0 pretty annoying bug:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022228085\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed3499115757\u0022 src=\u0022https://forum.kerbalspaceprogram.com/topic/216619-incorrect-maneuver-on-inclination-change-normal-and-anti-normal/?do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-06-28T02:03:47Z","Content":"\n\u003Cp\u003E\nI submitted a bug report for this a few weeks back and did a bit of investigating.\n\u003C/p\u003E\n\u003Cp\u003E\nThe issue applies to normal, anti-normal, radial in and radial out. I will refer to these four as \u0022X\u0022 to save time.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, notice that X is always 90 deg away from prograde. Always. As you burn towards X, prograde changes. Therefore, to remain 90 deg from prograde, X must also change. You can see this easily in game. Point at X marker and lock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E (Basic \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E hold, not hold on X). Burn your engine and watch the X marker wander off.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you plan a maneuver node with an X component, it doesn\u0027t account for X moving as you burn. The bug lies in \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E \u0022hold to maneuver\u0022 which tracks X as it moves, when it should remain stationary. For small burns towards X, you\u0027ll hardly notice, but the error will get larger the more you change your direction, such as in large inclination changes.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224278985\u0022 data-ipsquote-contentid=\u0022216988\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221683003547\u0022 data-ipsquote-userid=\u0022228687\u0022 data-ipsquote-username=\u0022BComFly\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/2/2023 at 5:59 AM, BComFly said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSurprisingly, this inconsistency does not apply to prograde/retrograde burns, because a prograde/retrograde maneuver in the planner will actually consider the velocity change during the burn. I can see that this is a good addition to prepare for the very-low-thrust spacecraft in the future, but why does this feature only apply to prograde/retrograde burns? We at lease expect some consistency in all directions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe reason pro/retrograde are not affected is because they don\u0027t change your direction as you burn towards them. The only thing changing is your speed.\n\u003C/p\u003E\n\u003Cp\u003E\nHope that\u0027s not confusing, it\u0027s quite difficult to put into words.\n\u003C/p\u003E\n"},{"CreatedByName":"Lyneira","CreatedById":149515,"CreatedDateTime":"2023-06-29T08:34:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224297989\u0022 data-ipsquote-contentid=\u0022216988\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221687917827\u0022 data-ipsquote-userid=\u0022193979\u0022 data-ipsquote-username=\u0022Turbo Ben\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/28/2023 at 4:03 AM, Turbo Ben said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe reason pro/retrograde are not affected is because they don\u0027t change your direction as you burn towards them. The only thing changing is your speed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey might not change from the burn directly and higher \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E makes this effect less, but as you execute a long burn in low orbit, prograde does change with respect to the point the maneuver was made. I can\u0027t be sure, but I do wonder if this also results in burn inaccuracy the longer a burn takes relative to the current orbit.\n\u003C/p\u003E\n"},{"CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-06-29T10:30:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224298295\u0022 data-ipsquote-contentid=\u0022216988\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221688027694\u0022 data-ipsquote-userid=\u0022149515\u0022 data-ipsquote-username=\u0022Lyneira\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lyneira said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThey might not change from the burn directly and higher \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E makes this effect less, but as you execute a long burn in low orbit, prograde does change with respect to the point the maneuver was made. I can\u0027t be sure, but I do wonder if this also results in burn inaccuracy the longer a burn takes relative to the current orbit.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVery true, and yes it does result in burn inacuracy, quite a lot in the situation you mention (long burn, low orbit, such as Mun transfer burn). This is why in KSP1 you would start your burn early, so you hit the maneuver node in the middle of the burn. KSP2 integrates this into the burn timer. It\u0027s never 100% accurate, but \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E maneuver hold will try to correct for errors, usually very noticeably towards the end of the burn.\n\u003C/p\u003E\n"}]}