{"TopicId":160736,"ForumId":70,"TopicTitle":"\u0026quot;Select a craft to load\u0026quot; UI in VAB broken","CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2017-05-17T15:33:37Z","PageNum":1,"Articles":[{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2017-05-17T15:33:37Z","Content":"\n\u003Cp\u003E\nI was editing a craft (included in.zip), saving it and after that I was not able to load another craft.\u003Cbr\u003E\nI deleted a mod and some crafts became useless but this one was loadable and so I edited it.\u003Cbr\u003E\nUsually it should be just shown a popup window telling me that parts are missing.\n\u003C/p\u003E\n\u003Cp\u003E\nThe UI looks like this:\u003Cbr\u003E\u003Cimg alt=\u00226C74MNX.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022http://i.imgur.com/6C74MNX.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI tried it three times - leaving to SPC, entering \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe log shows this chunk:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nArgumentException: An element with the same key already exists in the dictionary.\n  at System.Collections.Generic.Dictionary\u00602[System.String,ConfigNode].Add (System.String key, .ConfigNode value) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at ShipTemplate.LoadShip (.ConfigNode root) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftEntry.Init (System.IO.FileInfo fInfo, Boolean stock) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftEntry.Create (System.IO.FileInfo fInfo, Boolean stock, .Callback\u00601 OnSelected) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftBrowserDialog.BuildCraftList () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftBrowserDialog.onVABtabToggle (Boolean st) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.Events.InvokableCall\u00601[System.Boolean].Invoke (System.Object[] args) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.Events.InvokableCallList.Invoke (System.Object[] parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.Events.UnityEventBase.Invoke (System.Object[] parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.Events.UnityEvent\u00601[System.Boolean].Invoke (Boolean arg0) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.UI.Toggle.Set (Boolean value, Boolean sendCallback) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.UI.Toggle.Set (Boolean value) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.UI.Toggle.set_isOn (Boolean value) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.UI.Toggle.InternalToggle () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.UI.Toggle.OnPointerClick (UnityEngine.EventSystems.PointerEventData eventData) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.EventSystems.ExecuteEvents.Execute (IPointerClickHandler handler, UnityEngine.EventSystems.BaseEventData eventData) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at UnityEngine.EventSystems.ExecuteEvents.Execute[IPointerClickHandler] (UnityEngine.GameObject target, UnityEngine.EventSystems.BaseEventData eventData, UnityEngine.EventSystems.EventFunction\u00601 functor) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \nUnityEngine.DebugLogHandler:Internal_LogException(Exception, Object)\nUnityEngine.DebugLogHandler:LogException(Exception, Object)\nUnityEngine.Logger:LogException(Exception, Object)\nUnityEngine.Debug:LogException(Exception)\nUnityEngine.EventSystems.ExecuteEvents:Execute(GameObject, BaseEventData, EventFunction\u00601)\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMousePress(MouseButtonEventData)\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMouseEvent(Int32)\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMouseEvent()\nUnityEngine.EventSystems.StandaloneInputModule:Process()\nUnityEngine.EventSystems.EventSystem:Update()\u003C/pre\u003E\n\u003Cp\u003E\nAnd later a shorter variant of it:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nArgumentException: An element with the same key already exists in the dictionary.\n  at System.Collections.Generic.Dictionary\u00602[System.String,ConfigNode].Add (System.String key, .ConfigNode value) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at ShipTemplate.LoadShip (.ConfigNode root) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftEntry.Init (System.IO.FileInfo fInfo, Boolean stock) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftEntry.Create (System.IO.FileInfo fInfo, Boolean stock, .Callback\u00601 OnSelected) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftBrowserDialog.BuildCraftList () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at KSP.UI.Screens.CraftBrowserDialog.Start () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\n\u003Cp\u003E\nAfter I deleted the obsolete (broken) craft files I was able to load the one craft that is okay:\u003Cbr\u003E\u003Cimg alt=\u0022VywhvCX.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022http://i.imgur.com/VywhvCX.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe full log:\u003Cbr\u003E\u003Ca href=\u0022https://www.dropbox.com/s/iltmro7p402jpc1/2017-05-17-1%20KSP.log.zip?dl=1\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/iltmro7p402jpc1/2017-05-17-1 KSP.log.zip?dl=1\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2017-05-17T15:59:10Z","Content":"\n\u003Cp\u003E\nHi I\u0027ve seen this to when I\u0027ve made an error with a mod part and it fails to load properly ,any craft saved with that part\u00A0 in the ui becomes a prefab and it is very difficult to change any values on that prefab and not break the craft in some way , in it\u0027s worse case it breaks the ui \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn the case of the craft\u00A0 you edited\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[ERR 17:29:29.267] [ShipTemplate]: Could not locate root part in GD ComSat Lite 1 Quadruple Cluster Delivery II as 2 entries remain after eliminating all parts listed as children. This is probably wrong.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhich is obviously enough to knock it out\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-17T16:00:34Z\u0022 title=\u002205/17/2017 04:00  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 17, 2017\u003C/time\u003E by SpannerMonkey(smce)\u003C/strong\u003E\n\u003C/span\u003E\n"}]}