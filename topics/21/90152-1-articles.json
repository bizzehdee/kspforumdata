{"TopicId":90152,"ForumId":21,"TopicTitle":"The \u0026quot;ideal\u0026quot; launch vehicle","CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2014-11-13T00:31:22Z","PageNum":1,"Articles":[{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2014-11-13T00:31:22Z","Content":"\n\u003Cp\u003EI recently created a computer simulation in which I can test the performance of various rocket designs. It is based on the stock KSP game, i.e. no mods. I decided to see if I could find the optimum design for a simple two-stage launch vehicle. I looked at several key parameters: thrust-to-weight ratio, propellant distribution, and attitude control. My goal was to maximize payload fraction. I performed dozens of iterations, tweaking these parameters until I could make no further improvements. I thought I\u0027d share my findings. Below is what I found to be the optimum design:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThrust-to-weight ratio:\u003C/strong\u003E Stage 1 = 1.64, Stage 2 = 1.31. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E Propellant distribution:\u003C/strong\u003E Stage 1 = 67.7%, Stage 2 = 32.3%.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E Attitude control:\u003C/strong\u003E Pitch over to \u002B87\u003Csup\u003EO\u003C/sup\u003E at altitude 5300 m; gradually increase pitch staying 3\u003Csup\u003EO\u003C/sup\u003E ahead of the surface velocity vector; pitch should be 0\u003Csup\u003EO\u003C/sup\u003E at Stage 2 first burn cutoff, with velocity vector at \u002B3\u003Csup\u003EO\u003C/sup\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E Payload fraction:\u003C/strong\u003E 0.162\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOrbit:\u003C/strong\u003E 75,000 m\u003C/p\u003E\u003Cp\u003EOf course this is all theoretical. The simulation isn\u0027t based on using real in-game components, though typical mass ratios were used. For instance, I assumed the tank dry mass is 1/8\u003Csup\u003Eth\u003C/sup\u003E the mass of the propellant, which is consistent with most tanks found in the game. Similarly, engine mass was estimated as a function of thrust.\u003C/p\u003E\u003Cp\u003EDue to the finite number of parts in the game, it is unlikely that these hypothetical ideal numbers can be matched exactly. However, these values can be used as a guideline when designing a launch vehicle. Being off a little bit shouldn\u0027t dramatically hurt performance. Conveniently the ideal propellant distribution is very close to a 2:1 ratio, which works nicely with the stock tank sizes. I\u0027ve found that attitude control is particularly sensitive to TWR. (For instance, with higher TWR you may need to lead the velocity vector by a greater amount to increase the pitch rate.)\u003C/p\u003E\u003Cp\u003EObviously a simple two-stage design isn\u0027t going to work in many cases. Nonetheless, some of these basic guidelines might still apply to more complex configurations.\u003C/p\u003E\u003Cp\u003EI\u0027m interested to see how these numbers compare to what others have found. I\u0027ve already seen others write that the optimum liftoff TWR is 1.5-1.7, so clearly my results agree with that part.\u003C/p\u003E\u003Cp\u003E(edit to add) One important thing that I forgot to mention is that these numbers are based on insertion into a 75 km orbit.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-13T04:25:54Z\u0022 title=\u002211/13/2014 04:25  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 13, 2014\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"boosters\u002B\u002B","CreatedById":127895,"CreatedDateTime":"2014-11-13T01:38:57Z","Content":"\n\u003Cp\u003ENice! Can we see your code, or pseudo-code, to maybe better show us how you got these numbers?\u003C/p\u003E\n"},{"CreatedByName":"Francesco","CreatedById":58274,"CreatedDateTime":"2014-11-13T02:45:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022OhioBob\u0022 data-cite=\u0022OhioBob\u0022\u003E\u003Cdiv\u003E pitch should be 0\u00C3\u201A\u00C2\u00B0 at Stage 2 first burn cutoff, with velocity vector at \u002B3\u00C3\u201A\u00C2\u00B0.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E(were those degrees?)\u003C/p\u003E\u003Cp\u003Estage 2 first burn cutoff = coasting to apoapsis, right?\u003C/p\u003E\u003Cp\u003Ea velocity vector that low means you\u0027re very close to orbital speed at thrust cutoff;\u003C/p\u003E\u003Cp\u003Ea 1.3 stage 2 TWR, in my mind, correlates with 2000-2500 m/s of delta-v in the second stage,\u003C/p\u003E\u003Cp\u003Ewhich in turn means throttling back towards the end of the ascent to prevent reaching apoapsis too quickly.\u003C/p\u003E\u003Cp\u003Ethe 2:1 fuel distribution seems a bit low, meaning the first stage should be bigger.\u003C/p\u003E\u003Cp\u003Ebut that\u0027s just speculation - off to the VAB!\u003C/p\u003E\n"},{"CreatedByName":"Northstar1989","CreatedById":91005,"CreatedDateTime":"2014-11-13T02:55:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003E(were those degrees?)\u003Cp\u003Estage 2 first burn cutoff = coasting to apoapsis, right?\u003C/p\u003E\u003Cp\u003Ea velocity vector that low means you\u0027re very close to orbital speed at thrust cutoff;\u003C/p\u003E\u003Cp\u003Ea 1.3 stage 2 TWR, in my mind, correlates with 2000-2500 m/s of delta-v in the second stage,\u003C/p\u003E\u003Cp\u003Ewhich in turn means throttling back towards the end of the ascent to prevent reaching apoapsis too quickly.\u003C/p\u003E\u003Cp\u003Ethe 2:1 fuel distribution seems a bit low, meaning the first stage should be bigger.\u003C/p\u003E\u003Cp\u003Ebut that\u0027s just speculation - off to the VAB!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUhhh....\u003C/p\u003E\u003Cp\u003ENo. You don\u0027t need to already have apoapsis at the desired height before pointing horizontal to the horizon.\u003C/p\u003E\u003Cp\u003EHave you ever *tried* seeing what happens if you burn horizontal? Your apoapsis continues to increase, as long as you still have some upward momentum. Therefore, you do indeed want to be pointing completely horizontal quite a bit before you cut thrust and coast to apoapsis... (in practice, maybe a couple degrees above horizontal, since you DO NOT want your engines to burn *even slightly* downwards at any point during ascent)\u003C/p\u003E\u003Cp\u003EAlso, you *want* to reach apoapsis quickly. That reduces total gravity-drag during your ascent. I think what you *meant*, is that you don\u0027t want to OVERSHOOT your target apoapsis, which is true. The low TWR, and horizontal facing of the upper stage help prevent that though...\u003C/p\u003E\u003Cp\u003ERegards,\u003C/p\u003E\u003Cp\u003ENorthstar\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-11-13T03:02:35Z","Content":"\n\u003Cp\u003EI can\u0027t speak to your equations used, but 0.162 is a very respectable payload fraction for a two stage rocket lifter. \u003C/p\u003E\u003Cp\u003EYou might be interested in tavert\u0027s \u003Ca href=\u0022forum.kerbalspaceprogram.com/threads/45155\u0022 rel=\u0022external nofollow\u0022\u003EMass Optimal Engine\u003C/a\u003E charts (a bit out of date now, but fascinating info if you\u0027re into optimizing).\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003Etavert, please come back and update your charts.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2014-11-13T03:15:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003E(were those degrees?)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003Estage 2 first burn cutoff = coasting to apoapsis, right?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect. A second burn would have to be made at apoapsis to circularize the orbit. I forgot to mention in my original post that I\u0027m assuming a 75 km orbit.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003E(a velocity vector that low means you\u0027re very close to orbital speed at thrust cutoff\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect again. In practice I\u0027m rarely able to get it to work out as perfectly as the theory. I\u0027m usually going slower than optimal at first burn cutoff and then have to compensate with a fairly high delta-v burn at apoapsis. However, I find that, in theory, performance is optimized by nearly reaching orbital velocity at first burn cutoff and then making a low delta-v second burn (about 60 m/s).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003Ea 1.3 stage 2 TWR, in my mind, correlates with 2000-2500 m/s of delta-v in the second stage,\u003Cp\u003Ewhich in turn means throttling back towards the end of the ascent to prevent reaching apoapsis too quickly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf performed correctly, I don\u0027t think there is any need to throttle back. For the particular scenario that I simulated, cutoff would occur at an altitude of about 50 km and, with such a high horizontal velocity, you\u0027d in a long arcing trajectory a good distance away from apoapsis. According to the simulation, first burn cutoff would occur 6.5 minutes before reaching apoapsis.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Francesco\u0022 data-cite=\u0022Francesco\u0022\u003E\u003Cdiv\u003Ethe 2:1 fuel distribution seems a bit low, meaning the first stage should be bigger.\u003Cp\u003Ebut that\u0027s just speculation - off to the VAB!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree that\u0027s low for the real world. I was expecting it to be higher, like about 3:1. In the KSP universe, however, it didn\u0027t work out that way.\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2014-11-13T04:02:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022boosters\u002B\u002B\u0022 data-cite=\u0022boosters\u002B\u002B\u0022\u003E\u003Cdiv\u003ENice! Can we see your code, or pseudo-code, to maybe better show us how you got these numbers?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EProviding the code wouldn\u0027t be very practical, but I do provide a description of the basic method in an article I wrote about a my Saturn V simulation. If you\u0027re interested you can read it here: \u003Ca href=\u0022http://www.braeunig.us/apollo/saturnV.htm\u0022 rel=\u0022external nofollow\u0022\u003ESaturn V Launch Simulation\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EFor the KSP simulation I simply had to modify everything to conform to the Kerbal universe. As I mentioned previously, the mass of all the rocket parts are based on typical ratios found within game. I primarily based it on a \u0022large\u0022 sized rocket (Rockomax).\u003C/p\u003E\u003Cp\u003EThere are five parameters that I attempted to optimize: Stage 1 TWR, Stage 2 TWR, propellant mass distribution, pitch-to-velocity vector separation angle, and flight path angle at engine cutoff.\u003C/p\u003E\u003Cp\u003EThe pitch-to-velocity separation angle determines how rapidly the rocket pitches over. It is assumed constant throughout the pitch over phase. This angle, along with the initial pitch over altitude, determines the rocket attitude and flight path angle at cutoff.\u003C/p\u003E\u003Cp\u003EI started out by assuming all five parameters and then determined the pitch over altitude and cutoff time needed to attain the correct cutoff conditions to reach my target 75 km orbit. It would take several iterations to find the payload mass that exactly exhausted all of the propellant. The next step would be to change one of the assumed parameters and find out in what direction I had to go to increase the payload fraction. I would continue to change the parameter until I reached a maximum on the payload fraction. I would then move to the next parameter and adjust it until I again reached a maximum. Then the next parameter and so. I would then return to the first parameter and go through another iteration of adjustments. I eventually reached a point where changing the numbers resulted in no further increase in payload fraction. The resulting numbers are those that I give in the opening post.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-13T15:42:27Z\u0022 title=\u002211/13/2014 03:42  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 13, 2014\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2014-11-13T04:23:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI can\u0027t speak to your equations used, but 0.162 is a very respectable payload fraction for a two stage rocket lifter.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what I thought. With the design philosophy I\u0027ve used in the past I though I was doing pretty good to get a 0.12 payload fraction. I\u0027m curious to see in practice how close I can get to 0.162. It\u0027s surely unrealistic to expect to reach the theoretical limit, but it should be possible to get much closer by implementing some of my findings.\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2014-11-13T08:14:25Z","Content":"\n\u003Cp\u003EWell, everything here looks very reasonable, and I really have little to add to the discussion since I haven\u0027t gone into any mathematical analysis to optimize my rockets. But I can tell you right now, I usually make bigger first stages, mostly so I can make do with lower T/W on the upper stage. It might not be efficient for the climb to orbit since you increase gravity losses slightly due to the increased ascent time, but the engine weight you save is very useful once you are in space and TWR is something you don\u0027t care about. Also note that those gravity losses are much lower than if you had a low first stage TWR, since by the time you light these smaller upper stages the effective gravity is much less.\u003C/p\u003E\u003Cp\u003EAlso, lately and due to the budgets and cost, I am getting hooked on 1.5 SRB booster staging. First, the SRBs are \u003Cem\u003Every\u003C/em\u003E cheap, and the big first stage engines are expensive, so that\u0027s good on that front, you can make do with a much smaller first stage engine that wouldn\u0027t be able to lift you off the ground, even. That usually works out to a slightly bigger T/W at liftoff, 1.7, going down after SRB separation to something like 1.4. With that I usually have between 3 and 3.5 km/s in the first stage\u002Bboosters, and then my upper stage can perfectly do its thing with T/W 0.8, plus it can be refuelled on orbit for greater in-space delta-v.\u003C/p\u003E\u003Cp\u003ESo yeah, the numbers you present are probably just perfect for a 75km orbit, if all you care about is minimum takeoff weight and maximum payload lifted. But if what you are minimizing cost... well, fuel is cheap, engines aren\u0027t. And if you are going to higher orbits things also change.\u003C/p\u003E\u003Cp\u003ERune. But I like the scientific approach!\u003C/p\u003E\n"}]}