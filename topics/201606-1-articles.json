{"TopicId":201606,"ForumId":35,"TopicTitle":"Quicktex DDS texture encoder/decoder","CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2021-04-11T05:08:48Z","PageNum":1,"Articles":[{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2021-04-11T05:08:48Z","Content":"\n\u003Ch1 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:2em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EQuicktex\u003C/span\u003E\n\u003C/h1\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Ca href=\u0022https://github.com/drewcassidy/quicktex\u0022 rel=\u0022external nofollow\u0022\u003EAvailable on Github\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ELicense: LGPL\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EQuicktex is a python library and command line tool for encoding and decoding DDS files. It is based on the\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/drewcassidy/bc7enc\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003ERGBCX encoder\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E, which is currently one of the\u00A0\u003C/span\u003E\u003Ca href=\u0022https://aras-p.info/blog/2020/12/08/Texture-Compression-in-2020/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003Ehighest quality S3TC encoders available\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E. Quicktex has a python front end, but the encoding and decoding is all done in C\u002B\u002B for speed comparable to the original library.\u00A0\u003C/span\u003E\u003Cfont color=\u0022#000000\u0022 size=\u00223\u0022\u003E\u00A0\u003Cspan\u003EWhile it is not only useful for KSP, \u00A0KSP is what I initially made it for, so I think it can go here for support and visibility. It should have higher quality than NVTT or DDS4KSP, while still being reasonably fast, as well as having a (in development, unstable) python API for custom scripting and tricky image types like light cookies.\u003C/span\u003E\u003C/font\u003E\n\u003C/p\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:1.5em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EInstallation\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EIf you are on macOS, you need to first install openMP from \u003Ca href=\u0022https://brew.sh\u0022 rel=\u0022external nofollow\u0022\u003Ehomebrew\u003C/a\u003E to enable multithreading, since it is not included in the default Apple Clang install:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cpre style=\u0022font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003Ebrew install libomp\u003C/span\u003E\n\u003C/pre\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022font-size:16px;\u0022\u003E\n\u003Cfont color=\u0022#000000\u0022\u003E\u003Cspan\u003ETo install, just install from PyPI\u00A0using pip (the package manager built into python)\u003C/span\u003E\u003C/font\u003E\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cpre style=\u0022font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003Epip install quicktex\u003C/span\u003E\u003C/pre\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003Eand setuptools will take care of any python dependencies for you.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EThe package also makes tests, stub generation, and docs available. To install the required dependencies for them, install with options like so (Docs are still a work in progress):\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cpre style=\u0022font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003Epip install quicktex[tests,stubs,docs]\u003C/span\u003E\n\u003C/pre\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EQuicktex will be available on Pypi once it is out of alpha.\u003C/span\u003E\n\u003C/p\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:1.5em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EUsage\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cpre style=\u0022color:#c9d1d9;font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022border:0px;font-size:13.600000381469727px;padding:0px;\u0022\u003EUsage: quicktex [OPTIONS] COMMAND [ARGS]...\n\n  Encode and Decode various image formats\n\nOptions:\n  --version  Show the version and exit.\n  --help     Show this message and exit.\n\nCommands:\n  decode  Decode DDS files to images.\n  encode  Encode images to DDS files of the given format.\n\u003C/code\u003E\u003C/span\u003E\u003C/pre\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ETo decode DDS files to images, use the\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Edecode\u003C/code\u003E\u00A0subdommand, along with a glob or a list of files to decode.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ETo encode images to DDS files, use the\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Eencode\u003C/code\u003E\u00A0subcommand, plus an additional subcommand for the format. For example,\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Equicktex encode bc1 bun.png\u003C/code\u003E\u00A0will encode bun.png in the current directory to a bc1/DXT1 dds file next to it.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EFor KSP textures I recommend\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Equicktex encode auto -r [filenames]\u003C/code\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Eencode\u003C/code\u003E\u00A0and\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Edecode\u003C/code\u003E\u00A0both accept several common parameters:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003E-f, --flip / -F, --no-flip\u003C/code\u003E: Vertically flip image before/after converting. [default: True]\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003E-r, --remove\u003C/code\u003E: Remove input images after converting.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003E-s, --suffix TEXT\u003C/code\u003E: Suffix to append to output filename(s). Ignored if\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Eoutput\u003C/code\u003E\u00A0is a single file.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003E-o, --output\u003C/code\u003E: Output file or directory. If outputting to a file, input filenames must be only a single item. By default, files are converted in place.\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-10T06:32:14Z\u0022 title=\u002205/10/2021 06:32  AM\u0022 data-short=\u00223 yr\u0022\u003EMay 10, 2021\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003Cbr\u003Ebetter install instructions\n\u003C/span\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2021-04-12T04:51:49Z","Content":"\n\u003Ch1 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:2em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EPillow-mbm\u003C/span\u003E\n\u003C/h1\u003E\n\u003Cp\u003E\nTo go with Quicktex, I created a python module for converting MBM files, also available \u003Ca href=\u0022https://github.com/drewcassidy/Pillow-mbm\u0022 rel=\u0022external nofollow\u0022\u003Eon github\u003C/a\u003E as well as \u003Ca href=\u0022https://pypi.org/project/pillow-mbm/\u0022 rel=\u0022external nofollow\u0022\u003Epypi\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ELicense: AGPL\u003C/span\u003E\n\u003C/p\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:1.5em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EInstallation\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ETo install from Pypi, run:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cpre style=\u0022font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003Epip install pillow-mbm\u003C/span\u003E\u003C/pre\u003E\n\u003C/div\u003E\n\u003Ch2 style=\u0022border-bottom:1px solid;color:#c9d1d9;font-size:1.5em;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003EUsage\u003C/span\u003E\n\u003C/h2\u003E\n\u003Cp style=\u0022color:#c9d1d9;font-size:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003ETo decode MBM files, use the\u00A0\u003Ccode style=\u0022font-size:13.600000381469727px;padding:.2em .4em;\u0022\u003Econvert-mbm\u003C/code\u003E\u00A0command, along with a glob or a list of files to decode. By default, it will convert to png in place.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre style=\u0022color:#c9d1d9;font-size:13.600000381469727px;padding:16px;\u0022\u003E\n\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Ccode style=\u0022border:0px;font-size:13.600000381469727px;padding:0px;\u0022\u003EUsage: convert-mbm [OPTIONS] [FILENAMES]...\n\n  Decode Kerbal Space Program MBM files\n\nOptions:\n  -f, --flip / -F, --no-flip  Vertically flip image after converting.\n  -r, --remove                Remove input images after converting.\n  -s, --suffix TEXT           Suffix to append to output file(s). Ignored if\n                              output is a single file.\n\n  -x, --extension TEXT        Extension to use for output. Ignored if output\n                              is a single file. Output filetype is deduced\n                              from this  [default: .png]\n\n  -o, --output PATH           Output file or directory. If outputting to a\n                              file, input filenames must be only a single\n                              item. By default, files are decoded in place.\n\n  --version                   Show the version and exit.\n  --help                      Show this message and exit.\u003C/code\u003E\u003C/span\u003E\u003C/pre\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-12T09:31:49Z\u0022 title=\u002204/12/2021 09:31  AM\u0022 data-short=\u00223 yr\u0022\u003EApril 12, 2021\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2021-04-13T05:29:34Z","Content":"\n\u003Cp\u003E\nI was pretty excited to try this out, but thought I may have an utterly borked python install on my windows machine and I\u0027m getting yet-un-figured-out errors.\u00A0 I\u00A0also got an error trying the pip install on my mac about being unable to checkout \u0027[large string]\u0027 in submodule path \u0027tests/images\u0027 -- could that be a hiccup I was experiencing on the Win10 attempt as well?\n\u003C/p\u003E\n\u003Cp\u003E\nCurious if anyone else got this to install cleanly.\n\u003C/p\u003E\n\u003Cp\u003E\nAll this does it make me want to figure out how to tidy up/understand all those python installations before it starts to look like that XKCD comic.\n\u003C/p\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2021-04-13T08:18:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223953620\u0022 data-ipsquote-contentid=\u0022201606\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618291774\u0022 data-ipsquote-userid=\u002292207\u0022 data-ipsquote-username=\u0022Beetlecat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Beetlecat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0 I\u00A0also got an error trying the pip install on my mac about being unable to checkout \u0027[large string]\u0027 in submodule path \u0027tests/images\u0027 -- could that be a hiccup I was experiencing on the Win10 attempt as well?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTry it again now, I didnt realize having test images in a submodule would cause issues. Not sure how to help with your windows issues though\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-13T08:19:47Z\u0022 title=\u002204/13/2021 08:19  AM\u0022 data-short=\u00223 yr\u0022\u003EApril 13, 2021\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2021-04-13T19:50:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223953655\u0022 data-ipsquote-contentid=\u0022201606\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221618301934\u0022 data-ipsquote-userid=\u002263646\u0022 data-ipsquote-username=\u0022cineboxandrew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, cineboxandrew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTry it again now, I didnt realize having test images in a submodule would cause issues. Not sure how to help with your windows issues though\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe windows issues\u00A0are *all* my own to sort out... \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2021-05-10T06:32:52Z","Content":"\n\u003Cp\u003E\nQuicktex is now on \u003Ca href=\u0022https://pypi.org/project/quicktex/\u0022 rel=\u0022external nofollow\u0022\u003EPyPI\u003C/a\u003E, so you can now install it with just\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epip install quicktex\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nPrebuilt packages are available for mac, linux, and windows on\u00A0x86_64. If you\u0027re on\u00A0ARM you\u0027ll have to make sure you have a C/C\u002B\u002B compiler installed so pip can build quicktex from source, at least until github actions has ARM support.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-10T06:35:23Z\u0022 title=\u002205/10/2021 06:35  AM\u0022 data-short=\u00223 yr\u0022\u003EMay 10, 2021\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2021-05-10T17:49:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223969792\u0022 data-ipsquote-contentid=\u0022201606\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221620628372\u0022 data-ipsquote-userid=\u002263646\u0022 data-ipsquote-username=\u0022cineboxandrew\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, cineboxandrew said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nQuicktex is now on \u003Ca href=\u0022https://pypi.org/project/quicktex/\u0022 rel=\u0022external nofollow\u0022\u003EPyPI\u003C/a\u003E, so you can now install it with just\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Epip install quicktex\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nPrebuilt packages are available for mac, linux, and windows on\u00A0x86_64. If you\u0027re on\u00A0ARM you\u0027ll have to make sure you have a C/C\u002B\u002B compiler installed so pip can build quicktex from source, at least until github actions has ARM support.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAnd there was much rejoicing. ;D\u003Cbr\u003E\u003Cbr\u003E\nThanks for the further update. This will be sure to save *some* frustration, I\u0027m sure.\n\u003C/p\u003E\n"}]}