{"TopicId":104522,"ForumId":29,"TopicTitle":"XKCD Color Viewer","CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-20T16:46:58Z","PageNum":1,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-20T16:46:58Z","Content":"\n\u003Cp\u003EWhile trying to find good colors for my new CapCom mod I realized I was almost randomly picking things from the huge XKCDColors list. There are 954 colors in there and only the names to go by when trying to choose which one.\u003C/p\u003E\u003Cp\u003ESo I made this simple in-game UI to show each color, print its name, show a few variations, and print the RGB values. You can drag the window and scroll through the available colors, there is no way to close it.\u003C/p\u003E\u003Cp\u003EYou can change which scene it shows up in by changing the KSPAddon startup value in the code shown below.\u003C/p\u003E\u003Cp\u003EDownload the compiled plugin from \u003Ca href=\u0022https://www.dropbox.com/s/njgqdm3cc5djyjr/XKCD%20Color%20Viewer.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EDropBox\u003C/a\u003E. Unzip and put the file anywhere in the GameData folder.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/JqBgyhE.png\u0022 alt=\u0022JqBgyhE.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor the code below all that you need to do is setup a project with references to KSP\u0027s Assembly-CSharp and UnityEngine.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E/* License: Public Domain\u003Cbr\u003E * \u003Cbr\u003E * By DMagic - 2015\u003Cbr\u003E*/\u003Cbr\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Reflection;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003Enamespace XKCDColorViewer\u003Cbr\u003E{\u003Cbr\u003E\t[KSPAddon(KSPAddon.Startup.MainMenu, true)]\u003Cbr\u003E\tclass XKCDColorPrintout : MonoBehaviour\u003Cbr\u003E\t{\u003Cbr\u003E\t\tRect windowRect = new Rect(50, 50, 600, 600);\u003Cbr\u003E\t\tVector2 scroll = new Vector2();\u003Cbr\u003E\t\tGUIStyle title, fonts, fontStyle, rgbValue;\u003Cbr\u003E\t\tDictionary\u0026lt;string, Color\u0026gt; xColors = new Dictionary\u0026lt;string, Color\u0026gt;();\u003Cbr\u003E\t\tList\u0026lt;KeyValuePair\u0026lt;string, Color\u0026gt;\u0026gt; sortedColors = new List\u0026lt;KeyValuePair\u0026lt;string, Color\u0026gt;\u0026gt;();\u003Cbr\u003E\t\tbool loaded;\u003Cbr\u003E\u003Cbr\u003E\t\tprivate void Start()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tassignColors();\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tprivate void OnGUI()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tif (!loaded)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\ttitle = new GUIStyle(GUI.skin.label);\u003Cbr\u003E\t\t\t\ttitle.fontSize = 14;\u003Cbr\u003E\t\t\t\ttitle.alignment = TextAnchor.MiddleLeft;\u003Cbr\u003E\t\t\t\ttitle.wordWrap = false;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tfonts = new GUIStyle(title);\u003Cbr\u003E\t\t\t\tfonts.alignment = TextAnchor.MiddleCenter;\u003Cbr\u003E\t\t\t\tTexture2D blackBackground = new Texture2D(1, 1);\u003Cbr\u003E\t\t\t\tblackBackground.SetPixel(1, 1, Color.black);\u003Cbr\u003E\t\t\t\tblackBackground.Apply();\u003Cbr\u003E\t\t\t\tfonts.normal.background = blackBackground;\u003Cbr\u003E\t\t\t\tfonts.fontSize = 16;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tfontStyle = new GUIStyle(title);\u003Cbr\u003E\t\t\t\tfontStyle.fontStyle = FontStyle.Bold;\u003Cbr\u003E\t\t\t\tfontStyle.alignment = TextAnchor.MiddleCenter;\u003Cbr\u003E\t\t\t\tTexture2D whiteBackground = new Texture2D(1, 1);\u003Cbr\u003E\t\t\t\twhiteBackground.SetPixel(1, 1, Color.white);\u003Cbr\u003E\t\t\t\twhiteBackground.Apply();\u003Cbr\u003E\t\t\t\tfontStyle.normal.background = whiteBackground;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\trgbValue = new GUIStyle(title);\u003Cbr\u003E\t\t\t\trgbValue.fontSize = 12;\u003Cbr\u003E\t\t\t\tloaded = true;\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t\twindowRect = GUI.Window(\u0022xkcdColors\u0022.GetHashCode(), windowRect, drawWindow, new GUIContent(\u0022XKCD Colors\u0022));\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tprivate void drawWindow(int id)\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tRect r = new Rect(2, 20, 595, 570);\u003Cbr\u003E\t\t\tRect rView = new Rect(0, 0, 575, 30540);\u003Cbr\u003E\u003Cbr\u003E\t\t\tscroll = GUI.BeginScrollView(r, scroll, rView);\u003Cbr\u003E\u003Cbr\u003E\t\t\tRect label = new Rect(4, 2, 140, 28);\u003Cbr\u003E\t\t\tint i = 0;\u003Cbr\u003E\t\t\tforeach (var c in sortedColors)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\ti\u002B\u002B;\u003Cbr\u003E\t\t\t\tif (label.yMin \u0026gt;= (scroll.y - 20) \u0026amp;\u0026amp; label.yMax \u0026lt;= (scroll.y \u002B windowRect.height - 30))\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\ttitle.normal.textColor = c.Value;\u003Cbr\u003E\t\t\t\t\tfonts.normal.textColor = c.Value;\u003Cbr\u003E\t\t\t\t\tfontStyle.normal.textColor = c.Value;\u003Cbr\u003E\t\t\t\t\trgbValue.normal.textColor = c.Value;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tstring s = c.Key;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tGUI.Label(label, i \u002B \u0022: \u0022 \u002B s \u002B \u0022: \u0022, title);\u003Cbr\u003E\t\t\t\t\tlabel.x \u002B= 140;\u003Cbr\u003E\t\t\t\t\tlabel.width = 110;\u003Cbr\u003E\t\t\t\t\tGUI.Label(label, \u0022Font Size 16 \u0022, fonts);\u003Cbr\u003E\t\t\t\t\tlabel.x \u002B= 120;\u003Cbr\u003E\t\t\t\t\tlabel.width = 115;\u003Cbr\u003E\t\t\t\t\tGUI.Label(label, \u0022Font Style Bold\u0022, fontStyle);\u003Cbr\u003E\t\t\t\t\tlabel.x \u002B= 125;\u003Cbr\u003E\t\t\t\t\tlabel.width = 160;\u003Cbr\u003E\t\t\t\t\tGUI.Label(label, string.Format(\u0022R: {0:N3}, G: {1:N3}, B: {2:N3}\u0022, c.Value.r, c.Value.g, c.Value., rgbValue);\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t\tlabel.y \u002B= 32;\u003Cbr\u003E\t\t\t\tlabel.x = 4;\u003Cbr\u003E\t\t\t\tlabel.width = 140;\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t\tGUI.EndScrollView();\u003Cbr\u003E\t\t\tGUI.DragWindow();\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tprivate void assignColors()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tType xkcd = typeof(XKCDColors);\u003Cbr\u003E\u003Cbr\u003E\t\t\tvar properties = xkcd.GetProperties(BindingFlags.Static | BindingFlags.Public);\u003Cbr\u003E\u003Cbr\u003E\t\t\tforeach (var prop in properties)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\ttry\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tColor c = (Color)prop.GetValue(null, null);\u003Cbr\u003E\t\t\t\t\tstring s = prop.Name;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tif (xColors.ContainsKey(s))\u003Cbr\u003E\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\txColors.Add(s, c);\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t\tcatch\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tprint(\u0022Failed to assign a color value\u0022);\u003Cbr\u003E\t\t\t\t\tcontinue;\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t\tforeach (var p in xColors)\u003Cbr\u003E\t\t\t\tsortedColors.Add(p);\u003Cbr\u003E\u003Cbr\u003E\t\t\tsortedColors.Sort((a,  =\u0026gt; a.Key.CompareTo(b.Key));\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-20T17:08:23Z\u0022 title=\u002204/20/2015 05:08  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 20, 2015\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-21T19:19:39Z","Content":"\n\u003Cp\u003EOr \u003Ca href=\u0022http://xkcd.com/color/rgb/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://xkcd.com/color/rgb/\u003C/a\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"}]}