{"TopicId":151164,"ForumId":34,"TopicTitle":"[1.7.3] Real Battery v1.7","CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-30T17:01:14Z","PageNum":1,"Articles":[{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-30T17:01:14Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003EHello everyone,\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\ni \u003Cspan style=\u0022font-size:14px;\u0022\u003Edon\u0027t like squads idea of batteries. The parts in the game called \u0022batteries\u0022 actually behave like capacitors: unlimited re-/charge rates, and low EC storage capacity.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EMy idea of a new mod: increase the available EC-storage per mass, and to keep the balance: a) limit the \u0022fuel\u0022 flow rate (if that is possible) or b) convert EC to another type of \u0022fuel\u0022 and thus enable some sort of re-/charge rate.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EI present:\u00A0\u003C/span\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003EReal Battery\u00A0\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cimg alt=\u0022ALVapTB.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/ALVapTB.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:20px;\u0022\u003EImgur album\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E:\u00A0\u003Ca href=\u0022http://imgur.com/gallery/mb01Z\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/gallery/mb01Z\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EWith this mod you get a realistic battery behavior:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ECharge and discharge rates are limited (dependent on battery tech ie. Lead_Acid or Li_Ion...) and is displayed in the right click menu\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ECharge rate degrades, if the battery comes close to full charge or becomes too hot/cold (see wiki for detailed behaviour); Heat behaviour is customizeable in the cfg file\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nEC range of operation is configurable in RealBattery_mm.cfg file; What this means: Discharge RealBattery until EC is at xx% level, and recharge until EC reaches yy% level. defaults are 10% and 90%.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EMuch higher EC per mass ratio than stock \u0022batteries\u0022\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EStock batteries are currently cloned and enhanced with the new behavior\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ERealBattery uses Stored Charge (1SC = 3600EC)\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EFits perfectly in the realism suite of \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E or RP-0.\u00A0\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ECompatible with Ven\u0027s stock revamp mod altering battery models\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ESupport for \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002283952\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0022 rel=\u0022\u0022\u003E@Nertea\u003C/a\u003E\u0027s DynamicBatteryStorage\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003EDOWNLOAD\u003C/strong\u003E\u003C/span\u003E\u00A0\u003Ca href=\u0022https://github.com/blackliner/RealBattery/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blackliner/RealBattery/releases\u003C/a\u003E\u00A0and \u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003ESOURCE\u003C/strong\u003E\u003C/span\u003E\u00A0\u003Ca href=\u0022https://github.com/blackliner/RealBattery\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blackliner/RealBattery\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:20px;\u0022\u003EWIKI\u003C/span\u003E\u003C/strong\u003E\u00A0\u003Ca href=\u0022https://github.com/blackliner/RealBattery/wiki\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blackliner/RealBattery/wiki\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ERequired Addons:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ECommunity resource pack (not provided)\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83007-12-community-resource-pack-060-new-resources/\u0022 rel=\u0022\u0022\u003Ehttp://forum.kerbalspaceprogram.com/index.php?/topic/83007-12-community-resource-pack-060-new-resources/\u003C/a\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EModule Manager\u00A0(not provided)\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/50533-12-module-manager-273-november-4th-better-late-than-never/\u0022 rel=\u0022\u0022\u003Ehttp://forum.kerbalspaceprogram.com/index.php?/topic/50533-12-module-manager-273-november-4th-better-late-than-never/\u003C/a\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003ETodo:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003EBalancing (done some with v1.1.5)\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cs\u003ESingle use batteries (currently lead acid)\u003C/s\u003E DONE with v1.1.4\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003Ea nice model(currently using stock battery models)\u00A0\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cs\u003Echarging behavior dependend on soc\u003C/s\u003E DONE with v1.1.0\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cs\u003Edifferent classes of battery\u003C/s\u003E DONE: Li ION with 1.1.2\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E1.2 upgrade system (lead acid -\u0026gt; li ion -\u0026gt; future...) \u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cs\u003Estock heat system (fast initial discharge, slowdown when getting too hot/cold)\u003C/s\u003E\u00A0DONE with v1.1.1\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cs\u003Eload balancing algorithm\u003C/s\u003E DONE with v1.1.3\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLicense: \u003Ca href=\u0022https://opensource.org/licenses/MIT\u0022 rel=\u0022external nofollow\u0022\u003EMIT\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-24T20:27:57Z\u0022 title=\u002207/24/2017 08:27  PM\u0022 data-short=\u00226 yr\u0022\u003EJuly 24, 2017\u003C/time\u003E by Blackline\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-10-30T17:26:18Z","Content":"\n\u003Cp\u003E\nYes and no you might look at\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/47786-12-near-future-technologies-oct-26-bugfix-updates/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nyou might use that mod to get more of what you want\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-30T17:38:43Z","Content":"\n\u003Cp\u003E\nI used \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002283952\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0022 rel=\u0022\u0022\u003E@Nertea\u003C/a\u003E\u0027s mod in the past, and if you are reffering to the parts called \u0022capacitors\u0022, thats not exactly what i am about. But it can of course be used as a starter for another mod, to learn stuff etc.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat i don\u0027t like with NFT-capacitors: proprietary unit and manual re/charge. And of course the naming is imho totally wrong.\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-10-30T18:04:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222830568\u0022 data-ipsquote-contentid=\u0022151164\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477849123\u0022 data-ipsquote-userid=\u0022159475\u0022 data-ipsquote-username=\u0022Blackline\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, Blackline said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI used \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002283952\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0022 rel=\u0022\u0022\u003E@Nertea\u003C/a\u003E\u0027s mod in the past, and if you are reffering to the parts called \u0022capacitors\u0022, thats not exactly what i am about. But it can of course be used as a starter for another mod, to learn stuff etc.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat i don\u0027t like with NFT-capacitors: proprietary unit and manual re/charge. And of course the naming is imho totally wrong.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nno not the capacitors i seen you said limit the charge to slow it down and sounds like even if you had to rename stuff so was thing you could use the FissionReactor but would stay away from calling it EC think so other mod uses it but then you could limit the output\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT-\u00A0 batteries are pretty much\u00A0 capacitors they just take longer to charge\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-30T18:11:29Z\u0022 title=\u002210/30/2016 06:11  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 30, 2016\u003C/time\u003E by Mecripp2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-10-30T18:39:28Z","Content":"\n\u003Cp\u003E\nAt one time I was going to make decaying batteries and solar panels and \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003Ertg\u003C/abbr\u003E\u0027s but that would be alittle hard core \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-30T19:16:26Z","Content":"\n\u003Cp\u003E\nI just learned, that the stock fuel cells may be a good starting point. They already convert one fueltype (\u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E) \u00A0to EC. Swap \u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E with something proprietary and enable \u0022cahrging\u0022 of that proprietary fuel by consuming ec.\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-10-30T19:37:10Z","Content":"\n\u003Cp\u003E\nyes you could do that to alot of ways to skin a kerbal \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-10-30T21:28:10Z","Content":"\n\u003Cp\u003E\nBatteries in KSP have functionality of capacitors. And NF capacitors work like manual discharging batteries. The fuelcell idea with a new fuel type might be a good alternative actually. hah, I\u0027ll play with it myself tonight \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\nBTW: Nertea already has an optional patch for \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003ERTG\u003C/abbr\u003E decay in his NF E mod. It\u0027s in the Extras folder and you have to manually move it to your gamedata.\n\u003C/p\u003E\n"},{"CreatedByName":"fourfa","CreatedById":151713,"CreatedDateTime":"2016-10-30T22:22:31Z","Content":"\n\u003Cp\u003E\nWhat does Realism Overhaul do about batteries? \u00A0Nothing?\n\u003C/p\u003E\n\u003Cp\u003E\nSome ideas: real batteries have temperature effects - for instance charging rates are often thermally limited. \u00A0So maybe if you have no radiators on the ship, you can only use trickle charge rates, with a radiator support fast charging and heat discharge. \u00A0EC levels might drop as ship temps go high or low out of the battery\u0027s ideal range. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThinking more about this, you might even be able to use the core heat mechanic of the \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E to regulate this. \u00A0Charging causes heat, as heat builds up to a limit, the charge rate goes to zero. \u00A0Is there any function in the game where being too cold has effects? \u00A0How do the life support mods handle that for cabin heating?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, how about the new upgrade functionality? \u00A0Early career batteries are lead-acid: very heavy, bulky, charge rate limit of X. \u00A0Late career you get a lithium battery upgrade, lighter, smaller, and charge rate of Y.\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-30T22:45:57Z","Content":"\n\u003Cp\u003E\n[snip]\n\u003C/p\u003E\n\u003Cp\u003E\nMeanwhile, i am trying this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\nname = bettery\nmodule = Part\nauthor = Flo\n\nmesh = model.mu\n//MODEL\n//{\n//\tmodel = Squad/Parts/Resources/FuelCell/FuelCell\n//}\nrescaleFactor = 1\n\nnode_attach = 0, 0, 0, 1, 0, 0, 0\n\nTechRequired = largeElectrics\nentryCost = 2250\ncost = 750\ncategory = Electrical\nsubcategory = 0\ntitle = Bettery 1k\nmanufacturer = Elektro Me\ndescription = A better battery.  Also handy for re-heating snacks.\nattachRules = 0,1,0,0,0\n\n// --- standard part parameters ---\nmass = 0.05\ndragModelType = default\nmaximum_drag = 0.2\nminimum_drag = 0.2\nangularDrag = 2\ncrashTolerance = 7\nmaxTemp = 2000 // = 3000\nbulkheadProfiles = srf\ntags = array bank charge convert e/c elect energ pack power volt watt\n\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = Bettery BEC 2 EC\n\t\t StartActionName = Start BEC 2 EC\n\t\t StopActionName = Stop BEC 2 EC\n\t\t ToggleActionName = Toggle BEC 2 EC\n\t\t FillAmount = 0.95\n\t\tAutoShutdown = false\n\t\tGeneratesHeat = false\n\t\tUseSpecialistBonus = false\n \t\t \n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = BetterEC\n\t\t\tRatio = 1\n\t\t\tFlowMode = NO_FLOW\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 10\n\t\t\tDumpExcess = false\n\t\t }\n\t}\n\t\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = Bettery EC 2 BEC\n\t\t StartActionName = Start EC 2 BEC\n\t\t StopActionName = Stop EC 2 BEC\n\t\t ToggleActionName = Toggle EC 2 BEC\n\t\t FillAmount = 0.95\n\t\tAutoShutdown = false\n\t\tGeneratesHeat = false\n\t\tUseSpecialistBonus = false\n \t\t \n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 10\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = BetterEC\n\t\t\tRatio = 1\n\t\t\tDumpExcess = false\n\t\t }\n\t}\n\n\tRESOURCE\n\t{\n\t\tname = BetterEC\n\t\tamount = 1000\n\t\tmaxAmount = 1000\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-30T23:08:40Z\u0022 title=\u002210/30/2016 11:08  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 30, 2016\u003C/time\u003E by Vanamonde\u003C/strong\u003E\n\u003Cbr\u003EKeep it on-topic, please.\n\u003C/span\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2016-10-30T23:07:03Z","Content":"\n\u003Cp\u003E\nSome posts have been removed from this thread. Let\u0027s please not make enemies out of each other over the functions of electronic parts and just talk in a friendly way about the game we all like.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-31T00:42:58Z","Content":"\n\u003Cp\u003E\nAlright, updatet code. And a name: Bettery\n\u003C/p\u003E\n\u003Cp\u003E\nWhat works: manual conversion from EC to BetterEC (BEC) and back. And it only fills EC up until 95% due to\u00A0FillAmount\n\u003C/p\u003E\n\u003Cp\u003E\nWhats missing: automatism - Only charge bettery if total EC \u0026gt; 95%, Only discharge bettery if total EC \u0026lt; 90%\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ERESOURCE_DEFINITION\n{\n\tname = BetterEC\n\tabbreviation = BEC\n\tdensity = 0\n\tunitCost = 0\n\thsp = 0\n\tflowMode = STAGE_PRIORITY_FLOW\n\ttransfer = PUMP\n\tisTweakable = true\n\tvolume = 1\n}\n\nPART\n{\nname = bettery\nmodule = Part\nauthor = Flo\n\nmesh = model.mu\n//MODEL\n//{\n//\tmodel = Squad/Parts/Resources/FuelCell/FuelCell\n//}\nrescaleFactor = 1\n\nnode_attach = 0, 0, 0, 1, 0, 0, 0\n\nTechRequired = largeElectrics\nentryCost = 2250\ncost = 750\ncategory = Electrical\nsubcategory = 0\ntitle = Bettery 1k\nmanufacturer = Elektro Me\ndescription = A better battery.  Also handy for re-heating snacks.\nattachRules = 1,0,1,1,0\nnode_stack_top = 0.0, 0.1108553, 0.0, 0.0, 1.0, 0.0\nnode_stack_bottom = 0.0, -0.1108553, 0.0, 0.0, -1.0, 0.0\n\n// --- standard part parameters ---\nmass = 0.05\ndragModelType = default\nmaximum_drag = 0.2\nminimum_drag = 0.2\nangularDrag = 2\ncrashTolerance = 7\nmaxTemp = 2000 // = 3000\nbulkheadProfiles = srf\ntags = array bank charge convert e/c elect energ pack power volt watt\n\n\n\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = Bettery BEC 2 EC\n\t\t StartActionName = Start BEC 2 EC\n\t\t StopActionName = Stop BEC 2 EC\n\t\t ToggleActionName = Toggle BEC 2 EC\n\t\t FillAmount = 0.95\n\t\tAutoShutdown = false\n\t\tGeneratesHeat = false\n\t\tUseSpecialistBonus = false\n \t\t \n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = BetterEC\n\t\t\tRatio = 1\n\t\t\tFlowMode = NO_FLOW\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 10\n\t\t\tDumpExcess = false\n\t\t }\n\t}\n\t\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = Bettery EC 2 BEC\n\t\t StartActionName = Start EC 2 BEC\n\t\t StopActionName = Stop EC 2 BEC\n\t\t ToggleActionName = Toggle EC 2 BEC\n\t\t FillAmount = 0.95\n\t\tAutoShutdown = false\n\t\tGeneratesHeat = false\n\t\tUseSpecialistBonus = false\n \t\t \n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 10\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = BetterEC\n\t\t\tRatio = 1\n\t\t\tDumpExcess = false\n\t\t }\n\t}\n\n\tRESOURCE\n\t{\n\t\tname = BetterEC\n\t\tamount = 1000\n\t\tmaxAmount = 1000\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-31T00:47:56Z\u0022 title=\u002210/31/2016 12:47  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 31, 2016\u003C/time\u003E by Blackline\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rath","CreatedById":138223,"CreatedDateTime":"2016-10-31T05:50:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222831049\u0022 data-ipsquote-contentid=\u0022151164\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477868823\u0022 data-ipsquote-userid=\u002227914\u0022 data-ipsquote-username=\u0022Vanamonde\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Vanamonde said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSome posts have been removed from this thread. Let\u0027s please not make enemies out of each other over the functions of electronic parts and just talk in a friendly way about the game we all like.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI wanna see how people got confrontational about a thread discussing batteries. \u00A0I don\u0027t even know.\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-31T08:17:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222831365\u0022 data-ipsquote-contentid=\u0022151164\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477893010\u0022 data-ipsquote-userid=\u0022138223\u0022 data-ipsquote-username=\u0022Rath\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Rath said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI wanna see how people got confrontational about a thread discussing batteries. \u00A0I don\u0027t even know.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was battery vs capacitor vs real world. not worth the hassle...\n\u003C/p\u003E\n\u003Cp\u003E\nTo the Topic:\n\u003C/p\u003E\n\u003Cp\u003E\nWith 1.2 the ion engine got a new feature, which stops the engines fuel consumption, if no/very little EC is left. Can I somehow use this mechanic for my part?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit found it:\u00A0minResToLeave, found in ionEngine.cfg, under MODULE --\u0026gt; PROPELLANT: only time mentioned in the internet:\u00A0\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147583-12-prerelease-changelog/\u0026amp;do=embed\u0026amp;comment=2767298\u0026amp;embedComment=2767298\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nso, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E: could INPUT_RESOURCE also profit of that mechanic?\n\u003C/p\u003E\n\u003Cp\u003E\nAfter some thinking, maybe i need to throw in an engine, without thrust etc, and have it run on EC, with BetterEC as byproduct?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-31T10:26:41Z\u0022 title=\u002210/31/2016 10:26  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 31, 2016\u003C/time\u003E by Blackline\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2016-10-31T12:39:34Z","Content":"\n\u003Cp\u003E\nI agree that Squad batteries are somewhat unrealistic in several ways (though it doesn\u0027t really bother me), but they do not have the typical characteristics of a capacitor:\u003Cbr\u003E\nThe characteristic behavior of a capacitor is that it reduces output voltage and output current down to zero as the capacitor discharges, usually quite quickly. It does not maintain output power at all, which makes a capacitor pretty useless as a battery (though tricks with additional electronics can make it behave more like a battery). \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA battery however both irl and in KSP, maintains output voltage and output current pretty well during discharge. Arguably KSP batteries maintain output power to well - but that only makes them less capacitor-like.\u003Cbr\u003E\nGood luck with creating this mod anyway.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"N_Molson","CreatedById":63688,"CreatedDateTime":"2016-10-31T13:29:38Z","Content":"\n\u003Cp\u003E\nStock KSP batteries are far too light IMHO. Such stuff tends to be heavy, and even a small car 12V DC battery is suprisingly dense.\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-31T13:37:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222831636\u0022 data-ipsquote-contentid=\u0022151164\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477917574\u0022 data-ipsquote-userid=\u002215721\u0022 data-ipsquote-username=\u0022rkman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, rkman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI agree that Squad batteries are somewhat unrealistic in several ways (though it doesn\u0027t really bother me), but they do not have the typical characteristics of a capacitor:\u003Cbr\u003E\nThe characteristic behavior of a capacitor is that it reduces output voltage and output current down to zero as the capacitor discharges, usually quite quickly. It does not maintain output power at all, which makes a capacitor pretty useless as a battery (though tricks with additional electronics can make it behave more like a battery). \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA battery however both irl and in KSP, maintains output voltage and output current pretty well during discharge. Arguably KSP batteries maintain output power to well - but that only makes them less capacitor-like.\u003Cbr\u003E\nGood luck with creating this mod anyway.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am not going down that road again and get me some sour cookies. And I won\u0027t discuss electrotechnical basics. Whoever thinks he knows capacitors AND thinks, batteries in KSP are not similar to capacitors at all:\u00A0\u003Ca href=\u0022http://machinedesign.com/batteriespower-supplies/what-s-difference-between-batteries-and-capacitors\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://machinedesign.com/batteriespower-supplies/what-s-difference-between-batteries-and-capacitors\u003C/a\u003E\u00A0and some of\u00A0\u003Ca href=\u0022https://www.quora.com/What-is-the-difference-between-a-capacitor-and-a-battery\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.quora.com/What-is-the-difference-between-a-capacitor-and-a-battery\u003C/a\u003E\u00A0and maybe even some of\u00A0\u003Ca href=\u0022http://physics.stackexchange.com/questions/32391/what-is-the-difference-between-a-battery-and-a-charged-capacitor\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://physics.stackexchange.com/questions/32391/what-is-the-difference-between-a-battery-and-a-charged-capacitor\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022152759\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/152759-jimbodiah/\u0022 rel=\u0022\u0022\u003E@Jimbodiah\u003C/a\u003Eany luck last night?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-31T13:42:35Z\u0022 title=\u002210/31/2016 01:42  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 31, 2016\u003C/time\u003E by Blackline\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2016-10-31T14:02:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222831706\u0022 data-ipsquote-contentid=\u0022151164\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477921025\u0022 data-ipsquote-userid=\u0022159475\u0022 data-ipsquote-username=\u0022Blackline\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, Blackline said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am not going down that road again and get me some sour cookies. And I won\u0027t discuss electrotechnical basics. Whoever thinks he knows capacitors AND thinks, batteries in KSP are not similar to capacitors at all:\u00A0\u003Ca href=\u0022http://machinedesign.com/batteriespower-supplies/what-s-difference-between-batteries-and-capacitors\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://machinedesign.com/batteriespower-supplies/what-s-difference-between-batteries-a\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThose links do not describe KSP batteries. I also won\u0027t go down that road but you are incorrect.\n\u003C/p\u003E\n\u003Cp\u003E\nHigh charge rates and low storage capacity are not what distinguish capacitors from batteries, it is the discharge behavior of the two that is fundamentally different.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-31T14:07:43Z\u0022 title=\u002210/31/2016 02:07  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 31, 2016\u003C/time\u003E by rkman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-10-31T15:23:28Z","Content":"\n\u003Cp\u003E\nKSP batteries hold charge, they do not generate anything by means of a chemical process and have no limit as to how fast you can pull current out of them or for how long. Hence KSP batteries are capacitors in real life.\u003Cbr\u003E\u003Cbr\u003E\nBut no, not had luck, I need to make a plugin for what I had in mind. Using a fuel cell with a different fuel is only for the draining part, not the recharging. For that I would need to detect if there is another more powerful source on board that will charge the battery so that it does not supply current (and drain the fuel) while there are other sources like solar panels delivering all the needed current to begin with. So making a real battery analogy will be harder than just making a fuel cell copy. The only other alternative is to check the output of all solar panels or reactors, and if they are 0 the to start the fuel-cell automatically, stopping it later if one of the other sources starts up again (and has a greater Ec output than the battery itself).\n\u003C/p\u003E\n\u003Cp\u003E\nMight make a really nice mod this: Real Batteries. Even add battery decay in function of time like Nertea did with his \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003ERTG\u003C/abbr\u003E plugin. Maybe we can trick\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002283952\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0022 rel=\u0022\u0022\u003E@Nertea\u003C/a\u003E\u00A0into adding something like this to his NFE pack \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-31T16:13:45Z","Content":"\n\u003Cp\u003E\nI wont go too far with that, just watch the current EC and charge the bettery if \u0026gt;95% and discharge if \u0026lt;90%. This way you implicitly check existing generators. If I just knew how to write plugins...\n\u003C/p\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-10-31T16:30:07Z","Content":"\n\u003Cp\u003E\nHaha, same problem. I may jump into C# just to try it out, but at this stage it\u0027s a more a novelty than a game-changing feature.\n\u003C/p\u003E\n"},{"CreatedByName":"Blackline","CreatedById":159475,"CreatedDateTime":"2016-10-31T20:15:34Z","Content":"\n\u003Cp\u003E\nOne Step ahead: \u003Cs\u003EBut it wont work, it seems\u00A0OnFixedUpdate is not called... \u003C/s\u003EEDIT: seems a part.force_activate(); was missing, it works!!\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: final set for tonight:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nusing UnityEngine;\n\nnamespace KSPplugin1\n{\n    public class Bettery : PartModule\n    {\n\n        // Charge Rate, how much storedCharge is taken per call\n        [KSPField(isPersistant = false)]\n        public float ChargeRate;\n\n        // Amount of Ec per storedCharge\n        [KSPField(isPersistant = false)]\n        public float ChargeRatio;\n\n        // Only charge if total EC is higher than this, eg 0.95\n        [KSPField(isPersistant = false)]\n        public float HighEClevel;\n\n        // Only discharge if total EC is lowe than this, eg 0.9\n        [KSPField(isPersistant = false)]\n        public float LowEClevel;\n\n        // chargin/discharge efficiency\n        [KSPField(isPersistant = false)]\n        public float ChargeEfficiency;\n\n        // Bettery Status string\n        [KSPField(isPersistant = false, guiActive = true, guiName = \u0022Status\u0022)]\n        public string ChargingStatus;\n\n\n\n        public override void OnStart(StartState state)\n        {\n            //Debug.Log(\u0022Bettery: OnStart\u0022);\n            ChargingStatus = \u0022Initializing\u0022;\n\n            part.force_activate();\n        }\n\n        public override void OnUpdate()\n        {\n            //Debug.Log(\u0022Bettery: OnUpdate\u0022);\n            //ChargingStatus = \u0022OnUpdate\u0022;            \n        }\n\n        public override string GetInfo()\n        {\n            //Debug.Log(\u0022Bettery: GetInfo\u0022);\n            return String.Format(\u0022Maximum Charge Rate: {0:F2}SC/s\u0022, ChargeRate) \u002B \u0022\\n\u0022 \u002B String.Format(\u0022Efficiency: {0:F2}%\u0022, ChargeEfficiency * 100);\n        }\n\n        public override void OnFixedUpdate()\n        {\n            //Debug.Log(\u0022Bettery: OnFixedUpdate\u0022);\n            double EC_amount, EC_maxAmount, EC_delta, EC_delta_avail, EC_delta_missing;\n            double SC_amount, SC_maxAmount, SC_SOC, SC_delta;\n\n            //ChargingStatus = \u0022OnFixedUpdate\u0022;\n\n            int EC_id = PartResourceLibrary.Instance.GetDefinition(\u0022ElectricCharge\u0022).id;\n            int SC_id = PartResourceLibrary.Instance.GetDefinition(\u0022StoredCharge\u0022).id;\n\n            this.part.GetConnectedResourceTotals(EC_id, out EC_amount, out EC_maxAmount);\n\n            if (EC_maxAmount \u0026gt; 0)\n            {\n                EC_delta_avail = EC_amount - EC_maxAmount * HighEClevel;  //amount of available EC for charging: 980 - 1000 * 0.95 = 30EC to spare\n                EC_delta_missing = EC_maxAmount * LowEClevel - EC_amount;  //amount of missing EC for discharging: 1000 * 0.9 - 500 = 400EC missing\n            }\n            else\n            {\n                EC_delta_avail = 0;\n                EC_delta_missing = 0;\n            }\n\n            this.part.GetConnectedResourceTotals(SC_id, out SC_amount, out SC_maxAmount);\n\n            if (SC_maxAmount \u0026gt; 0)\n                SC_SOC = SC_amount / SC_maxAmount;\n            else\n                SC_SOC = 0;\n\n            if (EC_delta_avail \u0026gt; 0 \u0026amp;\u0026amp; SC_SOC \u0026lt; 1) // Charge internal Bettery\n            {   \n                EC_delta = this.part.RequestResource(EC_id, Math.Min(TimeWarp.fixedDeltaTime * ChargeRate * ChargeRatio, EC_delta_avail));    // EC_delta = 0.1s * 1SC/s * 10EC/SC = 1EC\n\n                SC_delta = this.part.RequestResource(SC_id, -EC_delta / ChargeRatio * ChargeEfficiency);            // SC_delta = -1EC / 10EC/SC * 0.9 = -0.09SC\n\n                ChargingStatus = String.Format(\u0022Charging\u0022);\n            }\n            else if (EC_delta_missing \u0026gt; 0 \u0026amp;\u0026amp; SC_SOC \u0026gt; 0)  // Discharge internal Bettery\n            {\n                SC_delta = this.part.RequestResource(SC_id, Math.Min(TimeWarp.fixedDeltaTime * ChargeRate, EC_delta_missing / ChargeRatio));                  // SC_delta = 0.1s * 1SC/s = 0.1SC\n\n                EC_delta = this.part.RequestResource(EC_id, -SC_delta * ChargeRatio);                               // EC_delta = -0.1SC * 10EC/SC = 1EC\n\n                ChargingStatus = String.Format(\u0022Discharging\u0022);\n            }\n            else\n            {\n                ChargingStatus = String.Format(\u0022idle\u0022);\n            }\n            \n        }\n    }\n}\n\u003C/pre\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nRESOURCE_DEFINITION\n{\n\tname = StoredCharge\n\tabbreviation = SC\n\tdensity = 0\n\tunitCost = 0\n\thsp = 0\n\tflowMode = NO_FLOW\n\ttransfer = NONE\n\tisTweakable = true\n\tvolume = 1\n}\n\nPART\n{\nname = bettery1k\nmodule = Part\nauthor = Flo\n\nmesh = model.mu\n//MODEL\n//{\n//\tmodel = Squad/Parts/Resources/FuelCell/FuelCell\n//}\nrescaleFactor = 1\n\nnode_attach = 0, 0, 0, 1, 0, 0, 0\n\nTechRequired = largeElectrics\nentryCost = 2250\ncost = 750\ncategory = Electrical\nsubcategory = 0\ntitle = Bettery 1k\nmanufacturer = Elektro Me\ndescription = A better battery. Also handy for re-heating snacks.\nattachRules = 1,0,1,1,0\nnode_stack_top = 0.0, 0.1108553, 0.0, 0.0, 1.0, 0.0\nnode_stack_bottom = 0.0, -0.1108553, 0.0, 0.0, -1.0, 0.0\n\n// --- standard part parameters ---\nmass = 0.05\ndragModelType = default\nmaximum_drag = 0.2\nminimum_drag = 0.2\nangularDrag = 2\ncrashTolerance = 7\nmaxTemp = 2000 // = 3000\nbulkheadProfiles = srf\ntags = array bank charge convert e/c elect energ pack power volt watt\n\n\n\n\tMODULE\n\t{\n\t\t name = Bettery\n\t\t ChargeRate = 0.1\n\t\t ChargeRatio = 10\n\t\t ChargeEfficiency = 1\n\t\t HighEClevel = 0.95\n\t\t LowEClevel = 0.9\n\t}\n\t\n\tRESOURCE\n\t{\n\t\tname = StoredCharge\n\t\tamount = 1000\n\t\tmaxAmount = 1000\n\t}\n\tRESOURCE\n\t{\n\t\tname = ElectricCharge\n\t\tamount = 10\n\t\tmaxAmount = 10\n\t}\n}\n\u003C/pre\u003E\n\u003Cp\u003E\n25% of the credits go to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0026amp;do=hovercard\u0022 data-mentionid=\u002283952\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/\u0022 rel=\u0022\u0022\u003E@Nertea\u003C/a\u003E, i \u003Cs\u003Estole\u003C/s\u003E\u00A0used some code from his capacitors...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-01T10:11:32Z\u0022 title=\u002211/01/2016 10:11  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 1, 2016\u003C/time\u003E by Blackline\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-11-01T00:57:39Z","Content":"\n\u003Cp\u003E\nLets not say stole just using so of Nertea code \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-11-01T01:07:09Z","Content":"\n\u003Cp\u003E\nWay to go Blackline! \u00A0Have you tested it?\u003Cbr\u003E\u003Cbr\u003E\nPS: What do you use to write the plugin? C\u002B\u002B or C# ?\n\u003C/p\u003E\n"},{"CreatedByName":"Overland","CreatedById":119812,"CreatedDateTime":"2016-11-01T02:02:49Z","Content":"\n\u003Cp\u003E\nInteresting thread\n\u003C/p\u003E\n\u003Cp\u003E\nIm looking for a similar thing but for lead acid traction blocks..sealed lead acid heavy as half of kerbin\n\u003C/p\u003E\n\u003Cp\u003E\nThe idea is to use them in battery locomotives for land trains.. Consumptions easy enough to dial by the numbers based on time vs use..say for a 12 hour realtime shift before charging\n\u003C/p\u003E\n\u003Cp\u003E\nBut a battery mod with discharge and recharge rates would be nice\n\u003C/p\u003E\n\u003Cp\u003E\nId hate for a fuel powered generator wagon to charge in seconds or for hills and overloading to.make no difference\n\u003C/p\u003E\n\u003Cp\u003E\nSadly though at 100 kilos\u002B for a standard battery pack I doubt theyd be spaceworthy\n\u003C/p\u003E\n"}]}