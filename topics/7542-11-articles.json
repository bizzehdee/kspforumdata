{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":11,"Articles":[{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2013-05-12T22:36:07Z","Content":"\n\u003Cp\u003EThis may have been asked before, as I only skimmed through the thread before posting, so apologies if this is a repeat of a previous question.\u003C/p\u003E\u003Cp\u003EHow would I go about adding my own propellant? And then how would I go about making a custom engine that runs off that propellant and electricity?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-12T22:56:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GreenWolf\u0022 data-cite=\u0022GreenWolf\u0022\u003E\u003Cdiv\u003EHow would I go about adding my own propellant? And then how would I go about making a custom engine that runs off that propellant and electricity?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EResources are defined by .cfg files (of any name) in the Resources folder, see the ResourcesGeneric.cfg holding the default resources for an example.\u003C/p\u003E\u003Cp\u003EYou don\u0027t need a custom engine to use a custom propellant, you can simply change the name of the resource ModuleEngines uses.\u003C/p\u003E\n"},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2013-05-12T23:03:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EResources are defined by .cfg files (of any name) in the Resources folder, see the ResourcesGeneric.cfg holding the default resources for an example.\u003Cp\u003EYou don\u0027t need a custom engine to use a custom propellant, you can simply change the name of the resource ModuleEngines uses.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay. So making a fuel tank for the custom propellant would just require me to change the name of the resource that it stores, correct?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-13T10:51:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GreenWolf\u0022 data-cite=\u0022GreenWolf\u0022\u003E\u003Cdiv\u003EOkay. So making a fuel tank for the custom propellant would just require me to change the name of the resource that it stores, correct?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter you\u0027ve defined that resource in a .cfg file in the resources folder, yes.\u003C/p\u003E\n"},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2013-05-13T17:54:36Z","Content":"\n\u003Cp\u003EIs there a way to check what kind of terrain a vessel is on? I want to be able to detect if the vessel is in an ocean or on ice. Is there a simple way to do this, or will I have to give it the coordinates of each ocean and ice cap?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-13T18:28:02Z","Content":"\n\u003Cp\u003ECheck the vessel.situation, it\u0027ll be splashed if it\u0027s floating in an ocean. As for the ice, I don\u0027t even know if that\u0027s defined, it may simply be terrain that\u0027s white with no bumps.\u003C/p\u003E\n"},{"CreatedByName":"LaydeeDem","CreatedById":5984,"CreatedDateTime":"2013-05-14T02:10:08Z","Content":"\n\u003Cp\u003EAlright. I have learned how to make a button:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/56154768/Mods/screenshot2.png\u0022 alt=\u0022screenshot2.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow how do I make the button do something i.e. play a sound?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E \u003Cimg src=\u0022https://3.bp.blogspot.com/-3El_jidAW4Q/UVCFt4ZoUoI/AAAAAAAAA_4/Bf99uG6wjDI/s1600/I\u002Bhave\u002Bno\u002Bidea\u002Bwhat\u002BI\u002Bam\u002Bdoing.jpg\u0022 alt=\u0022I\u002Bhave\u002Bno\u002Bidea\u002Bwhat\u002BI\u002Bam\u002Bdoing.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-14T02:26:43Z\u0022 title=\u002205/14/2013 02:26  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 14, 2013\u003C/time\u003E by Nutt007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2013-05-14T14:23:18Z","Content":"\n\u003Cp\u003EIf you did it right, you should have a function with the [KSPEvent] attribute... put your stuff in that function \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"LaydeeDem","CreatedById":5984,"CreatedDateTime":"2013-05-16T15:05:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kreuzung\u0022 data-cite=\u0022Kreuzung\u0022\u003E\u003Cdiv\u003EIf you did it right, you should have a function with the [KSPEvent] attribute... put your stuff in that function \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay so I\u0027m a complete noob here. Do I put the button gui stuff in the [KSPEvent] or do I put the stuff the button does into the [KSPEvent]?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-16T15:30:28Z","Content":"\n\u003Cp\u003EThe [KSPEvent] line (known as an attribute) causes the game to create a button on the right click menu that, when clicked, executes the code inside the method that the [KSPEvent] attribute is applied to (placed on the line above).\u003C/p\u003E\n"},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2013-05-16T19:36:29Z","Content":"\n\u003Cp\u003EI think I did this right, but could someone check it for me? There aren\u0027t any models yet, but the stock engine models should work. \u003Ca href=\u0022https://www.dropbox.com/s/2mpxg1fbh97lk9f/Steamworks.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/2mpxg1fbh97lk9f/Steamworks.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt also uses the ResGen plugin: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/28895-PLUGIN-0-19-1-Resource-Generation-Module\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/28895-PLUGIN-0-19-1-Resource-Generation-Module\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-16T20:06:54Z","Content":"\n\u003Cp\u003EThere doesn\u0027t appear to be any plugin code in there at all so this probably isn\u0027t the best place for it. With config files you\u0027re generally only setting the game-wide options, so if it works the first time you test a feature there generally isn\u0027t any hidden surprises.\u003C/p\u003E\u003Cp\u003EAlso, I would stick to using the default ModuleGenerator unless you actually need the features in ResGen (which you don\u0027t appear to be using from the config files). It\u0027s better tested, is much more likely to be compatible with future versions and doesn\u0027t require download of a third party plugin (which some people don\u0027t like doing).\u003C/p\u003E\n"},{"CreatedByName":"GreenWolf","CreatedById":65798,"CreatedDateTime":"2013-05-16T21:05:41Z","Content":"\n\u003Cp\u003EOkay, thanks for the tips. Is there any way to check if the vessel is splashed down and activate the ModuleGenerator if it is using just config files? I want to make a pump that can collect water from oceans, and if there\u0027s a way to make it activate when the vessel splashes down, it would save me a lot of time.\u003C/p\u003E\n"},{"CreatedByName":"NocnaShada","CreatedById":63084,"CreatedDateTime":"2013-05-19T19:42:04Z","Content":"\n\u003Cp\u003EHi. I\u0027m trying to rotate attached parts through a simple PartModule, and the best I managed to produce was the whole ship exploding when I applied MoveRotation to the part\u0027s Rigidbody. I haven\u0027t tried anything concerning AttachNode yet since it\u0027s getting late, so I\u0027m interested if anyone knows how I could do this.\u003C/p\u003E\u003Cp\u003EI\u0027d hate it if the only way was to make animated parts:S\u003C/p\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2013-05-21T13:36:01Z","Content":"\n\u003Cp\u003EHi, I\u0027m trying to develop a plugin that will show specific bits of information based on the celestial body that the ship is landed on (so long as the ship has the module that the plugin is linked to). I\u0027m really stuck as to how I can get set the plugin to recognize the celestial body and display the relevant information. (I may add a button to refresh the data). Can anyone help? Thanks.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-21T14:38:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NocnaShada\u0022 data-cite=\u0022NocnaShada\u0022\u003E\u003Cdiv\u003EHi. I\u0027m trying to rotate attached parts through a simple PartModule, and the best I managed to produce was the whole ship exploding when I applied MoveRotation to the part\u0027s Rigidbody. I haven\u0027t tried anything concerning AttachNode yet since it\u0027s getting late, so I\u0027m interested if anyone knows how I could do this.\u003Cp\u003EI\u0027d hate it if the only way was to make animated parts:S\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPart RigidBodies are joined by physics Joints so trying to rotate them through the physics system will put a physics strain on them.\u003C/p\u003E\u003Cp\u003EIt depends on what you\u0027re trying to achieve, if the part has nothing connected to it then it may be sufficient to just rotate the model transform (which includes the colliders). Otherwise you probably want to do something like Damned Robotics does and replace the fixed joints between parts with ones that can be rotated. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zyrac\u0022 data-cite=\u0022Zyrac\u0022\u003E\u003Cdiv\u003EHi, I\u0027m trying to develop a plugin that will show specific bits of information based on the celestial body that the ship is landed on (so long as the ship has the module that the plugin is linked to). I\u0027m really stuck as to how I can get set the plugin to recognize the celestial body and display the relevant information. (I may add a button to refresh the data). Can anyone help? Thanks.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re extending PartModule then the current CelestialBody whose sphere of influence the vessel is in should be this.vessel.mainBody\u003C/p\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2013-05-21T15:59:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EIf you\u0027re extending PartModule then the current CelestialBody whose sphere of influence the vessel is in should be this.vessel.mainBody\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut is there a code I can use maybe so that when the button in the window is clicked, it detects what the celestial body is? I can make the button but I can\u0027t get it to actually do anything. (I\u0027ve basically got a window with a useless button at the moment.) I\u0027d also like the plugin to display different information, based on the detected celestial body. (eg. Button is clicked ---\u0026gt; Celestial body is found to be Duna ---\u0026gt; Displays information relevant to Duna.) It would be great if it could all be set up for clicking that one button.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-21T16:43:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zyrac\u0022 data-cite=\u0022Zyrac\u0022\u003E\u003Cdiv\u003E(eg. Button is clicked ---\u0026gt; Celestial body is found to be Duna ---\u0026gt; Displays information relevant to Duna.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUh, can you not check what it\u0027s called? I\u0027m fairly sure there\u0027s a CelestialBody.name property or something that\u0027ll allow you to easily identify which one it is\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eswitch(this.vessel.mainBody.name)\u003Cbr\u003E{\u003Cbr\u003E    case \u0022Duna\u0022:\u003Cbr\u003E\t//Do Duna Stuff\u003Cbr\u003E\tbreak;\u003Cbr\u003E    case \u0022Eve:\u003Cbr\u003E\t//Do Eve Stuff\u003Cbr\u003E\tbreak;\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2013-05-22T14:48:01Z","Content":"\n\u003Cp\u003EThanks EndlessWaves, that\u0027s really helpful but now I\u0027ve got an issue that I really don\u0027t get. I\u0027ve got this code:\u003C/p\u003E\u003Cp\u003E private void OnWindow(int RUILifeTechWindow)\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E GUILayout.BeginVertical();\u003C/p\u003E\u003Cp\u003E if (GUILayout.Button(\u0022Get Data\u0022, _buttonStyle))\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E switch (this.vessel.mainBody.name) {\u003C/p\u003E\u003Cp\u003E case \u0022Kerbin\u0022 : \u003C/p\u003E\u003Cp\u003E GUILayout.Label(\u0022Current Body: Kerbin\u0022, _labelStyle);\u003C/p\u003E\u003Cp\u003E GUILayout.Label(\u0022Atmosphere Present: Yes\u0022, _labelStyle);\u003C/p\u003E\u003Cp\u003E GUILayout.Label(\u0022Oxygen Present: Yes\u0022, _labelStyle);\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E GUILayout.EndVertical();\u003C/p\u003E\u003Cp\u003E GUI.DragWindow();\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003ESo, the button identifies the body as Kerbin. However, once it does that, it doesn\u0027t display the labels? I\u0027ve tested it out with other things like \u0022Application.OpenURL\u0022 and it works fine, but I can\u0027t get it to create the labels. I\u0027m probably doing something really stupid because I\u0027m new to C# and the whole KSP plugin thing. Any ideas what the problem is? Thanks.\u003C/p\u003E\n"},{"CreatedByName":"yongedevil","CreatedById":62491,"CreatedDateTime":"2013-05-24T17:45:08Z","Content":"\n\u003Cp\u003EI\u0027m having a lot of trouble trying to use a class to store information for a PartModule. I have had success when using a provided class like ModuleResource, but when using my own class I get a null pointer exception. Bellow is a simplified example of what I\u0027m doing.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Enamespace MyNameSpace\u003Cbr\u003E{\u003Cbr\u003E\tpublic class TestClass\u003Cbr\u003E\t{\u003Cbr\u003E\t\tpublic string name;\u003Cbr\u003E\t\tpublic int value;\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tpublic class MyPartModule : PartModule\u003Cbr\u003E\t{\u003Cbr\u003E\t\tpublic TestClass testObject;\u003Cbr\u003E\t\tpublic ModuleResource resourceObject;\u003Cbr\u003E\u003Cbr\u003E\t\tpublic override void OnLoad(ConfigNode node)\u003Cbr\u003E        \t{\u003Cbr\u003E\t\t\ttestObject = new TestClass();\u003Cbr\u003E\t\t\tresourceObject = new ModuleResource();\u003Cbr\u003E\u003Cbr\u003E\t\t\ttestObject.name = \u0022Object 1\u0022;\u003Cbr\u003E\t\t\ttestObject.value = 31;\u003Cbr\u003E\u003Cbr\u003E\t\t\tresourceObject.name = \u0022ElectricCharge\u0022;\u003Cbr\u003E\t\t\tresourceObject.rate = 0.5;\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tpublic override void OnSave(ConfigNode node)\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tDebug.Log(\u0022OnSave: resourceObject name: \u0022 \u002B  resourceObject.name \u002B \u0022 | rate: \u0022 \u002B resourceObject.rate);\u003Cbr\u003E\u003Cbr\u003E\t\t\tDebug.Log(\u0022OnSave: testObject name: \u0022 \u002B  testObject.name \u002B \u0022 | value: \u0022 \u002B testObject.value);\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUsing Debug.Log to print out the status as it goes, OnLoad is called during game load and runs fine. I can print back the values stored in both objects. When selecting the part the module is attached to in the VAB, OnSave is then called and throws a null pointer exception for testObject. ResourceObject however works fine.\u003C/p\u003E\u003Cp\u003EI\u0027m stumped as to why ResourceModule works but my class does not. Can anyone offer any insight into this?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-24T18:36:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zyrac\u0022 data-cite=\u0022Zyrac\u0022\u003E\u003Cdiv\u003EAny ideas what the problem is? Thanks.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t done much GUI stuff, but it\u0027s largely a system from the unity engine rather than a KSP specific one so you may be able to broaden your search into using buttons to create GUI elements in unity.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yongedevil\u0022 data-cite=\u0022yongedevil\u0022\u003E\u003Cdiv\u003EI\u0027m stumped as to why ResourceModule works but my class does not. Can anyone offer any insight into this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECode objects get destroyed between scenes. It is a bit of a mystery about whether there\u0027s supposed to be an official way of saving objects but the workaround I normally use is to reference it in a static variable - often a dictionary keyed to part name for compatibility for different parts on the same module.\u003C/p\u003E\n"},{"CreatedByName":"nyrath","CreatedById":61886,"CreatedDateTime":"2013-05-24T19:17:30Z","Content":"\n\u003Cp\u003EKeep in mind that I\u0027m just an utter newbie at plugin development.\u003C/p\u003E\u003Cp\u003EI\u0027ve got a part, the Orion Engine. In Unity 3D, it is called \u0022USAF10MeterOrionEngine2\u0022. It is composed of two sub-parts: \u0022obj_propulsionuint\u0022 and \u0022obj_pusherplate\u0022.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i816.photobucket.com/albums/zz85/winchellchung/pushProb01.jpg\u0022 alt=\u0022pushProb01.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the plugin, an animation is played. Each time a propulsion charge is detonated below the pusher plate, obj_pusherplate is moved upward. Then over the period of a second, it gradually moves back down to the rest position. That is working perfectly.\u003C/p\u003E\u003Cp\u003EThe trouble comes if you try to attach other parts to the pusher plate.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i816.photobucket.com/albums/zz85/winchellchung/pushProb02.jpg\u0022 alt=\u0022pushProb02.jpg\u0022\u003E\u003Cimg src=\u0022http://i816.photobucket.com/albums/zz85/winchellchung/pushProb03.jpg\u0022 alt=\u0022pushProb03.jpg\u0022\u003E\u003Cimg src=\u0022http://i816.photobucket.com/albums/zz85/winchellchung/pushProb04.jpg\u0022 alt=\u0022pushProb04.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the first picture, in the VAB, I\u0027ve attached landing struts and ladders to the pusher plate. In the second picture, you see the rocket in flight with the pusher plate in the rest position. In the third picture you see the problem. The pusher plate moves but the struts stay in the same position.\u003C/p\u003E\u003Cp\u003EI animate the pusher plate movement by brute force, manually changing the pusher plate\u0027s transform:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    public string engineModelName = \u0022USAF10MeterOrionEngine2\u0022;\u003Cbr\u003E    public string subModelPlateName = \u0022obj_pusherplate\u0022;\u003Cbr\u003E    private Transform entireModel;\u003Cbr\u003E    private Transform pusherPlate;\u003Cbr\u003E    public float plateOffset = 4.88f;\u003Cbr\u003E    public float plateSpeed = 4.88f;\u003Cbr\u003E\u003Cbr\u003E    protected override void onFlightStart()\u003Cbr\u003E    {\u003Cbr\u003E        ...\u003Cbr\u003E        // get pusher plate section of propulsion system model\u003Cbr\u003E        this.entireModel = base.transform.FindChild(\u0022model\u0022);\u003Cbr\u003E        this.pusherPlate = this.entireModel.FindChild(this.engineModelName);\u003Cbr\u003E        this.pusherPlate = this.pusherPlate.FindChild(this.subModelPlateName);\u003Cbr\u003E        ...\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    protected void launchBomb()\u003Cbr\u003E    {\u003Cbr\u003E         ...\u003Cbr\u003E           \tthis.pusherPlate.localPosition = new Vector3(0f, this.plateOffset, 0f);\u003Cbr\u003E        ...\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    protected override void onActiveFixedUpdate()\u003Cbr\u003E    {\u003Cbr\u003E        float newPlateY = this.pusherPlate.localPosition.y;\u003Cbr\u003E        // if pusher plate is currently displaced upward by a bomb detonation...\u003Cbr\u003E        if (this.pusherPlate.localPosition.y \u0026gt; 0.01f)\u003Cbr\u003E        {\u003Cbr\u003E            // multiply by Time.get_deltaTime() to convert plateSpeed into displacement per second\u003Cbr\u003E            float plateDelta = this.plateSpeed * Time.deltaTime;\u003Cbr\u003E            if (plateDelta \u0026lt; newPlateY) {\u003Cbr\u003E                newPlateY -= plateDelta;\t// slowly move plate back down to rest position\u003Cbr\u003E            } else {\u003Cbr\u003E                newPlateY = 0f;\t\t\t\u003Cbr\u003E            }\u003Cbr\u003E        } else {\u003Cbr\u003E            newPlateY = 0f;\t\t\t\t\t\t\t// plate at rest position\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        this.pusherPlate.localPosition = new Vector3(0f, newPlateY, 0f);\t// move plate to position\u003Cbr\u003E        ...\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhy manually? Unfortunately the pusher plate also has an emission animation for heat build up. When I used another animation for the pusher plate movement, it disabled the emission animation.\u003C/p\u003E\u003Cp\u003ESo my question is: How can I make the parts attached to the plate move with the plate?\u003C/p\u003E\u003Cp\u003EThe obvious solution is to somehow identify which parts are attached to the plate and brute force move them as well. Trouble is, I do not know how to find out which parts are attached to obj_pusherplate, I suspect all the parts are attached to USAF10MeterOrionEngine2. \u003C/p\u003E\u003Cp\u003EAny advice?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-24T19:47:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nyrath\u0022 data-cite=\u0022nyrath\u0022\u003E\u003Cdiv\u003EThe obvious solution is to somehow identify which parts are attached to the plate and brute force move them as well. Trouble is, I do not know how to find out which parts are attached to obj_pusherplate, I suspect all the parts are attached to USAF10MeterOrionEngine2. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlmost, joints between parts are physics joints and they\u0027re between RigidBodies, not colliders. The other parts are actually attached to a GameObject with the part name (the unique ID specified in the name field of the config), that is the parent of your \u0027USAFOrionEngine\u0027 object as this is the only GameObject in the part with a RigidBody component attached (as you can only have one per GameObject hierarchy).\u003C/p\u003E\u003Cp\u003EAs to getting it to work, probably the most straightforward solution I can think of is to make the pusher plate a separate part and swap the standard FixedJoint connection with the propulsion unit into a sliding joint (HingeJoint, ConfigurableJoint). This is similar to what R4m0n did with DamnedRobotics so there\u0027s some example code there. This could potentially also have the advantage that you wouldn\u0027t need to animate the bounce manually but could have it fully physics controlled, dependant on the strength of the force imparted and able to double up as a landing shock absorber.\u003C/p\u003E\u003Cp\u003EAlternatively, just set up the config file to disallow surface attach. Given it\u0027s being irradiated by nuclear bombs who\u0027s going to want to get close enough to stick anything to the surface anyway?\u003C/p\u003E\n"},{"CreatedByName":"nyrath","CreatedById":61886,"CreatedDateTime":"2013-05-24T20:24:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EAs to getting it to work, probably the most straightforward solution I can think of is to make the pusher plate a separate part and swap the standard FixedJoint connection with the propulsion unit into a sliding joint (HingeJoint, ConfigurableJoint). This is similar to what R4m0n did with DamnedRobotics so there\u0027s some example code there. This could potentially also have the advantage that you wouldn\u0027t need to animate the bounce manually but could have it fully physics controlled, dependant on the strength of the force imparted and able to double up as a landing shock absorber\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! I\u0027ll look into that\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EAlternatively, just set up the config file to disallow surface attach. Given it\u0027s being irradiated by nuclear bombs who\u0027s going to want to get close enough to stick anything to the surface anyway?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, the problem is that when it is sitting on just its pusher plate, the entire rocket sways back and forth for some odd reason. When I attach launch clamps or landing shock absorbers, the sway stops.\u003C/p\u003E\u003Cp\u003EI was also experimenting with some stock solution to the problem of the poor Kerbals making their way down 20 meters of Orion engine to the ground. A crane would be ideal, but that is not stock.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-05-25T07:12:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yongedevil\u0022 data-cite=\u0022yongedevil\u0022\u003E\u003Cdiv\u003EUsing Debug.Log to print out the status as it goes, OnLoad is called during game load and runs fine. I can print back the values stored in both objects. When selecting the part the module is attached to in the VAB, OnSave is then called and throws a null pointer exception for testObject. ResourceObject however works fine.\u003Cp\u003EI\u0027m stumped as to why ResourceModule works but my class does not. Can anyone offer any insight into this?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the part is cloned, not the original that had the \u0022onLoad\u0022 method called. The initial workings is probably remnant information (and the IConfigNode stuff that ModuleResource implements).\u003C/p\u003E\u003Cp\u003EWhat you should probably be doing is using a MonoBehaviour (I mean, you can use statics... but if this is VAB / SPH bound; and not part specific... it seems rather brute force), part calls the behaviour via the behaviour\u0027s own static interface and the behaviour handles all the storing / managing of data. (KSP\u0027s new interface also has \u0022[KSPAddon(KSPAddon.Startup.EditorAny, false)]\u0022 which will unload the behaviour when it is not needed (i.e. outside the VAB / SPH).\u003C/p\u003E\n"}]}