{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":27,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-06-09T04:51:39Z","Content":"\n\u003Cp\u003EI have a Duna transfer window coming up according to this tool and now with v1 I will be working on my first interplanetary trip! Thanks so much for this application. I definitely plan to use the MSMF for a Voyager-style mission as well at some point\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-09T10:17:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E... I will probably leave the ability to plot multiple flybys, but you can bet I\u0027ll be checking memory usage aggressively as the application runs and attempting to terminate graceful if something bad happens...\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EDefinitely! I really like the idea of zoom-recompute. I\u0027ll put a checkbox on the GUI, though, to enable this feature, as recomputing is CPU/memory intensive, as I\u0027ve said. I will also allow bounds for flight time, that\u0027s not a bad idea as well. I\u0027ll probably also have a \u0022number of points per axis\u0022 input that users can use to adjust memory usage (less points per axis -\u0026gt; fewer calculations -\u0026gt; less memory usage). Unless you think this might be too complicated for basic users?\u003C/p\u003E\u003Cp\u003EI don\u0027t have any additional progress to show on this tonight as I was concentrating on getting KSPTOT v1.0 out. But I\u0027ll start again tomorrow and see what progress can be made. Thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour progress has been really impressive. Congrats for the release of KSPTOT v. 1.0, really something to celebrate \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003EYes, I like all the options about different sets of bounds for plots. Too complicated? Perhaps (I will have to try to get how plots may differ if I limit the number of points, against a limited range of dates), but having all those different options may really help users get what they like, while keeping under control computing time and resources. \u003C/p\u003E\u003Cp\u003EAbout users, I would say that anybody going to use KSPTOT likes to handle complicated stuff anyway; however the learning curve is steep (it took months for me to learn how to use MA). You may enable specific options \u0022only for advanced users\u0022, tying them to a setting to be managed via a menu switch. But I guess every KSPTOT user is going to select \u0022advanced mode\u0022 anyway.\u003C/p\u003E\u003Cp\u003EAbout plotting multiple flybys, I like that approach, keeping it in but checking memory usage to prevent overflows. Together with stricter bounds, some of those plots may indeed be possible to generate within a 32bit memory space. And, even if MCR 64bit (up to ver. R2014a) proved not to be usable with KSPTOT, a future version may be working, allowing more memory to be used. And, TBH, I foresee more powerful computers to be used to run KSPTOT, than the ones currently available to the average KSP user.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-11T05:17:32Z","Content":"\n\u003Cp\u003EI have some progress to show from work on the Flyby Porkchop Plotter tonight. Take a look:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/1jYOxDY.png\u0022 alt=\u00221jYOxDY.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EA few notes:\u003C/p\u003E\u003Cp\u003E1) I had a severe problem with the data post-processing prior to tonight. This plot actually shows non-random trends in the delta-v, which is what I expected. \u003C/p\u003E\u003Cp\u003E2) Most of the GUI is non-functional, but the button to do the plotting works, as do the waypoint table and buttons since I borrowed from MFMS.\u003C/p\u003E\u003Cp\u003E3) All of this is \u003Cem\u003Every\u003C/em\u003E Work In Progress at the moment.\u003C/p\u003E\u003Cp\u003EI could use some feedback on two items:\u003C/p\u003E\u003Cp\u003E1) First, where should I stick the ability to place bounds on the flight times? It needs to be one set of upper/lower bounds per leg of the journey (or number of waypoints -1). I could stick it in the table with the waypoints, but then it gets ambiguous as to if the second row corresponds to the first leg or the second leg and so on. Any thoughts, anyone?\u003C/p\u003E\u003Cp\u003E2) Any thoughts on issues you see with the GUI or additional options you\u0027d like to see? Now\u0027s the time for feedback here, as once I get the GUI mostly worked up, it\u0027s hard to really change it.\u003C/p\u003E\u003Cp\u003EIn other news:\u003C/p\u003E\u003Cp\u003E1) I fixed a regression in Mission Architect that made it hard to find SoI transitions in some places. This fix will be in KSP TOT v1.1.\u003C/p\u003E\u003Cp\u003E2) I made a minor change to Mission Architect\u0027s optimizer settings that can improve convergence speed by a factor of 5x in the absence of optimization constraints. Pretty cool. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-11T10:29:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI have some progress to show from work on the Flyby Porkchop Plotter tonight. Take a look:\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EI could use some feedback on two items:\u003C/p\u003E\u003Cp\u003E1) First, where should I stick the ability to place bounds on the flight times? It needs to be one set of upper/lower bounds per leg of the journey (or number of waypoints -1). I could stick it in the table with the waypoints, but then it gets ambiguous as to if the second row corresponds to the first leg or the second leg and so on. Any thoughts, anyone?\u003C/p\u003E\u003Cp\u003E2) Any thoughts on issues you see with the GUI or additional options you\u0027d like to see? Now\u0027s the time for feedback here, as once I get the GUI mostly worked up, it\u0027s hard to really change it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGiven we have multiple possible plots with any flyby, I would suggest a title showing what the plot shown actually is. In the image you linked, I bet Flight Time gives out the plot is about the first leg (Kerbin-Eve); but for other flybys I would not be sure.\u003C/p\u003E\u003Cp\u003EFrom the above, I note there is need to have a selector about what leg I want plotted (or, option for the whole trip plotted). Indeed the most easy spot to put a selector is close or embedded with the table of the waypoints (left center in the window). If embedded, no other way then to have selectors on the same rows of the bodies, so the question is only if going with the departure or the arrival body to represent a leg. Because in one or the other case, the first or the last row has no associated selector, it would not be all that confusing. If possible to have a line of selectors not embedded with the table, those may be spaced so to appear at the conjunction of two waypoints in the table. Please note, I don\u0027t know what is possible to design in terms of GUI using MATLAB, I write with knowledge of different visual application development environments that make possible to link graphical elements in your code. Of course, those selectors are mutually exclusive (what generally known as \u0022radiobutton\u0022 in Windows GUI terms). Somewhere, the selector for the whole trip has to be positioned: could be below the table, as it requires one line of text explaining what it is.\u003C/p\u003E\u003Cp\u003EBelow the table and the [\u002B] [-] buttons to add/cancel waypoints, would go the entries for minimum and maximum Flight Time valid for the selected leg (or whole trip). That association of Flight Time to the selected leg makes it almost compulsory that those entries are very clearly shown to be referenced to what is selected. How to make so depends largely on what MATLAB allows in a GUI. If it was truly programmable, a possibility would be to draw a line connecting selector and Flight Time entries.\u003C/p\u003E\u003Cp\u003EAll the above are shown in the image below (I edited your image to add the elements proposed).\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/oIVyoAC.png\u0022 alt=\u0022oIVyoAC.png\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EIn other news:\u003Cp\u003E1) I fixed a regression in Mission Architect that made it hard to find SoI transitions in some places. This fix will be in KSP TOT v1.1.\u003C/p\u003E\u003Cp\u003E2) I made a minor change to Mission Architect\u0027s optimizer settings that can improve convergence speed by a factor of 5x in the absence of optimization constraints. Pretty cool. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent, still improving. Can hardly wait for KSP TOT v1.1. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-12T05:22:24Z","Content":"\n\u003Cp\u003EThanks for the mock up! That was super useful. I didn\u0027t quite implement it as you envisioned, mostly because the radio-button-in-table concept doesn\u0027t work in MATLAB, sadly. (MATLAB is great for computational work but the GUI aspect could use some improvement, sadly). \u003C/p\u003E\u003Cp\u003EAnyway, here\u0027s what I implemented tonight:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/6tX5x8M.png\u0022 alt=\u00226tX5x8M.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESome notes:\u003C/p\u003E\u003Cp\u003E1) The Flight Time Bounds box switches based on the table selection. So if you select the first row, you get Kerbin -\u0026gt; Eve flight time bounds; if you select the second row, you get Eve -\u0026gt; Duna bounds. If you select the third row, the min/max text fields gray out. In the first two cases, the numbers you enter are stored and used directly when you tap the Compute button. The initial bounds are pre-computed based on the same algorithm that the MFMS uses.\u003C/p\u003E\u003Cp\u003E2) I can\u0027t do a \u0022total flight time\u0022 plot because that would not lend itself to a uniform grid, which I need for the contour plot. Sadly!\u003C/p\u003E\u003Cp\u003E3) I added checkboxes for adding in the departure/arrival hyperbolic excess velocity (V_Inf). \u003C/p\u003E\u003Cp\u003EMy biggest problem at the moment is what to do if someone adds or deletes a row in the waypoints table. There\u0027s already a restriction that says you can\u0027t go below 3 rows (makes sense, for flyby missions). However, let\u0027s say I go to four waypoints and then delete the second waypoint. This impacts the stored flight time bounds, which are, strictly speaking, no longer valid as I entered them for a body that might not exist now. Thoughts there? I don\u0027t want to just clear all of the user entered values and replace them with the precomputed ones, but maybe that would be easiest? Or maybe there\u0027s a more intelligent way to handle it. My thought is to just wipe the rows that were impacted by the deletion and replace them with precomputed rows. \u003C/p\u003E\u003Cp\u003EIn the event of an addition, I would do the same: wipe the rows that are adjacent to the new waypoint and replace with precomputed values.\u003C/p\u003E\u003Cp\u003EDo you think that would work?\u003C/p\u003E\u003Cp\u003EAny other thoughts on what you\u0027re seeing now?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-12T13:52:42Z","Content":"\n\u003Cp\u003EHappy to see the Flight Time bounds and a name for the plotted leg. Pity Total Flight Time can\u0027t be done, but you were already telling; as long as the kind of clear plot you showed with the second image on June 6th can be achieved, I will be happy with that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EAbout data for legs beyond a given body if that was deleted or another body added before. My first idea was about deletion of all data beyond that body, but then not all flybys are the same. The effect of flybys can be so very marked (an Eve flyby is certainly so) to radically change whatever comes next. But, with other flybys (Duna while aiming at Jool) the change is limited, so data about the legs further than that body may be worth keeping (question: could also a passage close to a moon, like Laythe, be considered a flyby while going to the parent body, Jool ?). So, a criteria could be the relative gravitational parameter of the bodies involved: Duna\u0027s being lesser than both Kerbin\u0027s and Jool\u0027s, its flyby may be added or discarded without a radical change to the whole flight plan; Eve\u0027s is greater than Kerbin\u0027s, so adding or deleting it will be markedly different. However, gravitational parameter alone may not fit, and would be better to compare gravitational pull at periapsis?\u003C/p\u003E\u003Cp\u003EReturning to a previous subject, may I ask, have you already checked feasability with exponential scale for Delta-V?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-13T04:04:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E(question: could also a passage close to a moon, like Laythe, be considered a flyby while going to the parent body, Jool ?). \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly no. Only bodies directly orbiting the given central body may be considered. Use Mission Architect for any of that kind of more complicated stuff. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EReturning to a previous subject, may I ask, have you already checked feasability with exponential scale for Delta-V?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, sadly, and the answer is \u0022not possible.\u0022 I can scale the colormap itself, though, to have more constrast at the low end, and this is what I\u0027ve done. (See below.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003ESpeaking of what I\u0027ve done, I have a \u003Cstrong\u003Ev1.1.0 pre-release\u003C/strong\u003E for people to play with. \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v110_prerelease.zip\u0022 rel=\u0022external nofollow\u0022\u003EGet it here\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EAs usual for my pre-releases, this is just the executable, no source or anything like that. The software should be stable, but no promises. I\u0027m primarily looking for bugs and suggestions regarding design and functionality. Feel free to post comments of those natures here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EDiomedea, can you in particular tell me what you think of the Flyby Porkchop Plotter? Given that this endeavor is more or less your idea, your feedback is particularly valuable... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-13T11:59:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EAs usual for my pre-releases, this is just the executable, no source or anything like that. The software should be stable, but no promises. I\u0027m primarily looking for bugs and suggestions regarding design and functionality. Feel free to post comments of those natures here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EDiomedea, can you in particular tell me what you think of the Flyby Porkchop Plotter? Given that this endeavor is more or less your idea, your feedback is particularly valuable... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHope what follows is useful and not a simple list of features still to be implemented or improved that you already know about.\u003C/p\u003E\u003Cp\u003E1. As could be expected, the flyby porkchop plot does not put the cursor at any specific location in the graph (unlike the transfer plot does for the least Delta-V point). Though, a minimum Delta-V point may probably still be shown within the current plot. What is really missing is however the data box from the transfer plot. I notice MATLAB allows to create what is called a \u0022Datatip\u0022 inside the plot, but currently what it shows are X, Y, and Level values (instead of Date, Flight Time and Delta-V, and possibly other relevant info pertaining to the specific point). Also, it seems the datatips appear not exactly where the cursor is placed: another MATLAB quirk, perhaps.\u003C/p\u003E\u003Cp\u003E 2. While the Zoom feature in plot works great, it appears less easy to pan the plot. Numerical limits for dates and Flight times certainly do, but are less easy to use.\u003C/p\u003E\u003Cp\u003E3. While using Zoom-recompute, the scale of Delta-V should adapt to the range of values present in the new plot. That would help a lot make out areas with different Delta-V.\u003C/p\u003E\u003Cp\u003E4. Remaining on the theme of Delta-V scale, there is currently no bound that the user may select. Some plots show large areas with a Delta-V at the bottom of the scale (dark blue) and only small areas with higher Delta-V. My impression is, 10% of the points plotted take 90% of the color scale. I would easily use an upper bound at 20% of the current limit for Delta-V, and redraw the plot not caring of those little areas outside the bound (those would not be of interest anyhow), then having more variety for values on the scale. So the suggestion is to allow the user to define at least an upper bound (if not also a lower one) and balance the color scale within those bounds.\u003C/p\u003E\u003Cp\u003E5. Changing waypoints in the table (as well as adding or removing ones) currently seems to not have effect. Recomputing a plot with a different set of waypoints still gives the original one. To draw a plot for a different set, is needed to close and reopen the flyby plotter. Then, to alter the waypoints and see what could differ is not really possible; but is not even possible to open two different instances of the flyby plotter at the same time so to compare.\u003C/p\u003E\u003Cp\u003E6. The scrollbar below the plot (actually used to select the different legs) being placed just below the dates axis and aligned with it, seems intuitively to hint at being used to scroll the range of dates. If MATLAB does not allow a better way to make controls for selecting legs, at least that scrollbar should be moved to a different part of the window.\u003C/p\u003E\u003Cp\u003E7. Multiple flybys aren\u0027t easy. Tried a number of times to make a plot with 4 waypoints, when computing initially KSPTOT shows briefly \u0022Generating Flyby Porkchop Plot. Please wait...\u0022 but then nothing appears with the first leg selected, and scrolling to further legs brings up that dialog again apparently without ever completing. KSPTOT does not crash, but uses very low amounts of CPU power and has no impact on memory (monitored by \u003Ca href=\u0022http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\u0022 rel=\u0022external nofollow\u0022\u003EProcess Explorer\u003C/a\u003E). \u003C/p\u003E\u003Cp\u003E8. The \u0022Porkchop Plot Information\u0022 textbox on the right of the window is not updated.\u003C/p\u003E\u003Cp\u003EShould I say, I am actually thrilled by how fast you implemented that plot? The list above may seem to suggest there is still some work to do, but the amount already done is impressive \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-14T05:03:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EHope what follows is useful and not a simple list of features still to be implemented or improved that you already know about.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I forgot to mention in my previous post that there were still some items that I knew had not been completed yet. That\u0027s what happens when you type posts in between bouts of Robocraft. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E1. As could be expected, the flyby porkchop plot does not put the cursor at any specific location in the graph (unlike the transfer plot does for the least Delta-V point). Though, a minimum Delta-V point may probably still be shown within the current plot. What is really missing is however the data box from the transfer plot. I notice MATLAB allows to create what is called a \u0022Datatip\u0022 inside the plot, but currently what it shows are X, Y, and Level values (instead of Date, Flight Time and Delta-V, and possibly other relevant info pertaining to the specific point). Also, it seems the datatips appear not exactly where the cursor is placed: another MATLAB quirk, perhaps.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixed. As for the data tip not being placed exactly where you click, this is because the data tip can only be placed on data points and not in between them. In other words, you need to be on the contour grid somewhere.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E 2. While the Zoom feature in plot works great, it appears less easy to pan the plot. Numerical limits for dates and Flight times certainly do, but are less easy to use.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAdded ability to pan with mouse and recompute upon panning. Fixed.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E3. While using Zoom-recompute, the scale of Delta-V should adapt to the range of values present in the new plot. That would help a lot make out areas with different Delta-V.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis should happen automatically. Can you let me know if it\u0027s still a problem in the next pre-release?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E4. Remaining on the theme of Delta-V scale, there is currently no bound that the user may select. Some plots show large areas with a Delta-V at the bottom of the scale (dark blue) and only small areas with higher Delta-V. My impression is, 10% of the points plotted take 90% of the color scale. I would easily use an upper bound at 20% of the current limit for Delta-V, and redraw the plot not caring of those little areas outside the bound (those would not be of interest anyhow), then having more variety for values on the scale. So the suggestion is to allow the user to define at least an upper bound (if not also a lower one) and balance the color scale within those bounds.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI added a dropdown menu that lets the user select what fraction of the data they wish to view: 10% to 100% in 10% steps, and then a variety of steps below 10%. I didn\u0027t want to go with a text box because it required more space and I wasn\u0027t sure the user would understand it as well. Anyway, let me know what you think.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E5. Changing waypoints in the table (as well as adding or removing ones) currently seems to not have effect. Recomputing a plot with a different set of waypoints still gives the original one. To draw a plot for a different set, is needed to close and reopen the flyby plotter. Then, to alter the waypoints and see what could differ is not really possible; but is not even possible to open two different instances of the flyby plotter at the same time so to compare.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou need to recompute the plot after changing waypoints by hitting the Compute button in the lower right corner. Just changing which plot you\u0027re looking at does not recompute everything (if it did, it would take too long to be useful).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E6. The scrollbar below the plot (actually used to select the different legs) being placed just below the dates axis and aligned with it, seems intuitively to hint at being used to scroll the range of dates. If MATLAB does not allow a better way to make controls for selecting legs, at least that scrollbar should be moved to a different part of the window.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, I can\u0027t think of a better way to get MATLAB to change the plots. I guess I could use a dropdown menu? This scrollbar functionality is the same that\u0027s used in the MFMS, though. I do see your point, however. Is it confusing enough that it should be changed?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E7. Multiple flybys aren\u0027t easy. Tried a number of times to make a plot with 4 waypoints, when computing initially KSPTOT shows briefly \u0022Generating Flyby Porkchop Plot. Please wait...\u0022 but then nothing appears with the first leg selected, and scrolling to further legs brings up that dialog again apparently without ever completing. KSPTOT does not crash, but uses very low amounts of CPU power and has no impact on memory (monitored by \u003Ca href=\u0022http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\u0022 rel=\u0022external nofollow\u0022\u003EProcess Explorer\u003C/a\u003E). \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, error management was something that didn\u0027t make it into the first pre-release. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Try the next pre-release out and tell me if you experience the same issue.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E8. The \u0022Porkchop Plot Information\u0022 textbox on the right of the window is not updated.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI removed this because I didn\u0027t know what I wanted to do with it and it was taking a lot of screen space. I get a much bigger, better plot to look at now. Since that\u0027s the point of the application, I think it\u0027s warranted.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EShould I say, I am actually thrilled by how fast you implemented that plot? The list above may seem to suggest there is still some work to do, but the amount already done is impressive \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, it\u0027s been fun! And speaking of fun, here\u0027s \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v110_prerelease_2.zip\u0022 rel=\u0022external nofollow\u0022\u003Epre-release #2 of KSP TOT v1.1\u003C/a\u003E. Your feedback for the first pre-release was excellent, thank you. Additional feedback on the second pre-release would be much appreciated! Thanks!\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-14T12:40:07Z","Content":"\n\u003Cp\u003EI take reference from the points # as numbered previously.\u003C/p\u003E\u003Cp\u003EHappy about 1, 2 as implemented. Great \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003EAbout 3, Delta-V scales correctly now.\u003C/p\u003E\u003Cp\u003EAbout 4, happy for the implementation. Would suggest to shrink the combo-box (too wide now to show just a percentage) and put some text like \u0022Delta-V fraction\u0022 close to it.\u003C/p\u003E\u003Cp\u003EAbout 5, changing waypoints in the table works (somehow it didn\u0027t for me with pre-release #1).\u003C/p\u003E\u003Cp\u003EAbout 6. Yes, I believe that scrollbar is confusing. As a minimum, there is no need to have it spanning the whole X-axis, I would reduce the size, that will both free some space on the window and make the scrollbar appear untied to that X-axis.\u003C/p\u003E\u003Cp\u003EAbout 7. I keep monitoring KSPTOT. It now shows RAM use when doing a multiple flyby, and it skyrockets. Good thing is now KSPTOT tells to have gone out of available RAM (probably that also happeded before, but silently). Then, reducing the number of points per axis allows to remain within the 4GB limit, and a plot is generated.\u003C/p\u003E\u003Cp\u003EAbout 8, better so, the plot shows great! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003ENew things:\u003C/p\u003E\u003Cp\u003E9. Also the entry box for the number of points to be plotted is too wide. At most, it would hold 3 digits, so I would reduce it and align it to the text line \u0022Number of Points Per Axis\u0022, to be shortened a bit.\u003C/p\u003E\u003Cp\u003E10. I would suggest to show a marker on each leg that ties in time with markers on previous and further legs. It would help to see, if I am interested in a specific point in time (possibly, because I spot a nice DV minimum on a leg), where my choice brings with the other legs, by showing markers at the appropriate time and duration on them.\u003C/p\u003E\u003Cp\u003EFor planning purposes, it may even to useful to have a possibility to mark different spots on a plot (so, a number of markers, maybe in different colors), so the user may check what each one would bring with the other legs.\u003C/p\u003E\u003Cp\u003E11. A bit worried that sometimes data shown are less than correct. The plot below shows a Kerbin-Eve leg, all points have solutions with Delta-V less than 65 m/s (I notice the ejection burn for a Kerbin-Eve transfer requires \u0026gt; 1000 m/s). Note that V-inf boxes were not selected. If results are uncorrect, possibly V-inf should be always selected (not even de-selectable?).\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/UwLMyN0.png\u0022 alt=\u0022UwLMyN0.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027d like also to show how good and significant plots can be generated now: this one really helps! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/5Con8I6.png\u0022 alt=\u00225Con8I6.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Alphahelix","CreatedById":112957,"CreatedDateTime":"2014-06-14T20:01:33Z","Content":"\n\u003Cp\u003EQuestion about the license; what\u0027s the practical difference between a CC-BY-NC-ND license for software and \u0022all rights reserved\u0022 but distributing it freely (as in beer)? If I can\u0027t modify the source code at all, why include it? Creative Commons licences are \u003Ca href=\u0022http://creativecommons.org/software\u0022 rel=\u0022external nofollow\u0022\u003Ediscouraged for software\u003C/a\u003E by Creative Commons because they don\u0027t have any software concepts built into them. I could build another program that links into yours, using the same source (without internal modifications) but modify the output to bypass the \u0022No Derivatives\u0022 restriction.\u003C/p\u003E\u003Cp\u003EAnyways, would you consider licensing the code with a more permissive, software-oriented license?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-15T00:54:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EAbout 6. Yes, I believe that scrollbar is confusing. As a minimum, there is no need to have it spanning the whole X-axis, I would reduce the size, that will both free some space on the window and make the scrollbar appear untied to that X-axis.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, I\u0027ve altered this a bit. The scrollbar is now directly to the left of the compute button, the size is half of previous, and the plot has been resized to fit the available space. I think it works better this way, but I\u0027m curious to know what you think.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E9. Also the entry box for the number of points to be plotted is too wide. At most, it would hold 3 digits, so I would reduce it and align it to the text line \u0022Number of Points Per Axis\u0022, to be shortened a bit.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I also added another box for \u0022number of contour levels\u0022 so you adjust that in your plots, too.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E10. I would suggest to show a marker on each leg that ties in time with markers on previous and further legs. It would help to see, if I am interested in a specific point in time (possibly, because I spot a nice DV minimum on a leg), where my choice brings with the other legs, by showing markers at the appropriate time and duration on them.\u003C/p\u003E\u003Cp\u003EFor planning purposes, it may even to useful to have a possibility to mark different spots on a plot (so, a number of markers, maybe in different colors), so the user may check what each one would bring with the other legs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo adding a point marker doesn\u0027t make sense because the solutions are generated for every combination of points possible. Thus a point marker on one plot would actually cover a line on another plot (corresponding to the departure UT). So that\u0027s what I implemented. You right click the plot to bring up the context menu, select \u0022add marker line\u0022, click where you want on the plot, and you get a vertical line corresponding to the Departure UT you selected. You can add as many as you want and you can clear them with the second option in the plot context menu.\u003C/p\u003E\u003Cp\u003ELet me know what you think.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E11. A bit worried that sometimes data shown are less than correct. The plot below shows a Kerbin-Eve leg, all points have solutions with Delta-V less than 65 m/s (I notice the ejection burn for a Kerbin-Eve transfer requires \u0026gt; 1000 m/s). Note that V-inf boxes were not selected. If results are uncorrect, possibly V-inf should be always selected (not even de-selectable?).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EArrival and departure v-inf are only factored in if you explicitly tell the code you want them factored in. The values you see are (probably \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) correct. Small values just mean that the flyby dv required for that particular trajectory is small. This is a good thing! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E It doesn\u0027t imply an error in the calculation, necessarily. Now, if you check the departure v_inf box and you still get small values, then we have a problem. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI would rather give users the choice to select or deselect the boxes, since what they\u0027re after when using the application may differ from time to time.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Alphahelix\u0022 data-cite=\u0022Alphahelix\u0022\u003E\u003Cdiv\u003EQuestion about the license; what\u0027s the practical difference between a CC-BY-NC-ND license for software and \u0022all rights reserved\u0022 but distributing it freely (as in beer)? If I can\u0027t modify the source code at all, why include it? Creative Commons licences are \u003Ca href=\u0022http://creativecommons.org/software\u0022 rel=\u0022external nofollow\u0022\u003Ediscouraged for software\u003C/a\u003E by Creative Commons because they don\u0027t have any software concepts built into them. I could build another program that links into yours, using the same source (without internal modifications) but modify the output to bypass the \u0022No Derivatives\u0022 restriction.\u003Cp\u003EAnyways, would you consider licensing the code with a more permissive, software-oriented license?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI release the source code because the rules of the forum dictate that I must release the source code or I cannot distribute the application. Trust me, I\u0027d rather not distribute the source code at all, much less headache packing up new releases. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E As for what\u0027s stopping you? Hopefully personal integrity, and that\u0027s about it. I can\u0027t police the whole internet of course...\u003C/p\u003E\u003Cp\u003ETo answer the second question, no, I\u0027d rather not release under a more open license. In fact, I\u0027m somewhat regretting not going to \u0022all rights reserved\u0022 in the first place because it would definitely protect what I\u0027m hoping to avoid most: people modifying the source code and then coming to me with questions when things don\u0027t work. KSP TOT is complicated and has lots of moving parts. My coding style has changed and improved over the past few years as well. To be honest, even I have to relearn how I did things back in the day. The application is so large that keeping it all in my head is no longer feasible. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I couldn\u0027t imagine trying to wade into the source code at this point, having no previous exposure to it...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-15T02:26:33Z\u0022 title=\u002206/15/2014 02:26  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 15, 2014\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-15T02:37:20Z","Content":"\n\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v110_prerelease_3.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSP TOT v1.1 pre-release 3\u003C/a\u003E is now out. Changes basically include diomedea\u0027s change suggestions. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-15T13:10:10Z","Content":"\n\u003Cp\u003EKeeping reference to the item # previously established.\u003C/p\u003E\u003Cp\u003E6. Scrollbar: much better now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (only thing, a user must already know its function, as there is no label about it: possibly a popup giving a tip?).\u003C/p\u003E\u003Cp\u003E9. Perfect. Also the contour levels number works great \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003E10. I should have better explained. The marker lines work, but keep track of just the departure date: if that\u0027s day 161, the line is found at date=161 on each leg now. But if I select a specific point with the first leg, I\u0027m taking both a departure date and flight time; then the marker with the next leg should be placed at the date= departure\u002Bflight time, that is when the encounter occurs. And if the solution is unique (I mean, with selecting the specific point on the first leg, I am actually choosing one specific solution with all the legs involved in the trip), then also the flight time with the second leg is selected, so it would show as a single point on that leg. And so on, unless some trips allow multiple solutions: in that case the user may have to be offered the option of choosing which. Can\u0027t say if it could be done entirely, however.\u003C/p\u003E\u003Cp\u003E11. Sure there is something I am missing here. I expect information from the flyby porkchop plot to have some resemblance with the transfer porkchop of KSPTOT. However, V-inf choice only exist for the first, while departure DV is used for the second (then perfected with knowledge of initial orbit parameters). I expect V-inf to tell me what speed my ship goes outside the SoI (at infinity actually), so if I include departure V-Inf I should get the whole speed I should have for both exiting SoI and the planetary transfer (no departure burn actually, but MFMS gives that nicely). I expect to find help from the plot to choose when best to depart (and to arrive), and that includes leaving SoI. I may be totally wrong, but if Delta-V shown was only the planetary transfer part (under the Sun influence alone) that may explain why the plot appears quite flat (when no V-inf is selected). It may mean something to others, but a flat plot means less than I like to me, and therefore my preference for including V-inf.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-15T13:29:44Z\u0022 title=\u002206/15/2014 01:29  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 15, 2014\u003C/time\u003E by diomedea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-15T21:42:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E10. I should have better explained. The marker lines work, but keep track of just the departure date: if that\u0027s day 161, the line is found at date=161 on each leg now. But if I select a specific point with the first leg, I\u0027m taking both a departure date and flight time; then the marker with the next leg should be placed at the date= departure\u002Bflight time, that is when the encounter occurs. And if the solution is unique (I mean, with selecting the specific point on the first leg, I am actually choosing one specific solution with all the legs involved in the trip), then also the flight time with the second leg is selected, so it would show as a single point on that leg. And so on, unless some trips allow multiple solutions: in that case the user may have to be offered the option of choosing which. Can\u0027t say if it could be done entirely, however.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh. I think there may be a slight misunderstanding of how the porkchop plot grid is generated. Let me illustrate by example. Assume I have a three waypoint trajectory. Along each axis I want three points. (Three points, three axes gives 3^3 = 27 points total.)\u003C/p\u003E\u003Cp\u003EMy possible departure times are: 1, 2, 3\u003C/p\u003E\u003Cp\u003EMy possible leg 1 flight times are: 4, 5, 6\u003C/p\u003E\u003Cp\u003EMy possible leg 2 flight times are: 7, 8, 9\u003C/p\u003E\u003Cp\u003EThe first thing my code does is find all possible combinations of those values, and this is where the RAM usage gets pretty crazy. Anyway, all possible combinations of those points are (according to my code): \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E     1     4     7\u003Cbr\u003E     2     4     7\u003Cbr\u003E     3     4     7\u003Cbr\u003E     1     5     7\u003Cbr\u003E     2     5     7\u003Cbr\u003E     3     5     7\u003Cbr\u003E     1     6     7\u003Cbr\u003E     2     6     7\u003Cbr\u003E     3     6     7\u003Cbr\u003E     1     4     8\u003Cbr\u003E     2     4     8\u003Cbr\u003E     3     4     8\u003Cbr\u003E     1     5     8\u003Cbr\u003E     2     5     8\u003Cbr\u003E     3     5     8\u003Cbr\u003E     1     6     8\u003Cbr\u003E     2     6     8\u003Cbr\u003E     3     6     8\u003Cbr\u003E     1     4     9\u003Cbr\u003E     2     4     9\u003Cbr\u003E     3     4     9\u003Cbr\u003E     1     5     9\u003Cbr\u003E     2     5     9\u003Cbr\u003E     3     5     9\u003Cbr\u003E     1     6     9\u003Cbr\u003E     2     6     9\u003Cbr\u003E     3     6     9\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, let\u0027s assume we want to place a marker at departure time 2 and leg 1 flight time 6. What solutions does this leave us? These:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E     2     6     7\u003Cbr\u003E     2     6     8\u003Cbr\u003E     2     6     9\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut that\u0027s every possible value for the leg 2 flight time! So the \u0022marker\u0022 has to be a line with terminal points (2, 7) and (2, 9) because when you go to the leg 2 flight time plot, all you\u0027re going to see are the departure UTs again.\u003C/p\u003E\u003Cp\u003EDoes any of that make sense? It\u0027s a hard concept for me to explain, and I\u0027m hoping this gets the main idea across. Please let me know if it\u0027s still unclear, or if I\u0027m completely misunderstanding you and there\u0027s a better way to do what you\u0027re suggesting. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E11. Sure there is something I am missing here. I expect information from the flyby porkchop plot to have some resemblance with the transfer porkchop of KSPTOT. However, V-inf choice only exist for the first, while departure DV is used for the second (then perfected with knowledge of initial orbit parameters). I expect V-inf to tell me what speed my ship goes outside the SoI (at infinity actually), so if I include departure V-Inf I should get the whole speed I should have for both exiting SoI and the planetary transfer (no departure burn actually, but MFMS gives that nicely). I expect to find help from the plot to choose when best to depart (and to arrive), and that includes leaving SoI. I may be totally wrong, but if Delta-V shown was only the planetary transfer part (under the Sun influence alone) that may explain why the plot appears quite flat (when no V-inf is selected). It may mean something to others, but a flat plot means less than I like to me, and therefore my preference for including V-inf.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, so another misunderstanding, I\u0027m afraid. The delta-v that gets plotted is \u003Cstrong\u003Enot \u003C/strong\u003Ethe delta-v for the leg you\u0027re viewing, because that\u0027s actually impossible to simplify down (the dv for one leg depends on the trajectory of legs before and after it). It is instead the \u003Cstrong\u003Etotal mission delta-v\u003C/strong\u003E across all legs. If you add the departure or arrival v_inf in there, then it gets added to that total mission delta-v and that become the new total mission delta-v. So really, every plot is the same data, but I just organize it differently. Also, where multiple solutions exist for the current leg being plotted (our 2-6-7, 2-6-8, 2-6-9 cases above), I take the minimum dv of the multiple solutions.\u003C/p\u003E\u003Cp\u003ETo be honest, even if I could show per-leg delta-v, I think I\u0027d still show the total mission delta-v. It lets you see how changing the flight time in one leg changes the delta-v across the whole mission, which I think is invaluable.\u003C/p\u003E\u003Cp\u003EI\u0027d definitely like to hear your comments on all this. Am I way off the proverbial mark? Were you hoping to see something? Please do let me know. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-15T22:28:59Z","Content":"\n\u003Cp\u003EFine. Thanks for shading light on that. It\u0027s just the way data are shown, it was written it was Total Delta-V for the trip but I figured the axis were meant for only the selected leg - so I expected a marker to mean something specific to a leg, and that had to be in match for the other legs. If my choice was the point @ 2,6 on the first leg, I had the idea to be selecting a specific flight time with that leg, so the start point on the next leg was fixed. But if the plot on leg 2 if the same range of solutions, just shown differently, then clearly the choice is unique for all legs at the same time. Useful anyway to have the markers.\u003C/p\u003E\u003Cp\u003EUnfortunately, I still must include V-inf for the plots to make sense to me. I accept what is shown is Total DV, but again when a plot is almost flat with values less than 65 m/s for a flyby, those values make me wonder what I\u0027m reading. If I use the MFMS to compute the same flyby, it finds a single solution that requires some thousand m/s. The flyby plot has no correct data about the starting orbit, but still I would expect something more closely related to that MFMS solution (actually, I would expect to find that solution and no better one in the range of dates used by the MFMS, but similar solutions at regular intervals of dates due to synodic periods matches).\u003C/p\u003E\u003Cp\u003EI fully agree about showing Total Delta-V. The plot allows to choose a best solution in a range of dates when you need to make that trip, and to see how the solution gets better or worse with time, but the choice is because of Total Delta-V so that is the correct thing to show.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-15T22:58:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EFine. Thanks for shading light on that. It\u0027s just the way data are shown, it was written it was Total Delta-V for the trip but I figured the axis were meant for only the selected leg - so I expected a marker to mean something specific to a leg, and that had to be in match for the other legs. If my choice was the point @ 2,6 on the first leg, I had the idea to be selecting a specific flight time with that leg, so the start point on the next leg was fixed. But if the plot on leg 2 if the same range of solutions, just shown differently, then clearly the choice is unique for all legs at the same time. Useful anyway to have the markers.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI definitely understand the confusion. Coming up with a good way to display the data based on the constraints I have w.r.t. MATLAB has been a real challenge. Is there anything I can do to either A) clarify the current approach of displaying the data or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E alter the current approach of displaying the data to improve clarity?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EUnfortunately, I still must include V-inf for the plots to make sense to me. I accept what is shown is Total DV, but again when a plot is almost flat with values less than 65 m/s for a flyby, those values make me wonder what I\u0027m reading. If I use the MFMS to compute the same flyby, it finds a single solution that requires some thousand m/s. The flyby plot has no correct data about the starting orbit, but still I would expect something more closely related to that MFMS solution (actually, I would expect to find that solution and no better one in the range of dates used by the MFMS, but similar solutions at regular intervals of dates due to synodic periods matches).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMFMS uses the following formula to compute delta-v for each solution it comes across:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edv = vInfDNorm \u002B totDV \u002B vInfANorm;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat is, the v_inf are already factored in there. This explains why you see much larger v_inf in MFMS than you do in the flyby pork chop plotter with the v_inf checkboxes unchecked: that cost simply isn\u0027t included in the plot. Now, I could simply make the departure v_inf checkbox permanently checked, or at least default it to that when the application starts if you think it would help. This would include that delta-v by default. I agree that the powered flyby delta-v only plots are not particularly useful most times and it really does make more sense to view the plot with departure v_inf included.\u003C/p\u003E\u003Cp\u003EThanks for all the great feedback! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PlonioFludrasco","CreatedById":98915,"CreatedDateTime":"2014-06-16T09:36:56Z","Content":"\n\u003Cp\u003EI\u0027ve just downloaded the last version of KSPTOT, and I was wondering if it\u0027s possible to plot a Duna cycler orbit with it. I\u0027ve done some maths to calculate SMA, Ap and Pe of such orbit, and I\u0027d like to know if there\u0027s a way to force the KSPTOT to compute an escape route from Kerbin that leads to a solar orbit with those parameters. After that, it could be only a matter of launch windows and optimization, right?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-16T12:36:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI definitely understand the confusion. Coming up with a good way to display the data based on the constraints I have w.r.t. MATLAB has been a real challenge. Is there anything I can do to either A) clarify the current approach of displaying the data or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E alter the current approach of displaying the data to improve clarity?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerhaps a simple text (or a tooltip) with both axis to remind the user the time displayed (departure date, time of flight) is always relative to the whole trip, while the title about the leg shown is only about the way solutions are displayed. Sure after figuring it, it becomes easy and natural, but I kept thinking each plot was showing dates relative to the specific leg. Wasn\u0027t for your help, I would not have figured it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EMFMS uses the following formula to compute delta-v for each solution it comes across:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edv = vInfDNorm \u002B totDV \u002B vInfANorm;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat is, the v_inf are already factored in there. This explains why you see much larger v_inf in MFMS than you do in the flyby pork chop plotter with the v_inf checkboxes unchecked: that cost simply isn\u0027t included in the plot. Now, I could simply make the departure v_inf checkbox permanently checked, or at least default it to that when the application starts if you think it would help. This would include that delta-v by default. I agree that the powered flyby delta-v only plots are not particularly useful most times and it really does make more sense to view the plot with departure v_inf included.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure some users (me first) are not astrodynamicists. Even knowing what V-inf is in hyperbolic orbits, to have it not included in a solution leaves me that \u0022totDV\u0022 that is somehow less easy to figure (also, because thinking \u0022Total\u0022, I figure all DV required for the trip is accounted). From what you wrote above, I have a sketchy idea this \u0022totDV\u0022 is the amount obtained from all gravitational assists \u002B all the burns done at flybys, leaving out the initial burn (ejection from the starting orbit) and the final burn (injection in the arrival orbit). If that was correct, this \u0022totDV\u0022 value is golden, absolutely important to know. Just need to properly figure these values, then. No need to change how the V-inf selection boxes are managed once the concept is clear. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for explaining \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-16T13:18:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PlonioFludrasco\u0022 data-cite=\u0022PlonioFludrasco\u0022\u003E\u003Cdiv\u003EI\u0027ve just downloaded the last version of KSPTOT, and I was wondering if it\u0027s possible to plot a Duna cycler orbit with it. I\u0027ve done some maths to calculate SMA, Ap and Pe of such orbit, and I\u0027d like to know if there\u0027s a way to force the KSPTOT to compute an escape route from Kerbin that leads to a solar orbit with those parameters. After that, it could be only a matter of launch windows and optimization, right?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt certainly is! I would first use multi-flyby maneuver sequencer to figure out what a good Kerbin/Duna/Kerbin would look like. As soon as you know the approximate trajectory based on that, go into Mission Architect and use it to refine the trajectory based on real SoI transitions and the like.\u003C/p\u003E\u003Cp\u003ELet me know if you need/want help with any of this. I know it can be a bit complicated, but I\u0027m happy to teach. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EPerhaps a simple text (or a tooltip) with both axis to remind the user the time displayed (departure date, time of flight) is always relative to the whole trip, while the title about the leg shown is only about the way solutions are displayed. Sure after figuring it, it becomes easy and natural, but I kept thinking each plot was showing dates relative to the specific leg. Wasn\u0027t for your help, I would not have figured it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThese are good suggestions. I\u0027ll see about implementing them tonight. Might not be able to do everything as you said, but enough to get the point across. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESure some users (me first) are not astrodynamicists. Even knowing what V-inf is in hyperbolic orbits, to have it not included in a solution leaves me that \u0022totDV\u0022 that is somehow less easy to figure (also, because thinking \u0022Total\u0022, I figure all DV required for the trip is accounted). From what you wrote above, I have a sketchy idea this \u0022totDV\u0022 is the amount obtained from all gravitational assists \u002B all the burns done at flybys, leaving out the initial burn (ejection from the starting orbit) and the final burn (injection in the arrival orbit). If that was correct, this \u0022totDV\u0022 value is golden, absolutely important to know. Just need to properly figure these values, then. No need to change how the V-inf selection boxes are managed once the concept is clear. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for explaining \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m going to do two things:\u003C/p\u003E\u003Cp\u003E1) Put in a tooltip in the plot window that describes what kind of delta-v is being shown, and\u003C/p\u003E\u003Cp\u003E2) Make departure v_inf checked by default.\u003C/p\u003E\u003Cp\u003EOh, to be clear on one thing, the delta-v shown when both v_inf boxes are unchecked is just the delta-v that the spacecraft engine had to provide to make the flyby. The amount of sun-relative delta-v picked up by the planet could be much, much larger. I don\u0027t compute or use it in any calculations though because we get that delta-v for \u0022free\u0022 just by swinging around the planet in question. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EHey, also everyone, just wanted to show off something cool which is coming in the next version. I requisitioned on Reddit a logo for KSP TOT! It\u0027s going to be used in a new splash screen and Help -\u0026gt; About menu item. It looks kinda like this.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/H1chEZX.png\u0022 alt=\u0022H1chEZX.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m still working with the artist a bit and we\u0027re not quite done yet, but this should more or less be its final form. Cool, no? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-17T02:24:39Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EKSP TOT v.1.1.0 pre-release 4 is \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v110_prerelease_4.zip\u0022 rel=\u0022external nofollow\u0022\u003Eofficially up.\u003C/a\u003E Changes in this pre-release include:\u003C/p\u003E\u003Cp\u003E1) Updates to the flyby porkchop plotter tooltip text that hopefully better explains what is being viewed\u003C/p\u003E\u003Cp\u003E2) Updates to the multi-flyby maneuver sequencer to allow it to accept only two waypoints, thus becoming yet another way to find ballistic trajectories from A to B\u003C/p\u003E\u003Cp\u003E3) Updates to the multi-flyby maneuver sequencer that allow users to specify bounds on flight time for all legs, similar to what\u0027s in the flyby porkchop plotter\u003C/p\u003E\u003Cp\u003E4) A splash screen and KSP TOT logo that appears on start up for a short moment\u003C/p\u003E\u003Cp\u003E5) A few little minor fixes in MFMS\u003C/p\u003E\u003Cp\u003EPlease let me know what you think! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-17T13:44:18Z","Content":"\n\u003Cp\u003EGreat improvements, as always \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Comments time.\u003C/p\u003E\u003Cp\u003E1. My first thought, one can\u0027t have too many tooltips: moar tips (so to cover most significant objects shown in the plot window). My second thought (scratch the first), tips can not always be that good: the datatip at the cursor position is nice to show actual data, not so much if keeps displaying what that data means (after twice, users know that). My suggestion would be to put that tip (about the Delta-V shown) with the Delta-V scale, if possible.\u003C/p\u003E\u003Cp\u003E2. Nice. And of course now one has to try both the normal transfer plot and the MFMS for ballistic trajectories. And wonder why results are not the same. Then check again, find what was left out, correct the entries. Then marvel at the accuracy while both tools show exactly the same \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003E3. Very useful those bounds in Flight Time also for MFMS.\u003C/p\u003E\u003Cp\u003E4. Nice touch. Beyond the content, now KSPTOT also has the appearance of a professional tool (let me add, thanks for the mention, too kind \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E).\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-17T14:33:00Z","Content":"\n\u003Cp\u003EThanks for the comments! I\u0027ll make the change to the data tip string tonight. After that, do you see anything that would bar a formal release? The new code is feeling pretty solid to me.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-17T19:55:59Z","Content":"\n\u003Cp\u003ENothing at all to hold this masterpiece from being released \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E, and allow all interested users (even ones wary of beta or pre-releases) to enjoy.\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2014-06-17T22:09:31Z","Content":"\n\u003Cp\u003EI haven\u0027t visited this tool in several months. Looks like a bunch of new and very useful features. I love the Kerbin-to-Laythe tutorial. I\u0027ll check out the pre-release tonight and try to have comments for you.\u003C/p\u003E\n"}]}