{"TopicId":136839,"ForumId":36,"TopicTitle":"Heating and Heating accessories","CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2016-04-13T09:56:29Z","PageNum":1,"Articles":[{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2016-04-13T09:56:29Z","Content":"\n\u003Cp\u003E\nI recently put together a 2.5m ion engine and have been working on a 2.5m \u0022RTG bank\u0022 to help alleviate some of the draw. Balance wise, both\u00A0are more or less linear scale-ups of their smaller counterparts. That said, I\u0027d like the RTG bank to generate a healthy amount of heat as a bank of RTGs would generate a healthy amount of heat. The trouble is, while the resource converter module incorporates heat, the generator module doesn\u0027t seem to. Is there a way to set up a part to passively generate heat? I\u0027ve been trying to make sense of the coreHeat module, but documentation seems scarce.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOn the heating accessories side of things, I designed the bank with inbuilt radiators and\u00A0built an emissive for them. I\u0027m fairly new to emissives\u00A0and haven\u0027t used moduleAnimateHeat before, but I have had success with moduleAnimateThrottle on the 2.5m ion engine itself. I replicated the process I used for the throttle animation, but I don\u0027t seem to be having much luck. It\u0027s entirely possible I missed something obvious. Note I am using unity 5 and the 1.1 parttools despite exporting to 1.0.5. This wasn\u0027t a problem for the engine, but I suppose it could be compatibility issue with moduleAnimateHeat. I used squad\u0027s new Create Color Animation system for both.\n\u003C/p\u003E\n\u003Cp\u003E\nPretty emissive texture:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022QRPUALg.png\u0022 class=\u0022ipsImage\u0022 height=\u0022423\u0022 src=\u0022http://i.imgur.com/QRPUALg.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-04-13T14:08:29Z","Content":"\n\u003Cp\u003E\nI suggest you study\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/131589-105-simplenuclear-unified-simplified-multi-mod-nuclear-energy-v10/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-04-14T01:27:14Z","Content":"\n\u003Cp\u003E\nA little info on core heat from Nertea \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/131611-need-help-understanding-thermal-modules/\u0022\u003EHere\u003C/a\u003E - about the fifth post down.\n\u003C/p\u003E\n"},{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2016-04-14T02:29:36Z","Content":"\n\u003Cp\u003E\nIt\u0027s looking like use of ModuleResourceConverter is unavoidable for non-engine heat generation. It occurs to me I could configure a foreign resource with the sole purpose of being generated via ModuleGenerator and promptly converted into ElectricCharge via a heat-generating converter. That solution is a bit indirect which wouldn\u0027t really be a problem in and of itself, but it also requires a trash resource to sit on the resource drop-down. Preliminary googling suggests there isn\u0027t really a way around that though. Seeing how easy resource configuration actually is tempts me to go all the way and make proper reactors, but I figure the last thing we need is another competing reactor model.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe stock RTG config includes this block, which I haven\u0027t seen elsewhere. By its name I\u00A0suspect this might be exactly what I\u0027m looking for, but I can\u0027t find any documentation on it in particular\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EPassiveEnergy\n\t\t{\n\t\t\tkey = 0 \t25000\n\t\t\tkey = 200 \t10000\n\t\t\tkey = 250 \t50\t\t\n\t\t\tkey = 300\t25\n\t\t\tkey = 350\t0\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T02:30:54Z\u0022 title=\u002204/14/2016 02:30  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Balto-the-Wolf-Dog\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-04-14T02:40:00Z","Content":"\n\u003Cp\u003E\nYou are on the right track there with PassiveEnergy. That just specifies the heat that should be generated into the core heat bucket at a given part core temperature; ie. 500\u00A0kW is generated at 0K, 1 kW is generated at 250K and 0 kW are generated at 350K (these numbers are in uh... let\u0027s call it Heat Space, where you put in the number in kW multiplied by 50, so to generate 10 kW you put 5000).\n\u003C/p\u003E\n"},{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2016-04-14T02:54:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222512930\u0022 data-ipsquote-contentid=\u0022136839\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221460601600\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou are on the right track there with PassiveEnergy. That just specifies the heat that should be generated into the core heat bucket at a given part core temperature; ie. 500\u00A0kW is generated at 0K, 1 kW is generated at 250K and 0 kW are generated at 350K (these numbers are in uh... let\u0027s call it Heat Space, where you put in the number in kW multiplied by 50, so to generate 10 kW you put 5000).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIncredible timing. Was just coming to post that I had figured it out. On that note, I also figured out the thermal animation. As it turns out the part has to be heated from within itself. I had been testing by blasting it with engines.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a way to disable the orange glow that gathers on the whole of the part, or another factor to base the glow on like amount of heat radiated? Since the round things on my model are ostensibly heat pipes for radiators, I\u0027d rather them glow well before the heat limits are reached. A way to change the glow curvature with heat could also satisfy that, though I suppose I could just create a fresh animation that\u0027s weighted towards the cooler side. Can anyone enlighten me as to the function of EmissiveConstant?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-14T03:29:24Z\u0022 title=\u002204/14/2016 03:29  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 14, 2016\u003C/time\u003E by Balto-the-Wolf-Dog\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Balto-the-Wolf-Dog","CreatedById":17192,"CreatedDateTime":"2016-04-18T10:50:20Z","Content":"\n\u003Cp\u003E\nMore config confusion, suppose I\u0027ll bump this thread rather than start a new one. Frustratingly\u00A0I have most of it cooperating save a few elusive details. The whole of the config is as follows:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\n\tname = prakGenerator\n\tmodule = Part\n\tauthor = Balto\n\tmesh = Generator.mu\n\trescaleFactor = 1\n\tnode_stack_top = 0.0, 1.99, 0.0, 0.0, 1.0, 0.0, 0\n\tnode_stack_bottom = 0.0, -1.99, 0.0, 0.0, -1.0, 0.0, 0\n\tTechRequired = experimentalElectrics\n\tentryCost = 250000\n\tcost = 100000\n\tcategory = Utility\n\tsubcategory = 0\n\ttitle = Inline Thermoelectric Generator\n\tmanufacturer = Prakasa Energy Technology Division\n\tdescription = Much like our own RTG, it provides power from radioactive decay. They won\u0027t tell us what\u0027s actually decaying in there and \n\nsaid we probably shouldn\u0027t try to open it up and find out. Also useful for cookouts.\n\tattachRules = 1,0,1,1,0\n\tmass = 4\n\theatConductivity = 0.001\n\tskinInternalConductionMult = 2000\n\temissiveConstant = 0.9\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.2\n\tangularDrag = 2\n\tcrashTolerance = 12\n\tmaxTemp = 2500 // = 4000\n\tbulkheadProfiles = size2\n\tradiatorHeadroom = 0.75\n\tthermalMassModifier = 0.05\t\n\tMODULE\n\t{\n\t\tname = ModuleGenerator\n\t\tisAlwaysActive = true\n\t\tOUTPUT_RESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = 70\n\t\t}\n\t}\n\n\tMODULE\n\t{\n\t\tname = ModuleAnimateHeat\n\t\tThermalAnim = Heat5\n\t}\n\n\n\tMODULE\n\t{\n\t\tname = ModuleCoreHeat\n\t\tCoreTempGoal = 1000\t\t\t\t//Internal temp goal - we don\u0027t transfer till we hit this point\n\t\t//CoreToPartRatio = 0.1\t\t\t\tScale back cooling if the part is this % of core temp\n\t\tCoreTempGoalAdjustment = 0\t\t\t//Dynamic goal adjustment\n\t\tCoreEnergyMultiplier = 0.4\t\t\t//What percentage of our core energy do we transfer to the part\n\t\tHeatRadiantMultiplier = 0.25\t\t//If the core is hotter, how much heat radiates?\n\t\tCoolingRadiantMultiplier = 0.4\t\t//If the core is colder, how much radiates?\n\t\tHeatTransferMultiplier = 0\t\t\t//If the part is hotter, how much heat transfers in?\n\t\tCoolantTransferMultiplier = 0.01\t//If the part is colder, how much of our energy can we transfer?\n\t\tradiatorCoolingFactor = 1\t\t\t//How much energy we pull from core with an active radiator?  \u0026gt;= 1\n\t\tradiatorHeatingFactor = 0.1\t\t//How much energy we push to the active radiator\n\t\tMaxCalculationWarp = 1000\t\t\tBased on how dramatic the changes are, this is the max rate of change\n\t\t//CoreShutdownTemp = 4000\t\t\t\tAt what core temperature do we shut down all generators on this part?\n\t\tMaxCoolant = 5000\t\t\t\t//Maximum amount of radiator capacity we can consume - 50 = 1 small\n\t\tPassiveEnergy\n\t\t{\n\t\t\tkey = 0 \t100000\n\t\t\tkey = 1500 \t70000\n\t\t\tkey = 2000 \t60000\n\t\t\tkey = 4000 \t55000\t\t\n\t\t\tkey = 6500\t3000\n\t\t\tkey = 7000\t0\n\t\t}\n\n\t\t//PassiveEnergy\n\t\t//{\n\t\t//\tkey = 0 \t100000\n\t\t//\tkey = 2000 \t70000\n\t\t//\tkey = 3000 \t60000\n\t\t//\tkey = 6000 \t55000\t\t\n\t\t//\tkey = 6500\t3000\n\t\t//\tkey = 7000\t0\n\t\t//}\t\t\t\t\t\t\t\t\t\t\t\t\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleActiveRadiator\n\t\tmaxEnergyTransfer = 80000\n\t\tovercoolFactor = 0.25\n\t\tisCoreRadiator = true\n\t\tRESOURCE\n\t\t{\n\t\t\tname = ElectricCharge\n\t\t\trate = 0.8\n\t\t}\t\t\n\t}\t\t\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ve worked out the above through a few days\u0027 experimentation. It\u0027s lead me to a few strange values and workarounds, but it functions save for one flaw: a sudden, what appears to be \u0022catch up\u0022\u00A0heat spike on resuming normal speed after\u00A0warping at high enough factors for the game to stop actively running heat calculations.\n\u003C/p\u003E\n\u003Cp\u003E\nThe root of the strangeness lies in a few target qualities I wanted for the part that, as it turns out,\u00A0don\u0027t coexist\u00A0very naturally.\u00A0I wanted it to be both a passive heat generator and a radiator, such that it glowed slightly with its own heat but would also heat up and dissipate external loads, glowing brighter until allowed to cool again. After some testing, it\u00A0seems I have that in order. On a partially separate note, I designed the part with emissive heatpipes as seen earlier in the thread. My intention was for the part to glow mostly in that way (through a black body spectrum up to a faded, brilliant yellow) for aesthetic and to visualize the energy passing in and out of it, with the skin highlight coming only at the highest temperatures.\u00A0Unfortunately that turned out to interfere with the radiator functionality\u00A0which seemed to depend on skinInternalConductionMult being a high value, a variable I had been using at low values to isolate the core temperature associated with the heat pipes and the skin temperature associated with the highlight. Eventually I solved that problem by using a high skinInternalConductionMult in tandem with an extremely low thermal mass modifier, allowing\u00A0the core to heat faster under the passive heater\u00A0than the skin, and reach \u0022shorter\u00A0wavelengths\u0022 much sooner. Since heat capacity is determined by volume, and presumably the heat pipes would be a small fraction by volume of the entire part, this made sense to me. With some tweaking (namely raising the coreEnergyMultiplier to compensate for the lower thermal mass. No idea how exactly it was compensating, but it was)\u00A0I\u0027ve gotten the values above and found they satisfy my intention rather nicely.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003ENote that without the higher-than-normal\u00A0coreEnergyMultiplier, the lower-than-normal thermalMassModifier causes the part to require immense internal heating before responding much at all. I have the heat animation weighted distinctly towards the cooler side, and the PassiveEnergy values still had to be several orders of magnitude higher before any\u00A0noticeable\u00A0effect took place. That strikes me wholly counterintuitive, as a lower heat capacity part ought to heat faster, but my\u00A0experimentation has given\u00A0consistent results.\u00A0Those values proved very difficult to work with and lay firmly outside KSP\u0027s normal operating range, so I was happy to be rid of them when I figured out how.\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe trouble is, somewhere along the line (I believe in dealing with the second problem), I picked up the problem from below the code. The part always seems to heat up somewhat when coming down from warp, but it heats very dramatically when coming down from warps high enough for the game to stop calculating and for the emissive to dim out in accordance. In that case the heat peaks almost to overheat, and in all cases the temperature then slowly abates over time until the part glows the\u00A0dull idle red it should. Under normal conditions, and even at fixed warp speeds during which the game still calculates heat, things function as expected. Given that, I\u0027m inclined to believe the actual emission and radiation functions are operating fine.\u00A0The issue only manifests when exiting warp (during which the part develops sudden surplus heat before dissipating it) and entering warp (during which the part develops a sudden heat deficit that it then regains provided we\u0027re not warping too fast for the game to bother)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA diagram in lieu of a picture montage, as I\u0027m short on time:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E[Normal speed, Warm] - \u0026gt; Warp (of any value) [instantly cold, warming until reaching the normal value] -\u0026gt; Normal speed [Sudden overheat, cooling until reaching the normal value]\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EDoes not seem to apply to physical time warp.\u00A0\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI picked up the problem and lost it a few times in my several days of meddling, but I never worked out where it properly stemmed from and if there were multiple ways of triggering/resolving it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-18T10:51:13Z\u0022 title=\u002204/18/2016 10:51  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 18, 2016\u003C/time\u003E by Balto-the-Wolf-Dog\u003C/strong\u003E\n\u003C/span\u003E\n"}]}