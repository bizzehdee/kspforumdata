{"TopicId":156947,"ForumId":70,"TopicTitle":"How do i determine surface velocity in KOS. NOTHING WORKS IT IS SO FRUSTRATING","CreatedByName":"Chocolat Oreos","CreatedById":159045,"CreatedDateTime":"2017-02-25T11:05:28Z","PageNum":1,"Articles":[{"CreatedByName":"Chocolat Oreos","CreatedById":159045,"CreatedDateTime":"2017-02-25T11:05:28Z","Content":"\n\u003Cp\u003E\nI am trying to start the gravity turn when the velocity of the ship is greater than 98. Look at this and tell me whats wrong\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E off.\u003Cbr\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E on.\u003Cbr\u003E\ngears off.\u003Cbr\u003E\nlights off.\n\u003C/p\u003E\n\u003Cp\u003E\nset targetvelocity to 98.\u003Cbr\u003E\nset runmode to 1.\n\u003C/p\u003E\n\u003Cp\u003E\nuntil runmode = 0 {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0if runmode = 1 {\u003Cbr\u003E\n\u00A0 lock throttle to 1.\u003Cbr\u003E\n\u00A0 lock steering to up.\u003Cbr\u003E\n\u00A0 stage.\u003Cbr\u003E\n\u00A0 if ship:GROUNDSPEED \u0026gt; targetvelocity {\u003Cbr\u003E\n\u00A0 \u00A0set runmode to 2.\u003Cbr\u003E\n\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0else if runmode = 2 {\u003Cbr\u003E\n\u00A0 lock steering to up (90,85).\u003Cbr\u003E\n\u00A0 until ship:altitude = 5000.\u003Cbr\u003E\n\u00A0 lock steering to up (90,75).\u003Cbr\u003E\n\u00A0 set runmode to 0.\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n\u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\nit\u0027s spams the stage action group straight away when i start the program,\u00A0it\u0027s\u00A0wasting my rocket!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nplease help me!\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-02-25T22:40:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222967204\u0022 data-ipsquote-contentid=\u0022156947\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488020728\u0022 data-ipsquote-userid=\u0022159045\u0022 data-ipsquote-username=\u0022Chocolat Oreos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Chocolat Oreos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am trying to start the gravity turn when the velocity of the ship is greater than 98. Look at this and tell me whats wrong\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E off.\u003Cbr\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E on.\u003Cbr\u003E\ngears off.\u003Cbr\u003E\nlights off.\n\u003C/p\u003E\n\u003Cp\u003E\nset targetvelocity to 98.\u003Cbr\u003E\nset runmode to 1.\n\u003C/p\u003E\n\u003Cp\u003E\nuntil runmode = 0 {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0if runmode = 1 {\u003Cbr\u003E\n\u00A0 lock throttle to 1.\u003Cbr\u003E\n\u00A0 lock steering to up.\u003Cbr\u003E\n\u00A0 stage.\u003Cbr\u003E\n\u00A0 if ship:GROUNDSPEED \u0026gt; targetvelocity {\u003Cbr\u003E\n\u00A0 \u00A0set runmode to 2.\u003Cbr\u003E\n\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0else if runmode = 2 {\u003Cbr\u003E\n\u00A0 lock steering to up (90,85).\u003Cbr\u003E\n\u00A0 until ship:altitude = 5000.\u003Cbr\u003E\n\u00A0 lock steering to up (90,75).\u003Cbr\u003E\n\u00A0 set runmode to 0.\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n\u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\nit\u0027s spams the stage action group straight away when i start the program,\u00A0it\u0027s\u00A0wasting my rocket!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nplease help me!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe complaint in the title of this thread has nothing to do with the complaint in the body of the message.\n\u003C/p\u003E\n\u003Cp\u003E\nWhich is it?\u00A0 Is it that you can\u0027t get the surface velocity or that it stages again and again?\u00A0 They\u0027ve got nothing to do with each other.\n\u003C/p\u003E\n\u003Cp\u003E\nIt stages repeatedly on the launchpad because your script told it to.\u00A0 It starts in runmode=1, and in runmode=1 each iteration it will execute the stage command unconditionally, outside of the if-check for groundspeed.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-03-02T12:37:19Z","Content":"\n\u003Cp\u003E\nRunmode\u00A0starts at 1 and you get into the loop. In the loop you stage when runmode is 1 and switch to runmode = 2 only when the groundspeed is high enough. So what you actually wrote is : \u0022stage until the ground velocity is superior to\u00A0targetvelocity\u0022\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}