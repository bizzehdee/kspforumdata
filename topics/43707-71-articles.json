{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":71,"Articles":[{"CreatedByName":"balu0","CreatedById":74978,"CreatedDateTime":"2013-11-08T21:52:59Z","Content":"\n\u003Cp\u003EIf anyone ever wondered, you CAN check against booleans!!!\u003C/p\u003E\u003Cp\u003Ejust fugued it out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003Ewe all know that his dose no work, it will return an error and stop:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Eif INLIGHT  = 0 {print \u0022It\u0027s dark out there\u0022.}       // Returns true if not blocked by celestial body, always false without solar panel.\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eif you print a boolean. You get True or False... but it is not 0.\u003C/p\u003E\u003Cp\u003EWell they are just STRINGS lol..\u003C/p\u003E\u003Cp\u003ESo you can do this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Eif INLIGHT  =  [B][COLOR=\u0022#FF0000\u0022]\u0022False\u0022[/COLOR][/B] {print \u0022It\u0027s dark out there\u0022.}       // Returns true if not blocked by celestial body, always false without solar panel.\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWas this common knowledge? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-08T22:02:49Z","Content":"\n\u003Cp\u003Eyup, that\u0027s how many people make menus with the action groups \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"balu0","CreatedById":74978,"CreatedDateTime":"2013-11-08T22:06:27Z","Content":"\n\u003Cp\u003EI searched the wiki and the forums and found nothing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut at least I figured it out on my own \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-08T22:10:13Z","Content":"\n\u003Cp\u003EI saw it on the space computer forum I think \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-08T22:35:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EI\u0027m going to have to try that. I grabbed parts of your code from far2 to try for later. I\u0027m trying to get a launcher with 3 komm sats for RT2 into kerbosync. I\u0027ve got my launcher above 286...blah blah...and have tried getting a node set to the exact altitude needed with not much luck. It just keeps bouncing around the altitude needed. Maybe it\u0027ll work for me. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Once I get my AP where i want, I have to try and see if I can get the PE to where I need it for a 4hr orbital period...but I\u0027ll cross that bridge once I get the AP settled. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust worked out how to calculate deltav for changing orbit altitudes. So if your issue is calculating deltav from an existing orbit try this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// find deltav to move apoapsis target altitude\u003Cbr\u003E// use energy invariance to calculate deltav\u003Cbr\u003E// by changing vp to vp\u0027 the semi major axis changes from a to a\u0027\u003Cbr\u003E// 0.5*vp^2 - mu/r \u002B 0.5*mu/a = 0.5*vp\u0027^2 - mu/r \u002B 0.5*mu/a\u0027\u003Cbr\u003E// vp\u0027^2 = vp^2 \u002B mu( 1/a - 1/a\u0027 )\u003Cbr\u003Eset mu to 3.5316000*10^12.  // mu = G mk, mk: mass of Kerbin\u003Cbr\u003Eset rk to 600000.           // radius of Kerbin\u003Cbr\u003Eset rm to 200000.           // radius of Mun\u003Cbr\u003Eset r to rk \u002B periapsis.\u003Cbr\u003Eset a to rk \u002B apoapsis.              // semi major axis current orbit\u003Cbr\u003Eset a2 to (r \u002B rk \u002B mun:altitude)/2. // semi major axis target orbit\u003Cbr\u003Eset vom to velocity:orbit:mag.\u003Cbr\u003Eset v2 to sqrt( vom^2 \u002B (mu * (1/a - 1/a2) ) ).\u003Cbr\u003Eset deltav to v2 - vom.\u003Cbr\u003Eprint \u0022v2: \u0022 \u002B round(v2).\u003Cbr\u003Eprint \u0022deltav: \u0022 \u002B round(deltav).\u003Cbr\u003Eset x to node(time:seconds \u002B eta:periapsis, 0, 0, deltav).\u003Cbr\u003Eadd x.\u003Cbr\u003E// workaround for scientic numbers bug on load\u003Cbr\u003Eset mu to 0.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EReplace \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Emun:altitude\u003C/span\u003E by your target altitude. When using a 100km orbit, 90km target altitude I get a -11.8m/s burn, and the maneuver node calculator estimates an 87.5km periapsis. That is 3% error in altitude, much smaller when looking at the semi axis (~687km instead of 690km).\u003C/p\u003E\u003Cp\u003ENot sure at what accuracy you want to hit your altitude.\u003C/p\u003E\u003Cp\u003EBtw, my node chaser script has not been tested (i.e. will not work) with changes of deltav \u0026lt; 2 maxthrust/mass.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-08T22:43:38Z\u0022 title=\u002211/08/2013 10:43  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 8, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-08T23:31:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022balu0\u0022 data-cite=\u0022balu0\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003Eif INLIGHT  = 0 {print \u0022It\u0027s dark out there\u0022.}       // Returns true if not blocked by celestial body, always false without solar panel.\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs inlight a thing? Cool....did not know that. Could be good for turning things off that use a lot of power, like kethane drills/convertors.....Didn\u0027t think about using kOS for kethane drills....you could automate the conversion process... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EJust worked out how to calculate deltav for changing orbit altitudes. So if your issue is calculating deltav from an existing orbit try this:\u003Cp\u003E\u003Cstrong\u003E***CODE HERE***\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EReplace \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Emun:altitude\u003C/span\u003E by your target altitude. When using a 100km orbit, 90km target altitude I get a -11.8m/s burn, and the maneuver node calculator estimates an 87.5km periapsis. That is 3% error in altitude, much smaller when looking at the semi axis (~687km instead of 690km).\u003C/p\u003E\u003Cp\u003ENot sure at what accuracy you want to hit your altitude.\u003C/p\u003E\u003Cp\u003EBtw, my node chaser script has not been tested (i.e. will not work) with changes of deltav \u0026lt; 2 maxthrust/mass.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool, I\u0027ll give this one a try when I get a chance then. As far as accuracy goes, I know it likely won\u0027t be too accurate just because of the time lag in parsing the if statements.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Update**\u003C/strong\u003E Maybe I\u0027m not doing something right...I replaced \u003Cem\u003Emun:altitude\u003C/em\u003E with 2868750 and when it runs all I get is NaN for both v2 and deltav. I didn\u0027t do anything with the vp part of the code, should I have used that some how?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI took the round function out of the code/formula and NaN went away\u003C/span\u003E(though looking at it again that was just for the print statements lol), but still not getting a number that\u0027ll get me what I want. hmmm\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-09T04:10:10Z\u0022 title=\u002211/09/2013 04:10  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 9, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cilph","CreatedById":21477,"CreatedDateTime":"2013-11-09T01:12:37Z","Content":"\n\u003Cp\u003EIf someone could help me out here. I\u0027m trying to run this very simple demo script: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/5470754/simple.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/5470754/simple.txt\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt runs fine at first but it never quits the final circularization burn for some reason. It does eventually stop, but I have no idea what it relates to. My periapsis by that time is somewhere 8Gm from the sun.\u003C/p\u003E\n"},{"CreatedByName":"Dexter9313","CreatedById":84598,"CreatedDateTime":"2013-11-09T01:25:45Z","Content":"\n\u003Cp\u003E@Cilph The problem with checking periapsis is that when it flips over (apoapsis becomes periapsis and conversely), its value won\u0027t raise anymore. I don\u0027t know if you understand what I\u0027m trying to tell, but basically, it\u0027s a better idea to check on semi-major axis rather than periapsis as you can\u0027t really tell if it\u0027s going to increase to the value you want or not. When you burn prograde, you know your semi-major axis will raise, but if you are not precise enough (this script is basic so it is not precise at all), the periapsis won\u0027t raise the way you want it. (Ever missed a maneuver node a bit ? Saw how much your orbit went far away from predicted ? ^^ ) Anyway, glad you took time to see what kOS is about, this means you will understand how important is a RT/kOS compatibility for the depth of the game. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ETo anyone who answered my \u0022when .. then .. \u0022 problem, thank you ! Basically I already figured out how to determine if the vessel needs a staging, what I needed was a way to ensure that even if 1000 stages are needed, they still would fire during ascent. I like the until {} method but there will be repeated portions of code as I would need several of them, that\u0027s why I chose when .. then .. in the first place. I don\u0027t know if the recursion could work in another file (basically if a when then statement survives the end of the program), I will test that, and if it works I will use it ! Getting back to you with the results. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Cilph","CreatedById":21477,"CreatedDateTime":"2013-11-09T01:30:09Z","Content":"\n\u003Cp\u003EYeah, I figured it out. Due to atmosphere losses my apoapsis dropped to below the set periapsis causing it to keep burning just because.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-09T11:00:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003E**Update**\u003C/strong\u003E Maybe I\u0027m not doing something right...I replaced \u003Cem\u003Emun:altitude\u003C/em\u003E with 2868750 and when it runs all I get is NaN for both v2 and deltav. I didn\u0027t do anything with the vp part of the code, should I have used that some how?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs the value of this:\u003C/p\u003E\u003Cp\u003E vom^2 \u002B (mu * (1/a - 1/a2) )\u003C/p\u003E\u003Cp\u003Ecoming out as a negative number? Taking the square root of a negative number would result in NaN, as floats and doubles can\u0027t do complex numbers.\u003C/p\u003E\u003Cp\u003EAll the variables you\u0027re using are positive so the only chance for that expression to end up negative is if 1/a is smaller than 1/a2.\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-09T13:07:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EIs inlight a thing? Cool....did not know that. Could be good for turning things off that use a lot of power, like kethane drills/convertors.....Didn\u0027t think about using kOS for kethane drills....you could automate the conversion process... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003ECool, I\u0027ll give this one a try when I get a chance then. As far as accuracy goes, I know it likely won\u0027t be too accurate just because of the time lag in parsing the if statements.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Update**\u003C/strong\u003E Maybe I\u0027m not doing something right...I replaced \u003Cem\u003Emun:altitude\u003C/em\u003E with 2868750 and when it runs all I get is NaN for both v2 and deltav. I didn\u0027t do anything with the vp part of the code, should I have used that some how?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI took the round function out of the code/formula and NaN went away\u003C/span\u003E(though looking at it again that was just for the print statements lol), but still not getting a number that\u0027ll get me what I want. hmmm\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWorks for me:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022Currently in sphere of \u0022 \u002B body.\u003Cbr\u003E// find deltav to move apoapsis target altitude\u003Cbr\u003E// use energy invariance to calculate deltav\u003Cbr\u003E// by changing vp to vp\u0027 the semi major axis changes from a to a\u0027\u003Cbr\u003E// 0.5*vp^2 - mu/r \u002B 0.5*mu/a = 0.5*vp\u0027^2 - mu/r \u002B 0.5*mu/a\u0027\u003Cbr\u003E// vp\u0027^2 = vp^2 \u002B mu( 1/a - 1/a\u0027 )\u003Cbr\u003Eset mu to 3.5316000*10^12.  // mu = G mk, mk: mass of Kerbin\u003Cbr\u003Eset rk to 600000.           // radius of Kerbin\u003Cbr\u003Eset rm to 200000.           // radius of Mun\u003Cbr\u003Eset r to rk \u002B periapsis.\u003Cbr\u003Eset a to rk \u002B apoapsis.              // semi major axis current orbit\u003Cbr\u003E// set a2 to (r \u002B rk \u002B mun:altitude)/2. // semi major axis target orbit\u003Cbr\u003Eset a2 to (r \u002B rk \u002B 2868750)/2. // semi major axis target orbit\u003Cbr\u003Eset vom to velocity:orbit:mag.\u003Cbr\u003Eset v2 to sqrt( vom^2 \u002B (mu * (1/a - 1/a2) ) ).\u003Cbr\u003Eset deltav to v2 - vom.\u003Cbr\u003Eprint \u0022v2: \u0022 \u002B round(v2).\u003Cbr\u003Eprint \u0022deltav: \u0022 \u002B round(deltav).\u003Cbr\u003Eset x to node(time:seconds \u002B eta:periapsis, 0, 0, deltav).\u003Cbr\u003Eadd x.\u003Cbr\u003E// workaround for scientic numbers bug on load\u003Cbr\u003Eset mu to 0.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is a 1% error in altitude compared to the inputs. This might be caused by the script or the way maneuver node system works.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.baldev.de/kos/screenshots/kOS%20orbit.png\u0022 alt=\u0022kOS%20orbit.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBtw, vom^2 \u002B (mu * (1/a - 1/a2) ) should only ever become small when a2 is close to 0. In physics terms a2 does never get smaller than (rk\u002Baltitude)/2 that is when periapsis gets close to the center of earth and your radial velocity vp\u0027 gets close to 0 (no more kinetic energy). The major axis then extends from your ship to the center of kerbin then, i.e. rk\u002Baltitude.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-09T14:03:53Z\u0022 title=\u002211/09/2013 02:03  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 9, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-09T15:29:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EWorks for me:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022Currently in sphere of \u0022 \u002B body.\u003Cbr\u003E// find deltav to move apoapsis target altitude\u003Cbr\u003E// use energy invariance to calculate deltav\u003Cbr\u003E// by changing vp to vp\u0027 the semi major axis changes from a to a\u0027\u003Cbr\u003E// 0.5*vp^2 - mu/r \u002B 0.5*mu/a = 0.5*vp\u0027^2 - mu/r \u002B 0.5*mu/a\u0027\u003Cbr\u003E// vp\u0027^2 = vp^2 \u002B mu( 1/a - 1/a\u0027 )\u003Cbr\u003Eset mu to 3.5316000*10^12.  // mu = G mk, mk: mass of Kerbin\u003Cbr\u003Eset rk to 600000.           // radius of Kerbin\u003Cbr\u003Eset rm to 200000.           // radius of Mun\u003Cbr\u003Eset r to rk \u002B periapsis.\u003Cbr\u003Eset a to rk \u002B apoapsis.              // semi major axis current orbit\u003Cbr\u003E// set a2 to (r \u002B rk \u002B mun:altitude)/2. // semi major axis target orbit\u003Cbr\u003Eset a2 to (r \u002B rk \u002B 2868750)/2. // semi major axis target orbit\u003Cbr\u003Eset vom to velocity:orbit:mag.\u003Cbr\u003Eset v2 to sqrt( vom^2 \u002B (mu * (1/a - 1/a2) ) ).\u003Cbr\u003Eset deltav to v2 - vom.\u003Cbr\u003Eprint \u0022v2: \u0022 \u002B round(v2).\u003Cbr\u003Eprint \u0022deltav: \u0022 \u002B round(deltav).\u003Cbr\u003Eset x to node(time:seconds \u002B eta:periapsis, 0, 0, deltav).\u003Cbr\u003Eadd x.\u003Cbr\u003E// workaround for scientic numbers bug on load\u003Cbr\u003Eset mu to 0.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is a 1% error in altitude compared to the inputs. This might be caused by the script or the way maneuver node system works.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Image**\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBtw, vom^2 \u002B (mu * (1/a - 1/a2) ) should only ever become small when a2 is close to 0. In physics terms a2 does never get smaller than (rk\u002Baltitude)/2 that is when periapsis gets close to the center of earth and your radial velocity vp\u0027 gets close to 0 (no more kinetic energy). The major axis then extends from your ship to the center of kerbin then, i.e. rk\u002Baltitude.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELike Steven said vom^2 \u002B (mu * (1/a - 1/a2) ) is negative because A ends up being 2 and A2 ends up being 4 (not counting the decimals). Below is a screenshot from my attempt, I included extra prints to see what some of the variables are doing. Part of the problem, at least with vom^2.... is 1/a is less than 1/a2. Likely because I\u0027m starting from a higher orbit trying to get to a lower one.\u003C/p\u003E\u003Cp\u003EThe only change I did was to add print statements. Although I tried a few other things like switching a and a2, which got rid of Nan, but totally doesn\u0027t get what we\u0027re going for. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://bowencustomcreations.com/kspPics/screenshot396.png\u0022 alt=\u0022screenshot396.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E...Just tried making a2 higher than the current Ap, at first I tried something like 3568750, and the node AP ended up as less than the current Ap. SO then I added a 0 to the end of 2,868,750, (so 28,687,500) and the resultant node ap ended up as 19,364,656. I\u0027m guessing the error margin gets larger with larger numbers....maybe?...Sorry I\u0027m being a pest about this lol\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-09T15:57:52Z\u0022 title=\u002211/09/2013 03:57  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 9, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-09T17:00:51Z","Content":"\n\u003Cp\u003EJust found out the script only works when starting from a circular orbit. I didn\u0027t notice because I circularized for orbit insertion. Let me check whether I can generalize it for arbitrary orbits. The problem is that r and velocity:orbit:mag must correspond to calculate energy. In a circular orbit that is true throughout - and I used that in the formula.\u003C/p\u003E\u003Cp\u003EBear with me. Apologies for the inconvenience caused.\u003C/p\u003E\u003Cp\u003EEDIT: Try this apoapsis maneuver node creator. Need yet to clone for periapsis maneuvers. I\u0027ve also created a warping node chaser which I will upload to kos wiki shortly.\u003C/p\u003E\u003Cp\u003ERun it with the desire altitude, for example to create a circular orbit node:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun apo(apoapsis).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter alt.\u003Cbr\u003E// create apoapsis maneuver node\u003Cbr\u003Eprint \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Apoapsis maneuver, orbiting \u0022 \u002B body.\u003Cbr\u003Eprint \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Apoapsis: \u0022 \u002B round(apoapsis/1000) \u002B \u0022km.\u0022.\u003Cbr\u003Eprint \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Periapsis: \u0022 \u002B round(periapsis/1000) \u002B \u0022km\u0022 \u002B \u0022 -\u0026gt; \u0022 \u002B round(alt/1000) \u002B \u0022km\u0022.\u003Cbr\u003E// constants\u003Cbr\u003Eset mu to 3.5316000*10^12.  // mu = G mk, mk: mass of Kerbin\u003Cbr\u003Eset rk to 600000.           // radius of Kerbin\u003Cbr\u003Eset rm to 200000.           // radius of Mun\u003Cbr\u003E// present orbit properties\u003Cbr\u003Eset vom to velocity:orbit:mag.  // actual velocity\u003Cbr\u003Eset r to rk \u002B altitude.         // actual distance to body\u003Cbr\u003Eset ra to rk \u002B apoapsis.        // radius in apoapsis\u003Cbr\u003Eset va to sqrt( vom^2 \u002B 2*mu*(1/ra - 1/r) ). // velocity in apoapsis\u003Cbr\u003Eset a to (periapsis \u002B 2*rk \u002B apoapsis)/2. // semi major axis present orbit\u003Cbr\u003E// future orbit properties\u003Cbr\u003Eset r2 to rk \u002B apoapsis.    // distance after burn at apoapsis\u003Cbr\u003Eset a2 to (alt \u002B 2*rk \u002B apoapsis)/2. // semi major axis target orbit\u003Cbr\u003Eset v2 to sqrt( vom^2 \u002B (mu * (2/r2 - 2/r \u002B 1/a - 1/a2 ) ) ).\u003Cbr\u003E// setup node \u003Cbr\u003Eset deltav to v2 - va.\u003Cbr\u003Eprint \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Apoapsis burn: \u0022 \u002B round(va) \u002B \u0022, dv:\u0022 \u002B round(deltav) \u002B \u0022 -\u0026gt; \u0022 \u002B round(v2) \u002B \u0022m/s\u0022.\u003Cbr\u003Eset x to node(time:seconds \u002B eta:apoapsis, 0, 0, deltav).\u003Cbr\u003Eadd x.\u003Cbr\u003Eprint \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Node created.\u0022.\u003Cbr\u003E// workaround for scientic numbers bug on load\u003Cbr\u003Eset mu to 0.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.baldev.de/kos/screenshots/kOS_node_creator.png\u0022 alt=\u0022kOS_node_creator.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-09T19:04:37Z\u0022 title=\u002211/09/2013 07:04  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 9, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-09T19:07:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EJust found out the script only works when starting from a circular orbit. I didn\u0027t notice because I circularized for orbit insertion. Let me check whether I can generalize it for arbitrary orbits. The problem is that r and velocity:orbit:mag must correspond to calculate energy. In a circular orbit that is true throughout - and I used that in the formula.\u003Cp\u003EBear with me. Apologies for the inconvenience caused.\u003C/p\u003E\u003Cp\u003EEDIT: Try this apoapsis maneuver node creator. Need yet to clone for periapsis maneuvers. I\u0027ve also created a warping node chaser which I will upload to kos wiki shortly.\u003C/p\u003E\u003Cp\u003ERun it with the desire altitude, for example to create a circular orbit node:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Code**\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Image**\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAwesome, I\u0027ll give it a go later today when I have a moment. Thanks for your help. As much as I \u0022dislike\u0022 math, it is interesting how useful it can be, and once it\u0027s broken down into its parts it\u0027s not actually that hard to understand....sort of \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-09T19:08:18Z\u0022 title=\u002211/09/2013 07:08  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 9, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003Cbr\u003ERemoved code/image to save space...Bahah....\n\u003C/span\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-11-09T20:22:03Z","Content":"\n\u003Cp\u003EIs that possible to get the current acceleration of the rocket? I want to create a G-limiting routine that would run in the background through the entire program. If the G load exceeds 4, the throttle variable would be incrementally reduced. This check needs to be continually repeated, and only cease when the payload has separated from the rocket (which happens to end the program, this being an ascent program for the LV).\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-09T20:25:45Z","Content":"\n\u003Cp\u003E@Dragon01 acceleration = Throttle*MaxThrust/Mass gives the same numbers as mechjeb\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-09T22:40:21Z","Content":"\n\u003Cp\u003EI\u0027ve uploaded the maneuvering scripts to the \u003Ca href=\u0022http://kos.wikia.com/wiki/Maneuvering_modules\u0022 rel=\u0022external nofollow\u0022\u003EkOS wiki\u003C/a\u003E. Features:\u003C/p\u003E\u003Cp\u003E1. add maneuver node at periapsis for changing apopsis altitude (more fuel efficient) \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun per1(mun:altitude). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E2. add maneuver node at apoapsis for changing perapsis altitude, for example to cirularize an orbit: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun apo1(apoapsis). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E3. node execution script. The script will \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE turn the ship to node:deltav (\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eand it has a nice workaround to detect when done\u003C/span\u003E)\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE warp to the maneuver node \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE burn full throttle, then \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE for accurate deltav throttle down nearing burn end. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun nod1. \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUses these helper subroutines:\u003C/p\u003E\u003Cp\u003E4. Wait for dt seconds. Warps automatically. Covering warp levels up to 5 (3000 seconds).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun warp(dt). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E5. Sets a body\u0027s properties global variables: \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE Gravitational parameter \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Emu \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE body radius \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Erb\u003C/span\u003E \u003C/p\u003E\u003Cp\u003Ecurrently works for Kerbin, Mun and Minmus. The constants are used in the apo1 and per1 scripts. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun bdp(Kerbin). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-10T12:39:58Z\u0022 title=\u002211/10/2013 12:39  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 10, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-09T23:04:35Z","Content":"\n\u003Cp\u003ECool, I\u0027ll check these out soon. Heading to my in-laws for dinner and a movie. I just tried the code you posted earlier and it seems to work rather well. I think the one time I ran it as it was it got around 2868435, or something like that. Though at first I thought it should help to bring my AP down to the desired altitude, like I said though I\u0027ll give the others a try. \u003C/p\u003E\u003Cp\u003EThanks for taking the time to work on these. Wish I understood it more so I could figure it out myself. Maybe some day, I\u0027ve never really \u0022needed\u0022 anything like this before but I think it\u0027s pretty cool the potential it has.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E**Update**\u003C/strong\u003E I\u0027m starting to check it out now. I got an error though, saying unrecognized term rb. Upon checking it looks like the bdp.txt sets the radius of the bodies to rk not rb. Trying that now to see if that fixes it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EYep, that seemed to do the trick: \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://bowencustomcreations.com/kspPics/screenshot397.png\u0022 alt=\u0022screenshot397.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow I just have to piece together the rest of it together. Once I start the burn at Pe, and get my Ap where I want it, I\u0027m going to have to place a node at Ap, and adjust until the orbital period is 4hrs. I THINK I have that part figured out, maybe, I\u0027ll let you know how it goes.\u003C/p\u003E\u003Cp\u003EWas just looking at the time warp program\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif dt \u0026gt; 300 {\u003Cbr\u003E    when time:seconds \u0026gt; t1 - 300 then {\u003Cbr\u003E        print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warp 3.\u0022.\u003Cbr\u003E        set warp to 3.\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt; 10 and dt \u0026lt; 300 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warp 3.\u0022.\u003Cbr\u003E    set warp to 3.\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt; 60 {\u003Cbr\u003E    when time:seconds \u0026gt; t1 - 60 then {\u003Cbr\u003E        print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warp 2.\u0022.\u003Cbr\u003E        set warp to 2.\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EShould \u0022\u003Cem\u003Eif dt \u0026gt; 10 and dt \u0026lt; 300\u003C/em\u003E\u0022 be \u0022\u003Cem\u003Eif dt \u0026gt; 100 and dt \u0026lt; 300\u003C/em\u003E\u0022 or maybe \u0022\u003Cem\u003Eif dt \u0026gt; 60 and dt \u0026lt; 300\u003C/em\u003E\u0022? I haven\u0027t tried it yet though so for all I know it may be fine.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EI\u0027ve uploaded the maneuvering scripts to the \u003Ca href=\u0022http://kos.wikia.com/wiki/Maneuvering_modules\u0022 rel=\u0022external nofollow\u0022\u003EkOS wiki\u003C/a\u003E. Features:\u003Cp\u003E1. add maneuver node at periapsis for changing apopsis altitude (more fuel efficient) \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun per1(mun:altitude). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E2. add maneuver node at apoapsis for changing perapsis altitude, for example to cirularize an orbit: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun apo1(apoapsis). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E3. node execution script. The script will \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE turn the ship to node:deltav (and it has a nice workaround to detect when done)\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE warp to the maneuver node \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE burn full throttle, then \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE for accurate deltav throttle down nearing burn end. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun nod1. \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUses these helper subroutines:\u003C/p\u003E\u003Cp\u003E4. Wait for dt seconds. Warps automatically. Covering warp levels up to 5 (3000 seconds).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun warp(dt). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E5. Sets a body\u0027s properties global variables: \u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE Gravitational parameter \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Emu \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u20AC\u201D\u00C2\u00BE body radius \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Erb\u003C/span\u003E \u003C/p\u003E\u003Cp\u003Ecurrently works for Kerbin, Mun and Minmus. The constants are used in the apo1 and per1 scripts. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun bdp(Kerbin). \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-10T00:34:37Z\u0022 title=\u002211/10/2013 12:34  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 10, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bsalis","CreatedById":32928,"CreatedDateTime":"2013-11-10T08:59:30Z","Content":"\n\u003Cp\u003ELiking this mod. Thought I would post here my K-prize qualifying run, done completely under kOS control.\u003C/p\u003E\u003Cp\u003EIt\u0027s on SkyDrive - clicky pic below to play.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://skydrive.live.com/?cid=49158b6f83f01ff0\u0026amp;id=49158B6F83F01FF0%21105#cid=49158B6F83F01FF0\u0026amp;id=49158B6F83F01FF0%21112\u0026amp;v=3\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://farm4.staticflickr.com/3684/10771511616_d3cfd4d8bb_o.png\u0022 alt=\u002210771511616_d3cfd4d8bb_o.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-10T09:20:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E**Update**\u003C/strong\u003E I\u0027m starting to check it out now. I got an error though, saying unrecognized term rb. Upon checking it looks like the bdp.txt sets the radius of the bodies to rk not rb. Trying that now to see if that fixes it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EShould \u0022\u003Cem\u003Eif dt \u0026gt; 10 and dt \u0026lt; 300\u003C/em\u003E\u0022 be \u0022\u003Cem\u003Eif dt \u0026gt; 100 and dt \u0026lt; 300\u003C/em\u003E\u0022 or maybe \u0022\u003Cem\u003Eif dt \u0026gt; 60 and dt \u0026lt; 300\u003C/em\u003E\u0022? I haven\u0027t tried it yet though so for all I know it may be fine.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUpdated \u003Ca href=\u0022http://ksp.baldev.de/kos/lib/bdp.txt\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Ebdp.txt\u003C/span\u003E\u003C/a\u003E on the wiki to correct \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Erb\u003C/span\u003E. The original naming was for Kerbin (rk) but I extended the script to work with other bodies as well. Consequently it is no longer radius of Kerbin rk but radius of body rb.\u003C/p\u003E\u003Cp\u003EThe warp script is not fully symmetric but it should work. I saved the effort of cloning the initial warp factor setting for warp 1 to 3.\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-10T09:34:59Z","Content":"\n\u003Cp\u003EI am trying to run a master script for my mission.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// mission control script\u003Cbr\u003E// prepare kOS storage\u003Cbr\u003Eswitch to 1.\u003Cbr\u003Ecopy bdp.txt from 0.\u003Cbr\u003Ecopy far4.txt from 0.\u003Cbr\u003Ecopy per1.txt from 0.\u003Cbr\u003E// switch to 2.\u003Cbr\u003Ecopy apo1.txt from 0.\u003Cbr\u003Ecopy nod1.txt from 0.\u003Cbr\u003Ecopy warp.txt from 0.\u003Cbr\u003E\u003Cbr\u003E// conduct mission\u003Cbr\u003Erun far4.\u003Cbr\u003Erun per1(mun:altitude).\u003Cbr\u003Erun nod1.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut I get:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EProceed.\u003C/p\u003E\u003Cp\u003ESwitch to 0.\u003C/p\u003E\u003Cp\u003Erun mc1.\u003C/p\u003E\u003Cp\u003EError on line 2: Syntax error. // commenting out \u0022switch to 0.\u0022 in mc1.txt\u003C/p\u003E\u003Cp\u003Erun mc1.\u003C/p\u003E\u003Cp\u003EError on line 3: Syntax error.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMissing feature or am I missing something?\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-10T15:10:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EI am trying to run a master script for my mission.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// mission control script\u003Cbr\u003E// prepare kOS storage\u003Cbr\u003Eswitch to 1.\u003Cbr\u003Ecopy bdp.txt from 0.\u003Cbr\u003Ecopy far4.txt from 0.\u003Cbr\u003Ecopy per1.txt from 0.\u003Cbr\u003E// switch to 2.\u003Cbr\u003Ecopy apo1.txt from 0.\u003Cbr\u003Ecopy nod1.txt from 0.\u003Cbr\u003Ecopy warp.txt from 0.\u003Cbr\u003E\u003Cbr\u003E// conduct mission\u003Cbr\u003Erun far4.\u003Cbr\u003Erun per1(mun:altitude).\u003Cbr\u003Erun nod1.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut I get:\u003C/p\u003E\u003Cp\u003EMissing feature or am I missing something?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETry it without .txt? As far as I know it doesn\u0027t need the extension.\u003C/p\u003E\u003Cp\u003EAfter trying to deploy some \u0022komm\u0022 sats (had a failed attempt that I left in a 10mm by 100km orbit, one of the sats release got triggered on accident, and was destroyed, launcher and other 2 were still ok), I decided to go ahead and deploy those 2 in a 8mm orbit, temporarily at least. In the process though I discovered I need more than 2 dishes so I\u0027m going to have to add another dish or 2 to my sats. Using the radial mount one on the sides to connect each satellite to its neighbor and i think the one that can reach duna as the dish to connect to KSC. Once I get my program(s) finalized I think I\u0027ll add to it copying the program needed for circularizing to each of the sats. Would be cool if there was a way to rename things programmatically. Also if we could have more than one kOS window open at a time....\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-10T15:17:56Z\u0022 title=\u002211/10/2013 03:17  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 10, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"thox","CreatedById":64908,"CreatedDateTime":"2013-11-10T21:07:43Z","Content":"\n\u003Cp\u003Ethere is one problem in the current version of kOS (0.92): whenever I use a variable in a node declaration, I get the error \u00C3\u00A2\u00E2\u201A\u00AC\u00CB\u0153the parameter xyz is not a number\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2, even though the variable contains a number. Has anyone else experienced this?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-10T23:09:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003E// commenting out \u0022switch to 0.\u0022 in mc1.txt\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t see any \u0022switch to 0.\u0022 anywhere in the code you posted - neither commented nor uncommented. Is what you posted what you\u0027re really running?\u003C/p\u003E\u003Cp\u003EAt any rate the problem probably is, as previously noted, the \u0022.txt\u0022, which is always implied and not stated explicitly.\u003C/p\u003E\u003Cp\u003ESaying \u0022run prog.txt .\u0022 Gets interpreted as two separate statements. \u0022run prog.\u0022 followed by \u0022txt.\u0022. And the syntax error is on not understanding what the command \u0022txt.\u0022 means.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-10T23:12:21Z\u0022 title=\u002211/10/2013 11:12  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 10, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-10T23:17:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003ELike Steven said vom^2 \u002B (mu * (1/a - 1/a2) ) is negative because A ends up being 2 and A2 ends up being 4\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, since a and a2 are in denominators of fractions it would have to be the other way around. \u0022A\u0022 would have to be bigger than \u0022A2\u0022 in order for (1/A) to be smaller than (1/A2).\u003C/p\u003E\n"}]}