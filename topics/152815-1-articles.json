{"TopicId":152815,"ForumId":69,"TopicTitle":"1.2.1 Linux, No-Go for Launch","CreatedByName":"alecdacyczyn","CreatedById":109759,"CreatedDateTime":"2016-12-01T10:23:25Z","PageNum":1,"Articles":[{"CreatedByName":"alecdacyczyn","CreatedById":109759,"CreatedDateTime":"2016-12-01T10:23:25Z","Content":"\n\u003Cp\u003E\nKSP Version: 1.2.1,\u00A0 OS: LinuxMint 18 Cinnamon x86-64, Current proprietary Nvidia driver (nvidia-367), Installed from the ZIP archive, downloaded on Dec 1st\n\u003C/p\u003E\n\u003Cp\u003E\nGame will not launch. I get this in console:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSet current directory to /opt/alec/KSP_Linux\u003Cbr\u003E\nFound path: /opt/alec/KSP_Linux/Launcher.x86_64\u003Cbr\u003E\nMono path[0] = \u0027/opt/alec/KSP_Linux/Launcher_Data/Managed\u0027\u003Cbr\u003E\nMono path[1] = \u0027/opt/alec/KSP_Linux/Launcher_Data/Mono\u0027\u003Cbr\u003E\nMono config path = \u0027/opt/alec/KSP_Linux/Launcher_Data/Mono/etc\u0027\u003Cbr\u003E\ndisplaymanager : xrandr version warning. 1.5\u003Cbr\u003E\nclient has 4 screens\u003Cbr\u003E\ndisplaymanager screen (0)(DVI-I-1): 1920 x 1080\u003Cbr\u003E\ndisplaymanager screen (1)(DVI-D-0): 1920 x 1080\u003Cbr\u003E\nUsing libudev for joystick management\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nImporting game controller configs\u003Cbr\u003E\nAborted\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPlayer.log (This is it. There is no more. It crashes pretty early)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStacktrace:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nNative stacktrace:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0/opt/alec/KSP_Linux/Launcher_Data/Mono/x86_64/libmono.so(\u002B0x91772) [0x7f49fa19a772]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/opt/alec/KSP_Linux/Launcher_Data/Mono/x86_64/libmono.so(\u002B0x348e4) [0x7f49fa13d8e4]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/lib/x86_64-linux-gnu/libpthread.so.0(\u002B0x113d0) [0x7f49fd2e23d0]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0./Launcher.x86_64() [0xdd7fea]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0./Launcher.x86_64() [0xdd0404]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0./Launcher.x86_64() [0xdd15d4]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0./Launcher.x86_64() [0x46195c]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main\u002B0xf0) [0x7f49fbaa1830]\u003Cbr\u003E\n\u00A0\u00A0 \u00A0./Launcher.x86_64() [0x46b4ed]\n\u003C/p\u003E\n\u003Cp\u003E\nDebug info from gdb:\n\u003C/p\u003E\n\u003Cp\u003E\nCould not attach to process.\u00A0 If your uid matches the uid of the target\u003Cbr\u003E\nprocess, check the setting of /proc/sys/kernel/yama/ptrace_scope, or try\u003Cbr\u003E\nagain as the root user.\u00A0 For more details, see /etc/sysctl.d/10-ptrace.conf\u003Cbr\u003E\nptrace: Operation not permitted.\u003Cbr\u003E\nNo threads.\n\u003C/p\u003E\n\u003Cp\u003E\n=================================================================\u003Cbr\u003E\nGot a SIGSEGV while executing native code. This usually indicates\u003Cbr\u003E\na fatal error in the mono runtime or one of the native libraries\u003Cbr\u003E\nused by your application.\u003Cbr\u003E\n=================================================================\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve searched through these forums and tried all of the workarounds I could find with no discernible change in behavior, including:\n\u003C/p\u003E\n\u003Cp\u003E\n-Deleting the \u0022~/.config/unity3d\u0022 folder and all its contents.\n\u003C/p\u003E\n\u003Cp\u003E\n-Running with \u0022LC_ALL=C ./KSP.x86_64\u0022\n\u003C/p\u003E\n\u003Cp\u003E\n-Running with \u0022-force-glcore\u0022 or \u0022-force-gfx-direct\u0022\n\u003C/p\u003E\n\u003Cp\u003E\n-Pulseaudio is installed and running. The \u0022pulsenomore\u0022 thingamajig has no effect.\n\u003C/p\u003E\n\u003Cp\u003E\n-The libs listed by \u0022ldd KSP.x86_64\u0022 all seem to be present.\n\u003C/p\u003E\n\u003Cp\u003E\n- Installed \u0027libgl1-mesa-glx:i386\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n-Identical behavior running all of these attempts with both 32-bit and 64-bit executables and direct to the KSP.x86(_64) binary and through the Launcher (except for the log file producing shorter memory addresses in the stack trace, obviously).\n\u003C/p\u003E\n\u003Cp\u003E\n- That installer script at the top of the \u0022Linux compatibility thread\u0022 didn\u0027t work... much. It downloaded and inflated the files fine, but then spit out a bunch of error messages. The binaries it installed produced the same results.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt looks like a problem with the Mono runtime, which I\u0027ve read in included by Unity; so updating my system\u0027s packages won\u0027t help. Are there any known workarounds for this issue? I suspect I\u0027ll just have to wait patiently for someone at Unity to fix the bug. Until then, I\u0027ll try to get the Windows version working through Wine.\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-12-01T10:46:41Z","Content":"\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109759-alecdacyczyn/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109759\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109759-alecdacyczyn/\u0022 rel=\u0022\u0022\u003E@alecdacyczyn\u003C/a\u003E, I see you have KSP in opt, does KSP have write permissions for opt? If not then it will fail to run.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have a /home/username/ folder that you can use instead?\n\u003C/p\u003E\n"},{"CreatedByName":"alecdacyczyn","CreatedById":109759,"CreatedDateTime":"2016-12-01T11:25:05Z","Content":"\n\u003Cp\u003E\nYes, that directory is owned by the user. There are no permissions issues.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I found the problem: While I was poking around in the Driver Manager, get the version number for the above post, I noticed that the \u0022amd-microcode\u0022 part of the driver was turned off. Apparently that was installed as part of an update but is not turned on automatically. After I finished writing my post I enabled that device and restarted to see it it would make a difference.\n\u003C/p\u003E\n\u003Cp\u003E\nIt works! At least the 32-bit version. The 64-bit binary crashed the Cinnamon environment spectacularly. Really bad. I had to Ctrl\u002BAlt\u002BF1 to get out of that trainwreck of corrupted GUI elements to kill the Xorg server to recover. But that\u0027s not KSP\u0027s fault. I\u0027ll have to put in a bug report to Mint. It seemed to have something to do with a screen-mode change.\n\u003C/p\u003E\n\u003Cp\u003E\nNever mind. It\u0027s now working and playable. \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-01T11:26:07Z\u0022 title=\u002212/01/2016 11:26  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 1, 2016\u003C/time\u003E by alecdacyczyn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-12-01T16:53:57Z","Content":"\n\u003Cp\u003E\nActually there\u0027s a \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/11382\u0022 rel=\u0022external nofollow\u0022\u003Eknown Unity bug\u003C/a\u003E that crashes the X server, it has been reported but no action yet.\n\u003C/p\u003E\n"}]}