{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":3,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-07T20:51:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003EDoes this \u0022fly-by\u0022 assistance takes into account possibility of first waiting few orbits, then getting to destination (like Kerbin-\u0026gt;Eve-\u0026gt;3 orbits around Kerbol-\u0026gt; Moho) ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003EAlso, could you somehow add posibility for searching \u0022all planets flyby\u0022 path, just like here:\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/37974-Optimal-gravity-assisted-grand-tour-%28AKA-Voyager-like-mission%29-challenge\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/37974-Optimal-gravity-assisted-grand-tour-%28AKA-Voyager-like-mission%29-challenge\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI understand that this could take really long, but it is one time to find for everybody, so i think that many users could spare their computer CPU to find it. So it should be splittable to many parts, so many users can count different parts.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease realize what you\u0027re asking for here. The mission planners who designed the Voyager grand tour spent years looking for and refining that trajectory. KSP TOT is, by comparison, a very simplistic tool. Even if I thought I could find a solver capable of such a task, no one in the private world has enough CPU power to actually carry it out. This problem is far beyond the scope of this application...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003EBug (or just to complicated to users...)?\u003Cp\u003EI\u0027m looking for Kerbin -\u0026gt; Eve launch window (going to Eve, so aerobreaking)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://alexmoon.github.io/ksp/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://alexmoon.github.io/ksp/\u003C/a\u003E (100 km orbit start, no orbit end, ballistic) :\u003C/p\u003E\u003Cp\u003EDeparture\u003C/p\u003E\u003Cp\u003E Year 1, day 147 at 6:43:12\u003C/p\u003E\u003Cp\u003EArrival\u003C/p\u003E\u003Cp\u003E Year 1, day 196 at 22:43:12\u003C/p\u003E\u003Cp\u003ETime of flight\u003C/p\u003E\u003Cp\u003E 49 days 16:00:00\u003C/p\u003E\u003Cp\u003EPhase angle\u003C/p\u003E\u003Cp\u003E -36.35\u00C3\u201A\u00C2\u00B0\u003C/p\u003E\u003Cp\u003EEjection angle\u003C/p\u003E\u003Cp\u003E 150\u00C3\u201A\u00C2\u00B0 to retrograde\u003C/p\u003E\u003Cp\u003EEjection inclination\u003C/p\u003E\u003Cp\u003E -1.07\u00C3\u201A\u00C2\u00B0\u003C/p\u003E\u003Cp\u003EEjection delta-v\u003C/p\u003E\u003Cp\u003E 1,074 m/s\u003C/p\u003E\u003Cp\u003ETransfer periapsis\u003C/p\u003E\u003Cp\u003E 8,879 Mm\u003C/p\u003E\u003Cp\u003ETransfer apoapsis\u003C/p\u003E\u003Cp\u003E 13,339 Mm\u003C/p\u003E\u003Cp\u003ETransfer inclination\u003C/p\u003E\u003Cp\u003E 0.12\u00C3\u201A\u00C2\u00B0\u003C/p\u003E\u003Cp\u003ETransfer angle\u003C/p\u003E\u003Cp\u003E 238\u00C3\u201A\u00C2\u00B0\u003C/p\u003E\u003Cp\u003EInsertion inclination\u003C/p\u003E\u003Cp\u003E N/A\u003C/p\u003E\u003Cp\u003EInsertion delta-v\u003C/p\u003E\u003Cp\u003E N/A\u003C/p\u003E\u003Cp\u003ETotal delta-v\u003C/p\u003E\u003Cp\u003E 1,074 m/s \u003C/p\u003E\u003Cp\u003EKSPTOT:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/HS2k0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/HS2k0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EQuestions:\u003C/p\u003E\u003Cp\u003E- why there is different optimal time selected on plot and different displayed in status box?\u003C/p\u003E\u003Cp\u003E- why i cant copy text to clipboard from status box?\u003C/p\u003E\u003Cp\u003EResult: when I entered correct arrival time in \u0022Compute Burn Box\u0022 ( 196 at 22:43:12 ), it computed correct departure time, and gave me ~1000 delta-V departure burn. But i could get it on porkchop. (but i set in options 100 points per axis). But by itself it gives very not-optimal results.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnswer to question 1: The porkchop plot is a N by N grid of calculated points. The point you see selected on the porkchop plot with the tooltip is the best point of those computed while generating the plot. The point provided in the tool window is the \u0022best\u0022 point found by a fairly sophisticated optimization algorithm. The porkchop plot is designed to give you the \u0022lay of the land\u0022, whereas the results of the optimization algorithm (in that status box) is actually what you can plan missions with.\u003C/p\u003E\u003Cp\u003EAnswer to question 2: Because I haven\u0027t enabled that yet. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I\u0027ll do that for the v0.7 release.\u003C/p\u003E\u003Cp\u003EPlease let me know if that answers your question! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E If I can answer anything else, do let me know here... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T00:16:56Z","Content":"\n\u003Cp\u003EAlright, folks, I need a beta tester for the v0.7 prerelease. This is unusual, but the parallel processing code I\u0027m using (the stuff native to MATLAB) has a possibility of running differently on different system architectures. In particular, I\u0027m looking for someone who can run the Maneuver Flyby Sequencer tool on a computer with a dual core processor. If you also happen to have a quad-core processor, run it on that too.\u003C/p\u003E\u003Cp\u003EHere\u0027s the \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOTv7prerelease.zip\u0022 rel=\u0022external nofollow\u0022\u003EZIP with the application\u003C/a\u003E. No source or license stuff included here, I\u0027m keeping this one simple.\u003C/p\u003E\u003Cp\u003EWhen you run the flyby maneuver sequencer (FMS), please use the following settings:\u003C/p\u003E\u003Cp\u003ELaunch window open = 0\u003C/p\u003E\u003Cp\u003ELaunch window close = 157680000\u003C/p\u003E\u003Cp\u003EDepart Body = Kerbin\u003C/p\u003E\u003Cp\u003EFlyby Body = Eve\u003C/p\u003E\u003Cp\u003EArrival Body = Moho\u003C/p\u003E\u003Cp\u003EInitial Elliptical Orbit SMA = 800 \u003C/p\u003E\u003Cp\u003EAll other initial orbit values = 0\u003C/p\u003E\u003Cp\u003EI need to know two things:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EDid the application run for you? Could you enter the values above, push the Compute button, and get a solution to appear? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWas your processor usage over (1/numCores)*100%? That is, if you have a quad-core machine, were you using total processor usage over 25%? This will be spread amongst multiple processes, so look at the total system usage, not just the KSPTOT.exe usage. \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe more people who want to give this a go and report results, please feel free. Report your findings and any problems here on this thread. (Btw, I already know the status box text on the main window says 0.6 and not 0.7 - this is fixed for next build. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E)\u003C/p\u003E\u003Cp\u003EThanks, guys!\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-08T01:41:22Z","Content":"\n\u003Cp\u003EI\u0027m running an AMD Phenom II 1055T 2.8GHz 6 core processor. I ran the test you asked for. During the first stage (finding feasible initial positions), my total CPU usage was an average of exactly 16.67%. First stage took 2m39s. During the second stage (particle swarm optimization), it was a little less (12-13%), but each core was active, as you can see here:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/WN04mfa.png\u0022 alt=\u0022WN04mfa.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESecond stage took 3m31s. (Total time: 6m10s). Here\u0027s the final computed result:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/N52Vz59.png\u0022 alt=\u0022N52Vz59.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI ran it a second time and got different results:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/yvtsgHQ.png\u0022 alt=\u0022yvtsgHQ.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-08T01:44:58Z\u0022 title=\u002207/08/2013 01:44  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 8, 2013\u003C/time\u003E by Mr Shifty\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2013-07-08T02:13:15Z","Content":"\n\u003Cp\u003EAs an early adoptor for this when it was in Java, I have resisted this version due to the download. Now that you are up to version 6 or so, I can see you\u0027re really starting to pack in the functionality and I\u0027m now tempted to give this a shot.\u003C/p\u003E\u003Cp\u003EIn the original program, it was impossible to know when to launch as there was no universal clock, meaning, the perfect porkchop is useless if you didn\u0027t know the age of the Kerbolverse since the big bang (or whatever created it!). How is this resolved in this version? MET is relative - how does one find the absolute universe time?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T02:26:33Z","Content":"\n\u003Cp\u003EMr Shifty: Thanks for the information! This is really useful. By \u0022phase 1\u0022 do you mean the segment where the solver looks for feasible initial states? And by \u0022phase 2\u0022, do you mean the actual solver run, with the PSO plot that comes up in a separate window?\u003C/p\u003E\u003Cp\u003ETogfox: I would love to see you give KSP TOT a go here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Universal time (UT) is available in two places. You can grab it from the Tracking Station, and if you use MechJeb 2, you can also put UT on a window using the window editor. MechJeb is really necessary for using this program in KSP, to be honest, because only by physically entering the delta-v quantities and getting your current orbit can you really make use of everything KSP TOT has to offer.\u003C/p\u003E\u003Cp\u003EI would love some feedback from you if you do decide to give the program a shot. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: Also, I prefer to think that it wasn\u0027t a big bang that started the Kerbal-verse, but instead a Big Harvester:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://triadstrategies.typepad.com/.a/6a0120a6abf659970b0120a894014e970b-800wi\u0022 alt=\u00226a0120a6abf659970b0120a894014e970b-800wi\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-08T02:42:51Z\u0022 title=\u002207/08/2013 02:42  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 8, 2013\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-08T02:32:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EMr Shifty: Thanks for the information! This is really useful. By \u0022phase 1\u0022 do you mean the segment where the solver looks for feasible initial states? And by \u0022phase 2\u0022, do you mean the actual solver run, with the PSO plot that comes up in a separate window?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, regarding phase 1 and 2. Should I expect that the solver gets different results on different runs? They\u0027re not too different wrt total delta-V.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003ETogfox: I would love to see you give KSP TOT a go here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Universal time (UT) is available in two places. You can grab it from the Tracking Station, and if you use MechJeb 2, you can also put UT on a window using the window editor. MechJeb is really necessary for using this program in KSP, to be honest, because only by physically entering the delta-v quantities and getting your current orbit can you really make use of everything KSP TOT has to offer.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/24786-0-20-Kerbal-Alarm-Clock-v2-4-0-1-%28July-6%29\u0022 rel=\u0022external nofollow\u0022\u003EKerbal Alarm Clock\u003C/a\u003E also shows absolute time and allows you to set alarms that bring you out of warp at a particular UT.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T03:32:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr Shifty\u0022 data-cite=\u0022Mr Shifty\u0022\u003E\u003Cdiv\u003EYeah, regarding phase 1 and 2. Should I expect that the solver gets different results on different runs? They\u0027re not too different wrt total delta-V.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that\u0027s not unexpected. There are a lot of local minima in the trade space and the PSO solver, while good, can\u0027t usually avoid them all, and when this happens it tends to fall into different minima. Thus we end up with slightly different results each run. It\u0027s unavoidable and usually not too big of a deal. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-08T03:53:10Z","Content":"\n\u003Cp\u003EThe flyby tool is very cool. I\u0027m gonna give the orbit a try this evening to see how well it works. It would be really useful to see the final hyperbolic trajectory around the target planet as well (including velocity vector info.)\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T04:00:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr Shifty\u0022 data-cite=\u0022Mr Shifty\u0022\u003E\u003Cdiv\u003EThe flyby tool is very cool. I\u0027m gonna give the orbit a try this evening to see how well it works. It would be really useful to see the final hyperbolic trajectory around the target planet as well (including velocity vector info.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease do! If you could document the whole thing with screenshots, that\u0027d be great. It would certainly be helpful as I determine what changes I can make to improve the user interface. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBtw, do you use Mechjeb 2? I would recommend using it for the orbit panel and the maneuver node editor so you can create those maneuver nodes precisely.\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-08T04:04:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EPlease do! If you could document the whole thing with screenshots, that\u0027d be great. It would certainly be helpful as I determine what changes I can make to improve the user interface. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EBtw, do you use Mechjeb 2? I would recommend using it for the orbit panel and the maneuver node editor so you can create those maneuver nodes precisely.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll post an album. I do use MechJeb, but I like \u003Ca href=\u0022http://www.reddit.com/r/KerbalSpaceProgram/comments/1c3cba/plugin_bettermaneuvernodes_v01_control_maneuver/\u0022 rel=\u0022external nofollow\u0022\u003EBetter Maneuver Nodes\u003C/a\u003E and \u003Ca href=\u0022http://kerbalspaceprogram.com/maneuver-node-improvement/\u0022 rel=\u0022external nofollow\u0022\u003EImproved Maneuver Nodes\u003C/a\u003E for editing nodes.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T04:06:42Z","Content":"\n\u003Cp\u003EThanks! And yes, however you\u0027d like to use it is fine. Looking forward to seeing how you do! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-08T04:35:38Z","Content":"\n\u003Cp\u003EOh, just another little thing I\u0027m working on today.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/bqYCqIa.png\u0022 alt=\u0022bqYCqIa.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis code is looking for the best way to take the given orbit around Kerbin (here) and turn it into the desired orbit. Magenta line is the orbit the spacecraft started in, blue line is the desired orbit, and the dashed black line is the transfer orbit between the two. The red line you see represents the burn direction (in this case, the second burn - the first burn is smaller and hard to see).\u003C/p\u003E\u003Cp\u003EIn particular, in this example I started with the standard equatorial, circular orbit around Kerbin with an SMA of 800 km. I then asked the code to make the following changes to the orbit:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EChange eccentricity to 0.1\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EChange inclination to 30 degrees\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe black line represents the best transfer orbit between the two orbits and the red line/lines are the optimized burns.\u003C/p\u003E\u003Cp\u003EEventually, I\u0027ll put together a GUI for this similar to the flyby maneuver sequencer GUI, and it\u0027ll be accessible within KSP TOT just like the FMS is. Some possible uses for the new tool (which has yet to be named):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EFinding the best way to get into that optimal Kethane scanning orbit around Minmus.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETweaking your inbound hyperbolic orbit towards Duna so that you can easily enter your desired science mission orbit.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAnd more!\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"adammada","CreatedById":29884,"CreatedDateTime":"2013-07-08T07:36:32Z","Content":"\n\u003Cp\u003EBug reports:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/2Yqf7qT.png\u0022 alt=\u00222Yqf7qT.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E- point legend goes under other elements\u003C/p\u003E\u003Cp\u003E- can\u0027t resize window ( plot should be scallable )\u003C/p\u003E\u003Cp\u003E- optimal results from status box should be default values for \u0022compute departure burn\u0022. Or somehow add button there to do it. \u003C/p\u003E\u003Cp\u003E( Intel Pentiun G850 processor - 2 cores, windows 7 64 bit )\u003C/p\u003E\u003Cp\u003E- when i runned KSP TOL first time, windows firewall spammed me with warnings about making connections (ctfxlauncher process i think) i clicked to allow them. Then it started counting, but only around 50% of cpu usage. When it got to particles it started to jump to higher values like 90%. And it was done.\u003C/p\u003E\u003Cp\u003E- second time i runned it i didin\u0027t got those firewall warnings. So now if i will not do anyting while starting, it just counts like in previous time (50%). \u003C/p\u003E\u003Cp\u003E- but if i click \u0022Ok\u0022 in \u0022attemping to start parraller worksers\u0022 i get error from screenshot: \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/mLbJ0tR.png\u0022 alt=\u0022mLbJ0tR.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"wingnut","CreatedById":57702,"CreatedDateTime":"2013-07-08T19:16:19Z","Content":"\n\u003Cp\u003EHi Arrowstar,\u003C/p\u003E\u003Cp\u003Ethank you for this wonderful application. I already have \u003Ca href=\u0022http://www.orbithangar.com/searchid.php?ID=5418\u0022 rel=\u0022external nofollow\u0022\u003ETrajectory Optimization Tool v2.1\u003C/a\u003E installed with the corresponding MCR 7.14 - is it possible to run both TOTs (for KSP and Orbiter) on the same MCR? The one for Orbiter did not work when I only had MCR 8.x installed.\u003C/p\u003E\u003Cp\u003EWill it be possible to enter the same planet as departing and arrival body in the Flyby Maneuver Sequencer, or are you even planning to implement flight plans with multiple customizable waypoints like in the TOT 2.1 for Orbiter?\u003C/p\u003E\u003Cp\u003EOfftopic: Is there any trick to use the output of the Departure Analysis Tool of the TOT for Orbiter in TransX? When I input it directly into a TransX plan, there is no real encounter...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-02T11:54:41Z\u0022 title=\u002211/02/2013 11:54  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 2, 2013\u003C/time\u003E by wingnut\u003C/strong\u003E\n\u003Cbr\u003EFixed typo\n\u003C/span\u003E\n"},{"CreatedByName":"The Lone Wolfling","CreatedById":13675,"CreatedDateTime":"2013-07-08T19:58:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EAlright, folks, I need a beta tester for the v0.7 prerelease. This is unusual, but the parallel processing code I\u0027m using (the stuff native to MATLAB) has a possibility of running differently on different system architectures. In particular, I\u0027m looking for someone who can run the Maneuver Flyby Sequencer tool on a computer with a dual core processor. If you also happen to have a quad-core processor, run it on that too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using a i5-3210M. (2 cores, with HT (so appears as 4 to many things)). Ran fine. First stage (finding departures) used 25% CPU: i.e. single-core. It also triggered turbo boost mode (pushed CPU speed above nominal maximum). Second stage (particle swarm) used both cores (50% CPU, because of hyperthreading). Interestingly, turbo mode was still engaged.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EOh, just another little thing I\u0027m working on today.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you tweak this to include the possibility of long burn times? So for things like ion probes, where they take several orbits to do much of anything?\u003C/p\u003E\u003Cp\u003EAlso, looks great!\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-09T01:13:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003EBug reports:\u003Cp\u003E\u0026lt;snip\u0026gt;\u003C/p\u003E\u003Cp\u003E- point legend goes under other elements\u003C/p\u003E\u003Cp\u003E- can\u0027t resize window ( plot should be scallable )\u003C/p\u003E\u003Cp\u003E- optimal results from status box should be default values for \u0022compute departure burn\u0022. Or somehow add button there to do it. \u003C/p\u003E\u003Cp\u003E( Intel Pentiun G850 processor - 2 cores, windows 7 64 bit )\u003C/p\u003E\u003Cp\u003E- when i runned KSP TOL first time, windows firewall spammed me with warnings about making connections (ctfxlauncher process i think) i clicked to allow them. Then it started counting, but only around 50% of cpu usage. When it got to particles it started to jump to higher values like 90%. And it was done.\u003C/p\u003E\u003Cp\u003E- second time i runned it i didin\u0027t got those firewall warnings. So now if i will not do anyting while starting, it just counts like in previous time (50%). \u003C/p\u003E\u003Cp\u003E- but if i click \u0022Ok\u0022 in \u0022attemping to start parraller worksers\u0022 i get error from screenshot: \u003C/p\u003E\u003Cp\u003E\u0026lt;snip\u0026gt;\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the bug notes and test information!\u003C/p\u003E\u003Cp\u003EBug 1 is unfixable, as the data cursor does not conform to the ui stacking order of the rest of the GUI (if someone can prove me wrong here, please do!).\u003C/p\u003E\u003Cp\u003EBug 2 is intentional for now. Getting things to resize nicely is a bit harder than it sounds and I\u0027ll tackle it at the end, once I get everything functional.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBug 3 is a good one. I\u0027ll add a note to handle this for 0.7.\u003C/span\u003E \u003Cstrong\u003EFixed. Also, the status window text is now selectable as well...\u003C/strong\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wingnut\u0022 data-cite=\u0022wingnut\u0022\u003E\u003Cdiv\u003EHi Arrowstar,\u003Cp\u003Ethank you for this wonderful application. I already have \u003Ca href=\u0022http://www.orbithangar.com/searchid.php?ID=5418\u0022 rel=\u0022external nofollow\u0022\u003ETrajectory Optimization Tool v2.1\u003C/a\u003E installed with the corresponding MCR 7.14 - is it possible to run both TOTs (for KSP and Orbiter) on the same MCR? The one for Orbiter did not work when I only had MCR 8.x installed.\u003C/p\u003E\u003Cp\u003EWill it be possible to enter the same planet as departing and arrival body in the Flyby Maneuver Sequencer, or are you even planning to implement flight plans with multiple customizable waypoints like in the TOT 2.1 for Orbiter?\u003C/p\u003E\u003Cp\u003EOfftopic: Is there any trick to use the output of the Departure Analysis Toll of the TOT for Orbiter in TransX? When I input it directly into a TransX plan, there is no real encounter...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll look into how the solver behaves with departure and arrival bodies that are the same. As far as TOT for Orbiter goes, please shoot me a PM with questions and we can talk more there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I\u0027d like to keep this thread on topic. I will say that the two applications were compiled with different versions of the MCR and thus two different MCR versions are required to run them...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Lone Wolfling\u0022 data-cite=\u0022The Lone Wolfling\u0022\u003E\u003Cdiv\u003EI\u0027m using a i5-3210M. (2 cores, with HT (so appears as 4 to many things)). Ran fine. First stage (finding departures) used 25% CPU: i.e. single-core. It also triggered turbo boost mode (pushed CPU speed above nominal maximum). Second stage (particle swarm) used both cores (50% CPU, because of hyperthreading). Interestingly, turbo mode was still engaged.\u003Cp\u003ECan you tweak this to include the possibility of long burn times? So for things like ion probes, where they take several orbits to do much of anything?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENoted, thanks for the trial run.\u003C/p\u003E\u003Cp\u003ESadly, the tweak you\u0027re asking for is really more of a major overhaul of the code. The lambert solver I\u0027m using assumes instantaneous delta-v. To correctly model \u0022long\u0022 burns, I would have to write an orbit propagator to model the thrust correctly. That is a huge task and not one I\u0027m looking to take on at the moment.\u003C/p\u003E\u003Cp\u003EIn the mean time, here\u0027s how I would deal with the problem. \u003C/p\u003E\u003Cp\u003E1) Compute a two burn solution.\u003C/p\u003E\u003Cp\u003E2) Get as far along the first burn as you can.\u003C/p\u003E\u003Cp\u003E3) Note the post-burn orbit and recompute a new optimal two-burn solution.\u003C/p\u003E\u003Cp\u003E4) Execute new burn plan.\u003C/p\u003E\u003Cp\u003E5) Repeat until you get the orbit you want.\u003C/p\u003E\u003Cp\u003EThis method ensures that your execution errors are accounted for and corrected while allowing for multiple burns to take place. Sometimes it\u0027s all about working within the limits of the tool you have. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Lone Wolfling\u0022 data-cite=\u0022The Lone Wolfling\u0022\u003E\u003Cdiv\u003EAlso, looks great!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, means a lot! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003EHey Wingnut, I have good news...\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/096n0oZ.png\u0022 alt=\u0022096n0oZ.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EConsider it included for 0.7.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T01:31:32Z\u0022 title=\u002207/09/2013 01:31  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-09T05:01:39Z","Content":"\n\u003Cp\u003EAlright guys, \u003C/p\u003E\u003Cp\u003EI\u0027ve fixed up a bunch of the bugs and suggestions you all have had provided. Thanks! I\u0027ve compiled all this into the v0.7 prerelease 2. Since this version has so many large changes, if I could ask you guys to take another look and see if anything has been left out or any bugs have surfaced, that\u0027d be great.\u003C/p\u003E\u003Cp\u003EHere\u0027s the \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOTv7prerelease2.zip\u0022 rel=\u0022external nofollow\u0022\u003Eupdated ZIP file.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESame deal, just the EXE and no source or license. All of that will come with the formal 0.7 release. If all goes well, that will be tomorrow. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease let me know what you think. Thanks for all your help, guys! You rock. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-09T05:05:01Z\u0022 title=\u002207/09/2013 05:05  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 9, 2013\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wingnut","CreatedById":57702,"CreatedDateTime":"2013-07-09T06:20:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHey Wingnut, I have good news...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s good news Arrowstar.\u003C/p\u003E\u003Cp\u003EI\u0027ve run the Kerbin-Eve-Moho flyby scenario with the KSPTOTv7prerelease2:\u003C/p\u003E\u003Cp\u003ECalculating the \u003Cstrong\u003Einitial positions\u003C/strong\u003E took 2:40 minutes\u003C/p\u003E\u003Cp\u003EThe \u003Cstrong\u003EParticle swarm optimization\u003C/strong\u003E took 3:55 minutes\u003C/p\u003E\u003Cp\u003EThis is a screenshot of my resource monitor during the first third of the Particle swarm optimization:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/wOGJT6z.png\u0022 alt=\u0022wOGJT6z.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe CPU usage was between 24 and 27% during the initial positions calculation.\u003C/p\u003E\u003Cp\u003EThe CPU usage during the Particle swarm optimization was fluctuating between 26 and ~65%.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cstrong\u003EOutput:\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EHyperbolic Departure \u0026amp; Flyby Orbits:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EHyperbolic Departure Orbit from Kerbin\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ESemi-major Axis =               -2753.593 km\u003Cbr\u003EEccentricity =                  1.2905\u003Cbr\u003EInclination =                   7.675 deg\u003Cbr\u003ERight Ascension of AN =         236.603 deg\u003Cbr\u003EArgument of Periapse =          0.000 deg\u003Cbr\u003E---------------------------------------------\u003Cbr\u003EInbound Hyperbolic Flyby Orbit to Eve\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ESemi-major Axis =               -1455.331 km\u003Cbr\u003EEccentricity =                  2.7298\u003Cbr\u003EInclination =                   166.920 deg\u003Cbr\u003ERight Ascension of AN =         244.223 deg\u003Cbr\u003EArgument of Periapse =          169.668 deg\u003Cbr\u003EPeriapse Radius =               2517.403 km\u003Cbr\u003E---------------------------------------------\u003Cbr\u003EOutbound Hyperbolic Flyby Orbit from Eve\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ESemi-major Axis =               -1455.330 km\u003Cbr\u003EEccentricity =                  2.7298\u003Cbr\u003EInclination =                   166.920 deg\u003Cbr\u003ERight Ascension of AN =         244.223 deg\u003Cbr\u003EArgument of Periapse =          169.668 deg\u003Cbr\u003EPeriapse Radius =               2517.403 km\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESun-Centric Transfer Orbit:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPhase 1 Transfer Orbit (Kerbin -\u0026gt; Eve)\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ESemi-major Axis =             11073006.720 km\u003Cbr\u003EEccentricity =                0.2282\u003Cbr\u003EInclination =                 0.672 deg\u003Cbr\u003ERight Ascension of AN =       107.217 deg\u003Cbr\u003EArgument of Periapse =        180.202 deg\u003Cbr\u003EKerbin Depart True Anomaly =  179.798 deg\u003Cbr\u003EEve Arrive True Anomaly =     70.070 deg\u003Cbr\u003E---------------------------------------------\u003Cbr\u003EPhase 2 Transfer Orbit (Eve -\u0026gt; Moho)\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ESemi-major Axis =             8191378.476 km\u003Cbr\u003EEccentricity =                0.26514\u003Cbr\u003EInclination =                 0.949 deg\u003Cbr\u003ERight Ascension of AN =       135.733 deg\u003Cbr\u003EArgument of Periapse =        76.445 deg\u003Cbr\u003EEve Depart True Anomaly =     145.315 deg\u003Cbr\u003EMoho Arrive True Anomaly =    30.400 deg\u003Cbr\u003E---------------------------------------------\u003Cbr\u003EDeparture Date = Year 5, Day 223 20:25:29.912\u003Cbr\u003E                      (145398329.912 sec UT)\u003Cbr\u003EFlyby Date =     Year 5, Day 273 06:31:29.541\u003Cbr\u003E                      (149668289.541 sec UT)\u003Cbr\u003EArrival Date =   Year 5, Day 308 05:00:39.870\u003Cbr\u003E                      (152686839.870 sec UT)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDV Maneuver Information:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EBurn Information to Depart Kerbin\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ETotal Delta-V =              1.13291 km/s\u003Cbr\u003EPrograde Delta-V =           1050.30975 m/s\u003Cbr\u003ERadial Delta-V =             -0.00000 m/s\u003Cbr\u003EOrbit Normal Delta-V =       424.66546 m/s\u003Cbr\u003E---------------------\u003Cbr\u003EDeparture True Anomaly =     236.60284 deg\u003Cbr\u003EDeparture Time Past Peri. =  1572.34027 sec\u003Cbr\u003EDeparture Time Before Peri. = 820.03384 sec\u003Cbr\u003E---------------------------------------------\u003Cbr\u003EBurn Information to Depart Eve\u003Cbr\u003E---------------------------------------------\u003Cbr\u003ETotal Delta-V =              0.00000 km/s\u003Cbr\u003EPrograde Delta-V =           0.00060 m/s\u003Cbr\u003ERadial Delta-V =             -0.00001 m/s\u003Cbr\u003EOrbit Normal Delta-V =       0.00000 m/s\u003Cbr\u003E---------------------\u003Cbr\u003EDeparture True Anomaly =     0.00000 deg\u003Cbr\u003EDeparture Time Past Peri. =  0.00000 sec\u003Cbr\u003EDeparture Time Before Peri. = 0.00000 sec\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"adammada","CreatedById":29884,"CreatedDateTime":"2013-07-09T20:21:26Z","Content":"\n\u003Cp\u003EI just tried this Kerbin-\u0026gt;Eve-\u0026gt;Moho transfer.\u003C/p\u003E\u003Cp\u003EI started with 200666 m orbit. Then i entered into mechjeb node those values:\u003C/p\u003E\u003Cp\u003EPrograde Delta-V = 1050.30975 m/s\u003C/p\u003E\u003Cp\u003ERadial Delta-V = -0.00000 m/s\u003C/p\u003E\u003Cp\u003EOrbit Normal Delta-V = 424.66546 m/s\u003C/p\u003E\u003Cp\u003ETime of lanuch was within minute from predicted:\u003C/p\u003E\u003Cp\u003EYear 5, Day 223 20:25:29.912 (just to be on correct angle).\u003C/p\u003E\u003Cp\u003ESadly, closest encouter with EVE was aroun 42 000 000 m. Any prograde/normal burn changes were only getting it worse.\u003C/p\u003E\u003Cp\u003ESo i tried to move burn forward and backward by whole orbit period. (39m54s), and ended about 10 hours earlier, because this was giving me closer PE. I also reduced normal burn (about 100 m/s), and ended with about 5 000 000 km Eve periapsis. I lanunched and used mechjeb \u0022fine approach\u0022 to get me closer to eve ( about 10 m/s used).\u003C/p\u003E\u003Cp\u003EThen i waited until entering Eve SOI, sadly i was going wrong way around. I needed about 90 m/s radial burn just to go by other side. Then i was keep raising Eve PE by adding (about -130 m/s at the end) radial burn, until it gave me Moho SOI.\u003C/p\u003E\u003Cp\u003ESo, thoughts:\u003C/p\u003E\u003Cp\u003E1. Something was wrong with time of launch, was bit (10 or more hours) too late. \u003C/p\u003E\u003Cp\u003E2. Its really, really hard to set launch excactly to get one burn. I know that i should set correct Eve PE before entering its SOI, because this would take much less fuel, but:\u003C/p\u003E\u003Cp\u003Ea) Warp changes PE on changing SOI\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E Its harder to set correct burn angle, to change just PE, not inclination when not in SOI\u003C/p\u003E\u003Cp\u003Ec) it has to be really carefull\u003C/p\u003E\u003Cp\u003EBut it worked! \u003C/p\u003E\u003Cp\u003EP.S.\u003C/p\u003E\u003Cp\u003EWhen i set SMA to 700 (i usually start from 100 km orbit, not 200km), it gave me totally different solution:\u003C/p\u003E\u003Cp\u003Eyear of launch: 3\u003C/p\u003E\u003Cp\u003Earound 1400 delta-v\u003C/p\u003E\u003Cp\u003Ejust by changing Kerbin start orbit.\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-09T22:02:07Z","Content":"\n\u003Cp\u003EI tried to do a Kerbin-\u0026gt;Eve-\u0026gt;Moho burn last night starting at about day 180, I think. The solver gave me a solution with an ejection delta-V of around 5,000 m/s, which is more than 3 times what you need to do a direct Kerbin-\u0026gt;Moho burn, so I didn\u0027t bother with the gravity assist. I\u0027ll try again at some point.\u003C/p\u003E\n"},{"CreatedByName":"The Lone Wolfling","CreatedById":13675,"CreatedDateTime":"2013-07-09T22:59:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESadly, the tweak you\u0027re asking for is really more of a major overhaul of the code. The lambert solver I\u0027m using assumes instantaneous delta-v. To correctly model \u0022long\u0022 burns, I would have to write an orbit propagator to model the thrust correctly. That is a huge task and not one I\u0027m looking to take on at the moment.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDrat! Standard orbital maneuver calculators are a dime a dozen - it\u0027s long burn calculations that\u0027s the thing I\u0027m unable to find anywhere.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-10T05:25:48Z","Content":"\n\u003Cp\u003EHi everyone,\u003C/p\u003E\u003Cp\u003EI have the pleasure to announce the \u003Cstrong\u003Ev0.7 release of the KSP Trajectory Optimization Tool\u003C/strong\u003E! This is a major update that brings the following capabilities:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EA\u003Cstrong\u003E Flyby Maneuver Sequencer\u003C/strong\u003E(FMS)that is capable of searching for optimal flybys (gravity assist maneuvers) around planets. Spending too much fuel on that trip to Moho? Try a flyby around Eve first!\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOptimal launch/arrival date is now the default setting in the Compute Departure GUI.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u0022Time To Periapse\u0022 is now shown alongside \u0022Time After Periapse\u0022 in the DV Maneuver Information boxes in the Departure Information GUI and the FMS GUI. Useful for using maneuver node editors mostly.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESome minor visual changes/tweaks to the plots.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESome bug fixes and a code reoganization on the back-end.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe ZIP file in the original post should be updated by now. Go check it out!\u003C/p\u003E\u003Cp\u003E(Note: for those who tried the 0.7 prerelease 2, this is the same executable. I didn\u0027t have any changes to make after yesterday, so I\u0027m calling that good for now.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Lone Wolfling\u0022 data-cite=\u0022The Lone Wolfling\u0022\u003E\u003Cdiv\u003EDrat! Standard orbital maneuver calculators are a dime a dozen - it\u0027s long burn calculations that\u0027s the thing I\u0027m unable to find anywhere.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep. That\u0027s because this problem is pretty hard. To hit targets on a finite duration burn or optimize the same could require something called variational calculus. I\u0027ve taken some coursework in the field and while it\u0027s very interesting academically, it\u0027s not worth implementing here. And really, I promise, the impulsive burn model will serve you just fine 99% of the time in KSP. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr Shifty\u0022 data-cite=\u0022Mr Shifty\u0022\u003E\u003Cdiv\u003EI tried to do a Kerbin-\u0026gt;Eve-\u0026gt;Moho burn last night starting at about day 180, I think. The solver gave me a solution with an ejection delta-V of around 5,000 m/s, which is more than 3 times what you need to do a direct Kerbin-\u0026gt;Moho burn, so I didn\u0027t bother with the gravity assist. I\u0027ll try again at some point.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, the problem is probably just that the solver didn\u0027t find a good solution. This can happen sometimes. The PSO solver is not fool-proof and it occasionally doesn\u0027t produce good results. The only way to mitigate this is to add more particles, which is more expensive to evaluate. I\u0027ve picked settings that I think represent a good balance between speed and accuracy. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Etl;dr\u003C/strong\u003E: If you get terrible results, try optimizing again (maybe with a larger launch window). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003EI just tried this Kerbin-\u0026gt;Eve-\u0026gt;Moho transfer.\u003Cp\u003EI started with 200666 m orbit. Then i entered into mechjeb node those values:\u003C/p\u003E\u003Cp\u003EPrograde Delta-V = 1050.30975 m/s\u003C/p\u003E\u003Cp\u003ERadial Delta-V = -0.00000 m/s\u003C/p\u003E\u003Cp\u003EOrbit Normal Delta-V = 424.66546 m/s\u003C/p\u003E\u003Cp\u003ETime of lanuch was within minute from predicted:\u003C/p\u003E\u003Cp\u003EYear 5, Day 223 20:25:29.912 (just to be on correct angle).\u003C/p\u003E\u003Cp\u003ESadly, closest encouter with EVE was aroun 42 000 000 m. Any prograde/normal burn changes were only getting it worse.\u003C/p\u003E\u003Cp\u003ESo i tried to move burn forward and backward by whole orbit period. (39m54s), and ended about 10 hours earlier, because this was giving me closer PE. I also reduced normal burn (about 100 m/s), and ended with about 5 000 000 km Eve periapsis. I lanunched and used mechjeb \u0022fine approach\u0022 to get me closer to eve ( about 10 m/s used).\u003C/p\u003E\u003Cp\u003EThen i waited until entering Eve SOI, sadly i was going wrong way around. I needed about 90 m/s radial burn just to go by other side. Then i was keep raising Eve PE by adding (about -130 m/s at the end) radial burn, until it gave me Moho SOI.\u003C/p\u003E\u003Cp\u003ESo, thoughts:\u003C/p\u003E\u003Cp\u003E1. Something was wrong with time of launch, was bit (10 or more hours) too late. \u003C/p\u003E\u003Cp\u003E2. Its really, really hard to set launch excactly to get one burn. I know that i should set correct Eve PE before entering its SOI, because this would take much less fuel, but:\u003C/p\u003E\u003Cp\u003Ea) Warp changes PE on changing SOI\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E Its harder to set correct burn angle, to change just PE, not inclination when not in SOI\u003C/p\u003E\u003Cp\u003Ec) it has to be really carefull\u003C/p\u003E\u003Cp\u003EBut it worked! \u003C/p\u003E\u003Cp\u003EP.S.\u003C/p\u003E\u003Cp\u003EWhen i set SMA to 700 (i usually start from 100 km orbit, not 200km), it gave me totally different solution:\u003C/p\u003E\u003Cp\u003Eyear of launch: 3\u003C/p\u003E\u003Cp\u003Earound 1400 delta-v\u003C/p\u003E\u003Cp\u003Ejust by changing Kerbin start orbit.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m glad it worked for you! Very good job. Next time, could you take some screenshots of the game\u0027s map and KSP TOT\u0027s output so I can compare? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EA couple points on your comments.\u003C/p\u003E\u003Cp\u003EFirst, the actual initial orbit you provide isn\u0027t used up until the code says \u0022Computing Departure Orbit.\u0022 I assume that if I can minimize the hyperbolic excess speed of departure, I\u0027ve minimized the actual departure delta-v, so I don\u0027t need to use that information right away. This makes it faster to optimize the whole problem. The assumption isn\u0027t strictly true, but it\u0027s a good enough approximation.\u003C/p\u003E\u003Cp\u003ESecond, regarding the time of launch: Your actual execution time of the burn is critical for these maneuvers. If you run the tool once, get a departure time and a departure true anomaly and then create a maneuver node, what you\u0027ll see is that the departure time doesn\u0027t match what KSP TOT is telling you that you need. You\u0027ll probably be off on the order of minutes. This about the speed of the planets though: multiple km/s. So how many kilometers would, say, Eve move in the space of 30 minutes? Enough to throw off your arrival trajectory, easily.\u003C/p\u003E\u003Cp\u003EHow do you get around this? You do what we astrodynamicists do a lot of in the Real World: you iterate on your solution. Compute a departure time, toss the burn information into KSP, and get your actual departure time. Put this actual time back into KSPTOT, reoptimize the departure, then put the burn information back into KSP TOT. In one of two iterations, you\u0027ll see that your KSP departure time and your KSPTOT departure time are basically the same. That\u0027s the burn information you\u0027ll want to use to get to Eve. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI agree with your points in (2), but there\u0027s not much I can do about them sadly. I\u0027ll see if I can mitigate the problem any, though...\u003C/p\u003E\u003Cp\u003EThanks for the great feedback! \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003EHere\u0027s a little preview of what I worked on today. It\u0027s a continuation of something I showed yesterday, but with a partially working GUI...\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IJrqRx8.png\u0022 alt=\u0022IJrqRx8.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnyone want to guess? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"wingnut","CreatedById":57702,"CreatedDateTime":"2013-07-10T05:48:51Z","Content":"\n\u003Cp\u003EI made similar experience like adammada with a Kerbin-\u0026gt;Eve-\u0026gt;Kerbin flyby optimization. Thanks to MechJeb executing the departure burn, the outbound orbit from LKO and the Sun-centric orbit were relatively accurate (much more than when I would do the burn manually of course) but not accurate enough to actually enter Eve\u0027s and Kerbin\u0027s SOI. Consequently at least one additional maneuver would be required.\u003C/p\u003E\u003Cp\u003ENevertheless I\u0027m amazed that it works out so well already, without your tool I never would have figured out when and how to depart for such a mission in the first place.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EHow do you get around this? You do what we astrodynamicists do a lot of in the Real World: you iterate on your solution. Compute a departure time, toss the burn information into KSP, and get your actual departure time. Put this actual time back into KSPTOT, reoptimize the departure, then put the burn information back into KSP TOT. In one of two iterations, you\u0027ll see that your KSP departure time and your KSPTOT departure time are basically the same. That\u0027s the burn information you\u0027ll want to use to get to Eve. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs the departure time the time when I start the burn in LKO or the time when the ship is leaving Kerbin\u0027s SOI?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-07-10T13:34:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wingnut\u0022 data-cite=\u0022wingnut\u0022\u003E\u003Cdiv\u003EI made similar experience like adammada with a Kerbin-\u0026gt;Eve-\u0026gt;Kerbin flyby optimization. Thanks to MechJeb executing the departure burn, the outbound orbit from LKO and the Sun-centric orbit were relatively accurate (much more than when I would do the burn manually of course) but not accurate enough to actually enter Eve\u0027s and Kerbin\u0027s SOI. Consequently at least one additional maneuver would be required.\u003Cp\u003ENevertheless I\u0027m amazed that it works out so well already, without your tool I never would have figured out when and how to depart for such a mission in the first place.\u003C/p\u003E\u003Cp\u003EIs the departure time the time when I start the burn in LKO or the time when the ship is leaving Kerbin\u0027s SOI?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, glad everything worked out! I\u0027ve been using the \u0022Departure Time\u0022 as the burn time in LKO, though since the patched-conics thing is only an approximation, you could argue either way.\u003C/p\u003E\u003Cp\u003ESomething you might try: get the departure date and time from the Flyby program, then go plunk in the departure and arrival times from Kerbin-\u0026gt;Eve into the Compute Departure program (accessible from that button on the main GUI). It should give you the same departure burn result. You can use that to iterate on the departure without having to rerun the who flyby optimization thing multiple times to iterate (which, now that I think about it, is impossible at the moment anyway).\u003C/p\u003E\u003Cp\u003EI feel like I should put together a tutorial on this whole iteration thing. Should I do that?\u003C/p\u003E\n"},{"CreatedByName":"adammada","CreatedById":29884,"CreatedDateTime":"2013-07-10T14:35:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI feel like I should put together a tutorial on this whole iteration thing. Should I do that?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes. Please include how to best enter it into MechJeb node editor. Or some other plugin node editor?\u003C/p\u003E\n"}]}