{"TopicId":185689,"ForumId":55,"TopicTitle":"Custom Axis \u002B Joystick == Pointless","CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-21T04:54:33Z","PageNum":1,"Articles":[{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-21T04:54:33Z","Content":"\n\u003Cp\u003E\nDear KSP,\n\u003C/p\u003E\n\u003Cp\u003E\nAnd please forgive me if I got the wrong end of the stick here, because this certainly seems like at minimum a glaring oversight if not a bug outright.\n\u003C/p\u003E\n\u003Cp\u003E\nI got now a warthog throttle, ch throttle and vkb flightstick.\n\u003C/p\u003E\n\u003Cp\u003E\nI got enough axes now that I want to assign 3 of the custom axes to a physical axis.\u00A0 So I go and do so.\n\u003C/p\u003E\n\u003Cp\u003E\nNow when I try and use the axis it is some kind of weird \u0022relative\u0022 movement.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe axis is greater than the zero point, the set point increases, less than it it decreases, there is no 1:1 mapping between the physical axis position(on the joystick)\u00A0and the axis position(in the game).\n\u003C/p\u003E\n\u003Cp\u003E\nIt is like \u0022IF joystick_axis \u0026gt; 0.0 THEN custom_axis \u002B= something ELSE custom_axis -= something\u0022, NOT as it aught to be \u0022custom_axis = joystick_axis\u0022.\u00A0 I notice that there are keys that can be bound to increment and decrement these axes also, maybe wires are crossed somewhere ?\n\u003C/p\u003E\n\u003Cp\u003E\nSurely this has got to be an oversight and not the intended behaviour ?\u00A0 What is the point of mapping them to a physical axis at all if it is ?\n\u003C/p\u003E\n\u003Cp\u003E\nIF it is intended behaviour then there really aught to be an options somewhere to switch between relative and absolute mode.\u00A0 Maybe this has just not come up as a problem yet as many ppl dont have a lot of flight controllers lying around.\n\u003C/p\u003E\n\u003Cp\u003E\nOR I am just an idiot and have missed some obvious switch in the configuration somewhere, but I did look through all the options both on the menus and in the settings.cfg file.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003ESOLUTION : There is a tiny button under the Custom1-\u0026gt;4 axis in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E action groups page, NOT the settings from main menu like all the other control configurations\u00A0are.\u00A0 This is actually better as anything that gives more control and flexibility and I am all for anything that does that.\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nGavin786\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-07-05T10:42:01Z\u0022 title=\u002207/05/2019 10:42  AM\u0022 data-short=\u00225 yr\u0022\u003EJuly 5, 2019\u003C/time\u003E by Gavin786\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2019-06-21T16:09:55Z","Content":"\n\u003Cp\u003E\nyou can use controllers to remap the input to output via curves. also be sure to set the axis as absolute when you assign a function to an axis.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\none thing i noticed is that the default sensitivity results in nonlinearity.\u00A0 i knocked it down to 0.5 and it works a lot better but is still nonlinear. not sure how the math there works but if someone knows what setting results in a linear joystick motion that would be great, if i need anything other than linear i could always use a controller. perhaps new default settings are in order, at least for the 4 custom axes. my personal preference would be linear with no dead zone, if i need something else i can just add a\u00A0controller to my space craft, which is better than having to exit to the main menu to change my axis settings.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-21T16:10:42Z\u0022 title=\u002206/21/2019 04:10  PM\u0022 data-short=\u00225 yr\u0022\u003EJune 21, 2019\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-21T20:30:17Z","Content":"\n\u003Cp\u003E\nAre you sure you can do this with the 4 new custom axis ?\n\u003C/p\u003E\n\u003Cp\u003E\nWhat would the settings.cfg file look like for that ?\u00A0 I did try to find a way to set to absolute and didnt see anything.\u00A0 As I said before I looked through whole UI plus the cfg file and just couldnt find this option.\n\u003C/p\u003E\n\u003Cp\u003E\nI use joystick gremlin to do all the curves etc I want but didnt know KSP could do it also.\u00A0 All I saw was dead zones there.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be good if there was some documentation for all of this.\n\u003C/p\u003E\u003Cp\u003E\nJust re-read your post and \u0022Sensitivity\u0022 is a power curve.\u00A0 Didnt know that.\u00A0 Its important to get documentation for that and the right value to get it 1:1 as most folks I guess would prefer to use likes of joystick gremlin or their joystick software for curves.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-21T20:33:29Z\u0022 title=\u002206/21/2019 08:33  PM\u0022 data-short=\u00225 yr\u0022\u003EJune 21, 2019\u003C/time\u003E by Gavin786\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2019-06-22T08:32:40Z","Content":"\n\u003Cp\u003E\nim not quite sure whats in my cfg. i just went into the settings where you bind those and set the dead zone to zero and the sensitivity to 0.5.\n\u003C/p\u003E\n\u003Cp\u003E\nalso make sure you are using 1.7.2, as i found 1.7.1 a tad glitchy though it could have just been that i wasn\u0027t over the learning curve yet.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ne:\n\u003C/p\u003E\n\u003Cp\u003E\nafter some tests i found that the default setting is in fact linear.\n\u003C/p\u003E\n\u003Cp\u003E\nthough there seems to be some glitches. like its only registering the top half of my axis. anything below the midpoint just seems to be ignored. if i go to the other extreme it does this wrap around thing thats rather annoying.\u00A0of course this might be the 16-bit axes im using. using a fancy delta sigma adc on an arduino nano which shows up as a hid game controller. joystick itself is an old milspec heavy equipment controller, with cast aluminum gimbals. it does not have a recenter mechanism and instead holds its position by friction and and goes through a reduction gear before going to the potentiometer. the original pots were trash and i replaced them with\u00A0has custom built hall potentiometers. these sensors are linear enough through much of their range and i just made sure i set the stops to limit travel into the nonlinear zones. then i calibrated it in windows.\u00A0though the hardware does work in everything else, its kind of sketchy. im kind of a control enthusiast.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-22T09:20:13Z\u0022 title=\u002206/22/2019 09:20  AM\u0022 data-short=\u00225 yr\u0022\u003EJune 22, 2019\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-22T10:14:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223623292\u0022 data-ipsquote-contentid=\u0022185689\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221561192360\u0022 data-ipsquote-userid=\u002210883\u0022 data-ipsquote-username=\u0022Nuke\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Nuke said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsnip\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think maybe im not being clear what problem is.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically axis works as a weird relative axis.\u00A0 There is no mapping between axis position and set value.\u00A0 It is not anything to do with response curves, discussing that seems to be going of topic, we can start another thread to talk about it.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem is \u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAbove axis midpoint\u00A0its equivalent to pressing the \u0022increment axis\u0022 button on the keyboard.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBelow axis midpoint its equivalent to pressing the \u0022decrement axis\u0022 button on the keyboard.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI am pretty certain this is a bug or a glaring design error if its intentional behaviour.\n\u003C/p\u003E\n\u003Cp\u003E\nFor the sake of simplicity lets just assume a linear curve as its difficult to understand otherwise.\n\u003C/p\u003E\n\u003Cp\u003E\nIt should be :\n\u003C/p\u003E\n\u003Cp\u003E\nPhysical axis set to 10% it is 10% of value on game axis;\n\u003C/p\u003E\n\u003Cp\u003E\nPhysical axis set to 20% it is 20% of value on game axis;\n\u003C/p\u003E\n\u003Cp\u003E\nPhysical axis set to 30% it is 30% of value on game axis;\n\u003C/p\u003E\n\u003Cp\u003E\netc etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThat is NOT happening, it only considers the midpoint of the axis and maps this to an increment or decrement function.\n\u003C/p\u003E\n\u003Cp\u003E\nGavin786\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-22T10:37:27Z","Content":"\n\u003Cp\u003E\nI actually think this thread should be in \u0022Technical Support\u0022 as its clearly a bug IMHO and one that needs fixed and is super easy to to fix too literally 5 mins.\n\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2019-06-22T20:00:33Z","Content":"\n\u003Cp\u003E\none thing i forgort to mention i think this is a problem with the servos, i havent had such problems when im just controlling thrust limiters. i think anyway. need to push it more to the limits to see what breaks. though i dont have a whole lot of time to test it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ne: ok i got some confirmation that the joystick axes will bind almost perfectly to a slider such as thrust limiter. the almost is because there seems to be a wrap around bug at the bottom of the axis (corresponding to the left side of the bar of the thing being controlled), like if you go to zero, the thrust will wrap around to 100% and go full. it seems to be a range mapping issue. seems to be that the input range is expected to be 0-100% when its probibly -100-100% or something like that.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-23T11:30:40Z\u0022 title=\u002206/23/2019 11:30  AM\u0022 data-short=\u00225 yr\u0022\u003EJune 23, 2019\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2019-06-25T06:49:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223623315\u0022 data-ipsquote-contentid=\u0022185689\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221561198456\u0022 data-ipsquote-userid=\u0022196260\u0022 data-ipsquote-username=\u0022Gavin786\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/22/2019 at 12:14 PM, Gavin786 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAbove axis midpoint\u00A0its equivalent to pressing the \u0022increment axis\u0022 button on the keyboard.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBelow axis midpoint its equivalent to pressing the \u0022decrement axis\u0022 button on the keyboard.\u003C/strong\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is an ability to change from incremental to absolute in the axis groups, have you tried that?\n\u003C/p\u003E\n"},{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-25T06:56:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223624860\u0022 data-ipsquote-contentid=\u0022185689\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221561445384\u0022 data-ipsquote-userid=\u002291917\u0022 data-ipsquote-username=\u0022KerikBalm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, KerikBalm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is an ability to change from\u003Cspan\u003E\uFEFF\u003C/span\u003E incremental to absolute in the axis groups, have you tried that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have searched high and low for a setting like that.\u00A0 Through the settings.cfg file with fine tooth comb.\n\u003C/p\u003E\n\u003Cp\u003E\nWhere is it ?\n\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2019-06-25T07:13:29Z","Content":"\n\u003Cp\u003E\nIn the axis groups, there is a box to check to invert the direction, next to that box is a box to switch between incremental and absolute.\n\u003C/p\u003E\n"},{"CreatedByName":"Gavin786","CreatedById":196260,"CreatedDateTime":"2019-06-25T09:19:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223624864\u0022 data-ipsquote-contentid=\u0022185689\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221561445811\u0022 data-ipsquote-userid=\u0022196260\u0022 data-ipsquote-username=\u0022Gavin786\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Gavin786 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is an ability to change from\u003Cspan\u003E\uFEFF\u003C/span\u003E incremental to absolute in the axis groups, have you tried that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI actually just found the control.\u00A0 It is on the Custom1 axis itself.\u00A0 It is a tiny graphical checkbox below the control.\u00A0 Very easy to miss!\n\u003C/p\u003E\n\u003Cp\u003E\nThank you KerikBalm.\u00A0 I have been looking for a way to do this for days.\n\u003C/p\u003E\n\u003Cp\u003E\nEven made a video asking for help.\n\u003C/p\u003E\n\u003Cp\u003E\nThat is going to be super useful in my builds.\n\u003C/p\u003E\n\u003Cp\u003E\nGavin786\n\u003C/p\u003E\n"},{"CreatedByName":"Pds314","CreatedById":70014,"CreatedDateTime":"2019-07-01T06:36:21Z","Content":"\n\u003Cp\u003E\nOther than the fact that without \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, surfaces don\u0027t rotate fast, my Joystick seems to work fine. Bought it a few days ago.\n\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2019-07-02T00:02:48Z","Content":"\n\u003Cp\u003E\ni think the problem i was having is that my arduino library uses signed axes. and the game expects unsigned axes. oddly its supported by windows as the numbers i get when i calibrate center at zero rather than half way up the range. im sure if i tweak\u00A0my hid descriptors i could fix it. i wanted to go in and support other bit depths anyway, arduinos support 10 bit out the box. i think the due has 12-bit and that works with the library. i mostly wanted to play with a new 16 bit delta-sigma adc breakout board, and its signed in 16 bit mode.\u00A0people rave about the teensy but why spend $20 when you can get 32u4 pro micros for $3.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-07-02T00:07:14Z\u0022 title=\u002207/02/2019 12:07  AM\u0022 data-short=\u00225 yr\u0022\u003EJuly 2, 2019\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"}]}