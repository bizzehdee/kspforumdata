{"TopicId":140899,"ForumId":69,"TopicTitle":"64-bit linux fatal error - RESOLVED, workaround found","CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-05-31T18:57:05Z","PageNum":1,"Articles":[{"CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-05-31T18:57:05Z","Content":"\n\u003Cp\u003E\nSOLUTION: \u00A0This is a Unity 5 issue, they are wrongly assuming that everyone uses pulseaudio. \u00A0There\u0027s \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/7515#note-28\u0022 rel=\u0022external nofollow\u0022\u003Ea link further down in this thread\u003C/a\u003E to the KSP bug tracker, where someone posted a \u0027pulsenomore\u0027 tool as a workaround.\u00A0\u00A0This tells Unity to stop looking for pulseaudio, and stops the segfaults on launch. \u00A0Audio works, the game launches, and everything runs great. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nI also ran into the \u0027empty menus\u0027 issue, I\u0027ve set my resolution to 136\u003Cstrong\u003E3\u003C/strong\u003Ex768 instead of 1366 as \u003Cem\u003Eanother \u003C/em\u003Eworkaround. \u00A0Other resolutions lead to terrible font rendering - you can\u00A0use the AnyRes mod to quickly\u00A0figure out a resolution that works for you.\u003Cbr\u003E\u003Cbr\u003E\nKSP x64 on Linux crashes\u00A0\u003Cu\u003Eway\u003C/u\u003E\u00A0less often than it does on Windows. \u00A0Thanks to\u00A0Sal_Vager for helping to\u00A0resolve this!\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\nOriginal post -\u003Cbr\u003E\u003Cbr\u003E\n64-bit Arch Linux,\u00A0KSP 1.1.2, build id\u00A001260. \u00A0Clean installation,\u00A0no Steam.\u003Cbr\u003E\u003Cbr\u003E\nAll I get upon launch is a black screen, and then nothing - crash to desktop.\u003Cbr\u003E\u003Cbr\u003E\n32-bit KSP launches and loads, but there is no sound (as expected with 32-bit)\u00A0and menus are empty.\u003Cbr\u003E\u003Cbr\u003E\nHere is the output when running \u0022LC_ALL=C KSP.x86_64\u0022 from a terminal\u003Cbr\u003E\u003Ca href=\u0022http://hastebin.com/ahelohulac.sql\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hastebin.com/a\u003C/a\u003E\u003Cspan style=\u0022color:rgb(39,42,52);font-size:14px;line-height:22px;background-color:rgb(255,255,255);\u0022\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022http://hastebin.com/ahelohulac.sql\u0022 rel=\u0022external nofollow\u0022\u003Ehelohulac.sql\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nHere is my Player.log; no KSP.log is created when running the 64-bit executable; this is the most useful of the logs\u003Cbr\u003E\u003Ca href=\u0022http://hastebin.com/elicoyufaj.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hastebin.com/elicoyuf\u003C/a\u003E\u003Ca href=\u0022http://hastebin.com/elicoyufaj.md\u0022 rel=\u0022external nofollow\u0022\u003Eaj.md\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nGot a SIGSEGV while executing native code. This usually indicates a fatal error in the mono runtime or one of the native libraries used by your application.\n\t...\n\tFMOD failed to get number of drivers ... An error occured that wasn\u0027t supposed to. Contact support.\n\t...\n\tThe referenced script on this Behaviour is missing!\n\t(Filename: Line: 1649)\n\tThe referenced script on this Behaviour is missing!\n\t(Filename: Line: 1649)\n\tThe referenced script on this Behaviour is missing!\n\t(Filename: Line: 1649)\n\t...etc ad nauseum... \u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-03T04:50:41Z\u0022 title=\u002206/03/2016 04:50  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 3, 2016\u003C/time\u003E by carbohydrates\u003C/strong\u003E\n\u003Cbr\u003Efound a good workaround, thanks Sal_Vager!\n\u003C/span\u003E\n"},{"CreatedByName":"radonek","CreatedById":84077,"CreatedDateTime":"2016-05-31T23:08:45Z","Content":"\n\u003Cp\u003E\nSquad should see the core file.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-05-31T23:35:36Z","Content":"\n\u003Cp\u003E\nI just downloaded 1.0.5 to test, and 64-bit works fine with no changes needed on my part. \u00A0Seems like it\u0027s definitely a new KSP problem.\u003Cbr\u003E\u003Cbr\u003E\nI\u0027d be happy to send Squad the coredump, time to go hunting for an email address! \u00A0Or is there anyone I could PM on the forums?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-01T00:19:09Z\u0022 title=\u002206/01/2016 12:19  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 1, 2016\u003C/time\u003E by carbohydrates\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"radonek","CreatedById":84077,"CreatedDateTime":"2016-06-01T11:23:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222610152\u0022 data-ipsquote-contentid=\u0022140899\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221464721025\u0022 data-ipsquote-userid=\u0022165029\u0022 data-ipsquote-username=\u0022carbohydrates\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, carbohydrates said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n32-bit KSP launches and loads, but there is no sound (as expected with 32-bit)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWait, what? Why should it be expected? Except because 1.1 is broken and sigterms on me immediately.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-06-01T14:55:21Z","Content":"\n\u003Cp\u003E\nRunning the 32-bit executable on a 64-bit system is known to break the audio.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://wiki.archlinux.org/index.php/Kerbal_Space_Program#No_audio_on_64-bit_systems\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://wiki.archlinux.org/index.php/Kerbal_Space_Program#No_audio_on_64-bit_systems\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ch3\u003E\n\u003Cspan\u003EProblem - No audio on 64-bit systems\u003C/span\u003E\n\u003C/h3\u003E\n\u003Cp\u003E\nSolution - Run the 64-bit Executable.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-01T16:48:00Z\u0022 title=\u002206/01/2016 04:48  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 1, 2016\u003C/time\u003E by carbohydrates\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-06-02T10:49:07Z","Content":"\n\u003Cp\u003E\nThis is actually a bug in Unity, they compiled FMOD with the wrong flags or something and I hear it\u0027s fixed in later versions of Unity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/7515#note-28\u0022 rel=\u0022external nofollow\u0022\u003ESee here for a workaround.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBasically you either need to have Pulseaudio running correctly, have it completely removed from your system or use pulsenomore to fool Unity into working.\n\u003C/p\u003E\n"},{"CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-06-02T15:29:07Z","Content":"\n\u003Cp\u003E\nI don\u0027t have pulseaudio installed, only ALSA - but I\u0027ll try all that and see if it helps!\u003Cbr\u003E\u003Cbr\u003E\nedit:\u00A0 I see now that it *requires* pulseaudio, getting that set up \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-02T15:33:02Z\u0022 title=\u002206/02/2016 03:33  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 2, 2016\u003C/time\u003E by carbohydrates\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"carbohydrates","CreatedById":165029,"CreatedDateTime":"2016-06-02T22:52:33Z","Content":"\n\u003Cp\u003E\nFantastic! \u00A0The pulsenomore script on that page makes it run\u00A0- audio and all, even with ALSA. \u00A0No more segfaults on launch.\u003Cbr\u003E\u003Cbr\u003E\nNow to try to figure out the empty menu bug...I can run the game now, but still can\u0027t play :\u0027(\u003Cbr\u003E\u003Cbr\u003E\nedit: Setting fullscreen to \u0027True\u0027 and changing the resolution from 1366x768 to 1366x76\u003Cstrong\u003E7\u003C/strong\u003E\u00A0makes menus visible\u00A0- but text almost hurts to look at, it\u0027s rendered very poorly. \u00A0Full resolution is crisp and clear -\u00A0this is not. \u00A0Time for more tweaking...\n\u003C/p\u003E\n\u003Cp\u003E\nedit edit: One\u00A0\u0027official\u0027 resolution below the full one (1280x768) looks much better, and menus are visible - but they overrun the boundaries of their windows, menu content\u00A0that you would normally have to scroll to see is placed in the foreground above other screen content.\u003Cbr\u003E\u003Cbr\u003E\nBut it works! \u00A0And text is readable! \u00A0\u003Cbr\u003E\u003Cbr\u003E\nedit edit edit: \u00A0A resolution of 1363x768 looks even better, the AnyRes mod made this very easy to figure out.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-03T04:39:19Z\u0022 title=\u002206/03/2016 04:39  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 3, 2016\u003C/time\u003E by carbohydrates\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"radonek","CreatedById":84077,"CreatedDateTime":"2016-06-03T13:02:12Z","Content":"\n\u003Cp\u003E\nWHAT? That damned Lennartware is now required? That would explain why 32bit ksp sigterms or why steam is unable to start ksp at all. But it begs a question, why is 64bit ksp binary working well, sound included? :-)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"}]}