{"TopicId":130132,"ForumId":70,"TopicTitle":"Memory leak","CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-17T18:45:22Z","PageNum":1,"Articles":[{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-17T18:45:22Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/r4zb7kzfokk7cdn/Memory_leak_bug.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EDownload link\u003C/a\u003E for output log, saved games and craft files.\n\u003C/p\u003E\n\u003Cp\u003E\nDidn\u0027t experienced such heavy memory leak for a while. Playing with this mods for a month, usually game is stable enough for one hour or two, but this time crash in less than 2-3 minutes. As you can see on pictures(memory usage shown on left side), memory usage increase every few seconds until game crash. There is persistent save game and quicksave with plane in flight that need to land near contract spot.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/Rnyoh/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSpoiler section contains list of installed mods. On top of that is also latest FAR development release from github. Output log file didn\u0027t gave me a clue for possible reasons behind CTD. Does someone have idea what can be reason behind this, so I can avoid it somehow ?\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nAdjustable Landing Gear (AdjustableLandingGear v1.2.0)\u003Cbr\u003E\nB9 Aerospace Pack (B9 R5.4.0)\u003Cbr\u003E\nB9 Aerospace Pack (B9-props R5.4.0)\u003Cbr\u003E\nB9 Aerospace Procedural Parts - Fork (B9-PWings-Fork 2.1)\u003Cbr\u003E\nB9 Animation Modules (B9AnimationModules v1.0.0)\u003Cbr\u003E\nBahamutoD Animation Modules (BDAnimationModules v0.6.2)\u003Cbr\u003E\nCapCom - Mission Control On The Go (CapCom 1.4)\u003Cbr\u003E\nCommunity Resource Pack (CommunityResourcePack 0.4.8.0)\u003Cbr\u003E\nCommunity Tech Tree (CommunityTechTree 2.3)\u003Cbr\u003E\nContract Configurator (ContractConfigurator 1.9.3.1)\u003Cbr\u003E\nContract Pack: Bases and Stations (ContractConfigurator-KerbinSpaceStation 1:3.1)\u003Cbr\u003E\nContract Pack: Field Research (ContractConfigurator-FieldResearch 1.1.4)\u003Cbr\u003E\nContract Pack: Giving Aircraft a Purpose (GAP) (GAP 1.0.2.1)\u003Cbr\u003E\nContract Pack: Tourism Plus (ContractConfigurator-Tourism 1.3.0)\u003Cbr\u003E\nContract Window \u002B (ContractsWindowPlus 5.5)\u003Cbr\u003E\nCrossfeed Enabler (CrossFeedEnabler v3.3)\u003Cbr\u003E\nCrowd Sourced Science (CrowdSourcedScience v3.0.2)\u003Cbr\u003E\nCustom Barn Kit (CustomBarnKit 1.1.3.0)\u003Cbr\u003E\nDMagic Orbital Science (DMagicOrbitalScience 1.1)\u003Cbr\u003E\nDocking Port Alignment Indicator (DockingPortAlignmentIndicator 6.2)\u003Cbr\u003E\nEVAManager (EVAManager 6)\u003Cbr\u003E\nFinal Frontier (FinalFrontier 0.9.8-1882)\u003Cbr\u003E\nFirespitter Core (FirespitterCore v7.1.5)\u003Cbr\u003E\nFirespitter Resources config (FirespitterResourcesConfig v7.1.5)\u003Cbr\u003E\nGraphic Memory Monitor (GCMonitor 1.3.0.0)\u003Cbr\u003E\nHyperEdit (HyperEdit 1.4.2.0)\u003Cbr\u003E\nKerbal Aircraft Expansion (KAX) (KerbalAircraftExpansion 1:KAX_v2.6.1.0)\u003Cbr\u003E\nKerbal Alarm Clock (KerbalAlarmClock v3.5.0.0)\u003Cbr\u003E\nKerbal Attachment System (KAS 0.5.5)\u003Cbr\u003E\nKerbal Flight Data (KerbalFlightData R19)\u003Cbr\u003E\nKerbal Inventory System (KIS 1.2.3)\u003Cbr\u003E\nKerbal Joint Reinforcement (KerbalJointReinforcement v3.1.4)\u003Cbr\u003E\nKlockheed Martian General Plugin Functions - Gimbal module (KlockheedMartian-Gimbal 3.0.6.0)\u003Cbr\u003E\nkOS: Scriptable Autopilot System (kOS 0.18.2)\u003Cbr\u003E\nKSP AVC (KSP-AVC 1.1.5.0)\u003Cbr\u003E\nLightsOut (LightsOut v0.1.5)\u003Cbr\u003E\nMagic Smoke Industries Infernal Robotics (InfernalRobotics v0.21.4)\u003Cbr\u003E\nMechJeb 2 (MechJeb2 2.5.5.0)\u003Cbr\u003E\nMechJeb and Engineer for all! (MechJebForAll 1.2.0.0)\u003Cbr\u003E\nMechJeb Modules for FAR (MechJebFARExt 1.0.0)\u003Cbr\u003E\nMenu Stabilizer (MenuStabilizer 1)\u003Cbr\u003E\nModularFlightIntegrator (ModularFlightIntegrator 1.1.2.0)\u003Cbr\u003E\nModule Manager (ModuleManager 2.6.17)\u003Cbr\u003E\nOSE Workshop (Workshop 0.12.1)\u003Cbr\u003E\nPrecise Node (PreciseNode 1.2.1)\u003Cbr\u003E\nQuickScroll (QuickScroll v1.32)\u003Cbr\u003E\nQuickSearch (QuickSearch v1.14)\u003Cbr\u003E\nRasterPropMonitor (RasterPropMonitor v0.24.2.1)\u003Cbr\u003E\nRasterPropMonitor Core (RasterPropMonitor-Core v0.24.2.1)\u003Cbr\u003E\nRCS Build Aid (RCSBuildAid 0.7.6)\u003Cbr\u003E\nSCANsat (SCANsat v14.7)\u003Cbr\u003E\nSequencer for Infernal Robotics (InfernalRobotics-Sequencer 0.6)\u003Cbr\u003E\nSETI-BalanceMod (SETI-BalanceMod 0.9.5.2)\u003Cbr\u003E\nSETI-CommunityTechTree (SETI-CommunityTechTree 0.9.5.1)\u003Cbr\u003E\nSETI-Contracts (SETI-Contracts 0.9.4)\u003Cbr\u003E\nSETI-Greenhouse (SETI-Greenhouse 0.9.3)\u003Cbr\u003E\nShip Manifest (ShipManifest 4.4.2.0)\u003Cbr\u003E\nSmokeScreen - Extended FX Plugin (SmokeScreen 2.6.10.0)\u003Cbr\u003E\nStageRecovery (StageRecovery 1.6.2)\u003Cbr\u003E\nStock Bug Fix Modules \u0026amp; StockPlus (StockBugFixPlus v1.0.5a.3)\u003Cbr\u003E\nTake Command (TakeCommand 1.3)\u003Cbr\u003E\nThrottle Controlled Avionics - Continued (ThrottleControlledAvionics 2.3.0.2)\u003Cbr\u003E\nToadicusTools (ToadicusTools 17)\u003Cbr\u003E\nToolbar (Toolbar 1.7.10)\u003Cbr\u003E\nTransfer Window Planner (TransferWindowPlanner v1.4.0.0)\u003Cbr\u003E\nTweakableEverything (TweakableEverything 1.14)\u003Cbr\u003E\nTweakScale - Rescale Everything! (TweakScale v2.2.6)\u003Cbr\u003E\nUSI Core (USI-Core 0.1.2.0)\u003Cbr\u003E\nUSI Kolonization Systems (MKS/OKS) (UKS 1:0.31.12.0)\u003Cbr\u003E\nUSI Life Support (USI-LS 0.2.1.0)\u003Cbr\u003E\nUSI Tools (USITools 0.5.4.0)\u003Cbr\u003E\nWaypoint Manager (WaypointManager 2.4.4)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nEDIT:\n\u003C/p\u003E\n\u003Cp\u003E\nNevermind. Figured out. It was terrain detail set to max. Too many trees comes to vison range. Each time some tree become visible it consume small chunk of memory. It would not be much of issue if trees that goes outside of vision range release used memory. That never happens and RAM is filled up too quick in some areas of planets.\n\u003C/p\u003E\n\u003Cp\u003E\nI have set terrain detail to low and same save game is playable again without memory leak.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-24T11:42:29Z\u0022 title=\u002201/24/2016 11:42  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 24, 2016\u003C/time\u003E by kcs123\u003C/strong\u003E\n\u003Cbr\u003Efound reason for bug\n\u003C/span\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2016-01-21T21:06:10Z","Content":"\n\u003Cp\u003E\nHave you tried this stock to establish it is not a mod interaction?\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried this on other planets to see if it is scatters in general that cause this or just the tree?\n\u003C/p\u003E\n\u003Cp\u003E\nIf so, you should report it on the bug tracker. The more memory leaks that can get plugged the better.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWell caught.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-21T22:48:35Z","Content":"\n\u003Cp\u003E\nNo, I didn\u0027t tried with stock only game, I need at least MM and graphic memory monitor to be able to detect memory leak. I didn\u0027t tried on other planet, for that I should also need hyper edit or similar mod at least to get there, as my career game is still early.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I\u0027m sure that is trees causing memory leak. I have landed that craft showed on galery trough repeated quicksaves in landing sequence, just before game CTD.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce craft is landed, there is no memory increasing. But when I rotate view around craft and trees trough scene rotation comes in field of view, memory increases more and more until CTD. After that I have reduced terrain detail and tried the same thing on the same land spot.\n\u003C/p\u003E\n\u003Cp\u003E\nWith low terrain detail it is hard to notice increase in memory usage due to low density of trees, but memory is still increased over time, just with much smaller chunks.\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t know if SQUAD have interest to investigate this, they have switched to Unity 5 game engine, so same issue might be already solved.\u003Cbr\u003E\nBut it is something worth to test prior 1.1. release, to be sure that old bug is not sliped in somehow.\n\u003C/p\u003E\n"},{"CreatedByName":"Francois424","CreatedById":98138,"CreatedDateTime":"2016-01-24T03:43:41Z","Content":"\n\u003Cp\u003E\nI\u0027d like to know if this is fixed in KSP1.1/Unity5 as well.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll try to reduce the terrain scatter, thanks for the tip.\n\u003C/p\u003E\n"}]}