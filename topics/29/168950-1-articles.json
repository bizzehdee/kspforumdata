{"TopicId":168950,"ForumId":29,"TopicTitle":"Teleporting surface craft from KSC to Baikerbanur","CreatedByName":"Hotel26","CreatedById":139095,"CreatedDateTime":"2017-12-27T15:14:49Z","PageNum":1,"Articles":[{"CreatedByName":"Hotel26","CreatedById":139095,"CreatedDateTime":"2017-12-27T15:14:49Z","Content":"\n\u003Cp\u003E\nI\u0027ve written a mickey-mouse prototype of what might become a true KSP extension.\n\u003C/p\u003E\n\u003Cp\u003E\nIt automates the modification of a quicksave.sfs file to transplant a \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E aircraft on the runway or on the launchpad to the Baikerbanur cosmodrome.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything is straightforward except for the manipulation of the VESSEL.rot quaternion that expresses the vehicle attitude (presumably in Kerbin\u0027s frame of reference).\n\u003C/p\u003E\n\u003Cp\u003E\nI put the same craft in both places and observed the quaternion values, K and B.\n\u003C/p\u003E\n\u003Cp\u003E\nThen I wrote code that, for a vessel at \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E with quaternion \u0027p\u0027, performed the computation q = B.(Kinv.p)\n\u003C/p\u003E\n\u003Cp\u003E\nThe idea is to use Kinv to back out the orientation for K and then use B to orient the vehicle for the destination.\n\u003C/p\u003E\n\u003Cp\u003E\nI am aware that quaternion multiplication is not the same as quaternion rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst difficulty is that I found I had to use different numbers for the categories os \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E (horizontal) and \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E (vertical) craft and I suspect flags fall into their own category as well.\n\u003C/p\u003E\n\u003Cp\u003E\nI thought I had cracked the code but the last teleport attempt was of a Screechcraft Starship and it arrived at Baikerbanur in a devilish twist.\n\u003C/p\u003E\n\u003Cp\u003E\nAll of this is (necessarily) outside of Unity for the moment, but I wondered if any sage advice might be proferred?\u00A0 I\u0027ve had half a shot at writing a real r.q.rinv rotation but it does not look promising.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother way of looking at this would be to find a rotation that is equivalent to rotating from \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E to Baikerbanur.\u00A0 Both have known coordinates, e.g.:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0 \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E: lat = -0.097168916153244286 \u00A0\u00A0 \u00A0\u00A0 lon = -74.557681735503166\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0 BKB: lat = 20.652140227285638 \u00A0\u00A0 \u00A0\u00A0 lon = -146.42383127125942\n\u003C/p\u003E\n\u003Cp\u003E\nAny thoughts about this would be appreciated.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Hotel26","CreatedById":139095,"CreatedDateTime":"2017-12-28T01:27:53Z","Content":"\n\u003Cp\u003E\nWell, I think I understand why the approach above is sensitive to craft design.\u00A0 And am experimenting with a very simple Euler-derived rotation directly from \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E to BKB...\u00A0 I\u0027ll report back here.\n\u003C/p\u003E\n"},{"CreatedByName":"Hotel26","CreatedById":139095,"CreatedDateTime":"2018-01-20T02:14:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223253840\u0022 data-ipsquote-contentid=\u0022168950\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514387689\u0022 data-ipsquote-userid=\u0022139095\u0022 data-ipsquote-username=\u0022Hotel26\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2017/12/27 at 11:14 PM, Hotel26 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe computation q = B.(Kinv.p)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI did actually get this to work properly and it\u0027s been incorporated into my Telemagic utility which has gone through several releases already.\u00A0 It will become a fully-fledged KSP plug-in during 2018 Q1.\n\u003C/p\u003E\n"},{"CreatedByName":"Ger_space","CreatedById":167349,"CreatedDateTime":"2018-03-14T12:12:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223272742\u0022 data-ipsquote-contentid=\u0022168950\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516414492\u0022 data-ipsquote-userid=\u0022139095\u0022 data-ipsquote-username=\u0022Hotel26\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/20/2018 at 3:14 AM, Hotel26 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI did actually get this to work properly and it\u0027s been incorporated into my Telemagic utility which has gone through several releases already.\u00A0 It will become a fully-fledged KSP plug-in during 2018 Q1.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t know why you want to to that manually, but KerbalKonstructs does let you use the old KSC2 launchSite. No teleportion needed.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you target for 1.4.1 \u002B DLC you can also define the new LaunchSite and add it to the LaunchSite List, then in the editor you should have a UI for selecting it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Hotel26","CreatedById":139095,"CreatedDateTime":"2018-03-24T10:13:14Z","Content":"\n\u003Cp\u003E\nWell, how about this.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed505119937\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/154587-13-modular-kolonization-system-mks/\u0026amp;do=embed\u0022 style=\u0022height:214px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nI\u0027ve imagined something like this now for a couple of years.\n\u003C/p\u003E\n"}]}