{"TopicId":135891,"ForumId":29,"TopicTitle":"UI_ChooseOption - oddities when displaying long names","CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T04:37:38Z","PageNum":1,"Articles":[{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T04:37:38Z","Content":"\n\u003Cp\u003E\nUI_ChooseOption seems to have oddities when displaying option names - if they are too long to display at the default font size, some are truncated, but some are displayed at a smaller font size.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/k5oDEWH.png\u0022 alt=\u0022k5oDEWH.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-03T18:34:37Z","Content":"\n\u003Cp\u003E\nThis is strange.... But just a question.... How does the UI_CHOOSEOPTION work? How is it defined, and how does one get a function triggered when changing it?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T18:48:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222492374\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459708477\u0022 data-ipsquote-userid=\u0022145377\u0022 data-ipsquote-username=\u0022Warezcrawler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/3/2016 at 11:34 AM, Warezcrawler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow does the UI_CHOOSEOPTION work? How is it defined, and how does one get a function triggered when changing it?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s a UI control just like UI_FloatEdit, UI_Toggle, etc\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E[KSPField(guiActiveEditor = true, isPersistant = true, guiName = \u0022Subtype\u0022)]\n[UI_ChooseOption(affectSymCounterparts = UI_Scene.Editor, options = new[] { \u0022None\u0022 }, scene = UI_Scene.Editor, suppressEditorShipModified = true)]\npublic int subtypeIndexControl = 0;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nsuppressEditorShipModified prevents onEditorShipModified from being fired (the default is that it is fired). \u00A0Set this if you\u0027re going to fire it yourself after doing whatever update is supposed to happen.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you know what the options are beforehand, you can set them there. \u00A0In my case, they\u0027re dynamic, so I have to set them in OnStart()\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epublic override void OnStart(PartModule.StartState state)\n{\n    // ...\n\n    BaseField chooseField = Fields[nameof(subtypeIndexControl)];\n    chooseField.guiName = switcherDescription;\n\n    UI_ChooseOption chooseOption = (UI_ChooseOption)chooseField.uiControlEditor;\n    chooseOption.options = subtypes.Select(s =\u0026gt; s.title).ToArray();\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nYou can listen for the value being changed using\u00A0onFieldChanged\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Epublic override void OnStart(PartModule.StartState state)\n{\n    // ...\n    \n    chooseOption.onFieldChanged = UpdateFromGUI;\n}\n\nprivate void UpdateFromGUI(BaseField field, object oldValueObj)\n{\n    int oldValue = (int)oldValueObj; // If you actually care about it\n    UpdateSubtype();\n    GameEvents.onEditorShipModified.Fire(EditorLogic.fetch.ship);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n(modified a bit from my actual code for clarity)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-06T18:07:31Z\u0022 title=\u002207/06/2016 06:07  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 6, 2016\u003C/time\u003E by blowfish\u003C/strong\u003E\n\u003Cbr\u003Enew information\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-03T19:19:57Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257176\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0022\u003E@taniwha\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T19:20:27Z","Content":"\n\u003Cp\u003E\nCreated a bug ticket here:\u00A0\u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/8295\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/8295\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-03T19:42:42Z","Content":"\n\u003Cp\u003E\nThanks. That\u0027s a great description.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there really no way of calling a specific function when the \u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(251,251,251);\u0022\u003EUI_CHOOSEOPTION\u003C/span\u003E changes? That seems wierd....\n\u003C/p\u003E\n\u003Cp\u003E\nI found this \u0022onFieldChanged =\u0022 property, but I can\u0027t get it to work. The name seems as if this is want should be used when the user clicks for next option, does it not?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E\u00A0Maybe you know if there is some natural way of calling a procedure when a new option is chosen?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T20:26:29Z","Content":"\n\u003Cp\u003E\nI didn\u0027t notice onFIeldChanged before (was it added in a recent build?). \u00A0I think that might solve the problem actually.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe the reason it doesn\u0027t work for you is that you can\u0027t set its value in the attribute\u00A0(\u003Ca href=\u0022https://msdn.microsoft.com/en-us/library/aa664615(v=vs.71).aspx\u0022 rel=\u0022external nofollow\u0022\u003Esince only basic types are allowed as attribute parameters\u003C/a\u003E). \u00A0I\u0027ve updated the code above with something I believe will work, will be testing shortly.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-03T20:39:06Z","Content":"\n\u003Cp\u003E\nNice catch on the callback field; seems its available for all of the UI controls, as well as disabling the editor update events.\u00A0 Now to figure out how to use it \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThese were def. not available in the *72 build that I previously had linked against.\n\u003C/p\u003E\n\u003Cp\u003E\nLikely need to set it manually during OnStart() by accessing the module.Fields[\u0022fieldName\u0022].uiControl.onFieldChanged field; unsure what to set it with.\u00A0 Your example seems plausible though.\n\u003C/p\u003E\n\u003Cp\u003E\nThose changes will clean up a ton of problems I was encountering with editor-events firing... alot... and at weird times.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA big thanks to whomever implemented them \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Confirm that blowfish\u0027s example from above works for setting the callback method;\u00A0 Yay!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-03T20:51:38Z\u0022 title=\u002204/03/2016 08:51  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 3, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-03T21:15:07Z","Content":"\n\u003Cp\u003E\nOh, and something else to note:\u00A0onFieldChanged will not fire for symmetry counterparts. \u00A0The field\u0027s value will update, however (if affect symmetry is set).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-03T21:15:21Z\u0022 title=\u002204/03/2016 09:15  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 3, 2016\u003C/time\u003E by blowfish\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-04T17:18:46Z","Content":"\n\u003Cp\u003E\nAlso see the following thread from [1.1 Pre-release Modding Discussions] forum.\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/135942-11-new-gui-controls-examples-and-discussion/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-04T18:16:46Z","Content":"\n\u003Cp\u003E\nI\u0027ve been looking at the option \u0022display =\u0022 in UI_CHOOSE option. I figured that it is the give an alternative display of the value you can choose from. But I cannot get it to override the options in the GUI.\n\u003C/p\u003E\n\u003Cp\u003E\nHave anybody else had success in using this?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-05T01:57:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222494332\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459793806\u0022 data-ipsquote-userid=\u0022145377\u0022 data-ipsquote-username=\u0022Warezcrawler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Warezcrawler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been looking at the option \u0022display =\u0022 in UI_CHOOSE option. I figured that it is the give an alternative display of the value you can choose from. But I cannot get it to override the options in the GUI.\n\u003C/p\u003E\n\u003Cp\u003E\nHave anybody else had success in using this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt doesn\u0027t look like display is actually used. \u00A0Maybe this was intended to be a more human-readable form of options, but it hardly matters if you\u0027re using it on an integer field (it can be used on an int or string field).\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-05T18:35:45Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119688\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0022\u003E@blowfish\u003C/a\u003E I have tested the UI_CHOOSEOPTION based on your example, and I can comfirm that it is working. Very nice description\u00A0\u003Cimg alt=\u0022:cool:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 title=\u0022:cool:\u0022\u003E\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222492405\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459709281\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/4/2016 at 8:48 PM, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s a UI control just like UI_FloatEdit, UI_Toggle, etc\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan\u003E[KSPField(guiActiveEditor = true, isPersistant = true, guiName = \u0022Subtype\u0022)]\n[UI_ChooseOption(affectSymCounterparts = UI_Scene.Editor, options = new[] { \u0022None\u0022 }, scene = UI_Scene.Editor, suppressEditorShipModified = true)]\npublic int subtypeIndexControl = 0;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nsuppressEditorShipModified prevents onEditorShipModified from being fired (the default is that it is fired). \u00A0Set this if you\u0027re going to fire it yourself after doing whatever update is supposed to happen.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you know what the options are beforehand, you can set them there. \u00A0In my case, they\u0027re dynamic, so I have to set them in OnStart()\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan\u003Epublic override void OnStart(PartModule.StartState state)\n{\n    // ...\n\n    var chooseField = Fields[nameof(subtypeIndexControl)];\n    chooseField.guiName = switcherDescription;\n\n    var chooseOption = chooseField.uiControlEditor as UI_ChooseOption;\n    chooseOption.options = subtypes.Select(s =\u0026gt; s.title).ToArray();\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nYou can listen for the value being changed using\u00A0onFieldChanged\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan\u003Epublic override void OnStart(PartModule.StartState state)\n{\n    // ...\n    \n    chooseOption.onFieldChanged = UpdateFromGUI;\n}\n\nprivate void UpdateFromGUI(BaseField field, object oldValueObj)\n{\n    int oldValue = (int)oldValueObj; // If you actually care about it\n    UpdateSubtype();\n    GameEvents.onEditorShipModified.Fire(EditorLogic.fetch.ship);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n(modified a bit from my actual code for clarity)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-04-05T19:45:17Z","Content":"\n\u003Cp\u003E\ndisplay =? Hmm, I may have missed something, I\u0027ll take a look.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the font size issues, that\u0027s Unity. All the UI_ChooseOption code does is set the text to display.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222492713\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459718107\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 03/04/2016 at 6:15 AM, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nOh, and something else to note:\u00A0onFieldChanged will not fire for symmetry counterparts. \u00A0The field\u0027s value will update, however (if affect symmetry is set).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis was a deliberate decision. onEditorShipModified never fired for counterparts, either, so it seemed valid. My thinking was that the callback would handled counterparts as necessary (saves on callback storms).\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-04-05T20:18:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222496607\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459885517\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis was a deliberate decision. onEditorShipModified never fired for counterparts, either, so it seemed valid. My thinking was that the callback would handled counterparts as necessary (saves on callback storms).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMakes sense, I figured it was just worth mentioning so that people know what the expected behavior is.\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-04-05T21:24:23Z","Content":"\n\u003Cp\u003E\nOh, definitely worth mentioning. Also worth mentioning that it\u0027s by design and not an oversight \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-04-06T12:21:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222496607\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459885517\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\ndisplay =? Hmm, I may have missed something, I\u0027ll take a look.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI had indeed missed implementing display. The fix should be in the next build.\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-06T17:38:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222498000\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459945273\u0022 data-ipsquote-userid=\u002257176\u0022 data-ipsquote-username=\u0022taniwha\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, taniwha said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI had indeed missed implementing display. The fix should be in the next build.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds great\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnother thing. I had some issues creating an UI_CHOOSEOPTION which worked in flight based on the description blowfish did.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I found was, that setting inFieldChanged and the options from code, I had to code specific for each (editor and flight). Is there some way to do it in one go? It\u0027s nice having the posibility to set it individually, but in my case they are to be symmetric.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a \u0022feature\u0022 or is it an oversight or is it just me\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E        public override void OnStart(PartModule.StartState state)\n        {\n            var chooseField = Fields[\u0022ChooseOption\u0022];\n            chooseField.guiName = \u0022Choose Something\u0022;\n\t\t\t\n\t\t\t//for VAB\n            var chooseOptionEditor = chooseField.uiControlEditor as UI_ChooseOption;\n            chooseOptionEditor.options = new string[3] { \u00221\u0022, \u00222\u0022, \u00223\u0022 };\n            chooseOptionEditor.onFieldChanged = UpdateFromGUI;\n\n\t\t\t//For inflight\n\t\t\tvar chooseOptionFlight = chooseField.uiControlFlight as UI_ChooseOption;\n            chooseOptionFlight.options = new string[3] { \u00221\u0022, \u00222\u0022, \u00223\u0022 };\n            chooseOptionFlight.onFieldChanged = UpdateFromGUI;\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-06T19:25:09Z","Content":"\n\u003Cp\u003E\nI have observed something odd..... Which is great for thing thread\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve created a UI_CHOOSEOPTION to change engine setup (thrust, fuel consumption etc.). Now when changing midair using my new\u00A0UI_CHOOSEOPTION, all of a sudden the A \u002B D buttons get linked to the functions for next and previous option.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I click somewhere else (closing the right click menu) then the \u0022link\u0022 is reset, and A \u002B D does not impact the choose option.....\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257176\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0022\u003E@taniwha\u003C/a\u003E Is this a bug that need being reported? Or is it intended. (I can say this.\u00A0It has caused me to crash my plane\u00A0\u003Cimg alt=\u0022:sealed:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 title=\u0022:sealed:\u0022\u003E)\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-04-06T21:21:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222498773\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459970709\u0022 data-ipsquote-userid=\u0022145377\u0022 data-ipsquote-username=\u0022Warezcrawler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Warezcrawler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have observed something odd..... Which is great for thing thread\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve created a UI_CHOOSEOPTION to change engine setup (thrust, fuel consumption etc.). Now when changing midair using my new\u00A0UI_CHOOSEOPTION, all of a sudden the A \u002B D buttons get linked to the functions for next and previous option.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I click somewhere else (closing the right click menu) then the \u0022link\u0022 is reset, and A \u002B D does not impact the choose option.....\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257176\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57176-taniwha/\u0022\u003E@taniwha\u003C/a\u003E Is this a bug that need being reported? Or is it intended. (I can say this.\u00A0It has caused me to crash my plane\u00A0\u003Cimg alt=\u0022:sealed:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 title=\u0022:sealed:\u0022\u003E)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat issue has already been reported on the tracker (UI controls responding to keyboard input after adjusting them with the mouse), and I believe it is already confirmed/being looked into.\n\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2016-04-06T21:40:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222498598\u0022 data-ipsquote-contentid=\u0022135891\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221459964321\u0022 data-ipsquote-userid=\u0022145377\u0022 data-ipsquote-username=\u0022Warezcrawler\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Warezcrawler said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nWhat I found was, that setting inFieldChanged and the options from code, I had to code specific for each (editor and flight). Is there some way to do it in one go? It\u0027s nice having the posibility to set it individually, but in my case they are to be symmetric.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nuiControlFlight and uiControlEditor are the same type, so you don\u0027t need the two blocks like that, just:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022 id=\u0022ips_uid_5071_7\u0022 style=\u0022\u0022\u003E\r\n\u003Cspan class=\u0022pln\u0022\u003EUI_ChooseOption control \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E is_flight \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E?\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E field\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EuiControlFlight \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E field\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EuiControlEditor\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand then the rest of your code can be shared if appropriate. \u0022var\u0022 might work for that expression, dunno. (NOTE: that\u0027s pseudo code, edit as appropriate \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-06T21:41:34Z\u0022 title=\u002204/06/2016 09:41  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 6, 2016\u003C/time\u003E by taniwha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2016-04-06T21:52:57Z","Content":"\n\u003Cp\u003E\nbrilliant..... will change the code ASAP\u00A0\u003Cimg alt=\u0022:cool:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 title=\u0022:cool:\u0022\u003E\u00A0THANKS\n\u003C/p\u003E\n\u003Cp\u003E\n----\n\u003C/p\u003E\n\u003Cp\u003E\nI ended up with this if it can help anybody else\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EUI_ChooseOption chooseOption = HighLogic.LoadedSceneIsFlight ? chooseField.uiControlFlight as UI_ChooseOption : chooseField.uiControlEditor as UI_ChooseOption;\n\nchooseOption.options = Options;\t\t\t\t\t//Options is an array with my options\nchooseOption.display = arrIntakeNames;\t\t\t//arrIntakeNames is an array of the names I want shown when the function is fixed\nchooseOption.onFieldChanged = selectIntake;\t\t//selectIntake is the currently selected option\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-06T22:07:40Z\u0022 title=\u002204/06/2016 10:07  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 6, 2016\u003C/time\u003E by Warezcrawler\u003C/strong\u003E\n\u003Cbr\u003ECode example added\n\u003C/span\u003E\n"}]}