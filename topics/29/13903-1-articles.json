{"TopicId":13903,"ForumId":29,"TopicTitle":"How to make complex parts.","CreatedByName":"Vlad. Just Vlad.","CreatedById":12169,"CreatedDateTime":"2012-07-09T12:26:34Z","PageNum":1,"Articles":[{"CreatedByName":"Vlad. Just Vlad.","CreatedById":12169,"CreatedDateTime":"2012-07-09T12:26:34Z","Content":"\n\u003Cp\u003EHi guys. I want to make some parts, that will have properties from different part types. For example, wing, which can make lift and have fuel. Can somebody tell me, what code it should be?\u003C/p\u003E\n"},{"CreatedByName":"Dani-Sang","CreatedById":4234,"CreatedDateTime":"2012-07-09T12:30:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHi guys. I want to make some parts, that will have properties from different part types. For example, wing, which can make lift and have fuel. Can somebody tell me, what code it should be?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooked into that too, but as far as I know, you can only choose one. Think you need to make a new class with a plugin or something along those lines. \u003C/p\u003E\n"},{"CreatedByName":"Vlad. Just Vlad.","CreatedById":12169,"CreatedDateTime":"2012-07-09T12:53:33Z","Content":"\n\u003Cp\u003EI meant that I need to make it with plugins.\u003C/p\u003E\n"},{"CreatedByName":"Katratszi","CreatedById":26024,"CreatedDateTime":"2012-07-09T16:12:21Z","Content":"\n\u003Cp\u003ELook in to the new PartModule system.\u003C/p\u003E\u003Cp\u003EPartModules are essentially plugins that you can assign to a Part through it\\\u0027s CFG file. A Part can then have any number of PartModules:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/index.php?topic=11734.0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/index.php?topic=11734.0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-07-09T20:09:41Z","Content":"\n\u003Cp\u003E Unfortunately, the PartModule system isn\\\u0027t used by the stock parts. There are some PartModule classes in the stock code base, but I believe they are just the examples from Mu\\\u0027s thread.\u003C/p\u003E\u003Cp\u003E If you want a single part to handle multiple functions, you need to code in those handler functions yourself into a Part/PartModule subclass. Ideally, after the PartModule system moves beyond it\\\u0027s initial demonstration phase, you\\\u0027ll be able to include functionality by just adding blocks to the part cfg file, or even just drag and drop in the VAB, but it\\\u0027s just not there yet.\u003C/p\u003E\u003Cp\u003E Right now, you either have to code a set of PartModules to handle the mechanics you\\\u0027re wanting to implement, and then add them to your cfg; or make a normal Part subclass that handles all of the mechanics, perhaps a set of functions/subroutines/methods that get called in sequence inside the (Fixed)Update block.\u003C/p\u003E\u003Cp\u003E Happy moddings.\u003C/p\u003E\n"},{"CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2012-07-26T19:09:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kellven\u0022 data-cite=\u0022kellven\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E Unfortunately, the PartModule system isn\\\u0027t used by the stock parts. There are some PartModule classes in the stock code base, but I believe they are just the examples from Mu\\\u0027s thread.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, but we are going to gradually move all our part code into the new Module system, eventually deprecating the old part class extensions.\u003C/p\u003E\u003Cp\u003EThe latest parts already use this new system. Namely, the telescopic ladders and the launch clamps, and more should follow soon. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"Cykyrios","CreatedById":17639,"CreatedDateTime":"2012-07-26T20:42:07Z","Content":"\n\u003Cp\u003ESorry I\\\u0027m using this thread to ask, but will Mu or anyone else post PartModule examples that we can use for our own parts when the system is completely ready?\u003C/p\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2012-07-26T20:47:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cykyrios\u0022 data-cite=\u0022Cykyrios\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESorry I\\\u0027m using this thread to ask, but will Mu or anyone else post PartModule examples that we can use for our own parts when the system is completely ready?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe PartModule system is working very well so far. It is brilliant, i can add modules to any part in the game and change their behaviour somewhat. Its easy to do this in the .cfg file but also possible to add, use and remove modules with code only. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E In my plugin im adding a module to all the kerbals on eva making them remember what vessel they belong to.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-07-27T17:39:32Z","Content":"\n\u003Cp\u003EBTW, if I\\\u0027m using part modules, is there a way to find out if I\\\u0027m in an assembly building or on flight scene and if the game is paused?\u003C/p\u003E\u003Cp\u003EEverything I tried out was either wrong or not completely accurate.\u003C/p\u003E\n"},{"CreatedByName":"MrPwner","CreatedById":23671,"CreatedDateTime":"2012-07-27T17:47:54Z","Content":"\n\u003Cp\u003EKerbal Engineer had a part that would only show information in the VAB/SPH.\u003C/p\u003E\u003Cp\u003EIts source is available. I don\\\u0027t know if it works the way you want it to, though.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-07-27T17:56:54Z","Content":"\n\u003Cp\u003EI\\\u0027ll look at that, but it probably uses OnEditorUpdate(), which is AFAIK not aviable for part modules.\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-07-27T20:18:27Z","Content":"\n\u003Cp\u003EThat\\\u0027s what I don\\\u0027t like about the modules - in some cases they can\\\u0027t do anything while parts work with no problems.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-07-28T12:53:36Z","Content":"\n\u003Cp\u003EIt seems that OnSave is called each editor update, and that if you know which states OnStart really uses, you can figure out where you are.\u003C/p\u003E\n"},{"CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2012-08-01T00:32:05Z","Content":"\n\u003Cp\u003EThe easiest way to check in which scene you are in is to ask the HighLogic class. It holds all such information.\u003C/p\u003E\u003Cp\u003Efor instance:\u003C/p\u003E\u003Cp\u003EHighLogic.LoadedScene - returns a GameScenes enum value for the scene you are in.\u003C/p\u003E\u003Cp\u003EHighLogic.LoadedSceneIsEditor : bool (true in the VAB and SPH scenes)\u003C/p\u003E\u003Cp\u003EHighLogic.LoadedSceneIsFlight : bool (true in the flight scene)\u003C/p\u003E\u003Cp\u003EHighLogic.LoadedSceneHasPlanetarium : bool (true in the flight scene and tracking station)\u003C/p\u003E\u003Cp\u003EUsing those, you can set up a switch block or conditionals to do things based on the state of the game. It\\\u0027s much simpler than having to set up overrides for 30\u002B different callbacks.\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"}]}