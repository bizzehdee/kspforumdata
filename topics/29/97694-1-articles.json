{"TopicId":97694,"ForumId":29,"TopicTitle":"AudioSource silent in space","CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-24T19:12:22Z","PageNum":1,"Articles":[{"CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-24T19:12:22Z","Content":"\n\u003Cp\u003EHi I added some sound effects to my IVA. Therefore I\u0027m adding an AudioSource to a part.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EalarmAs = light.AddComponent\u0026lt;AudioSource\u0026gt;();\u003Cbr\u003EAudioClip clip = GameDatabase.Instance.GetAudioClip(alarmSound);\u003Cbr\u003EalarmAs.clip = clip;\u003Cbr\u003EalarmAs.dopplerLevel = DOPPLER_LEVEL;\u003Cbr\u003EalarmAs.rolloffMode = AudioRolloffMode.Linear;\u003Cbr\u003EalarmAs.Stop();\u003Cbr\u003EalarmAs.loop = true;\u003Cbr\u003EalarmAs.minDistance = MIN_DIST;\u003Cbr\u003EalarmAs.maxDistance = MAX_DIST;\u003Cbr\u003EalarmAs.volume = 1f;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (!alarmAs.isPlaying)\u003Cbr\u003E{\u003Cbr\u003E     alarmAs.Play();\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen I test it on the launch pad everything works well, but when i hyperedit my test craft into orbit I can\u0027t hear the sound effects. I can\u0027t find the reason for this. Can anybody explain this behavior?\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2015-01-24T23:42:20Z","Content":"\n\u003Cp\u003Emaybe your sound stays at the launchpad..\u003C/p\u003E\u003Cp\u003Ein terms of:\u003C/p\u003E\u003Cp\u003Ethe parent value of the audio-gameobject is not set correctly..\u003C/p\u003E\u003Cp\u003Eso if the ship moves, the audio stays at the global location it is created..\u003C/p\u003E\u003Cp\u003EalarmAs.transform.parent = ???\u003C/p\u003E\u003Cp\u003Eor \u003C/p\u003E\u003Cp\u003Elight.transform.parent = ???\u003C/p\u003E\u003Cp\u003Ehth\u003C/p\u003E\n"},{"CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-25T13:33:38Z","Content":"\n\u003Cp\u003Ethe light is a part of the iva 3d-model and the parent is set to parent in the model. As I understand it component do not have their own transform. so if the model moves so should the audio source. Or did I miss something.\u003C/p\u003E\u003Cp\u003EI did some testing, when I add the Audiosource component to the internalModel the audiosource stays where it was added, when I add the component to the part itself it moves with the craft. It behaves like the iva would stay in one place even if the craft is moving. Can somebody explain this? For the time I\u0027ll add the audio to the part.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-25T14:00:38Z\u0022 title=\u002201/25/2015 02:00  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 25, 2015\u003C/time\u003E by N3h3mia\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2015-01-25T17:34:17Z","Content":"\n\u003Cp\u003EI juts saw, you are swiss - so am I lol..\u003C/p\u003E\u003Cp\u003E(Vo wo bisch denn? Mich findsch z\u0027Laufe BL..)\u003C/p\u003E\u003Cp\u003E\u0026gt;As I understand it component do not have their own transform.\u003C/p\u003E\u003Cp\u003EThis is wrong and right..\u003C/p\u003E\u003Cp\u003Ecomponents do not have an own but they are added to a game object - and this game object has a transform..\u003C/p\u003E\u003Cp\u003E\u0026gt;Can somebody explain this? For the time I\u0027ll add the audio to the part.\u003C/p\u003E\u003Cp\u003EI can\u0027t.. sorry..\u003C/p\u003E\u003Cp\u003EI don\u0027t know if that is \u0022normal\u0022 but I doubt it..\u003C/p\u003E\u003Cp\u003Enever seen this - so it might be something wrong in your set up..\u003C/p\u003E\n"},{"CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-25T17:50:32Z","Content":"\n\u003Cp\u003E\u0026gt;(Vo wo bisch denn? Mich findsch z\u0027Laufe BL..)\u003C/p\u003E\u003Cp\u003EStadel Z\u00C3\u0192\u00C2\u00BCri Unterland\u003C/p\u003E\u003Cp\u003E\u0026gt;This is wrong and right..\u003C/p\u003E\u003Cp\u003E\u0026gt;components do not have an own but they are added to a game object - and this game object has a transform..\u003C/p\u003E\u003Cp\u003EThat\u0027s what I meant. The light has a mesh component, so if it would stay in a place so should the mesh but only the AudioSource doesn\u0027t move. \u003C/p\u003E\u003Cp\u003E\u0026gt;I don\u0027t know if that is \u0022normal\u0022 but I doubt it.\u003C/p\u003E\u003Cp\u003EI doubt it too, but IVA\u0027s to behave strange sometimes, at least for me they do.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2015-01-25T18:01:13Z","Content":"\n\u003Cp\u003EI would parent the GO to something that moves - if it works, call it \u0022done\u0022..\u003C/p\u003E\u003Cp\u003EValid is what wroks..\u003C/p\u003E\u003Cp\u003Eand old coder rule...\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2015-01-26T09:59:55Z","Content":"\n\u003Cp\u003EThere is a bug with the IVA light sources. If you move a craft with an IVA away from its starting point, you can see that the IVA light remains there, lighting up the ground. You appear to be attaching your sound to this bugged light. You can test this with your sound by driving a rover away from the start point and seeing if the sound stays with it. Parent the sound to the IVA part\u0027s GameObject to have the effect you\u0027re looking for.\u003C/p\u003E\n"},{"CreatedByName":"N3h3mia","CreatedById":103920,"CreatedDateTime":"2015-01-26T10:20:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pizzaoverhead\u0022 data-cite=\u0022pizzaoverhead\u0022\u003E\u003Cdiv\u003EThere is a bug with the IVA light sources. If you move a craft with an IVA away from its starting point, you can see that the IVA light remains there, lighting up the ground. You appear to be attaching your sound to this bugged light. You can test this with your sound by driving a rover away from the start point and seeing if the sound stays with it. Parent the sound to the IVA part\u0027s GameObject to have the effect you\u0027re looking for.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did some testing with a rover and can confirm that the sound stays in it\u0027s starting point. But it is not limited to lights. I have the same problem with an other IVA there I attach the AudioSource to a GameObject that is not a light. It is the GameObject holding the model for this part in the IVA.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/eKGwv4H.png\u0022 alt=\u0022eKGwv4H.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere is the method used to add the AudioSource. maybe somebody can point out my error. It is part of a class that is an InternalModule not a PartModule.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprivate void initPartObjects()\u003Cbr\u003E        {\u003Cbr\u003E            if (part.internalModel != null)\u003Cbr\u003E            {\u003Cbr\u003E                GameObject labIVA = part.internalModel.gameObject.transform.GetChild(0).GetChild(0).gameObject;\u003Cbr\u003E                if (labIVA.GetComponent\u0026lt;MeshFilter\u0026gt;().name == \u0022Lab1IVA\u0022)\u003Cbr\u003E                {\u003Cbr\u003E                    GameObject ffr = labIVA.transform.GetChild(2).gameObject;\u003Cbr\u003E                    pump1 = ffr.transform.GetChild(1);\u003Cbr\u003E                    pump2 = ffr.transform.GetChild(2);\u003Cbr\u003E\u003Cbr\u003E                    //pumpAs = ffr.AddComponent\u0026lt;AudioSource\u0026gt;(); //Does not work\u003Cbr\u003E                    pumpAs = part.gameObject.AddComponent\u0026lt;AudioSource\u0026gt;(); //Workaround: using GameObjects from the internal model does not work AS would stay in the place it was added.\u003Cbr\u003E\u003Cbr\u003E                    AudioClip clip = GameDatabase.Instance.GetAudioClip(pumpSound);\u003Cbr\u003E                    pumpAs.clip = clip;\u003Cbr\u003E                    pumpAs.dopplerLevel = DOPPLER_LEVEL;\u003Cbr\u003E                    pumpAs.rolloffMode = AudioRolloffMode.Logarithmic;\u003Cbr\u003E                    pumpAs.Stop();\u003Cbr\u003E                    pumpAs.loop = true;\u003Cbr\u003E                    pumpAs.minDistance = MIN_DIST;\u003Cbr\u003E                    pumpAs.maxDistance = MAX_DIST;\u003Cbr\u003E                    pumpAs.volume = 1f;\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}