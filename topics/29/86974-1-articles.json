{"TopicId":86974,"ForumId":29,"TopicTitle":"Interesting reading: C# memory management for unity devs","CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-11T15:58:40Z","PageNum":1,"Articles":[{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-11T15:58:40Z","Content":"\n\u003Cp\u003EThis is the link to the \u003Ca href=\u0022http://www.gamasutra.com/blogs/WendelinReich/20131109/203841/C_Memory_Management_for_Unity_Developers_part_1_of_3.php\u0022 rel=\u0022external nofollow\u0022\u003Earticle\u003C/a\u003E. \u003C/p\u003E\u003Cp\u003EGood reading.\u003C/p\u003E\n"},{"CreatedByName":"Uzza","CreatedById":74600,"CreatedDateTime":"2014-10-12T01:11:58Z","Content":"\n\u003Cp\u003EThat was an extremely interesting read!\u003C/p\u003E\u003Cp\u003EI had no idea the Mono version that Unity currently runs on had these issues with memory, especially with the LINQ/enumerator allocations.\u003C/p\u003E\u003Cp\u003ESince I use foreach/LINQ a lot, because it gives very clean looking code, I decided to take a look at the memory usage of my addon. The result was not pretty.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/ZQkCWMB.png\u0022 alt=\u0022ZQkCWMB.png\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003EThe real villain is the tree control I built, since it\u0027s recursive and used enumerations extensively.\u003C/p\u003E\u003Cp\u003EExpanding all the nodes in it gave the above graph.\u003C/p\u003E\u003Cp\u003EAfter some heavy optimizations of the entire UI, I managed to fix it up quite nicely.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/yH0mUvE.png\u0022 alt=\u0022yH0mUvE.png\u0022\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T01:26:41Z\u0022 title=\u002210/12/2014 01:26  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by Uzza\u003C/strong\u003E\n\u003C/span\u003E\n"}]}