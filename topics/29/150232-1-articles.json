{"TopicId":150232,"ForumId":29,"TopicTitle":"How to override partial vessel control?","CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2016-10-17T16:29:32Z","PageNum":1,"Articles":[{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2016-10-17T16:29:32Z","Content":"\n\u003Cp\u003E\nI\u0027ve been experimenting with partial vessel control in post KSP 1.2 release, and haven\u0027t had much luck overriding it. I\u0027ve tried setting Vessel.maxControlLevel to Vessel.ControlLevel.PARTIAL_MANNED, and tried implementing ICommNetControlSource, and returning VesselControlState.KerbalPartial from GetControlSourceState. I\u0027ve even tried setting Vessel.maxControlLevel during the GetControlSourceState call. When the part also has a ModuleCommand, neither approach overrides the vessel control state; it seems that ModuleCommand takes priority. Short of swapping out ModuleCommand, how do I set the vessel control state to partial?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-10-23T10:24:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222809261\u0022 data-ipsquote-contentid=\u0022150232\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476721772\u0022 data-ipsquote-userid=\u0022106975\u0022 data-ipsquote-username=\u0022Angel-125\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 18/10/2016 at 3:29 AM, Angel-125 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been experimenting with partial vessel control in post KSP 1.2 release, and haven\u0027t had much luck overriding it. I\u0027ve tried setting Vessel.maxControlLevel to Vessel.ControlLevel.PARTIAL_MANNED, and tried implementing ICommNetControlSource, and returning VesselControlState.KerbalPartial from GetControlSourceState. I\u0027ve even tried setting Vessel.maxControlLevel during the GetControlSourceState call. When the part also has a ModuleCommand, neither approach overrides the vessel control state; it seems that ModuleCommand takes priority. Short of swapping out ModuleCommand, how do I set the vessel control state to partial?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVessel.maxControlLevel is exactly that. It enables you to restrict the Maximum control level for the vessel.\u003Cbr\u003E\nIt sounds like you want to actually set the control level to a specific value though?\u003Cbr\u003E\nCan I ask why?\u003Cbr\u003E\n..and yes. The control level is set by first checking the Commnet control level is the vessel has a connection and then the maximum value of all the parts on the vessel. Which will always probably be the part with ModuleCommand on it.\u003Cbr\u003E\nIn theory I believe you can override this though using the interface you mention.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-23T10:46:16Z\u0022 title=\u002210/23/2016 10:46  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 23, 2016\u003C/time\u003E by JPLRepo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2016-10-23T16:37:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222819318\u0022 data-ipsquote-contentid=\u0022150232\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477218276\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVessel.maxControlLevel is exactly that. It enables you to restrict the Maximum control level for the vessel.\u003Cbr\u003E\nIt sounds like you want to actually set the control level to a specific value though?\u003Cbr\u003E\nCan I ask why?\u003Cbr\u003E\n..and yes. The control level is set by first checking the Commnet control level is the vessel has a connection and then the maximum value of all the parts on the vessel. Which will always probably be the part with ModuleCommand on it.\u003Cbr\u003E\nIn theory I believe you can override this though using the interface you mention.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was hoping to set the command level independently of CommNet, as a penalty for missing too many meals; the kerbal would not be able to fly too well. I found that setting maxControlLevel did not affect vessel control; if I have a pilot aboard and set the vessel to partial, then I still have full control. It sounds like I\u0027m unable to do what I\u0027d like without replacing ModuleCommand, which is a bummer.\n\u003C/p\u003E\n"}]}