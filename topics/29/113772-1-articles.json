{"TopicId":113772,"ForumId":29,"TopicTitle":"Part heating rate","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-22T23:24:01Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-22T23:24:01Z","Content":"Patch notes have this to say about revisions to the thermal system\n\n    Thermal:* 1.0.3 features a revised thermal mechanic to better balance heating/cooling between pods and spaceplanes.* Parts now have separate internal temperature and skin temperatures. * Skin temperature is the temperature used for radiation and convection, as well as engine exhaust damage. * Part internal temperature is increased by modules that generate heat and is used for part-part conduction. * Part internal and skin temperature also conduct between each other.* Solar panel efficiency is now calculated based on skin temperature.* When in an atmosphere, there is a divide between the exposed (to convection) and unexposed skin temperatures.* When not in an atmosphere, only one skin temperature is tracked; the two temperatures are unified on atmosphere exit.* Radiative outflux and influx is tracked separately for exposed and unexposed areas of skin (since the shock temperature is much higher than ambient temperature).\n\nSo how does each source of thermal energy (flux) affect internal temperature and skin temperature now?\n\nDebug menu has these values:\n\n**(Skin/Internal) Temperature:** Temperature in Kelvin\n\n**(Skin/Internal) Thermal Mass:** Measure of how much energy it takes to increase temperature in kJ/K. Temperature \\* Thermal Mass is the thermal energy in the part in kJ\n\n**Conductive Flux:** Thermal energy transfer rate from connected parts and atmosphere via conduction. How is it split between internal temperature and skin temperature?\n\n**Convective Flux:** Thermal energy transfer rate from atmosphere via convection. Main source of vessel atmospheric/reentry heating, transfers only to skin?\n\n**Radiative Flux:** Thermal energy transfer rate via electromagnetic waves. Main source of vessel heating/cooling outside atmosphere. Transfer through exposed skin?\n\n**Internal Flux:** Thermal energy generated or dissipated inside a part (eg. engines generate heat when burning fuel).\n\n**SkinToInt Flux:** A constant that controls the transfer of energy between the skin and interior? How is it determined?\n\nFrom above information\n\n**Internal Heating Rate:** (ConductiveFlux \u002B InternalFlux \u002B SkinToIntFlux \\* (SkinTemp - InternalTemp)) / InternalThermalMass\n\n**Skin Heating Rate** **:** (ConvectiveFlux \u002B RadiativeFlux \u002B SkinToIntFlux \\* (InternalTemp - SkinTemp)) / SkinThermalMass\n\nThis doesn\u0027t match what\u0027s occurring in game though (I suspect a misunderstanding of the SkinToInternal Flux constant) and I can\u0027t get the debug menu information to match up for skin heating rate\n\n**Edited \u003Ctime datetime=\u00222015-06-23T00:01:19Z\u0022 title=\u002206/23/2015 12:01  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-22T23:38:59Z","Content":"There\u0027s a bug in skinToIntFlux display, it doesn\u0027t have the temperature delta multiplied in."},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-22T23:48:45Z","Content":"As to the list, conduction is only for parts (and skins), not environment. Environment effects come via radiation (sun/body flux, background temperature) and via convection (air/water).\n\nConductive flux is internal-internal flux, and it and internal flux and skintoint flux are the only things that modify internal temperature; convection and radiation modify skin temperature (as does skin\u003C-\u003Eskin conduction, which isn\u0027t listed, and pyrolysis flux from ablation).\n\nRadiation is black-body radiation. Total flux =\n\nemissivity \\* (solar flux \\* solar flux area \u002B body flux \\* body flux area - sigma \\* area \\* (skin temp^4 - background temp^4))\n\nNote that the lack of multiplication by the temp delta only affects skintoint flux; the other fluxes are (AFAIK) correct, although as mentioned above skin to skin conduction isn\u0027t listed."},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T00:15:05Z","Content":"\u003E \n\u003E skin to skin conduction isn\u0027t listed.\n\nSo there is internal \u003C-\u003E internal conductivity and skin \u003C-\u003E skin conductivity as separate effects (if so, how to get skin\u003C-\u003E skin flux?), or is skin\u003C-\u003Eskin conductivity wrapped up in the conductive flux somehow?\n\n- - - Updated - - -\n\nAlso, how should skin -\u003E int flux be calculated if it\u0027s borked? Is it just: (temp diff) \\* someFactor?"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-23T06:14:16Z","Content":"There are four conductions, actually\n\n1. internal-internal (different parts)\n\n2. internal-skin (same part)\n\n3. exposed\\_skin-unexposed\\_skin (same part) -- only when in atmosphere, when some skin is unexposed to convection.\n\n4. skin-skin (different parts) -- that one\u0027s tricky because when in an atmosphere, one or both parts might have a divide between exposed and unexposed skin, so there are really four cases.\n\nNote that when in space, all skin is treated as exposed. Skin temp displayed is the temp of the exposed skin.\n\nskin-\u003Eint flux **is** the \u0022some factor\u0022 in your expression.\n\nConduction flux handles all part-part conduction, it looks like (I was wrong before, sorry), so it\u0027s the sum of 1 and 4. 3 is (skin temp - part temp) \\* displayed skinToInt, and the flux of 2 is not shown (or tracked), it\u0027s just done."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T07:36:19Z","Content":"Anybody knows if stock skin has mass-ratio/thickness parameter?"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T07:46:05Z","Content":"skinInternalConductionMult // default = 1.0skinThermalMassModifierskinSkinConductionMult // default = 1.0skinMaxTemp // default = maxTemp\n\nprobably valid in the .cfg\n\n**Edited \u003Ctime datetime=\u00222015-06-23T08:02:57Z\u0022 title=\u002206/23/2015 08:02  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T08:00:10Z","Content":"Isn\u0027t skinMassPerArea for fairings mass?"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-23T08:02:47Z","Content":"Oops, so it is. I was just listing the variables out that were constants starting with skin and it slipped in... ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-23T08:09:18Z","Content":"The other look like from DRE. The only one actually present in stock is skinInternalConductionMult.\n\nIs there any official list for modders? I wonder if there is more stock parameters, but unused.\n\n**Edited \u003Ctime datetime=\u00222015-06-23T08:11:58Z\u0022 title=\u002206/23/2015 08:11  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by Psycho\\_zs**"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-06-23T21:24:45Z","Content":"skinMassPerArea is in fact correct, and defaults to 1kg / m^2 of area.\n\nAnything for fairings will be inside the ModuleProceduralFairing, not in the Part class.\n\nPsycho\\_zs: Crzyrndm\u0027s list is *from stock\u0027s Part class*. Just because a value isn\u0027t set in a stock cfg doesn\u0027t mean it\u0027s not a settable value."},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-24T20:56:58Z","Content":"Has anybody divined the use of RadiatorHeadroom yet?"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-06-27T06:57:56Z","Content":"\u003E \n\u003E Has anybody divined the use of RadiatorHeadroom yet?\n\nI was just looking into that myself. So far the only thing that came to mind was this:\n\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/EzPlotAwm8Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\nNot exactly the most meaningful of variable names ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-30T20:01:10Z","Content":"\u003E \n\u003E I was just looking into that myself. So far the only thing that came to mind was this:\n\u003E \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \n\u003E \u003E \u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/EzPlotAwm8Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\n\u003E \u003E \n\u003E \u003E \n\u003E \n\u003E \n\u003E Not exactly the most meaningful of variable names ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nI think it\u0027s one of two things (but could still be wrong, I haven\u0027t bothered testing it anymore since my computer fried):\n\n- Sets the maximum allowed percentage of the radiators own max temperature that it can fill via the internal flux of the stock radiator module.\n- Affects the sometimes drastic change in thermal mass that radiator panels experience when deployed.\n\nOr maybe both."},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-09-14T12:46:16Z","Content":"I wonder why I cannot modify skinToInternalFlux parameter? Is it computed from other values?\n\nIn other words is there a way to reduce heat moving from skin to internal of the same part without using ModuleAblator (which has something similar but called differently -\u003EreentryConductivity) ?"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-09-14T16:44:03Z","Content":"add a line to the part\u0027s cfg\n\nskinInternalConductionMult = 0.5\n\nthat will halve the rate of skin to internal flux. Change the 0.5 to whatever you want.\n\nModuleAblator won\u0027t change the rate at all."},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-09-14T16:59:21Z","Content":"\u003E \n\u003E add a line to the part\u0027s cfg\n\u003E skinInternalConductionMult = 0.5\n\u003E \n\u003E that will halve the rate of skin to internal flux. Change the 0.5 to whatever you want.\n\u003E \n\u003E ModuleAblator won\u0027t change the rate at all.\n\ncheers, thx for help. I have tried setting skinInternalConductionMult to really low value. It\u0027s ok, however it acts weirdly - namely skin temperature is more or less constant however part\u0027s temperature jumps up and down like crazy. Maybe because my skinTermalMass is much higher than part\u0027s thermal mass (3x times or so). Also reducing that multiplier to less than 0.1 (0.001 0.0001) seems to not decrease conductivity further."}]}