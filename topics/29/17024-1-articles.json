{"TopicId":17024,"ForumId":29,"TopicTitle":"Attitude Control for additional parts","CreatedByName":"claypigeon","CreatedById":21493,"CreatedDateTime":"2012-08-16T01:04:26Z","PageNum":1,"Articles":[{"CreatedByName":"claypigeon","CreatedById":21493,"CreatedDateTime":"2012-08-16T01:04:26Z","Content":"\n\u003Cp\u003EHi folks. 1st, apologies if this is old ground. My google-fu is weak.\u003C/p\u003E\u003Cp\u003EI\u0027m interested in adding attitude control to parts that are not the main capsule. In particular, I thinking about adding attitude control to \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/15016-0-16-Crew-able-empty-pods-0-3\u0022 rel=\u0022external nofollow\u0022\u003Ethese parts\u003C/a\u003E, which right now are marked as \u0022struts\u0022. I figure that writing a plugin is the way to go, but want to make sure that it\u0027s possible before I burn the time learning how to write a plugin. \u003C/p\u003E\u003Cp\u003EFor the curious, my goal is to make it possible to recreate something like the Apollo mission, where a craft detaches and lands on the moon while the \u0022mothership\u0022 remains in orbit. \u003Ca href=\u0022http://imgur.com/a/JcLsh#0\u0022 rel=\u0022external nofollow\u0022\u003EI\u0027ve already done something like this\u003C/a\u003E, but my craft has to rely on RCS for turning, which is an imperfect solution. I\u0027m hoping to create something better.\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2012-08-16T01:28:34Z","Content":"\n\u003Cp\u003EUntil docking is implemented, a true Apollo style mission is nigh impossible.\u003C/p\u003E\u003Cp\u003EMechJeb is really good for attitude control. It\u0027s Smart A.S.S. module has one click buttons for orienting yourself along the major 3D axis\u0027.\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECapt\u0027n Skunky\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#800080;\u0022\u003E\u003Cstrong\u003EKSP Community Manager\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"claypigeon","CreatedById":21493,"CreatedDateTime":"2012-08-16T02:16:35Z","Content":"\n\u003Cp\u003ERedocking is definitely something for another day. At the moment, I\u0027m exploring the possibilities of being able to detach from the \u0022mothership\u0022 and go elsewhere. If you want to \u0022redock\u0022, you can EVA and sling yourself across the void. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMechJeb offers almost everything I need. The problem is that MechJeb doesn\u0027t have it\u0027s own attitude control, per say. It relies on whatever is available on the ship. So if the ship doesn\u0027t have any built-in attitude control, it just sits there (even though MechJeb lets you \u0022pilot\u0022 it). SmartASS buttons won\u0027t do anything, because there\u0027s nothing on the ship to work with.\u003C/p\u003E\u003Cp\u003EThat\u0027s why the example I gave above relied on RCS and vectoring engines: without them the ship couldn\u0027t turn, even with MechJeb. The problem that trying to steer with only RCS and engine exhaust is very difficult, so I\u0027m interested in developing a plugin to make it easier (ie. giving a part it\u0027s own attitude control).\u003C/p\u003E\n"},{"CreatedByName":"BioSehnsucht","CreatedById":1071,"CreatedDateTime":"2012-08-16T04:18:24Z","Content":"\n\u003Cp\u003ETry sticking a normal SAS unit on there ?\u003C/p\u003E\n"},{"CreatedByName":"claypigeon","CreatedById":21493,"CreatedDateTime":"2012-08-16T15:46:26Z","Content":"\n\u003Cp\u003EJust tried it. A normal SAS does not work. \u003C/p\u003E\u003Cp\u003EI think the trick is I need some way (probably by plugin) for the engine to interpret that rotPower and linPower directives as it does for a regular pod.\u003C/p\u003E\n"},{"CreatedByName":"Luke321","CreatedById":17603,"CreatedDateTime":"2012-09-15T14:42:57Z","Content":"\n\u003Cp\u003Eever tried remotetech? you can make controllable debris with attitute control with the remotetechSAS, dont know maybe it even works with mechjeb.\u003C/p\u003E\n"},{"CreatedByName":"Zool","CreatedById":3152,"CreatedDateTime":"2012-09-15T18:48:18Z","Content":"\n\u003Cp\u003EZoolotac EscapePod does this as well.\u003C/p\u003E\n"},{"CreatedByName":"fusty","CreatedById":39741,"CreatedDateTime":"2012-09-19T18:09:43Z","Content":"\n\u003Cp\u003EHey, check out how ORDA makes it\u0027s stuff move. It \u0027invents\u0027 forces. \u003C/p\u003E\u003Cp\u003EI\u0027ll go look it up and report back.\u003C/p\u003E\u003Cp\u003EEDIT: Ok, so all the ORDA pods and ORDA ASAS use the ORDA_control_pm module and that sets up a torqeFactor of at least 10 if no other torqe device exists (such as that on vanilla pods). He sets this in the OnStart() method, and then references it in the OnFixedUpdate() method with the following to apply the torque\u003C/p\u003E\u003Cp\u003E// apply torque\u003C/p\u003E\u003Cp\u003Efloat pitch = FlightInputHandler.state.pitch;\u003C/p\u003E\u003Cp\u003Efloat roll = FlightInputHandler.state.roll;\u003C/p\u003E\u003Cp\u003Efloat yaw = FlightInputHandler.state.yaw;\u003C/p\u003E\u003Cp\u003EVector3 torque = new Vector3 (-pitch, -roll, -yaw) * torqueFactor;\u003C/p\u003E\u003Cp\u003Evessel.rigidbody.AddRelativeTorque (torque);\u003C/p\u003E\u003Cp\u003ESo grab the input and make a vector and multiply it by your torqueFactor, then apply it to the vessel as a rigid body (from the center of mass I\u0027m guessing).\u003C/p\u003E\u003Cp\u003EDISCLAIMER: I\u0027ve never modded KSP or used Unity. I\u0027m just guessing based on how code usually works.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-19T18:44:38Z\u0022 title=\u002209/19/2012 06:44  PM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 19, 2012\u003C/time\u003E by fusty\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Luke321","CreatedById":17603,"CreatedDateTime":"2012-10-06T14:26:05Z","Content":"\n\u003Cp\u003ETry my MECHSAS module, it has attitude control and is mechjeb controllable!\u003C/p\u003E\u003Cp\u003Eits a part module so you can add it to any part!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/forum/showthread.php/22543-Plugin-Part-0-17-MechSAS-controllable-SAS-for-Mechjeb?p=289965#post289965\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/forum/showthread.php/22543-Plugin-Part-0-17-MechSAS-controllable-SAS-for-Mechjeb?p=289965#post289965\u003C/a\u003E\u003C/p\u003E\n"}]}