{"TopicId":181370,"ForumId":29,"TopicTitle":"Where in the API is the value of G the game is using?","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-01-14T01:44:16Z","PageNum":1,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-01-14T01:44:16Z","Content":"\n\u003Cp\u003E\nI assume KSP *has* to have Newton\u0027s Gravatational Constant, G, somewhere as a constant in the API.\u00A0 But I cannot find it in the PhysicsGlobals, which is where I\u0027d expect a thing like that to be.\n\u003C/p\u003E\n\u003Cp\u003E\nIn kOS I had given up trying to find it and just typed it in myself as a literal value in the kOS C# code, from a Wiki search.\n\u003C/p\u003E\n\u003Cp\u003E\nBut this caused a problem.\u00A0 I did that back before NIST had adjusted the official value of G from 6.67384E-11\u00A0 to 6.67408E-11.\u00A0 And KSP apparently has at some point adapted to using the newer value, and kOS hadn\u0027t.\u00A0 This small difference caused a few users to have kOS scripts with slightly wrong results when trying to be extremely precise in their calculations for things like geostationary orbits, etc.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the right thing to do seems to be NOT to just hardcode the newer value into kOS, but rather to actual read the value that KSP itself is using.\u00A0 After all, inside the KSP universe, it\u0027s the value KSP is using that is more \u0022correct\u0022 and gives the right answers.\n\u003C/p\u003E\n\u003Cp\u003E\nSo far the only thing I\u0027ve got is to find G indirectly, by picking a CelestialBody at random, and taking its gravParameter and dividing out its mass.\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2019-01-15T03:40:36Z","Content":"\n\u003Cp\u003E\nPhysicsGlobals.GravitationalAcceleration\u003Cbr\u003E\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_physics_globals.html#a0a62cc361f9d2388bfb6dc43e192ce50\u0022 ipsnoembed=\u0022true\u0022 rel=\u0022\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_physics_globals.html#a0a62cc361f9d2388bfb6dc43e192ce50\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-01-15T07:54:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522423\u0022 data-ipsquote-contentid=\u0022181370\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547523636\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPhysicsGlobals.GravitationalAcceleration\u003Cbr\u003E\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_physics_globals.html#a0a62cc361f9d2388bfb6dc43e192ce50\u0022 rel=\u0022\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_physics_globals.html#a0a62cc361f9d2388bfb6dc43e192ce50\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWrong G.\n\u003C/p\u003E\n\u003Cp\u003E\nI mean capital G.\u00A0 Not surface gravity, but the \u0022G\u0022 in this formula:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n         m1 m2\nF =  G  _______\n            2\n           r\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2019-01-15T09:50:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522505\u0022 data-ipsquote-contentid=\u0022181370\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547538866\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot surface gravity, but the \u0022G\u0022 in this formula:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP has no need for such formula and does not use it.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-01-15T18:26:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522532\u0022 data-ipsquote-contentid=\u0022181370\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547545824\u0022 data-ipsquote-userid=\u0022133181\u0022 data-ipsquote-username=\u0022Boris-Barboris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Boris-Barboris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP has no need for such formula and does not use it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt still has an implicit G that it\u0027s using, and it switched from 6.67384E-11\u00A0 to 6.67408E-11 at some point in development, using the newer value NIST published more recently.\u00A0 It may be that it *encodes* this G indirectly by embedding it inside the gravitational parameter of each body and never storing it anywhere else independently of that, but it still did change.\u00A0 So the answer is, that it doesn\u0027t exist and I have to compute it by using one of the CelestialBody objects and calculating it backward from that.\u00A0 While it could be that this is how KSP does it, it seems like a weird design choice to have to have a human being \u0022write\u0022 the mass of each body, and then ALSO redundantly write down the gravitational parameter of each body.\u00A0 If G had been stored somewhere globally, then writing the mass of the planet would be sufficient to get its gravitational parameter without having to type that in too.\u00A0 Typing in both mass and mu leaves room for them to disagree with each other if it\u0027s not done right, which is why that\u0027s a very strange decision to do it that way.\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2019-01-15T21:00:57Z","Content":"\n\u003Cp\u003E\nKSP does not use N-Body physics. All planets are on rails. As stated above. Therefore it does not need G in any orbit calculations.\u003Cbr\u003E\nIt stores a gravParameter for each CelestialBody in their Unity prefabs. So, if you want to know what it is you can divide CelestialBody.gravParameter by CelestialBody.mass for any given planet.\u003Cbr\u003E\nIt\u0027s 6.67408e-11 btw.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2019-01-28T20:38:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223522860\u0022 data-ipsquote-contentid=\u0022181370\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221547586057\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/15/2019 at 3:00 PM, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP does not use N-Body physics. All planets are on rails. As stated above. Therefore it does not need G in any orbit calculations.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhich is why nobody writes a kOS script to try to push a planet.\u00A0 We\u0027re not talking about using G to calculate planetary movement.\u00A0 These are scripts that pilot vessels, so of course we\u0027re talking about things happening inside the physics bubble, where it is possible to rotate a vessel and apply thrust to a vessel.\u00A0 The reason for exposing G was that a lot of people were running the standard physics equations about gravity inside their scripts that pilot vessels.\u00A0 Granted, it\u0027s possible to get that information from the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E body\u0027s Mu which has G embedded inside it.\u00A0 But the fact that you *HAD* to because G doesn\u0027t even exist nor is it being enforced to remain constant across the solar system was the part that wasn\u0027t intuitive.\u00A0 Thus I looked for a G because it never occurred to me that the devs wouldn\u0027t actually *want* one and would instead prefer to have to hardcode the ratio of mass to mu on every body as hardcoded values.\u00A0 (I ran a check on each stock body to make sure they kept the ratio of mass to mu consistent across all of them and they do, but it really sounds like you\u0027re saying nothing in the data model checks for or enforces this as a guarantee.\u00A0 Thus someone could design a weird solar system for KSP where in that universe Newton was wrong and G wasn\u0027t really a universal constant - it changes depending on what planet you\u0027re orbiting.)\n\u003C/p\u003E\n"}]}