{"TopicId":132773,"ForumId":29,"TopicTitle":"Need to force all antennas to be retracted","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T14:22:00Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T14:22:00Z","Content":"\n\u003Cp\u003E\nDue to a bug/bad interaction between RT and HyperEdit, deployed antennas are ripped off when hyperediting from the launchpad. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is affecting my sim mod, since I am using the Hyperedit code for this.\n\u003C/p\u003E\n\u003Cp\u003E\nI believe that the following will get me a list of the parts of the vessel: \u00A0FlightGlobals.fetch.activeVessel.GetActiveParts\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll be researching this, but if someone could give me an example, that would be great\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-02-23T15:42:25Z","Content":"\n\u003Cp\u003E\nI don\u0027t know RT module well but I guess :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003EVessel\u003C/span\u003E\u003Cspan\u003E vessel \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003EFlightGlobals\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Efetch\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EactiveVessel\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003Efor\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Eint\u003C/span\u003E\u003Cspan\u003E i \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cspan\u003E0\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E\u003Cspan\u003E i \u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003E vessel\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Eparts\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ECount\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E\u003Cspan\u003E i\u003C/span\u003E\u003Cspan\u003E\u002B\u002B)\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n    \u003C/span\u003E\u003Cspan\u003EPart\u003C/span\u003E\u003Cspan\u003E p \u003C/span\u003E\u003Cspan\u003E=\u003C/span\u003E\u003Cspan\u003E vessel\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003Eparts\u003C/span\u003E\u003Cspan\u003E[\u003C/span\u003E\u003Cspan\u003Ei\u003C/span\u003E\u003Cspan\u003E];\u003C/span\u003E\u003Cspan\u003E\n    foreach \u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EModuleRTAntenna\u003C/span\u003E\u003Cspan\u003E a in p\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EModules\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EOfType\u003C/span\u003E\u003Cspan\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EModuleRTAntenna\u003C/span\u003E\u003Cspan\u003E\u0026gt;())\u003C/span\u003E\u003Cspan\u003E\n    \u003C/span\u003E\u003Cspan\u003E{\u003C/span\u003E\u003Cspan\u003E\n        a\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EEventClose\u003C/span\u003E\u003Cspan\u003E()\u003C/span\u003E\u003Cspan\u003E\n    \u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57164-erendrake/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257164\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57164-erendrake/\u0022\u003E@erendrake\u003C/a\u003E ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-02-23T16:00:13Z","Content":"\n\u003Cp\u003E\nI\u0027ve noticed when HyperEditing a vessel from in atmosphere that the further I\u0027m trying to send it the more like it is to blow up. Occasionally I\u0027ll see a brief glimpse of the craft with re-entry (exit?) effects on its way up. Found it more reliable to hyper edit to low orbit, then to where I want it. Maybe not a RT issue but just that antennas are more fragile than most other parts?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T16:05:06Z","Content":"\n\u003Cp\u003E\nNo, it\u0027s a confirmed thing with RT. \u00A0What happens is that in RT, these antennas are not suitable for atmospheric use, and the hyperedit just instantly rips them off because RT thinks it is moving too fast in the atmosphere\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2016-02-23T18:17:30Z","Content":"\n\u003Cp\u003E\nSO, would\u00A0 a mod like Antenna Range have the same issue?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T18:19:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222426079\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456251450\u0022 data-ipsquote-userid=\u002277721\u0022 data-ipsquote-username=\u0022Stone Blue\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Stone Blue said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSO, would\u00A0 a mod like Antenna Range have the same issue?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think so, but haven\u0027t tested it yet. \u00A0My understanding is that this is an RT thing.\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-02-23T18:27:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222425742\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456237320\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDue to a bug/bad interaction between RT and HyperEdit, deployed antennas are ripped off when hyperediting from the launchpad. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is affecting my sim mod, since I am using the Hyperedit code for this.\n\u003C/p\u003E\n\u003Cp\u003E\nI believe that the following will get me a list of the parts of the vessel: \u00A0FlightGlobals.fetch.activeVessel.GetActiveParts\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll be researching this, but if someone could give me an example, that would be great\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEdit the antennas cfg and take out\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E%MaxQ = ********\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nsure do what you want\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T18:45:45Z","Content":"\n\u003Cp\u003E\nI\u0027m sorry, you don\u0027t understand what I\u0027m doing.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve written a mod, which will do simulations. \u00A0A simulation can start on the launchpad/runway, in orbit around any body, or landed on any body.\n\u003C/p\u003E\n\u003Cp\u003E\nA tester found this problem when he created a small probe, set the antenna to be extended at launch, and tried to do a simulation starting in orbit. \u00A0Due to the way KSP does physics, the simulation first starts on the launchpad, then teleports the craft to the desired orbit. \u00A0If the sim is a landed sim, it then teleports the craft to a short distance above the surface of the body. \u00A0This is based on the Hyperedit code, and this problem also occurs if you use hyperedit to move a craft.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the antenna is set to start\u00A0extended on the launchpad, the RT code thinks that the teleport exceeds the speed at which the antenna would be ripped off in atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, what I am trying to do is to have some code which will tell all antennas to start retracted (or to retract on the launchpad) to avoid this problem. \u00A0It would be nice if I could also then extend the antennas after teleporting to allow RT connectivity.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is only a problem with RT (I haven\u0027t yet tested AntennaRange). \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf I can\u0027t solve this, then I\u0027ll just have to create a dialog to remind people that antennas need to be retracted before starting the simulation, but I\u0027d rather avoid that, if possible.\n\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2016-02-23T19:13:08Z","Content":"\n\u003Cp\u003E\nI wouldn\u0027t bother fiddling with the animations. Just disable the antenna script itself temporarily (ModuleRTAntenna.enabled = false) while you move it so it doesn\u0027t get the FixedUpdate that is causing it to destroy itself\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-02-23T22:00:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222426134\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456253145\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m sorry, you don\u0027t understand what I\u0027m doing.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve written a mod, which will do simulations. \u00A0A simulation can start on the launchpad/runway, in orbit around any body, or landed on any body.\n\u003C/p\u003E\n\u003Cp\u003E\nA tester found this problem when he created a small probe, set the antenna to be extended at launch, and tried to do a simulation starting in orbit. \u00A0Due to the way KSP does physics, the simulation first starts on the launchpad, then teleports the craft to the desired orbit. \u00A0If the sim is a landed sim, it then teleports the craft to a short distance above the surface of the body. \u00A0This is based on the Hyperedit code, and this problem also occurs if you use hyperedit to move a craft.\n\u003C/p\u003E\n\u003Cp\u003E\nIf the antenna is set to start\u00A0extended on the launchpad, the RT code thinks that the teleport exceeds the speed at which the antenna would be ripped off in atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, what I am trying to do is to have some code which will tell all antennas to start retracted (or to retract on the launchpad) to avoid this problem. \u00A0It would be nice if I could also then extend the antennas after teleporting to allow RT connectivity.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is only a problem with RT (I haven\u0027t yet tested AntennaRange). \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf I can\u0027t solve this, then I\u0027ll just have to create a dialog to remind people that antennas need to be retracted before starting the simulation, but I\u0027d rather avoid that, if possible.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDid you try it ?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T22:33:51Z","Content":"\n\u003Cp\u003E\nTry what? \u00A0I confirmed the issue with RT. \u00A0I haven\u0027t yet tested with antenna range, will do that later this evening\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-23T23:54:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222426532\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456266831\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTry what? \u00A0I confirmed the issue with RT. \u00A0I haven\u0027t yet tested with antenna range, will do that later this evening\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem does not happen with AntennaRange, only with RT\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-24T11:37:47Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EI just opened an issue on this, with a proposed fix,\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/RemoteTechnologiesGroup/RemoteTech/issues/528\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(60,105,148);text-decoration:underline;font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003Ehttps://github.com/RemoteTechnologiesGroup/RemoteTech/issues/528\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-02-24T18:57:58Z","Content":"\n\u003Cp\u003E\nYou might not want to edit the actual part config to remove the MaxQ value, but since it is a KSPField you could just cache all of the values for loaded modules, set them to -1, then set them back after you have finished moving the vessel. It seems like the least invasive method without any action from RT.\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2016-02-24T19:13:14Z","Content":"\n\u003Cp\u003E\nYes you can make a MM to take out MaxQ=****\u00A0 and all is good don\u0027t know why you would try or want to make a plugin to do something that MM can do\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2016-02-24T19:15:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222427884\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456341194\u0022 data-ipsquote-userid=\u002296203\u0022 data-ipsquote-username=\u0022MeCripp\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, MeCripp said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes you can make a MM to take out MaxQ=****\u00A0 and all is good don\u0027t know why you would try or want to make a plugin to do something that MM can do\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRead my post above, which you replied to. \u00A0Making a MM patch is intrusive into other mods, this is a SIMULATION mod, and will only run when requested. \u00A0A MM patch is global to the game\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222427850\u0022 data-ipsquote-contentid=\u0022132773\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456340278\u0022 data-ipsquote-userid=\u002257416\u0022 data-ipsquote-username=\u0022DMagic\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, DMagic said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou might not want to edit the actual part config to remove the MaxQ value, but since it is a KSPField you could just cache all of the values for loaded modules, set them to -1, then set them back after you have finished moving the vessel. It seems like the least invasive method without any action from RT.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is an interesting idea, but...\n\u003C/p\u003E\n\u003Cp\u003E\nI was looking at the RT code, and found where the problem is. \u00A0I think it is actually a bug in RT. \u00A0It\u0027s an edge case, so most of the time it won\u0027t be apparent. \u00A0Hyperedit and my mod (KRASH) both are in the edge case.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI created an issue on Github for this, detailing the problem and a proposed solution, will wait to see what the RT people say. \u00A0For now, I\u0027ll just note in the instructions that if RT is being used, that all antennas should be retracted before starting the sim.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/RemoteTechnologiesGroup/RemoteTech/issues/528\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/RemoteTechnologiesGroup/RemoteTech/issues/528\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-24T19:20:13Z\u0022 title=\u002202/24/2016 07:20  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 24, 2016\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"}]}