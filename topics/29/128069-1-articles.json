{"TopicId":128069,"ForumId":29,"TopicTitle":"Can I set isp as a function of velocity?","CreatedByName":"JediMasterSterling1","CreatedById":155361,"CreatedDateTime":"2015-12-17T21:53:01Z","PageNum":1,"Articles":[{"CreatedByName":"JediMasterSterling1","CreatedById":155361,"CreatedDateTime":"2015-12-17T21:53:01Z","Content":"\n\u003Cp\u003E\nI\u0027m altering the config file of an electric propeller engine. It previously would either not get off the ground, or get all the way to orbit. So it needed a reality check.\n\u003C/p\u003E\n\u003Cp\u003E\nThe physics of a propeller are such that without the compressor\u00A0jets\u00A0have efficiency drops off\u00A0almost linearly with pressure, and also as the propeller blades exceed the speed of sound they become drag devices rather than lift devices. A standard base line seems to be a supersonic buzzing starting at around mach 0.85, net trust dropping to 0 by about\u00A0mach 0.90 and thrust going negative past that.\n\u003C/p\u003E\n\u003Cp\u003E\nAltering the forces is pretty easy using atmCurve{} and velCurve{}. Making sure the engine still draws power is a bit more difficult.\n\u003C/p\u003E\n\u003Cp\u003E\nI solved the problem with atmosphere drop off by using atmosphereCurve{} like so.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\t\tname = ModuleEnginesFX\n\t\t...\n\n\t\tatmosphereCurve\n\t\t{\n\t\t\tkey = 0 800 0 1000000\n\t\t\tkey = 0.000001 0 0 0.3012048\n\t\t\tkey = 0.5 789.496 0.02686068 0.02686068\n\t\t\tkey = 20 960 0 0\n\t\t}\n\n\t\t// Jet params\n\t\t...\n\n\t\tatmCurve\n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 0.000001 0 0 0.3012048\n\t\t\tkey = 0.5 0.98687 0.02686068 0.02686068\n\t\t\tkey = 20 1.2 0 0\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSo that force and efficiency drop at the same time and\u00A0at the same rate.\n\u003C/p\u003E\n\u003Cp\u003E\nI would like to do the same thing with velocity.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s what I tried:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\t\tname = ModuleEnginesFX\n\t\t...\n\n\t\tvelocityCurve\n\t\t{\n\t\t\tkey = 0 600 0 0\n\t\t\tkey = 0.5 800 0 0\n\t\t\tkey = 0.85 400 -2.125082 -29.05206\n\t\t\tkey = 1 800 0 0\n\t\t}\n\n\t\t// Jet params\n\t\t...\n\n\t\tvelCurve\n\t\t{\n\t\t\tkey = 0 0.75 0 0\n\t\t\tkey = 0.5 1 0 0\n\t\t\tkey = 0.85 0.5 -2.125082 -29.05206\n\t\t\tkey = 1 -1 0 0\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBut the game doesn\u0027t recognize velocityCurve{} as anything even though I\u0027m fairly sure I\u0027ve seen it used before. (can\u0027t remember where)\n\u003C/p\u003E\n\u003Cp\u003E\nAs is the game follows velCurve{} by changing the flow of electricity rather than engine efficiency. However it makes no sense to have the propeller tips experiencing extreme supersonic drag at mach 0.90 but not requiring any power to keep moving and even less sense to have the propeller creating drag similar to a 1m parachute at mach 1\u00A0and actually be producing electricity.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there something small I\u0027m missing in syntax, am I way off the mark, or is this idea impossible using base game mechanics?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the whole module:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nMODULE\n{\n\tname = ModuleEnginesFX\n\tthrustVectorTransformName = thrustTransform\n\texhaustDamage = False\n\tignitionThreshold = 0.1\n\tminThrust = 0\n\tmaxThrust = 50\n\theatProduction = 8\n\tuseEngineResponseTime = True\n\tengineAccelerationSpeed = 20\n\tengineDecelerationSpeed = 20\n\t//useVelocityCurve = True\n\tEngineType = Turbine\n\tPROPELLANT\n\t{\n\t\tname = ElectricCharge\n\t\tratio = 0.4\n\t\tDrawGauge = True\n\t}\n\tPROPELLANT\n\t{\n\t\tname = FSCoolant\n\t\tignoreForIsp = True\n\t\tratio = 0.01\n\t}\n    \tatmosphereCurve\n    \t{\n\t\tkey = 0 800 0 1000000\n\t\tkey = 0.000001 0 0 0.3012048\n\t\tkey = 0.5 789.496 0.02686068 0.02686068\n\t\tkey = 20 960 0 0\n    \t}\n\n\t\t// Jet params\n\t\tatmChangeFlow = False\n\t\tuseVelCurve = True\n\t\tuseAtmCurve = True\n\t\tflameoutBar = 0.001\n\t\tflowCapMult = 1.0\n\t\tmachHeatMult = 10\n\n\t\tatmCurve\n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 0.000001 0 0 0.3012048\n\t\t\tkey = 0.5 0.98687 0.02686068 0.02686068\n\t\t\tkey = 20 1.2 0 0\n\t\t}\n\t\tvelCurve\n\t\t{\n\t\t\tkey = 0 0.75 0 0\n\t\t\tkey = 0.5 1 0 0\n\t\t\tkey = 0.85 0.5 -2.125082 -29.05206\n\t\t\tkey = 1 -1 0 0\n\t\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-18T13:11:55Z","Content":"\n\u003Cp\u003E\nIt is \u0022velCurve\u0022 and you need to add \u0022useVelCurve = true\u0022 in the engine module config. you also have\u00A0velCurveIsp with\u00A0useVelCurveIsp = true\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-12-18T19:06:35Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/128027-isp-dependent-on-velocity/#comment-2327453\u0022\u003EAnswered here.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBesides, this isn\u0027t a plugin dev question, it\u0027s cfg work. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}