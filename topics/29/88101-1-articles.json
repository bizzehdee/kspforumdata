{"TopicId":88101,"ForumId":29,"TopicTitle":"Help with quaternion multiplication","CreatedByName":"pixartist","CreatedById":67922,"CreatedDateTime":"2014-10-21T14:23:31Z","PageNum":1,"Articles":[{"CreatedByName":"pixartist","CreatedById":67922,"CreatedDateTime":"2014-10-21T14:23:31Z","Content":"\n\u003Cp\u003EI have finally managed to convert absolute quaternions to navball quaternions like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic Quaternion ReferenceToWorld(Quaternion localRotation, FrameOfReference reference)\u003Cbr\u003E        {\u003Cbr\u003E            switch (reference)\u003Cbr\u003E            {\u003Cbr\u003E                case FrameOfReference.Navball:\u003Cbr\u003E                    return (OrbitalOrientation * localRotation) * Quaternion.Euler(90, 0, 0);\u003Cbr\u003E                default:\u003Cbr\u003E                    return Quaternion.identity;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        public Quaternion WorldToReference(Quaternion worldRotation, FrameOfReference reference)\u003Cbr\u003E        {\u003Cbr\u003E            switch (reference)\u003Cbr\u003E            {\u003Cbr\u003E                case FrameOfReference.Navball:\u003Cbr\u003E                    return (Quaternion.Inverse(OrbitalOrientation) * worldRotation) * Quaternion.Inverse(Quaternion.Euler(90, 0, 0));\u003Cbr\u003E                default:\u003Cbr\u003E                    return Quaternion.identity;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow I would like to do the same conversion with vector3s. The problem I have is, I can\u0027t apply the Quaternion.Euler(90, 0, 0) last, because you can not multiplay Vector3 * Quaternion. How would I have to rearrange this in order to keep the result but have the local/world rotation last in the multiplication order ?\u003C/p\u003E\n"},{"CreatedByName":"S1gmoid","CreatedById":124382,"CreatedDateTime":"2014-10-21T14:44:36Z","Content":"\n\u003Cp\u003EI\u0027m not sure I understand what you are trying to do. A Vector3 that contain Euler rotations, or a Vector3 that contains a unit vector in 3-space?\u003C/p\u003E\n"},{"CreatedByName":"pixartist","CreatedById":67922,"CreatedDateTime":"2014-10-21T15:06:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022S1gmoid\u0022 data-cite=\u0022S1gmoid\u0022\u003E\u003Cdiv\u003EI\u0027m not sure I understand what you are trying to do. A Vector3 that contain Euler rotations, or a Vector3 that contains a unit vector in 3-space?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA direction vector, e.g. unit vector in space coords.\u003C/p\u003E\n"},{"CreatedByName":"ratchet freak","CreatedById":119895,"CreatedDateTime":"2014-10-21T19:58:05Z","Content":"\n\u003Cp\u003Eyou can apply the rotation to the vector, (you know it\u0027s why the quaternion is even there: represent a rotation \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\n"}]}