{"TopicId":142938,"ForumId":29,"TopicTitle":"[SOLVED] How to toggle \u0026quot;stagingEnabled\u0026quot; with plugin code? Answer: you don\u0026#039;t need to","CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-07-01T22:40:09Z","PageNum":1,"Articles":[{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-07-01T22:40:09Z","Content":"\n\u003Cp\u003E\nHi, all,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nStill working on my \u003Cabbr title=\u0022Launch Escape System\u0022\u003E\u003Cabbr title=\u0022Launch Escape System\u0022\u003ELES\u003C/abbr\u003E\u003C/abbr\u003E plugin here. \u00A0I\u0027d like to give users the option to jettison the \u003Cabbr title=\u0022Launch Escape System\u0022\u003E\u003Cabbr title=\u0022Launch Escape System\u0022\u003ELES\u003C/abbr\u003E\u003C/abbr\u003E either with a command from an action group, or by staging the decoupler and jettison engine.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E        // is \u003Cabbr title=\u0022Launch Escape System\u0022\u003E\u003Cabbr title=\u0022Launch Escape System\u0022\u003ELES\u003C/abbr\u003E\u003C/abbr\u003E jettison action stage-able?\n        [KSPField(isPersistant = true, guiActive = false, guiActiveEditor = true, guiName = \u0022Jettison is staged?\u0022 ), \n         UI_Toggle(disabledText = \u0022No\u0022, enabledText = \u0022Yes\u0022)]\n        bool isJettisonStageable = false;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand then I have code called in OnStart that goes and finds the relevant ModuleDecouple on the part and calls the following, passing isJettisonStageable to the method:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E        internal void SetDecoupleStaged(bool isStaged)\n        {\n            if (_escapeDecoupler != null)\n            {\n                _escapeDecoupler.SetStaging(isStaged);\n                Debug.Log(string.Format(\u0022{0} set Decoupler.IsStageable to {1}\u0022, _myModTag, _escapeDecoupler.IsStageable()));\n            }\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, when I switch it to \u0022Yes\u0022 or load a craft that has the part with it set to \u0022Yes\u0022 \u00A0the decoupler does not appear in the staging menu.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat do I need to do?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-05T17:25:51Z\u0022 title=\u002207/05/2016 05:25  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 5, 2016\u003C/time\u003E by Kurld\u003C/strong\u003E\n\u003Cbr\u003Esolved!\n\u003C/span\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-07-05T17:23:29Z","Content":"\n\u003Cp\u003E\nOK, somehow I just missed that you can do what I want with some simple config file changes. \u00A0Inside the ModuleEnginesFx in question just set:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\tstagingEnableText = Jettison Engine: Enable Staging\n\t\tstagingDisableText = Jettison Engine: Disable Staging\n\t\tstagingToggleEnabledEditor = True\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThere was already, of course already a toggle provided by the game for the ModuleDecoupler.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat this all tells me is that\u00A0I need to actually \u003Cem\u003Eplay\u003C/em\u003E this game every once in a while\u00A0instead of getting fixated on this mod!\n\u003C/p\u003E\n"}]}