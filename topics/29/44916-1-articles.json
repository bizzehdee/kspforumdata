{"TopicId":44916,"ForumId":29,"TopicTitle":"Action Group Activation","CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-04T14:07:16Z","PageNum":1,"Articles":[{"CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-04T14:07:16Z","Content":"\n\u003Cp\u003EIs there a method to activate action group? Something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid actionGroupActivate(string name);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Michael Kim","CreatedById":38782,"CreatedDateTime":"2013-09-04T14:38:23Z","Content":"\n\u003Cp\u003EVessel.ActionGroups.SetGroup(KSPActionGroup, bool)\u003C/p\u003E\n"},{"CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-04T18:17:29Z","Content":"\n\u003Cp\u003EThanks Michael!\u003C/p\u003E\u003Cp\u003E\u00C3\u00C2\u00A2o avoid doing a lot of topics, I\u0027ll ask here: is there a method that returns true or false, depending on lightness?\u003C/p\u003E\n"},{"CreatedByName":"Michael Kim","CreatedById":38782,"CreatedDateTime":"2013-09-05T12:26:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerbOrbiter\u0022 data-cite=\u0022KerbOrbiter\u0022\u003E\u003Cdiv\u003Edepending on lightness?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat exactly does this mean?\u003C/p\u003E\u003Cp\u003EFor action groups, you can also use the indexer, and it is { get; set; }\u003C/p\u003E\u003Cp\u003ELike this:\u003C/p\u003E\u003Cp\u003EVessel.ActionGroups[KSPActionGroup]\u003C/p\u003E\n"},{"CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-05T12:45:27Z","Content":"\n\u003Cp\u003EI mean that when the part / vessel illuminated by the Sun, the method returns true, and vice versa.\u003C/p\u003E\n"},{"CreatedByName":"Michael Kim","CreatedById":38782,"CreatedDateTime":"2013-09-06T14:04:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KerbOrbiter\u0022 data-cite=\u0022KerbOrbiter\u0022\u003E\u003Cdiv\u003EI mean that when the part / vessel illuminated by the Sun, the method returns true, and vice versa.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure but I don\u0027t think there\u0027s a method specifically doing that, since lighting of a part is handled directly to the part model instead of the part as a whole.\u003C/p\u003E\u003Cp\u003EI don\u0027t have a good idea how to do what you want - it would require some knowledge on Unity Engine - but I did find something that might be helpful: \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/Light.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/Documentation/ScriptReference/Light.html\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-07T15:48:56Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSP;\u003Cbr\u003E\u003Cbr\u003Epublic class ModuleAutomatedLight : PartModule\u003Cbr\u003E{\u003Cbr\u003E\tbool isActive;\u003Cbr\u003E\u003Cbr\u003E\tpublic override void OnAwake()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tDebug.Log(\u0022Part with ModuleAutomatedLight succesfully loaded.\u0022);\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tpublic override void OnUpdate ()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tisActive = false;\u003Cbr\u003E\t\tif (isActive == false \u0026amp;\u0026amp; FlightIntegrator.underDirectSunlight == true)   //error!\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tVessel.ActionGroups.SetGroup(KSPActionGroup.Light, true);   //error!\u003Cbr\u003E\t\t\tisActive = true;\u003Cbr\u003E\t\t}else if (isActive == true \u0026amp;\u0026amp; FlightIntegrator.underDirectSunlight == false)   //error!\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tVessel.ActionGroups.SetGroup(KSPActionGroup.Light, false);   //error!\u003Cbr\u003E\t\t\tisActive = false;\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMono returns 4 errors to me. I did not write errors because MonoDevelop wrote them in Russian. Why, I do not know.\u003C/p\u003E\n"},{"CreatedByName":"Michael Kim","CreatedById":38782,"CreatedDateTime":"2013-09-09T04:14:16Z","Content":"\n\u003Cp\u003EOh man...\u003C/p\u003E\u003Cp\u003EI wrote \u0022Vessel\u0022 because it\u0027s the class name. You need to use the object. Should be \u0022vessel\u0022 here\u003C/p\u003E\u003Cp\u003ESame with FlightIntegrator, it is a class. The object should be (haven\u0027t tried) vessel.flightIntegrator\u003C/p\u003E\u003Cp\u003EI would suggest you learn more about C# before writing a plugin. And get an English version of C# compiler so that you know what happens when you get an error.\u003C/p\u003E\n"},{"CreatedByName":"KerbOrbiter","CreatedById":58103,"CreatedDateTime":"2013-09-09T11:44:30Z","Content":"\n\u003Cp\u003EThank you again! I\u0027m just doing this plugin at leisure using my Java knowledge and a bit of knowledge about C #, so I\u0027m now just learn the language.\u00C3\u2018\u00C2\u003C/p\u003E\u003Cp\u003EI know what compiler writes me, I\u0027m just talking in Russian.\u003C/p\u003E\n"},{"CreatedByName":"RCSub","CreatedById":82870,"CreatedDateTime":"2013-09-16T15:32:26Z","Content":"\n\u003Cp\u003EHi everybody\u003C/p\u003E\u003Cp\u003EFor some time, I have wanted a \u0022solar wind sail\u0022 for deep space missions, but in my attempt to create it (by extending ModuleDeployableSolarPanel), I have ran into the problem, that KSP won\u0027t allow me to modify the ships speed when warping is active, neither through directly modifying rigidbody.velocity or by rigidboyd.AddForce.\u003C/p\u003E\u003Cp\u003EThe solar sail should barely produce any force, so any speed change would be very slow.\u003C/p\u003E\u003Cp\u003EDoes anyone have any suggestions, except not warping?\u003C/p\u003E\u003Cp\u003EBest regards \u003C/p\u003E\u003Cp\u003ERCSub\u003C/p\u003E\n"},{"CreatedByName":"Michael Kim","CreatedById":38782,"CreatedDateTime":"2013-09-17T01:23:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RCSub\u0022 data-cite=\u0022RCSub\u0022\u003E\u003Cdiv\u003EHi everybody\u003Cp\u003EFor some time, I have wanted a \u0022solar wind sail\u0022 for deep space missions, but in my attempt to create it (by extending ModuleDeployableSolarPanel), I have ran into the problem, that KSP won\u0027t allow me to modify the ships speed when warping is active, neither through directly modifying rigidbody.velocity or by rigidboyd.AddForce.\u003C/p\u003E\u003Cp\u003EThe solar sail should barely produce any force, so any speed change would be very slow.\u003C/p\u003E\u003Cp\u003EDoes anyone have any suggestions, except not warping?\u003C/p\u003E\u003Cp\u003EBest regards \u003C/p\u003E\u003Cp\u003ERCSub\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerhaps you can do some maths with the orbit. Never tried myself, so don\u0027t ask me how to do it, but I think you may find the source code of HyperEdit interesting\u003C/p\u003E\n"},{"CreatedByName":"JDP","CreatedById":30775,"CreatedDateTime":"2013-09-17T02:31:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RCSub\u0022 data-cite=\u0022RCSub\u0022\u003E\u003Cdiv\u003EHi everybody\u003Cp\u003EFor some time, I have wanted a \u0022solar wind sail\u0022 for deep space missions, but in my attempt to create it (by extending ModuleDeployableSolarPanel), I have ran into the problem, that KSP won\u0027t allow me to modify the ships speed when warping is active, neither through directly modifying rigidbody.velocity or by rigidbo[dy].AddForce.\u003C/p\u003E\u003Cp\u003EThe solar sail should barely produce any force, so any speed change would be very slow.\u003C/p\u003E\u003Cp\u003EDoes anyone have any suggestions, except not warping?\u003C/p\u003E\u003Cp\u003EBest regards \u003C/p\u003E\u003Cp\u003ERCSub\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAFAIK all rigidbodies whithin a vessel will be kinematic while timewarping (except if you use physics timewarp), hence physics will not be applied to the vessel while timewarping.\u003C/p\u003E\u003Cp\u003EYou could possibly modify the orbit directly. You could calculate acceleration from the vessel mass and whatever force the sail should apply.\u003C/p\u003E\u003Cp\u003EI quickly threw together a small proof of concept plugin, you can view the source \u003Ca href=\u0022https://gist.github.com/JDPKSP/6589153\u0022 rel=\u0022external nofollow\u0022\u003Ehere.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESince the sail wont be generating power, you don\u0027t need to be running all the stuff in ModuleDeployableSolarPanel, so I just extended ModuleAnimateGeneric and did the obstruction detection and area-facing-the-sun calculations myself.\u003C/p\u003E\u003Cp\u003ENote that the plugin I\u0027ve linked is very much something I threw together, I haven\u0027t tested it in-game, so it might very well have some bugs, and modifying the orbit velocity in the way I\u0027ve done was just an idea, I don\u0027t really know whether it will work or not (it might be entirely impossible or, more likely, something different/more needs to be done with the orbit). Maybe you\u0027ll be able to get a couple of hints from the HyperEdit source.\u003C/p\u003E\n"}]}