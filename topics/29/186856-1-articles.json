{"TopicId":186856,"ForumId":29,"TopicTitle":"Accessing Rigidbodies [SOLVED]","CreatedByName":"Tompete Kerman","CreatedById":157671,"CreatedDateTime":"2019-07-31T01:35:10Z","PageNum":1,"Articles":[{"CreatedByName":"Tompete Kerman","CreatedById":157671,"CreatedDateTime":"2019-07-31T01:35:10Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to canabalize flywlyx\u0027s GN Drive Mod to re-create an Anti-Grav mod I made a few years ago, but I think there\u0027s been a Unity update since then that\u0027s messed with what works.\u003Cbr\u003E\u003Cbr\u003E\nThe issue I\u0027m having it with it is related to this code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eforeach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E p in \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Ethis\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Evessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eparts\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ep\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EphysicalSignificance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPhysicalSignificance\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EFULL\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ep\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Erigidbody \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E!=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E null\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E))\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                    p\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Erigidbody\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAddForce\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(-\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Egee \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E p\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Erigidbody\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emass\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt\u0027s telling me that there is no lowercase \u0022rigidbody\u0022 in Parts, but trying uppercase Rigidbody, RigidBodyPart, or rb all don\u0027t have the desired effect.\u003Cbr\u003E\u003Cbr\u003E\nI even tried downloading the original GN drive mod to see if that\u0027s broken, but that works fine.\u003Cbr\u003E\u003Cbr\u003E\nCan anyone sleuth out what I\u0027m doing wrong? I\u0027m running Visual Studio 2017, Framework set to 3.5, and the class I\u0027m building has inherited from PartModule.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-08-01T19:53:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223643601\u0022 data-ipsquote-contentid=\u0022186856\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221564536910\u0022 data-ipsquote-userid=\u0022157671\u0022 data-ipsquote-username=\u0022Tompete Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/30/2019 at 7:35 PM, Tompete Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s telling me that there is no lowercase \u0022rigidbody\u0022 in Parts, but trying uppercase Rigidbody, RigidBodyPart, or rb all don\u0027t have the desired effect.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe GameObject.rigidbody get method was removed in a (semi) recent Unity update.\u00A0 You instead need to pull a reference to the component with GetComponent().\n\u003C/p\u003E\n\u003Cp\u003E\nE.G.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ERigidbody rb = part.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;RigidBody\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nCache the results if you need access more than once, as it is fairly expensive to use getComponent every frame.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 check the casing on my example; I don\u0027t remember if its \u0027Rigidbody\u0027 or RigidBody\u0027... but it is only one of those...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-08-01T19:54:10Z\u0022 title=\u002208/01/2019 07:54  PM\u0022 data-short=\u00224 yr\u0022\u003EAugust 1, 2019\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2019-08-02T17:38:40Z","Content":"\n\u003Cp\u003E\nThe Part class has a rb\u00A0property. For example, you can access it in a PartModule like this:\n\u003C/p\u003E\n\u003Cp\u003E\nRigidbody rb = part.rb;\n\u003C/p\u003E\n\u003Cp\u003E\nIt is null for physicsless parts.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-08-02T17:39:08Z\u0022 title=\u002208/02/2019 05:39  PM\u0022 data-short=\u00224 yr\u0022\u003EAugust 2, 2019\u003C/time\u003E by peteletroll\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tompete Kerman","CreatedById":157671,"CreatedDateTime":"2019-08-03T03:08:12Z","Content":"\n\u003Cp\u003E\nTurns out the solution was to actually run everything in FixedUpdate in stead of overriding onFixedUpdate, and to drop any reference to rigidbody, like so:\n\u003C/p\u003E\n\u003Cpre style=\u0022border:1px solid #888888;color:#353c41;font-size:14px;padding:2px;\u0022\u003E\n\u003Cspan style=\u0022color:#660066;\u0022\u003Ep.AddForce\u003C/span\u003E\u003Cspan style=\u0022color:#666600;\u0022\u003E(-\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003Egee \u003C/span\u003E\u003Cspan style=\u0022color:#666600;\u0022\u003E*\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E p\u003C/span\u003E\u003Cspan style=\u0022color:#666600;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003Emass\u003C/span\u003E\u003Cspan style=\u0022color:#666600;\u0022\u003E)\u003C/span\u003E\u003C/pre\u003E\n"}]}