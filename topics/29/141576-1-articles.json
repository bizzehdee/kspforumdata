{"TopicId":141576,"ForumId":29,"TopicTitle":"How to simulate aero of deployable canards? [SOLVED]","CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-06-10T21:30:28Z","PageNum":1,"Articles":[{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-06-10T21:30:28Z","Content":"\n\u003Cp\u003E\nI\u0027ve been working on my \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/106518-112-pebkac-industries-launch-escape-system-20160430/\u0022 rel=\u0022\u0022\u003ELaunch Escape System\u003C/a\u003E\u00A0again. It\u0027s modeled after the one from the Apollo spacecraft.\u00A0I have revised the nose-cone part to have animated canards.\u00A0I created the part and animation in Blender and imported that\u00A0to Unity.\u00A0The animation simply rotates the two child objects around their two axes (I don\u0027t have any rigging in other words).\u00A0Then\u00A0I\u00A0wrote a simple plugin to listen for the Abort action, and to deploy the canards (activate the animation)\u00A0after 11 seconds.\u00A0 Everything so far is working the way I want:\u00A0 I abort, and 11 seconds later the canards pop out.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I am still really confused about is how to simulate the actual aerodynamics of the canards.\u00A0 In real life, when the canards\u00A0deployed, they shifted the center of pressure of the escaping\u00A0CM\u00A0such that it became aft of the center of mass and thus the\u00A0CM re-oriented so that it was pointed retrograde.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried fooling around with the drag cubes for the nosecone, vastly increasing the\u00A0area and coefficient of drag of the \u0022deployed\u0022 state of the\u00A0part in the X dimension, hoping it would act like a big lollipop and catch enough of the airstream to cause the CM to flop around the Z axis, but that didn\u0027t seem to work.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve also tried dynamically adding a ModuleLiftingSurface to the part, but that didn\u0027t seem to work either.\u00A0I don\u0027t ever see any lift when I turn on the aero overlays.\u00A0 If I had been smart enough to copy down the code I tried I would paste it here.\u00A0But I wasn\u0027t that smart and now I don\u0027t remember where I copy-pasted that code from.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMy next guess is having some kind of control surface, which is, of course what\u00A0a canard is.\u00A0\u003C/strong\u003E I just don\u0027t understand what I need to do next, or even if it is possible.\u00A0Most of what I\u0027ve seen in these forums is for control surfaces that respond to user input.\u00A0I don\u0027t need that... I need something that either generates no lift, or else, once deployed, is locked into a specific orientation.\u00A0Which to me is what\u00A0a wing does. But like I say, I couldn\u0027t figure out how to make that work.\n\u003C/p\u003E\n\u003Cp\u003E\nCan anybody point me (and my CM...)\u00A0in the right direction?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-11T16:45:42Z\u0022 title=\u002206/11/2016 04:45  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 11, 2016\u003C/time\u003E by Kurld\u003C/strong\u003E\n\u003Cbr\u003Esolved!\n\u003C/span\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-06-11T16:44:26Z","Content":"\n\u003Cp\u003E\nOK, I figured out I had the part oriented wrong to work as a wing. \u00A0Once I got the Z-axis\u00A0pointing the direction I want the lift, things started to gel. \u00A0I have a ModuleLiftingSurface on the part with\u00A0deflectionLiftCoeff = 0. \u00A0Then at the point where the deployment occurs, the plugin code\u00A0sets that value\u00A0to 1 (arbitrary) and now the part flops around like I want it to.\n\u003C/p\u003E\n\u003Cp\u003E\nPart cfg:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = ModuleLiftingSurface\n\t\tuseInternalDragModel = False\n\t\tdeflectionLiftCoeff = 0\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nplugin code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E        private void DeployCanards()\n        {\n            _hasDeployed = true;\n            Debug.Log(\u0022PEBKAC LES deploying canards\u0022);\n\n            // start the animation\n            if (_deployAnimation != null)\n            {\n                _deployAnimation.Toggle();  \n            }\n\n            // update the ModuleLiftingSurface\n            if (_liftingSurface != null)\n            {\n                _liftingSurface.deflectionLiftCoeff = 1f;\n                _liftingSurface.useInternalDragModel = true;\n            }\n\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"flywlyx","CreatedById":64436,"CreatedDateTime":"2016-06-17T20:39:11Z","Content":"\n\u003Cp\u003E\nDoes it works with FAR?\n\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-06-23T12:21:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222635293\u0022 data-ipsquote-contentid=\u0022141576\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466195951\u0022 data-ipsquote-userid=\u002264436\u0022 data-ipsquote-username=\u0022flywlyx\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn June 17, 2016 at 4:39 PM, flywlyx said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes it works with \u003Cabbr title=\u0022Ferram Aeronautics Research (mod)\u0022\u003EFAR\u003C/abbr\u003E?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t use \u003Cabbr title=\u0022Ferram Aeronautics Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, so I have no evidence either way.\u00A0Assuming it doesn\u0027t mess with the implementation of ModuleLiftingSurface, I\u0027d expect it to work.\n\u003C/p\u003E\n"}]}