{"TopicId":113357,"ForumId":29,"TopicTitle":"Drawing before celestial bodies?","CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-18T19:55:02Z","PageNum":1,"Articles":[{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-18T19:55:02Z","Content":"Hi everyone,\n\nanother question for the experts out there, is there a way to draw something after the skybox has been drawn but before the celestial bodies are drawn? Currently I only know about the two functions RenderingManager.AddToPreDrawQueue and AddToPostDrawQueue. The PreDraw gets my stuff drawn before most of the gui level stuff, but even with first parameter -1 I can\u0027t get it to draw before the planets (so that it has the visual effect of being behind the planet). Anyone know the answer or know a mod where I might find it? I tried Distant Object Enhancement, but couldn\u0027t find any answers there...\n\nAny help would be appreciated!"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-18T21:04:28Z","Content":"That\u0027s because the draw queues are part of OnGUI (UI elements), not the scene rendering. One of the functions in the scene rendering section of [MonoBehaviour](http://docs.unity3d.com/Manual/ExecutionOrder.html) is much more likely to be what you are after"},{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-20T12:38:26Z","Content":"Ok, so I added a function like this to my PartModule:\n\npublic void OnPreRender()\n\n {\n\n Util.log (\u0022OnPreRender\u0022);\n\n DrawObjs ();\n\n }\n\n}\n\nbut it never gets called (no log text). How do I get the function to be called?\n\nSegmentation"},{"CreatedByName":"SegmentationViolation","CreatedById":144883,"CreatedDateTime":"2015-06-20T13:37:19Z","Content":"Ok, if I do\n\nCamera.main.gameObject.AddComponent (typeof(MyPart));\n\nin my OnStart then OnPreRender gets called, but I can\u0027t see the effects of it drawing anything. In the log file I get thousands of these now:\n\nDrawGUITexture: texture is null\n\n(Filename: Line: 487)\n\n[MyProject.MyPart] OnPreRender"}]}