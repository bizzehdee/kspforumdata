{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":60,"Articles":[{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-26T18:02:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnqevil\u0022 data-cite=\u0022johnqevil\u0022\u003E\u003Cdiv\u003EOk, this is likely something stupid I\u0027m missing, but I can\u0027t seem to get Onsave() to function. I\u0027m trying the below code:\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EWhen I try to compile, I get \u0027Kerbanomics.Kerbanomics.OnSave(ConfigNode)\u0027: no suitable method found to override\u0027 in the error log. Like I said, I\u0027m sure it\u0027s something stupid, I\u0027ve just been at this for a couple hours with no progress.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMonoBehaviour has no method called OnSave(ConfigNode) for you to override. \u003C/p\u003E\u003Cp\u003EIf you\u0027re trying to save things into the persistent file, the best way is to inherit from ScenarioModule instead of MonoBehaviour and replace the KSPAddon attribute with a KSPScenario attribute that specifies which scenes your scenario should run in. Then you can override OnLoad/OnSave to handle your persistent data.\u003C/p\u003E\n"},{"CreatedByName":"johnqevil","CreatedById":119237,"CreatedDateTime":"2014-12-26T18:32:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EMonoBehaviour has no method called OnSave(ConfigNode) for you to override. \u003Cp\u003EIf you\u0027re trying to save things into the persistent file, the best way is to inherit from ScenarioModule instead of MonoBehaviour and replace the KSPAddon attribute with a KSPScenario attribute that specifies which scenes your scenario should run in. Then you can override OnLoad/OnSave to handle your persistent data.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESee, I said it was something stupid I was missing. Didn\u0027t even think of that. All I actually want to do is to fire off a function when the game is saved. My plugin uses it\u0027s own persistent files, and I\u0027d like them to save when the game does. I tried both GameEvents.onGameStateSave and GameEvents.onGameStateSaved to no effect.\u003C/p\u003E\u003Cp\u003EIs using OnSave() the best way to fire that off? Or should I be trying to get the GameEvents code working?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-26T19:12:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnqevil\u0022 data-cite=\u0022johnqevil\u0022\u003E\u003Cdiv\u003EAll I actually want to do is to fire off a function when the game is saved. My plugin uses it\u0027s own persistent files, and I\u0027d like them to save when the game does.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUsually this results in some ugly hacking. How do you handle quickloads? Multiple saves? ScenarioModule is the way to go here, then you can just keep it all together. Do you have a particular reason for separation?\u003C/p\u003E\n"},{"CreatedByName":"johnqevil","CreatedById":119237,"CreatedDateTime":"2014-12-26T19:33:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EUsually this results in some ugly hacking. How do you handle quickloads? Multiple saves? ScenarioModule is the way to go here, then you can just keep it all together. Do you have a particular reason for separation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENothing in particular, just seemed like it worked. I\u0027ll convert it to ScenarioModule and do some testing. Thanks for your help, sir!\u003C/p\u003E\n"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2014-12-27T14:41:13Z","Content":"\n\u003Cp\u003EAny idea how to prevent a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003ECelestialBody\u003C/span\u003E from rendering in the map/tracking station view?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ECelestialBody cb = ...;\u003Cbr\u003Ecb.scaledBody.renderer.enabled = false;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECauses planets to no longer occlude the sun but their surface texture still appears. For example:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://mediacru.sh/y/yQGtRaZtTBML.png\u0022 alt=\u0022yQGtRaZtTBML.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"goblin","CreatedById":133377,"CreatedDateTime":"2014-12-29T18:54:48Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI\u0027m trying to hack kOS a bit, but I\u0027ve got no experience in KSP modding or even C# (I do know C/C\u002B\u002B though), so I\u0027m asking for a little help setting up the environment.\u003C/p\u003E\u003Cp\u003EI\u0027ve installed MonoDevelop, opened up the kOS.sln file and added the Assembly-CSharp and UnityEngine References as described on \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Setting_up_MonoDevelop\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Setting_up_MonoDevelop\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHowever, when I try to build kOS (or kOS.Safe), I\u0027m getting the following build error (I also had it before adding the above references):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EBuilding Solution: kOS (Debug)\u003Cbr\u003E\u003Cbr\u003EBuilding: kOS.Safe (Debug)\u003Cbr\u003E\u003Cbr\u003EBuild started 12/29/2014 6:34:25 PM.\u003Cbr\u003E__________________________________________________\u003Cbr\u003EProject \u0022/home/goblin/git/KOS/src/kOS.Safe/kOS.Safe.csproj\u0022 (Build target(s)):\u003Cbr\u003E\u003Cbr\u003E\tTarget PrepareForBuild:\u003Cbr\u003E  Configuration: Debug Platform: AnyCPU\u003Cbr\u003E\u003Cbr\u003E\tTarget GenerateResources:\u003Cbr\u003E  Tool /usr/bin/resgen2 execution started with arguments: /useSourcePath /compile \u0022Properties/Resources.resx,obj/Debug/kOS.Safe.Properties.Resources.resources\u0022 \u003Cbr\u003E/usr/lib/mono/4.5/Microsoft.Common.targets: error : Error executing tool \u0027/usr/bin/resgen2\u0027: ApplicationName=\u0027/usr/bin/resgen2\u0027, CommandLine=\u0027/useSourcePath /compile \u0022Properties/Resources.resx,obj/Debug/kOS.Safe.Properties.Resources.resources\u0022 \u0027, CurrentDirectory=\u0027/home/goblin/git/KOS/src/kOS.Safe\u0027, Native error= Cannot find the specified file\u003Cbr\u003E\tTask \u0022GenerateResource\u0022 execution -- FAILED\u003Cbr\u003E\tDone building target \u0022GenerateResources\u0022 in project \u0022/home/goblin/git/KOS/src/kOS.Safe/kOS.Safe.csproj\u0022.-- FAILED\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E---------------------- Done ----------------------\u003Cbr\u003E\u003Cbr\u003EBuild: 1 error, 0 warnings\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not quite sure what \u0022the specified file\u0022 is... Any help on fixing the error would be appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-29T19:55:29Z","Content":"\n\u003Cp\u003EPretty sure that means you are targeting the wrong version of .net.\u003C/p\u003E\u003Cp\u003EGo into the project properties and make sure you are targeting .net version 3.5 which is what KSP uses.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"goblin","CreatedById":133377,"CreatedDateTime":"2014-12-29T20:04:17Z","Content":"\n\u003Cp\u003EThanks for the reply, but it doesn\u0027t seem to be it: I already have \u0022Mono / .NET 3.5\u0022 selected in Project options / Build / General / Target framework. I guess it must have already come with kOS.sln or some other file included in the kOS tree.\u003C/p\u003E\u003Cp\u003EAlso, not sure if that changes things, but I have \u0022Use MSBuild build engine (recommended for this project type)\u0022 selected below the framework.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-29T20:41:50Z","Content":"\n\u003Cp\u003EIn that case, maybe check your references list? \u003C/p\u003E\u003Cp\u003EThe /usr/lib/mono/4.5/Microsoft.Common.targets line implies it is looking for .net 4.5 reference files I think?\u003C/p\u003E\u003Cp\u003EBeyond that I can\u0027t help as I use Visual Studio as my IDE and not monodevelop.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-12-29T20:45:04Z","Content":"\n\u003Cp\u003EIt might be the standard Microsoft.CSharp Reference that you have to remove because it targets 4.5\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-12-29T21:43:11Z","Content":"\n\u003Cp\u003ENo, it\u0027s an error while compiling ressources. Do you have /usr/bin/resgen2 on your system ? It\u0027s part of the mono package on my system, but that depends of your distib.\u003C/p\u003E\n"},{"CreatedByName":"goblin","CreatedById":133377,"CreatedDateTime":"2014-12-29T23:00:40Z","Content":"\n\u003Cp\u003EYay, thanks everyone :-)\u003C/p\u003E\u003Cp\u003EIndeed /usr/bin/resgen2 was missing, the package mono-devel somehow got removed when I apt-get installed monodevelop. Reinstalling that manually helped.\u003C/p\u003E\u003Cp\u003EAfter that I only needed to change \u0022Opcode.cs\u0022 in kOS.Safe.csproj to \u0022OpCode.cs\u0022 (apparently someone compiled it on a case-insensitive system) and voilla, compiled with only 14 warnings :-)\u003C/p\u003E\n"},{"CreatedByName":"Albert VDS","CreatedById":74055,"CreatedDateTime":"2014-12-30T15:41:29Z","Content":"\n\u003Cp\u003EIs there a way there a way to wait for a key press and then find out which keycode it has?\u003C/p\u003E\u003Cp\u003EThe same idea as in the controls part of the settings menu.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-30T15:46:46Z\u0022 title=\u002212/30/2014 03:46  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 30, 2014\u003C/time\u003E by Albert VDS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-30T18:00:37Z","Content":"\n\u003Cp\u003EI do it here to assign a key for my Vertical Velocity Mod:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/TWR1/blob/master/TWR1/TWR1.cs#L376\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SirDiazo/TWR1/blob/master/TWR1/TWR1.cs#L376\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHope that\u0027s close enough to help,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"8749236","CreatedById":27470,"CreatedDateTime":"2014-12-31T00:08:41Z","Content":"\n\u003Cp\u003ESame question, but no one answered me last time (or I have totally missed it).\u003C/p\u003E\u003Cp\u003EIf I want to change a part\u0027s cost when a button (KSPEvent) is clicked, how do I do that?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPEvent(guiName = \u0022Quality \u002B\u002B\u0022, guiActive = false, guiActiveEditor = true)]\u003Cbr\u003Epublic void AddCost()\u003Cbr\u003E{\u003Cbr\u003E    // Doing something useful or not-so-useful..\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMy current way of doing this is using GetModuleCost:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic float GetModuleCost(float defaultCost)\u003Cbr\u003E{\u003Cbr\u003E\t// Seems like default cost is always 0..\u003Cbr\u003E\t//this.Log(\u0022Default cost: \u0022 \u002B defaultCost);\u003Cbr\u003E\treturn this.GetExtraCost();\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut, sadly, that way only works iff I detach the part and re-attach it..\u003C/p\u003E\u003Cp\u003ESo, my question is, how do I change the cost right away when the button (KSPEvent) is clicked?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAnd please, don\u0027t ignore me this time? Please!?\u003C/strong\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-31T00:11:19Z\u0022 title=\u002212/31/2014 12:11  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 31, 2014\u003C/time\u003E by 8749236\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-12-31T00:24:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00228749236\u0022 data-cite=\u00228749236\u0022\u003E\u003Cdiv\u003ESo, my question is, how do I change the cost right away when the button (KSPEvent) is clicked?\u003Cp\u003E\u003Cstrong\u003EAnd please, don\u0027t ignore me this time? Please!?\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI actually would love to know if this is possible for an upcoming new kOS feature. is this a thing we can do now?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-31T00:36:02Z","Content":"\n\u003Cp\u003EIn theory, that is what the new IModuleCost interface is for, but I\u0027ve not looked at is so no clue.\u003C/p\u003E\u003Cp\u003ESomewhere to start though.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-31T02:28:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00228749236\u0022 data-cite=\u00228749236\u0022\u003E\u003Cdiv\u003EIf I want to change a part\u0027s cost when a button (KSPEvent) is clicked, how do I do that?\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EBut, sadly, that way only works iff I \u003Cstrong\u003Edetach the part and re-attach it\u003C/strong\u003E..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou almost have it. You forgot to fire GameEvents.onEditorShipModified. That\u0027s why the editor isn\u0027t updating cost until some other event that triggers a cost recalculation occurs\u003C/p\u003E\n"},{"CreatedByName":"8749236","CreatedById":27470,"CreatedDateTime":"2014-12-31T05:31:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EYou almost have it. You forgot to fire GameEvents.onEditorShipModified. That\u0027s why the editor isn\u0027t updating cost until some other event that triggers a cost recalculation occurs\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you very much! and Diazo as well!\u003C/p\u003E\u003Cp\u003EGameEvents.onEditorShipModified is most probably what I was looking for the whole time..\u003C/p\u003E\u003Cp\u003EBut how do I trigger it? (Not sure what goes into \u003Cstrong\u003EFire\u003C/strong\u003E method)\u003C/p\u003E\u003Cp\u003EAlso, I am curious about IModuleCost, about how it is being used..\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-31T05:40:12Z\u0022 title=\u002212/31/2014 05:40  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 31, 2014\u003C/time\u003E by 8749236\u003C/strong\u003E\n\u003Cbr\u003EI was being rude for not saying thank you..\n\u003C/span\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-31T07:47:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00228749236\u0022 data-cite=\u00228749236\u0022\u003E\u003Cdiv\u003EGameEvents.onEditorShipModified is most probably what I was looking for the whole time..\u003Cp\u003EBut how do I trigger it? (Not sure what goes into \u003Cstrong\u003EFire\u003C/strong\u003E method)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGameEvents.onEditorShipModified.Fire(EditorLogic.fetch.ship);\u003C/p\u003E\u003Cp\u003ESimple, complete PartModule example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic class PartQuality : PartModule, IPartCostModifier\u003Cbr\u003E{\u003Cbr\u003E    private float _multiplier = 1f;\u003Cbr\u003E\u003Cbr\u003E    [UI_Label(controlEnabled = true)] public string Quality;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    [KSPEvent(guiName = \u0022Quality \u002B\u002B\u0022, guiActive = false, guiActiveEditor = true)]\u003Cbr\u003E    public void QualityIncrease() { AdjustMultiplier(0.1f * UnityEngine.Random.Range(0.5f, 1f)); }\u003Cbr\u003E\u003Cbr\u003E    [KSPEvent(guiName = \u0022Quality --\u0022, guiActive = false, guiActiveEditor = true)]\u003Cbr\u003E    public void QualityDecrease() { AdjustMultiplier(-0.1f * UnityEngine.Random.Range(0.5f, 1f)); }\u003Cbr\u003E\u003Cbr\u003E    private void AdjustMultiplier(float delta)\u003Cbr\u003E    {\u003Cbr\u003E        _multiplier = Mathf.Clamp(_multiplier \u002B delta, 0f, 2f);\u003Cbr\u003E\u003Cbr\u003E        if (_multiplier \u0026gt; 1.2f)\u003Cbr\u003E            Quality = \u0022Great\u0022;\u003Cbr\u003E        else if (_multiplier \u0026gt; 0.9f)\u003Cbr\u003E            Quality = \u0022Average\u0022;\u003Cbr\u003E        else if (_multiplier \u0026gt; 0.7f)\u003Cbr\u003E            Quality = \u0022Not good\u0022;\u003Cbr\u003E        else if (_multiplier \u0026gt; 0.4f)\u003Cbr\u003E            Quality = \u0022Hazardous\u0022;\u003Cbr\u003E        else Quality = \u0022Fire QA team\u0022;\u003Cbr\u003E\u003Cbr\u003E        Quality = string.Format(\u0022{0:P2} - {1}\u0022, _multiplier, Quality);\u003Cbr\u003E\u003Cbr\u003E        GameEvents.onEditorShipModified.Fire(EditorLogic.fetch.ship);\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    public float GetModuleCost(float defaultCost)\u003Cbr\u003E    {\u003Cbr\u003E        return _multiplier * defaultCost;\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Albert VDS","CreatedById":74055,"CreatedDateTime":"2014-12-31T08:36:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EI do it here to assign a key for my Vertical Velocity Mod:\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/TWR1/blob/master/TWR1/TWR1.cs#L376\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/SirDiazo/TWR1/blob/master/TWR1/TWR1.cs#L376\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHope that\u0027s close enough to help,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright, thanks! \u003C/p\u003E\u003Cp\u003ESo I tried your Vertical Velocity mod to see how it works and it didn\u0027t catch an actual key most of the time.\u003C/p\u003E\u003Cp\u003EIt only worked after a few tries of clicking on the \u0022change key\u0022 button and pressing a key.\u003C/p\u003E\u003Cp\u003EAlso shouldn\u0027t the check part be inside Update()?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-31T14:55:58Z","Content":"\n\u003Cp\u003EHmmm, something must have changed on me, I have not touched that part of the code in forever.\u003C/p\u003E\u003Cp\u003EDoing a quick test, it works as expected on my end, I can\u0027t even take a guess why it\u0027s not working on your end. If you want to troubleshoot, stick a \u0022Debug.Log(\u0022Last Keycode: \u0022 \u002B Event.current.keyCode.ToString());\u0022 just above the \u0022if(TWR1SettingKey)\u0022 line and see what KSP sees for keypresses when are trying to assign the key.\u003C/p\u003E\u003Cp\u003EAs for doing it in OnDraw vs Update, when I googled around I was not able to find a difference between the two in terms of behavior/performance so it was simpler from a code perspective to put it in OnDraw.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-31T15:04:09Z\u0022 title=\u002212/31/2014 03:04  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 31, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-12-31T20:45:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EAs for doing it in OnDraw vs Update\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf the rendering manager is anything like OnGUI (which since it uses Unity\u0027s GUI functions, it just about has to be the same), it gets called multiple times per frame (IIRC, it\u0027s atleast twice). Update is always once per frame.\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-31T20:50:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EAs for doing it in OnDraw vs Update, when I googled around I was not able to find a difference between the two in terms of behavior/performance so it was simpler from a code perspective to put it in OnDraw.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnDraw is really MonoBehaviour.OnGUI\u003C/p\u003E\u003Cp\u003EThe difference is that OnGUI might be called \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/MonoBehaviour.OnGUI.html\u0022 rel=\u0022external nofollow\u0022\u003Emultiple times in a frame\u003C/a\u003E for each event while Update will be called once per frame. If you want to use Event.current, OnGUI is the right place (Event.current is otherwise null). Otherwise you\u0027d need to use \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/Input.html\u0022 rel=\u0022external nofollow\u0022\u003EInput\u003C/a\u003E which, for this particular problem, is not as straightforward. I\u0027d say you\u0027ve got it right as-is\u003C/p\u003E\u003Cp\u003EEdit: sniped by Crzyrndm \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nohelmet","CreatedById":99742,"CreatedDateTime":"2015-01-01T03:22:21Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EHow to get my plugin to be reloaded?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EAs I\u0027m developing my plugin, I naturally make changes. How do I get KSP to load the new version of the plugin? Quitting to the main menu doesn\u0027t seem to be enough. Quitting and restarting the game entirely works of course, but that takes a long time. Surely, there is a better way? ... right?\u003C/p\u003E\n"}]}