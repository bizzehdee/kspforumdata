{"TopicId":139451,"ForumId":29,"TopicTitle":"How to calculate Engine ISP from cfg file?","CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-05-10T11:49:32Z","PageNum":1,"Articles":[{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-05-10T11:49:32Z","Content":"\n\u003Cp\u003E\nI\u0027m looking at adding dV and TWR calculations into KerbalX.com so I need to be able to get engine ISP and part wet/dry mass from just the info found in part cfg files. I can gather data from part .cfg files, but I can\u0027t use any ingame functions.\n\u003C/p\u003E\n\u003Cp\u003E\nSo first question is, given the .cfg file for an engine, how do I work out it\u0027s ISP?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, is the mass given for parts in their .cfg files the wet mass? And then from that I\u0027d need to subtract density*volume of each of\u00A0its resources\u00A0to get the dry mass? (in the case of fuel tanks)\u003Cbr\u003E\nGetting the density values for stock resources looks simple enough (from ResourcesGeneric.cfg), but I\u0027m a bit confused about how mods with their own resources define them.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-10T12:07:26Z","Content":"\n\u003Cp\u003E\nWhen do you need the isp ? in flight just get it from engine.realIsp. Outside you need to do this :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003Efloat\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E isp \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E engine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EatmosphereCurve\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EEvaluate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan\u003Efloat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eengine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EstaticPressureAtm\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eengine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EuseAtmCurveIsp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\tisp \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E engine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EatmCurveIsp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EEvaluate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan\u003Efloat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eengine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EatmDensity \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1.225\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E));\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eengine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EuseVelCurveIsp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\tisp \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E engine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EvelCurveIsp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EEvaluate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan\u003Efloat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eengine\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmachNumber\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd the mass in the cfg is the dry mass.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-10T12:08:02Z\u0022 title=\u002205/10/2016 12:08  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 10, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-05-10T12:19:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572728\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462880972\u0022 data-ipsquote-userid=\u002235181\u0022 data-ipsquote-username=\u0022katateochi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, katateochi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m looking at adding dV and TWR calculations into KerbalX.com so I need to be able to get engine ISP and part wet/dry mass from just the info found in part cfg files. I can gather data from part .cfg files, but I can\u0027t use any ingame functions.\n\u003C/p\u003E\n\u003Cp\u003E\nSo first question is, given the .cfg file for an engine, how do I work out it\u0027s ISP?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s in ModuleEngines or ModuleEnginesFX, in the atmosphereCurve field. \u00A0There is an entry that looks like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EatmosphereCurve\n{\n  key = 0 331\n  key = 1 291\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe \u0027key\u0027 entries are part of a curve. \u00A0The first value in a row is atmospheric density, the second is ISP. \u00A0In the above example, the engine has an ISP of 291 at sea level (\u00271\u0027), and a vacuum ISP of 331 (\u00270\u0027). \u00A0The maxThrust in the engine module is for vacuum. \u00A0To compute sea level thrust, multiply it by (sea level ISP / vacuum ISP).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-05-10T12:40:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572750\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462882046\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhen do you need the isp ? in flight just get it from engine.realIsp. Outside you need to do this :\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI need it completely outside of the game as I\u0027m trying to do this calc on a website where all I\u0027ll have is a craft file and some of the variables gathered from part cfg files.\u00A0I was actually going to message you to see if you could help me with this! I essentially want to do the mechjeb equivalent of calculating dV and TWR for each stage for craft uploaded to KerbalX.com. \u00A0At the moment I\u0027m just looking into which variables I need to gather from parts in order to make the calc possible. \u00A0And I\u0027ll be honest, the maths side of KSP, not my strong point! (and things like fuel lines concern me!)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572769\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462882792\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s in ModuleEngines or ModuleEnginesFX, in the atmosphereCurve field. \u00A0There is an entry that looks like\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0027key\u0027 entries are part of a curve. \u00A0The first value in a row is atmospheric density, the second is ISP. \u00A0In the above example, the engine has an ISP of 291 at sea level (\u00271\u0027), and a vacuum ISP of 331 (\u00270\u0027). \u00A0The maxThrust in the engine module is for vacuum. \u00A0To compute sea level thrust, multiply it by (sea level ISP / vacuum ISP).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh cool,\u00A0it\u0027s right there! That should make things simpler! Thanks!\u003Cbr\u003E\nSo key = 0 is the vac and key = 1 is sea level, what about other key values like this from the 909 which has a key = 3 entry\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EatmosphereCurve\n{\n\tkey = 0 345\n\tkey = 1 85\n\tkey = 3 0.001\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd this from the LV-T45 which has a key = 6\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\natmosphereCurve\n{\n\tkey = 0 320\n\tkey = 1 270\n\tkey = 6 0.001\n}\n\u003C/pre\u003E\n\u003Cp\u003E\nWhat do those other keys mean? Can I essentially ignore them if all im interested in the end is getting dV for atmo and dV for vac?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-10T12:47:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572795\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462884031\u0022 data-ipsquote-userid=\u002235181\u0022 data-ipsquote-username=\u0022katateochi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, katateochi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhat about other key values like this from the 909 which has a key = 3 entry\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor planet with atmosphere with a higher density than 1 atmo at ground level.\n\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-05-10T13:48:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222572805\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462884460\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor planet with atmosphere with a higher density than 1 atmo at ground level.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nah cool, cheers. (I really should have guessed that,\u00A0doh!)\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2016-05-10T23:18:59Z","Content":"\n\u003Cp\u003E\nI\u0027ve seen as high as 7 for an atmo key...\n\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-05-12T15:28:21Z","Content":"\n\u003Cp\u003E\nIf you have parts that just have an\u00A0atmosphereCurve with a single entry for\u00A0key =\u00A00 x, does that mean they have the same ISP in atmo?\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-05-12T18:06:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222577302\u0022 data-ipsquote-contentid=\u0022139451\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463066901\u0022 data-ipsquote-userid=\u002235181\u0022 data-ipsquote-username=\u0022katateochi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, katateochi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you have parts that just have an\u00A0atmosphereCurve with a single entry for\u00A0key =\u00A00 x, does that mean they have the same ISP in atmo?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would guess \u0022yes\u0022. \u00A0I have not looked at the details for the FloatCurve class\u00A0and how it handles a degenerate \u0022curve\u0022 with a single point.\n\u003C/p\u003E\n"}]}