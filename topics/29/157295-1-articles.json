{"TopicId":157295,"ForumId":29,"TopicTitle":"How do I change the texture on an asteroid?","CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2017-03-04T07:09:35Z","PageNum":1,"Articles":[{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2017-03-04T07:09:35Z","Content":"\n\u003Cp\u003E\nI\u0027m pretty sure I can change the texture on an asteroid, and I know how to dynamically change textures in KSP, but does anybody know the name of the transform for the asteroid model itself? Basically I need the name of the mesh so I can call SetTexture on the Renderer. Also, what is the name of the texture file for the rocky asteroid texture (and for that matter, magic boulder)? Anybody know? \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E, can you shed some light on this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for your help. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Phineas Freak","CreatedById":146521,"CreatedDateTime":"2017-03-04T19:01:31Z","Content":"\n\u003Cp\u003E\nChecking the model file (\u0022Cube.mu\u0022) reveals that:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe model transform name is \u0022Cube\u0022 (same as the .mu file)\n\u003C/li\u003E\n\u003Cli\u003E\nThe texture name is \u0022PotatoRoid\u0022\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n(But this is probably not the correct transform name to use)\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2017-03-05T01:15:43Z","Content":"\n\u003Cp\u003E\nHave you seen Sarbian\u0027s DebugStuff\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/135726-12-debugstuff-2016-10-25-see-the-hidden-secrets-of-the-game-objects/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nGreat for figuring out how things are put together in game. Shows how things are related and their names.\n\u003C/p\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2017-03-05T20:49:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222975998\u0022 data-ipsquote-contentid=\u0022157295\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488676543\u0022 data-ipsquote-userid=\u0022120438\u0022 data-ipsquote-username=\u0022wasml\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, wasml said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave you seen Sarbian\u0027s DebugStuff\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/135726-12-debugstuff-2016-10-25-see-the-hidden-secrets-of-the-game-objects/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nGreat for figuring out how things are put together in game. Shows how things are related and their names.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks I\u0027ve got that mod, definitely helped during my investigation.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222975662\u0022 data-ipsquote-contentid=\u0022157295\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488654091\u0022 data-ipsquote-userid=\u0022146521\u0022 data-ipsquote-username=\u0022Phineas Freak\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/4/2017 at 11:01 AM, Phineas Freak said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nChecking the model file (\u0022Cube.mu\u0022) reveals that:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe model transform name is \u0022Cube\u0022 (same as the .mu file)\n\u003C/li\u003E\n\u003Cli\u003E\nThe texture name is \u0022PotatoRoid\u0022\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n(But this is probably not the correct transform name to use)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTrying to grab the \u0022Cube\u0022 transform doesn\u0027t work, unfortunately. DebugStuff shows the transform as Squad/Parts/Misc/PotatoRoid/Cube(Clone).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve written some code to get to that \u0022Cube(Clone)\u0022 transform, but I\u0027m still not seeing the texture replacement. Here\u0027s the code I have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E            Transform potatoRoid = this.part.gameObject.transform.Find(\u0022model\u0022);\n            Transform childTransform;\n            if (potatoRoid == null)\n            {\n                Debug.Log(\u0022[ModuleKerbalKomet] - potatoRoid is null.\u0022);\n                return;\n            }\n\n            Texture kometTexture = GameDatabase.Instance.GetTexture(kometTextureURL, false);\n            if (kometTexture == null)\n            {\n                Debug.Log(\u0022[ModuleKerbalKomet] - kometTexture is null.\u0022);\n                return;\n            }\n\n            Renderer renderer = potatoRoid.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Renderer\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n            for (int index = 0; index \u0026lt; potatoRoid.childCount; index\u002B\u002B)\n            {\n                childTransform = potatoRoid.GetChild(index);\n                if (childTransform.name.Contains(\u0022Cube\u0022))\n                {\n                    renderer = childTransform.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Renderer\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n                    if (renderer != null)\n                    {\n                        Debug.Log(\u0022[ModuleKerbalKomet] - Found renderer, changing texture for \u0022 \u002B childTransform.name);\n                        renderer.material.SetTexture(\u0022_MainTex\u0022, kometTexture);\n                    }\n                    else\n                    {\n                        Debug.Log(\u0022[ModuleKerbalKomet] - Can\u0027t find Renderer\u0022);\n                    }\n                }\n            }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027m hoping someone from SQUAD can help me figure out how to change the asteroid texture, as the above code compiles and runs and changes the Renderer texture, but the asteroid texture doesn\u0027t change. I\u0027ve verified that kometTexture is a valid texture that\u0027s loaded into the game.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2017-03-05T21:06:55Z","Content":"\n\u003Cp\u003E\nI know that\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104043-starstrider42/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022104043\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104043-starstrider42/\u0022 rel=\u0022\u0022\u003E@Starstrider42\u003C/a\u003E\u00A0looked into this a while ago. I don\u0027t know if there was ever anything found, but that would be the person to ask.\n\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2017-03-10T04:35:25Z","Content":"\n\u003Cp\u003E\nThe \u0022cube\u0022 stuff is not what you\u0027re looking for -- it\u0027s a dummy object that\u0027s normally buried deep inside the asteroid. The surface is a PQSMod (like those used for planetary surfaces), and AFAIK the asteroid \u0022texture\u0022 is a blend of several texture files as dictated by the PQS. Unfortunately, Thomas P. says that the asteroid\u0027s PQS is much harder to work with than the planetary equivalent:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/68266-asteroid-spawn-api/\u0026amp;do=embed\u0026amp;comment=2604930\u0026amp;embedComment=2604930\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nxEvilReeperx did propose a hackier solution earlier in the same thread, though I have no idea whether it will work on recent versions of KSP. That might be what you\u0027re looking for, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106975\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/\u0022 rel=\u0022\u0022\u003E@Angel-125\u003C/a\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2017-03-10T05:28:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222981426\u0022 data-ipsquote-contentid=\u0022157295\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221489120525\u0022 data-ipsquote-userid=\u0022104043\u0022 data-ipsquote-username=\u0022Starstrider42\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, Starstrider42 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe \u0022cube\u0022 stuff is not what you\u0027re looking for -- it\u0027s a dummy object that\u0027s normally buried deep inside the asteroid. The surface is a PQSMod (like those used for planetary surfaces), and AFAIK the asteroid \u0022texture\u0022 is a blend of several texture files as dictated by the PQS. Unfortunately, Thomas P. says that the asteroid\u0027s PQS is much harder to work with than the planetary equivalent:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/68266-asteroid-spawn-api/\u0026amp;do=embed\u0026amp;comment=2604930\u0026amp;embedComment=2604930\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nxEvilReeperx did propose a hackier solution earlier in the same thread, though I have no idea whether it will work on recent versions of KSP. That might be what you\u0027re looking for, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022106975\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/\u0022 rel=\u0022\u0022\u003E@Angel-125\u003C/a\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you much, that is good to know. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}