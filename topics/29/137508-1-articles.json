{"TopicId":137508,"ForumId":29,"TopicTitle":"Game Time and Planetarium Time [Solved]","CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-04-20T20:18:47Z","PageNum":1,"Articles":[{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-04-20T20:18:47Z","Content":"\n\u003Cp\u003E\nHello everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nWhitecat again; so here\u0027s a really annoying issue I have discovered.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically I have been building a Solar Cycle Simulating plugin for my Orbital Decay mod, everything is going fine, data is being loaded from a config file into a config node and subsequently manipulated and saved again.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, my program relies on knowing the total elapsed time in the game to determine the position along the 11 year solar cycle. This is required on each scene transition and works for every transition except for one.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhen loading the SpaceCenter screen from the Main Menu for the first time, the function \u003Cstrong\u003EPlanetarium.GetUniversalTime() returns a number from 0.0 - 0.2, irrespective of the current game duration\u003C/strong\u003E; (for example, my testing scenario is currently at year 52, so the number of seconds since the save beginning should be around 506912827 seconds and not 0.2).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 In any other transition, for example, from the TrackingStation to the SpaceCenter, the function works fine and returns the correct value (Being called in either the Awake() or Start() subroutines), but just not after the initial transition from the MainMenu...\n\u003C/p\u003E\n\u003Cp\u003E\nAny ideas on this one?\n\u003C/p\u003E\n\u003Cp\u003E\nSeems like a pretty big issue, I have replicated the problem by calling the function within the first 2 seconds of the scene being loaded and still no change. Furthermore I tried using the function of \u003Cstrong\u003EPlanetarium.fetch.time and this returned a similar false number.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhitecat106 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-20T20:57:35Z\u0022 title=\u002204/20/2016 08:57  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by Whitecat106\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2016-04-20T20:57:19Z","Content":"\n\u003Cp\u003E\nOkay everyone I discovered that \u003Cstrong\u003EHighlogic.CurrentGame.UniversalTime\u003C/strong\u003E produces the proper time, it would appear\u003Cstrong\u003E Planetarium.GetUniversalTime()\u003C/strong\u003E only works after the Planetarium has been initialized.\n\u003C/p\u003E\n"}]}