{"TopicId":32503,"ForumId":29,"TopicTitle":"Question about the debug menu","CreatedByName":"ChronicSilence","CreatedById":19852,"CreatedDateTime":"2013-06-11T22:33:17Z","PageNum":1,"Articles":[{"CreatedByName":"ChronicSilence","CreatedById":19852,"CreatedDateTime":"2013-06-11T22:33:17Z","Content":"\n\u003Cp\u003EI would like to know where the debug menu settings are stored. For example, if \u0022gravity hack\u0022 is done on a flight, quicksaved, then reloaded, the gravity has returned in full force. This must mean that the \u0022no gravity\u0022 setting is not stored in the save file, so is it written somewhere in a file at all or only stored in memory?\u003C/p\u003E\u003Cp\u003EIf the latter, then is it accessible through the API somehow? (i.e. could a plugin detect that it has been enabled)\u003C/p\u003E\u003Cp\u003EThe same question goes for the other settings as well, like infinite fuel.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-06-12T09:43:08Z","Content":"\n\u003Cp\u003EMost of them are stored in CheatOptions.\u003C/p\u003E\n"},{"CreatedByName":"Razchek","CreatedById":62645,"CreatedDateTime":"2013-06-12T09:48:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ChronicSilence\u0022 data-cite=\u0022ChronicSilence\u0022\u003E\u003Cdiv\u003EI would like to know where the debug menu settings are stored. For example, if \u0022gravity hack\u0022 is done on a flight, quicksaved, then reloaded, the gravity has returned in full force. This must mean that the \u0022no gravity\u0022 setting is not stored in the save file, so is it written somewhere in a file at all or only stored in memory?\u003Cp\u003EIf the latter, then is it accessible through the API somehow? (i.e. could a plugin detect that it has been enabled)\u003C/p\u003E\u003Cp\u003EThe same question goes for the other settings as well, like infinite fuel.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEndlessWaves is right, you can access their state through the CheatOptions class.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epublic class CheatOptions\u003Cbr\u003E{\u003Cbr\u003E    public static bool AllowPartClipping;\u003Cbr\u003E    public static bool InfiniteEVAFuel;\u003Cbr\u003E    public static bool InfiniteFuel;\u003Cbr\u003E    public static bool InfiniteRCS;\u003Cbr\u003E    public static bool NoCrashDamage;\u003Cbr\u003E    public static bool PauseOnVesselUnpack;\u003Cbr\u003E    public static bool UnbreakableJoints;\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"ChronicSilence","CreatedById":19852,"CreatedDateTime":"2013-06-12T18:18:08Z","Content":"\n\u003Cp\u003EWhat about the gravity hack? I don\u0027t see that in the code segment you posted.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-06-12T18:41:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ChronicSilence\u0022 data-cite=\u0022ChronicSilence\u0022\u003E\u003Cdiv\u003EWhat about the gravity hack? I don\u0027t see that in the code segment you posted.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt may be modifying the current planetary gravity value directly rather than setting a flag (hence the \u0027hack\u0027?). Try checking the various gravity parameters (and Mass) in vessel.mainBody and see if they change.\u003C/p\u003E\n"},{"CreatedByName":"Razchek","CreatedById":62645,"CreatedDateTime":"2013-06-13T10:12:50Z","Content":"\n\u003Cp\u003EPhysics.gravity changes by a division of 100~ when the button is clicked if that helps. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E At least on Kerbin.\u003C/p\u003E\u003Cp\u003EBefore: [Log]: Gravity changed: -2.608566, 0.01757533, 9.454472\u003C/p\u003E\u003Cp\u003EAfter: [Log]: Gravity changed: -0.02608566, 0.0001757532, 0.09454471\u003C/p\u003E\u003Cp\u003EKeep a variable of the previous gravity value and monitor it at whatever interval you choose, then when the factor decreases spontaneously by roughly 100.0f you \u003Cem\u003Emost likely\u003C/em\u003E will have the event of the button press. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis value will of course spontaneously change when the scene changes (doubtful by such a large amount).\u003C/p\u003E\u003Cp\u003EThe value also changes slowly during normal flight sessions.\u003C/p\u003E\u003Cp\u003EBuild a plugin to test it out?\u003C/p\u003E\u003Cp\u003ETry this (for debug purposes only):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPAddon(KSPAddon.Startup.Flight, false)]\u003Cbr\u003Epublic class GravityCheck : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    private static Vector3 _gravPrev;\u003Cbr\u003E    public void Update()\u003Cbr\u003E    {\u003Cbr\u003E        if (_gravPrev != Physics.gravity)\u003Cbr\u003E        {\u003Cbr\u003E            _gravPrev = Physics.gravity;\u003Cbr\u003E\u003Cbr\u003E            Debug.Log(string.Format(\u0022Gravity changed: {0}, {1}, {2}\u0022, _gravPrev.x, _gravPrev.y, _gravPrev.z));\u003Cbr\u003E        }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat \u003Cem\u003Eshould \u003C/em\u003Ework\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-13T10:27:38Z\u0022 title=\u002206/13/2013 10:27  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 13, 2013\u003C/time\u003E by Razchek\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"}]}