{"TopicId":47266,"ForumId":29,"TopicTitle":"GUI Question (dropdown menu and other)","CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-03T09:57:35Z","PageNum":1,"Articles":[{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-03T09:57:35Z","Content":"\n\u003Cp\u003EHey guys,\u003C/p\u003E\u003Cp\u003EI am running at the time where I need to get a bit of a better GUI for my tool.\u003C/p\u003E\u003Cp\u003Ehere is the current state:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/BLOmiwY\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/BLOmiwY.png\u0022 alt=\u0022BLOmiwY.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI have three question at the moment:\u003C/p\u003E\u003Cp\u003ETo select the category I am using GUILayoutx.SelectionList(). That works well (except that the category enum are not ordered the same than the tabs in the editor). However I would like to add the icons to it. same icons that the editor ones. And I don\u0027t know where to get them from and how to put them in.\u003C/p\u003E\u003Cp\u003ESecond question:\u003C/p\u003E\u003Cp\u003EI would like to make a dropdown list (one selection possible). And I don\u0027t know how to do it, every tutorial I have found on google use javascript! Any tips/info on that?\u003C/p\u003E\u003Cp\u003ELast question:\u003C/p\u003E\u003Cp\u003EAny way to have the description box with a word wrap?\u003C/p\u003E\u003Cp\u003EThanks in advance\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-03T11:21:57Z","Content":"\n\u003Cp\u003EGUILayout.TextArea might be what you want. \u003Ca href=\u0022http://wiki.unity3d.com/index.php?title=PopupList\u0022 rel=\u0022external nofollow\u0022\u003EThis is\u003C/a\u003E the first link in result google gave me for \u0022unity dropdown\u0022. Haven\u0027t tried it, but looks promising... since it has a button that shows/hides some list/box/etc on click. Can\u0027t help on the last one, sry. I wish we could have a look with a proper debugger. But that would require Squad to release a Development Build with Script Debugging enabled (jop, just 2 Checkboxes) and share the about 3 files with us that are actually different. Any ideas how we could get squad to do so?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2013-10-03T14:19:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UbioZur\u0022 data-cite=\u0022UbioZur\u0022\u003E\u003Cdiv\u003EHey guys,\u003Cp\u003ETo select the category I am using GUILayoutx.SelectionList(). That works well (except that the category enum are not ordered the same than the tabs in the editor). However I would like to add the icons to it. same icons that the editor ones. And I don\u0027t know where to get them from and how to put them in.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you open the game, everything that gets loaded is logged in KSP.log, including texture loads.\u003C/p\u003E\u003Cp\u003ETake a look through that and see if you can pick out the images Squad is using for the icons and then just load them yourself.\u003C/p\u003E\u003Cp\u003EFailing that, you could do some trickery with a screen shot I would think.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-03T21:41:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EGUILayout.TextArea might be what you want.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI gonna have to look at it, I used a textfield.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://wiki.unity3d.com/index.php?title=PopupList\u0022 rel=\u0022external nofollow\u0022\u003EThis is\u003C/a\u003E the first link in result google gave me for \u0022unity dropdown\u0022. Haven\u0027t tried it, but looks promising... since it has a button that shows/hides some list/box/etc on click.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThink I could have googled it and not just forum search it? errr no! thanks I will check that and see if it works.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EI wish we could have a look with a proper debugger. But that would require Squad to release a Development Build with Script Debugging enabled (jop, just 2 Checkboxes) and share the about 3 files with us that are actually different. Any ideas how we could get squad to do so?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know what could block Squad to do it. On top of my head, ideas would be, that they wait to be out of alpha or integrate a proper mod API, Since debugging would mean sharing decompiled source, it could be a copyright problem, or issue with the unity license. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EWhen you open the game, everything that gets loaded is logged in KSP.log, including texture loads.\u003Cp\u003ETake a look through that and see if you can pick out the images Squad is using for the icons and then just load them yourself.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I guess no easy way. But I should be able to find that somewhere.\u003C/p\u003E\u003Cp\u003EDo you know how I can set image to a button?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2013-10-04T02:42:46Z","Content":"\n\u003Cp\u003EI actually had to figure that out myself just recently. Credit to Kerbal Alarm Clock for being my reference for this.\u003C/p\u003E\u003Cp\u003EThis should get you going:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprivate Texture2D buttonTx = new Texture2D(30,40, TextureFormat.ARGB32, false); //declare the texture variable, 30pixels wide, 40 pixels high, standard RGB32 format, false on the end for no normal mapping, not needed for buttons.\u003Cbr\u003E\u003Cbr\u003Epublic void Awake()\u003Cbr\u003E{\u003Cbr\u003EbuttonTx = GameDatabase.Instance.GetTexture(\u0022/Name/Mod/Texture\u0022, false); //Load the texture from the GameData\\Name\\Mod\\Texture.jpg file. Note the file extension is stripped, that would load Texture.jpg, Texture.png and Texture.bmp and probably others.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Epublic void OnWindow() //inside your onwindow\u003Cbr\u003E{\u003Cbr\u003EGUI.skin.label.alignment = TextAnchor.MiddleCenter; //center the texture on the button\u003Cbr\u003EGUI.Button(new Rect(50, 100, 30, 40), texture2D) //display the button at 50,100 with a size of 30x40. I\u0027m not sure what happens if the texture is bigger then the button. Texture being smaller then the button is fine.\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd that\u0027s putting a picture on a button in a nutshell. Note that if you use .png, transparency works so it makes it look nicer.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-04T10:02:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EI actually had to figure that out myself just recently. Credit to Kerbal Alarm Clock for being my reference for this.\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EAnd that\u0027s putting a picture on a button in a nutshell. Note that if you use .png, transparency works so it makes it look nicer.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks Awesome Diazo (And Kerbal Alarm Clock too then I guess).\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-10-04T10:08:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UbioZur\u0022 data-cite=\u0022UbioZur\u0022\u003E\u003Cdiv\u003ESince debugging would mean sharing decompiled source, it could be a copyright problem, or issue with the unity license.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is not true. You don\u0027t need game source at all unless you want to debug game code. I did slap my own dll on a pure .net game and could easily debug it with visual studio without the game source, even without debug symbols and while the game was a release. VS even was able to live-edit my dll code. It has to work without game code, just like you can debug your own app without having code to the .NET framework.\u003C/p\u003E\u003Cp\u003ESo I\u0027m pretty sure the only technical problem that prevents us from debugging is that an embedded mono environment has to provide some \u003Ca href=\u0022http://www.mono-project.com/Soft_Debugger\u0022 rel=\u0022external nofollow\u0022\u003Edebug interface\u003C/a\u003E, and the common ksp release does not and modifying it to do so would require an unreasonable amount of work and most likely would be illegal anyway.\u003C/p\u003E\u003Cp\u003EI tested a little bit on the AngryBots unity sample. Slapped an external DLL onto it and could easily debug it without requiring game code, once i checked \u0022Development Build\u0022 and \u0022Script Debugging\u0022 on the build config. Beside a bunch of symbol files, only 3 files were actually different: The launched executable, the managed dll (though it appears to just be some flags) and some \u0022PlayerConnectionConfigFile\u0022 i have no idea what it is good for and does not exist in KSP anyway^^\u003C/p\u003E\u003Cp\u003E(I actually had a non-standard environment, since i tried to get it running with VS via UnityVS, what apparently had some side on MonoDevelop as well. Might be worth to re-test it on a clear setup)\u003C/p\u003E\u003Cp\u003ESo yes, chances are good that all Squad has to do would be to enable two checkboxes, rebuild the game and share the created KSP.exe with interested modders.\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-10-05T05:11:59Z","Content":"\n\u003Cp\u003EHere is how I draw textures on my icons:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L55\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L55\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L89\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L89\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI put it on a label, but you can use the GUIContent with anything including buttons.\u003C/p\u003E\u003Cp\u003EAlso, I did a drop-down menu for my TAC Fuel Balancer:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L185\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L185\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/PopupWindow.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/PopupWindow.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt is based on the page that Faark linked to. It has some issues, but it seems to work well.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003E... \u003Ca href=\u0022http://wiki.unity3d.com/index.php?title=PopupList\u0022 rel=\u0022external nofollow\u0022\u003EThis is\u003C/a\u003E the first link in result google gave me for \u0022unity dropdown\u0022. Haven\u0027t tried it, but looks promising... since it has a button that shows/hides some list/box/etc on click. ...\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-05T05:13:51Z\u0022 title=\u002210/05/2013 05:13  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 5, 2013\u003C/time\u003E by TaranisElsu\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-05T08:07:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EThis is not true. You don\u0027t need game source at all unless you want to debug game code. I did slap my own dll on a pure .net game and could easily debug it with visual studio without the game source, even without debug symbols and while the game was a release. VS even was able to live-edit my dll code. It has to work without game code, just like you can debug your own app without having code to the .NET framework.\u003Cp\u003ESo I\u0027m pretty sure the only technical problem that prevents us from debugging is that an embedded mono environment has to provide some \u003Ca href=\u0022http://www.mono-project.com/Soft_Debugger\u0022 rel=\u0022external nofollow\u0022\u003Edebug interface\u003C/a\u003E, and the common ksp release does not and modifying it to do so would require an unreasonable amount of work and most likely would be illegal anyway.\u003C/p\u003E\u003Cp\u003EI tested a little bit on the AngryBots unity sample. Slapped an external DLL onto it and could easily debug it without requiring game code, once i checked \u0022Development Build\u0022 and \u0022Script Debugging\u0022 on the build config. Beside a bunch of symbol files, only 3 files were actually different: The launched executable, the managed dll (though it appears to just be some flags) and some \u0022PlayerConnectionConfigFile\u0022 i have no idea what it is good for and does not exist in KSP anyway^^\u003C/p\u003E\u003Cp\u003E(I actually had a non-standard environment, since i tried to get it running with VS via UnityVS, what apparently had some side on MonoDevelop as well. Might be worth to re-test it on a clear setup)\u003C/p\u003E\u003Cp\u003ESo yes, chances are good that all Squad has to do would be to enable two checkboxes, rebuild the game and share the created KSP.exe with interested modders.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk Interesting, I am kind of getting back to coding and completely learning C# (more the differences there is between C# and C\u002B\u002B). If I get a chance, I will pop the question to the dev/Ted to know more about it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003EHere is how I draw textures on my icons:\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L55\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L55\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L89\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs#L89\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI put it on a label, but you can use the GUIContent with anything including buttons.\u003C/p\u003E\u003Cp\u003EAlso, I did a drop-down menu for my TAC Fuel Balancer:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L185\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacFuelBalancer/blob/master/Source/MainWindow.cs#L185\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/PopupWindow.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/PopupWindow.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt is based on the page that Faark linked to. It has some issues, but it seems to work well.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks Taranis, I will have a look at it; Cleaning a bit my code at the moment so it look like programming and not messing around with code.\u003C/p\u003E\n"},{"CreatedByName":"Sochin","CreatedById":78402,"CreatedDateTime":"2013-10-07T18:13:53Z","Content":"\n\u003Cp\u003EHow far off is this tool for release?\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-07T18:22:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sochin\u0022 data-cite=\u0022Sochin\u0022\u003E\u003Cdiv\u003EHow far off is this tool for release?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGUI, Cleaning the code a bit (especialy all the debug log), and adding the lift values on the cfg. and I should be good to be release for play test.\u003C/p\u003E\n"},{"CreatedByName":"Sochin","CreatedById":78402,"CreatedDateTime":"2013-10-07T18:28:27Z","Content":"\n\u003Cp\u003ELovely, my brain hurts just looking at the cfg files.\u003C/p\u003E\n"},{"CreatedByName":"Sochin","CreatedById":78402,"CreatedDateTime":"2013-10-08T15:52:58Z","Content":"\n\u003Cp\u003EOK I got a curve ball for you, this is what I have in mind.\u003C/p\u003E\u003Cp\u003EI am trying to set up as near to stock as possible (using the new KW Rocketry parts aswell for myself but there is a possibility of using pure stock aswell) multiple station parts. I would also like to setup 3.75m station parts aswell as 2.5m. Is it possible to have a scale function within your new gui?\u003C/p\u003E\u003Cp\u003EAs an example of what I have inmind here is my station.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cloud.steampowered.com/ugc/633045375228428231/D8EA6A8F3B8D5A13509B8DEEF984D4038B86BEC5/\u0022 alt=\u0022D8EA6A8F3B8D5A13509B8DEEF984D4038B86BEC5\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-08T16:02:46Z","Content":"\n\u003Cp\u003EThe first release is a simple welding with just display data at first.\u003C/p\u003E\u003Cp\u003EAnd then release a second version that will allow to change some value.\u003C/p\u003E\u003Cp\u003EI am not sure it will be possible to change the scale value for each part however, since for just a few parts it would be ok, but it would become quite a mess with more parts.\u003C/p\u003E\n"},{"CreatedByName":"Sochin","CreatedById":78402,"CreatedDateTime":"2013-10-08T16:14:40Z","Content":"\n\u003Cp\u003ESo if I build and weld a unit in its original scale then with another plugin rescale it would that work?\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-08T16:16:40Z","Content":"\n\u003Cp\u003EYeah it should, you don\u0027t even really need another tool, you can just go on the new cfg file and change the scale.\u003C/p\u003E\n"},{"CreatedByName":"Sochin","CreatedById":78402,"CreatedDateTime":"2013-10-08T16:29:04Z","Content":"\n\u003Cp\u003EGoing to have to contact you nearer the time about that, cfg files confuse the bijesus out of me.\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2013-10-12T02:14:25Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/38577-0-20-UbioZur-Welding-Ltd-Lower-your-part-count\u0022 rel=\u0022external nofollow\u0022\u003EIt\u0027s uploaded.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI managed to get the dropdown menu working (but it doesn\u0027t work very well with other gui items like the buttons)\u003C/p\u003E\u003Cp\u003EI couldn\u0027t get the place where the icons are for the category so I used the dropdown menu.\u003C/p\u003E\u003Cp\u003EStill need to work on the GUI to make it look better. Especially color wise.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/hoQ7vMf.jpg\u0022 alt=\u0022hoQ7vMf.jpg\u0022\u003E\u003C/p\u003E\n"}]}