{"TopicId":89261,"ForumId":29,"TopicTitle":"Delete a specific confignode","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-03T00:50:37Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-03T00:50:37Z","Content":"\n\u003Cp\u003EAlright, this seems like it should be so simple, but I\u0027m drawing a blank.\u003C/p\u003E\u003Cp\u003EI have a ConfigNode with 3 sub-nodes that are all named \u0022PART\u0022.\u003C/p\u003E\u003Cp\u003EAs a value on each PART sub-node I have the flightID as a unique value.\u003C/p\u003E\u003Cp\u003EI want to delete one of the PART sub-nodes based on this flightID value, how do I go about it?\u003C/p\u003E\u003Cp\u003EThe closest I\u0027ve come up with so far is the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eforeach(ConfigNode nList in masterNode.nodes)\u003Cbr\u003E{\u003Cbr\u003Eif(nList.GetValue(\u0022FlightID\u0022) == FlightIDOfPartToDelete)\u003Cbr\u003E{\u003Cbr\u003EmasterNode.RemoveNode(nList); //does not work because RemoveNode only takes a string\u003Cbr\u003E}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo I\u0027m stuck. I\u0027m pretty sure I\u0027m missing a command or method that would allow me to do this but looking at the object browser I\u0027m coming up blank.\u003C/p\u003E\u003Cp\u003EAnyone have any ideas?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-11-03T01:24:35Z","Content":"\n\u003Cp\u003EThis seems so absurdly simple I\u0027m almost embarrassed to suggest it (particularly given the amount of help you\u0027ve given me with my code), but... will masterNode.RemoveNode(nList.ToString()); work?\u003C/p\u003E\u003Cp\u003EI don\u0027t know enough about confignodes to test it myself I\u0027m afraid, I\u0027m still a little baffled by them beyond grabbing stuff out of config files.\u003C/p\u003E\u003Cp\u003EApologies if that\u0027s a complete waste of a post, it may have been so obvious you didn\u0027t mention having tried it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-03T01:28:31Z","Content":"\n\u003Cp\u003EUnfortunately not, configNode.RemoveNode(string); removes the first node in the list with that name as string. Your example would not match anything as it would pass the entire node as a string, not just the name.\u003C/p\u003E\u003Cp\u003EIn my case, all of my nodes are named PART so that would simply delete the first node in the list.\u003C/p\u003E\u003Cp\u003EAs as work around, I\u0027m currently walking the list, copying all nodes that don\u0027t match to a temporary list, deleting all the nodes in the masterNode and then adding them back from the temporary list. (Testing pending, I\u0027m not sure I\u0027ve got the object linking right yet.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-11-03T01:39:11Z","Content":"\n\u003Cp\u003EOh, I see! Hadn\u0027t quite understood what was going on there, that makes more sense. Thanks for the explanation\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-03T02:05:58Z","Content":"\n\u003Cp\u003EIn mm I use nodes.Remove(subNode)\u003C/p\u003E\u003Cp\u003EIf you do that you can\u0027t iterate on the original list so from memory and no compiler to test \u003C/p\u003E\u003Cp\u003Eforeach(ConfigNode nList in masterNode.nodes.toList() )\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Eif(nList.GetValue(\u0022FlightID\u0022) == FlightIDOfPartToDelete)\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003EmasterNode.nodes.Remove(nList); //does not work because RemoveNode only takes a string\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-03T02:26:34Z","Content":"\n\u003Cp\u003EWait, I can work standard list operations on ConfigNode.nodes without issue? I was assuming I had to use .addNode and .removeNode methods to avoid causing errors (due to behind the scenes code not exposed).\u003C/p\u003E\u003Cp\u003EThat makes things much simpler, testing pending of course.\u003C/p\u003E\u003Cp\u003EThanks for that,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-11-03T02:33:38Z","Content":"\n\u003Cp\u003EThat is, indeed, all RemoveNode appears to do, anyway. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(It seems to just do RemoveAt() at the first node whose name matches.)\u003C/p\u003E\n"}]}