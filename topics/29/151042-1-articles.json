{"TopicId":151042,"ForumId":29,"TopicTitle":"Changing scenes","CreatedByName":"jim1240","CreatedById":170701,"CreatedDateTime":"2016-10-28T23:37:25Z","PageNum":1,"Articles":[{"CreatedByName":"jim1240","CreatedById":170701,"CreatedDateTime":"2016-10-28T23:37:25Z","Content":"\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nIs anyone has any idea how to change scene on the fly (ex: from SpaceCenter to LaunchPad) ?\n\u003C/p\u003E\n\u003Cp\u003E\nI tried to load a new game with \u0022Game.Load()\u0022, after reading an existing save with \u0022GamePersistence.LoadGameCfg()\u0022 method. Existing save was taken in the LaunchPad with an active vessel (starting scene is 7 = FLIGHT).\n\u003C/p\u003E\n\u003Cp\u003E\nThe game loading works perfectly but scene remains in SpaceCenter.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022HighLogic.LoadScene\u0022, game crash.\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022HighLogic.bufferedLoad\u0022, nothing happens.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for answers.\n\u003C/p\u003E\n"},{"CreatedByName":"jim1240","CreatedById":170701,"CreatedDateTime":"2016-10-29T16:48:32Z","Content":"\n\u003Cp\u003E\nSo, thanks to QuickGo mode code, i\u0027ve found this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Estatic IEnumerator loadScene(GameScenes scenes , EditorFacility facility = EditorFacility.None) {\n\tyield return new WaitForEndOfFrame();\n\tHighLogic.LoadScene(scenes);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt seems working cause loading screen appears, but scene returns to SpaceCenter.\n\u003C/p\u003E\n\u003Cp\u003E\nLog says there\u0027s no vessel in AssemblyShip, so i\u0027ve tried to focus on landed vessel with this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDebugFunctions.SendLog(\u0022Searching vessels\u0022);\nforeach (Vessel vessel in FlightGlobals.Vessels ) {\n\tDebugFunctions.SendLog(\u0022Vessel found\u0022);\n\tif ( vessel.vesselType == VesselType.Ship ) {\n\t\tif ( !vessel.loaded ) {\n\t\t\tDebugFunctions.SendLog(\u0022Vessel not loaded, loading..\u0022);\n\t\t\tvessel.Load();\n\t\t}\n\t\tif ( vessel.LandedInKSC ) {\n\t\t\tDebugFunctions.SendLog(\u0022Vessel landed\u0022);\n\t\t\tFlightGlobals.SetActiveVessel(vessel);\n\t\t}\n\t\telse {\n\t\t\tDebugFunctions.SendLog(\u0022Vessel not landed\u0022);\n \t\t}\n\t}\n\telse\n\t\tDebugFunctions.SendLog(\u0022Vessel not a ship\u0022);\n\t}\n\tscenario.StartCoroutine(loadScene(GameScenes.FLIGHT));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHer\u0027s log:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[LOG 18:06:01.465]\u00A0 Searching vessels.\u003Cbr\u003E\n[LOG 18:06:01.465]\u00A0 Vessel found.\u003Cbr\u003E\n[LOG 18:06:01.465]\u00A0 Vessel not a ship.\u003Cbr\u003E\n[LOG 18:06:01.466]\u00A0 Vessel found.\u003Cbr\u003E\n[LOG 18:06:01.466]\u00A0 Vessel not loaded, loading...\u003Cbr\u003E\n[LOG 18:06:01.486] [Untitled Space Craft]: landed - waiting for ground contact to resume physics...\u003Cbr\u003E\n[LOG 18:06:01.496] Vessel landed.\u003Cbr\u003E\n[EXC 18:06:01.500] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Vessel.AttachPatchedConicsSolver ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0CustomTutorialFramework.LoadGame (CustomTutorialCollection.CustomTutorial customTutorial)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0CustomTutorialFramework.LaunchTutorial (CustomTutorialCollection.CustomTutorial customTutorial)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0CustomTutorialCollection.TutorialMenuWindow.DetailsFill (Int32 windowID)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.GUILayout\u002BLayoutedWindow.DoWindow (Int32 windowID)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.GUI.CallWindowDelegate (UnityEngine.WindowFunction func, Int32 id, UnityEngine.GUISkin _skin, Int32 forceRect, Single width, Single height, UnityEngine.GUIStyle style)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can\u0027t fond out how to solve this. Maybe it\u0027s not a solution to load LaunchPad scene...\n\u003C/p\u003E\n"}]}