{"TopicId":163417,"ForumId":29,"TopicTitle":"Relative Inclination And time to AN/DN?","CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-07-18T17:29:36Z","PageNum":1,"Articles":[{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-07-18T17:29:36Z","Content":"\n\u003Cp\u003E\nI\u0027m working on adding a couple of methods to KRPC to enable automated rendezvous and now need to get the data required to match planes. \u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo me, this seems like I want the relative inclination and the mean anomaly or true anomaly of the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E/\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E?\n\u003C/p\u003E\n\u003Cp\u003E\nI, as I always do on these sorts of questions, took a look at the mechjeb orbit extensions (which ought to all be added to the stock orbit class!) but before I go once again implementing half of that file all over again for myself, I thought I should ask if there was a simple way to get just what I need to enable a user to match planes out of KSP?\n\u003C/p\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-07-18T17:43:27Z","Content":"\n\u003Cp\u003E\nFound this searching for inclination on the ksp api:\u00A0\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_fine_print_1_1_utilities_1_1_orbit_utilities_1_1_orbit_generation_info.html#acaefe770d4c5349a8f7fea9179f2459f\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_fine_print_1_1_utilities_1_1_orbit_utilities_1_1_orbit_generation_info.html#acaefe770d4c5349a8f7fea9179f2459f\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd this is from one page higher:\u00A0\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_fine_print_1_1_utilities_1_1_orbit_utilities.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_fine_print_1_1_utilities_1_1_orbit_utilities.html\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-07-18T18:39:24Z","Content":"\n\u003Cp\u003E\nThe second one DOES look promising for finding the angle between the planes! \u00A0 Thank you! \u00A0 I\u0027ll try it out, though I\u0027m still looking for how to find the longitude or mean anomaly or time of the intersection.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2017-07-18T21:02:21Z","Content":"\n\u003Cp\u003E\nFollowing\u00A0the chain of extension methods in \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E or \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E can get a little confusing.\n\u003C/p\u003E\n\u003Cp\u003E\nFor finding the time to the relative nodes this should work:\u00A0\u003Ca href=\u0022https://github.com/DMagic1/KSP_BasicOrbit/blob/master/Source/BasicOrbit/Modules/TargetModules/RelInclination.cs#L60-L76\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DMagic1/KSP_BasicOrbit/blob/master/Source/BasicOrbit/Modules/TargetModules/RelInclination.cs#L60-L76\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere is probably some related method to find other values about the relative nodes, but I\u0027m not sure exactly what those are.\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-07-19T07:59:00Z","Content":"\n\u003Cp\u003E\nAnd found it, I think - \u00A0 I\u0027m going to link in the code here for those that come after. \u00A0I converted them to radians\u00A0and shifted the \u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E and \u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E properties\u00A0to \u002B-pi so they\u0027d be in the same number space as the anomaly properties. \u00A0Thank you so much for the help everyone!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E//\u003Cabbr title=\u0022Ascending Node\u0022\u003EAN\u003C/abbr\u003E\n\n\t\t\tvar degrees =  FinePrint.Utilities.OrbitUtilities.AngleOfAscendingNode(InternalOrbit, target.Orbit.InternalOrbit);\n            if (degrees \u0026gt; 180) degrees -= 360;\n            return Math.PI * degrees / 180; \n       \n//\u003Cabbr title=\u0022Descending Node\u0022\u003EDN\u003C/abbr\u003E\n            var degrees = FinePrint.Utilities.OrbitUtilities.AngleOfDescendingNode(InternalOrbit, target.Orbit.InternalOrbit);\n            if (degrees \u0026gt; 180) degrees -= 360;\n            return Math.PI * degrees / 180;\n\n//Inclination\n            var degrees = FinePrint.Utilities.OrbitUtilities.GetRelativeInclination(InternalOrbit, target.Orbit.InternalOrbit);\n            return Math.PI * degrees / 180;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}