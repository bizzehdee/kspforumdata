{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":24,"Articles":[{"CreatedByName":"Damocles","CreatedById":92224,"CreatedDateTime":"2013-12-20T12:42:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SirJulio\u0022 data-cite=\u0022SirJulio\u0022\u003E\u003Cdiv\u003EThere is a big static class GameEvents full of good stuff. Try OnVesselRecovered and OnVesselRecoveryRequested. Good luck.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThx. Exactly what I was looking for.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-12-20T21:44:57Z","Content":"\n\u003Cp\u003EDamocles: For futher howto, see MissionControllerEvents.cs in MCE (in signature). That does lots of stuff on recovery.\u003C/p\u003E\n"},{"CreatedByName":"XanderTek","CreatedById":92553,"CreatedDateTime":"2013-12-20T22:01:26Z","Content":"\n\u003Cp\u003EDoes anyone know if there\u0027s a way to create a custom slider tweakable like the engines have for throttle limiting? So far, the only tweakables i\u0027ve seen in mods are buttons that execute functions.\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-12-20T22:05:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022XanderTek\u0022 data-cite=\u0022XanderTek\u0022\u003E\u003Cdiv\u003EDoes anyone know if there\u0027s a way to create a custom slider tweakable like the engines have for throttle limiting? So far, the only tweakables i\u0027ve seen in mods are buttons that execute functions.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, like this: \u003Ca href=\u0022https://github.com/taraniselsu/TacSelfDestruct/blob/master/Source/TacSelfDestruct.cs#L38\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacSelfDestruct/blob/master/Source/TacSelfDestruct.cs#L38\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELook at the UI_* attributes.\u003C/p\u003E\n"},{"CreatedByName":"XanderTek","CreatedById":92553,"CreatedDateTime":"2013-12-20T23:31:54Z","Content":"\n\u003Cp\u003EThanks! How do you guys find these new features? There doesn\u0027t seem to be any new documentation, yet almost without fail someone has figured out all the latest tricks.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-20T23:37:56Z\u0022 title=\u002212/20/2013 11:37  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 20, 2013\u003C/time\u003E by XanderTek\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-12-21T00:13:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022XanderTek\u0022 data-cite=\u0022XanderTek\u0022\u003E\u003Cdiv\u003EThanks! How do you guys find these new features? There doesn\u0027t seem to be any new documentation, yet almost without fail someone has figured out all the latest tricks.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI passed on the info to Taranis myself, super sicret stuff.\u003C/p\u003E\n"},{"CreatedByName":"XanderTek","CreatedById":92553,"CreatedDateTime":"2013-12-21T02:39:05Z","Content":"\n\u003Cp\u003EHmm... very sneaky! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EBetween RealChutes and TAC I now have some good examples for UI_Toggle and UI_Floatrange, but in my autocomplete list I see there are some others. Any idea if UI_Label, and UI_Vector2 are designed to be used similarly? They don\u0027t seem to show up in game for me, but I could certainly be missing something.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-12-21T05:10:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022XanderTek\u0022 data-cite=\u0022XanderTek\u0022\u003E\u003Cdiv\u003EHmm... very sneaky! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EBetween RealChutes and TAC I now have some good examples for UI_Toggle and UI_Floatrange, but in my autocomplete list I see there are some others. Any idea if UI_Label, and UI_Vector2 are designed to be used similarly? They don\u0027t seem to show up in game for me, but I could certainly be missing something.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe UI_Label doesn\u0027t do much in this situation. As for UI_Vector2, I\u0027ve tried to use it, but it doesn\u0027T seem to be operational with tweakables unfortunately. I think only UI_FloatRange and UI_Toggle currently work.\u003C/p\u003E\n"},{"CreatedByName":"BioSehnsucht","CreatedById":1071,"CreatedDateTime":"2013-12-21T06:15:54Z","Content":"\n\u003Cp\u003EHas anyone figured out a way to add items to the list of science received after a vessel is recovered ? Would it be possible to trigger that to pop up even if the vessel was destroyed (with an added science entry) ? I\u0027m trying to set up a plugin that will give science when something blows up in view of KSC, in view of a crewed vessel / EVA, or \u0022lands\u0022 (destructively or as debris) on Kerbin (small amounts, with diminishing returns per part type, but enough to \u0022learn from your mistakes\u0022 and be useful in the earlier stages of career). I think I can just add to the science directly by adding to ResearchAndDevelopment.Instance.Science, but I\u0027d rather have it be listed like normal science data gathering after a mission is completed.\u003C/p\u003E\n"},{"CreatedByName":"BioSehnsucht","CreatedById":1071,"CreatedDateTime":"2013-12-22T08:42:22Z","Content":"\n\u003Cp\u003EI\u0027ve gotten part way there I think, science is increased but it doesn\u0027t show on the recovery screen as an individual entry (just in the total science at the bottom).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EScienceSubject subj = new ScienceSubject(\u0022recovery@KerbinFlew\u0022, \u0022Failure Analysis of flight components\u0022, 1.0f, (float)newScience, 10);\u003Cbr\u003E\u003Cbr\u003EResearchAndDevelopment.Instance.SubmitScienceData((float)newScience,subj);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"BioSehnsucht","CreatedById":1071,"CreatedDateTime":"2013-12-23T18:14:44Z","Content":"\n\u003Cp\u003EAfter looking at KSP\u0027s code with ILSpy (which can get some variable names, others it fails and instead of giving a nice human readable name outputs numbers but not as text.. i.e. the text view interprets them with symbols like [sOH] and [bS] and so forth), I may have a clue what I have to do. It looks like if instead of doing SubmitScienceData myself, I get my science into ScienceData and slap it as a certain kind of config node on a vessel that is being recovered (creating a fake one from scratch to handle the case where it has been destroyed but I want to show some failure analysis gain from it, perhaps), the recovery screen will work right... probably. Just have to figure out HOW to do it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-23T21:15:01Z","Content":"\n\u003Cp\u003EI\u0027m wondering if it will actually display for you, if the results window is using the Squad list of Subjects for its display it might not be possible to get a display, even if you get the data in there. Similarly for the Subjects in the Science Archive\u003C/p\u003E\n"},{"CreatedByName":"mic_e","CreatedById":60757,"CreatedDateTime":"2013-12-23T21:28:31Z","Content":"\n\u003Cp\u003EHi, how can I read the physics delta time of the current frame (needed for numerical integration of g-forces)?\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-12-23T22:09:12Z","Content":"\n\u003Cp\u003EWhere do I get the API\u0027s to make plugins, and (aside from Unity and KSP) do I need any other program(s)?\u003C/p\u003E\n"},{"CreatedByName":"Magion","CreatedById":97022,"CreatedDateTime":"2013-12-23T22:29:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Themohawkninja\u0022 data-cite=\u0022Themohawkninja\u0022\u003E\u003Cdiv\u003EWhere do I get the API\u0027s to make plugins, and (aside from Unity and KSP) do I need any other program(s)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELots of documentation you can find at \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Community_API_Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Community_API_Documentation\u003C/a\u003E or at \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E. You don\u0027t need Unity for making plugins (maybe for GUI testing - launching KSP five times per minute after small tweaks is really annoying). But you will need Visual Studio or MonoDevelop for writing a code.\u003C/p\u003E\n"},{"CreatedByName":"mic_e","CreatedById":60757,"CreatedDateTime":"2013-12-23T22:33:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Magion\u0022 data-cite=\u0022Magion\u0022\u003E\u003Cdiv\u003EYou will need Visual Studio or MonoDevelop for writing a code.\u003C/div\u003E\u003C/blockquote\u003ENot neccesarily \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I\u0027ve developed my NavballDockingAlignmentIndicator mod completely with a bare text editor (vim) and a Makefile.\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-12-23T22:40:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Magion\u0022 data-cite=\u0022Magion\u0022\u003E\u003Cdiv\u003ELots of documentation you can find at \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Community_API_Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Community_API_Documentation\u003C/a\u003E or at \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E. You don\u0027t need Unity for making plugins (maybe for GUI testing - launching KSP five times per minute after small tweaks is really annoying). But you will need Visual Studio or MonoDevelop for writing a code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI got VS 2010, so that\u0027s a given.\u003C/p\u003E\u003Cp\u003EThanks for the class code link. Knowing what classes to use has been why I haven\u0027t modded any games past .cfg edits yet.\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-12-23T22:44:35Z","Content":"\n\u003Cp\u003EOkay, so where are the classes to give players science?\u003C/p\u003E\n"},{"CreatedByName":"mic_e","CreatedById":60757,"CreatedDateTime":"2013-12-23T23:34:38Z","Content":"\n\u003Cp\u003EI\u0027ve searched the MechJeb sources and found that the following field contains the delta time of the current phys frame: TimeWarp.fixedDeltaTime\u003C/p\u003E\u003Cp\u003EHowever, I still need to find out whether the game is currently paused. Any help?\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2013-12-23T23:49:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mic_e\u0022 data-cite=\u0022mic_e\u0022\u003E\u003Cdiv\u003EI\u0027ve searched the MechJeb sources and found that the following field contains the delta time of the current phys frame: TimeWarp.fixedDeltaTime\u003Cp\u003EHowever, I still need to find out whether the game is currently paused. Any help?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFlightDriver.Pause is the one that tells you if times paused - this one is useful sometimes too - PauseMenu.isOpen\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-12-24T00:37:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mic_e\u0022 data-cite=\u0022mic_e\u0022\u003E\u003Cdiv\u003EI\u0027ve searched the MechJeb sources and found that the following field contains the delta time of the current phys frame: TimeWarp.fixedDeltaTime\u003Cp\u003EHowever, I still need to find out whether the game is currently paused. Any help?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wouldn\u0027t use TimeWarp in that case. Time.fixedDeltaTime is most likely what will do the job in your case.\u003C/p\u003E\n"},{"CreatedByName":"BioSehnsucht","CreatedById":1071,"CreatedDateTime":"2013-12-24T07:11:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Themohawkninja\u0022 data-cite=\u0022Themohawkninja\u0022\u003E\u003Cdiv\u003EOkay, so where are the classes to give players science?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELook at ResearchandDevelopement, ScienceSubject, ScienceData, etc... (i.e. things with research or science in the name).\u003C/p\u003E\u003Cp\u003EIf you\u0027re using Visual Studio you can start typing and let the auto complete suggest things and look through the list. When you find something interesting, F12 on it to jump to it\u0027s definition in the assembly.\u003C/p\u003E\u003Cp\u003EIf you\u0027re feeling more adventurous, google ILSpy and use that on the assembly... but while it gives you basically full source disassembly, a lot of the variable names are borked ... \u003C/p\u003E\u003Cp\u003EI think we can define new ScienceSubject objects via cfg (see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56137-Probe-Science-config-files\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/56137-Probe-Science-config-files\u003C/a\u003E , probe_science_definitions.cfg ), which we can then generate ScienceData objects referencing the ScienceSubject objects, just shove their config node onto the vessel somewhere (I don\u0027t think it matters where, I hacked up a few ScienceData nodes into my persistence file in several places in the vessel hierarchy and got debug log errors about the science subjects not existing when it tried to show the dialog - I haven\u0027t yet tried to create them via cfg and haven\u0027t figured out how to add them during runtime myself programmatically)...\u003C/p\u003E\n"},{"CreatedByName":"Themohawkninja","CreatedById":9628,"CreatedDateTime":"2013-12-24T16:58:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BioSehnsucht\u0022 data-cite=\u0022BioSehnsucht\u0022\u003E\u003Cdiv\u003ELook at ResearchandDevelopement, ScienceSubject, ScienceData, etc... (i.e. things with research or science in the name).\u003Cp\u003EIf you\u0027re using Visual Studio you can start typing and let the auto complete suggest things and look through the list. When you find something interesting, F12 on it to jump to it\u0027s definition in the assembly.\u003C/p\u003E\u003Cp\u003EIf you\u0027re feeling more adventurous, google ILSpy and use that on the assembly... but while it gives you basically full source disassembly, a lot of the variable names are borked ... \u003C/p\u003E\u003Cp\u003EI think we can define new ScienceSubject objects via cfg (see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56137-Probe-Science-config-files\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/56137-Probe-Science-config-files\u003C/a\u003E , probe_science_definitions.cfg ), which we can then generate ScienceData objects referencing the ScienceSubject objects, just shove their config node onto the vessel somewhere (I don\u0027t think it matters where, I hacked up a few ScienceData nodes into my persistence file in several places in the vessel hierarchy and got debug log errors about the science subjects not existing when it tried to show the dialog - I haven\u0027t yet tried to create them via cfg and haven\u0027t figured out how to add them during runtime myself programmatically)...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGot it.\u003C/p\u003E\u003Cp\u003EOne more question. In VS2010, what project type do I select?\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-12-24T18:10:29Z","Content":"\n\u003Cp\u003EIt has to create a DLL. Don\u0027t have 2010 installed atm, but 2012 calls it \u0022Class Library\u0022 and can be found in Visual C#.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-12-24T18:11:33Z","Content":"\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/ilWZjYx7brE?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E is a good guide for getting your development environment all set up.\n"}]}