{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":10,"Articles":[{"CreatedByName":"mrenigma03","CreatedById":28823,"CreatedDateTime":"2012-09-26T14:00:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chev\u0022 data-cite=\u0022Chev\u0022\u003E\u003Cdiv\u003E1) Use 64x64, judging by the example file (size of one of the grid squares).\u003Cp\u003ENo insight on 2) for now, gotta try that\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E64x64 was my first thought for the same reason, but in game it\u0027s not right. It appears off center and too large.\u003C/p\u003E\n"},{"CreatedByName":"Foran","CreatedById":126,"CreatedDateTime":"2012-09-26T22:18:19Z","Content":"\n\u003Cp\u003EDoes anyone know the name of the interior game object for the space plane hangar? I\u0027d like to be able to make a part that does the same thing the new mumech launchpad/vab obliterator does but with the sph.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried a couple names now, interior_spaceplane, interior_spaceplanehangar, but neither of those are correct.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-09-26T22:52:19Z\u0022 title=\u002209/26/2012 10:52  PM\u0022 data-short=\u002211 yr\u0022\u003ESeptember 26, 2012\u003C/time\u003E by Foran\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kellis","CreatedById":51984,"CreatedDateTime":"2012-09-28T04:05:16Z","Content":"\n\u003Cp\u003ELooks like mumech has handled that one, Foran; it\u0027s been updated. Easy fix, I guess?\u003C/p\u003E\u003Cp\u003EOkay. Possibly esoteric question- I\u0027ve not found any discussion on the topic, so I\u0027ll toss it in, here, and see what happens.\u003C/p\u003E\u003Cp\u003EI\u0027ve been playing with decouplers and trying to determine how they work.. it looks like there are three different types (RadialDecoupler, Decoupler, and DecouplerGUI), and RadialDecoupler and the other two work differently.\u003C/p\u003E\u003Cp\u003EThe RadialDecoupler appears to \u0022let go\u0022 of its parent, and take all of the children attached to it with it.\u003C/p\u003E\u003Cp\u003EThe Decoupler/DecouplerGUI, on the other hand, doesn\u0027t seem to let go of the \u003Cem\u003Eparent\u003C/em\u003E, but instead lets go of the \u0022top\u0022 node - at least, as far as the included default decouplers are concerned. That \u003Cem\u003Elooks\u003C/em\u003E like the last (second?) element in the attachNode list, but I\u0027m not finding anything that indicates \u003Cem\u003Ewhy\u003C/em\u003E that\u0027s the case. I can just assume it\u0027s dropping the last attachNode and run with that, but I\u0027m not sure that\u0027s really the correct answer; should I be looking at some other bit of data to tell me this?\u003C/p\u003E\u003Cp\u003E(Why do I care? Playing with complex delta-V calculation from the VAB, and it rather matters which bits fall off when a decoupler triggers, since you could conceivably attach silly-large weights to the surface of the decoupler instead of just using the thing \u0022normally\u0022..)\u003C/p\u003E\u003Cp\u003EThanks for any assistance; this one currently has me stumped...\u003C/p\u003E\n"},{"CreatedByName":"slam5000","CreatedById":53241,"CreatedDateTime":"2012-10-01T04:26:59Z","Content":"\n\u003Cp\u003EHey guys, quick question, I was wondering if anyone had any idea how to implement any of these:\u003C/p\u003E\u003Cp\u003E 1. Preventing the user from taking certain actions (more specifically: leaving IVA mode {including the map view}, entering IVA mode, drawing arbitrary orbits in\u003C/p\u003E\u003Cp\u003E the map view, controlling the spacecraft, and leaving map view) \u003C/p\u003E\u003Cp\u003E 2. drawing arbitrary orbits in the map view, that change in real time, as if the person was piloting the spacecraft on said orbit\u003C/p\u003E\u003Cp\u003EThanks in advance to anyone who can answer this! (P.S. mad props if you can figure out what I\u0027m trying to make, feel free to take a guess)\u003C/p\u003E\n"},{"CreatedByName":"BlazingAngel665","CreatedById":30182,"CreatedDateTime":"2012-10-04T02:24:59Z","Content":"\n\u003Cp\u003EAlright so supposing one wanted to allow a craft to be controlable, what would have to change in a preexisting persistance file with a preexisting craft to allow the said rocket to be controllable without a pod, but with the usually Ki Kd Kp parameters of say a mark 1 pod?\u003C/p\u003E\n"},{"CreatedByName":"Scix","CreatedById":37322,"CreatedDateTime":"2013-04-23T23:24:06Z","Content":"\n\u003Cp\u003EI want to add sounds to existing parts. Mostly Kerbals themselves. How would I go about doing this?\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-04-24T00:42:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scix\u0022 data-cite=\u0022Scix\u0022\u003E\u003Cdiv\u003EI want to add sounds to existing parts. Mostly Kerbals themselves. How would I go about doing this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou should look at the source for Kethane. That does sounds pretty well, and the code is pretty clear.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-04-24T04:29:16Z","Content":"\n\u003Cp\u003EQuick (I hope) question: I want to do a check whenever a part gets attached to the ship in the VAB. How do I set up a callback hook so MyMethod(Part newPart) gets called whenever a new part is attached to the ship that\u0027s being built?\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-04-24T04:55:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ialdabaoth\u0022 data-cite=\u0022ialdabaoth\u0022\u003E\u003Cdiv\u003EQuick (I hope) question: I want to do a check whenever a part gets attached to the ship in the VAB. How do I set up a callback hook so MyMethod(Part newPart) gets called whenever a new part is attached to the ship that\u0027s being built?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn PartModule, it would be OnAwake or OnStart, probably. You should test both and see which one does what you need.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-04-24T05:05:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ummwut\u0022 data-cite=\u0022ummwut\u0022\u003E\u003Cdiv\u003EIn PartModule, it would be OnAwake or OnStart, probably. You should test both and see which one does what you need.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENeither, because I\u0027m not coding a PartModule. I\u0027m coding a UI interface, which needs to pay attention to parts as they are added to the ship.\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-04-24T06:43:09Z","Content":"\n\u003Cp\u003EAh, you should go looking for DEADB33F\u0027s subassembly loader. It\u0027s a partless plugin (meaning it doesn\u0027t need to be bound to a part to load and run), and there\u0027s also some neat stuff he does with the VAB interface, but you could repurpose it for nearly anything.\u003C/p\u003E\n"},{"CreatedByName":"Swifty","CreatedById":57822,"CreatedDateTime":"2013-04-24T16:33:17Z","Content":"\n\u003Cp\u003E//Is it possible to create a prefab in unity and then load it into KSP? Assuming you put the prefab into the resources folder and everything the prefab points to a folder called PluginData/PluginName/assets\u003C/p\u003E\u003Cp\u003E//Why I\u0027m asking this is I am planning on creating a complex gui in unity using a what you see is what you get editor and then porting it across KSP. using a prefab would just be an incredible simple solution.\u003C/p\u003E\u003Cp\u003EThe answer is \u003Ca href=\u0022http://docs.unity3d.com/Documentation/Manual/AssetBundlesIntro.html\u0022 rel=\u0022external nofollow\u0022\u003EAsset Bundles\u003C/a\u003E. Unfortunately I don\u0027t have a pro license so back to doing it all by code.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-04-24T16:53:29Z\u0022 title=\u002204/24/2013 04:53  PM\u0022 data-short=\u002211 yr\u0022\u003EApril 24, 2013\u003C/time\u003E by Swifty\u003C/strong\u003E\n\u003Cbr\u003ERemembered Unity asset bundles\n\u003C/span\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-04-24T20:05:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ummwut\u0022 data-cite=\u0022ummwut\u0022\u003E\u003Cdiv\u003EAh, you should go looking for DEADB33F\u0027s subassembly loader. It\u0027s a partless plugin (meaning it doesn\u0027t need to be bound to a part to load and run), and there\u0027s also some neat stuff he does with the VAB interface, but you could repurpose it for nearly anything.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was helpful for about 90% of what I need. The remaining 10% might be more difficult. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s what I want to do right now:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FvzhYAe.jpg\u0022 alt=\u0022FvzhYAe.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-04-25T07:46:01Z","Content":"\n\u003Cp\u003EUpdate: Making good progress, but I\u0027m discovering an annoying bug.\u003C/p\u003E\u003Cp\u003EEditorLogic.fetch.PartSelected doesn\u0027t seem to work when you\u0027re in the Action Groups menu.\u003C/p\u003E\u003Cp\u003EAny ideas?\u003C/p\u003E\n"},{"CreatedByName":"Caswal","CreatedById":52919,"CreatedDateTime":"2013-04-25T10:40:39Z","Content":"\n\u003Cp\u003EAnyone played much with KSP.File.IO, I am after grabbing the whole data for a vessel currently in flight, but not having much success.\u003C/p\u003E\u003Cp\u003EThe line if (KSP.IO.File.Exists\u0026lt;Vessel\u0026gt;(this.vessel.GetName(), this.vessel)) causes a warning: G:/Steam/steamapps/common/Kerbal Space Program/KSP_Data/../PluginData\\.flights\\150c3412-1c57-4bde-a0c0-1d2da7767d01\u003C/p\u003E\u003Cp\u003EGenerating a nice empty directory at that location. Any ideas?\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-04-25T10:42:12Z","Content":"\n\u003Cp\u003E@ialdabaoth\u003C/p\u003E\u003Cp\u003EI don\u0027t see why it would. In Action Groups, you\u0027re selecting a group of parts (all in the same symmetry), so it wouldn\u0027t make sense to be able to get an individual part from that.\u003C/p\u003E\u003Cp\u003EWhy do you need to have a selected part when in the Action Groups menu, anyway?\u003C/p\u003E\u003Cp\u003E@Caswal\u003C/p\u003E\u003Cp\u003EThat might be a temporary file created during vessel loading or something. What kind of vessel data do you need? Most of your vessel info can be pulled straight from Assembly-CSharp\u0027s FlightGlobals class, from the ActiveVessel field.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-04-25T10:55:48Z\u0022 title=\u002204/25/2013 10:55  AM\u0022 data-short=\u002211 yr\u0022\u003EApril 25, 2013\u003C/time\u003E by ummwut\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-04-25T17:37:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ummwut\u0022 data-cite=\u0022ummwut\u0022\u003E\u003Cdiv\u003E@ialdabaoth\u003Cp\u003EI don\u0027t see why it would. In Action Groups, you\u0027re selecting a group of parts (all in the same symmetry), so it wouldn\u0027t make sense to be able to get an individual part from that.\u003C/p\u003E\u003Cp\u003EWhy do you need to have a selected part when in the Action Groups menu, anyway?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou saw what I\u0027m trying to do, right?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/FvzhYAe.jpg\u0022 alt=\u0022FvzhYAe.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI need to get which part/part group is selected, so I can give the user buttons to add modules or change its fuel load.\u003C/p\u003E\n"},{"CreatedByName":"Ydoow","CreatedById":10165,"CreatedDateTime":"2013-05-04T02:55:56Z","Content":"\n\u003Cp\u003EHow do I make monodevelop build a dll? Currently it pesters me about no Main method entry point, and won\u0027t allow me to build. If I add a main method (which I shouldn\u0027t need), then it builds me an .exe\u003C/p\u003E\u003Cp\u003EI\u0027m not seeing any way to change this\u003C/p\u003E\n"},{"CreatedByName":"drakesdoom","CreatedById":57297,"CreatedDateTime":"2013-05-04T03:25:31Z","Content":"\n\u003Cp\u003EDoes anyone know where the code is that defines the positions of celestial bodies / SOIs?\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-04T03:31:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ydoow\u0022 data-cite=\u0022Ydoow\u0022\u003E\u003Cdiv\u003EHow do I make monodevelop build a dll? Currently it pesters me about no Main method entry point, and won\u0027t allow me to build. If I add a main method (which I shouldn\u0027t need), then it builds me an .exe\u003Cp\u003EI\u0027m not seeing any way to change this\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStart a new solution, make it a library, import the Unity and KSP assemblies.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-04T06:47:42Z","Content":"\n\u003Cp\u003EProject Options\u0026gt;General\u0026gt;Compile Target.\u003C/p\u003E\u003Cp\u003EShould be Library for a dll.\u003C/p\u003E\n"},{"CreatedByName":"mrenigma03","CreatedById":28823,"CreatedDateTime":"2013-05-06T14:39:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022drakesdoom\u0022 data-cite=\u0022drakesdoom\u0022\u003E\u003Cdiv\u003EDoes anyone know where the code is that defines the positions of celestial bodies / SOIs?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe code itself is hidden, since KSP is not open source. The devs have provided an API for us to use, however.\u003C/p\u003E\u003Cp\u003EFor the position of an object, you would call one of the methods (stored in the orbit class) in [object].orbit.getPositionAtUT([time]), which returns a Vector 3d pointing to an object\u0027s location at the given universal time. For examples on things you can do with that, feel free to peruse the code for my Protractor plugin \u003Ca href=\u0022https://github.com/mrenigma03/planphaseang/blob/master/planphaseang/protractor%20-%20partmodule.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"TChapman500","CreatedById":63897,"CreatedDateTime":"2013-05-07T17:27:01Z","Content":"\n\u003Cp\u003ESorry if this has been asked before, but how do I remove the atmospheric 2.5 km limit on objects that are not being controlled by the player?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-07T18:16:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TChapman500\u0022 data-cite=\u0022TChapman500\u0022\u003E\u003Cdiv\u003ESorry if this has been asked before, but how do I remove the atmospheric 2.5 km limit on objects that are not being controlled by the player?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s a consequence of the wider system as to which vessels simulate physics and which don\u0027t. Any vessels within 2.5km run physics simulations, any vessels beyond that are assumed to be in a fixed orbit (\u0027on rails\u0027). Any fixed orbits that intersect atmosphere above a certain pressure are considered to deorbit and are removed from the game.\u003C/p\u003E\u003Cp\u003EYou can extend the physics limit, I believe Lazor mod does it, but that has other side effects. I don\u0027t know if you can change the deorbit behaviour.\u003C/p\u003E\n"},{"CreatedByName":"TChapman500","CreatedById":63897,"CreatedDateTime":"2013-05-07T21:01:03Z","Content":"\n\u003Cp\u003EThat was helpful. So how do I extend the physics limit?\u003C/p\u003E\n"}]}