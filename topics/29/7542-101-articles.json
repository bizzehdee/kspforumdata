{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":101,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-15T16:18:08Z","Content":"\n\u003Cp\u003E\nAnother option for a somewhat simpler UI setup is covered by Maneuver Node Evolved.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt basically uses an assembly for Unity just to handle \u003Ca href=\u0022https://github.com/DMagic1/KSP_Better_Maneuvering/blob/master/Source/BetterManeuvering.Unity/ManeuverInput.cs\u0022 rel=\u0022external nofollow\u0022\u003Estoring references to objects\u003C/a\u003E. It also makes replacing the standard text objects with text mesh pro a lot simpler.\n\u003C/p\u003E\n\u003Cp\u003E\nAll of the button listeners and methods are \u003Ca href=\u0022https://github.com/DMagic1/KSP_Better_Maneuvering/blob/master/Source/BetterManeuvering/ManeuverInputPanel.cs#L253-L283\u0022 rel=\u0022external nofollow\u0022\u003Eassigned manually in the other assembly\u003C/a\u003E. Since the UI is fairly simple, and its elements are fixed and don\u0027t change there isn\u0027t really any need for the more complex methods described in my tutorial.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-15T17:15:05Z","Content":"\n\u003Cp\u003E\nFor now, I\u0027m going to stick with a single assembly and making the calls to the asset bundle in code directly. There are only 3 object in this assetbundle so it\u0027s simpler to do it that way and it also helps me with learning how to do this at all.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce I move on to replacing the UI in my existing mods, a hybrid linked reference as Maneuver Node Evolved uses will probable be the way I go. Almost everything in my GUI\u0027s links to KSP objects somehow so what I could do in a dedicated GUI assembly is actually very limited as that assembly can\u0027t refer to KSP\u0027s Assembly-Csharp and so would be almost useless to me.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, that brings up the Text Mesh Pro issue, I did see the thread about it in the (now locked) 1.2 pre-release sub-forum, but is there anything more recent (forum thread or example mod code) on how to get that working?\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-15T17:23:24Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81549-diazo/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281549\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81549-diazo/\u0022 rel=\u0022\u0022\u003E@Diazo\u003C/a\u003E\u00A0I got inspired seeing a few different posts about UI:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/151354-unity-ui-creation-tutorial/\u0026amp;do=embed\u0026amp;comment=2888882\u0026amp;embedComment=2888882\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nEven without a separate assembly it should be fairly simple to replace the standard text elements.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-15T17:24:52Z","Content":"\n\u003Cp\u003E\nAlright, will try that out tonight and give some feedback. (On mobile at the moment.)\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for all the great info.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-15T22:02:04Z","Content":"\n\u003Cp\u003E\nOkay, I\u0027m missing something that I\u0027m pretty sure is obvious.\n\u003C/p\u003E\n\u003Cp\u003E\nThis has nothing to do with my previous question about assetbundles.\n\u003C/p\u003E\n\u003Cp\u003E\nAll I\u0027m trying to do is attach another piece of text to the Altimeter to show which mode it is in.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EStart()\n{\n_tumbler = UnityEngine.Object.FindObjectOfType\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;KSP.UI.Screens.Flight.AltitudeTumbler\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\ntumblerText = _tumbler.AddComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;TMPro.TextMeshProUGUI\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\ntumblerText.text = \u0022ASL\u0022;\ntumblerText.color = Color.green; \ntumblerText.alignment = TMPro.TextAlignmentOptions.Center;\ntumblerText.fontSize = 14;\ntumblerText.fontStyle = TMPro.FontStyles.Bold;\ntumblerText.font = Resources.Load(\u0022Fonts/Arial SDF\u0022, typeof(TMPro.TMP_FontAsset)) as TMPro.TMP_FontAsset;\n}\n\n\nUpdate()\n{\ntumblerText.rectTransform.anchoredPosition = tumblerText.rectTransform.anchoredPosition \u002B new Vector2(0, -0.1f);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis works and spawns the text \u0022ASL\u0022 in the middle of the altimeter in the Start() method and slowly descends the screen in the Update() method. The issue is that the black numbers from the Altimeter come along as well and I don\u0027t know why.\n\u003C/p\u003E\n\u003Cp\u003E\nMy first though was that you can\u0027t have two TMPro instances on the same game object so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EStart()\n{\n_tumbler = UnityEngine.Object.FindObjectOfType\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;KSP.UI.Screens.Flight.AltitudeTumbler\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\nGameObject temp = new GameObject();\ntemp.transform.parent = _tumbler.transform;\ntumblerText = temp.AddComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;TMPro.TextMeshProUGUI\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\ntumblerText = _tumbler.AddComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;TMPro.TextMeshProUGUI\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\ntumblerText.text = \u0022ASL\u0022;\ntumblerText.color = Color.green; \ntumblerText.alignment = TMPro.TextAlignmentOptions.Center;\ntumblerText.fontSize = 14;\ntumblerText.fontStyle = TMPro.FontStyles.Bold;\ntumblerText.font = Resources.Load(\u0022Fonts/Arial SDF\u0022, typeof(TMPro.TMP_FontAsset)) as TMPro.TMP_FontAsset;\n}\n\n\nUpdate()\n{\ntumblerText.rectTransform.anchoredPosition = tumblerText.rectTransform.anchoredPosition \u002B new Vector2(0, -0.1f);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis worked to spawn the text \u0022ASL\u0022 in the middle of the screen, but the altimiter numbers were just flat out gone.\u00A0 I assume they got shifted off screen somehow, but I don\u0027t know where.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat am I missing? Just adding a piece of text should be easy but I don\u0027t know where I\u0027m going wrong..\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere is also a .bounds and .textbounds property that looks interesting, but they don\u0027t behave as expected. There documentation on this TMPro stuff somehwere?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-15T22:35:02Z\u0022 title=\u002212/15/2016 10:35  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 15, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-15T22:43:03Z","Content":"\n\u003Cp\u003E\nIn the first instance your text is attached to the same GameObject as the tumblers (which I don\u0027t think are text, they are something like 3d meshes, since they rotate as you would expect a tumbler to) which means they share a Transform/RectTransform.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the second instance it looks like you\u0027re adding the TMP object twice, first to the temp GameObject, then to the tumbler, you are probably wanting to add the temp GameObject as a child of the tumbler object. You might also want to just try skipping the tumbler altogether and adding the GameObject directly to the screen messages canvas, or maybe just the main canvas.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-16T14:46:35Z","Content":"\n\u003Cp\u003E\nThis is turning into a real mess on me here.\n\u003C/p\u003E\n\u003Cp\u003E\nFixing up the code to make a new gameObject that I make a child of the Altimeter UI is the farthest I\u0027ve gotten so far.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, as soon as I attach that new gameObject to the Altimeter UI, the black altimeter numbers still disapear. Oddly enough, the altimeter numbers still disapear when I attach my text to the Atmopheric Pressure Gauge instead.\n\u003C/p\u003E\n\u003Cp\u003E\nMy best guess at the moment is that when I make the new gameObject it gets automatically added to the Flight scene, NOT the UI Canvas and when I try to make a parent/child relationship across those two things it is what is causing my issue.\n\u003C/p\u003E\n\u003Cp\u003E\nWill keep poking at it, this is something that would really make my life easier if I can figure it out.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-16T14:53:14Z\u0022 title=\u002212/16/2016 02:53  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 16, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-12-16T15:02:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222889971\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481899595\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy best guess at the moment is that when I make the new gameObject it gets automatically added to the Flight scene, NOT the UI Canvas and when I try to make a parent/child relationship across those two things it is what is causing my issue.\n\u003C/p\u003E\n\u003Cp\u003E\nWill keep poking at it, this is something that would really make my life easier if I can figure it out.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJust throwing ideas a few ideas to try out :\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/sarbian/DebugStuff/blob/master/DebugStuff.cs#L688\u0022 rel=\u0022external nofollow\u0022\u003Eadd a RectTransform component\u003C/a\u003E and use that for parenting and moving since it s an UI object.\n\u003C/li\u003E\n\u003Cli\u003E\nparent with\u00A0\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Transform.SetParent.html\u0022 rel=\u0022external nofollow\u0022\u003ETransform.SetParent.html\u003C/a\u003E with the 2nd arg set to false.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-16T15:43:34Z","Content":"\n\u003Cp\u003E\nThe same thing happens to the Funds tumbler in the editor whenever Contracts Window \u002B is opened, the numbers just disappear. But it doesn\u0027t happen in any other scene. I could never figure out what was happening, nothing about the position of the tumbler changed. So maybe there is just something weird about them or some bugs.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Eldrad_Ulthran","CreatedById":185228,"CreatedDateTime":"2016-12-17T00:28:59Z","Content":"\n\u003Cdiv style=\u0022table-layout:fixed;width:882px;line-height:1.6;color:rgb(39,42,52);font-size:14px;margin-bottom:20px;margin-top:0px;font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Cdiv style=\u0022table-layout:fixed;width:882px;line-height:1.6;color:rgb(39,42,52);font-size:14px;margin-bottom:20px;margin-top:0px;font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-style:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Cp style=\u0022margin-top:0px;\u0022\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/k6f3a9bky48g7l8/AAD9MLXra7AltGLpXGlNzwFma?dl=0\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:rgb(173,20,87);text-decoration:underline;background-color:transparent;\u0022\u003Ehttps://www.dropbox.com/sh/k6f3a9bky48g7l8/AAD9MLXra7AltGLpXGlNzwFma?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-bottom:0px;\u0022\u003E\nMy kopernicus planet pack. as soon as I f12 to it All hell gets loose.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022margin-bottom:0px;\u0022\u003E\nDone in ksp 1.2.1. Please help!\n\u003C/p\u003E\n\u003C/div\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-12-17T06:42:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222890024\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481903014\u0022 data-ipsquote-userid=\u002257416\u0022 data-ipsquote-username=\u0022DMagic\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, DMagic said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nThe same thing happens to the Funds tumbler in the editor whenever Contracts Window \u002B is opened, the numbers just disappear. But it doesn\u0027t happen in any other scene. I could never figure out what was happening, nothing about the position of the tumbler changed. So maybe there is just something weird about them or some bugs.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe had some fun times with layer/mask issues similar to this in 1.2. \u00A0My guess is you\u0027ve got a ScrollView in Contracts Window\u002B, which is implemented with a mask (which is just setting the stencil bit). \u00A0Because the tumblers also use the stencil bit, the two can interfere with each other.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can get it to stop doing that by either:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nMoving Contract Window \u002B to another layer (by parenting it to a different canvas), picking one that is drawn later than the tumblers (which are on the Main layer/canvas).\n\u003C/li\u003E\n\u003Cli\u003E\nPlaying around with z-coordinates. \u00A0What you\u0027d want to do is move the stuff under the viewport object away from the camera (\u002B\u0027ve z) so that they are drawn first (at least, I think that was what fixed it - going by memory).\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"Wjolcz","CreatedById":39636,"CreatedDateTime":"2016-12-17T10:18:46Z","Content":"\n\u003Cp\u003E\nI want to mod the stock \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E parts to make them convert intake air into xenon. Is that doable? Where and how do I start?\n\u003C/p\u003E\n"},{"CreatedByName":"Faile","CreatedById":59519,"CreatedDateTime":"2016-12-17T10:26:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222890927\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481969926\u0022 data-ipsquote-userid=\u002239636\u0022 data-ipsquote-username=\u0022Veeltch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Veeltch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI want to mod the stock \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E parts to make them convert intake air into xenon. Is that doable? Where and how do I start?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStart here:\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022xKDYDDQ.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/xKDYDDQ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLook at what\u0027s in the .cfg file and use this for help:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Wjolcz","CreatedById":39636,"CreatedDateTime":"2016-12-17T12:27:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222890934\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481970409\u0022 data-ipsquote-userid=\u002259519\u0022 data-ipsquote-username=\u0022Faile\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Faile said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStart here:\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022xKDYDDQ.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/xKDYDDQ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLook at what\u0027s in the .cfg file and use this for help:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDone! Thanks a ton! The \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E now converts IntakeAir and EC into XenonGas.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I want to do something more complicated. I want to be able to harvest IntakeAir from all the atmospheres except for Kerbin.\n\u003C/p\u003E\n\u003Cp\u003E\nHow I understand it: If I change the \u0022checkForOxygen = true\u0022 to \u0022false\u0022 the intakes will be able to collect IntakeAir, but it will also make jet engines work on Eve and Duna. And I don\u0027t want that. I want jets to work on Kerbin and Laythe and use all the atmospheres to turn IntakeAir into XenonGas (except for Kerbin).\u00A0Uhhhh... It\u0027s complicated if I want to make it balanced somehow.\n\u003C/p\u003E\n"},{"CreatedByName":"Marzl","CreatedById":168199,"CreatedDateTime":"2016-12-17T13:56:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222890999\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481977626\u0022 data-ipsquote-userid=\u002239636\u0022 data-ipsquote-username=\u0022Veeltch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Veeltch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDone! Thanks a ton! The \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E now converts IntakeAir and EC into XenonGas.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I want to do something more complicated. I want to be able to harvest IntakeAir from all the atmospheres except for Kerbin.\n\u003C/p\u003E\n\u003Cp\u003E\nHow I understand it: If I change the \u0022checkForOxygen = true\u0022 to \u0022false\u0022 the intakes will be able to collect IntakeAir, but it will also make jet engines work on Eve and Duna. And I don\u0027t want that. I want jets to work on Kerbin and Laythe and use all the atmospheres to turn IntakeAir into XenonGas (except for Kerbin).\u00A0Uhhhh... It\u0027s complicated if I want to make it balanced somehow.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou need to define a new atmospheric\u00A0resource for each of the other planets. Then you need a ModuleResourceHarvester module (in your \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E or intake or whatever part) to harvest that new resource. Then you can convert this new resource instead of IntakeAir to XenonGas.\u003Cbr\u003E\u003Cbr\u003E\nI think Kerbonite does more or less exactly that, you may\u00A0wan\u00B4t to\u00A0take a look at this mod.\n\u003C/p\u003E\n\u003Cp\u003E\nModuleResourceHarvester requires an animation to activate, at least that was the case for 1.1.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-17T16:06:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222890806\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481956928\u0022 data-ipsquote-userid=\u0022119307\u0022 data-ipsquote-username=\u0022nightingale\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, nightingale said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWe had some fun times with layer/mask issues similar to this in 1.2. \u00A0My guess is you\u0027ve got a ScrollView in Contracts Window\u002B, which is implemented with a mask (which is just setting the stencil bit). \u00A0Because the tumblers also use the stencil bit, the two can interfere with each other.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can get it to stop doing that by either:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nMoving Contract Window \u002B to another layer (by parenting it to a different canvas), picking one that is drawn later than the tumblers (which are on the Main layer/canvas).\n\u003C/li\u003E\n\u003Cli\u003E\nPlaying around with z-coordinates. \u00A0What you\u0027d want to do is move the stuff under the viewport object away from the camera (\u002B\u0027ve z) so that they are drawn first (at least, I think that was what fixed it - going by memory).\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPutting on a different canvas seems to work; moving the z-position didn\u0027t seem to help, but I didn\u0027t try too much.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-17T17:14:24Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119307-nightingale/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119307\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119307-nightingale/\u0022 rel=\u0022\u0022\u003E@nightingale\u003C/a\u003E Thanks for the info, I\u0027ll have to mess with the z-position some more. As this text is attached to altimeter, I need it to move when the altimeter does to show the Recover Vessel button.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThat means I need to put it on the same canvas. (I think, have not actually confirmed the exact number of the available canvases.)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCould I just add my own Canvas? I\u0027m still figuring this new UI out and that might be the simplest option.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is a strange issue though, I didn\u0027t notice previously, but both the Altimeter and Stage Count tumblers lose their text when this happens.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-17T17:18:40Z\u0022 title=\u002212/17/2016 05:18  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 17, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-17T19:16:20Z","Content":"\n\u003Cp\u003E\nCheck UIMasterController in KSP.UI for the available canvases.\n\u003C/p\u003E\n\u003Cp\u003E\nAdding your own canvas is possible, but can be tricky.\u00A0You can also add your canvas to another canvas, but I wouldn\u0027t do that, there are apparently some Unity bugs with nested canvases.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if you need your UI to move with the altimeter it will have to be a child of that and can\u0027t be on a separate canvas, or you will have to constantly update its position.\n\u003C/p\u003E\n\u003Cp\u003E\nText Mesh Pro objects are Unity MaskableGraphics, so maybe there is some property that can be set to keep them from screwing with other masks.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, lots of TMP documentation here:\u00A0\u003Ca href=\u0022http://digitalnativestudios.com/textmeshpro/docs/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://digitalnativestudios.com/textmeshpro/docs/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-17T19:28:52Z\u0022 title=\u002212/17/2016 07:28  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 17, 2016\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-18T04:59:55Z","Content":"\n\u003Cp\u003E\nOf all the stupid things, it turns out that all I have to do is set the .localPostion on the gameObject with the text I\u0027m trying to add to Vector.Zero and everything works.\n\u003C/p\u003E\n\u003Cp\u003E\nApparently the defaults are what screw things up, so despite everything looking somewhat in the right place on-screen, the Vector3 positions of the transforms behind the scenes were screwy somehow.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the following works, note I\u0027m using the HundredThousands tumbler (the leftmost 0), not the entire tumbler gameObject as my parent.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ElhGUIgo = new GameObject(\u0022LHGUI\u0022);\n            //lhGUIgo.layer = 5; //not sure this is required anymore\n            lhGUIrect = lhGUIgo.AddComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;RectTransform\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n            lhGUIrect.SetParent(lhGUIgo.transform, false);\n            tumblerASLtext = lhGUIgo.AddComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;TMPro.TextMeshProUGUI\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n            lhGUIgo.transform.SetParent(_tumbler.transform.GetChild(0).gameObject.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;RectTransform\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E());\n            tumblerASLtext.transform.localPosition = new Vector3(.5f,-.7f,0); //CRITICAL, set this because defaults block tumbler number rendering\n           \n            tumblerASLtext.text = \u0022ASL\u0022;\n            tumblerASLtext.color = Color.green; \n           tumblerASLtext.alignment = TMPro.TextAlignmentOptions.Center;\n           tumblerASLtext.fontSize = 14;\n            tumblerASLtext.fontStyle = TMPro.FontStyles.Bold; \n           tumblerASLtext.font = Resources.Load(\u0022Fonts/Arial SDF\u0022, typeof(TMPro.TMP_FontAsset)) as TMPro.TMP_FontAsset;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Vd5LjnH.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/Vd5LjnH.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo a lot of frustration for a simple answer.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"RockyTV","CreatedById":57161,"CreatedDateTime":"2016-12-21T15:32:02Z","Content":"\n\u003Cp\u003E\nIs there a way I can debug KSP to show me detailed information about exceptions (e.g. what line of what file threw the exception)?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-12-21T15:49:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222895709\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221482334322\u0022 data-ipsquote-userid=\u002257161\u0022 data-ipsquote-username=\u0022RockyTV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, RockyTV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a way I can debug KSP to show me detailed information about exceptions (e.g. what line of what file threw the exception)?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003EYes\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"RockyTV","CreatedById":57161,"CreatedDateTime":"2016-12-21T15:51:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222895748\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221482335367\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003EYes\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWasn\u0027t there a dev mode patcher that would patch some stuff in the assembly so, for example, the following message\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nget_realtimeSinceStartup can only be called from the main thread\u003C/pre\u003E\n\u003Cp\u003E\nwould then be ignored and allow my addon to run perfectly fine? Is there a version of it for 1.2.2?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-21T15:52:10Z\u0022 title=\u002212/21/2016 03:52  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 21, 2016\u003C/time\u003E by RockyTV\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-12-21T15:55:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222895751\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221482335509\u0022 data-ipsquote-userid=\u002257161\u0022 data-ipsquote-username=\u0022RockyTV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, RockyTV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWasn\u0027t there a dev mode patcher that would patch some stuff in the assembly so, for example, the following message\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nget_realtimeSinceStartup can only be called from the main thread\u003C/pre\u003E\n\u003Cp\u003E\nwould then be ignored and allow my addon to run perfectly fine? Is there a version of it for 1.2.2?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat patcher is not required anymore. The game should not generate such message now. If you have then they most likely come from a mod that should fix its code.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-21T15:56:06Z\u0022 title=\u002212/21/2016 03:56  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 21, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RockyTV","CreatedById":57161,"CreatedDateTime":"2016-12-21T16:17:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222895755\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221482335749\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat patcher is not required anymore. The game should not generate such message now. If you have then they most likely come from a mod that should fix its code.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay... uh, so what\u0027s a good replacement for \u003Cem\u003ETime.realtimeSinceStartup\u003C/em\u003E? In DMP we have some code that depends on it (connection logic is one of them).\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-12-21T17:04:08Z","Content":"\n\u003Cp\u003E\nThere is no need for a replacement. Your code must NEVER call a Unity method from a constructor. That s all.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit : those message only show up in Dev mode but they are important. Your code may behave strangely in \u0022normal\u0022 mode if you ignore them\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-21T17:05:36Z\u0022 title=\u002212/21/2016 05:05  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 21, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"}]}