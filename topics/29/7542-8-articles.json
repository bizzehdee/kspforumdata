{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":8,"Articles":[{"CreatedByName":"tinfoyle","CreatedById":19143,"CreatedDateTime":"2012-06-14T04:18:29Z","Content":"\n\u003Cp\u003EThanks to The_Duck and kellven. Sadly I am working the next few days, but after that I have nice vacation that I will be pouring into this fun project. GUI and inputs are all worked in I have been saving the actual calculations (which you two have helped out greatly) for last. Eventually the goal is to have a controlled hover from vertical engines, then recreate land-speeders. 8)\u003C/p\u003E\n"},{"CreatedByName":"jimbob926","CreatedById":31008,"CreatedDateTime":"2012-07-05T19:18:17Z","Content":"\n\u003Cp\u003EHi guys,\u003C/p\u003E\u003Cp\u003EI wish to start developing plugins but have not found any useful resources to help me. I have intermediate knowledge of coding (mainly C\u002B\u002B) and was wonderering how you guys learnt? Please could you point me to some kind of explanation of how to get started or tell me how.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-07-05T19:21:25Z","Content":"\n\u003Cp\u003ETrying around, reading these forums \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eand stealing a lot from other plugins\u003C/span\u003E.\u003C/p\u003E\n"},{"CreatedByName":"I got BCed","CreatedById":18121,"CreatedDateTime":"2012-07-13T12:35:27Z","Content":"\n\u003Cp\u003EHow do I reference a partmodule attached to a known part? \u003C/p\u003E\n"},{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-07-14T03:03:11Z","Content":"\n\u003Cp\u003EPart.Modules is a PartModuleList\u003C/p\u003E\u003Cp\u003EPartModuleList has these:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic PartModule this[int classID] { get; }\u003Cbr\u003E  public PartModule this[string className] { get; }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich are indexers is fuzzy memory serves, so if you know the classname of the PartModule:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPart.Modules[\u0027MyModuleClassName\u0027]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eshould resolve to the module you\\\u0027re looking for.\u003C/p\u003E\u003Cp\u003EThis is assuming the system is actually implemented that far.\u003C/p\u003E\u003Cp\u003EEdit: Forgot that those indexers return a PartModule object. If you want a reference to your actual PartModule subclass, you need to cast it. To do so safely:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    //\u003Cbr\u003E    //class MyModuleClass: PartModule { }\u003Cbr\u003E    //Part MyPart;\u003Cbr\u003E    //\u003Cbr\u003E    MyModuleClass module = MyPart.Modules[\u0027MyModuleClass\u0027] as MyModuleClass;\u003Cbr\u003E    if (module == null)\u003Cbr\u003E    {\u003Cbr\u003E      //Error stuff here\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEnd of pedantic reminders\u003C/p\u003E\u003Cp\u003EHappy Moddings\u003C/p\u003E\n"},{"CreatedByName":"Ranged23","CreatedById":33685,"CreatedDateTime":"2012-07-27T09:35:28Z","Content":"\n\u003Cp\u003Eim starting with making mdos, does any1 know a few good beginning projects/ tutorials? i read the wiki\\\u0027s ones.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-07-27T19:18:23Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eclass ModuleKrTestSpam :PartModule\u003Cbr\u003E{\u003Cbr\u003E  public override void OnActive()\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnActive\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnAwake()\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnAwake\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnInactive()\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnInactive\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnLoad(ConfigNode node)\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnLoad\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnFixedUpdate()\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnFiyedUpdate\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnUpdate()\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnUpdate\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnSave(ConfigNode node)\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnSave\u0027);\u003Cbr\u003E  }\u003Cbr\u003E  public override void OnStart(StartState state)\u003Cbr\u003E  {\u003Cbr\u003E    print(\u0027OnStart:\u0027 \u002B state);\u003Cbr\u003E  }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWorks, but I\\\u0027m too tired to look when what is exactly called.\u003C/p\u003E\n"},{"CreatedByName":"I got BCed","CreatedById":18121,"CreatedDateTime":"2012-07-29T22:00:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kellven\u0022 data-cite=\u0022kellven\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPart.Modules is a PartModuleList\u003C/p\u003E\u003Cp\u003EPartModuleList has these:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic PartModule this[int classID] { get; }\u003Cbr\u003E  public PartModule this[string className] { get; }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich are indexers is fuzzy memory serves, so if you know the classname of the PartModule:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPart.Modules[\u0027MyModuleClassName\u0027]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eerr, thanks. Tad over my head, will try to work though that.\u003C/p\u003E\u003Cp\u003Eshould resolve to the module you\\\u0027re looking for.\u003C/p\u003E\u003Cp\u003EThis is assuming the system is actually implemented that far.\u003C/p\u003E\u003Cp\u003EEdit: Forgot that those indexers return a PartModule object. If you want a reference to your actual PartModule subclass, you need to cast it. To do so safely:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    //\u003Cbr\u003E    //class MyModuleClass: PartModule { }\u003Cbr\u003E    //Part MyPart;\u003Cbr\u003E    //\u003Cbr\u003E    MyModuleClass module = MyPart.Modules[\u0027MyModuleClass\u0027] as MyModuleClass;\u003Cbr\u003E    if (module == null)\u003Cbr\u003E    {\u003Cbr\u003E      //Error stuff here\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEnd of pedantic reminders\u003C/p\u003E\u003Cp\u003EHappy Moddings\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Naelo","CreatedById":14384,"CreatedDateTime":"2012-08-02T12:23:48Z","Content":"\n\u003Cp\u003EI\\\u0027ve got a simple question:\u003C/p\u003E\u003Cp\u003EHow does one control the main throttle from a plugin?\u003C/p\u003E\n"},{"CreatedByName":"rwhwilliam","CreatedById":12174,"CreatedDateTime":"2012-08-07T14:02:35Z","Content":"\n\u003Cp\u003EIs it possible to tell another ship to \u0027unpack\u0027, and stay unpacked?\u003C/p\u003E\n"},{"CreatedByName":"lstutzman","CreatedById":40000,"CreatedDateTime":"2012-08-16T16:35:15Z","Content":"\n\u003Cp\u003EHey everyone, if anyone knows... Is there any way to actually step through my plugin code? I can usually do this on other projects by setting us VS to run an external program while debugging, or attach the debugger to the process itself, but it seems that KSP.exe won\u0027t allow this.\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"Earthpulse","CreatedById":31757,"CreatedDateTime":"2012-08-16T18:01:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lstutzman\u0022 data-cite=\u0022lstutzman\u0022\u003E\u003Cdiv\u003EHey everyone, if anyone knows... Is there any way to actually step through my plugin code? I can usually do this on other projects by setting us VS to run an external program while debugging, or attach the debugger to the process itself, but it seems that KSP.exe won\u0027t allow this.\u003Cp\u003ECheers\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThink the only thing you can do is using the print message and refer to the ingame debug log (alt \u002BF2).\u003C/p\u003E\n"},{"CreatedByName":"lstutzman","CreatedById":40000,"CreatedDateTime":"2012-08-16T19:06:41Z","Content":"\n\u003Cp\u003EYeah, that\u0027s what I\u0027ve been doing. Bummer, feels like 1990 all over again.\u003C/p\u003E\n"},{"CreatedByName":"TAz00","CreatedById":41667,"CreatedDateTime":"2012-08-21T15:44:04Z","Content":"\n\u003Cp\u003EHi there, new user here, I have a question. \u003C/p\u003E\u003Cp\u003EHow do I make a GUI window appear without making a new part?\u003C/p\u003E\u003Cp\u003EI want to make a basic craft sharing system with dropbox. I want my window to be visible in the editor and while flying. And maybe the save/load menu.\u003C/p\u003E\u003Cp\u003EI got 4 years of generic C# experience, blazed through all the example code, but I havn\u0027t played with Unity or 3D in general.\u003C/p\u003E\n"},{"CreatedByName":"Zool","CreatedById":3152,"CreatedDateTime":"2012-08-22T15:52:04Z","Content":"\n\u003Cp\u003EAFAIK you can only load code through a part. I\u0027m not sure exactly when it gets called, but you could try loading your window in the Part class, onEditorUpdate() function.\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying to change the rootpart of a loaded vessel, with very little luck. I\u0027ve tried rebuilding the parent child heirarchy in vessel.parts, and reordered it in case it expects the rootpart == parts[0]. It seems like problem is that vessel and the rootpart reference the same gameobject, which is readonly, so I can\u0027t set it to the new rootpart. Am I missing something? Any Ideas?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-22T16:07:48Z\u0022 title=\u002208/22/2012 04:07  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 22, 2012\u003C/time\u003E by Zool\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Slaine","CreatedById":42583,"CreatedDateTime":"2012-08-28T18:28:59Z","Content":"\n\u003Cp\u003EHoping somone can help =) How do I communicate between parts? I have two classes that extend the Part class and I want one of them to keep an eye on the other.\u003C/p\u003E\u003Cp\u003EI found this piece of code in the source code for Zoxygen but I\u0027m not entirely sure what it does and if it is what I\u0027m loking for? It seems to go through all parts in the vessel and return an object of that part?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E            int VPartCnt = PART.vessel.parts.Count;\u003Cbr\u003E\u003Cbr\u003E               for (int i = 0; i \u0026lt;= VPartCnt - 1; i\u002B\u002B)\u003Cbr\u003E                    {\u003Cbr\u003E                    if (PART.vessel.parts.ElementAt(i).GetType().Name == \u0022LiquidFuelEngine\u0022)\u003Cbr\u003E                        {          \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPART.vessel.parts.ElementAt(i) seems to return the object of the part. But how do I access its methods?\u003C/p\u003E\n"},{"CreatedByName":"Zool","CreatedById":3152,"CreatedDateTime":"2012-08-29T02:32:00Z","Content":"\n\u003Cp\u003EYou should be able to cast the part as the correct class.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E int VPartCnt = PART.vessel.parts.Count;\u003Cbr\u003E\u003Cbr\u003E               for (int i = 0; i \u0026lt;= VPartCnt - 1; i\u002B\u002B)\u003Cbr\u003E                    {\u003Cbr\u003E                    if (PART.vessel.parts.ElementAt(i).GetType().Name == \u0022LiquidFuelEngine\u0022)\u003Cbr\u003E                        {LiquidFuelEngine Engine1 = (LiquidFuelEngine)PART.vessel.parts[i];\u003Cbr\u003E                         }\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou might be better off using a KSP event though, see the stickied thread on .15 for an example.\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-29T10:25:05Z","Content":"\n\u003Cp\u003EWhat about taking \u0027oldstyle\u0027 engines and derived classes into account too?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eforeach(Part p in PART.vessel.parts)\u003Cbr\u003E    {\u003Cbr\u003E        if (p is LiquidFuelEngine)\u003Cbr\u003E            {\u003Cbr\u003E            //something\u003Cbr\u003E            }\u003Cbr\u003E        else if (p is LiquidEngine)\u003Cbr\u003E            {\u003Cbr\u003E            //same again for older engines for compatibility with older part packs and plugins deriving from the simple engine such as MuMech or ElEnergy\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"lkj802","CreatedById":43684,"CreatedDateTime":"2012-08-29T15:47:17Z","Content":"\n\u003Cp\u003Ehi guys, got a problem im sure it has a simple fix but i am totally clue less, the problem is that my command pods dont have any kerbonauts in them, in the pod description it says that the pods can seat 3 kerbals each, but none of them show any kerbals. the starter pods show the kerbals, but my extra downloaded ones dont, such as the kosmos pod, nova silisko\u0027s bace pod, the MEM pod and others, im not sure why this has happened and i dont know how to fix it, i see videos on YouTube and people have the exact same pods but with kerbonauts inside them. the only anomaly is that my DSM pack pods show their kerbals and thats were i really dont understand whats going on. \u003C/p\u003E\u003Cp\u003Eplease help me even if you have the smallest advice anything will help.\u003C/p\u003E\u003Cp\u003Elkj802\u003C/p\u003E\n"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-08-30T21:21:04Z","Content":"\n\u003Cp\u003EThat\u0027s got nothing to do with plugins. The parts that don\u0027t have kerbals are missing the INTERNAL definition which was not necessary before .16, and the ones that have crew got it.\u003C/p\u003E\n"},{"CreatedByName":"Echo 8 \u00C3\u0192\u00E2\u20AC\u00B0R\u00C3\u0192\u00E2\u201A\u00AC","CreatedById":37973,"CreatedDateTime":"2012-08-31T11:21:23Z","Content":"\n\u003Cp\u003EIs it possible to add buttons to a part\u0027s right-click menu at runtime? I\u0027m trying to make a PartModule with part.cfg configurable right-click menu entries.\u003C/p\u003E\u003Cp\u003EI could probably get away with hardcoding it (a lot of methods with KSPEvent attribute) and showing/hiding them as necessary, but it\u0027d be nice if I could avoid doing that.\u003C/p\u003E\n"},{"CreatedByName":"LaydeeDem","CreatedById":5984,"CreatedDateTime":"2012-09-01T00:35:39Z","Content":"\n\u003Cp\u003EWould it be possible to make a SRB in your active stage fire at a certain altitude? Example: I have retrorockets on my lander and they automatically fire at 400m.\u003C/p\u003E\u003Cp\u003EI\u0027m really new to plugin making but I want get into writing plugins.\u003C/p\u003E\n"},{"CreatedByName":"JnyJny","CreatedById":36211,"CreatedDateTime":"2012-09-01T00:41:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nutt007\u0022 data-cite=\u0022Nutt007\u0022\u003E\u003Cdiv\u003EWould it be possible to make a SRB in your active stage fire at a certain altitude? Example: I have retrorockets on my lander and they automatically fire at 400m.\u003Cp\u003EI\u0027m really new to plugin making but I want get into writing plugins.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that\u0027s a cool idea! I have no idea how to make that happen... yet \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EHaving a part that can trigger actions at predetermined altitudes or some other condition would be totally fun.\u003C/p\u003E\n"},{"CreatedByName":"LaydeeDem","CreatedById":5984,"CreatedDateTime":"2012-09-01T00:57:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JnyJny\u0022 data-cite=\u0022JnyJny\u0022\u003E\u003Cdiv\u003EI think that\u0027s a cool idea! I have no idea how to make that happen... yet \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003Cp\u003EHaving a part that can trigger actions at predetermined altitudes or some other condition would be totally fun.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know it\u0027s possible, I know parachutes do it. But how to make an engine do it?\u003C/p\u003E\n"},{"CreatedByName":"JnyJny","CreatedById":36211,"CreatedDateTime":"2012-09-01T00:58:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nutt007\u0022 data-cite=\u0022Nutt007\u0022\u003E\u003Cdiv\u003EI know it\u0027s possible, I know parachutes do it. But how to make an engine do it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes of course. Welp, I suspect we could look at MechJeb for a pretty good clue.\u003C/p\u003E\n"}]}