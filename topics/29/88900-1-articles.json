{"TopicId":88900,"ForumId":29,"TopicTitle":"Several questions on part characteristics and references","CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-10-29T21:07:58Z","PageNum":1,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-10-29T21:07:58Z","Content":"\n\u003Cp\u003EI got the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/97799-WIP-Part-Select-Window-Prototype-5-28-October\u0022 rel=\u0022external nofollow\u0022\u003EPart Select\u003C/a\u003E window plugin to a level of feature development such that with a bunch of polish to the sorting and UI it could be used with a stock game (or mods which don\u0027t use custom part modules). Essentially, that means the next big step has to be integrating support for a bunch of custom part modules.\u003C/p\u003E\u003Cp\u003ETaking FAR as an example (because I accidentally ran into it earlier this week). It replaces the stock control surfaces with it\u0027s own custom module and thus I need to be able to check for that module as well. The sticking point is that I need to do this without creating a hard dependency on FAR and I don\u0027t know if a simple check to see if the plugin is loaded (I\u0027m assuming this is simple since I\u0027m not at my dev PC atm...) will be enough to prevent it breaking if it doesn\u0027t exist or if something far more drastic will be required.\u003C/p\u003E\u003Cp\u003EEssentially, will I be able to get away with this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (loadedPlugins.Contains(FAR) \u0026amp;\u0026amp; part.contains(FARControlSurface))\u003Cbr\u003E{\u003Cbr\u003E    //Do things\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMy next difficulty stems from parts that have functionality that I can\u0027t seem to find any reference to in the Part itself (particularly ladders and wings). Is there a way to detect that a part can be latched onto by an EVA\u0027d kerbal (Ladder) or that a part can provide lift (wing). Is there something beyond the Part definition that I haven\u0027t found yet?\u003C/p\u003E\u003Cp\u003ELastly, I intend to create a new part tooltip window that has a fixed position in the \u0027X\u0027 plane such that it doesn\u0027t follow the cursor into the window and obscure things like the stock one does. The major point I\u0027m currently missing is the part image/camera to show what the part looks like. Any clues on how those are referenced?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-10-30T00:02:19Z","Content":"\n\u003Cp\u003EWhile I can\u0027t help you with your other questions, their is an easy way to get the partModules on a part.\u003C/p\u003E\u003Cp\u003EQuery the Part.Modules list, it is generated at loadtime (and so includes all ModuleManager config changes) by KSP and lists all partModules on that part.\u003C/p\u003E\u003Cp\u003ESo for the FARControlSurface example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif(part.Modules.Contains(\u0022FARControlSurface\u0022))\u003Cbr\u003E{\u003Cbr\u003E//Do things\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI can\u0027t help you on your other questions, but this should get you going on this part.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-10-30T20:53:28Z","Content":"\n\u003Cp\u003EWell that\u0027s news to me. For some reason it didn\u0027t even occur to me that modules could be referenced by name instead of type \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E. It atleast allows for basic categorisation, I\u0027ll just have to deal with the sorting issues later...\u003C/p\u003E\u003Cp\u003ERE: Wings\u003C/p\u003E\u003Cp\u003EI finally found out how to reference these little annoyances: \u003Cem\u003EPart.GetComponent(\u0022Winglet\u0022)\u003C/em\u003E. Now, to find the ladders...\u003C/p\u003E\n"}]}