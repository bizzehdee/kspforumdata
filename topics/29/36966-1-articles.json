{"TopicId":36966,"ForumId":29,"TopicTitle":"Trying to find maximum elivation of a planet.","CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-13T22:09:26Z","PageNum":1,"Articles":[{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-13T22:09:26Z","Content":"\n\u003Cp\u003EI think the title is pretty self explanatory. I\u0027m trying to find the maximum terrain elevation on (airless) planets and moons, in-game. I know I could just check the object\u0027s name and compare against the altitudes off the wiki, but I was hoping to avoid hard-coding the information. Any insights? Thanks.\u003C/p\u003E\n"},{"CreatedByName":"JDP","CreatedById":30775,"CreatedDateTime":"2013-07-13T23:18:00Z","Content":"\n\u003Cp\u003EThe only way I can think of to get that value would be to load up the detailed mesh of the attached transform, iterate through all vertices and find the one with the largest magnitude, then apply whatever scale applies to the mesh (if you\u0027re lucky, the transform scale will do).\u003C/p\u003E\u003Cp\u003ESuffice to say, this would be very much overkill.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-13T23:21:58Z","Content":"\n\u003Cp\u003EYeah, I was also hoping to avoid something like that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E If it does come down to something like that, I\u0027ll probably just hard code the values.\u003C/p\u003E\n"},{"CreatedByName":"Greys","CreatedById":57109,"CreatedDateTime":"2013-07-14T00:31:48Z","Content":"\n\u003Cp\u003EAs it\u0027s not something that should change outside of KSP updates, you should be able to do it once for every planet and perhaps graphics level, terrain detail is known to move the coast by a kilometer in some places, then store the results for use.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-07-14T01:44:57Z","Content":"\n\u003Cp\u003EA middle ground between hardcoding and detection is to use a config file. That way, users can at least update config files without rebuilding the whole DLL.\u003C/p\u003E\u003Cp\u003EYou can use PQS to find the terrain height at a given point. There are also some max altitude properties, but I\u0027m not sure they\u0027re trustworthy. Experimentation is the name of the game.\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2013-07-14T04:00:44Z","Content":"\n\u003Cp\u003EGood idea, I\u0027ll probably end up putting them into the config file. It does kind of beg for something way overkill though...like a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Simulated_annealing\u0022 rel=\u0022external nofollow\u0022\u003E simulated annealing\u003C/a\u003E pass every time the game starts up...oh well. Static values it is!\u003C/p\u003E\n"},{"CreatedByName":"Greys","CreatedById":57109,"CreatedDateTime":"2013-07-14T04:05:51Z","Content":"\n\u003Cp\u003ESide thought, given the hopefully quickly oncoming future of custom planets, you may want to do a first-boot scan, and save the determined values to a cfg file, it\u0027ll be slow once, but it promotes compatibility.\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2013-07-18T18:24:21Z","Content":"\n\u003Cp\u003EIf the values are not present in the file (eg a new planet, fresh install etc) perhaps then you should do the expensive \u0022scan\u0022 and save that into the file.\u003C/p\u003E\u003Cp\u003EI\u0027d also recommend seeing if you can figure out of the planet has changed on you - perhaps there\u0027s a way to hash the planet\u0027s object or something and store that with the elevation figure? Then, when you load, you:\u003C/p\u003E\u003Cp\u003E1. See if there are values. If yes, continue, if no, branch off to the code to figure the values out and store them.\u003C/p\u003E\u003Cp\u003E2. See if the \u0027hash\u0027 matches. If yes, continue, if no, drop the values and loop back to #1.\u003C/p\u003E\u003Cp\u003E3. Use the values for great success.\u003C/p\u003E\u003Cp\u003E(maybe you can serialize the planet\u0027s definition, then hash that. or something along those lines.)\u003C/p\u003E\n"}]}