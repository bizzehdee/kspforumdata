{"TopicId":137449,"ForumId":29,"TopicTitle":"Control surfaces moving in wrong directions","CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-04-20T10:29:06Z","PageNum":1,"Articles":[{"CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-04-20T10:29:06Z","Content":"\n\u003Cp\u003E\nSo now I am working around my B9 PWings Modified mod, and found that in 1.1 the direction of rotation of control surfaces is inverted in one side (See pic below, by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/87139-qromodynmc/\u0026amp;do=hovercard\u0022 data-mentionid=\u002287139\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/87139-qromodynmc/\u0022 rel=\u0022\u0022\u003E@qromodynmc\u003C/a\u003E\u00A0who is trying to pitch up)\n\u003C/p\u003E\n\u003Cp\u003E\nAero calculations are correct in the picture.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022XkGj67.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.hizliresim.com/XkGj67.jpg\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nDo anyone have any idea\u00A0about it?\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-20T11:32:52Z","Content":"\n\u003Cp\u003E\nThe same issue is present in the base pack, my suspicion (haven\u0027t had a chance to test) is that it\u0027s the \u003Ca href=\u0022https://github.com/Crzyrndm/B9-PWings-Fork/blob/master/GameData/B9_Aerospace_ProceduralWings/Parts/Aero_Wing_Procedural/wing_procedural_typeA.cfg#L42\u0022 rel=\u0022external nofollow\u0022\u003Enegative scaling of mirrored parts\u003C/a\u003E that\u0027s causing this and that is no longer supported in the stock implementation of control surfaces. Only other thing I can think of is that the rotation axis is wrong now (because they pitch for roll and roll for pitch...) which will require messing around in unity and exporting with the new Part tools.\n\u003C/p\u003E\n\u003Cp\u003E\nPS\u003Cbr\u003E\nWhen I briefly tested this, it appeared to be visual only with the plane still pitching up with minimal roll (and rolling instead of pitching)\u003Cbr\u003E\nPPS\u003Cbr\u003E\nUnlikely to be caused by the plugin itself, there is nothing in there that deals with control inputs\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-20T11:34:34Z\u0022 title=\u002204/20/2016 11:34  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-04-20T11:48:35Z","Content":"\n\u003Cp\u003E\n[blanked because of wrong reply]\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-20T15:13:21Z\u0022 title=\u002204/20/2016 03:13  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by 01010101lzy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-04-20T15:18:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222524702\u0022 data-ipsquote-contentid=\u0022137449\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461151972\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe same issue is present in the base pack, my suspicion (haven\u0027t had a chance to test) is that it\u0027s the \u003Ca href=\u0022https://github.com/Crzyrndm/B9-PWings-Fork/blob/master/GameData/B9_Aerospace_ProceduralWings/Parts/Aero_Wing_Procedural/wing_procedural_typeA.cfg#L42\u0022 rel=\u0022external nofollow\u0022\u003Enegative scaling of mirrored parts\u003C/a\u003E that\u0027s causing this and that is no longer supported in the stock implementation of control surfaces. Only other thing I can think of is that the rotation axis is wrong now (because they pitch for roll and roll for pitch...) which will require messing around in unity and exporting with the new Part tools.\n\u003C/p\u003E\n\u003Cp\u003E\nPS\u003Cbr\u003E\nWhen I briefly tested this, it appeared to be visual only with the plane still pitching up with minimal roll (and rolling instead of pitching)\u003Cbr\u003E\nPPS\u003Cbr\u003E\nUnlikely to be caused by the plugin itself, there is nothing in there that deals with control inputs\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay I\u0027ve tested with the MirrorRefAxis deleted\u00A0and the rotation\u00A0worked well.\n\u003C/p\u003E\n"},{"CreatedByName":"qromodynmc","CreatedById":87139,"CreatedDateTime":"2016-04-20T17:36:41Z","Content":"\n\u003Cp\u003E\nSo, any fixes now?\n\u003C/p\u003E\n"},{"CreatedByName":"01010101lzy","CreatedById":118333,"CreatedDateTime":"2016-04-21T09:37:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222525525\u0022 data-ipsquote-contentid=\u0022137449\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461173801\u0022 data-ipsquote-userid=\u002287139\u0022 data-ipsquote-username=\u0022qromodynmc\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, qromodynmc said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, any fixes now?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you use the wing with symmetric texture and delete the \u0022mirrorRefAxis\u0022 line in each wing_procedural_X.cfg, it should be behaving\u00A0correctly. This is the only fix available now..\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-04-22T05:49:59Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/100668-claw/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022100668\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/100668-claw/\u0022 rel=\u0022\u0022\u003E@Claw\u003C/a\u003E ping!\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-22T06:07:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222524702\u0022 data-ipsquote-contentid=\u0022137449\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461151972\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 20/04/2016 at 11:32 PM, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhen I briefly tested this, it appeared to be visual only with the plane still pitching up with minimal roll (and rolling instead of pitching)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFurther testing confirms this is a visual only effect. Forces applied are correctly oriented (looks very wierd...)\n\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2016-04-22T07:23:29Z","Content":"\n\u003Cp\u003E\nSo nothing that I know of changed with mirror axis, and the only thing that changed with control surfaces was with the deploy option. So I\u0027m not quite sure here.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m at a loss for why it\u0027s working differently than in 1.0.5, though control surfaces shouldn\u0027t need the mirror axis anyway.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-04-22T07:30:07Z","Content":"\n\u003Cp\u003E\nThese need to be turned inside out (-ve scaling) for mirroring because the top and bottom are different. With stock control surfaces that don\u0027t matter which way up they face, you don\u0027t have to use the -ve scaling factor, they just get flipped. I would be looking at the code that moves the surface to see if it checks the mesh scaling is -ve and inverts it\u0027s direction if so, not anything to do with mirror axis itself\n\u003C/p\u003E\n\u003Cp\u003E\nI can write something to determine which side should be the top without too much trouble (and need to anyway for various reasons), but functionality definitely changed here\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-22T07:31:13Z\u0022 title=\u002204/22/2016 07:31  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 22, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"inkwell","CreatedById":141076,"CreatedDateTime":"2016-04-22T08:17:45Z","Content":"\n\u003Cp\u003E\njust would like to express my gratitude! having mostly functional pwings this soon after release is quite nice!\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-05-01T06:09:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222530038\u0022 data-ipsquote-contentid=\u0022137449\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461304199\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 22/04/2016 at 5:49 PM, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/100668-claw/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022100668\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/100668-claw/\u0022 rel=\u0022\u0022\u003E@Claw\u003C/a\u003E ping!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222530134\u0022 data-ipsquote-contentid=\u0022137449\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461309809\u0022 data-ipsquote-userid=\u0022100668\u0022 data-ipsquote-username=\u0022Claw\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 22/04/2016 at 7:23 PM, Claw said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo nothing that I know of changed with mirror axis, and the only thing that changed with control surfaces was with the deploy option. So I\u0027m not quite sure here.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m at a loss for why it\u0027s working differently than in 1.0.5, though control surfaces shouldn\u0027t need the mirror axis anyway.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe I\u0027ve resolved this now so no worries about the regression (I believe PWings were the only mods using the -ve scaling in the first place, certainly the only one where control inputs would matter). It\u0027s actually kinda nice having it more standard since it has caused a few issues with FAR in the past. Would be nice if the part.mirrored property wasn\u0027t always false though...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/118333-01010101lzy/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022118333\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/118333-01010101lzy/\u0022 rel=\u0022\u0022\u003E@01010101lzy\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSee: \u003Ca href=\u0022https://github.com/Crzyrndm/B9-PWings-Fork/commit/801b3703e78c6d9a23b3dc684d6a33af6c0a4a42\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Crzyrndm/B9-PWings-Fork/commit/801b3703e78c6d9a23b3dc684d6a33af6c0a4a42\u003C/a\u003E\u003Cbr\u003E\nIgnore the KSPField attribute at the top, it gets forced into symmetery counterparts and so is useless and has to be saved/loaded manually (I thought I removed the attribute...)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-01T06:27:22Z\u0022 title=\u002205/01/2016 06:27  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 1, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"}]}