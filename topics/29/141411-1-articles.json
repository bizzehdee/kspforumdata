{"TopicId":141411,"ForumId":29,"TopicTitle":"creating a new KSPField at runtime with KSPApiExt support","CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-07T23:36:06Z","PageNum":1,"Articles":[{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-07T23:36:06Z","Content":"\n\u003Cp\u003E\nIs it possible to add arbitrary number of integer ksp fields at runtime in partmodule ?\n\u003C/p\u003E\n\u003Cp\u003E\nClosest example is at \u003Ca href=\u0022https://github.com/Swamp-Ig/KSPAPIExtensions\u0022 rel=\u0022external nofollow\u0022\u003EKSPAPIExtensions github page \u003C/a\u003Efor a pre-defined chooser-type field, but i need one for int variable created at runtime.\n\u003C/p\u003E\n\u003Cp\u003E\nI did also find some examples in github sources of Infernal Robotics, but they also apply only to predefined variables.\n\u003C/p\u003E\n\u003Cp\u003E\nI did compile a variable with KSPField that has functions defined in its getter and setter, no errors were thrown.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know how to formulate my question but this is what i need :\n\u003C/p\u003E\n\u003Cp\u003E\n- variable is allocated at runtime as part of array or list\n\u003C/p\u003E\n\u003Cp\u003E\n- variable needs to be displayed to user in UI (this is where KSPAPiExt helps)\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, is KSP API Extensions at all capable of displaying values inside array or (preferably) List ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-06-08T00:51:23Z","Content":"\n\u003Cp\u003E\nShort answer is no, you can\u0027t add KSPFields (or KSPActions/KSPEvents) at runtime.\n\u003C/p\u003E\n\u003Cp\u003E\nLong answer is that it looks like even though KSP creates an instance of a part to make the ProtoParts database, it still makes a new instance of all the objects on the part when the part is created in the 3D gamespace.\n\u003C/p\u003E\n\u003Cp\u003E\nI do have to preface this that I was trying to do this with a KSPAction, not a KSPField, and it was back in KSP 0.25, but I have no reason to think Squad\u0027s changed how spawning of parts works.\n\u003C/p\u003E\n\u003Cp\u003E\nI was able to create a KSP action at runtime and add it to a part in the 3D gamespace. I was also able to add the action to a ProtoPart in the ProtoParts database.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, nothing I did was able to make that action I added to the ProtoPart stay in existence when said part was placed in the 3D gamespace which made it useless for my purposes so I stopped experimenting there. That means I never investigated if a dynamically added KSPAction would persist through a save/load cycle.\n\u003C/p\u003E\n\u003Cp\u003E\nThe action not being present after the ProtoPart -\u0026gt; 3D gamespace transition is also where my conclusion that this process does not copy the ProtoPart, rather it spawns new instances of all the code objects attached to the ProtoPart and reads the data in fresh from the part.cfg values (including the ModuleManager modifications).\n\u003C/p\u003E\n\u003Cp\u003E\nThe best workaround I found was to make empty \u0022template\u0022 KSPActions that I could then change the properties of dynamically at run time.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-08T00:52:29Z\u0022 title=\u002206/08/2016 12:52  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 8, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-08T01:15:29Z","Content":"\n\u003Cp\u003E\nThanks for the reply, i too suspected something along the lines of reausable KSPField (via getter/setter). What did surprise me is that i found examples KSPEvents added at runtime (ModuleFuelTanks.cs @\u00A0 github has one) and have myself confirmed it works, maybe it was just a typo on your part ?\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways, the only reason i did not test this is my module is grown too complex to just throw in a piece of code and test it without running everything else i wrote so far (i\u0027d hate to comment out stuff at this point). Hmm i guess i\u0027ll make a small test-project to try this, though it looks it won\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat bugs me is that i can both add a KSPEvent at compile time and at runtime. I just tried to replicate this for KSPField but PartModule.Fields[] does not have Add() method. This makes for a difficult if not impossible solution.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-08T01:16:42Z\u0022 title=\u002206/08/2016 01:16  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 8, 2016\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-06-08T02:42:05Z","Content":"\n\u003Cp\u003E\nHmm, I would argue that ModuleFuelTanks.cs is not \u0022adding\u0022 an event, it\u0027s making a new event every time the part loads, so it\u0027s a different event each time.\n\u003C/p\u003E\n\u003Cp\u003E\nI realize I am being nitpicky about this, but there is an important difference between the two.\n\u003C/p\u003E\n\u003Cp\u003E\nAdding an event: For an event to qualify as being added, KSP would take over once it had been added and it would be added to the save/load. That means once you\u0027d run your AddEvent code once, the event would be present on that part from then on, even across save/loads. (I required this for my purposes which is why I dropped it.) Tagging a method with KSPEvent in Visual Studio qualifies for this definition.\n\u003C/p\u003E\n\u003Cp\u003E\nRecreating the event: This method requires the event to be recreated every time the part loads, you have to take care of save/loading data, making sure the event shows/hides when needed, etc. Depending on your use-case this might work for you I guess. This is what ModularFuelTanks.cs is using.\n\u003C/p\u003E\n\u003Cp\u003E\nThe lack of persistence is the big difference, one of the primary purposes of the KSPField is to provide easy persistence for mods and you won\u0027t have that without writing your own save/load code yourself.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-08T02:42:58Z\u0022 title=\u002206/08/2016 02:42  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 8, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-06-08T12:00:06Z","Content":"\n\u003Cp\u003E\nI won\u0027t comment on the actual issue but keep in mind that KSP API Extensions\u00A0 is not supported anymore, and that the useful bit (the field editors)\u00A0 are in stock.\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-09T14:12:54Z","Content":"\n\u003Cp\u003E\nThanks for the heads up ! I\u0027m still trying to bypass compile-time-only KSPField and try to go for runtime version \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E With the above info now i look differently at ModularFuelTanks - having a separate window both saves on complications of jamming everyting in part context menu and provides better logic/UI for its intended purpose.\n\u003C/p\u003E\n\u003Cp\u003E\nRight now i\u0027m stuck/fiddling with BaseField as constructor ie var bfi = new BaseField(KSPField, FieldInfo, object) and i\u0027m clueless on the last \u0022object\u0022 part. FieldInfo i do understand to some degree, though i\u0027m not sure entirely how it connect to actual Field and how to create that at runtime (if needed) \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E .\n\u003C/p\u003E\n\u003Cp\u003E\nOne more thing though : if i want to dump a variable with KSPField attribute (\u0022 attribute \u0022 is a proper c# naming ?) to a file or string, how do i do it ? Could i use this serialized data to make my own FieldInfo ?\n\u003C/p\u003E\n\u003Cp\u003E\nI could drop the whole ksp field thing, but my module will then loose support for tweakables. Not fatal for functioning, just annoying.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-09T14:13:12Z\u0022 title=\u002206/09/2016 02:13  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 9, 2016\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-06-10T07:07:59Z","Content":"\n\u003Cp\u003E\nBaseField expects to be backed by a real field on an object. \u00A0There\u0027s no way around that. \u00A0There are ways to dynamically build a type at runtime but I would not recommend going down that path. \u00A0You might try to look at other ways to tackle the problem you\u0027re trying to solve.\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-10T19:59:24Z","Content":"\n\u003Cp\u003E\nOK i\u0027ll give this one more try : is there a way to add interactive controls to part right-click menu that are not bound to fields and can display values ? I ask because creating a special window just to manage tweakable values would break VAB/SPH immersion/workflow.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-06-10T21:09:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222625643\u0022 data-ipsquote-contentid=\u0022141411\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221465588764\u0022 data-ipsquote-userid=\u002293302\u0022 data-ipsquote-username=\u0022fatcargo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, fatcargo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOK i\u0027ll give this one more try : is there a way to add interactive controls to part right-click menu that are not bound to fields and can display values ? I ask because creating a special window just to manage tweakable values would break VAB/SPH immersion/workflow.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nResources are the only thing I can think of. \u00A0But can we back up a step? \u00A0What information are you trying to display? \u00A0If you want to have tweakable fields, then presumably you want to have something that does something with those values, so how could that be created dynamically?\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-10T22:20:57Z","Content":"\n\u003Cp\u003E\nI\u0027ll try to explain. To me, the overall topic is quite complicated : i\u0027m trying to build fully configurable module that enables part creators to put multiple animation sequences in part.cfg in any combination they want with parameters.\n\u003C/p\u003E\n\u003Cp\u003E\nSo far, i have made most of code to run this and have tested snippets in separate steps. It all passed. Now i wanted to add ability for multi-animated part creators to allow end users (the actual players) to control how much of each animation is to be played.\n\u003C/p\u003E\n\u003Cp\u003E\nExample : remember that player can tweak how much the ramps on cargo fuselages can open ? Well, its ok and simple because there is a predefined animation that has known amount of tweak paramaters (in this case only one). With my module, i do not know how many animations a part creator will make, so i don\u0027t know how many tweakables there will be. And it would be nice to have control of how much frames of each animation is going to play out in those multi-animated combos.\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, thanks for spending time to help me, i really appreciate it. I\u0027ll be back here tomorrow.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-10T22:26:02Z\u0022 title=\u002206/10/2016 10:26  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 10, 2016\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-06-10T22:35:32Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/93302-fatcargo/\u0026amp;do=hovercard\u0022 data-mentionid=\u002293302\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/93302-fatcargo/\u0022 rel=\u0022\u0022\u003E@fatcargo\u003C/a\u003E\u00A0I\u0027m pretty sure you can have more than one ModuleAnimateGeneric on the same part, or any custom animation module, provided they don\u0027t try to access the same animation. \u00A0Is there something wrong with that approach?\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-11T09:05:31Z","Content":"\n\u003Cp\u003E\nI thought of multiple modules for animations using existing plugins as well, but there is no control over their ordering to fire animations in desired sequence and no binding to same part right-click menu button (same event) to fire that sequence. Note that there may be any number of sequences with arbitrary ordering of animations.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a piece of part.cfg i consider to be a central part of entire plugin, i hope this explains enough :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nMODULE\n{\n name = ChainedAnimationsModule\n\n CHAIN\n {\n  name = Open Gate 1\n  repeat = 0\n  chainSequence = animation=GateShieldAnimation, command=once, speed=1, wait=1\n  chainSequence = animation=Gate1Animation, command=once, speed=1\n }\n CHAIN\n {\n  name = Open Gate Shield\n  repeat = 0\n  chainSequence = animation=GateShieldAnimation, command=once, speed=1, wait=1\n }\n\n}\u003C/pre\u003E\n\u003Cp\u003E\nIn above sample, a part has animations which need to be executed in certain order because they depend on each other. There are two actions a player can execute on that part. Both actions have their own sequence of animations.\n\u003C/p\u003E\n\u003Cp\u003E\nA first action \u0022Open Gate 1\u0022 has two animations because GateShieldAnimation needs to happen before Gate1Animation, otherwise the part will have collisions between its components and will be mechanically inconsistent.\n\u003C/p\u003E\n\u003Cp\u003E\nA second action \u0022Open Gate Shield\u0022 has only one animation in sequence because no other components of that part will collide if its animation runs, it does not depend on any other animation to run without apparent collisions.\n\u003C/p\u003E\n\u003Cp\u003E\nOh, and as a bonus you can see i have added \u0022named arguments\u0022 that can be put inside as values giving extra control over how a particular animation gets executed within a sequence.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-11T09:08:16Z\u0022 title=\u002206/11/2016 09:08  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 11, 2016\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003Cbr\u003Eclenaup, code tags\n\u003C/span\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2016-06-11T16:31:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222621371\u0022 data-ipsquote-contentid=\u0022141411\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221465342566\u0022 data-ipsquote-userid=\u002293302\u0022 data-ipsquote-username=\u0022fatcargo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/7/2016 at 4:36 PM, fatcargo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know how to formulate my question but this is what i need :\n\u003C/p\u003E\n\u003Cp\u003E\n- variable is allocated at runtime as part of array or list\n\u003C/p\u003E\n\u003Cp\u003E\n- variable needs to be displayed to user in UI (this is where KSPAPiExt helps)\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, is KSP API Extensions at all capable of displaying values inside array or (preferably) List ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe easiest option is going to be just tossing 10-15 KSPFields in there and hiding the ones you aren\u0027t using. If you\u0027re dead-set on having your cake though, you can use your list \u003Cstrong\u003Eas\u003C/strong\u003E the backing field and then write a UI_Control that displays it to your liking.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-06-11T17:18:13Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/93302-fatcargo/\u0026amp;do=hovercard\u0022 data-mentionid=\u002293302\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/93302-fatcargo/\u0022 rel=\u0022\u0022\u003E@fatcargo\u003C/a\u003E\u00A0Okay, but (1) How far do you need to take it and (2) Does every animation need a deployment limit? \u00A0If you only ever needed two animations, it would be simple enough to write an animation module that handles two. \u00A0On the other hand if you don\u0027t need the deployment limits for every animation, you could put them in one module since you can dynamically create a BaseEvent using a lambda.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother alternative is to have each animation on its own module and then have another module that ties them together and controls them.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-06-11T18:51:35Z","Content":"\n\u003Cp\u003E\nWith the warning that I\u0027ve never actually used it, have you looked at the ModuleAnimateGroup that\u0027s in stock?\n\u003C/p\u003E\n\u003Cp\u003E\nFrom discussion way back when, this was added with the intent of handling parts with multiple animations on them.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"fatcargo","CreatedById":93302,"CreatedDateTime":"2016-06-11T21:32:56Z","Content":"\n\u003Cp\u003E\nOk here we go \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n@xEvilReeperx : yes i already had that hard-code-then-hide idea, and it is very likely to end up in code.\n\u003C/p\u003E\n\u003Cp\u003E\n@blowfish : as far as animations go, i\u0027m trying to make my module as flexible as possible, which means i\u0027ll take it as far as i can.\n\u003C/p\u003E\n\u003Cp\u003E\n@Diazo : yes i found posts about ModuleAnimationGroup and it aaalmost got it with triggering all modules that have\u00A0 IAnimatedModule (see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/105693-moduleanimationgroup-how-to-use/\u0026amp;do=findComment\u0026amp;comment=1870905\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E) but it still has limit of two different animations with fixed \u0022roles\u0022, to keep things reasonably simple.\n\u003C/p\u003E\n\u003Cp\u003E\n@ All : Guys, thanks you made my day \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E As i was exploring the subject of animations in KSP and Unity, i became aware of more and more options, and variations. Thus my apetite for module complexity has grown and has reached a saturation limit which i may cross after first release, when things settle down and people start responding (which is a whole different can of worms every modder opens when posting his/hers work \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E ).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-11T21:33:15Z\u0022 title=\u002206/11/2016 09:33  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 11, 2016\u003C/time\u003E by fatcargo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-06-11T23:50:11Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/93302-fatcargo/\u0026amp;do=hovercard\u0022 data-mentionid=\u002293302\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/93302-fatcargo/\u0022 rel=\u0022\u0022\u003E@fatcargo\u003C/a\u003E\u00A0My point is that if in practice you\u0027re only ever going to have three animations, trying to design for infinite animations is going to be way more complicated than it needs to be. \u00A0I\u0027ve made mistakes like this in the past - you end up writing a lot of code that in practice you never actually use.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd did you consider what I said about having a separate module for linking the individual animation modules together? \u00A0I think that might give the flexibility you want without doing impossible things (i.e. adding fields at runtime).\n\u003C/p\u003E\n"}]}