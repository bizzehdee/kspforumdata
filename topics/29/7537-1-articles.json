{"TopicId":7537,"ForumId":29,"TopicTitle":"How to compile plugins on a Mac","CreatedByName":"dodrian","CreatedById":12564,"CreatedDateTime":"2012-03-04T08:38:55Z","PageNum":1,"Articles":[{"CreatedByName":"dodrian","CreatedById":12564,"CreatedDateTime":"2012-03-04T08:38:55Z","Content":"\n\u003Cp\u003EMake sure you have \u003Ca href=\u0022http://www.mono-project.com/Main_Page\u0022 rel=\u0022external nofollow\u0022\u003EMono\u003C/a\u003E. I also have the Apple developer tools, but I don\\\u0027t think those are essential.\u003C/p\u003E\u003Cp\u003EI took the source \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/index.php?topic=7847.msg114603#msg114603\u0022 rel=\u0022external nofollow\u0022\u003ECephei\\\u0027s Solar Panels\u003C/a\u003E and put them in the main KSP folder in three files, SolarPanels.cs Battery.cs and IonEngine.cs.\u003C/p\u003E\u003Cp\u003EOpen the Terminal, navigate to the KSP folder, and use this command:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Egmcs -r:KSP.app/Contents/Data/Managed/Assembly-CSharp.dll,KSP.app/Contents/Data/Managed/UnityEngine.dll -t:library SolarPanel.cs IonEngine.cs Battery.cs -out:Plugins/MyPlugin.dll\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou should now have MyPlugin.dll in the plugins folder!\u003C/p\u003E\u003Cp\u003EHopefully anyone with even a little background in developing on a Mac (like myself) should be able to figure out stuff from there :-)\u003C/p\u003E\u003Cp\u003E*Disclaimer*: I\\\u0027ve never worked with Mono before, I just mucked around until something worked. I\\\u0027m sure there are lots of ways to make this more streamlined/easier to develop with, Mac developers please add tips and tricks!\u003C/p\u003E\n"},{"CreatedByName":"dodrian","CreatedById":12564,"CreatedDateTime":"2012-03-06T19:43:48Z","Content":"\n\u003Cp\u003EHere\\\u0027s the Makefile I\\\u0027m using, because I couldn\\\u0027t get things to compile with MonoDevelop :\\\u0027(\u003C/p\u003E\u003Cp\u003EIf you know how to use a makefile it should be fairly obvious how to edit it to change the name of your plugin, and what to do if your KSP isn\\\u0027t in the Applications folder.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPLUGINNAME = MyPlugin.dll\u003Cbr\u003E\u003Cbr\u003EKSP = /Applications/KSP/\u003Cbr\u003EDLL = $(KSP)KSP.app/Contents/Data/Managed/\u003Cbr\u003EREFS = $(DLL)Assembly-CSharp.dll,$(DLL)UnityEngine.dll\u003Cbr\u003EOUTPUT = $(KSP)Plugins/$(PLUGINNAME)\u003Cbr\u003ESOURCE = $(wildcard *.cs)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eall:\u003Cbr\u003E    gmcs -t:library -r:$(REFS) $(SOURCE) -out:$(OUTPUT)\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-03-09T19:55:15Z","Content":"\n\u003Cp\u003EHey, i tried to do that but it didn\\\u0027t worked. I have my two .cs files in the main directory, i naviagate to the folder, i type in :\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Egmcs -r:KSP.app/Contents/Data/Managed/Assembly-CSharp.dll,KSP.app/Contents/Data/Managed/UnityEngine.dll -t:library NuclearEngine.cs ReactorCore.cs -out:Plugins/Nuclear.dll\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut it says me : \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eordinateur-de-barabara-bouley:~ barabarabouley$ /Users/barabarabouley/Downloads/KSP_osx-3\u003Cbr\u003E-bash: /Users/barabarabouley/Downloads/KSP_osx-3: is a directory\u003Cbr\u003Eordinateur-de-barabara-bouley:~ barabarabouley$ gmcs -r:KSP.app/Contents/Data/Managed/Assembly-CSharp.dll,KSP.app/Contents/Data/Managed/UnityEngine.dll -t:library NuclearEngine.cs ReactorCore.cs -out:Plugins/Nuclear.dll\u003Cbr\u003Eerror CS2001: Source file \u0060NuclearEngine.cs\\\u0027 could not be found\u003Cbr\u003Eerror CS2001: Source file \u0060ReactorCore.cs\\\u0027 could not be found\u003Cbr\u003ECompilation failed: 2 error(s), 0 warnings\u003Cbr\u003Eordinateur-de-barabara-bouley:~ barabarabouley$ \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have MONO installed, what\\\u0027s happening ?\u003C/p\u003E\n"},{"CreatedByName":"dodrian","CreatedById":12564,"CreatedDateTime":"2012-03-09T20:28:16Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eordinateur-de-barabara-bouley:~ barabarabouley$ /Users/barabarabouley/Downloads/KSP_osx-3\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou need to put [tt]cd[/tt] in your first line (change directory).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ecd /Users/barabarabouley/Downloads/KSP_osx-3\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}