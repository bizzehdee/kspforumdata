{"TopicId":185616,"ForumId":29,"TopicTitle":"Creating an object is causing craft to explode","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-06-19T01:34:20Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-06-19T01:34:20Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to create a pointer to be used to adjust a camera position.\u00A0 My problem is that when the pointer happens to be over a part, there are collisions,\u00A0 Here is the code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epublic static class UI\n{\n\tpublic static GameObject CreatePrimitive(PrimitiveType type, Color color, Vector3 scale, bool isActive, string name = \u0022\u0022, string shader = \u0022Diffuse\u0022)\n\t{\n\t\tGameObject obj = GameObject.CreatePrimitive(type);\n\n\t\tvar renderer = obj.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Renderer\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n\t\trenderer.material.color = color;\n\t\tobj.transform.localScale = scale;\n\t\tobj.SetActive(isActive);\n\t\tobj.name = name;\n\t\trenderer.material.shader = Shader.Find(shader);\n\t\tobj.layer = 10;\n\t\treturn obj;\n\t}\n\tpublic static Color GetColorFromRgb(byte r, byte g, byte b, byte a = 255)\n\t{\n\t\tvar c = new Color(r / 255f, g / 255f, b / 255f, a / 255f);\n\t\treturn c;\n\t}\n}\n\n      \norientationPointer = UI.CreatePrimitive(PrimitiveType.Cylinder, orientColor, new Vector3(0.025f, 0.4f, 0.025f), false, \u0022Orientation Pointer\u0022, TransShader);\norientationPointer.SetActive(false);\n          \norientationPointer.transform.position = dcm._camera._moduleDockingNodeGameObject.transform.position;\n\norientationPointer.transform.rotation = dcm._camera._moduleDockingNodeGameObject.transform.rotation;\nVector3 v3 = dcm.cameraPosition;\n\norientationPointer.transform.position \u002B= dcm._camera._moduleDockingNodeGameObject.transform.rotation * v3;\norientationPointer.transform.rotation = dcm.vessel.transform.rotation; ;\norientationPointer.transform.rotation *= Quaternion.LookRotation(dcm.cameraUp, dcm.cameraForward);\n\norientationPointer.SetActive(showOrientationPointer);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027m guessing that the object being created somehow has colliders, and when set active they collide with the craft.\n\u003C/p\u003E\n\u003Cp\u003E\nHow can I prevent this from happening?\n\u003C/p\u003E\n\u003Cp\u003E\nJust an FYI, the code is mostly taken from the NodeHelper mod.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll add that when I first created it, the location was not correct and I saw the cylinder to the side, when I fixed the location, the vessel exploded.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-06-19T01:47:00Z\u0022 title=\u002206/19/2019 01:47  AM\u0022 data-short=\u00225 yr\u0022\u003EJune 19, 2019\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-06-19T12:44:31Z","Content":"\n\u003Cp\u003E\nSolved.\n\u003C/p\u003E\n\u003Cp\u003E\nFor anyone who might be interested, it was simply a matter of disabling the collider:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E Collider m_Collider = obj.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Collider\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n if (m_Collider != null)\n \tm_Collider.enabled = false;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}