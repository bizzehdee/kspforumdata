{"TopicId":62842,"ForumId":29,"TopicTitle":"NullReferenceException Having a lot of trouble here","CreatedByName":"Ishkur","CreatedById":102933,"CreatedDateTime":"2014-02-11T00:30:48Z","PageNum":1,"Articles":[{"CreatedByName":"Ishkur","CreatedById":102933,"CreatedDateTime":"2014-02-11T00:30:48Z","Content":"\n\u003Cp\u003EEven with verbose debug on, the console doesn\u0027t tell me enough to figure this out, so I\u0027m having a tough time here. \u003C/p\u003E\u003Cp\u003EWould really appreciate some help:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid Start()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tGameEvents.onLaunch.Add(BuildShip);\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003Epublic void BuildShip(EventReport e)\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tAvailablePart ap = PartLoader.getPartInfoByName (\u0022cupola\u0022);\u003Cbr\u003E\t\t\tUnityEngine.Object obj = UnityEngine.Object.Instantiate(ap.partPrefab);\u003Cbr\u003E\t\t\tPart newPart = (Part)obj;\u003Cbr\u003E\u003Cbr\u003E\t\t\tnewPart.gameObject.name = \u0022cupola\u0022;\u003Cbr\u003E\t\t\tnewPart.partInfo = ap;\u003Cbr\u003E\u003Cbr\u003E\t\t\tShipConstruct newShip = new ShipConstruct(\u0022hello world\u0022, \u0022hello world2\u0022, newPart);\u003Cbr\u003E\t\t\tShipConstruction.PutShipToGround(newShip, this.part.transform);\u003Cbr\u003E\t\t\tShipConstruction.AssembleForLaunch(newShip, \u0022Kerbin\u0022, HighLogic.CurrentGame.flagURL, HighLogic.CurrentGame, new VesselCrewManifest());\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ERunning this gives me this error code at launch:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[Exception]: NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003EPart.InitializeModules ()\u003Cbr\u003EVessel.Initialize (Boolean fromShipAssembly)\u003Cbr\u003EShipConstruction.AssembleForLaunch (.ShipConstruct ship, System.String landedAt, System.String flagURL, .Game sceneState, .VesselCrewManifest crewManifest)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe error disappears when I remove ShipConstruction.AssembleForLaunch, but no ship appears. I printed all my instanced object, so I know everything I\u0027ve meant to instance so far has been instanced.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-02-11T01:37:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ishkur\u0022 data-cite=\u0022Ishkur\u0022\u003E\u003Cdiv\u003EThe error disappears when I remove ShipConstruction.AssembleForLaunch\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThen it has something to do with that function call, likely. I\u0027d check on HighLogic.CurrentGame.flagURL and HighLogic.CurrentGame and make sure neither of those is returning null, and make sure that HighLogic itself isn\u0027t null. Maybe try HighLogic.fetch.CurrentGame? Not sure if HighLogic has a fetch...\u003C/p\u003E\n"}]}