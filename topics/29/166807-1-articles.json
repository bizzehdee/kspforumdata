{"TopicId":166807,"ForumId":29,"TopicTitle":"Drag cubes - how to calculate aerodynamic stress?","CreatedByName":"Rahjital","CreatedById":171470,"CreatedDateTime":"2017-10-23T22:48:23Z","PageNum":1,"Articles":[{"CreatedByName":"Rahjital","CreatedById":171470,"CreatedDateTime":"2017-10-23T22:48:23Z","Content":"\n\u003Cp\u003E\nHello, recently I\u0027ve been trying to calculate aerodynamic stress on vessels in atmosphere for the purpose of damage when the stresses get too great. To that purpose, I\u0027ve been trying to calculate pressure on each part, for which I need the aerodynamic force and the surface area of the part.\n\u003C/p\u003E\n\u003Cp\u003E\nGetting the aerodynamic forces wasn\u0027t hard, but I\u0027m struggling to get the area. \u003Cem\u003EPart.aerodynamicArea\u003C/em\u003E is very small for parts in the middle of a vessel (like the fuselage of an aircraft). I\u0027ve tried using \u003Cem\u003EPart.DragCubes.GetCubeAreaDir(Part.DragVector)\u003C/em\u003E, but it suffers the same problem. I\u0027ve been trying the same thing for the lift force as well, and I think it may suffer from the same problem, although it wasn\u0027t as apparent when testing the mod.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there anything I can use to calculate the aerodynamic pressure properly?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-10-24T11:44:54Z","Content":"\n\u003Cp\u003E\nYou used the proper values \u0026amp; call. Why are you surprised that parts with surfaces parallel to the air flow reports small surfaces ?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Rahjital","CreatedById":171470,"CreatedDateTime":"2017-10-24T16:47:21Z","Content":"\n\u003Cp\u003E\nThe problem I\u0027m having is that for inline parts, area gets smaller much more quickly than drag, meaning they get disproportionally high pressure compared to other parts.\n\u003C/p\u003E\n\u003Cp\u003E\nLook at this: a default Osprey modified with the ramjet engine, in level flight:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022qZEsBE9.png?1\u0022 class=\u0022ipsImage\u0022 height=\u0022598\u0022 src=\u0022https://i.imgur.com/qZEsBE9.png?1\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(F is force, S is area, DragP/LiftP pressures are simply force divided by area)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThe inline Mk1 fuel tank gets far higher drag than other parts, including the Tail Connector acting as the nosecone.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nHere\u0027s how it looks like when pitching down as much as possible:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022xku8Jae.png?1\u0022 class=\u0022ipsImage\u0022 height=\u0022595\u0022 src=\u0022https://i.imgur.com/xku8Jae.png?1\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(F is force, S is area, DragP/LiftP pressures are simply force divided by area)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nPressure is higher for every part... except for the fuel tank, where it \u003Cem\u003Edropped\u003C/em\u003E because the area got so much bigger.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s no way this can be right. What is it that I\u0027m doing wrong?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-24T16:48:04Z\u0022 title=\u002210/24/2017 04:48  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 24, 2017\u003C/time\u003E by Rahjital\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-10-24T17:12:58Z","Content":"\n\u003Cp\u003E\nHum, have a look at \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E code \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/VesselState.cs#L775-L776\u0022 rel=\u0022external nofollow\u0022\u003Ethere\u003C/a\u003E\u00A0(in other line about drag in that file)\u00A0and see if th result is more in line with expectation.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Rahjital","CreatedById":171470,"CreatedDateTime":"2017-10-24T23:14:33Z","Content":"\n\u003Cp\u003E\nThe line concerning \u003Cem\u003EareaDrag\u003C/em\u003E, correct? How would I go about using it? The result do seem more reasonable, but I\u0027m unsure what the number actually means and how to actually use it. Do I use it instead of area, or replace the pressure calculation with it entirely?\n\u003C/p\u003E\n"},{"CreatedByName":"Rahjital","CreatedById":171470,"CreatedDateTime":"2017-10-29T23:02:30Z","Content":"\n\u003Cp\u003E\nEnded up \u0027solving\u0027 this issue by calculating drag force (and from there, drag pressure) independently for each side of the drag cube, and then using the highest of these values. This gives a fairly decent result, but I\u0027m afraid that it will be a fairly hefty computing load for larger vessels. Any help to resolve this properly would still be very much appreciated!\n\u003C/p\u003E\n"}]}