{"TopicId":104522,"ForumId":29,"TopicTitle":"XKCD Color Viewer","CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-20T16:46:58Z","PageNum":1,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-20T16:46:58Z","Content":"While trying to find good colors for my new CapCom mod I realized I was almost randomly picking things from the huge XKCDColors list. There are 954 colors in there and only the names to go by when trying to choose which one.\n\nSo I made this simple in-game UI to show each color, print its name, show a few variations, and print the RGB values. You can drag the window and scroll through the available colors, there is no way to close it.\n\nYou can change which scene it shows up in by changing the KSPAddon startup value in the code shown below.\n\nDownload the compiled plugin from [DropBox](https://www.dropbox.com/s/njgqdm3cc5djyjr/XKCD%20Color%20Viewer.zip?dl=0). Unzip and put the file anywhere in the GameData folder.\n\n![JqBgyhE.png](http://i.imgur.com/JqBgyhE.png)\n\nFor the code below all that you need to do is setup a project with references to KSP\u0027s Assembly-CSharp and UnityEngine.\n\n    /* License: Public Domain *  * By DMagic - 2015*/using System;using System.Collections.Generic;using System.Reflection;using UnityEngine;namespace XKCDColorViewer{\t[KSPAddon(KSPAddon.Startup.MainMenu, true)]\tclass XKCDColorPrintout : MonoBehaviour\t{\t\tRect windowRect = new Rect(50, 50, 600, 600);\t\tVector2 scroll = new Vector2();\t\tGUIStyle title, fonts, fontStyle, rgbValue;\t\tDictionary xColors = new Dictionary();\t\tList\u003E sortedColors = new List\u003E();\t\tbool loaded;\t\tprivate void Start()\t\t{\t\t\tassignColors();\t\t}\t\tprivate void OnGUI()\t\t{\t\t\tif (!loaded)\t\t\t{\t\t\t\ttitle = new GUIStyle(GUI.skin.label);\t\t\t\ttitle.fontSize = 14;\t\t\t\ttitle.alignment = TextAnchor.MiddleLeft;\t\t\t\ttitle.wordWrap = false;\t\t\t\tfonts = new GUIStyle(title);\t\t\t\tfonts.alignment = TextAnchor.MiddleCenter;\t\t\t\tTexture2D blackBackground = new Texture2D(1, 1);\t\t\t\tblackBackground.SetPixel(1, 1, Color.black);\t\t\t\tblackBackground.Apply();\t\t\t\tfonts.normal.background = blackBackground;\t\t\t\tfonts.fontSize = 16;\t\t\t\tfontStyle = new GUIStyle(title);\t\t\t\tfontStyle.fontStyle = FontStyle.Bold;\t\t\t\tfontStyle.alignment = TextAnchor.MiddleCenter;\t\t\t\tTexture2D whiteBackground = new Texture2D(1, 1);\t\t\t\twhiteBackground.SetPixel(1, 1, Color.white);\t\t\t\twhiteBackground.Apply();\t\t\t\tfontStyle.normal.background = whiteBackground;\t\t\t\trgbValue = new GUIStyle(title);\t\t\t\trgbValue.fontSize = 12;\t\t\t\tloaded = true;\t\t\t}\t\t\twindowRect = GUI.Window(\u0022xkcdColors\u0022.GetHashCode(), windowRect, drawWindow, new GUIContent(\u0022XKCD Colors\u0022));\t\t}\t\tprivate void drawWindow(int id)\t\t{\t\t\tRect r = new Rect(2, 20, 595, 570);\t\t\tRect rView = new Rect(0, 0, 575, 30540);\t\t\tscroll = GUI.BeginScrollView(r, scroll, rView);\t\t\tRect label = new Rect(4, 2, 140, 28);\t\t\tint i = 0;\t\t\tforeach (var c in sortedColors)\t\t\t{\t\t\t\ti\u002B\u002B;\t\t\t\tif (label.yMin \u003E= (scroll.y - 20) \u0026\u0026 label.yMax \u003C= (scroll.y \u002B windowRect.height - 30))\t\t\t\t{\t\t\t\t\ttitle.normal.textColor = c.Value;\t\t\t\t\tfonts.normal.textColor = c.Value;\t\t\t\t\tfontStyle.normal.textColor = c.Value;\t\t\t\t\trgbValue.normal.textColor = c.Value;\t\t\t\t\tstring s = c.Key;\t\t\t\t\tGUI.Label(label, i \u002B \u0022: \u0022 \u002B s \u002B \u0022: \u0022, title);\t\t\t\t\tlabel.x \u002B= 140;\t\t\t\t\tlabel.width = 110;\t\t\t\t\tGUI.Label(label, \u0022Font Size 16 \u0022, fonts);\t\t\t\t\tlabel.x \u002B= 120;\t\t\t\t\tlabel.width = 115;\t\t\t\t\tGUI.Label(label, \u0022Font Style Bold\u0022, fontStyle);\t\t\t\t\tlabel.x \u002B= 125;\t\t\t\t\tlabel.width = 160;\t\t\t\t\tGUI.Label(label, string.Format(\u0022R: {0:N3}, G: {1:N3}, B: {2:N3}\u0022, c.Value.r, c.Value.g, c.Value., rgbValue);\t\t\t\t}\t\t\t\tlabel.y \u002B= 32;\t\t\t\tlabel.x = 4;\t\t\t\tlabel.width = 140;\t\t\t}\t\t\tGUI.EndScrollView();\t\t\tGUI.DragWindow();\t\t}\t\tprivate void assignColors()\t\t{\t\t\tType xkcd = typeof(XKCDColors);\t\t\tvar properties = xkcd.GetProperties(BindingFlags.Static | BindingFlags.Public);\t\t\tforeach (var prop in properties)\t\t\t{\t\t\t\ttry\t\t\t\t{\t\t\t\t\tColor c = (Color)prop.GetValue(null, null);\t\t\t\t\tstring s = prop.Name;\t\t\t\t\tif (xColors.ContainsKey(s))\t\t\t\t\t\tcontinue;\t\t\t\t\txColors.Add(s, c);\t\t\t\t}\t\t\t\tcatch\t\t\t\t{\t\t\t\t\tprint(\u0022Failed to assign a color value\u0022);\t\t\t\t\tcontinue;\t\t\t\t}\t\t\t}\t\t\tforeach (var p in xColors)\t\t\t\tsortedColors.Add(p);\t\t\tsortedColors.Sort((a,  =\u003E a.Key.CompareTo(b.Key));\t\t}\t}}\n\n**Edited \u003Ctime datetime=\u00222015-04-20T17:08:23Z\u0022 title=\u002204/20/2015 05:08  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 20, 2015\u003C/time\u003E by DMagic**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-21T19:19:39Z","Content":"Or [http://xkcd.com/color/rgb/](http://xkcd.com/color/rgb/) ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"}]}