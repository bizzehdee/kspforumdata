{"TopicId":134307,"ForumId":29,"TopicTitle":"Why is this code creating multiple Toolbar buttons when switching scenes?","CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-16T04:06:08Z","PageNum":1,"Articles":[{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-16T04:06:08Z","Content":"\n\u003Cp\u003E\nHey, whenever I switch from the VAB to the SpaceCenter, the icon for this plugin get create multiple times. How can I fix this? Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://gist.github.com/bananashavings/e698f4359e1628b5d6ef\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/bananashavings/e698f4359e1628b5d6ef\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-03-16T04:46:07Z","Content":"\n\u003Cp\u003E\nMake appLauncherButton static. Every time you switch scenes, the instance of the class you have is destroyed along with your reference to the button. Going back to the space centre, you have a new class instance and a null button variable, and so another is created. Making it static means it wont be null after you\u0027ve created it, so your null check \u003Ca href=\u0022https://gist.github.com/bananashavings/e698f4359e1628b5d6ef#file-careermanagerui-cs-L63\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E will do its job\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-16T04:48:54Z\u0022 title=\u002203/16/2016 04:48  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 16, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-16T04:46:32Z","Content":"\n\u003Cp\u003E\nEverytime the CareerManagerUI class is created, it\u0027s making a new button but not destroying the button with that instance of the CareerManagerUI class is destroyed.\n\u003C/p\u003E\n\u003Cp\u003E\nSo KSP keeps the button around because without that explicit button destroy command it\u0027s not smart enough to remove the button when the CareerManagerUI class is destroyed.\n\u003C/p\u003E\n\u003Cp\u003E\nNote the null check doesn\u0027t work because when another instance of the CareerManagerUI class is created, it makes a second button object, it doesn\u0027t check the first button object made previously in the other instance of the class.\n\u003C/p\u003E\n\u003Cp\u003E\nHope that helps,\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-16T22:50:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222459308\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458103567\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMake appLauncherButton static. Every time you switch scenes, the instance of the class you have is destroyed along with your reference to the button. Going back to the space centre, you have a new class instance and a null button variable, and so another is created. Making it static means it wont be null after you\u0027ve created it, so your null check \u003Ca href=\u0022https://gist.github.com/bananashavings/e698f4359e1628b5d6ef#file-careermanagerui-cs-L63\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E will do its job\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the reply, and it somewhat helped. It no longer creates a new button which is awesome, but the button now becomes unresponsive after switching scenes. Thanks for anymore help!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222459310\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458103592\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEverytime the CareerManagerUI class is created, it\u0027s making a new button but not destroying the button with that instance of the CareerManagerUI class is destroyed.\n\u003C/p\u003E\n\u003Cp\u003E\nSo KSP keeps the button around because without that explicit button destroy command it\u0027s not smart enough to remove the button when the CareerManagerUI class is destroyed.\n\u003C/p\u003E\n\u003Cp\u003E\nNote the null check doesn\u0027t work because when another instance of the CareerManagerUI class is created, it makes a second button object, it doesn\u0027t check the first button object made previously in the other instance of the class.\n\u003C/p\u003E\n\u003Cp\u003E\nHope that helps,\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs there a way to fix this?\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-03-17T06:50:33Z","Content":"\n\u003Cp\u003E\nMake the functions static too \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E (they point to a dead instance currently)\n\u003C/p\u003E\n\u003Cp\u003E\nAlternatively, you need to destroy the button instance on leaving a scene, which I don\u0027t have any examples at hand for because I just use a static class for the toolbar now (I find it more trustworthy when other mods start throwing exceptions around...)\n\u003C/p\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-17T13:56:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222460954\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458197433\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMake the functions static too \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E (they point to a dead instance currently)\n\u003C/p\u003E\n\u003Cp\u003E\nAlternatively, you need to destroy the button instance on leaving a scene, which I don\u0027t have any examples at hand for because I just use a static class for the toolbar now (I find it more trustworthy when other mods start throwing exceptions around...)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry for my incompetence, but which functions should I make static. The only one that I see that affects the appLauncherButton directly is the constructor, and I cant make that static \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-17T15:16:43Z","Content":"\n\u003Cp\u003E\nThe command to destroy the button is ApplicationLauncher.Instance.RemoveModApplication.\n\u003C/p\u003E\n\u003Cp\u003E\nI inherit my classes from MonoBehavior so the OnDisable() method is automatically called by KSP when it destroys the class and I put the button remove method in there.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Static method Crzyrndm is talking about is making a totally separate class that is entirely static for button management that your UI instance class would call.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-03-17T18:57:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222461267\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458227803\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe Static method Crzyrndm is talking about is making a totally separate class that is entirely static for button management that your UI instance class would call.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot quite. Only the functions that the button calls need to be static (which then need to reference atleast one static member to make changes to the live instance, ...). The way he has it setup, its probably easier just to destroy the button on leaving the scene.\n\u003C/p\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-17T23:06:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222461267\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458227803\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe command to destroy the button is ApplicationLauncher.Instance.RemoveModApplication.\n\u003C/p\u003E\n\u003Cp\u003E\nI inherit my classes from MonoBehavior so the OnDisable() method is automatically called by KSP when it destroys the class and I put the button remove method in there.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Static method Crzyrndm is talking about is making a totally separate class that is entirely static for button management that your UI instance class would call.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAdding this doesnt change anything unfortunately:\n\u003C/p\u003E\n\u003Cp\u003E\npublic void OnDisable()\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0ApplicationLauncher.Instance.RemoveModApplication(appLauncherButton);\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222461557\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458241040\u0022 data-ipsquote-userid=\u002292871\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Crzyrndm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot quite. Only the functions that the button calls need to be static (which then need to reference atleast one static member to make changes to the live instance, ...). The way he has it setup, its probably easier just to destroy the button on leaving the scene.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhats the best way to do that?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-17T23:56:25Z","Content":"\n\u003Cp\u003E\nYou need to inherit from MonoBehavior for OnDisable() to run, so:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Epublic class CareerManagerUI : MonoBehavior\n{\npublic void OnDisable()\n{\nApplicationLauncher.Instance.RemoveModApplication(YouButtonObject)\n}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nMonoBehavior being a top-level class in Unity that adds several utility methods like this, you can see them in the Object Browser as part of the MonoBehavior object.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-17T23:58:18Z\u0022 title=\u002203/17/2016 11:58  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 17, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-18T00:30:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222462056\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458258985\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou need to inherit from MonoBehavior for OnDisable() to run, so:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan\u003Epublic class CareerManagerUI : MonoBehavior\n{\npublic void OnDisable()\n{\nApplicationLauncher.Instance.RemoveModApplication(YouButtonObject)\n}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nMonoBehavior being a top-level class in Unity that adds several utility methods like this, you can see them in the Object Browser as part of the MonoBehavior object.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWeird, still isnt working for me, any other ideas?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-18T01:21:23Z","Content":"\n\u003Cp\u003E\nOdd. I actually inherit from PartModule not MonoBehavior in my own code for other reasons, maybe the OnDisable() method exists at that level instead?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m looking at my object browser now and I can\u0027t actually find the method, so I\u0027m actually not sure what Class it\u0027s actually attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit: Nope, it\u0027s off MonoBehavior: \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L1461\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s where I actually use it in my own code so you can compare.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCan you stick a Debug.Log in and see if is the OnDisable not being called, or the RemoveModButton code that\u0027s not working?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-18T01:25:15Z\u0022 title=\u002203/18/2016 01:25  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 18, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-18T01:32:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222462174\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458264083\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOdd. I actually inherit from PartModule not MonoBehavior in my own code for other reasons, maybe the OnDisable() method exists at that level instead?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m looking at my object browser now and I can\u0027t actually find the method, so I\u0027m actually not sure what Class it\u0027s actually attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit: Nope, it\u0027s off MonoBehavior: \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L1461\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s where I actually use it in my own code so you can compare.\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cs\u003EI\u0027m trying to somewhat replicate your code, but I cant do \u0022toolbarButton.Destroy();\u0022, as it throws \u0022No overload for method \u0022Destroy\u0022 takes 0 arguments. Any help?\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNvm, that was something else\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-18T01:38:48Z\u0022 title=\u002203/18/2016 01:38  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 18, 2016\u003C/time\u003E by bananashavings\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-18T01:42:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222462174\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458264083\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOdd. I actually inherit from PartModule not MonoBehavior in my own code for other reasons, maybe the OnDisable() method exists at that level instead?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m looking at my object browser now and I can\u0027t actually find the method, so I\u0027m actually not sure what Class it\u0027s actually attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit: Nope, it\u0027s off MonoBehavior: \u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docs.unity3d.com/ScriptReference/MonoBehaviour.OnDisable.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L1461\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s where I actually use it in my own code so you can compare.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCan you stick a Debug.Log in and see if is the OnDisable not being called, or the RemoveModButton code that\u0027s not working?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nArrrgghhh, just changed it to practically what you have and it still didnt work! Do you think it could have to do with my main class?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-18T02:01:38Z","Content":"\n\u003Cp\u003E\nIt shouldn\u0027t have anything to do with your main class I would think.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you paste-bin your current code? Including where you initialize the CareerManagerUI class.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-18T02:09:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222462202\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458266498\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt shouldn\u0027t have anything to do with your main class I would think.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you paste-bin your current code? Including where you initialize the CareerManagerUI class.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure, \u003Ca href=\u0022https://github.com/bananashavings/CareerManager/blob/master/CareerManager.cs\u0022 rel=\u0022external nofollow\u0022\u003Eheres\u003C/a\u003E the CareerManager.cs and \u003Ca href=\u0022https://github.com/bananashavings/CareerManager/blob/master/CareerManagerUI.cs\u0022 rel=\u0022external nofollow\u0022\u003Eheres\u003C/a\u003E the CareerManagerUI.cs. Additionally \u003Ca href=\u0022https://github.com/bananashavings/CareerManager/blob/master/ToolbarWrapper.cs\u0022 rel=\u0022external nofollow\u0022\u003Eheres\u003C/a\u003E the ToolbarWrapper.cs if you want to see it. Thanks for all this help again, I sincerely appreciate it!\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-18T02:28:19Z","Content":"\n\u003Cp\u003E\nOkay, you have both Destroy() and OnDisable() methods, you only need one as they are doing the same thing.\n\u003C/p\u003E\n\u003Cp\u003E\nThings look right to me otherwise though.\n\u003C/p\u003E\n\u003Cp\u003E\nHaving said that, can you stick a debug line into the OnDisable method?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EDebug.Log(\u0022UI OnDisable called okay\u0022);\nApplicationLauncher.Instance.RemoveModApplication(appLauncherButton);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat will tell you if the code is even trying to remove the Toolbar button or not so you can confirm you are focusing on the right issue.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"bananashavings","CreatedById":156147,"CreatedDateTime":"2016-03-18T02:37:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222462224\u0022 data-ipsquote-contentid=\u0022134307\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221458268099\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, you have both Destroy() and OnDisable() methods, you only need one as they are doing the same thing.\n\u003C/p\u003E\n\u003Cp\u003E\nThings look right to me otherwise though.\n\u003C/p\u003E\n\u003Cp\u003E\nHaving said that, can you stick a debug line into the OnDisable method?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan\u003EDebug\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ELog\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022UI OnDisable called okay\u0022\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003Cspan\u003E\n\u003C/span\u003E\u003Cspan\u003EApplicationLauncher\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003EInstance\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan\u003ERemoveModApplication\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EappLauncherButton\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat will tell you if the code is even trying to remove the Toolbar button or not so you can confirm you are focusing on the right issue.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYAY, I removed the Destroy() function and changed the corresponding code in the main file to OnDisable() and it works now! Thanks for all the help and hopefully I wont have to bug you any more!\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-03-18T02:42:08Z","Content":"\n\u003Cp\u003E\nGlad to hear you got it!\n\u003C/p\u003E\n\u003Cp\u003E\nWhile I\u0027m not 100% sure, I\u0027m assuming that the Destroy() ran before OnDisable() and pre-empted it so that OnDisable() was simply never running. It depends on how exactly MonoBehavoir was coded by the Unity programmers and I\u0027m not privy to that.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-03-18T09:21:10Z","Content":"\n\u003Cp\u003E\nThe MonoBehaviour lifecycle graph down on that \u003Ca href=\u0022http://docs.unity3d.com/Manual/ExecutionOrder.html\u0022 rel=\u0022external nofollow\u0022\u003Epage\u003C/a\u003E is useful to answer those question \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-03-18T12:22:21Z","Content":"\n\u003Cp\u003E\nThat page contains contradictory information (though the bits concerning creation and destruction are probably correct \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0).\u00A0 This bit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cb\u003EFixedUpdate:\u003C/b\u003E \u003Cspan\u003EFixedUpdate\u003C/span\u003E is often called more frequently than \u003Cspan\u003EUpdate\u003C/span\u003E. It can be called multiple times per frame, if the frame rate is low and it may not be called between frames at all if the frame rate is high.\n\u003C/p\u003E\n\u003Cp\u003E\n...says that FixedUpdate may not be called between two calls to Update but the flowchart further down the page doesn\u0027t allow this.\n\u003C/p\u003E\n"}]}