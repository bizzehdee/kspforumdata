{"TopicId":160246,"ForumId":29,"TopicTitle":"Stock Mk3 values seem to be off","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-05-05T21:34:42Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-05-05T21:34:42Z","Content":"\n\u003Cp\u003E\nI\u0027m looking into some of the config files of the stock parts, using them as reference, and I noticed the following oddity:\n\u003C/p\u003E\n\u003Cp\u003E\nIn the Mk3 Shuttle parts, the maximum drag is set lower than the minimum drag. \u00A0This doesn\u0027t make sense, can someone explain this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Emaximum_drag = 0.2\nminimum_drag = 0.3\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI need to know because the parts I\u0027m updating are shuttle parts from another mod.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance, and, if this is in the wrong forum, please move it to the correct one.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-05-05T21:44:27Z","Content":"\n\u003Cp\u003E\nThose values are no longer used on parts that have drag-cubes, and are safe to ignore on most non-wing/non-control surface parts.\n\u003C/p\u003E\n\u003Cp\u003E\nSadly I\u0027m unsure as to a 100% reliable method to tell which parts this applies to except to look inside the drag-cube database/cache file and check for an entry for a given part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-05-05T21:45:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223046350\u0022 data-ipsquote-contentid=\u0022160246\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494020667\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThose values are no longer used on parts that have drag-cubes, and are safe to ignore on most non-wing/non-control surface parts.\n\u003C/p\u003E\n\u003Cp\u003E\nSadly I\u0027m unsure as to a 100% reliable method to tell which parts this applies to except to look inside the drag-cube database/cache file and check for an entry for a given part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDrag cubes, would be specified in the config, right? \u00A0So if these old parts don\u0027t have drag cubes, I\u0027ll still need them?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-05-05T21:51:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223046352\u0022 data-ipsquote-contentid=\u0022160246\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494020727\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDrag cubes, would be specified in the config, right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey are not specified in the part config file, but a separate file in the root KSP directory (PartDatabase.cfg I think it is called).\u00A0 (a few parts do have drag-cube overrides in the part.cfg file, but those are a separate deal than the automatically generated drag-cubes stored in the PartDatabase.cfg file)\n\u003C/p\u003E\n\u003Cp\u003E\nThe only parts that get excluded from drag-cube creation are those with a \u0027dragModel\u0027 set to something other than \u0027default\u0027.\u00A0 So if the part.cfg file has \u0027dragModel = default\u0027 or completely lacks a \u0027dragModel\u0027 entry, it \u003Cem\u003Eshould\u003C/em\u003E be safe to assume that it \u003Cstrong\u003Edoes\u003C/strong\u003E use drag cubes and does not need the min/max drag config values.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223046352\u0022 data-ipsquote-contentid=\u0022160246\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494020727\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo if these old parts don\u0027t have drag cubes, I\u0027ll still need them?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf they are not wing/control surfaces, it is highly likely that they -do- have drag cubes generated by the KSP code.\n\u003C/p\u003E\n\u003Cp\u003E\nCockpit or fuselage parts should have drag cubes.\u00A0 Wings, tails, and elevons likely do not.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-05-05T21:58:33Z","Content":"\n\u003Cp\u003E\nDrag cubes are generated automatically and saved to PartDatabase.cfg (I am not entirely sure of when this cache is invalidated). \u00A0The cases where drag cubes are specified on the part are those where the default procedural drag cubes don\u0027t work, mainly cargo bays.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-05-05T21:59:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223046362\u0022 data-ipsquote-contentid=\u0022160246\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221494021513\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDrag cubes are generated automatically and saved to PartDatabase.cfg (I am not entirely sure of when this cache is invalidated). \u00A0The cases where drag cubes are specified on the part are those where the default procedural drag cubes don\u0027t work, mainly cargo bays.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nok. \u00A0So one of the part is (surprise) a cargo bay. \u00A0How can I set up the drag cubes?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-05-05T22:52:00Z","Content":"\n\u003Cp\u003E\nI assume that if a drag cube is definied in a file (such as in the mk3CargoBay), it overrides the dragModelType? \u00A0Because in the mk3CargoBay, the dragModelType = default\n\u003C/p\u003E\n\u003Cp\u003E\none more question, I noticed that in the stock Mk3 parts, there is no ModuleLiftingSurface. \u00A0Is that taken care of by the default drag cubes? \u00A0Reason for this question is that the mod I\u0027m trying to update has ModuleLiftinSurface modules in the cockpit and other parts which the stock equivilents don\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-05-06T01:26:56Z","Content":"\n\u003Cp\u003E\nI\u0027m not so sure on how the drag-cube overrides work with the cargo bays.\u00A0 Its something I\u0027ve never been able to get working when I tried to use similar systems.\u00A0 For my own cargo-bay type parts, I just go with whatever the drag-cube system renders for them, but I\u0027ve never tested how accurate it is compared to similar stock parts.\n\u003C/p\u003E\n\u003Cp\u003E\nI think ModuleLiftingSurface might be okay to use with drag-cubes, pretty sure I\u0027m using it myself on my shuttle body for body-lift, and that part certainly uses drag-cubes (and it has an integrated cargo bay!).\u00A0 No overrides or anything funny.\u00A0 Just let the stock system do its stuff.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/Series-E/SC-E-FS.cfg#L354-L360\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/blob/master/GameData/SSTU/Parts/ShipCore/Series-E/SC-E-FS.cfg#L354-L360\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNote however that I had to specify the \u0027 \u003Cspan\u003EuseInternalDragModel = False\u003C/span\u003E \u0027 or it did mess with the rest of the drag system for that part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe stock parts just use the body lift generated by the default drag cubes.\u00A0 Which for general purposes is acceptable.\u00A0 For lifting bodies, such as a full shuttle system, there probably should be added body-lift which the ModuleLiftingSurface can take care of.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-05-06T02:19:03Z","Content":"\n\u003Cp\u003E\nRegarding cargo bays -\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem is that usually the models are hollow tubes, whereas when a cargo bay is closed you want it to have the same drag characteristics as a solid fuselage piece. \u00A0So the usual process is this:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nHave two parts, one of which is a cargo bay and one of which is a solid part with the same shape\n\u003C/li\u003E\n\u003Cli\u003E\nRun KSP\n\u003C/li\u003E\n\u003Cli\u003E\nOpen PartDatabase.cfg\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the drag cubes from the cargo bay and put them in the part\u0027s CFG\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the drag cube from the solid part and replace the cargo bay\u0027s closed drag cube with that in the CFG\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIf the cargo bay doesn\u0027t have empty ends, none of this needs to happen.\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding\u00A0\u003Cspan style=\u0022color:#272a34;\u0022\u003EdragModelType, there are only a few significant values: \u0022SPHERICAL\u0022, \u0022CYLINDRICAL\u0022, \u0022CONIC\u0022, \u0022OVERRIDE\u0022, and \u0022NONE\u0022 (override and none are the same). \u00A0Everything else defaults to the default cube implementation.\u003C/span\u003E\n\u003C/p\u003E\n"}]}