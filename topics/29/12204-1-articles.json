{"TopicId":12204,"ForumId":29,"TopicTitle":"Wing Plugin [Beginings...Concept...]","CreatedByName":"drewmacrae","CreatedById":7532,"CreatedDateTime":"2012-06-06T18:43:39Z","PageNum":1,"Articles":[{"CreatedByName":"drewmacrae","CreatedById":7532,"CreatedDateTime":"2012-06-06T18:43:39Z","Content":"\n\u003Cp\u003EThe present system to generate an atmospheric flight model in KSP is the best I\\\u0027ve seen made available to the public. It allows for arbitrary design of craft and then arbitrary destruction of the assembled components while maintaining a reasonably credible flight model. Designing planes is a frustrating process, and I think it\\\u0027s great that this realism affects KSP. There have been claims that the difficulty in designing large planes is due to innacuracies in the winglet model used to compute lift and drag. I don\\\u0027t think that\\\u0027s the case, but the current model does encourage the sorts of things we saw when people were trying to fly for the first time, and this is partly a result of the winglet model. I\\\u0027m not a fan of telling people how to do their jobs, but I\\\u0027m of the opinion that Squad should focus on features that require intimate knowledge of the KSP code base, and ones that are impossible with mods; I don\\\u0027t feel this is one of them and it seems this could be developed externally in a mod, so I\\\u0027m going to take a crack at it. I have a tendency to move slowly on some projects or to put them down entirely so I think opening up this process for comment might be beneficial to the community. If someone wants to pick this up at any point and do the next step, I\\\u0027ll be grateful for the help. I\\\u0027ll post a link to a Google code project once I have built up some source code. All I know about aerodynamics I\\\u0027ve learned from RC planes, model rockets, simulators and from the internet. I don\\\u0027t consider myself an expert, but I feel I have a lot of the knowledge needed to produce a wing plugin and that it will be an interesting problem. \u003C/p\u003E\u003Cp\u003EI asked a friend for help, regarding a problem of wings flying sideways through the air especially if there was information available at sub/trans/and supersonic regimes. He was the one who originally showed me KSP last August, and has more formal aerospace training than I do. I thoguht he might know which terms to punch into Google at the very least. He informed me that a sideways version of AOA is called sideslip, and that there\\\u0027s not much information characterizing wings behavior in side-slip because the aircraft tend to be characterized as a whole instead. He sent me one paper he felt might be helpful. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://openae.org/files/resources/datcom/Datcom_handbook_1978_edition/Section_5_Slideslip.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://openae.org/files/resources/datcom/Datcom_handbook_1978_edition/Section_5_Slideslip.pdf\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf that qualifies as not much information I\\\u0027d hate to be researching something where there is a lot.\u003C/p\u003E\u003Cp\u003EI find I can\\\u0027t understand that resource on it\\\u0027s own, and no amount of math is going to get me there, so here\\\u0027s the equivalent of a decoder ring for all the funny looking letters: \u003Ca href=\u0022http://lahso.megginson.com/2005/07/18/the-alpha-beta-of-flying/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://lahso.megginson.com/2005/07/18/the-alpha-beta-of-flying/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe first referenced paper in the long one looks helpful: \u003Ca href=\u0022http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19930082233_1993082233.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19930082233_1993082233.pdf\u003C/a\u003E I\\\u0027ve been told that these old NACA publications are worthwhile. In fact it\\\u0027s nice because as they develop the theory here along with some early swept wing development they\\\u0027re introducing terms for the first time which means they see fit to define them. This is a great collection of data, and it looks like it\\\u0027s almost ready for implementation. It\\\u0027s coverage of swept wings doesn\\\u0027t quite isolate winged pairs.\u003C/p\u003E\u003Cp\u003EWing plugin scope \u003C/p\u003E\u003Cp\u003E0.1 release:\u003C/p\u003E\u003Cp\u003EThe C7 swept wing and small control surface will each have their lift and drag model overridden with a subsonic model for lift and drag at a variety of AoA and sideslip conditions based on interpolation of some data set, likely from the above NACA paper. The model will assume the wing is moving trhough the air in a symmetric but otherwise independant pair through the air so as not to require simulation of the wakes of other parts. This will enable craft to generate more lift at smaller AoAs and then to simulate stalls with reduced lift and increased drag at higher AoAs, so we get to see our planes fly with 5 degree AoAs instead of 55 degrees. \u003C/p\u003E\u003Cp\u003EI imagine constructing 0.1 in the following manner\u003C/p\u003E\u003Cp\u003E[list type=decimal]\u003C/p\u003E\u003Cp\u003E[li]plugin will be an extension of the winglet, parts will be changed to \u0027wings\u0027 and \u0027control wings\u0027[/li]\u003C/p\u003E\u003Cp\u003E[li]Removing the current forces by setting drag and lift to zero[/li]\u003C/p\u003E\u003Cp\u003E[li]Checking that I can insert craft relative lift by applying it in the vessel.up direction[/li]\u003C/p\u003E\u003Cp\u003E[li]printing AoA and sideslip for the wing when arbitrarily attached to a plane[/li]\u003C/p\u003E\u003Cp\u003E[li]use nearest interpolation to lookup lift and drag as a function of sideslip and aoa[/li]\u003C/p\u003E\u003Cp\u003E[li]develop interpolation methods to better compute lift and drag as a function of aoa and sideslip[/li]\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFuture releases may have the following features in no particular order:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003E[li]Stall horns[/li]\u003Cbr\u003E[li]Stick pusher stall prevention[/li]\u003Cbr\u003E[li]Improved drag models for other types of parts (nosecones, aeroshells, everything else)[/li]\u003Cbr\u003E[li]Trans/supersonic models[/li]\u003Cbr\u003E[li]Atmospheric heating effects[/li]\u003Cbr\u003E[li]Stochastic Raycast based wake effects[/li]\u003Cbr\u003E[li]Exhaust aware wake effects[/li]\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOpen questions\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003E[li]How do I determine velocity relative to the air?[/li]\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eand plenty more to follow I\\\u0027m sure...\u003C/p\u003E\n"},{"CreatedByName":"Romfarer","CreatedById":20387,"CreatedDateTime":"2012-06-07T07:37:03Z","Content":"\n\u003Cp\u003ESince there is no wind in KSP, velocity relative to the air is equal to the velocity relative to the rotating frame.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EVector3d rotatingFrameVelocity = nonRotatingFrameVelocity - vessel.mainBody.getRFrmVel(position); \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is taken from the following ksp wiki page: \u003Ca href=\u0022http://kspwiki.nexisonline.net/wiki/Module_code_examples\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kspwiki.nexisonline.net/wiki/Module_code_examples\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Taverius","CreatedById":11815,"CreatedDateTime":"2012-06-08T12:31:46Z","Content":"\n\u003Cp\u003EA simple simulation of ground effect, so we can ekranoplanes, would be awesome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-06-29T11:18:22Z","Content":"\n\u003Cp\u003EAre you still working on this ? It looks cool\u003C/p\u003E\n"},{"CreatedByName":"Mr_Orion","CreatedById":22245,"CreatedDateTime":"2012-06-29T17:18:19Z","Content":"\n\u003Cp\u003EI\\\u0027d like to note that Iskierka has already made a semi-finished wing module long before this (though it\\\u0027s not been publicly released, apparently the thick atmosphere makes aeroplanes feel like feathers with realistic wings), but also I hear that Mu has been working on some official wings that should be eventually implemented.\u003C/p\u003E\n"},{"CreatedByName":"DrPoo","CreatedById":5145,"CreatedDateTime":"2012-06-29T22:13:58Z","Content":"\n\u003Cp\u003EHoly moly, talk about verbosity!\u003C/p\u003E\u003Cp\u003EIm very interested in this plugin. Theres something really wrong with vanilla wings and i cant tquite put a finger on what.\u003C/p\u003E\u003Cp\u003EIll try this when i can. Good night.\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2012-06-30T00:33:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr_Orion\u0022 data-cite=\u0022Mr_Orion\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\\\u0027d like to note that Iskierka has already made a semi-finished wing module long before this (though it\\\u0027s not been publicly released, apparently the thick atmosphere makes aeroplanes feel like feathers with realistic wings), but also I hear that Mu has been working on some official wings that should be eventually implemented.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I believe many modders have been holding back from tackling the wing behavior precisely because we were told a lot of the work was already done. Sometime. Somewhere...\u003C/p\u003E\n"},{"CreatedByName":"semininja","CreatedById":3837,"CreatedDateTime":"2012-06-30T01:20:15Z","Content":"\n\u003Cp\u003EA week or two ago, I made \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/index.php?topic=14710.0\u0022 rel=\u0022external nofollow\u0022\u003Ea suggestion\u003C/a\u003E about how the drag model could be improved. Having reflected on that suggestion, I think that with the right values in the .cfg file, that drag model would create a lift effect without any need for a specific \\\u0027wing\\\u0027 case, because of the way the drag forces are applied.\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-06-30T18:26:42Z","Content":"\n\u003Cp\u003EWich values ? If you can create lift from drag it would interess me for my plugin.\u003C/p\u003E\n"},{"CreatedByName":"semininja","CreatedById":3837,"CreatedDateTime":"2012-07-01T05:29:13Z","Content":"\n\u003Cp\u003EIn my suggestion, the way drag forces are applied causes \\\u0027deflection lift\\\u0027 of sorts as a side effect.\u003C/p\u003E\n"}]}