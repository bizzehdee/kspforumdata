{"TopicId":112401,"ForumId":29,"TopicTitle":"Problem with effect appearing on ground and after splashdown","CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-08T21:52:00Z","PageNum":1,"Articles":[{"CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-08T21:52:00Z","Content":"Hi, I am making my first add-on, and I encountered weird problem with smoke effect.\n\nCan somebody, please, help me find out what\u0027s causing this. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nThis appear on the ground when the engine is pointing down, even when the engine is turned off:\n\n![RQWMlJW.jpg](http://i.imgur.com/RQWMlJW.jpg)\n\nAnd the same effect is rendered after splashdown infinitely\n\n![CpeZvhD.jpg](http://i.imgur.com/CpeZvhD.jpg)"},{"CreatedByName":"Merill","CreatedById":136069,"CreatedDateTime":"2015-06-09T16:01:49Z","Content":"It seem you trigger the new \u0022launch smoke effect\u0022.\n\n\u003E \n\u003E I am making my first add-on\n\nI think the problem is in your plugin code (at the line 42 ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif))"},{"CreatedByName":"Zbeny","CreatedById":145911,"CreatedDateTime":"2015-06-09T20:49:10Z","Content":"Here is config file, I forgot to include it in the original post. Mostly it\u0027s copied from stock parts and tweaked.\n\nBut I don\u0027t think there is error in the FX. Maybe it could be bug initiated by too many functions in one part?\n\n    PART{\tname = K302\tmodule = Part\tauthor = Zbeny\tmesh = X302.mu\t//scale = 0.5    rescaleFactor = 1\tTechRequired = engineering101\tcategory = Pods\tsubcategory = 0\tentryCost = 63500\tcost = 30000\ttitle = K-302\tmanufacturer = Kerbal Nerd Association\tdescription = Super cool spacecraft based on vehicles from Star Gate, Star Wars and of course super cars from 80\u0027s.\tCoLoffset = 0.0, 1, 0.0\tnode_stack_bottom01 = 0.510, -2.421692, 0.0, 0.0, -1.0, 0.0    node_stack_bottom02 = -0.510, -2.421692, 0.0, 0.0, -1.0, 0.0\tattachRules = 1,1,1,1,0\tmass = 2\tdragModelType = none\tmaximum_drag = 0.1\tminimum_drag = 0.1\tangularDrag = 2\tcrashTolerance = 45\tmaxTemp = 2000 // = 3400\tvesselType = Ship\tCrewCapacity = 2\tfuelCrossFeed = True\tbulkheadProfiles = srf    INTERNAL\t{\t\tname = X302Internal\t}\tRESOURCE\t{\t\tname = IntakeAir\t\tamount = 1.5\t\tmaxAmount = 1.5\t}\tRESOURCE\t{\t\tname = ElectricCharge\t\tamount = 250\t\tmaxAmount = 250\t}\tRESOURCE\t{\t\tname = XenonGas\t\tamount = 2100\t\tmaxAmount = 2100\t}\tRESOURCE\t{\t\tname = MonoPropellant\t\tamount = 50\t\tmaxAmount = 50\t}\tRESOURCE\t{\t\tname = LiquidFuel\t\tamount = 50\t\tmaxAmount = 50\t}\tMODULE\t{\t\tname = ModuleRCS\t\tthrusterTransformName = RCS    //This is the name of the transform.\t\tthrusterPower = 1    //self explanatory, this is your thrust produced\t\tresourceName = MonoPropellant\t\tresourceFlowMode = STAGE_PRIORITY_FLOW\t\tatmosphereCurve\t\t{\t\t key = 0 260\t\t key = 1 100\t\t}\t}\tMODULE\t{\t\tname = ModuleCommand\t\tminimumCrew = 1\t}\t\tMODULE\t{\t\tname = ModuleGenerator\t\tisAlwaysActive = true\t\tOUTPUT_RESOURCE\t\t{\t\t\tname = ElectricCharge\t\t\trate = 25\t\t}\t}\tMODULE\t{\t\tname = ModuleResourceIntake\t\tresourceName = IntakeAir\t\tcheckForOxygen = true\t\tarea = 0.012\t\tintakeSpeed = 10\t\tintakeTransformName = Intake\t}\tMODULE\t{\t\tname = ModuleLiftingSurface\t\tuseInternalDragModel = True\t\tdeflectionLiftCoeff = 0.12\t\t//0.42m^2\t}\tMODULE\t{\t\tname = ModuleReactionWheel\t\tPitchTorque = 20\t\tYawTorque = 20\t\tRollTorque = 20\t\tRESOURCE\t\t{\t\t\tname = ElectricCharge\t\t\trate = 0.5\t\t}\t}\t// JET ENGINE //\tMODULE\t{\t\tname = ModuleEnginesFX\t\tengineID = Cruise\t\tthrustVectorTransformName = thrustTransform\t\texhaustDamage = True\t\tignitionThreshold = 0.1\t\tminThrust = 0\t\tmaxThrust = 70\t\theatProduction = 40\t\tuseEngineResponseTime = True\t\tengineAccelerationSpeed = 0.12\t\tengineDecelerationSpeed = 0.5\t\tfxOffset = 0, 0, 0.75\t\tflameoutEffectName = flameout\t\tpowerEffectName = running_thrust\t\tengageEffectName = engage\t\tdisengageEffectName = disengage\t\tspoolEffectName = running_turbine\t\tengineSpoolIdle = 0.05\t\tengineSpoolTime = 2.0\t\tEngineType = Turbine\t\tPROPELLANT\t\t{\t\t\tname = LiquidFuel\t\t\tresourceFlowMode = STAGE_PRIORITY_FLOW\t\t\tratio = 1\t\t\tDrawGauge = True\t\t}\t\tPROPELLANT\t\t{\t\t\tname = IntakeAir\t\t\tignoreForIsp = True\t\t\tratio = 23\t\t}\t\tatmosphereCurve\t\t{\t\t\tkey = 0 19200 0 0\t\t}\t\t// Jet params\t\tatmChangeFlow = True\t\tuseVelCurve = True\t\tuseAtmCurve = True\t\tmachLimit = 0.75\t\tmachHeatMult = 3.5\t\tvelCurve\t\t{\t\t\tkey = 0 1 0 -0.125804\t\t\tkey = 0.2 0.98 0 0\t\t\tkey = 0.6 1 0.2399533 0.2399533\t\t\tkey = 1.05 1.167 0.5409369 0.5409369\t\t\tkey = 1.67 1.46 0 0\t\t\tkey = 2.1 1 -3.49991 -3.49991\t\t\tkey = 2.278022 0.496117 -3.164169 -3.164169\t\t\tkey = 2.5 0 0.004306508 0\t\t}\t\tatmCurve\t\t{\t\t\tkey = 0 0 0 0\t\t\tkey = 0.15 0.2 2.448394 2.448394\t\t\tkey = 0.5 0.6 0.5020669 0.5020669\t\t\tkey = 1 1 1.047895 0\t\t}\t}\tMODULE\t{\t\tname = ModuleTestSubject\t\tenvironments = 71\t\tuseStaging = True\t\tuseEvent = True\t}    MODULE    {        name = ModuleAnimateHeat        ThermalAnim = engineEmit    }\tMODULE\t{\t\tname = ModuleSurfaceFX\t\tthrustProviderModuleIndex = 0\t\tfxMax = 0.5\t\tmaxDistance = 20\t\tfalloff = 2\t\tthrustTransformName = thrustTransform\t}\tMODULE\t{\t\tname = ModuleGimbal\t\tgimbalTransformName = thrustTransform\t\tgimbalRange = 1\t}\tEFFECTS\t{\t\t\t\trunning_thrust\t\t{\t\t\t\t\t\tAUDIO\t\t\t{\t\t\t\tchannel = Ship\t\t\t\tclip = sound_jet_deep\t\t\t\tvolume = 0.0 0.0\t\t\t\tvolume = 0.05 0.4\t\t\t\tvolume = 1.0 1.0\t\t\t\tpitch = 0.0 0.6\t\t\t\tpitch = 1.0 1.0\t\t\t\tloop = true\t\t\t}\t\t\tPREFAB_PARTICLE\t\t\t{\t\t\t\tprefabName = fx_smokeTrail_light\t\t\t\ttransformName = thrustTransform\t\t\t\temission = 0.0 0.0\t\t\t\temission = 0.05 0.0\t\t\t\temission = 0.075 0.25\t\t\t\temission = 1.0 1.25\t\t\t\tspeed = 0.0 0.25\t\t\t\tspeed = 1.0 1.0\t\t\t\tlocalOffset = 0, 0, 1\t\t\t\tlocalRotation = 1, 0, 0, -90\t\t\t}\t\t\t\t\t\t\t}\t\trunning_turbine\t\t{\t\t\tAUDIO\t\t\t{\t\t\t\tchannel = Ship\t\t\t\tclip = sound_jet_low\t\t\t\tvolume = 0.0 0.0\t\t\t\tvolume = 0.05 0.7\t\t\t\tvolume = 1.0 1.0\t\t\t\tpitch = 0.0 0.4\t\t\t\tpitch = 0.05 0.5\t\t\t\tpitch = 1.0 1.0\t\t\t\tloop = true\t\t\t}\t\t}\t\tengage\t\t{\t\t\tAUDIO\t\t\t{\t\t\t\tchannel = Ship\t\t\t\tclip = sound_vent_medium\t\t\t\tvolume = 1.0\t\t\t\tpitch = 2.0\t\t\t\tloop = false\t\t\t}\t\t}\t\tdisengage\t\t{\t\t\tAUDIO\t\t\t{\t\t\t\tchannel = Ship\t\t\t\tclip = sound_vent_soft\t\t\t\tvolume = 1.0\t\t\t\tpitch = 2.0\t\t\t\tloop = false\t\t\t}\t\t}\t\tflameout\t\t{\t\t\tPREFAB_PARTICLE\t\t\t{\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\t\t\t\ttransformName = thrustTransform\t\t\t\toneShot = true\t\t\t}\t\t\tAUDIO\t\t\t{\t\t\t\tchannel = Ship\t\t\t\tclip = sound_explosion_low\t\t\t\tvolume = 1.0\t\t\t\tpitch = 2.0\t\t\t\tloop = false\t\t\t}\t\t}\t}}"}]}