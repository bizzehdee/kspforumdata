{"TopicId":165363,"ForumId":29,"TopicTitle":"ModuleLight on/off???","CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-10T12:00:20Z","PageNum":1,"Articles":[{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-10T12:00:20Z","Content":"\n\u003Cp\u003E\nOk, this has me totally befuddled.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the basic code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 ModuleLight allLights;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 allLights = GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;ModuleLight\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFirst I get the ModuleLight from the part.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                allLights.useAnimationDim = false;\n                allLights.useAutoDim = false;\n                allLights.LightsOn();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLights on!\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 allLights.LightsOff();\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 allLights.useAnimationDim = defaultDim;\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 allLights.useAutoDim = defaultAutoDim;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nLights off... or not.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I manually turn the light on, these two bits of code will turn the light off and back on.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I manually turn the light off, these bits of code will never turn it on.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I watch the PAW, it says that the lights are turning on and off. \u00A0But the lights never physically turn on.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat am I missing?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-11T16:10:27Z","Content":"\n\u003Cp\u003E\nSo, after three\u00A0days of screwing with this, I now have a clue as to why it\u0027s not working. \u00A0I was attempting to hook into some of ModuleLight\u0027s abilities so that my code would work with stock lights as well. \u00A0I\u0027m now giving up as\u00A0I have come to the conclusion that ModuleLight is junk.\n\u003C/p\u003E\n\u003Cp\u003E\nYou would think, that setting the useAnimationDim and useAutoDim to false would give you a light that simply turns on and off. \u00A0 Wrong. If you use neither, you have no light. \u00A0Which makes no sense.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother example of why it\u0027s junk. \u00A0If I place a light using symmetry and then launch the vehicle and try to turn one of those lights on, it turns both on. \u00A0Why are lights not using persistent fields to determine if a specific light is on\u00A0or off? \u00A0Why is it doing it by groups? \u00A0Answer, because it\u0027s junk.\n\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027ll note the use of the word junk, so that my thoughts are not replaced by the vulgar words I\u0027d like to use.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-09-11T16:12:05Z\u0022 title=\u002209/11/2017 04:12  PM\u0022 data-short=\u00226 yr\u0022\u003ESeptember 11, 2017\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-09-11T16:56:16Z","Content":"\n\u003Cp\u003E\nMaybe we should ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105198\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0022 rel=\u0022\u0022\u003E@RoverDude\u003C/a\u003E\u00A0or \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E\u00A0if they can provide any insight into this problem.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-11T17:09:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223170265\u0022 data-ipsquote-contentid=\u0022165363\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221505148976\u0022 data-ipsquote-userid=\u0022172792\u0022 data-ipsquote-username=\u0022Benjamin Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Benjamin Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe we should ask \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105198\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0022 rel=\u0022\u0022\u003E@RoverDude\u003C/a\u003E\u00A0or \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E\u00A0if they can provide any insight into this problem.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n[snip]\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m just gonna do what everyone else who\u0027s written a light mod did,\u00A0 write my own partmodule and not even attempt to tie into ModuleLight. \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2017-09-11T19:01:42Z","Content":"\n\u003Cp\u003E\nWhat you should do is raise a bug report so a dev can fix it. Without a bug report, then it\u0027s random browsing of the forum that might get one of our attention to a problem no one knew existed.\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-11T20:40:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223170344\u0022 data-ipsquote-contentid=\u0022165363\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221505156502\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat you should do is raise a bug report so a dev can fix it. Without a bug report, then it\u0027s random browsing of the forum that might get one of our attention to a problem no one knew existed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, technically, using just stock parts with default ModuleLight parameters, it\u0027s not a bug. \u00A0If you change those parameters, then it will fail to work.\n\u003C/p\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-09-12T00:31:26Z","Content":"\n\u003Cp\u003E\nWell, if it is not working the way it should be when using it, thats a bug.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2017-09-14T10:32:57Z","Content":"\n\u003Cp\u003E\nProbably too late as I see on your other thread you already wrote your own ModuleLight but : May I ask why you use \u0022useAnimationDim\u0022 and \u0022useAutoDim\u0022 ? In my experience \u0022LightsOn()\u0022 / \u0022LightsOff()\u0022 is all you need to turn lights on / off.\n\u003C/p\u003E\n\u003Cp\u003E\nLooking forward to the release, I love putting lights everywhere until the game look like a slide-show \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-09-14T12:59:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223172155\u0022 data-ipsquote-contentid=\u0022165363\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221505385177\u0022 data-ipsquote-userid=\u0022142527\u0022 data-ipsquote-username=\u0022Li0n\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Li0n said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMay I ask why you use \u0022useAnimationDim\u0022 and \u0022useAutoDim\u0022 ? In my experience \u0022LightsOn()\u0022 / \u0022LightsOff()\u0022 is all you need to turn lights on / off.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nProbably so it has the \u0022cooling\u0022 animation of not turning off right away, but glowing and fading.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Li0n","CreatedById":142527,"CreatedDateTime":"2017-09-14T16:11:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223172220\u0022 data-ipsquote-contentid=\u0022165363\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221505393997\u0022 data-ipsquote-userid=\u0022172792\u0022 data-ipsquote-username=\u0022Benjamin Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Benjamin Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nProbably so it has the \u0022cooling\u0022 animation of not turning off right away, but glowing and fading.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe dimming do happen with just LightsOn(), on stock lights anyway. I\u0027d ask as I thought maybe the behavior \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78435-fengist/\u0026amp;do=hovercard\u0022 data-mentionid=\u002278435\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/78435-fengist/\u0022 rel=\u0022\u0022\u003E@Fengist\u003C/a\u003E was experiencing comes from using those two lines.\n\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2017-09-17T13:42:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223172155\u0022 data-ipsquote-contentid=\u0022165363\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221505385177\u0022 data-ipsquote-userid=\u0022142527\u0022 data-ipsquote-username=\u0022Li0n\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/14/2017 at 5:32 AM, Li0n said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nProbably too late as I see on your other thread you already wrote your own ModuleLight but : May I ask why you use \u0022useAnimationDim\u0022 and \u0022useAutoDim\u0022 ? In my experience \u0022LightsOn()\u0022 / \u0022LightsOff()\u0022 is all you need to turn lights on / off.\n\u003C/p\u003E\n\u003Cp\u003E\nLooking forward to the release, I love putting lights everywhere until the game look like a slide-show \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAutoDim won\u0027t be supported in the module I\u0027m writing. \u00A0I did a quick check and I think there might be 2 lights, other than stock, that use it.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s why LightsOn and LightsOff won\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the stock module, those either play the animation attached to the light or they can use the autoDim to fade it in and out (stock lights use only the animation). \u00A0If you\u0027re trying to simulate a blinking light that turns on for say 0.1 seconds, the stock light will still attempt to play that animation when you use LightsOn/LightsOff. \u00A0But, by the time that 0.1 seconds has elapsed and you try to turn the light off, the animation has only played 0.1 seconds out of a full second (stock seem to be a 1 second animation). Therefore, the light doesn\u0027t fully come on before it gets shut off.\n\u003C/p\u003E\n\u003Cp\u003E\nMy thoughts were, by toggling the useAnimationDim\u00A0and useAutoDim to off that I would be able to either turn it on and off to achieve a blink or move the animation play head between the beginning and the end. \u00A0With ModuleLight, that simply doesn\u0027t work. \u00A0 Even after setting both values to false,\u00A0It will still attempt to use the animation.\n\u003C/p\u003E\n"}]}