{"TopicId":127459,"ForumId":29,"TopicTitle":"Plugin Manipulation of MultiModeEngine - Events are private?","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-12-10T18:58:32Z","PageNum":1,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-12-10T18:58:32Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nI have a concept for a decoupler part that can automatically activate a secondary engine on a part when it decouples.\u00A0 This would be, for example, for an SRB with integrated jettison motors.\u00A0 The \u0027main\u0027 engine would be the SRB, using SolidFuel, the \u0027secondary\u0027 engine would be the jettison motors, using a second custom fuel type (JettisonFuel/etc).\u00A0 The decoupler would trigger upon depletion of the main-engines resource (or whatever is specified in the decoupler config), which would then trigger the activation of the MultiModeEngine and the secondary jettison motors.\n\u003C/p\u003E\n\u003Cp\u003E\nNormally when interacting with stock modules in this manner, I would call their publicly exposed GUI interaction methods, to trigger the action as if it was triggered by the player (seems to save a lot of headache / makes sure you are interfacing with the code in the right place/manner).\n\u003C/p\u003E\n\u003Cp\u003E\nNow, the problem with this approach with MultiModeEngine is that everything appears to be private?\u00A0 I was under the impression that things flagged with [KSPEvent] and [KSPAction] had to manditorily be public methods, but apparently this is not the case as I cannot locate any externally accessible methods that correspond with its actions/events.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, the question is -- how to properly interface with MultiModeEngine module through a secondary module to trigger MultiModeEngine to switch from primary to secondary engine?\u00A0 Can I get a reference to its Events[\u0022eventName\u0022] or Actions[\u0022ActionName\u0022] and trigger them from there?\n\u003C/p\u003E\n\u003Cp\u003E\nAny other ideas on how to get this working?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSolution:\n\u003C/p\u003E\n\u003Cp\u003E\nYes, interacting with the methods through their Events[].Invoke() method works fine.\u00A0 You just need to know the name of the method to trigger.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-12T17:02:06Z\u0022 title=\u002212/12/2015 05:02  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 12, 2015\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-12-10T19:13:15Z","Content":"\n\u003Cp\u003E\nA little bit more poking around has revealed that the Events array -is- publicly accessible, and appears that it does have an Invoke() method that can be called on it.\u00A0 Pretty sure I can interact with it through this method without too much difference from calling the event directly as if it were public.\n\u003C/p\u003E\n\u003Cp\u003E\nWill update with info regarding the results as soon as I can test it out.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-10T19:31:39Z","Content":"\n\u003Cp\u003E\nCalling all \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E\u00A0on deck !\n\u003C/p\u003E\n\u003Cp\u003E\nYep, I had a look and the\u00A0KSPAction and other methods should be public to work as other modules do\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-12-10T22:07:00Z","Content":"\n\u003Cp\u003E\nI\u0027ll fix it for 1.1.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-12-11T19:47:13Z","Content":"\n\u003Cp\u003E\nThanks Sarbian and NathanKell.\n\u003C/p\u003E\n\u003Cp\u003E\nShould calling the Events[\u0022\u0022].Invoke() method work for the time being?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-11T21:20:20Z","Content":"\n\u003Cp\u003E\nI never tried but it should.\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-12-11T21:54:35Z","Content":"\n\u003Cp\u003E\nIt should, yes.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-12-12T17:00:52Z","Content":"\n\u003Cp\u003E\nYep, seems to work fine.\u00A0 Thanks for the help guys.\n\u003C/p\u003E\n\u003Cp\u003E\nNow I have Launch Abort Systems that auto-decouple and switch to jettison motors after the initial abort motors have run out their fuel.\u00A0 Good stuff \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}