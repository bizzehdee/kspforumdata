{"TopicId":157408,"ForumId":29,"TopicTitle":"Psedo-VesselModule in VAB (How do I...)","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2017-03-06T19:14:41Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2017-03-06T19:14:41Z","Content":"\n\u003Cp\u003E\nAlright, first a bit of background for context.\n\u003C/p\u003E\n\u003Cp\u003E\nI am redoing my AGX mod pretty much from the ground up to use the New UI and VesselModuels to significantly steamline how it works.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever I want to use the same GUI objects in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E as well as in flight which gives a problem because there is no \u0022VesselModule\u0022 I can hook up to in the editor.\n\u003C/p\u003E\n\u003Cp\u003E\nHow I have done this previously is I made a data holding object that I passed to the GUI window\u0027s instantiate method and so it didn\u0027t matter what scene I was in, I was making the object I passed myself so I could keep it consistent across game scenes.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I\u0027m trying to get away from having to do that and just directly pass the object I am using, but in flight I\u0027m going to be working inside a VesselModule which causes issues in the editor as there is no VesselModule present.\n\u003C/p\u003E\n\u003Cp\u003E\nI can think of 3 options:\n\u003C/p\u003E\n\u003Cp\u003E\n1) Instantiate a fake VesselModule in the editor somehow and use that.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Code my GUI instantiate to take multiple input types so it takes VesselModule in flight and something else in Editor (probably a custom data object).\n\u003C/p\u003E\n\u003Cp\u003E\n3) Code my GUI instantiate to take a middle-man data object so it doesn\u0027t care what scene I\u0027m in, my scene specific code takes care of the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a pretty good idea how to do #3, think I know how to do #2 and wouldn\u0027t know where to start on #1.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever #3 is also the most complicated to implement, I\u0027d really like to do #1 but don\u0027t have a clue how at the moment.\n\u003C/p\u003E\n\u003Cp\u003E\nNote I don\u0027t need any of VesselModule\u0027s abilities or uses, I just need an object I can pass to my GUI.\n\u003C/p\u003E\n\u003Cp\u003E\nThoughts?\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-06T19:16:11Z\u0022 title=\u002203/06/2017 07:16  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 6, 2017\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2017-03-08T20:05:01Z","Content":"\n\u003Cp\u003E\nAlright, looks like there\u0027s no nice clean answer here.\n\u003C/p\u003E\n\u003Cp\u003E\nHow I am going to proceed is with the data storage object. However, rather then being a \u0022middle-man\u0022 object that resides between VesselModule and my GUI, I\u0027m going instantiate a copy of it in every VesselModule and just have it as my data storage as a sub-class.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, for this to work there is one other thing I need to check my assumptions about, if I pass one large data storage object around I\u0027m not wasting memory over multiple smaller data objects right?\n\u003C/p\u003E\n\u003Cp\u003E\nI have multiple GUI windows that each need some of the data in my DataObject. If I understand how referencing works, I\u0027m not wasting memory by passing a GUI window my DataObject with a whole bunch of data it won\u0027t use correct? I\u0027m not actually making a copy of the DataObject inside the GUI window, just passing it a reference to the DataObject instance inside the VesselModule.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2017-03-17T12:22:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222977783\u0022 data-ipsquote-contentid=\u0022157408\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221488827681\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 06/03/2017 at 8:14 PM, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNote I don\u0027t need any of VesselModule\u0027s abilities or uses, I just need an object I can pass to my GUI.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you don\u0027t need the vessel module abilities in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, you could consider using a KSP add-on which only runs when in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E. But I guess you have already considered that?\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2017-03-17T13:50:31Z","Content":"\n\u003Cp\u003E\nThat is part of the solution, yes.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat is boils down to is that in my current setup the data storage is baked into the KSPAddon modules so I didn\u0027t have a separate data object I could pass to the GUI, hence having to make a middle-man data object (and the associated overhead). In my current version the GUI is actually baked into the KSPAddons also, there\u0027s a reason I\u0027m rewriting this mod from scratch.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I was trying to find a way around that. My grand realization was the fact that I could make a Data storage class and use an instance of that inside my KSPAddon modules so I can just pass my data to the GUI without having to worry about any sort of middleman data object.\n\u003C/p\u003E\n\u003Cp\u003E\nI still have to write separate KSPAddon\u0027s for flight and \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, but that has to happen anyway because the scenes are so different.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2017-03-19T07:45:36Z","Content":"\n\u003Cp\u003E\nPassing around a reference to an object doesn\u0027t allocate any new memory. \u00A0But allocating the object to begin with does, so be sure you\u0027re not doing it every frame.\n\u003C/p\u003E\n"}]}