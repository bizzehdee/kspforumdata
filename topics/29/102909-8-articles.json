{"TopicId":102909,"ForumId":29,"TopicTitle":"KSP Plugin debugging and profiling for Visual Studio and Monodevelop on all OS","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-03-29T11:09:00Z","PageNum":8,"Articles":[{"CreatedByName":"CrayzeeMonkey","CreatedById":77712,"CreatedDateTime":"2020-05-21T21:00:06Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to make a debug installation out of a fresh installation of 1.8.1. I linked\u00A0KSP_x64_Data to\u00A0KSP_x64_Dbg_Data, moved\u00A0WindowsPlayer.exe from\u00A0windowsstandalonesupport\\Variations\\win64_development_mono in my Unity 2019.2.2f1 install. And renamed WindowsPlayer.exe to KSP_x64_Dbg, and edited\u00A0player-connection-debug=1 into the boot.config. I\u0027m using Windows 10.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I launch through the debug exe, KSP launches as if it\u0027s through a normal install. The development mode label and console isn\u0027t there, and I can\u0027t attach the Unity instance to Visual Studio. Worst of all, I\u0027m getting no error message telling me what\u0027s wrong, it\u0027s just completely silent. I don\u0027t know what to do anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat\u0027s more frustrating is that the same procedure works immaculately for KSP 1.9. Am I using the wrong version of Unity?\u00A0According to\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0026amp;do=findComment\u0026amp;comment=3720877\u0022 rel=\u0022\u0022\u003Ethis\u003C/a\u003E\u00A0and the details tab of the properties of the ksp .exe it should be correct.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried the simplified method by @sarbian and it let me attach through Visual Studio at least, but when I use breakpoints I get\u00A0\u0022The breakpoint will not currently be hit. Unable to find corresponding location.\u0022 Debugging information is set to Portable, if that matters.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to give up and wallow in my frustration for now\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Managed to figure it out. I remembered that I also had to copy over UnityPlayer.dll and\u00A0WinPixEventRuntime.dll, but it didn\u0027t work the first time. After reinstalling KSP to ensure that it was \u0027fresh\u0027, doing the same worked.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-22T16:15:31Z\u0022 title=\u002205/22/2020 04:15  PM\u0022 data-short=\u00224 yr\u0022\u003EMay 22, 2020\u003C/time\u003E by CrayzeeMonkey\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-06-13T09:26:15Z","Content":"\n\u003Cp\u003E\nIm trying for a 1.9.1 install and following the instructions... My unity engine is reported to be\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn output_log.txt ....\u00A0 (and its on line one...)\n\u003C/p\u003E\n\u003Cp\u003E\nInitialize engine version: 2017.1.3p1 (02d73f71d3bd)\n\u003C/p\u003E\n\u003Cp\u003E\nBut engine 2017.1.3p1\u00A0 doesnt seem to exist anywhere\u00A0 is eitehr location linked in \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://unity3d.com/get-unity/download/archive\u0022 rel=\u0022external nofollow\u0022\u003EUnity installation\u003C/a\u003E\u00A0(or \u003Ca href=\u0022https://unity3d.com/fr/unity/qa/patch-releases\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere is a P4\u00A0 ( Patch 2017.1.3p4 ) Sooooo... as p1 is not there.... I am going to hope P4 is just better but equiv version if the P1 that i have?\n\u003C/p\u003E\n\u003Cp\u003E\nhelp?\u00A0\u00A0 maybe.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(For future reference (other posters) if i dont come back that worked)\n\u003C/p\u003E\n\u003Cp\u003E\n=============\n\u003C/p\u003E\n\u003Cp\u003E\nwait up.\u003Cbr\u003E\n\u0026lt;misleading derp\u00A0 .... elided here\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\n==============\n\u003C/p\u003E\n\u003Cp\u003E\ndouble wait up\n\u003C/p\u003E\n\u003Cp\u003E\nNope I derped.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-06-13T09:47:38Z\u0022 title=\u002206/13/2020 09:47  AM\u0022 data-short=\u00224 yr\u0022\u003EJune 13, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003Cbr\u003Enew info\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2020-06-13T17:05:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223802178\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592040375\u0022 data-ipsquote-userid=\u0022204413\u0022 data-ipsquote-username=\u0022AxleGreaser\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, AxleGreaser said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIm trying for a 1.9.1 install and following the instructions... My unity engine is reported to be\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn output_log.txt ....\u00A0 (and its on line one...)\n\u003C/p\u003E\n\u003Cp\u003E\nInitialize engine version: 2017.1.3p1 (02d73f71d3bd\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP 1.9.1 runs on Unity 2019.2.2f1. So if you are seeing 2017.1.3p1 in your logs something is definitively wrong with your install.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I can find the 2017.1.3.p1 fine in the link mentioned in that part of the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E : \u0022(or \u003Ca href=\u0022https://unity3d.com/fr/unity/qa/patch-releases\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E if the version ends with px)\u0022. Not that it will help with your current version mismatch.\n\u003C/p\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-06-14T05:59:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223802353\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592067913\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/14/2020 at 3:05 AM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSP 1.9.1 runs on Unity 2019.2.2f1. So if you are seeing 2017.1.3p1 in your logs something is definitively wrong with your install.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTa\n\u003C/p\u003E\n\u003Cp\u003E\nI now have slightly different problem then.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#2ecc71;\u0022\u003EHow and when do outputlog.txt get created.\u003C/span\u003E\u00A0 I went back to checked i hadn\u0027t typoed || fat fingered or something and my outputlog.txt was different. \u003Cspan\u003E:\\\u003C/span\u003E It now reflects the no worky state I got into\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nafter this step \u003Cem\u003ELaunch KSP with the KSP_x64_Dbg.exe\u00A0and check that you have \u0022Development Build\u0022 in your lower right corner\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nwhen Id did that it said\u00A0\u00A0 dialogBox[\u0022Failed to load Mono\u0022]\u00A0 Now the outputlog.txt file says that too and nothing about unity.\u00A0 Given my instructions hadn\u0027t mentioned installing mono yet, I decided i was a long way up a creek not too long after that. Esp when the official install mono on windows instructions that I found and followed also failed and required rebuilding it from source but.... And google suggested (by the guy who made the breaking code submission) reverting things (not even recent top of the tree ones) in the repository to fix it.\u00A0 I can read not welcome here signs when they are writ that large.\u00A0 (So for me, Im at not going to mono develop this month.)\n\u003C/p\u003E\n\u003Cp\u003E\nMy Outputlog.txt now says in its entirety... \u00A0 \u0022Unable to load mono library from F:/games/KSP1.9.1/KSP_x64_DBG_Data/MonoBleedingEdge/EmbedRuntime/mono-2.0-bdwgc.dll\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nIt even still says that after When I run a normal KSP install in different directory, it doesn\u0027t write outputlog.txt at all.\u00A0 Should I make KSP crash or something?\n\u003C/p\u003E\n\u003Cp\u003E\n(if so: then as some people do run multiple versions of KSP maybe the instructions need to point out the version number is from the most recently crashed version, or whatever it is that makes KSP actually write output log. ?)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently I just gave up on proper debugging and will compile and use log debugging. (so far that making headway, even though I compiled against the wrong unity apparently. I\u0027m guessing the bog std calls I required for my DLL didnt change.) (edit: nope checked this out, and when I set the references in the Vi Studio project i linked against whatever was in the game install not the unity I had installed on C drive.)\n\u003C/p\u003E\n\u003Cp\u003E\nPls note (as it may be unusual): a reason i dont have monodevelop as mentioned above is I was following those steps while having no DEV environment at all. No vis C, C\u002B\u002B, no, C#, F#, GTK, no mono, dont even currently have GCC. nuthin.\n\u003C/p\u003E\n\u003Cp\u003E\nI am just getting back into development on a clean new machine. So far dont even have a linux boot.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223802353\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592067913\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/14/2020 at 3:05 AM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnd I can find the 2017.1.3.p1 fine in the link mentioned in that part of the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E : \u0022(or \u003Ca href=\u0022https://unity3d.com/fr/unity/qa/patch-releases\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E if the version ends with px)\u0022. Not that it will help with your current version mismatch.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI now can find it too. The trick for people (if any coem after me) that don\u0027t know any French is to change the selector at the top from \u0022tout\u0022 to your specific number as close as you get then all the patch variants p# show up for that version.\n\u003C/p\u003E\n\u003Cp\u003E\n(\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cem\u003E \u003C/em\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cem\u003E\u003Cb\u003ETout\u003C/b\u003E is a very versatile word in \u003Cb\u003EFrench\u003C/b\u003E \u2014 you\u0027ll generally find it means \u201Call,\u201D but you\u0027ll notice different meanings when you see all its forms. This little word can be used as an adjective, an adverb, a noun, and a pronoun, and all with varying forms\u003C/em\u003E\u003C/span\u003E.\u003C/span\u003E\u003C/span\u003E )\n\u003C/p\u003E\n\u003Cp\u003E\nbut in this case tout seems to have meant something like \u0022just show me the latest of each kind of all\u0022 not actually all. I suspect the later patch variants might be considered strictly better than earlier ones (only change is fewer bugs in the inside).\u003Cbr\u003E\nWell thats what it would mean if they were my creations.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSelf help I will be doing. Poking around more trying to find out how to get currently generated outputlog.txt to get it to tell me what my real installs of KSP recently made from installed exes claim their unity version is. (edit: see below, KSP 1.9.1 juts wont do that (write unity version to output log) anymore apparently)\n\u003C/p\u003E\n\u003Cp\u003E\nI am instead moving on to printf style debugging.\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough I am having real hard think about using KOS for some of my whitebox development tool debugging. If I hack a local version of it I can expose any damn thing I like to the KOS scripts then changeup my debugging printfs without reloading the entire KSP. That should help with the annoying little bugs like what happens in this corner case (shortunsual condition of temporary duration (recent eg during actual splashdown).\n\u003C/p\u003E\n\u003Cp\u003E\n============================\n\u003C/p\u003E\n\u003Cp\u003E\nedit more info that Ive found\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yes it cant load it (MonoBleedingEdge/EmbedRuntime/mono-2.0-bdwgc.dll) from there as it\u00A0 is not there:\u003Cbr\u003E\n\u00A0 MonoBleeding Edge is beside not under the link KSP_x64_DBG_Data -\u0026gt; KSP_x64_Data\n\u003C/p\u003E\n\u003Cp\u003E\nMy Outputlog.txt now says in its entirety... \u00A0 \u0022Unable to load mono library from F:/games/KSP1.9.1/KSP_x64_DBG_Data/MonoBleedingEdge/EmbedRuntime/mono-2.0-bdwgc.dll\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nand when I put soft link link in to make that work (put a MonoBleedingEdge where the code/errormsg expects it to be.)\n\u003C/p\u003E\n\u003Cp\u003E\nIts (launching \u003Cem\u003EKSP_x64_Dbg.exe\u003C/em\u003E) output_log.txt now says: (in its entirety)\n\u003C/p\u003E\n\u003Cp\u003E\nSOF.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#f1c40f;\u0022\u003E\u003Cem\u003Emono: function mono_unity_seh_handler not found\u003Cbr\u003E\nmono: function mono_unity_set_unhandled_exception_handler not found\u003Cbr\u003E\nmono: function lookup failed\u003C/em\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEOF\n\u003C/p\u003E\n\u003Cp\u003E\nWhich gets me back to wanting to get some mod coding wins using debug log style debugging. Also that will get me more up to speed on simple stuff.\n\u003C/p\u003E\n\u003Cp\u003E\nme /out on proper debugging capability, for now\u00A0 (I will go old skool, its fail safe and fixable by me)\n\u003C/p\u003E\n\u003Cp\u003E\nyet another: Addendum\n\u003C/p\u003E\n\u003Cp\u003E\nApparently .... outputlog.txt is a pre 1.9.1 thing... BUT it still can get updated anyway when I broke it trying to debugging. (but it seems never to contain the current unity 1.9.1 version identifiers anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nThe output log text file with the old unity version that i had (A few posts back) may have been from a carry over install I had for short time of 1.5.1/ (eventually i decided the disk data corruption) on the computer I salvaged it from was too much to bear and moved on.) hence it being olllld would have had an old unity install version number.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223802541\u0022 data-ipsquote-contentid=\u0022103963\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221592090119\u0022 data-ipsquote-userid=\u002279932\u0022 data-ipsquote-username=\u0022RyanRising\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/14/2020 at 9:15 AM, RyanRising said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSame folder, but it\u2019s called Player.log instead of output_log.txt. On Windows, they changed that in 1.8, so the last version that would give an output_log.txt was 1.7.3. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/163863-how-to-get-support/\u0022 rel=\u0022\u0022\u003ESee here\u003C/a\u003E.\u00A0\u003Cspan\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooking around in my much larger player Log (that1.9.1 creates), I have not yet found the unity build number identified in the same way.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-06-15T02:39:33Z\u0022 title=\u002206/15/2020 02:39  AM\u0022 data-short=\u00224 yr\u0022\u003EJune 15, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"micha","CreatedById":113840,"CreatedDateTime":"2020-06-22T12:16:48Z","Content":"\n\u003Cp\u003E\nG\u0027day, just as a heads-up if anybody else is scratching their heads about this,\u00A0you need a later Unity version (I just tried 2019.2.2f1 and it worked) if you want to profile your mods.\n\u003C/p\u003E\n\u003Cp\u003E\nThe profiler in 2017.1.3p1 doesn\u0027t connect/work with the current version of KSP, despite it being the \u0022correct\u0022 version of Unity.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2020-06-22T12:49:57Z","Content":"\n\u003Cp\u003E\nKSP use\u00A02019.2.2f1 since 1.8.\n\u003C/p\u003E\n"},{"CreatedByName":"maja","CreatedById":168379,"CreatedDateTime":"2020-08-10T21:05:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223764097\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585676508\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/31/2020 at 7:41 PM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNew simplified method! Only 1 file to copy.\n\u003C/p\u003E\n\u003Cp\u003E\n....\n\u003C/p\u003E\n\u003Cp\u003E\nI ll update the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E after other have confirmed it work for them\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFew months later... I can confirm too, that it\u0027s working (KSP 1.9.1, Visual Studio 2017)\n\u003C/p\u003E\n"},{"CreatedByName":"metalbass_92","CreatedById":206010,"CreatedDateTime":"2020-09-20T21:59:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223703964\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221573544936\u0022 data-ipsquote-userid=\u002210788\u0022 data-ipsquote-username=\u0022Papa_Joe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/12/2019 at 8:48 AM, Papa_Joe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nfor those that would like, I have created a batch script that automates the update and distribution of a new game to my development environment.\u00A0 It makes the process very painless.\n\u003C/p\u003E\n\u003Cp\u003E\nThe batch script is menu driven, so you can perform all actions, or only one at a time.\u00A0 Also it pauses between steps, so you can see what is going on.\u00A0 This script is specific to my environment, but it uses txt files for folder locations, so you should be able to adapt it for your needs and your environment.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E@echo off\nrem  This file sets up a fresh Development mode install of KSP from a Steam installation\nrem  This script assumes that an existing development copy exist somewhere on your system besides steam.\nrem  The script uses text files containing locations of various components needed for the script to work.\n\nrem  Change Log:\nrem  v2.0  add support for unity 2019.\ncd %~dp0\nset LCL_DIR=%~dp0\n\nset VERSION=\u0022\u0022\nset space = \u0022 \u0022\n\nset /p GIT_DIR=\u0026lt;\u0022%LCL_DIR%\\git_dir.txt\u0022\nset /p STEAM_DIR=\u0026lt;\u0022%GIT_DIR%\\_LocalDev\\steam_dir.txt\u0022\nset /p KSP_DIR=\u0026lt;\u0022%GIT_DIR%\\_LocalDev\\ksp_dir.txt\u0022\n\n@echo: \n@echo     Path tokens:\n@echo     - LCL_DIR: %LCL_DIR%\n@echo     - STEAM_DIR: %STEAM_DIR%    \n@echo     - GIT_DIR: %GIT_DIR%\n@echo     - KSP_DIR: %KSP_DIR%\n@echo:\n@echo   Let\u0027s get the version of the existing game...\n\nrem get_versions\nset steamVer = \u0022\u0022\nfor /F \u0022usebackq skip=13 delims=\u0022 %%V in (\u0022%STEAM_DIR%\\readme.txt\u0022) do set \u0022steamVer=%%V\u0022 \u0026amp; goto Steamvalue\n\n:Steamvalue\nset thisVer = \u0022\u0022\nfor /F \u0022usebackq skip=13 delims=\u0022 %%V in (\u0022%KSP_DIR%\\readme.txt\u0022) do set \u0022thisVer=%%V\u0022 \u0026amp; goto Hasvalue\n\n:Hasvalue\ncall set VERSION=%%thisVer:Version =%word%%%\n\n@echo     - Steam Version found is:  %steamVer%\n@echo     - Dev Version found is: %thisVer%\nset /p quit= \u0022  - Do you wish to continue? (Y/N):  \u0022\nif /i \u0022%quit%\u0022 == \u0022N\u0022 ( \n\t@echo     - Terminating batch operation without executing Dev Setup...\n\tgoto end \n)\n\n:menu\n@echo:\n@echo:\n@echo     ====================================================\n@echo     Main Menu:\n@echo:\n@echo     1 - Perform all steps...\n@echo     2 - Backup existing game folder...\n@echo     3 - Remove existing game folder...\n@echo     4 - Create new game folder...\n@echo     5 - Copy Steam game folder...\n@echo     6 - Copy new KSP assemblies to Dev...\n@echo     7 - Copy Dev Debug files to Game folder...\n@echo     8 - Copy Game Save and Ships to Game folder...\n@echo     9 - Create linked folder...\n@echo     X - Quit script  (Do nothing!)\n@echo     ====================================================\n@echo:\nset /p optn= \u0022---\u0026gt; Select option (1 - 9, X):  \u0022\n@echo:\n@echo     Choice made:  \u0022%optn%\u0022\n@echo:\n\nif \u0022%optn%\u0022 == \u00221\u0022 ( goto backupGame )\nif \u0022%optn%\u0022 == \u00222\u0022 ( goto backupGame )\nif \u0022%optn%\u0022 == \u00223\u0022 ( goto removeGame )\nif \u0022%optn%\u0022 == \u00224\u0022 ( goto createFolder )\nif \u0022%optn%\u0022 == \u00225\u0022 ( goto copyGame )\nif \u0022%optn%\u0022 == \u00226\u0022 ( goto copyAssemblies )\nif \u0022%optn%\u0022 == \u00227\u0022 ( goto copyDebugFiles )\nif \u0022%optn%\u0022 == \u00228\u0022 ( goto copyGameSaves )\nif \u0022%optn%\u0022 == \u00229\u0022 ( goto createLinkedFolder )\nif /I \u0022%optn%\u0022 == \u0022X\u0022 ( goto end )\n\ngoto end\n\n:backupGame\n@echo: \n@echo     - Backup existing game folder...\n\n@echo: \npause\n@echo: \n\n@echo     - Backup in progress, please wait...\nxcopy /E /Y /Q \u0022%KSP_DIR%\\*.*\u0022 \u0022%KSP_DIR%_%VERSION%_old\\\u0022\n\n@echo     - Backup complete...\n@echo: \n\nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:removeGame\n@echo     - Removing existing game folder...\npause\nrmdir /s /q \u0022%KSP_DIR%\u0022\n@echo     - Removal complete...\n@echo: \nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:createFolder\n@echo     - Creating new game folder...\npause\nif not exist \u0022%KSP_DIR%\u0022 ( \n\tmkdir \u0022%KSP_DIR%\u0022 \n\t@echo     - Game folder created...\n) else (\n\t@echo     - Game folder exists.  Skipping...\n)\n@echo:\nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:copyGame\n@echo     - Ready to Copy Steam Game to local Game folder...\n@echo       from: \u0022%STEAM_DIR%\u0022 \n@echo         to: \u0022%KSP_DIR%\u0022\npause\nxcopy /E /Y \u0022%STEAM_DIR%\\*.*\u0022 \u0022%KSP_DIR%\\\u0022\n@echo     - Copy complete...\n@echo:\nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:copyAssemblies\n@echo     - Ready to Copy KSP and unity assemblies \n@echo       from: \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\u0022 \n@echo         to: \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022 folder...\npause\nxcopy /E /Y \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\\Assembly-CSharp.dll\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\nxcopy /E /Y \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\\Assembly-CSharp-firstpass.dll\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\nxcopy /E /Y \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\\KSPAssets.dll\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\nxcopy /E /Y \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\\UnityEngine.dll\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\nxcopy /E /Y \u0022%KSP_DIR%\\KSP_x64_Data\\Managed\\UnityEngine.*.dll\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\nxcopy /Y \u0022%KSP_DIR%\\readme.txt\u0022 \u0022%GIT_DIR%\\_LocalDev\\KSPRefs\\\u0022\n@echo     - Copy complete...\n@echo:\nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:copyDebugFiles\n@echo     - Ready to Copy unity debug files to game folder and set debug mode...\npause\n@echo player-connection-debug=1 \u0026gt;\u0026gt; \u0022%KSP_DIR%\\KSP_x64_Data\\boot.config\ncopy /Y \u0022%LCL_DIR%\\WindowsPlayer.exe\u0022 \u0022%KSP_DIR%\\ksp_x64_dbg.exe\u0022\ncopy /Y \u0022%LCL_DIR%\\UnityPlayer.dll\u0022 \u0022%KSP_DIR%\u0022\ncopy /Y \u0022%LCL_DIR%\\WinPixEventRuntime.dll\u0022 \u0022%KSP_DIR%\u0022\n@echo     - Copy complete...\n@echo: \nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:copyGameSaves\n@echo     - Ready to Copy ships, Saves and mods to the new game folder.\npause\nxcopy /E /Y /D \u0022%KSP_DIR%_%VERSION%_old\\GameData\\*.*\u0022 \u0022%KSP_DIR%\\GameData\\\u0022\nxcopy /E /Y /D \u0022%KSP_DIR%_%VERSION%_old\\ships\\*.*\u0022 \u0022%KSP_DIR%\\Ships\\\u0022\nxcopy /E /Y /D \u0022%KSP_DIR%_%VERSION%_old\\saves\\*.*\u0022 \u0022%KSP_DIR%\\saves\\\u0022\n@echo     - Copy complete...\n@echo: \nif not \u0022%optn%\u0022 == \u00221\u0022 ( goto end )\n\n:createLinkedFolder\n@echo     - Ready to create the linked folder for debugging...\n@echo: \npause\n\nREM cd /d \u0022%KSP_DIR%\u0022\nREM @echo     - Curr Dir:  \u0022%cd%\u0022\nREM @echo     - Game Directory:  \u0022%KSP_DIR%\u0022...\nREM @echo: \nREM pause\n\nmklink /J \u0022%KSP_DIR%\u0022\\KSP_x64_Dbg_Data \u0022%KSP_DIR%\u0022\\KSP_x64_Data\n@echo     - Linked folder created...\n@echo:\n\n:end\ncd %~dp0\n@echo     - %~dp0\n@echo:\n@echo     - script complete...\n@echo:\npause\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe script performs the following actions:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.\u00A0 checks to see if a new version of the game exists in Steam, compared to the latest copy of your development version of the game.\u00A0 It checks the readme.txt to get the version information.\n\u003C/p\u003E\n\u003Cp\u003E\n2.\u00A0 Backs up the existing dev game folder for archival needs.\n\u003C/p\u003E\n\u003Cp\u003E\n3.\u00A0 deletes the existing dev game folder\n\u003C/p\u003E\n\u003Cp\u003E\n4.\u00A0 Copies all files from the steam installation into a new game folder.\n\u003C/p\u003E\n\u003Cp\u003E\n5.\u00A0 copies all the KSP and unity assemblies needed for development into a location of your choice.\u00A0 I do this to ensure I have the latest assemblies, and they are not tied to my steam installation.\u00A0 Keeps them in sync.\u00A0 Makes multi developer easier, as the assemblies are in a common location for all KSP mods I supported.\n\u003C/p\u003E\n\u003Cp\u003E\n6.\u00A0 Copies the debug files ( WIndowsPLayer.exe, UnityPlayer.dll and WinPixEventRuntime.dll into the dev game root folder\u00A0 It also sets the flag in Boot.config.\n\u003C/p\u003E\n\u003Cp\u003E\n7\u00A0 Copies any existing saves, ships, and mods from the previous dev game installation over to the new Dev Game installation.\n\u003C/p\u003E\n\u003Cp\u003E\n8.\u00A0 Creates the linked Folder, and finally\u00A0 lets you know it is done.\n\u003C/p\u003E\n\u003Cp\u003E\nI hope this is helpful.\u00A0 The paths in the .txt files are one line only.\u00A0 This is assumed by the command reading from the file.\u00A0 It will only retrieve the first line.\u00A0 You could add all paths to a single file if you wish and simply read each line and assign to your vars using a different file handling technique.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have any questions, let me know.\u00A0 This script has been tested, and I use it regularly.\u00A0 It should work both by executing the script as a .bat, or by running it in power shell.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, I\u0027ve been trying to debug\u00A0a simple test mod with this method on KSP latest version.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m running the batch without errors with Unity 2019.2.2f1. Running\u00A0ksp_x64_dbg.exe shows \u0022development build\u0022 on bottom right. I can Attach Unity Debugger from Visual Studio 2019 and everything looks fine. The issue is that breakpoints cannot be hit.\n\u003C/p\u003E\n\u003Cp\u003E\nOpening Debug \u0026gt; Windows \u0026gt; Modules on Visual Studio shows that no symbols are being loaded for any assembly, which seems the main issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m compiling the mod as a C# library targeting .NET Framework 4 and I\u0027ve tried changing the\u00A0Debugging information to Portable, as Gotmachine mentions, but no luck.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso tried using the 1 file method from Sarbian in this same thread, but no luck either.\n\u003C/p\u003E\n\u003Cp\u003E\nAny suggestions?\n\u003C/p\u003E\n"},{"CreatedByName":"maja","CreatedById":168379,"CreatedDateTime":"2020-09-21T07:26:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223857212\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221600639172\u0022 data-ipsquote-userid=\u0022206010\u0022 data-ipsquote-username=\u0022metalbass_92\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, metalbass_92 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, I\u0027ve been trying to debug\u00A0a simple test mod with this method on KSP latest version.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m running the batch without errors with Unity 2019.2.2f1. Running\u00A0ksp_x64_dbg.exe shows \u0022development build\u0022 on bottom right. I can Attach Unity Debugger from Visual Studio 2019 and everything looks fine. The issue is that breakpoints cannot be hit.\n\u003C/p\u003E\n\u003Cp\u003E\nOpening Debug \u0026gt; Windows \u0026gt; Modules on Visual Studio shows that no symbols are being loaded for any assembly, which seems the main issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m compiling the mod as a C# library targeting .NET Framework 4 and I\u0027ve tried changing the\u00A0Debugging information to Portable, as Gotmachine mentions, but no luck.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso tried using the 1 file method from Sarbian in this same thread, but no luck either.\n\u003C/p\u003E\n\u003Cp\u003E\nAny suggestions?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat works for me with VS 2019:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nMy project build as Debug and mod\u0027s\u00A0pdb file copied along with dll into test version of KSP\n\u003C/li\u003E\n\u003Cli\u003E\nDll from Sarbian\n\u003C/li\u003E\n\u003Cli\u003E\nUnity debugger attached to the port 55555\n\u003C/li\u003E\n\u003Cli\u003E\nThen I start\u00A0ksp_x64.exe and as soon as the main menu (and my mod) is loaded, the breakpoints are registered\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"metalbass_92","CreatedById":206010,"CreatedDateTime":"2020-09-21T11:42:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223857339\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221600673217\u0022 data-ipsquote-userid=\u0022168379\u0022 data-ipsquote-username=\u0022maja\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, maja said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nas soon as the main menu (and my mod) is loaded, the breakpoints are registered\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis was it!\u00A0My tests consisted on waiting until the menu was open, but I was using\u00A0[KSPAddon(KSPAddon.Startup.SpaceCentre, true)] to load it.\n\u003C/p\u003E\n\u003Cp\u003E\nSo it was actually working, but I checked before my dll was loaded.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-09-21T11:43:43Z\u0022 title=\u002209/21/2020 11:43  AM\u0022 data-short=\u00223 yr\u0022\u003ESeptember 21, 2020\u003C/time\u003E by metalbass_92\u003C/strong\u003E\n\u003Cbr\u003EAdded additional explanation of what was wrong\n\u003C/span\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2020-10-07T07:01:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223775180\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587690597\u0022 data-ipsquote-userid=\u0022170250\u0022 data-ipsquote-username=\u0022LucidDan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/23/2020 at 6:09 PM, LucidDan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI used this to great success in 1.9.1 as well, thanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/190042-whitespacekilla/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022190042\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/190042-whitespacekilla/\u0022 rel=\u0022\u0022\u003E@whitespacekilla\u003C/a\u003E!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI tried following this and successfully got KSP to run as a \u0022development build\u0022, but whenever I try to connect to it from Rider from the running process list, I get\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EFailed to connect: Connection refused 127.0.0.1:56402\nUnable to connect to UnityPlayer\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDid you run into this? any idea what I\u0027m doing wrong? Rider is version 2020.1.4 so maybe something changed recently?\n\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2020-10-07T07:06:35Z","Content":"\n\u003Cp\u003E\ndid you add \u0022player-connection-debug=1\u0022 in KSP_Data/boot.config?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-07T07:06:56Z\u0022 title=\u002210/07/2020 07:06  AM\u0022 data-short=\u00223 yr\u0022\u003EOctober 7, 2020\u003C/time\u003E by m4v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cineboxandrew","CreatedById":63646,"CreatedDateTime":"2020-10-08T18:40:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223864535\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602054395\u0022 data-ipsquote-userid=\u002267965\u0022 data-ipsquote-username=\u0022m4v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/7/2020 at 12:06 AM, m4v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ndid you add \u0022player-connection-debug=1\u0022 in KSP_Data/boot.config?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI thought I did, turns out I put it in \u0022boon.config\u0022\u00A0\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nnow I\u0027m getting the same error but the KSP runtime is printing \u0060debugger-agent: Unable to listen on 8\u0060 to the console, I guess time to figure out what thats about\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-08T18:42:36Z\u0022 title=\u002210/08/2020 06:42  PM\u0022 data-short=\u00223 yr\u0022\u003EOctober 8, 2020\u003C/time\u003E by cineboxandrew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2020-12-11T21:52:37Z","Content":"\n\u003Cp\u003E\nmake sure your VPN is disabled when attaching the debugger, or it might not work\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-12T00:32:50Z\u0022 title=\u002212/12/2020 12:32  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 12, 2020\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2021-01-01T20:55:35Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nGetting the following error when trying to use the mono-2.0-bdwgc.dll:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E* Assertion at D:\\Sarbian\\Documents\\GitHub\\dnSpy-Unity-mono\\unity-2019.2.2-mbe\\mono\\metadata\\mono-debug.c:137, condition \u0060!mono_debug_initialized\u0027 not met\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nOnly other changes are:\n\u003C/p\u003E\n\u003Cp\u003E\nFollowing three files come from the Unity instal to the main KSP directoryl:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022\u0026lt;UNITY\u0026gt;/Hub/Editor/2019.2.2f1/Editor/Data/PlaybackEngines/windowsstandalonesupport/Variations/win64_development_mono\u0022\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nReplace the normal ksp_x64.exe with the WindowsPlayer.exe, named to ksp_x64_dbg.exe\n\u003C/li\u003E\n\u003Cli\u003E\nReplaced the UnityPlayer.dll with the one in the same directory\n\u003C/li\u003E\n\u003Cli\u003E\nCopied over WinPixEventRuntime.dll\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nand\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nReplaced the mono-2.0-bdwgc.dll with\u00A0 yours\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cbr\u003E\nIf I don\u0027t do the bdwgc replacement, it doesn\u0027t error.\u00A0 Strangely enough, using the normal bdwgc, I am able to attach to the unity debugger and breakpoints do seem to be working\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Grimmas","CreatedById":207818,"CreatedDateTime":"2021-04-27T17:27:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00221795207\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221427627340\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/29/2015 at 1:09 PM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOnce you have that you will have a \u0022Attach Unity Debugger\u0022 in the Debug menu.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis part tripped me up for an hour or so. Wouldn\u0027t work in Visual Studio no matter what I did. Even when trying to edit code from within Unity.\u00A0Then I repaired my VS\u00A0 (2019 Community) installation, which nuked the VisualAssist\u00A0and UE4 plugins but in exchange I finally got the Unity debugger option. Looks like one of those\u00A0doesn\u0027t play nice with the Unity Tools plugin.\n\u003C/p\u003E\n\u003Cp\u003E\nI also got the warning from VS mentioned above, about how\u00A0\u0022this breakpoint won\u0027t be triggered\u0022 yada yada, but they actually triggered just fine (maybe VS gets confused because it\u0027s inside a dynamically loaded mod or w/e).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the detailed instructions, sarbian et al.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2021-06-27T06:44:57Z","Content":"\n\u003Cp\u003E\nSome notes for debugging for KSP 1.12 in Linux:\n\u003C/p\u003E\n\u003Cp\u003E\nKSP now uses Unity 2019.4.18f1, you need to download that, see here for instructions\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002257146\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9944134717\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0026amp;do=embed\u0026amp;comment=3720877\u0026amp;embedComment=3720877\u0026amp;embedDo=findComment\u0022 style=\u0022height:297px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nEverything is the same except copying the LinuxPlayer file part, the file you need to copy now is UnityPlayer.so, overwriting the one in your KSP install.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-27T06:45:40Z\u0022 title=\u002206/27/2021 06:45  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 27, 2021\u003C/time\u003E by m4v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DocNappers","CreatedById":210703,"CreatedDateTime":"2021-06-27T21:27:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223995970\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624776297\u0022 data-ipsquote-userid=\u002267965\u0022 data-ipsquote-username=\u0022m4v\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, m4v said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEverything is the same except copying the LinuxPlayer file part, the file you need to copy now is UnityPlayer.so, overwriting the one in your KSP install.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis isn\u0027t working for me (on Ubuntu 20.04.2). I\u0027m getting\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nCould not load symbol mono_unity_class_is_open_constructed_type : (null)\n\u00A0\n(Filename: ./Runtime/Modules/LoadDylib.cpp Line: 199)\n\nmono: function mono_unity_class_is_open_constructed_type not found\nCould not load symbol mono_unity_managed_callstack : (null)\n\u00A0\n(Filename: ./Runtime/Modules/LoadDylib.cpp Line: 199)\n\nmono: function mono_unity_managed_callstack not found\nmono: function lookup failed\nFailed to load mono\u003C/pre\u003E\n\u003Cp\u003E\nin my \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E~\u003C/span\u003E\u003Cspan\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E/.config/unity3d/Squad/Kerbal Space Program/Player.log\u003C/span\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E\u003Cspan style=\u0022background-color:#ffffff;color:#000000;\u0022\u003Efile. It was working prior to 1.12. Any thoughts?\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2021-06-30T06:32:54Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/210703-docnappers/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022210703\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/210703-docnappers/\u0022 rel=\u0022\u0022\u003E@DocNappers\u003C/a\u003EI have no idea, and I\u0027m in Ubuntu 20.04.2 too. The only difference I have with severedsolo\u0027s procedure that I can think of is that I compile with mono\u0027s msc\u00A0 thus the debugging symbols are in .mdb files.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-30T06:33:30Z\u0022 title=\u002206/30/2021 06:33  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 30, 2021\u003C/time\u003E by m4v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DocNappers","CreatedById":210703,"CreatedDateTime":"2021-06-30T13:02:53Z","Content":"\n\u003Cp\u003E\nDoh! I found the problem (PEBKAC). I had\u00A02019.4.28f1 installed instead of\u00A02019.4.18f1. It\u0027s working now that I have the right version installed.\n\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2021-10-28T01:30:20Z","Content":"\n\u003Cp\u003E\nHey all, I\u0027m back.\u00A0 I\u0027m looking over the script I created and seeing what has changed in the development environment setup.\u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E, ya, sorry about the lack of file location files.\u00A0 I was in and out of modding by then due to RL.\u00A0 Looks like you sorted it tho.\u00A0 Also I\u0027ll be interested in how \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E\u0027s method works.\u00A0 I may be reaching out to get some help as I get up to speed.\n\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2021-10-28T01:52:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223744851\u0022 data-ipsquote-contentid=\u0022102909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221582300278\u0022 data-ipsquote-userid=\u0022146984\u0022 data-ipsquote-username=\u0022mattssheep4\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/21/2020 at 7:51 AM, mattssheep4 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes this require the game to be in steam then, or is it just checking if you have the latest released version? I go through the KSP Store.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI realize this is a long overdue answer, but yes you can.\u00A0 the file you are checking for version info (readme.txt) is in both releases, Steam and KSP Store.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-28T01:53:51Z\u0022 title=\u002210/28/2021 01:53  AM\u0022 data-short=\u00222 yr\u0022\u003EOctober 28, 2021\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2021-11-09T07:24:58Z","Content":"\n\u003Cp\u003E\nAs a follow on to my work with the automation script, I\u0027ve created a Github project for the development setup script:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/PapaJoesSoup/KSPDevEnvironmentBuilder\u0022 rel=\u0022external nofollow\u0022\u003EPapaJoesSoup/KSPDevEnvironmentBuilder\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt is a work in progress, but feel free to comment on it in GitHub and I will continue to keep it up to date and improve on it as I go along.\u00A0 Alternative methods and suggestions are welcome, so lets work together to make it convenient for all.\u00A0 I will also be adding a wiki to capture some of what has been discussed in this thread, as well as how my script works.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-09T07:28:46Z\u0022 title=\u002211/09/2021 07:28  AM\u0022 data-short=\u00222 yr\u0022\u003ENovember 9, 2021\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003C/span\u003E\n"}]}