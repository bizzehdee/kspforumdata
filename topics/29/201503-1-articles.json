{"TopicId":201503,"ForumId":29,"TopicTitle":"Colliders of Kerbals colliding with ground in 1.11.x - help needed","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2021-04-07T13:19:13Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2021-04-07T13:19:13Z","Content":"\n\u003Cp\u003E\nI support two mods:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nEva Follower\n\u003C/li\u003E\n\u003Cli\u003E\nWalk About\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nwhich both make kerbals walk around.\u00A0 Walk About was actually written using code from Eva Follower, so it makes sense the problem is in both.\n\u003C/p\u003E\n\u003Cp\u003E\nIn 1.11.2 (what I\u0027ve been testing on), the kerbals it\u0027s trying to move animate, but stay in place.\u00A0 After a few hours of digging and an off-hand suggestion from a Twitch viewer, it seems that the collider(s) for the kerbals is hitting the ground, and they aren\u0027t moving.\u00A0 It could also be there is some new code which essentially \u0022locks\u0022 a kerbal in place to keep it from sliding.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI did add the new ResetRBAnchor() call, but that didn\u0027t seem to help.\u00A0 I should add that the Vessel.isAnchored is false, so I didn\u0027t think the ResetRBAnchor work do anything, but didn\u0027t hurt to try it out\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the code in question:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                    Quaternion from = eva.part.vessel.transform.rotation;\n                    Quaternion to = Quaternion.LookRotation(move, eva.fUp);\n                    Quaternion result = Quaternion.RotateTowards(from, to, eva.turnRate);\n\n                    eva.part.vessel.SetRotation(result);\n\n                    Rigidbody rigidbody = null;\n                    eva.GetComponentCached\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Rigidbody\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E(ref rigidbody);\n\n                    //move\n                    if(rigidbody != null)\n                    {\n                        eva.vessel.ResetRBAnchor(); // Just added as test\n                        rigidbody.MovePosition(rigidbody.position \u002B move);\n                    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI did notice that if I added an \u0022up\u0022 component to the movement, they would move, but in a jerky manner.\u00A0 My assumption is that the \u0022up\u0022 movement is breaking the contact with the ground.\n\u003C/p\u003E\n\u003Cp\u003E\nOne more thing:\u00A0 This is only a problem on land.\u00A0 When in the water, the mod works fine (ie:\u00A0 kerbals move (slowly), and followers do follow properly.\n\u003C/p\u003E\n\u003Cp\u003E\nSuggestions?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-07T13:24:26Z\u0022 title=\u002204/07/2021 01:24  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 7, 2021\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kerbiloid","CreatedById":129408,"CreatedDateTime":"2021-04-07T13:41:38Z","Content":"\n\u003Cp\u003E\nMaybe something related to the problem with tracks? Maybe the KerbalFoundries maintainer(s) are aware of something?\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022138730\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed2861064714\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/155056-18x-kerbal-foundries-continued-tracks-wheels-and-gear/\u0026amp;do=embed\u0026amp;comment=3913896\u0026amp;embedComment=3913896\u0026amp;embedDo=findComment\u0022 style=\u0022height:291px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2021-04-07T15:33:43Z","Content":"\n\u003Cp\u003E\nI\u0027ve solved this problem.\u00A0 Seems that for EVA kerbals, there is some new code to prevent kerbals from sliding, that had to be reset so the kerbals could move\n\u003C/p\u003E\n"}]}