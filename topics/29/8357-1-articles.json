{"TopicId":8357,"ForumId":29,"TopicTitle":"Hooking into memory handles","CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-19T19:42:53Z","PageNum":1,"Articles":[{"CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-19T19:42:53Z","Content":"\n\u003Cp\u003EWasn\\\u0027t entirely sure where to put this, as it\\\u0027s not for an addon or plugin for KSP itself, but for a companion program for something else...\u003C/p\u003E\u003Cp\u003EWhat I\\\u0027m looking to do is use a program to hook a game .dll and read various variables, such as attitude, altitude, orbit details, velocity, etc in realtime (or with at most a half-sec delay). Is there a .dll I can hook into to grab this information, or would I need a plugin to expose the data? Does MechJeb do that already...?\u003C/p\u003E\n"},{"CreatedByName":"N3X15","CreatedById":12073,"CreatedDateTime":"2012-03-19T20:09:16Z","Content":"\n\u003Cp\u003EMost programs that do this just open up a listen socket and transfer info over TCP or UDP to client apps. In this case, you\\\u0027d write a plugin that acts as a server, which your app just hooks into.\u003C/p\u003E\n"},{"CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-19T20:17:47Z","Content":"\n\u003Cp\u003EI may as well be explicit... I\\\u0027m looking at creating a plugin for LCDStudio to put flight-data on my Logitech G13\\\u0027s screen (and let other people put flight data on any LCD that LCDStudio supports).\u003C/p\u003E\u003Cp\u003EI\\\u0027m \u003Cstrong\u003Enot\u003C/strong\u003E much of a coder, and I\\\u0027ve only made one plugin for LCDStudio previously (puts data from X\u00C2\u00B3:TC onto the LCD, but this works by having an in-game script send the data to a log-file, and the plugin reads that). The reason I asked about hooking into the DLLs is that this seems to be the main way that LCDStudio plugins work (such as the RivaTuner one that\\\u0027ll post system temperature data). I\\\u0027ve no idea if that\\\u0027s done by TCP/UDP or what, really...\u003C/p\u003E\u003Cp\u003EAny advice or help appreciated. If this is moving towards an in-game plugin tho, I may as well ask for this thread to be moved.... can you?\u003C/p\u003E\u003Cp\u003E(Wouldn\\\u0027t a good solution all-round be a plugin that sends out all this data to anything that listens, so anyone can build on that plugin with external apps...?)\u003C/p\u003E\n"},{"CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-21T02:59:16Z","Content":"\n\u003Cp\u003E(I could of sworn I posted... maybe I hit preview and closed it? It is late...)\u003C/p\u003E\u003Cp\u003EOk, found loads of stuff in Assembly-CSharp.dll through the object browser (only looking for public ones). Don\\\u0027t seem to be able to get to any of it, though. What\\\u0027s wrong with this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.ComponentModel;\u003Cbr\u003Eusing System.Data;\u003Cbr\u003Eusing System.Drawing;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing System.Windows.Forms;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace KSPexplore\u003Cbr\u003E{\u003Cbr\u003E  public partial class Form1 : Form\u003Cbr\u003E  {\u003Cbr\u003E    public Form1()\u003Cbr\u003E    {\u003Cbr\u003E\u003Cbr\u003E      InitializeComponent();\u003Cbr\u003E      textBox1.Text = Convert.ToString(Vessel.vesselName);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    }\u003Cbr\u003E  }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt SHOULD put the vessel\\\u0027s name in the form\\\u0027s textbox, right...? Instead it tells me:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EError 1 An object reference is required for the non-static field, method, or property \\\u0027Vessel.vesselName\\\u0027\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd yes, I\\\u0027ve added references to the Assembly-CSharp and UnityEngine dlls.\u003C/p\u003E\n"},{"CreatedByName":"N3X15","CreatedById":12073,"CreatedDateTime":"2012-03-21T20:50:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022esd\u0022 data-cite=\u0022esd\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E(I could of sworn I posted... maybe I hit preview and closed it? It is late...)\u003C/p\u003E\u003Cp\u003EOk, found loads of stuff in Assembly-CSharp.dll through the object browser (only looking for public ones). Don\\\u0027t seem to be able to get to any of it, though. What\\\u0027s wrong with this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.ComponentModel;\u003Cbr\u003Eusing System.Data;\u003Cbr\u003Eusing System.Drawing;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing System.Windows.Forms;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace KSPexplore\u003Cbr\u003E{\u003Cbr\u003E  public partial class Form1 : Form\u003Cbr\u003E  {\u003Cbr\u003E    public Form1()\u003Cbr\u003E    {\u003Cbr\u003E\u003Cbr\u003E      InitializeComponent();\u003Cbr\u003E      textBox1.Text = Convert.ToString(Vessel.vesselName);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    }\u003Cbr\u003E  }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt SHOULD put the vessel\\\u0027s name in the form\\\u0027s textbox, right...? Instead it tells me:And yes, I\\\u0027ve added references to the Assembly-CSharp and UnityEngine dlls.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EYou\\\u0027re calling a non-static variable as though it were static. Also you\\\u0027re trying to use Winforms, which isn\\\u0027t available.\n"},{"CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-21T21:06:34Z","Content":"\n\u003Cp\u003EActually it\\\u0027s a form program - I\\\u0027m trying to confirm the data\\\u0027s availability before I write the .dll for LCDStudio.\u003C/p\u003E\u003Cp\u003EIt\\\u0027s the \u0027You\\\u0027re calling a non-static variable as though it were static. \u0027 bit that has me stumped. How do I correct that?\u003C/p\u003E\n"},{"CreatedByName":"Ydoow","CreatedById":10165,"CreatedDateTime":"2012-03-22T12:32:05Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI used to get this error all the time in my java intro class last year. Sadly I forgot how to fix it. Or maybe I do know, but have no idea what I\\\u0027m \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eactually\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E doing.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EPulling everything I can, and trying not to sound like a monkey with a dunce hat on...\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI believe you have to store Vessel.vesselName to a variable before using it.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eso like, vesName = Vessel.vesselName;\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI would think you would want \\\u0027()\\\u0027 after \\\u0027vesselName\\\u0027 though.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EI believe this is because it\\\u0027s a static variable\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBut yeah...been a solid year since I\\\u0027ve done any programming...and it was super basic at that\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003ESomething tells me I might have things reversed, getting a static -\u0026gt; non-static\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWelp, I was wrong\u003C/p\u003E\u003Cp\u003EThis looks right though.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://stackoverflow.com/questions/2042813/calling-non-static-method-in-static-method-in-java\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"esd","CreatedById":705,"CreatedDateTime":"2012-03-23T00:48:55Z","Content":"\n\u003Cp\u003ECheers - I tried that, and couldn\\\u0027t get it to work (the code seemed ok, but getting the data into the form eluded me). Either I\\\u0027m missing something fundamental (likely. It\\\u0027s been many years (pre-C) since I did any coding) or what I\\\u0027m trying to do isn\\\u0027t possible.\u003C/p\u003E\u003Cp\u003EIf anyone can show an example of it working, I would be eternally grateful - just getting the current ship name from into the textbox without using a KSP plugin would be enough for me to do what I need to.\u003C/p\u003E\n"},{"CreatedByName":"Corax","CreatedById":11311,"CreatedDateTime":"2012-03-24T18:23:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022esd\u0022 data-cite=\u0022esd\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ECheers - I tried that, and couldn\\\u0027t get it to work (the code seemed ok, but getting the data into the form eluded me). Either I\\\u0027m missing something fundamental (likely. It\\\u0027s been many years (pre-C) since I did any coding) or what I\\\u0027m trying to do isn\\\u0027t possible.\u003C/p\u003E\u003Cp\u003EIf anyone can show an example of it working, I would be eternally grateful - just getting the current ship name from into the textbox without using a KSP plugin would be enough for me to do what I need to.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour problem appears to be trying to access \u003Cem\u003E[tt]Vessel[/tt]\u003C/em\u003E, which is actually an object, instead of using \u003Cem\u003E[tt]vessel[/tt]\u003C/em\u003E, which would be the instance of the object.\u003C/p\u003E\u003Cp\u003ETry this instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EtextBox1.Text = vessel.vesselName; // it\\\u0027s already a string, so no need to convert anything\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou have to figure out the GUI part yourself, can\\\u0027t help you with that :/\u003C/p\u003E\n"}]}