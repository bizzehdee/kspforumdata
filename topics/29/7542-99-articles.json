{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":99,"Articles":[{"CreatedByName":"0111narwhalz","CreatedById":110660,"CreatedDateTime":"2016-10-27T17:38:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826154\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477586264\u0022 data-ipsquote-userid=\u002262149\u0022 data-ipsquote-username=\u0022udk_lethal_d0se\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, udk_lethal_d0se said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHave a look at Vessel.activeVessel, there are a number of accessible details there. Also have a look at vessel in the Api, linked below.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_vessel.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://anatid.github.io/XML-Documentation-for-the-KSP-API/class_vessel.html\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, but how do I actually use that information? Do I use\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Edouble d = Vessel.activeVessel.verticalSpeed;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nor what?\n\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2016-10-27T17:49:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826227\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477589911\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, but how do I actually use that information? Do I use\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Edouble d = Vessel.activeVessel.verticalSpeed;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nor what?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, that\u0027s one way of using the information you want. Once you have it, sent it to a ui, etc.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-10-27T18:05:19Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110660-0111narwhalz/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110660\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110660-0111narwhalz/\u0022 rel=\u0022\u0022\u003E@0111narwhalz\u003C/a\u003E The currently focused vessel is referenced as a static at FlightGlobals.ActiveVessel.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to refer to a non-active vessel, getting the reference is trickier and depends on where the vessel you are trying to access is.\n\u003C/p\u003E\n\u003Cp\u003E\nNotably if you are in a partModule, using this.vessel instead recommended as that is the vessel that partModule is attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-27T18:19:36Z\u0022 title=\u002210/27/2016 06:19  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 27, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-27T18:06:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222825813\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477569756\u0022 data-ipsquote-userid=\u002262446\u0022 data-ipsquote-username=\u0022Booots\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Booots said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think what he means is that the root cause is the part\u0027s orientation being incorrect because it\u0027s constantly changing. His suggestion would be to update and correct each part\u0027s position and orientation at each tick so that when it comes time to save or pack the part its orientation and position don\u0027t need adjusting because they\u0027re already up to date. Obviously this comes with the computation overhead of calculating and correcting the orientation of every part in the scene at every tick as opposed to the times when it absolutely needs to be correct.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it will solve the problem but doing this stuff in every tick is barely a good idea performance wise. Doing it less frequent (like once or twice per a second) could be a compromise but the approach is still ugly.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222825813\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477569756\u0022 data-ipsquote-userid=\u002262446\u0022 data-ipsquote-username=\u0022Booots\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Booots said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes onGameStateSave fire before anything is persisted? If so, you could add something there to go through and fix orientations.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAll on save handlers which I was able to find (including this one) are called after the part was actually stored into config node.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-10-27T18:19:04Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/155445-igorz/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022155445\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/155445-igorz/\u0022 rel=\u0022\u0022\u003E@IgorZ\u003C/a\u003E Is this pivotJoint your code or Squads? If it\u0027s your code it would be easy enough to update orgPos and orgRot whenever whatever the changePivotAngle event is fires.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it\u0027s Squads code I\u0027m not sure. If you can\u0027t find a changePivotAngle event your only choice is to monitor it. Having said that, just running numbers is very little overhead. For AGX I monitor every default action and it\u0027s assigned action groups 3 or 4 times a second and that isn\u0027t noticeable for overhead.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can\u0027t ignore the overhead it generates, but if it doesn\u0027t affect the Physics system or the rendered graphics it\u0027s not something you have to worry about 99% of the time.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cp\u003E\nedit: Actually, I just checked my code and I only check the currently selected action group for the current part, not all groups on the entire vessel, so that is negligable overhead.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-27T18:22:34Z\u0022 title=\u002210/27/2016 06:22  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 27, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"0111narwhalz","CreatedById":110660,"CreatedDateTime":"2016-10-27T18:32:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826262\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477591519\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe currently focused vessel is referenced as a static at FlightGlobals.ActiveVessel.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to refer to a non-active vessel, getting the reference is trickier and depends on where the vessel you are trying to access is.\n\u003C/p\u003E\n\u003Cp\u003E\nNotably if you are in a partModule, using this.vessel instead recommended as that is the vessel that partModule is attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, so how does one determine that one is in a partModule or not? And how do you tell a\u00A0part to have your module?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, is the snippet I posted earlier incorrect in favor of\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Edouble d = FlightGlobals.ActiveVessel.verticalSpeed;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-10-27T18:40:48Z","Content":"\n\u003Cp\u003E\nYou are using a part module if you\u0027re adding it through\u00A0part configs or\u00A0the class can trace it\u0027s inheritance heirachy through the PartModule class. In that case\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Edouble\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E vSpeed \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E vessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EverticalSpeed\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// all part modules have a reference to the part and vessel they are part of\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf you\u0027re inheriting from Monobehaviour and using the KSPAddon attribute (a partless plugin), your snippet above will get the vSpeed of the vessel the player is currently controlling\n\u003C/p\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-27T18:44:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826290\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477592344\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/155445-igorz/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022155445\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/155445-igorz/\u0022 rel=\u0022\u0022\u003E@IgorZ\u003C/a\u003E Is this pivotJoint your code or Squads? If it\u0027s your code it would be easy enough to update orgPos and orgRot whenever whatever the changePivotAngle event is fires.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPivot joint feature is available from Squad but there is no \u0022change angle event\u0022 as such. The angle is changed by game\u0027s physics (e.g. when a force is applied to the vessel).\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-10-27T19:14:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826306\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477593153\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, so how does one determine that one is in a partModule or not? And how do you tell a\u00A0part to have your module?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, is the snippet I posted earlier incorrect in favor of\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022kwd\u0022\u003Edouble\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E d \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EFlightGlobals\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EActiveVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EverticalSpeed\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027ll know your in a partModule because you inherit the class you are writing from PartModule and you add to a part with ModuleManager. You are actually asking a more basic question then I though you were, have you read through the stickies in the Plugin forum and poked around other peoples mods? That\u0027s how all of us got started way back when.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826316\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477593851\u0022 data-ipsquote-userid=\u0022155445\u0022 data-ipsquote-username=\u0022IgorZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n40 minutes ago, IgorZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPivot joint feature is available from Squad but there is no \u0022change angle event\u0022 as such. The angle is changed by game\u0027s physics (e.g. when a force is applied to the vessel).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOuch. In that case, does the position being just slightly out cause issues? My first though at a solution is to stick a FOR loop in a VesselModule that checked the orgPos/orgRot values on each part of the vessel and updated them if needed. To keep overhead down, remember the FOR loop integer index and just check 10 parts per physics update frame. That would be acceptable overhead I think and still have near real-time values on all but the absolute largest vessels. If the value has to be exact then you\u0027d have to check every part every frame and hope the overhead is acceptable.\n\u003C/p\u003E\n\u003Cp\u003E\nPseudo-code free-handed:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epublic class VesselModuleUpdatePartPositions : VesselModule\n{\n\tint index = 0;\n\tpublic void FixedUpdate()\n\t{\n\tfor (int i = 1;i\u002B\u002B;i \u0026lt;= 10)\n    {\n    \tPart p = this.vessel.parts[index];\n        if(boolean check if orgPos/orgRot have changed on part p)\n        {\n        \t//update values here\n        }\n        index = index \u002B1;\n        if(index \u0026gt; this.vessel.parts.count)\n      \t{\n      \t\tindex = 0;\n      \t}\n    }\n    }                         \n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nOr something. This works because updated the part orgPos/orgRot doesn\u0027t have to be part of the rest of your mod, it just makes them accurate for your mod\u0027s use.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-27T19:24:48Z\u0022 title=\u002210/27/2016 07:24  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 27, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-27T21:48:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826354\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477595694\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOuch. In that case, does the position being just slightly out cause issues?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPositions that are slightly out make no issue to the joint but what does make issues is inconsistent positions on the parts within the vessel. In such case some parts may get shifted relative to the other vessel\u0027s parts. I stumbled upon it when tried to update in OnSave: the part of the vessel that was saved before the update had old values in the save file.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222826354\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477595694\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy first though at a solution is to stick a FOR loop in a VesselModule that checked the orgPos/orgRot values on each part of the vessel and updated them if needed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for idea of using VesselModule. One way or another I\u0027ll have to deal with the position/rotation somewhere, and vessel module looks the right place for this code.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also going to try detecting vessel\u0027s situation change. Saving capability is blocked in some situations (e.g. \u0022moving on surface\u0022), and I could use the trigger to update the vessel since pivot is usually changed by some user or physics interaction (i.e. as a result of situation change).\n\u003C/p\u003E\n"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-10-28T07:19:31Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/62446-booots/\u0026amp;do=hovercard\u0022 data-mentionid=\u002262446\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/62446-booots/\u0022 rel=\u0022\u0022\u003E@Booots\u003C/a\u003E \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81549-diazo/\u0026amp;do=hovercard\u0022 data-mentionid=\u002281549\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/81549-diazo/\u0022 rel=\u0022\u0022\u003E@Diazo\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nGuys, thanks for your suggestions. Eventually, I figured out a workaround. It\u0027s very far from being cute but at least it \u003Cem\u003Edoesn\u0027t eat performance\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI do update of the position/rotation in two steps:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIn \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule.OnSave\u003C/span\u003E I update all children parts. It doesn\u0027t make sense to waste CPU on updating parent part(s) since they either were already updated or don\u0027t need it at all (in case of a pivot part was first in the sequence). The problem at this moment is that the part itself is \u003Cem\u003Ealready saved\u003C/em\u003E\u003Cem\u003E \u003C/em\u003Ewith the wrong values. That\u0027s why we need step #2.\n\u003C/li\u003E\n\u003Cli\u003E\nIn \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameEvents.onProtoPartSnapshotSave\u003C/span\u003E I check if \u0022my\u0022 part is being saved, and if it is then the incorrect values are fixed in the config node itself:\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E onProtoPartSnapshotSave\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EGameEvents\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EFromToAction\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EProtoPartSnapshot\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EConfigNode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E action\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EisLinked \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E action\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eto \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E!=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E null \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E action\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Efrom\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EpartRef \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      var node \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E action\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      node\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ESetValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022position\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EorgPos\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      node\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ESetValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022rotation\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EorgRot\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nNote. There are some tricks with regard to parent-to-child relation in this approach not reflected in the code snippet. Vessel\u0027s root part can change due to docking or a \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E action, and the hierarchy can get rebuilt so what that parent-child relation is reversed. In my case such situations can be detected pretty easily.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t like step #2 since it\u0027s a source of problems in case of major game change, but it\u0027s best I can do for now. Stealing FPS from player just to have parts updated for a \u003Cem\u003Eprobable\u003C/em\u003E saving was not an option for me. I\u0027ve created a \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/13132\u0022 rel=\u0022external nofollow\u0022\u003Efeature request\u003C/a\u003E for this matter, if it gets fixed one day then the workaround above won\u0027t be needed.\n\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-10-28T20:20:12Z","Content":"\n\u003Cp\u003E\nIf I have a PartModule which I\u0027ve attached to a docking port, how do I interact with the docking port which this port has docked with?\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-10-28T22:00:35Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan\u003EModuleDockingNode\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myDockingModule \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EModules\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EGetModule\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003EModuleDockingNode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;();\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003EModuleDockingNode\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E dockedTo \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myDockingModule\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EotherNode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E partDockedTo \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E dockedTo\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI assume \u0022otherNode\u0022 will be null when not docked to anything\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-10-28T22:01:37Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/35181-katateochi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002235181\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/35181-katateochi/\u0022 rel=\u0022\u0022\u003E@katateochi\u003C/a\u003E\u00A0Get the docking module on your part, then check if that module\u0027s \u0022otherNode\u0022 field is null.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\n\t\t\tModuleDockingNode node = part.FindModuleImplementing\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;ModuleDockingNode\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n\t\t\tif (node.otherNode != null)\n\t\t\t{\n\t\t\t\t//Do something\n\t\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAlso, otherNode is not null both when docked to another vessel, and when a docking node is tracking another node (ie the magnets are on).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-28T22:03:25Z\u0022 title=\u002210/28/2016 10:03  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 28, 2016\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2016-10-28T22:52:02Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/92871-crzyrndm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002292871\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/92871-crzyrndm/\u0022 rel=\u0022\u0022\u003E@Crzyrndm\u003C/a\u003E, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022 rel=\u0022\u0022\u003E@DMagic\u003C/a\u003E\u00A0- Thanks guys! Just what I was looking for, and that bit of understanding was\u00A0like unlocking a plugin development tech node for me, I see how I can do other things now.\n\u003C/p\u003E\n"},{"CreatedByName":"Faile","CreatedById":59519,"CreatedDateTime":"2016-10-31T06:44:01Z","Content":"\n\u003Cp\u003E\nHi all,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs a personal quality of life improvement I wrote a tiny modulemanager cfg that adds a decouple function to the stock heatshields ( basically what I thought \u0027decouple shroud\u0027 was supposed to do..\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-xml prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[HeatShield*]\n{\n\u00A0\u00A0 \u00A0MODULE\n\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleDecouple\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ejectionForce = 100\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0explosiveNodeID = bottom\n\u00A0\u00A0 \u00A0}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFor some reason this stopped working in 1.2 and frankly, I have no idea why.\n\u003C/p\u003E\n\u003Cp\u003E\nCan someone explain to me why this doesn\u0027t work anymore? Perhaps suggest how to fix the problem?\n\u003C/p\u003E\n"},{"CreatedByName":"K0D3R","CreatedById":171023,"CreatedDateTime":"2016-10-31T09:19:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222831397\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221477896241\u0022 data-ipsquote-userid=\u002259519\u0022 data-ipsquote-username=\u0022Faile\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Faile said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan someone explain to me why this doesn\u0027t work anymore? Perhaps suggest how to fix the problem?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure why it doesn\u0027t work, so can\u0027t answer that. I however did make this cfg based on yours and the stock squad decoupler / heatshield configs as examples. Seems to work fine with the minimal testing I did before posting it \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[HeatShield*]\n{\n\tMODULE\n\t{\n\t\tname = ModuleDecouple\n\t\tejectionForce = 100\n\t\tisOmniDecoupler = false\n\t\tmenuName=Decouple Heat Shield\n\t\tstagingEnabled = true\n\t\tstagingEnableText = HS Decouple Not Staged\n\t\tstagingDisableText = HS Decouple Staged\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-31T09:20:53Z\u0022 title=\u002210/31/2016 09:20  AM\u0022 data-short=\u00227 yr\u0022\u003EOctober 31, 2016\u003C/time\u003E by K0D3R\u003C/strong\u003E\n\u003Cbr\u003Esyntax\n\u003C/span\u003E\n"},{"CreatedByName":"Faile","CreatedById":59519,"CreatedDateTime":"2016-10-31T15:47:20Z","Content":"\n\u003Cp\u003E\nI got it to work, thanks for the idea of putting all the configs in one section\n\u003C/p\u003E\n\u003Cp\u003E\nIt needed one more change, isOmniDecoupler = false is the default, so basically your cfg is the same as stock, also, it doesn\u0027t work as my mod does.\n\u003C/p\u003E\n\u003Cp\u003E\nThe user story is this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022While building my ship, I want to be able to decouple anything attached to the heatshield while keeping the heatshield in place without adding a decoupler.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nYour config only lets you decouple the heatshield itself ( same as stock functionality ).\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the working cfg:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[HeatShield*]\n{\n\u00A0\u00A0 \u00A0MODULE\n\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleDecouple\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ejectionForce = 100\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0menuName=Decouple From Below Heat Shield\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnabled = true\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnableText = HS Decouple Not Staged\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingDisableText = HS Decouple Staged\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0explosiveNodeID = bottom\n\u00A0\u00A0 \u00A0}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ll be posting this to spacedock and \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E in a bit.\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-11-03T15:09:04Z","Content":"\n\u003Cp\u003E\nIs there any way in a CFG I can include a RetractableLadder module in the default \u0022Gear\u0022 action group? \u00A0(So\u00A0my ladders extend when my landing gear do, without having to set that up for each craft - similar to the way lights have a defaultActionGroup property)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-03T15:10:23Z\u0022 title=\u002211/03/2016 03:10  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 3, 2016\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-11-03T16:27:52Z","Content":"\n\u003Cp\u003E\nNot in the .CFG file I do not believe.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can tag a KSPAction in the .dll file to be added to a group by default, but that\u0027s in code, not the .CFG file.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-11-03T16:57:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222836518\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478185744\u0022 data-ipsquote-userid=\u0022148084\u0022 data-ipsquote-username=\u0022Fwiffo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Fwiffo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there any way in a CFG I can include a RetractableLadder module in the default \u0022Gear\u0022 action group? \u00A0(So\u00A0my ladders extend when my landing gear do, without having to set that up for each craft - similar to the way lights have a defaultActionGroup property)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think there might be a way, but you\u0027d have to try it. \u00A0Try binding the action you want in the editor, and saving the craft. \u00A0Then look at the craft file, and find the module you are interested in. \u00A0There should be an ACTIONS node, with a subnode for the one you want. \u00A0Try putting that into the part\u0027s original cfg with the same structure (PART, MODULE, ACTIONS, \u0026lt;action name\u0026gt;). \u00A0I haven\u0027t tried this but I think there\u0027s a good chance it will work\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-11-04T00:04:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222836701\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478192227\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think there might be a way, but you\u0027d have to try it. \u00A0Try binding the action you want in the editor, and saving the craft. \u00A0Then look at the craft file, and find the module you are interested in. \u00A0There should be an ACTIONS node, with a subnode for the one you want. \u00A0Try putting that into the part\u0027s original cfg with the same structure (PART, MODULE, ACTIONS, \u0026lt;action name\u0026gt;). \u00A0I haven\u0027t tried this but I think there\u0027s a good chance it will work\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! \u00A0Will try that out.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-11-05T23:40:27Z","Content":"\n\u003Cp\u003E\nAny pointers on trying to track down a memory exception error for a Part Module. Debugging in Visual Studio only goes so far as this ends up being a KSP exception\n\u003C/p\u003E\n\u003Cp\u003E\nHere is some analysis of the crash dump in case someone sees something I am missing\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n\u0026gt;\tKSP_x64_Dbg.exe!RenderNodeQueue::Cleanup(void)\tUnknown\n\n\nPROBLEM_CLASSES: \n\n*******************************************************************************\n*                                                                             *\n*                        Exception Analysis                                   *\n*                                                                             *\n*******************************************************************************\n\nDUMP_CLASS: 2\n\nDUMP_QUALIFIER: 400\n\nCONTEXT:  (.ecxr)\nrax=17c1d117f2003df9 rbx=0000000000000000 rcx=0000000000b4ee40\nrdx=0000000000000001 rsi=000000001d280570 rdi=00000000204ad870\nrip=00007ff77c93e787 rsp=0000000000b4ed90 rbp=0000000000000198\n r8=000000000000000d  r9=0000000000b4ee40 r10=ffffffffffffffff\nr11=000000000001b2c8 r12=00000000b4679060 r13=0000000000b4ee40\nr14=0000000000000001 r15=0000000000000000\niopl=0         nv up ei pl nz na po nc\ncs=0033  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010206\nKSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B0x71b7:\n00007ff7\u00607c93e787 ffd0            call    rax {17c1d117\u0060f2003df9}\nResetting default scope\n\nFAULTING_IP: \nKSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B71b7\n00007ff7\u00607c93e787 ffd0            call    rax\n\nEXCEPTION_RECORD:  (.exr -1)\nExceptionAddress: 00007ff77c93e787 (KSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B0x00000000000071b7)\n   ExceptionCode: c0000005 (Access violation)\n  ExceptionFlags: 00000000\nNumberParameters: 2\n   Parameter[0]: 0000000000000000\n   Parameter[1]: ffffffffffffffff\nAttempt to read from address ffffffffffffffff\n\nPROCESS_NAME:  KSP_x64_Dbg.exe\n\nERROR_CODE: (NTSTATUS) 0xc0000005 - The instruction at 0x%p referenced memory at 0x%p. The memory could not be %s.\n\nEXCEPTION_CODE: (NTSTATUS) 0xc0000005 - The instruction at 0x%p referenced memory at 0x%p. The memory could not be %s.\n\nEXCEPTION_CODE_STR:  c0000005\n\nEXCEPTION_PARAMETER1:  0000000000000000\n\nEXCEPTION_PARAMETER2:  ffffffffffffffff\n\nFOLLOWUP_IP: \nKSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B71b7\n00007ff7\u00607c93e787 ffd0            call    rax\n\n\nINVALID_POINTER_READ\n    Tid    [0x5e8]\n    Frame  [0x00]: KSP_x64_Dbg!CallbackArrayBase\u0026lt;void \n\nIN_CALL\n    Tid    [0x5e8]\n    Frame  [0x00]: KSP_x64_Dbg!CallbackArrayBase\u0026lt;void \n    Failure Bucketing\n\n\nBUGCHECK_STR:  INVALID_POINTER_READ_IN_CALL\n\nDEFAULT_BUCKET_ID:  INVALID_POINTER_READ_IN_CALL\n\nLAST_CONTROL_TRANSFER:  from 00007ff77c93e88e to 00007ff77c93e787\n\nSTACK_TEXT:  \n00000000\u006000b4ed90 00007ff7\u00607c93e88e : 00000000\u006000b4ee40 00000000\u006000000000 00000000\u00601d280570 00000000\u0060204ad870 : KSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B0x71b7\n00000000\u006000b4edd0 00007ff7\u00607c974537 : 00000000\u006000000001 00000000\u006000000000 00000000\u00601d280570 00000000\u0060204ad870 : KSP_x64_Dbg!CallbackArrayBase\u0026lt;void (__cdecl*)(IndexList const * __ptr64,RendererCullData const * __ptr64),void (__cdecl*)(void const * __ptr64,IndexList const * __ptr64,RendererCullData const * __ptr64)\u0026gt;::Register\u002B0x72be\n00000000\u006000b4ee00 00007ff7\u00607c97529b : 00000000\u006000000000 00000000\u006000000000 00000000\u006000b5ef31 00000000\u00601d280570 : KSP_x64_Dbg!IntermediateRenderer::GetCachedWorldAABB\u002B0x5a7\n00000000\u006000b5eec0 00007ff7\u00607c8fea6c : 00000000\u006000000000 00000000\u00601dfa4b00 00000000\u006000000000 00000000\u006004b08b60 : KSP_x64_Dbg!IntermediateRenderer::GetCachedWorldAABB\u002B0x130b\n00000000\u006000b5ef90 00007ff7\u00607c901997 : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 00000000\u006000b6f2a0 : KSP_x64_Dbg!Camera::DoRender\u002B0x10c\n00000000\u006000b5f020 00007ff7\u00607c902951 : 00000000\u00609b894fd0 00000000\u0060044de8e0 00000000\u006000000000 00000000\u0060bfe65db0 : KSP_x64_Dbg!Camera::Render\u002B0x1d7\n00000000\u006000b6f220 00007ff7\u00607c94b493 : 00000000\u00609b894fd0 00000000\u0060204ad870 00007ff7\u00607da785c8 00000000\u0060044d69f0 : KSP_x64_Dbg!Camera::Render\u002B0x11\n00000000\u006000b6f260 00007ff7\u00607cbebf17 : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 : KSP_x64_Dbg!IAnimation::IAnimation\u002B0x1f23\n00000000\u006000b6fa80 00007ff7\u00607cbec271 : 00000000\u006000000000 00000000\u006000000000 00000000\u0060044f9560 00000000\u006000000000 : KSP_x64_Dbg!CallbackArray1\u0026lt;bool\u0026gt;::Invoke\u002B0x6e7\n00000000\u006000b6fac0 00007ff7\u00607cbeca5a : 00000000\u006000000056 00000000\u0060000180aa 00000000\u0060000082fc 00000000\u006000000000 : KSP_x64_Dbg!CallbackArray1\u0026lt;bool\u0026gt;::Invoke\u002B0xa41\n00000000\u006000b6faf0 00007ff7\u00607cd1a0e0 : 00000000\u0060000007ec 00000000\u006000000000 00000000\u006000000001 00000000\u006000000001 : KSP_x64_Dbg!CallbackArray1\u0026lt;bool\u0026gt;::Invoke\u002B0x122a\n00000000\u006000b6fb40 00007ff7\u00607cd1a8da : 00000000\u0060000007ec 00000000\u006000b6fce0 00000000\u006000000000 00000000\u006000000000 : KSP_x64_Dbg!IntermediateRenderer::GetLayer\u002B0x3450\n00000000\u006000b6fb70 00007ff7\u00607cd1e5bc : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000004 00000000\u006000b6fce0 : KSP_x64_Dbg!PlayerMainWndProc\u002B0x6ba\n00000000\u006000b6fbe0 00007ff7\u00607d27bbe0 : 00000000\u006000000000 00000000\u006000000000 00007ff7\u00607c8a0000 00000000\u006000000000 : KSP_x64_Dbg!PlayerWinMain\u002B0xf1c\n00000000\u006000b6fe00 00007ffe\u0060e64f8364 : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 : KSP_x64_Dbg!RectT\u0026lt;int\u0026gt;::GetRight\u002B0xa5650\n00000000\u006000b6feb0 00007ffe\u0060e6ec5e91 : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 : kernel32!BaseThreadInitThunk\u002B0x14\n00000000\u006000b6fee0 00000000\u006000000000 : 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 00000000\u006000000000 : ntdll!RtlUserThreadStart\u002B0x21\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTrying to troubleshoot an issue with BDArmory Rotary Bomb Rail. I can edit the part (right click has gui options) just fine the first time. Once you move your mouse off the part then select the part again the game crashes. \u00A0Part module code can be found \u003Ca href=\u0022https://github.com/PapaJoesSoup/BDArmory/blob/master/BahaTurret/BDRotaryRail.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-05T23:49:09Z\u0022 title=\u002211/05/2016 11:49  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 5, 2016\u003C/time\u003E by gomker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2016-11-06T12:56:46Z","Content":"\n\u003Cp\u003E\nWhen you use \u0022Control from Here\u0022, is the \u0022from\u00A0here\u0022 always the origin (typically \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E) of the selected part?\n\u003C/p\u003E\n\u003Cp\u003E\nI ask because I know when you include docking ports in a weldment, and say \u0022Set as target\u0022, the game seems smart enough to use the docking port coordinates as the target rather than the selected part\u0027s origin/\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E. \u00A0(Which is great; although I\u0027d love to know how that works, e.g. if it looks for something specific in the mesh...)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT:\u00A0\u003C/strong\u003ENevermind I found \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/85463-control-from-here-minitutorial-on-making-a-docking-port/\u0022 rel=\u0022\u0022\u003Ethis\u003C/a\u003E\u00A0which I think will answer my question.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-06T13:06:41Z\u0022 title=\u002211/06/2016 01:06  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 6, 2016\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TaxiService","CreatedById":74999,"CreatedDateTime":"2016-11-07T15:19:08Z","Content":"\n\u003Cp\u003E\nLet\u0027s say I create a subclass \u0027SheepVesselModule\u0027 based on the KSP\u0027s existing class \u0027\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_module.html\u0022 rel=\u0022external nofollow\u0022\u003EVesselModule\u003C/a\u003E\u0027. Then, I just compile and launch KSP without any further action. I observe that the KSP actually accepts and integrates my \u0022orphan\u0022 class into every existing vessel. It even calls some methods like Start() too.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this one of the Unity\u0027s strengths, or I misinterpret the result?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-07T15:20:22Z\u0022 title=\u002211/07/2016 03:20  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 7, 2016\u003C/time\u003E by TaxiService\u003C/strong\u003E\n\u003C/span\u003E\n"}]}