{"TopicId":132583,"ForumId":29,"TopicTitle":"[WIP] TMS Orbital Mechanics - Stargate Mod : Questions problems and development woes. ;-)","CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-20T21:40:42Z","PageNum":1,"Articles":[{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-20T21:40:42Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nAs my other thread evolved into what this thread was always meant to be (eventually), I figured I\u0027d just jump right in and make my Mod Development thread.\n\u003C/p\u003E\n\u003Cp\u003E\nI will have a lot of questions as I am still getting my head around how c# and the api works.\n\u003C/p\u003E\n\u003Cp\u003E\nI have created a Git repository for the Mod as it currently is (or rather isn\u0027t, nothing quite works yet), but it will make things easier than me pasting code all the time \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe readme has some basic information about the mod and what I\u0027m looking to achieve, the readme itself is still a work in progress so may have some bits missing. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/TheMightySpud/TMS_Orbital_Mechanics\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TheMightySpud/TMS_Orbital_Mechanics\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is just the introductory post, I\u0027ll be adding more and having breakdowns/tantrums in other posts further down the line when things go horribly wrong \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo, on with the show as they say.\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-21T11:09:24Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nSo, problem number one on my \u0027to do\u0027 list.\n\u003C/p\u003E\n\u003Cp\u003E\nGetting a single gate to spawn anywhere.\n\u003C/p\u003E\n\u003Cp\u003E\nUsing this code\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nwhich is derived from this code......\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/Ioncross-Crew-Support/blob/master/Source/IoncrossCrewSupport/Contracts/Templates/IonContractResupply.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Which was so graciously offered up by\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022\u003E@Starwaster\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI receive this error when trying to spawn the Gate either from entering the Space Center, or entering \u0027flight\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://themightyspud.co.uk/images/KerbalErrors/Part_Error_001.jpg\u0022 alt=\u0022Part_Error_001.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBased on the outputs from the Log, the code is finding all the necessary information from the config file, which is great. \u00A0Originally I thought the problem was\u00A0something to do with the following line.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L102-L106\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L102-L106\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut the Debug lines that follow it print the information asked for to the Log, so I know that there\u0027s information in there. \u00A0However\u00A0it doesn\u0027t seem to be getting added to the vessel at this point like it should....\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L123-L129\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L123-L129\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe only thing I can think of is that I\u0027m missing something important from the original code, but I honestly can\u0027t see what, and I spent most of yesterday going through it line by line several times to try and find something that I missed.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m hoping that someone with a fresh pair of eyes can see where I\u0027m going wrong and point me in the right direction. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-21T19:44:19Z","Content":"\n\u003Cp\u003E\nWell the code I used is quite a few KSP versions old so I\u0027m wondering if anything changed with ProtoVessel.CreateVesselNode()?\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried searching the log to see if that function is throwing any exceptions?\n\u003C/p\u003E\n\u003Cp\u003E\nIf that function hasn\u0027t changed significantly then it should be working. Where are you getting the actual vessel list being used? I was using nodes created from actual *.craft files for convenience. It would not work as is with the types of VESSEL nodes that you find in save files. There is a way of making that work with different code that calls \u00A0different functions, but this method required something from inside craft files.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, assuming that you ARE using the right format for your VESSELs, then the next thing you want to look at is each part that is going in. So you\u0027ll want to parse each PART in the node and seeing what that part is. Maybe something weird is going on there.\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-21T20:20:32Z","Content":"\n\u003Cp\u003E\nThanks for the reply once again \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn the log I\u0027m getting no exceptions whatsoever, just that little popup window when it tries to load the .craft\n\u003C/p\u003E\n\u003Cp\u003E\nFormat wise, I\u0027m using a craft file saved from the editor with the edits made (adding STARGATE { VESSEL { \u00A0at the beginning and } } at the end. \u00A0(I can\u0027t see any other differences in the\u00A0cfg you provided)\n\u003C/p\u003E\n\u003Cp\u003E\nSo at the moment, it seems that everything is working as it should up to the point where it actually adds the contents of the Part nodes to the actual vessel. \u00A0The \u0027stargateParts\u0027 list is populated as demonstrated by the Debug.Log lines (the expected information appears in the Log.\n\u003C/p\u003E\n\u003Cp\u003E\nI am beginning to think that there has been some sort of change in the API between versions.\n\u003C/p\u003E\n\u003Cp\u003E\nI get the same error no matter what parts I use to create a craft file (I tried a few different single part ships, just to see if it was something I was doing in my gate Part). \u00A0I\u0027ll try running through the part(s) I have attached to a ship and see what pops up.\n\u003C/p\u003E\n\u003Cp\u003E\nFailing that, I\u0027ll have a closer look at the CreateVesselNode() and see if I can figure something out.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-21T20:40:17Z","Content":"\n\u003Cp\u003E\nAfter a very quick poke around with google, I found this (DarkMultiplayer code)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/blob/master/Client/ScenarioWorker.cs#L241-L266\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/godarklight/DarkMultiPlayer/blob/master/Client/ScenarioWorker.cs#L241-L266\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhich seems to do pretty much the same thing (with a few differences obviously).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll have a play with that and see what I can come up with \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-22T16:46:21Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/158070-themightyspud/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022158070\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/158070-themightyspud/\u0022\u003E@TheMightySpud\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI tested the code in KSP and found a few issues with it. I think some of them stemmed from a Github mishap that resulted in bad files being committed. One of those might have been the vessel config itself, which had VESSEL data lifted right out of a craft file. \u003Cem\u003EThat does not work with ProtoVessel.CreateVesselNode()!\u00A0\u003C/em\u003EI searched around my drive and found another version of the fleet file that actually works. From the looks of it, I lifted it out of a save file and now that I think about it, I actually had to launch a station of the type that was being put into orbit and do things like extend solar panels and generally make sure it was in the condition I wanted it to be encountered in orbit in.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother issue with the code is that although it does work as written, stationFleet is not persistent and is only generated one time, so you need to make sure that in your code the fleet list is always initialized prior to trying to read from it. A simple \u0027fleet.count \u0026gt; 0\u0027 check is a good idea followed by reloading the list if it failed the check. (in my testing, I was having to generate the contract using the debug menu which sometimes resulted in the fleet data being blank if I didn\u0027t immediately go to mission control and accept the contract)\n\u003C/p\u003E\n\u003Cp\u003E\nOther caveats to watch out for: Because of what I said earlier about getting the vessel node from a save file, make sure that it is empty of crew, otherwise it might try to grab existing crew who are on other missions. (Jeb suddenly got teleported to the new station. Apparently Kerbals have transporter technology and nobody told me \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E ). Then if the vessel REQUIRES a crew, randomly generate some prior to calling ProtoVessel.CreateVesselNode()\n\u003C/p\u003E\n\u003Cp\u003E\nThere is a way to do it with craft file format instead but I don\u0027t remember what it was....\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-22T16:46:55Z\u0022 title=\u002202/22/2016 04:46  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 22, 2016\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003Cbr\u003Espelling errorz\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-22T18:32:49Z","Content":"\n\u003Cp\u003E\nBTW, I replaced the fleet file with a new one that works so that you can see what it should look like. (again, this came out of a save file, so a bit of work)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Starwaster/Ioncross-Crew-Support/blob/master/KerbalInstallFolder/GameData/IoncrossCrewSupport/Contracts/Stations/station.type2.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Starwaster/Ioncross-Crew-Support/blob/master/KerbalInstallFolder/GameData/IoncrossCrewSupport/Contracts/Stations/station.type2.cfg\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-22T20:19:00Z","Content":"\n\u003Cp\u003E\nYES!!!!!!!\n\u003C/p\u003E\n\u003Cp\u003E\nYou sir, are an absolute Prince. \u00A0I now have an orbiting Stargate on startup :-D \u00A0Me so happy. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNow to dissect a save file for positional data. :-D\n\u003C/p\u003E\n\u003Cp\u003E\n*giddy as a schoolgirl* \u00A0lol.\n\u003C/p\u003E\n\u003Cp\u003E\nSeriously though \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0026amp;do=hovercard\u0022 data-mentionid=\u002271262\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/71262-starwaster/\u0022\u003E@Starwaster\u003C/a\u003E, thank you so much \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-22T22:22:02Z","Content":"\n\u003Cp\u003E\nGlad you\u0027ve got it working!\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-22T22:53:40Z","Content":"\n\u003Cp\u003E\nThanks \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo now on to the next problem. lol.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve got the gate appearing where I want it to (based on where I put it in a save file).\n\u003C/p\u003E\n\u003Cp\u003E\nIt places fine, but as soon as I go to the launch pad, KSP goes nuts. lol.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L151-L168\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TheMightySpud/TMS_Orbital_Mechanics/blob/master/Source/CreateGates.cs#L151-L168\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is my positioning code, which works perfectly as far as I can tell. \u00A0In the log, this all happens a long time before it goes mental. \u00A0Spawning into orbit is also fine and dandy.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is my log, I\u0027m not really sure what\u0027s going on if honest, if I had to guess, there\u0027s some problem with the collision detection, but I\u0027m not sure, and have no idea how to fix it if it is. \u00A0In the game the Stargate is sitting on the ground quite nicely, but fps drops to almost nothing as the exception is kicked back on every frame, even after the physics have eventually\u00A0kicked in. :-/\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[WRN 22:44:00.151] [HighLogic]: =========================== Scene Change : From EDITOR to FLIGHT (Async) =====================\u003Cbr\u003E\n[WRN 22:44:01.505] ApplicationLauncher already exist, destroying this instance\u003Cbr\u003E\n[LOG 22:44:01.511] AddonLoader: Instantiating addon \u0027NavWaypoint\u0027 from assembly \u0027KSP\u0027\u003Cbr\u003E\n[LOG 22:44:01.515] AddonLoader: Instantiating addon \u0027VesselMove\u0027 from assembly \u0027VesselMover\u0027\u003Cbr\u003E\n[LOG 22:44:01.543] ------------------- initializing flight mode... ------------------\u003Cbr\u003E\n[LOG 22:44:01.550] Loading ship from file: U:/Users/TheMightySpud/Kerbal Mod Builds/VisualStudioProjects/KERBAL MODS/Kerbal Space Program/KSP_Data/../saves/stargate1/Ships/VAB/Auto-Saved Ship.craft\u003Cbr\u003E\n[WRN 22:44:01.576] [Part]: PartModule TransferDialogSpawner at mk1pod, index 7: index exceeds module count as defined in cfg.\u003Cbr\u003E\nLooking for TransferDialogSpawner in other indices...\u003Cbr\u003E\n[WRN 22:44:01.578] ...no TransferDialogSpawner module found on part definition. Skipping...\u003Cbr\u003E\n[LOG 22:44:01.580] Untitled Space Craft loaded!\u003Cbr\u003E\n[LOG 22:44:05.999] putting ship to ground: 14.66247\u003Cbr\u003E\n[LOG 22:44:06.003] [Untitled Space Craft]: Ready to Launch - waiting to start physics...\u003Cbr\u003E\n[LOG 22:44:06.009] Crewmember Jebediah Kerman assigned to Mk1 Command Pod, seat # 0 (crew seat index: 0)\u003Cbr\u003E\n[LOG 22:44:06.011] [FLIGHT GLOBALS]: Switching To Vessel Untitled Space Craft ----------------------\u00A0\u003Cbr\u003E\n[LOG 22:44:06.013] setting new dominant body: Kerbin\u003Cbr\u003E\nFlightGlobals.mainBody: Kerbin\u003Cbr\u003E\n[LOG 22:44:06.015] Reference Frame: Rotating\u003Cbr\u003E\n[LOG 22:44:06.026] stage manager resuming...\u003Cbr\u003E\n[LOG 22:44:06.027] Vessel assembly complete!\u003Cbr\u003E\n[LOG 22:44:06.028] stage manager starting...\u003Cbr\u003E\n[LOG 22:44:06.029] all systems started\u003Cbr\u003E\n[LOG 22:44:06.071] Reloaded override drag cube for zeroed cube root part mk1pod on vessel Untitled Space Craft\u003Cbr\u003E\n[WRN 22:44:06.115] HighlightingSystem : Multiple Highlighter components on a single GameObject is not allowed! Highlighter has been disabled on a GameObject with name \u0027model\u0027.\u003Cbr\u003E\n[EXC 22:44:06.121] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003E\nParameter name: index\u003Cbr\u003E\n\u00A0\u00A0 \u00A0System.Collections.Generic.List\u00601[Part].get_Item (Int32 index)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0AttachNodeSnapshot.findAttachedPart (.Vessel vessel)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ProtoPartSnapshot.Init (.Vessel vesselRef)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ProtoVessel.LoadObjects ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Vessel.Load ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Vessel.Update ()\u003Cbr\u003E\n[WRN 22:44:06.166] HighlightingSystem : Multiple Highlighter components on a single GameObject is not allowed! Highlighter has been disabled on a GameObject with name \u0027model\u0027.\u003Cbr\u003E\n[LOG 22:44:06.170] [Kerbin Stargate]: landed - waiting for ground contact to resume physics...\u003Cbr\u003E\n[EXC 22:44:06.172] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.ModulesOnStart ()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part\u002B.MoveNext ()\u003Cbr\u003E\n[LOG 22:44:06.173] Reloaded override drag cube for zeroed cube root part TMS.Stargate.V001 (Kerbin Stargate) on vessel Kerbin Stargate\u003Cbr\u003E\n[LOG 22:44:06.175] Reloaded override drag cube for zeroed cube root part TMS.Stargate.V001 (Kerbin Stargate) on vessel Kerbin Stargate\u003Cbr\u003E\n[LOG 22:44:06.185] [ScenarioDestructibles]: Loading... 0 objects registered\u003Cbr\u003E\n[LOG 22:44:06.188] Loading Depletion Nodes\u003Cbr\u003E\n[LOG 22:44:06.190] DepNodeCount: \u00A00\u003Cbr\u003E\n[LOG 22:44:06.191] Loading Biome Nodes\u003Cbr\u003E\n[LOG 22:44:06.193] BiomeNodeCount: \u00A00\u003Cbr\u003E\n[LOG 22:44:06.194] Loading Planet Nodes\u003Cbr\u003E\n[LOG 22:44:06.196] PlanetNodeCount: \u00A00\u003Cbr\u003E\n[LOG 22:44:08.512] [AsteroidSpawner]: No new objects this time. (Odds are 1:2)\u003Cbr\u003E\n[LOG 22:44:08.539] [FlightIntegrator]: Vessel Untitled Space Craft has been unloaded 1.79769313486232E\u002B308, applying analytic temperature 314.967301616924\u003Cbr\u003E\n[LOG 22:44:08.542] [FlightIntegrator]: Vessel Kerbin Stargate has been unloaded 1.79769313486232E\u002B308, applying analytic temperature 314.606754530242\u003Cbr\u003E\n[LOG 22:44:08.554] [Progress Node Reached]: RecordsAltitude\u003Cbr\u003E\n[LOG 22:44:08.556] [Progress Node Reached]: RecordsSpeed\u003Cbr\u003E\n[LOG 22:44:08.558] [Progress Node Reached]: RecordsDistance\u003Cbr\u003E\n[EXC 22:44:08.583] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.584] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.585] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.586] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.587] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.589] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\u003Cbr\u003E\n[EXC 22:44:08.590] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0\u00A0 \u00A0Part.OnTriggerStay (UnityEngine.Collider other)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs you can see there are a couple of other errors in there too, which I don\u0027t get when spawning in orbit. \u00A0So I would assume there\u0027s something wrong with my positioning somewhere.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-02-29T23:01:51Z","Content":"\n\u003Cp\u003E\nOoooooh, an\u00A0update.\n\u003C/p\u003E\n\u003Cp\u003E\nOkay so I figured that the errors above I were definitely something to do with my collisions. \u00A0However, I have no idea what.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I took a chunk off my Stargate model, and replaced the mesh collider with a box collider\u00A0and tried placing that instead. \u00A0I still get the errors, but I\u0027m back up to a manageable frame rate so I can carry on with other things while I try and figure out what\u0027s going on with that.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I figured I\u0027d show a pic. \u00A0Modelling is done on the gate, haven\u0027t started on the texturing yet though. \u00A0I may get shouted at for this one, but the Tri count as it stands is at 25,740. \u00A0Which is a little high, and I may be able to squeeze it down a bit. \u00A0But as this is one part, I figured I could get away with it for the time being.\n\u003C/p\u003E\n\u003Cp\u003E\nSoooo, obviously because there are no textures, not really a great deal to see, but you get the idea. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Stargate_001.png\u0022 class=\u0022ipsImage\u0022 height=\u0022750\u0022 src=\u0022http://themightyspud.co.uk/images/KerbalErrors/Stargate_001.png\u0022 width=\u0022793\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone has any insight into the errors, I would be most appreciative \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-03-01T03:15:25Z","Content":"\n\u003Cp\u003E\nDid you have a single collision mesh or multiple convex colliders? And from the log file it appears the collider throwing the errors is a trigger mesh? Maybe disable the trigger mesh until the part sits in game OK - then add it back in - just to narrow down the source of errors.\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-03-01T11:03:39Z","Content":"\n\u003Cp\u003E\nOn my previous version of the gate model there were a bunch of convex mesh colliders, but on this version, just to test it has a single box collider, which is why I think I\u0027m getting far better frame rates even though I\u0027m still getting the errors (only throwing the exception for one collider instead of a bunch).\n\u003C/p\u003E\n\u003Cp\u003E\nThe part that\u0027s confusing me is that in the\u00A0log, there is a line that\u0027s saying it can\u0027t find an object called \u0027DestructionCollider\u0027 it\u0027s looking for it in the KPS file structure, but it\u0027s not there so obviously it won\u0027t be able to find it. \u00A0So I started to wonder whether it was something I was doing in Unity when compiling the model. \u00A0But then I thought that can\u0027t be it because I can use the part in the editors and get it to the launch pad/runway and it works fine.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll try the trigger mesh thing once I figure out what that is lol.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the insight \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-03-02T00:55:13Z","Content":"\n\u003Cp\u003E\nOK - wasn\u0027t sure if you were aware of the convex requirement so tossed it out just in case. Making a guess here but I know Unity has trigger colliders and that your plugin could use to detect an object going through the gate. This along with what you\u0027ve said and the log dump above makes me think the plugin is looking for a collider named \u0022DestructionCollider\u0022 that would have the \u0022Is Trigger\u0022 check box checked (just below the \u0022Convex\u0022 check box in Unity) and probably have its layer set to \u0022Part Triggers\u0022 ( also in Unity). Then when an object entered this collider it would trigger a callback to remove the vessel and place it somewhere else. You might search the code for \u0022DestructionCollider\u0022 - and if found see if it\u0027s linked to a callback. (remember - this is just a guess - I may be leading you completely astray).\n\u003C/p\u003E\n"},{"CreatedByName":"TheMightySpud","CreatedById":158070,"CreatedDateTime":"2016-03-03T19:05:00Z","Content":"\n\u003Cp\u003E\nOkay then,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve figured out that it\u0027s not actually anything to do with the Collision (well not in the way I thought anyway). \u00A0The Destruction Collider error is related to the space center \u0027scene\u0027 and appears all the time, mod or no mod.\n\u003C/p\u003E\n\u003Cp\u003E\nI have found something very odd\u00A0going on though which I believe is the culprit, but not really sure how to fix it.\n\u003C/p\u003E\n\u003Cp\u003E\nEverything is all dandy and happy until I go to the launchpad or the runway.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I remove the bits and pieces of code that\u00A0moves the stargate after it\u0027s spawned, everything works great, except it isn\u0027t in the right place.\n\u003C/p\u003E\n\u003Cp\u003E\nafter a quick look and compare of the savegames however I noticed something odd. \u00A0The Stargate \u0027vessel\u0027 is made up of a single part. \u00A0I\u0027ve looked at the savegame file at every step of the way (space center -\u0026gt; tracking station -\u0026gt; space center - \u0026gt; VAB or SPH -\u0026gt; Launch Pad or Runway.\n\u003C/p\u003E\n\u003Cp\u003E\nEverytime I\u0027ve gone through, it\u0027s all good until I go to the launch pad or runway, at which point after the autosave I look at the save game again, and suddenly my \u0027Vessel\u0027 has two identical parts.\n\u003C/p\u003E\n\u003Cp\u003E\nHas anyone come across this before, or know why it\u0027s happening? \u00A0It\u0027s so very very very weird, I really don\u0027t get it.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n\u003Cp\u003E\nTheMightySpud\n\u003C/p\u003E\n"}]}