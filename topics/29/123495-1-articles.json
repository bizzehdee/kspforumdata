{"TopicId":123495,"ForumId":29,"TopicTitle":"Resource Decay","CreatedByName":"Aelixander","CreatedById":150679,"CreatedDateTime":"2015-10-21T15:47:03Z","PageNum":1,"Articles":[{"CreatedByName":"Aelixander","CreatedById":150679,"CreatedDateTime":"2015-10-21T15:47:03Z","Content":"\n\u003Cp\u003EHello there!\u003C/p\u003E\u003Cp\u003EI am making a mod that adds a new resource to the game. And while I have successfully implemented that - I have a desire to complicate matters further.\u003C/p\u003E\u003Cp\u003EI would like the resource to \u0027decay\u0027 after a while. \u003C/p\u003E\u003Cp\u003ENow, this can easily be faked by having the parts that generate it, also have an always-on generator set to a negative value (thus always consuming it)...\u003C/p\u003E\u003Cp\u003EHowever, that\u0027s too easy to eject or otherwise render moot.\u003C/p\u003E\u003Cp\u003EWhat I would really want is to have this resource decay on its own, without the need for parts to fake it.\u003C/p\u003E\u003Cp\u003EAny advice?\u003C/p\u003E\u003Cp\u003EThank you much\u003C/p\u003E\u003Cp\u003E- A\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2015-10-22T04:13:36Z","Content":"\n\u003Cp\u003EActually, if I\u0027m not mistaken, a generator with a negative value will create the resource. If you can code in C#, it would be pretty easy actually. I just did something like that for my submarine. If they have the neutral buoyancy toggled on, every 10 seconds it consumes an electrical charge.\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2015-10-22T14:45:18Z","Content":"\n\u003Cp\u003EOk, as per the PM\u0027s, give this a try:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.datainterlock.com/Kerbaltopia/Maritime\u0022 rel=\u0022external nofollow\u0022\u003EMPUtils Plugin\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ERather than make a bunch of plugins to manage, I included it in the one for my Sub Pack so there\u0027ll be a lot of stuff there you won\u0027t use.\u003C/p\u003E\u003Cp\u003EFor instructions on how to add the partmodule, you can find it on my website: \u003Ca href=\u0022http://www.kerbaltopia.com\u0022 rel=\u0022external nofollow\u0022\u003EKerbaltopia\u003C/a\u003E under MPUtils documentation.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-10-22T18:17:26Z","Content":"\n\u003Cp\u003EFengist is right. Using Resource.Request() with a negative value will add to the resource, while a positive value will decrease it.\u003C/p\u003E\u003Cp\u003EHowever, a ModuleGenerator *already* uses a negative sign in code (since the rate is positive), so a ModuleGenerator entry with a negative rate could work as a decay method.\u003C/p\u003E\u003Cp\u003EIf you want to do it in code, put a statement in PartModule.OnFixedUpdate() which decays the resource. You *will* need to write your own code if you don\u0027t want to keep a possibility of sabotaging it through hacking the part config or ModuleManager.\u003C/p\u003E\n"},{"CreatedByName":"Aelixander","CreatedById":150679,"CreatedDateTime":"2015-10-23T00:00:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stoney3K\u0022 data-cite=\u0022Stoney3K\u0022\u003E\u003Cdiv\u003EFengist is right. Using Resource.Request() with a negative value will add to the resource, while a positive value will decrease it.\u003Cp\u003EHowever, a ModuleGenerator *already* uses a negative sign in code (since the rate is positive), so a ModuleGenerator entry with a negative rate could work as a decay method.\u003C/p\u003E\u003Cp\u003EIf you want to do it in code, put a statement in PartModule.OnFixedUpdate() which decays the resource. You *will* need to write your own code if you don\u0027t want to keep a possibility of sabotaging it through hacking the part config or ModuleManager.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIll be happy if it cant be sabotaged though parts ejection, lol.\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-10-23T00:38:49Z","Content":"\n\u003Cp\u003EYou can also use Near Future plugin here \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/52042-1-04-Near-Future-Technologies-%28fully-operational-in-1-04%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/52042-1-04-Near-Future-Technologies-%28fully-operational-in-1-04%29\u003C/a\u003E and there is also JDiminishingRTG plugin here \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/115938\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/115938\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-10-23T10:21:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Aelixander\u0022 data-cite=\u0022Aelixander\u0022\u003E\u003Cdiv\u003EIll be happy if it cant be sabotaged though parts ejection, lol.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn that case, ModuleManager the PartModule into any of the command pods. Those can\u0027t be ejected without rendering the entire ship useless. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EOut of curiosity, what kind of resource are you looking into here? Life support? Coolant? Ship wear?\u003C/p\u003E\n"},{"CreatedByName":"Aelixander","CreatedById":150679,"CreatedDateTime":"2015-10-23T11:48:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Stoney3K\u0022 data-cite=\u0022Stoney3K\u0022\u003E\u003Cdiv\u003EIn that case, ModuleManager the PartModule into any of the command pods. Those can\u0027t be ejected without rendering the entire ship useless. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003EOut of curiosity, what kind of resource are you looking into here? Life support? Coolant? Ship wear?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m working on an anti-mass set of parts, and the idea is that without maintainance (the generator being \u0027on\u0027) the artificial particles decay.\u003C/p\u003E\n"},{"CreatedByName":"Stoney3K","CreatedById":139954,"CreatedDateTime":"2015-10-23T12:31:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Aelixander\u0022 data-cite=\u0022Aelixander\u0022\u003E\u003Cdiv\u003EI\u0027m working on an anti-mass set of parts, and the idea is that without maintainance (the generator being \u0027on\u0027) the artificial particles decay.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat should be no problem to integrate into your PartModule as it is.\u003C/p\u003E\u003Cp\u003EIf you jettison the generator which has the decay logic, the logic will keep running even though the part is not on the active vessel. Your \u0022Antimatter\u0022 resource will drop to zero if you have no separate storage part for it. (PartModules will run on any vessel or debris within physics range, not just the active)\u003C/p\u003E\u003Cp\u003EConversely, if you *have* a separate storage part (containment field generator of some sorts) you could put the decay logic in there. Dump the container and your resource is gone anyway, and if you somehow re-attach it or on ship startup, you can hook to the PartModule.OnAwake() method to re-set your resource count to zero.\u003C/p\u003E\u003Cp\u003ESimply put, a user can ditch their containment tank but it would do them no good because all of the antimatter will be gone once they re-attach it.\u003C/p\u003E\u003Cp\u003EAs a good side-objective, gameplay wise, you could have the generator put out some heat and explode it when the containment field is full and the power is suddenly lost for too long. If a player doesn\u0027t attach enough radiators or kills the power, you have the chance of everything blowing up.\u003C/p\u003E\u003Cp\u003EBasically, add enough radiators and the particles will decay naturally without any ill side effects, but not enough radiators and your power drops... boom.\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2015-10-24T02:15:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Aelixander\u0022 data-cite=\u0022Aelixander\u0022\u003E\u003Cdiv\u003EI\u0027m working on an anti-mass set of parts, and the idea is that without maintainance (the generator being \u0027on\u0027) the artificial particles decay.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you get it working with my plugin?\u003C/p\u003E\n"},{"CreatedByName":"Aelixander","CreatedById":150679,"CreatedDateTime":"2015-10-24T13:40:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Fengist\u0022 data-cite=\u0022Fengist\u0022\u003E\u003Cdiv\u003EDid you get it working with my plugin?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENope =(\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2015-10-24T21:05:46Z","Content":"\n\u003Cp\u003EIt\u0027s a plugin. You have to copy it to your gamedata diretory. Look in the .zip. Then, you have to add the partmodule to something on your ship. Read the docs I on the webpage. You don\u0027t load a .dll into visual studio.\u003C/p\u003E\n"}]}