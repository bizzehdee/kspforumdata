{"TopicId":201326,"ForumId":29,"TopicTitle":"How can I make KSPField give real time response to a part that its been used on? (Parts Action Window)","CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2021-03-29T00:53:19Z","PageNum":1,"Articles":[{"CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2021-03-29T00:53:19Z","Content":"\n\u003Cp\u003E\nI have a button that I press called \u0022Turn On\u0022 and when I click on it it gives me current in game data once.\n\u003C/p\u003E\n\u003Cp\u003E\nHow do I have it give me current constant data like, the science parts giving temperature or atmospheric information?\n\u003C/p\u003E\n\u003Cp\u003E\nI have KSPField determine the variable, but it needs to run within a KSPEvent to add the button and only updates on pressing the button.\n\u003C/p\u003E\n\u003Cp\u003E\nI want to take away the button and just have it update the number automatically.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help is appreciated\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eomg. 2 minutes after I figure it out. Sorry\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-29T01:01:59Z\u0022 title=\u002203/29/2021 01:01  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 29, 2021\u003C/time\u003E by Anth12\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2021-03-29T01:07:33Z","Content":"\n\u003Cp\u003E\nCan we see your code?\n\u003C/p\u003E\n"},{"CreatedByName":"Anth","CreatedById":161238,"CreatedDateTime":"2021-03-29T03:17:50Z","Content":"\n\u003Cp\u003E\nusing UnityEngine;\n\u003C/p\u003E\n\u003Cp\u003E\nnamespace Example\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 \u00A0 class ExampleModule : PartModule\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 public static void Log(string message)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 //Debug.Log(\u0022Example:\u0022 \u002B message);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 [KSPField(isPersistant = false, guiActive = true)]\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 public float exampleFloat = 0;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 public override void OnUpdate()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 exampleFloat = this.part.persistentId;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 [KSPAddon(KSPAddon.Startup.Flight, false)]\u003Cbr\u003E\n\u00A0 \u00A0 public class Example : MonoBehaviour\u003Cbr\u003E\n\u00A0 \u00A0 {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 public static void Log(string message)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 //Debug.Log(\u0022Example:\u0022 \u002B message);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 public void Start()\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 if (HighLogic.LoadedSceneIsFlight)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 for (var i = 0; i \u0026lt; FlightGlobals.Vessels.Count; i\u002B\u002B)\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 for (var j = 0; j \u0026lt; FlightGlobals.Vessels\u003Cem\u003E.parts.Count; j\u002B\u002B)\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 for (int k = 0; k \u0026lt; FlightGlobals.Vessels\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].Modules.Count; k\u002B\u002B)\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Log(FlightGlobals.Vessels\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].Modules[k].moduleName);\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 if (FlightGlobals.Vessels\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].Modules[k].moduleName == \u0022ModuleCargoPart\u0022 || FlightGlobals.Vessels\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].Modules[k].moduleName == \u0022ModulePartVariants\u0022 || FlightGlobals.Vessels\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].Modules[k].moduleName == \u0022ModuleIRVariant\u0022)\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 {\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 FlightGlobals.Vessels\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E.parts[j].AddModule(\u0022ExampleModule\u0022, false);\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n\u00A0 \u00A0 }\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003E\n}\n\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\nThat\u0027s an example of what the code is. Dont want to show what its for yet.\n\u003C/p\u003E\u003Cp\u003E\nOnUpdate was what I was missing.\u00A0\n\u003C/p\u003E\n"}]}