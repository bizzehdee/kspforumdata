{"TopicId":69505,"ForumId":29,"TopicTitle":"[RFC] New Heightmap PQSMod","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-16T05:53:13Z","PageNum":1,"Articles":[{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-16T05:53:13Z","Content":"\n\u003Cp\u003EThis is a request for all the smart knowledgeable coders out there to share their thoughts/ideas on this. Not a \u0022do it for me\u0022 by any means (although if you want to contribute code, awesome!)\u003C/p\u003E\u003Cp\u003EBasically, RSS needs better heightmaps. While a paging heightmap PQSMod would be the best solution, it\u0027s considerably more complex, so I\u0027m looking into creating a 16bit-supporting one instead, and also (since I can load data directly rather than going via Texture2D) supporting resolutions \u0026gt;8192x4096.\u003C/p\u003E\u003Cp\u003ESo what I\u0027m currently interested in is this. Are there any high-performance compression/decompression algorithms I should consider using? Since heightmaps will tend to have some level areas, even lossless compression should offer an advantage--presuming the performance hit is not too high. (Further, is there a lossy algorithm that would not lose too much and thus defeat the purpose, where heightmaps are concerned?)\u003C/p\u003E\u003Cp\u003EEven if the maps need to remain uncompressed, going to 16bit gray will only double the memory requirements (and, if perhaps my code has less overhead than MapSO, it might end up better than that ratio).\u003C/p\u003E\u003Cp\u003EAnother question: how should filtering be done? I presume I will need to filter *some* when getting pixels--we don\u0027t want nearest neighbor for heightmaps! However, something more intelligent than bilinear would probably be nice, as we *also* don\u0027t want to just blend the thing--sharp edges should be better preserved.\u003C/p\u003E\u003Cp\u003EThird question: am I forgetting anything obvious/dangerous that you ought to tell me about?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-04-17T19:08:56Z","Content":"\n\u003Cp\u003EInteresting... I myself am adding a PQSMod that adds Tangent information to the built/updated Quads. However, huge textures like that eat up memory REALLY fast, and seeing the bugs on EVE regarding 8K textures and Mac OS have led me to believe they may not be usable on certain systems.\u003C/p\u003E\u003Cp\u003EHave you considered using a Per-RootQuad map? It would be marginally more complex, at most you would have 3 loaded at a time, and you could unload them once the Root is unloaded. You could even generate a massive regular height map in PS, and then use a Equirectangular 2 Cubic plugin or app to split it into the proper images.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-18T02:17:45Z","Content":"\n\u003Cp\u003EHmm, that\u0027s a very interesting suggestion! Makes a lot of sense.\u003C/p\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2014-04-20T13:13:06Z","Content":"\n\u003Cp\u003EGood luck with your efforts Nathan. Here are my 2 cents.\u003C/p\u003E\u003Cp\u003EYou probably want some sort of image pyramid for filtering or you will run into aliasing issues. \u003C/p\u003E\u003Cp\u003EAlso, i have to link to this page \u003Ca href=\u0022http://vterrain.org/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://vterrain.org/\u003C/a\u003E. Perhaps you find some inspiration there.\u003C/p\u003E\u003Cp\u003EMoreover you\u0027ll spot compression artifacts in terrain much more easily than in images. Therefore i\u0027d say that compression won\u0027t be very effective.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-20T13:22:28Z\u0022 title=\u002204/20/2014 01:22  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 20, 2014\u003C/time\u003E by DaMichel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"comham","CreatedById":43245,"CreatedDateTime":"2014-04-20T13:24:54Z","Content":"\n\u003Cp\u003EPresumably any improvement to terrain in RSS could also be used to improve the stock planets? I\u0027ll keep my eye on this.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-21T03:12:30Z","Content":"\n\u003Cp\u003EDaMichel: yeah, I\u0027ll have to do a check to see if I can find a good, fast filtering algorithm. Haven\u0027t been to VTerrain since I was doing my thesis; it seemed a bit outdated then but maybe it\u0027s been updated.\u003C/p\u003E\u003Cp\u003Ecomham: yeah, although there the heightmap resolution is already sufficient...\u003C/p\u003E\n"},{"CreatedByName":"comham","CreatedById":43245,"CreatedDateTime":"2014-04-21T18:51:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EDaMichel: yeah, I\u0027ll have to do a check to see if I can find a good, fast filtering algorithm. Haven\u0027t been to VTerrain since I was doing my thesis; it seemed a bit outdated then but maybe it\u0027s been updated.\u003Cp\u003Ecomham: yeah, although there the heightmap resolution is already sufficient...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI consider 1m/px sufficient \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"}]}