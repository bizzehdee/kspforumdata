{"TopicId":7598,"ForumId":29,"TopicTitle":"How to compile C# files using csc.exe from .NET Framework","CreatedByName":"ForumHelper","CreatedById":8635,"CreatedDateTime":"2012-03-04T21:26:18Z","PageNum":1,"Articles":[{"CreatedByName":"ForumHelper","CreatedById":8635,"CreatedDateTime":"2012-03-04T21:26:18Z","Content":"\n\u003Cp\u003EIn order to compile your C# files without using software like SharpDevelop or MonoDevelop on Windows, you can use csc.exe, which stands for C# compiler. It is provided with every installation of .NET Framework.\u003C/p\u003E\u003Cp\u003EAll you have to do is right click on\u003Cstrong\u003E \u0027My Computer\u0027 \u003C/strong\u003E-\u0026gt; \u003Cstrong\u003E\u0027Properties\u0027\u003C/strong\u003E -\u0026gt; \u003Cstrong\u003E\u0027Advanced\u0027\u003C/strong\u003E -\u0026gt; \u003Cstrong\u003E\u0027Environment Variables\u0027\u003C/strong\u003E -\u0026gt; find \u003Cstrong\u003E\u0027Path\u0027\u003C/strong\u003E in system variables and add \u003Cstrong\u003E\u0027;%systemroot%\\Microsoft.NET\\Frameworkv3.5\u0027\u003C/strong\u003E there, without \u0027\u0027. v3.5 is the .NET version, you can change it to any you have.\u003C/p\u003E\u003Cp\u003ENow, in order to compile your .cs file(which you can create in notepad for example, remember to save it with .cs extension), click on \u003Cstrong\u003E\u0027Start\u0027\u003C/strong\u003E-\u0026gt;\u003Cstrong\u003E\u0027Run\u0027\u003C/strong\u003E-\u0026gt;\u003Cstrong\u003E\u0027cmd\u0027\u003C/strong\u003E. Remember to copy UnityEngine.dll and Assembly-CSharp.dll from KSP\u0027s folder(found in \\KSP\\KSP_Data\\Managed) to the folder with your .cs file.\u003C/p\u003E\u003Cp\u003ENext, navigate to your .cs file by using \u0027cd\u0027 command(for ex. cd c:\\CSharp) and type:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0027csc /r:UnityEngine.dll /r:Assembly-CSharp.dll /t:library /out:myfile.dll filename.cs\u0027\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u0027myfile.dll\u0027 is the name of your compiled .dll and \u0027filename.cs\u0027 is your C# code.\u003C/p\u003E\u003Cp\u003EYou\u0027ll find your .dll in the same folder as \u0027filename.cs\u0027.\u003C/p\u003E\u003Cp\u003EEnjoy!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-14T16:42:56Z\u0022 title=\u002210/14/2012 04:42  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 14, 2012\u003C/time\u003E by ForumHelper\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blspblackdeath","CreatedById":20067,"CreatedDateTime":"2012-10-13T16:57:00Z","Content":"\n\u003Cp\u003EThanks you helped me a lot.\u003C/p\u003E\n"},{"CreatedByName":"ForumHelper","CreatedById":8635,"CreatedDateTime":"2012-10-14T16:40:54Z","Content":"\n\u003Cp\u003EBecause you\u0027ve actually spent time searching for this, I\u0027m going to edit it and make it readable again:)\u003C/p\u003E\n"},{"CreatedByName":"6677","CreatedById":890,"CreatedDateTime":"2012-10-15T20:02:37Z","Content":"\n\u003Cp\u003EI was wondering why csc.exe didnt work on my system, too late though as I just bundled everything into a visual studio solution instead which is the IDE I like to use anyway so did the job fine\u003C/p\u003E\n"},{"CreatedByName":"Echo 8 \u00C3\u0192\u00E2\u20AC\u00B0R\u00C3\u0192\u00E2\u201A\u00AC","CreatedById":37973,"CreatedDateTime":"2012-10-18T02:48:24Z","Content":"\n\u003Cp\u003EPersonally, if I were to be building my stuff on the command line, I would just write a batch file like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESETLOCAL\u003Cbr\u003E\u003Cbr\u003EREM -- Naturally, change these paths to match your setup.\u003Cbr\u003ESET KSPData=E:\\Program Files\\KSP\\KSP_Data\\Managed\u003Cbr\u003ESET CompilerDir=C:\\Windows\\Microsoft.Net\\Framework\\v4.0.30319\u003Cbr\u003E\u003Cbr\u003EREM -- If the source file has a space in its filename, surround the filename with double quotes.\u003Cbr\u003ESET SourceFiles={Source File 1} {Source File 2} {etc.}\u003Cbr\u003E\u003Cbr\u003EREM -- Note the references to System.dll, System.Core.dll and mscorlib.dll that exist in your KSP folder. The /nostdlib\u003Cbr\u003EREM -- and /noconfig flags stop the compiler from adding references to these automatically. If you didn\u0027t do that, the\u003Cbr\u003EREM -- compiler would link in the .Net 4.0 version of DLLs and KSP doesn\u0027t like those.\u003Cbr\u003ESET References=\u0022/r:%KSPData%\\Assembly-CSharp.dll\u0022 \u0022/r:%KSPData%\\UnityEngine.dll\u0022 \u0022/r:%KSPData%\\mscorlib.dll\u0022 \u0022/r:%KSPData%\\System.dll\u0022 \u0022/r:%KSPData%\\System.Core.dll\u0022\u003Cbr\u003E\u003Cbr\u003EREM -- Change MyPlugin.dll to whatever you want your DLL to be named.\u003Cbr\u003E\u0022%CompilerDir%\\csc\u0022 /t:library /out:MyPlugin.dll /o /nostdlib /noconfig %References% %SourceFiles%\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Tempest","CreatedById":66963,"CreatedDateTime":"2013-05-25T06:49:26Z","Content":"\n\u003Cp\u003ESo I\u0027m trying to edit a mod that has a source folder with a bunch of .cs files. I only need to edit little bit of one of those files though. How do I go about compiling a new .dll from this source folder with multiple .cs files?\u003C/p\u003E\n"},{"CreatedByName":"6677","CreatedById":890,"CreatedDateTime":"2013-05-26T12:03:12Z","Content":"\n\u003Cp\u003EYou can combine the files into one if you wish. Or I prefer to use visual studio\u003C/p\u003E\n"},{"CreatedByName":"astronutkhillips","CreatedById":67981,"CreatedDateTime":"2013-05-27T01:37:19Z","Content":"\n\u003Cp\u003EJust add the other .cs files to the command line:\u003C/p\u003E\u003Cp\u003Ecsc /r:UnityEngine.dll /r:Assembly-CSharp.dll /t:library /out:myfile.dll filename.cs otherfile.cs someotherfile.cs\u003C/p\u003E\u003Cp\u003EBut, yes, use visual studio express. It is a lot easier.\u003C/p\u003E\n"},{"CreatedByName":"Fel","CreatedById":57121,"CreatedDateTime":"2013-05-27T03:41:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022astronutkhillips\u0022 data-cite=\u0022astronutkhillips\u0022\u003E\u003Cdiv\u003EJust add the other .cs files to the command line:\u003Cp\u003Ecsc /r:UnityEngine.dll /r:Assembly-CSharp.dll /t:library /out:myfile.dll filename.cs otherfile.cs someotherfile.cs\u003C/p\u003E\u003Cp\u003EBut, yes, use visual studio express. It is a lot easier.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E*.cs usually works as well\u003C/p\u003E\n"}]}