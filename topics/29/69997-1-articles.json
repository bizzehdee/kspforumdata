{"TopicId":69997,"ForumId":29,"TopicTitle":"Help with adding toolbar to protractor","CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T03:00:00Z","PageNum":1,"Articles":[{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T03:00:00Z","Content":"\n\u003Cp\u003EI hope that I can find help here, I don\u0027t know much about programming though I am trying to learn and I figured I would try to put the Toolbar functionality into the Protractor module. and I am positive I have borked things pretty bad. When I run debug it pops one error message about\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclass ProtractorButtton : MonoBehavior\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eregaurding the MonoBehavior...\u003C/p\u003E\u003Cp\u003EI created a fork at \u003Ca href=\u0022https://github.com/mrwizerd/protractor\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/mrwizerd/protractor\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMy first goal was to get toolbar in and working, then figure out how to remove the old toolbutton. Any help would be appreciated.\u003C/p\u003E\u003Cp\u003EI am not sure if it will find other problems, but if I can figure out how to get it in then how to get the rest out... I am a total noob though so I don\u0027t know if I will be successful.\u003C/p\u003E\u003Cp\u003EI hope this is not the wrong place, as I already have posted elsewhere and was redirected here. Thanks in advance for all the help!\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2014-04-21T05:00:35Z","Content":"\n\u003Cp\u003EIt is actualy easier than you think.\u003C/p\u003E\u003Cp\u003EYou need to reference the toolbar.dll to the project.\u003C/p\u003E\u003Cp\u003EYou can replace your button by\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprivate IButton _Buttontoolbar;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd set it like that.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E_Buttontoolbar = ToolbarManager.Instance.add(\u0022pluginname\u0022, \u0022buttonname\u0022);\u003Cbr\u003E            _Buttontoolbar.TexturePath = \u0022image/url/from/gamedata\u0022;\u003Cbr\u003E            _Buttontoolbar.ToolTip = \u0022tooltip to display\u0022;\u003Cbr\u003E            _Buttontoolbar.OnClick \u002B= (e) =\u0026gt; actiontodo(_Buttontoolbar);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/tree/master/TestButtons\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E of toolbar have a few easy example.\u003C/p\u003E\u003Cp\u003EFrom my browsing on the forum it seems that some people does not like being force to have the toolbar, so since you already have a standalone version working, I would keep it and have the toolbar as an option for user to choose.\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T05:52:45Z","Content":"\n\u003Cp\u003EAh, well I didn\u0027t know that was a possibility. I had hoped I could get the actual author of the mod to put it in, but he has not responded so, trying to take it on my self. I fear at this point I have more than completely borked the code... I think I may just have to spend a couple of weeks actually learning how to code in c# all together... I understand some of it, I have a descent background in basic, and html, and I have been able to do small things in php, mostly just edits, and I have SOME c\u002B experience but not much and ALL of it is years old, so I am basically getting on a whole separate animal and trying to reteach this old dog new tricks.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-04-21T07:36:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022UbioZur\u0022 data-cite=\u0022UbioZur\u0022\u003E\u003Cdiv\u003EFrom my browsing on the forum it seems that some people does not like being force to have the toolbar\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd this is why you do \u003Cstrong\u003Enot\u003C/strong\u003E add a hard reference to toolbar.dll, but instead copy \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Wrapper/ToolbarWrapper.cs\u0022 rel=\u0022external nofollow\u0022\u003Ethis file\u003C/a\u003E into your project. Everything else stays pretty much the same, but you also wrap it in an \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif(ToolbarManager.ToolbarAvailable){ ... }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T08:12:35Z","Content":"\n\u003Cp\u003EOk, I follow on the using the file as a sort of plugin for this mode to tell it to use it if its there, I will attempt to find the proper way to wrap it in...\u003C/p\u003E\n"},{"CreatedByName":"UbioZur","CreatedById":72946,"CreatedDateTime":"2014-04-21T12:11:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EAnd this is why you do \u003Cstrong\u003Enot\u003C/strong\u003E add a hard reference to toolbar.dll, but instead copy \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Wrapper/ToolbarWrapper.cs\u0022 rel=\u0022external nofollow\u0022\u003Ethis file\u003C/a\u003E into your project. Everything else stays pretty much the same, but you also wrap it in an \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif(ToolbarManager.ToolbarAvailable){ ... }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll keep that too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E good to know, thanks Faark!\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-04-21T19:06:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrWizerd\u0022 data-cite=\u0022MrWizerd\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eclass ProtractorButtton : MonoBehavior\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EShouldn\u0027t this be \u0022MonoBehaviour?\u0022 (note the U)\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T20:45:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EShouldn\u0027t this be \u0022MonoBehaviour?\u0022 (note the U)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDear lord, I was so focused on the code, I didn\u0027t think to look for a missing keystroke, Thanks blizzy78 that fixed that issue... I will get this eventually. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-04-21T23:05:32Z","Content":"\n\u003Cp\u003EOk, So I am starting over and attempting to set it up with the wrapper. I have downloaded and placed the wrapper, and renamed the namespace. Do I still need to get the other files, (i.e. toobarmanager, itoolbarmanager, ibutton, ivisibility, gamescenesvisibility) or are they all included in the wrap? Also, I assume that I just need to add the button code after the if statement? sorry... I am just trying to fully wrap my head around the inclusion of the wrapper. thanks again for the help\u003C/p\u003E\n"},{"CreatedByName":"Trueborn","CreatedById":65830,"CreatedDateTime":"2014-04-23T22:42:45Z","Content":"\n\u003Cp\u003EYou don\u0027t need the other source files; you aren\u0027t compiling toolbar itself into your code. You just need the toolbar dll and the wrapper. Then you check to see if the toolbar dll is present through the wrapper. If it is, proceed with building your button. If it isn\u0027t, then build the old style button instead.\u003C/p\u003E\n"}]}