{"TopicId":84725,"ForumId":29,"TopicTitle":"ArgumentOutOfRangeException: Argument is out of range. Parameter name: index","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-16T05:50:31Z","PageNum":1,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-16T05:50:31Z","Content":"\n\u003Cp\u003EHi All,\u003C/p\u003E\u003Cp\u003EI have the following code in my Update() method in my main KSP plugin class. This code is all there is at the moment, as I\u0027m in the middle of debugging. Yes, I am aware this will create a maneuver node at each frame: bear with me.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E            Vector3d deltaV = new Vector3d(1.0, 1.0, 1.0);\u003Cbr\u003E            double ut = Planetarium.GetUniversalTime();\u003Cbr\u003E            ManeuverNode isUseNode = FlightGlobals.ActiveVessel.patchedConicSolver.AddManeuverNode(ut);\u003Cbr\u003E            isUseNode.OnGizmoUpdated(deltaV, ut);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen this code executes, my debug log is spammed with loads the following errors:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[EXC 22:49:11.478] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.480] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.480] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.480] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.480] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.481] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.481] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.481] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.481] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.491] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.492] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.493] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.493] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.493] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.493] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.494] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.494] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.494] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.502] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.504] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.504] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.504] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.505] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.505] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.505] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.505] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.506] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.512] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.514] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.514] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.514] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.515] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.515] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.515] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.515] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.516] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.530] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.531] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.531] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.532] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.532] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.532] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.532] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.533] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.533] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.546] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.548] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.548] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.548] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.548] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.549] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.549] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.549] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.549] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.563] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.565] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.565] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.565] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.565] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.566] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.566] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.566] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.566] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.580] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.581] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.581] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.582] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.582] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.582] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.582] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.582] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.583] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.596] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.598] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.598] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.598] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.598] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.599] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.599] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.599] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.599] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.612] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.613] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.613] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.614] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.614] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.614] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.614] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.615] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.615] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.629] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.631] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.631] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.631] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.632] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.632] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.632] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.632] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.633] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.646] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E[LOG 22:49:11.648] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.648] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.648] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.648] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.649] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.649] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.649] Look rotation viewing vector is zero\u003Cbr\u003E[LOG 22:49:11.649] Look rotation viewing vector is zero\u003Cbr\u003E[EXC 22:49:11.663] ArgumentOutOfRangeException: Argument is out of range.\u003Cbr\u003EParameter name: index\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd so on forever. The Exception is being thrown in KSP\u0027s code, not in my plugin.\u003C/p\u003E\u003Cp\u003EAnyone know what could be causing this? There is literally no other code running in my project except those four lines. Mine you, executing those four lines elsewhere in the project also seems to throw the same errors above, which is the real issue I\u0027m trying to solve. It is very puzzling to say the least. Can someone help?\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2014-09-16T18:16:32Z","Content":"\n\u003Cp\u003EProbably this is off-base, but what if you try to place the maneuver node a bit in the future, instead of right at the present? E.g.:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edouble ut = Planetarium.GetUniversalTime() \u002B 10;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-09-16T18:44:21Z","Content":"\n\u003Cp\u003ECan you look in output_log.txt instead and get the call stack of the exception? It may shed a little more light...\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-17T00:17:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The_Duck\u0022 data-cite=\u0022The_Duck\u0022\u003E\u003Cdiv\u003EProbably this is off-base, but what if you try to place the maneuver node a bit in the future, instead of right at the present? E.g.:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edouble ut = Planetarium.GetUniversalTime() \u002B 10;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, no effect. I still get the same error.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003ECan you look in output_log.txt instead and get the call stack of the exception? It may shed a little more light...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I posted \u003Cem\u003Ewas\u003C/em\u003E from the output log, sadly. There is no stack trace, just what I displayed, over and over again. I wish a developer could see this, because I suspect it\u0027s something internal to KSP that\u0027s going wrong...\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-09-17T00:52:56Z","Content":"\n\u003Cp\u003EAre you sure you\u0027re looking at the right log? I get similar exception spam if I run your code while the ship is landed:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EArgumentOutOfRangeException: Argument is out of range. Parameter name: index\u003Cbr\u003E  at System.Collections.Generic.List\u00601[PatchRendering].get_Item (Int32 index) [0x00000] in \u0026lt;filename unknown\u0026gt;:0    \u003Cbr\u003Eat OrbitTargeter.ReferencePatchSelect () [0x00000] in \u0026lt;filename unknown\u0026gt;:0   \u003Cbr\u003E at OrbitTargeter.LateUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut it works fine in orbit.\u003C/p\u003E\u003Cp\u003EYou can also enable stack-traces in the Alt\u002BF2 menu with a debug setting in the game\u0027s config\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-09-17T03:24:14Z","Content":"\n\u003Cp\u003EHey thanks! I found the verbose debug information and was able to confirm everything you said (works in orbit, not landed, etc). I\u0027ve added a bug to the KSP issue tracker so the devs can take a look: \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/3044\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/3044\u003C/a\u003E\u003C/p\u003E\n"}]}