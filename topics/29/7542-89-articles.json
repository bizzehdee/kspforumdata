{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":89,"Articles":[{"CreatedByName":"RoyalVengeance","CreatedById":151487,"CreatedDateTime":"2016-06-21T18:29:44Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E\u00A0Didn\u0027t even realized there was a moddeling section XD thanks !\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Z-Key Aerospace","CreatedById":138926,"CreatedDateTime":"2016-06-22T21:59:12Z","Content":"\n\u003Cp\u003E\nCould some one please tell me what happened to \u0022Staging\u0022?\n\u003C/p\u003E\n\u003Cp\u003E\nBetween 1.1.2 and 1.1.3 it seems to have moved or gone.\n\u003C/p\u003E\n\u003Cp\u003E\nThere used to be a public class in Assembly-CSharp and now I just get \u0022The name \u0027Staging\u0027 does not exist in the current context\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nSure I just being dumb but if some one could enlighten me that would be wonderful.\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-06-22T22:38:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222642501\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466632752\u0022 data-ipsquote-userid=\u0022138926\u0022 data-ipsquote-username=\u0022Z-Key Aerospace\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, Z-Key Aerospace said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCould some one please tell me what happened to \u0022Staging\u0022?\n\u003C/p\u003E\n\u003Cp\u003E\nBetween 1.1.2 and 1.1.3 it seems to have moved or gone.\n\u003C/p\u003E\n\u003Cp\u003E\nThere used to be a public class in Assembly-CSharp and now I just get \u0022The name \u0027Staging\u0027 does not exist in the current context\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nSure I just being dumb but if some one could enlighten me that would be wonderful.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe it was superseded in 1.1.0 by KSP.UI.Screens.StageManager but the old Staging class wasn\u0027t removed until 1.1.3.\n\u003C/p\u003E\n"},{"CreatedByName":"Z-Key Aerospace","CreatedById":138926,"CreatedDateTime":"2016-06-22T22:39:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222642567\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466635088\u0022 data-ipsquote-userid=\u002297386\u0022 data-ipsquote-username=\u0022Padishar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Padishar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI believe it was superseded in 1.1.0 by KSP.UI.Screens.StageManager but the old Staging class wasn\u0027t removed until 1.1.3.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"Vlos","CreatedById":76954,"CreatedDateTime":"2016-06-23T17:59:00Z","Content":"\n\u003Cp\u003E\nI\u00B4m using the EditorGizmos.GizmoRotate and EditorGizmos.GizmoOffset to move and rotate objets in the flight scene with this code (for Offset):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Egofs = EditorGizmos.GizmoOffset.Attach(loadedTrack.cpList[editionCp].transform, rCompTran, rCompTran);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNow in KSP 1.1.3 using same code there are no errors logged, the transform.position seem correct, but the gizmos does not show at all.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there any change on gizmo behaviour?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:8px;\u0022\u003E(blame google for confusing translation!)\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-07-12T04:38:46Z","Content":"\n\u003Cp\u003E\nI have a menu that displays some information about Kerbals on my ship such as what their name is, their trait. \u00A0I also want to use two buttons: \u00A0EVA and Crew Transfer. \u00A0I just figured out how to initialize the EVA ( \u003Cfont face=\u0022Monospace\u0022\u003E \u003Cspan style=\u0022color:#3364a4;\u0022\u003EFlightEVA\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ESpawnEVA\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EProtoCrewMember\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EKerbalRef\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E) for reference)\u003C/span\u003E\u003C/font\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the crew transfer, I\u0027ve checked out Sarbian\u0027s\u00A0\u003Ca href=\u0022https://github.com/sarbian/CrewManifest\u0022 rel=\u0022external nofollow\u0022\u003ECrew Manifest\u003C/a\u003E and going by the API, it looks like I should be looking at the \u003Ca href=\u0022http://docuwiki-kspapi.rhcloud.com/#/classes/CrewTransfer\u0022 rel=\u0022external nofollow\u0022\u003EMonobehaviour.CrewTransfer class, specifically the Create(Part, ProtoCrewMember, Callback\u0026lt;CrewTransfer.DismissAction\u0026gt;) method\u003C/a\u003E. \u00A0However, Sarbian\u0027s code doesn\u0027t seem to match up with that class and I\u0027m not sure why, specifically \u003Ca href=\u0022https://github.com/sarbian/CrewManifest/blob/a1ac49d6e5c547bc175b00623e4e220faff119e8/CrewManifest/CrewManifestModule.cs#L190-204\u0022 rel=\u0022external nofollow\u0022\u003Elines 190-204 of CrewManifestModule\u003C/a\u003E. \u00A0Indeed, he doesn\u0027t seem to use it in any of his code. \u00A0Can anyone explain why he would need to create his own class instead of using the one with KSP? \u00A0Or what the Callback method/pointer is for?\n\u003C/p\u003E\n\u003Cp\u003E\nTo give reference to what I\u0027m envisioning, I\u0027d want the user to press the Transfer button next to the Kerbal\u0027s name (which will already have access to the ProtoCrewMember of that Kerbal) and then click on the part that they want to transfer to. \u00A0Basically identical to the right-click context menu\u0027s Crew Transfer but in my own GUI window.\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-07-12T04:47:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222672130\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468298326\u0022 data-ipsquote-userid=\u0022150801\u0022 data-ipsquote-username=\u0022Tralfagar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Tralfagar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a menu that displays some information about Kerbals on my ship such as what their name is, their trait. \u00A0I also want to use two buttons: \u00A0EVA and Crew Transfer. \u00A0I just figured out how to initialize the EVA ( \u003Cfont face=\u0022Monospace\u0022\u003E \u003Cspan style=\u0022color:#3364a4;\u0022\u003EFlightEVA\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ESpawnEVA\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EProtoCrewMember\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EKerbalRef\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E) for reference)\u003C/span\u003E\u003C/font\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the crew transfer, I\u0027ve checked out Sarbian\u0027s\u00A0\u003Ca href=\u0022https://github.com/sarbian/CrewManifest\u0022 rel=\u0022external nofollow\u0022\u003ECrew Manifest\u003C/a\u003E and going by the API, it looks like I should be looking at the \u003Ca href=\u0022http://docuwiki-kspapi.rhcloud.com/#/classes/CrewTransfer\u0022 rel=\u0022external nofollow\u0022\u003EMonobehaviour.CrewTransfer class, specifically the Create(Part, ProtoCrewMember, Callback\u0026lt;CrewTransfer.DismissAction\u0026gt;) method\u003C/a\u003E. \u00A0However, Sarbian\u0027s code doesn\u0027t seem to match up with that class and I\u0027m not sure why, specifically \u003Ca href=\u0022https://github.com/sarbian/CrewManifest/blob/a1ac49d6e5c547bc175b00623e4e220faff119e8/CrewManifest/CrewManifestModule.cs#L190-204\u0022 rel=\u0022external nofollow\u0022\u003Elines 190-204 of CrewManifestModule\u003C/a\u003E. \u00A0Indeed, he doesn\u0027t seem to use it in any of his code. \u00A0Can anyone explain why he would need to create his own class instead of using the one with KSP? \u00A0Or what the Callback method/pointer is for?\n\u003C/p\u003E\n\u003Cp\u003E\nTo give reference to what I\u0027m envisioning, I\u0027d want the user to press the Transfer button next to the Kerbal\u0027s name (which will already have access to the ProtoCrewMember of that Kerbal) and then click on the part that they want to transfer to. \u00A0Basically identical to the right-click context menu\u0027s Crew Transfer but in my own GUI window.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPretty much what \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/10788-papa_joe/\u0026amp;do=hovercard\u0022 data-mentionid=\u002210788\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/10788-papa_joe/\u0022 rel=\u0022\u0022\u003E@Papa_Joe\u003C/a\u003E does in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/56643-113-ship-manifest-crew-science-resources-v-5111-08-jul-16/\u0022 rel=\u0022\u0022\u003EShip Manifest\u003C/a\u003E then.\n\u003C/p\u003E\n"},{"CreatedByName":"Papa_Joe","CreatedById":10788,"CreatedDateTime":"2016-07-12T13:09:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222672139\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468298825\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPretty much what \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/10788-papa_joe/\u0026amp;do=hovercard\u0022 data-mentionid=\u002210788\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/10788-papa_joe/\u0022 rel=\u0022external\u0022\u003E@Papa_Joe\u003C/a\u003E does in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/56643-113-ship-manifest-crew-science-resources-v-5111-08-jul-16/\u0022 rel=\u0022\u0022\u003EShip Manifest\u003C/a\u003E then.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe reason I do not use the class \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150801-tralfagar/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022150801\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/150801-tralfagar/\u0022 rel=\u0022external\u0022\u003E@Tralfagar\u003C/a\u003E\u00A0mentioned is 1) \u00A0It did not exist when these mods were created, and 2), it does not give me sufficient resolution for my needs. \u00A0The class works just fine, but does not give you the ability to pick a specific seat, nor does it allow for crew swaps. \u00A0In ShipManifest, I account for both. \u00A0Therefore I\u0027ve continued to use the method similar to CrewManifest, but with several enhancements. \u00A0ShipManifest will allow seat to seat transfers within the same part, and part to part transfers\u00A0(including swapping crew members if the seat/part is full in both cases). \u00A0Additionally, in Realism mode, I\u0027ve also included sounds and a delay to simulate the time needed to move from part to part or seat.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally, I\u0027ve included support for \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/122126\u0022 rel=\u0022\u0022\u003EConnectedLivingSpace\u003C/a\u003E, When in realism mode and with CLS enalbled within SM, transfers now respect whether or not the parts have an internal connection to each other. if not, then the transfer must be accomplished by\u00A0EVA. \u00A0hmm... you gave me an idea. \u00A0if you cannot transfer internally, I could change the xfer button to initiate an eva instead...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUpdate. \u00A0I\u0027ve added the capability to send a Kerbal EVA in realism mode if CLS prevents an internal transfer. \u00A0I will be releasing this feature soon in a point upgrade. \u00A0 thanks for giving me this great idea.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/150801-tralfagar/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022150801\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/150801-tralfagar/\u0022 rel=\u0022\u0022\u003E@Tralfagar\u003C/a\u003E\u00A0feel free to look over and leverage any of the code you see of value in SM. \u00A0I hope it helps you in some small way. \u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-12T18:07:14Z\u0022 title=\u002207/12/2016 06:07  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 12, 2016\u003C/time\u003E by Papa_Joe\u003C/strong\u003E\n\u003Cbr\u003Egrammer, spelling, clarifications\n\u003C/span\u003E\n"},{"CreatedByName":"hab136","CreatedById":75997,"CreatedDateTime":"2016-07-15T09:38:58Z","Content":"\n\u003Cp\u003E\nFrom a recent devnotes:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022 style=\u0022background-image:none;background-position:0% 0%;background-repeat:repeat;\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003Ecode optimisations: removing foreach() loops and linq statements. It\u2019s a very technical story, but ultimately it will help run the game more smoothly by reducing the amount of \u2018garbage\u2019 that is created in the memory and that has to be removed regularly.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, uh.. I guess mod developers should be doing this too?\n\u003C/p\u003E\n\u003Cp\u003E\nI just looked and one of my OnUpdate()\u0027s has nested\u00A0foreach() loops:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eforeach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E pumpRes in part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EResources\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  foreach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E shipPart in vessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EParts\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    foreach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E shipPartRes in shipPart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EResources\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhat should we be replacing foreach() with?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso if I\u0027m not using \u0022from\u0022 or \u0022select\u0022 then I\u0027m not using linq, right? \u00A0Anything else to look out for to avoid making garbage that needs to be collected?\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-07-15T10:17:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676977\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468575538\u0022 data-ipsquote-userid=\u002275997\u0022 data-ipsquote-username=\u0022hab136\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, hab136 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFrom a recent devnotes:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, uh.. I guess mod developers should be doing this too?\n\u003C/p\u003E\n\u003Cp\u003E\nI just looked and one of my OnUpdate()\u0027s has nested\u00A0foreach() loops:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Eforeach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E pumpRes in part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EResources\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  foreach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E shipPart in vessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EParts\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    foreach \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EPartResource\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E shipPartRes in shipPart\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EResources\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhat should we be replacing foreach() with?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso if I\u0027m not using \u0022from\u0022 or \u0022select\u0022 then I\u0027m not using linq, right? \u00A0Anything else to look out for to avoid making garbage that needs to be collected?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDepends. foreach is OK if you are using Visual Studio. replace them with for loops if you want.\u003Cbr\u003E\nThe most efficient is:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efor (int i = \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;something\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.Length - 1; i \u0026gt;= 0; --i)\n                \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIF you have the following then you are using linq somewhere.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eusing System.Linq;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThere are lots of things that are bad. Another is strings.\u003Cbr\u003E\nAnother useful links I found. But just google...\u003Cbr\u003E\u003Ca href=\u0022http://www.gamasutra.com/blogs/WendelinReich/20131109/203841/C_Memory_Management_for_Unity_Developers_part_1_of_3.php\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.gamasutra.com/blogs/WendelinReich/20131109/203841/C_Memory_Management_for_Unity_Developers_part_1_of_3.php\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-07-15T12:11:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676999\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468577823\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDepends. foreach is OK if you are using Visual Studio.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is only true if the GetEnumerator function of the object you are doing it on returns a struct type. \u00A0If it returns a class type or an interface then it will cause garbage with any compiler. \u00A0System classes like List\u0026lt;T\u0026gt; do return a struct but some of the KSP classes that are basically a wrapper around a List\u0026lt;T\u0026gt; return an interface (e.g. PartResourceList). \u00A0These are on the list for fixing for KSP 1.2 though with that sort of nesting, you will probably get better performance with plain for loops (using foreach also requires the code to make two function calls to the enumerator object every time around the loop).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676999\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468577823\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe most efficient is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Efor (int i = \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;something\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E.Length - 1; i \u0026gt;= 0; --i)\u003C/span\u003E\u003C/pre\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBear in mind that this will go through the list in the opposite order, which may affect what your code does. \u00A0To go forwards through the list do:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nint count = \u0026lt;something\u0026gt;.Length; // (or .Count or whatever works for the object concerned)\nfor (int i = 0; i \u0026lt; count; \u002B\u002Bi)\n\u003C/pre\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676977\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468575538\u0022 data-ipsquote-userid=\u002275997\u0022 data-ipsquote-username=\u0022hab136\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, hab136 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just looked and one of my OnUpdate()\u0027s has nested\u00A0foreach() loops:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDoing that on every update is probably affecting the performance of the game quite considerably. \u00A0You would be better off looking for another way to do what you are doing, e.g. by caching a list of the things you actually need to loop through and use relevant GameEvents to trigger updates of the list.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-07-15T13:26:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676999\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468577823\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIF you have the following then you are using linq somewhere.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Eusing System.Linq;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot necessarily, since VS adds that to the using list by default.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the quickest way to check if you are using Linq is to delete that using line if it\u0027s there. Then everything with Linq will have errors. And there are many more things other than the From, Select that use Linq; lots of methods that are used to modify or specify certain members of a list use it, like Any, OfType, Where, First, FirstOrDefault, etc...\n\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2016-07-16T16:00:45Z","Content":"\n\u003Cp\u003E\nHi All,\n\u003C/p\u003E\n\u003Cp\u003E\nFor one of my mods I store and read data from the mod folder\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m currently using this to get the gamepath\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EGamePath = System.IO.Directory.GetParent(Application.dataPath);\n        \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis is appended with the path to the game folder:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Estring CommercialOfferingsPath = \u0022/GameData/RoutineMissionManager/\u0022;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever this apparently does not work on a mac. I\u0027ve tried something like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E                GamePath = System.IO.Directory.GetParent(Application.dataPath);\n                if (GamePath.Name.Length \u0026gt; 7 \u0026amp;\u0026amp; GamePath.Name.Substring(GamePath.Name.Length - 8) == \u0022KSP.app\u0022)\n                    GamePath = GamePath.Parent;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\napparently this does not work.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSince I don\u0027t own a mac, this is hard for me to test. According to \u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Application-dataPath.html\u0022 rel=\u0022external nofollow\u0022\u003EUnity site\u003C/a\u003E\u00A0\u0022Application.dataPath\u0022 refers to the\u00A0 \u003Cspan style=\u0022color:rgb(69,84,99);font-family:\u0027Open Sans\u0027, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:21.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cem style=\u0022color:rgb(69,84,99);font-family:\u0027Open Sans\u0027, sans-serif;font-size:14px;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:21.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003Epath to player app bundle\u003C/em\u003E\u003Cspan style=\u0022color:rgb(69,84,99);font-family:\u0027Open Sans\u0027, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:21.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;\u0022\u003E\u0026gt;/\u0026lt;\u003C/span\u003E\u003Cem style=\u0022color:rgb(69,84,99);font-family:\u0027Open Sans\u0027, sans-serif;font-size:14px;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:21.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;\u0022\u003EAppName.app\u003C/em\u003E\u003Cspan style=\u0022color:rgb(69,84,99);font-family:\u0027Open Sans\u0027, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:21.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;\u0022\u003E\u0026gt;/Data. So I\u0027m inclined to try something along the lines \u0022GamePath.Parent.Parent\u0022 For mac.\u00A0\u003C/span\u003EWould this work? Could anyone give me some quick tips on how to handle this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-07-16T16:21:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222678660\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468684845\u0022 data-ipsquote-userid=\u002268273\u0022 data-ipsquote-username=\u0022PrivateFlip\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, PrivateFlip said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi All,\n\u003C/p\u003E\n\u003Cp\u003E\nFor one of my mods I store and read data from the mod folder\n\u003C/p\u003E\n\u003Cp\u003E\n(...)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou should find what you need here :\u00A0\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/blob/master/moduleManager.cs#L472-L473\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/sarbian/ModuleManager/blob/master/moduleManager.cs#L472-L473\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2016-07-17T10:35:39Z","Content":"\n\u003Cp\u003E\nThanks a lot sarbian!\n\u003C/p\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2016-07-24T06:39:57Z","Content":"\n\u003Cp\u003E\nI\u0027m really stumped on this one, does anybody know how to get the staging icon to appear/vanish in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E? I know that PartModule now has fields and methods related to staging such as:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E    public bool overrideStagingIconIfBlank;\n    [KSPField]\n    public string stagingDisableText;\n    [KSPField(isPersistant = true)]\n    public bool stagingEnabled;\n    [KSPField]\n    public string stagingEnableText;\n    [KSPField]\n    public bool stagingToggleEnabledEditor;\n    [KSPField]\n    public bool stagingToggleEnabledFlight;\n\n    public virtual string GetStagingDisableText();\n    public virtual string GetStagingEnableText();\n    public virtual bool IsStageable();\n    public virtual void SetStaging(bool newValue);\n    public virtual bool StagingEnabled();\n    public virtual bool StagingToggleEnabledEditor();\n    public virtual bool StagingToggleEnabledFlight();\n    [KSPEvent(guiActiveEditor = false, guiActive = false, guiName = \u0022Disable Staging\u0022)]\n    public void ToggleStaging();\n    public virtual void UpdateStagingToggle();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nMy custom part module has the fields set up like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = MyPartModule\n\t\tstagingEnableText =  Staging ON\n\t\tstagingDisableText = Staging OFF\n\t\tstagingEnabled = true\n\t\tstagingToggleEnabledEditor = true\n\t\tstagingToggleEnabledFlight = true\n\t\toverrideStagingIconIfBlank = true\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E, I can toggle the staging button. But unlike, say, ModuleDecoupler, no icon shows up. Is there something extra I need to do to get an icon in the staging list? One of the default icons is just fine.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-07-24T08:10:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222688900\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469342397\u0022 data-ipsquote-userid=\u0022106975\u0022 data-ipsquote-username=\u0022Angel-125\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Angel-125 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003E\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/abbr\u003E, I can toggle the staging button. But unlike, say, ModuleDecoupler, no icon shows up. Is there something extra I need to do to get an icon in the staging list? One of the default icons is just fine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAFAIK you need to make sure the\u00A0part.stagingIcon is not\u00A0string.Empty. Set it with a\u00A0\u00A0DefaultIcons.XXXX.toString();\n\u003C/p\u003E\n"},{"CreatedByName":"Angelo Kerman","CreatedById":106975,"CreatedDateTime":"2016-07-24T16:59:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222688935\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469347827\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAFAIK you need to make sure the\u00A0part.stagingIcon is not\u00A0string.Empty. Set it with a\u00A0\u00A0DefaultIcons.XXXX.toString();\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the info. I set the part.stagingIcon to a default icon. Unfortunately I\u0027m still not seeing anything show up in the staging list, but I appreciate the suggestion. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Maybe \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/15543-mu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002215543\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/15543-mu/\u0022 rel=\u0022\u0022\u003E@Mu\u003C/a\u003E or \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/75006-nathankell/\u0022 rel=\u0022\u0022\u003E@NathanKell\u003C/a\u003E knows how to set up a part module to make the staging icon show up?\n\u003C/p\u003E\n"},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-07-25T23:44:21Z","Content":"\n\u003Cp\u003E\nFor my plugin, I want to do some background processing on unfocused vessels: \u00A0Adding a given amount of resources over time to a vessel implementing my plugin and occasionally spawn new Kerbals on those vessels when a limit is hit.\u00A0 Initially, I was going to use the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/88777-102-backgroundprocessing/\u0022 rel=\u0022\u0022\u003EBackground Processing\u003C/a\u003E mod by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125714-jamespicone/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125714\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/125714-jamespicone/\u0022 rel=\u0022external\u0022\u003E@jamespicone\u003C/a\u003E. \u00A0But now that I\u0027ve done some research, it seems that mod may be overkill for what I want to do. \u00A0Looking through the API, it looks like I can use FlightGlobals.vessels to get a list of all vessels in the game, and use vessel.isActiveVessel to determine if it is focused or not. \u00A0It would look something like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E checkBackgroundVessels\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      foreach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EVessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myVessel in \u003C/span\u003E\u003Cspan\u003EFlightGlobals\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EVessels\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(!\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmyVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EisActiveVessel \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EFindPartModulesImplementing\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmyModule\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E!=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enull\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//do some stuff\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHowever, Background Processing specifically mentions accessing ProtoVessels instead of Vessels. \u00A0Is there an issue with accessing vessels that are unfocused? \u00A0Or am I going to hit a brick wall down the road?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-25T23:44:49Z\u0022 title=\u002207/25/2016 11:44  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 25, 2016\u003C/time\u003E by Tralfagar\u003C/strong\u003E\n\u003Cbr\u003EFormatting\n\u003C/span\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-07-25T23:59:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222690987\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469490261\u0022 data-ipsquote-userid=\u0022150801\u0022 data-ipsquote-username=\u0022Tralfagar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Tralfagar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor my plugin, I want to do some background processing on unfocused vessels: \u00A0Adding a given amount of resources over time to a vessel implementing my plugin and occasionally spawn new Kerbals on those vessels when a limit is hit.\u00A0 Initially, I was going to use the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/88777-102-backgroundprocessing/\u0022 rel=\u0022\u0022\u003EBackground Processing\u003C/a\u003E mod by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125714-jamespicone/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125714\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/125714-jamespicone/\u0022 rel=\u0022external\u0022\u003E@jamespicone\u003C/a\u003E. \u00A0But now that I\u0027ve done some research, it seems that mod may be overkill for what I want to do. \u00A0Looking through the API, it looks like I can use FlightGlobals.vessels to get a list of all vessels in the game, and use vessel.isActiveVessel to determine if it is focused or not. \u00A0It would look something like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E checkBackgroundVessels\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      foreach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EVessel\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myVessel in \u003C/span\u003E\u003Cspan\u003EFlightGlobals\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EVessels\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(!\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmyVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EisActiveVessel \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E myVessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EFindPartModulesImplementing\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EmyModule\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E!=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enull\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//do some stuff\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n      \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHowever, Background Processing specifically mentions accessing ProtoVessels instead of Vessels. \u00A0Is there an issue with accessing vessels that are unfocused? \u00A0Or am I going to hit a brick wall down the road?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can\u0027t access the resources,etc for vessels that are on rails (packed). In that case you have to access/update the ProtoVessel.\n\u003C/p\u003E\n"},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-07-26T01:59:14Z","Content":"\n\u003Cp\u003E\nGotcha. \u00A0Thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"PT","CreatedById":154223,"CreatedDateTime":"2016-07-26T17:34:48Z","Content":"\n\u003Cp\u003E\nHow to delete/add part from/to (current) ship? As in:\u00A0Poof, nothing left.\u00A0Poof, suddenly part hangs from node.\n\u003C/p\u003E\n\u003Cp\u003E\nI made button in context menu on part, I got child part from attachment node (which of course is not a child of attachment node owner even if it is root part, ugh). But actual handling appears to be more complex than simple calling Remove(child).\n\u003C/p\u003E\n\u003Cp\u003E\nI dug out ProtoPartSnapshot, cloned part with it, then filled out attachedPart, called Couple(). And game freezes to death.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I checked \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E sources, found a lot of dark magic inside. Is all that initializing/synchronizing magic really necessary? Is there no simpler way?\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-07-29T01:40:07Z","Content":"\n\u003Cp\u003E\nI\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222691968\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469554488\u0022 data-ipsquote-userid=\u0022154223\u0022 data-ipsquote-username=\u0022PT\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/27/2016 at 3:34 AM, PT said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow to delete/add part from/to (current) ship? As in:\u00A0Poof, nothing left.\u00A0Poof, suddenly part hangs from node.\n\u003C/p\u003E\n\u003Cp\u003E\nI made button in context menu on part, I got child part from attachment node (which of course is not a child of attachment node owner even if it is root part, ugh). But actual handling appears to be more complex than simple calling Remove(child).\n\u003C/p\u003E\n\u003Cp\u003E\nI dug out ProtoPartSnapshot, cloned part with it, then filled out attachedPart, called Couple(). And game freezes to death.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I checked \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003E\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E sources, found a lot of dark magic inside. Is all that initializing/synchronizing magic really necessary? Is there no simpler way?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027d also like to know how to spawn a part to a part in scene. From my mucking around I\u0027ve been using the following\u00A0to kill a via a button, however it also kills anything that was surface attached as well.\u00A0Anything node attached becomes debris. Is there something that will keep surface attached items?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EthisPart.part.Die();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-29T02:41:29Z\u0022 title=\u002207/29/2016 02:41  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 29, 2016\u003C/time\u003E by wile1411\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PT","CreatedById":154223,"CreatedDateTime":"2016-07-29T07:25:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222695420\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469756407\u0022 data-ipsquote-userid=\u002228891\u0022 data-ipsquote-username=\u0022wile1411\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, wile1411 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027d also like to know how to spawn a part to a part in scene. From my mucking around I\u0027ve been using the following\u00A0to kill a via a button, however it also kills anything that was surface attached as well.\u00A0Anything node attached becomes debris. Is there something that will keep surface attached items?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EthisPart.part.Die();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think you need to part.Decouple every part you want to keep. You might also want to rename decoupled parts. That\u0027s how \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E does it.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, if you want to remove part in middle but keep ship intact, part coupling will be necessary, and that is overly complicated.\n\u003C/p\u003E\n\u003Cp\u003E\nI picked different approach in my project.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nSave game\n\u003C/li\u003E\n\u003Cli\u003E\nEdit .sfs\n\u003C/li\u003E\n\u003Cli\u003E\nSave modified .sfs\n\u003C/li\u003E\n\u003Cli\u003E\nLoad game\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n(mods can save and load saves)\n\u003C/p\u003E\n\u003Cp\u003E\nOf course there are other problems, as .sfs format can hardly be called format. More than half of its content does nothing. I am making little ugly .sfs editor library. As of now I can recursively delete parts from part tree with it. Sometimes modified .sfs can even be loaded correctly in game \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUsing that sfs library I\u00A0managed to delete parts from cargo bay inner nodes (named top2 and bottom2), sum their mass (I still need to find way to get weight of resources in part), add/remove resources and so on. Oh, I also can .Open() .Close() on cargo bay parts \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAfter playing with first version of my lib I learned enough to make second edition, which should be able to delete parts without breaking part tree. Which is not a tree. It is list, with references to other item. And of course references are in various forms. Node attachments are both ways (parent\u0026lt;-\u0026gt;child) while surface attachments are one way (child-\u0026gt;parent). Oh, and of course there are no part id\u0027s specified in part itself, it is just index of PART entry in VESSEL entry in save file, so order is important (looks like someone hit graph with sledgehammer few dozen times to flatten it). All this trash means that removing part requires recalculating id\u0027s of every part in order to attachment node info. Ugh.\n\u003C/p\u003E\n\u003Cp\u003E\nAdding parts will require calculating position, but it does not seem hard as it is relative to root or\u00A0parent part if I am not mistaken.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are interested I can share my proof of concept code. Proper release must wait for code I won\u0027t be ashamed of.\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-07-29T09:52:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222695732\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221469777151\u0022 data-ipsquote-userid=\u0022154223\u0022 data-ipsquote-username=\u0022PT\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, PT said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:rgb(39,42,52);font-family:\u0027Helvetica Neue\u0027, Helvetica, Arial, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EAdding parts will require calculating position, but it does not seem hard as it is relative to root or\u00A0parent part if I am not mistaken.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are interested I can share my proof of concept code. Proper release must wait for code I won\u0027t be ashamed of.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you do have a proof of concept bit of code, it\u0027d be great to have a look.\n\u003C/p\u003E\n\u003Cp\u003E\nIs all the clean up necessary only if you want to keep a tree intact when pruning from the middle? I figures with craft always being broken via various impacts, that killing off a parts should be within scope of the default process.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m looking to use a part I\u0027ve built and add a\u00A0part to that known piece\u00A0as an \u0022end node\u0022. Depending on when the player does down the track, I plan to remove it later using the part.die command. I was hoping with the information I already know about my parts location and orientation, spawning in a part attached to it could be a matter of working out the location if reference to the known part rather than from the root part.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}