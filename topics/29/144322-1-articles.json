{"TopicId":144322,"ForumId":29,"TopicTitle":"KSP API - game event Quit","CreatedByName":"kalikadze","CreatedById":166829,"CreatedDateTime":"2016-07-22T09:28:17Z","PageNum":1,"Articles":[{"CreatedByName":"kalikadze","CreatedById":166829,"CreatedDateTime":"2016-07-22T09:28:17Z","Content":"\n\u003Cp\u003E\nHello\n\u003C/p\u003E\n\u003Cp\u003E\nsorry for stupid question... i am a newbie, so shame on me \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI need to know if there is any Game Event, that can me detect leaving the game (closing). Maybe such us leaving the main menu. I read the documentation \u003Ca href=\u0022https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_game_events.html#a2712d503dade12e1339da59d781e181e\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://anatid.github.io/XML-Documentation-for-the-KSP-API/class_game_events.html#a2712d503dade12e1339da59d781e181e\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nbut i didn\u0027t find anything usable.\u00A0 I also googled \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E !\n\u003C/p\u003E\n\u003Cp\u003E\nI am just trying write or maybe improve saves syncer. And this is first time, when i am trying to work with KSP API.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for any advice, have a nice day \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\njozef\n\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2016-07-22T12:50:43Z","Content":"\n\u003Cp\u003E\nWelcome aboard!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think you\u0027ll find better help for this in Plugin Development, I\u0027ll move it there for you. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2016-07-22T12:55:24Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EWelcome!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EThe API docs you\u0027ve been looking at are a little old. I\u0027m not sure if they\u0027ve been updated for KSP 1.1.\u00A0\u003C/span\u003E\u003Ca href=\u0022http://docuwiki-kspapi.rhcloud.com/\u0022 style=\u0022line-height:1.6;background-color:rgb(255,255,255);\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://docuwiki-kspapi.rhcloud.com/\u003C/a\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u00A0is a much nicer resource.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u00A0\u003Cem\u003Ethink\u003C/em\u003E\u00A0you can do it by creating a class that derives from MonoBehaviour, and specifies the \u003Ca href=\u0022http://docuwiki-kspapi.rhcloud.com/#/classes/KSPAddon\u0022 rel=\u0022external nofollow\u0022\u003EKSPAddon\u003C/a\u003E attribute to load at the main menu and has the once attribute set to true - ie, it\u0027ll persist for the entirety of the game. In theory, that means that class\u0027s OnDestroy() method will be called when the game is shutting down. Something like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan\u003EKSPAddon\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EKSPAddon\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EStartup\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EMainMenu\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Epublic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eclass\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003ESaveSyncer\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EMonoBehaviour\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EOnDestroy\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Do save file finagling here\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI haven\u0027t actually tested this, though. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kalikadze","CreatedById":166829,"CreatedDateTime":"2016-07-22T15:20:35Z","Content":"\n\u003Cp\u003E\nguys, thank you very much for helping me\u00A0 \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI tried a few tests, but it does not work for me. I am not sure, what i am doing bad.\n\u003C/p\u003E\n\u003Cp\u003E\nI will continue. Anyway, thank you \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2016-07-29T14:31:55Z","Content":"\n\u003Cp\u003E\nHello, OnDestroy is used each time you change scene, for an exit of KSP I prefer\u003Cfont face=\u0022Monospace\u0022\u003E:\u003C/font\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Eprivate\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EOnApplicationQuit\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E...\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf you want to see more, this link have help me: \u003Ca href=\u0022https://docs.unity3d.com/Manual/ExecutionOrder.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/Manual/ExecutionOrder.html\u003C/a\u003E\n\u003C/p\u003E\n"}]}