{"TopicId":110250,"ForumId":29,"TopicTitle":"ProtoVessel.Parts list empty while recovering","CreatedByName":"Tsynique","CreatedById":100257,"CreatedDateTime":"2015-05-21T15:49:07Z","PageNum":1,"Articles":[{"CreatedByName":"Tsynique","CreatedById":100257,"CreatedDateTime":"2015-05-21T15:49:07Z","Content":"I am dealing with onVesselRecoveryProcessing(ProtoVessel pv, MissionRecoveryDialog dialog, float recoveryFraction) event method.\n\nWhat I need is a List\u003C\u003E of Parts that the recovered vessel contains. Problem is the pv object which is of type ProtoVessel for some reason doesn\u0027t contain any Parts: all possible lists are empty. ProtoVessel.vesselRef didn\u0027t help either. In the method which is called before this one - OnVesselRecoveryRequested(Vessel v) - Vessel type object AND ProtoVessel type objects cointain Parts normally. However, when recovering from SpaceCenter or TrackingStation that method is not called. \n\nWhat I managed to do was find the ConfigNode of the VESSEL from FLIGHTSTATE node which contains all the parts. Problem with that is that it contains very different values and converting manually (with a wrapper function) seems rather unreasonable. \n\nSo, my question is, is there are a way to sanely (not manually) convert a PART from FLIGHTSTATE to \u0022normal\u0022 PART? I have added a comparison below.\n\nOR alternatively is there a way to force the ProtoVessel object or it\u0027s related Vessel object to repopulate their Part Lists\u003C\u003E in the onVesselRecoveryProcessing() method?\n\nAny help will be very appreciated!\n\n[table=width: 100%]\n\n[tr]\n\n [td]PART saved by editor[/td]\n\n [td]Same PART from FLIGHTSTATE after flight scene was loaded[/td]\n\n[/tr]\n\n[tr]\n\n [td]\n\n    PART{\tpart = mk1pod_4294814930\tpartName = Part\tpos = 0,15,0\tattPos = 0,0,0\tattPos0 = 0,15,0\trot = 0,0,0,1\tattRot = 0,0,0,1\tattRot0 = 0,0,0,1\tmir = 1,1,1\tsymMethod = Radial\tistg = 0\tdstg = 0\tsidx = -1\tsqor = -1\tsepI = 0\tattm = 0\tmodCost = 0\tmodMass = 0\tmodSize = (0.0, 0.0, 0.0)\n\n[/td]\n\n [td]\n\n    \t\t\tPART\t\t\t{\t\t\t\tname = mk1pod\t\t\t\tcid = 4294814930\t\t\t\tuid = 3259493640\t\t\t\tmid = 859288275\t\t\t\tlaunchID = 50\t\t\t\tparent = 0\t\t\t\tposition = 0,0,0\t\t\t\trotation = 0,0,0,1\t\t\t\tmirror = 1,1,1\t\t\t\tsymMethod = Radial\t\t\t\tistg = 0\t\t\t\tdstg = 0\t\t\t\tsqor = -1\t\t\t\tsepI = 0\t\t\t\tsidx = -1\t\t\t\tattm = 0\t\t\t\tsrfN = None, -1\t\t\t\tattN = None, -1\t\t\t\tattN = None, -1\t\t\t\tmass = 0.8\t\t\t\ttemp = 287.799555698255\t\t\t\texpt = 0.5\t\t\t\tstate = 0\t\t\t\tconnected = True\t\t\t\tattached = True\t\t\t\tflag = Squad/Flags/default\t\t\t\trTrf = mk1pod\t\t\t\tmodCost = 0\t\t\t\tcrew = Jebediah Kerman\n\n[/td]\n\n[/tr]\n\n[/table]\n\n**Edited \u003Ctime datetime=\u00222015-05-21T15:51:51Z\u0022 title=\u002205/21/2015 03:51  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 21, 2015\u003C/time\u003E by Tsynique**"}]}