{"TopicId":133851,"ForumId":29,"TopicTitle":"Creating custom part categories?","CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2016-03-09T18:10:57Z","PageNum":1,"Articles":[{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2016-03-09T18:10:57Z","Content":"\n\u003Cp\u003E\nWith a bunch of mods installed some of the stock \u0022Filter by Function\u0022 categories get pretty cluttered. I\u0027d really like to create some of my own categories to stick parts in. There\u0027s a number of mods which do this so I figure it\u0027s possible. I understand that it takes some C#, and my coding experience is limited. But I\u0027m willing to learn what I need to. Anybody interested in helping me figure it out and make this happen?\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems to me like it shouldn\u0027t be terribly difficult to turn this into a configurable mod. I\u0027d like to start with everything hard coded for personal use. But if I can get that far, I imagine it shouldn\u0027t be that much more difficult to include an editable config file.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyways, I tracked down some examples...\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s \u003Ca href=\u0022https://github.com/BobPalmer/UmbraSpaceIndustries/blob/master/USITools/USITools/PartCatalog.cs\u0022 rel=\u0022external nofollow\u0022\u003ERoverDude\u0027s changes for all of his USI mods\u003C/a\u003E. He\u0027s got 4 classes for 4 different categories. I\u0027m using MKS-Lite and I can see that USI_FreightFilter and USI_KolonyLiteFilter were at play because I\u0027ve got \u0022Freight\u0022 and a \u0022KolonizationLite\u0022 categories in the VAB. It seems that, when the game is loading up, he is putting together a list of parts to be categorized based on manufacturer. If it gets at least one then it creates a the new category, pulls in the icon, adds the relevant parts, etc. (the SubCategories method)\n\u003C/p\u003E\n\u003Cp\u003E\nFor \u003Ca href=\u0022https://github.com/Nils277/KerbalPlanetaryBaseSystems/blob/master/Sources/PlanetarySurfaceStructures/SurfaceStructuresCategory.cs\u0022 rel=\u0022external nofollow\u0022\u003EKerbal Planetary Base Systems it\u0027s a bit more complicated...\u003C/a\u003E But it\u0027s also doing a bit more with that one, and trying to capture multiple manufacturers and other criteria I think.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll have to study these a bit more before going further, but I\u0027m just curious what other people think. Does this seem doable? I\u0027ve got a few specific questions...\n\u003C/p\u003E\n\u003Cp\u003E\n1) Let\u0027s say I figure the C# out, write my own version to capture certain parts that I want moved, make new icons, etc. What next? How do I compile this for the game?\n\u003C/p\u003E\n\u003Cp\u003E\n2) What about dealing with mods that make their own categories? For example KPBS created a \u0022Life Support\u0022 category. Is it possible to add some other part to that category with MY code? Or what if I create my own Life Support Category. Is it possible to overwrite the one KPBS made?\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-03-09T18:53:50Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/93955-105-filter-extensions-2412-nov-10/\u0022\u003EFilter Extensions\u003C/a\u003E might be a simpler alternative if your objective is just to create new categories and you have no plugin experience. If not:\n\u003C/p\u003E\n\u003Cp\u003E\n1) The \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Plugins\u0022 rel=\u0022external nofollow\u0022\u003Ewiki\u003C/a\u003E includes all the instructions for getting an IDE setup to create plugins\n\u003C/p\u003E\n\u003Cp\u003E\n2) It is certainly possible to modify the filtering of subcategories of other mods, but it\u0027s generally easier to replace the subcategory outright.\u003Cbr\u003E\nYou can get a reference to the existing filtering function at \u0026lt;subcategory\u0026gt;.exclusionFilter.FilterCriteria and call Invoke(aPart) to get a true/false result from it which you can then add your own pre/post filters to\n\u003C/p\u003E\n"}]}