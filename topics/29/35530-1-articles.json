{"TopicId":35530,"ForumId":29,"TopicTitle":"Heat is driving me bananas","CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-01T21:42:22Z","PageNum":1,"Articles":[{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2013-07-01T21:42:22Z","Content":"\n\u003Cp\u003ESo I\u0027m working on some mod engines, and in the process I build a sort of reference stack with an engine on the bottom, then a few small fuel tanks above it. I do some flight tests and all is well.\u003C/p\u003E\u003Cp\u003EI start working on my next engine, so I just pop the engine off that reference stack and replace it with a different engine \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6 \u003Cem\u003Ewhich I\u0027ve set up using the exact same config parameters.\u003C/em\u003E You know, just to have someplace to start, right? It puts out exactly the same thrust, it has exactly the same heatProduction. It varies only in the specific impulse, because the new engine has a smaller nozzle than the other one so it gets less specific impulse at sea level for the same exhaust pressure.\u003C/p\u003E\u003Cp\u003EI do my first flight test, and \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6 kaboom. It\u0027s \u003Cem\u003Enot\u003C/em\u003E the engine that explodes, though. No, it\u0027s the propellant tank immediately above it. It exceeded its temperature tolerance. (I play with Deadly Reentry, so propellant tanks weaken when they get hot.)\u003C/p\u003E\u003Cp\u003EI figured out, after a hell of a lot of testing, that the difference between these two engines is their center of mass. \u003Cem\u003ENot mass itself\u003C/em\u003E; both of these engines have exactly the same mass, \u0027cause I set \u0027em up that way. No, the only difference is where their center of mass is, \u0027cause they\u0027re using different 3D models.\u003C/p\u003E\u003Cp\u003EHeat conduction in KSP depends on where your center of mass is.\u003C/p\u003E\u003Cp\u003EWe all know how heat \u003Cem\u003Edissipation\u003C/em\u003E works; that\u0027s heat flowing out of your ship and into the environment (or vice versa) lowering (or raising) the temperature of each part independently. It\u0027s just Newton\u0027s law of cooling with a fixed cooling constant: \u003Cem\u003E\u00C3\u017D\u00E2\u20ACT = (T\u00C3\u00A2\u00E2\u20AC\u0161\u00E2\u20AC\u02DC \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 T\u00C3\u00A2\u00E2\u20AC\u0161\u00E2\u201A\u00AC) k\u003C/em\u003E where \u003Cem\u003Ek\u003C/em\u003E is fixed, by the game, at 0.12 per second. That\u0027s an annoyingly inflexible approximation, but it \u003Cem\u003Eworks,\u003C/em\u003E so no biggie, we can work with it.\u003C/p\u003E\u003Cp\u003EBut conduction is a different animal. You\u0027d think that heat conduction between adjacent parts would depend on (a) the difference between their temperatures, (\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E some thermal properties of the parts, which might be approximated as a universal constant the way the cooling constant is, and \u00A9 the surface area of contact between the parts. Since the game doesn\u0027t really \u003Cem\u003Edo\u003C/em\u003E surface areas of contact, we can imagine abstracting that away such that, for sake of consistency, heat always flows between adjacent parts at a rate proportional to the difference between their temperatures. I mean, I\u0027m not crazy, right? That makes sense to y\u0027all too?\u003C/p\u003E\u003Cp\u003EThe way it actually seems to work, though, is that conduction is somehow proportional to distance between parts \u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6 and not just distance, but \u003Cem\u003Edistance between centers of mass\u003C/em\u003E. If the center of mass of two adjacent parts is close together, heat will flow between those two parts faster than if the centers of mass are farther apart. \u003Cem\u003EEven if the parts stay the same and you just move the CoM around.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s why my propellant tank exploded. Because the second engine I was modding had a higher center of mass in its 3D model than the first one did, heat flowed into the above tank faster. Too fast, in fact, for the tank to radiate the heat away, so it overheated and failed about twenty seconds after liftoff.\u003C/p\u003E\u003Cp\u003EShort of just arbitrarily dialing down the heatProduction parameter of that engine, I have \u003Cem\u003Eno idea\u003C/em\u003E how to go about fixing this. I mean, in a sane world the heatProduction of an engine would depend on \u003Cem\u003Ethe engine itself,\u003C/em\u003E its thermodynamics and whatnot. But instead, it seems like we have to set it based on how we \u003Cem\u003Ehope\u003C/em\u003E heat flows out of it as its running, which is a function of what it\u0027s attached to.\u003C/p\u003E\u003Cp\u003EDoes anybody have any advice for me at all on this? Cause seriously, I\u0027m \u003Cem\u003Ethis close\u003C/em\u003E to just changing all my heatProduction parameters to give my engines a full-throttle equilibrium temperature of boiling water.\u003C/p\u003E\n"},{"CreatedByName":"ummwut","CreatedById":29846,"CreatedDateTime":"2013-07-15T23:34:02Z","Content":"\n\u003Cp\u003EIf your engines are heating up like a Mainsail, yeah, turn the heat down. I don\u0027t know how deadly re-entry works with heat, but try testing without it.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-07-17T12:51:13Z","Content":"\n\u003Cp\u003EIs it the centre of mass or is it the scene origin? If it\u0027s the scene origin then you can put it where you want and move the center of mass using the CoMOffset parameter.\u003C/p\u003E\n"}]}