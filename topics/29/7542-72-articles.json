{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":72,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-06-28T15:51:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tomf\u0022 data-cite=\u0022tomf\u0022\u003E\u003Cdiv\u003EThank you. My next question: Is there a good way to tell if the player can see asteroids?\u003Cp\u003EAlso how can I tell what size class an asteroid belongs to?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only reliable way to figure out the asteroid size class is by taking the last character of the ModuleAsteroid.prefabBaseURL string: \u003Ca href=\u0022https://github.com/DMagic1/Orbital-Science/blob/master/Source/DMAsteroidScience.cs#L107-L132\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DMagic1/Orbital-Science/blob/master/Source/DMAsteroidScience.cs#L107-L132\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EAs for seeing asteroids the only way I know how is to search all vessels within loading distance for a ModuleAsteroid PartModule.\u003C/p\u003E\n"},{"CreatedByName":"tomf","CreatedById":57809,"CreatedDateTime":"2015-06-29T08:13:39Z","Content":"\n\u003Cp\u003EDo asteroids not get generated in a career game before the tracking station is upgraded to be able to see them?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-07-03T03:18:45Z","Content":"\n\u003Cp\u003EI have a fun vector question. \u003C/p\u003E\u003Cp\u003EDoes anyone know how to draw a line perpendicular to the direction of travel on the surface of a planet with a given width (doesn\u0027t have to actually map the surface, just two points) and its center directly below the vessel. So in an equatorial orbit the line would have be drawn straight north/south, and in a polar orbit would be drawn east/west. Or more to the point, how to calculate the Vector3d end points of said line.\u003C/p\u003E\u003Cp\u003EI can get the position under the vessel with:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ebody.GetSurfaceNVector(lat, lon);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI can think of maybe figuring out a way of converting the width to modifiers for the lat/lon based on vessel inclination (some geometry to give lat/lon \u002B/- values). Then using the same function to get the position at those coordinates. I think calculating new coordinates that way would end up with the line flipping directions at some point, though I might be wrong.\u003C/p\u003E\u003Cp\u003EIs there some better way of handling it?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tomf\u0022 data-cite=\u0022tomf\u0022\u003E\u003Cdiv\u003EDo asteroids not get generated in a career game before the tracking station is upgraded to be able to see them?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think they do. Asteroids generate some log spam when they are created, so you can probably just watch for that to make sure.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-03T03:20:48Z\u0022 title=\u002207/03/2015 03:20  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 3, 2015\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-07-03T04:07:20Z","Content":"\n\u003Cp\u003EOne of the Vector3 math things would do it, I can\u0027t remember the name but it\u0027s the left-hand rule one. \u003C/p\u003E\u003Cp\u003EVessel.srfVelocity is one reference vector, Vessel.Up is the other (from center of planet to center of vessel), produce the 3rd vector perpendicular to those two vectors (the command I can\u0027t remember) then negative it for the other half.\u003C/p\u003E\u003Cp\u003EI think that would work?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-07-03T07:52:48Z","Content":"\n\u003Ca href=\u0022http://docs.unity3d.com/ScriptReference/Vector3.Cross.html\u0022 rel=\u0022external nofollow\u0022\u003EVector3.Cross\u003C/a\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-03T07:57:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EDoes anyone know how to draw a line perpendicular to the direction of travel on the surface of a planet with a given width (doesn\u0027t have to actually map the surface, just two points) and its center directly below the vessel.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EOne of the Vector3 math things would do it, I can\u0027t remember the name but it\u0027s the left-hand rule one. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Crzyrndm/Pilot-Assistant/blob/master/PilotAssistant/FlightModules/VesselData.cs#L67-L68\u0022 rel=\u0022external nofollow\u0022\u003E Direction vector perpendicular to velocity and parallel to the ground\u003C/a\u003E but I don\u0027t know if that\u0027s what he\u0027s asking for\u003C/p\u003E\u003Cp\u003EThere\u0027s a chunk of code on the plugin section of the wiki for drawing arrows that would meet your requirements for configurable width. ArrowPointer might function fine if the width isn\u0027t too little\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-07-03T10:42:06Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003Edoes anyone know how to create the static effect when you first load vessel on the portrait cameras?\u003C/p\u003E\u003Cp\u003EI\u0027m sure I stumbled across this a while back.. but now I can\u0027t find any reference for it.\u003C/p\u003E\u003Cp\u003EI\u0027m sure it\u0027s something simple.\u003C/p\u003E\u003Cp\u003ET.I.A.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-07-03T15:37:08Z","Content":"\n\u003Cp\u003EExcellent, thanks for the help. Some combination and modifications of the above seems to work.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ZRtKvtB.gif\u0022 alt=\u0022ZRtKvtB.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\tVector3d center = v.transform.position;\u003Cbr\u003E\t\tVector3d up = body.GetSurfaceNVector(lat, lon);\u003Cbr\u003E\u003Cbr\u003E\t\tVector3d srfCenter = body.position \u002B height * up;\u003Cbr\u003E\u003Cbr\u003E\t\tVector3d VelFor = Vector3.ProjectOnPlane(v.srf_velocity, up).normalized;\u003Cbr\u003E\t\tVector3d vesselPerp = Vector3d.Cross(VelFor, up).normalized;\u003Cbr\u003E\u003Cbr\u003E\t\tVector3d left = srfCenter \u002B width * vesselPerp;\u003Cbr\u003E\t\tVector3d right = srfCenter - width * vesselPerp;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen I just draw a triangle with center, left, and right as the three points.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-04T01:51:59Z","Content":"\n\u003Cp\u003EThat seems like a roundabout way of doing it since you probably started with a viewing angle. Also, you might want to double check whether you want surface or orbital velocty as your reference (srf is probably correct, but...)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edown = -vessel.upAxis\u003Cbr\u003EVector3d VelFor = Vector3.ProjectOnPlane(v.srf_velocity, down).normalized;\u003Cbr\u003E// rotate down vector about velocity vector, shift along that direction until level with the surface below the vessel\u003Cbr\u003EVector3d left = vessel.transform.position \u002B (Quaternion.AngleAxis(0.5f * viewingAngle, VelFor) * down) * (vessel.altitude / Math.Sin(0.5f * viewingAngle));\u003Cbr\u003EVector3d right = vessel.transform.position \u002B (Quaternion.AngleAxis(-0.5f *  viewingAngle, VelFor) * down) * (vessel.altitude /  Math.Sin(0.5f * viewingAngle));\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOn another topic, how do you close the astronaut complex overlay.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-04T01:45:26Z\u0022 title=\u002207/04/2015 01:45  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-07T08:15:09Z","Content":"\n\u003Cp\u003EIs there a function to get the speed of sound for a position/vessel lying around anywhere? I want to transform an arbitrary speed in m/s to mach and multiplying by the ratio between vessel mach and current srf speed is annoyingly hacky\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-07-07T08:16:55Z","Content":"\n\u003Cp\u003Evessel.speedOfSound\u003C/p\u003E\u003Cp\u003EI know, hard one \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-07T08:17:52Z","Content":"\n\u003Cp\u003E... -.- ...\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2015-07-08T08:40:06Z","Content":"\n\u003Cp\u003Ehelp...\u003C/p\u003E\u003Cp\u003EI\u0027m just getting to grips with coding a PartModule using Visual Studio Express. I see OnUpdate() getting called but not OnFixedUpdate().\u003C/p\u003E\u003Cp\u003EI have \u0027the same\u0027 code in both overridden functions (take some timestamps \u0026amp; a bool \u0027I\u0027ve been called\u0027). Another function puts em in a window.\u003C/p\u003E\u003Cp\u003EI see OnUpdate() being called with a delta time of 0.039-ish, like 25/sec which fits in with GUI update. The OnFixedUpdate \u0027I\u0027ve been called\u0027 flag stays false, I made the window also show module.isActiveAndEnabled and I see it\u0027s true. My part .cfg had physicsSignificance=1, but I also tried 0 and commented out with no \u0027improvement\u0027 - the .cfg has no other Modules in it.\u003C/p\u003E\u003Cp\u003EThe doc I\u0027ve read seems to say both functions should only be called for \u0027active\u0027 Modules, since OnUpdate() is called I\u0027d expect OnFixedUpdate() to get called also.\u003C/p\u003E\u003Cp\u003EAny ideas what I\u0027m misunderstanding?\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2015-07-12T02:50:30Z","Content":"\n\u003Cp\u003EAfter some testing (adding something to stage to \u0027really activate\u0027) it seems OnUpdate() is called always and OnFixedUpdate() only after it\u0027s staged.\u003C/p\u003E\n"},{"CreatedByName":"Albert VDS","CreatedById":74055,"CreatedDateTime":"2015-07-14T12:44:18Z","Content":"\n\u003Cp\u003EThe following code works, but it cover all of the GUI. How can I make so that it\u0027s bellow the GUI?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPAddon(KSPAddon.Startup.Flight, false)]\u003Cbr\u003Epublic class imageOverlay : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003E\tTexture2D textureOverlay = new Texture2D(Screen.width, Screen.width, TextureFormat.ARGB32, true);\u003Cbr\u003E\u003Cbr\u003E\tprotected void Start()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tstring path = KSPUtil.ApplicationRootPath.Replace(@\u0022\\\u0022, \u0022/\u0022) \u002B \u0022/GameData/Textures/textureoverlay.png\u0022;\u003Cbr\u003E\t\tbyte[] texture = File.ReadAllBytes(path);\u003Cbr\u003E\t\ttextureOverlay.LoadImage(texture);\u003Cbr\u003E\t\tRenderingManager.AddToPostDrawQueue(5, new Callback(drawGUI));\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tvoid drawGUI()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tGUI.DrawTexture(new Rect(0, 0, Screen.width, Screen.height), textureOverlay);\u003Cbr\u003E\t}\u003Cbr\u003E} \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Albert VDS","CreatedById":74055,"CreatedDateTime":"2015-07-15T14:58:15Z","Content":"\n\u003Cp\u003EFixed the arrangement, removed the renderingManager part and renamed drawGUI to OnGui.\u003C/p\u003E\u003Cp\u003EOnly need to ad GUI.depth above the GUI.DrawTexture.\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2015-07-18T05:11:52Z","Content":"\n\u003Cp\u003EI can see how to get the maxThrust from a ModuleEngines (me.maxThrust), does anyone know how to get \u0027max thrust at current atmospheric pressure\u0027?\u003C/p\u003E\u003Cp\u003EI figure I could use the atmosphere curve - I checked that for LV-T45 ASLThurst = maxThrust * curve@1 / curve@0 - so I guess that\u0027s one way to do it. Only issue is that ME has atmCurve and atmosphereCurve - and I was kinda hoping there was some utility that already did the work...\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-18T05:18:21Z","Content":"\n\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EModuleEngines e = part.Modules.FirstOrDefault(m =\u0026gt; m is ModuleEngines);\u003Cbr\u003Eif (e != null)\u003Cbr\u003E{\u003Cbr\u003E     float pressureCorrectedThrust = e.maxThrust * e.realISP / e.atmosphereCurve.Evaluate(0); // ratio of current to vacuum thrust is the pressure modifier\u003Cbr\u003E     float machDensityCorrectedThrust = pressureCorrectedThrust * flowMultiplier; // flowMultiplier is the velCurve * atmCurve result\u003Cbr\u003E     float currentRequestedThrust = machDensityCorrectedThrust * (thrustPercentage / 100) * e.vessel.ctrlState.mainThrottle; // thrust percentage is the engine % limiter\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-19T01:04:49Z\u0022 title=\u002207/19/2015 01:04  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 19, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-18T22:16:08Z","Content":"\n\u003Cp\u003EJust a note: that will only work if the engine module is a ModuleEngines, and it\u0027s not null-safe.\u003C/p\u003E\u003Cp\u003ETry thins.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EModuleEngines e = null;\u003Cbr\u003Efor(int i = part.Modules.Count -1; i \u0026gt;= 0; --i)\u003Cbr\u003E    if((e = part.Modules[i] as ModuleEngines) != null)\u003Cbr\u003E        break;\u003Cbr\u003Eif(e != null)\u003Cbr\u003E{\u003Cbr\u003E// floats etc\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ereplace the top line with that, and stick the code in the if block.\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2015-07-19T00:57:55Z","Content":"\n\u003Cp\u003Ethanks Crzyrndm \u0026amp; NathaKell - argh... mach density adjusted thrust\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-19T01:03:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003E...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood point. I was being slightly lazy there as the line was only to give the ME variable some context. Answer modified for future reference\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-19T01:06:39Z\u0022 title=\u002207/19/2015 01:06  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 19, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ev0","CreatedById":116691,"CreatedDateTime":"2015-07-19T11:23:02Z","Content":"\n\u003Cp\u003EVery specific question: does anyone know how to access the \u0022pos\u0022 key values in the TechTree config files? Is it within the RDNode class? I\u0027m seeing that you can access just about any other key from that class, but I\u0027m stumped on position. I need to get the x, y, z values and change them.\u003C/p\u003E\n"},{"CreatedByName":"Nils277","CreatedById":122414,"CreatedDateTime":"2015-07-19T17:28:01Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003Ei got really frustated trying to add a custom subcategory to the \u0022Filter by Function\u0022 Filter. The code is use looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\u003Cbr\u003E    public class SurfaceStructuresCategory : MonoBehaviour\u003Cbr\u003E    {\u003Cbr\u003E        internal string category = \u0022Filter by Function\u0022;\u003Cbr\u003E        internal string subCategory = \u0022Surface Structures\u0022;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        /**\u003Cbr\u003E         * Called when the script instance is being loaded\u003Cbr\u003E         */\u003Cbr\u003E        private void Awake()\u003Cbr\u003E        {\u003Cbr\u003E            GameEvents.onGUIEditorToolbarReady.Add(KKAOSS_Filter);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        /**\u003Cbr\u003E         * The function to add the modules of this mod to a separate category \u003Cbr\u003E         */\u003Cbr\u003E        private void KKAOSS_Filter()\u003Cbr\u003E        {\u003Cbr\u003E            //create and the icons\u003Cbr\u003E            Texture2D icon = new Texture2D(32, 32);\u003Cbr\u003E            Texture2D icon_selected = new Texture2D(32, 32);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //load the icons\u003Cbr\u003E            icon.LoadImage(File.ReadAllBytes(\u0022GameData/PlanetaryBaseInc/PartList/planetarySurfaceStructures.png\u0022));\u003Cbr\u003E            icon_selected.LoadImage(File.ReadAllBytes(\u0022GameData/PlanetaryBaseInc/PartList/planetarySurfaceStructures_selected.png\u0022));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //create the icon for the filter\u003Cbr\u003E            RUI.Icons.Selectable.Icon filterIcon = new RUI.Icons.Selectable.Icon(\u0022KKAOSS_filter_icon\u0022, icon_selected, icon);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //Find the function filter\u003Cbr\u003E            PartCategorizer.Category functionFilter = PartCategorizer.Instance.filters.Find(f =\u0026gt; f.button.categoryName == category);\u003Cbr\u003E\u003Cbr\u003E            //Add a new subcategory to the function filter\u003Cbr\u003E            PartCategorizer.AddCustomSubcategoryFilter(functionFilter, subCategory, filterIcon, p =\u0026gt; p.name.Contains(\u0022KKAOSS_\u0022));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //Force the icon to show (\u0026gt;_\u0026lt;)\u003Cbr\u003E            RUIToggleButtonTyped button = functionFilter.button.activeButton;\u003Cbr\u003E            button.SetFalse(button, RUIToggleButtonTyped.ClickType.FORCED);\u003Cbr\u003E            button.SetTrue(button, RUIToggleButtonTyped.ClickType.FORCED);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut the category refuses to be added.\u003C/p\u003E\u003Cp\u003EI also tried to add dummy categories and subcategories like in the example of the of the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/106656-Editor-Toolbar-Modding-Guide\u0022 rel=\u0022external nofollow\u0022\u003EEditor-Toolbar-Modding-Guide\u003C/a\u003E :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    [KSPAddon(KSPAddon.Startup.MainMenu, true)]\u003Cbr\u003E    public class SurfaceStructuresCategory : MonoBehaviour\u003Cbr\u003E    {\u003Cbr\u003E        /**\u003Cbr\u003E         * Called when the script instance is being loaded\u003Cbr\u003E         */\u003Cbr\u003E        private void Awake()\u003Cbr\u003E        {\u003Cbr\u003E            GameEvents.onGUIEditorToolbarReady.Add(KKAOSS_Filter);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        /**\u003Cbr\u003E         * The function to add the modules of this mod to a separate category \u003Cbr\u003E         */\u003Cbr\u003E        private void KKAOSS_Filter()\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            RUI.Icons.Selectable.Icon myIcon = PartCategorizer.Instance.iconLoader.GetIcon(\u0022R\u0026amp;D_node_icon_advconstruction\u0022);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //add a custom filter to the toolbar\u003Cbr\u003E            PartCategorizer.Category myFilter = PartCategorizer.AddCustomFilter(\u0022Test Filter\u0022, myIcon, Color.yellow);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            //add subcategories to the filter you just added\u003Cbr\u003E            PartCategorizer.AddCustomSubcategoryFilter(myFilter, \u0022Subfilter 1\u0022, myIcon, p =\u0026gt; p.name.Contains(\u0022engine\u0022));\u003Cbr\u003E            PartCategorizer.AddCustomSubcategoryFilter(myFilter, \u0022Subfilter 2\u0022, myIcon, p =\u0026gt; p.name.Contains(\u0022fuel\u0022));\u003Cbr\u003E            PartCategorizer.AddCustomSubcategoryFilter(myFilter, \u0022Subfilter 3\u0022, myIcon, p =\u0026gt; p.name.Contains(\u0022bla\u0022));\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut neither of them works...really starting to feel stupid...\u003C/p\u003E\u003Cp\u003EIs there anything i have to set additionally in my c# project to make this work?\u003C/p\u003E\u003Cp\u003EPs: I also put the \u003Cem\u003Ep =\u0026gt; p.name.Contains(\u0022KKAOSS_\u0022) \u003C/em\u003Ein a separate function for logging purposes and the filter actually runs and finds the right parts it is just not shown\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-19T17:32:23Z\u0022 title=\u002207/19/2015 05:32  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 19, 2015\u003C/time\u003E by Nils277\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-07-19T21:11:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ev0\u0022 data-cite=\u0022ev0\u0022\u003E\u003Cdiv\u003EVery specific question: does anyone know how to access the \u0022pos\u0022 key values in the TechTree config files? Is it within the RDNode class? I\u0027m seeing that you can access just about any other key from that class, but I\u0027m stumped on position. I need to get the x, y, z values and change them.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPositions are almost always transform.position (and if not, almost always transform.localPosition), but I haven\u0027t done anything with the RnD view so I don\u0027t know specifics. Have you looked at the code for the old tech tree mods and seen how they position things?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nils277\u0022 data-cite=\u0022Nils277\u0022\u003E\u003Cdiv\u003EBut neither of them works...really starting to feel stupid...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1) Triple check the log for errors when entering the editor scenes. That callback is very fragile and an error from any of the subscribed functions is enough to bring it to a grinding halt\u003C/p\u003E\u003Cp\u003E2) Tried manually refreshing the category UI? Click on Filter by Function to close it and then open it again\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-19T21:25:50Z\u0022 title=\u002207/19/2015 09:25  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 19, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2015-07-19T22:40:02Z","Content":"\n\u003Cp\u003EHi, I\u0027m writing a plugin, part of which requires lists of resource amounts across an indefinite number of vessels in a List\u0026lt;Vessel\u0026gt;, but I\u0027m struggling on how to get around it. I know I can get a total amount of a resource in a vessel by using a foreach() statement to look for parts containing that resource in the vessel and getting the sum of the doubles, but I\u0027ve been getting some odd results when I\u0027ve been trying to get numbers for resource amounts across many vessels, I\u0027m guessing this is because of the fact that it\u0027s all in one big foreach() statement spanning across multiple vessels or something. I want to get the resource amount totals of each vessel (bearing in mind the List is intended to contain an indefinite, non-restricted, number of vessels) and put those totals into a List so I can then call them by index. Is there some way to do this? Thanks.\u003C/p\u003E\n"}]}