{"TopicId":116332,"ForumId":29,"TopicTitle":"TechTree nodes icons","CreatedByName":"Grimly","CreatedById":144009,"CreatedDateTime":"2015-07-19T17:12:10Z","PageNum":1,"Articles":[{"CreatedByName":"Grimly","CreatedById":144009,"CreatedDateTime":"2015-07-19T17:12:10Z","Content":"Hello,\n\nI\u0027m looking for what, in the game, links together the \u0022icon\u0022 value of a RDNode to the real icon.\n\n    TechTree{\tRDNode\t{\t\tid = start\t\ttitle = Start\t\tdescription = The technology we started out with.\t\tcost = 0\t\thideEmpty = False\t\tnodeName = node0_start\t\tanyToUnlock = False\t\ticon = RDicon_start          \u003C=== How does it match \u0022R\u0026D_node_icon_start.png\u0022 ???\t\tpos = -2568,1199,-1\t\tscale = 0.6\t}\n\nI\u0027ve found that this value is not a filename, because even if it is close for some of them, you cannot achieve the match from the value to the images stored into GameData/Squad/PartList/SimpleIcons through a simple transformation.\n\nA simple example that made me first think the icon is the filename is the \u0022Science Tech\u0022 node that uses the last icon file (by alphabetic order) RDicon\\_telescope.png\n\nIt matches the \u0022icon\u0022 value as \u0022RDicon\\_telescope\u0022. I expected then it was the filename without its expansion.\n\nThen I realized that some \u0022R\u0026D\\_node\\_icon\\_\\*\u0022 files requires that \u0022R\u0026D\\_node\\_icon\\_\\*\u0022 part to be replaced to \u0022RDicon\\_\\*\u0022.\n\nFinally I came to the \u0022Basic Rocketry\u0022 tech node (the first in the config not to fit my rules) and the transformation is not trivial at all. You cannot, by general operation on strings, go from \u0022RDicon\\_rocketry-basic\u0022 to \u0022R\u0026D\\_node\\_icon\\_basicrocketry.png\u0022.\n\nThere must then be some kind of database that makes these matches. But I can\u0027t find where. I know it\u0027s not in any .cfg file but that\u0027s all I know.\n\nAdding a node with a matching \u0022icon\u0022 value and filename doesn\u0027t help, it changes the display to \u0022R\u0026D\\_node\\_icon\\_generic.png\u0022\n\nDoes someone knows how to add a new icon into the tech tree ?\n\nThanks"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-07-19T19:14:43Z","Content":"RDController.Instance.iconLoader.iconDictionary.Add(\u0022MyIcondName\u0022,new RUI.Icons.Simple.Icon(\u0022MyIcondName\u0022, texture));"},{"CreatedByName":"Grimly","CreatedById":144009,"CreatedDateTime":"2015-07-19T20:01:51Z","Content":"\u003E \n\u003E RDController.Instance.iconLoader.iconDictionary.Add(\u0022MyIcondName\u0022,new RUI.Icons.Simple.Icon(\u0022MyIcondName\u0022, texture));\n\nHi.\n\nSo that means we require a plugin to add an icon ? Sounds like a good exercice to make a KSP plugin.\n\nThanks for the answer."},{"CreatedByName":"Grimly","CreatedById":144009,"CreatedDateTime":"2015-07-22T21:21:41Z","Content":"Here I am again and I can\u0027t find a good way yet to make my plugin work.\n\nI\u0027ve managed, looking at different plugins such as module manager, tree toppler and tree loader, to come to this instance of my module : [http://paste.ubuntu.com/11922597/](http://paste.ubuntu.com/11922597/)\n\nIt is installed with ModuleManager and the following patch : [http://paste.ubuntu.com/11922606/](http://paste.ubuntu.com/11922606/)\n\nThe file GameData/Squad/PartList/SimpleIcons/R\u0026D\\_node\\_icon\\_end.png is a copy of GameData/Squad/PartList/SimpleIcons/R\u0026D\\_node\\_icon\\_start.png\n\nThis plugin changes the icon displayed at the top right part of the screen when I select the new R\u0026D node (and here I found out it\u0027s ugly, it needs double the resolution) but fails at changing the display on the R\u0026D tree.\n\nHere are some logs produced by my plugin : [http://paste.ubuntu.com/11922640/](http://paste.ubuntu.com/11922640/)\n\nThe initial proposal from sarbian had either no effect or something needs an update and I have no clue about what to update.\n\nI\u0027ll accept any piece of help ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThanks.\n\n**Edited \u003Ctime datetime=\u00222015-07-22T21:24:43Z\u0022 title=\u002207/22/2015 09:24  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 22, 2015\u003C/time\u003E by Grimly**\n  \nAdded plugin logs"}]}