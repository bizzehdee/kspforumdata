{"TopicId":88424,"ForumId":29,"TopicTitle":"A C# babe in the woods (weeds?) - KSPScienceLibrary","CreatedByName":"TranceaddicT","CreatedById":73653,"CreatedDateTime":"2014-10-25T00:15:30Z","PageNum":1,"Articles":[{"CreatedByName":"TranceaddicT","CreatedById":73653,"CreatedDateTime":"2014-10-25T00:15:30Z","Content":"\n\u003Cp\u003EI am very OaCrD and can\u0027t stand having errors in my log files. So, in an effort to broaden my horizons I\u0027ve decided to delve into C# with MonoDevelop.\u003C/p\u003E\u003Cp\u003ENothing has been done with this mod since late June, source is available and I\u0027m game. All aboard; first stop, KSPScienceLibrary. I updated the references and built a release .dll file. Things look good except for one area, this:\u003C/p\u003E\u003Cp\u003ENullReferenceException: Object reference not set to an instance of an object\u003C/p\u003E\u003Cp\u003E at FlightGlobals.get_Bodies () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at KSPScienceLibrary.Awake () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003EUnityEngine.GameObject:Internal_AddComponentWithType(Type)\u003C/p\u003E\u003Cp\u003EUnityEngine.GameObject:AddComponent(Type)\u003C/p\u003E\u003Cp\u003EAddonLoader:StartAddon(LoadedAssembly, Type, KSPAddon, Startup)\u003C/p\u003E\u003Cp\u003EAddonLoader:StartAddons(Startup)\u003C/p\u003E\u003Cp\u003E:MoveNext()\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003C/p\u003E\u003Cp\u003E :MoveNext()\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003C/p\u003E\u003Cp\u003EGameDatabase:StartLoad()\u003C/p\u003E\u003Cp\u003E:MoveNext()\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine_Auto(IEnumerator)\u003C/p\u003E\u003Cp\u003EUnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003C/p\u003E\u003Cp\u003ELoadingScreen:Start()\u003C/p\u003E\u003Cp\u003ECan anyone walk me through fixing this? In the meantime, I\u0027ll be researching all those routines.\u003C/p\u003E\u003Cp\u003EP.S. I\u0027ve no plans to release anything nor to take over; this is just for my private learning and use. But, if the license allows it, I might make the new file available ... sans support. (Until I learn better.)\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-25T08:46:01Z","Content":"\n\u003Cp\u003EYou may first use a more meaningful title for your thread, to at least give people a wish to read it.\u003C/p\u003E\u003Cp\u003EThen, no need to dive into all methods given in the log, you would first look into KSPScienceLibrary.Awake which is the first one where the issue could be (the others below are not in your control, the one above messsed up because it have kind of bad parameter(s) already).\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-10-25T16:30:59Z","Content":"\n\u003Cp\u003EDoes this exception come up every time Science Library loads?\u003C/p\u003E\u003Cp\u003EIt might be that Awake() is not the right place for it to be checking the FlightGlobals.Bodies list; it is probably too soon in the loading process, so the FlightGlobals instance hasn\u0027t finished, or maybe even started, loading yet. The \u003Ca href=\u0022http://docs.unity3d.com/Manual/ExecutionOrder.html\u0022 rel=\u0022external nofollow\u0022\u003EUnity docs\u003C/a\u003E go over the MonoBehaviour load order.\u003C/p\u003E\u003Cp\u003EIt might also be that this happens because the Bodies list isn\u0027t loaded in that particular scene, the VAB or SPH for instance.\u003C/p\u003E\n"}]}