{"TopicId":95548,"ForumId":29,"TopicTitle":"Time delay in a loop and playing a sound","CreatedByName":"Scarsz","CreatedById":113000,"CreatedDateTime":"2015-01-03T20:23:12Z","PageNum":1,"Articles":[{"CreatedByName":"Scarsz","CreatedById":113000,"CreatedDateTime":"2015-01-03T20:23:12Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-family:Consolas;\u0022\u003E \u003C/span\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-family:Consolas;\u0022\u003ESorry for the noob questions, I\u0027m still learning c#. How would I make the for loop wait 1 second before looping again? And how can I get it to play my sound file just before the loop?\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#009695]using[/COLOR][COLOR=#333333] System[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]using[/COLOR][COLOR=#333333] System[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]Collections[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]Generic[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]using[/COLOR][COLOR=#333333] System[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]Linq[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]using[/COLOR][COLOR=#333333] System[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]Text[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]using[/COLOR][COLOR=#333333] UnityEngine[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]namespace[/COLOR][COLOR=#333333] Airlock[/COLOR]\u003Cbr\u003E[COLOR=#333333]{[/COLOR]\u003Cbr\u003E[COLOR=#009695]public[/COLOR][COLOR=#009695]class[/COLOR][COLOR=#3364a4]AirlockPressure[/COLOR][COLOR=#333333]:[/COLOR][COLOR=#3364a4]PartModule[/COLOR]\u003Cbr\u003E[COLOR=#333333]{[/COLOR]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333][[/COLOR][COLOR=#333333]KSPField[/COLOR][COLOR=#333333]([/COLOR][COLOR=#333333]guiName [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Pressure[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] isPersistant [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]false[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] guiActiveEditor [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] guiActive [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] guiUnits [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]kPsa[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333])][/COLOR]\u003Cbr\u003E[COLOR=#009695]private[/COLOR][COLOR=#009695]int[/COLOR][COLOR=#333333]Pressure[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]100[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#009695]public[/COLOR][COLOR=#009695]string[/COLOR][COLOR=#333333]mySoundFile[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Depressurise[/COLOR][COLOR=#f57d00]/[/COLOR][COLOR=#f57d00]PressureChange[/COLOR][COLOR=#f57d00].[/COLOR][COLOR=#f57d00]mp3[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333][[/COLOR][COLOR=#3364a4]KSPEvent[/COLOR][COLOR=#333333]([/COLOR][COLOR=#333333]guiActive [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] guiName [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Depressurise[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333])][/COLOR]\u003Cbr\u003E[COLOR=#009695]public[/COLOR][COLOR=#009695]void[/COLOR][COLOR=#333333]ActivateEvent[/COLOR][COLOR=#333333]()[/COLOR]\u003Cbr\u003E[COLOR=#333333]{[/COLOR]\u003Cbr\u003E[COLOR=#3364a4]ScreenMessages[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]PostScreenMessage[/COLOR][COLOR=#333333]([/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Depressurising[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333],[/COLOR][COLOR=#f57d00]5.0f[/COLOR][COLOR=#333333],[/COLOR][COLOR=#3364a4]ScreenMessageStyle[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]UPPER_CENTER[/COLOR][COLOR=#333333])[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333]Events[/COLOR][COLOR=#333333][[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]ActivateEvent[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333]][/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]active[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]false[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E\u003Cbr\u003E//play \u003Cbr\u003E[COLOR=#009695]for[/COLOR][COLOR=#333333]([/COLOR][COLOR=#009695]int[/COLOR][COLOR=#333333]i[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#333333]Pressure[/COLOR][COLOR=#333333]-[/COLOR][COLOR=#f57d00]1[/COLOR][COLOR=#333333];[/COLOR][COLOR=#333333]i[/COLOR][COLOR=#333333]\u0026gt;[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]0[/COLOR][COLOR=#333333];[/COLOR][COLOR=#333333]i[/COLOR][COLOR=#333333]--[/COLOR][COLOR=#333333])[/COLOR]\u003Cbr\u003E[COLOR=#333333]{[/COLOR]\u003Cbr\u003E[COLOR=#333333]Pressure[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#333333]i[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[COLOR=#888888][I]//[/I][/COLOR][COLOR=#888888][I]Wait[/I][/COLOR][COLOR=#888888][I]2[/I][/COLOR][COLOR=#888888][I]seconds[/I][/COLOR][COLOR=#888888][I]before[/I][/COLOR][COLOR=#888888][I]looping[/I][/COLOR][COLOR=#888888][I]?[/I][/COLOR]\u003Cbr\u003E[COLOR=#333333]}[/COLOR]\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333]Events[/COLOR][COLOR=#333333][[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]DeactivateEvent[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333]][/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]active[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333]}[/COLOR]\u003Cbr\u003E[COLOR=#333333][[/COLOR][COLOR=#3364a4]KSPEvent[/COLOR][COLOR=#333333]([/COLOR][COLOR=#333333]guiActive [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] guiName [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Pressurise[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333],[/COLOR][COLOR=#333333] active [/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]false[/COLOR][COLOR=#333333])][/COLOR]\u003Cbr\u003E[COLOR=#009695]public[/COLOR][COLOR=#009695]void[/COLOR][COLOR=#333333]DeactivateEvent[/COLOR][COLOR=#333333]()[/COLOR]\u003Cbr\u003E[COLOR=#333333]{[/COLOR]\u003Cbr\u003E[COLOR=#3364a4]ScreenMessages[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]PostScreenMessage[/COLOR][COLOR=#333333]([/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]Pressurising[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333],[/COLOR][COLOR=#f57d00]5.0f[/COLOR][COLOR=#333333],[/COLOR][COLOR=#3364a4]ScreenMessageStyle[/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]UPPER_CENTER[/COLOR][COLOR=#333333])[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#888888][I]//[/I][/COLOR][COLOR=#888888][I]This[/I][/COLOR][COLOR=#888888][I]will[/I][/COLOR][COLOR=#888888][I]hide[/I][/COLOR][COLOR=#888888][I]the[/I][/COLOR][COLOR=#888888][I]Deactivate[/I][/COLOR][COLOR=#888888][I]event[/I][/COLOR][COLOR=#888888][I],[/I][/COLOR][COLOR=#888888][I]and[/I][/COLOR][COLOR=#888888][I]show[/I][/COLOR][COLOR=#888888][I]the[/I][/COLOR][COLOR=#888888][I]Activate[/I][/COLOR][COLOR=#888888][I]event[/I][/COLOR][COLOR=#888888][I].[/I][/COLOR]\u003Cbr\u003E[COLOR=#333333]Events[/COLOR][COLOR=#333333][[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]ActivateEvent[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333]][/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]active[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]true[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#333333]Pressure[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#333333]Pressure[/COLOR][COLOR=#333333]\u002B[/COLOR][COLOR=#f57d00]100[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#333333]Events[/COLOR][COLOR=#333333][[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#f57d00]DeactivateEvent[/COLOR][COLOR=#f57d00]\u0022[/COLOR][COLOR=#333333]][/COLOR][COLOR=#333333].[/COLOR][COLOR=#333333]active[/COLOR][COLOR=#333333]=[/COLOR][COLOR=#009695]false[/COLOR][COLOR=#333333];[/COLOR]\u003Cbr\u003E[COLOR=#333333]}[/COLOR]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[COLOR=#333333]}[/COLOR]\u003Cbr\u003E[COLOR=#333333]}[/COLOR]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003EAny help is greatly appreciated \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-01-03T20:41:39Z","Content":"\n\u003Cp\u003EPerfect application for a coroutine:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[RequireComponent(typeof(AudioSource))]\u003Cbr\u003Epublic class AirlockPressure : PartModule\u003Cbr\u003E{\u003Cbr\u003E    [KSPField(guiName = \u0022Pressure\u0022, isPersistant = false, guiActiveEditor = true, guiActive = true,\u003Cbr\u003E        guiUnits = \u0022kPsa\u0022)] private int Pressure = 100;\u003Cbr\u003E\u003Cbr\u003E    public string mySoundFile = \u0022Depressurise/PressureChange\u0022; // notice [b]no extension[/b]\u003Cbr\u003E\u003Cbr\u003E    void Start()\u003Cbr\u003E    {\u003Cbr\u003E        audio.clip = GameDatabase.Instance.GetAudioClip(mySoundFile);\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    [KSPEvent(guiActive = true, guiName = \u0022Depressurise\u0022)]\u003Cbr\u003E    public void ActivateEvent()\u003Cbr\u003E    {\u003Cbr\u003E        ScreenMessages.PostScreenMessage(\u0022Depressurising\u0022, 5.0f, ScreenMessageStyle.UPPER_CENTER);\u003Cbr\u003E\u003Cbr\u003E        Events[\u0022ActivateEvent\u0022].active = false;\u003Cbr\u003E\u003Cbr\u003E        StartCoroutine(Depressurize());\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    private System.Collections.IEnumerator Depressurize()\u003Cbr\u003E    {\u003Cbr\u003E        audio.Play();\u003Cbr\u003E        for (int i = Pressure - 1; i \u0026gt;= 0; i--)\u003Cbr\u003E        {\u003Cbr\u003E            Pressure = i;\u003Cbr\u003E            yield return new WaitForSeconds(2f);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-03T20:56:07Z\u0022 title=\u002201/03/2015 08:56  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 3, 2015\u003C/time\u003E by xEvilReeperx\u003C/strong\u003E\n\u003Cbr\u003Eforgot the sound part\n\u003C/span\u003E\n"},{"CreatedByName":"Scarsz","CreatedById":113000,"CreatedDateTime":"2015-01-03T21:09:17Z","Content":"\n\u003Cp\u003EThanks very much, works great! Any idea on how to play a sound?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-01-03T21:18:29Z","Content":"\n\u003Cp\u003EI modified my post to include that. It\u0027s fairly simple, although one thing I forgot to mention is that KSP doesn\u0027t support mp3 so you\u0027ll need to convert your sound to ogg or wav\u003C/p\u003E\n"},{"CreatedByName":"Scarsz","CreatedById":113000,"CreatedDateTime":"2015-01-03T21:53:40Z","Content":"\n\u003Cp\u003EWorks really well! Thanks!\u003C/p\u003E\n"}]}