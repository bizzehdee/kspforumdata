{"TopicId":114515,"ForumId":29,"TopicTitle":"Determining if Vessel\u0027s Orbit Has SOI Transition","CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T04:06:33Z","PageNum":1,"Articles":[{"CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T04:06:33Z","Content":"I\u0027ve been writing a plugin that filters out vessels that meet certain criteria. The current code I have is below:\n\n    FlightGlobals.Vessels.Where(v =\u003E v.vesselType == VesselType.Debris)                .Where(v =\u003E v.orbit.eccentricity \u003C 1.0)                .Where(v =\u003E v.mainBody.atmosphere)                .Where(v =\u003E v.orbit.PeA \u003C v.mainBody.atmosphereDepth)                .ToList();\n\nObviously, those with hyperbolic trajectories are already excluded, but I also need to exclude those that have an upcoming SOI transition of any type (e.g. Kerbin -\u003E Mun encounter). Anyone with suggestions on the best way to do this? I see the Orbit class has several attributes that seem relevant to how I would achieve this: activePatch, closestEncounterBody, closestEncounterLevel, closestEncounterPatch, nextPatch, patchEndTransition, patchStartTransition, previousPatch, timeToTransition1, timeToTransition2. I\u0027m just not sure what would be best. Thanks in advanced!"},{"CreatedByName":"stevehead","CreatedById":137745,"CreatedDateTime":"2015-06-29T17:49:31Z","Content":"I think the following is what I need to add to the above:\n\n    .Where(v =\u003E v.orbit.closestEncounterLevel == Orbit.EncounterSolutionLevel.NONE)\n\nIf anyone can confirm this is the appropriate solution, please let me know. Thanks!"}]}