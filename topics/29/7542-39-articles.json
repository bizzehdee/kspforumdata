{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":39,"Articles":[{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-05-06T19:23:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003EIs there a way to get the status of an asteroid for a plugin? For example, if it has entered Kerbins sphere of influence?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI believe it is just a \u0022Vessel\u0022 so the mainBody property should indicate what SOI it is in...\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-05-06T20:24:10Z","Content":"\n\u003Cp\u003EIs there a thread with all the information for writing plugins? With all the modules and such that are used by developers?\u003C/p\u003E\n"},{"CreatedByName":"Xty","CreatedById":94977,"CreatedDateTime":"2014-05-07T14:37:09Z","Content":"\n\u003Cp\u003EHow do you read a PartModule\u0027s Field\u0027s value?\u003C/p\u003E\u003Cp\u003EI\u0027ve got this to loop through all the fields on a partmodule\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eforeach (BaseField field in module.Fields)\u003Cbr\u003E{\u003Cbr\u003E    if (field.guiActive)\u003Cbr\u003E    {\u003Cbr\u003E        Debug.Log((part.name \u002B \u0022 - \u0022 \u002B field.guiName));\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut now I would like to actually read the values of each field.\u003C/p\u003E\u003Cp\u003Eedit: nvm \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Efield.GetValue(module)\u003C/pre\u003E\u003Cp\u003E does it, the needing to pass in the partmodule confused me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-07T14:51:40Z\u0022 title=\u002205/07/2014 02:51  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 7, 2014\u003C/time\u003E by Xty\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MrHappyFace","CreatedById":76365,"CreatedDateTime":"2014-05-07T17:15:33Z","Content":"\n\u003Cp\u003EDoes anyone know how to make a KerbalEVA go into ragdoll mode? I would assume you use \u003Cem\u003EKerbalEVA.isRagdoll = true\u003C/em\u003E?\u003C/p\u003E\n"},{"CreatedByName":"Xty","CreatedById":94977,"CreatedDateTime":"2014-05-07T22:57:45Z","Content":"\n\u003Cp\u003ECould anyone tell me how I could get the information listed in a parts \u0027more information\u0027 frame in the editor, when a ship is in flight?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-08T02:27:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xty\u0022 data-cite=\u0022Xty\u0022\u003E\u003Cdiv\u003ECould anyone tell me how I could get the information listed in a parts \u0027more information\u0027 frame in the editor, when a ship is in flight?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be the GetInfo() string from the PartModule.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic class YourClass : PartModule\u003Cbr\u003E      {\u003Cbr\u003E            public override string GetInfo()\u003Cbr\u003E            {\u003Cbr\u003E            return base.GetInfo();\u003Cbr\u003E            }\u003Cbr\u003E      }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen just set some other string equal to that and display it in flight somehow, a screen message, a field in the right-click menu, etc...\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-10T00:40:08Z","Content":"\n\u003Cp\u003EHi everyone, I\u0027m having a hard time understanding how I can load a parameter from the cfg file of a module.\u003C/p\u003E\u003Cp\u003EI mean:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = MyModule\u003Cbr\u003E    aDouble = value\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI would like to have a field called aDouble in my class and read it from the cfg file, but I can\u0027t find how to do that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-05-10T01:22:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ippo\u0022 data-cite=\u0022Ippo\u0022\u003E\u003Cdiv\u003EHi everyone, I\u0027m having a hard time understanding how I can load a parameter from the cfg file of a module.\u003Cp\u003EI mean:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = MyModule\u003Cbr\u003E    aDouble = value\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI would like to have a field called aDouble in my class and read it from the cfg file, but I can\u0027t find how to do that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAdd [KSPField] attributes to public fields in your PartModule code, they will automatically be fetched by KSP. However, it\u0027s porbably important to know KSPField does not support doubles, use floats.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-10T11:11:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EAdd [KSPField] it\u0027s porbably important to know KSPField does not support doubles, use floats.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETHAT WAS IT!? THE TYPE!? :\u0027(\u003C/p\u003E\u003Cp\u003EThank you very much, I just found out why I wasted one night awake ^^\u003C/p\u003E\n"},{"CreatedByName":"Castun","CreatedById":4581,"CreatedDateTime":"2014-05-10T14:28:42Z","Content":"\n\u003Cp\u003ESorry if this has been answered in this thread already, but if I wanted to tweak somebody\u0027s source code and recompile it, what do I need? I\u0027m on Windows 7. (I actually want to look into adding Toolbar functionality to a slightly outdated mod.)\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-10T16:11:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Castun\u0022 data-cite=\u0022Castun\u0022\u003E\u003Cdiv\u003ESorry if this has been answered in this thread already, but if I wanted to tweak somebody\u0027s source code and recompile it, what do I need? I\u0027m on Windows 7. (I actually want to look into adding Toolbar functionality to a slightly outdated mod.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust a C# IDE and a copy of KSP, possibly Unity (but not necessarily).\u003C/p\u003E\u003Cp\u003EYou can use one of the free versions of Visual C# (Like Visual C# Express 2010), or SharpDevelop (that is also open source). Make sure to add the references to UnityEngine and Assembly-CSharp, both located in the KSP installation folder (KSP/KSP_Data/Managed).\u003C/p\u003E\u003Cp\u003EYou can grab Unity on their site.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-10T16:28:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EMy advice would be to ignore it and use a textured plane or GUIText if you want good results. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is what I ended up having to do, just because of a problem I didn\u0027t know about before I started - KSP configured its drawing layers so that they have distance cutoffs for rendering, and they\u0027re set such that if I try to label something with giant letters really far away, the letters refuse to render if they\u0027re more than about 1.2 million meters or so from the flight camera (I\u0027m not sure how the heck they get things like the distant Mun to render then - maybe that\u0027s on a different layer).\u003C/p\u003E\u003Cp\u003EBut anyway I had to do it with 2d text objects where I project the 3D coordinates into viewport coordinates to figure out where to put the text. You were right, that\u0027s what I eventually had to do.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-11T15:09:46Z","Content":"\n\u003Cp\u003EHow can I change the GUIname of my module? The property is read-only, so I can\u0027t assign directly.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-05-11T15:14:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ippo\u0022 data-cite=\u0022Ippo\u0022\u003E\u003Cdiv\u003EHow can I change the GUIname of my module? The property is read-only, so I can\u0027t assign directly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy exactly would you change it? (I\u0027m not exactly sure what it does precisely too)\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-11T15:36:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EWhy exactly would you change it? (I\u0027m not exactly sure what it does precisely too)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt appears to be the name that is displayed in the editor in the list of the part\u0027s module.\u003C/p\u003E\u003Cp\u003EWhen your right click, you get a list of the things it supports, like \u0022Gimbal\u0022, \u0022Control surface\u0022... and of course \u0022ClassNameOfMyModuleDirectlyFromTheFile\u0022. GUIname seems to be the string that is displayed there instead of the class name... I guess.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2014-05-11T17:08:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ippo\u0022 data-cite=\u0022Ippo\u0022\u003E\u003Cdiv\u003EIt appears to be the name that is displayed in the editor in the list of the part\u0027s module.\u003Cp\u003EWhen your right click, you get a list of the things it supports, like \u0022Gimbal\u0022, \u0022Control surface\u0022... and of course \u0022ClassNameOfMyModuleDirectlyFromTheFile\u0022. GUIname seems to be the string that is displayed there instead of the class name... I guess.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt probably goes through that, but that\u0027s not what it does. IIRC, it takes the class name of the PartModule, removes \u0022Module\u0022 at the beginning if there is one, and then inserts a space after each camel case.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-11T18:30:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EIt probably goes through that, but that\u0027s not what it does. IIRC, it takes the class name of the PartModule, removes \u0022Module\u0022 at the beginning if there is one, and then inserts a space after each camel case.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E... which is great news for me, since my modules don\u0027t follow that naming convention nor are in camel case \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EWell, this issue can wait anyway. Thank you chris \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-11T20:35:51Z","Content":"\n\u003Cp\u003ESorry to bother everyone again, but what is the correct place to execute some code just before the flight begins?\u003C/p\u003E\u003Cp\u003EAs of now I am doing:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic override void OnStart(PartModule.StartState state)\u003Cbr\u003E{\u003Cbr\u003E      if (!(state == StartState.PreLaunch)) return;\u003Cbr\u003E      // stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut I am getting all sorts of strange glitches, like KSPFields that inexplicably have no value anymore.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-05-11T22:58:59Z","Content":"\n\u003Cp\u003EHow do I sort through vessel types? I am making a pug in that warns you when there is an imminent asteroid collision with Kerbin, but I need to know how to sort out the asteroids and the space objects from the other vessels. Is there a dictionary type thing in C# as there is in Python?\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2014-05-13T19:35:35Z","Content":"\n\u003Cp\u003EDoes anybody want to help me with writing a hardware interface for MechJeb? I\u0027m not a programmer and some tasks take much more time from me than from somebody who knows exactly what he is doing. Feel free to contact me!\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-05-13T19:43:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003EHow do I sort through vessel types? I am making a pug in that warns you when there is an imminent asteroid collision with Kerbin, but I need to know how to sort out the asteroids and the space objects from the other vessels. Is there a dictionary type thing in C# as there is in Python?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou should look into LINQ. For example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EList\u0026lt;Vessel\u0026gt; allVessels = ...\u003Cbr\u003EIEnumerable\u0026lt;Vessel\u0026gt; spaceObjectVessels = allVessels.Where(v =\u0026gt; v.vesselType == VesselType.SpaceObject);\u003Cbr\u003EIEnumerable\u0026lt;Vessel\u0026gt; nonSpaceObjectVessels = allVessels.Where(v =\u0026gt; v.vesselType != VesselType.SpaceObject);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-14T07:10:30Z","Content":"\n\u003Cp\u003EDoes anybody know how I could make a ship uncontrollable?\u003C/p\u003E\u003Cp\u003EI tried disabling the ModuleCommand of the command pod / cockpit / whatever, but it just keeps working. I\u0027m not a big fan of removing and readding the ModuleCommand because I\u0027ve seen that doing this can break references at times, but I will if need be.\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2014-05-14T15:59:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ippo\u0022 data-cite=\u0022Ippo\u0022\u003E\u003Cdiv\u003EDoes anybody know how I could make a ship uncontrollable?\u003Cp\u003EI tried disabling the ModuleCommand of the command pod / cockpit / whatever, but it just keeps working. I\u0027m not a big fan of removing and readding the ModuleCommand because I\u0027ve seen that doing this can break references at times, but I will if need be.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECheck out the InputLockManager class.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-05-14T19:52:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The_Duck\u0022 data-cite=\u0022The_Duck\u0022\u003E\u003Cdiv\u003ECheck out the InputLockManager class.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks man, it definitely does what I\u0027m looking for. Now I only need to figure out what disables what \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-05-14T22:03:54Z","Content":"\n\u003Cp\u003ESo I have done some research on Linq and other things. I don\u0027t whether to use IEnumerable or a foreach method for the vessel sorting. her is the code I have so far.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eusing System;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing linq;\u003Cbr\u003E\u003Cbr\u003Enamespace Asteroid_Warning\u003Cbr\u003E{\u003Cbr\u003E\tpublic class asteroidWarning\u003Cbr\u003E\t{\u003Cbr\u003E\t\tList\u0026lt;Vessel\u0026gt; allVessels = new List\u0026lt;Vessels\u0026gt;;\u003Cbr\u003E\t\tforeach(VesselType.SpaceObject in Vessels);\u003Cbr\u003E\t\t{\u003Cbr\u003E\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t know if the VesselType syntax is correct, and I think that the code isn\u0027t right. Though if I knew everything, I wouldn\u0027t be posting here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}