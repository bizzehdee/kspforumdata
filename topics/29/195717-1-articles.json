{"TopicId":195717,"ForumId":29,"TopicTitle":"Right click menus and resource consumption","CreatedByName":"Aniruddh","CreatedById":173854,"CreatedDateTime":"2020-07-19T16:34:36Z","PageNum":1,"Articles":[{"CreatedByName":"Aniruddh","CreatedById":173854,"CreatedDateTime":"2020-07-19T16:34:36Z","Content":"\n\u003Cp\u003E\nHi, I\u0027m creating a custom plugin and I want to know how to create a toggle button on a part\u0027s right click menu, a simple \u0027on/off\u0027 button that the user can click on to activate the next part of my code. I also want to output (display) things onto a part\u0027s context menu.\n\u003C/p\u003E\n\u003Cp\u003E\nI also want to know how to get resource consumption and production on a vessel, and store that value as a variable to work on later. I have very little experience with modding in general, let alone ksp modding, so a simple guide will be more useful.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2020-07-19T16:41:00Z","Content":"\n\u003Cp\u003E\nBasically you need two C# attributes on a public bool, KSPField and UI_Toggle. An example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/SmartTank/blob/791600cbd6ab7ab6fda2a0d64feb96455bf3e6a4/src/DiameterMatcher.cs#L63-L74\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/SmartTank/blob/791600cbd6ab7ab6fda2a0d64feb96455bf3e6a4/src/DiameterMatcher.cs#L63-L74\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Aniruddh","CreatedById":173854,"CreatedDateTime":"2020-07-19T19:13:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223823018\u0022 data-ipsquote-contentid=\u0022195717\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595176860\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBasically you need two C# attributes on a public bool, KSPField and UI_Toggle. An example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/SmartTank/blob/791600cbd6ab7ab6fda2a0d64feb96455bf3e6a4/src/DiameterMatcher.cs#L63-L74\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/SmartTank/blob/791600cbd6ab7ab6fda2a0d64feb96455bf3e6a4/src/DiameterMatcher.cs#L63-L74\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn that example, could I change \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E\u0027\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;\u0022\u003EUI_Scene\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;line-height:20px;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;float:none;background-color:rgb(255,251,221);\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;\u0022\u003EEditor\u0027 to UI_Scene\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;line-height:20px;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;float:none;background-color:rgb(255,251,221);\u0022\u003E.\u003Cfont style=\u0022background-color:rgb(255,255,255);\u0022\u003EFlight\u0027, as I need the button on a part right-click menu during flight.\u003C/font\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2020-07-19T19:41:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223823095\u0022 data-ipsquote-contentid=\u0022195717\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595185995\u0022 data-ipsquote-userid=\u0022173854\u0022 data-ipsquote-username=\u0022Aniruddh\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, Aniruddh said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn that example, could I change \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003E\u0027\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;\u0022\u003EUI_Scene\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;line-height:20px;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;float:none;background-color:rgb(255,251,221);\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;\u0022\u003EEditor\u0027 to UI_Scene\u003C/span\u003E\u003Cspan style=\u0022text-align:left;color:rgb(36,41,46);text-transform:none;line-height:20px;text-indent:0px;letter-spacing:normal;font-style:normal;font-variant:normal;font-weight:400;text-decoration:none;word-spacing:0px;white-space:pre;float:none;background-color:rgb(255,251,221);\u0022\u003E.\u003Cfont style=\u0022background-color:rgb(255,255,255);\u0022\u003EFlight\u0027, as I need the button on a part right-click menu during flight.\u003C/font\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup, that\u0027s what that parameter is for. That link was to a mod that only has a UI in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Aniruddh","CreatedById":173854,"CreatedDateTime":"2020-07-20T16:32:42Z","Content":"\n\u003Cp\u003E\nContinuing with this project...\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know where I can get the source code for the \u0027generator\u0027 part module used in things like RTGs? Is it publicly available?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-20T16:33:09Z\u0022 title=\u002207/20/2020 04:33  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 20, 2020\u003C/time\u003E by Aniruddh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2020-07-25T03:32:20Z","Content":"\n\u003Cp\u003E\nUnfortunately the Squad code is not publicly available but the API is listed \u003Ca href=\u0022https://kerbalspaceprogram.com/api/index.html\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Aniruddh","CreatedById":173854,"CreatedDateTime":"2020-07-25T11:16:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223825805\u0022 data-ipsquote-contentid=\u0022195717\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595647940\u0022 data-ipsquote-userid=\u0022120438\u0022 data-ipsquote-username=\u0022wasml\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, wasml said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUnfortunately the Squad code is not publicly available but the API is listed \u003Ca href=\u0022https://kerbalspaceprogram.com/api/index.html\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the reply. Yes, I looked at that earlier and it is not very intuitive for complete beginners to ksp code. There is also so much in that API that it is hard to search through I think.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Okay, I found this method on the API:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Ethis\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Evessel\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EParts\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003En\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E].\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EResources\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EGetFlowing\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EEChash\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efalse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDoes this give EC production per second? If so, how do I use it?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-25T17:08:20Z\u0022 title=\u002207/25/2020 05:08  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 25, 2020\u003C/time\u003E by Aniruddh\u003C/strong\u003E\n\u003Cbr\u003EFound something\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2020-07-25T23:02:39Z","Content":"\n\u003Cp\u003E\nYour best bet would be to look at the code for a mod that does something similar - Nertea\u0027s \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/186207-19x-dynamic-battery-storage-electricalthermal-planning-and-timewarp-compensation-may-2/\u0026amp;ct=1563588296\u0022 rel=\u0022\u0022\u003EDynamic Battery Storage\u003C/a\u003E is one that comes to mind. The API mentioned above and other modder\u0027s code are the really the only documentation available. That and asking or looking for similar questions on this forum.\n\u003C/p\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2020-07-26T11:19:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223825898\u0022 data-ipsquote-contentid=\u0022195717\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221595675783\u0022 data-ipsquote-userid=\u0022173854\u0022 data-ipsquote-username=\u0022Aniruddh\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/25/2020 at 11:16 AM, Aniruddh said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, I looked at that earlier and it is not very intuitive for complete beginners to ksp code. There is also so much in that API that it is hard to search through I think.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWelcome to the wonderful world of KSP modding \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nWhat I tend to do in these cases, is find something that \u003Cem\u003Elooks\u003C/em\u003E like it does what I want to do, then search it on Github to see how other modders have used it.\n\u003C/p\u003E\n"}]}