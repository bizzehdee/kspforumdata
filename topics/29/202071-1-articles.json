{"TopicId":202071,"ForumId":29,"TopicTitle":"Trying to open the resource panel","CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-04-29T04:30:05Z","PageNum":1,"Articles":[{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2021-04-29T04:30:05Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to get the resource panel to open automatically when entering flight scene.\u00A0Seems simple enough, but without any plain English descriptions in most of the KSP API \u0022documentation\u0022, I\u0027m just guessing how to do it.\u00A0 I\u0027m trying to use\u00A0\u003Ca href=\u0022https://www.kerbalspaceprogram.com/api/class_k_s_p_1_1_u_i_1_1_screens_1_1_resource_display.html#adede887b5d03fbd08203fab3668a91ec\u0022 rel=\u0022external nofollow\u0022\u003EShowResourceList\u003C/a\u003E\u00A0but it doesn\u0027t do anything.\u00A0\u00A0I\u0027m using Update(), which starts before the Resource app is launched, resulting in some initial Null Refs, but once it\u0027s loaded, then it does nothing AFAIK.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eusing System;\nusing System.Threading;\nusing UnityEngine;\nusing KSP.UI.Screens; // has class ResourceDisplay\n\nnamespace Rememberer\n{\n\n    [KSPAddon(KSPAddon.Startup.Flight, false)]\n    public class RememFlight : MonoBehaviour\n    {\n        private bool setResourcePanelNotDone = true;  \n        private int iter = 0;\n\n        public void Start()\n        {\n            Debug.Log(\u0022RememFlight - Start\u0022);\n        }\n\n        public void Update()\n        {\n            if (setResourcePanelNotDone)\n            {\n                iter\u002B\u002B;\n                Debug.Log(\u0022RememFlight - Update \u0022 \u002B iter);\n                ResourceDisplay.Instance.ShowResourceList(true);  //tried true and false\n\n                if (iter \u0026gt; 160)\n                {\n                    setResourcePanelNotDone = false;\n                }\n            }\n        }\n\n        public void OnDisable()\n        {\n            Debug.Log(\u0022RememFlight - Disable\u0022);\n            Debug.Log(\u0022RememFlight - Disable iter= \u0022 \u002B iter);\n            Debug.Log(\u0022RememFlight - Disable setResourcePanelNotDone= \u0022 \u002B setResourcePanelNotDone);\n        }\n\n    }\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere\u0027s log:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/bfrushgc5q7cxmp/KSP%20copy%2022.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EKSP log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI could try to clear the Null Refs with a callback/ delegate but why bother if the basic function\u00A0doesn\u0027t work? Unless the Null Refs are causing ShowResourceList to not work later? Doubtful. I could try looking in the AlternateResourcePanel mod but not sure what that might yield.\n\u003C/p\u003E\n\u003Cp\u003E\nSo... is this normal for everyone, to guess how to use the KSP API?\n\u003C/p\u003E\n\u003Cp\u003E\nUPDATE:\n\u003C/p\u003E\n\u003Cp\u003E\nThis basically works:\u00A0ResourceDisplay.Instance.appLauncherButton.SetTrue()\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-01T21:44:16Z\u0022 title=\u002205/01/2021 09:44  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 1, 2021\u003C/time\u003E by Krazy1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2021-05-16T15:36:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223962870\u0022 data-ipsquote-contentid=\u0022202071\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619670605\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/28/2021 at 10:30 PM, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo... is this normal for everyone, to guess how to use the KSP API?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGuess/experiment/examine mods that do something similar/ask here on the forum are the only ways I\u0027ve found.\n\u003C/p\u003E\n"}]}