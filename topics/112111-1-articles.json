{"TopicId":112111,"ForumId":36,"TopicTitle":"NFT Fuel Tank Capcities and Ratios Discussion","CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-06T01:22:42Z","PageNum":1,"Articles":[{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-06T01:22:42Z","Content":"So there\u0027s some discussion going around the NFT and CryoEngines threads about a Thing I Did . It is hereby split to here.\n\nBasically, LH2 is really light and airy and this makes problems. Not on its own, but when combined with LH2/OX rockets, regular LF/O engines and LV-Ns, things get messy. So maybe we need to discuss what to do?\n\nHere are some very basic constants that there is no room to change under this paradigm:\n\n- Liquid Fuel is 0.005 t/u and is 5.5 litres per unit\n- Oxidizer is 0.005 t/u and is 5.5 litres per unit\n- Liquid Hydrogen is 0.00007085 t/u and is 1.0 litres per unit\n\nSome of my general notes:\n\n- Placing LH2 in tanks according to their is not fun (too large)\n- Stock mass fractions for fuel tanks are very inaccurate and detrimental to things. However, messing with the mass fraction of stock tanks is off the table\n- LF/OX and LH2/OX need to exist in a realm together\n- If you want exact realism, get out of the thread ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nThings about NFT balance:\n\n- CryoEngines are burning fuel at 1 LOX:10 LH2 . This is close enough to stoich by mass for me. No point in making it 8.7 or whatever, or simulating oxygen rich, or fuel rich, or some exotic thing. Unlikely to change unless argument is \\*very\\* good.\n- CryoEngines\u0027 fuel switch patch guesses volumes at 5.5 x total tank capacity (LF\u002BO), then places 1.5x too much LH2 by volume in them. Oxidizer content is computed by ratio from that.\n- NFT orbital tanks have 1.5x too much LH2 in them by volume. Oxidizer calculated similarly.\n\nDiscuss! And everyone be nice. Or else."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T01:41:04Z","Content":"I dare assume NFT orbital tanks have better dry mass/wet mass ratio at the cost of drag (all the se xy skeletal framework and the like) and impact/heat tolerance. If this is not the case, then that\u0027s my suggestion. LH2 is relatively low mass so making the tanks lightweight too (obviously a fuel that low density is gonna have a rather poor wet/dry mass ratio in any case) helps make lifting a lot of them to orbit easier (I wont say easy because part wobble, length, fairing size, etc.).\n\nThe LH2/Ox mix in stock fuel tanks feels solid in terms of the cryo engines. Its easy enough to come by delta V, TWR, and generally anything else I need in lifters.\n\nLH2 in NTRs currently produces far far too little delta V for the sheer craft size. Here in lies the current problem.\n\nBelow is a StarLight tug being inserted into orbit. It uses a single nuclear lightbulb (porkjet) which I configured to run on LH2. Thats what it takes to push one of two 30 ton space station segments out to Jool.\n\n![48BRSlw.png](http://i.imgur.com/48BRSlw.png)\n\nThe problem is how KSP calculates fuel consumption. AFAIK, this is calculated based on engine Isp, thrust output, and fuel mass (as it is IRL). LH2\u0027s low mass makes the stuff get guzzled down. As for solutions, I got nothin\u0027 ATM."},{"CreatedByName":"billkerbinsky","CreatedById":136995,"CreatedDateTime":"2015-06-06T01:53:53Z","Content":"One way to reward LH2-fueled NTR\u0027s is to give LH2-throwing NTR\u0027s an ISP boost (or LF-throwing NTR\u0027s an ISP penalty, or both)\n\nNuclear thermal engines could be less picky about what reaction mass they use (LH2, LF, LFO, O, ...), but the ISP should vary depending on what they\u0027re throwing out the nozzle - lower atomic weight propellants will get thrown faster and as a result should have higher ISP. So you partly compensate for the lower density of LH2 by giving LH2-throwing NTR\u0027s higher ISP than LF-throwing NTR\u0027s. Apparently at the core temperatures found in plausible NTR designs molecular hydrogen decomposes into monatomic hydrogen and this itself gives an ISP boost.\n\nWhen I get a chance I\u0027ll play with the math I found here: [http://space.stackexchange.com/questions/2021/nuclear-thermal-rocket-specific-impulse-calculation-uses-1-amu-is-that-wrong](http://space.stackexchange.com/questions/2021/nuclear-thermal-rocket-specific-impulse-calculation-uses-1-amu-is-that-wrong) and come up with ISP fudge factors that seem plausible."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T01:57:35Z","Content":"\u003E \n\u003E One way to reward LH2-fueled NTR\u0027s is to give LH2-throwing NTR\u0027s an ISP boost (or LF-throwing NTR\u0027s an ISP penalty, or both)\n\u003E Nuclear thermal engines could be less picky about what reaction mass they use (LH2, LF, LFO, O, ...), but the ISP should vary depending on what they\u0027re throwing out the nozzle - lower atomic weight propellants will get thrown faster and as a result should have higher ISP. So you partly compensate for the lower density of LH2 by giving LH2-throwing NTR\u0027s higher ISP than LF-throwing NTR\u0027s. Apparently at the core temperatures found in plausible NTR designs molecular hydrogen decomposes into monatomic hydrogen and this itself gives an ISP boost.\n\u003E \n\u003E When I get a chance I\u0027ll play with the math I found here: [http://space.stackexchange.com/questions/2021/nuclear-thermal-rocket-specific-impulse-calculation-uses-1-amu-is-that-wrong](http://space.stackexchange.com/questions/2021/nuclear-thermal-rocket-specific-impulse-calculation-uses-1-amu-is-that-wrong) and come up with ISP fudge factors that seem plausible.\n\nI dare assume KSP Liquid Fuel is RP-1 kero, which has ~0.9 g/mL density. May I suggest basing the maths off of that value?"},{"CreatedByName":"Starbuckminsterfullerton","CreatedById":117494,"CreatedDateTime":"2015-06-06T02:03:33Z","Content":"I\u0027m honestly just glad that there is now such wide support for a Hydrogen/Kerosene/LOx fuel paradigm. Thanks so much for making it happen. \n\nAs far as I can tell there are only two ways to fix the tankage problem: higher capacity or higher density, and we\u0027ve already fudged the density and aren\u0027t messing with it anymore. \n\nTo me it doesn\u0027t make sense to alter the capacity for one fuel type but not another, so I think all the tanks could use a bit more, but since this isn\u0027t the CryoRockets thread where this usually happens, there are some other options open. I would say that the NFP tanks are of a sufficiently different construction to warrant different properties than the stock ones, and since the problem mostly occurs with LH2-only NTR vessels it might help to up their capacity only. it\u0027s already pretty high though. \n\nOh, and nuclear thermal engines do start to care if they are burning oxidizer... it starts to oxidize the engine!"},{"CreatedByName":"11of10","CreatedById":90592,"CreatedDateTime":"2015-06-06T02:37:46Z","Content":"I think NathanKell mentioned in RealFuels thread that stock LF/OX are close to Aerozine 50 and N2O4 by stats in resourceglobal.cfg file or something similar. Maybe you can use that."},{"CreatedByName":"GetOutAndPush","CreatedById":135219,"CreatedDateTime":"2015-06-06T02:46:52Z","Content":"I\u0027m going to watch this thread with a lot of interest. I don\u0027t get super hung-up on the realism aspect, but if a bunch of people agree that something works well, I\u0027ll use it in my playthroughs.\n\nWith the mods I\u0027m using I find it interesting comparing LqdHydrogen designs (with or without oxidizer) vs. Liquid/Oxidizer. The delta V and TWR ends up about the same, but the former cuts quite a few tons off of what I need to lift to orbit when I assemble them."},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2015-06-06T03:47:39Z","Content":"\u003E \n\u003E The delta V and TWR ends up about the same, but the former cuts quite a few tons off of what I need to lift to orbit when I assemble them.\n\nThis right here. I actually favor doing it the split way using LOX for the lower atmospheric lift and LH2/Ox for the upper stages to keep that weight down for the low end and remain efficient on the high end. As for the the NFT tank mass/volume issue I don\u0027t really have a solution either. Personally for me I tend to mix in the tanks as needed for various configurations but it tends to be when I need less dV that I use the NFT tanks since I get so much more out of other tanks. When I don\u0027t need as much, I go for the NFT tanks to conserve mass as a result of lower fuel weight. It seems to me that I can pretty much get whatever I need but I would like to see a solution that would make stock tanks and NFT tanks fairly interchangeable."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T03:51:43Z","Content":"I do the opposite. I use stock KSP fuels in my payloads and the cryogenics on my lifters. The advantage here is the lower fuel density doesnt drag my CoM down as much so my rockets are more stable than a stock equivalent."},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2015-06-06T06:57:11Z","Content":"LOL Rocket designs of all types...the heavy density of the the LOX is the reason I use it on the lower stage in order to keep center of mass as close to thrust as possible during primary lift. It does sometimes result in some tricky staging if I have to go between 10-15km on small two stage lifters but for bigger payloads, I always will use at least 3 so I end up staging the payload somewhere around 35-40km or higher. Not quite as stable but I can get to a 100km staging orbit on 3800-4000 dV with no problem at all.\n\nAnyway, back to my original latest post. I\u0027ve been playing around with the various NFT tanks tonight and getting a bit more of an idea where some of the inconsistencies might exist. One thing I\u0027m finding is that on my larger lifters (3.75m), the NFT tanks are pretty well balanced against stock. Just a basic example of this:\n\nResults shown from Engineer using KS-68 \u0027Mars\u0027 Cryoengine with vacuum settings around Kerbin with a 108 kt payload\n\n- Kerbodyne S3-7200 w/ LH2/Ox = 24,601 kg = 580 m/s dV. This setup has 36,000/3600 LH2/Ox. Tank dry mass is 4.05t\n- NFP Mondo-30 Hydrogen Tank w/ LH2/Ox = 21899 kg = 581 m/s dV. This setup has 35450/3545 LH2/Ox. Tank dry mass is 1.66t\n\nSo, as can be seen here, the performance is pretty much identical (don\u0027t think we\u0027re gonna quibble over 1 m/s dV) but there is one huge difference - cost. This may not apply to some people but does to those of us who are heavy career players (all I play actually). The Kerbodyne tank is only 5166.2 whereas the Mondo-30 is 18194.4. That\u0027s a significant difference you pay for simply saving 2.39t. The height difference between the two is nearly negligible too with the Mondo-30 saving you .1m of height. Where I see there are inconsistencies in a number of other tanks, what I\u0027m seeing on the 3.75m formats seem to be very well balanced. The other size 3 NFP tanks are a little more complicated to simulate and I would never fly those kinds of configurations with size 1,2 and 3 stock tanks mixed together but when I put them on just to balance out weights/fuel totals I see pretty much the same thing as I do between the Mondo-30 and Kerbo 7200 in the 3.75m lines."},{"CreatedByName":"Hotaru","CreatedById":135669,"CreatedDateTime":"2015-06-06T09:21:46Z","Content":"Here\u0027s what I posted in the NFP thread. I tried different tankage/engine combos for a 2.3-ton command module, and here\u0027s the result:\n\nTunguska \u002B LH2/OX Jumbo: wet mass 29.3t, dry mass 9.8t, TWR 0.96, 4317 m/s delta-v. \n\nTunguska \u002B LH2/OX NFP tankage: wet mass 31t, dry mass 7.6t (!), TWR 0.90, 5525 m/s delta-v.\n\nHydrogen LV-N \u002B LH2 NFP tankage: wet mass 29.4t, dry mass 8.25t, TWR 0.21, 7152 m/s delta-v. \n\nHydrogen LV-N \u002B LH2 Jumbo tanks: wet mass 29.0t, dry mass 17.3t (!), TWR same, 3950 m/s delta-v. \n\nThe only times the cryo rocket came anywhere close to the nuke in terms of delta-v was when I either used a stock tank with LH2 for the nuke (much too heavy!) or an NFP tank with LH2/OX for the cryo (a little too light). As long as I stuck with using tanks for roughly their intended purpose (NFP tanks for LH2 only, stock tanks for fuel/oxidizer combinations), things seem pretty balanced, at least for this size of ship. Stock LF/OX engines get high TWR and low delta-v, hydrogen nukes get low TWR and high delta-v, cryo rockets ended up about halfway in-between, which is pretty much (in my non-engineer\u0027s mind at least) the way it should be. \n\nMy only suggestion would be (if this is possible) to disable Interstellar Fuel Switch for the NFP tanks, keep them restricted to LH2-only.\n\nEDIT: Just for the sake of argument, here are the values for the same ship with LF/O propulsion. \n\nPoodle \u002B LF/O stock tanks: wet mass 27.8t, dry mass 6.6t, TWR 0.92, 4361 m/s delta-v. \n\nSkipper \u002B LF/O stock tanks: wet mass 29.1t, dry mass 7.8t, TWR 2.28, 3659 m/s delta-v. \n\nWhich is interesting because the Poodle option actually compares favorably to the Tunguska option (and is a bit cheaper to boot, for us career-mode people). Presumably the difference is because the Poodle is half the weight of the Tunguska, and really more a cryo equivalent to the Skipper. If I use a Chelyabinsk instead (love the names, by the way), delta-v goes back up to 5171 at cost of an NTR-like TWR of 0.21.\n\n**Edited \u003Ctime datetime=\u00222015-06-06T09:35:43Z\u0022 title=\u002206/06/2015 09:35  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by Hotaru**"},{"CreatedByName":"helaeon","CreatedById":101767,"CreatedDateTime":"2015-06-06T10:22:16Z","Content":"Just from when I was playing around with the CryoEngine mass ratios from before... I tried 1:4, 1:6, 1:8, 1:10, 1:12... 1:10 as you have it now is the most sane. I did the actual tests on it. 1:10 is the way (works best for gameplay, makes writing configs far simpler, is close enough for chemistry purposes, works nice if one wants to add a module to the ISRU to make LH2 and Ox).\n\nSo that one should simply go off the table.\n\nI haven\u0027t gotten into the NFT Hydrogen stuff yet, but from what I\u0027m seeing on the cryoengines side the tankage is pretty close to perfect as far as I\u0027m concerned from what I seem to recall you wanted for tradeoffs for Kerosene vs LH2. \n\nMy 2 cents then would be to make the NFT electrical parts do what you think is best for delta-V via ISP (and adjust the electrical use so with the new ISP they use the amount of electricity per second at full throttle you\u0027d like) and leave the tanks the way they are. So, if from the NFT-Propulsion side we\u0027re needing too many hydrogen tanks for fun... have the MPDTs use less hydrogen per second, but same amount of electricity. Looks like maybe the same should happen for the NTRs as far as fuel use and thrust when using LH2. Properties of a kerbal NTR should be what they must be to fill the spaceflight role they\u0027re supposed to demonstrate rather than adhering to what real world numbers are... as we\u0027re not using real world NTRs because real ones behave quite differently to what we have now."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-06-06T11:55:28Z","Content":"I\u0027m not sure if everyone is aware of this but IFS allow different mass when switching between Liquid Hydrogen and Liquid Fuel. I myself use the standard that a LH tank is 1/6 the dry mass of a LF tank.\n\n**Edited \u003Ctime datetime=\u00222015-06-06T12:13:17Z\u0022 title=\u002206/06/2015 12:13  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"PickledTripod","CreatedById":135197,"CreatedDateTime":"2015-06-06T14:44:10Z","Content":"\u003E \n\u003E My only suggestion would be (if this is possible) to disable Interstellar Fuel Switch for the NFP tanks, keep them restricted to LH2-only.\n\nI also think that this would be the best solution. Another idea would be to increase the dry mass of the NFP tanks if you put oxidizer in them, making it close to the stock tanks, so you can keep all the aesthetic possibilities while having good balance.\n\n- - - Updated - - -\n\nAlso maybe, just maybe, increasing the NTR\u0027s ISP a little bit? According to Wikipedia solid-core NTRs running on liquid hydrogen typically achieved ISPs of 850 to 1000s, while the LV-N is only 800s in vacuum. 900s would be reasonable I think."},{"CreatedByName":"billkerbinsky","CreatedById":136995,"CreatedDateTime":"2015-06-06T16:08:51Z","Content":"\u003E \n\u003E Also maybe, just maybe, increasing the NTR\u0027s ISP a little bit? According to Wikipedia solid-core NTRs running on liquid hydrogen typically achieved ISPs of 850 to 1000s, while the LV-N is only 800s in vacuum. 900s would be reasonable I think.\n\nSo what I\u0027m seeing is that the ISP of solid-core NTR\u0027s running on H2 should increase modestly (like you say, to perhaps ~900-950s or so), while solid-core NTR\u0027s running on stuff made of bigger atoms should have substantially lower ISP, likely closer to that of chemical rockets. Higher-temperature NTR\u0027s should have proportionately higher ISP\u0027s, again with LH2 having a substantial ISP boost over LF. \n\none convenient table is here:\n\n [http://www.projectrho.com/public_html/rocket/enginelist.php#ntrsolidcore](http://www.projectrho.com/public_html/rocket/enginelist.php#ntrsolidcore)\n\nnote that 1: ISP is exhaust velocity divided by earth\u0027s gravity - divide the velocities by 9.8 m/s^2 to get ISP\n\nand 2: the table assumes that the heat in the engine core will cause propellants to decompose into molecular gases.\n\nI haven\u0027t yet reverse engineered the decompositions picked to do an analogous one for RP-1, but the exhaust velocity \u0026 ISP should be lower than methane due to the proportionately higher carbon content.\n\n- - - Updated - - -\n\n\u003E \n\u003E I\u0027m not sure if everyone is aware of this but IFS allow different mass when switching between Liquid Hydrogen and Liquid Fuel. I myself use the standard that a LH tank is 1/6 the dry mass of a LF tank.\n\nCan a plugin tell if a tech node is unlocked?\n\nIt would make sense for materials science research to result in decreased tank dry mass. Look at the Space Shuttle external tank: The initial version was 35t; after a bunch of those were made they cut the weight to 30t; later on they changed the alloy to an Aluminum-Lithium mix and reduced the weight to 26.5t. You could reflect this by unlocking additional parts but it would quickly get unwieldy.\n\nFor career game balance, I\u0027d think lighter tanks should generally be more expensive."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-06-06T16:39:25Z","Content":"\u003E Can a plugin tell if a tech node is unlocked?\n\nYes it can, I do it all the time in KSPI-E. I\u0027m considering adding 1 or more tech upgrades to IFS which make the tank lighter by a small percentage."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T18:11:57Z","Content":"Well I just wasted an hour of my life extracting raw data, a LOT of it. For those interested, my raw data is below. All data gathered via KER VAB readouts.\n\n\u003E \n\u003E \n\u003E \n\u003E Chelyabinsk \u002B FL800 = 4,755 dV \u002B 1.61-4.67 TWR (3,533kg)  \n\u003E Chelyabinsk \u002B Centi 3 = 6,053 dV \u002B 1.34-5.19 TWR (4,194kg)  \n\u003E LH2 Nerv \u002B FL800 = 753 dv \u002B 1.60-1.75 TWR (3,861kg)  \n\u003E LH2 Nerv \u002B Centi 3 = 1,076 dV \u002B 1.65-1.86 TWR (3,705kg)  \n\u003E LF Nerv \u002B FL800 = 5,979 dV \u002B 0.82-1.75 TWR (7,500kg)  \n\u003E LV909 \u002B FL800 = 5,445 dV \u002B 1.22-6.12 TWR (5,000kg)  \n\u003E 2.5m-----------------------------------------------------------  \n\u003E Tunguska \u002B Jumbo 64 = 5,642 dV \u002B 1.11-3.98 TWR (35,317kg)  \n\u003E CHelyabinsk \u002B Jumbo 64 = 7,315 dV \u002B 0.25-1.27 TWR (22,667kg)  \n\u003E Tunguska \u002B HM21 = 7,243 dV \u002B 1.02-5.26 TWR (27,515kg)  \n\u003E CHelyabinsk \u002B HM21 = 9,940 dV \u002B 0.23-2.09 TWR (24,865kg)  \n\u003E LH2 Nerv \u002B Jumbo 64 = 3,843 dV \u002B 0.62-0.96 TWR (9,891kg)  \n\u003E LH2 Nerv(x2) \u002B Jumbo 64 = 2,768 dV \u002B 0.94-1.29 TWR (12,971kg)  \n\u003E LH2 Nerv \u002B HM21 = 4,261 dV \u002B 0.77-1.25 TWR (7,909kg)  \n\u003E LH2 Nerv(x2) \u002B HM21 = 2,846 dV \u002B 1.11-1.54 TWR (10,989kg)  \n\u003E LF Nerv \u002B Jumbo 64 = 13,476 dV \u002B 0.16-0.87 TWR (39,000kg)  \n\u003E LF Nerv(x2) \u002B Jumbo 64 = 11,211 dV \u002B 0.29-1.21 TWR (42,080kg)  \n\u003E Poodle \u002B Jumbo 64 = 6,459 dV \u002B 0.68-4.43 TWR (37,750kg)  \n\u003E 3.75m----------------------------------------------------------  \n\u003E Yukutan \u002B Kerbo S3 = 5,234 dV \u002B 2.54-8.67 TWR (58,151kg)  \n\u003E Tunguska \u002B Kerbo S3 = 6,695 dV \u002B 0.53-2.43 TWR (52,651kg)  \n\u003E Yukutan \u002B Mondo 60 = 6,595 dV \u002B 2.49-11.68 TWR (59,356kg)  \n\u003E Tunguska \u002B Mondo 60 = 8,911 dV \u002B 0.52-3.92 TWR (53,856kg)  \n\u003E LH2 Nerv \u002B Kerbo S3 = 4,877 dV \u002B 0.33-0.57 TWR (18,506kg)  \n\u003E LH2 Nerv(x4) \u002B Kerbo S3 = 2948 dV \u002B 0.88-1.23 TWR (27,666kg)  \n\u003E LH2 Nerv \u002B Mondo 60 = 5,902 dV \u002B 0.47-0.91 TWR (13,077kg)  \n\u003E LH2 Nerv(x4) \u002B Mondo 60 = 2,983 dV \u002B 1.10-1.54 TWR (22,237kg)  \n\u003E LF Nerv \u002B Kerbo S3 - 15,266 dV \u002B 0.07-0.51 TWR (84,000kg)  \n\u003E LF Nerv(x4) \u002B Kerbo S3 = 11,628 dV \u002B 0.26-1.16 TWR (93,160kg)  \n\u003E Poodle \u002B Kerbo S3 = 7,005 dV \u002B 0.31-2.37 TWR (82,750kg)  \n\u003E   \n\u003E Tank data------------------------------------------------------  \n\u003E FL800 LH2/Ox = 4,000 LH2 \u002B 400 Ox  \n\u003E FL800 LH2 = 6,160 LH2  \n\u003E FL800 LF = 800 LF  \n\u003E FL800 LFO = 360 LF \u002B 440 Ox  \n\u003E FL800 dry = 500kg  \n\u003E Centi 3 LH2 = 6,000 LH2  \n\u003E Centi 3 LH2/Ox = 5,455 LH2 \u002B 545.5 Ox  \n\u003E Centi 3 DRY = 280kg  \n\u003E Jumbo 64 LH2/Ox = 32,000 LH2 \u002B 3,200 Ox  \n\u003E Jumbo 64 LH2 = 49,380 LH2  \n\u003E Jumbo 64 LF = 6400 LF  \n\u003E JUmbo 64 LFO = 2,,880 LF \u002B 3,520 Ox  \n\u003E Jumbo 64 DRY = 4,000kg  \n\u003E HM21 LH2 = 42,750 LH2  \n\u003E HM21 LH2/Ox = 38,863.6 LH2 \u002B 3866.4 Ox  \n\u003E HM21 DRY = 1880kg  \n\u003E Kerbo S3 LH2/Ox = 72,000 LH2 \u002B 7,200 Ox  \n\u003E Kerbo S3 LH2 = 110,880 LH2  \n\u003E Kerbo S3 LF = 14,400 LF  \n\u003E Kerbo S3 LFO = 6480 LF \u002B 7920 Ox  \n\u003E Kerbo S3 DRY = 9000kg  \n\u003E Mondo 60 LH2 = 90,000 LH2  \n\u003E Mondo 60 LH2/Ox = 81,818.2 LH2 \u002B 8,181.8 Ox  \n\u003E Mondo 60 DRY = 3700kg\n\u003E \n\u003E \n\u003E     1.25m----------------------------------------------------------\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\n**The numbers Mason, what do they mean?**\n\nAnyone here get the reference?\n\nOne thing that\u0027s blatantly obvious is that the LH2 Nerv gets a heck of a lot less dV for the same tankage. On the other hand, the LH2 Nerv gets more delta V per mass than the cryo engines. The Chelyabinsk \u0026 HM21 tank give 9,940 delta V with a total mass of 24,865 kg. The LH2 Nerv \u0026 HM21 tank has only 4,261 delta V, but only weighs in at 7,909kg. The cryo engine gives 0.40m/s dV/kg whereas the Nerv gives 0.54 m/s dV/kg. For additional comparison, the LH2 Nerv gives 0.39m/s dV/kg when placed on a Jumbo 64. Conversely, the LF Nerv gives 0.35m/s dV/kg. As a final reference point, the Chelyabinsk gives 0.32m/s dV/kg. Those number speak for themselves. If we, however, put this in context that the cryo engine gets almost twice the dV per jumbo 64 that the LH2 Nerv does, and that the LF Nerv gets three and a half times the dV per tank (assuming tank is set to engine\u0027s fuel only), the convenience of having to take three and a half times less tankage for the same dV, even at a significantly lower TWR, becomes the higher concern for the player. The gains in efficiency are not significant enough over the losses in convenience to make this appealing.\n\nAdditionally, the NFP LH2 tanks have a bit of wierdness going on when they\u0027re filled with LH2/Ox. This can be seen in the table above as their masses are **greater** than stock tanks with the same fuel composition even though their dry masses are lower and their volumes are roughly the same. What I gather is that the fudge factor on fuel volumes is applied to the NFP tanks but not the stock tanks when using the fuel switcher. \n\n(As a random sidenote, I had an idea on alternate meshes. Perhaps the LH2 section could shrink down to about 90% of the tank\u0027s length and the other 10% became four small white cylinders for the LOX.)\n\nThe NFP tanks have a measurable advantage for mass and dV however they are currently at a **disadvantage** for sheer volume. I presume this is because stock tanks assume the entire tank mesh is usable volume, whereas Nertea calculates his tank volumes based on the actual gold pill tank inside the structural framework. The Jumbo 64 holds ~13.5% *more* LH2 than the HM21, which is the Near Future equivalent.\n\n**Where do we go from here?**\n\nPlease keep in mind that KSP is a game first, simulator second. It does need to be balanced somewhat realistically. KSP needs to be balanced so real world concepts can carry over into the game and vice versa, as well as being balanced so something a person looks at a thinks \u0022this looks like it should work\u0022, will actually work. It also needs to be set up for good gameplay \u0026 fun value. I will offer my suggestions based on these assertions.\n\nFirstly, I do not want to change the fuel quantities on stock tanks configured to hold LH2/Ox.\n\n\u003E ![JAxJ3Yk.png](http://i.imgur.com/JAxJ3Yk.png)\n\u003E I\u0027d like to not invalidate this rocket based on the determinations here.\n\nI feel the above LV is big enough that someone would think \u0022that looks like it should work\u0022 and it does. Inversely I feel like what it takes to move a semi-reasonable payload out to Jool is far more than it needs to be.\n\n\u003E ![48BRSlw.png](http://i.imgur.com/48BRSlw.png)\n\u003E This is a good bit larger than what I imagine someone would look at and say \u0022yeah that looks about right\u0022.\n\nMy normal reccomendation would be to add a fudge factor to the NFP tanks that is not shared by the stock fuel tanks, however I think in the effort of keeping a shred of realism (since this pack aims to appear more realistic than stock, even if it is not) that option is off the table. An alternative proposal would be to remove the fudge factor from stock tanks, but again, this only exaggerates the problem when using certain parts, rather than fixing it.\n\nLH2/Ox is in a solid place right now, even if there is mass wierdness with the NFP tanks. Cryo engines gain a measurable and often significant boost in dV from using the NFP tanks than using stock tanks, as one would expect given their intent to be more efficient, yet not suitable for launch vehicles (boosting their drag coefficient slightly would be a great motivator here).\n\nLH2 is definitely in a bit of a bind. I feel the best solution would be to adjust the fudge factor slightly. To affect maximum noticeable difference for minimum value adjustment, I would change both the stock and NFP fudge factors to make them farther apart, while reducing the amount you need to change either. I think increasing the NFP tank FF by 10% (to 1.6 from 1.5) and decreasing the stock FF by 10% (to 1.4 from 1.5) would create enough of a measurable difference in delta V while creating a relatively modest change in tank capacity all around.\n\nThere\u0027s probably a LOT I didn\u0027t touch on that I should have, but this post was getting long enough and has eaten almost two hours to extract the data, analyze, make determinations, validate my logic, and write the post. If you want to use my data to expand this or another line of thinking, please do.\n\nEDIT:\n\n**On engine Isp \u0026 Tank Mass**\n\nTo address some of the other points in the thread previous, I feel we shouldnt touch on engine performance too much. I especially think there should not be nerfing of stock performance to create a reason for this version to be used. Doing that gets into a bit of a different scope. I know Nertea had some **awesome** sketches for NTRs a while back when he was fed up with landing legs and IVAs. If he were to go into making a \u0027Near Future Atomic Rockets\u0027 then I think that comes into scope a lot more.\n\nIn regards to tank mass, I believe the dry masses of NFP tanks are sufficiently low. The larger the tank, the better the dry mass is compared to stock tanks. The Centi-3 has only a 44% better dry mass while the Mondo 60 has 60% less dry mass than the Kerbodyne S3. I believe this is a significant enough difference.\n\n**Edited \u003Ctime datetime=\u00222015-06-06T18:18:47Z\u0022 title=\u002206/06/2015 06:18  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by Captain Sierra**"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-06T18:42:13Z","Content":"Poking around in the IFS config, I found something that struck me as inconsistent. For the stock fuel tanks, there is a mass adjustment if you use an LH2-containing configuration:\n\n    // masses%mixLH2mass = #$mass$@mixLH2mass *= 0.9%onlyLH2mass = #$mass$@onlyLH2mass *= 0.85\n\nBasically, a stock tank with LH2/OX has 90% the usual dry mass, and LH2-only has 85%. This seems reasonable, given that LH2 weighs a lot less than LF, and the tank therefore doesn\u0027t need as much structural reinforcement.\n\nHowever, for Nertea\u0027s cryogenic tanks, there is no mass adjustment for OX-containing configurations. It simply reads:\n\n    tankMass = #$../mass$;$../mass$;$../mass$\n\nIn order to be consistent with the adjustments made for stock tanks, it seems like the cryo tanks should include the following:\n\n    // masses%mixLH2mass = #$mass$@mixLH2mass *= 1.06%onlyOXmass = #$mass$@onlyOXmass *= 1.18\n\n**Edited \u003Ctime datetime=\u00222015-06-06T21:17:53Z\u0022 title=\u002206/06/2015 09:17  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by Fraz86**"},{"CreatedByName":"pacbard","CreatedById":129899,"CreatedDateTime":"2015-06-06T20:12:27Z","Content":"Tank you (get it? ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif)) cap. Sierra for the data. I have [this spreadsheet](https://docs.google.com/spreadsheets/d/1ZiWCpNWoMdCv-QSPKVg9vvkf9NRRq94Jb5gByab1JG8/edit?usp=sharing) to calculate some data about the tanks. Let me know if you guys want help out with the numbers.\n\nThe first thing that I noticed is that the fuel switch patch for Liquid Hydrogen only tanks has a logical error in calculating the quantities for the mixed tank. Right now, it takes the total volume in liters for the tank, it finds how much liquid hydrogen it needs for the fuel mix (1:10), then it fills the rest of the tank with oxidizer. This would work fine if the liquid hydrogen and oxidizer had the same units of measure. Unfortunately, oxidizer is measured in fuel units (which are 5.5 liters).\n\n As of right now, a LH tank converted to OX only holds 3.6 times more volume in fuel units (even after the 1.5 rescale factor is applied). A mixed LH\u002BOX tank holds 1.4 times more volume in fuel units. In theory, the total volume available for a mixed tank should decrease as some space is taken up by the intertank. \n\nIf we want to keep the NF tanks in line with the stock fuel-switched tanks, we modify the fudge factors for OX only tanks to 3 (from the current 1.5). This will give us a wet/dry weight ratio of about 8 (down from the current 16). A fudge factor of 2 for the LH\u002BOX tanks will give a wet/dry ratio of about 7 (currently this is about 14).\n\n\u003E \n\u003E The new code for the fuel switch with the new volume fudge factors could be this:\n\u003E \n\u003E \n\u003E \n\u003E // Pure LH2 tanks  \n\u003E @PART  \n\u003E [\\*]:HAS[@RESOURCE[LqdHydrogen],!MODULE[InterstellarFuelSwitch],!MODULE[ModuleEnginesFX],!MODULE[ModuleEngines],!MODULE[FSfuelSwitch]]:NEEDS[!modularFuelTanks]:NEEDS[!RealFuels] {  \n\u003E   \n\u003E  %LH2 = #$RESOURCE[LqdHydrogen]/maxAmount$  \n\u003E   \n\u003E   \n\u003E  %mixLH2 = #$LH2$  \n\u003E  @mixLH2 /= 2 // New volume factor  \n\u003E  @mixLH2 /= 1.1  \n\u003E  %mixOX = #$LH2$  \n\u003E  @mixOX -= #$mixLH2$  \n\u003E   \n\u003E  %OX = #$LH2$  \n\u003E  @OX /= 3 // Updated volume factor  \n\u003E  @OX /= 5.5  \n\u003E   \n\u003E   \n\u003E   \n\u003E  MODULE {  \n\u003E  name = InterstellarFuelSwitch  \n\u003E   \n\u003E   \n\u003E  volumeMultiplier = 1  \n\u003E  massMultiplier = 1  \n\u003E   \n\u003E  resourceGui = LH2;LH2/OX;OX  \n\u003E  resourceNames = LqdHydrogen;LqdHydrogen,Oxidizer;Oxidizer  \n\u003E   \n\u003E   \n\u003E  resourceAmounts = #$../LH2$;$../mixLH2$,$../mixOX$;$../OX$  \n\u003E   \n\u003E   \n\u003E  displayCurrentTankCost = true  \n\u003E   \n\u003E   \n\u003E  hasGUI = true  \n\u003E  showInfo = true  \n\u003E   \n\u003E  availableInFlight = false  \n\u003E  availableInEditor = true  \n\u003E   \n\u003E   \n\u003E  basePartMass = 0  \n\u003E  tankMass = #$../mass$;$../mass$;$../mass$  \n\u003E  }  \n\u003E   \n\u003E  !RESOURCE[LqdHydrogen] {}   \n\u003E }\n\u003E \n\u003E \n\u003E     \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\n**Edited \u003Ctime datetime=\u00222015-06-07T02:09:05Z\u0022 title=\u002206/07/2015 02:09  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 7, 2015\u003C/time\u003E by pacbard**"},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T20:41:14Z","Content":"I\u0027m not sure we should be balancing quantity vs wet/dry mass ratio. The NFP tanks purposely have a far better ratio than stock tanks. I\u0027m not following what you\u0027re getting at.\n\nAnd you\u0027re very welcome for the numbers."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-06T20:42:23Z","Content":"I did some further investigation regarding dry mass adjustments. I began with 3 premises regarding how dry mass ought to change when fuel-switching stock tanks:\n\n1) OX-only should have the same dry mass as LF/OX for a given tank size\n\n2) LH2-containing configurations should have a lower dry mass than non-LH2-containing configurations\n\n3) There should not be a significant difference in total dry mass between an LH2-only tank \u002B an OX-only tank versus an LH2/OX tank with equivalent total capacities\n\nI used the Jumbo-64 as a reference point:\n\n[table=width: 500]\n\n[tr]\n\n [td][/td]\n\n [td]LH2[/td]\n\n [td]OX[/td]\n\n[/tr]\n\n[tr]\n\n [td]Jumbo-64: LH2/OX[/td]\n\n [td]32000[/td]\n\n [td]3200[/td]\n\n[/tr]\n\n[tr]\n\n [td]Jumbo-64: LH2-only[/td]\n\n [td]49280[/td]\n\n [td]0[/td]\n\n[/tr]\n\n[tr]\n\n [td]Jumbo-64: OX-only[/td]\n\n [td]0[/td]\n\n [td]6400[/td]\n\n[/tr]\n\n[/table]\n\nTherefore, in order to have the equivalent capacity of one LH2/OX Jumbo-64 tank, you would need 50% of an OX-only Jumbo-64 and ~65% of an LH2-only Jumbo-64. The dry mass of an LF/OX Jumbo-64 is 4, and therefore (according to premise #1), 50% of an OX-only tank should have a dry mass of 2.\n\nCurrently, with the 85% modifier, the dry mass of 65% of an LH2-only Jumbo-64 would be 4 \\* 0.65 \\* 0.85 = 2.21. This is problematic, because 2.21 (LH2 tank) \u002B 2 (OX tank) = 4.21, which is substantially greater than the current LH2/OX Jumbo-64 dry mass of 3.6 (violating premise #3).\n\nBasically, in order to fulfill premises 2 \u0026 3, the LH2-only mass modifier needs to be significantly lower, and the LH2/OX also needs to be modified. Here is a conservative example:\n\n    // masses%mixLH2mass = #$mass$@mixLH2mass *= 0.95%onlyLH2mass = #$mass$@onlyLH2mass *= 0.7\n\nAnd this for cryogenic tanks:\n\n    // masses%mixLH2mass = #$mass$@mixLH2mass *= 1.36%onlyOXmass = #$mass$@onlyOXmass *= 1.43\n\nEDIT:\n\nAlternatively, as an example of a more aggressive option:\n\n    // stock tank masses%mixLH2mass = #$mass$@mixLH2mass *= 0.76%onlyLH2mass = #$mass$@onlyLH2mass *= 0.4// cryogenic tank masses%mixLH2mass = #$mass$@mixLH2mass *= 1.9%onlyOXmass = #$mass$@onlyOXmass *= 2.5\n\n**Edited \u003Ctime datetime=\u00222015-06-08T18:13:09Z\u0022 title=\u002206/08/2015 06:13  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 8, 2015\u003C/time\u003E by Fraz86**"},{"CreatedByName":"Starbuckminsterfullerton","CreatedById":117494,"CreatedDateTime":"2015-06-06T21:00:16Z","Content":"\u003E \n\u003E My only suggestion would be (if this is possible) to disable Interstellar Fuel Switch for the NFP tanks, keep them restricted to LH2-only.\n\nI like this, those tanks look like one fuel tanks anyway. You can always use a stock tank of just oxidizer. \n\n\u003E \n\u003E I\u0027m not sure if everyone is aware of this but IFS allow different mass when switching between Liquid Hydrogen and Liquid Fuel. I myself use the standard that a LH tank is 1/6 the dry mass of a LF tank.\n\nThis sounds like a good solution, reduce the mass penalty of extra tankage only when using hydrogen!"},{"CreatedByName":"pacbard","CreatedById":129899,"CreatedDateTime":"2015-06-06T21:14:02Z","Content":"\u003E \n\u003E I\u0027m not sure we should be balancing quantity vs wet/dry mass ratio. The NFP tanks purposely have a far better ratio than stock tanks. I\u0027m not following what you\u0027re getting at.\n\nWe need to have a way to compare the different tanks that is constant (or close to constant) between the different tank setups if we want to balance them. We have volume (either in liters or fuel units - it\u0027s really the same) or fuel to tank mass ratio (wet/dry ratio). These two quantities only depend on the tank setup (I am curious if there is another way to compare the different tank setups). We could also use total delta v from a tank\u002Bengine setup. However, we will have too many variables to control (most notably, engine ISP, engine weight, and payload). I will add another sheet with the delta v calculations to the spreadsheet later today or tomorrow.\n\nWe know that stock tanks have all constant volume (based on size), mass (0.000625 times the volume), and wet/dry ratio (always 8). So this is our baseline. Right now, stock fuel switched tanks to liquid hydrogen and oxidizer hold about 1.4 times more fuel units and the liquid hydrogen only tanks hold exactly 1.4 times more fuel units. If we consider the wet/dry ratio, liquid hydrogen tanks are always 1.09. The mixed tanks\u0027 wet/dry ratios are all over the place because of how the fuel fraction is calculated (it does not keep volume or wet/dry ratio constant between tanks). For example, this [patch](https://forum.kerbalspaceprogram.com/threads/117766-1-02-Cryogenic-Engines-high-Isp-chemical-rockets%21-%2804-06-15-two-more-fixes%29?p=1986787\u0026viewfull=1#post1986787) would keep the volume constant for LH\u002BOX setups.\n\nIf we don\u0027t want to touch the fuel volume, we can always play around with the tank weight (probably easier and faster). In this way, we can keep the current fuel quantities in the tanks but we will change the wet/dry ratios. For example, if we agree to have a wet/dry ratio of 2 for LH\u002BOX tanks, we can adjust the tank weight accordingly."},{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-06T21:31:24Z","Content":"That makes more sense. Thanks.\n\nBalancing vs volume is probably the best viable option here, as the NFP tanks are purposely lighter relative the stock equivalents by size. Its also important to note that, as of current, NFP tanks have, on average, around 80% the LH2 capacity of stock tanks when comparing pure LH2 capacity. This definitely needs to get reversed. My suggested balancing scheme has been to make NFP tanks lighter and possibly slightly higher capacity than stock tanks, at the cost of heat resistance, drag, and structural integrity (they\u0027re designed for orbit, not launch vehicles).\n\nIn regards to dry mass, Can the assumption be made that the different tank setups lose negligible volume to intertank space and gain negligible mass? I think these can be safe in the interest of not overcomplicating an already unnecessarily complicated problem.\n\nOn another note, we appear to be having about 3 different discussions all at the same time. We\u0027re trying to fix inconsistencies on fuel volumes (which is gonna be difficult since stock tanks aren\u0027t entirely consistent with themselves), and we\u0027re attempting to balance the fuels in two different directions because of a specific interaction that not everyone uses (you need the HydrogenNTRs patch, Cryo Engines, and NFP for this to even be applicable).\n\nI feel like we\u0027re making a bigger deal out of this than we probably needed to, but since the can of worms is already open, lets continue."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-06-06T21:46:37Z","Content":"You might want to consider how other mods implement this. For Interstellar Fuel Tanks, I\u0027m currently using a 4:1 for LqdHydrogen /LqdOxygen, which uses the same ratio for NTR Hydrolox mode. This is a very convenient mix, which is easy to implement and never leaves any remaining fuel in the tanks."}]}