{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":70,"Articles":[{"CreatedByName":"TAz00","CreatedById":41667,"CreatedDateTime":"2015-05-25T09:49:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThey\u0027re static relative to the part. As sarbian says, the \u003Cem\u003Eposition of the origin\u003C/em\u003E changes. Five units right of the part will always be five units right of the part: relative positions are preserved. But absolution position is not preserved, because the very origin of the universe shifts (to avoid FP issues). Always rely on relative positions, not absolute positions.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, but right now this is the only code I have for positioning:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EGameObject launchPos = new GameObject();\u003Cbr\u003EVector3 worldPosition = _srcPart.transform.TransformPoint(_spawnOffset);\u003Cbr\u003ElaunchPos.transform.position = worldPosition;\u003Cbr\u003ETransform launchTransform = launchPos.transform;\u003Cbr\u003E_newConstructRootPart.localRoot.transform.Translat  e(launchTransform.position, Space.World);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd it still results in the same warping (notice it spawns at -15m in the debug log?)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/zooxFswkwmo?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EYou even explained it quite nicely here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/105756-transform-position-changes-after-revert-flight-to-launch\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/105756-transform-position-changes-after-revert-flight-to-launch\u003C/a\u003E \u003C/p\u003E\u003Cp\u003EAnd there\u0027s a solution too, yet I still can\u0027t fathom it or get it to work properly. Seems so simple\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-25T13:13:40Z\u0022 title=\u002205/25/2015 01:13  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 25, 2015\u003C/time\u003E by TAz00\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TAz00","CreatedById":41667,"CreatedDateTime":"2015-05-27T11:16:26Z","Content":"\n\u003Cp\u003EI figured out my problem might not be position, as the videos show, the vessel spawns in the correct position. And then warps once physics are enabled...\u003C/p\u003E\u003Cp\u003E*sleepless nights continue*\u003C/p\u003E\n"},{"CreatedByName":"IRnifty","CreatedById":85825,"CreatedDateTime":"2015-05-29T23:53:14Z","Content":"\n\u003Cp\u003EHey all, Nifty here.\u003C/p\u003E\u003Cp\u003EI have a question about getting something to run during any scene in which game time is running. I\u0027ve gathered that I\u0027m going to need to use KSPScenario and ScenarioModule, but I\u0027m not sure on how to detect the passage of time during the update loop. I need this in order to run part failure calculations for vessels that are unloaded (for my part failure mod Kerbal Mechanics). I just did some testing with HighLogic.CurrentGame.universalTime, but that appears not to move at all at least up to 5 decimals for whatever reason...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-05-30T01:28:31Z","Content":"\n\u003Cp\u003ETimeWarp.fixedDeltaTime, when checked in FixedUpdate, gives you time since last update. Or you can just store the last Planetarium.GetUT() and subtract it from the current to get time elapsed.\u003C/p\u003E\n"},{"CreatedByName":"problemecium","CreatedById":101649,"CreatedDateTime":"2015-05-30T04:37:28Z","Content":"\n\u003Cp\u003EBlarg.\u003C/p\u003E\u003Cp\u003EI tried to find this myself, but to no avail, so here I am asking again: Does anyone know how to check programmatically whether a solar panel is open, closed, or broken as well as how to change these properties?\u003C/p\u003E\n"},{"CreatedByName":"jamespicone","CreatedById":125714,"CreatedDateTime":"2015-05-30T04:45:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022parameciumkid\u0022 data-cite=\u0022parameciumkid\u0022\u003E\u003Cdiv\u003EBlarg.\u003Cp\u003EI tried to find this myself, but to no avail, so here I am asking again: Does anyone know how to check programmatically whether a solar panel is open, closed, or broken as well as how to change these properties?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EModuleDeployableSolarPanel.panelState, and ModuleDeployableSolarPanel.Extend()/Retract()/breakPanels().\u003C/p\u003E\u003Cp\u003EUn-breaking panels is probably nontrivial.\u003C/p\u003E\n"},{"CreatedByName":"problemecium","CreatedById":101649,"CreatedDateTime":"2015-05-30T06:21:21Z","Content":"\n\u003Cp\u003EThanks. It took a bit more derping around, but those functions weren\u0027t documented anywhere I could find so I would have had a much harder time without them \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Lone Wolfling","CreatedById":13675,"CreatedDateTime":"2015-06-01T14:26:49Z","Content":"\n\u003Cp\u003EIs there a faster way to do incremental changes to a plugin then compiling, starting KSP, testing, shutting down KSP, making changes, repeat? I cannot reload the plugin because the dll is locked so I cannot copy the new version over to reload it. I\u0027m spending more time reloading KSP than actually doing plugin dev currently.\u003C/p\u003E\u003Cp\u003EAlso: is there a way to get the closest approach of a vessel to a target, including maneuver node(s)?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-01T15:25:54Z\u0022 title=\u002206/01/2015 03:25  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 1, 2015\u003C/time\u003E by The Lone Wolfling\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kenbobo","CreatedById":70629,"CreatedDateTime":"2015-06-01T23:38:09Z","Content":"\n\u003Cp\u003EWhere can I get a package for Unity 5 and also, one that works with 1.0.2?\u003C/p\u003E\u003Cp\u003EPartTools, of course\u003C/p\u003E\n"},{"CreatedByName":"belac","CreatedById":131558,"CreatedDateTime":"2015-06-02T00:22:27Z","Content":"\n\u003Cp\u003EI\u0027m trying to get started with modding, but even my simple Kerbal Teleporter plugin doesn\u0027t like me. If anyone wants to take a look( \u003Ca href=\u0022https://gist.github.com/belackriv/17f6620e6d0084029a2e\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/belackriv/17f6620e6d0084029a2e\u003C/a\u003E ) and tell me where I\u0027m going wrong, that would be swell.\u003C/p\u003E\n"},{"CreatedByName":"roflmaoqwertyqaz","CreatedById":65296,"CreatedDateTime":"2015-06-03T02:17:42Z","Content":"\n\u003Cp\u003EHow would I make something like a UI_FloatRange for a KSPField that would allow for nonlinear step increments? Specifically, I am trying to make a multiplier for various rover wheel settings that follows an exponential step size so that numbers less than 1 get the same space on the slider as numbers greater than 1. \u003C/p\u003E\u003Cp\u003EMy current code is \u003C/p\u003E\u003Cp\u003E[KSPField(isPersistant = true, guiActive = false, guiActiveEditor = true, guiName = \u0022Spring Multiplier\u0022), UI_FloatRange(minValue = 0f, maxValue = 5f, stepIncrement = 0.1f)]\u003C/p\u003E\u003Cp\u003EHow would I change this to create a nonlinear slider?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-03T02:26:41Z\u0022 title=\u002206/03/2015 02:26  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 3, 2015\u003C/time\u003E by roflmaoqwertyqaz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-03T09:30:34Z","Content":"\n\u003Cp\u003EThe Lone Wolfling : no and \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/OrbitExtensions.cs#L127-L158\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ekenbob5588 : Unity and partool are for making model. Wrong thread and subforum but you would need Unity 4.2.2 for making parts.\u003C/p\u003E\u003Cp\u003Ebelac : sorry, can\u0027t open your link from work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003Eroflmaoqwertyqaz : no. you would have to define your own control like \u003Ca href=\u0022https://github.com/toadicus/KSPAPIEL/tree/KSPAPIEL/Source/Tweakables\u0022 rel=\u0022external nofollow\u0022\u003EKSPAPIEL\u003C/a\u003E does\u003C/p\u003E\n"},{"CreatedByName":"AlphaAsh","CreatedById":105348,"CreatedDateTime":"2015-06-03T11:04:21Z","Content":"\n\u003Cp\u003EModel preview icons in the VAB/SPH (that spin when you hover over them). What do I look for in the API for doing something similar in a plug-in myself? (I\u0027m wanting to do a preview of a static in Kerbal Konstructs.)\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-06-03T13:14:49Z","Content":"\n\u003Cp\u003EThere isn\u0027t anything in the API accessible that I know of but it\u0027s easy enough to set up yourself. Example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPAddon(KSPAddon.Startup.MainMenu, true)]\u003Cbr\u003Epublic class PartModelPreviewer : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    private const int PreviewWidth = 200;\u003Cbr\u003E    private const int PreviewHeight = 200;\u003Cbr\u003E    private const int RenderLayer = 8;\u003Cbr\u003E    private const float PreviewTime = 2f;\u003Cbr\u003E    private const float PreviewRevolutionRate = 180f;\u003Cbr\u003E    private const float TargetPreviewSize = 0.7f; // size 1 would take up the whole vertical camera space\u003Cbr\u003E\u003Cbr\u003E    private string _current = \u0022\u0026lt;None\u0026gt;\u0022;\u003Cbr\u003E\u003Cbr\u003E    private void Start()\u003Cbr\u003E    {\u003Cbr\u003E        gameObject.AddComponent\u0026lt;Camera\u0026gt;();\u003Cbr\u003E\u003Cbr\u003E        camera.cullingMask = (1 \u0026lt;\u0026lt; RenderLayer);\u003Cbr\u003E        camera.clearFlags = ~CameraClearFlags.Nothing;\u003Cbr\u003E        camera.nearClipPlane = 0.1f;\u003Cbr\u003E        camera.farClipPlane = 10f;\u003Cbr\u003E        camera.orthographic = true;\u003Cbr\u003E        camera.backgroundColor = new Color(0f, .7f, 0f, 0f);\u003Cbr\u003E\u003Cbr\u003E        camera.orthographicSize = 0.5f;\u003Cbr\u003E        camera.pixelRect = new Rect(0f, Screen.height - PreviewHeight, PreviewWidth, PreviewHeight);\u003Cbr\u003E\u003Cbr\u003E        transform.position = new Vector3(0f, 0f, -8f);\u003Cbr\u003E        transform.LookAt(Vector3.zero, Vector3.up);\u003Cbr\u003E\u003Cbr\u003E        StartCoroutine(Cycle());\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    private IEnumerator Cycle()\u003Cbr\u003E    {\u003Cbr\u003E        while (true)\u003Cbr\u003E        {\u003Cbr\u003E            foreach (var part in PartLoader.LoadedPartsList.Where(ap =\u0026gt; ap.iconPrefab != null))\u003Cbr\u003E            {\u003Cbr\u003E                _current = part.name;\u003Cbr\u003E\u003Cbr\u003E                var go = (GameObject) Instantiate(part.iconPrefab);\u003Cbr\u003E                go.SetLayerRecursive(RenderLayer);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                go.SetActive(true);\u003Cbr\u003E\u003Cbr\u003E                var bounds = go.GetRendererBounds();\u003Cbr\u003E                float multiplier = TargetPreviewSize / Mathf.Max(bounds.size.x, bounds.size.y, bounds.size.z); \u003Cbr\u003E\u003Cbr\u003E                go.transform.localScale = Vector3.one*multiplier;\u003Cbr\u003E                go.transform.rotation = Quaternion.AngleAxis(-30f, Vector3.right);\u003Cbr\u003E\u003Cbr\u003E                transform.position = new Vector3(transform.position.x, bounds.center.y, transform.position.z);\u003Cbr\u003E\u003Cbr\u003E                go.transform.parent = transform;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                yield return StartCoroutine(Preview(go));\u003Cbr\u003E\u003Cbr\u003E                Destroy(go);\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    private IEnumerator Preview(GameObject previewObject)\u003Cbr\u003E    {\u003Cbr\u003E        float start = Time.time;\u003Cbr\u003E\u003Cbr\u003E        while (Time.time - start \u0026lt; PreviewTime)\u003Cbr\u003E        {\u003Cbr\u003E            yield return 0;\u003Cbr\u003E\u003Cbr\u003E            previewObject.transform.Rotate(Vector3.up, Time.deltaTime * PreviewRevolutionRate);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    private void OnGUI()\u003Cbr\u003E    {\u003Cbr\u003E        GUI.Label(new Rect(0, 0, 200f, 20f), \u0022Displaying \u0022 \u002B _current);\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Lone Wolfling","CreatedById":13675,"CreatedDateTime":"2015-06-05T15:39:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe Lone Wolfling : no and \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/OrbitExtensions.cs#L127-L158\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDrat. And that\u0027s a good start, I suppose. Though, what, I\u0027ll have to walk the active vessel and target orbits and check distance? That\u0027s O(n^2), potentially.\u003C/p\u003E\u003Cp\u003EAlso, that seems to contradict the stock \u0022closest approach\u0022 on occasion.\u003C/p\u003E\u003Cp\u003EDo I really have to reinvent the wheel to that extent, though? The game does basically what I want already to display the closest approach(es).\u003C/p\u003E\n"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-06T07:35:03Z","Content":"\n\u003Cp\u003EAlright, I\u0027m a little stuck. I\u0027m trying to modify an attribute of a class, but I\u0027m having a hard time how to work that out.\u003C/p\u003E\u003Cp\u003EIt\u0027s the collectWarningText string in the ModuleScienceExperiment class. I think I would have to make the change inside the CollectDataExternalEvent function, but I don\u0027t know the syntax for working with attributes, can\u0027t find an example of it, and I\u0027m just making myself more and more confused. I feel like I\u0027m getting further and further from the solution. Right now I\u0027m at:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace ScienceWarning\u003Cbr\u003E{\u003C/pre\u003E\u003Cp\u003E[INDENT]public class ScienceWarning : ModuleScienceExperiment\u003Cbr\u003E{[/INDENT]\u003C/p\u003E\u003Cp\u003E\u003Cbr\u003E[INDENT=2]private string _testString = \u0022Test String\u0022;\u003Cbr\u003E\u003Cbr\u003Epublic override void OnStart(PartModule.StartState state)\u003Cbr\u003E{[/INDENT]\u003Cbr\u003E[INDENT=3]this.CollectDataExternalEvent();[/INDENT]\u003Cbr\u003E[INDENT=2]}[/INDENT]\u003Cbr\u003E\u003C/p\u003E\u003Cp\u003E[INDENT]}[/INDENT]\u003C/p\u003E\u003Cp\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf someone could help with a little direction or let me know of an existing example I could look at, I would greatly appreciate it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve been looking for how to do this in the documentation \u003Ca href=\u0022http://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_science_experiment.html#afdcb9c13dbd805fd5d58f0ad88e59f33\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, as well as using the object viewer in Visual Studio.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-06T07:43:21Z\u0022 title=\u002206/06/2015 07:43  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by LittleBlueGaming\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-06T13:19:13Z","Content":"\n\u003Cp\u003E@LittleBlueGaming: What your code there is is a new partModule named ScienceWarning. If you are not adding it to a part then it will do nothing.\u003C/p\u003E\u003Cp\u003EYou can\u0027t actually change the code of ModuleScienceExperiment itself, you can however change the values in a ModuleScienceExperiment class after KSP loads however.\u003C/p\u003E\u003Cp\u003EIf .collectWarningText is a KSPField, then you can do the change via a ModuleManager patch without needing a plugin. \u003C/p\u003E\u003Cp\u003EI suspect it is not a KSPField however, so things get trickier.\u003C/p\u003E\u003Cp\u003EI\u0027d start by trying something like the following:\u003C/p\u003E\u003Cp\u003EIn a KSPAddon.MainMenu class, take the OnStart() method and cycle through every ProtoPart in the part loader.\u003C/p\u003E\u003Cp\u003EIf that ProtoPart has the ModuleScienceExperiment partModule, change the ModuleScienceExperiment\u0027s .collectWarningString to \u0022Test String\u0022.\u003C/p\u003E\u003Cp\u003EThis will make all parts in the game across all vessels have \u0022Test String\u0022, you can add filters and such if you only want to change it on some parts, a different string for different parts, etc.\u003C/p\u003E\u003Cp\u003EI can\u0027t remember the actual code grammar from memory, but I did use the correct terms so you should be able to find examples pretty easily with google.\u003C/p\u003E\u003Cp\u003EHope that helps,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-06T20:38:10Z","Content":"\n\u003Cp\u003EThanks Diazo, that helps me at least know what direction to go \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI spent half the day yesterday reading and watching tutorials, I think my brain is still fried. I haven\u0027t done any coding for a long time, it\u0027s not quite like riding a bike I guess \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-06T22:59:45Z","Content":"\n\u003Cp\u003EAlright, modifying jamespicone\u0027s example \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/7544-The-official-unoffical-help-a-fellow-plugin-developer-thread?p=1539144\u0026amp;viewfull=1#post1539144\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, I\u0027ve got this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    [KSPAddon(KSPAddon.Startup.MainMenu, false)]\u003Cbr\u003E    public class ScienceWarning : PartModule\u003Cbr\u003E    {\u003Cbr\u003E        public override void OnAwake()\u003Cbr\u003E        {\u003Cbr\u003E            foreach (AvailablePart a in PartLoader.LoadedPartsList)\u003Cbr\u003E            {\u003Cbr\u003E                if (a.partPrefab.Modules != null)\u003Cbr\u003E                {\u003Cbr\u003E                    foreach (PartModule m in a.partPrefab.Modules)\u003Cbr\u003E                    {\u003Cbr\u003E                        if ( a.partPrefab.Modules.Contains(\u0022ModuleScienceExperiment\u0022) \u0026amp;\u0026amp; a.partPrefab.name == \u0022GooExperiment\u0022 )\u003Cbr\u003E                        {\u003Cbr\u003E                            Debug.Log(\u0022LB Log: Found Experiment in: \u0022 \u002B a.name);\u003Cbr\u003E                            var modA = a.partPrefab.Modules.GetModule(1);\u003Cbr\u003E                            Debug.Log(modA);\u003Cbr\u003E                        }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EDebug menu gives me\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[Log]: LB Log: Found Experiment in: GooExperiment\u003Cbr\u003E[Log]: GooExperiment (ModuleScienceExperiment)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo it seems that I have the right thing stored in modA, and somehow I should be able to change the warning text attribute in it... however I can\u0027t figure out how to do that.\u003C/p\u003E\u003Cp\u003EIf I\u0027ve gone down the completely wrong path again, maybe I should stick to blowing up rockets \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-06T23:40:16Z","Content":"\n\u003Cp\u003EYou are close:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    [KSPAddon(KSPAddon.Startup.MainMenu, false)]\u003Cbr\u003E    public class ScienceWarning : PartModule\u003Cbr\u003E    {\u003Cbr\u003E        public override void OnAwake()\u003Cbr\u003E        {\u003Cbr\u003E            foreach (AvailablePart a in PartLoader.LoadedPartsList)\u003Cbr\u003E            {\u003Cbr\u003E                if (a.partPrefab.Modules != null)\u003Cbr\u003E                {\u003Cbr\u003E                    foreach (PartModule m in a.partPrefab.Modules)\u003Cbr\u003E                    {\u003Cbr\u003E                        if ( m.moduleName == \u0022ModuleScienceExperiment\u0022 \u0026amp;\u0026amp; a.partPrefab.name == \u0022GooExperiment\u0022 ) //change this to check the partmodule \u0027m\u0027 we are actually on.\u003Cbr\u003E                        {\u003Cbr\u003E                            Debug.Log(\u0022LB Log: Found Experiment in: \u0022 \u002B a.name); //check we\u0027ve found the correct partModule\u003Cbr\u003E                            //var modA = a.partPrefab.Modules.GetModule(1); //we already have this reference as partModule \u0027m\u0027 from the foreach. Note that this line was wrong, the GetModule(1) would return the second partModule in the list, not the ModuleScienceExperiment module. (The Modules list is zero-index.)\u003Cbr\u003E                            //Debug.Log(modA);\u003Cbr\u003E                            ModuleScienceExperiment sciExp = (ModuleScienceExperiment) m; //convert from type PartModule to type ModuleScienceExperiment as .collectWarningText lives there\u003Cbr\u003E                            sciExp.collectWarningText = \u0022YourCustomWarningHere\u0022; //change the value you are looking for.\u003Cbr\u003E                        }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd then any vessel that has a goo experiment on it should inherit this modified part in the part loader and display your custom message.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-06T23:45:03Z\u0022 title=\u002206/06/2015 11:45  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 6, 2015\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LittleBlueGaming","CreatedById":144665,"CreatedDateTime":"2015-06-07T00:13:03Z","Content":"\n\u003Cp\u003EIt works perfectly, thanks. \u003C/p\u003E\u003Cp\u003EI was having a hard time figuring out how to filter just that module, so I was planning on constructing a loop for the goo and another for the materials study. I was trying to use IndexOf to get the module index but couldn\u0027t get that to work.\u003C/p\u003E\u003Cp\u003EConverting types was the biggest thing I was missing, I wasn\u0027t even aware that was something I needed to do. You\u0027ve given me a lot to think about \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-07T00:30:58Z","Content":"\n\u003Cp\u003EYa, inheritance is one of the more non-intuitive parts of C#. It is well documented however with many examples out there if you google it. Casting (converting types) is a big part of managing data in C# that will come up again.\u003C/p\u003E\u003Cp\u003EOn the IndexOf and GetModule methods, I would recommend staying away from them and use the .moduleName string compare instead. I say this because when other mods add their own partModules to a part, it is quite likely that the location of your own partModule will change in the part.Modules list.\u003C/p\u003E\u003Cp\u003ESo the index number that returns your part module on your machine would return the partModule for random ModX that is installed on another player\u0027s machine.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2015-06-11T04:57:23Z","Content":"\n\u003Cp\u003EAm i right in assuming [KSPField] does not support ints?\u003C/p\u003E\u003Cp\u003EI wanted to store an enum as an int in persistence in the past but i had to use a float instead. Flooring the number to int then enum each time its loaded from persistence. This the best way to do it? Or is using a string better? In my noobish ways i assumed floats process faster than strings.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-11T05:00:55Z","Content":"\n\u003Cp\u003EKSPField definitely supports int type variables. ModuleCargoBay for example has deployModuleIndex as an int and I\u0027m sure other stock modules would turn up if I searched.\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2015-06-11T06:51:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003EKSPField definitely supports int type variables. ModuleCargoBay for example has deployModuleIndex as an int and I\u0027m sure other stock modules would turn up if I searched.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice. Thanks. Must have been another reason why i changed it before. Maybe i remember wrong. Btw anyone know how invalid cfg inputs are handled internally? Say if someone puts a float(for example 1.1) in a kspfield referencing an int or a string in a float field.. it just converts to null in all cases?\u003C/p\u003E\u003Cp\u003Eany \u0022simple\u0022 ways to hack in lists/arrays in kspfields?\u003C/p\u003E\n"}]}