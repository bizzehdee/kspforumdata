{"TopicId":99267,"ForumId":20,"TopicTitle":"Full sensor science transmission","CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-10T10:28:27Z","PageNum":1,"Articles":[{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-10T10:28:27Z","Content":"\n\u003Cp\u003EGreetings people,\u003C/p\u003E\u003Cp\u003Eyou all know the reduction in science you get from transmitting sensor data. This has always rustled my jimmies as it\u0027s just numbers and I don\u0027t see why numbers shouldn\u0027t be able to be transmitted fully (especially when Crew and EVA Reports CAN be transmitted for 100%). Therefore, I tried to make a small .cfg that gives me the x1 science multiplier on sensors without having to mod the files themselves.\u003C/p\u003E\u003Cp\u003ECheck this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleEnviroSensor],@MODULE[ModuleScienceExperiment]]:FOR[ModuleScienceExperiment]\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleScienceExperiment]\u003Cbr\u003E    {\u003Cbr\u003E        @xmitDataScalar = 1\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt works for the stock sensors, but somehow not for the B9 parts, even though they contain the very same module. But then again, I am not a coder or anything even remotely, so if anyone has an idea how to improve it, you are welcome to.\u003C/p\u003E\n"},{"CreatedByName":"C1maCat","CreatedById":121247,"CreatedDateTime":"2015-02-11T06:57:18Z","Content":"\n\u003Cp\u003EWhere would this cfg go?\u003C/p\u003E\n"},{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-11T10:28:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022C1maCat\u0022 data-cite=\u0022C1maCat\u0022\u003E\u003Cdiv\u003EWhere would this cfg go?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust put in the Gamedata folder.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T13:23:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MisterBennock\u0022 data-cite=\u0022MisterBennock\u0022\u003E\u003Cdiv\u003EIt works for the stock sensors, but somehow not for the B9 parts, even though they contain the very same module. But then again, I am not a coder or anything even remotely, so if anyone has an idea how to improve it, you are welcome to.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen the game starts it automatically applies all patches it can process (e. g. all cfgs that start with PART instead of \u0026lt;operator\u0026gt;PART). Only after that ModuleManager (MM) kicks in. MM has several passes in which it applies the patches.\u003C/p\u003E\u003Cp\u003EOrder of execution in MM is defined by the parameter you (not) append to a line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E:FIRST\u003Cbr\u003ELines with this paramater indicate that they will be applied before all other patches.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E:LEGACY\u003Cbr\u003EIt\u0027s an interal reference to all patches which don\u0027t specify when they should be applied. Like yours.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E:BEFORE[mod]*\u003Cbr\u003EPatches applied immediately before the patches of that mod are applied.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E:FOR[mod]*\u003Cbr\u003EPatches of a mod\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E:AFTER[mod]*\u003Cbr\u003EExecuted after a mod is done.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E:FINAL\u003Cbr\u003EFinal patches after all the mod-related ones are done.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E*Those three are done in a row for every mod. So the order is BEFORE[mod1] -\u0026gt; FOR[mod1] -\u0026gt; AFTER[mod1] -\u0026gt; BEFORE[mod2] -\u0026gt; etc. I\u0027m not sure in which order the mod-related patches are applied. Either read the MM code or assume a random order (e. g. mod2, then mod1, then mod3, etc.). Edit: It looks like alphabetic ordering.\u003C/p\u003E\u003Cp\u003EIf B9 adds science modules per MM script they will apply \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eafter\u003C/span\u003E your script is executed. Therefore you want to change your script to be executed after these science modules are added. I suggest you pick :FINAL.\u003C/p\u003E\u003Cp\u003EAlso you don\u0027t need a FOR parameter. It\u0027s used to identify which mod the patches belong to.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[*]:HAS[@MODULE[ModuleEnviroSensor],MODULE[ModuleScienceExperiment]]:FINAL\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleScienceExperiment]\u003Cbr\u003E    {\u003Cbr\u003E        @xmitDataScalar = 1\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnother note for you: Your patch will be only applied to parts which contain both the part modules ModuleEnviroSensor and ModuleScienceExperiment. As far as I checked only the four little sensors fit to that filter. It also seems that the these sensors are the only ones which contain ModuleEnviroSensor. You can reduce MM\u0027s workload by only filtering for the sensor module.\u003C/p\u003E\u003Cp\u003EThe results won\u0027t be noticeable (it still only affects 4 parts) but why not do it? ^^\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-11T14:07:42Z\u0022 title=\u002202/11/2015 02:07  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 11, 2015\u003C/time\u003E by *Aqua*\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-11T13:57:21Z","Content":"\n\u003Cp\u003E@*Aqua* - thanks for the insight, that was useful. Changed things accordingly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI had to use the ModuleScienceExperiment since the \u0022xmitDataScalar\u0022 part is contained in it, so in order to apply it I have to include it. I think I even tried it first with ModuleEnviroSensor only, but it didn\u0027t work.\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T14:06:39Z","Content":"\n\u003Cp\u003ESo there are parts which contains a ModuleEnviroSensor but no ModuleScienceExperiment? Ok, I learned something new.\u003C/p\u003E\u003Cp\u003EOr it didn\u0027t work because of the missing :FINAL parameter. I\u0027m not sure...\u003C/p\u003E\n"},{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-11T14:12:33Z","Content":"\n\u003Cp\u003ENo, I meant the \u0022xmitDataScalar\u0022 parameter is contained in the ScienceExperiment module, not the EnviroSensor module, which is why I apparently need to address the Experiment. The ModuleEnviroSensor is just for filtering for sensors. Also, I just tried it and it still didn\u0027t work.\u003C/p\u003E\u003Cp\u003EAlso, I just tried the changerd version, but it still doesn\u0027t work out completely... I get 100% transmission on the seismic data ONLY somehow \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E - even though all is contained in one sensor package. Strange, strange things.\u003C/p\u003E\u003Cp\u003EEdit: Perhaps it could be because it only applies the patch once? Since the seismic scan is also the first in the part\u0027s cfg - what if it stops there?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-11T14:15:15Z\u0022 title=\u002202/11/2015 02:15  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 11, 2015\u003C/time\u003E by MisterBennock\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T14:17:12Z","Content":"\n\u003Cp\u003EAre you sure you are modifying the right parameter? IIRC the science experiments also have some parameters which could be tweaked. But I don\u0027t know if they are the cause of your problem.\u003C/p\u003E\n"},{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-11T14:22:00Z","Content":"\n\u003Cp\u003EYes, I am pretty sure - I mean, stock sensors work, seismic scan on sensor package works, just not the other behind/below.\u003C/p\u003E\u003Cp\u003EHere is the cfg of the B9 sensor package:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnviroSensor\u003Cbr\u003E        sensorType = ACC\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleScienceExperiment\u003Cbr\u003E        experimentID = seismicScan\u003Cbr\u003E        experimentActionName = Log Seismic Data\u003Cbr\u003E        resetActionName = Delete Data\u003Cbr\u003E        useStaging = False\u003Cbr\u003E        useActionGroups = True\u003Cbr\u003E        hideUIwhenUnavailable = False\u003Cbr\u003E        xmitDataScalar = 0.45\u003Cbr\u003E        dataIsCollectable = True\u003Cbr\u003E        collectActionName = Take Data\u003Cbr\u003E        interactionRange = 1.2\u003Cbr\u003E        rerunnable = True\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnviroSensor\u003Cbr\u003E        sensorType = PRES\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleScienceExperiment\u003Cbr\u003E        experimentID = barometerScan\u003Cbr\u003E        experimentActionName = Log Pressure Data\u003Cbr\u003E        resetActionName = Delete Data\u003Cbr\u003E        useStaging = False\u003Cbr\u003E        useActionGroups = True\u003Cbr\u003E        hideUIwhenUnavailable = False\u003Cbr\u003E        xmitDataScalar = 0.5\u003Cbr\u003E        dataIsCollectable = True\u003Cbr\u003E        collectActionName = Take Data\u003Cbr\u003E        interactionRange = 1.2\u003Cbr\u003E        rerunnable = True\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnviroSensor\u003Cbr\u003E        sensorType = GRAV\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleScienceExperiment\u003Cbr\u003E        experimentID = gravityScan\u003Cbr\u003E        experimentActionName = Log Gravity Data\u003Cbr\u003E        resetActionName = Delete Data\u003Cbr\u003E        useStaging = False\u003Cbr\u003E        useActionGroups = True\u003Cbr\u003E        hideUIwhenUnavailable = False\u003Cbr\u003E        xmitDataScalar = 0.4\u003Cbr\u003E        dataIsCollectable = True\u003Cbr\u003E        collectActionName = Take Data\u003Cbr\u003E        interactionRange = 1.2\u003Cbr\u003E        rerunnable = True\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnviroSensor\u003Cbr\u003E        sensorType = TEMP\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleScienceExperiment\u003Cbr\u003E        experimentID = temperatureScan\u003Cbr\u003E        experimentActionName = Log Temperature\u003Cbr\u003E        resetActionName = Delete Data\u003Cbr\u003E        useStaging = False\u003Cbr\u003E        useActionGroups = True\u003Cbr\u003E        hideUIwhenUnavailable = False\u003Cbr\u003E        xmitDataScalar = 0.5\u003Cbr\u003E        dataIsCollectable = True\u003Cbr\u003E        collectActionName = Take Data\u003Cbr\u003E        interactionRange = 1.2\u003Cbr\u003E        rerunnable = True\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow compare to the stock sensor:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleEnviroSensor\u003Cbr\u003E    sensorType = ACC\u003Cbr\u003E}\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleScienceExperiment    \u003Cbr\u003E\u003Cbr\u003E    experimentID = seismicScan\u003Cbr\u003E\u003Cbr\u003E    experimentActionName = Log Seismic Data\u003Cbr\u003E    resetActionName = Delete Data\u003Cbr\u003E\u003Cbr\u003E    useStaging = False\u003Cbr\u003E    useActionGroups = True\u003Cbr\u003E    hideUIwhenUnavailable = False    \u003Cbr\u003E\u003Cbr\u003E    xmitDataScalar = 0.45\u003Cbr\u003E    dataIsCollectable = True\u003Cbr\u003E    collectActionName = Take Data\u003Cbr\u003E    interactionRange = 1.2\u003Cbr\u003E\u003Cbr\u003E    rerunnable = True\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs you see, they are identical. And since every stock sensor works for itself and since in the package only the first sensor works, I really assume it has something to do with how often the \u0022xmitDataScalar\u0022 line is changed, in that case apparently only once.\u003C/p\u003E\u003Cp\u003EEdit: I just found out that you can find keys and nodes. Now my cfg looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleEnviroSensor],@MODULE[ModuleScienceExperiment]]:Final\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleScienceExperiment],*\u003Cbr\u003E    {\u003Cbr\u003E        @xmitDataScalar,* = 1\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, I am finding all \u0022ModuleScienceExperiment\u0022 in the file and then edit all the \u0022xmitDataScalar\u0022. Probably wouldn\u0027t even be needed, but hey, it\u0027s just two characters \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAND IT WORKS! YEAAAHAW! \u003C/strong\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E:D:D\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-11T14:32:44Z\u0022 title=\u002202/11/2015 02:32  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 11, 2015\u003C/time\u003E by MisterBennock\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-02-11T14:29:10Z","Content":"\n\u003Cp\u003EThere are multiple ModuleScienceExperiment part modules. That\u0027s the reason.\u003C/p\u003E\u003Cp\u003EChange the line\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@MODULE[ModuleScienceExperiment]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@MODULE[ModuleScienceExperiment],*\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen MM will apply the patch to all modules of that type in a part.\u003C/p\u003E\n"},{"CreatedByName":"MisterBennock","CreatedById":111444,"CreatedDateTime":"2015-02-11T14:33:45Z","Content":"\n\u003Cp\u003EYes, now I have it. Thanks for the help m8\u003C/p\u003E\n"}]}