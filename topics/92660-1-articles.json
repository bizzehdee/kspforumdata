{"TopicId":92660,"ForumId":70,"TopicTitle":"KSP OpenGL RAM magic","CreatedByName":"theend3r","CreatedById":97560,"CreatedDateTime":"2014-12-12T22:56:27Z","PageNum":1,"Articles":[{"CreatedByName":"theend3r","CreatedById":97560,"CreatedDateTime":"2014-12-12T22:56:27Z","Content":"\n\u003Cp\u003EI was overjoyed when I recently tried the -force-opengl option with KSP and found its memory footprint reduced from over 3.7GB (unplayable on 32bit) to stable 1.9GB.\u003C/p\u003E\u003Cp\u003EThen it started crashing again so I set out to find the cause and I couldn\u0027t believe what I found. The reason was I ran out of RAM completely - I hit the 7GB limit for apps on my 8GB RAM laptop, the sole culprit being KSP.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/4Qw6B\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EHow is that possible? How could simply running a 32bit KSP encumber the memory so much? Magic?\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-12-13T00:35:52Z","Content":"\n\u003Cp\u003EThat\u0027s one of two possible things. One is that you have a video card built into the motherboard that actually uses some of the system\u0027s RAM as video memory.\u003C/p\u003E\u003Cp\u003EThe other is quite simply one heck of a memory leak, and I\u0027m sure it\u0027s not surprising to find that if it\u0027s using that much RAM, you\u0027re going to have issues. OpenGL is not as stable as it ought to be on all video cards, especially those designed and optimised for use with DirectX.\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-12-13T03:19:14Z","Content":"\n\u003Cp\u003EAFAIK, OpenGL does not actually \u003Cstrong\u003Ereduce\u003C/strong\u003E your actual memory footprint - it simply \u003Cstrong\u003Eoptimizes\u003C/strong\u003E your memory usage.\u003C/p\u003E\u003Cp\u003ETo put it simple:\u003C/p\u003E\u003Cp\u003E- DirectX loads it all and keeps it all in one process, and since there is a 3.7 Gb cap on 32-bit, it cannot go past that point. \u003C/p\u003E\u003Cp\u003E- OpenGL also loads it all, but it uses only what is needed at the moment, allowing stuff that is currently unused reside in the background, ready to be called for. Hence, it allows you to step over 3.7 Gb barrier - until one of two things happen: the actual memory usage caps the barrier, or you run out of RAM.\u003C/p\u003E\u003Cp\u003EOpenGL is WAY more optimized than DirectX; sadly, you need a very skilled programmer to use it effectively, and obviously, guys from Unity are not that skilled.\u003C/p\u003E\u003Cp\u003EThat being said, OpenGL is NOT an option for a weak PCs. On the contrary, you need a good machine with lots of RAM in order to use it up to its potential.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-13T03:24:08Z\u0022 title=\u002212/13/2014 03:24  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 13, 2014\u003C/time\u003E by biohazard15\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"theend3r","CreatedById":97560,"CreatedDateTime":"2014-12-13T10:56:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022vexx32\u0022 data-cite=\u0022vexx32\u0022\u003E\u003Cdiv\u003EThat\u0027s one of two possible things. One is that you have a video card built into the motherboard that actually uses some of the system\u0027s RAM as video memory.\u003Cp\u003EThe other is quite simply one heck of a memory leak, and I\u0027m sure it\u0027s not surprising to find that if it\u0027s using that much RAM, you\u0027re going to have issues. OpenGL is not as stable as it ought to be on all video cards, especially those designed and optimised for use with DirectX.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have 1.5GB VRAM GTX660m so I doubt that.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022biohazard15\u0022 data-cite=\u0022biohazard15\u0022\u003E\u003Cdiv\u003EAFAIK, OpenGL does not actually \u003Cstrong\u003Ereduce\u003C/strong\u003E your actual memory footprint - it simply \u003Cstrong\u003Eoptimizes\u003C/strong\u003E your memory usage.\u003Cp\u003ETo put it simple:\u003C/p\u003E\u003Cp\u003E- DirectX loads it all and keeps it all in one process, and since there is a 3.7 Gb cap on 32-bit, it cannot go past that point. \u003C/p\u003E\u003Cp\u003E- OpenGL also loads it all, but it uses only what is needed at the moment, allowing stuff that is currently unused reside in the background, ready to be called for. Hence, it allows you to step over 3.7 Gb barrier - until one of two things happen: the actual memory usage caps the barrier, or you run out of RAM.\u003C/p\u003E\u003Cp\u003EOpenGL is WAY more optimized than DirectX; sadly, you need a very skilled programmer to use it effectively, and obviously, guys from Unity are not that skilled.\u003C/p\u003E\u003Cp\u003EThat being said, OpenGL is NOT an option for a weak PCs. On the contrary, you need a good machine with lots of RAM in order to use it up to its potential.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I need 16GB RAM to play KSP 32bit with mods? Wow.\u003C/p\u003E\u003Cp\u003EI think it probably has something to do with the EVE mod as the crashing started happening when it played around with it. I\u0027ll look further into it.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-12-13T11:01:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022theend3r\u0022 data-cite=\u0022theend3r\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo I need 16GB RAM to play KSP 32bit with mods? Wow.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt wouldn\u0027t do you any good, since 32 bit executable cannot index all of it anyway. 3.7GB is the hard cap - period, regardless of how much ram you have.\u003C/p\u003E\n"},{"CreatedByName":"theend3r","CreatedById":97560,"CreatedDateTime":"2014-12-13T12:19:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ippo\u0022 data-cite=\u0022Ippo\u0022\u003E\u003Cdiv\u003EIt wouldn\u0027t do you any good, since 32 bit executable cannot index all of it anyway. 3.7GB is the hard cap - period, regardless of how much ram you have.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot in this case since it takes up nearly 5GB already. As vexx32 said there\u0027s probably some kind of memory leak going on.\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-12-13T12:51:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022theend3r\u0022 data-cite=\u0022theend3r\u0022\u003E\u003Cdiv\u003EI have 1.5GB VRAM GTX660m so I doubt that.\u003Cp\u003ESo I need 16GB RAM to play KSP 32bit with mods? Wow.\u003C/p\u003E\u003Cp\u003EI think it probably has something to do with the EVE mod as the crashing started happening when it played around with it. I\u0027ll look further into it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have 12 Gb, and I\u0027m not hitting anything; but there are memory leaks, indeed - be it Unity itself, KSP or some mod. Currently, I start at 2.7 Gb, and after several hours of gameplay it approaches 3.5 Gb - I usually restart the game at this point in order to avoid sudden crashes.\u003C/p\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-12-15T17:14:54Z","Content":"\n\u003Cp\u003ETry using Linux, the win64 version of KSP is broken, and the problem is upstream in the Unity Engine, so there is nothing Squad can do about it.\u003C/p\u003E\u003Cp\u003EIf you want 64bit use Linux.\u003C/p\u003E\n"}]}