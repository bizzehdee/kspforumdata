{"TopicId":111749,"ForumId":20,"TopicTitle":"Problems combining MechJeb and FAR","CreatedByName":"Cairol","CreatedById":145279,"CreatedDateTime":"2015-06-02T16:22:23Z","PageNum":1,"Articles":[{"CreatedByName":"Cairol","CreatedById":145279,"CreatedDateTime":"2015-06-02T16:22:23Z","Content":"\n\u003Cp\u003EI\u0027ve MechJeb2 and FAR installed. And since I have FAR, MechJeb is no longer able to get my rockets to space.\u003C/p\u003E\u003Cp\u003EThey begin to wobble and vibrate like mad at about \u0026gt; 200 m/s until they break into pieces.\u003C/p\u003E\u003Cp\u003EWhen flying manually, it works just fine. No wobbling.\u003C/p\u003E\u003Cp\u003EIs it possible to configure MechJeb to do a more \u0022careful\u0022 or kind of more optimized ascent, to not break my rockets?\u003C/p\u003E\u003Cp\u003EHow do you do this? What are the most important parameters to tweak?\u003C/p\u003E\u003Cp\u003EFYI: It\u0027s not that I use MechJeb extensively. It\u0027s just that I can\u0027t use it at all for the ascent phase while FAR is installed.\u003C/p\u003E\n"},{"CreatedByName":"n0xiety","CreatedById":143324,"CreatedDateTime":"2015-06-02T17:13:40Z","Content":"\n\u003Cp\u003ESet your AoA in ascent guidence to 3 degrees. If the craft can\u0027t take that much turn above prograde set to 2 or 1. The lower you go with this the slower and more stable your turn will be and it will use more fuel. Set the PA to whatever FAR uses. If FAR is using the same pressure values as stock don\u0027t touch it tho. Enable corrective steering. %40 turn rate is good and start your turn before 3km.\u003C/p\u003E\n"},{"CreatedByName":"cybersol","CreatedById":81136,"CreatedDateTime":"2015-06-02T19:09:32Z","Content":"\n\u003Cp\u003EOne option is to use the Kerbal Joint Reinforcement mod (also by ferram4) if you are not already, which should help with the wobble. Otherwise struts can help, but they can also make things worse depending on placement and amount. Manually tuning the attitude adjustment tab by decreasing Kd and proportionally decreasing Kp can also help with the wobble.\u003C/p\u003E\n"},{"CreatedByName":"Cairol","CreatedById":145279,"CreatedDateTime":"2015-06-03T18:32:16Z","Content":"\n\u003Cp\u003EThanks.\u003C/p\u003E\u003Cp\u003ELimiting AoA to 5\u00C3\u201A\u00C2\u00B0 helped a ton. I\u0027m also limiting my LRB thrust to about 60% while my SRB stage is burning to reduce structural stress.\u003C/p\u003E\u003Cp\u003EWhen using \u0022Stock SAS\u0022, the rocket tries to roll during ascent. With the MJ controller, it\u0027s more stable.\u003C/p\u003E\u003Cp\u003EI haven\u0027t tweaked the PID settings yet. But I will, to make it even more steady.\u003C/p\u003E\u003Cp\u003EBoth of your comments really helped. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-06-03T19:40:52Z","Content":"\n\u003Cp\u003EI once advised someone to mess with the PID settings, to which Sarbian himself immediately replie \u0022don\u0027t mess with that unless you really know what you are doing.\u0022\u003C/p\u003E\u003Cp\u003ESo, don\u0027t mess with that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Cairol","CreatedById":145279,"CreatedDateTime":"2015-06-04T08:44:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cybersol\u0022 data-cite=\u0022cybersol\u0022\u003E\u003Cdiv\u003EOtherwise struts can help, but they can also make things worse depending on placement and amount. Manually tuning the attitude adjustment tab by decreasing Kd and proportionally decreasing Kp can also help with the wobble.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy rocket is not wobbling in its internal structure. But it\u0027s cranking and tries to roll and pitch in growing amplitudes until it reaches a certain altitude.\u003C/p\u003E\u003Cp\u003EThe MechJeb Controller can barely keep it under control.\u003C/p\u003E\u003Cp\u003EBut this only happes during a mechjeb ascent. Manual ascent is pretty smooth.\u003C/p\u003E\u003Cp\u003ESo I guess I have to balace the controller by playing with Kp, Ki and Kd to remove this behavior.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EI once advised someone to mess with the PID settings, to which Sarbian himself immediately replie \u0022don\u0027t mess with that unless you really know what you are doing.\u0022\u003Cp\u003ESo, don\u0027t mess with that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m aware of that. ^^\u003C/p\u003E\u003Cp\u003EI sometimes have to mess around with control processes in my real world job too.\u003C/p\u003E\u003Cp\u003ESo I\u0027ll be cautious. I promise. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is my current rocket (but others behave the same):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tpFbfHt.jpg\u0022 alt=\u0022tpFbfHt.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe problem arises during the first stage and continues till a certain height.\u003C/p\u003E\u003Cp\u003EThis is a short video that demonstrates it:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/6gJFqEbev5Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"}]}