{"TopicId":66398,"ForumId":36,"TopicTitle":"[WIP] Loading textures only as required","CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-03-21T14:47:56Z","PageNum":9,"Articles":[{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-05-06T00:11:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dragon01\u0022 data-cite=\u0022Dragon01\u0022\u003E\u003Cdiv\u003EI\u0027m really looking forward to the next version, Faark. It\u0027s absolutely essential for me now. No more running out of memory even when running with half the Spaceport installed at the same time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI find myself recommending this a lot these days. It\u0027s really hard to argue with a 5GB GamaData folder and almost no crashes...\u003C/p\u003E\n"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2014-05-06T00:23:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003E\u003Cem\u003EUpdate: Currently TR is only kinda supported. You currently cant use TR to replace part textures and you also have to disabled mipmap generation. Yes, thats not rly what you want and i\u0027ll think about how to improve compatibility. But so far even without the crash LOD cannot just simply load TRs textures, but i guess thats what it should aim for.\u003C/em\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMany thanks Faark! I hope you can reach a full compatibility with TR in the future.\u003C/p\u003E\n"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2014-05-07T00:50:19Z","Content":"\n\u003Cp\u003EThis mod is so cool! Thanks a ton! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-05-07T20:00:04Z","Content":"\n\u003Cp\u003EI\u0027ve found a bug when using this with CoolRockets. It results in the transparency on FX being lost (or something like that), leading to them looking like squares instead of smoke. Could you look into it?\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-05-07T20:32:48Z","Content":"\n\u003Cp\u003EAre you sure it is caused by LoD? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E Looks like their effect models are in separate directories and shouldn\u0027t be touched by LoD at all...\u003C/p\u003E\u003Cp\u003EAnyway, i\u0027ve added it to my Todo list and will try to reproduce it once the stuff currently wip is done.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2014-05-08T05:13:47Z","Content":"\n\u003Cp\u003ESo I\u0027m just really discovering this and it looks great. Few concerns before I give it a try. Sorry If they\u0027ve already been covered. I use TR. Proots compilation. So can I have LOD ignore TR? And just focus on my part textures? I\u0027m willing to give up the memory towards it. \u003C/p\u003E\u003Cp\u003EAnd.. how is vessel loading when hitting the 2.1km load point? Lets say I\u0027m docking with a fairly large station. What are the chances It\u0027d crash and is there a load time?\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-05-08T06:24:57Z","Content":"\n\u003Cp\u003EHey Motokid,\u003C/p\u003E\u003Cp\u003Evessel loading is supposed to happen in the background while the game keeps running, so no freezing as KSP does when you come close to a vessel. You shouldn\u0027t even notice it in the optimal case.\u003C/p\u003E\u003Cp\u003EBut LoD isn\u0027t yet ready to be used with TR, at least / especially when TR is replacing part textures. I intend to get it compatible with the next version and hope you check back and try this mod once the update is available.\u003C/p\u003E\n"},{"CreatedByName":"titanecd","CreatedById":80344,"CreatedDateTime":"2014-05-08T08:22:36Z","Content":"\n\u003Cp\u003ELove the mod, helps a lot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFound an issue when using Kosmos R4.7.2.\u003C/p\u003E\u003Cp\u003E1. Changing tabs in VAB/SPH while the textures get refreshed, it either hanges when it gets to one of the parts/when you select that part: both cause a crash\u003C/p\u003E\u003Cp\u003E2. When I do select one of them, and i add it to the ship (esp if I add multiple one like 3 radial) it crashes.\u003C/p\u003E\u003Cp\u003EWhen I remove the LOD.dll it works.\u003C/p\u003E\u003Cp\u003EDon\u0027t know if it could be this or Kosmos, but I\u0027d let you know just incase.\u003C/p\u003E\u003Cp\u003ETx\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-05-08T09:21:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EAre you sure it is caused by LoD? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E Looks like their effect models are in separate directories and shouldn\u0027t be touched by LoD at all...\u003Cp\u003EAnyway, i\u0027ve added it to my Todo list and will try to reproduce it once the stuff currently wip is done.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, it appeared after I added LOD. There\u0027s no other texture manipulation mod running. In fact, I specifically purged my install of such mods, because LoD has problems with them.\u003C/p\u003E\u003Cp\u003EI really can\u0027t wait for the next version. I love the memory savings, but working in VAB is really tedious because of the crashes.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-05-08T13:36:20Z","Content":"\n\u003Cp\u003E@titanecd\u003C/p\u003E\u003Cp\u003EThanks for your testing. Could you please be a bit more specific? Does it crash on a specific part or \u0022random\u0022? In either case, it would be great to have a look at your log files (KSP.log, KSP_data\\output_log.txt, GameData\\LoadOnDemand\\LoadOnDemand.log) to verify what is actually going on.\u003C/p\u003E\n"},{"CreatedByName":"titanecd","CreatedById":80344,"CreatedDateTime":"2014-05-08T14:00:23Z","Content":"\n\u003Cp\u003ESure np, when I get home.\u003C/p\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-08T15:35:51Z","Content":"\n\u003Cp\u003EIs there any way to set exceptions for alpha-layered textures? I\u0027m running ATM (basic) 3.x along with this to test. The only issue I found is with the the internal windshields for the B9 cockpits. They use a dusty transparent texture and the game now loads them as solid. This also makes me suspect other shader applications may be missing. \u003C/p\u003E\u003Cp\u003EI\u0027ll see if I can photoshop the transparency into the original texture and maybe that could be a workaround.\u003C/p\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-05-08T15:39:46Z","Content":"\n\u003Cp\u003EIs it possible that the Mod could also replace the already loaded textures back again with some thumbs as they are no longer needed because you switched the spaceship?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-05-08T15:47:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PolecatEZ\u0022 data-cite=\u0022PolecatEZ\u0022\u003E\u003Cdiv\u003EIs there any way to set exceptions for alpha-layered textures? I\u0027m running ATM (basic) 3.x along with this to test. The only issue I found is with the the internal windshields for the B9 cockpits. They use a dusty transparent texture and the game now loads them as solid. This also makes me suspect other shader applications may be missing. \u003Cp\u003EI\u0027ll see if I can photoshop the transparency into the original texture and maybe that could be a workaround.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, that\u0027s probably what\u0027s happening with Dtobi\u0027s particles. There\u0027s also a part that used the launch clamp texture, and a transparency issue was reported with it, too (curiously, the clamps are fine). It might be that LOD screws up alpha-layering somehow.\u003C/p\u003E\n"},{"CreatedByName":"PolecatEZ","CreatedById":58008,"CreatedDateTime":"2014-05-08T16:22:02Z","Content":"\n\u003Cp\u003EChanging the .tga to a transparent-layered .png works decently as a workaround, just need to brush up on my photoshopping skills more until this gets fixed.\u003C/p\u003E\n"},{"CreatedByName":"Franklin","CreatedById":89718,"CreatedDateTime":"2014-05-08T22:57:58Z","Content":"\n\u003Cp\u003EI\u0027d love to see this extended to planet textures down the road as well. The idea that I\u0027m loading heavy 8K textures for planets I may not even see in a game session is somewhat silly.\u003C/p\u003E\n"},{"CreatedByName":"dRuPpI","CreatedById":97229,"CreatedDateTime":"2014-05-09T10:05:45Z","Content":"\n\u003Cp\u003EI always get this on start up : \u0022load on demand has detected a problem and has disabled. the requested feature is not implemented\u0022\u003C/p\u003E\u003Cp\u003Ewhat do i wrong?\u003C/p\u003E\n"},{"CreatedByName":"dRuPpI","CreatedById":97229,"CreatedDateTime":"2014-05-09T10:32:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dRuPpI\u0022 data-cite=\u0022dRuPpI\u0022\u003E\u003Cdiv\u003EI always get this on start up : \u0022load on demand has detected a problem and has disabled. the requested feature is not implemented\u0022\u003Cp\u003Ewhat do i wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok reinstalled Visual C\u002B\u002B solved it ....... This tool is amazing have now no Activ textur compression anymore it looks so clear now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2014-05-09T12:30:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Franklin\u0022 data-cite=\u0022Franklin\u0022\u003E\u003Cdiv\u003EI\u0027d love to see this extended to planet textures down the road as well. The idea that I\u0027m loading heavy 8K textures for planets I may not even see in a game session is somewhat silly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlanets rendered from a long distance are using low res textures, only when you are very close, then they are being rendered with high res textures.\u003C/p\u003E\n"},{"CreatedByName":"dRuPpI","CreatedById":97229,"CreatedDateTime":"2014-05-09T14:22:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bloodbunny\u0022 data-cite=\u0022Bloodbunny\u0022\u003E\u003Cdiv\u003EI took out Active Texture Management so that isn\u0027t an issue. I went back to a stock only folder and the mod works/loads the game fine. I have the files in my dropbox to share if you have one as well\u003Cp\u003EEDIT: Yeah, I\u0027m pretty sure this has the potential to be the best mod ever. ATM is good, but it takes the length of a presidential term to load the game, and the texture reductions make KSP look like crap. This thing lets you run full res textures, and the game loads faster than a greased jackrabbit on crack\u003C/p\u003E\u003Cp\u003EEDIT (part 2): Ok, TextureReplacer is absolutely incompatible, using it WILL cause a crash 100% of the time. This is big because even stock only players like to replace the hideously ugly default skybox. Also, the texture swapping feature for StretchySRB does not work. Oddly enough, the texture swapper used by FireSpitter works (sort of).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah Stretchy parts brings crashes, any solution for this possible?\u003C/p\u003E\n"},{"CreatedByName":"Kyros","CreatedById":110456,"CreatedDateTime":"2014-05-09T19:15:01Z","Content":"\n\u003Cp\u003ESo this mod would take advantage of a SSD?\u003C/p\u003E\n"},{"CreatedByName":"PizzaMore","CreatedById":92544,"CreatedDateTime":"2014-05-10T05:42:36Z","Content":"\n\u003Cp\u003EFaark, \u003C/p\u003E\u003Cp\u003EThis plugin is fantastic! works like a trooper! Thank you for putting in the hours to get this out to the community!\u003C/p\u003E\u003Cp\u003EOk, now for the nitty-gritty. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EHm, TextureReplacer doesn\u0027t seem to replace part textures, so that shouldn\u0027t be a problem. But it does try to compress all textures... likely including the ones this mod wants to handle. You might want to try turning it of in your TextureReplacer.tcfg (isCompressionEnabled).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewith my install, this is semi-accurate.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cem\u003E\u003Cstrong\u003ETextureReplacer.tcfg\u003C/strong\u003E\u003C/em\u003E is located in \u0027\u003Cem\u003E\\GameData\\BoulderCo\\ActiveTextureManagerConfigs\\\u003C/em\u003E\u0027 on line 7: \u0027TextureReplacer/EnvMap/\u0027 I had to change \u003Cem\u003Ecompress = true\u003C/em\u003E and give a \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Efalse\u003C/em\u003E\u003C/span\u003E value.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003EisCompressionEnabled\u003C/strong\u003E is located at \u0027\u003Cem\u003E\\GameData\\TextureReplacer\u003C/em\u003E\u0027 inside a file called \u003Cem\u003E@Default.cfg\u003C/em\u003E\u003Cbr\u003Ehere, line 10 holds the \u003Cem\u003EisCompressionEnabled\u003C/em\u003E value and that is change from auto to \u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Enever\u003C/em\u003E\u003C/span\u003E.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBasically one value within two files are changed to false. The application still has abrupt crashes which make me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E, so quick that KSP/Unity doesn\u0027t even register it and thus no crash logs from them. although i do have the Windows Event Viewer entry(ies) and can send it to you on request. (got them 7zed and in evtx format. 3kfile/compressed) The entries state that the errors are an \u0022Event 1026 .NET Runtime\u0022 whatever that means. ..\u003C/p\u003E\u003Cp\u003Eanyway, thanks again and hope this is help .. i love this mod, keep up the good work!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-11T00:20:41Z\u0022 title=\u002205/11/2014 12:20  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 11, 2014\u003C/time\u003E by PizzaMore\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"raxo2222","CreatedById":110750,"CreatedDateTime":"2014-05-10T19:28:49Z","Content":"\n\u003Cp\u003EHi Faark\u003C/p\u003E\u003Cp\u003EI\u0027m running into crashes on VAB - I have 32 bit Windows 7 with 4 GB RAM, and I crash at ~1800 MB - when I still have around 1000 MB of free space.\u003C/p\u003E\u003Cp\u003EHere is mod folder:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RjHt0Yx.jpg\u0022 alt=\u0022RjHt0Yx.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt loads fine, when I remove KWRocketry, B9, Firesplatter and Novapunch, but it still crashes in VAB.\u003C/p\u003E\u003Cp\u003EHere are logs of crash, when trying to load all listed mods: \u003Ca href=\u0022http://www.megafileupload.com/en/file/528639/KSP-crash-logs-rar.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.megafileupload.com/en/file/528639/KSP-crash-logs-rar.html\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-10T19:52:41Z\u0022 title=\u002205/10/2014 07:52  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 10, 2014\u003C/time\u003E by raxo2222\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BananaDealer","CreatedById":60684,"CreatedDateTime":"2014-05-10T20:10:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022raxo2222\u0022 data-cite=\u0022raxo2222\u0022\u003E\u003Cdiv\u003EHi Faark\u003Cp\u003EI\u0027m running into crashes on VAB - I have 32 bit Windows 7 with 4 GB RAM, and I crash at ~1800 MB - when I still have around 1000 MB of free space.\u003C/p\u003E\u003Cp\u003EHere is mod folder:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/RjHt0Yx.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/RjHt0Yx.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt loads fine, when I remove KWRocketry, B9, Firesplatter and Novapunch, but it still crashes in VAB.\u003C/p\u003E\u003Cp\u003EHere are logs of crash, when trying to load all listed mods: \u003Ca href=\u0022http://www.megafileupload.com/en/file/528639/KSP-crash-logs-rar.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.megafileupload.com/en/file/528639/KSP-crash-logs-rar.html\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe actual amount of RAM you have doesn\u0027t matter as KSP can only ever use about 3GB at most.\u003C/p\u003E\u003Cp\u003EBy the looks of your GameData folder, I\u0027m guesstimating that you\u0027re hitting about 2000 textures, probably more. The mod in general has issues with over-loading textures in VAB. Having more than 2000 textures makes crashes even more often. I don\u0027t know of a work-around to this unfortunately... We\u0027ll just have to wait until the mod is made to handle loading and unloading of textures better...\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-05-10T20:16:54Z","Content":"\n\u003Cp\u003EThe next version will be able to disable loading texture in VAB inventory, which should fix your issue (VAB icons will look ugly, though). It has a problem with flipping through pages in VAB now.\u003C/p\u003E\n"}]}