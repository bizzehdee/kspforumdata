{"TopicId":223889,"ForumId":130,"TopicTitle":"Kuriosity Science [v0.1.3 for KSP2 v0.2.1]","CreatedByName":"Cadestronaut","CreatedById":232811,"CreatedDateTime":"2024-02-27T22:05:48Z","PageNum":1,"Articles":[{"CreatedByName":"Cadestronaut","CreatedById":232811,"CreatedDateTime":"2024-02-27T22:05:48Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003EKuriosity Science\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\nKurious events that inspire our kerbals to complete some science!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://spacedock.info/mod/3572/Kuriosity%20Science\u0022 rel=\u0022external nofollow\u0022\u003EKuriosity Science on SpaceDock\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAlso available on \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Cadestronaut/KuriosityScience\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Cadestronaut/KuriosityScience\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cspan style=\u0022font-size:20px;\u0022\u003EBalance and other feedback most welcome!\u003C/span\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003EFeatures\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nGenerate completed science experiments from your kerbals whilst they\u0027re in flight\n\u003C/li\u003E\n\u003Cli\u003E\nEach kerbal in flight is running a Kuriosity Experiment whenever possible\n\u003C/li\u003E\n\u003Cli\u003E\nThese experiments take a variable amount of time, depending on the specific experiment and how \u0027rich\u0027 (i.e. the science point multiplier) the particular location of the kerbal is\n\u003C/li\u003E\n\u003Cli\u003E\nEach experiment has it\u0027s own conditions, and is typically not specific to a biome/location/situation - so most can only be completed once per kerbal\n\u003C/li\u003E\n\u003Cli\u003E\nDifferent parts can support (or prioritize the running of) different experiments, and can also impact the rate at which experiments run - for example kerbals in a lab run experiments faster than those in a command pod\n\u003C/li\u003E\n\u003Cli\u003E\nAbility to customize the rate at which experiments run, and the amount of science returned\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EDesign goals\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nAiming to give some more reasons to keep kerbals in space for prolonged periods, in a variety of different situations and craft\n\u003C/li\u003E\n\u003Cli\u003E\nIdeally intended to work in conjunction with a life-support mod (for example the excellent **KLSS**)\n\u003C/li\u003E\n\u003Cli\u003E\nIncreasing the options for gathering early-game science, whilst not being \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003E\u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E\u003C/abbr\u003E in a more mature game\n\u003C/li\u003E\n\u003Cli\u003E\nExtendable via **Patch Manager** patches to define new experiments and attach them to parts\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EPlanned Features\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nUI to review experiments that each kerbal is running or has completed\n\u003C/li\u003E\n\u003Cli\u003E\nUpdated localization\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EChangelog:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nv0.1.3\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nAdded Russian localization (thanks to Topos)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nv0.1.2\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nChanged the condition of tech unlocked and kuriosity experiments completed to handle a list of items rather than a single item\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a feature to deprioritize an experiment (i.e. not run it) for all kerbals on a vessel once one of them has completed an experiment onboard\n\u003C/li\u003E\n\u003Cli\u003E\nAdded 8 more experiments, and adjusted conditions and running duration for several existing experiments (attempting to balance)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nv0.1.1\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nMinor bugfixes\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nv0.1.0\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nFirst release\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EAbout modding KSP2\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\nThis has been my first experience modding a game, having been a fan of KSP \u0026amp; KSP2 since the early days. I had read a lot about some of the perceived challenges and barriers to modding KSP2 that some of the KSP community had expressed, and was curious to see for myself. Although the modding scene here is small, it\u0027s been able to (within ~15 hours) guide me to the point of creating the first version of this mod, by solely using the \u003Ca href=\u0022https://wiki.spacewarp.org/wiki/Main_Page\u0022 rel=\u0022external nofollow\u0022\u003ESpaceWarp wiki\u003C/a\u003E, \u003Ca href=\u0022https://pm.kerbal.wiki/\u0022 rel=\u0022external nofollow\u0022\u003EPatch Manager wiki\u003C/a\u003E, lurking \u00A0in the \u003Ca href=\u0022https://discord.gg/hHW5gpHxfE\u0022 rel=\u0022external nofollow\u0022\u003EKSP2 Modding Society Discord\u003C/a\u003E, and looking through some of the excellent examples of mods that have already been created. I\u0027d like to call out a few of the modders whose work here has inspired and taught me, even if they don\u0027t know it... \u003Cem\u003ECheese3660, Falki, Leonardfactory, Munix, Schlosrat, Safarte ...and many others\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLicence: MIT\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-30T14:41:48Z\u0022 title=\u002203/30/2024 02:41  PM\u0022 data-short=\u0022Mar 30\u0022\u003EMarch 30\u003C/time\u003E by Cadestronaut\u003C/strong\u003E\n\u003Cbr\u003Ev0.1.3 release\n\u003C/span\u003E\n"},{"CreatedByName":"Cadestronaut","CreatedById":232811,"CreatedDateTime":"2024-03-01T09:37:23Z","Content":"\n\u003Cp\u003E\nUpdated to v0.1.2:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#656d76;font-size:16px;\u0022\u003E\n\u003Cli\u003E\nChanged the condition of tech unlocked and kuriosity experiments completed to handle a list of items rather than a single item\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a feature to deprioritize an experiment (i.e. not run it) for all kerbals on a vessel once one of them has completed an experiment onboard\n\u003C/li\u003E\n\u003Cli\u003E\nAdded 8 more experiments, and adjusted conditions and running duration for several existing experiments (attempting to balance)\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"jordanjay29","CreatedById":62787,"CreatedDateTime":"2024-03-15T17:08:39Z","Content":"\n\u003Cp\u003E\nThis is a great idea.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have a screenshot or something to demonstrate how it works? I installed but am not seeing experiments being run or the option to, and would like to compare with the expectation before I start troubleshooting mod conflicts.\n\u003C/p\u003E\n"},{"CreatedByName":"Mitokandria","CreatedById":222458,"CreatedDateTime":"2024-03-17T14:43:44Z","Content":"\n\u003Cp\u003E\n\u003Cs\u003EThis sounds like just what I need, but I\u0027m also not sure how it works exactly. Do we have to initiate the experiments? Are the experiments tied to specific parts? How do we see the progress of a Kerbal\u0027s experiment?\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOk I decided to check the github and there\u0027s a lot more info on what to expect on there. The experiments are supposed to be more like hidden achievements or hidden miniquests. This makes it a good companion if you\u0027re playing with lower Mission rewards.\n\u003C/p\u003E\n\u003Cp\u003E\nSince some of these hidden achievements require a certain amount of time and specific conditions it\u0027s meant to be balanced by playing with a life support mod.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(please let me know if I misunderstood anything)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-17T14:50:31Z\u0022 title=\u002203/17/2024 02:50  PM\u0022 data-short=\u0022Mar 17\u0022\u003EMarch 17\u003C/time\u003E by Mitokandria\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cadestronaut","CreatedById":232811,"CreatedDateTime":"2024-03-18T18:08:34Z","Content":"\n\u003Cp\u003E\nThanks both for trying out this mod and the feedback, it\u0027s really appreciated.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/62787-jordanjay29/?do=hovercard\u0022 data-mentionid=\u002262787\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/62787-jordanjay29/\u0022 rel=\u0022\u0022\u003E@jordanjay29\u003C/a\u003E\u00A0Thanks! I\u0027ll get some screenshots sorted and write up a little \u0027How this works\u0027 on the main post so that it\u0027s a little clearer\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/222458-mitokandria/?do=hovercard\u0022 data-mentionid=\u0022222458\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/222458-mitokandria/\u0022 rel=\u0022\u0022\u003E@Mitokandria\u003C/a\u003E\u00A0Yup that\u0027s exactly it.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn short:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nEach experiment has a set of conditions (i.e. location, parts of craft, crew on craft, previous experiments triggered, if that experiment has been run by another kerbal on the current vessel,\u00A0etc)\u00A0that need to be met in order to allow them to be the current \u0027focused\u0027 experiment - of which there is only one focused on at a time.\n\u003C/li\u003E\n\u003Cli\u003E\nEach Kerbal will automatically try and have a focused experiment going if possible.\n\u003C/li\u003E\n\u003Cli\u003E\nFor some experiments, the Kerbal needs to actually be in a specific part, and that part can also encourage / prioritize particular experiments, as well as decrease the time for the them to take.\n\u003C/li\u003E\n\u003Cli\u003E\nThe experiments complete after a certain time which is random and depends on the each experiment and the current situation/region science multiplier (i.e. Kerbin Low Orbit is low, but Eeloo landed is high). This means that it can be hundreds of days or could be just a few before an experiment triggers.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen an experiment does trigger, you\u0027ll get a notification about \u0027something kurious\u0027 noticed by one of your kerbals, and the experiment results are added to their stored science reports (could be data, sample, or both).\n\u003C/li\u003E\n\u003Cli\u003E\nIf a change in conditions mean that the current focused experiment is no longer valid, then progress on it will be paused and a valid experiment will automatically become the focus.\n\u003C/li\u003E\n\u003Cli\u003E\nProgress on experiments is tied to the Kerbal themselves, not the craft - so it follows them on EVA, or if they change vessels, etc. Currently all progress is reset once they get recovered at the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E (or killed!) - although if a Kerbal completes an experiment then that does persist between launches.\n\u003C/li\u003E\n\u003Cli\u003E\nCurrently there is no UI or visual indicator to show what experiments that Kerbal has completed, or what they are currently focused on. I\u0027m having a busy time at work at the moment but as soon as it lightens off this is next on my list to put in place (along with better Science Arkive compatibility)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDo let me know if there is anything else that would be good to see, or if you have suggestions for new experiments to add?\n\u003C/p\u003E\n"},{"CreatedByName":"jordanjay29","CreatedById":62787,"CreatedDateTime":"2024-03-19T05:34:18Z","Content":"\n\u003Cp\u003E\nOkay, that helps a bit. I also dug through the files, trying not to spoil myself, but now that I see there\u0027s a long period during which they can trigger and some differing circumstances, I\u0027m not ready to say for sure that my install isn\u0027t working.\n\u003C/p\u003E\n\u003Cp\u003E\nI might suggest some faster, low-key experiments just to whet the appetite, as it were, for the Kerbals and players alike. Like spending a few hours in Kerbin orbit or something more readily achievable. The first Kuriosity experiment that appears is probably going to feel like magic!\n\u003C/p\u003E\n\u003Cp\u003E\nHaving some in-game indication of where/how an experiment might become eligible would help with direction. Like attaching them to the mission dialogues, or adding a mission for some of them, or adding on attributes to certain parts (to be seen in R\u0026amp;D or the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E) that are used for experiments. Vague suggestions are fine, just some indication of: hey, spend some time in this area or this part and Kerbals might do some extracurricular science on their own.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Or maybe some integration with Science Arkive?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-19T05:38:15Z\u0022 title=\u002203/19/2024 05:38  AM\u0022 data-short=\u0022Mar 19\u0022\u003EMarch 19\u003C/time\u003E by jordanjay29\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mitokandria","CreatedById":222458,"CreatedDateTime":"2024-03-21T00:32:52Z","Content":"\n\u003Cp\u003E\nOo having missions for some of the more obvious experiments might work. Make the mission rewards 0 and you have a readily available list of easy to achieve experiments while leaving a lot of others as hidden.\n\u003C/p\u003E\n\u003Cp\u003E\nAs a nice bonus feature it would also help players to see if the mod is working. \u003Cimg alt=\u0022:valjoy:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/val_head_laughcry.png\u0022 title=\u0022:valjoy:\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Topos","CreatedById":233112,"CreatedDateTime":"2024-03-28T07:59:00Z","Content":"\n\u003Cp\u003E\nI\u0027m added Russian localization, please accept the pull request\n\u003C/p\u003E\n"},{"CreatedByName":"Cadestronaut","CreatedById":232811,"CreatedDateTime":"2024-03-30T14:40:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224375784\u0022 data-ipsquote-contentid=\u0022223889\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221711612740\u0022 data-ipsquote-userid=\u0022233112\u0022 data-ipsquote-username=\u0022Topos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/28/2024 at 7:59 AM, Topos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m added Russian localization, please accept the pull request\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks Topos! PR accepted and new release made.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m hoping to finally get a bit of focus to finish the next round of updates (and some screenshots) after next week, which should include some visual indicators of experiments running, I\u0027ve just not had the time the last few weeks!\n\u003C/p\u003E\n"},{"CreatedByName":"jordanjay29","CreatedById":62787,"CreatedDateTime":"2024-03-31T06:16:15Z","Content":"\n\u003Cp\u003E\nThanks for keeping us updated! I\u0027m very pleased to see a couple of the experiments hit off for me during a long flight to Duna, so I\u0027m pretty pleased by the mod so far.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you ever run into a lot of notifications at moderate-high timewarp at all? I only have this and Orbital Survey mods that add experiments, and I\u0027m consistently running into Experiment Interrupted notifications when I go above 50x timewarp.\u00A0 I\u0027m guessing this is KS because other experiments are run in real time.\n\u003C/p\u003E\n\u003Cp\u003E\nI turned off all the orbital survey parts that are launched, so all I\u0027m left with is Kuriosity.\n\u003C/p\u003E\n"},{"CreatedByName":"Devblaze","CreatedById":222365,"CreatedDateTime":"2024-03-31T10:36:16Z","Content":"\n\u003Cp\u003E\nI would love to see some photos of this in action / previews of the mod working or any menus included, would be nice!\n\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2024-04-13T22:29:50Z","Content":"\n\u003Cp\u003E\nHey, Kadestronaut, I\u0027m finding KS absolutely slams my system after a while due to some memory management issues; I created a couple github issues, one before I had chance to look at the code and a second after I\u0027d done a bit more digging which is kind of a sub-ticket I guess. The only non-work machine I have atm where I can install Unity is a Mac and since KSP2 doesn\u0027t seem to run on Mac yet, not sure if I\u0027ll be able to try and contribute fixes. TL;DR is the mod drives C#/Unity\u0027s memory management into craziness to the point that time runs at half speed inside KSP2 (e.g maneuver node countdown is 3 .. .. .. 2 .. .. .. 1 .. .. .. .. 0 instead of 3 .. 2 .. 1 .. 0). The problem is you\u0027re doing \u0027new\u0027 allocations like crazy, including for static lists:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eprivate\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentTracker\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EGetBestExperiments\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E precedences \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPriority\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ENonPriority\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E};\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n        \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E states \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ERunning\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPaused\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EInitialized\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E};\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nevery time this method runs, it has to allocate two new lists, and then grow them to contain the priority/state lists, which it gets from the static lists you already have above.\n\u003C/p\u003E\n\u003Cp\u003E\nYou could immediately reduce this runtime cost with a simple change:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\u003Cspan class=\u0022com\u0022\u003E// Make the underlying static lists as members of the class so they are created at compile time not runtime\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eprivate\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Estatic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E readonly \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E precedences \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPriority\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentPrecedence\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ENonPriority\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E};\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eprivate\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Estatic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E readonly \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E states \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ERunning\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPaused\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EKuriosityExperimentState\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EInitialized\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E};\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBut it would probably make sense to also try and avoid the other dynamic allocations you\u0027re doing in GetBestExperiments\n\u003C/p\u003E\n"},{"CreatedByName":"kfsone","CreatedById":153177,"CreatedDateTime":"2024-04-16T22:55:29Z","Content":"\n\u003Cp\u003E\nHad to give up on trying to get it to build on my system - not sure VS 2022 Preview likes JsonPeek and NewtonSoft.json - but I submitted a pull request that fixes some of the garbage-collection thrashing/performance issues.\n\u003C/p\u003E\n"}]}