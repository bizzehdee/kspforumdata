{"TopicId":78226,"ForumId":34,"TopicTitle":"[1.4] StageRecovery - Recover Funds\u002B from Dropped Stages - v1.8.0 (March 11, 2018)","CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2014-07-18T15:15:22Z","PageNum":21,"Articles":[{"CreatedByName":"Ryve","CreatedById":105473,"CreatedDateTime":"2015-05-03T08:17:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003ESometimes the distance calculation bugs out when KSP reports an incorrect latitude and longitude for the vessel. Unfortunately there\u0027s not much I can do about that. And it\u0027s totally random when it happens.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut it happens every single time.\u003C/p\u003E\u003Cp\u003EI noticed something else and I now know it\u0027s caused by the Kopernicus mod that slightly moves Kerbin.\u003C/p\u003E\u003Cp\u003EIs there any way I can make SR ignore the distance check\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-03T12:12:02Z\u0022 title=\u002205/03/2015 12:12  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Ryve\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-03T15:37:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ryve\u0022 data-cite=\u0022Ryve\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIs there any way I can make SR ignore the distance check\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere isn\u0027t in the official release, but I made a dev version just for you, \u003Ca href=\u0022http://magico13.net:8080/job/StageRecovery%20Development/16/artifact/StageRecovery/obj/Debug/StageRecovery.dll\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. It adds a setting, accessible only in the config file and not in the in-game settings, that you can set to override the distance percentage. By default it\u0027s at -1.0, which means \u0022calculate the distance\u0022. If you set it to anything between 0 and 1 it will force the distance percentage to be between 0 and 100%, constant. The normal maximum for distance is 98%, the minimum is 10%, and it falls off kinda slowly. Setting it to 0.95 would probably be fair in a vast majority of cases.\u003C/p\u003E\u003Cp\u003EThat setting won\u0027t appear in the file until you start the game. Any changes you make to it will require you to change scenes before they take effect (so do it in the Main Menu or the Space Center scenes and it\u0027ll load by the time you go into Flight).\u003C/p\u003E\n"},{"CreatedByName":"Ryve","CreatedById":105473,"CreatedDateTime":"2015-05-03T16:42:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EThere isn\u0027t in the official release, but I made a dev version just for you, \u003Ca href=\u0022http://magico13.net:8080/job/StageRecovery%20Development/16/artifact/StageRecovery/obj/Debug/StageRecovery.dll\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. It adds a setting, accessible only in the config file and not in the in-game settings, that you can set to override the distance percentage. By default it\u0027s at -1.0, which means \u0022calculate the distance\u0022. If you set it to anything between 0 and 1 it will force the distance percentage to be between 0 and 100%, constant. The normal maximum for distance is 98%, the minimum is 10%, and it falls off kinda slowly. Setting it to 0.95 would probably be fair in a vast majority of cases.\u003Cp\u003EThat setting won\u0027t appear in the file until you start the game. Any changes you make to it will require you to change scenes before they take effect (so do it in the Main Menu or the Space Center scenes and it\u0027ll load by the time you go into Flight).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA hero. Not the hero we deserved but the hero we needed. Nothing less than a knight. Shining.\u003C/p\u003E\u003Cp\u003EI have also received word from the people at Outer Planets Mod.\u003C/p\u003E\u003Cp\u003EThey are close to fixing the issue, but no ETA. Just in case anyone else wanted to know.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-03T17:01:16Z\u0022 title=\u002205/03/2015 05:01  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Ryve\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Smurfalot","CreatedById":72587,"CreatedDateTime":"2015-05-05T21:05:41Z","Content":"\n\u003Cp\u003EAre you familiar with \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/105247-1-0-2-Kerbal-Konstructs-%28v0-7-3%29-Now-With-More-Stuff-and-Things?p=1907333#post1907333\u0022 rel=\u0022external nofollow\u0022\u003EKerbal Konstructs\u003C/a\u003E? It places additional static bases and tracking stations in various places on Kerbin, if I understand correctly they already support the stock recovery of missions, can Stage Recovery be made to use the additional static locations for calculating recovery?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-05T21:58:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Smurfalot\u0022 data-cite=\u0022Smurfalot\u0022\u003E\u003Cdiv\u003EAre you familiar with \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/105247-1-0-2-Kerbal-Konstructs-%28v0-7-3%29-Now-With-More-Stuff-and-Things?p=1907333#post1907333\u0022 rel=\u0022external nofollow\u0022\u003EKerbal Konstructs\u003C/a\u003E? It places additional static bases and tracking stations in various places on Kerbin, if I understand correctly they already support the stock recovery of missions, can Stage Recovery be made to use the additional static locations for calculating recovery?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s kind of on my long-term todo list. There\u0027s a \u003Ca href=\u0022https://github.com/magico13/StageRecovery/issues/6\u0022 rel=\u0022external nofollow\u0022\u003Egithub issue\u003C/a\u003E about doing this same thing for RSS, and while the two require vastly different implementations, it would make sense to add support for both at the same time. I\u0027m going to be doing some work to get KK integration into KCT at some point soonish, and since KCT now requires StageRecovery for parachute based recovery of parts, I\u0027ll likely need to add that support into SR as well (so it makes sense to do that all at the same time).\u003C/p\u003E\u003Cp\u003EIn short, long term goal unless people pester me about it a lot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Alternatively, KK could tie into the SR API and determine the amount of funds it should give the user to \u0022split the difference\u0022, but it makes more sense for this to be done on SR\u0027s side.\u003C/p\u003E\n"},{"CreatedByName":"Crescentius","CreatedById":143185,"CreatedDateTime":"2015-05-06T00:16:15Z","Content":"\n\u003Cp\u003EJust wondering if there is any provision to recover stages which fall within draw distance of the recovery site of your manned capsule? Ex: On a particular rocket I jettison the final power stage of my capsule after my reentry burn, and it typically reenters and splashes down within 20km of the command module. I recover the command module, and the \u0022spacecraft debris\u0022 is lost without being recovered. Am I doing something obvious wrong here?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-06T01:25:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crescentius\u0022 data-cite=\u0022Crescentius\u0022\u003E\u003Cdiv\u003EJust wondering if there is any provision to recover stages which fall within draw distance of the recovery site of your manned capsule? Ex: On a particular rocket I jettison the final power stage of my capsule after my reentry burn, and it typically reenters and splashes down within 20km of the command module. I recover the command module, and the \u0022spacecraft debris\u0022 is lost without being recovered. Am I doing something obvious wrong here?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStageRecovery only works when things exit the physics range of the active vessel. If the other parts are still loaded, you can recover them the old fashioned way, which might require a bit of manual trickery to do properly. The physics range is 22.5km in 1.0 (it was only 2.5km in 0.90). I may add the ability to automatically deploy stock parachutes on unfocused vessels when get within a certain distance of the ground, but that will require a totally different set of code, which is why I haven\u0027t done it yet. When I do that, it should make that sort of thing easier to accomplish. Otherwise, you can try deploying your parachutes on that other piece while you reenter.\u003C/p\u003E\u003Cp\u003EIf you\u0027re not seeing it in the Tracking Station but know it landed safely, make sure you disable debris filtering (top of the TS/map view window), as debris isn\u0027t shown by default. You also won\u0027t get a popup telling you you recovered any funds, but your funds will actually go up.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T01:28:24Z\u0022 title=\u002205/06/2015 01:28  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gfurst","CreatedById":126201,"CreatedDateTime":"2015-05-06T01:33:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EI may add the ability to automatically deploy stock parachutes on unfocused vessels when get within a certain distance of the ground, but that will require a totally different set of code, which is why I haven\u0027t done it yet. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOrrrrr maybe suggest that people use Realchutes instead, as it as an awesome mod and gives the option to arm the chute instead of launching it right away.\u003C/p\u003E\n"},{"CreatedByName":"Smurfalot","CreatedById":72587,"CreatedDateTime":"2015-05-06T06:11:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EIt\u0027s kind of on my long-term todo list. There\u0027s a \u003Ca href=\u0022https://github.com/magico13/StageRecovery/issues/6\u0022 rel=\u0022external nofollow\u0022\u003Egithub issue\u003C/a\u003E about doing this same thing for RSS, and while the two require vastly different implementations, it would make sense to add support for both at the same time. I\u0027m going to be doing some work to get KK integration into KCT at some point soonish, and since KCT now requires StageRecovery for parachute based recovery of parts, I\u0027ll likely need to add that support into SR as well (so it makes sense to do that all at the same time).\u003Cp\u003EIn short, long term goal unless people pester me about it a lot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Alternatively, KK could tie into the SR API and determine the amount of funds it should give the user to \u0022split the difference\u0022, but it makes more sense for this to be done on SR\u0027s side.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for taking the time to answer. I support your long term plan in the hopes that it becomes a short term plan \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Wetapunga","CreatedById":26278,"CreatedDateTime":"2015-05-06T10:59:30Z","Content":"\n\u003Cp\u003EHaving a major issue with the powered recovery in this mod\u003C/p\u003E\u003Cp\u003EIn the 0.90 version it was possible too have a tank on the top of your rocket stage where you disabled the fuel flow leaving it reserved, so when using MechJeb launch control it would automatically stage and there would be enough fuel left in the tank for a safe powered recovery. I didn\u0027t have too switch too the discarded stage and unblock the fuel flow, the mod just saw there was fuel in it and activated engines and successfully recovered.\u003C/p\u003E\u003Cp\u003ENow in the 1.0 version the blocked fuel in the stage isn\u0027t counted for recovery, it always results in failure. Also when you go too switch too the stage it bugs out when you unblock the fuel, automatically throws throttle to maximum burning away the fuel. \u003C/p\u003E\u003Cp\u003ECould you please restore it too the 0.90 functionality where the powered recovery will use fuel in blocked tanks, this would make the mod far more useable for Mechjeb players who would like the mod too work in the background of their automatic launches; the way the mod works currently you need too manually stage when you guess there is enough fuel left for a powered recovery. \u003C/p\u003E\u003Cp\u003EI like too go to the bathroom and make a cup of tea when I hit launch, come back too find my payload in orbit and all stages recovered safely.... unfortunately in the current state of the mod this is not possible \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T11:02:54Z\u0022 title=\u002205/06/2015 11:02  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by Wetapunga\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Smurfalot","CreatedById":72587,"CreatedDateTime":"2015-05-06T12:24:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wetapunga\u0022 data-cite=\u0022Wetapunga\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI like too go to the bathroom and make a cup of tea when I hit launch, come back too find my payload in orbit and all stages recovered safely.... unfortunately in the current state of the mod this is not possible \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHoly crap, how do you automate all of that? Please send me a PM so as to not derail the rest of this thread.\u003C/p\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2015-05-06T13:08:56Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@magico13\u003C/strong\u003E does StageRecovery modulate thermal damage to parts during reentry?\u003C/p\u003E\n"},{"CreatedByName":"Wetapunga","CreatedById":26278,"CreatedDateTime":"2015-05-06T13:14:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Smurfalot\u0022 data-cite=\u0022Smurfalot\u0022\u003E\u003Cdiv\u003EHoly crap, how do you automate all of that? Please send me a PM so as to not derail the rest of this thread.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt used to be as simple as having MechJeb do the ascent for me and designing my rocket stages too have extra fuel for the stage recovery plugin too play with.... alas now stage recovery is broken and doesn\u0027t play nice, powered recovery is weird now. \u003C/p\u003E\u003Cp\u003EI had a fully automated Falcon Heavy using the 3 meter parts as my standard lifter, saved me a LOT of money being able to recover all the main stages automatically, with a lighter cargo the core 1st stage often ended up in stable orbit so I would kick it back down to let it recover, heavy cargos the second stage ended up in orbit\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-06T13:45:52Z","Content":"\n\u003Cp\u003EWhen I get to work and am on an actual computer, I\u0027ll respond to everything in full, but powered recovery either doesn\u0027t work because of the changes to thrust, or requires a crap ton of fuel because SR can\u0027t calculate terminal velocities correctly. Either way I\u0027m going to have to dig into the code to fix it, and do a bunch of tests along the way, which because of finals this week and next might take me some time to do. I\u0027m already busy after work today, I might be able to get some stuff done tomorrow evening, Friday is one of my finals (at 7pm) and I\u0027ll be at work until then, but Saturday I\u0027ll have the best chance of getting an opportunity to do some work on the problem. I am also trying to finish a massive final project (in my Atomic Scale Simulations class) that has been, and will continue to, eat up enormous amounts of time, which is due next Wednesday (along with a paper, presentation, and website for it, along with actual results and my simulations take over a day \u003Cem\u003Ejust to run\u003C/em\u003E). Until then, you might need to use FMRS. Also if you have no SAS at all then SR won\u0027t recover it (there\u0027s an option in the settings, \u0022Tie Into Upgrades\u0022 or something like that).\u003C/p\u003E\u003Cp\u003EEdit: Sorry if I sound whiney or rude, just a bit of a rough morning and the impending finals have me a little on edge.\u003C/p\u003E\u003Cp\u003EEdit2: At work, responding to a bunch of KSP posts in various threads.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Enceos\u0022 data-cite=\u0022Enceos\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@magico13\u003C/strong\u003E does StageRecovery modulate thermal damage to parts during reentry?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKind of. Older versions of SR had a weird way of interacting with Deadly Reentry that I have moved to the Stock system. I\u0027ve explained it numerous times throughout the thread, but apparently have never added that to the OP (which explains all the questions about it). I\u0027ll try to add a description of how it works to the first post, and if you still have questions when you read it, let me know.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Wetapunga\u003C/strong\u003E if you could upload a log file from one of your flights, it might save me some time trying to figure out exactly where the problem is. I\u0027m still going to have to do a bunch of tests myself, but at the very least I can see if the powered recovery code is trying to work at all. If it\u0027s a thrust calculation issue, it might log an error. If it\u0027s just that the \u0022calculated\u0022 terminal velocity of the ship is way too high and no amount of fuel will fix it, then I\u0027ll be able to see that in the Vt outputs. Either way, I know the thrust to weight calculations aren\u0027t using the correct atmospheric thrust, so I\u0027ll need to change that, but if it\u0027s primarily an issue with terminal velocity measurements I can get you a quick workaround until I can do a more proper fix later. Terminal velocities will definitely be higher with this version of KSP, and (un)fortunately the new aero doesn\u0027t have simple equations to determine terminal velocity. I\u0027ll have to throw a bunch of things at the ground and come up with a reasonable estimation for Vt for things without chutes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-06T15:02:13Z\u0022 title=\u002205/06/2015 03:02  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 6, 2015\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gfurst","CreatedById":126201,"CreatedDateTime":"2015-05-06T14:54:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wetapunga\u0022 data-cite=\u0022Wetapunga\u0022\u003E\u003Cdiv\u003EHaving a major issue with the powered recovery in this mod\u003Cp\u003ENow in the 1.0 version the blocked fuel in the stage isn\u0027t counted for recovery, it always results in failure. Also when you go too switch too the stage it bugs out when you unblock the fuel, automatically throws throttle to maximum burning away the fuel. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot a major issue but rather design choice, the powered recovery needs to have SAS or a command module (confirm?) to work. And I guess it should be optional too, as everything that magico does is.\u003C/p\u003E\u003Cp\u003EYou could just simply strap on some radial chutes....\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-06T15:15:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gfurst\u0022 data-cite=\u0022Gfurst\u0022\u003E\u003Cdiv\u003ENot a major issue but rather design choice, the powered recovery needs to have SAS or a command module (confirm?) to work. And I guess it should be optional too, as everything that magico does is.\u003Cp\u003EYou could just simply strap on some radial chutes....\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe craft needs to have SAS capabilities yes, but I suspect the calculation of terminal velocity \u002B the changes to thrust added in 1.0 are the primary sources of problems. I need to go through that code again anyway, I just haven\u0027t gotten a chance to yet.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2015-05-06T19:23:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wetapunga\u0022 data-cite=\u0022Wetapunga\u0022\u003E\u003Cdiv\u003EIt used to be as simple as having MechJeb do the ascent for me and designing my rocket stages too have extra fuel for the stage recovery plugin too play with.... alas now stage recovery is broken and doesn\u0027t play nice, powered recovery is weird now. \u003Cp\u003EI had a fully automated Falcon Heavy using the 3 meter parts as my standard lifter, saved me a LOT of money being able to recover all the main stages automatically, with a lighter cargo the core 1st stage often ended up in stable orbit so I would kick it back down to let it recover, heavy cargos the second stage ended up in orbit\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is exactly what I used to do as well. And then you can unlock your buildings much faster and then start to flip a ton of money into science late game. \u003C/p\u003E\u003Cp\u003EMight now have to write a kOS script to fly the first stage home.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magico13\u0022 data-cite=\u0022magico13\u0022\u003E\u003Cdiv\u003EThe craft needs to have SAS capabilities yes, but I suspect the calculation of terminal velocity \u002B the changes to thrust added in 1.0 are the primary sources of problems. I need to go through that code again anyway, I just haven\u0027t gotten a chance to yet.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe other problems is the physics cutoff, no? If the first stage remains in physics range when it hits the ground, it needs to land intact? You can\u0027t just add up the amount of dV and call it a day, correct?\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-06T19:37:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnsonwax\u0022 data-cite=\u0022johnsonwax\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThe other problems is the physics cutoff, no? If the first stage remains in physics range when it hits the ground, it needs to land intact? You can\u0027t just add up the amount of dV and call it a day, correct?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESR only cares about things that go beyond the physics cutoff (SR is event driven, it doesn\u0027t monitor all the craft for changes so it only knows to do things when KSP tells it to). If the first stage stays within physics range, then SR isn\u0027t needed and that\u0027s up to you to figure out (since you can technically land it yourself, for powered landings I\u0027d use kOS or MechJeb). It\u0027s pretty unlikely that the first stage hits the ground before you get out of range, unless you drop it from under like 5km.\u003C/p\u003E\u003Cp\u003EHow SR\u0027s powered recovery code is supposed to work is that it checks that the TWR for all the active engines is greater than 1 (for obvious reasons), then properly adds up the ISP of all the active engines. Then, using that total ISP it calculates how much dV the ship has compared to how much it requires (which has always been 2.5 times the terminal velocity, after parachutes are accounted for), targeting a landing speed that is 2 m/s less than the minimum cutoff (4m/s target by default). If it\u0027s got enough dV, it takes out the fuel it would have had to burn, then recovers. If it doesn\u0027t have enough dV then it takes as much as it can and calculates the final velocity, on the off chance that it gets the final velocity to something low enough for partial recovery.\u003C/p\u003E\u003Cp\u003EBecause of how I\u0027m basically not calculating the terminal velocity of ships without parachutes, the required dV is probably outrageously high. I still haven\u0027t seen any logs or screenshots or anything to know what it\u0027s saying the terminal velocity is. And I don\u0027t know if the thrust value it\u0027s using is the one at \u0022deletion\u0022 or at sea level, or in vacuum.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2015-05-06T19:57:03Z","Content":"\n\u003Cp\u003EOk, that\u0027s what I figured. So for a 2 booster Falcon Heavy craft, the physics cutoff shouldn\u0027t make a difference once you sort out the powered landing stuff as you\u0027ll be jettisoning those boosters more than high enough to miss the cutoff and they should be going slow enough to not burn up. When you get to 4 or 6 booster asparagus craft, that\u0027s a different matter and you may well be dropping those first stages soon enough that you won\u0027t hit 22K before the booster hits the ground. Something new to think about in the design. \u003C/p\u003E\u003Cp\u003EAs for dV estimates being too high, I personally think that\u0027s fine. The reason why SpaceX powered landing is such a game changer is that you recover 95% of the cost of the stage, and so instead of building minimally-viable stages to cut down on the amount of cash you are literally going to dump into the ocean, you build maximally-viable stages that are larger, stronger, safer, and likely overpowered and overfueled, because your only real cost is the fuel you use up. It\u0027s a completely different way to design a launcher because you can stick anything you want in your lifter stage and so long as you can get it home in one piece, you get it all back for the next launch. So, I wouldn\u0027t worry about the dV calculation being too high so long as we can predict what it will be. If we know it\u0027s about 400dV, then we can work out the mechanics for how to drop that stage with that much dV in the tank, and the cost of fuel for that number vs 200 or what it realistically would be is effectively zero.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-06T20:08:51Z","Content":"\n\u003Cp\u003EI\u0027m going to limit the maximum terminal velocity to something reasonable, and then let you guys know what it is. Currently I think it might be predicting WAY unreasonable values, like thousands of meters per second, meaning you\u0027d need more dV to land than to get into orbit. Not very reasonable. But I wont get a chance to fire up KSP to do tests until tomorrow, but with log files I can probably do a quick fix tonight if the thrust calculation isn\u0027t too messed up (I can add a cap on the terminal velocity without firing up visual studio, but not mess with the thrust stuff).\u003C/p\u003E\n"},{"CreatedByName":"Crescentius","CreatedById":143185,"CreatedDateTime":"2015-05-07T00:37:30Z","Content":"\n\u003Cp\u003EThe debris filter was what I was missing, thanks! Just as a side note, I\u0027ve had good luck with deploying the parachutes in staging simultaneously with the decouplers, but raising the deployment pressure to maximum so they don\u0027t deploy at 25,000m and burn up.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-07T01:17:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crescentius\u0022 data-cite=\u0022Crescentius\u0022\u003E\u003Cdiv\u003EThe debris filter was what I was missing, thanks! Just as a side note, I\u0027ve had good luck with deploying the parachutes in staging simultaneously with the decouplers, but raising the deployment pressure to maximum so they don\u0027t deploy at 25,000m and burn up.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAwesome! Glad to hear things are working properly for you!\u003C/p\u003E\u003Cp\u003EAs for everyone who is having trouble with powered recovery, please \u003Ca href=\u0022http://magico13.net:8080/job/StageRecovery%20Development/\u0022 rel=\u0022external nofollow\u0022\u003Ego here\u003C/a\u003E, read the recent changes, and try the .dll in the \u0022Last Successful Artifacts\u0022. It should fix any issues with powered recovery. You now need 300 m/s of dV and the terminal velocity is set to 200 m/s for any vessels that don\u0027t have parachutes.\u003C/p\u003E\n"},{"CreatedByName":"Shadow86","CreatedById":68110,"CreatedDateTime":"2015-05-07T01:31:34Z","Content":"\n\u003Cp\u003ENoticed a minor bug during a very early career launch, the kind you go straight up, run out of fuel and come back down. I detached the first stage once it was spent, and the parachutes on it opened, slowing the descent. The capsule stage landed first, and when I activated time compression to accelerate the first stage\u0027s descent, it disappeared and I got a notification that it was recovered. The small bug is that it said the stage had been recovered over 700 km away from the KSC, when it truth it would\u0027ve been a helluva lot closer to 700 metres.\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-05-07T01:47:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shadow86\u0022 data-cite=\u0022Shadow86\u0022\u003E\u003Cdiv\u003EThe small bug is that it said the stage had been recovered over 700 km away from the KSC, when it truth it would\u0027ve been a helluva lot closer to 700 metres.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor whatever reason, time acceleration seems to cause that. I\u0027m starting to wonder if maybe KSP sets the lat/lon to 0, 0 for some vessels in certain situations.\u003C/p\u003E\n"},{"CreatedByName":"Mokmo","CreatedById":62363,"CreatedDateTime":"2015-05-07T04:35:18Z","Content":"\n\u003Cp\u003EMini bug: flag on kerbal was recovered with a recovery message on my save just now... yet \u0022flag\u0022 is on the ignore list...\u003C/p\u003E\u003Cp\u003Eedit:(and game crashed a minute later, so no logs sorry)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-07T04:46:46Z\u0022 title=\u002205/07/2015 04:46  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by Mokmo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}