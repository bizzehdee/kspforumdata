{"TopicId":139061,"ForumId":29,"TopicTitle":"Help with KVV - Material Shader to string Deprecated","CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-05-05T17:16:31Z","PageNum":1,"Articles":[{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-05-05T17:16:31Z","Content":"\n\u003Cp\u003E\nHi All,\n\u003C/p\u003E\n\u003Cp\u003E\nSince the Unity5 update KVV (Kronal Vessel Viewer) has only been rendering Pink Screenshots.\n\u003C/p\u003E\n\u003Cp\u003E\nI went through and managed to figure that \u003Ca href=\u0022https://github.com/bigorangemachine/ksp-kronalutils/blob/master/src/MaterialProperties.cs#L179\u0022 rel=\u0022external nofollow\u0022\u003Ethis line\u003C/a\u003E is part of the issues I\u0027m having.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m mostly a Web Developer who is pretty accomplished as just hacking through existing code(s) and understand it enough to \u0027be dangerous\u0027 but when it comes to shaders I\u0027m pretty lost. I have some 3D background but never got deep into shaders/materials.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo in short I\u0027m wondering how to get around this \u003Ca href=\u0022http://answers.unity3d.com/questions/987078/materialstring-is-obsolote.html\u0022 rel=\u0022external nofollow\u0022\u003Eunity5 issue\u003C/a\u003E. \u00A0In short KVV is reading the edge detection shaders and then using a regexp to adjust values. \u00A0However I\u0027m not sure how shader logic works nor how I would re-import a shader after its been converted from a string back into a material.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help/insights will be greatly appreciated\n\u003C/p\u003E\n"},{"CreatedByName":"Andem","CreatedById":155578,"CreatedDateTime":"2016-05-05T17:19:51Z","Content":"\n\u003Cp\u003E\nI\u0027ve been using the old KVV version and haven\u0027t had any issues with the screenshots, but good luck with updating!\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-05-07T15:09:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222563100\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462468591\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/5/2016 at 0:16 PM, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi All,\n\u003C/p\u003E\n\u003Cp\u003E\nSince the Unity5 update KVV (Kronal Vessel Viewer) has only been rendering Pink Screenshots.\n\u003C/p\u003E\n\u003Cp\u003E\nI went through and managed to figure that \u003Ca href=\u0022https://github.com/bigorangemachine/ksp-kronalutils/blob/master/src/MaterialProperties.cs#L179\u0022 rel=\u0022external nofollow\u0022\u003Ethis line\u003C/a\u003E is part of the issues I\u0027m having.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m mostly a Web Developer who is pretty accomplished as just hacking through existing code(s) and understand it enough to \u0027be dangerous\u0027 but when it comes to shaders I\u0027m pretty lost. I have some 3D background but never got deep into shaders/materials.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo in short I\u0027m wondering how to get around this \u003Ca href=\u0022http://answers.unity3d.com/questions/987078/materialstring-is-obsolote.html\u0022 rel=\u0022external nofollow\u0022\u003Eunity5 issue\u003C/a\u003E. \u00A0In short KVV is reading the edge detection shaders and then using a regexp to adjust values. \u00A0However I\u0027m not sure how shader logic works nor how I would re-import a shader after its been converted from a string back into a material.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help/insights will be greatly appreciated\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m far from a Unity expert, so take this as my understanding of the issue, which may be incomplete. \u00A0The problem line (the one generating the warning)\u00A0is just below the one you pointed at, where it has\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ethis.Material = new Material(contents);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nUnity 5 deprecated loading shaders from strings, which is what this line is doing. \u00A0What you have to do instead is create an AssetBundle using Unity and KSP\u0027s PartTools 1.1 (creating the AssetBundle was painful until I edited the bundle\u0027s XML file by hand), and then have the mod load the shader from the AssetBundle at runtime. \u00A0It looks like the mod uses multiple shaders, so you\u0027d have to do something similar to what I did in RasterPropMonitor to load them\u00A0(see \u003Ca href=\u0022https://github.com/MOARdV/RasterPropMonitor/blob/master/RasterPropMonitor/Core/UtilityFunctions.cs#L1551\u0022 rel=\u0022external nofollow\u0022\u003Ethis class\u003C/a\u003E\u00A0for my solution). \u00A0Once they\u0027re loaded into a dictionary or whatever, you fetch the shaders and pass that\u00A0into \u0027ShaderMaterial\u0027 as a parameter instead of a\u00A0string.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the pink screenshots - that\u0027s Unity\u0027s way of saying that the shader did not load / compile correctly. \u00A0I\u0027ve had it reported in KSP 1.1.2 for people using -force-glcore in Windows. \u00A0I don\u0027t know what the problem is with that. \u00A0It is possible that the pink shader you\u0027re seeing has nothing to do with the warning - all of the shaders in RPM still worked in KSP 1,1.x\u00A0using the old way of loading them.\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2016-05-08T04:53:15Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0022 rel=\u0022\u0022\u003E@MOARdV\u003C/a\u003E Thanks for the Asset loading example - I\u0027ve been tearing my hair out trying to figure out why I couldn\u0027t load my three assets - thought I was doing something wrong.\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-05-08T15:57:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222567058\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462633786\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 07/05/2016 at 11:09 AM, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m far from a Unity expert, so take this as my understanding of the issue, which may be incomplete. \u00A0The problem line (the one generating the warning)\u00A0is just below the one you pointed at, where it has...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHey thanks. So do I have to unpack the shader using the asset bundler as well? As i understand the code there is a regular expression modifying the exisitng shader. Are shaders still able to convert to a string?\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-05-08T16:11:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222569059\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462723039\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey thanks. So do I have to unpack the shader using the asset bundler as well? As i understand the code there is a regular expression modifying the exisitng shader. Are shaders still able to convert to a string?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, right. \u00A0I didn\u0027t look that closely what the regex was doing. \u00A0It looks like it\u0027s searching the properties in the shader to build a table of values/properties it can modify. \u00A0The Unity Material class can change the values, and it can query if a particular name exists, but I don\u0027t know if it has a way to give you a list of all properties (there is a shaderKeywords field, but I haven\u0027t looked at it, so I don\u0027t know what it contains). \u00A0I don\u0027t know if there\u0027s a way to fetch the shader text from the Shader class, and I don\u0027t know for sure if there\u0027s a way to get properties out of the Material in a way you can use. \u00A0Sorry, that\u0027s outside my limited Unity expertise.\n\u003C/p\u003E\n"},{"CreatedByName":"FancyRaptor","CreatedById":160825,"CreatedDateTime":"2016-05-09T00:32:51Z","Content":"\n\u003Cp\u003E\nHey is it possible that once you guys get it working you could put a download up for a working version for 1.1.2. I cant even get the KVV icon in the bottom\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-09T11:29:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222569973\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462753971\u0022 data-ipsquote-userid=\u0022160825\u0022 data-ipsquote-username=\u0022FancyRaptor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, FancyRaptor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey is it possible that once you guys get it working you could put a download up for a working version for 1.1.2. I cant even get the KVV icon in the bottom\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo. When something work we delete it, hide the source in a safe and dump it in the mariana trench.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the original problem : you did recompile the shader and you load the compiled version right ? Because loading from a string still works (I use it in MJ). It will be deprecated in a future version.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit : and I fail to understand the point of this code. Why generate a list of the shader properties ? If you write your shader you should know what each prop do and if you load a arbitrary shader you can\u0027t know what each prop do...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-09T11:31:33Z\u0022 title=\u002205/09/2016 11:31  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-05-09T13:36:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222570642\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462793394\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo. When something work we delete it, hide the source in a safe and dump it in the mariana trench.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the original problem : you did recompile the shader and you load the compiled version right ? Because loading from a string still works (I use it in MJ). It will be deprecated in a future version.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit : and I fail to understand the point of this code. Why generate a list of the shader properties ? If you write your shader you should know what each prop do and if you load a arbitrary shader you can\u0027t know what each prop do...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think I get what you are saying. I was worried about the longevity of the fix (believe me I would be very happy just patching it but all my projects are biting me in the @$$ right now where I cut corners like this).\n\u003C/p\u003E\n\u003Cp\u003E\nSo there is a way to iterate over these properties using some kind of \u0027iterator\u0027? So Kronal just \u0027chopped out\u0027 the parts he didn\u0027t like rather than change the values inside an object.\u00A0 I\u0027m not sure why Kronal wrote it the way he did; but we are modifying shaders we know nothing about (other part packs).\u00A0 Like I said in the OP; I don\u0027t know shaders so your last question is a lot of greek to me lol\n\u003C/p\u003E\n\u003Cp\u003E\nI got a lot (for me) to look into but it doesn\u0027t seem as big as a deal as I first thought \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhich part of MJ are you messing with shaders (I don\u0027t use MJ I am not aware)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-09T13:38:59Z\u0022 title=\u002205/09/2016 01:38  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by bigorangemachine\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-09T13:53:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222570802\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462801015\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo there is a way to iterate over these properties using some kind of \u0027iterator\u0027? So Kronal just \u0027chopped out\u0027 the parts he didn\u0027t like rather than change the values inside an object.\u00A0 I\u0027m not sure why Kronal wrote it the way he did; but we are modifying shaders we know nothing about (other part packs).\u00A0 Like I said in the OP; I don\u0027t know shaders so your last question is a lot of greek to me lol\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI ll have to look at how this work more because AFAIK you can\u0027t get a shader source from the game so the only shader you will parse are those included with the mod.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhich part of MJ are you messing with shaders (I don\u0027t use MJ I am not aware)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI needed a simple shader that ignore the z buffer to display the center of mass and by debugging arrow even when they are inside a part, and with some lighting change to not have them look too flat.\n\u003C/p\u003E\n"},{"CreatedByName":"rspeed","CreatedById":8514,"CreatedDateTime":"2016-05-09T22:23:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222567058\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462633786\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/7/2016 at 11:09 AM, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve had it reported in KSP 1.1.2 for people using -force-glcore in Windows.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSeems plausible that the issue only occurs when using Unity\u0027s OpenGL Core. I\u0027ve been having the issue on OS X, which uses OpenGL, but not in Windows when using the default DirectX.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-09T22:24:11Z\u0022 title=\u002205/09/2016 10:24  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by rspeed\u003C/strong\u003E\n\u003Cbr\u003EBetter wording\n\u003C/span\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2016-05-19T15:59:36Z","Content":"\n\u003Cp\u003E\nLoading from string seems erratic for Mac users ( B9-pw had that problem ) - loading more than one shader from a bundle is also buggy unless you ignore the supplied bundle-loader, however it\u0027s not hard to knock up an asset loader ( there\u0027s a recent thread about that here which I\u0027ll dig up when I find it again - I\u0027ve written code to load \u0026amp; replace shaders but you don\u0027t want to be using my atrocious beginner code as an example! ). Edit:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/138973-the-assetbundle-name-cant-be-loaded/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nand check the source to IR as suggested.\n\u003C/p\u003E\n\u003Cp\u003E\nTechnically you can just iterate materials, get the existing shader name ( or anything else you want to use as a key ) from the current material \u0026amp; replace the shader reference in the material with a new one; I\u0027m still working through the wrinkles of doing that myself...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-19T16:17:29Z\u0022 title=\u002205/19/2016 04:17  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 19, 2016\u003C/time\u003E by Van Disaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-06-05T23:52:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222569082\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462723893\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/8/2016 at 0:11 PM, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, right. \u00A0I didn\u0027t look that closely what the regex was doing. \u00A0It looks like it\u0027s searching the properties in the shader to build a table of values/properties it can modify. \u00A0The Unity Material class can change the values, and it can query if a particular name exists, but I don\u0027t know if it has a way to give you a list of all properties (there is a shaderKeywords field, but I haven\u0027t looked at it, so I don\u0027t know what it contains). \u00A0I don\u0027t know if there\u0027s a way to fetch the shader text from the Shader class, and I don\u0027t know for sure if there\u0027s a way to get properties out of the Material in a way you can use. \u00A0Sorry, that\u0027s outside my limited Unity expertise.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222590868\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221463673576\u0022 data-ipsquote-userid=\u002258876\u0022 data-ipsquote-username=\u0022Van Disaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/19/2016 at 11:59 AM, Van Disaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLoading from string seems erratic for Mac users ( B9-pw had that problem ) - loading more than one shader from a bundle is also buggy unless you ignore the supplied bundle-loader, however it\u0027s not hard to knock up an asset loader ( there\u0027s a recent thread about that here which I\u0027ll dig up when I find it again - I\u0027ve written code to load \u0026amp; replace shaders but you don\u0027t want to be using my atrocious beginner code as an example! ). Edit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/138973-the-assetbundle-name-cant-be-loaded/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand check the source to IR as suggested.\n\u003C/p\u003E\n\u003Cp\u003E\nTechnically you can just iterate materials, get the existing shader name ( or anything else you want to use as a key ) from the current material \u0026amp; replace the shader reference in the material with a new one; I\u0027m still working through the wrinkles of doing that myself...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/60950-moardv/\u0022 rel=\u0022\u0022\u003E@MOARdV\u003C/a\u003E\u00A0how do you get the XML into the C#? \u00A0I see you have an xml file; but I don\u0027t see any reference in your code to that XML. \u00A0I am new to C# (not formally trained) some of the wizardry gets lots on me.\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-06-06T00:51:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222618254\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221465170770\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/60950-moardv/\u0022 rel=\u0022external\u0022\u003E@MOARdV\u003C/a\u003E\u00A0how do you get the XML into the C#? \u00A0I see you have an xml file; but I don\u0027t see any reference in your code to that XML. \u00A0I am new to C# (not formally trained) some of the wizardry gets lots on me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou don\u0027t. \u00A0The XML file is a manifest that PartTools uses to assemble the AssetBundle. \u00A0Once it\u0027s in KSP, you need to use KSP\u0027s AssetLoader (or a workaround like I did) to fetch the Shaders. \u00A0I know what my asset bundle is called, so I refer to that when I ask the AssetLoader to find the shaders.\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-06-06T01:16:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222618314\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221465174276\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou don\u0027t. \u00A0The XML file is a manifest that PartTools uses to assemble the AssetBundle. \u00A0Once it\u0027s in KSP, you need to use KSP\u0027s AssetLoader (or a workaround like I did) to fetch the Shaders. \u00A0I know what my asset bundle is called, so I refer to that when I ask the AssetLoader to find the shaders.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh thanks! I don\u0027t have part tools \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-07-02T15:26:06Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/60950-moardv/\u0022 rel=\u0022\u0022\u003E@MOARdV\u003C/a\u003E,\n\u003C/p\u003E\n\u003Cp\u003E\nI got Unity to generate a .ksp file with some test shaders. \u00A0For some reason I keep getting\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAssetLoader: Cannot find bundle definition with name \u0027kvv\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTried both\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan\u003EKSPAssets\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EAssetDefinition\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EKVrShaders\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EKSPAssets\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ELoaders\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EAssetLoader\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EGetAssetDefinitionsWithType\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022kvv\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etypeof\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EShader\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKSPAssets.AssetDefinition[] KVrShaders = KSPAssets.Loaders.AssetLoader.GetAssetDefinitionsWithType(\u0022KronalUtils/kvv\u0022, typeof(Shader));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ve \u003Ca href=\u0022https://github.com/bigorangemachine/ksp-kronalutils/tree/dev-1.1\u0022 rel=\u0022external nofollow\u0022\u003Euploaded what I have here\u003C/a\u003E to github.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m sure I\u0027ve done something simple wrong.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI must be doing something simple wrong\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-02T19:20:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222658418\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467473166\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m sure I\u0027ve done something simple wrong.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not really straightforward, and the readme leaves a little to be desired, so don\u0027t be discouraged. \u00A0For RasterPropMonitor, I do this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKSPAssets.AssetDefinition[] rpmShaders = KSPAssets.Loaders.AssetLoader.GetAssetDefinitionsWithType(\u0022JSI/RasterPropMonitor/rasterpropmonitor\u0022, typeof(Shader));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThat\u0027s the entire path to the Asset Bundle from Gamedata, with the name of the bundle (minus the .ksp extension). \u00A0So, presumably your asset bundle is named kvv.ksp, and it\u0027s in the KronalUtils directory.\n\u003C/p\u003E\n\u003Cp\u003E\nAre there any shaders in the asset bundle? \u00A0The file looks like small on GitHub. \u00A0I suspect there aren\u0027t any shaders in it. \u00A0You have to find the shaders in the project window in Unity 5, click on them, and make sure the Asset Labels window in the lower-right corner has \u0022kvv\u0022 in it. \u00A0Take a look at the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/137652-unity-5-shader-assetbundle-bootstrap/#comment-2530132\u0022 rel=\u0022\u0022\u003Escreen shot\u003C/a\u003E sarbian posted to see what I mean. \u00A0If it is visible there, I\u0027d also check to make sure the shader compiled successfully.\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-07-03T12:52:48Z","Content":"\n\u003Cp\u003E\nThanks for the quick reply \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260950\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/60950-moardv/\u0022 rel=\u0022\u0022\u003E@MOARdV\u003C/a\u003E!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe KSP file isn\u0027t empty; I checked the bundle XML and the shaders are listed there. \u00A0The 2 shaders I\u0027m currently migrating are there and they are only about 6 lines. \u00A0So it makes sense its small. \u00A0The contents actually match what I had archived (before posting here) and what was rendered after I verified against the bundle XML. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn unity I noticed that when I tried to create the asset bundle under \u0027KronalUtils/kvv\u0027 unity complains that I don\u0027t have an \u0027~/Unity Projects/KVV/Assets/kronalutils\u0027 folder (even after I created it). \u00A0I\u0027m thinking maybe that path is more about how it gets declared in the bundle.xml rather than path inside the GameData/ directory?\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-03T17:36:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222659503\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467550368\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn unity I noticed that when I tried to create the asset bundle under \u0027KronalUtils/kvv\u0027 unity complains that I don\u0027t have an \u0027~/Unity Projects/KVV/Assets/kronalutils\u0027 folder (even after I created it). \u00A0I\u0027m thinking maybe that path is more about how it gets declared in the bundle.xml rather than path inside the GameData/ directory?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u0027~/Unity Projects/KVV/Assets/kronalutils\u0027? It\u0027s not mismatched case in the path name, is it? \u00A0Linux tends to be fussy about that. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nMy bundle lists assets with a shorter relative path:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Asset\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003EName\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003E\u0022RPM/FontShader\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003EPath\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003E\u0022Assets/RasterPropMonitor/Shaders/RPM-FontShader.shader\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003EType\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003E\u0022Shader\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003EUrl\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003E\u0022RasterPropMonitor/Shaders/RPM-FontShader\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003EAutoLoad\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003E\u0022false\u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E/\u0026gt;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBut I\u0027m also on Windows. \u00A0The \u0022Assets\u0022 directory is the Assets directory that\u0027s part of the Unity 5 workspace. \u00A0Squadcore is one of the other directories underneath Assets, so I assumed I should follow their lead for organizing files.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m afraid I\u0027m not sure what\u0027s going on in your case. \u00A0Let me download your shaders and try building the bundle with them here.\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-07-03T17:38:38Z","Content":"\n\u003Cp\u003E\nOh I only meant it as in \u0022This stuff is in my home directory\u0022. I\u0027m on windows 8.1.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m wondering if there is some square bracket stuff I\u0027m missing. \u00A0I\u0027m new to C# and I\u0027m not entirely sure what they mean. \u00A0Is that something I\u0027m missing?\n\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-03T17:52:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222659770\u0022 data-ipsquote-contentid=\u0022139061\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467567518\u0022 data-ipsquote-userid=\u0022115843\u0022 data-ipsquote-username=\u0022bigorangemachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, bigorangemachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh I only meant it as in \u0022This stuff is in my home directory\u0022. I\u0027m on windows 8.1.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m wondering if there is some square bracket stuff I\u0027m missing. \u00A0I\u0027m new to C# and I\u0027m not entirely sure what they mean. \u00A0Is that something I\u0027m missing?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, okay, no Linux-stuff going on then.\n\u003C/p\u003E\n\u003Cp\u003E\nI was able to create the asset bundle and load it in game using the two shaders on your GitHub site. \u00A0As for loading them, take a look at the code in RasterPropMonitor (specifically, UtilityFunctions.cs, line ~1695, which would be something like\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKSPAssets.AssetDefinition[] kvvShaders = KSPAssets.Loaders.AssetLoader.GetAssetDefinitionsWithType(\u0022KronalUtils/kvv\u0022, typeof(Shader));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nin your case (assuming you put the kvv.ksp asset bundle in GameData/KronalUtils). \u00A0After you make sure kvvShaders.Length \u0026gt; 0, you would do this (from line ~1780 in the same file)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKSPAssets.Loaders.AssetLoader.LoadAssets(AssetsLoaded, kvvShaders[0]);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAssetsLoaded is the function that takes those shaders and puts them somewhere useful - it\u0027s defined at and below line 1985 in UtilityFunctions.cs. \u00A0The code is somewhat ugly because KSP\u0027s asset loader doesn\u0027t seem to handle loading more than one shader from an asset bundle (unless they fixed that in 1.1.3), so we have to identify one of the shaders in the bundle we got through the callback, and we use that to find the asset bundle in KSP\u0027s list of loaded bundles, so we can find the rest of our shaders. \u00A0Like I said, it\u0027s kind of ugly code.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-07-03T17:58:39Z","Content":"\n\u003Cp\u003E\nHey Thanks again\n\u003C/p\u003E\n\u003Cp\u003E\nI tried variations like that. \u00A0It always says it can\u0027t find my assets. \u00A0I\u0027ve tried every variation I can think of.\n\u003C/p\u003E\n\u003Cp\u003E\nRight now I\u0027m trying to go with a core unity bundle; having issues there too \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nKeep getting\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EThis AssetBundle was not created with UncompressedAssetBundle flag, expected id \u0027UnityRaw\u0027, got \u0027UnityFS\u0027\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhen built using\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EBuildPipeline.BuildAssetBundles(outputPath, BuildAssetBundleOptions.UncompressedAssetBundle);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nUgh.. can\u0027t win \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2016-07-03T19:31:11Z","Content":"\n\u003Cp\u003E\nYeah, KSP (fortunately) compresses the asset bundle. \u00A0Unfortunately, Unity can\u0027t handle that compressed format, so you\u0027re forced to go through the KSP mechanism. \u00A0I don\u0027t recall that there\u0027s a \u0022don\u0027t compress this\u0022 option for the asset bundle that might get you around that.\n\u003C/p\u003E\n"},{"CreatedByName":"bigorangemachine","CreatedById":115843,"CreatedDateTime":"2016-07-03T20:13:24Z","Content":"\n\u003Cp\u003E\nI think its an editor bug (Build tools). I posted in the unity\u00A0forums to see if i can get help there.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo you were able to KSP-bundle with my shaders and load them in? I see where the code is failing; i can\u0027t the bundle to load/found even copying yours.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-07-03T20:41:33Z","Content":"\n\u003Cp\u003E\nJust to be sure : you made your bundle with Unity 5.2.4 ?\n\u003C/p\u003E\n"}]}