{"TopicId":50533,"ForumId":34,"TopicTitle":"[1.8.x-1.12.x] Module Manager 4.2.3 (July 03th 2023) - Fireworks season","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-10-25T13:01:36Z","PageNum":118,"Articles":[{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-17T01:46:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022anxcon\u0022 data-cite=\u0022anxcon\u0022\u003E\u003Cdiv\u003Eadd the unmet req to the original needs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat he\u0027s trying to do should still work though and WAS working with past versions of MM.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-17T02:42:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022anxcon\u0022 data-cite=\u0022anxcon\u0022\u003E\u003Cdiv\u003Eadd the unmet req to the original needs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EWhat he\u0027s trying to do should still work though and WAS working with past versions of MM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, and I oversimplified it to give the simplest still broken example. This also does not work:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[B]Config:[/B]\u003Cbr\u003E// A NEEDS dependency that will be met\u003Cbr\u003ESOME_NODE:NEEDS[ModuleManager.2.6.7|SomeUnmetDep]\u003Cbr\u003E{\u003Cbr\u003E    // A NEEDS dependency that will not be met\u003Cbr\u003E    CHILD_NODE:NEEDS[SomeUnmetDep]\u003Cbr\u003E    {\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E[B]Expected result:\u003Cbr\u003E[/B]SOME_NODE\u003Cbr\u003E{\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E[B]Actual result:\u003Cbr\u003E[/B]SOME_NODE\u003Cbr\u003E{\u003Cbr\u003E    CHILD_NODE:NEEDS[SomeUnmetDep]\u003Cbr\u003E    {\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-08-17T08:05:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EYup, and I oversimplified it to give the simplest still broken example. This also does not work:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[B]Config:[/B]\u003Cbr\u003E// A NEEDS dependency that will be met\u003Cbr\u003ESOME_NODE:NEEDS[ModuleManager.2.6.7|[COLOR=#008000][B]Dep1[/B][/COLOR]] //\u003Cbr\u003E{\u003Cbr\u003E    // A NEEDS dependency that will not be met\u003Cbr\u003E    CHILD_NODE:NEEDS[[B][COLOR=#ff0000]Dep2[/COLOR][/B]]\u003Cbr\u003E    {\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E[B]Expected result:\u003Cbr\u003E[/B]SOME_NODE\u003Cbr\u003E{\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E[B]Actual result:\u003Cbr\u003E[/B]SOME_NODE\u003Cbr\u003E{\u003Cbr\u003E    CHILD_NODE:NEEDS[SomeUnmetDep]\u003Cbr\u003E    {\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eare you sure you can use \u0022\u003Cem\u003E:NEEDS\u003C/em\u003E\u0022 in child nodes?\u003C/p\u003E\u003Cp\u003Eand are you sure you can use \u0022\u003Cem\u003EModuleManager\u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003E.2.6.7\u003C/em\u003E\u003C/strong\u003E\u0022 in a \u0022\u003Cem\u003E:NEEDS\u003C/em\u003E\u0022 check?\u003C/p\u003E\u003Cp\u003Eand, are you sure you can use \u0022:NEEDS\u0022 non in a patch?\u003C/p\u003E\u003Cp\u003Ethis is what I would try:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFile1.cfg = setting the node\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESOME_NODE\u003Cbr\u003E{\u003Cbr\u003E    CHILD_NODE\u003Cbr\u003E    {\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFile2.cfg = patching the node\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E!SOME_NODE:NEEDS[![B][COLOR=#008000]Dep1[/COLOR][/B]] {} // if the mod Dep1 [B]is installed[/B], SOME_NODE [B]will not be deleted[/B]\u003Cbr\u003E@SOME_NODE:NEEDS[![B][COLOR=#ff0000]Dep2[/COLOR][/B]] // if the mod Dep1 [B]is not installed[/B], SOME_NODE [B]will be deleted[/B]\u003Cbr\u003E{\u003Cbr\u003E    !CHILD_NODE {}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EExpected result with Dep1 and without Dep2:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESOME_NODE\u003Cbr\u003E{\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eor you could do the same thing, but using the patch to add the subnodes instead of deleting it which I guess is better.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-17T08:19:22Z\u0022 title=\u002208/17/2015 08:19  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 17, 2015\u003C/time\u003E by Sigma88\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-17T09:33:22Z","Content":"\n\u003Cp\u003ESigma88: Re: child nodes. Again, It used to work in previous versions of MM. It no longer works now. Below is an example of some fairly complex patching for KSO depending on whether or not RSS was installed or not:\u003C/p\u003E\u003Cp\u003EYes, these all worked. (these are for example only, of patches that I know for a fact worked before. They are currently obsolete and deprecated)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[super25rudderkso]:BEFORE[DeadlyReentry]:NEEDS[DeadlyReentry]\u003Cbr\u003E{\u003Cbr\u003E @maxTemp = 1500\u003Cbr\u003E MODULE\u003Cbr\u003E {\u003Cbr\u003E name = ModuleHeatShield\u003Cbr\u003E ablative = HeatCapacity\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E direction:NEEDS[!RealSolarSystem] = 0, 0, 0 // omnidirectional light shielding\u003Cbr\u003E direction:NEEDS[RealSolarSystem] = 0, 1, 0 // forward standard shielding (only when playing Real Solar System mod)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E reflective:NEEDS[RealSolarSystem] = 1.8 // 180% of heat is ignored at correct angle (no, seriously. You have NO idea until you\u0027ve attempted this in RSS with FAR)\u003Cbr\u003E reflective:NEEDS[!RealSolarSystem] = 0.05 // 5% of heat is ignored at correct angle\u003Cbr\u003E //adjustCollider = -0.015 \u003Cbr\u003E\u003Cbr\u003E loss:NEEDS[RealSolarSystem]\u003Cbr\u003E {\u003Cbr\u003E key = 650 0 0 0 // start ablating at 650 degrees C\u003Cbr\u003E key = 2000 1000 0 0 // peak ablation at 2000 degrees C\u003Cbr\u003E key = 6000 2000 0 0 // max ablation at 6000 degrees C\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E dissipation:NEEDS[RealSolarSystem]\u003Cbr\u003E { \u003Cbr\u003E // dissipation is based on the part\u0027s current temperature\u003Cbr\u003E key = 300 0 0 0 // begin dissipating at 300 degrees C\u003Cbr\u003E key = 800 250 0 0 // maximum dissipation at 500 degrees C\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E RESOURCE:NEEDS[RealSolarSystem]\u003Cbr\u003E {\u003Cbr\u003E name = HeatCapacity\u003Cbr\u003E amount = 3000\u003Cbr\u003E maxAmount = 3000\u003Cbr\u003E }\u003Cbr\u003E MODULE:NEEDS[RealSolarSystem]\u003Cbr\u003E {\u003Cbr\u003E name = ModuleGenerator\u003Cbr\u003E isAlwaysActive = true\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E name = HeatCapacity\u003Cbr\u003E rate = 0.2\u003Cbr\u003E }\u003Cbr\u003E } \u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-17T09:54:24Z","Content":"\n\u003Cp\u003EWhen did it last work ? I don\u0027t think I made any change to that part of the code for a while so I don\u0027t see why it would break \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-17T10:22:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EWhen did it last work ? I don\u0027t think I made any change to that part of the code for a while so I don\u0027t see why it would break \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know; I haven\u0027t used KSO much in awhile and haven\u0027t verified any change in functionality of those configs since sometime between KSP 0.90 and 1.0.\u003C/p\u003E\u003Cp\u003ESo... probably it worked at least as late as 2.5.6 \u003C/p\u003E\u003Cp\u003EI\u0027ll make up some new test configs and watch the logs and see if anything turns up as well as verifying that there is an issue. But not until after I\u0027ve had some bed and comatose time. \u003C/p\u003E\u003Cp\u003E(on a related note, I\u0027ve been up all night with MJ2 and RCSFX and found a control input issue in RCSFX that definitely will hamper MJ2 no matter how much torque calculation you do. Tell you more later)\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-08-18T01:58:21Z","Content":"\n\u003Cp\u003EHello:\u003C/p\u003E\u003Cp\u003EI having the following issue:\u003C/p\u003E\u003Cp\u003Ethe code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E\t\tname = InterstellarFuelSwitch\u003Cbr\u003E\t\tresourceGui = Liquid Hydrogen;Liquid Helium;Hydrolox;Methalox;Liquid Oxygen;Liquid Methane;Liquid Ammonia;Hydrazine;Liquid Nitrogen;Liquid CarbonDioxide;Liquid CarbonMonoxide;Water;Kerosene\u003Cbr\u003E\t\tresourceNames = LqdHydrogen;LqdHelium;LqdHydrogen,LqdOxygen;LqdMethane,LqdOxygen;LqdOxygen;LqdMethane;LqdAmmonia;Hydrazine;LqdNitrogen;LqdCO2;LqdCO;Water;Kerosene\u003Cbr\u003E\t\tresourceAmounts = 26880;26880;21504,5376;14972,10632;26880;26880;26880;26880;26880;26880;26880;26880;26880\u003Cbr\u003E\u003Cbr\u003E\t\t@resourceAmounts[0,;] = #$/../RESOURCE[LiquidFuel]/maxAmount$ //LqdHydrogen\u003Cbr\u003E\t\t@resourceAmounts[1,;] = #$/../RESOURCE[LiquidFuel]/maxAmount$ //LqdHelium\u003Cbr\u003E.\u003Cbr\u003E.\u003Cbr\u003E.\u003Cbr\u003E.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eis returning these errors:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[WRN 21:23:38.536] InsterstellarFuelSwitch: error parsing resourceTankAmountArray amount 1/0: \u0027#$../RESOURCE[LiquidFuel]/maxAmount$\u0027: \u0027#$../RESOURCE[LiquidFuel]/maxAmount$\u0027 with error: Unknown char: #\u003Cbr\u003E[WRN 21:23:38.538] InsterstellarFuelSwitch: error parsing initialResourceList amount 1/0: \u0027System.Collections.Generic.List\u00601[System.Double]\u0027: \u0027#$../RESOURCE[LiquidFuel]/maxAmount$\u0027 with error: Unknown char: #\u003Cbr\u003E[WRN 21:23:38.539] InsterstellarFuelSwitch: error parsing resourceTankAmountArray amount 2/0: \u0027#$../variableone$,#$../variabletwo$\u0027: \u0027#$../variableone$\u0027 with error: Unknown char: #\u003Cbr\u003E[WRN 21:23:38.540] InsterstellarFuelSwitch: error parsing initialResourceList amount 2/0: \u0027System.Collections.Generic.List\u00601[System.Double]\u0027: \u0027#$../variableone$\u0027 with error: Unknown char: #\u003Cbr\u003E[WRN 21:23:38.541] InsterstellarFuelSwitch: error parsing resourceTankAmountArray amount 2/1: \u0027#$../variableone$,#$../variabletwo$\u0027: \u0027#$../variabletwo$\u0027 with error: Unknown char: #\u003Cbr\u003E[WRN 21:23:38.543] InsterstellarFuelSwitch: error parsing initialResourceList amount 2/1: \u0027System.Collections.Generic.List\u00601[System.Double]\u0027: \u0027#$../variabletwo$\u0027 with error: Unknown char: #\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt \u003Cem\u003Elooks\u003C/em\u003E like the array insert does not work with the variable reference? What am I missing?\u003C/p\u003E\u003Cp\u003Ethanks!\u003C/p\u003E\n"},{"CreatedByName":"Felbourn","CreatedById":97344,"CreatedDateTime":"2015-08-18T04:54:54Z","Content":"\n\u003Cp\u003EHmm I am not aware of being able to modify a single index inside a key. It looks like you\u0027re trying to reference a second resourceAmount which does not exist. So either I am about to learn something new that you can do, or I have found the problem. I would have redone the entire resourceAmount line and used indexing to \u0022copy\u0022 the old resourceAmount values where I was not changing them, and then replace the rest.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-18T08:02:17Z","Content":"\n\u003Cp\u003EYep, the \u0022resourceAmounts[1,;]\u0022 is meant to be on the right side of the equal.\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-08-18T11:18:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EYep, the \u0022resourceAmounts[1,;]\u0022 is meant to be on the right side of the equal.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am not clear on exactly what the that means? could you write me an example of that?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-18T13:58:59Z","Content":"\n\u003Cp\u003EHere : \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tresourceAmounts = 26880;26880;21504,5376;14972,10632;26880;26880;26880;26880;26880;26880;26880;26880;26880\u003Cbr\u003E\u003Cbr\u003E\tmycustomvalue = #$./resourceAmounts[0,;]$ // this will be 26880\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-08-18T14:19:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EHere : \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tresourceAmounts = 26880;26880;21504,5376;14972,10632;26880;26880;26880;26880;26880;26880;26880;26880;26880\u003Cbr\u003E\u003Cbr\u003E\tmycustomvalue = #$./resourceAmounts[0,;]$ // this will be 26880\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am trying to do the opposite - assign various formula-derived custom values to indices of resourceAmounts...\u003C/p\u003E\u003Cp\u003EIn any event, it seems that I actually can do a simple assignment as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EresourceAmounts = #$value0$;$value1$;$value2$;$value3$\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eapparently, # only should appear once, at the start of the line, which was unclear to me from the documentation.\u003C/p\u003E\n"},{"CreatedByName":"Pinchy","CreatedById":143038,"CreatedDateTime":"2015-08-22T17:02:01Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127138-1-0-x-Contract-Pack-Base-Constuction-v0-2-2?p=2137970\u0026amp;viewfull=1#post2137970\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/127138-1-0-x-Contract-Pack-Base-Constuction-v0-2-2?p=2137970\u0026amp;viewfull=1#post2137970\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs there any update to the fix for this ^ please\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-08-22T19:48:56Z","Content":"\n\u003Cp\u003ESo, mods without dll\u0027s should be referenced by their GAmeData folder name?\u003C/p\u003E\n"},{"CreatedByName":"Hupherius","CreatedById":115394,"CreatedDateTime":"2015-08-23T04:17:40Z","Content":"\n\u003Cp\u003EI have a problem where a mods MM.cfg has rewritten a part with ill affects and could use some MM help to fix the desired output. It concerns a MFT Module and the available tanks. \u003C/p\u003E\u003Cp\u003EHere is what I want:\u003C/p\u003E\u003Cp\u003EMODULE {\u003C/p\u003E\u003Cp\u003E name = ModuleFuelTanks\u003C/p\u003E\u003Cp\u003E volume = 43200\u003C/p\u003E\u003Cp\u003E type = Default\u003C/p\u003E\u003Cp\u003E basemass = 0.0003125 * volume\u003C/p\u003E\u003Cp\u003E baseCostPV = 0\u003C/p\u003E\u003Cp\u003E typeAvailable = Default\u003C/p\u003E\u003Cp\u003E typeAvailable = TalUtility\u003C/p\u003E\u003Cp\u003E typeAvailable = LifeSupportAll\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EBut this MFT.cfg strips away the TalUtility and LifeSupportAll available tanks, leaving just Default and Cryogenic. Is there a syntax that would just add another typeAvailable = line to the module instead of replacing them?\u003C/p\u003E\u003Cp\u003E// Adds tank type Cryogenic to all default tanks\u003C/p\u003E\u003Cp\u003E@PART\u003C/p\u003E\u003Cp\u003E[*]:HAS[@MODULE[ModuleFuelTanks]]:FINAL\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E @MODULE[ModuleFuelTanks]:HAS[#type[Default]]\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E %typeAvailable = Default\u003C/p\u003E\u003Cp\u003E typeAvailable = Cryogenic\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-08-23T05:29:15Z","Content":"\n\u003Cp\u003EGet rid of %...default line.\u003C/p\u003E\u003Cp\u003EIf that is needed in parts that previously only had default, write two separate config nodes, for each case.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-23T10:19:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pinchy\u0022 data-cite=\u0022Pinchy\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127138-1-0-x-Contract-Pack-Base-Constuction-v0-2-2?p=2137970\u0026amp;viewfull=1#post2137970\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/127138-1-0-x-Contract-Pack-Base-Constuction-v0-2-2?p=2137970\u0026amp;viewfull=1#post2137970\u003C/a\u003E\u003Cp\u003EIs there any update to the fix for this ^ please\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I understand it, the problem was in subnode NEEDS being treated as met that were actually unmet?\u003C/p\u003E\u003Cp\u003EAs in: The following should fail for the RESOURCE?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[crewCabin]:NEEDS[Squad]\u003Cbr\u003E{\u003Cbr\u003E\tRESOURCE:NEEDS[asdfasdfasdf]\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = LiquidFuel\u003Cbr\u003E\t\tamount = 32000\u003Cbr\u003E\t\tmaxAmount = 32000\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBecause that\u0027s what I just tested out, and as expected, the RESOURCE did not get added and the log reveals the following when processing it:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E[ModuleManager] Deleting node in file: /NEEDS.TESTING subnode: @PART[crewCabin]:NEEDS[squad]/@PART[crewCabin]:NEEDS[squad][]/RESOURCE:NEEDS[asdfasdfasdf] as it can\u0027t satisfy its NEEDS\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks to me like it\u0027s failing where it should fail.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-23T14:32:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EAs I understand it, the problem was in subnode NEEDS being treated as met that were actually unmet?\u003Cp\u003EAs in: The following should fail for the RESOURCE?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[crewCabin]:NEEDS[Squad]\u003Cbr\u003E{\u003Cbr\u003E    RESOURCE:NEEDS[asdfasdfasdf]\u003Cbr\u003E    {\u003Cbr\u003E        name = LiquidFuel\u003Cbr\u003E        amount = 32000\u003Cbr\u003E        maxAmount = 32000\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBecause that\u0027s what I just tested out, and as expected, the RESOURCE did not get added and the log reveals the following when processing it:\u003C/p\u003E\u003Cp\u003ELooks to me like it\u0027s failing where it should fail.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat\u0027s output in the log and what actually ends up happening after that log message is output are two different things. Have a look at the config cache or do a database dump to see what\u0027s actually happening and you should expect to see this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]PART\u003Cbr\u003E[/COLOR]{\u003Cbr\u003E    RESOURCE:NEEDS[asdfasdfasdf]\u003Cbr\u003E    {\u003Cbr\u003E        name = LiquidFuel\u003Cbr\u003E        amount = 32000\u003Cbr\u003E        maxAmount = 32000\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOf course, in my test it was being done right in the original config node definition, and not in a @ patch node, so that\u0027s another possible difference. The issue appears to be that when a NEEDS check passes on an outer node where there was an inner node that previously \u003Cem\u003Efailed\u003C/em\u003E a NEEDS check, the inner node ends up being added back in (module manager syntax and all). In the example above, the stock code just ignores the unrecognized node, but in the original Contract Configurator issue that this was raised for, it actually prevents the contract in question from being loaded.\u003C/p\u003E\n"},{"CreatedByName":"Pinchy","CreatedById":143038,"CreatedDateTime":"2015-08-23T16:25:23Z","Content":"\n\u003Cp\u003EThe contract doesn\u0027t work - so something is not working - I am neither a coder or tester, but nightingale believes there to be a bug in the MM code which is causing these contracts to be \u0022Red\u0022 in contract configurator.\u003C/p\u003E\n"},{"CreatedByName":"Hupherius","CreatedById":115394,"CreatedDateTime":"2015-08-23T16:36:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ABZB\u0022 data-cite=\u0022ABZB\u0022\u003E\u003Cdiv\u003EGet rid of %...default line.\u003Cp\u003EIf that is needed in parts that previously only had default, write two separate config nodes, for each case.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-23T16:40:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EWhat\u0027s output in the log and what actually ends up happening after that log message is output are two different things. Have a look at the config cache or do a database dump to see what\u0027s actually happening and you should expect to see this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]PART\u003Cbr\u003E[/COLOR]{\u003Cbr\u003E    RESOURCE:NEEDS[asdfasdfasdf]\u003Cbr\u003E    {\u003Cbr\u003E        name = LiquidFuel\u003Cbr\u003E        amount = 32000\u003Cbr\u003E        maxAmount = 32000\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOf course, in my test it was being done right in the original config node definition, and not in a @ patch node, so that\u0027s another possible difference. The issue appears to be that when a NEEDS check passes on an outer node where there was an inner node that previously \u003Cem\u003Efailed\u003C/em\u003E a NEEDS check, the inner node ends up being added back in (module manager syntax and all). In the example above, the stock code just ignores the unrecognized node, but in the original Contract Configurator issue that this was raised for, it actually prevents the contract in question from being loaded.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok, I think I get it now. The node is still hanging around in the database as some unrecognized malformed thing.\u003C/p\u003E\n"},{"CreatedByName":"ABZB","CreatedById":98947,"CreatedDateTime":"2015-08-23T16:47:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hupherius\u0022 data-cite=\u0022Hupherius\u0022\u003E\u003Cdiv\u003EThank you! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eno problem - I did the exact same thing for myself with the toroidal tank.\u003C/p\u003E\n"},{"CreatedByName":"Pinchy","CreatedById":143038,"CreatedDateTime":"2015-08-23T17:18:08Z","Content":"\n\u003Cp\u003EThanks Starwaster - do we have an ETA for a fix?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-23T18:11:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003Eok, I think I get it now. The node is still hanging around in the database as some unrecognized malformed thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, exactly.\u003C/p\u003E\n"},{"CreatedByName":"Whovian","CreatedById":101923,"CreatedDateTime":"2015-08-23T22:09:47Z","Content":"\n\u003Cp\u003EJust wanted to share this with you guys\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/LXLXzv5.png\u0022 alt=\u0022LXLXzv5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E(That is, a lot of legacy)\u003C/p\u003E\n"}]}