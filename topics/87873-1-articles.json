{"TopicId":87873,"ForumId":20,"TopicTitle":"The Comprehensive Kerbal Archive Network: Call for mod participation","CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-19T07:23:05Z","PageNum":1,"Articles":[{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-19T07:23:05Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EWe\u0027ve released! Head on over to \u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/100067-The-Comprehensive-Kerbal-Archive-Network-(CKAN)-Package-Manager\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Ethe official release thread\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E, as this thread is now closed.\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe Comprehensive Kerbal Archive Network\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/SN102Oa.png\u0022 alt=\u0022SN102Oa.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs some of you know, we\u0027ve had a team of people working on the \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN\u0022 rel=\u0022external nofollow\u0022\u003EComprehensive Kerbal Archive Network\u003C/a\u003E, or CKAN. The CKAN aims to provide a way to install and manage mods and their dependencies in a reliable, reproducible fashion. It does this through the use of strong metadata (with both \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/Spec.md\u0022 rel=\u0022external nofollow\u0022\u003Ehuman readable\u003C/a\u003E and \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/CKAN.schema\u0022 rel=\u0022external nofollow\u0022\u003Emachine readable\u003C/a\u003E specs), with many lessons and conventions drawn from both the \u003Ca href=\u0022https://www.debian.org/doc/debian-policy/\u0022 rel=\u0022external nofollow\u0022\u003EDebian Policy Manual\u003C/a\u003E, and the \u003Ca href=\u0022https://metacpan.org/pod/CPAN::Meta::Spec\u0022 rel=\u0022external nofollow\u0022\u003ECPAN Meta Spec\u003C/a\u003E, both of which are successful projects with similar operation, and which deal with tens of thousands of software packages and their dependencies.\u003C/p\u003E\u003Cp\u003EIf you\u0027ve come from a Debian or Ubuntu background, then the CKAN is \u0022apt-get for KSP mods\u0022, but with a GUI as well as a command-line tool. If you\u0027ve ever facepalmed because users couldn\u0027t follow install instructions, installed incompatible mods, installed outdated mods, didn\u0027t install the dependencies, or installed things to the wrong place, then the CKAN aims to make your life easier.\u003C/p\u003E\u003Cp\u003EThe CKAN is still being developed, and is \u003Cstrong\u003Epretty close to a v1.0 release\u003C/strong\u003E. There\u0027s a working client under active development, and we\u0027re in the process of gearing up for an official release now. We absolutely welcome testers and contributions, but there is absolutely no guarantee that things won\u0027t break.\u003C/p\u003E\u003Cp\u003EThe client works on all operating systems (targeting Mono 4.0), can detect steam installs and KSP version, and is able to calculate which mods can be installed on your system, and actually install (and upgrade, and remove) them for you. However the CKAN can \u003Cem\u003Eonly\u003C/em\u003E install mods if it has the metadata it needs, and that\u0027s where \u003Cem\u003Eyou\u003C/em\u003E come in.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ECKAN Metadata - We need your help\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWe need the help of mod-authors to make their mods CKAN indexable. If you\u0027re already releasing KerbalStuff, then this is as simple as writing a CKAN file once, and including it in the zip file you distribute. CKAN files are just JSON, and if you\u0027re releasing on KerbalStuff then it can be a very small JSON file, as the KerbalStuff APIs can provide us with the rest of the information we need, which means you can include it once and never have to update it again. This is what a simple CKAN fragment looks like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{\u003Cbr\u003E    \u0022spec_version\u0022   : 1,\u003Cbr\u003E    \u0022identifier\u0022     : \u0022DogeCoinFlag\u0022,\u003Cbr\u003E    \u0022$kref\u0022          : \u0022#/ckan/kerbalstuff/269\u0022\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe \u0022$kref\u0022 token is a special token indicating that the CKAN toolchain is expected to fill in remaining felds (version, license, author, homepage, etc) from externally supplied data (in this case, from KerbalStuff). By default, if no install instructions are provided, the CKAN installer will look for the top-most directory in the zip file that matches the mod identifier, and install that to GameData. This works with the majority of common mods.\u003C/p\u003E\u003Cp\u003EHowever CKAN files can contain a \u003Cem\u003Elot\u003C/em\u003E of data, for example, they can depend upon, recommend, or suggest other mods, install tutorials or ships, or list additional resources: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E{\u003Cbr\u003E    \u0022spec_version\u0022   : 1,\u003Cbr\u003E    \u0022identifier\u0022     : \u0022ExampleMod\u0022,\u003Cbr\u003E    \u0022$kref\u0022          : \u0022#/ckan/kerbalstuff/1337\u0022,\u003Cbr\u003E    \u0022depends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022RealSolarSystem\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022ModuleManager\u0022, \u0022min_version\u0022 : \u00222.5.0\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022FerramAerospaceResearch\u0022 }\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022recommends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022RealismOverhaul\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022Toolbar\u0022 }\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022resources\u0022 : {\u003Cbr\u003E        \u0022github\u0022   : {\u003Cbr\u003E            \u0022url\u0022      : \u0022https://github.com/ExampleUser/ExampleMod\u0022\u003Cbr\u003E        }\u003Cbr\u003E    },\u003Cbr\u003E    \u0022install\u0022 : [\u003Cbr\u003E        {\u003Cbr\u003E            \u0022file\u0022       : \u0022ExampleMod\u0022,\u003Cbr\u003E            \u0022install_to\u0022 : \u0022GameData\u0022\u003Cbr\u003E        },\u003Cbr\u003E        {\u003Cbr\u003E            \u0022file\u0022 : \u0022ExampleTutorial\u0022,\u003Cbr\u003E            \u0022install_to\u0022 : \u0022Tutorial\u0022\u003Cbr\u003E        }\u003Cbr\u003E    ]\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen we declare the CKAN client ready for release, we\u0027d like to support as many mods as possible, which means collecting mod metadata now. We\u0027re very dedicated to working with mod authors to make that happen.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EGetting the client\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E Go to our \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/releases\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ereleases page\u003C/strong\u003E\u003C/a\u003E! \u003Cstrong\u003EReleases run on Windows, Linux and Mac\u003C/strong\u003E, and have \u003Cstrong\u003Eno dependencies\u003C/strong\u003E other than .NET/Mono 4.0.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EAdding your mod to the CKAN\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E \u003C/strong\u003E\u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/wiki/Adding-a-mod-to-the-CKAN\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EUse this awesome guide on our wiki! You can update it if you have hints or tips!\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EGet involved!\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIf you\u0027d like to see CKAN development as it happens, have a chat, or even see what you can do to help, you can join us in \u003Ca href=\u0022http://webchat.esper.net/?channels=ckan\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E#ckan on irc.esper.net\u003C/strong\u003E\u003C/a\u003E. The \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ECKAN github repo\u003C/strong\u003E\u003C/a\u003E is our focal point for tracking issues, contributions, making releases, and getting things done. We welcome contributions and discussions that are in-line with our \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/wiki/Code-of-Conduct\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ecode of conduct\u003C/strong\u003E\u003C/a\u003E, and we always have \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Eplenty of things we\u0027re working on\u003C/strong\u003E\u003C/a\u003E. If you\u0027d like to join us, we\u0027d love to see you!\u003C/p\u003E\u003Cp\u003EMany thanks!\u003C/p\u003E\u003Cp\u003E~ pjf\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-26T06:07:00Z\u0022 title=\u002211/26/2014 06:07  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 26, 2014\u003C/time\u003E by pjf\u003C/strong\u003E\n\u003Cbr\u003ELink to release thread\n\u003C/span\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-10-19T08:43:04Z","Content":"\n\u003Cp\u003EI will gladly join ASAP, expect my github issue later this afternoon \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"jordanjay29","CreatedById":62787,"CreatedDateTime":"2014-10-19T09:01:38Z","Content":"\n\u003Cp\u003EThis is what I\u0027ve been waiting for. I\u0027m not a modder, so I\u0027ll patiently sit back until this is ready for public release, but I\u0027ve been saying for months that KSP needs a mod manager \u003Cem\u003Ewith dependency management\u003C/em\u003E. It just takes someone (like the OP) stepping up to propose the standard for it to make it happen. \u003C/p\u003E\u003Cp\u003EYou should also consider broadcasting this in Addons Development and on the KSP subreddit for more exposure. Eventually modders will get the picture, but multiple avenues to reach them is always a good idea.\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-19T10:23:49Z","Content":"\n\u003Cp\u003ELooks good so far, just wonder why targeting Mono 4.0 (.net 4.0 in fact) ? Is this really required ? As you can be sure 3.5 is installed because KSP needs it.\u003C/p\u003E\u003Cp\u003EI\u0027ll look to add some or all of my mods meta-data.\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-19T11:02:36Z","Content":"\n\u003Cp\u003EIppo: Hooray! I look forward to it! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Ejordanjay29: Aye, good idea. Although we\u0027re not really stirring up the publicity engine fully until we\u0027ve got a solid, user-targeted release. That\u0027s coming along pretty quickly, though; I\u0027m already managing all my mods via the CKAN.\u003C/p\u003E\u003Cp\u003EJustin: We\u0027ve got a 4.0 target because the code makes extensive use of dynamic objects (which are *really* useful when working with JSON), and also because I\u0027m still relatively new to C#, and all the features I kept reaching for were only introduced in 4.0. I fear if I was targeting 3.5 from the get-go then we wouldn\u0027t yet have a usable client.\u003C/p\u003E\u003Cp\u003EIf it ends up that a 4.0 target is a big hurdle after our first release then we can look at shifting back to 3.5, but I suspect that most people will find installing the .NET/Mono 4.0 framework a relatively easy step.\u003C/p\u003E\u003Cp\u003E~ Paul\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-10-19T11:53:13Z","Content":"\n\u003Cp\u003EIssues opened, looking forward to it!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-19T17:08:57Z","Content":"\n\u003Cp\u003ELooking forward to this very much, glad to see the official post!\u003C/p\u003E\u003Cp\u003E(Also, kudos for the code of conduct \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"Malah","CreatedById":96644,"CreatedDateTime":"2014-10-19T17:39:29Z","Content":"\n\u003Cp\u003EHello, very nice project, i like the idea too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-20T11:04:38Z","Content":"\n\u003Cp\u003EJust a quick note to say:\u003C/p\u003E\u003Cp\u003E* Your mod will start to appear in the CKAN even without you having uploaded it to KS. We\u0027ve got a special deal where we can download files from the future.\u003C/p\u003E\u003Cp\u003E* I\u0027ve just about got github support working. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E* You can download a \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/releases\u0022 rel=\u0022external nofollow\u0022\u003Etest client\u003C/a\u003E and play if you like, just make sure you report any issues you might encounter. (\u0060ckan version\u0060 and \u0060ckan gui --debug\u0060 are useful commands here)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Paul Kingtiger","CreatedById":57455,"CreatedDateTime":"2014-10-20T18:25:58Z","Content":"\n\u003Cp\u003ELooks brilliant!\u003C/p\u003E\u003Cp\u003EIs there a way to install some files only if other mods are present?\u003C/p\u003E\u003Cp\u003EAlso a way to give options such as do you want to uninstall option X or Y?\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-21T01:03:52Z","Content":"\n\u003Cp\u003EThanks Paul! I *love* your work, so I\u0027m glad you\u0027re excited. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ERight now you *can* install mods based upon the presence of other mods:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{\u003Cbr\u003E    \u0022file\u0022 : \u0022GameData/YourMod/Optional\u0022,\u003Cbr\u003E    \u0022install_to\u0022 : \u0022GameData\u0022,\u003Cbr\u003E    \u0022requires\u0022 : \u0022SomeOtherMod\u0022\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever this is discouraged, and we may even officially deprecate it. The reason is that the user may install SomeOtherMod in the future, in which case they *won\u0027t* get the extra components from yours. Likewise, if the user uninstalls SomeOtherMod in the future, our dependency system doesn\u0027t detect that parts of your mod should be uninstalled with it.\u003C/p\u003E\u003Cp\u003EWhere possible, the preferred way to make a component that conditionally activates on another is using ModuleManager, with the \u0060[:NEEDS]\u0060 token. This simplifies the install, and handles the situation there the additional mod is installed (or potentially removed) in the future.\u003C/p\u003E\u003Cp\u003EFor more complex operations, \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/Spec.md#relationships\u0022 rel=\u0022external nofollow\u0022\u003Erelationships\u003C/a\u003E combined with \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/Spec.md#provides\u0022 rel=\u0022external nofollow\u0022\u003Eprovides\u003C/a\u003E can be \u003Cem\u003Every\u003C/em\u003E expressive. For example, if you have a mod that requires life support, has custom components for each life support mod, and a base of common components which are used by everything, one could use this sort of arrangement:\u003C/p\u003E\u003Cp\u003E* MyMod depends upon MyModLifeSupport\u003C/p\u003E\u003Cp\u003E* MyModTACLS provides MyModLifeSupport, depends upon MyMod and TACLS, conflicts with MyModLifeSupport\u003C/p\u003E\u003Cp\u003E* MyModECLSS provides MyModLifeSupport, depends upon MyMod and ECLSS, conflicts with MyModLifeSupport\u003C/p\u003E\u003Cp\u003E* MyModSnacks provides MyModLifeSupport, depend supon MyMod and Snacks, conflicts with MyModLifeSupport\u003C/p\u003E\u003Cp\u003EThis guarantees that anyone installing MyMod must also select a life support system to go with it (and the latest dev build of the GUI does this), but you can\u0027t have *two* modules providing MyModLifeSupport installed at the same time. We have a special rule that mods can\u0027t conflict with themselves. (If you\u0027re familiar with Debian packaging, this is pretty much identical.)\u003C/p\u003E\u003Cp\u003ELikewise, while the spec currently defines an \u0060optional\u0060 keyword for install stanzas, its use is also discouraged (and may be deprecated), as we can\u0027t query the user about optional components for unattended installs. The recommended way of doing this is to have another package which depends upon, and is either recommended (installed by default) or suggested (not installed by default) by the parent package. Those package may reference the same underlying zipfile, so there\u0027s no need for additional downloads or author packaging, but the result is that users can install and uninstall optional components via the client, and other mods can also depend upon or recommend optional components of other mods.\u003C/p\u003E\u003Cp\u003E~ Paul\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T01:04:34Z\u0022 title=\u002210/21/2014 01:04  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by pjf\u003C/strong\u003E\n\u003Cbr\u003ESpelling and grammar fixes\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-21T17:05:45Z","Content":"\n\u003Cp\u003EIt may be good to have a JSON validator tool which use the official schema for validation.\u003C/p\u003E\n"},{"CreatedByName":"nlight","CreatedById":123442,"CreatedDateTime":"2014-10-21T19:26:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EIt may be good to have a JSON validator tool which use the official schema for validation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is such a tool available \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/bin/ckan-validate\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. It requires Perl and Java to run. We\u0027re looking into implementing JSON validation in the CKAN client in the future.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T19:34:06Z\u0022 title=\u002210/21/2014 07:34  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by nlight\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-10-21T19:53:30Z","Content":"\n\u003Cp\u003Elooks cool\u003C/p\u003E\u003Cp\u003Efor me to get RetroFuture to take advantage of CKAN I should include the following correct? Included in the KerbalStuff upload... as \u0022RetroFuture.ckan\u0022?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{\u003Cbr\u003E    \u0022spec_version\u0022   : 1,\u003Cbr\u003E    \u0022identifier\u0022     : \u0022RetroFuture\u0022,\u003Cbr\u003E    \u0022$kref\u0022          : \u0022#/ckan/kerbalstuff\u0022,\u003Cbr\u003E    \u0022depends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022Firespitter\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022ModuleManager\u0022, \u0022min_version\u0022 : \u00222.5.1\u0022 }\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022recommends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022FerramAerospaceResearch\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022RasterPropMonitor\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022BDArmory\u0022},\u003Cbr\u003E        { \u0022name\u0022 : \u0022ProceduralDynamics\u0022},\u003Cbr\u003E        { \u0022name\u0022 : \u0022SmokeScreen\u0022}\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022resources\u0022 : {\u003Cbr\u003E        \u0022homepage\u0022   : {\u003Cbr\u003E            \u0022url\u0022      : \u0022http://forum.kerbalspaceprogram.com/threads/84054\u0022\u003Cbr\u003E        }\u003Cbr\u003E    },\u003Cbr\u003E    \u0022install\u0022 : [\u003Cbr\u003E        {\u003Cbr\u003E            \u0022file\u0022       : \u0022RetroFuture\u0022,\u003Cbr\u003E            \u0022install_to\u0022 : \u0022GameData\u0022\u003Cbr\u003E        },\u003Cbr\u003E    ]\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T19:58:03Z\u0022 title=\u002210/21/2014 07:58  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-21T19:59:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nlight\u0022 data-cite=\u0022nlight\u0022\u003E\u003Cdiv\u003EThere is such a tool available \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/bin/ckan-validate\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. It requires Perl and Java to run. We\u0027re looking into implementing JSON validation in the CKAN client in the future.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eok.\u003C/p\u003E\u003Cp\u003EYou also forgot \u0022json-schema-validator-2.2.5-lib.jar\u0022 as dependency, I guess.\u003C/p\u003E\u003Cp\u003E(Such tool can be used with Cygwin for example, which may sightly differ from a \u0022standard\u0022 Linux install, \u002B there is a few chance the java package is install or available as it is not in the standard/base package).\u003C/p\u003E\u003Cp\u003EBy the way, using CHILD_ERROR ($?) in the script may be bad as java lib not found, exec error etc shows a \u0022JSON validation\u0022 error to the user, who is not likely to find the true cause of error.\u003C/p\u003E\u003Cp\u003EUsing $?\u0026gt;\u0026gt; 8 may be better (\u002B check the doc of the java stuff to know relevant error codes).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T20:26:08Z\u0022 title=\u002210/21/2014 08:26  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by Justin Kerbice\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-22T00:40:39Z","Content":"\n\u003Cp\u003E@Justin: I\u0027d *love* something more friendly than our current validator. It\u0027s written primarily to target our continuous integration system (travis-ci), and so it\u0027s not exactly user-friendly; we don\u0027t have to worry too much about exit statuses as *any* error indicates that we need human attention. One of the gotchas for validators is we need to use v4 of the JSON Schema spec, and the java validator is the best one I\u0027ve found out there. (The dependency is in the git repo, so we recommend just cloning that).\u003C/p\u003E\u003Cp\u003EGoing forward, we\u0027re hoping people can write significantly reduced descriptor files, which get most of their info from KerbalStuff or GitHub. These use a special reference that\u0027s \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/blob/master/Spec.md#kref\u0022 rel=\u0022external nofollow\u0022\u003Edescribed in the latest version of the spec\u003C/a\u003E.We\u0027re also hoping to make it easier for mods which use a standard directory structure to \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues/127\u0022 rel=\u0022external nofollow\u0022\u003Enot require install instructions\u003C/a\u003E, which will make things easier still! I\u0027m in the process of writing up better (and *much* simpler) contributor guidelines now, but I\u0027ve got my hands full with a burst pipe as well, so that may be delayed a little.\u003C/p\u003E\u003Cp\u003E@nli2work: That looks *awesome*. Technically you can leave out the homepage (and resources entirely) if you want to use the homepage you have listed on KerbalStuff. I\u0027m going to test your descriptor now to see how it goes. Are you on github at all? (It\u0027ll make it easier for me to CC you in on the testing there.)\u003C/p\u003E\u003Cp\u003E~ Paul\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-22T03:27:18Z\u0022 title=\u002210/22/2014 03:27  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 22, 2014\u003C/time\u003E by pjf\u003C/strong\u003E\n\u003Cbr\u003EI can speall nli2work\u0026#039;s handle, honest!\n\u003C/span\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-22T03:32:59Z","Content":"\n\u003Cp\u003E@nli2work:\u003C/p\u003E\u003Cp\u003EI\u0027ve got your mod working great with the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E{\u003Cbr\u003E    \u0022spec_version\u0022   : 1,\u003Cbr\u003E    \u0022identifier\u0022     : \u0022RetroFuture\u0022,\u003Cbr\u003E    \u0022$kref\u0022          : \u0022#/ckan/kerbalstuff\u0022,\u003Cbr\u003E    \u0022depends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022Firespitter\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022ModuleManager\u0022, \u0022min_version\u0022 : \u00222.5.1\u0022 }\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022recommends\u0022 : [\u003Cbr\u003E        { \u0022name\u0022 : \u0022FerramAerospaceResearch\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022RasterPropMonitor\u0022 },\u003Cbr\u003E        { \u0022name\u0022 : \u0022BDArmory\u0022},\u003Cbr\u003E        { \u0022name\u0022 : \u0022ProceduralDynamics\u0022},\u003Cbr\u003E        { \u0022name\u0022 : \u0022SmokeScreen\u0022}\u003Cbr\u003E    ],\u003Cbr\u003E    \u0022install\u0022 : [\u003Cbr\u003E        {\u003Cbr\u003E            \u0022file\u0022       : \u0022RetroFuture\u0022,\u003Cbr\u003E            \u0022install_to\u0022 : \u0022GameData\u0022\u003Cbr\u003E        },\u003Cbr\u003E    ]\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever support for Firespitter is currently an \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN-meta/issues/9\u0022 rel=\u0022external nofollow\u0022\u003Eopen issue\u003C/a\u003E. If you need all of Firespitter, then the code above is correct. If you just need the Firespitter dll, then it\u0027s likely that will be called \u0060FirespitterCore\u0060. Because the dll isn\u0027t released like a normal mod, it\u0027s proving a bit hard to provide packaging for it. This is a good thing for us to be discovering now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, do feel free to chime in on any of the \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues\u0022 rel=\u0022external nofollow\u0022\u003Eissues on github\u003C/a\u003E, especially those marked as policy. We\u0027re trying to figure out the best way to do a lot of things, and while most policy decisions are relatively easy, there are some which I know we need to get right now because they\u0027ll be hard to change in the future.\u003C/p\u003E\u003Cp\u003E ~ Paul\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-22T06:15:56Z","Content":"\n\u003Cp\u003EJust a bit of a preview, for a *typical* mod (which is one that\u0027s on KerbalStuff, and has zipfile which contains a directory with the same name as the module), you can \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/pull/132\u0022 rel=\u0022external nofollow\u0022\u003Esoon\u003C/a\u003E get away with:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E{\u003Cbr\u003E    \u0022spec_version\u0022   : 1,\u003Cbr\u003E    \u0022identifier\u0022     : \u0022DogeCoinFlag\u0022,\u003Cbr\u003E    \u0022$kref\u0022          : \u0022#/ckan/kerbalstuff\u0022\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s the *entire* file, and it doesn\u0027t even need to be embedded in your zipfile at all, we can just have it in our BootKAN/NetKAN system which does a lot of the automated production of metadata.\u003C/p\u003E\u003Cp\u003EThat file above will get all the metadata from the KS, and then traverse the download zipfile for a directory called \u0060DogeCoinFlag\u0060 (so it will do the right thing work with: \u0060GameData/DogeCoinFlag\u0060, \u0060DogeCoinFlag-1.02/GameData/DogeCoinFlag\u0060, and just \u0060DogeCoinFlag\u0060).\u003C/p\u003E\u003Cp\u003EI\u0027m thinking of changing $kref to allow identifiers like \u0022#/ckan/kerbalstuff/269\u0022, which means we no longer need an external index of where to locate said data.\u003C/p\u003E\u003Cp\u003EMore tomorrow when I have time to write!\u003C/p\u003E\u003Cp\u003E~ Paul\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-10-22T13:53:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pjf\u0022 data-cite=\u0022pjf\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHowever support for Firespitter is currently an \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN-meta/issues/9\u0022 rel=\u0022external nofollow\u0022\u003Eopen issue\u003C/a\u003E. If you need all of Firespitter, then the code above is correct. If you just need the Firespitter dll, then it\u0027s likely that will be called \u0060FirespitterCore\u0060. Because the dll isn\u0027t released like a normal mod, it\u0027s proving a bit hard to provide packaging for it. This is a good thing for us to be discovering now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E ~ Paul\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll change it to \u0022FirespitterCore\u0022 as RF requires only the DLL. if the flag changes to some other name I\u0027ll update it accordingly. I\u0027m still getting familiar with github and figuring out how it works.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Khatharr","CreatedById":102687,"CreatedDateTime":"2014-10-25T00:09:12Z","Content":"\n\u003Cp\u003EAwesome! I\u0027m glad to see this finally happening. I bought Don\u0027t Starve on Steam the other day and the way the Steam workshop integrates with the game is really enviable. This also saves me some trouble, since I recently started work on an information aggregator for mod update statuses (to get around the search-through-every-post-of-every-thread-for-every-update problem). This system will solve the problem much more neatly and I don\u0027t have to think about how to find a free host for the aggregator, lol.\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-27T11:55:19Z","Content":"\n\u003Cp\u003E@nli2work: Oops, our validation bot \u003Ca href=\u0022https://travis-ci.org/KSP-CKAN/CKAN-meta/builds/39142820\u0022 rel=\u0022external nofollow\u0022\u003Edoesn\u0027t like RetroFuture\u003C/a\u003E. In particular, it\u0027s \u003Cem\u003Every\u003C/em\u003E particular about the license, and because KerbalStuff allows free range strings it\u0027s not always able to figure out which license is on which mod.\u003C/p\u003E\u003Cp\u003EI don\u0027t suppose you can change your KerbalStuff license to \u0022CC-BY-NC-SA-4.0\u0022? There\u0027s no need for a new release, I can just run the indexer again when done.\u003C/p\u003E\u003Cp\u003EMany thanks!\u003C/p\u003E\u003Cp\u003E~ Paul\u003C/p\u003E\u003Cp\u003E(Also, for those interested, we\u0027re popping out new \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/releases\u0022 rel=\u0022external nofollow\u0022\u003Etest releases\u003C/a\u003E every day or two now.)\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-27T12:27:52Z","Content":"\n\u003Cp\u003E@pjf: looks like ckan tool doesn\u0027t like me at all !\u003C/p\u003E\u003Cp\u003Erun the last release, click \u0022add new\u0022 =\u0026gt; stuck, with the \u0022I\u0027m doing something right now\u0022 windows pointer when hovering the window.\u003C/p\u003E\u003Cp\u003EI guess there is some more work to do on it...\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-27T12:39:32Z","Content":"\n\u003Cp\u003EIt\u0027s not just you! It \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues/185\u0022 rel=\u0022external nofollow\u0022\u003Eseems to be everyone\u003C/a\u003E, including me. Luckily I\u0027ve got a good idea as to which part of the system is responsible, so stand by. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-10-27T15:31:00Z","Content":"\n\u003Cp\u003EAnd our bugfix release (\u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/releases\u0022 rel=\u0022external nofollow\u0022\u003Ev0.15.1 - Hydrazine Princess\u003C/a\u003E) is now out! Not only is the can\u0027t-download bug fixed, but all operations are now transactional. If you try to upgrade a mod and it fails (and mod upgrades are still pretty buggy, so they probably will), or you try to install six related mods and one of them barfs, then everything is put back exactly as it was before. I can\u0027t explain just how excited I am about this, but I am *incredibly* impressed with C# transactions right now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T15:35:01Z\u0022 title=\u002210/27/2014 03:35  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by pjf\u003C/strong\u003E\n\u003Cbr\u003Espeeling\n\u003C/span\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-10-27T15:36:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pjf\u0022 data-cite=\u0022pjf\u0022\u003E\u003Cdiv\u003EIt\u0027s not just you! It \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues/185\u0022 rel=\u0022external nofollow\u0022\u003Eseems to be everyone\u003C/a\u003E, including me. Luckily I\u0027ve got a good idea as to which part of the system is responsible, so stand by. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe hydrazine Princess may get its name because it has breath/drink too much of it, still doesn\u0027t work for me (same behaviour as before).\u003C/p\u003E\n"}]}