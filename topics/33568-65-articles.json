{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":65,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-10T01:29:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EThanks. I think I\u0027ve got it fixed. Take a look, please: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v151_prerelease6.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSP TOT v1.5.1 pre-release 6\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStill some issues. The proper node is coasted to now for my Mi-SCAN probe, but it is 0.3 degrees off the equator both ways (not sure if that\u0027s a big deal just noting it) and here\u0027s what my Duna I probe does at coast to descending node. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/sE5qTSR.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/sE5qTSRl.png\u0022 alt=\u0022sE5qTSRl.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHere, \u003Ca href=\u0022http://www.blade-edge.com/misc/persistent.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis is my latest SFS\u003C/a\u003E with a bunch of craft to test against. Funny enough is I just found my own orbital edge case to deal with on my flight tracker \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E will have to completely refactor my plot render code because it assumes all lines cross the meridian before going off a map edge. My first attempt locks up the browser haha. Fun times\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/mswO5ks.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/mswO5ksl.png\u0022 alt=\u0022mswO5ksl.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-10T01:33:45Z\u0022 title=\u002210/10/2015 01:33  AM\u0022 data-short=\u00228 yr\u0022\u003EOctober 10, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-10T01:39:37Z","Content":"\n\u003Cp\u003EArrowstar,\u003C/p\u003E\u003Cp\u003EI don\u0027t know if this is relevant, but I just used the RMS to plot a rendezvous from a spacecraft in munar orbit to another spacecraft in munar orbit, and it worked perfectly.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-10T03:56:16Z","Content":"\n\u003Cp\u003EHere\u0027s another weird way, that I suspect may shed some light on this issue. I tried to upload a maneuver node from Mission Architect, the upload maneuver window seemed perfectly sane, and precise node showed the node as being uploaded appropriately, However, KSP seemed to disagree, as shown.:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/ZxZxmDo\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/ZxZxmDo\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI tried it again with the vectors set to 0, and still received that large DV requirement. I changed around the UT both in KSPTOT and precise node, that changed that large DV value. It looks like this has to do with the UT somehow, or perhaps something being passed with it\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-10T04:00:30Z\u0022 title=\u002210/10/2015 04:00  AM\u0022 data-short=\u00228 yr\u0022\u003EOctober 10, 2015\u003C/time\u003E by dlrk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-10-10T22:58:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EStill some issues. The proper node is coasted to now for my Mi-SCAN probe, but it is 0.3 degrees off the equator both ways (not sure if that\u0027s a big deal just noting it) and here\u0027s what my Duna I probe does at coast to descending node. \u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/sE5qTSRl.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/sE5qTSRl.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHere, \u003Ca href=\u0022http://www.blade-edge.com/misc/persistent.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis is my latest SFS\u003C/a\u003E with a bunch of craft to test against. Funny enough is I just found my own orbital edge case to deal with on my flight tracker \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E will have to completely refactor my plot render code because it assumes all lines cross the meridian before going off a map edge. My first attempt locks up the browser haha. Fun times\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/mswO5ksl.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/mswO5ksl.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, \u003Cem\u003Enow\u003C/em\u003E I think I have it fixed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I finally went to the solution I had been trying to be clever and avoid, which is to find the true anomaly that minimizes the angle between that true anomaly\u0027s position vector and the line of nodes. It\u0027s a little more CPU intensive, but I think it\u0027s fast enough for general applications.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v151_prerelease7.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSP TOT v1.5.1 pre-release 7\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EHere\u0027s another weird way, that I suspect may shed some light on this issue. I tried to upload a maneuver node from Mission Architect, the upload maneuver window seemed perfectly sane, and precise node showed the node as being uploaded appropriately, However, KSP seemed to disagree, as shown.:\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/ZxZxmDo\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/ZxZxmDo\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI tried it again with the vectors set to 0, and still received that large DV requirement. I changed around the UT both in KSPTOT and precise node, that changed that large DV value. It looks like this has to do with the UT somehow, or perhaps something being passed with it\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan I get a clean (stock only) SFS file that demonstrates the problem and instructions on how to reproduce the issue? I don\u0027t think I\u0027m going to be able to help with just pictures. I\u0027m not really understanding what you\u0027re trying to describe...\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-11T01:10:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EOkay, \u003Cem\u003Enow\u003C/em\u003E I think I have it fixed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeap looks good over here.\u003C/p\u003E\u003Cp\u003EAlso, I know this isn\u0027t a huge deal but because I really like breaking stuff (as you\u0027ve noticed) if you\u0027re quick enough to close the title screen dialog the whole program craps out when the main window loads. If you don\u0027t want to fix it I promise to keep myself from doing it ever again \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-10-11T02:02:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EAlso, I know this isn\u0027t a huge deal but because I really like breaking stuff (as you\u0027ve noticed) if you\u0027re quick enough to close the title screen dialog the whole program craps out when the main window loads. If you don\u0027t want to fix it I promise to keep myself from doing it ever again \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould not reproduce. I got an error message within MATLAB itself but the application otherwise loaded fine. I\u0027ll add a check on the validity of the splash dialog graphics handle before I close it, but I think that may be all I can do.\u003C/p\u003E\u003Cp\u003EAre you aware of any other issues I need to address before v1.5.1 goes live?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-11T02:49:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003ECould not reproduce. I got an error message within MATLAB itself but the application otherwise loaded fine. I\u0027ll add a check on the validity of the splash dialog graphics handle before I close it, but I think that may be all I can do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat should do it. The error dialog that pops up mentions an invalid handle. When I close that the application exits.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAre you aware of any other issues I need to address before v1.5.1 goes live?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI currently have none and also don\u0027t recall any mentioned previously here in the thread that are still open other than dlrk\u0027s\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-11T03:51:16Z","Content":"\n\u003Cp\u003EArrowstar,\u003C/p\u003E\u003Cp\u003EI tested this some more, and I have an SFS of which no mods were used aside from Hyperedit(in order to get a vehicle in orbit for testing), 64k(because the problem doesn\u0027t occur without it) and KSPTOTConnect.\u003C/p\u003E\u003Cp\u003ESteps to reproduce are to, using 64k(6.4x Kerbin with Kopernicus):\u003C/p\u003E\u003Cp\u003E1. Warp to/already be at or after year 1 day 115 (may occur earlier, but definitely occurs by then, and not on the first day or so)\u003C/p\u003E\u003Cp\u003E2. Attempt to calculate a transfer to the Mun using KSPTOT\u0027s RMS.\u003C/p\u003E\u003Cp\u003E3. Observe that the resulting maneuver, whether uploaded or entered manually, does not result in an encounter.\u003C/p\u003E\u003Cp\u003ESFS: \u003Ca href=\u0022https://www.dropbox.com/s/tbhqex37ztt676k/persistent.sfs?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/tbhqex37ztt676k/persistent.sfs?dl=0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-10-11T17:38:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EArrowstar,\u003Cp\u003EI tested this some more, and I have an SFS of which no mods were used aside from Hyperedit(in order to get a vehicle in orbit for testing), 64k(because the problem doesn\u0027t occur without it) and KSPTOTConnect.\u003C/p\u003E\u003Cp\u003ESteps to reproduce are to, using 64k(6.4x Kerbin with Kopernicus):\u003C/p\u003E\u003Cp\u003E1. Warp to/already be at or after year 1 day 115 (may occur earlier, but definitely occurs by then, and not on the first day or so)\u003C/p\u003E\u003Cp\u003E2. Attempt to calculate a transfer to the Mun using KSPTOT\u0027s RMS.\u003C/p\u003E\u003Cp\u003E3. Observe that the resulting maneuver, whether uploaded or entered manually, does not result in an encounter.\u003C/p\u003E\u003Cp\u003ESFS: \u003Ca href=\u0022https://www.dropbox.com/s/tbhqex37ztt676k/persistent.sfs?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/tbhqex37ztt676k/persistent.sfs?dl=0\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi there. So any idea why you can\u0027t reproduce it in a purely stock game? That\u0027s critical. Can you take a look at your bodies file and see if it makes sense? Can you try to use RMS with another spacecraft? Does that work. If you can use RMS with another s/c but it doesn\u0027t work on the moon, then the bodies.ini file is not correct.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-11T19:32:33Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/ohi4oienhsk1pnf/persistent%20%282%29.sfs?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ohi4oienhsk1pnf/persistent%20%282%29.sfs?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWell, I just tried again to reproduce it in stock, and it reproduced. No mods aside from KSPTOTConnect and Hyperedit. SFS is attached. I created a new bodies file from the stock system, and tried that, and tried with the included bodies file, with the same result. On this try epoch didn\u0027t seem to affect it, as long as it was a game hour or so in.\u003C/p\u003E\n"},{"CreatedByName":"AbhChallenger","CreatedById":106911,"CreatedDateTime":"2015-10-12T02:25:50Z","Content":"\n\u003Cp\u003EGoing to go a bit off topic here but I noticed a while ago you were working on an interesting Launch Trajectory Analysis tool.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-5-0-Optimizations!?p=2074193\u0026amp;viewfull=1#post2074193\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-5-0-Optimizations!?p=2074193\u0026amp;viewfull=1#post2074193\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf you still have any plans to work on it. Would it perhaps be possible to implement some kind of solver like this? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19/\u003C/a\u003E Especially if you can simulate atmospheric flight.\u003C/p\u003E\u003Cp\u003EI know that has little to do with slingshots. Yet it really would be useful for designing cost effective lifters for a variety of missions.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2015-10-13T01:06:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://www.dropbox.com/s/ohi4oienhsk1pnf/persistent%20%282%29.sfs?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ohi4oienhsk1pnf/persistent%20%282%29.sfs?dl=0\u003C/a\u003E\u003Cp\u003EWell, I just tried again to reproduce it in stock, and it reproduced. No mods aside from KSPTOTConnect and Hyperedit. SFS is attached. I created a new bodies file from the stock system, and tried that, and tried with the included bodies file, with the same result. On this try epoch didn\u0027t seem to affect it, as long as it was a game hour or so in.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, thanks. I will take a look when I can. In the meantime, could you please provide for me exact instructions, starting from loading up KSP, that demonstrate how to reproduce the issue you\u0027re seeing?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbhChallenger\u0022 data-cite=\u0022AbhChallenger\u0022\u003E\u003Cdiv\u003EGoing to go a bit off topic here but I noticed a while ago you were working on an interesting Launch Trajectory Analysis tool.\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-5-0-Optimizations!?p=2074193\u0026amp;viewfull=1#post2074193\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/36476-WIN-MAC-KSP-Trajectory-Optimization-Tool-v1-5-0-Optimizations!?p=2074193\u0026amp;viewfull=1#post2074193\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf you still have any plans to work on it. Would it perhaps be possible to implement some kind of solver like this? \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/65011-WEB-1-0-KSP-Optimal-Rocket-Calculator-v1-19/\u003C/a\u003E Especially if you can simulate atmospheric flight.\u003C/p\u003E\u003Cp\u003EI know that has little to do with slingshots. Yet it really would be useful for designing cost effective lifters for a variety of missions.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve put this on hold for now. I ran into some algorithmic and run time problems and haven\u0027t had a chance to work them out. Hopefully I\u0027ll be able to in the future, we\u0027ll see. Thanks for your interest! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-13T01:54:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EOkay, thanks. I will take a look when I can. In the meantime, could you please provide for me exact instructions, starting from loading up KSP, that demonstrate how to reproduce the issue you\u0027re seeing?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as I can see, reproduction should simply be:\u003C/p\u003E\u003Cp\u003EStart KSP\u003C/p\u003E\u003Cp\u003EStart KSPTOT.\u003C/p\u003E\u003Cp\u003EOpen Rendezvous Maneuver Sequencer\u003C/p\u003E\u003Cp\u003EGet Orbit from KSP in initial orbit\u003C/p\u003E\u003Cp\u003ESlect Mun in target orbit.\u003C/p\u003E\u003Cp\u003ECompute rendezvous.\u003C/p\u003E\u003Cp\u003EUpload maneuver generated.\u003C/p\u003E\u003Cp\u003EObserve that the maneuver does not lead to an encounter with the Mun. \u003C/p\u003E\u003Cp\u003EI\u0027m not sure why everyone else wouldnt be having this issue\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-16T11:20:36Z","Content":"\n\u003Cp\u003Etesting aerobraking again over Duna, have noticed you can\u0027t change line colors for aerobrake events. Will report back with results of aerobrake, got my coefficients ready to go\u003C/p\u003E\u003Cp\u003EAlso noticed that the Other Spacecraft menu hasn\u0027t been updated with the changes I suggested and you agreed to in regards to disabling the input boxes until Add Spacecraft is clicked if none are created yet\u003C/p\u003E\u003Cp\u003Eyikes, my calculated dip through 40km of Duna was supposed to give me an apodun of 1,625km and afterwards I\u0027m at 1,439km. I\u0027m going to go review my methods and be back with a full report so you can determine if it\u0027s something I did wrong getting my coefficients and setting up the aerobrake states\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-16T12:47:14Z\u0022 title=\u002210/16/2015 12:47  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 16, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Joco223","CreatedById":92530,"CreatedDateTime":"2015-10-19T13:58:37Z","Content":"\n\u003Cp\u003EHi, i would really like to use your tool but when i try creating bodies.ini because im using 6.4x ksp so the planet size and other stuff would match. I have installed KSPTOTConnect and i was in the flight scene on one of my sattelites and when i try creating boides.ini it gives me an error. It asks is KSPTOTConnect installend and ksp is running in flight-mode. I have met both requirements. Maybe it\u0027s something that im running 64-bit windows version of KSP. I need to use it becuase i have a sh** ton of mods. Btw awesome and very useful tool \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-19T19:17:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EAs far as I can see, reproduction should simply be:\u003Cp\u003EStart KSP\u003C/p\u003E\u003Cp\u003EStart KSPTOT.\u003C/p\u003E\u003Cp\u003EOpen Rendezvous Maneuver Sequencer\u003C/p\u003E\u003Cp\u003EGet Orbit from KSP in initial orbit\u003C/p\u003E\u003Cp\u003ESlect Mun in target orbit.\u003C/p\u003E\u003Cp\u003ECompute rendezvous.\u003C/p\u003E\u003Cp\u003EUpload maneuver generated.\u003C/p\u003E\u003Cp\u003EObserve that the maneuver does not lead to an encounter with the Mun. \u003C/p\u003E\u003Cp\u003EI\u0027m not sure why everyone else wouldnt be having this issue\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust a reminder to Arrowstar this seems similar to the problem I discovered a while back where RSS was adjusting the orbital period of various stock bodies in the system, throwing off my intercepts with Mun and Minmus in a similar manner. Dlrk you may want to use a tool like VOID or Kerbal Engineer that have in-game catalogs that can show you orbital periods for bodies and compare those values to the KSP wiki\u003C/p\u003E\u003Cp\u003EArrowstar should have that areobraking analysis for ya tonight or tomorrow\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-19T20:06:27Z","Content":"\n\u003Cp\u003EThe orbital period doesn\u0027t match the stock orbital period, but I\u0027m not sure that it\u0027s supposed to. Looking in the cfgs for 64k and Kopernicus, nothing explicitly changes orbital period.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-20T01:35:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EThe orbital period doesn\u0027t match the stock orbital period, but I\u0027m not sure that it\u0027s supposed to.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, true. I forgot you\u0027re using a changed kerbol system. Very well then make sure the orbital periods that you see in the game match the orbital periods that are in the bodies.ini file you generated.\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-20T14:31:19Z","Content":"\n\u003Cp\u003EI don\u0027t see orbital period in bodies.ini at all, should it be there? I see rotperiod, but I believe thats rotation not orbit.\u003C/p\u003E\u003Cp\u003EThough, since the problem occured in stock as well, I\u0027ll check that too\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2015-10-20T15:13:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EI don\u0027t see orbital period in bodies.ini at all, should it be there? I see rotperiod, but I believe thats rotation not orbit.\u003Cp\u003EThough, since the problem occured in stock as well, I\u0027ll check that too\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBodies.ini has the SMA and GM values for each body, but indeed not directly the orbital period.\u003C/p\u003E\u003Cp\u003EOrbital Period = 2 * PI * \u00C3\u00A2\u00CB\u2020\u00C5\u00A1 (SMA(x)^3 / GM(y)), of course the gravitational parameter GM is from the mainbody, the SMA is from the actual body you want to compute.\u003C/p\u003E\u003Cp\u003EE.g. for Kerbin: SMA(kerbin) = 13599840.256; GM(Sun) = 1172332794.832490700 (data from stock KSP and KSPTOT, but the equation works with anything); Orbital Period = 9,203,544.6175 s\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-20T20:45:28Z","Content":"\n\u003Cp\u003EI checked the GM and SMA in the bodies file, and it\u0027s right. The problem also occurs in stock, so 64k/RSS/Kopernicus isn\u0027t the issue\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-21T01:19:28Z","Content":"\n\u003Cp\u003EHrm, I\u0027m all outta help then for now. Could not reproduce. Try walking us through the EXACT steps you take. I mean specific and detailed. Maybe with images.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/WTNIqfZ.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/WTNIqfZm.png\u0022 alt=\u0022WTNIqfZm.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EArrowstar, I\u0027ve gone back over my aerobrake procedure and I\u0027m pretty sure I did everything right. \u003Ca href=\u0022http://www.blade-edge.com/misc/Duna%20Aerobrake.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere are some MAT files\u003C/a\u003E for you to look at. DipSequence2 - #1 results.mat contains orbital states pulled from the game just before entering and just after leaving the atmosphere (50km). Coupled with a pre-aerobrake mass of 12.293t (why does it matter that it\u0027s pre-aerobrake?) I calculated my drag coefficient which you see applied for the first aerobrake event in DipSequence3.mat. Speaking of pre/post dip you have inclination defined as just \u0022inclination\u0022 but the instructions refer to the inclination prior to aerobrake so shouldn\u0027t it be moved to the top and labeled pre-aerobrake? There was a slight change to my inclination after the aerobrake. I don\u0027t know if using either one would cause any significant change to the result to really fuss over this though. So yea, first aerobrake pass shown in KSPTOT says I should be at 1624km Ap but I actually ended up at 1439km. Profile of the craft was the same as when I first calculated the coefficient - RemoteTech held the craft prograde and all solar panels/comms/doors were closed. I also think it\u0027s a bit hinky that if I change the model in the aerobrake event from Stock to FAR to NEAR the results are exactly the same...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-21T01:22:04Z\u0022 title=\u002210/21/2015 01:22  AM\u0022 data-short=\u00228 yr\u0022\u003EOctober 21, 2015\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Joco223","CreatedById":92530,"CreatedDateTime":"2015-10-21T12:58:18Z","Content":"\n\u003Cp\u003EWhat could be the reasons that i cant create bodies.ini? I have KSPTOTConnect installed and i have opened a satelite which is in an orbit around Kerbin but it sill won\u0027t let me create bodies.ini file. It gives me an error and is asking if KSPTOTConnect is installed and if KSP is running in fly-mode in background. Maybe it has something to do with KSP that im using which is 64bit? I would really like to use this tool \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-10-22T18:40:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Joco223\u0022 data-cite=\u0022Joco223\u0022\u003E\u003Cdiv\u003EMaybe it has something to do with KSP that im using which is 64bit?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPossibly. 64-bit on Windows or Linux?\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2015-10-23T17:43:33Z","Content":"\n\u003Cp\u003EAfter uninstalling and reinstalling MATLAB, stock KSP now works fine. I went back to trying to create a bodies from KSP using the latest KSP. Creating a file failed with a chord, and this ksptot.log entry\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIndex exceeds matrix dimensions.\u003Cp\u003EError in getBodiesINIFileFromKSP (line 26)\u003C/p\u003E\u003Cp\u003EError in mainGUI\u0026gt;createNewBodiesFileFromKSP_Callback (line 656)\u003C/p\u003E\u003Cp\u003EError in gui_mainfcn (line 95)\u003C/p\u003E\u003Cp\u003EError in mainGUI (line 42)\u003C/p\u003E\u003Cp\u003EError in @(hObject,eventdata)mainGUI(\u0027createNewBodiesFileFromKSP_Callback\u0027,hObject,eventdata,guidata(hObject))\u003C/p\u003E\u003Cp\u003EError while evaluating Menu Callback\u003C/p\u003E\u003Cp\u003EError writing to output stream.\u003C/p\u003E\u003Cp\u003EIndex exceeds matrix dimensions.\u003C/p\u003E\u003Cp\u003EError in getBodiesINIFileFromKSP (line 26)\u003C/p\u003E\u003Cp\u003EError in mainGUI\u0026gt;createNewBodiesFileFromKSP_Callback (line 656)\u003C/p\u003E\u003Cp\u003EError in gui_mainfcn (line 95)\u003C/p\u003E\u003Cp\u003EError in mainGUI (line 42)\u003C/p\u003E\u003Cp\u003EError in @(hObject,eventdata)mainGUI(\u0027createNewBodiesFileFromKSP_Callback\u0027,hObject,eventdata,guidata(hObject))\u003C/p\u003E\u003Cp\u003EError while evaluating Menu Callback\u003C/p\u003E\u003Cp\u003EError writing to output stream.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"}]}