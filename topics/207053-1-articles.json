{"TopicId":207053,"ForumId":29,"TopicTitle":"How to get ship and ship Delta-V in VAB/SPH?","CreatedByName":"Hyperion_21","CreatedById":219504,"CreatedDateTime":"2022-02-26T09:02:47Z","PageNum":1,"Articles":[{"CreatedByName":"Hyperion_21","CreatedById":219504,"CreatedDateTime":"2022-02-26T09:02:47Z","Content":"\n\u003Cp\u003E\n(new member)\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been tearing my hair out over this for the past 2-3 days. I\u0027m currently making a simple mod that calculates if a flight is possible given current delta-v\u0027s. However, I cannot figure out how to get the delta-v\u0027s of a ship in an editor, nor able to even get any sign of a ship being detected.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u00A0\u003Cem\u003Ethink\u00A0\u003C/em\u003Eit has to do with ShipConstruct, but I can\u0027t figure out how to get current vessel as a Ship. It could also be Vessel that handles editor, but I found nothing suggesting that to be the case. I\u0027ve skimmed through the class index on the API site, and found nothing.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know about this? I\u0027m very new to C# modding.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-02-26T09:04:16Z\u0022 title=\u002202/26/2022 09:04  AM\u0022 data-short=\u00222 yr\u0022\u003EFebruary 26, 2022\u003C/time\u003E by Hyperion_21\u003C/strong\u003E\n\u003Cbr\u003EMore information about attempted solutions\n\u003C/span\u003E\n"},{"CreatedByName":"zer0Kerbal","CreatedById":190933,"CreatedDateTime":"2022-03-11T03:51:49Z","Content":"\n\u003Cp\u003E\nTake a look at \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022 rel=\u0022\u0022\u003E@DMagic\u003C/a\u003E\u0027s Basic DeltaV - along with MechJeb and Kerbal Engineer code. All these mods (IIRC) have their source code on GitHub. SpaceDock and Forum threads usually have links. Good Luck!\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2022-03-11T04:02:21Z","Content":"\n\u003Cp\u003E\nSubscribe to the DeltaVCalcsCompleted event to be notified every time the user changes the ship:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\u003Cspan class=\u0022typ\u0022\u003EGameEvents\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EonDeltaVCalcsCompleted\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAdd\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EOnDeltaVCalcsCompleted\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn that event\u0027s handler, you can get the complete delta V analysis from EditorLogic.fetch?.ship?.vesselDeltaV:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_vessel_delta_v.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ctable style=\u0022background-color:#ffffff;border-spacing:0px;color:#000000;padding:0px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd colspan=\u00222\u0022 style=\u0022border-bottom:1px solid #dee4f0;padding:0px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd align=\u0022right\u0022 style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022top\u0022\u003E\ndouble\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022bottom\u0022\u003E\n\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#aba9c9be40a1decdff7923578702e1f9d\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003ETotalDeltaVActual\u003C/a\u003E\u003Ccode\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E[get]\u003C/code\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\nThe Total Simulated DeltaV produced by the Vessel/Ship in flight.\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#aba9c9be40a1decdff7923578702e1f9d\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003EMore...\u003C/a\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd colspan=\u00222\u0022 style=\u0022border-bottom:1px solid #dee4f0;padding:0px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd align=\u0022right\u0022 style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022top\u0022\u003E\ndouble\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022bottom\u0022\u003E\n\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#a5a10f6d38257b77c745f03c34d75c74f\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003ETotalDeltaVASL\u003C/a\u003E\u003Ccode\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E[get]\u003C/code\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\nThe Total Simulated DeltaV produced by the Vessel/Ship at ASL\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#a5a10f6d38257b77c745f03c34d75c74f\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003EMore...\u003C/a\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd colspan=\u00222\u0022 style=\u0022border-bottom:1px solid #dee4f0;padding:0px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd align=\u0022right\u0022 style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022top\u0022\u003E\ndouble\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;padding:1px 0px 0px 8px;\u0022 valign=\u0022bottom\u0022\u003E\n\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#ae36302f24f8b20dfb3620bcddbb6c67d\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003ETotalDeltaVVac\u003C/a\u003E\u003Ccode\u003E\u003Cspan\u003E\u00A0\u003C/span\u003E[get]\u003C/code\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd style=\u0022background-color:#f9fafc;border:none;color:#555555;padding:0px 8px 4px;\u0022\u003E\nThe Total Simulated DeltaV produced by the Vessel/Ship in Vacuum\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_delta_v.html#ae36302f24f8b20dfb3620bcddbb6c67d\u0022 rel=\u0022external nofollow\u0022 style=\u0022color:#3d578c;\u0022\u003EMore...\u003C/a\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSample code here:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/HebaruSan/SmartTank/blob/master/src/SmartTank.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HebaruSan/SmartTank/blob/master/src/SmartTank.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-03-11T04:04:04Z\u0022 title=\u002203/11/2022 04:04  AM\u0022 data-short=\u00222 yr\u0022\u003EMarch 11, 2022\u003C/time\u003E by HebaruSan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2022-03-13T02:12:50Z","Content":"\n\u003Cp\u003E\nMoving to C# Plugin Development Help and Support, which specializes in this sort of thing. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"}]}