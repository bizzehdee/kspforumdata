{"TopicId":130730,"ForumId":25,"TopicTitle":"The Cheap and Cheerful Rocket Payload Challenge 1.0.5","CreatedByName":"Norcalplanner","CreatedById":112223,"CreatedDateTime":"2016-01-26T04:23:13Z","PageNum":7,"Articles":[{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-02-07T17:58:07Z","Content":"\n\u003Cp\u003E\nWithot the rhinos gimbal the would be nothing controling the rocket.\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-02-07T19:31:31Z","Content":"\n\u003Cp\u003E\nTrue. And aero surfaces are expensive. OK, nix that.\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t replicate any of your successes. Apparently my flying sucks.\n\u003C/p\u003E\n"},{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-02-07T20:07:11Z","Content":"\n\u003Cp\u003E\nSo i removed most of the inline decuplers, That made it a lot better.\n\u003C/p\u003E\n\u003Cp\u003E\nThis made it with 31 dV left.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E599,94\u003C/strong\u003E funds/ton\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/PAvtZ/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2016-02-07T20:33:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222398234\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454875631\u0022 data-ipsquote-userid=\u0022145422\u0022 data-ipsquote-username=\u0022Nefrums\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, Nefrums said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo i removed most of the inline decuplers, That made it a lot better.\n\u003C/p\u003E\n\u003Cp\u003E\nThis made it with 31 dV left.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E599,94\u003C/strong\u003E funds/ton\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhoa!\n\u003C/p\u003E\n\u003Cp\u003E\nO_O\n\u003C/p\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2016-02-07T22:56:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222398023\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454867089\u0022 data-ipsquote-userid=\u002262016\u0022 data-ipsquote-username=\u0022numerobis\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, numerobis said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n26 kickbacks. Ouch. How do you pack them in so densely?\n\u003C/p\u003E\n\u003Cp\u003E\nThe Rhino is not even 10% of your first-stage thrust. I wonder: would it be worth adding a pair of kickbacks and ditching the fuel and fuel lines on the first stage, making it SRB only?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEvery test I did showed that running an upper stage engine at an inefficient time leaves more DV in orbit I am guessing this is due to lower gravity losses being greater than inefficient engines. You also have to remember that most of the vacuum engines have 90% of their ISP by 10000 meters\n\u003C/p\u003E\n\u003Cp\u003E\nHas anyone limited their speed at any point in their launch? That is other than of course to keep ap at 80 km\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-07T23:00:09Z\u0022 title=\u002202/07/2016 11:00  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 7, 2016\u003C/time\u003E by Nich\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-02-08T00:04:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222398461\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454885770\u0022 data-ipsquote-userid=\u0022145678\u0022 data-ipsquote-username=\u0022Nich\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n55 minutes ago, Nich said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEvery test I did showed that running an upper stage engine at an inefficient time leaves more DV in orbit I am guessing this is due to lower gravity losses being greater than inefficient engines. You also have to remember that most of the vacuum engines have 90% of their ISP by 10000 meters\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI guess my real point was: is it worthwhile adding fuel tanks above the SRBs, because you\u0027re only burning a minute\u0027s worth of fuel out of them, so they\u0027ll be smaller, less cost-effective tanks, plus you have to pay for a fuel line.\n\u003C/p\u003E\n\u003Cp\u003E\nRegardless, I\u0027m starting to make progress on flight: I got maccollo\u0027s \u0022medium\u0022 rocket up with a slightly lighter payload, for 750 per tonne.\n\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2016-02-08T00:27:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222398461\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454885770\u0022 data-ipsquote-userid=\u0022145678\u0022 data-ipsquote-username=\u0022Nich\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Nich said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEvery test I did showed that running an upper stage engine at an inefficient time leaves more DV in orbit I am guessing this is due to lower gravity losses being greater than inefficient engines. You also have to remember that most of the vacuum engines have 90% of their ISP by 10000 meters\n\u003C/p\u003E\n\u003Cp\u003E\nHas anyone limited their speed at any point in their launch? That is other than of course to keep ap at 80 km\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI limited my thrust, but not my speed (if that makes any sense).\n\u003C/p\u003E\n\u003Cp\u003E\nI throttled back my stage 2 SRBs in order to extend their burn time. That may have limited my design\u0027s efficiency...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0I tried to get mine to \u0022float\u0022 around 45 km without excessive cosine losses until apoapsis was established. This yielded my best efficiency, but I clearly left some on the table since I don\u0027t have MJ.\n\u003C/p\u003E\n\u003Cp\u003E\nI agree with your findings; using upper stages in parallel is a definite no-no at least until their Isp matches that of the SRBs. I tried a Poodle cluster both ways, and the series lifter was far cheaper (though not cheap enough to bother submitting here).\n\u003C/p\u003E\n\u003Cp\u003E\nBest,\u003Cbr\u003E\n-Slashy\n\u003C/p\u003E\n"},{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-02-08T08:57:11Z","Content":"\n\u003Cp\u003E\nI fired up the poodles att about 3-4km, with ruffly corresponds to when their isp reaches that os the SRBs.\n\u003C/p\u003E\n\u003Cp\u003E\nI was thinking about making my rocket twice as big and basically duplicating all parts. \u00A0 This would allow me to remove the last inline decoupler\u00A0\u00A0and replace\u00A0it with small hard points as the twin-boars would be radially attached.\u00A0 This would in theory mean a 0.5 % or 3 funds/ton improvement.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-02-08T15:58:02Z","Content":"\n\u003Cp\u003E\nThe benefit is a bit bigger I think than what you accounted for:\u00A0Doubling up, you can also merge the boosters together. That means a Jumbo instead of two X200-32s, and it means you still only need two fuel lines and two hard-points to the twin-boar stage even though you doubled up. That\u0027s another 920 funds you save, putting you over 1% savings.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s also that you win on upper-stage mass: you save 350kg on that big decoupler, most of the way up to orbit, and\u00A0you can either have twin poodles on a single hard-point (save 50kg to orbit), or asparagus poodles (save a couple tonnes for the last 200m/s). Those mean you can move some mass to the payload.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not counting struts in here, which matter too. Doubling up, you may be able to get away with fewer -- or you might need more, not sure.\n\u003C/p\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2016-02-10T13:45:40Z","Content":"\n\u003Cp\u003E\nnefrums mind sharing the craft file? \u00A0Also mind if I use it in another challange? \u00A0Sorry Goslash your craft has been replaced \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PacThePhoenix","CreatedById":158426,"CreatedDateTime":"2016-02-11T06:19:32Z","Content":"\n\u003Cp\u003E\nUsing your scoring system, I can spend any amount of credits to launch nothing into orbit, giving me a divide-by-zero error and therefore a score of \u003Cb\u003EUNDEFINED\u003C/b\u003E. Does that mean I win? \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2016-02-11T14:05:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222403342\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455171572\u0022 data-ipsquote-userid=\u0022158426\u0022 data-ipsquote-username=\u0022PacThePhoenix\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, PacThePhoenix said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUsing your scoring system, I can spend any amount of credits to launch nothing into orbit, giving me a divide-by-zero error and therefore a score of \u003Cb\u003EUNDEFINED\u003C/b\u003E. Does that mean I win? \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, if you keep the cost of the rocket fixed, as the payload mass approaches zero your funds/tonne approaches infinity. So you\u0027d have\u00A0the worst possible score. Sorry.\n\u003C/p\u003E\n"},{"CreatedByName":"PacThePhoenix","CreatedById":158426,"CreatedDateTime":"2016-02-12T01:32:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222403671\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455199548\u0022 data-ipsquote-userid=\u002276123\u0022 data-ipsquote-username=\u0022Meithan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Meithan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, if you keep the cost of the rocket fixed, as the payload mass approaches zero your funds/tonne approaches infinity. So you\u0027d have\u00A0the worst possible score. Sorry.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI am aware of that. Any amount of payload would result in a score \u0026gt;zero. What I was joking about was launching a rocket without a payload, so the payload mass is zero. No matter what amount of credits you divide by zero, it will always be undefined, which could either be the best or worst score mathematically (probably the latter as undefined is not a number and is, really, cheating) \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Meithan","CreatedById":76123,"CreatedDateTime":"2016-02-12T02:13:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222404674\u0022 data-ipsquote-contentid=\u0022130730\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455240721\u0022 data-ipsquote-userid=\u0022158426\u0022 data-ipsquote-username=\u0022PacThePhoenix\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, PacThePhoenix said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am aware of that. Any amount of payload would result in a score \u0026gt;zero. What I was joking about was launching a rocket without a payload, so the payload mass is zero. No matter what amount of credits you divide by zero, it will always be undefined, which could either be the best or worst score mathematically (probably the latter as undefined is not a number and is, really, cheating) \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell no, my point was that the result of\u00A0dividing a nonzero quantity by zero can\u00A0technically be considered to be infinity, so your score would then be the worst possible, not just undefined.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I\u0027m just joking as well. Let\u0027s not drift too much off-topic.\n\u003C/p\u003E\n"},{"CreatedByName":"RA3236","CreatedById":150734,"CreatedDateTime":"2016-02-12T08:17:00Z","Content":"\n\u003Cp\u003E\nThis is what you call Not-so cheap (AKA it got to JOOL!!! not pictured).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/jRmsp/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-02-28T06:37:29Z","Content":"\n\u003Cp\u003E\nI am getting very, very close to replicating \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022145422\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0022\u003E@Nefrums\u003C/a\u003E\u00A0flight with\u00A0a MechJeb ascent. I just need to lighten it up by a couple tonnes and add a smidge of fuel: an extra T100 on each of the SRBs\u00A0(they were running dry a bit early anyway) and reduce the C7 adapter in the payload to just 308 OX\u00A0and no LF. Then I get (103709 - 25567) / 126.790 = \u003Cstrong\u003E616.31\u003C/strong\u003E funds per tonne. I\u0027ve got 153kg of fuel left in the tanks after circularizing at 80km.\n\u003C/p\u003E\n\u003Cp\u003E\nThe MechJeb parameters: turn immediately (0.1km, 3 m/s) on a 50% turn ending at 13km and 18\u00A0degrees thenceforth, aim for 80.1km. At the last stage, ideally I let time-to-Ap hit 0s exactly at the time that we circularize.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe SRB stage decoupling is exciting, but seems reliable.\n\u003C/p\u003E\n\u003Cp\u003E\nNow I\u0027m working on making a cheaper version by doubling up. Scaling up isn\u0027t as easy as it seems. I got a flight at 612, but there\u0027s a lot of launch failures.\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-03-20T22:16:28Z","Content":"\n\u003Cp\u003E\nOK, finally got something very similar to Nefrums\u0027 ship up to space, in a repeatable way. Here\u0027s the kOS code for it:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n// Off the pad we pitch over to this attitude (degrees)\nset pitchoverAngle to 89.\n\n// \u0022Off the pad\u0022 is defined as up to this vertical speed (m/s)\nset pitchoverSpeed to 5.\n\n// The final orbit goal (meters)\nset targetOrbitAltitude to 80000.\n\n// Pitch up if time to apoapsis falls below here (seconds)\n// Best to make this a smooth curve, so we don\u0027t jerk around.\nfunction targetTTA {\n set targetAltitude to 40000.\n set ttaOnGround to 120.\n set ttaAtAltitude to 20.\n set ratio to max(0, (targetAltitude - ship:apoapsis) / targetAltitude).\n return ratio * ttaOnGround \u002B (1-ratio) * ttaAtAltitude.\n}\n\n// In addition to thrusting enough to maintain your altitude, boost a bit more\n// (m/s^2).\nfunction thrustBoost {\n  // Boost 1m/s^2 until we reach a safe altitude, then reduce to zero at 40km.\n  // Don\u0027t reduce it all at once because it causes us to lurch.\n  set fullBoost to 1.\n  set decayStart to 37000.\n  set decayEnd to 40000.\n  set ratio to (decayEnd - ship:altitude) / (decayEnd - decayStart).\n  return fullBoost * max(0, min(1, ratio)).\n}\n\n// In the lower atmosphere, don\u0027t let angle of attack exceed this (degrees)\n// TODO: make this a smooth curve so we don\u0027t jerk around, but it\u0027s not too\n// bad as-is.\nset maxAoA to 1.5.\nwhen ship:altitude \u0026gt; 10000 then {\n  set maxAoA to 3.\n  when ship:altitude \u0026gt; 15000 then {\n    set maxAoA to 6.\n    when ship:altitude \u0026gt; 20000 then {\n      set maxAoA to 10.\n      when ship:altitude \u0026gt; 25000 then {\n        set maxAoA to 20.\n        when ship:altitude \u0026gt; 30000 then {\n          set maxAoA to 45.\n        }\n      }\n    }\n  }\n}\n\n// Voodoo magic.\nset STEERINGMANAGER:MAXSTOPPINGTIME to 10.\nset STEERINGMANAGER:PITCHTS to 10.\nset STEERINGMANAGER:YAWTS to 4.\n\n///////////////////////////////////////////////////////////////////////////\n// No more settings left. Now it\u0027s just code.\nset mysteer to heading(90,90).\nset mythrottle to 1.\nlock steering to mysteer.\nlock throttle to mythrottle.\n\nfunction steer {\n PARAMETER pitch.\n // Limit the lurch by pointing at most 8 degrees from the current pitch.\n // Otherwise we risk overshooting.\n set currentPitch to 90 - vang(ship:up:vector, ship:facing:forevector).\n set limitedPitch to max(currentPitch - 8, min(currentPitch \u002B 8, pitch)).\n set mysteer to heading(90, limitedPitch).\n}\n\nfunction targetPitch {\n  PARAMETER flightPathAngle.\n\n  set horizontalOrbitSpeed to sqrt(ship:velocity:orbit:mag^2 - ship:verticalSpeed^2).\n\n  // Calculate what pitch we need to hit our time-to-apoapsis target.\n  set localR to ship:altitude \u002B ship:body:radius.\n  // local gravity, points down, m/s^2\n  set localG to ship:body:mu / localR^2.\n  // centripetal acceleration, points up, m/s^2\n  set localC to horizontalOrbitSpeed^2 / localR. \n  // apparent gravity\n  set apparentG to localG - localC.\n  // what fraction of apparent gravity to do we want to cancel out?\n  // Interpolate the time-to-apoapsis target: at 0 TTA, we cancel it all out;\n  // at the targetTTA, we burn horizontally. If we\u0027re falling, TTA is large\n  // but useless; cancel all the local gravity out, and then some.\n  set tta to targetTTA().\n  set targetRatio to (tta - ETA:APOAPSIS) / tta.\n  if (ship:verticalSpeed \u0026lt; 0) {\n    set targetRatio to 1.5.\n  } else if targetRatio \u0026lt; 0 {\n    return 0.\n  }\n  set targetAccel to apparentG * targetRatio \u002B thrustBoost().\n\n  // what pitch achieves that target vertical acceleration?\n  set thrustAccel to ship:availableThrust / ship:mass.\n  if (thrustAccel \u0026lt; targetAccel) {\n    return 90.\n  } else {\n    return arcsin(targetAccel / thrustAccel).\n  }\n}\n\n// on launch, go straight up until we reach 5 m/s: until then our direction\n// readouts are wonky\nuntil ship:verticalSpeed \u0026gt; pitchoverSpeed {\n  print \u0022pitch-over\u0022.\n  steer(pitchoverAngle).\n}\n\n// from then on, be smarter.\nuntil ship:apoapsis \u0026gt; targetOrbitAltitude {\n  // Calculate what direction is \u0022prograde\u0022\n  set flightPathAngle to 90 - vang(ship:up:vector, ship:velocity:surface).\n\n  // Calculate what direction we want to point to maintain TTA\n  set ttaAngle to targetPitch(flightPathAngle).\n\n  // Aim for the TTA but mind the angle of attack\n  set pitch to min(flightPathAngle \u002B maxAoA, max(flightPathAngle - maxAoA, ttaAngle)).\n  steer(pitch).\n\n  // log what we\u0027re doing\n  set progradeDeg to round(flightPathAngle, 2).\n  set ttaDeg to round(ttaAngle, 2).\n  set pitchDeg to round(pitch, 2).\n  print \u0022pitch \u0022 \u002B pitchDeg \u002B \u0022: prograde (\u0022 \u002B progradeDeg \u002B \u0022) / TTA (\u0022 \u002B ttaDeg \u002B \u0022)\u0022.\n}\n\nprint \u0022coasting to apoapsis\u0022.\n\nuntil ship:altitude \u0026gt; 70000 {\n  set flightPathAngle to 90 - vang(ship:up:vector, ship:velocity:surface).\n  steer(flightPathAngle).\n  if ship:apoapsis \u0026lt; targetOrbitAltitude {\n    set mythrottle to 0.1.\n  } else {\n    set mythrottle to 0.\n  }\n}\n\nset mythrottle to 0.\n\n// make sure we are at zero throttle when we release the control back to the\n// pilot.\nset SHIP:CONTROL:PILOTMAINTHROTTLE to 0.\n\nprint \u0022out of atmosphere; control released\u0022.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI reliably\u00A0end with 5 m/s. I must have a tiny amount less payload onboard\u00A0than \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022145422\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0022\u003E@Nefrums\u003C/a\u003E\u00A0does -- or an extra strut or something --because I get 603 funds per tonne for my build.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m curious if this kOS script plays well with other spacecraft. I\u0027ll have to try!\n\u003C/p\u003E\n\u003Cp\u003E\nBy the way, I recommend turning on mechjeb auto staging while running this script, because I didn\u0027t implement it.\n\u003C/p\u003E\n"},{"CreatedByName":"max_creative","CreatedById":159640,"CreatedDateTime":"2016-03-23T02:33:54Z","Content":"\n\u003Cp\u003E\nI did the exact opposite... A super inificent launch with costs that give mort seizures and it barely send a 200 ton station to orbit.\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-04-02T22:28:23Z","Content":"\n\u003Cp\u003E\nSome improvements to the program:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n// The final orbit goal (meters ASL)\nset targetOrbitAltitude to 80000.\n\n// The initial orbit goal (meters ASL)\nset targetInitialOrbit to 38000.\n\n// The curve that describes our pitch depending on altitude.\n// Altitude is in meters, target is in degrees; at that altitude, we want\n// to hit that flight path angle.\n// Piecewise linear curve maps altitude to degrees pitch.\nset gravityTurnPitchAltitude to list( 0, 500, 4000, 5500, 10000, 15000, 20000, 25000, targetInitialOrbit).\nset gravityTurnPitchAngle    to list(90,  75,   60,   45,    30,    20,    17,    15, 0).\n\n// Below this altitude, do the gravity turn without worrying about TTA (meters)\nset lowAtmosphereAltitude to 10000.\n\n// Ensure that we never get to less than this amount of time until we reach\n// apoapsis, taking into account that we are thrusting upwards. The estimated\n// time to apoapsis can freely dive below this, because it assumes we don\u0027t\n// thrust upwards at all. (seconds)\nset targetTTA to 20.\n\n// In the lower atmosphere, don\u0027t let angle of attack exceed certain bounds.\n// Piecewise linear curve maps altitude to degrees angle of attack bound.\nset maxAoAAltitude to list(0, 1000, 10000, 15000, 20000, 25000, 30000, 70000).\nset maxAoAAngle    to list(5,  1.5,   1.5,     3,     6,    10,    20,    45).\n\n// Voodoo magic.\nset STEERINGMANAGER:MAXSTOPPINGTIME to 10.\nset STEERINGMANAGER:PITCHTS to 10.\nset STEERINGMANAGER:YAWTS to 10.\n\n///////////////////////////////////////////////////////////////////////////\n// No more settings left. Now it\u0027s just code.\nset mysteer to heading(90,90).\nset mythrottle to 1.\nlock steering to mysteer.\nlock throttle to mythrottle.\n\nfunction lerp {\n  parameter t.\n  parameter min.\n  parameter max.\n  parameter minY.\n  parameter maxY.\n  return (t - min) / (max - min) * (maxY - minY) \u002B minY.\n}\n\nfunction curve {\n  parameter t.\n  parameter keys.\n  parameter values.\n\n  from {local i is 1.}\n  until i = keys:length\n  step { set i to i \u002B 1. }\n  do {\n    if t \u0026lt; keys[i] {\n      return lerp(t, keys[i-1], keys[i], values[i-1], values[i]).\n    }\n  }\n  return values[keys:length - 1].\n}\n\nfunction steer {\n PARAMETER pitch.\n // Limit the lurch by pointing at most 8 degrees from the current pitch.\n // Otherwise we risk overshooting.\n set currentPitch to 90 - vang(ship:up:vector, ship:facing:forevector).\n set limitedPitch to max(currentPitch - 8, min(currentPitch \u002B 8, pitch)).\n set mysteer to heading(90, limitedPitch).\n}\n\nfunction gravityTurnPitch {\n  return curve(ship:altitude, gravityTurnPitchAltitude, gravityTurnPitchAngle).\n}\n\nfunction targetPitchForAcceleration {\n  parameter targetAccel.\n  set thrustAccel to ship:availableThrust / ship:mass.\n  if (thrustAccel \u0026lt; targetAccel) {\n    return 90.\n  } else if (targetAccel \u0026lt; 0) {\n    return 0.\n  } else {\n    return arcsin(targetAccel / thrustAccel).\n  }\n}\n\n// Compute the apparent gravity (gravity minus centripetal acceleration)\nfunction apparentGravity {\n  set horizontalOrbitSpeed to sqrt(ship:velocity:orbit:mag^2 - ship:verticalSpeed^2).\n  set localR to ship:altitude \u002B ship:body:radius.\n  set localG to ship:body:mu / localR^2.\n  set localC to horizontalOrbitSpeed^2 / localR.\n  return localG - localC.\n}\n\n// How much vertical acceleration do we need to keep apoapsis ahead of us?\nfunction targetAccelToMaintainTTA {\n  // What downward acceleration can we tolerate? Enough to wipe out\n  // our vertical speed in TTA seconds. That means: v = (g - a) t\n  // solve for a:  a = g - v/t\n  // This works equally well for negative vertical speed.\n  return apparentGravity() - (ship:verticalSpeed / targetTTA).\n}\n\n\n// How much acceleration do we need in order to fight gravity just enough\n// that our apoapsis, including thrust, will reach the initial orbit altitude?\nfunction targetAccelToEstablishApoapsis {\n  // Move long names into mathy ones so I can describe things:\n  set Apn to targetInitialOrbit.\n  set Ap to ship:apoapsis.\n\n  // If we already reached the Ap for initial orbit, we have nothing to say.\n  if (Ap \u0026gt; Apn) { return 0. }\n\n  // Apparent gravity is pulling us down at a rate of g m/s^2.\n  // Thrust is pushing us up at a rate of T m/s^2.\n  // Overall we\u0027re losing vertical speed at a = (g - T).\n  // The amount of vertical speed to lose is v.\n  // That means our time to apoapsis is t = v/a.\n  // During that time we\u0027ll go (at^2/2) m up, which equals 0.5 v^2/a\n  // We need to go up by (Apn - h) m:\n  //  (Apn-h) = 0.5 v^2/a\n  //  a = 0.5 v^2 / (Apn-h)\n  //  T = g - 0.5 v^2 / (Apn-h)\n  // Setting our thrust to T will guarantee we hit apoapsis.\n  //\n  // This ignores drag, loss of mass, staging, horizontal acceleration,\n  // and some more minor sources of error. Most of them would argue for\n  // a flatter pitch; staging can argue for either way.\n  //\n  // This assumes v is positive; negative v is handled by the TTA function.\n\n  return apparentGravity() - 0.5 * ship:verticalSpeed^2 / (Apn - ship:altitude).\n}\n///////////////////////////////////////////////////////////////////////////\n// Flight control!\n\nuntil ship:apoapsis \u0026gt; targetOrbitAltitude {\n  // At low speed, just go up; \u0022prograde\u0022 doesn\u0027t exist yet.\n  if (ship:velocity:surface:mag \u0026lt; 1) { set flightPathAngle to 90. }\n\n  // Calculate what direction is prograde.\n  set flightPathAngle to 90 - vang(ship:up:vector, ship:velocity:surface).\n\n  // Generally, follow the gravity turn.\n  set targetPitch to gravityTurnPitch().\n  set targetReason to \u0022gravity turn\u0022.\n\n  // Once we get into the upper atmosphere, start adjusting for\n  // TTA and actually reaching the initial orbit.\n  if (ship:altitude \u0026gt; lowAtmosphereAltitude) {\n    // Check how much we need to accelerate to make sure we get to our\n    // staging orbit, or how much to avoid overshooting the apoapsis.\n    set ttaAccel to targetAccelToMaintainTTA().\n    set apAccel to targetAccelToEstablishApoapsis().\n    set accelPitch to targetPitchForAcceleration(max(ttaAccel, apAccel)).\n    // If it\u0027s more than the nominal flight plan allows for, pull up!\n    if (accelPitch \u0026gt; targetPitch) {\n      set targetPitch to accelPitch.\n      if (ttaAccel \u0026gt; apAccel) {\n        set targetReason to \u0022TTA\u0022.\n      } else {\n        set targetReason to \u0022apoapsis\u0022.\n      }\n    }\n  }\n\n  // Stay within angle-of-attack bounds and never pitch below the horizon.\n  set maxAoA to curve(ship:altitude, maxAoAAltitude, maxAoAAngle).\n  set aoaLimitedPitch to min(flightPathAngle \u002B maxAoA, max(flightPathAngle - maxAoA, targetPitch)).\n  set pitch to max(0, aoaLimitedPitch).\n  steer(pitch).\n\n  // log what we\u0027re doing\n  set pitchDeg to round(pitch, 2).\n  print \u0022pitch \u0022 \u002B pitchDeg \u002B \u0022 =\u0026gt; \u0022 \u002B targetReason \u002B \u0022 \u0022 \u002B round(targetPitch, 2) \u002B \u0022 degrees\u0022.\n}\n\nprint \u0022coasting to apoapsis\u0022.\nuntil ship:altitude \u0026gt; 70000 {\n  set flightPathAngle to 90 - vang(ship:up:vector, ship:velocity:surface).\n  steer(flightPathAngle).\n  if ship:apoapsis \u0026lt; targetOrbitAltitude \u002B 10 {\n    set mythrottle to 0.05.\n  } else {\n    set mythrottle to 0.\n  }\n}\n\n// make sure we are at zero throttle when we release the control back to the\n// pilot.\nset mythrottle to 0.\nset SHIP:CONTROL:PILOTMAINTHROTTLE to 0.\n\nprint \u0022out of atmosphere; control released\u0022.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThis gets me a smoother flight\u00A0and 12 m/s remaining when I hit 70km:\u00A0\u003Cimg alt=\u0022eTc8jRC.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/eTc8jRC.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFor some reason I can\u0027t hit enter to make paragraphs... I love this comment software.\n\u003C/p\u003E\n\u003Cp\u003E\nOh but now I can, after reloading.\n\u003C/p\u003E\n\u003Cp\u003E\nSo as you can see, 12 m/s in the fuel tanks, 36 m/s to circularize at 80 km.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022145422\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0022\u003E@Nefrums\u003C/a\u003E\u00A0mentioned being about 30 m/s from empty upon reaching a 80x1km orbit. To get to 80x38 from there costs about 35 m/s, so I\u0027m 47 m/s more efficient than their flight plan. Woot! I have difficulty believing I can do substantially better.\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the code: there are three bits. I start the ascent with just a fixed turn profile, nothing fancy, but pretty steep: I cross 45 degrees pitch at just 5500m altitude, and by 10km I\u0027m pushing down to get to 30 degrees.\n\u003C/p\u003E\n\u003Cp\u003E\nAfterwards, what takes over is code to make sure that when I get to apoapsis, I\u0027ll be at 38km. The logic is: figure out how much vertical thrust is needed so that we reach 38km before vertical velocity goes to zero.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, near apoapsis, I thrust upwards just enough that am guaranteed never to get to within 20s of actually reaching apoapsis. Improving this logic -- approaching apoapsis a bit more -- might save a few more m/s.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-02T22:46:25Z\u0022 title=\u002204/02/2016 10:46  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 2, 2016\u003C/time\u003E by numerobis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nefrums","CreatedById":145422,"CreatedDateTime":"2016-04-03T08:37:04Z","Content":"\n\u003Cp\u003E\nTry to keep as little angle of attack as possible when below 30 km as drag increases allot if the rocket is not pointing pro grade. \u00A0I used prograde lock for the most of the first and second stage.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso you can save a few funds/ton by attaching the struts from the payload and out rather than the other way, \u00A0As the mass of the strut then stays with the payload\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-04-03T13:47:52Z","Content":"\n\u003Cp\u003E\nIndeed; my script limits AoA to 1.5 degrees below 10km\u00A0and eases up after.\n\u003C/p\u003E\n\u003Cp\u003E\nThere isn\u0027t a lot left to save on drag: of that 144 m/s, nearly 100 m/s is in the first 10km. There\u0027s a lot more to save on gravity losses, which means pitching over more steeply at the start so I get more horizontal velocity from the SRBs.\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t program in your trick of starting the poodles at altitude. The spacecraft has about 3200 m/s of vacuum fuel packed on board\u00A0and ends up burning\u00A03092 m/s, so that\u0027s 100 m/s lost to atmospheric pressure. But there\u0027s the risk of extra\u00A0gravity loss from having an even lower TWR at the start.\n\u003C/p\u003E\n"},{"CreatedByName":"max_creative","CreatedById":159640,"CreatedDateTime":"2016-04-04T04:30:43Z","Content":"\n\u003Cp\u003E\nI sent a cheap oresat to orbit on an SRB and a LF stage today. I can check I can check the cost and weight and I think they are both pretty low.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-04T04:31:12Z\u0022 title=\u002204/04/2016 04:31  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 4, 2016\u003C/time\u003E by max_creative\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-04-12T05:00:33Z","Content":"\n\u003Cp\u003E\nI just circularized \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022145422\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/145422-nefrums/\u0022\u003E@Nefrums\u003C/a\u003E\u0027 build (plus, indeed, two extra struts) at 80km.\n\u003C/p\u003E\n\u003Cp\u003E\nTwo key bits:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nGo higher. Establish the initial orbit at about 42km. Lower is not necessarily better, because of the high drag losses on the low-thrust stage.\n\u003C/li\u003E\n\u003Cli\u003E\nTurn off the poodles for 26s in the lower reaches, so that when they\u0027re on they are at higher efficiency. I kept them on for the first 10s, off for 26s, then on again for the rest of the ride. Why 26s is that this makes the SRBs run out of fuel at the same time as the fuel tanks they are pushing. Why have them on for 10s is gut instinct --\u00A0I should optimize that -- but you get a huge benefit from marginal thrust at the very start.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThere\u0027s a few more minor bits in there as well.\n\u003C/p\u003E\n\u003Cp\u003E\nI reach the top of the atmosphere in an 80x42km orbit, with a bit over 32 m/s in the tanks. Circularizing that orbit costs a bit over 32 m/s. Coincidence!\n\u003C/p\u003E\n\u003Cp\u003E\nThe spacecraft I have gets 603.57 funds per tonne. Shifting that excess fuel into the payload would save me money for the fuel, plus increase the payload, so that I\u0027d be at exactly 596 funds per tonne.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/Fi4Fd/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"KerikBalm","CreatedById":91917,"CreatedDateTime":"2016-04-16T16:31:15Z","Content":"\n\u003Cp\u003E\nGeez... this thread is making it hard to beat the cost with an STS style launcher... and a whole lot more convenient if no recovery is needed to get that cost.\n\u003C/p\u003E\n\u003Cp\u003E\nMy previous STS style was just under 700 per ton, seeing this thread, I designed one to take a bigger payload (and make use of the vector, since my old design was pre-vector).\n\u003C/p\u003E\n\u003Cp\u003E\nI filled the mk3 cargobay with mostly ore tanks, and some other \u0022stuff\u0022 to get to 72.31 tons\n\u003C/p\u003E\n\u003Cp\u003E\nSRBs cost 19,040 -\u0026gt; no recovery\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming all LFO is consumed (not quite true): 17,029 funds for fuel\n\u003C/p\u003E\n\u003Cp\u003E\nExternal tank cost: 22,490\n\u003C/p\u003E\n\u003Cp\u003E\nThe external tank is recoverable, but the sandbox tests didn\u0027t tell me the recovery %\n\u003C/p\u003E\n\u003Cp\u003E\nIt typically lands near the shores accross the ocean from KSC\n\u003C/p\u003E\n\u003Cp\u003E\nCost per ton at 50% recovery (of ET, 100% of orbiter): 654 funds/ton\n\u003C/p\u003E\n\u003Cp\u003E\nCost per ton at 75% recovery (of ET, 100% of orbiter): 576 funds/ton\n\u003C/p\u003E\n\u003Cp\u003E\nThere doesn\u0027t seem to be much room for a partially disposable system to fit between a SSTO and a disposable.\n\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2016-04-18T03:45:41Z","Content":"\n\u003Cp\u003E\nYeah; on paper I can pretty much match your 576. In game it\u0027s falling apart on the pad, or shortly after liftoff.\n\u003C/p\u003E\n"}]}