{"TopicId":205063,"ForumId":34,"TopicTitle":"[KSP \u0026gt;= 1.3.1] Distant Object Enhancement (DOE) /L - Under new Management - 2.1.1.16 - 2024-0428","CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2021-09-30T17:05:47Z","PageNum":8,"Articles":[{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2023-01-18T09:15:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224220676\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221673962471\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nso I postponed it to the next weekend!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo worries. You work hard enough man.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224220676\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221673962471\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nif you are looking into the Sun, or if you are looking into the Planet your are orbiting from a reasonable distance, the sky is dimmed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was at about 40 km altitude orbit of Moho when I noticed it. Maybe that\u0027s an extreme condition because the sun is so bright there.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2023-02-12T21:49:29Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0one more weird thing for 2.1.1.11r2 on KSP 1.12.3... The first time a flight scene loads, in high sun orbit (between Moho and Kerbin), planets dim regardless of the direction of the sun. Planets are only visible near the edge of my monitor. It doesn\u0027t matter where they are in the sky. It does dim them if I\u0027m looking at the sun, meaning that part is working correctly I think.\n\u003C/p\u003E\n\u003Cp\u003E\nBUT going to the map view and back to craft view fixes this... then looking away from the sun, planets are visible again. So there\u0027s some initialization issue I think.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-12T22:53:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231509\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676238569\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E\u00A0one more weird thing for 2.1.1.11r2 on KSP 1.12.3... The first time a flight scene loads, in high sun orbit (between Moho and Kerbin), planets dim regardless of the direction of the sun. Planets are only visible near the edge of my monitor. It doesn\u0027t matter where they are in the sky. It does dim them if I\u0027m looking at the sun, meaning that part is working correctly I think.\n\u003C/p\u003E\n\u003Cp\u003E\nBUT going to the map view and back to craft view fixes this... then looking away from the sun, planets are visible again. So there\u0027s some initialization issue I think.mm\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t have a 1.12.3 available for testing anymore, so I gave this a try on 1.12.5 (and, of course, on 1.4.3 too - why not? \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E ).\n\u003C/p\u003E\n\u003Cp\u003E\nThis is what I did:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nLaunched the game, created a new sandbox called \u0022test-doe\u0022\n\u003Col\u003E\n\u003Cli\u003E\nthis step, obviously, is only executed the first time\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nOpened the DOE Settings, clicked on Reset to Defaults and made sure the Flares and the SkyBox Dimming are enabled. Also enabled the Show Names on MouseOver. Closed the Settigns after clicking Apply.\n\u003C/li\u003E\n\u003Cli\u003E\nOn \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, loaded the Ion Powered Space Probe\n\u003C/li\u003E\n\u003Cli\u003E\nLaunched it into LaunchPad\n\u003C/li\u003E\n\u003Cli\u003E\nCheated it into a 6000000000 (9 zeros) orbit around the Sun.\n\u003C/li\u003E\n\u003Cli\u003E\nMade sure to move the camera to be between the Sun and the Probe (so the Sun was \u0022behind me\u0022 for sure), and at the same time be able to see the flare of some planed, in my case, Duna.\n\u003C/li\u003E\n\u003Cli\u003E\nQuit the game to Desktop\n\u003C/li\u003E\n\u003Cli\u003E\nReloaded the game, reloaded the savegame, got into Tracking Station, selected the probe and clicked on Fly.\n\u003C/li\u003E\n\u003Cli\u003E\nNothing wrong detected - the Sky is not dimmed, and the flares are visible.\n\u003Col\u003E\n\u003Cli\u003E\nMoving the camera around worked as expected - things got dimmed when the Sun appeared, and got back to be visible as the Sun is out of the view.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nI repeated this procedure on 1.4.3\u00A0\u003Cstrong\u003Eand\u003C/strong\u003E\u00A01.12.5.\n\u003C/p\u003E\n\u003Cp\u003E\nI think you may be experiencing some 3rd party conflict, perhaps? Or something that is mangling with the game\u0027s life cycles?\n\u003C/p\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2023-02-13T06:36:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231530\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676242404\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think you may be experiencing some 3rd party conflict, perhaps? Or something that is mangling with the game\u0027s life cycles?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for spending time on this... I have a fresh 1.12.5 install and also confirmed it works normally there with a similar sequence you did. The planet flares work normally the first time loading a craft. I do have a lot of mods on my main 1.12.3 install and there are errors so IDK. Ignoring it for now.\n\u003C/p\u003E\n\u003Cp\u003E\nNoticed it required \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E but load screen says zero patches installed...? It\u0027s obviously working though.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-13T06:39:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231607\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676270172\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNoticed it required \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E but load screen says zero patches installed...? It\u0027s obviously working though.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOuch, I forgot about! It was going to be needed for some customisations, but I ended up not implementing them (yet) and forgot the thing there!\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the heads up!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231607\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676270172\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI do have a lot of mods on my main 1.12.3 install and there are errors so IDK. Ignoring it for now.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s the problem with errors on KSP: they break the chain of events of the life cycle of some components.\n\u003C/p\u003E\n\u003Cp\u003E\nAs an example, let\u0027s suppose we have a one part vessel with 3 modules: ModuleA, ModuleB, ModuleC.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen KSP fires up the vessel, it does something more or less like this:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nCall VesselModule\u0027s OnStart\n\u003C/li\u003E\n\u003Cli\u003E\nCall the OnStart of every Module:\n\u003Col\u003E\n\u003Cli\u003E\nModuleA.OnStart()\n\u003C/li\u003E\n\u003Cli\u003E\nModuleB.OnStart()\n\u003C/li\u003E\n\u003Cli\u003E\nModuleC.OnStart()\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nRelease control to the GameEngine.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nAnd the GameEngine, so, loops more or less this way:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nFor every vessel in the physics range:\n\u003Col\u003E\n\u003Cli\u003E\nCall \u00A0its FixedUpdate\n\u003C/li\u003E\n\u003Cli\u003E\nFor every Part on the Vessel:\n\u003Col\u003E\n\u003Cli\u003E\nCalls its FixedUpdate,\u00A0i.e:\n\u003Col\u003E\n\u003Cli\u003E\nModuleA.FixedUpdate()\n\u003C/li\u003E\n\u003Cli\u003E\nModuleB.FixedUpdate()\n\u003C/li\u003E\n\u003Cli\u003E\nModuleC.FixedUpdate()\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nNow imagine: each Module\u0027s OnStart initialises some data needed by its respective FixedUpdate, right?\n\u003C/p\u003E\n\u003Cp\u003E\nSo, what\u0027s happens if there\u0027s an Exception while handling the ModuleB.OnStart()? Well, the ModuleC.OnStart() will not be called, because the thread was killed while calling ModuleB.OnStart()! So ModuleB.FixedUpdated will probably be screwed, and ModuleC.FIxedUpdate will\u00A0\u003Cstrong\u003Esurely\u003C/strong\u003E\u00A0be royally screwed - besides not being its fault ModuleB killed the thread on the OnStart phase.\n\u003C/p\u003E\n\u003Cp\u003E\nThe same happens if ModuleB.FixedUpdate() throws an Exception - the thread is killed, and the ModuleC.FixedUpdate() is never called because of that.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the reason we should not play KSP when there\u0027re exceptions being thrown on the KSP.log. Kraken knows what\u0027s not being called because of that.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-13T06:50:29Z\u0022 title=\u002202/13/2023 06:50  AM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 13, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EBrute force post merging.\n\u003C/span\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2023-02-13T08:36:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231609\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676270397\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is the reason we should not play KSP when there\u0027re exceptions being thrown on the KSP.log. Kraken knows what\u0027s not being called because of that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah... I know... but it just gets overwhelming because either there are so many mods it\u0027s hard to pinpoint or the authors are not responsive so we have to hope for the best or not use some mods. *sigh* at least I\u0027m remembering to back up my save files... this one is now 26 MB. I\u0027m glad you\u0027re here and trying to help with individual troubleshooting.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPresently I\u0027m working on a new JNSQ build - up to 74 mods. So I\u0027ll see how that behaves. BTW when installing DOE/L with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, it autoinstalls the DOE/L default config.\u00A0 I see another DOE config for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E but not JNSQ.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-13T08:44:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231622\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676277376\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI see another DOE config for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E but not JNSQ.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s something we can work on! Let\u0027s talk about it on the next WeekEnd!\n\u003C/p\u003E\n\u003Cp\u003E\nIn the end, it\u0027s really simple: a list of bodies by name and the RGB colours you want their flare. Check this file:\u00A0\u003Ca href=\u0022https://github.com/net-lisias-ksp/DistantObject/blob/master/GameData/DistantObject/PlanetColors.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/DistantObject/blob/master/GameData/DistantObject/PlanetColors.cfg\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2023-02-14T07:32:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231609\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676270397\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/12/2023 at 10:39 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is the reason we should not play KSP when there\u0027re exceptions being thrown on the KSP.log. Kraken knows what\u0027s not being called because of that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI mean on one hand you are correct, but on the other hand, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E volumetric clouds beta and parallax both throw internal exceptions on every single scene change, and I\u0027m not giving my pretty kerbin up.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-14T07:33:19Z\u0022 title=\u002202/14/2023 07:33  AM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 14, 2023\u003C/time\u003E by R-T-B\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-14T08:06:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232046\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676359964\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI mean on one hand you are correct, but on the other hand, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E volumetric clouds beta and parallax both throw internal exceptions on every single scene change, and I\u0027m not giving my pretty kerbin up.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nChoose your poison! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E beta is, well, beta. You know you are risking your savegames using it. And since the thing is being actively developed, such problems are really expected to happen.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EParallax is a bit more hairy, because it\u0027s being used as stable nowadays. IMHO, someone should at least handle that exceptions in a graceful way to make sure this is not aborting any threads. A\u00A0\u003Cstrong\u003Elot\u003C/strong\u003E\u00A0of weird issues\u00A0\u003Cstrong\u003Emay\u003C/strong\u003E\u00A0be related to it, not only here on DOE or even TweakScale, but on some others too. Including efforts to fix KSP internal problems.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s no way to keep the game \u003Cb\u003Ehealthy\u003C/b\u003E\u00A0with threads being murdered by unhandled Exceptions. This may be one of the reasons so many people are getting screwed on KSP while gaming, with crafts suddenly being saved missing modules and when reloaded, missing the configurations. I have diagnosed at least\u00A0\u003Cstrong\u003Eone\u003C/strong\u003E\u00A0case in which some (but not all) satellites on a savegame lose all communications: by inspecting the savegame, the affected crafts had lose the\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EModuleDataTransmitter\u003C/span\u003E and the values were reinjected in a way that made them unuseable. This must had happened in a single gaming session, because some 2 or 3 crafts had the problem - the other ones probably had never be unrailled on the doomed gaming session, so they were preserved.\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, if you don\u0027t mind risking your savegames, it\u0027s your choice. But users\u00A0\u003Cstrong\u003Eneed to have the same choice\u003C/strong\u003E\u00A0too - and users can\u0027t choose what they don\u0027t know about - and they are not skilled techinicians as both of us.\n\u003C/p\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2023-02-14T09:23:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232052\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676361961\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003Eand they are not skilled techinicians as both of us.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAye.\n\u003C/p\u003E\n\u003Cp\u003E\nFWIW I\u0027ve looked at both those exceptions and they effectively happen in the scene cleanup section of the code, in their own neat little method, so at worse, a minor memory leak.\u00A0 But me?\u00A0 I try-catched them with dnspy to stop them from bugging me... lol.\n\u003C/p\u003E\n\u003Cp\u003E\nMost users are probably safe using those mods but thats kind of the exception, the advice in general is sound:\u00A0 Don\u0027t just ignore a mile long exception list.\u00A0 And my god have I seen error reports where people do.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-14T09:25:00Z\u0022 title=\u002202/14/2023 09:25  AM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 14, 2023\u003C/time\u003E by R-T-B\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gotmachine","CreatedById":163039,"CreatedDateTime":"2023-02-14T18:52:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231609\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676270397\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/13/2023 at 7:39 AM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhat\u0027s happens if there\u0027s an Exception while handling the ModuleB.OnStart()? Well, the ModuleC.OnStart() will not be called,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNope. Managed exceptions happening in the UnityEngine.MonoBehaviour \u0022message\u0022 methods (Awake, Start, FixedUpdate, Update, etc) are always catched.\u003Cbr\u003E\nSame for the PartModule major virtual methods (OnAwake, OnStart, OnFixedUpdate, OnUpdate, etc), each individual call is wrapped in a try/catch block.\u003Cbr\u003E\nSaid otherwise, triggering an exception in those methods will only affect the problematic call, all subsequent calls on other objects will run\u00A0 as usual.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-14T20:50:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232226\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676400760\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNope. Managed exceptions happening in the UnityEngine.MonoBehaviour \u0022message\u0022 methods (Awake, Start, FixedUpdate, Update, etc) are always catched.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo the problems\u00A0 happen when\u00A0 the uncaugh exceptions happens on KSP overriden methods only?\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EOnSave\u003C/span\u003E\u00A0\u003Cstrong\u003Efor sure\u003C/strong\u003E\u00A0screws the whole game when it happens, preventing even the UI from working once it happens.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232060\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676366627\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFWIW I\u0027ve looked at both those exceptions and they effectively happen in the scene cleanup section of the code, in their own neat little method, so at worse, a minor memory leak.\u00A0 But me?\u00A0 I try-catched them with dnspy to stop them from bugging me... lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOn exactly what method this is happening? We have information that Unity\u0027s \u0022callbacks\u0022 are caughthing exceptions and preventing the thread\u0027s murder, but I have empirical evidences that at least the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule.OnSave\u003C/span\u003E\u00A0royally screws the whole game when an uncaught exceptions os thrown...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-14T20:50:44Z\u0022 title=\u002202/14/2023 08:50  PM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 14, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EGrammars... (Sigh)\n\u003C/span\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2023-02-14T20:55:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232266\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676407810\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOn exactly what method this is happening?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOnDestroy(), IIRC.\u00A0 If I am remembering right: The problem is a null test that is done.\u00A0 One must remember in Unity land, things aren\u0027t always null when they are dead, or might even not be dead and show as null, null is just a bad test!\n\u003C/p\u003E\n\u003Cp\u003E\nExplaining why goes into the origins of Unity and how C# and C\u002B\u002B get merged, but it\u0027s the truth.\n\u003C/p\u003E\n\u003Cp\u003E\nI think scatterer once had a similar issue but it was fixed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-14T20:57:58Z\u0022 title=\u002202/14/2023 08:57  PM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 14, 2023\u003C/time\u003E by R-T-B\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-02-15T01:00:19Z","Content":"\n\u003Cp\u003E\nSo I did what I usually do: \u003Cstrong\u003EI don\u0027t guess, I measure\u003C/strong\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nWith this project\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/ScrewMeUp/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/ScrewMeUp/releases\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\none can \u003Cstrong\u003Eselectivelly\u003C/strong\u003E\u00A0induce the injection of NRE\u0027s on the different points of the Unity\u0027s and KSP\u0027s Life Cycles - and so measure the consequences on the current gaming. I don\u0027t really have to explain that this thing can\u00A0\u003Cstrong\u003Eroyally\u003C/strong\u003E\u00A0screw you over, so don\u0027t even consider using it on anything that you would remotely like to use again after!\n\u003C/p\u003E\n\u003Cp\u003E\nThe M.O. is simple: on any scene, open the \u003Cabbr title=\u0022Part Action Window\u0022\u003E\u003Cabbr title=\u0022Part Action Window\u0022\u003EPAW\u003C/abbr\u003E\u003C/abbr\u003E for the selected \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EstrutCube\u003C/span\u003E and activate the \u0022\u003Cem\u003EScrewer\u0022\u003C/em\u003E you are interested on checking (KSP or Unity). Then look into the KSP.log for situations where the \u0022\u003Cem\u003EScrewed\u003C/em\u003E\u0022 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003E doesn\u0027t logs an entry telling its is fine. Failing to log \u0022it\u0027s fine\u0022 indicates a situation where the NRE had screwed the Life Cycle of the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nOnly the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EstrutCube\u003C/span\u003E\u00A0(\u003Cem\u003ECubic Octagonal Strut\u003C/em\u003E) was patched with these \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule\u003C/span\u003Es. Only crafts using it will be subject to the problem, we would need to inject these Modules on more complex parts (including with 3rd parties modules as TweakScale) to completely appreciate the consequences - but, hey, this is a start.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditional\u00A0\u003Cstrong\u003Every important info\u003C/strong\u003E\u00A0on spoiler:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 src=\u0022https://www.youtube-nocookie.com/embed/SGyOaCXr8Lw?feature=oembed\u0022 title=\u0022The Rolling Stones - Start Me Up - Official Promo\u0022 width=\u0022200\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp style=\u0022color:rgb(87,96,106);font-size:16px;margin-left:40px;\u0022\u003E\n\u003Cem\u003EScrew me up!!!\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(87,96,106);font-size:16px;margin-left:40px;\u0022\u003E\n\u003Cem\u003EIf you screws me up\u003Cbr\u003E\nIf you screws me up, I\u0027ll never stop\u003Cbr\u003E\nIf you screws me up\u003Cbr\u003E\nIf you screws me up, I\u0027ll never stop\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(87,96,106);font-size:16px;margin-left:40px;\u0022\u003E\n\u003Cem\u003EI\u0027ve been running hot\u003Cbr\u003E\nYou got me wrecking gonna blow my top\u003Cbr\u003E\nIf you screws me up\u003Cbr\u003E\nIf you screws me up, I\u0027ll never stop\u003Cbr\u003E\nNever stop, never stop, never stop\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022color:rgb(87,96,106);font-size:16px;margin-left:40px;\u0022\u003E\n\u003Cem\u003EYou make a grown man cry\u003Cbr\u003E\nYou make a grown man cry\u003Cbr\u003E\nYou make a grown man cry\u003C/em\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232226\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676400760\u0022 data-ipsquote-userid=\u0022163039\u0022 data-ipsquote-username=\u0022Gotmachine\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Gotmachine said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNope. Managed exceptions happening in the UnityEngine.MonoBehaviour \u0022message\u0022 methods (Awake, Start, FixedUpdate, Update, etc) are always catched.\u003Cbr\u003E\nSame for the PartModule major virtual methods (OnAwake, OnStart, OnFixedUpdate, OnUpdate, etc), each individual call is wrapped in a try/catch block.\u003Cbr\u003E\nSaid otherwise, triggering an exception in those methods will only affect the problematic call, all subsequent calls on other objects will run\u00A0 as usual.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot \u003Cu\u003Eentirely\u003C/u\u003E true - at least, depending from what you call \u0022major\u0022. At least some methods are screwing KSP when an uncaught Exception happens, \u003Cstrong\u003Eon the very least\u003C/strong\u003E\u00A0we have the\u00A0already known \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPartModule.OnSave\u003C/span\u003E that can halt the whole User Interface when happens. Interesting enough the \u0022damage\u0022 is not permanent, if you disable the \u0022Screwing\u0022 the game goes back to normal. Not a bad thing, not a bad thing at all.\n\u003C/p\u003E\n\u003Cp\u003E\nSee above.\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t mapped exactly what ones are screwing the game and where, this is Research in Progress (something to be done on a longer Week End to say the true), but it\u0027s enough to say that it can impede the part from being loaded on recent KSPs if the test is activated on the Loading Scene (by setting true on the patch that inject the \u003Cem\u003EScrewer\u003C/em\u003E\u00A0module into the part) - on some older KSPs, it plain crash the game to CTD.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally, I didn\u0027t created a test for \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EVesselModules\u003C/span\u003E. Yet.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232269\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676408133\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOnDestroy(), IIRC.\u00A0 If I am remembering right: The problem is a null test that is done.\u00A0 One must remember in Unity land, things aren\u0027t always null when they are dead, or might even not be dead and show as null, null is just a bad test!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI will need a more refined Test Artefact in order to check about this one (see above).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s important to consider that failing to complete the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EOnDestroy()\u003C/span\u003E can leave not only memory left behind on the heap, but entire objects on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGameEvents\u003C/span\u003E (as it happened in the past with B9PS, that ended up screwing TweakScale), what I called \u003Cem\u003EZombies\u003C/em\u003E in the past. TweakScale is one thingy that\u00A0\u003Cstrong\u003Ereally misbehaves\u003C/strong\u003E\u00A0when transformed into a\u00A0\u003Cem\u003EZombie\u003Cstrong\u003E.\u003C/strong\u003E\u003C/em\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-15T04:08:08Z\u0022 title=\u002202/15/2023 04:08  AM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 15, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EGrammars\u2026 {sigh) - good thing I\u0026#039;m a programmer, not a novelist!!\n\u003C/span\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2023-02-17T06:45:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224232343\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676422819\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/14/2023 at 5:00 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI will need a more refined Test Artefact in order to check about this one (see above).\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOf course.\u00A0 I wouldn\u0027t expect that to be enough information, was just providing the bread crumbs I recall, so to speak.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I next have time to look, I will update you on what I find with more details.\n\u003C/p\u003E\n"},{"CreatedByName":"Krazy1","CreatedById":203523,"CreatedDateTime":"2023-02-19T03:43:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224231622\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221676277376\u0022 data-ipsquote-userid=\u0022203523\u0022 data-ipsquote-username=\u0022Krazy1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/13/2023 at 12:36 AM, Krazy1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBTW when installing DOE/L with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E, it autoinstalls the DOE/L default config.\u00A0 I see another DOE config for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E but not JNSQ.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nActually DOE is working great in JNSQ. The new planet flares are there and the stock planets are different colors to match the JNSQ changes. \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E autoinstalls the DOE default config, so I suppose JNSQ is overriding that. Well, it works.\n\u003C/p\u003E\n"},{"CreatedByName":"Why485","CreatedById":26795,"CreatedDateTime":"2023-03-05T04:32:50Z","Content":"\n\u003Cp\u003E\nThis is one of those mods that I\u0027ve been using since forever, but I don\u0027t recall having as much of an issue with the dimming as I am now. Is it intentional that when \u0022Dynamic Sky Dimming\u0022 is disabled, all the planet flares no longer render? Basically if you disable the dimming, the mod seems to do nothing. I also kinda feel like intensity 100 is too dark for a lot of the planets as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Dsxlpec.gif\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002251.22\u0022 height=\u0022441\u0022 width=\u0022861\u0022 src=\u0022https://i.imgur.com/Dsxlpec.gif\u0022\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-05T06:59:16Z\u0022 title=\u002203/05/2023 06:59  AM\u0022 data-short=\u00221 yr\u0022\u003EMarch 5, 2023\u003C/time\u003E by Why485\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-03-05T07:07:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224252278\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221677990770\u0022 data-ipsquote-userid=\u002226795\u0022 data-ipsquote-username=\u0022Why485\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Why485 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is one of those mods that I\u0027ve been using since forever, but I don\u0027t recall having as much of an issue with the dimming as I am now. Is it intentional that when \u0022Dynamic Sky Dimming\u0022 is disabled, all the planet flares no longer render? Basically if you disable the dimming, the mod seems to do nothing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood catch! I confirm the glitch!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/DistantObject/issues/32\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/DistantObject/issues/32\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224252278\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221677990770\u0022 data-ipsquote-userid=\u002226795\u0022 data-ipsquote-username=\u0022Why485\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Why485 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI also kinda feel like intensity 100 also feels kind of too dark for a lot of the planets as well.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is a \u0022design\u0022 decision - you kinda hardcode the maximum \u0022brightness\u0022 of a body on its configuration. You can toy with this settings yourself if you like it by patching \u003Ca href=\u0022https://github.com/net-lisias-ksp/DistantObject/blob/master/GameData/DistantObject/PlanetColors.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ethis file\u003C/a\u003E on your GameData.\n\u003C/p\u003E\n\u003Cp\u003E\nOn a side note, I think the current intensity is fine. Planets does not emit light, they reflect it and some planets have a lower albedo than others.\n\u003C/p\u003E\n"},{"CreatedByName":"SiCaRiO31","CreatedById":158163,"CreatedDateTime":"2023-03-05T09:53:54Z","Content":"\n\u003Cp\u003E\nHi! I was just messing around orbiting a few bodies in sandbox and noticed that the sky dims when looking at the direction of Kerbol even when you are in \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E at the night side (meaning, there should not be any light from Kerbol to dim the sky). Is this a config issue on my part or is the code writen like that \u003Cspan\u003E:p\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-03-05T14:16:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224252349\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678010034\u0022 data-ipsquote-userid=\u0022158163\u0022 data-ipsquote-username=\u0022SiCaRiO31\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, SiCaRiO31 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi! I was just messing around orbiting a few bodies in sandbox and noticed that the sky dims when looking at the direction of Kerbol even when you are in \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003E\u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E\u003C/abbr\u003E at the night side (meaning, there should not be any light from Kerbol to dim the sky). Is this a config issue on my part or is the code writen like that \u003Cspan\u003E:p\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi! Known issue, bug in the code! Thanks to reporting, though!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/DistantObject/issues/31\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/DistantObject/issues/31\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Athur Dent","CreatedById":158513,"CreatedDateTime":"2023-03-06T19:53:01Z","Content":"\n\u003Cp\u003E\nHey, thanks for continuing the development of this awesome mod!\u003Cbr\u003E\n\u003Cbr\u003E\nI am playing with JNSQ \u002B GPP \u002B GEP (all rescaled to x2.5) and noticed that neither Ciro nor Grannus (so, both extrasolar stars in this setup) are visible from \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E despite both having a (mod author provided) DOE config.\u003Cbr\u003E\nIs there a way to manually increase the visibility of selected bodies?\n\u003C/p\u003E\n\u003Cp\u003E\nAfter all, stars should probably be generally easier to spot than planets.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-03-06T23:45:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224253371\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678132381\u0022 data-ipsquote-userid=\u0022158513\u0022 data-ipsquote-username=\u0022Athur Dent\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, Athur Dent said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am playing with JNSQ \u002B GPP \u002B GEP (all rescaled to x2.5) and noticed that neither Ciro nor Grannus (so, both extrasolar stars in this setup) are visible from \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003E\u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E\u003C/abbr\u003E despite both having a (mod author provided) DOE config.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUGH\u2026 I was fearing this day!! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s the problem, DOE is kinda hardcoded into believing there\u0027s only one Sun (#highlander style), so everything else would be a piece of rock or a blob of gases - no exceptions. So all the code assumes that the flares are result of reflecting back the light of sun (with the albedo hardcoded into the body\u0027s color definition in the config and the distance being represented by the size of the flare).\n\u003C/p\u003E\n\u003Cp\u003E\nAnd it\u0027s kinda tied to the Stock data structures to fetch the celestial bodies, and since\u00A0JNSQ, GPP\u00A0\u003Cem\u003Eet all\u003C/em\u003E\u00A0uses Kopernicus, that it\u0027 essentially a new data structure for celestial bodies that somehow were shoved into the game in a way that everything kinda works together (I really don\u0027t know how yet), DOE just can\u0027t tell if that thing waaaaaayyy there is a star that emit it\u0027s own light or a weird kind of big. really big asteroid or planet.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIn theory\u003C/strong\u003E, solving this problem is easy - once I determine that thingy far away is a star, I paint the flare no matter the distance from the Sun - as long the thing doesn\u0027t get too small to be drawn in the current resolution.\n\u003C/p\u003E\n\u003Cp\u003E\nThe real problem that I will need to solve to proper support Kopernicus, however, is to support multiple Suns. Right now, only Kerbol is considered a Sun in order to do all the effects (like the skybox dimming). Once you are orbiting a different Sun, DOE will be at lost because it will think that that gigantic and bright thing you are orbiting (or in orbit on something that it\u0027s orbiting it) it\u0027s just a mega sized Juno, and so the skybox will not be dimmed, for example, as you are probably \u003Cb\u003Ereally, really\u003C/b\u003E\u00A0far away from the \u0022real\u0022 Sun.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a way or another:\u00A0\u003Ca href=\u0022https://github.com/net-lisias-ksp/DistantObject/issues/33\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/DistantObject/issues/33\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-07T18:54:48Z\u0022 title=\u002203/07/2023 06:54  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 7, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003ETyop! Surprised?\n\u003C/span\u003E\n"},{"CreatedByName":"Athur Dent","CreatedById":158513,"CreatedDateTime":"2023-03-07T17:27:19Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003ESorry for being the one to bring upon you that \u0022feared day\u0022. However, as far as I remember Galaxies Unbound has DOE flares for all its stars. Therefore I was assuming that there must be some config node already., or at least some \u0022hack\u0022 to achieve the effect ...\u003Cbr\u003E\n\u003Cbr\u003E\nFull Kopernicus support would rock, however \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2023-03-07T18:21:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224254103\u0022 data-ipsquote-contentid=\u0022205063\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678210039\u0022 data-ipsquote-userid=\u0022158513\u0022 data-ipsquote-username=\u0022Athur Dent\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, Athur Dent said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003ESorry for being the one to bring upon you that \u0022feared day\u0022. However, as far as I remember Galaxies Unbound has DOE flares for all its stars. Therefore I was assuming that there must be some config node already., or at least some \u0022hack\u0022 to achieve the effect ...\u003Cbr\u003E\n\u003Cbr\u003E\nFull Kopernicus support would rock, however \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat hack probably got lost when I changed something on the DOE\u0027s engine, probably the code for the threshold for visible objects based in the distance they are from their \u0022Sun\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fix is relatively trivial - if the thing is a Star, its flare will always be painted and it will never be smaller than a pixel. The \u0022hard\u0022 part is determining if the thing is a star.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd since I\u0027m going the \u0022proper\u0022 way on this, supporting multiple stars on the Sky Dimmer will also be implemented - the code was heavily refactored by many reasons, one of them is to make easier (of less difficult) to add new features as this one.\n\u003C/p\u003E\n\u003Cp\u003E\nI will not make promises about a deadline, but I will work on it Soon\u2122 enough (hopefully).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-07T18:23:00Z\u0022 title=\u002203/07/2023 06:23  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 7, 2023\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003Etyops as usulla\u2026\n\u003C/span\u003E\n"},{"CreatedByName":"G_Force080491","CreatedById":167862,"CreatedDateTime":"2023-03-08T01:10:09Z","Content":"\n\u003Cp\u003E\nSomehow, when i point mouse on Minmus flare and roll the camera relatively close to my craft, the flare name disappear. Other planets flares looks fine so far.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd can confirm Krazy1\u0027s issue. Indeed, the skybox dimming when you try to look at the planet you orbiting from the dark side, as if there is a sunlight shining through.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-08T02:49:53Z\u0022 title=\u002203/08/2023 02:49  AM\u0022 data-short=\u00221 yr\u0022\u003EMarch 8, 2023\u003C/time\u003E by G_Force080491\u003C/strong\u003E\n\u003C/span\u003E\n"}]}