{"TopicId":28844,"ForumId":34,"TopicTitle":"[0.20] ModuleManager 1.3 - for all your stock-modding needs","CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-24T17:51:24Z","PageNum":8,"Articles":[{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2013-07-11T02:09:04Z","Content":"\n\u003Cp\u003E*edit* found the issue. all the mods are fine together with there own modulemnager.dll\u0027s except \u0022deadly reentry. thats the one thats messing up my stock parts \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-07-11T02:12:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Samuel Jenks\u0022 data-cite=\u0022Samuel Jenks\u0022\u003E\u003Cdiv\u003E*edit* found the issue. all the mods are fine together with there own modulemnager.dll\u0027s except \u0022deadly reentry. thats the one thats messing up my stock parts \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0022with their own modulemanager.dll\u0027s\u0022? You should never, EVER, have more than one copy of modulemanager.dll in your entire /GameData folder tree. EVER.\u003C/p\u003E\n"},{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2013-07-11T13:10:41Z","Content":"\n\u003Cp\u003Ebut theyre written specifically for one mod and then coded to minimize clashes, deadly reentry just wasnt coded well enough.\u003C/p\u003E\n"},{"CreatedByName":"King Jareth","CreatedById":63223,"CreatedDateTime":"2013-07-11T14:21:55Z","Content":"\n\u003Cp\u003Eialdabaoth wrote modulemanager.dll other mods use the file he made.\u003C/p\u003E\u003Cp\u003EIf he says you should only have one copy of the file I think you should listen.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-07-11T21:15:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Samuel Jenks\u0022 data-cite=\u0022Samuel Jenks\u0022\u003E\u003Cdiv\u003Ebut theyre written specifically for one mod and then coded to minimize clashes, deadly reentry just wasnt coded well enough.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfraid not. They\u0027re all written to be used by any number of mods. When modulemanager.dll is re-written to minimize clashes, it\u0027s re-written to minimize clashes with EVERYTHING. It\u0027s designed to be a SINGLE plugin, which any number of other mods can rely on. Having multiple copies of ANY plugin DLL will cause problems, because the same code will get executed multiple times.\u003C/p\u003E\u003Cp\u003Emodulemanager.dll goes in your /GameData root. If there\u0027s already a modulemanager.dll in your /GameData root, figure out which one is newer and keep that one.\u003C/p\u003E\n"},{"CreatedByName":"XeroXion","CreatedById":57187,"CreatedDateTime":"2013-07-11T22:16:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Samuel Jenks\u0022 data-cite=\u0022Samuel Jenks\u0022\u003E\u003Cdiv\u003Ebut theyre written specifically for one mod and then coded to minimize clashes, deadly reentry just wasnt coded well enough.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only thing to do with ModuleManager that is written specifically for each mod is the *.cfg file that stores their part modifications. As others have stated, you should only have ONE ModuleManager.dll, because everybody gets theirs from ialdabaoth here.\u003C/p\u003E\n"},{"CreatedByName":"Oinker","CreatedById":62538,"CreatedDateTime":"2013-07-11T22:56:46Z","Content":"\n\u003Cp\u003EI don\u0027t want to modify individual parts for each mod, but all parts where module = CommandPod in order to add mechjeb2 to them all. Additionally, I want to add remotetech to any part when module = CommandPod and CrewCapacity = 0. Can this be done? If not, would you add this functionality to the dll?\u003C/p\u003E\u003Cp\u003Ein the meantime, I have this: \u003Ca href=\u0022http://kerbalspaceprogram.com/mechjeb-and-remotetech-for-all/\u0022 rel=\u0022external nofollow\u0022\u003EMechJeb and RemoteTech for All\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAdds MechJeb2 to all command modules and probes. Adds RemoteTech remote control to all probes. Works for the stock parts and all the major addons.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T06:43:41Z\u0022 title=\u002207/12/2013 06:43  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by Oinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2013-07-12T02:42:07Z","Content":"\n\u003Cp\u003Eso what do i do when mods come packed with it and place their own one?\u003C/p\u003E\n"},{"CreatedByName":"Frederf","CreatedById":3844,"CreatedDateTime":"2013-07-12T03:35:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ialdabaoth\u0022 data-cite=\u0022ialdabaoth\u0022\u003E\u003Cdiv\u003E\u0022with their own modulemanager.dll\u0027s\u0022? You should never, EVER, have more than one copy of modulemanager.dll in your entire /GameData folder tree. EVER.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcept practically all MM-enabled mods include a copy of the dll with their mod.\u003C/p\u003E\n"},{"CreatedByName":"Oinker","CreatedById":62538,"CreatedDateTime":"2013-07-12T06:39:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Frederf\u0022 data-cite=\u0022Frederf\u0022\u003E\u003Cdiv\u003EExcept practically all MM-enabled mods include a copy of the dll with their mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKindly ask the author to remove ModuleManager.dll from his mod and point to this forum (page 1) for the download. Ask that he change the documentation to copy the ModuleManager.dll to the {KSP}/GameData folder.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-07-12T07:38:51Z","Content":"\n\u003Cp\u003EAlso, ideally each mod maker should have their zipfile contain a /GameData directory, with modulemanager.dll directly in the /GameData directory, and everything else in their own sub-directory. (DeadlyReentry and ModularFuelSystem do this correctly, for example; both being my mods)\u003C/p\u003E\n"},{"CreatedByName":"Oinker","CreatedById":62538,"CreatedDateTime":"2013-07-12T09:23:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ialdabaoth\u0022 data-cite=\u0022ialdabaoth\u0022\u003E\u003Cdiv\u003EAlso, ideally each mod maker should have their zipfile contain a /GameData directory, with modulemanager.dll directly in the /GameData directory, and everything else in their own sub-directory. (DeadlyReentry and ModularFuelSystem do this correctly, for example; both being my mods)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s your baby, but the reason I don\u0027t include ModuleManager.dll with my mod is so they come here to get the latest version. That way you don\u0027t end up with somebody overwriting the new with the old.\u003C/p\u003E\n"},{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2013-07-12T12:42:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ialdabaoth\u0022 data-cite=\u0022ialdabaoth\u0022\u003E\u003Cdiv\u003EAlso, ideally each mod maker should have their zipfile contain a /GameData directory, with modulemanager.dll directly in the /GameData directory, and everything else in their own sub-directory. (DeadlyReentry and ModularFuelSystem do this correctly, for example; both being my mods)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo if i want to have more than one MM using mod, how do i have each of theyre own copies all directly in gamedata? wont they overwrite each other and the last to be added is the only mod with specific code in place?\u003C/p\u003E\n"},{"CreatedByName":"King Jareth","CreatedById":63223,"CreatedDateTime":"2013-07-12T12:45:53Z","Content":"\n\u003Cp\u003EModulemanager.dll is not mod specific, the .cfg files are.\u003C/p\u003E\n"},{"CreatedByName":"m4ti140","CreatedById":67296,"CreatedDateTime":"2013-07-12T20:09:31Z","Content":"\n\u003Cp\u003EI ran into a strange issue. Although I made sure that I have only one ModuleManager.dll in the entire KSP folder (not only GameData), it applies all changes \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Etwice\u003C/span\u003E. When I look into info in VAB or right click part, all functions coming from modules injected with Module Manager appear twice, thus I suspect the part.cfg gets loaded with two identical MODULE sections. I checked and I haven\u0027t inserted lines manualy before. I have no idea what\u0027s going on. It kinda breaks remote tech bc it doubles energy drain.\u003C/p\u003E\u003Cp\u003EAlso, when testing this out I ran into an issue with DR. I know this is wrong thread but since you\u0027ll be reading this anyway, ialdabaoth, here we go: When ever I try inserting multiple parts with heatshield using symetry, at the very moment when it gets snaped to node I hear terrible noise, like if both reentry noise and g-force stretching was played at once, at max volume.\u003C/p\u003E\u003Cp\u003EEDIT: The first one got solved automagically ??? If the problem comes back I\u0027ll inform you.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-12T20:19:00Z\u0022 title=\u002207/12/2013 08:19  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 12, 2013\u003C/time\u003E by m4ti140\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"praise the suuun","CreatedById":69912,"CreatedDateTime":"2013-07-13T00:37:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022King Jareth\u0022 data-cite=\u0022King Jareth\u0022\u003E\u003Cdiv\u003EModulemanager.dll is not mod specific, the .cfg files are.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethis is helpful. but I have another question. I\u0027ve been cleaning out all but one modulemanager.dll for gamedata, but my issue (values of stock air breathers frzon at non stock values) still persists. will a clean install of all modulemanager using mods reset this problem?\u003C/p\u003E\n"},{"CreatedByName":"Cilph","CreatedById":21477,"CreatedDateTime":"2013-07-13T02:12:56Z","Content":"\n\u003Cp\u003EFeature request: Ability to globally change all instances of a partmodule.\u003C/p\u003E\u003Cp\u003Eeg:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@MODULE[ModuleCommand]\u003Cbr\u003E{\u003Cbr\u003E    @name = ModuleSomethingElse\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Enot \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[SomePart]\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleCommand]\u003Cbr\u003E    {\u003Cbr\u003E        @name = ModuleSomethingElse\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ERegex or wildcards maybe?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-13T02:21:19Z\u0022 title=\u002207/13/2013 02:21  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 13, 2013\u003C/time\u003E by Cilph\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kaleb","CreatedById":73828,"CreatedDateTime":"2013-07-13T02:58:57Z","Content":"\n\u003Cp\u003EAs a software developer myself, I totally understand ialdabaoth\u0027s reluctance to add complexity via wildcard/regex support. But I wonder whether an alternative compromise solution might be acceptable: what if the square brackets after PART could list multiple parts? Maybe comma-separated (or whatever delimiter works)? It would just be a shorthand for typing the same block of text multiple times, but would (hopefully) avoid the potential for unforeseen consequences that a regex might introduce. So it might look something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[SomePart, SomeOtherPart, YetAnotherPart, JebediahsPieceOfJunk, MyUberModdedCheatPart]\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleCommand]\u003Cbr\u003E    {\u003Cbr\u003E        @name = ModuleSomethingElse\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EGranted, you still have to manually update the part list when another part comes along, but at least its all in one place.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-07-14T15:07:26Z","Content":"\n\u003Cp\u003ELooks like the mod doesn\u0027t work with parts that have space in it\u0027s name. I\u0027ve tried this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E@PART[Mir Core Module]\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E MODULE\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = MechJebCore\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eand this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E@PART[\u0022Mir Core Module\u0022]\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E MODULE\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = MechJebCore\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENeither works.\u003C/p\u003E\n"},{"CreatedByName":"AlmightyR","CreatedById":73989,"CreatedDateTime":"2013-07-14T15:33:08Z","Content":"\n\u003Cp\u003EIs it possible to change the torque-curve keys in the following syntax?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E    {\u003Cbr\u003E    \tname = TracksMain\u003Cbr\u003E    \tdevelopmentMode = false\u003Cbr\u003E    \tidentity = Controller1\u003Cbr\u003E    \tcustomStatusLine = Track Links:\u003Cbr\u003E    \tcustomStatusLineMin = 15\u003Cbr\u003E    \tcustomStatusLineMax = 19\u003Cbr\u003E    \tbrakingTorque = 10\u003Cbr\u003E\trollingResistance = 0.5\u003Cbr\u003E    \tTorqueCurve\u003Cbr\u003E    \t{\u003Cbr\u003E    \t\tkey = -20 0\u003Cbr\u003E    \t\tkey = -10 0.5\u003Cbr\u003E    \t\tkey = 0 15\u003Cbr\u003E    \t\tkey = 10 0.5\u003Cbr\u003E    \t\tkey = 40 0\u003Cbr\u003E    \t}\u003Cbr\u003E    \tINPUT_RESOURCE\u003Cbr\u003E    \t{\u003Cbr\u003E    \t\tname = ElectricCharge\u003Cbr\u003E    \t\ttorqueLinkedRate = 0.01\u003Cbr\u003E    \t\trpmLinkedRate = 0.0001\u003Cbr\u003E    \t}\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow? Just make a \u0022@TorqueCurve\u0022 reference and give new values? I\u0027m not sure how to do this.\u003C/p\u003E\n"},{"CreatedByName":"AlmightyR","CreatedById":73989,"CreatedDateTime":"2013-07-14T16:04:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kaleb\u0022 data-cite=\u0022Kaleb\u0022\u003E\u003Cdiv\u003EAs a software developer myself, I totally understand ialdabaoth\u0027s reluctance to add complexity via wildcard/regex support. But I wonder whether an alternative compromise solution might be acceptable: what if the square brackets after PART could list multiple parts? Maybe comma-separated (or whatever delimiter works)? It would just be a shorthand for typing the same block of text multiple times, but would (hopefully) avoid the potential for unforeseen consequences that a regex might introduce. So it might look something like this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[SomePart, SomeOtherPart, YetAnotherPart, JebediahsPieceOfJunk, MyUberModdedCheatPart]\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleCommand]\u003Cbr\u003E    {\u003Cbr\u003E        @name = ModuleSomethingElse\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EGranted, you still have to manually update the part list when another part comes along, but at least its all in one place.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like the idea...Bloody painful (and extremely ugly-looking) to, for example, add mechjeb to all command modules installed (vanilla \u002B mods) by hand.\u003C/p\u003E\u003Cp\u003EWhich this, rather than repeating the @MODULE code infinitillion times, only one, plus the list of parts up top, would be required.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-07-14T20:28:44Z","Content":"\n\u003Cp\u003EI have a version with wildcard pattern (* ?) and test for things like module = CommandPod.\u003C/p\u003E\u003Cp\u003EThe code is not too ugly. But I won\u0027t post if without ialdabaoth consent.\u003C/p\u003E\n"},{"CreatedByName":"Oinker","CreatedById":62538,"CreatedDateTime":"2013-07-14T21:16:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI have a version with wildcard pattern (* ?) and test for things like module = CommandPod.\u003Cp\u003EThe code is not too ugly. But I won\u0027t post if without ialdabaoth consent.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s what I\u0027m talkin\u0027 about! Maybe put the code online on Google Docs or Office Online so you can work on it together or mark it up. Can we also check for multiple conditions with IF: AND, OR, \u0026gt;, \u0026lt;, =, not = :THEN set condition\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-07-15T09:18:23Z","Content":"\n\u003Cp\u003EI\u0027ll wait for a word from ialdabaoth. More complex test will make the code ugly fast, and there is limtation with how KSP parse cfg files ( can\u0027t use = )\u003C/p\u003E\n"},{"CreatedByName":"Captain Man","CreatedById":73993,"CreatedDateTime":"2013-07-19T17:46:15Z","Content":"\n\u003Cp\u003EIs there a way to comment out lines in the .cfg?\u003C/p\u003E\n"}]}