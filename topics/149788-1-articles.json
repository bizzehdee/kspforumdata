{"TopicId":149788,"ForumId":69,"TopicTitle":"KSP 1.2 under Linux: start-up problems. A solution","CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2016-10-12T15:54:42Z","PageNum":1,"Articles":[{"CreatedByName":"Wolf Baginski","CreatedById":138549,"CreatedDateTime":"2016-10-12T15:54:42Z","Content":"\n\u003Cp\u003E\nThe Linux install of KSP 1.2 appears to react badly to some configuration data that may be stored elsewhere by earlier versions of KSP. If you get a blank screen rather than the initial menu, this may be a cause\n\u003C/p\u003E\n\u003Cp\u003E\n1: The data involved is stored in one or more subfolders of ~/.config/unity3d/ (This is on an Ubuntu-derived Linux, but I would expect it to be universal. This is a hidden folder and you might need to change a setting to be able to see it.)\n\u003C/p\u003E\n\u003Cp\u003E\n2: On my system I found ~/.config/unity3d/SQUAD/ and ~/.config/unity3d/Squad/ , timestamped about three\u00A0weeks apart in\u00A0June 2016. They contained different sets of files. I made archives of both and deleted them. Both were related to Kerbal Space Program.\n\u003C/p\u003E\n\u003Cp\u003E\n3: Deleting these files led to a normal startup of KSP, in a window rather than full-screen.\n\u003C/p\u003E\n\u003Cp\u003E\n4: If you have an in-progress career or science game from an earlier version of KSP, I would not be at all surprised if you need to restore from the archives you made so as to run the earlier KSP version.\n\u003C/p\u003E\n\u003Cp\u003E\n5: I am told Steam does things differently. I don\u0027t even know whether or not Steam supports\u00A0Linux.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2016-10-12T16:00:28Z","Content":"\n\u003Cp\u003E\nNot an answer so much as a clarification:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222799853\u0022 data-ipsquote-contentid=\u0022149788\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221476287682\u0022 data-ipsquote-userid=\u0022138549\u0022 data-ipsquote-username=\u0022Wolf Baginski\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Wolf Baginski said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am told Steam does things differently. I don\u0027t even know whether or not Steam supports\u00A0Linux.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSteam\u00A0\u003Cem\u003Einstalls\u003C/em\u003E\u00A0KSP differently. Once installed KSP runs exactly the same, and the Unity config folder is in the same place.\n\u003C/p\u003E\n\u003Cp\u003E\n(also, off topic, but of course Steam runs on Linux - that\u0027s what the Steam Machine is)\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-10-12T16:30:57Z","Content":"\n\u003Cp\u003E\nBoth versions, and indeed all Unity3D games, will create a prefs file in .config/unity on Linux.\n\u003C/p\u003E\n\u003Cp\u003E\nThis file tells the engine the last known good configuration for resolution, screen mode and graphics adapter.\n\u003C/p\u003E\n\u003Cp\u003E\nSometimes it can be incorrect, especially when switching between versions of a game that use different versions of Unity3D, it\u0027s a known issue for players who have been playing KSP 1.1.3 as well as KSP 1.2\n\u003C/p\u003E\n\u003Cp\u003E\nThe prefs file is outside Squads control, but is harmless to delete.\n\u003C/p\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2016-11-10T03:16:44Z","Content":"\n\u003Cp\u003E\nThis prefs file in that directory could help to solve alot of problems linux users have, particularly with multiple monitor setups:\n\u003C/p\u003E\n\u003Cp\u003E\nTo be precise, the file is: ~/.config/unity3d/Squad/Kerbal\\ Space\\ Program/prefs\n\u003C/p\u003E\n\u003Cp\u003E\nSince unity is primarily a windows platform, they\u0027ve thrown away the -geometry argument you normally get with any properly written X11 program. That means for most people with multi-monitor setups, they have to start KSP in a window, move it around to the correct position and then select fullscreen mode.\n\u003C/p\u003E\n\u003Cp\u003E\nThis worked as a hack previously, but since 1.2, selecting fullscreen in game just maximises the window. If you run your 2d desktop as high as it can go (like I do), this causes 3d KSP to crawl to a snails pace as it tries to render over 6MB of data every frame on a display area that\u0027s constantly checking for occlusions. Unacceptable!\n\u003C/p\u003E\n\u003Cp\u003E\nThe solution is in this file; you have to start the display area rendering the correct way, and don\u0027t let KSP try to change it.\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, none of this will work for those using xinerama, probably. Then again, if you are using xinerama, you clearly don\u0027t care about 3d framerate. For those with proprietry Screen setups (nvidia twinview, ATI equivalent, or multple graphics boards), this value determines on which monitor the game starts:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u0026lt;pref name=\u0022UnitySelectMonitor\u0022 type=\u0022int\u0022\u0026gt;1\u0026lt;/pref\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nwhere:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n0 = primary monitor\n\u003C/li\u003E\n\u003Cli\u003E\n1 = secondary monitor\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI guess -1 would be a monitor \u0022LeftOf\u0022 in xorg.conf? It could also be bus order related/random. i.e. 2. I don\u0027t have enough monitors to test this.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso in that file are geometries of the initial screen, and a fullscreen setting. If the initial window appears (always \u002B0\u002B0, unity ignores window manager hints completely) on a monitor that has a smaller display size than what is set here, it will be forced into windowed mode. If the monitor it starts on can\u0027t switch to the resolution in this file, it will be forced into windowed mode. Both are bad.\n\u003C/p\u003E\n\u003Cp\u003E\nTherefore, if you want proper fullscreen with a realistic resolution, you have to make sure the fullscreen setting is on here AND in KSP\u0027s settings.cfg, AND the unity prefs geometry is set to something the monitor it will appear on can handle.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure yet if what KSP\u0027s idea of what resolution you want has to be the same in settings.cfg. It may just accept what unity gave it.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, \u003Cs\u003Enon-Ubuntu\u003C/s\u003E\u00A0 proficient users will be able to create start scripts to force these values to be acceptable as needed. As an example, I use something like this (by simply overwriting the unity prefs file):\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n#!/bin/sh\n\u003C/p\u003E\n\u003Cp\u003E\nsed -i \u0027s/^FULLSCREEN[ ]=[ ]False/FULLSCREEN = True/\u0027 settings.cfg\n\u003C/p\u003E\n\u003Cp\u003E\ncat \u0026gt; \u0022~/.config/unity3d/Squad/Kerbal Space Program/prefs\u0022 \u0026lt;\u0026lt;EOF\u003Cbr\u003E\n\u0026lt;unity_prefs version_major=\u00221\u0022 version_minor=\u00221\u0022\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u0026lt;pref name=\u0022Screenmanager Is Fullscreen mode\u0022 type=\u0022int\u0022\u0026gt;1\u0026lt;/pref\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u0026lt;pref name=\u0022Screenmanager Resolution Height\u0022 type=\u0022int\u0022\u0026gt;720\u0026lt;/pref\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u0026lt;pref name=\u0022Screenmanager Resolution Width\u0022 type=\u0022int\u0022\u0026gt;1280\u0026lt;/pref\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u0026lt;pref name=\u0022UnitySelectMonitor\u0022 type=\u0022int\u0022\u0026gt;1\u0026lt;/pref\u0026gt;\u003Cbr\u003E\n\u0026lt;/unity_prefs\u0026gt;\u003Cbr\u003E\nEOF\n\u003C/p\u003E\n\u003Cp\u003E\n./KSP.x86_64 $@\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-10T15:45:51Z\u0022 title=\u002211/10/2016 03:45  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 10, 2016\u003C/time\u003E by surge\u003C/strong\u003E\n\u003C/span\u003E\n"}]}