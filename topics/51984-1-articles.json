{"TopicId":51984,"ForumId":20,"TopicTitle":"Resource depletion on unfocused vessels","CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T17:56:36Z","PageNum":1,"Articles":[{"CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T17:56:36Z","Content":"\n\u003Cp\u003EI\u0027m talking about resources like electric charge, and especially any other using custom-made ModuleGenerator MODULE on unfocused vessels. Is there any way to retain the depletion and/or generation of these resources, basically keeping track of these modules, keeping them ON while you take control of other vessels far away?\u003C/p\u003E\u003Cp\u003Ethe idea is to have lifesupport resources deplete while controlling other ships. No much sense in these modules stopping whenever the vessel is unfocused. Makes the whole point of having life support and general electric charge consumption useless, or only useful and realistic when controlling that same vessel.\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2013-11-05T19:50:27Z","Content":"\n\u003Cp\u003EThis is quite possible. When you make a custom module you could make a partless addon which runs all the time. This addon could manage aspects of ships which are unfocused. A second method is to have the module keep track of time since the ship was last controlled and then retroactive apply the changes upon reloading the vessel. In this last case the module, upon the ship being loaded, would determine 26 days have past since last time it was loaded and based on the number of kerbals it could determine there was only enough oxygen for 15 days and proceed to kill the kerbals.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-05T20:28:21Z","Content":"\n\u003Cp\u003EYou can look in the MCE autorecycle code for how to get at an unloaded vessel\u0027s resources.\u003C/p\u003E\n"},{"CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T20:29:53Z","Content":"\n\u003Cp\u003Ethanks for the reply PrivateFlip,\u003C/p\u003E\u003Cp\u003Epartless addon? sounds intriguing\u003C/p\u003E\u003Cp\u003Ehow do I apply these methods?\u003C/p\u003E\n"},{"CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T20:40:01Z","Content":"\n\u003Cp\u003Ewhat do you mean MCE autorecycle? ill download it and have a look into the mod\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2013-11-05T21:24:48Z","Content":"\n\u003Cp\u003EIts hardly possible. At least once stuff gets a little more complicated than \u0022-1O\u00C3\u201A\u00C2\u00B2/s\u0022. Lets just consider electric energy as an example... a bunch of time your are behind a planet, so your solar panels do not generate energy. It becomes even more complicated when you have a small \u0026amp; slow moon thats behind its planet. So you either end up with an inaccurate prediction, require a lot of computing time or have crazy math involved.\u003C/p\u003E\n"},{"CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T21:27:31Z","Content":"\n\u003Cp\u003Eno. I dont want to deal with solar panels. Either with just a simple energy consumption (battery-powered capsule) and life support, or fuel cell\u002Blife support.\u003C/p\u003E\u003Cp\u003Eat the moment im keeping track of my unfocused vessels and adjusting their consumption manually with kerbal edit everytime i switch back to them. But being manual and all can be quite time consuming.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-05T21:44:01Z","Content":"\n\u003Cp\u003EYou can loop through all vessels, and look at their protopartsnapshots. They will have resource snapshots. The resource snapshots are confignodes (in the same format as are stored in persistence files--indeed, that\u0027s what happens, all vessels are unloaded and serialized on savegame). You can edit the values in the confignodes.\u003C/p\u003E\u003Cp\u003EMCE is mission controller extended. The autorecycle code is in MissionControllerEvents.cs in OnDestroy() IIRC.\u003C/p\u003E\n"},{"CreatedByName":"Kimaera026","CreatedById":90375,"CreatedDateTime":"2013-11-05T23:38:22Z","Content":"\n\u003Cp\u003Ei think this is a bit too advanced for me XD\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2013-11-06T17:52:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimaera026\u0022 data-cite=\u0022Kimaera026\u0022\u003E\u003Cdiv\u003Ethanks for the reply PrivateFlip,\u003Cp\u003Epartless addon? sounds intriguing\u003C/p\u003E\u003Cp\u003Ehow do I apply these methods?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo make a partless addon you would write your own plugin. The class of this plugin would be of the form:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E public class MultipleSavesDAclass : MonoBehaviour \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto have it behave like like a plugin which is always active like for instance Kerbal Alarm Clock and unlike for instance a resource generator which is tied to a part.\u003C/p\u003E\u003Cp\u003ESuch a plugin could use the code NathanKell describes to constantly edit unfocused vessels. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimaera026\u0022 data-cite=\u0022Kimaera026\u0022\u003E\u003Cdiv\u003Ei think this is a bit too advanced for me XD\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you program? (When we respond to your question we of course don\u0027t know what lies within your reach) \u003C/p\u003E\u003Cp\u003EIf you are a little familiar with programming it\u0027s not that complex; about a week ago I ran into the problem of editing unfocused vessels for a mod I was making and NathanKell pointed me to his source code as well, which allowed me to solve this problem with ease and which is also why I\u0027m was able to respond to your question.\u003C/p\u003E\n"}]}