{"TopicId":27153,"ForumId":34,"TopicTitle":"[0.21.x] KerbCom Avionics 0.3.0.6 Alpha (29 August) - now with video!","CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-16T19:41:13Z","PageNum":2,"Articles":[{"CreatedByName":"Panichio","CreatedById":2858,"CreatedDateTime":"2013-05-18T23:09:11Z","Content":"\n\u003Cp\u003EThis is the most useful plugin I\u0027ve seen in a while. Thanks, ZRM.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-20T14:01:17Z","Content":"\n\u003Cp\u003ERight, I haven\u0027t had a chance to spend any more time on it over the weekend, however now I have some targets for the immediate future of the plugin:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E Provide accurate inertia tensor calculations to replace those given by the KSP API - this should remove the guesswork from the values entered for pitch, roll and yaw, and stop vessels from rotating slightly on axes other than the one you intended. For example I commonly find that yawing induces a slight rolling motion on unsymmetrical ships.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Improve the current solver with a matrix decomposition method (e.g. \u003Ca href=\u0022https://en.wikipedia.org/wiki/Singular_value_decomposition\u0022 rel=\u0022external nofollow\u0022\u003ESingular Value Decomposition\u003C/a\u003E). This should improve performance and allow the GUI to give an idea of the responsiveness range and suitable default settings, as well as providing a compromise solution (i.e. clamp to max thrust) instead of no thrust when the old solver would have been \u0022Out of Bounds\u0022.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Multithread the solver - even if the new solver is fast enough for large vessels to function adequately multithreading will decouple the system from the frame rate. For example, currently I get 15FPS for a vessel with 88 RCS ports if CRCS is active, and 120FPS (vsync) if it is not. Even if the new solver is just as slow, moving it out of the frame update thread will make its slowness affect the frame rate only slightly (and not at all in machines with an adequate number of cores).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Squash bugs. I currently know of a situation where loading a saved flight can cause CRCS to not notice all of the RCS ports as it loads. The current workaround is to simply disable then re-enable the CRCS, which reinitialises it. Then there is also the RCS FX glitch inherited from KSP, which hides the noticeable visual effect of the work done by CRCS to balance the ship and makes it appear as if some or all RCS ports are always firing. Currently this is easily worked around using a one time edit to your RCS block config file as mentioned in the README.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Improve the GUI, perhaps using sliders to adjust settings.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis list is not in any particular order. If you know of other pressing issues, please report them in this thread if they are not mentioned in adequate detail by someone else.\u003C/p\u003E\u003Cp\u003EAnd here is my list of ideal features I wish to include later:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E Somehow deal with wobbly ships and stations by using RCS to counteract wobble on a part-by-part basis. I would need to come up with a measure of wobble and a more complex solver for this.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Take control of the throttles of individual main engines as well to provide accurate course correction during ascent combining RCS and thrust vectoring as appropriate to launch unbalanced vessels like piggy-backed shuttles. This should allow my plugin to become the default fits-all RCS mode. You should never need to disable it then.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E As an extension of the above, provide intuitive VTOL control and an ascent/landing autopilot for VTOLs. This should allow for rotating engines, similar to those seen in the film Prometheus.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI am open to any other ideas that stay within the scope of precision thrust control and balancing.\u003C/p\u003E\u003Cp\u003EAlso, if you are using this plugin, or have used it but are no longer using it, I would be glad for feedback to improve it.\u003C/p\u003E\u003Cp\u003EBTW, it seems that the legal agreement for uploading to Space Port is very restrictive - Squad want sole rights to distribute plugins, i.e. you are not allowed to host an uploaded plugin anywhere else. For that reason I am not currently going to host this plugin on Space Port.\u003C/p\u003E\n"},{"CreatedByName":"Huelander","CreatedById":66884,"CreatedDateTime":"2013-05-20T14:50:02Z","Content":"\n\u003Cp\u003EI registered in the forums especially to say thanks for this awesome plug-in! I\u0027ve been using it a lot on spaceplanes since they are really tricky to position RCS in a good way and they tend to waste tons of RCS for roll control, excellent results so far.\u003C/p\u003E\u003Cp\u003EI noticed the small roll you described on a few SSTO planes, it is still ten times better to dock than stock controls. A suggestion that may or not be easier to implement is to remove authority of RCS thrusters from ASAS modules, the way ASAS works now it will just waste all the RCS over-correcting on medium\u002B crafts (especially if they wobble). This way it\u0027s easier to translate the ship while ASAS keep the heading with the pod/SAS torque.\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2013-05-20T16:37:23Z","Content":"\n\u003Cp\u003ESo, i try it on one ship of mine, and it won\u0027t work. with or without mechjeb. (2.0.7)\u003C/p\u003E\u003Cp\u003EI play a lot with the values, and those keep me kinda bored. With you wanna replace for best the rcs from the KSP, those need to be automatic.\u003C/p\u003E\u003Cp\u003EIs a tedious processe to have to predict the value for each axis. And even doing it, it not work at all.\u003C/p\u003E\u003Cp\u003EThat was my experience with it. I take off my Game.\u003C/p\u003E\u003Cp\u003EIf you reach the automatic set of forces, and make it work seamlessly, leaving to us the only on off button and all other functions automatic set, i will try it again.\u003C/p\u003E\u003Cp\u003EBut, nice try!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-20T18:07:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Panichio\u0022 data-cite=\u0022Panichio\u0022\u003E\u003Cdiv\u003EThis is the most useful plugin I\u0027ve seen in a while. Thanks, ZRM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Huelander\u0022 data-cite=\u0022Huelander\u0022\u003E\u003Cdiv\u003EI registered in the forums especially to say thanks for this awesome plug-in! I\u0027ve been using it a lot on spaceplanes since they are really tricky to position RCS in a good way and they tend to waste tons of RCS for roll control, excellent results so far.\u003Cp\u003EI noticed the small roll you described on a few SSTO planes, it is still ten times better to dock than stock controls. A suggestion that may or not be easier to implement is to remove authority of RCS thrusters from ASAS modules, the way ASAS works now it will just waste all the RCS over-correcting on medium\u002B crafts (especially if they wobble). This way it\u0027s easier to translate the ship while ASAS keep the heading with the pod/SAS torque.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the feedback! Glad to see the plugin has helped people.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Huelander\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ERegarding your suggestion, I think it may be best to work with ASAS instead of against it. Flight control in the KSP API is uniform, regardless of whether it is Fly-By-Wire or the user that is creating the input. Reaction Control Systems work by responding to this global control input. So there is no clean way to stop ASAS controlling RCS without modifying the ASAS module itself. Instead, a much better solution in my opinion is to tune the ASAS parameters (known as PID), as done in real spacecraft. MechJeb 2 provides direct access to these during flight (under Attitude Adjustment), and the Tweakable Parameters mod can modify them per-craft in the VAB/SPH. You will need to look up what these parameters mean in order to tune them for your craft so that ASAS does not overshoot and oscillate around the desired direction, which is what causes the waste of RCS fuel.\u003C/p\u003E\u003Cp\u003EEdit: Mind you, I could possibly extend the plugin to automatically tune ASAS, as in theory the only information required to optimise the PID is the maximum torque in each axis and the inertia tensor, which the plugin needs anyway.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-20T20:19:24Z\u0022 title=\u002205/20/2013 08:19  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 20, 2013\u003C/time\u003E by ZRM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-20T18:16:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Climberfx\u0022 data-cite=\u0022Climberfx\u0022\u003E\u003Cdiv\u003ESo, i try it on one ship of mine, and it won\u0027t work. with or without mechjeb. (2.0.7)\u003Cp\u003EI play a lot with the values, and those keep me kinda bored. With you wanna replace for best the rcs from the KSP, those need to be automatic.\u003C/p\u003E\u003Cp\u003EIs a tedious processe to have to predict the value for each axis. And even doing it, it not work at all.\u003C/p\u003E\u003Cp\u003EThat was my experience with it. I take off my Game.\u003C/p\u003E\u003Cp\u003EIf you reach the automatic set of forces, and make it work seamlessly, leaving to us the only on off button and all other functions automatic set, i will try it again.\u003C/p\u003E\u003Cp\u003EBut, nice try!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you find no values work at all, then there\u0027s a good chance that your vessel is not suitable for the current use case of CRCS. CRCS needs RCS ports roughly equally distributed around the centre of mass so that it can provide net thrust/torque in any 6-DOF direction for use as a docking aid. It is not yet designed for balancing rockets during ascent, where you would often only have RCS near the top of the vessel, and thus unequally distributed. That\u0027s why there\u0027s a big disable button in the window and why CRCS is disabled by default.\u003C/p\u003E\u003Cp\u003EHowever I do admit that the manual tuning is tedious. I am working on this.\u003C/p\u003E\n"},{"CreatedByName":"Huelander","CreatedById":66884,"CreatedDateTime":"2013-05-20T19:32:31Z","Content":"\n\u003Cp\u003EThanks, I will try the Tweakable Parameters method since saving the setting for each ship sounds really good. If possible, this function in the plugin would be great as ASAS is really convenient for docking or holding a station still.\u003C/p\u003E\n"},{"CreatedByName":"Barklight","CreatedById":57723,"CreatedDateTime":"2013-05-20T19:41:13Z","Content":"\n\u003Cp\u003EI\u0027m going to have to give this thing a test run tonight. It sounds like an AMAZING piece of work. I hate using mods like ORDA because they waste so much fuel, this will really help with my manual docking since I have a pension for building massive things in orbit.\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2013-05-20T20:17:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EIf you find no values work at all, then there\u0027s a good chance that your vessel is not suitable for the current use case of CRCS. CRCS needs RCS ports roughly equally distributed around the centre of mass so that it can provide net thrust/torque in any 6-DOF direction for use as a docking aid. It is not yet designed for balancing rockets during ascent, where you would often only have RCS near the top of the vessel, and thus unequally distributed. That\u0027s why there\u0027s a big disable button in the window and why CRCS is disabled by default.\u003Cp\u003EHowever I do admit that the manual tuning is tedious. I am working on this.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMan, i did was you said on the first post. My original ship had only 4 of 4x RCS trusters on center of mass, but as you explain on first post, it need to be \u0022around the center\u0022, so i put 4x4rcs on up and 4x4rcs on down (my ship take off and land vertically) i try to put at same distance from the center of mass, but because you claim the plugin as computer, i think it will balance accordingly. But didn\u0027t. If i raise the value, it turn off. So in lower values, it show a little trust, but on docking mode of mechjeb, the ship moves in the right angle, but keep losing in one of the 3 axis, going far and far away. Other thing i notice, is the 3th axis when i press \u0022enter\u0022 it not \u0022format the number \u0022 as happens on other two axis (3 first axis). Oh, i use Mac.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-20T20:31:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Climberfx\u0022 data-cite=\u0022Climberfx\u0022\u003E\u003Cdiv\u003EMan, i did was you said on the first post. My original ship had only 4 of 4x RCS trusters on center of mass, but as you explain on first post, it need to be \u0022around the center\u0022, so i put 4x4rcs on up and 4x4rcs on down (my ship take off and land vertically) i try to put at same distance from the center of mass, but because you claim the plugin as computer, i think it will balance accordingly. But didn\u0027t. If i raise the value, it turn off. So in lower values, it show a little trust, but on docking mode of mechjeb, the ship moves in the right angle, but keep losing in one of the 3 axis, going far and far away. Other thing i notice, is the 3th axis when i press \u0022enter\u0022 it not \u0022format the number \u0022 as happens on other two axis (3 first axis). Oh, i use Mac.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm... Looks like the formatting problem may be the key. It indicates that the new value is not being set or even checked, as if the \u0022enter\u0022 is not registering. Are you definitely using the latest (0.1.2a) version? Which box is it exactly? X, Y, Z, pitch, roll, yaw? I have heard of Unity incompatibility with Macs with a possibly similar issue. If it is that I should be able to fix it. BTW you are right, you should not need to worry about the distances between the thrusters.\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2013-05-20T21:09:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EHmm... Looks like the formatting problem may be the key. It indicates that the new value is not being set or even checked, as if the \u0022enter\u0022 is not registering. Are you definitely using the latest (0.1.2a) version? Which box is it exactly? X, Y, Z, pitch, roll, yaw? I have heard of Unity incompatibility with Macs with a possibly similar issue. If it is that I should be able to fix it. BTW you are right, you should not need to worry about the distances between the thrusters.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt was the latest version, yes.\u003C/p\u003E\u003Cp\u003EI don\u0027t remember if was x,y,z, pitch or roll, because i already uninstall it. But i know for shure that was the 3rd value from the 3 first. Unity work fine here. The game itself and the Unity for developersn, i install it i try it a little.\u003C/p\u003E\u003Cp\u003ELet me know if you change or fix some, so i can try again...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-05-21T05:00:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EBTW, it seems that the legal agreement for uploading to Space Port is very restrictive - Squad want sole rights to distribute plugins, i.e. you are not allowed to host an uploaded plugin anywhere else. For that reason I am not currently going to host this plugin on Space Port.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETheir English is not very good, but I think that 1.i. is saying that \u003Cem\u003Ethey\u003C/em\u003E will not upload your mod to any other site. I do not think you are restricted from doing so. The entire 1. section is describing authorizations and restrictions that \u003Cem\u003Eyou\u003C/em\u003E are granting to \u003Cem\u003Ethem\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/commercial-package-submission-guidelines/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/commercial-package-submission-guidelines/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-21T08:55:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003ETheir English is not very good, but I think that 1.i. is saying that \u003Cem\u003Ethey\u003C/em\u003E will not upload your mod to any other site. I do not think you are restricted from doing so. The entire 1. section is describing authorizations and restrictions that \u003Cem\u003Eyou\u003C/em\u003E are granting to \u003Cem\u003Ethem\u003C/em\u003E.\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/commercial-package-submission-guidelines/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kerbalspaceprogram.com/commercial-package-submission-guidelines/\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was looking at the bit just before that list:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ELikewise, you grant us the \u003Cstrong\u003Eexclusive\u003C/strong\u003E right, during the term (stipulated in clause 2), in order to: ...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich seems to me to mean that only SQUAD are allowed to do any of the things in that list, including\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Ed) Place your products in websites, SQUAD advertisements and, in general, in \u003Cstrong\u003Eany other communication means\u003C/strong\u003E currently known or to be known.\u003C/div\u003E\u003C/blockquote\u003Ewhich presumably includes hosting on other sites.\u003Cp\u003EYou may be right that they did not intend this, and I\u0027m no legalese expert (IANAL), but I would like proper clarification before I upload.\u003C/p\u003E\n"},{"CreatedByName":"Keenan Smith","CreatedById":60992,"CreatedDateTime":"2013-05-21T09:06:56Z","Content":"\n\u003Cp\u003Eooh im going to have to try this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nikkri","CreatedById":40099,"CreatedDateTime":"2013-05-21T09:44:56Z","Content":"\n\u003Cp\u003Epictures pliz\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-05-21T10:15:06Z","Content":"\n\u003Cp\u003EThere\u0027s nothing to picture, really. You\u0027ll only feel the difference when actually using the plugin. \u003C/p\u003E\u003Cp\u003EBTW, and ETA on this plugin being able to control off-axis engines?\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-05-21T12:30:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dragon01\u0022 data-cite=\u0022Dragon01\u0022\u003E\u003Cdiv\u003EThere\u0027s nothing to picture, really. You\u0027ll only feel the difference when actually using the plugin. \u003Cp\u003EBTW, and ETA on this plugin being able to control off-axis engines?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can see the varying intensity of RCS ports depending on their location, but that\u0027s not really worth a picture.\u003C/p\u003E\u003Cp\u003EI agree engine thrust balancing is a very nice feature to have, but I am currently focussing on improving the usability and performance first as per the goals I set in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/29387-0-19-1-KerbCom-Avionics-Coordinated-RCS-0-1-2a?p=371352\u0026amp;viewfull=1#post371352\u0022 rel=\u0022external nofollow\u0022\u003Epost 27\u003C/a\u003E. The more control I give this plugin over your vessel, the more it needs to be fast and easy to use. And of course, the ETA for everything is \u003Cem\u003EWhen It\u0027s Ready\u003C/em\u003E\u003Csup\u003E\u003Cem\u003ETM\u003C/em\u003E\u003C/sup\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-21T13:37:30Z\u0022 title=\u002205/21/2013 01:37  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 21, 2013\u003C/time\u003E by ZRM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"grom","CreatedById":57418,"CreatedDateTime":"2013-06-21T02:05:57Z","Content":"\n\u003Cp\u003EAny chance of releasing the source code or better having it on github? I would love to help work on this with you as the default RCS system annoys me to no end.\u003C/p\u003E\n"},{"CreatedByName":"SchroedingersHat","CreatedById":60782,"CreatedDateTime":"2013-06-21T02:59:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E[*] Improve the current solver with a matrix decomposition method (e.g. \u003Ca href=\u0022https://en.wikipedia.org/wiki/Singular_value_decomposition\u0022 rel=\u0022external nofollow\u0022\u003ESingular Value Decomposition\u003C/a\u003E). This should improve performance and allow the GUI to give an idea of the responsiveness range and suitable default settings, as well as providing a compromise solution (i.e. clamp to max thrust) instead of no thrust when the old solver would have been \u0022Out of Bounds\u0022.\u003C/p\u003E\u003Cp\u003E[*] Multithread the solver - even if the new solver is fast enough for large vessels to function adequately multithreading will decouple the system from the frame rate. For example, currently I get 15FPS for a vessel with 88 RCS ports if CRCS is active, and 120FPS (vsync) if it is not. Even if the new solver is just as slow, moving it out of the frame update thread will make its slowness affect the frame rate only slightly (and not at all in machines with an adequate number of cores).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you are doing all your own calculations, maybe you could do them less frequently by using Runge Kutta or similar rather than Euler?\u003C/p\u003E\u003Cp\u003EAlso perhaps you could cache expensive calculations. Record coefficients for each RCS thruster that you expect to give you 0 angular momentum in whatever direction, then just look at the change in angular momentum each frame, if it\u0027s above some error margin recaclulate.\u003C/p\u003E\u003Cp\u003ERe. Feature requests, a fuel efficiency option would be neat. Have an option in the GUI somewhere and if clicked it will only fire the RCS ports that have a large moment about the axis (for rotation) or net thrust (for translation). Maybe rank all the thrusters against each other and pick only those with more than the mean (median? first quartile? would have to see what works). For translation it\u0027d be simpler as you could fire only those that are at less than 45 degrees from your desired angle intentionally, then add enough using the other scheme to cancel rotation.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-21T03:02:55Z\u0022 title=\u002206/21/2013 03:02  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 21, 2013\u003C/time\u003E by SchroedingersHat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Frederf","CreatedById":3844,"CreatedDateTime":"2013-06-21T05:01:25Z","Content":"\n\u003Cp\u003EOne of the primary reasons I use Hydrotech RCS is because it has an RCS scaling \u0022throttle.\u0022 Another excellent feature is that it\u0027s able to apply RCS thrust continuously and/or via main throttle. If you were to adopt these I think it would help the overall goal of the mod (more RCS control) and save me having so many darn mods. Basically I think RCS is crazy powerful and it becomes a chore to keep my impulses small during maneuvers. Having the RCS balanced, throttled, and toggle/momentary switchable would be the perfect storm of RCS control mods.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-06-21T10:12:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SchroedingersHat\u0022 data-cite=\u0022SchroedingersHat\u0022\u003E\u003Cdiv\u003EIf you are doing all your own calculations, maybe you could do them less frequently by using Runge Kutta or similar rather than Euler?\u003Cp\u003EAlso perhaps you could cache expensive calculations. Record coefficients for each RCS thruster that you expect to give you 0 angular momentum in whatever direction, then just look at the change in angular momentum each frame, if it\u0027s above some error margin recaclulate.\u003C/p\u003E\u003Cp\u003ERe. Feature requests, a fuel efficiency option would be neat. Have an option in the GUI somewhere and if clicked it will only fire the RCS ports that have a large moment about the axis (for rotation) or net thrust (for translation). Maybe rank all the thrusters against each other and pick only those with more than the mean (median? first quartile? would have to see what works). For translation it\u0027d be simpler as you could fire only those that are at less than 45 degrees from your desired angle intentionally, then add enough using the other scheme to cancel rotation.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Frederf\u0022 data-cite=\u0022Frederf\u0022\u003E\u003Cdiv\u003EOne of the primary reasons I use Hydrotech RCS is because it has an RCS scaling \u0022throttle.\u0022 Another excellent feature is that it\u0027s able to apply RCS thrust continuously and/or via main throttle. If you were to adopt these I think it would help the overall goal of the mod (more RCS control) and save me having so many darn mods. Basically I think RCS is crazy powerful and it becomes a chore to keep my impulses small during maneuvers. Having the RCS balanced, throttled, and toggle/momentary switchable would be the perfect storm of RCS control mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry for not yet linking it in this thread, but \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/28044-WIP-Analytical-RCS-thrust-balancing\u0022 rel=\u0022external nofollow\u0022\u003Ethe dev thread\u003C/a\u003E should keep both of you up to speed with the current development progress and algorithms being used. As you can see in the most recent posts there, performance is no longer an issue due to my implementation of a different optimisation algorithm providing unparalleled performance. The new (unreleased, but nearing release) version also has an RCS strength slider for each direction/axis. This makes it ideal for easy precision maneuvering. The new version does not require any manual configuration in order to work. It automatically scales input based on the detected capabilities of the vessel. You can enable/disable it via action groups, and you can enable/disable angular control separately. This is useful for stopping ASAS from interfering with docking. Regarding efficiency, the new solver automatically finds the most fuel efficient solution for the desired thrust vector. If you find fuel usage is higher than desired, decrease the RCS strength. It will always find the most efficient solution for the specified strength and input.\u003C/p\u003E\u003Cp\u003EThe project is also expanding into engine thrust balancing, as it is essentially the same problem (balancing thrusts). This means that in the new version you need not worry about VTOLs or rotationally asymmetrical launch vehicles falling over.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022grom\u0022 data-cite=\u0022grom\u0022\u003E\u003Cdiv\u003EAny chance of releasing the source code or better having it on github? I would love to help work on this with you as the default RCS system annoys me to no end.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will PM you about this. Unfortunately the situation is currently not very straightforward.\u003C/p\u003E\n"},{"CreatedByName":"Frederf","CreatedById":3844,"CreatedDateTime":"2013-06-21T22:54:28Z","Content":"\n\u003Cp\u003EThe sliders sound good. Fine control is sorely lacking in most of KSP.\u003C/p\u003E\u003Cp\u003ECurious if the RCS balancer takes into consideration pod torque.\u003C/p\u003E\u003Cp\u003EDoes CRCS synergize with ASAS well?\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2013-06-22T08:18:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EUnfortunately the situation is currently not very straightforward.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SQUAD\u0022 data-cite=\u0022SQUAD\u0022\u003E\u003Cdiv\u003E4.2 Addon licensing\u003Cp\u003EAll addons, plugins and similar works (such as code, textures or models) posted on the services as meant in 1.1 must be accompanied by the source code (if applicable) and a license in both the post and the download file. Any works derived from addons, plugins and similar works must attribute the original work and provide proof of rights to use the original work. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou really need to include the source for the plugin ZRM, sorry but it\u0027s the rules, I\u0027ll leave this thread up for now but it\u0027ll have to be added either here or in the zip soon.\u003C/p\u003E\u003Cp\u003EIf the plugin was a collaborative effort, get the required permissions and add them to the readme/license.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2013-06-28T01:57:45Z","Content":"\n\u003Cp\u003EThis thread seems scarily dead. Please tell me it ain\u0027t so.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-06-28T10:19:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022evilC\u0022 data-cite=\u0022evilC\u0022\u003E\u003Cdiv\u003EThis thread seems scarily dead. Please tell me it ain\u0027t so.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, it\u0027s not dead, just waiting - waiting for me to finish the implementation of the engine balancing VTOL mode. I\u0027m getting there. When that\u0027s done, there will (hopefully) be lots of inspirational images of VTOL SSTOs and other contraptions that you can achieve with this mod.\u003C/p\u003E\n"}]}