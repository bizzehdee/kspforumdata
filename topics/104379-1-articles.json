{"TopicId":104379,"ForumId":15,"TopicTitle":"emissive problems in unity/ ModuleAnimateHeat not working","CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-18T16:42:35Z","PageNum":1,"Articles":[{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-18T16:42:35Z","Content":"\n\u003Cp\u003EHi all I am having problems with emissives for some engines I am making, I have never had any problems with emissives before but have never done them for an engine/ ones that are triggered by a module before so I am probably just going wrong somewhere down the line and haven\u0027t realised, although I have revisited CardBoardBoxProcessor\u0027s tutorial, followed it step by step, and still come out with the same result, basically the problem is that the engine emissive is always at the frame that the animation is on when it is written in unity, so if it\u0027s at the start of the animation then nothing appears, if it\u0027s at the end its always at its most intense glow, this is with \u0022always animate\u0022 unticked and the animation on the root GameObject at the top of the hierarchy. this is what my unity screen looks like:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://40.media.tumblr.com/216287f0de336463b2bb4e09b935b7e7/tumblr_nn0gvw28x81r0o48lo1_1280.png\u0022 alt=\u0022tumblr_nn0gvw28x81r0o48lo1_1280.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Eand this is what my config looks like:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EPART{\u003Cp\u003E// Kerbal Space Program - Part Config\u003C/p\u003E\u003Cp\u003E// LiLFA\u003C/p\u003E\u003Cp\u003E// \u003C/p\u003E\u003Cp\u003E// --- general parameters ---\u003C/p\u003E\u003Cp\u003Ename = 1.25mLiLFA\u003C/p\u003E\u003Cp\u003Emodule = Part\u003C/p\u003E\u003Cp\u003Eauthor = Squiggsy\u003C/p\u003E\u003Cp\u003E// --- asset parameters ---\u003C/p\u003E\u003Cp\u003Emesh = model.mu\u003C/p\u003E\u003Cp\u003ErescaleFactor = 1\u003C/p\u003E\u003Cp\u003E// --- node definitions ---\u003C/p\u003E\u003Cp\u003Enode_stack_top = 0.0, 0.0 , 0.0, 0.0, 1.0, 0.0, 1\u003C/p\u003E\u003Cp\u003Enode_stack_bottom = 0.0, -1.0, 0.0, 0.0, 1.0, 0.0, 1\u003C/p\u003E\u003Cp\u003E// --- FX definitions ---\u003C/p\u003E\u003Cp\u003Efx_exhaustFlame_blue = 0.0, -0.0, 0.0, 0.0, 1.0, 0.0, running\u003C/p\u003E\u003Cp\u003Efx_exhaustLight_blue = 0.0, -0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/p\u003E\u003Cp\u003E// --- Sound FX definition ---\u003C/p\u003E\u003Cp\u003Esound_vent_medium = engage\u003C/p\u003E\u003Cp\u003Esound_rocket_hard = running\u003C/p\u003E\u003Cp\u003Esound_vent_soft = disengage\u003C/p\u003E\u003Cp\u003Esound_explosion_low = flameout\u003C/p\u003E\u003Cp\u003E// --- editor parameters ---\u003C/p\u003E\u003Cp\u003ETechRequired = ionPropulsion\u003C/p\u003E\u003Cp\u003EentryCost = 16000\u003C/p\u003E\u003Cp\u003Ecost = 7500\u003C/p\u003E\u003Cp\u003Ecategory = Propulsion\u003C/p\u003E\u003Cp\u003Esubcategory = 0\u003C/p\u003E\u003Cp\u003Etitle = LiLFA EPS125\u003C/p\u003E\u003Cp\u003Emanufacturer = SquiggsySpace Research\u003C/p\u003E\u003Cp\u003Edescription = The LiLFA (Lithium Lorenz Force Accellerator) uses what the boys in the lab describe as \u0022some kind of magic, or plasma, we\u0027re not sure\u0022 to propel ships at high levels of thrust for such an efficient engine, with the trade off of extemely high energy usage. Designed for use in a vacuum\u003C/p\u003E\u003Cp\u003E// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\u003C/p\u003E\u003Cp\u003EattachRules = 1,0,1,0,0\u003C/p\u003E\u003Cp\u003E// --- standard part parameters ---\u003C/p\u003E\u003Cp\u003Emass = 0.05\u003C/p\u003E\u003Cp\u003EdragModelType = default\u003C/p\u003E\u003Cp\u003Emaximum_drag = 0.2\u003C/p\u003E\u003Cp\u003Eminimum_drag = 0.2\u003C/p\u003E\u003Cp\u003EangularDrag = 2\u003C/p\u003E\u003Cp\u003EcrashTolerance = 7\u003C/p\u003E\u003Cp\u003EmaxTemp = 3600\u003C/p\u003E\u003Cp\u003ERESOURCE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = LiquidLithium\u003C/p\u003E\u003Cp\u003E amount = 500\u003C/p\u003E\u003Cp\u003E maxAmount = 500\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003ERESOURCE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ElectricCharge\u003C/p\u003E\u003Cp\u003E amount = 350\u003C/p\u003E\u003Cp\u003E maxAmount = 350\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleEngines\u003C/p\u003E\u003Cp\u003E thrustVectorTransformName = thrustTransform\u003C/p\u003E\u003Cp\u003E exhaustDamage = False\u003C/p\u003E\u003Cp\u003E ignitionThreshold = 0.1\u003C/p\u003E\u003Cp\u003E minThrust = 0\u003C/p\u003E\u003Cp\u003E maxThrust = 24\u003C/p\u003E\u003Cp\u003E heatProduction = 600\u003C/p\u003E\u003Cp\u003E fxOffset = 0, 0, 0.21\u003C/p\u003E\u003Cp\u003E PROPELLANT\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = LiquidLithium\u003C/p\u003E\u003Cp\u003E ratio = 0.5\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E PROPELLANT\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = ElectricCharge\u003C/p\u003E\u003Cp\u003E ratio = 3\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E atmosphereCurve\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E key = 0 4077\u003C/p\u003E\u003Cp\u003E key = 1 4077\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleAnimateHeat\u003C/p\u003E\u003Cp\u003E ThermalAnim = lilfaengineemissive\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eif anyone has any ideas I would be so very grateful I have put off posting on here and tried multiple times to find the solution to this myself but after countless combinations of different attempts at fixes I am no closer to finding the solution :\\\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-18T16:48:19Z\u0022 title=\u002204/18/2015 04:48  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 18, 2015\u003C/time\u003E by Squiggsy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-18T19:21:17Z","Content":"\n\u003Cp\u003Eok so there is definitely something wrong here and I cannot for the life of me figure it out, decided to try with \u003Cspan style=\u0022color:#333333;\u0022\u003EFXModuleAnimateThrottle instead to see if it was something wrong with my code for ModuleAnimateHeat but it still has the same problem, the animation doesnt play, it is just permanently on whatever frame it was on when I write the model and textures in parttools :\\ I have tried every combination I can possibly think off and just always get the same result\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-22T16:18:59Z","Content":"\n\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E guess no ideas are forthcoming, this is a shame I guess I will omit the emissives then\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-04-22T16:25:52Z","Content":"\n\u003Cp\u003Ewhich version of Unity are you using? if you want to share the unity assets I\u0027ll take a look at it\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-29T22:11:33Z","Content":"\n\u003Cp\u003EAh sorry for the late reply I had given up on this post haha\u003C/p\u003E\u003Cp\u003EI am using version 4.2.2 and yes in the morning when I have the time I will definitely share the unity assets if thats ok, thanks for the reply \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eyour tutorials are amazing and have helped me so much thank you for making them by the way!\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-04-29T22:33:34Z","Content":"\n\u003Cp\u003EThere is a way to force the latest versions of Unity (4.3\u002B) to use the legacy animation method for animated emissives:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sumghai\u0022 data-cite=\u0022sumghai\u0022\u003E\u003Cdiv\u003EI\u0027m using the latest version of Unity, and in order to get animated emissives to work, I had to hack up the animation files with a text editor to force it to use the legacy (i.e. not the new mecanim) animation system:\u003Cp\u003E\u003Ca href=\u0022http://answers.unity3d.com/questions/622005/legacy-animation-system-cannot-animate-colors.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://answers.unity3d.com/questions/622005/legacy-animation-system-cannot-animate-colors.html\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESince I could get this hack to work consistently in my projects, I should probably write a proper tutorial for this - maybe this weekend.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mbartelsm\u0022 data-cite=\u0022mbartelsm\u0022\u003E\u003Cdiv\u003EWith a text editor? I tried and all I see are random symbols\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sumghai\u0022 data-cite=\u0022sumghai\u0022\u003E\u003Cdiv\u003EWhoops, missing bit of critical info!\u003Cp\u003EIn Unity, go to \u003Cstrong\u003EEdit \u0026gt; Project Settings \u0026gt; Editor\u003C/strong\u003E - in the \u003Cstrong\u003EInspector\u003C/strong\u003E window/dialog/pane that appears, set the \u003Cstrong\u003EAsset Serialization \u003C/strong\u003Emode to \u003Cstrong\u003EForce Text\u003C/strong\u003E. This forces Unity to recompile all the animation files to use plain text rather than the default binary setting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mbartelsm\u0022 data-cite=\u0022mbartelsm\u0022\u003E\u003Cdiv\u003EOk, finally managed to fix it\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EOpen Unity\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EClick the little menu icon to the right of the \u003Cstrong\u003EInspector\u003C/strong\u003E tab\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESelect the \u003Cstrong\u003EDebug\u003C/strong\u003E option\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESelect your animation in the \u003Cstrong\u003EProject\u003C/strong\u003E Tab\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIn the Inspector change \u003Cstrong\u003EAnimation type\u003C/strong\u003E from \u003Cstrong\u003E2\u003C/strong\u003E to \u003Cstrong\u003E1\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGo to \u003Cstrong\u003EEdit \u0026gt; Project Settings \u0026gt; Editor\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIn the \u003Cstrong\u003EInspector\u003C/strong\u003E tab set \u003Cstrong\u003EAsset Serialization mode\u003C/strong\u003E to \u003Cstrong\u003EForce Text\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EBrowse your PC for the .anim file and open it with a plain text editor, notepad will do\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EChange all \u003Cstrong\u003EClassID\u003C/strong\u003E from \u003Cstrong\u003E23\u003C/strong\u003E to \u003Cstrong\u003E21\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERemove all \u003Cstrong\u003Ematerial.\u003C/strong\u003E prefixes from the \u003Cstrong\u003Eattribute:\u003C/strong\u003E sections but leave the rest (ie \u0022material._EmissiveColor.r\u0022 becomes \u0022_EmissiveColor.r\u0022)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003ESave\u003C/strong\u003E the file\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003EExport\u003C/strong\u003E your project\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERemember to assign the animation in the config file\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks to Sumghai for the help\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-30T08:54:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sumghai\u0022 data-cite=\u0022sumghai\u0022\u003E\u003Cdiv\u003EThere is a way to force the latest versions of Unity (4.3\u002B) to use the legacy animation method for animated emissives:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eohh thanks for that bit of info I might try that out today and see if it fixes my problem, got some new stuff im working on for a project and a couple of engines are included into the command pod for it (dragon v2 style):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ULSpVju.png\u0022 alt=\u0022ULSpVju.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-05-08T19:59:53Z","Content":"\n\u003Cp\u003EI FINALLY GOT IT TO WORK\u003C/p\u003E\u003Cp\u003Esorry i keep completely forgetting about this post and getting sidetracked, i have NO IDEA what I did right this time which is a shame but I know the steps I took so I guess I just have to repeat them painstakingly from now on..\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2015-05-08T21:08:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Squiggsy\u0022 data-cite=\u0022Squiggsy\u0022\u003E\u003Cdiv\u003EI FINALLY GOT IT TO WORK\u003Cp\u003Ei have NO IDEA what I did right this time \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWelcome to KSP/Unity modding, It won\u0027t be the last time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-05-08T23:26:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiberion\u0022 data-cite=\u0022Tiberion\u0022\u003E\u003Cdiv\u003EWelcome to KSP/Unity modding, It won\u0027t be the last time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ehaha it wasn\u0027t the first time either \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E god unity does my head in sometimes, although in truth it is invariably not unitys fault but my own , I just hope I can repeat these good results in future. I finally got moduleanimatethrottle to work the other day too so i must be doing something right!\u003C/p\u003E\n"}]}