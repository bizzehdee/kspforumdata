{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":30,"Articles":[{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-05T06:16:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EGot it, thanks for bringing it to my attention. I\u0027ll investigate.\u003Cp\u003EAre you both using stock KSP \u002B KSPTOTConnect only? Does it only happen after creating a maneuver node?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn the test install I use and still had one of those \u0022broken\u0022 vessels after uploading a maneuver for with KSPTOT Connect, I also have MechJeb 2.2.1 (build 255) (needed to compare data for the maneuver) and few mods I don\u0027t think have any relationship to the issue (Toolbar, ModuleManager, Ferram_Aerospace_Research, Action_Groups_Extended, RCS_BuildAid).\u003C/p\u003E\u003Cp\u003EYes, happens only for vessels that had a maneuver created by uploading it from KSPTOT. And they seem fine after creating the node, game shows no problem with them. When you reload the game, that vessel is \u0022broken\u0022.\u003C/p\u003E\u003Cp\u003ENote, also, I had that with vessels keeping the maneuver node stored: I had not actually made the required burn. \u003C/p\u003E\u003Cp\u003EHave a suspect the issue is due to something very small and almost unnoticeable, that KSP is unable to detect at runtime but does while loading. Maybe sometimes a type mismatch occurs with the \u0022Maneuver\u0022 block of data, though why that could bring to breaking vessels is unknown.\u003C/p\u003E\n"},{"CreatedByName":"Hattivat","CreatedById":110255,"CreatedDateTime":"2014-07-05T10:35:30Z","Content":"\n\u003Cp\u003EFirst of all, thank you for this excellent tool.\u003C/p\u003E\u003Cp\u003EOne noobish question: is there a way to set a minimum fly-by distance in the multi-flyby maneuver sequencer? I\u0027m trying to create something like the TMK-MAVR mission in RSS, but as I\u0027m playing career mode, it would be swell if I could get \u0022in space near\u0022 for both planets.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-05T10:55:11Z","Content":"\n\u003Cp\u003EOK, decided to do testing more seriously on this KSPTOT Connect issue. And I found something weird. \u003C/p\u003E\u003Cp\u003EClean KSP 0.23.5, install, with KSPTOTConnect, Toolbar, plus VOID and PreciseNode to evaluate maneuvers (those mods don\u0027t add anything to savegames). \u003C/p\u003E\u003Cp\u003EI made a very simple scenario, just one vessel in orbit. Made a manual node just to have a reference save with a maneuver in it; then used KSPTOTConnect with the vessel, and saved. Then compared saves. Please find \u003Ca href=\u0022https://www.dropbox.com/s/47c873jg91cqmxn/Test%20KSPTOTConnect.zip\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Esaves here\u003C/strong\u003E\u003C/a\u003E to compare.\u003C/p\u003E\u003Cp\u003EThe result is that, just with connecting to the vessel, its parts are scrambled. It has nothing to do with the uploaded maneuver, I had the \u0022broken\u0022 ship (and the scrambled parts) without uploading any maneuver, just by connecting that vessel. In those saves, the first part in the vessel is @ line 692 (should be the root part). The quicksave has it correctly (a \u0022probeStackSmall\u0022), the save after connecting has a different part (one of those still visible with the broken vessel). \u003C/p\u003E\u003Cp\u003EBefore...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/8PJO62I.png\u0022 alt=\u00228PJO62I.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Eand after...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/2j9HkjO.png\u0022 alt=\u00222j9HkjO.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: The scrambling of parts seems to happen for the vessel that is selected through the list that appears in the MCC \u0022Select Vessel\u0022 dialog, after that list is populated by selecting \u0022Test Connect to Remote Host\u0022. It is possible to upload a maneuver without trouble for a vessel, is that vessel is not selected through that list, and the orbital parameters required to compute burns are instead obtained from the \u0022Compute Departure Burn\u0022 dialog (right-click on orbital params, select \u0022Get Orbit from KSP\u0022 and then select the desired vessel from the list in the \u0022Import Orbit from..\u0022 dialog.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-05T12:10:57Z\u0022 title=\u002207/05/2014 12:10  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 5, 2014\u003C/time\u003E by diomedea\u003C/strong\u003E\n\u003Cbr\u003Emore info added\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-07-07T04:27:33Z","Content":"\n\u003Cp\u003ESo in retrospect, the issue with the parts going all wonky as shown in the above screenshots was actually pretty stupid on my part. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Can anyone see the issue in my code that generates the list of part temperatures for the MCC code?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E            \u003Cbr\u003E            List\u0026lt;Part\u0026gt; parts = vessel.Parts;\u003Cbr\u003E            parts.Sort(new PartSortByTempLimit());\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe issue is that the \u0022parts\u0022 List is not a new List, but instead a \u003Cem\u003Ereference\u003C/em\u003Eto the same List that KSP uses to sort parts. So when I sorted it, I sorted the same list that\u0027s used to generate the SFS files, and that apparently screws things up in the save/load of those same SFS files.\u003C/p\u003E\u003Cp\u003EFrankly, I think this is a bug with KSP, but I\u0027m not going to worry to much about it for the time being. Good to know though anyway.\u003C/p\u003E\u003Cp\u003EThe fix is essentially done (and tested, I don\u0027t get the issue any more over here), but I don\u0027t have time to release tonight, so I\u0027ll get it out tomorrow. Hang time in the mean time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Thanks diomedea and Kobymaru for the reporting and investigation!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EOh, diomedea, I also removed asteroids from the list of selectable vessels in KSPTOT\u0027s MCC Vessel Select dialog. Hopefully that resolves the issue you reported. Please let me know if it doesn\u0027t. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2014-07-07T09:49:44Z","Content":"\n\u003Cp\u003EIs there a way to write a small tool that fixes up the original part order?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-07-07T13:26:55Z","Content":"\n\u003Cp\u003EUnfortunately, the original part order is lost upon sorting as I did. The best I can recommend is to copy/paste the root part back to the top of the vessel\u0027s part tree in your persistent.sfs or quicksave.sfs file (root parts have the line parent == 0 in them I think). I haven\u0027t tried it myself, but that may actually resolve the problem. Please give that a try and let me know how it works.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-07T14:31:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kobymaru\u0022 data-cite=\u0022Kobymaru\u0022\u003E\u003Cdiv\u003EIs there a way to write a small tool that fixes up the original part order?\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EUnfortunately, the original part order is lost upon sorting as I did. The best I can recommend is to copy/paste the root part back to the top of the vessel\u0027s part tree in your persistent.sfs or quicksave.sfs file (root parts have the line parent == 0 in them I think). I haven\u0027t tried it myself, but that may actually resolve the problem. Please give that a try and let me know how it works.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEh, I did try just switching back the root part to be first in the vessel definition. Works for that part, but not for the other parts missing. So, probably every single part has to be switched back to where it belongs.\u003C/p\u003E\u003Cp\u003E So, it is needed to know where those parts actually were before the scramble. To help, the .craft file holds a lot of useful info about those parts, but parts there are in the order they are created in VAB, unfortunately a .craft is parsed when entering flight mode, each part to be ordered based on the stage it belongs. I know of no tool designed to reorder a vessel parts. With a simple enough vessel (certainly less than 50 parts), applying some simple rules with the info from the .craft file, should be possible to have the correct order back just by editing the savegame (warning: easily worse problems may arise from unproper editing). With the very simple vessel I used for those tests, I can see the correct order of parts is, starting from the root part, every part as it connects to the down node of the previous part; then (probably in no specific order), parts connected to the top node (again starting from the root part) and radially attached parts. If more than one stage is present, parts with following stages will go afterwards (direct stage order). \u003C/p\u003E\u003Cp\u003EKobymaru, hope the above helps in case you want to try manual editing. I am not a specialist with KSP savegames, but generally know my way with most of the information included; if you want, I may try to have a look at your savegame and (also with a .craft file of the vessel and a list of mods used) possibly try to reorder it for you.\u003C/p\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2014-07-07T19:47:25Z","Content":"\n\u003Cp\u003EThanks diomedea for your thoughts \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI think since I can recover half the ship in another way, I will just launch it again. No biggie, and definitely less hassle then going throug .craft/.sfs files.\u003C/p\u003E\n"},{"CreatedByName":"adalast","CreatedById":99820,"CreatedDateTime":"2014-07-07T21:19:22Z","Content":"\n\u003Cp\u003EI am having the problem with then mclFreeStackTrace as well. I am running windows 8.1 and deleting the folder then reextracting the zip does fix the problem for a single run. After that, I go back to the mcl error. I also am enjoying the plugin, though I am still trying to master using it. I really want to plan some multi-planet flybys with a probe, but It is not going to happen with the current problem.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-07-08T04:36:23Z","Content":"\n\u003Cp\u003EHi everyone,\u003C/p\u003E\u003Cp\u003EI\u0027m pleased to announce the release of \u003Cstrong\u003EKSP TOT v1.1.5. \u003C/strong\u003EThis is a bugfix release that corrects the following issues:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVessels no longer have parts disappear upon loading a save when using the KSP TOT MCC suite.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAsteroids are no longer selectable from the MCC Vessel Selection dialog box.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPlease see the first post in this thread for the download link. I \u003Cstrong\u003Ehighly\u003C/strong\u003E recommend that everyone update, as the first issue corrected by this fix is a major one.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kobymaru\u0022 data-cite=\u0022Kobymaru\u0022\u003E\u003Cdiv\u003EThanks diomedea for your thoughts \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EI think since I can recover half the ship in another way, I will just launch it again. No biggie, and definitely less hassle then going throug .craft/.sfs files.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, sounds good. Sorry about destroying your ship! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adalast\u0022 data-cite=\u0022adalast\u0022\u003E\u003Cdiv\u003EI am having the problem with then mclFreeStackTrace as well. I am running windows 8.1 and deleting the folder then reextracting the zip does fix the problem for a single run. After that, I go back to the mcl error. I also am enjoying the plugin, though I am still trying to master using it. I really want to plan some multi-planet flybys with a probe, but It is not going to happen with the current problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOut of curiosity, where are you unzipping the KSPTOT ZIP file to? Have you tried restarting after installing the MCR? Have you tried unzipping the KSPTOT ZIP file to somewhere that you definitely have write privs, such as a folder on the desktop?\u003C/p\u003E\u003Cp\u003EI\u0027m glad you like using KSP TOT! Hopefully we can get these issues resolved quickly. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-08T07:40:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027m pleased to announce the release of \u003Cstrong\u003EKSP TOT v1.1.5. \u003C/strong\u003EThis is a bugfix release that corrects the following issues:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVessels no longer have parts disappear upon loading a save when using the KSP TOT MCC suite. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAsteroids are no longer selectable from the MCC Vessel Selection dialog box. \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan confirm both fixes work on my end. Good job \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E!\u003C/p\u003E\u003Cp\u003EJust a minor note, now that asteroids can\u0027t be selected anymore, I find with the MCC RTS \u0022Select Vessel\u0022 dialog this \u0022Warning: Selecting asteroids may cause issues when using the RTS\u0022. Certainly a temporary solution, but now no more required.\u003C/p\u003E\u003Cp\u003EIn the hope that all major bugs are now sorted so you may have time and will to go about minor things again, I\u0027d like to bring attention back on those two I mentioned few days ago (sorry for the self-reference \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E), possibly lost in the clamor:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E1) Again using orbital data in MCC from one ship while flying another in KSP. Orbital data is retrieved fine, but then when I want to upload the maneuver found by KSPTOT back to KSP, it is uploaded with the vessel being flown, not the one the data retrieved was about (of course I notice there is no way to select a specific vessel while uploading a maneuver to KSP, so probably this is just another thing to warn the users about, and nothing more).\u003C/p\u003E\u003Cp\u003E2) A word from you about how to set-up the upload maneuver correctly may be a blessing. The \u0022Upload Maneuver to KSP\u0022 window has the option to select the Time Type (UT or Time past Periapsis). It defaults to UT. I found the uploaded maneuvers being wildly wrong in KSP if that option is \u0022UT\u0022, but closer if \u0022Time past Periapsis\u0022 (afterwards, noticed the DV Maneuver Information panel in the Departure Burn window actually uses \u0022Time past Periapsis\u0022). Still, the uploaded maneuver in KSP is not exactly right (KSP does not show a rendezvous), so I may be missing something else.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"PlonioFludrasco","CreatedById":98915,"CreatedDateTime":"2014-07-08T10:46:58Z","Content":"\n\u003Cp\u003EHey guys, I have a question: how can I plan a mission to an asteroid (that\u0027s going to cross Kerbin SOI) using KSPTOT? Thanks!!!\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-08T12:06:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PlonioFludrasco\u0022 data-cite=\u0022PlonioFludrasco\u0022\u003E\u003Cdiv\u003EHey guys, I have a question: how can I plan a mission to an asteroid (that\u0027s going to cross Kerbin SOI) using KSPTOT? Thanks!!!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent question! KSPTOT computes trajectories with planetary bodies in its \u0022bodies.ini\u0022 file, and of course it includes by default the standard planets and moons in KSP (with an option now to make a new file from what bodies are defined in KSP at runtime). Asteroids are not among those bodies, so to compute trajectories with them, their orbital parameters must be inserted (by hand) in the bodies.ini file.\u003C/p\u003E\u003Cp\u003EOrbital parameters for any \u0022vessel\u0022 (including asteroids) are found in all savegames, within the \u0022ORBIT { ...}\u0022 section; the parameters shown are:\u003C/p\u003E\u003Cp\u003ESMA (semi-Major Axis of the orbit), in meters\u003C/p\u003E\u003Cp\u003EECC (Eccentricity of the orbit)\u003C/p\u003E\u003Cp\u003EINC (Inclination of the orbit), in degrees\u003C/p\u003E\u003Cp\u003ELPE (Longitude of Periapsis), in degrees\u003C/p\u003E\u003Cp\u003ELAN (Longitude of Ascending Node), in degrees\u003C/p\u003E\u003Cp\u003EMNA (Mean Anomaly), in degrees\u003C/p\u003E\u003Cp\u003EEPH (Epoch), Time in seconds (UT) when the above parameters were given (Mean Anomaly changes with time)\u003C/p\u003E\u003Cp\u003EREF (Reference Body) is the numerical identifier of the parent body the asteroid is orbiting (0 = Sun; 1 = Kerbin...).\u003C/p\u003E\u003Cp\u003EWith the bodies.ini used by KSPTOT, some changes are required to fit those parameters. \u003C/p\u003E\u003Cp\u003EFirst, create a new section (or copy another one) within bodies.ini, and change the name of the body to fit our asteroid (e.g. \u0022[Ast_XXX]\u0022, beware KSPTOT does not accept spaces); then modify the following lines with the parameters from the savegame:\u003C/p\u003E\u003Cp\u003EEPH must be copied to \u0022epoch = \u0022\u003C/p\u003E\u003Cp\u003ESMA must be converted in Km and then copied to \u0022sma = \u0022\u003C/p\u003E\u003Cp\u003EECC must be copied to \u0022ecc = \u0022\u003C/p\u003E\u003Cp\u003EINC must bo copied to \u0022inc = \u0022\u003C/p\u003E\u003Cp\u003ELAN must be copied to \u0022raan = \u0022 (Right Ascension of the Ascending Node, is the same as the LAN when referenced to a geocentric orbit)\u003C/p\u003E\u003Cp\u003ELAN must be subtracted from LPE, the result (always within 360\u00C3\u201A\u00C2\u00B0) be copied in \u0022arg = \u0022 (\u003Ca href=\u0022https://en.wikipedia.org/wiki/Argument_of_periapsis\u0022 rel=\u0022external nofollow\u0022\u003EArgument of Periapsis\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EMNA must be copied to \u0022mean = \u0022\u003C/p\u003E\u003Cp\u003EREF must be copied to \u0022parentID = \u0022\u003C/p\u003E\u003Cp\u003EAlso, the name of the parent body (initially, Sun), must be copied in \u0022parent = \u0022\u003C/p\u003E\u003Cp\u003Ethe name of the asteroid to be copied with \u0022name = \u0022\u003C/p\u003E\u003Cp\u003Eand a new ID to be created, unique for the planetary system, and copied in \u0022id = \u0022 (note: currently Eeloo is the standard body with the highest ID = 16, so any asteroid must have ID \u0026gt; 16)\u003C/p\u003E\u003Cp\u003EFollowing fields in bodies.ini are not really relevant with asteroids:\u003C/p\u003E\u003Cp\u003E\u0022gm = \u0022 is the gravitational parameter (practically = 0 for asteroids);\u003C/p\u003E\u003Cp\u003E\u0022radius = \u0022 the radius in Km of the body (any suitable value here, as the size of the asteroid is not defined initially in KSP)\u003C/p\u003E\u003Cp\u003E\u0022atmoHgt = \u0022 the atmospheric Height, = 0 for asteroids\u003C/p\u003E\u003Cp\u003E\u0022rotperiod = \u0022 the rotation period in seconds, any big value here (initially undefined in KSP)\u003C/p\u003E\u003Cp\u003E\u0022rotini = \u0022 the initial rotation angle has no purpose: = 0\u003C/p\u003E\u003Cp\u003E\u0022bodycolor = \u0022 is used to draw the body and orbit in KSPTOT, \u0022= gray\u0022 is generally a good choice\u003C/p\u003E\u003Cp\u003E\u0022canBeCentral\u0022 to be = 0\u003C/p\u003E\u003Cp\u003E\u0022canBeArriveDepart\u0022 to be = 1\u003C/p\u003E\u003Cp\u003EHope to not have put anything wrong...\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-07-08T19:34:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E...so to compute trajectories with them, their orbital parameters must be inserted (by hand) in the bodies.ini file.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGiven that this can be generated now by KSPTOT for alternate planetary systems, maybe an option to include asteroids could be included in a later version\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-08T19:41:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EGiven that this can be generated now by KSPTOT for alternate planetary systems, maybe an option to include asteroids could be included in a later version\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy thought, exactly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-07-09T04:10:04Z","Content":"\n\u003Cp\u003EMaybe I\u0027ll add that as a feature in version 1.1.6. Thanks for the suggestions, guys! And diomedea, I will get back to you about your suggestions/comments when I have more time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PlonioFludrasco","CreatedById":98915,"CreatedDateTime":"2014-07-10T09:33:18Z","Content":"\n\u003Cp\u003EThanks for the answer!\u003C/p\u003E\u003Cp\u003ECould it be a problem if the asteroid is going to cross some SOIs? In particular, the one I\u0027m aiming for is going to cross Kerbin and Mun SOIs.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-10T10:21:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PlonioFludrasco\u0022 data-cite=\u0022PlonioFludrasco\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ECould it be a problem if the asteroid is going to cross some SOIs? In particular, the one I\u0027m aiming for is going to cross Kerbin and Mun SOIs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"PlonioFludrasco","CreatedById":98915,"CreatedDateTime":"2014-07-10T10:50:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E Now, KSP is able to compute the new orbital parameters, but I am not and have no knowledge of a tool that provides orbital elements for a different SoI than the one the vessel is in at the moment.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey, the Mission Architect does!\u003C/p\u003E\u003Cp\u003EI could put the asteroid orbit into the MA and let it compute everything, and use the RV tool to calculate the RV opportunities for each orbit.\u003C/p\u003E\u003Cp\u003EEDIT Diomedea, I\u0027ve tried what you said about adding bodies, but angle values was quite messed. I solved importing orbital datas with the RV tool from the persistent, then copied exactly what was shown into the bodies.ini. It works...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-10T13:47:16Z\u0022 title=\u002207/10/2014 01:47  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2014\u003C/time\u003E by PlonioFludrasco\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AppleDavidJeans","CreatedById":84275,"CreatedDateTime":"2014-07-10T14:49:37Z","Content":"\n\u003Cp\u003ECan you make a version for Mac please? This tool looks very useful. I\u0027d appreciate it if you did that for all the Mac users out there.\u003C/p\u003E\u003Cp\u003EAlso, I had an idea: You could work with the MechJeb devs to integrate this powerful tool into Mechjeb.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-10T16:41:31Z\u0022 title=\u002207/10/2014 04:41  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2014\u003C/time\u003E by AppleDavidJeans\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-10T14:56:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PlonioFludrasco\u0022 data-cite=\u0022PlonioFludrasco\u0022\u003E\u003Cdiv\u003EHey, the Mission Architect does!\u003Cp\u003EI could put the asteroid orbit into the MA and let it compute everything, and use the RV tool to calculate the RV opportunities for each orbit.\u003C/p\u003E\u003Cp\u003EEDIT Diomedea, I\u0027ve tried what you said about adding bodies, but angle values was quite messed. I solved importing orbital datas with the RV tool from the persistent, then copied exactly what was shown into the bodies.ini. It works...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, interesting. The state log with Mission Architect indeed provides orbital parameters for every part; it just requires to define a sufficiently long coast maneuver with the initial orbit and see where it brings.\u003C/p\u003E\u003Cp\u003EAbout adding bodies, could you tell if adding to the bodies.ini with \u0022arg = LPE\u0022 (LPE from persistent.sfs) works? I noticed those two values often match (though, argument and longitude of periapsis are different, so that may mean KSP abbreviation is uncorrect if the value used is actually the argument). Also, when importing data via KSPTOT Connect, you get updated mean anomaly and epoch, and those are certainly different from the ones shown in a savegame, however those just define a different position at a different time along the same orbit. So, I don\u0027t expect mean anomaly and epoch to be mistaken, and probably the error is really about the LPE.\u003C/p\u003E\u003Cp\u003EEDIT: Found it (so I believe). KSP seems to be using values for MNA in radians, not in degrees. All other angular values are given in degrees, why this one is diifferent?\u003C/p\u003E\u003Cp\u003EAnyway, convert that value from radians in degrees (multiply by 57.2957795) before inputting in bodies.ini as \u0022mean = \u0022.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-10T15:21:18Z\u0022 title=\u002207/10/2014 03:21  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 10, 2014\u003C/time\u003E by diomedea\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PlonioFludrasco","CreatedById":98915,"CreatedDateTime":"2014-07-11T08:10:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEDIT: Found it (so I believe). KSP seems to be using values for MNA in radians, not in degrees. All other angular values are given in degrees, why this one is diifferent?\u003C/p\u003E\u003Cp\u003EAnyway, convert that value from radians in degrees (multiply by 57.2957795) before inputting in bodies.ini as \u0022mean = \u0022.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting. I will get a look on the new save, because old ones got corrupted and deleted \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2014-07-14T16:40:37Z","Content":"\n\u003Cp\u003EWhen I try to get an orbit from KSP, it seems to hang on Retrieving Data from KSPTOT Connect. I have KSPTOT connect installed, and I can connect fine with the MCC realtime system\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-07-14T18:21:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dlrk\u0022 data-cite=\u0022dlrk\u0022\u003E\u003Cdiv\u003EWhen I try to get an orbit from KSP, it seems to hang on Retrieving Data from KSPTOT Connect. I have KSPTOT connect installed, and I can connect fine with the MCC realtime system\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf it takes a few seconds to get data from KSP, is the same behaviour I have; I consider that normal.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-07-15T03:38:24Z","Content":"\n\u003Cp\u003EAlternatively, just try again. Sometimes the first connect doesn\u0027t always work. However, the second should work without issue.\u003C/p\u003E\n"}]}