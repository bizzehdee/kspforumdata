{"TopicId":47622,"ForumId":55,"TopicTitle":"Rails at 1x time warp","CreatedByName":"Vector","CreatedById":80152,"CreatedDateTime":"2013-10-07T08:17:07Z","PageNum":1,"Articles":[{"CreatedByName":"Vector","CreatedById":80152,"CreatedDateTime":"2013-10-07T08:17:07Z","Content":"\n\u003Cp\u003ESuggestion: when outside the atmosphere and all thrusters are off, put the center of mass on rails even at 1x time warp and even when rotating via reaction wheels\u003C/p\u003E\u003Cp\u003EObservations:\u003C/p\u003E\u003Cp\u003E1. Orbits at 1x time-warp \u0022vibrate\u0022 even when the ship is completely passive.\u003C/p\u003E\u003Cp\u003E2. Orbits appear to be extrapolated from instantaneous \u003Cem\u003Econtrol module \u003C/em\u003Evelocity instead of center of mass. Rotating a ship introduces errors in the extrapolated orbit.\u003C/p\u003E\u003Cp\u003E3. Orbits change when changing time-warp between 1x and higher time-warp.\u003C/p\u003E\n"},{"CreatedByName":"Person012345","CreatedById":33728,"CreatedDateTime":"2013-10-07T08:47:24Z","Content":"\n\u003Cp\u003EThis is a bad solution imo. The fact that orbits vibrate when they shouldn\u0027t means there\u0027s a problem in the simulation that should be fixed I suppose (they didn\u0027t used to behave this way, orbits used to be stable) rather than a ham fisted forced \u0022solution\u0022 that merely covers up the problem. Of course I don\u0027t know exactly what is causing it so I don\u0027t know how easy or hard that might be.\u003C/p\u003E\n"},{"CreatedByName":"Vector","CreatedById":80152,"CreatedDateTime":"2013-10-07T09:13:59Z","Content":"\n\u003Cp\u003EI don\u0027t see this as covering up a problem, I see this as a more accurate model.\u003C/p\u003E\u003Cp\u003EIf I have a linear function y = mx \u002B b, and I increment each delta-x step using y = y \u002B m * dx, then it\u0027s mathematically equivalent to the function but numerically the result is different. The errors accumulate when using a large number of small steps. In contrast, evaluating the function at different x accurately follows the function and roundoff does not accumulate. This is the difference between mathematics and numerical analysis.\u003C/p\u003E\u003Cp\u003EI can\u0027t say for sure but it really feels like this is what is happening, where physics mode is introducing a large number of small errors. This is inherently less accurate than a closed-form solution for the trajectory of the center of mass.\u003C/p\u003E\u003Cp\u003EWhen accelerating due to thrust or atmosphere, then sure, use incremental delta-v and compute each delta-position since you have to calculate each step anyway. But when your orbit is supposed to be a patched-conic, use the closed-form patched conic.\u003C/p\u003E\n"},{"CreatedByName":"Idobox","CreatedById":80299,"CreatedDateTime":"2013-10-07T12:42:46Z","Content":"\n\u003Cp\u003EI think what happens is that your ship wobbles, and it cause small movements of the center of mass. If you are around kerbin, calculating an intercept with a far away planet, the small speed variation can cause large errors.\u003C/p\u003E\u003Cp\u003ESo, with no thrust, the CoM shouldn\u0027t move normally, but you still get rounding errors. The solution you propose is not shocking, but shouldn\u0027t be used when RCS are active, as they can change the orbit.\u003C/p\u003E\n"},{"CreatedByName":"Vector","CreatedById":80152,"CreatedDateTime":"2013-10-07T14:48:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Idobox\u0022 data-cite=\u0022Idobox\u0022\u003E\u003Cdiv\u003EI think what happens is that your ship wobbles, and it cause small movements of the center of mass. If you are around kerbin, calculating an intercept with a far away planet, the small speed variation can cause large errors.\u003Cp\u003ESo, with no thrust, the CoM shouldn\u0027t move normally, but you still get rounding errors. The solution you propose is not shocking, but shouldn\u0027t be used when RCS are active, as they can change the orbit.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree, except that it\u0027s not the center of mass that\u0027s moving, it\u0027s the fact that the center of control is extrapolated to compute the orbit, not the center of mass. This is one of the things I think is wrong about the model. If I put an Okto-2 on a long arm, rotating (using reaction wheels only) perturbs the orbit much more than when the control is near the center of mass, and in a predictable fashion. This tells me that it is not rounding error, it\u0027s the center of control vs. center of mass. There may be rounding error in addition. I agree that RCS can create unwanted but real translation forces, and that these \u003Cem\u003Eshould \u003C/em\u003Ebe allowed to modify the orbit. I am suggesting rails only for rotation from reaction wheels.\u003C/p\u003E\n"}]}