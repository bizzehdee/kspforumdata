{"TopicId":145962,"ForumId":29,"TopicTitle":"Want to add OnFieldChange event to KSPField using UI_FloatRange","CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-08-15T07:07:08Z","PageNum":1,"Articles":[{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-08-15T07:07:08Z","Content":"\n\u003Cp\u003E\nI\u0027ve got a KSPField that is available in the editor scene. It has\u00A0some default values and it allow a player to change it via the slider in the right click menu.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[KSPField(isPersistant = true, guiActiveEditor = false, guiName = \u0022Surface Sample Capacity\u0022), UI_FloatRange(minValue = 0, maxValue = 50, stepIncrement = 1)]\npublic float maxSurfaceSampleCapacityRange = 0;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI want to run a piece of code once a player has changed\u00A0that figure via the slider. I saw there is a \u0022onFieldChanged\u0022\u00A0event under the uiControlEditor of the field I\u0027m looking at. How do I get that event to run my code?\n\u003C/p\u003E\n\u003Cp\u003E\nCallbacks confuse me at the moment, but I\u0027m not sure it that is even what I should be looking at. Sorry in advance if it\u0027s a straightforward solution.\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-08-15T07:07:21Z\u0022 title=\u002208/15/2016 07:07  AM\u0022 data-short=\u00227 yr\u0022\u003EAugust 15, 2016\u003C/time\u003E by wile1411\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2016-08-16T00:43:10Z","Content":"\n\u003Cp\u003E\nFor the particular use I\u0027m looking at now:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E        private void UIEvent_onTweakableChange(BaseField field, object what)\n        {\n            needUpdate = true;\n        }\n\n        private void SetupUIFieldCallbacks()\n        {\n            for (int i = 0; i \u0026lt; Fields.Count; i\u002B\u002B)\n            {\n                var uiField = Fields[i].uiControlEditor;\n                if (uiField.GetType().FullName == \u0022UI_FloatRange\u0022)\n                {\n                    uiField.onFieldChanged = UIEvent_onTweakableChange;\n                }\n            }\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNothing difficult!\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-08-18T05:31:53Z","Content":"\n\u003Cp\u003E\nThanks for that Van! I\u0027m still getting a grip on OOP with very stumbling steps and any help is a massive jump for me as I under stand the requirements for the various functions in the API.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2016-08-18T06:31:44Z","Content":"\n\u003Cp\u003E\nI\u0027m not a new coder ( I\u0027m a very lapsed coder ) but I\u0027m new to C#; I think the assignment should probably be\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EuiField.onFieldChanged \u002B= UIEvent_onTweakableChange;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ewhich is ( seems at least ) C\u003C/span\u003E# specific. onFieldChanged is a MulticastDelegate, which is a construct which can execute multiple bits of code which you might want to read about ( and then read about somewhere other than MS\u0027s document site! ).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-08-18T06:32:23Z\u0022 title=\u002208/18/2016 06:32  AM\u0022 data-short=\u00227 yr\u0022\u003EAugust 18, 2016\u003C/time\u003E by Van Disaster\u003C/strong\u003E\n\u003C/span\u003E\n"}]}