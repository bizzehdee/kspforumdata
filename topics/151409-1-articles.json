{"TopicId":151409,"ForumId":36,"TopicTitle":"need help on playing animation with switching a module format","CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T14:57:34Z","PageNum":1,"Articles":[{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T14:57:34Z","Content":"\n\u003Cp\u003E\nHi everyone, I took an old model from forums, I tend to use it as a radial mounted rapier engine that has built in air intake, take a look:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022a5b2c4556f4a4633af4299bdf4772cf3.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.prntscr.com/image/a5b2c4556f4a4633af4299bdf4772cf3.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nas you see, those three small fins has animation on them, now, how can i use this model in a way that when we switch the mode on a rapier engine, they will open and close and provide air intake?\n\u003C/p\u003E\n\u003Cp\u003E\nI am totally new to ksp modding, i don\u0027t even know how to play those animations in ksp yet, please someone help\n\u003C/p\u003E\n\u003Cp\u003E\nthanks\n\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-11-03T17:18:38Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOK, to get the animation from Unity into KSP, you\u0027ll need to make sure it\u0027s a \u003Cem\u003ELegacy\u003C/em\u003E animation in Unity. Give it a meaningful name, since you\u0027ll need to put the name into the KSP part\u0027s CFG file. You will of course have to export the part using Part Tools to make a \u0022mu\u0022 model file for KSP.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe simplest way to make a functioning animation in KSP, is to use ModuleAnimateGeneric. The \u0022animationName\u0022 variable is where you assign the animation name that you made in Unity.\u00A0 Everything else in the module can be set to your preference. Example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\tMODULE\n\t{\n\t\tname = ModuleAnimateGeneric\n\t\tanimationName = doors\n\t\tstartEventGUIName = Close Doors\n\t\tendEventGUIName = Open Doors\n\t\tactionGUIName = Toggle Bay Doors\n\t\tallowDeployLimit = true\n\t\trevClampDirection = false\n\t\trevClampSpeed = true\n\t\trevClampPercent = true\t\n\t}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure if there\u0027s a simple way to make an air intake activate and deactivate with the animation. One possibility is to create independent colliders for those doors, and put the intake transform behind them, so that when the doors are closed, the intake transform is blocked. I don\u0027t know if this works or not, with the colliders in the same KSP part. But it\u0027s worth trying. Engine thrust transforms can be blocked by collider meshes in the same part, so I\u0027d imagine that intakes can function the same way.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T17:23:27Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105424\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0022 rel=\u0022\u0022\u003E@NecroBones\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222836739\u0022 data-ipsquote-contentid=\u0022151409\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478193518\u0022 data-ipsquote-userid=\u0022105424\u0022 data-ipsquote-username=\u0022NecroBones\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, NecroBones said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOK, to get the animation from Unity into KSP, you\u0027ll need to make sure it\u0027s a \u003Cem\u003ELegacy\u003C/em\u003E animation in Unity. Give it a meaningful name, since you\u0027ll need to put the name into the KSP part\u0027s CFG file. You will of course have to export the part using Part Tools to make a \u0022mu\u0022 model file for KSP.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe simplest way to make a functioning animation in KSP, is to use ModuleAnimateGeneric. The \u0022animationName\u0022 variable is where you assign the animation name that you made in Unity.\u00A0 Everything else in the module can be set to your preference. Example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n\tMODULE\n\t{\n\t\tname = ModuleAnimateGeneric\n\t\tanimationName = doors\n\t\tstartEventGUIName = Close Doors\n\t\tendEventGUIName = Open Doors\n\t\tactionGUIName = Toggle Bay Doors\n\t\tallowDeployLimit = true\n\t\trevClampDirection = false\n\t\trevClampSpeed = true\n\t\trevClampPercent = true\t\n\t}\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027m not sure if there\u0027s a simple way to make an air intake activate and deactivate with the animation. One possibility is to create independent colliders for those doors, and put the intake transform behind them, so that when the doors are closed, the intake transform is blocked. I don\u0027t know if this works or not, with the colliders in the same KSP part. But it\u0027s worth trying. Engine thrust transforms can be blocked by collider meshes in the same part, so I\u0027d imagine that intakes can function the same way.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nhmm do you think it would be easier to use coding? i\u0027m not afraid of getting my hands dirty in that aspect but may need a code snippet or two from already existing mods that do this, i remember i had seen parts with animations for air intake also i\u0027m fairly sure for doing the animation in combination with rapier switch either i have to have a separate button so that i can use it in action group or i need to do it via code and i think in both cases i need to code? question is, can you point me any good repo online doing it in code?\n\u003C/p\u003E\n\u003Cp\u003E\nthanks\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-03T17:24:50Z\u0022 title=\u002211/03/2016 05:24  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 3, 2016\u003C/time\u003E by Jiraiyah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-11-03T17:28:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222836750\u0022 data-ipsquote-contentid=\u0022151409\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478193807\u0022 data-ipsquote-userid=\u002297667\u0022 data-ipsquote-username=\u0022Jiraiyah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Jiraiyah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105424\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0022 rel=\u0022\u0022\u003E@NecroBones\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nhmm do you think it would be easier to use coding? i\u0027m not afraid of getting my hands dirty in that aspect but may need a code snippet or two from already existing mods that do this, i remember i had seen parts with animations for air intake also i\u0027m fairly sure for doing the animation in combination with rapier switch either i have to have a separate button so that i can use it in action group or i need to do it via code and i think in both cases i need to code? question is, can you point me any good repo online doing it in code?\n\u003C/p\u003E\n\u003Cp\u003E\nthanks\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt should be possible to customize how your parts function with mod code, yes. I don\u0027t have any repo information since I don\u0027t code for KSP mods (I just make parts), but someone else here might be able to help on that one.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T17:29:13Z","Content":"\n\u003Cp\u003E\nthanks sir, i hope someone see this thread and help me \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E aka maybe \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105198\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105198-roverdude/\u0022 rel=\u0022\u0022\u003E@RoverDude\u003C/a\u003E ? (sorry to call you like this buddy \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E )\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-03T17:31:30Z\u0022 title=\u002211/03/2016 05:31  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 3, 2016\u003C/time\u003E by Jiraiyah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T18:33:27Z","Content":"\n\u003Cp\u003E\nGot it working \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E the doors are opening and closing now. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105424\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0022 rel=\u0022\u0022\u003E@NecroBones\u003C/a\u003E Time to see if your theory about colliders work on the intake \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-03T19:21:35Z\u0022 title=\u002211/03/2016 07:21  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 3, 2016\u003C/time\u003E by Jiraiyah\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-11-03T20:36:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222836872\u0022 data-ipsquote-contentid=\u0022151409\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478198007\u0022 data-ipsquote-userid=\u002297667\u0022 data-ipsquote-username=\u0022Jiraiyah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Jiraiyah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGot it working \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E the doors are opening and closing now. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022105424\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/105424-necrobones/\u0022 rel=\u0022\u0022\u003E@NecroBones\u003C/a\u003E Time to see if your theory about colliders work on the intake \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHey great! Glad it\u0027s working, so far. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-03T20:44:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222837079\u0022 data-ipsquote-contentid=\u0022151409\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478205375\u0022 data-ipsquote-userid=\u0022105424\u0022 data-ipsquote-username=\u0022NecroBones\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, NecroBones said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHey great! Glad it\u0027s working, so far. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwell i tested the collider, either i did something derpy or it did fail, well, the air intake module has an option for breaking the air intake but the animation is not tide to the animation at all and closing the gap won\u0027t affect the amount of air intake i am afraid take a look, first with the doors closed\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002282c5c0ca578f404295f9ec9df865c182.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.prntscr.com/image/82c5c0ca578f404295f9ec9df865c182.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNow I open the doors\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002291d3be9fb6c043e5a0638356ef3d90dd.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://image.prntscr.com/image/91d3be9fb6c043e5a0638356ef3d90dd.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nas you can see, there is no significant change in the air flow\n\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-11-04T13:11:19Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, it might need some custom code then, for toggling the intake on/off.\n\u003C/p\u003E\n"},{"CreatedByName":"Jiraiyah","CreatedById":97667,"CreatedDateTime":"2016-11-04T17:47:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222838037\u0022 data-ipsquote-contentid=\u0022151409\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478265079\u0022 data-ipsquote-userid=\u0022105424\u0022 data-ipsquote-username=\u0022NecroBones\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, NecroBones said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, it might need some custom code then, for toggling the intake on/off.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ncan we make a built in moduleResourceIntake via code? if that is possible, then it should not be that hard is it?\n\u003C/p\u003E\n"}]}