{"TopicId":16102,"ForumId":32,"TopicTitle":"Analytically Solving for Gravitational Parameter and Body Diameter","CreatedByName":"Candre","CreatedById":15181,"CreatedDateTime":"2012-08-05T13:30:17Z","PageNum":1,"Articles":[{"CreatedByName":"Candre","CreatedById":15181,"CreatedDateTime":"2012-08-05T13:30:17Z","Content":"\n\u003Cp\u003E0.17 is going to have unexplored territory ripe for study. One of the things I\u0027m certain we\u0027ll be needing ASAP are the gravitational parameters and the semi-major axes (plural right?) of the new bodies. So, is there a way to solve for them analytically? (aka non-heuristic methods?)\u003C/p\u003E\u003Cp\u003EI tried a few minutes ago, but I\u0027m burned out from staying up to the wee hours of the morning.\u003C/p\u003E\u003Cp\u003ESome things I considered:\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2 We have the period, apoapsis, periapsis, velocity, and distance. We\u0027re looking for the gravitational parameter and the body diameter\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A2 Assume that you\u0027re in a circular orbit, so that we can assert that r = SMA in the vis-viva equation\u003C/p\u003E\u003Cp\u003EI have a hunch that we don\u0027t have enough info.\u003C/p\u003E\n"},{"CreatedByName":"thorfinn","CreatedById":8349,"CreatedDateTime":"2012-08-05T13:52:22Z","Content":"\n\u003Cp\u003EWell, to measure a gravity field (and thus the mass of the body generating it) you need a test mass. For the planets that have moons, those will act as your test masses; their orbital data contains the information about parent body mass. For lone planets, we\u0027ll have to get there.\u003C/p\u003E\n"},{"CreatedByName":"Bluejayek","CreatedById":18471,"CreatedDateTime":"2012-08-05T14:49:10Z","Content":"\n\u003Cp\u003EWell, we can first consider that the gravitational acceleration of a body at a distance r is:\u003C/p\u003E\u003Cp\u003Ea = GM/r^2 \u003C/p\u003E\u003Cp\u003Ewhere G is the universal gravitation constant, and M is the mass of the body.\u003C/p\u003E\u003Cp\u003EFurther, the centripital acceleration of a body in a circular orbit is\u003C/p\u003E\u003Cp\u003Ea = v^2/r\u003C/p\u003E\u003Cp\u003Ewhere v is its velocity.\u003C/p\u003E\u003Cp\u003EFor a stable orbit these two accelerations must be equal, hence\u003C/p\u003E\u003Cp\u003Ev^2/r = GM/r^2\u003C/p\u003E\u003Cp\u003EM = rv^2/G\u003C/p\u003E\u003Cp\u003ETherefore, if you know the radius of an orbit and the velocity of the orbit, you can find the mass of the body.\u003C/p\u003E\u003Cp\u003EBody radius is a different story. That would have to be measured by direct observation (ie telescope), as any spherical body behaves as a point mass for gravitational purposes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-05T14:50:33Z\u0022 title=\u002208/05/2012 02:50  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 5, 2012\u003C/time\u003E by Bluejayek\u003C/strong\u003E\n\u003Cbr\u003EAddition\n\u003C/span\u003E\n"},{"CreatedByName":"closette","CreatedById":11773,"CreatedDateTime":"2012-08-05T16:44:24Z","Content":"\n\u003Cp\u003EOne small issue is that KSP currently displays apo- and periapsis as altitudes above the planet\u0027s surface, not as distances \u0022r\u0022 from the planet\u0027s center. However, I believe that the orbital elements of spacecraft are in the persistent.sfs file so you can pull them from there to get the planet\u0027s mass, and then compare with the displayed apses values to get the body radius.\u003C/p\u003E\n"},{"CreatedByName":"semininja","CreatedById":3837,"CreatedDateTime":"2012-08-05T17:08:18Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EIf you\u0027re landed on the planet, it\u0027s easy to determine the planet\u0027s radius; just change your velocity display to Orbit mode, and time warp to find the period of rotation. From there, basic math: v_t = r * \u00C3\u00E2\u20AC\u00B0, so (v_t)/\u00C3\u00E2\u20AC\u00B0=r\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Bluejayek","CreatedById":18471,"CreatedDateTime":"2012-08-05T17:26:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022closette\u0022 data-cite=\u0022closette\u0022\u003E\u003Cdiv\u003EOne small issue is that KSP currently displays apo- and periapsis as altitudes above the planet\u0027s surface, not as distances \u0022r\u0022 from the planet\u0027s center. However, I believe that the orbital elements of spacecraft are in the persistent.sfs file so you can pull them from there to get the planet\u0027s mass, and then compare with the displayed apses values to get the body radius.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s cheating!\u003C/p\u003E\u003Cp\u003EInstead, take two circular orbits at different heights. Let R1 be the height of the first orbit above the surface, R2 be the second height, and r be the radius of the planet. \u003C/p\u003E\u003Cp\u003EThen you solve the two orbits as above and end up with the two equations\u003C/p\u003E\u003Cp\u003EM = (r\u002BR1)*v1^2/G\u003C/p\u003E\u003Cp\u003EM = (r\u002BR2)*v2^2/G\u003C/p\u003E\u003Cp\u003EThe M is the same mass of the body in both cases, so we can equate these\u003C/p\u003E\u003Cp\u003E(r\u002BR1)*v1^2/G = (r\u002BR2)*v2^2/G\u003C/p\u003E\u003Cp\u003Er*v1^2 - r*v2^2 = R2*v2^2 - R1*v1^2\u003C/p\u003E\u003Cp\u003Er = (R2*v2^2 - R1*v1^2)/(v1^2-v2^2)\u003C/p\u003E\u003Cp\u003EThen, once you have found r you can just substitute into one of the earlier equations to find M, e.g.\u003C/p\u003E\u003Cp\u003EM = (r\u002BR2)*v2^2/G\u003C/p\u003E\u003Cp\u003EM = [(R2*v2^2-R1*v1^2)/(v1^2-v2^2)\u002BR2]*v2^2/G\u003C/p\u003E\n"},{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-08-05T18:04:00Z","Content":"\n\u003Cp\u003EAs mentioned before, the r is in fact the sum of the radius of the body (let\u0027s call that R) and the height of the orbit. So r = R \u002B h\u003C/p\u003E\u003Cp\u003ETake the formula M = rv^2/G. Substitute the r by R \u002B h and the formula will be M = (R \u002B h)v^2/G with M, R and G being constants. h and v are known values.\u003C/p\u003E\u003Cp\u003EDetermine their values for two different altitudes (of circular orbits). Lets call them h1, v1, h2 and v2. M is a constant so the values from the formula must be the same for both the altitudes. Therefor (R \u002B h1)v1^2/G = (R \u002B h2)v2^2/G which is the same as (R \u002B h1)v1^2 = (R \u002B h2)v2^2 (as G is not zero).\u003C/p\u003E\u003Cp\u003EFirst remove the brachets\u003C/p\u003E\u003Cp\u003ERv1^2 \u002B h1v1^2 = Rv2^2 \u002B h2v2^2 \u003C/p\u003E\u003Cp\u003EBring the terms with R to one side and the other values to the other side\u003C/p\u003E\u003Cp\u003ERv1^2 - Rv2^2 = h2v2^2 - h1v1^2 \u003C/p\u003E\u003Cp\u003Enow isolate R\u003C/p\u003E\u003Cp\u003ER(v1^2 - v2^2) = h2v2^2 - h1v1^2 \u003C/p\u003E\u003Cp\u003ER = (h2v2^2 - h1v1^2)/(v1^2 - v2^2)\u003C/p\u003E\u003Cp\u003EFill in the values of h1, h2, v1 and v2 and the result will give you the radius of the object.\u003C/p\u003E\u003Cp\u003EEdit: I see someone else did the same math and posted it earlier.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-05T18:07:29Z\u0022 title=\u002208/05/2012 06:07  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 5, 2012\u003C/time\u003E by TheCardinal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kosmo-not","CreatedById":14082,"CreatedDateTime":"2012-08-05T18:06:56Z","Content":"\n\u003Cp\u003ESince you are in a circular orbit and have the orbital period and orbital velocity, you multiply the two to get the circumference of the orbit.\u003C/p\u003E\u003Cp\u003EC = T*v\u003C/p\u003E\u003Cp\u003EWe use the equation for a circle:\u003C/p\u003E\u003Cp\u003EC = (d\u002BAP\u002BPE)*pi\u003C/p\u003E\u003Cp\u003Eso, \u003Cstrong\u003Ed = T*v/pi - AP - PE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003Ewhere:\u003C/p\u003E\u003Cp\u003Ed = body radius (km)\u003C/p\u003E\u003Cp\u003EAP and PE are in km ASL\u003C/p\u003E\u003Cp\u003Ev = orbital velocity (km/s)\u003C/p\u003E\u003Cp\u003ET = orbital period in seconds\u003C/p\u003E\u003Cp\u003EThat was easy. Now for the gravitational parameter.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGM = v^2*r\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003Ewhere:\u003C/p\u003E\u003Cp\u003EGM = gravitational parameter (km^3/s^2)\u003C/p\u003E\u003Cp\u003Ev = orbital velocity (km/s)\u003C/p\u003E\u003Cp\u003Er = orbital radius (km)\u003C/p\u003E\u003Cp\u003EThat\u0027s it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-05T18:10:16Z\u0022 title=\u002208/05/2012 06:10  PM\u0022 data-short=\u002211 yr\u0022\u003EAugust 5, 2012\u003C/time\u003E by Kosmo-not\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bluejayek","CreatedById":18471,"CreatedDateTime":"2012-08-05T21:16:05Z","Content":"\n\u003Cp\u003EIt can sometimes be difficult to pinpoint the orbital period exactly. Velocity is much easier as it is right there in the UI, hence I argue that the more mathetmatically complex method I posted is easier and more exact.\u003C/p\u003E\u003Cp\u003EAlthough, being able to do yours with a single ship is good.\u003C/p\u003E\n"},{"CreatedByName":"Kosmo-not","CreatedById":14082,"CreatedDateTime":"2012-08-06T05:56:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bluejayek\u0022 data-cite=\u0022Bluejayek\u0022\u003E\u003Cdiv\u003EIt can sometimes be difficult to pinpoint the orbital period exactly. Velocity is much easier as it is right there in the UI, hence I argue that the more mathetmatically complex method I posted is easier and more exact.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou look at the times to reach AP and PE, take the difference, and multiply by 2.\u003C/p\u003E\u003Cp\u003EBesides, the OP said the period was part of the given information.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-06T07:04:36Z\u0022 title=\u002208/06/2012 07:04  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 6, 2012\u003C/time\u003E by Kosmo-not\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"maltesh","CreatedById":17144,"CreatedDateTime":"2012-08-06T10:30:36Z","Content":"\n\u003Cp\u003EYou don\u0027t have to use circular orbits. You can use two elliptical orbits instead. (Which, because of the way the map screen works in the paid version, means you can do it easily with one spacecraft, and besides, nothing manually flown in KSP winds up in a true circular orbit, anyway.)\u003C/p\u003E\u003Cp\u003EKnowing the period and apse altitudes of two different orbits allows you to solve for the radius.\u003C/p\u003E\u003Cp\u003EKnowing the radius allows you to solve for the mass.\u003C/p\u003E\u003Cp\u003EWhen I have more time, I\u0027ll sit down and rerun through the math for that. As I recall, I think the first part required me to solve a cubic equation, and I wound up going to Wolfram Alpha for that when measuring Kerbol.\u003C/p\u003E\u003Cp\u003EEdit: Thinking about it further, a reasonable person would probably use a numerical method such as Newtons\u0027s Method or the Secant method to solve for the first part. The closed-form result is a lengthy nightmare.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-08-06T10:44:50Z\u0022 title=\u002208/06/2012 10:44  AM\u0022 data-short=\u002211 yr\u0022\u003EAugust 6, 2012\u003C/time\u003E by maltesh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"semininja","CreatedById":3837,"CreatedDateTime":"2012-08-06T20:17:30Z","Content":"\n\u003Cp\u003EDetermining Kerbin\u0027s radius from a landed position, using the method I described above:\u003C/p\u003E\u003Cp\u003ELanded at an altitude of 69m above sea level, I am moving at 174.553 m/s in the orbital frame of reference (v\u003Csub\u003Et\u003C/sub\u003E).\u003C/p\u003E\u003Cp\u003EThe period of rotation is six hours, or 2.16x10\u003Csup\u003E4\u003C/sup\u003E seconds, meaning that the angular velocity is 2(pi)/21600 rad/sec.\u003C/p\u003E\u003Cp\u003Ev\u003Csub\u003Et\u003C/sub\u003E = r * omega\u003C/p\u003E\u003Cp\u003Etherefore\u003C/p\u003E\u003Cp\u003Er = v\u003Csub\u003Et\u003C/sub\u003E / omega = 174.553 / ( 2pi / 21600 ) = ( 174.553 * 21600 ) / (2pi) = 600 069.012\u003C/p\u003E\u003Cp\u003Eso\u003C/p\u003E\u003Cp\u003Er = 600 069 m at an altitude ASL of 69 m\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003EKerbin\u003C/sub\u003E = 600 km\u003C/p\u003E\n"},{"CreatedByName":"maltesh","CreatedById":17144,"CreatedDateTime":"2012-08-06T22:26:08Z","Content":"\n\u003Cp\u003EOkay, here we go, using two separate Elliptical Orbits.\u003C/p\u003E\u003Cp\u003Eh\u003Csub\u003E1\u003C/sub\u003E is the average of the periapsis and apoapsis altitudes on Orbit 1. Semimajor axis of orbit 1 is h\u003Csub\u003E1\u003C/sub\u003E \u002B r\u003C/p\u003E\u003Cp\u003Eh\u003Csub\u003E2\u003C/sub\u003E is the average of the periapsis and apoapsis altitudes on Orbit 2. Semimajor axis of orbit 2 is h\u003Csub\u003E2\u003C/sub\u003E \u002Br\u003C/p\u003E\u003Cp\u003Ep\u003Csub\u003E1\u003C/sub\u003E is the period of orbit 1.\u003C/p\u003E\u003Cp\u003Ep\u003Csub\u003E2\u003C/sub\u003E is the period of orbit 2.\u003C/p\u003E\u003Cp\u003EUsing \u003Ca href=\u0022https://en.wikipedia.org/wiki/Kepler%27s_Third_Law#Third_law\u0022 rel=\u0022external nofollow\u0022\u003EKepler\u0027s Third Law of planetary motion\u003C/a\u003E,\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ddg5C.gif\u0022 alt=\u0022ddg5C.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EUnits don\u0027t matter at this point, as long as you use the same units for all distance values, and the same units for all time values. Units will matter later.\u003C/p\u003E\u003Cp\u003EAnd now \u003Ca href=\u0022http://www.wolframalpha.com/input/?i=solve\u002B%28h_1%2Br%29%5E3%2Fp_1%5E2\u002B%3D\u002B%28h_2%2Br%29%5E3%2Fp_2%5E2\u002Bfor\u002Br\u0022 rel=\u0022external nofollow\u0022\u003Ewe solve for r.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThat will work. And if you follow the link above, and plug in the appropriate numbers, you\u0027ll get an answer. In fact, you\u0027ll get three answers, two of which are complex numbers, and one of which is a real number, which will be the radius of your planet.\u003C/p\u003E\u003Cp\u003ELet\u0027s say you don\u0027t want to directly solve for r because all the radicals give you a headache and/or your calculator/spreadsheet deals poorly with imaginary numbers.\u003C/p\u003E\u003Cp\u003ELet\u0027s use \u003Ca href=\u0022https://en.wikipedia.org/wiki/Newtons_method\u0022 rel=\u0022external nofollow\u0022\u003ENewton\u0027s Method\u003C/a\u003E, instead. (Hello, calculus, how have you been?)\u003C/p\u003E\u003Cp\u003ELet\u0027s define a reasonable guess at the radius of the planet as r\u003Csub\u003E0\u003C/sub\u003E. \u003C/p\u003E\u003Cp\u003EWe\u0027ll define two functions: \u003Cimg src=\u0022http://i.imgur.com/VdfYk.gif\u0022 alt=\u0022VdfYk.gif\u0022\u003E and \u003Cimg src=\u0022http://i.imgur.com/Z0XEi.gif\u0022 alt=\u0022Z0XEi.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd using newton\u0027s method...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/4d1wm.gif\u0022 alt=\u00224d1wm.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo if you put in your initial estimate, r\u003Csub\u003E0\u003C/sub\u003E, you\u0027ll get r\u003Csub\u003E1\u003C/sub\u003E, which will be a value closer to the actual radius. Put in r\u003Csub\u003E1\u003C/sub\u003E, you get r\u003Csub\u003E2\u003C/sub\u003E and so on. In a few iterations, you\u0027ll have a good, solid value for the radius.\u003C/p\u003E\u003Cp\u003EThis is probably more work than you wanted to do, admittedly.\u003C/p\u003E\u003Cp\u003EAt any rate, once you\u0027ve got the radius, you can find the semimajor axis of one of the orbits. a = h\u003Csub\u003E1\u003C/sub\u003E \u002B r\u003C/p\u003E\u003Cp\u003EAnd knowing the period (p) of that same orbit...\u003C/p\u003E\u003Cp\u003E(It is now extremely important that all length units be in meters, and all time units be in seconds, so do the appropriate conversions if you haven\u0027t yet.)\u003C/p\u003E\u003Cp\u003EWe can find the standard gravitational parameter, \u00C3\u017D\u00C2\u00BC .\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/xYq3R.gif\u0022 alt=\u0022xYq3R.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EDivide \u00C3\u017D\u00C2\u00BC by the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Newtonian_gravitational_constant\u0022 rel=\u0022external nofollow\u0022\u003ENewtonian Gravitational Constant \u003C/a\u003E, G = 6.67 x 10\u003Csup\u003E-11\u003C/sup\u003E Nm\u003Csup\u003E2\u003C/sup\u003E/kg\u003Csup\u003E2\u003C/sup\u003E and you\u0027ll have the mass.\u003C/p\u003E\n"}]}