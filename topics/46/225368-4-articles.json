{"TopicId":225368,"ForumId":46,"TopicTitle":"KSP Forums Archival Options.","CreatedByName":"Minmus Taster","CreatedById":206159,"CreatedDateTime":"2024-07-07T23:34:10Z","PageNum":4,"Articles":[{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-15T06:01:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407743\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721000692\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/14/2024 at 8:44 PM, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSounds great! I\u0027d definitely be willing to help out. my own efforts are running into hardware and software issues, so I feel consolidating our efforts makes a whole lot of sense.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have the tool working since early Saturday, and the think works. Setting it up is a bit of a pain in the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E, but IMHO worth the pain.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m gradually building up instructions here: \u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project,\u003C/a\u003E and, unsurprisingly forked the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E project to publish some small fixes I did (or are still doing) here: \u003Ca href=\u0022https://github.com/Lisias/pywb/tree/dev/lisias\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Lisias/pywb/tree/dev/lisias .\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s an additional benefit of my approach (I gone the hard way for a reason - on the UNIX way!!!): the scrapper script can be customized for distributed processing - there\u0027re about 450K pages around here, we set up a pool of handful and trusted collaboratours, we will be able to keep the mirror updated with relatively low efforts from our site (2 people doing half the job at the same time is way faster) and less load on Forum (as it would be way better than the 2 people doing all the job for themselves).\n\u003C/p\u003E\n\u003Cp\u003E\nDisclaimer\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E is using less than 100 Mega RAM, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E about 110 and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escrapy\u003C/span\u003E took 282.\n\u003C/p\u003E\n\u003Cp\u003E\nThe whole stack is running on my Steam Deck with a USB3 harddrive but, frankly, this is \u003Cstrong\u003Eway\u003C/strong\u003E overkill.\n\u003C/p\u003E\n\u003Cp\u003E\nA Raspberry PI 4 (with a USB2 hard drive) would do the job the same - using BTRFS and compression to way faster disk I/O.\n\u003C/p\u003E\n\u003Cp\u003E\nHell, I think I can walk with a Raspberry PI 3!!\n\u003C/p\u003E\n\u003Cp\u003E\nAny filesystem with about 256GB will do, but since the thing is somewhat write intensive, I would plug a 1TB external spinning disk on it (again, using BTRFS and compression to the maximum.\n\u003C/p\u003E\n\u003Cp\u003E\nAt this moment, I have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-rw-r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-rw-r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-rw-r--r-- 1 deck deck 221M Jul 13 04:29 forum.kerbalspaceprogram.com-20240713061810129595.warc\n-rw-r--r-- 1 deck deck 1.3G Jul 13 09:44 forum.kerbalspaceprogram.com-20240713081235884757.warc\n-rw-r--r-- 1 deck deck 6.7G Jul 15 02:48 forum.kerbalspaceprogram.com-20240713124446675422.warc\u003C/pre\u003E\n\u003Cp\u003E\nand about 140919 pages fetched.\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u002200000\u0022 and \u002200001\u0022 files are the ones I downloaded from the Web Archive on the link I posted early. The \u00222024*\u0022 ones are the current working in progress.\n\u003C/p\u003E\n\u003Cp\u003E\nYou see, sharing these files will be easy between us, each WARC file is self-contained and complementary to the others. Since I\u0027m using BTRFS, the files are uncompressed - gzipping them should give us about 8 to 1 compression, while going zlib on the BTRFS gives me about 8 to 1 - but it makes simpler and faster to access the WARC contents.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: zstd:15 gives us nearly 8.3 to 1 !! It\u0027s the best option, if you don\u0027t want to handle WARC.gz files.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nMonday night, after Working Hours, I will further update the github repository with the instructions to fire up the scraping infrastructure. Then, hopefully, we can start discussing how to go multiprocessing with the thing.\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nI think that the best way to distribute the files will be by torrent. Torrent files can be updated, by the way, and so one single torrent will be enough for everybody. Since to serve the files using the WARC.gz format will be probably the best option, the host serving the mirror can also help to distribute the files via torrent - but keep your quotas in check!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-17T06:39:03Z\u0022 title=\u002207/17/2024 06:39  AM\u0022 data-short=\u0022Jul 17\u0022\u003EJuly 17\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EPOST EDIT\n\u003C/span\u003E\n"},{"CreatedByName":"TampaPowers","CreatedById":66443,"CreatedDateTime":"2024-07-15T14:31:00Z","Content":"\n\u003Cp\u003E\nAll the archives are great for preserving the content, but they are not exactly in an easily accessible format and there is still the question about the future for the community. Discord and Reddit are not viable options for the content type; a traditional forum is certainly best. There are a multitude of considerations to make with that though.\n\u003C/p\u003E\n\u003Cp\u003E\nA forum this size needs some decent hardware to run reliably, which is likely to be the biggest cost factor. Without knowing specifics about what\u0027s currently in use, not that is matters much given every forum software has different demands, I would say that\u0027s an easy $200 per month in expense just to get something big enough to host everything and what might be to come in future. That\u0027s operating at the edge of stability mind you, it could easily be more.\n\u003C/p\u003E\n\u003Cp\u003E\nA new domain needs to be setup and that incurs costs per year as well. Naturally you\u0027d want to associate it as closely as possible, but therein sits an issue with copyright and trademarks. Setting everything up only for T2 to complain to the registrar about the use of their registered name would be rather annoying and potentially costly.\n\u003C/p\u003E\n\u003Cp\u003E\nForums require software to run them and this forum currently uses licensed software that can cost quite a bit depending on deployed scale and features. I doubt they\u0027d be nice and provide a license for free, so in order to reduce costs for a revival project a free forum software would need to be used. There are a few, but they may not have the features people are accustomed to and whether they work at-scale is questionable.\n\u003C/p\u003E\n\u003Cp\u003E\nI can speak for years of experience on how difficult it is to set something up on these scales and it would be really sad to see if a continuation effort were to stall on the fact the load has been underestimated. It may seem like starting small and upgrading things as it becomes necessary is the way to go, but for an active community, that has recently seen an uptick as well, that will just lead to constant overload. Sounds counter-intuitive, but starting perhaps a little too big and downgrading later to reduce costs is likely to be a better option. Given the situation some providers may be willing to extend some credits for testing a setup for stability.\n\u003C/p\u003E\n\u003Cp\u003E\nI could ask some industry contacts for whether their companies would offer credits for setting up machinery to run a continuation of the forum. Domains are easily registered once a name is actually found. The rest is basic sysadmin stuff that I\u0027m sure enough folks on here are familiar with and thus could provide the necessary hours for upkeep. Leaving only the long-term funding as something that would need to be looked into.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-16T02:58:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAll the archives are great for preserving the content, but they are not exactly in an easily accessible format and there is still the question about the future for the community.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWorking on it. Once I manage to publish the pywb archive, the next step will be a search engine. Interesting enough, this last step will be the easier - I already have a FTP search engine project for retro-computing working (on a bunch of raspnberry pis!!), and if we dig enough, I\u0027m absolutely sure we will find even better solutions nowadays (mine was a novelty 5 years ago).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDiscord and Reddit are not viable options for the content type; a traditional forum is certainly best. There are a multitude of considerations to make with that though.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDiscord was an experiment that gone bad.\n\u003C/p\u003E\n\u003Cp\u003E\nReddit is less worst, but the site\u0027s format is not the best for what we need. I agree, this Forum is the best format.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA forum this size needs some decent hardware to run reliably, which is likely to be the biggest cost factor. Without knowing specifics about what\u0027s currently in use, not that is matters much given every forum software has different demands, I would say that\u0027s an easy $200 per month in expense just to get something big enough to host everything and what might be to come in future. That\u0027s operating at the edge of stability mind you, it could easily be more.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOrbiter-Forum is running with 240USD/month, if we accept the last round of donations as a source this information.\n\u003C/p\u003E\n\u003Cp\u003E\nI think this Forum, right now, would need something more due the larger workload.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat we would really need, assuming this Forum will be decommissioned, would be a Federated model with many voluntary servers running under some kind of distributed operating system. Boy, I miss the times in which Plan9 could be something...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA new domain needs to be setup and that incurs costs per year as well. Naturally you\u0027d want to associate it as closely as possible, but therein sits an issue with copyright and trademarks. Setting everything up only for T2 to complain to the registrar about the use of their registered name would be rather annoying and potentially costly.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is where I think things would not be so bad. If T2 decides to complain, it would be because they want to do something with the IP - what means that Forum will be alive.\n\u003C/p\u003E\n\u003Cp\u003E\nWe need to keep in focus that we are not working to replace the Forum, we are working to guarantee content preservation and to have a lifeboat available if the ship sinks.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s still perfectly possible that we could be just overreacting, and nothing (still more) bad are going to happen and Forum will be available for a long time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nForums require software to run them and this forum currently uses licensed software that can cost quite a bit depending on deployed scale and features. I doubt they\u0027d be nice and provide a license for free, so in order to reduce costs for a revival project a free forum software would need to be used. There are a few, but they may not have the features people are accustomed to and whether they work at-scale is questionable.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIMHO, if we are going the extra mile and setup a Forum to be used in the unfortunate (and, at this time, hypothetical) absence of this one, we should consider going Open Source the most we can to keep the costs down.\n\u003C/p\u003E\n\u003Cp\u003E\nI agree that closed/licensed solutions are \u003Cstrong\u003Eway\u003C/strong\u003E more polished, but a non-profit community that will rely on donations (at best) and/or sponsoring (more probably) need to keep the costs down.\n\u003C/p\u003E\n\u003Cp\u003E\nVoluntary work is cheaper than licensed Software.\n\u003C/p\u003E\n\u003Cp\u003E\nI think we need to look around and see what are the current alternatives - but something we may be sure: it will not be exactly like this Forum for sure.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can speak for years of experience on how difficult it is to set something up on these scales and it would be really sad to see if a continuation effort were to stall on the fact the load has been underestimated. It may seem like starting small and upgrading things as it becomes necessary is the way to go, but for an active community, that has recently seen an uptick as well, that will just lead to constant overload. Sounds counter-intuitive, but starting perhaps a little too big and downgrading later to reduce costs is likely to be a better option. Given the situation some providers may be willing to extend some credits for testing a setup for stability.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem I see is that the distributed model initially envisioned for the Internet was murdered and buried by commercial interests.\n\u003C/p\u003E\n\u003Cp\u003E\nThe ideal solution would be distributed computing, with many, many, really many small servers volunteered by many, many, really many individual contributors.\n\u003C/p\u003E\n\u003Cp\u003E\nWe are having this problem on Forum exactly due the monolithic nature of the solution (that matches the commercial interest of the owner).\n\u003C/p\u003E\n\u003Cp\u003E\nThis \u0022business model\u0022 is unsuited for a non-profit community effort.\n\u003C/p\u003E\n\u003Cp\u003E\nGranted, I\u0027m unaware of any other widely adopted alternative. I doubt we could go \u003Ca href=\u0022https://werc.cat-v.org/\u0022 rel=\u0022external nofollow\u0022\u003EWERC\u003C/a\u003E on this one.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224407915\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721053860\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI could ask some industry contacts for whether their companies would offer credits for setting up machinery to run a continuation of the forum. Domains are easily registered once a name is actually found. The rest is basic sysadmin stuff that I\u0027m sure enough folks on here are familiar with and thus could provide the necessary hours for upkeep. Leaving only the long-term funding as something that would need to be looked into.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSponsorship, IMHO, is going to be the best chance. But how to gather sponsor on a project those existence depends of the failure of this Forum?\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Here, we are asking for some donations to keep this new Forum - but it will not be used, unless the main one goes down...\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nCompanies sponsor things for a reason: they want some visibility in exchange, \u0022look at us, we are sponsoring this!\u0022. They will not get this counterpart unless the thing goes live for good, aiming to replace this Forum - something that, to the best of my knowledge, is not the aim of all this effort.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-17T05:44:51Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSome unexpected events on Day Job\u00A9 prevented me from properly writing a proper Scrapping KSP for Dummies instructions, so for now I\u0027m just uploading the configuration files so someone could start a new dataset if desired. This is the hard part, anyway, unless you had already did it before (obviously) because there\u0027re so many ways to setup the thing wrongly... \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe scrapper is still monolithic, I gave some thought on the distributed efforts but didn\u0027t coded anything yet. I didn\u0027t spent a sec on scraping \u003Cs\u003Eyour\u003C/s\u003E \u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cstrong\u003EMY\u003C/strong\u003E\u003C/span\u003E personal messages neither.\n\u003C/p\u003E\n\u003Cp\u003E\nSuggestions are welcome.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDig your way on the files, there\u0027re good information in scripts and code too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003EDO NOT\u003C/strong\u003E\u003C/u\u003E try to accelerate the scrapping, currently the thing is doing 1 page/sec, with exponential backoff to up 5 minutes. This is the best compromise I reached to allow the thing to run 24x7 -\u00A0 from Friday night to Saturday Midday you can walk from being a bit more aggressive, but I concluded the earnings weren\u0027t good enough to worth reworking the scrapper to do differently on this time window.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003ETrying to make things faster for you will make Forum slower for everybody, including you.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EPlease mind the rest of the users.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI did a small modification on \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E to allow it to create non compressed \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files while scrapping, as I\u0027m using BTRFS and, surprisingly, the compression ratio is even better using it. Fixes and updates on the documentation will be applied here before a pull request is made to the upstream - any help would be welcome too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Lisias/pywb/tree/dev/lisias\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Lisias/pywb/tree/dev/lisias\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently, I had archived \u003Cstrong\u003E284.447\u003C/strong\u003E responses (pages \u003Cem\u003Eet all\u003C/em\u003E) from Forum. For the sake of curiosity, IA have \u003Cstrong\u003E2.164.265\u003C/strong\u003E - but it includes imgur images and the older URI scheme too, so the Forum pages are duplicated. There\u0027re instructions on my repo above to download the IA\u0027s CDX and extract this information from it.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-rw-r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-rw-r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-rw-r--r-- 1 deck deck 1.5G Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc\n-rw-r--r-- 1 deck deck 9.4G Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc\n-rw-r--r-- 1 deck deck 4.0G Jul 17 02:27 forum.kerbalspaceprogram.com-20240715163142475518.warc\n-rw-r--r-- 1 deck deck 802M Jul 16 12:36 ia.forum-kerbalspaceprogram-com.cdx\n-rw-r--r-- 1 deck deck 277M Jul 16 12:50 ia.uri.txt\n-rwxr-xr-x 1 deck deck  183 Jul 16 12:10 uri.sh\n-rw-r--r-- 1 deck deck  32M Jul 17 03:57 uri.txt\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027m using BTRFS with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ezstd:15\u003C/span\u003E compression for this job (too high compression is not advisable for normal use!), and the results are similar at worst with the gzip solution, with the benefit you will not need to recompress the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E file after scrapping, and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Egrep\u003C/span\u003Eping the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files are way more convenient:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E(130)(deck@steamdeck archive)$ sudo compsize *\nProcessed 9 files, 615225 regular extents (615225 refs), 1 inline.\nType       Perc     Disk Usage   Uncompressed Referenced\nTOTAL       12%      9.6G          75G          75G\nnone       100%      531M         531M         531M\nzstd        12%      9.0G          74G          74G\u003C/pre\u003E\n\u003Cp\u003E\nYou can change the compression (and level) for a specific file on BTRFS as follows:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E(deck@steamdeck archive)$ btrfs property set forum.kerbalspaceprogram.com-20240715163142475518.warc compression zstd:15\n(deck@steamdeck archive)$ btrfs filesystem defrag -czstd forum.kerbalspaceprogram.com-20240715163142475518.warc\u003C/pre\u003E\n\u003Cp\u003E\nBut, usually, the best way is to remount the volume before doing the job, and then unmounting and mounting again to reset the settings.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003Esudo mount -o remount,compress=zstd:15 /run/media/deck/MIRROR0/\u003C/pre\u003E\n\u003Cp\u003E\nAnd, yes, it\u0027s \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ecompress\u003C/span\u003E on the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E/etc/fstab\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ecompression\u003C/span\u003E on the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ebtrfs properties\u003C/span\u003E.\u00A0\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E Go figure it out...\n\u003C/p\u003E\n\u003Cp\u003E\nThe memory consuption for \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E and \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E are pretty low, 97M and 170M at this moment. But the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escrapy\u003C/span\u003E process is eating 2.2G from the host machine - I don\u0027t know if this is due the machine having memory to spare and being currently dedicated to the job, but right now this is not a concern.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd you can still play some games on the Deck while it does the scrapping!!! \u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-26T02:49:59Z\u0022 title=\u002207/26/2024 02:49  AM\u0022 data-short=\u0022Jul 26\u0022\u003EJuly 26\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EAh!! Now I got why moderators thought I could be trying to scrap 3rd parties personal messages! Changes in BLUE text.\n\u003C/span\u003E\n"},{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2024-07-18T17:43:53Z","Content":"\n\u003Cp\u003E\nSounds great so far. Waiting until you have the distributed system working, then I\u0027ll happily donate my bandwidth and compute.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-19T09:02:00Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nScrapping with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E is, well, slow. I think the way they do deduplication is terribly unperformant - as the time passes and the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E database grows (and, boy, it grows!), the pages/minute ration drops and drops again.\n\u003C/p\u003E\n\u003Cp\u003E\nThis can\u0027t be fixed right now, so I\u0027m just taking the hit.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I decided to prioritize archiving the content without any styling and images, this should reduce a lot the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E hits preventing things from going even more slowly.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course the constants Bad Gateways are not helping neither - what prompts to quote myself:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408374\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721195091\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/17/2024 at 2:44 AM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003ETrying to make things faster for you will make Forum slower for everybody, including you.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EPlease mind the rest of the users.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCurrently, I have archived \u003Cstrong\u003E425.827\u003C/strong\u003E pages from Forum, the old WARCs from 2023 have \u003Cstrong\u003E440.387\u003C/strong\u003E - so I\u0027m near the end (hopefully).\n\u003C/p\u003E\n\u003Cp\u003E\nThe Internet Archive\u0027s CDX tells me they have\u00A0 \u003Cstrong\u003E2.164.265\u003C/strong\u003E URIs - but it includes imgur images and the older URI scheme too, so most Forum pages are duplicated there.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m guessing I will conclude the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ehtml\u003C/span\u003E pages by tomorrow night and then I will focus on the images and styles.\n\u003C/p\u003E\n\u003Cp\u003E\nThe current filesystem usage is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-rw-r--r-- 1 deck deck 43543215443 May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-rw-r--r-- 1 deck deck 20403921555 May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-rw-r--r-- 1 deck deck  1609457399 Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc\n-rw-r--r-- 1 deck deck 10000118024 Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc\n-rw-r--r-- 1 deck deck 10000038580 Jul 19 01:31 forum.kerbalspaceprogram.com-20240715163142475518.warc\n-rw-r--r-- 1 deck deck   625296777 Jul 19 05:27 forum.kerbalspaceprogram.com-20240719043104692502.warc\n-rw-r--r-- 1 deck deck    11524830 Jul 19 05:23 imgs.txt\n-rwxr-xr-x 1 deck deck         183 Jul 16 12:10 uri.sh\n-rw-r--r-- 1 deck deck    89496075 Jul 19 05:24 uri.txt\u003C/pre\u003E\n\u003Cp\u003E\nGiven the timetamps on the filenames, I\u0027m managing to scrap about 5GB of text a day on weekends, and 2.5GB on working days. Again, my enemies are the Bad Gateways, due the exponential backoffs (increasing delays on every error), and the increasingly slower deduplication.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not planning to archive imgur (or similar services) images, at least not at this point. If the worst happens, they will still be there and we can scrap them later with the most pressuring issues tackled down. Currently, there\u0027re approximately \u003Cstrong\u003E207.389\u003C/strong\u003E unique \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eimg src\u003C/span\u003Es in my archived pages, being \u003Cstrong\u003E130.641\u003C/strong\u003E from imgur.\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, nope, I don\u0027t have (yet) the slightest idea about how to \u003Cs\u003Earchive\u003C/s\u003E save personal messages. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E (as initially discussed \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/topic/225368-ksp-forums-archival-options/?do=findComment\u0026amp;comment=4405895\u0022 rel=\u0022\u0022\u003Ehere\u003C/a\u003E) \u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-19T12:03:49Z\u0022 title=\u002207/19/2024 12:03  PM\u0022 data-short=\u0022Jul 19\u0022\u003EJuly 19\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EPOST EDIT revision\n\u003C/span\u003E\n"},{"CreatedByName":"Gargamel","CreatedById":64714,"CreatedDateTime":"2024-07-19T11:46:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408770\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721379720\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnd, nope, I don\u0027t have (yet) the slightest idea about how to archive personal messages. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would recommend not even trying, aside from your own personal correspondence, which you\u2019d be free to do anyways via copy paste. \u00A0 \u00A0\u003Cbr\u003E\nI\u2019d say that with out a specific reason to save an individual message, there probably isn\u2019t a reason to back up your inbox en masse. \u00A0\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nIf you do happen to stumble upon a way to archive PM\u2019s in general, uhhh, let us know. \u00A0 \u00A0Those should be behind an authentication wall, and you should only have access to your own inbox. \u00A0\u003Cbr\u003E\nThat goes for any private information. \u00A0 If you do gain access to anything that should require authentication, please contact us privately. \u00A0\u00A0\u003Cbr\u003E\nI\u2019d say a good rule of thumb for this project is that only data that can be viewed by guests who are not logged in should be archived. \u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nI don\u2019t think that is what you are doing, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/profile/187168-lisias/?do=hovercard\u0022 data-mentionid=\u0022187168\u0022 href=\u0022https://forum.kerbalspaceprogram.com/profile/187168-lisias/\u0022 rel=\u0022\u0022\u003E@Lisias\u003C/a\u003E, your comment just made me think we should state something that hopefully didn\u2019t need said, but probably does.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-19T12:02:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408801\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721389607\u0022 data-ipsquote-userid=\u002264714\u0022 data-ipsquote-username=\u0022Gargamel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Gargamel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you do happen to stumble upon a way to archive PM\u2019s in general, uhhh, let us know. \u00A0 \u00A0Those should be behind an authentication wall, and you should only have access to your own inbox. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nThat goes for any private information. \u00A0 If you do gain access to anything that should require authentication, please contact us privately. \u00A0\u00A0\u003Cbr\u003E\nI\u2019d say a good rule of thumb for this project is that only data that can be viewed by guests who are not logged in should be archived.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s the idea - providing a tool to people backup \u003Cu\u003E\u003Cstrong\u003Etheir\u003C/strong\u003E\u003C/u\u003E own private messages.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem is not technological - you \u003Cu\u003E\u003Cstrong\u003Ecan\u003C/strong\u003E\u003C/u\u003E login and handle the cookies with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ecurl\u003C/span\u003E if you want and then scrap whatever you want as long your credentials have access.\n\u003C/p\u003E\n\u003Cp\u003E\nThe hard part is to provide a tool that:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nIt\u0027s easy to be used by the common joe\n\u003C/li\u003E\n\u003Cli\u003E\nIt\u0027s safe (i.e., no credentials and message leaking to anyone else)\n\u003C/li\u003E\n\u003Cli\u003E\nIt\u0027s trustworthy (it\u0027s not enough to be honest, people need to believe - and verify - you are honest)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nThis idea was originally considered on this \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/topic/225368-ksp-forums-archival-options/?do=findComment\u0026amp;comment=4405895\u0022 rel=\u0022\u0022\u003Epost\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2024-07-19T13:37:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408804\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721390570\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe hard part is to provide a tool that:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nIt\u0027s easy to be used by the common joe\n\u003C/li\u003E\n\u003Cli\u003E\nIt\u0027s safe (i.e., no credentials and message leaking to anyone else)\n\u003C/li\u003E\n\u003Cli\u003E\nIt\u0027s trustworthy (it\u0027s not enough to be honest, people need to believe - and verify - you are honest)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have had good success with patreondownloader. It uses a chromium browser that is controlled entirely via debugging. That way the user gets a login interface at forum.kerbalspaceprogram.com and the user can check the signature is valid.\u00A0 Then one can either dump the cookies or use the browser itself to gather all the pages that should be downloaded. As for being trustworthy, being open source _and_ providing compile/build instructions are the way to go I would say. There are some privacy concerns here, depending on what legislature you\u0027re under, it may only be legal to make copies of the DMs if both parties have agreed to it, though this may be me misinterpreting the law, feel free to correct me.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-19T14:22:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408818\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721396266\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere are some privacy concerns here, depending on what legislature you\u0027re under, it may only be legal to make copies of the DMs if both parties have agreed to it, though this may be me misinterpreting the law, feel free to correct me.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThese privacy concerns are not different from using Google to backup your whatsapp chats. Making backups is ok, giving it to anyone else \u003Cu\u003E\u003Cstrong\u003Eis not\u003C/strong\u003E\u003C/u\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nBut since there\u0027s nothing preventing the user from saving the pages directly from their browser (as well letting someone read it over their shoulder), I don\u0027t see how this could be a legal problem neither. The expectancy of privacy are exactly the same in all cases, it\u0027s up to the user themself to respect the legislation, using such tool or doing things by hand.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408818\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721396266\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n36 minutes ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have had good success with patreondownloader. It uses a chromium browser that is controlled entirely via debugging. That way the user gets a login interface at forum.kerbalspaceprogram.com and the user can check the signature is valid.\u00A0 Then one can either dump the cookies or use the browser itself to gather all the pages that should be downloaded.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou don\u0027t need to use a headless browser to fetch the cookies, you can do everything with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ewget\u003C/span\u003E or \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ecurl\u003C/span\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nForum doesn\u0027t obfuscate content using JavaScript, you don\u0027t need a JS runtime to decode things. Unless you find some browser plugin that would do the job for us - this would change everything, as long we cam trust the author! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI think that Firefox could be of use here - there\u0027s no close source version of Firefox, and the Mozilla Foundation is pretty careful about privacy - if we find a Firefox plugin that could do this job for us, it would remove a lot of weight from our shoulders.\n\u003C/p\u003E\n\u003Cp\u003E\nYou know? Nice idea. I will see if I find something on this line.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408818\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721396266\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs for being trustworthy, being open source _and_ providing compile/build instructions are the way to go I would say.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBeing the reason I would prefer to have everything wrote in Python or something that doesn\u0027t need to be compiled. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E The easiest the language, more people can learn enough of it to tell if there\u0027s something fishy on the code or not. \u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EDon\u0027t forget the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ezx utils\u003C/span\u003E supply-chain attack - the injection vector was open and public on github to anyone to see.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2024-07-19T15:46:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408828\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721398964\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDon\u0027t forget the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ezx utils\u003C/span\u003E supply-chain attack - the injection vector was open and public on github to anyone to see.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nand caught, mind.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-19T15:58:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408835\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721403983\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nand caught, mind.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBy chance. Would not be that MS engineer get puzzled by that weird CPU peaks, the stunt could had worked.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd, mind this, \u003Cstrong\u003Enobody\u003C/strong\u003E detected the infringing code until after that dude investigated an unexpected misbehaviour.\n\u003C/p\u003E\n\u003Cp\u003E\nSource code is of little use if nobody is reading (and understanding) it - so my decision to pursue trying to use the easiest programming language that are supported enough to be useful, subject of my original post! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E \u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-20T21:29:39Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI currently fetched \u003Cstrong\u003E513.889\u003C/strong\u003E pages, so now we are on uncharted territories (the 2023 dump has \u003Cstrong\u003E440.387\u003C/strong\u003E). \u003Cs\u003EDon\u0027t have a clue about how much time I still need, but logic suggests we are near the end of this first phase.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-r--r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-r--r--r-- 1 deck deck 1.5G Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc\n-r--r--r-- 1 deck deck 9.4G Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc\n-r--r--r-- 1 deck deck 9.4G Jul 19 01:31 forum.kerbalspaceprogram.com-20240715163142475518.warc\u003C/pre\u003E\n\u003Cp\u003E\nI also settled on the compression tool to feed the torrent, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elrzip\u003C/span\u003E. This thing gave me 44 to 1 compression ratio on the best cases, it\u0027s amazing - but, also, extremely slow. Really, really slow - hours and hours to compress these big beasts.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck 941M May  7  2023 forum.kerbalspaceprogram.com-00000.warc.lrz\n-r--r--r-- 1 deck deck 413M May  7  2023 forum.kerbalspaceprogram.com-00001.warc.lrz\n-r--r--r-- 1 deck deck  56M Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc.lrz\n-r--r--r-- 1 deck deck 687M Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc.lrz\n-r--r--r-- 1 deck deck 536M Jul 19 01:31 forum.kerbalspaceprogram.com-20240715163142475518.warc.lrz\u003C/pre\u003E\n\u003Cp\u003E\nBut, damn, it\u0027s a 44 to 1 compression ratio!!!\n\u003C/p\u003E\n\u003Cp\u003E\n--- -- - POST EDIT - -- ---\n\u003C/p\u003E\n\u003Cp\u003E\nI made a mistake! The 2023 WARC files wer fetched using a custom crawler. I\u0027m going the I.A. way, so I was comparing oranges with apples.\n\u003C/p\u003E\n\u003Cp\u003E\nThe CDX I fetched from IA have \u003Cstrong\u003E2.164.265\u003C/strong\u003E pages. This is the benchmark I should be doing.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m apparently at 25% of the job.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-20T22:02:13Z\u0022 title=\u002207/20/2024 10:02  PM\u0022 data-short=\u0022Jul 20\u0022\u003EJuly 20\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EPOST EDIT\n\u003C/span\u003E\n"},{"CreatedByName":"jost","CreatedById":196999,"CreatedDateTime":"2024-07-20T22:05:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224409100\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721510979\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI currently fetched \u003Cstrong\u003E513.889\u003C/strong\u003E pages, so now we are on uncharted territories (the 2023 dump has \u003Cstrong\u003E440.387\u003C/strong\u003E). \u003Cs\u003EDon\u0027t have a clue about how much time I still need, but logic suggests we are near the end of this first phase.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-r--r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-r--r--r-- 1 deck deck 1.5G Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc\n-r--r--r-- 1 deck deck 9.4G Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc\n-r--r--r-- 1 deck deck 9.4G Jul 19 01:31 forum.kerbalspaceprogram.com-20240715163142475518.warc\u003C/pre\u003E\n\u003Cp\u003E\nI also settled on the compression tool to feed the torrent, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elrzip\u003C/span\u003E. This thing gave me 44 to 1 compression ratio on the best cases, it\u0027s amazing - but, also, extremely slow. Really, really slow - hours and hours to compress these big beasts.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck 941M May  7  2023 forum.kerbalspaceprogram.com-00000.warc.lrz\n-r--r--r-- 1 deck deck 413M May  7  2023 forum.kerbalspaceprogram.com-00001.warc.lrz\n-r--r--r-- 1 deck deck  56M Jul 13 09:44 forum.kerbalspaceprogram.com-20240713061810129595.warc.lrz\n-r--r--r-- 1 deck deck 687M Jul 15 13:31 forum.kerbalspaceprogram.com-20240713124446675422.warc.lrz\n-r--r--r-- 1 deck deck 536M Jul 19 01:31 forum.kerbalspaceprogram.com-20240715163142475518.warc.lrz\u003C/pre\u003E\n\u003Cp\u003E\nBut, damn, it\u0027s a 44 to 1 compression ratio!!!\n\u003C/p\u003E\n\u003Cp\u003E\n--- -- - POST EDIT - -- ---\n\u003C/p\u003E\n\u003Cp\u003E\nI made a mistake! The 2023 WARC files wer fetched using a custom crawler. I\u0027m going the I.A. way, so I was comparing oranges with apples.\n\u003C/p\u003E\n\u003Cp\u003E\nThe CDX I fetched from IA have \u003Cstrong\u003E2.164.265\u003C/strong\u003E pages. This is the benchmark I should be doing.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I\u0027m apparently at 25% of the job.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nConcerning compression tools: zstd is considered a good compromise between speed and compression ratio, maybe worth a tree if time ends up being an issue.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-20T23:06:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224409111\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721513151\u0022 data-ipsquote-userid=\u0022196999\u0022 data-ipsquote-username=\u0022jost\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, jost said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nConcerning compression tools: zstd is considered a good compromise between speed and compression ratio, maybe worth a tree if time ends up being an issue.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI considered it. But it didn\u0027t got near 44 to 1. These files will be torrent\u0027ed and never recompressed again, so it makes sense to use the best compression possible. It will be done only once!\n\u003C/p\u003E\n\u003Cp\u003E\nSo I made a quick test:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck 43543215443 May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-r--r--r-- 1 deck deck  1427252342 May  7  2023 forum.kerbalspaceprogram.com-00000.warc.zst\n-r--r--r-- 1 deck deck   986003377 May  7  2023 forum.kerbalspaceprogram.com-00000.warc.lrz\n\u003C/pre\u003E\n\u003Cp\u003E\nThe commands I used was:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003Ezstd -9 --keep forum.kerbalspaceprogram.com-00000.warc\nlrzip -z --best --keep forum.kerbalspaceprogram.com-00000.warc\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe difference is 441.248.965 bytes between the compression tools, about 425M.\u00A0 For a file that will be downloaded, ideally, hundred of times.\n\u003C/p\u003E\n\u003Cp\u003E\nFor someone hosting it on an AWS, that charges you about $0.09 per GB, the difference between zsd and lrz is about $0,03825 \u003Cu\u003E\u003Cstrong\u003Eper download\u003C/strong\u003E\u003C/u\u003E - for a file that are expected to be available for years.\n\u003C/p\u003E\n\u003Cp\u003E\nThe costs pile up pretty quickly.\n\u003C/p\u003E\n\u003Cp\u003E\n--- -- - POST EDIT - -- ---\n\u003C/p\u003E\n\u003Cp\u003E\nI think I detected why it was so slow. I found two bottlenecks:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nI didn\u0027t reindexed the collection I was feeding, and so when the proxy was fetching again a page, it was being fetched from forum instead of the archive.\n\u003Col\u003E\n\u003Cli\u003E\nreindexing the collections regularly should alleviate this problem\n\u003C/li\u003E\n\u003Cli\u003E\nnote to myself:\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E is for deduplication, where \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E decides if it will store the page or not - it \u003Cstrong\u003Edoes not\u003C/strong\u003E prevent a live fetch\n\u003Col\u003E\n\u003Cli\u003E\nduh...\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ecdx(j) \u003C/span\u003Eis for fetching pages from the archive (or not).\n\u003C/li\u003E\n\u003Cli\u003E\nWe need both, up to date, to do the job\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nThe \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escrapy\u003C/span\u003E tool was fetching the same pages all the time, as a lot of links are targeting already crawled pages, wasting time hitting the proxy (and Forum)\n\u003Col\u003E\n\u003Cli\u003E\nthis one I detected after fixing the previous one.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nNow that I\u0027m thinking about, these are pretty obvious mistakes - but they just occurred to me today...\n\u003C/p\u003E\n\u003Cp\u003E\nI fixing these problems right now, will try them and then I will update the github project.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-21T15:10:35Z\u0022 title=\u002207/21/2024 03:10  PM\u0022 data-short=\u0022Jul 21\u0022\u003EJuly 21\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EPOST EDIT\n\u003C/span\u003E\n"},{"CreatedByName":"TampaPowers","CreatedById":66443,"CreatedDateTime":"2024-07-22T03:26:24Z","Content":"\n\u003Cp\u003E\nI know I am pushing a bit far beyond the archival part here. Apologies. My concern with that is less about the forum actually shutting down, but about the vacuum this would leave and the potential fragmentation that could result in this great community effectively going extinct. That sounds like doom and gloom, but I have been around long enough to have seen this happen with many beloved communities and so am keen to help prevent it if I can. Not saying it will happen, just that it could.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes moderation have an insight into the current setup of these forums? Server(s)? Load? That would be very useful in working out a plan on which forum software would be required as only some of them are able to be setup with caching and other load distribution systems.\n\u003C/p\u003E\n\u003Cp\u003E\nEven without knowing the specifics about the load the forums are under I would think there are open source solutions that would handle it just fine with the right hardware and some tweaks to the setup. It might not be the most solid solution, but it can certainly work well enough to sustain the community. Often times it comes down to investing time into tweaking such things all the way to updating code to work a little better. We all remember the days of phpBB fondly I would hope. These things have not been sleeping either, but they certainly need a bit of help. I\u0027m sure we have enough sysadmin and developer experience going around that sustaining a community-run forum would not be an issue if properly organized.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI was gonna write that I would setup a whole backup plan for the forum, domain, server and software included, but I think that is a bit premature right now and without the key people in the community and the moderation of the forum on board with establishing such a thing it would only do more harm than good. \u003C/span\u003EOf course the easier option would be just for the forums to stay online as they are or for T2 to actively seek a conversation on how to resolve things. One can dream right? \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0 My concerns being unfounded and never materializing is the best outcome, so let\u0027s hope I\u0027m wrong.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-26T02:41:57Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI just updated the scrapping tool.\n\u003C/p\u003E\n\u003Cp\u003E\nNow it\u0027s scrapping images and styles too, and exactly as I intended: \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ehtml\u003C/span\u003E pages on a collection, images on a second one, anything related to CSS and styling on a third one. The anti dupe code is also working fine, preventing the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escrapy\u003C/span\u003E tool from visiting the same page twice on a session - exactly what had screwed me July 13th, when I first tried it. I\u0027m doing proper logging now, too.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E allows us to dynamically merge the collections and serve them on a single front-end, as they were just one. Pretty convenient.\n\u003C/p\u003E\n\u003Cp\u003E\nThe rationale for this decision is simple besides not exactly straightforward: images almost never changes, as well styles. Scrapping them separately will save a bit of Forum\u0027s resources \u003Cstrong\u003Eand\u003C/strong\u003E scrapping time while updating the collections, as the images will rarely (if ever) change. Same for styles. So we can just ignore them while refreshing the archive contents.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s an additional benefit on keeping textual info separated from images and styles: whoever owns the IP, owns the images and styles, \u003Cu\u003E\u003Cstrong\u003Ebut not the textual contents\u003C/strong\u003E\u003C/u\u003E. Posts on Forum \u003Cu\u003E\u003Cstrong\u003Eare \u003C/strong\u003Ealmost unrestrictedly and perpetually\u003Cstrong\u003E licensed\u003C/strong\u003E\u003C/u\u003E to the Forum\u0027s owner, but they still belong to the original poster. So whoever owns the IP, at least theoretically, have no legal grounds to take down these content - assuming the worst scenario, where this Forum goes titties up and a new owner decides to take down the Forum mirrors, they will be able to do so only for the material they own - images and styling. And these we can easily replace later, forging a new \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E file pretending being that, now lost, content.\n\u003C/p\u003E\n\u003Cp\u003E\nOk, ok, on Real Life\u2122 things doesn\u0027t work exactly like that. But it costs very little (if any) to take some preventive measures, no?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EScrapy\u003C/span\u003E tells me that it \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EINFO: Crawled 316615 pages (at 58 pages/min), scraped 31847497 items (at 6128 items/min)\u003C/span\u003E at this moment, but the last time the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E file was touched was \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EJul 20 20:19\u003C/span\u003E. So, apparently, the sum of the older \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files from 2023 and the new ones I\u0027m building now have all the information since the last time I restarted the tool. Please note that the tool understands as \u003Cem\u003Escraped item\u003C/em\u003E anything it crawls into, disregarding being a dupe or not, or if it was fetched or ignored.\n\u003C/p\u003E\n\u003Cp\u003E\nRight now, I\u0027m trying to find my way on the Internet Archive to host the torrent file I will build with the material I already have. I hope it could be a mutable torrent, otherwise I will need to find some other way to host these damned huge files - I intend to have it updated at least once a month, being the reason it needs to be a mutable torrent.\n\u003C/p\u003E\n\u003Cp\u003E\nPeople not willing to host anything can also find this stunt useful, as there\u0027re tools to extract the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E contents and built a dump in their hard disks as you would get by using a \u0027dumb\u0027 crawler as HTTrack.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, really, there will be \u003Cu\u003E\u003Cstrong\u003Eno need\u003C/strong\u003E\u003C/u\u003E for everybody and the kitchen\u0027s sink to hit Forum all the time to scraping it.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, once I have the torrent hosted somewhere, I will start to find a way to cook a way to scrap the side cooperatively, so many people can share the burden, making thing way faster and saving Forum\u0027s resources - once people realize they don\u0027t need to scrap things themselves every time, I expect the load on Forum to be way easier.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is what I currently have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-r--r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-r--r--r-- 1 deck deck  24G Jul 25 15:32 forum.kerbalspaceprogram.com-202407.warc\n\u003C/pre\u003E\n\u003Cp\u003E\nI expect future \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files to be smaller and smaller.\n\u003C/p\u003E\n\u003Cp\u003E\nAt least, but not at last:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224408374\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721195091\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/17/2024 at 2:44 AM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003ETrying to make things faster for you will make Forum slower for everybody, including you.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022color:#d35400;\u0022\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Cstrong\u003EPlease mind the rest of the users.\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nFor the sake of curiosity, some stats I\u0027m fetching from the archives I have at this moment:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003Eforum.kerbalspaceprogram.com-00000.warc\n 318421 Content-Type: application/http; msgtype=request\n 318421 Content-Type: application/http; msgtype=response\n      6 Content-Type:             application/json\n      2 Content-Type:     application/json\n      8 Content-Type: application/json\n      2 Content-Type:                 application/json;charset=utf-8\n      2 Content-Type: application/x-www-form-urlencoded\n 122909 Content-Type: ;charset=UTF-8\n     24 Content-Type: text/html; charset=UTF-8\n 195482 Content-Type: text/html;charset=UTF-8\n\nforum.kerbalspaceprogram.com-00001.warc\n 121990 Content-Type: application/http; msgtype=request\n 121990 Content-Type: application/http; msgtype=response\n  40841 Content-Type: ;charset=UTF-8\n  81149 Content-Type: text/html;charset=UTF-8\n  \n  forum.kerbalspaceprogram.com-202407.warc\n 553096 Content-Type: application/http; msgtype=request\n 553096 Content-Type: application/http; msgtype=response\n     27 Content-Type: application/json;charset=UTF-8\n      1 Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8\n      5 Content-Type: application/x-unknown;charset=UTF-8\n      8 Content-Type: application/zip;charset=UTF-8\n 342190 Content-Type: ;charset=UTF-8\n   1497 Content-Type: text/html\n      7 Content-Type: text/html; charset=UTF-8\n 208622 Content-Type: text/html;charset=UTF-8\n      3 Content-Type: text/plain; charset=UTF-8\n      2 Content-Type: text/plain;charset=UTF-8\n     93 Content-Type: text/xml;charset=UTF-8\n     28 Content-Type: video/mp4;charset=UTF-8\n      3 Content-Type: video/quicktime;charset=UTF-8\u003C/pre\u003E\n\u003Cp\u003E\nAs we can see, some videos leaked into the WARC files... I\u0027m working on it.\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST\u003Csup\u003E2\u003C/sup\u003E EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nThis one gave me a run for the money.\n\u003C/p\u003E\n\u003Cp\u003E\nForum serves media (like movies) using an interface called \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E/applications/core/interface/file/cfield.php\u003C/span\u003E where the file is send on a query. But the crawler was looking only at the path, taking advantage of the fact that Forum doesn\u0027t obfuscate the artefacts - what made my life simpler while routing html, image and style files to their respective collections. Until now.\n\u003C/p\u003E\n\u003Cp\u003E\nSince the crawler didn\u0027t parsed the query, it thought it was a content file and stored the freaking videos togheter the html files, screwing me because:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nThese videos are Forum\u0027s IP, and so shoving them together the textual content would erode my chances on a hypothetical future copyright takedown attempt.\n\u003C/li\u003E\n\u003Cli\u003E\nIt royally screwed the compression ratio of the WARC file!!\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nAs a matter of fact, I thought it was weird that the 2023 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files were compressing at 44 to 1, while mine \u0022only\u0022 22 to 1 - they should compress at similar rations, as they would be similar content. This is the reason I made that stats above, already intuiting some already compressed content had leaked on the stream - but I was thinking on some images or even a zip file, not a whole freaking movie file! \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnyway, I salvaged the files, removing the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eimage/*\u003C/span\u003E content into the image collection, removing about 2G of binary data from the text stream.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI\u0027m double checking everything and recompressing the data files, I will pursue torrenting them tomorrow.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECheers!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST\u003Csup\u003E3\u003C/sup\u003E EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nWell, I blew it. I made a really, REALLY, \u003Cstrong\u003EREALLY\u003C/strong\u003E \u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project/commit/bae2cfae4dda0527ed6f90793e19db2c077eb999\u0022 rel=\u0022external nofollow\u0022\u003Estupid mistake\u003C/a\u003E on the spider, that ended up with a memory leaking that was only growing and growing without I\u0027m being aware.\n\u003C/p\u003E\n\u003Cp\u003E\nThen I finally noticed the problem, tried to salvage the situation (\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Escrapy\u003C/span\u003E have a telnet interface, in which you can do whatever you want - including hot code change!!) but had no memory enough available.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I tried terminating one of the proxies (the style one), as it was idle since the start, to have enough memory to work on the system and try adding a swap file on the steam deck. This would life the pressure and allow me to work to try to salvage the session, not to mention stopping grinding my m2 that probably lost half of its lifespan on this stunt... \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nProblem... this dumbass that is typing you this post decided to create the swapfile in the most dumb way possible:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003Edd if=/dev/zero of=/run/media/deck/MIRROR0/SWAP1 bs=1G count=8\u003C/pre\u003E\n\u003Cp\u003E\nI was lazy (and still sleepy) and decided I didn\u0027t wanted to take a calculator to see how many 4K blocks I would need to reach 8G, so I told \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Edd\u003C/span\u003E to write 8 blocks of 1G each and call it a day.\n\u003C/p\u003E\n\u003Cp\u003E\nBut by doing it, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Edd\u003C/span\u003E tried to \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Emalloc\u003C/span\u003E a 1G buffer on a system that were fighting for 32KB on the current swapfile. So the kernel decided to kill something, elected the SSHD (probably) and the session was finished. However, SteamOS uses that terrible excuse of INIT called SystemD, and this crap automatically kills all the processes owned by a user when it log offs, what essentially is what happens when you lose a SSH session.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then I had to restart scrapping again this morning. I\u0027m currently back at:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E2024-07-27 19:15:36 [scrapy.extensions.logstats] INFO: Crawled 32474 pages (at 80 pages/min), scraped 839693 items (at 2080 items/min)\u003C/pre\u003E\n\u003Cp\u003E\nThere was no loss of data, the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eredis\u003C/span\u003E database is being hosted on another computer (I did some things right, after all), so the current scrapping is to be sure I fetched all the pages from Forum, without leaving things behind.\n\u003C/p\u003E\n\u003Cp\u003E\nOh, well... \u003Cem\u003ESheet\u003C/em\u003E happens! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI\u0027m compressing what I have now (will add a new WARC file with whatever is being scrapped now later) and will proceed with the creation of the torrent.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n=== == = POST\u003Csup\u003E4\u003C/sup\u003E EDIT = == ===\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s about 90 minutes since the log above, and now I have:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E2024-07-27 20:46:36 [scrapy.extensions.logstats] INFO: Crawled 39619 pages (at 73 pages/min), scraped 1025463 items (at 1924 items/min)\u003C/pre\u003E\n\u003Cp\u003E\nI.e.:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u00A0992.989 items scrapped, or about 11K items scrapped per minute.\n\u003C/li\u003E\n\u003Cli\u003E\n7145 pages crawled, or about 79 pages per minute.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cs\u003EI know from fellow scrappers that we have about 400K pages, so unless things go faster, I still have 84.38 hours to complete the task.\u003C/s\u003E \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EOukey, this settles the matter. I will publish the torrent tomorrow, and later update it.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E[edit: I made the same mistake again - I gone Internet Archive way, it\u0027s way more pages!]\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u00A0\u003C/span\u003E=== == = BRUTE FORCE POST MERGING = == ===\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224409376\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721618784\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/22/2024 at 12:26 AM, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI know I am pushing a bit far beyond the archival part here. Apologies.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBy all means, no apologies! This is a brainstorm, we were essentially throwing... \u0022things\u0022 \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E into the wall to see what sticks.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EJumping the gun is only a problem when there\u0027s no one around to tell you are jumping the gun, so no harm, no foul.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnd it\u0027s good to know that someone is willing to go that extra mile if needed, and this message \u003C/span\u003E\u003Cspan\u003Eyou passed with success. So, thank you for the offer! \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224409376\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721618784\u0022 data-ipsquote-userid=\u002266443\u0022 data-ipsquote-username=\u0022TampaPowers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/22/2024 at 12:26 AM, TampaPowers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EMy concerns being unfounded and never materializing is the best outcome, so let\u0027s hope I\u0027m wrong.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMine too. I\u0027m really hoping for the best - but still in alert expecting the worst. Trying hard to do not cause it! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECheers! (and sorry answering this so late, I had a hellish week...)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-28T12:41:54Z\u0022 title=\u002207/28/2024 12:41  PM\u0022 data-short=\u0022Jul 28\u0022\u003EJuly 28\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EFixing styling. s/(hey, no tyops this time!)/(bleh. found one!)/g\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-29T03:16:10Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022color:#2980b9;\u0022\u003E\u003Cspan style=\u0022font-size:26px;\u0022\u003E\u003Cstrong\u003ENEWS FROM THE FRONT\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, baby, finally a deliverable!\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003E\u003Ca href=\u0022https://archive.org/details/KSP-Forum-Preservation-Project\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://archive.org/details/KSP-Forum-Preservation-Project\u003C/a\u003E\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis torrent has the following contents (at this time), except by the informational and security boilerplate:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 lisias staff 941M May  7  2023 forum.kerbalspaceprogram.com-00000.warc.lrz\n-r--r--r-- 1 lisias staff 413M May  7  2023 forum.kerbalspaceprogram.com-00001.warc.lrz\n-r--r--r-- 1 lisias staff 504M Jul 28 09:52 forum.kerbalspaceprogram.com-202407.warc.lrz\n-r--r--r-- 1 lisias staff  12M Jul 28 09:49 forum.kerbalspaceprogram.com-images-202407.warc.lrz\n-r--r--r-- 1 lisias staff 1.1G Jul 27 09:32 forum.kerbalspaceprogram.com-media-202407.warc.lrz\n-r--r--r-- 1 lisias staff 307K Jul 26 12:48 forum.kerbalspaceprogram.com-styles-202407.wrc.lrz\n-r--r--r-- 1 lisias staff  24M Jul 28 21:41 redis.dump.json.lrz\n\u003C/pre\u003E\n\u003Cp\u003E\nFor the sake of curiosity, follows the same files uncompressed:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 deck deck  41G May  7  2023 forum.kerbalspaceprogram.com-00000.warc\n-r--r--r-- 1 deck deck  20G May  7  2023 forum.kerbalspaceprogram.com-00001.warc\n-r--r--r-- 1 deck deck  23G Jul 28 09:52 forum.kerbalspaceprogram.com-202407.warc\n-r--r--r-- 1 deck deck  19M Jul 28 09:49 forum.kerbalspaceprogram.com-images-202407.warc\n-r--r--r-- 1 deck deck 1.2G Jul 27 09:32 forum.kerbalspaceprogram.com-media-202407.warc\n-r--r--r-- 1 deck deck 1.7M Jul 26 12:48 forum.kerbalspaceprogram.com-styles-202407.warc\n-r--r--r-- 1 deck deck 236M Jul 28 21:41 redis.dump.json\u003C/pre\u003E\n\u003Cp\u003E\nExcept by images and movies, we get a 40 to 1 compress ration using \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elrz\u003C/span\u003E - you just can\u0027t beat this. The Internet Archive infrastructure costs thanks for your understanding! \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYou will also find some minimal documentation, as well the crypto boilerplate I\u0027m using to guarantee integrity and origin (me):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E-r--r--r-- 1 lisias staff 2.9K Jul 28 22:15 README.md\n-r--r--r-- 1 lisias staff 1.5K Jul 28 20:14 allowed_signers\n-r--r--r-- 1 lisias staff 2.9K Jul 28 20:27 allowed_signers.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:58 forum.kerbalspaceprogram.com-00000.warc.lrz.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:58 forum.kerbalspaceprogram.com-00001.warc.lrz.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:59 forum.kerbalspaceprogram.com-202407.warc.lrz.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:59 forum.kerbalspaceprogram.com-images-202407.warc.lrz.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:59 forum.kerbalspaceprogram.com-media-202407.warc.lrz.sig\n-r--r--r-- 1 lisias staff 3.0K Jul 28 19:59 forum.kerbalspaceprogram.com-styles-202407.wrc.lrz.sig\n-r--r--r-- 1 lisias staff 2.9K Jul 28 21:48 redis.dump.json.lrz.sig\n-r-xr-xr-x 1 lisias staff  209 Jul 28 20:28 verify.sh\n\u003C/pre\u003E\n\u003Cp\u003E\nHave \u003Ca href=\u0022https://www.openssh.com/\u0022 rel=\u0022external nofollow\u0022\u003Eopenssh\u003C/a\u003E installed and run the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Everify.sh\u003C/span\u003E script and it will validate the files\u0027 integrity.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat to do with these \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files is up to you, but you will find a lot of information about on the Project\u0027s repository:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project\u003C/a\u003E \u003Cspan style=\u0022font-size:8px;\u0022\u003E(the project issue tracker is active)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately, proper documentation is - as usual - lacking, but I\u0027m working on it:\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nYou will find at very least links to the tools I\u0027m using and some hints about how to use them\n\u003Cul\u003E\n\u003Cli\u003E\nas well the configuration files I\u0027m using for them.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nYou will also find the source code for the crawler there.\n\u003C/li\u003E\n\u003Cli\u003E\nMore to come\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003ENow, some bad news:\u003C/span\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t guarantee the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files above are up to date because, well, they aren\u0027t. Scrapping Forum is a race against the clock, and the clock always win - by the time you scrap the last page, there\u0027s a lot of new content to be scrapped again. So I\u0027m not even trying at this moment.\n\u003C/p\u003E\n\u003Cp\u003E\nThe whole process, to tell you the true, is terribly slow once you have the whole site in the database and you are just updating things. Even some pretty aggressive optimizations (as caching in the spider\u0027s memory the pages already visited and avoiding them again no matter what) didn\u0027t improved the situation to a point I would find it comfortable. I\u0027m currently studying how the deduplication works in the hopes to find some opportunities for performance improvements.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003ENow, for the next steps:\u003C/span\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nDocumentation\n\u003Col\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EProper \u003C/strong\u003Edocumentation\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSetting up a prototype for a content server\n\u003Col\u003E\n\u003Cli\u003E\nIncluding how to create a Federation of trusted content mirrors to round robin the requests, sharing the burden\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nCooking something to allow collaborative scrapping of this site\n\u003C/li\u003E\n\u003Cli\u003E\nSetting up a Watch Dog to monitor the (from external point of view) site\u0027s health, so we can determine what would be the best times to scrapping it without causing trouble.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nNot bad for newbie on this scrapping business running a 3 week sprint on the thingy: one probing tools, one setting them up, and one really working with them! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nIn time... Never, ever update your email on Archive.org - you lose rights over the content you had uploaded under the older email... \u003Cspan\u003E\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-29T04:11:03Z\u0022 title=\u002207/29/2024 04:11  AM\u0022 data-short=\u0022Jul 29\u0022\u003EJuly 29\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EWhoops... Archive links are case sensitive!\n\u003C/span\u003E\n"},{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2024-07-29T13:40:24Z","Content":"\n\u003Cp\u003E\nThe more I browse the forums at the moment, the more I notice something: At some point discord killed the ability to look at the pictures they host without some sort of key in the URL, which expires. Before that was the case, many people used to use discord to host images in forum post. I\u0027ve found that for most of them, while clicking on them these days shows \u0022This content is no longer available\u0022, they are still archived on archive.org. So could we perhaps write a bit of a post processor for the data that replaces dead discord links with ones to web archive?\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-29T14:04:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224411159\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221722260424\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe more I browse the forums at the moment, the more I notice something: At some point discord killed the ability to look at the pictures they host without some sort of key in the URL, which expires. Before that was the case, many people used to use discord to host images in forum post. I\u0027ve found that for most of them, while clicking on them these days shows \u0022This content is no longer available\u0022, they are still archived on archive.org. So could we perhaps write a bit of a post processor for the data that replaces dead discord links with ones to web archive?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. And nice idea, I\u0027m registering it on issue tracker to avoid forgetting about: \u003Ca href=\u0022https://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project/issues/5\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/net-lisias-ksp/KSP-Forum-Preservation-Project/issues/5\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI want to stress that this last deliverable is just the first one, and I\u0027m pretty sure I made some mistakes - I tend to err on the safe side, so I probably lost something instead of archiving something unwanted by accident. I\u0027m specially concerned about copyrights, being that the reason I had split the content in 4 different \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files, shielding the really important content.\n\u003C/p\u003E\n\u003Cp\u003E\nI probably could had used some more time to polish it a bit, but - frankly - good enough is enough for an intermediate deliverable. I need more brains on this project, and I would not get them by trying to do everything right (and failing) by myself. Thanks for jumping in! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhat makes me remember: a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E file is a pretty simple straightforward format, it\u0027s really easy (besides terribly cumbersome in the extreme cases) to manipulate its contents using \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Egrep\u003C/span\u003E, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Esed\u003C/span\u003E, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eperl\u003C/span\u003E or even the old and faithful \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Emcedit\u003C/span\u003E. So rest assured that we \u003Cu\u003E\u003Cstrong\u003Ecan\u003C/strong\u003E\u003C/u\u003E forge \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E files to inject content into the archives. Obviously, this will be made on a 5\u003Csup\u003Eth\u003C/sup\u003E \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003E file to avoid tampering the \u0022official\u0022 ones. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s really very few things we can\u0027t accomplish with this (somewhat convoluted, I admit) scheme of scrapping. The sky, bandwidth and disk space are the limit.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-29T14:11:26Z\u0022 title=\u002207/29/2024 02:11  PM\u0022 data-short=\u0022Jul 29\u0022\u003EJuly 29\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EOh, damnit... Tyops as usulla. :)\n\u003C/span\u003E\n"},{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2024-07-29T14:39:25Z","Content":"\n\u003Cp\u003E\nsounds good. For now I (and ChatGPT, sorry) have slapped together a tampermonkey user script that fixes all the dead discord image links by replacing them with the version from archive.org. I have no idea what odd caveats this script has as I\u0027ve never written JS before, but it seems to be working. Use at your own risk.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-javascript prettyprinted\u0022\u003E\u003Cspan class=\u0022com\u0022\u003E// ==UserScript==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @name         FixDeadDiscordImageLinks\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @namespace    http://tampermonkey.net/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @version      2024-07-29\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @description  Replace Discord image links with archive.org versions on error as early as possible\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @author       HB Stratos\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @match        https://forum.kerbalspaceprogram.com/*\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @grant        none\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// @run-at       document-start\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// ==/UserScript==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efunction\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027use strict\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E TARGET \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027https://cdn.discordapp.com/attachments/*\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Target URL with wildcards\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// we use timestamp 0 to make archive.org resolve it to the first existing archive, which is usually the intact one. 9999999999 would give the last one, which is usually the 404 error page\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E PREFIX \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027https://web.archive.org/web/0if_/\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Desired prefix\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efunction\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E convertWildcardToRegex\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epattern\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Escape special characters in the pattern\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Elet\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E escapedPattern \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E pattern\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ereplace\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E/[-\\/\\\\^$\u002B?.()|[\\]{}]/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eg\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027\\\\$\u0026amp;\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Replace wildcard \u0027*\u0027 with \u0027.*\u0027 to match any character sequence\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        escapedPattern \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E escapedPattern\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ereplace\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E/\\*/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eg\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027.*\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Create a new RegExp object\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Ereturn\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ERegExp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027^\u0027\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u002B\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E escapedPattern \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u002B\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027$\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efunction\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E handleImageError\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eevent\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E img \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E event\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Etarget\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E regex \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ERegExp\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022https:\\/\\/cdn\\.discordapp\\.com\\/attachments\\/.*\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eregex\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Etest\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eimg\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Esrc\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E))\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Replace the src with the new URL\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            img\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Esrc \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E PREFIX \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u002B\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E img\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Esrc\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Efunction\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E monitorImages\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E()\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E images \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E document\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EquerySelectorAll\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027img\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n        images\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EforEach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eimg \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Add error event listener to each image\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            img\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EaddEventListener\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027error\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E handleImageError\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Monitor images as soon as the script is injected\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    monitorImages\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E();\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Also re-monitor images when new elements are added to the DOM\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Econst\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E observer \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EMutationObserver\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emutations \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        mutations\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EforEach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emutation \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            mutation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EaddedNodes\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EforEach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Enode \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Enode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EtagName \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E===\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027IMG\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                    node\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EaddEventListener\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027error\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E handleImageError\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eelse\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Enode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EquerySelectorAll\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                    node\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EquerySelectorAll\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027img\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E).\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EforEach\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eimg \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                        img\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EaddEventListener\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0027error\u0027\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E handleImageError\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n    observer\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eobserve\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Edocument\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E childList\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E subtree\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Etrue\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E})();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-29T16:03:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224411164\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221722263965\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsounds good. For now I (and ChatGPT, sorry) have slapped together a tampermonkey user script that fixes all the dead discord image links by replacing them with the version from archive.org. I have no idea what odd caveats this script has as I\u0027ve never written JS before, but it seems to be working. Use at your own risk.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThings can be way simpler with \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epywb\u003C/span\u003E. Just add the Internet Archive as a Collection in your proxy, and it will hit IA for anything missing in your Collections.\n\u003C/p\u003E\n\u003Cp\u003E\nAs a matter of fact, the hard part is to hit IA only for resources sourced from Forum, this thing is pretty abroad.\n\u003C/p\u003E\n\u003Cp\u003E\nIdeally, the pywb proxy should try to hit a source under this scheme:\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nCheck if it exists in the local WARCs. If yes, serve it and finish the request.\n\u003C/li\u003E\n\u003Cli\u003E\nCheck if it exists in the live web. If yes, serve it and finish the request.\n\u003C/li\u003E\n\u003Cli\u003E\nCheck if it exists in the IA collection. If yes, serve it and finish the request.\n\u003C/li\u003E\n\u003Cli\u003E\nthrow a 404.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cp\u003E\nI updated the issue.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-29T16:04:56Z\u0022 title=\u002207/29/2024 04:04  PM\u0022 data-short=\u0022Jul 29\u0022\u003EJuly 29\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EHit \u0026quot;Save\u0026quot; too soon\n\u003C/span\u003E\n"},{"CreatedByName":"HB Stratos","CreatedById":187428,"CreatedDateTime":"2024-07-29T18:17:06Z","Content":"\n\u003Cp\u003E\nMy solution here is not intended for the archive. It\u0027s effectively a chrome extension which fixes up the current, existing website, or if the @match is expanded also any other website which has this issue. At runtime it detects every 404 from discord and switches the link to an archive.org one.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2024-07-29T19:01:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224411216\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221722277026\u0022 data-ipsquote-userid=\u0022187428\u0022 data-ipsquote-username=\u0022HB Stratos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, HB Stratos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy solution here is not intended for the archive. It\u0027s effectively a chrome extension which fixes up the current, existing website, or if the @match is expanded also any other website which has this issue. At runtime it detects every 404 from discord and switches the link to an archive.org one.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, now I see! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI gave it a peek anyway. I looked on \u0022my\u0022 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EWARC\u003C/span\u003Es for something from discord that would not be working anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nFound this:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003E\u003Ca href=\u0022https://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis link, currently, leads to a 404 page from discord:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003EThis content is no longer available.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nYour code would change it to:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Ca href=\u0022https://web.archive.org/web/0if_/https://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://web.archive.org/web/0if_/https://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I.A woud rewrite it to:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003E\u003Ca href=\u0022https://web.archive.org/web/20240616102212if_/https://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://web.archive.org/web/20240616102212if_/https://cdn.discordapp.com/attachments/198576615658094592/235746983732707328/unknown.png\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut this link also returns a \u0022This content is no longer available\u0022 error message the same, because IA had revisited this link after the link had expired. There\u0027s no previous visit for this link, so that specific content is lost for good now.\n\u003C/p\u003E\n\u003Cp\u003E\nOn content that IA had fetched with success at least once, like this one (IA fetched it in the past, by on revisiting it got a 404):\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u003Cspan\u003E\u003Ca href=\u0022https://cdn.discordapp.com/attachments/252199919316631553/261800273071177728/image.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://cdn.discordapp.com/attachments/252199919316631553/261800273071177728/image.jpg\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nYour plugin should work fine.\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps the script should fail nicely when IA returns a 404? The rationale is showing the user that the extension is working, and the problem is IA not having the image neither. The way it works, people will come back telling the extension is not working!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:80px;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-07-29T20:32:43Z\u0022 title=\u002207/29/2024 08:32  PM\u0022 data-short=\u0022Jul 29\u0022\u003EJuly 29\u003C/time\u003E by Lisias\u003C/strong\u003E\n\u003Cbr\u003EAdding rationale\n\u003C/span\u003E\n"},{"CreatedByName":"Ultimate Steve","CreatedById":161505,"CreatedDateTime":"2024-07-30T03:50:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224410459\u0022 data-ipsquote-contentid=\u0022225368\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221721961717\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/25/2024 at 9:41 PM, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhoever owns the IP, owns the images and styles, \u003Cu\u003E\u003Cstrong\u003Ebut not the textual contents\u003C/strong\u003E\u003C/u\u003E. Posts on Forum \u003Cu\u003E\u003Cstrong\u003Eare \u003C/strong\u003Ealmost unrestrictedly and perpetually\u003Cstrong\u003E licensed\u003C/strong\u003E\u003C/u\u003E to the Forum\u0027s owner, but they still belong to the original poster. So whoever owns the IP, at least theoretically, have no legal grounds to take down these content\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFirstly, thank you for all of your preservation efforts!\n\u003C/p\u003E\n\u003Cp\u003E\nThis isn\u0027t strictly preservation related, but you\u0027re probably a lot more well versed in the legalese than I am, but when you say \u0022images and styles\u0022, does that refer to like the background and banners of the forum, or pictures in posts?\n\u003C/p\u003E\n\u003Cp\u003E\nAnd you\u0027re saying, for sure, anything posted here belongs to the poster?\n\u003C/p\u003E\n\u003Cp\u003E\nI was under the impression that T2 legally owned any content posted here for some reason (probably the panic back when the old EULA change took effect), if this is not in fact the case, and I actually own all the stories and images that were used in the stories that I\u0027ve made, this is a really big weight off my shoulders.\n\u003C/p\u003E\n"}]}