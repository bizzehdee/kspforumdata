{"TopicId":163617,"ForumId":36,"TopicTitle":"Porting thrust effects of ModuleEngines to ModuleEnginesFX?","CreatedByName":"trias702","CreatedById":179390,"CreatedDateTime":"2017-07-23T18:33:53Z","PageNum":1,"Articles":[{"CreatedByName":"trias702","CreatedById":179390,"CreatedDateTime":"2017-07-23T18:33:53Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nI am trying to port an old KSP mod engine which uses ModuleEngines to ModuleEnginesFX so that I can make use of some of the newer modules which only work with ModuleEnginesFX. Porting the actual engine stats is quite straightforward, but where I\u0027m having extreme difficulty is porting over the thrust exhaust effects. The old way of defining thrust effects in ModuleEngines was like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efx_exhaustFlame_blue = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, running\nfx_exhaustLight_blue = 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere, both effects are being bound to the \u0022running\u0022 engine state, and the numbers are offsets for x, y, z, angle_x, angle_y, angle_z. My question is, how do I perfectly port over both of these effects and bind them correctly to \u0022running\u0022 using the new ModuleEnginesFX system? Try as I might, I cannot get it to work, in that my engine generates no thrust flame/plume/light or sound at all when the throttle is used. The issue, I think, is with the EFFECTS{} declaration, but also something going wrong with\u00A0FXModuleAnimateThrottle, which I don\u0027t understand anything about, as I think it has something to do with the model .mu file, and since I don\u0027t know anything about that file, perhaps I\u0027m doing something wrong. I have read that using fx_exhaustFlame_blue and fx_exhaustLight_blue requires PREFAB_PARTICLE in the new system, so I have used that.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the current EFFECTS{} declaration I have. The node I\u0027m trying to replicate from the old system is \u0022running\u0022, but perhaps I have done something wrong with the other nodes too?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EEFFECTS\n\t{\n\t\tdisengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_soft\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_medium\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tflameout\n\t\t{\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\n\t\t\t\ttransformName = T_T\n\t\t\t\toneShot = true\n\t\t\t}\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_explosion_low\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\trunning\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_rocket_hard\n\t\t\t\tvolume = 0.0 0.0\n\t\t\t\tvolume = 1.0 1.0\n\t\t\t\tpitch = 0.0 0.2\n\t\t\t\tpitch = 1.0 1.0\n\t\t\t\tloop = true\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tname = exhaustFlame\n\t\t\t\tprefabName = fx_exhaustFlame_blue\n\t\t\t\ttransformName = T_T\n\t\t\t\temission = 0.0 0.0\n\t\t\t\temission = 0.01 0.1\n\t\t\t\temission = 0.075 0.25\n\t\t\t\temission = 1.0 1.0\n\t\t\t\tspeed = 0.0 0.35\n\t\t\t\tspeed = 1.0 1.0\n\t\t\t\tlocalRotation = 1,0,0,-90  // oddly enough, this seems to equal 0,1,0 in the old system\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tname = exhaustLight\n\t\t\t\tprefabName = fx_exhaustLight_blue\n\t\t\t\ttransformName = T_T\n\t\t\t\temission = 0.0 1.0\n\t\t\t\temission = 0.01 1.0\n\t\t\t\temission = 0.075 1.0\n\t\t\t\temission = 1.0 1.0\n\t\t\t\tspeed = 0.0 1.0\n\t\t\t\tspeed = 1.0 1.0\n\t\t\t\tlocalRotation = 0,0,1,-90   // no clue if this is correct\n\t\t\t}\n\t\t}\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI then bind the \u0022running\u0022 effect in the ModuleEnginesFX declaration like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODULE\n\t{\n\t\tname = ModuleEnginesFX\n\t\tengineID = DeuteriumTritium\n\t\tthrustVectorTransformName = T_T   // the old, legacy declaration called it this, which I\u0027m guessing connects with the .mu file somehow?\n\t\texhaustDamage = True\n\t\trunningEffectName = running   // binding for the EFFECTS{} declaration\n\t\tignitionThreshold = 0.1\n\t\tminThrust = 0\n\t\tmaxThrust = 3500\n\t\theatProduction = 280\n\t\tfxOffset = 0, 0, 0\n\t\t...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFinally, I have copied over the\u00A0FXModuleAnimateThrottle declaration as it was in the old file. This module I do not understand at all, why is it required? From my very limited understanding, I think that the model .mu file defines some kind of render object which maps to graphical detail as the throttle moves. This render object has an explicit name, which for this part, according to the old code, is called \u0022e22\u0022, and I\u0027m guessing that FXModuleAnimateThrottle needs to somehow bind to this object such that it correctly displays the effects of the throttle going up? Anyway, here is the code I\u0027m using, taken from the old part:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = e22\n\t\tdependOnEngineState = True\n\t\tresponseSpeed = 0.5\n\t\tengineName = DeuteriumTritium\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo that\u0027s basically my ported over file in a nutshell. When loaded into a game, the engine works correctly, in that thrust is generated and the vessel moves in space, however, there is no exhaust/plume effect, and no sound at all of the engine running. If anyone could please help me to understand how to port over the original effects of\u00A0fx_exhaustFlame_blue and\u00A0fx_exhaustLight_blue such that they work for ModuleEnginesFX exactly like they used to work for ModuleEngines, I would be extremely thankful.\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2017-07-23T22:45:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223129040\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500834833\u0022 data-ipsquote-userid=\u0022179390\u0022 data-ipsquote-username=\u0022trias702\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, trias702 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nI am trying to port an old KSP mod engine which uses ModuleEngines to ModuleEnginesFX so that I can make use of some of the newer modules which only work with ModuleEnginesFX. Porting the actual engine stats is quite straightforward, but where I\u0027m having extreme difficulty is porting over the thrust exhaust effects. The old way of defining thrust effects in ModuleEngines was like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Efx_exhaustFlame_blue = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, running\nfx_exhaustLight_blue = 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere, both effects are being bound to the \u0022running\u0022 engine state, and the numbers are offsets for x, y, z, angle_x, angle_y, angle_z. My question is, how do I perfectly port over both of these effects and bind them correctly to \u0022running\u0022 using the new ModuleEnginesFX system? Try as I might, I cannot get it to work, in that my engine generates no thrust flame/plume/light or sound at all when the throttle is used. The issue, I think, is with the EFFECTS{} declaration, but also something going wrong with\u00A0FXModuleAnimateThrottle, which I don\u0027t understand anything about, as I think it has something to do with the model .mu file, and since I don\u0027t know anything about that file, perhaps I\u0027m doing something wrong. I have read that using fx_exhaustFlame_blue and fx_exhaustLight_blue requires PREFAB_PARTICLE in the new system, so I have used that.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the current EFFECTS{} declaration I have. The node I\u0027m trying to replicate from the old system is \u0022running\u0022, but perhaps I have done something wrong with the other nodes too?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EEFFECTS\n\t{\n\t\tdisengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_soft\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tengage\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_vent_medium\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\tflameout\n\t\t{\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tprefabName = fx_exhaustSparks_flameout_2\n\t\t\t\ttransformName = T_T\n\t\t\t\toneShot = true\n\t\t\t}\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_explosion_low\n\t\t\t\tvolume = 1.0\n\t\t\t\tpitch = 2.0\n\t\t\t\tloop = false\n\t\t\t}\n\t\t}\n\t\trunning\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = sound_rocket_hard\n\t\t\t\tvolume = 0.0 0.0\n\t\t\t\tvolume = 1.0 1.0\n\t\t\t\tpitch = 0.0 0.2\n\t\t\t\tpitch = 1.0 1.0\n\t\t\t\tloop = true\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tname = exhaustFlame\n\t\t\t\tprefabName = fx_exhaustFlame_blue\n\t\t\t\ttransformName = T_T\n\t\t\t\temission = 0.0 0.0\n\t\t\t\temission = 0.01 0.1\n\t\t\t\temission = 0.075 0.25\n\t\t\t\temission = 1.0 1.0\n\t\t\t\tspeed = 0.0 0.35\n\t\t\t\tspeed = 1.0 1.0\n\t\t\t\tlocalRotation = 1,0,0,-90  // oddly enough, this seems to equal 0,1,0 in the old system\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\tname = exhaustLight\n\t\t\t\tprefabName = fx_exhaustLight_blue\n\t\t\t\ttransformName = T_T\n\t\t\t\temission = 0.0 1.0\n\t\t\t\temission = 0.01 1.0\n\t\t\t\temission = 0.075 1.0\n\t\t\t\temission = 1.0 1.0\n\t\t\t\tspeed = 0.0 1.0\n\t\t\t\tspeed = 1.0 1.0\n\t\t\t\tlocalRotation = 0,0,1,-90   // no clue if this is correct\n\t\t\t}\n\t\t}\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI then bind the \u0022running\u0022 effect in the ModuleEnginesFX declaration like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EMODULE\n\t{\n\t\tname = ModuleEnginesFX\n\t\tengineID = DeuteriumTritium\n\t\tthrustVectorTransformName = T_T   // the old, legacy declaration called it this, which I\u0027m guessing connects with the .mu file somehow?\n\t\texhaustDamage = True\n\t\trunningEffectName = running   // binding for the EFFECTS{} declaration\n\t\tignitionThreshold = 0.1\n\t\tminThrust = 0\n\t\tmaxThrust = 3500\n\t\theatProduction = 280\n\t\tfxOffset = 0, 0, 0\n\t\t...\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFinally, I have copied over the\u00A0FXModuleAnimateThrottle declaration as it was in the old file. This module I do not understand at all, why is it required? From my very limited understanding, I think that the model .mu file defines some kind of render object which maps to graphical detail as the throttle moves. This render object has an explicit name, which for this part, according to the old code, is called \u0022e22\u0022, and I\u0027m guessing that FXModuleAnimateThrottle needs to somehow bind to this object such that it correctly displays the effects of the throttle going up? Anyway, here is the code I\u0027m using, taken from the old part:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = e22\n\t\tdependOnEngineState = True\n\t\tresponseSpeed = 0.5\n\t\tengineName = DeuteriumTritium\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo that\u0027s basically my ported over file in a nutshell. When loaded into a game, the engine works correctly, in that thrust is generated and the vessel moves in space, however, there is no exhaust/plume effect, and no sound at all of the engine running. If anyone could please help me to understand how to port over the original effects of\u00A0fx_exhaustFlame_blue and\u00A0fx_exhaustLight_blue such that they work for ModuleEnginesFX exactly like they used to work for ModuleEngines, I would be extremely thankful.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe FXModuleAnimaterThrottle\u00A0 replaces ModuleAnimateHeat\u00A0 and on the FX it matters where you place them in the cfg KSP is picky about that on somethings\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT- O and T_T as you have posted would be the name of the transformer in unity\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-07-23T22:47:29Z\u0022 title=\u002207/23/2017 10:47  PM\u0022 data-short=\u00226 yr\u0022\u003EJuly 23, 2017\u003C/time\u003E by Mecripp2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"trias702","CreatedById":179390,"CreatedDateTime":"2017-07-24T08:39:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223129248\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500849915\u0022 data-ipsquote-userid=\u002296203\u0022 data-ipsquote-username=\u0022MeCripp\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, MeCripp said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe FXModuleAnimaterThrottle\u00A0 replaces ModuleAnimateHeat\u00A0 and on the FX it matters where you place them in the cfg KSP is picky about that on somethings\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s good info, thank you. So where in the CFG file should I place the FXModuleAnimateThrottle section? Currently I have it just after the ModuleEnginesFX section.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223129248\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500849915\u0022 data-ipsquote-userid=\u002296203\u0022 data-ipsquote-username=\u0022MeCripp\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, MeCripp said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT- O and T_T as you have posted would be the name of the transformer in unity\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, just like I suspected. May I ask what the animationName = e22 is referring to? Is e22 the animation object in Unity/Blender for the .mu of this engine?\n\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2017-07-24T12:46:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223129520\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500885571\u0022 data-ipsquote-userid=\u0022179390\u0022 data-ipsquote-username=\u0022trias702\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, trias702 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s good info, thank you. So where in the CFG file should I place the FXModuleAnimateThrottle section? Currently I have it just after the ModuleEnginesFX section.\n\u003C/p\u003E\n\u003Cp\u003E\nOk, just like I suspected. May I ask what the animationName = e22 is referring to? Is e22 the animation object in Unity/Blender for the .mu of this engine?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell just guessing because not sure what mod your using but looks like its the heat FX on the engine some engines glow like there getting hot if you look stock didn\u0027t even fix all there stuff\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = ModuleAnimateHeat\n\t\tThermalAnim = TF1Heat            \u0026lt;----------------\n    }\n\nWould be replaced by \n\n\t\nMODULE\n\t{\n\t\tname = FXModuleAnimateThrottle\n\t\tanimationName = TF1Heat          \u0026lt;---------------\n\t\tresponseSpeed = 0.001\n\t\tdependOnEngineState = True\n\t\tdependOnThrottle = True\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHaven\u0027t seen\u00A0 these modules be really pick but the effects they can be picky sometime there before ModulEnginesFX and some are placed after if you can PM me with what mod or send a file would help to look at it as it was.\n\u003C/p\u003E\n"},{"CreatedByName":"trias702","CreatedById":179390,"CreatedDateTime":"2017-07-25T10:15:45Z","Content":"\n\u003Cp\u003E\nI think I have figured out the core issue, of the thrust effects not showing up. I was using GTI\u0027s multi engine module (which allows 3\u002B different engine modes), and apparently, if you use that (or the regular MultiModeEngine), you cannot have each ModuleEnginesFX point to the same EFFECTS{} node. You must have a different node for each ModuleEnginesFX, even if both engines use identical effects.\n\u003C/p\u003E\n\u003Cp\u003E\nI had this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Erunning\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\t...\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\t...\n\t\t\t}\n\t\t\tPREFAB_PARTICLE\n\t\t\t{\n\t\t\t\t...\n\t\t\t}\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nPaired with this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EModuleEnginesFX\n{\n\tengineName = mode_1\n\trunningEffectName = running\n\t...\n}\n\nModuleEnginesFX\n{\n\tengineName = mode_2\n\trunningEffectName = running\n\t...\n}\n\nModuleEnginesFX\n{\n\tengineName = mode_3\n\trunningEffectName = running\n\t...\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhich is bad apparently. The way to make this work is to create a separate running_mode_1, running_mode_2, running_mode_3, EFFECTS node and link it that way. If you do this, then it works. It\u0027s just a bit wasteful though since running_mode_1, running_mode_2, and running_mode_3 have identical code.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, even getting this working correctly, I still note that using PREFAB_PARTICLE for the thrust effect in ModuleEnginesFX does not make it look that same as the old system for ModuleEngines. The thrust plume is not as a big and thick as having it declared in the old way for ModuleEngines:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efx_exhaustFlame_blue = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, running\nfx_exhaustLight_blue = 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDoes anyone know how I can make it look exact? I tried changing the emissive, speed, and energy properties of the PREFAB_PARTICLE, but they don\u0027t make the plume thicker/brighter, just longer.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, does anyone know the difference between runningEffectName and powerEffectName for ModuleEnginesFX in terms of when they should be used? I understand runningEffectName maps to the old \u0022running\u0022 category, which is basically when the engine is running, but what\u0027s the difference between that and powerEffectName?\n\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2017-07-25T10:32:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130608\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500977745\u0022 data-ipsquote-userid=\u0022179390\u0022 data-ipsquote-username=\u0022trias702\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, trias702 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes anyone know how I can make it look exact?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe this can help a little:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/152593-answered-convert-effects-between-effects-nodes-and-flat-format/\u0026amp;do=embed\u0026amp;comment=3005630\u0026amp;embedComment=3005630\u0026amp;embedDo=findComment#comment-3005630\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"trias702","CreatedById":179390,"CreatedDateTime":"2017-07-25T10:59:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130612\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500978723\u0022 data-ipsquote-userid=\u002281294\u0022 data-ipsquote-username=\u0022sebi.zzr\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, sebi.zzr said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe this can help a little:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/152593-answered-convert-effects-between-effects-nodes-and-flat-format/\u0026amp;do=embed\u0026amp;comment=3005630\u0026amp;embedComment=3005630\u0026amp;embedDo=findComment#comment-3005630\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is quite helpful thank you. My take away from that thread was that getting the plume to be the right thickness/intensity is mainly a game of trail and error, which I understand.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I don\u0027t understand from your post in that other thread is how you mapped x,y,z,angX,angY,angZ from the old system to the new one:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efx_exhaustFlame_blue = 0.0, -2.2, 0.0, 0.0, 1.0, 0.0, running\nfx_exhaustLight_blue = 0.0, -2.2, 0.0, 0.0, 0.0, 1.0, running\n\n=\u0026gt;\n\nPREFAB_PARTICLE\n{\n\tname = flame1\n\tprefabName = fx_exhaustFlame_blue\n\ttransformName = thrustTransform\n\t...\n\tlocalOffset = 0,0,1  // was 0.0, -2.2, 0.0, 0.0, 1.0, 0.0 under the old system\n\tlocalRotation = 1,0,0,-90  // was 0.0, -2.2, 0.0, 0.0, 1.0, 0.0 under the old system\n\n}\nPREFAB_PARTICLE\n{\n\tname = flame2\n\tprefabName = fx_exhaustLight_blue\n\ttransformName = thrustTransform\n\t...\n\tlocalOffset = 0,0,1   // was 0.0, -2.2, 0.0, 0.0, 0.0, 1.0 under the old system\n\tlocalRotation = 1,0,0,-90   // was 0.0, -2.2, 0.0, 0.0, 0.0, 1.0 under the old system\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAccording to the line you posted (\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation#FX_definitions\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation#FX_definitions\u003C/a\u003E) the old system numbers were:\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nx, y, z, angx, angy, angz, activate, deactivate\n\u003C/p\u003E\n\u003Cp\u003E\nThat same site states that the new system, localOffset = X, Y, Z and I would assume localRotation is also X, Y, Z\n\u003C/p\u003E\n\u003Cp\u003E\nSo how come\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n0.0, -2.2, 0.0 =\u0026gt; localOffset 0,0,1\n\u003C/p\u003E\n\u003Cp\u003E\nand\n\u003C/p\u003E\n\u003Cp\u003E\n0.0, 1.0, 0.0 =\u0026gt; localRotation 1,0,0,-90\n\u003C/p\u003E\n\u003Cp\u003E\nThis would seem to indicate that localOffset/localRotation is not in fact X, Y, Z since it doesn\u0027t map to the old system X, Y, Z (on a 1:1 basis). I understand everything else except this last issue, of how to reconcile localOffset/Rotation with the old values. Did the mappings change or do they mean entirely different things now?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2017-07-26T10:57:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223130626\u0022 data-ipsquote-contentid=\u0022163617\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500980343\u0022 data-ipsquote-userid=\u0022179390\u0022 data-ipsquote-username=\u0022trias702\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, trias702 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne thing I don\u0027t understand from your post in that other thread is how you mapped x,y,z,angX,angY,angZ from the old system to the new one:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLike i explained in other post,i didn\u0027t map anything.I started with the converted .cfg and inspected it in game and then made the adjustments.There is no formula,if you convert 100 .cfg then maybe some pattern will start to show,but it\u0027s mostly trial and error.\n\u003C/p\u003E\n"}]}