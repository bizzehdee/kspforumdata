{"TopicId":131563,"ForumId":29,"TopicTitle":"[Answered] AvailablePart -\u0026gt; Actual part not working as expected.","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-02-07T04:22:01Z","PageNum":1,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-02-07T04:22:01Z","Content":"\n\u003Cp\u003E\nAnswer: Turns out the error had nothing to do with AvailablePart. My MM script was misconfigured so the values were in an unamed (and so blank) config sub-node.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlright, something is behaving differently then I expect and I\u0027m not getting anywhere so I\u0027m hoping someone can help out.\n\u003C/p\u003E\n\u003Cp\u003E\nI have this line of code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EAvailablePart ap = PartLoader.getPartInfoByName(\u0022Mark1-2Pod\u0022);\n                Debug.Log(\u00222\u0022 \u002B ap.partConfig.ToString());\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFrom that ap.partConfig configNode I have these lines:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nMODULE\n\t{\n\t\tname = ModuleAutoAction\n\t\t                              //Answered: note this blank line and brackets below, this is a config sub-node that shouldn\u0027t be here\n\t\t{\n\t\t\tactivateSAS = True\n\t\t\tactivateGroupE = 5\n\t\t}\n\t}\u003C/pre\u003E\n\u003Cp\u003E\nSo ModuleManager has correctly added my partModule of ModuleAutoAction and set the two values as I want.\n\u003C/p\u003E\n\u003Cp\u003E\nExcept they are incorrect when I actually place the part.\n\u003C/p\u003E\n\u003Cp\u003E\nThis code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EDebug.Log(\u0022AutoActs Update\u0022);\nforeach(Part p in EditorLogic.SortedShipList)\n                {\n                    if (p.Modules.Contains(\u0022ModuleAutoAction\u0022))\n                    {\n                        ModuleAutoAction maa = (ModuleAutoAction)p.Modules[\u0022ModuleAutoAction\u0022];\n                        Debug.Log(maa.activateSAS);\n                        Debug.Log(maa.activateGroupE);\n                    }\n                }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhen only a single Mk1-2 command pod is placed generates this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EAutoActs Update\n\nFalse\n\n0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhich are the default values on those KSPFields in my partModule code, not the modified values set by ModuleManager that I want to see.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat am I missing?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/SirDiazo/AutoAction/blob/master/AutoAction/ModuleAutoAction.cs\u0022 rel=\u0022external nofollow\u0022\u003EThe entirety of the code for the partModule in question can be found here.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone have any idea what I\u0027m missing?\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-07T20:37:38Z\u0022 title=\u002202/07/2016 08:37  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 7, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}