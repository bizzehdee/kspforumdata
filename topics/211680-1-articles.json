{"TopicId":211680,"ForumId":29,"TopicTitle":"EVA scrambles part window field/event order having issues with the fix.","CreatedByName":"alexalex","CreatedById":224261,"CreatedDateTime":"2023-01-24T07:17:04Z","PageNum":1,"Articles":[{"CreatedByName":"alexalex","CreatedById":224261,"CreatedDateTime":"2023-01-24T07:17:04Z","Content":"\n\u003Cp\u003E\nGoing EVA scrambles the ordering of fields and events due to the \u003Cem\u003EShowUpgradeStats \u003C/em\u003Eevent button disappearing on EVA, and how that interacts with KSP\u0027s own internal part field/event ordering system.\u00A0\u00A0 To solve this I\u0027ve made the \u003Cem\u003EShowUpgradeStats \u003C/em\u003Ebutton permanent, but the problem is that this then causes buttons on different parts to mix and duplicate while other buttons that should unload don\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Untsssitled.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022165.00\u0022 height=\u0022231\u0022 width=\u0022140\u0022 src=\u0022https://i.ibb.co/gj7ZZNf/Untsssitled.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/7542-the-official-unoffical-quothelp-a-fellow-plugin-developerquot-thread/page/109/#comment-3130874\u0022 rel=\u0022\u0022\u003EI did find this old post where someone else was having the same/similar issue as me but their solution didn\u0027t work when I tried to apply it to my code\u003C/a\u003E.\u00A0 So does anyone know how I can fix this duplication issue or another way I can make the original field/event order permanent?\u00A0 Here\u0027s the code I\u0027ve been using for \u003Cem\u003EShowUpgradeStats\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E\t\tpublic void Start()\n\t\t{\n\t\t\tList\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Part\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E parts = FlightGlobals.ActiveVessel.parts;\n\t\t\tfor (int i = 0; i \u0026lt; parts.Count; i\u002B\u002B)\n\t\t\t{\n\t\t\t\tPart p = parts.ElementAt(i);\n\t\t\t\tforeach (BaseEvent ShowUpgradeStats in p.Events)\n\t\t\t\t{\n\t\t\t\t\tint id = ShowUpgradeStats.id;\n\t\t\t\t\tp.Events[id].guiActiveUnfocused = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"alexalex","CreatedById":224261,"CreatedDateTime":"2023-01-26T21:15:55Z","Content":"\n\u003Cp\u003E\nAfter bashing my head against the wall some more I found the fix for this - scrapping the part list method of hooking into KSPEvents entirely.\u00A0 It drastically simplified the code too.\n\u003C/p\u003E\n"}]}