{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":3,"Articles":[{"CreatedByName":"Chezburgar7300","CreatedById":114873,"CreatedDateTime":"2015-04-14T20:55:02Z","Content":"Good god this is beautiful! Are there plans to add a donate button to the OP? You need to be paid for this!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-15T09:42:35Z","Content":"\u003E \n\u003E Does anybody have any experience with the way the cameras in KSP handle depth buffers? I need to know if KSP\u0027s default terrain shaders write to the depth buffer. I know KSP uses multiple cameras and it makes rebuilding a coherent depth buffer difficult and yadda yadda but since I\u0027m working on atmospheric scattering, it only applies to the farthest objects and would only require the depth buffer of the farthest camera.\n\u003E I know rbray was working on something similar, but if possible, I\u0027d like to not have to replace the stock terrain shaders with other shaders that write to the depth buffer as rbray did something similar but it did not look good in the end.\n\nNevermind you guys, I figured it out\n\n![teABsMf.jpg](http://i.imgur.com/teABsMf.jpg)\n\nnow to make something really amazing happen with this depth buffer...\n\n\u003E \n\u003E Hey BlackRat, i think we was talking about SmallFatFetus...\n\u003E ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\noh okay\n\n\u003E \n\u003E Good god this is beautiful! Are there plans to add a donate button to the OP? You need to be paid for this!\n\nIf you want to pay me go ahead, I\u0027m not against the idea ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) However I\u0027d feel bad accepting donations, mainly because I didn\u0027t do as much work as you think I did, I mostly borrowed stuff from the awesome proland to unity port by Justin Hawkes, go here for a good read: [http://scrawkblog.com/2014/05/19/proland-to-unity-core/](http://scrawkblog.com/2014/05/19/proland-to-unity-core/)\n\nI am actually amazed no one has thought of doing this before.\n\n**Edited \u003Ctime datetime=\u00222015-04-15T09:48:21Z\u0022 title=\u002204/15/2015 09:48  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 15, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Sage","CreatedById":103634,"CreatedDateTime":"2015-04-15T12:56:22Z","Content":"\u003E \n\u003E Nevermind you guys, I figured it out\n\u003E [http://i.imgur.com/teABsMf.jpg](http://i.imgur.com/teABsMf.jpg)\n\u003E \n\u003E now to make something really amazing happen with this depth buffer...\n\nOh, wow, are you going to add haze? You are doing an excellent job\n\n\u003E I am actually amazed no one has thought of doing this before.\n\nI\u0027d say SQUAD should have done this long time ago...unu"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-04-15T17:21:07Z","Content":"\u003E \n\u003E I am actually amazed no one has thought of doing this before.\n\nOh I\u0027m sure plenty of people have. *Doing it* is the hard part most people hang up on - including Squad. As nice as this looks, it is in no way essential to gameplay hence very low on the priority list for the developers. Keep up the good work"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2015-04-15T17:23:25Z","Content":"This mod could not modify the radio chatterer audio fx, because they are inside the capsule, with atmosphere.\n\nNow what happens here is that all sounds go \u0022underwater fx\u0022. Others that could not modify is the bell from Kerbal Clock, and alarms from Science Alert.\n\n![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nBesides that, i love this mod.\n\nAnd your name is fine, the other one is fine too, but is disturbing. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-15T17:29:13Z","Content":"\u003E \n\u003E This mod could not modify the radio chatterer audio fx, because they are inside the capsule, with atmosphere.\n\u003E Now what happens here is that all sounds go \u0022underwater fx\u0022. Others that could not modify is the bell from Kerbal Clock, and alarms from Science Alert.\n\nWhat?"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2015-04-15T17:31:41Z","Content":"Forget about! ahuahuahuahuauha.\n\nI was to talk about the audio muffler!\n\nLOL\n\nJust forget!\n\nForgot?"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-04-15T18:31:10Z","Content":"Following this with exceptional interest. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-04-15T18:54:31Z","Content":"I tried it a bit. Congratulations! Looks very nice and seems very, very promising. But I have a few questions:\n\n- Why you need to change the sun flare to a more primitive one?\n\n- If I\u0027m not doing nothing wrong, seems not compatible with EVE and the new wip-EVE. Right? Seems like the camera layers are very important here so, depending on what camera you choose, you can see the coulds and effects from EVE or, instead, your atmo scattering... But, could be this compatible in the future with wip-EVE or, as least, with the 7-4 EVE version?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-15T19:11:53Z","Content":"\u003E \n\u003E I tried it a bit. Congratulations! Looks very nice and seems very, very promising. But I have a few questions:\n\u003E - Why you need to change the sun flare to a more primitive one?\n\u003E \n\u003E - If I\u0027m not doing nothing wrong, seems not compatible with EVE and the new wip-EVE. Right? Seems like the camera layers are very important here so, depending on what camera you choose, you can see the coulds and effects from EVE or, instead, your atmo scattering... But, could be this compatible in the future with wip-EVE or, as least, with the 7-4 EVE version?\n\nThe atmosphere isn\u0027t translucent, it\u0027s an opaque layer that covers the whole sky, and as such, needs it\u0027s own sun flare, right now it keeps rendering when you\u0027re in orbit but in future versions I\u0027ll make it fade as you go up the atmosphere and transition to the stock sun without anyone noticing. You can try deleting the sun texture in the mod folder, you\u0027ll be left with a sunless sky when you\u0027re on the ground.\n\nThe first two versions (which you can still download in the OP) were compatible I think with EVE, I remember someone posted screens with clouds and everything. Here\u0027s an awesome pic I saved\n\n![72nlXss.jpg](http://i.imgur.com/72nlXss.jpg)\n\nSomeone started reporting the missing clouds with the last version. My guess would be it\u0027s because I disabled the stock atmosphere\u0027s renderer (pretty much the only big change in that version) so they don\u0027t overlap with each other and cause an ugly view from orbit. If that\u0027s the case I could simply fix it by disabling the stock atmosphere as soon as you\u0027re about to leave my atmosphere. However you can still see the clouds working normally in the KSC view which is puzzling. I still haven\u0027t looked much into it yet. Anyway, I plan to work on EVE and RSS compatibility, and I really don\u0027t see any reasons why these wouldn\u0027t work.\n\n**Edited \u003Ctime datetime=\u00222015-04-15T19:19:15Z\u0022 title=\u002204/15/2015 07:19  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 15, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"KillAshley","CreatedById":128696,"CreatedDateTime":"2015-04-15T19:20:04Z","Content":"\u003E - If I\u0027m not doing nothing wrong, seems not compatible with EVE and the new wip-EVE. Right? Seems like the camera layers are very important here so, depending on what camera you choose, you can see the coulds and effects from EVE or, instead, your atmo scattering... But, could be this compatible in the future with wip-EVE or, as least, with the 7-4 EVE version?\n\nWait a sec, there\u0027s a wip-eve update around? Where? I haven\u0027t seen anything about it."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-15T19:32:24Z","Content":"So it seems like this haze thing won\u0027t be done today\n\n![NUdgFu0.jpg](http://i.imgur.com/NUdgFu0.jpg)\n\nEdited:\n\nSlowly getting there\n\n![GeTZxqk.jpg](http://i.imgur.com/GeTZxqk.jpg)\n\n**Edited \u003Ctime datetime=\u00222015-04-15T20:07:10Z\u0022 title=\u002204/15/2015 08:07  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 15, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Thomas988","CreatedById":92699,"CreatedDateTime":"2015-04-15T20:37:37Z","Content":"\u003E \n\u003E So it seems like this haze thing won\u0027t be done today\n\u003E [http://i.imgur.com/NUdgFu0.jpg](http://i.imgur.com/NUdgFu0.jpg)\n\u003E \n\u003E Edited:\n\u003E \n\u003E Slowly getting there\n\u003E \n\u003E [http://i.imgur.com/GeTZxqk.jpg](http://i.imgur.com/GeTZxqk.jpg)\n\nI\u0027m loving that second picture! This mod is getting really incredible!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-15T20:46:04Z","Content":"\u003E \n\u003E I\u0027m loving that second picture! This mod is getting really incredible!\n\nI\u0027m still tweaking the haze, right now it\u0027s set to full-nuclear-explosion mode."},{"CreatedByName":"Thomas988","CreatedById":92699,"CreatedDateTime":"2015-04-15T20:49:48Z","Content":"\u003E \n\u003E I\u0027m still tweaking the haze, right now it\u0027s set to full-nuclear-explosion mode.\n\nOf course, but at least the coding is in place and works. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"ThorBeorn","CreatedById":96670,"CreatedDateTime":"2015-04-15T22:55:13Z","Content":"Wow! Great to see a quality visual enchancing mod being developed. Very excited about this. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-16T01:08:37Z","Content":"New version, you can enable postprocessing by pressing the button, also, always disable postprocessing before switching scenes or it messes up.\n\n![3QMBKZ5.jpg](http://i.imgur.com/3QMBKZ5.jpg)\n\nPerformance isn\u0027t that great in this version if you have many mods but will be improved. Postprocessing doesn\u0027t work in openGL right now but I\u0027ll work on it.\n\nLink in the OP.\n\n**Edited \u003Ctime datetime=\u00222015-04-16T11:38:10Z\u0022 title=\u002204/16/2015 11:38  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 16, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Thomas988","CreatedById":92699,"CreatedDateTime":"2015-04-16T02:00:22Z","Content":"\u003E \n\u003E New version, you can enable postprocessing by pressing the button, also, always disable postprocessing before switching scenes.\n\u003E [http://i.imgur.com/3QMBKZ5.jpg](http://i.imgur.com/3QMBKZ5.jpg)\n\u003E \n\u003E Performance isn\u0027t that great in this version if you have many mods but will be improved. Postprocessing doesn\u0027t work in openGL right now but I\u0027ll work on it.\n\u003E \n\u003E Link in the OP.\n\nAgh! I already died from seeing this mod for the first time! Now I\u0027m dying again! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) The awesome just never ends!\n\nEDIT: Also, why don\u0027t you look into hosting your mod on Kerbal Stuff? It\u0027s free, your downloads can be a big as you want, and every time you update it your \u0022followers\u0022 will get an email. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) I use it, and it\u0027s freakin\u0027 amazing.\n\n**Edited \u003Ctime datetime=\u00222015-04-16T02:02:40Z\u0022 title=\u002204/16/2015 02:02  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 16, 2015\u003C/time\u003E by Thomas988**"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2015-04-16T02:55:25Z","Content":"When i put this mod on my install of KSP .90 it stopped to load the gameplay. I can get until the KSP load, on load scene screen. When i press to choose a game save and then load it won\u0027t go further.\n\nIn a strange manner, because it won\u0027t lock, is like pressing a button that won\u0027t work, i kept pressing load, and it won\u0027t do anything.\n\nThen, i remove your mod, and everything goes fine again.\n\nI use Mac OSX Yosemite.\n\n![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"Chezburgar7300","CreatedById":114873,"CreatedDateTime":"2015-04-16T05:28:03Z","Content":"\u0022You must spread some Reputation around before giving it to blackrack again.\u0022\n\nDamn it!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-16T10:15:55Z","Content":"So what does everybody think of the new effect? [http://i.imgur.com/bexImmf.jpg](http://i.imgur.com/bexImmf.jpg)\n\nI know it\u0027s a bit overdone for now but I like how it looks from orbit especially. I haven\u0027t had much feedback on the visual look of it so I\u0027m assuming either it doesn\u0027t work for anybody but me or no one noticed there is a new version.\n\n\u003E \n\u003E Agh! I already died from seeing this mod for the first time! Now I\u0027m dying again! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) The awesome just never ends!\n\u003E EDIT: Also, why don\u0027t you look into hosting your mod on Kerbal Stuff? It\u0027s free, your downloads can be a big as you want, and every time you update it your \u0022followers\u0022 will get an email. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) I use it, and it\u0027s freakin\u0027 amazing.\n\nI didn\u0027t get around ot it yet, but I\u0027ll definitely get on that, first though, I\u0027m going to set up a github repo.\n\n\u003E \n\u003E When i put this mod on my install of KSP .90 it stopped to load the gameplay. I can get until the KSP load, on load scene screen. When i press to choose a game save and then load it won\u0027t go further.\n\u003E In a strange manner, because it won\u0027t lock, is like pressing a button that won\u0027t work, i kept pressing load, and it won\u0027t do anything.\n\u003E \n\u003E Then, i remove your mod, and everything goes fine again.\n\u003E \n\u003E I use Mac OSX Yosemite.\n\u003E \n\u003E ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nAre there any messages in the debug log? Do the old versions work fine? Are there any mods installed? If this is an osx specific issue I suppose I can\u0027t diagnoze it by myself as I don\u0027t have a mac and I\u0027m not familiar with their inner workings... so to speak. In any case, I\u0027m setting up a github repo, and maybe then people who are familiar with OSX could pinpoint the problem. \n\n\u003E \n\u003E \u0022You must spread some Reputation around before giving it to blackrack again.\u0022\n\u003E Damn it!\n\nCool, thanks."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-04-16T12:18:23Z","Content":"Hi Blackrack,\n\nI\u0027m sorry to report that I had to remove the download links from your OP until it complies with our [Add-on Posting Guidelines](https://forum.kerbalspaceprogram.com/threads/87841-Add-on-Posting-Rules-Aug-21st-2014). Specifically, you must make the source code available, and you must choose a license and include it in both your original post and the download of your add-on. If you need advice on choosing a license, see [this thread](https://forum.kerbalspaceprogram.com/threads/44738).\n\nOnce you have chosen your license and included it, as well as making the source available, feel free to edit your download links back in."},{"CreatedByName":"TonyC","CreatedById":95836,"CreatedDateTime":"2015-04-16T13:00:38Z","Content":"This holds incredible potential. I hope you will manage to get the license going on soon !\n\nAnd a note : It will replace the fake scattering made using EVE as well !\n\n**Edited \u003Ctime datetime=\u00222015-04-16T13:07:19Z\u0022 title=\u002204/16/2015 01:07  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 16, 2015\u003C/time\u003E by MegaUZI**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-16T14:24:21Z","Content":"\u003E \n\u003E This holds incredible potential. I hope you will manage to get the license going on soon !\n\u003E And a note : It will replace the fake scattering made using EVE as well !\n\nI\u0027ll get around to it... eventually. I haven\u0027t worked on it today because I had too much fun just flying around sightseeing in kerbin.\n\n![9XQdA3A.jpg](http://i.imgur.com/9XQdA3A.jpg)\n\n![Mg5vDnQ.jpg](http://i.imgur.com/Mg5vDnQ.jpg)"},{"CreatedByName":"Thesonicgalaxy","CreatedById":71406,"CreatedDateTime":"2015-04-16T14:31:38Z","Content":"\u003E \n\u003E I\u0027ll get around to it... eventually. I haven\u0027t worked on it today because I had too much fun just flying around sightseeing in kerbin.\n\u003E [http://i.imgur.com/9XQdA3A.jpg](http://i.imgur.com/9XQdA3A.jpg)\n\u003E \n\u003E [http://i.imgur.com/Mg5vDnQ.jpg](http://i.imgur.com/Mg5vDnQ.jpg)\n\nAgain, something is almost making me want to come back to this game.\n\nGlad to see a proper mod for what our E.V.E packs were trying to create."}]}