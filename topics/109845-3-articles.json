{"TopicId":109845,"ForumId":34,"TopicTitle":"[1.5.1] Engine Lighting (1.5.1) Little Config Update (13 October)","CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-18T20:48:47Z","PageNum":3,"Articles":[{"CreatedByName":"Andy81le","CreatedById":95393,"CreatedDateTime":"2015-05-19T18:12:33Z","Content":"Could you perhaps turn it off for jet engines? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-19T18:14:21Z","Content":"\u003E \n\u003E Can you make RCS thrusters and *maybe* decouplers use these lighting effects?\n\nIt\u0027s not really planned, but may on the future ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Pizzaoverhead has already made a mod that adds lighting effects to RCS!\n\n\u003E \n\u003E Does this only work for engines that use liquidFuel? I.e will CryoEngine\u0027s LqdHydrogen Engines have the effect?\n\u003E Great Looking Mod \n\u003E \n\u003E BTW\n\nIt should work with anything using SQUAD\u0027s ModuleEngines and ModuleEnginesFX (Almost every engine)\n\nAlmost finished 1.1, including working multipliers, configable colors, and per-part configurations.\n\nHaving some issues with ModuleManager right now, it\u0027s the first time i use it and i\u0027m doing \u0022complex\u0022 stuff ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nEDIT: Yep, the next version will include patches for Jet Engines so they are less bright, might be out in a hour or so\n\nEDIT2: Found what was causing the issue! Expect the release in less than expected!\n\nEDIT3: Not really... Release may delay.\n\nCheers! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-19T19:02:08Z\u0022 title=\u002205/19/2015 07:02  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 19, 2015\u003C/time\u003E by tajampi**\n  \nToo many edits \u003E\\_\u003E"},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-19T22:29:11Z","Content":"Fixed it! Release will be uploaded possibly in less than an hour!\n\nCheers! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"SpaceTiger","CreatedById":133800,"CreatedDateTime":"2015-05-19T23:50:16Z","Content":"Just created you a pull request to remove the duplicate code caused by ModuleEnginesFX and ModuleEngines. Searching for ModuleEngines gets you ModuleEnginesFX too. So you don\u0027t need to have literally the same code twice ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)."},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-20T00:01:42Z","Content":"Oh thanks! Can\u0027t implement it right now, but will implement it on 1.2 (Coming tomorrow)\n\n**I have just released 1.1!!**\n\n**Coming in 1.2:**\n\n- Only one module for ModuleEngine and ModuleEngineFx (Thanks SpaceTiger!)\n\n[To add more]\n\nCheers! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"schoff123","CreatedById":71389,"CreatedDateTime":"2015-05-20T00:49:26Z","Content":"Just thought you should know this isn\u0027t on CKAN, although the OP says it is. I love the lighting, keep it up!"},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2015-05-20T01:05:10Z","Content":"\u003E \n\u003E Just thought you should know this isn\u0027t on CKAN, although the OP says it is. I love the lighting, keep it up!\n\nCopy and paste from OP = This mod is avaible on CKAN! Search for \u0022EngineLighting\u0022! (Not yet up on CKAN)\n\nOn that note theres a spelling mistake it should say \u0022available on CKAN\u0022"},{"CreatedByName":"tkw","CreatedById":142638,"CreatedDateTime":"2015-05-20T01:26:10Z","Content":"bug free mod"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2015-05-20T01:41:07Z","Content":"\u003E \n\u003E Probably best to exclude parts that have FSplanePropellerSpinner module. Come to think of it, any engine that uses IntakeAir probably doesn\u0027t need this.\n\nRight! I took off with my little twin-jet and couldn\u0027t figure out why my landing lights were so bright. It was the engines all a-glow! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) Jets could certainly produce some light, but certainly not that much.\n\nThat being said, what an awesome start to this mod.\n\n[edit] -- Latest version removes the jet glow! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-20T02:00:04Z\u0022 title=\u002205/20/2015 02:00  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by Beetlecat**\n  \nOops! Wasn\u0027t using 1.1"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-05-20T09:24:47Z","Content":"Hey there - nice mod, it looks quite pretty. I have a request - is there any way you could not use a :Final to apply your MM patches? The visuals are conflicting with my own light-based visuals, so I\u0027d like to remove them from a few of my parts. Your use of :Final means that I can\u0027t really do this. Thanks!"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2015-05-20T09:56:00Z","Content":"\u003E \n\u003E looks really good, but the light clips through the model and lights up parts that should not be, as they are in the shadow of the light.\n\nSame comment by me.\n\nSuggestion to OP: to avoid lighting parts of the rocket that have no line-of-sight to the light, replace the single omni directional light with a short range omni directional light (to light the engine and underside of the rocket) \u002B a long range wide angle (180 degrees) spot light pointing downwards."},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-20T13:13:02Z","Content":"\u003E \n\u003E Just thought you should know this isn\u0027t on CKAN, although the OP says it is. I love the lighting, keep it up!\n\nI don\u0027t know why it\u0027s not uploading to CKAN, will try to fix it today ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n\u003E \n\u003E Hey there - nice mod, it looks quite pretty. I have a request - is there any way you could not use a :Final to apply your MM patches? The visuals are conflicting with my own light-based visuals, so I\u0027d like to remove them from a few of my parts. Your use of :Final means that I can\u0027t really do this. Thanks!\n\nI will fix the \u0022:Final\u0022 on next release (Possibly out today), it was there to work with HotRockets. As HotRockets changes most ModuleEngines to ModuleEnginesFX it was confusing my mod. On next release the mod will not care about Engines being FX ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI\u0027ve been messing around in Unity, and found a nice way to simulate Global Illumination. Using Area lights. The problem is that i will need only one Area Light per vessel, and it will need a non-partbased class, so it may take a bit to implement. Maybe 1.3 will implement it!\n\nCheers!"},{"CreatedByName":"zengei","CreatedById":75233,"CreatedDateTime":"2015-05-20T13:19:31Z","Content":"\u003E \n\u003E I don\u0027t know why it\u0027s not uploading to CKAN, will try to fix it today ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nIt\u0027s in CKAN now."},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-20T18:56:10Z","Content":"Version 1.2 is up! \n\n**Changelog:**\n\n- Fixed duplicate code (Now only 1 patch!) Thanks SpaceTiger!\n\n- Deleted \u0022:Final\u0022 from the ModuleManager patches (Compatibility)\n\nNOTE: CKAN is still updating the version, if you want to quickly upgrade use the download (It should be updated in 10 minutes or so, check for version \u00221.2\u0022)\n\nCheers! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-20T19:01:32Z\u0022 title=\u002205/20/2015 07:01  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by tajampi**\n  \n\u0022patch\u0022"},{"CreatedByName":"jstnj","CreatedById":109006,"CreatedDateTime":"2015-05-20T19:04:29Z","Content":"\u003E \n\u003E Version 1.2 is up! \n\u003E **Changelog:**\n\u003E \n\u003E - Fixed duplicate code (Now only 1 patch!) Thanks SpaceTiger!\n\u003E \n\u003E - Deleted \u0022:Final\u0022 from the ModuleManager patches (Compatibility)\n\u003E \n\u003E NOTE: CKAN is still updating the version, if you want to quickly upgrade use the download (It should be updated in 10 minutes or so, check for version \u00221.2\u0022)\n\u003E \n\u003E Cheers! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nThanks for the update...were there any changes to the Jet Engine/Prop lighting? As you know, even though jet engines DO produce light...they don\u0027t emit it measurably unless the afterburner is active. Thanks for the hard work!\n\n**Edited \u003Ctime datetime=\u00222015-05-20T19:10:12Z\u0022 title=\u002205/20/2015 07:10  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by jstnj**"},{"CreatedByName":"tajampi","CreatedById":74648,"CreatedDateTime":"2015-05-20T19:12:49Z","Content":"For now jet engines simply don\u0027t emit light (They look a bit bad, as in stock KSP jet engines don\u0027t have any kind of flame), but you can easily edit them in the config! \n\nHere is the code for making them emit a BIT of light:\n\n    @PART[*]:HAS[@MODULE[ModuleEngines*]:HAS[@PROPELLANT[IntakeAir]]]{  @MODULE[tjs_EngineLight]  {\t\t@lightPower = 0.05  }}\n\nPlace it over the already existing Jet engine patch. Place it over this, overwriting:\n\n    @PART[*]:HAS[@MODULE[ModuleEngines*]:HAS[@PROPELLANT[IntakeAir]]]{  !MODULE[tjs_EngineLight]{}}\n\nIf it does not works tell me, i have not tested it, but it should work.\n\nCheers! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-20T19:13:32Z\u0022 title=\u002205/20/2015 07:13  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by tajampi**\n  \n\u0022patch\u0022"},{"CreatedByName":"jstnj","CreatedById":109006,"CreatedDateTime":"2015-05-20T19:14:21Z","Content":"\u003E \n\u003E For now jet engines simply don\u0027t emit light (They look a bit bad, as in stock KSP jet engines don\u0027t have any kind of flame), but you can easily edit them in the config! \n\u003E Here is the code for making them emit a BIT of light:\n\u003E \n\u003E If it does not works tell me, i have not tested it, but it should work.\n\u003E \n\u003E Cheers! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nTo be honest...I would rather they NOT emit light, but when I was using your v1.0...that wasn\u0027t the case...no worries!"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-05-20T19:19:29Z","Content":"Thanks dude! Rather helps ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)."},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-05-20T19:26:29Z","Content":"\u003E \n\u003E What would that have to do with anyone tweaking engines ? he is just adding MODULE[EngineLightFX] if it\u0027s missing, Not stopping you from changing anything in MODULE[ModuleEngines\\*] ?\n\nI meant tweaking certain engine *parts* not the engine modules. But I see that the Finals have now been removed. The only issue there is if someone adds an engine module in an MM pass after engine lights pass. Actually, since this doesn\u0027t use FOR[EngineLight] it defaults to FIRST, so any engines added or modified by MM may have incorrect or no lights.\n\nAlso he isn\u0027t adding it if it\u0027s missing, he just adding it.So I still recommend what I said previously, using FINAL picks up all engines correctly and the !MODULE[tjs\\_EngineLightFX] stops you from overwriting things (actually not overwriting but adding a new module) if someone makes their own part specific change as it only adds it if it is missing.\n\n**Edited \u003Ctime datetime=\u00222015-05-20T19:29:54Z\u0022 title=\u002205/20/2015 07:29  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 20, 2015\u003C/time\u003E by futrtrubl**"},{"CreatedByName":"curtquarquesso","CreatedById":42872,"CreatedDateTime":"2015-05-20T20:38:05Z","Content":"I can\u0027t believe I\u0027ve never noticed that KSP engines don\u0027t emit light... I\u0027ve seen night launches, and the entire sky lights up like it\u0027s the apocalypse. Way cool. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2015-05-20T21:43:51Z","Content":"\u003E \n\u003E To be honest...I would rather they NOT emit light, but when I was using your v1.0...that wasn\u0027t the case...no worries!\n\nThe jets themselves glow a bit on the inside with the shader, but that would be the only real \u0022light\u0022 effect, typically (except for some afterburner flame)?"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2015-05-20T23:25:54Z","Content":"This is pretty darn cool. Nicely done."},{"CreatedByName":"saabstory88","CreatedById":110598,"CreatedDateTime":"2015-05-21T01:09:28Z","Content":"Would it be possible to override the ModuleEnginesFX class to be able to bring in the fxOffset? This could go a long way to making these configs work better with matching the FX source point. For example, all of the engines in my WIP mod need a massive -Y offset to get the FX in the right place. Having this info be able to help define the light source might be useful. \n\nThis repo might be useful, as it demonstrates overrides to the ModuleEnginesFX class: [https://github.com/KSP-RO/SolverEngines](https://github.com/KSP-RO/SolverEngines)"},{"CreatedByName":"IRnifty","CreatedById":85825,"CreatedDateTime":"2015-05-21T08:03:01Z","Content":"Just letting you know, there\u0027s a typo in your KerbalStuff link to here. It reads \u0022http//forum...\u0022 instead of the proper \u0022http://forum...\u0022."},{"CreatedByName":"frencrs","CreatedById":95489,"CreatedDateTime":"2015-05-21T16:03:16Z","Content":"This is amazing. I can\u0027t believe I never realized this was missing!"}]}