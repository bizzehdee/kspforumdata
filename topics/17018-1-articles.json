{"TopicId":17018,"ForumId":29,"TopicTitle":"Vector3d for position","CreatedByName":"Cryphonus","CreatedById":23502,"CreatedDateTime":"2012-08-15T22:42:58Z","PageNum":1,"Articles":[{"CreatedByName":"Cryphonus","CreatedById":23502,"CreatedDateTime":"2012-08-15T22:42:58Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI wanted to get my current altitude by using the GetAltitude member function of the CelestialBody class. The argument for the funtion is a 3d vector. So how does 3d vectors are being used to express your position or any position on a planet.\u003C/p\u003E\u003Cp\u003EPS:Please dont tell me that i can use functions that returns the double value for the altitude, I know i can and it is not suitable for what i am doing right now.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Candre","CreatedById":15181,"CreatedDateTime":"2012-08-15T23:24:26Z","Content":"\n\u003Cp\u003EThe vectors, as they appear, are just points but are called vectors so you don\u0027t have to define a new class. This assumes that these vectors are always going to be in component form.\u003C/p\u003E\n"},{"CreatedByName":"Cryphonus","CreatedById":23502,"CreatedDateTime":"2012-08-16T05:45:23Z","Content":"\n\u003Cp\u003EHow do they work then, are we using a vector that starts at the origin of the planet and points to your current location on the planet? or is there some other system that i am missing?\u003C/p\u003E\n"},{"CreatedByName":"Tosh","CreatedById":11055,"CreatedDateTime":"2012-08-16T12:51:03Z","Content":"\n\u003Cp\u003EVectors start in some arbitrary point in space, which in addition jumps randomly as the game goes. That\u0027s called \u003Cem\u003E\u0027floating origin\u0027 \u003C/em\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E. So, to get vessel\u0027s position relative to planet\u0027s center, you\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Eget vessel\u0027s global position,\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eget global position of current celestial body (refer to Vessel and CelestialBody classes implementations),\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eand subtract.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eah, uh, and do not store any of that \u0027global positions\u0027 between frames! Next jump of \u003Cem\u003E\u0027floating origin\u0027 \u003C/em\u003Ewill render them invalid! Only subtraction result will make sense then.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Cryphonus","CreatedById":23502,"CreatedDateTime":"2012-08-16T18:44:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tosh\u0022 data-cite=\u0022Tosh\u0022\u003E\u003Cdiv\u003EVectors start in some arbitrary point in space, which in addition jumps randomly as the game goes. That\u0027s called \u003Cem\u003E\u0027floating origin\u0027 \u003C/em\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E. So, to get vessel\u0027s position relative to planet\u0027s center, you\u003Cul\u003E\u003Cli\u003Eget vessel\u0027s global position,\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eget global position of current celestial body (refer to Vessel and CelestialBody classes implementations),\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eand subtract.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eah, uh, and do not store any of that \u0027global positions\u0027 between frames! Next jump of \u003Cem\u003E\u0027floating origin\u0027 \u003C/em\u003Ewill render them invalid! Only subtraction result will make sense then.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat if I want to \u0022predict\u0022 the altitude that is on the way of my heading? I tried adding my velocity vector to my global position vector but I dont know if it is working or not? I think Mathematically it is correct? or is it not?\u003C/p\u003E\n"},{"CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2012-08-17T14:59:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cryphonus\u0022 data-cite=\u0022Cryphonus\u0022\u003E\u003Cdiv\u003EWhat if I want to \u0022predict\u0022 the altitude that is on the way of my heading? I tried adding my velocity vector to my global position vector but I dont know if it is working or not? I think Mathematically it is correct? or is it not?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s almost correct, but your velocity vector is in units/second, so what you did would give you your predicted altitude a second from \u0022now\u0022, and a lot can happen in a second.\u003C/p\u003E\u003Cp\u003EIf you want to get your altitude at the next frame, you can do\u003Cstrong\u003E GetAltitude(position \u002B (velocity * Time.deltaTime))\u003C/strong\u003E. \u003C/p\u003E\u003Cp\u003EMind though, that this assumes no forces will act on your vessel, which is ok on low velocities, but will be pretty inaccurate in orbit, for instance. To get a more precise prediction of your position at any point in time, use the Orbit methods, like\u003Cstrong\u003E Orbit.getPositionAtUT(Planetarium.GetUniversalTime() \u002B someTimeFromNow);\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"Cryphonus","CreatedById":23502,"CreatedDateTime":"2012-08-18T08:34:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HarvesteR\u0022 data-cite=\u0022HarvesteR\u0022\u003E\u003Cdiv\u003EThat\u0027s almost correct, but your velocity vector is in units/second, so what you did would give you your predicted altitude a second from \u0022now\u0022, and a lot can happen in a second.\u003Cp\u003EIf you want to get your altitude at the next frame, you can do\u003Cstrong\u003E GetAltitude(position \u002B (velocity * Time.deltaTime))\u003C/strong\u003E. \u003C/p\u003E\u003Cp\u003EMind though, that this assumes no forces will act on your vessel, which is ok on low velocities, but will be pretty inaccurate in orbit, for instance. To get a more precise prediction of your position at any point in time, use the Orbit methods, like\u003Cstrong\u003E Orbit.getPositionAtUT(Planetarium.GetUniversalTime() \u002B someTimeFromNow);\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks a lot Harvester \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"}]}