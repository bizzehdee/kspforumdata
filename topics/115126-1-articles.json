{"TopicId":115126,"ForumId":15,"TopicTitle":"Engine cluster sticks to ground when using multiple colliders","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-05T18:46:47Z","PageNum":1,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-05T18:46:47Z","Content":"Hi all,\n\nI have a problem with parts sticking to the ground, launchpad, runway or any terrain whenever they are spawned or landed (not -just- on initial spawn/launch, but also if landed manually). The current part exhibiting the issue is an engine cluster for a series of lander parts I\u0027m working on. \n\nWhen I have a separate collider (box, capsule, or cone-shaped-convex-mesh) for each separate engine the entire part sticks to the ground when launched. If I have a single box collider covering the entire bounds of the engines there is no problem and the part lifts off as it should. During the times when it is \u0027stuck\u0027 I can often use the SAS or RCS to wiggle the vessel a bit and get it unstuck, where it willy promptly shoot into the air as it should given the TWR of the vessel.\n\nI\u0027ve had a similar problem in the past with other parts and usually ended up abandoning the part (or vastly reworking it) as I could never figure it out, but that is not really an option this time. I\u0027ve tried various size and shape/type of colliders, but the only thing that seems to work is either removing the colliders entirely or giving it a single collider for the entire part.\n\nHas anyone else seen this issue? Any known solutions (other than single colliders/no colliders)?\n\nEdit/Update:\n\nIt has something to do with multiple colliders on an engine that is resting on the ground. If I add other engines to the vessel, they can lift the problematic engine cluster off the ground just fine (i.e. smooth ascent, no sticking or jerking loose). If I use a single collider the problematic engine can lift itself with no problem.\n\nUnity setup:\n\n![cRn8nPG.png](http://i.imgur.com/cRn8nPG.png)\n\n**Edited \u003Ctime datetime=\u00222015-07-05T21:16:31Z\u0022 title=\u002207/05/2015 09:16  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 5, 2015\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-07-06T00:55:26Z","Content":"Unfortunately I don\u0027t have any advice to give, since I haven\u0027t run into this. All of my engine clusters use single colliders, but they\u0027re closely packed together. I can see why separate colliders makes sense here.\n\nHowever, what I wanted to make a note of is that there used to be a launchpad bug, in which a lot of the stock engines used to stick to the pad. I think part of it was the spawning height in relation to a poorly aligned launchpad collider. I think that was fixed some time ago, but the solution (from the player perspective) was to simply always use launch clamps, or to place decouplers underneath the engines, so that the engines don\u0027t touch the pad. \n\nSo I\u0027m curious-- Does the vehicle spawn high enough that the engine appears to be completely above the pad\u0027s surface, or does it look like it intersects immediately on physics load?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-06T05:08:35Z","Content":"If I just spawn the engine it will intersect immediately (and stick with multiple colliders in use). If I use launch clamps and fire the clamps\u002Bengine at the same time it will take off like the rocket that it is. If I use launch clamps and let it fall to the ground before firing the engine, it still sticks. Or if I land it on the engine after taking off using launch clamps or wiggling, it will stick. Landing legs exhibit the same symptoms; stick to the ground with legs retracted, and take off just fine with legs deployed.\n\nThe previous parts that have had this problem had landing legs involved, and if I remember correctly adding in the landing leg module and wheel collider \u0027fixed\u0027 the sticking issues. One of those parts only had a single engine transform, while the other part had four animated engine transforms. But the one thing that they all had in common was multiple parallel and flat non-animated colliders all in contact with the terrain at the same time. I\u0027ll try playing around with the multiple collider setup and see if perhaps rotating or staggering the y-transform a bit will help with the stickiness.\n\nI\u0027ve also examined every other engine cluster that I had in my fairly modded install, and it seems that every single one uses a single collider for terrain collisions (including stock). A few seem to use non-convex mesh colliders for additional mouse-over interaction on each engine, but appear to use a single collider further up for terrain interaction (e.g. on those the engine bells will fall through the ground). So, perhaps this is a \u0027known\u0027 issue.\n\nI really wanted to be able use a couple/few individual colliders for these pieces, as you are intended to be able to utilize the hollow portion in the middle for additional (smaller) engine clusters or inner stage access. I could perhaps go with the multiple colliders and just put a note in the part description that says to always use landing legs and not land directly on the engines ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-07-06T14:12:37Z","Content":"\u003E I really wanted to be able use a couple/few individual colliders for these pieces, as you are intended to be able to utilize the hollow portion in the middle for additional (smaller) engine clusters or inner stage access. I could perhaps go with the multiple colliders and just put a note in the part description that says to always use landing legs and not land directly on the engines ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nYeah, having to do these kinds of workarounds gets frustrating, for sure. But that\u0027s not a bad idea. You could also set the crash tolerance really low to discourage landing on it. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nIt might still be OK to have one big collider that fulls in the empty space. It won\u0027t stop you from having an attachment node inside there, and allow players to put stackable parts in that space. It\u0027ll just mean that strutting to that space will look ridiculous, surface attach won\u0027t work well there, and kerbals won\u0027t be able to walk through it, etc."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-07T23:18:53Z","Content":"The main reason I have it hollow is so that other (ascent stage) engines can have their thrust-vectors/exhaust go through the hollow cutout - if I use a single solid collider, the thrust from upper-stage engines will hit that collider and result in...well... probably explosions after not too long ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) The hollow also needs to be...well, actually hollow, as other parts need to be able to pass through the area without collision. \n\nOh..what I wouldn\u0027t give for a game engine that could handle concave colliders properly with good performance. Sadly, I\u0027ve written my share of collision-detection code, and I know from experience that it is a -very- difficult problem to solve and still have enough performance to work in a game.\n\nI\u0027m still working on trying to find the root cause of the problem... will be trying various different engine modules from other mods as I\u0027m fairly certain that the issue is somewhere in the stock ModuleEngine code (I just don\u0027t have access to that source to say for certain, or even offer a solution). In the end I will likely just use some of the aforementioned work-arounds or writing a custom engine module (-really- don\u0027t want to...but might have to)."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-07-08T00:39:46Z","Content":"I suppose another ugly work-around would be to make it separate parts-- a mounting ring, and individual engines."}]}