{"TopicId":88777,"ForumId":34,"TopicTitle":"[1.1.3] BackgroundProcessing","CreatedByName":"jamespicone","CreatedById":125714,"CreatedDateTime":"2014-10-28T18:40:42Z","PageNum":4,"Articles":[{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-13T19:14:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Renegrade\u0022 data-cite=\u0022Renegrade\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhen I came back to the craft though, it was facing in a \u003Cem\u003Erandom\u003C/em\u003E direction. It was pretty much at right angles to the Sun still (within a reasonable limit, since I was eyeballing the angle during warp), but it could be left, or right, or towards, or away. It\u0027s main axis was still in the ecliptic plane.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s the ecliptic part that is rather worrying to me, as if you\u0027re off the ecliptic visiting a body with any significant orbital inclination (or say trying to intercept an asteroid), then you won\u0027t be aligning your solar panels to it.\u003C/p\u003E\u003Cp\u003EIf that means there\u0027s no way you can align your craft to keep tracking panels aligned, then it\u0027s potentially a rather large problem as it could mean ships dying off with nothing the player can really do about it. If not, it may be rather confusing, but shouldn\u0027t have all that much impact in practice.\u003C/p\u003E\u003Cp\u003EShips with fixed panels are a whole other story mind you. If you can\u0027t point them at the Sun and switch to another vessel for a shortish amount of time without knowing they\u0027ll be pointed vaguely in the same direction when you get back, or while they\u0027re being updated in the background, then that\u0027s also a rather large issue.\u003C/p\u003E\u003Cp\u003EAn additional question I have about this is whether the shift in orientation happens only when the vessel is made active again, or if it applies to the background updates as well. I\u0027ll likely setup some debug output to test that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-13T19:34:30Z\u0022 title=\u002202/13/2015 07:34  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 13, 2015\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2015-02-13T22:18:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EIt\u0027s the ecliptic part that is rather worrying to me, as if you\u0027re off the ecliptic visiting a body with any significant orbital inclination (or say trying to intercept an asteroid), then you won\u0027t be aligning your solar panels to it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll have to test a heavily inclined orbit to see what happens; all of my tests were orbits in the ecliptic, and in solar orbit. Just to be clear: the direction was only random WITHIN the ecliptic - the test satellite I whipped up had tracking panels above and below (technically left and right, but I rolled it right ninety degrees.. I wonder if that has something to do with it?) and they were always in a good position to reorient themselves after jumping back in the craft - it\u0027s only the heading within the ecliptic that was wonky.\u003C/p\u003E\u003Cp\u003EI did a new battery of tests just now, and here\u0027s the results:\u003C/p\u003E\u003Cp\u003E- Staying WITH the craft through a full orbit didn\u0027t result in any wonkiness.\u003C/p\u003E\u003Cp\u003E- Not reorienting the craft towards the sun didn\u0027t help either (it started pointing at the sun. ninety degrees later.. still pointing at the sun. ninety degrees later... the sun is on it\u0027s RIGHT somehow? ninety degrees later.. the sun is about 45 degrees ahead and left.. ???)\u003C/p\u003E\u003Cp\u003E- A 45 degree test moved the sun in the wrong direction by 45 degrees \u0026gt;.\u0026lt;\u003C/p\u003E\u003Cp\u003E- Warping with different planets as focuses in the Tracking Center didn\u0027t help\u003C/p\u003E\u003Cp\u003E- Warping with the vessel as focus in TC didn\u0027t help either\u003C/p\u003E\u003Cp\u003E- Jumping in and out with different camera angles didn\u0027t seem to affect anything (without warping)\u003C/p\u003E\u003Cp\u003EHowever, my last test was to warp ahead short jumps - I noticed that the sun moves noticeably in only 6-12 hours when I\u0027m in the TC during the warp (like upwards of 15 degrees), but if I stay on the ship, it barely changes it\u0027s navball heading at all in a similar span.\u003C/p\u003E\u003Cp\u003ECould it be that the game IS properly tracking the motion, but that it\u0027s being multiplied wrong?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EAn additional question I have about this is whether the shift in orientation happens only when the vessel is made active again, or if it applies to the background updates as well. I\u0027ll likely setup some debug output to test that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s a good question. I\u0027m currently testing pure, pure pure pure stock (it\u0027s my special install I use to isolate stock bugs from mod bugs). BTSM is the only place I\u0027m testing BP at this time ; I didn\u0027t see anything die unexpectedly, except that one that had it\u0027s panels closed (user error, heh). They all had tracking panels though. All of the fixed-panel units had been landed for surface science and usually lost a good deal of their panels in the process (and didn\u0027t have enough energy storage to survive a local night anyhow).\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-13T22:25:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Renegrade\u0022 data-cite=\u0022Renegrade\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ECould it be that the game IS properly tracking the motion, but that it\u0027s being multiplied wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, or maybe a sign is getting flipped somewhere. The more you describe all this, the more I\u0027m wondering if this might just be a bug in stock that no one has ever really noticed or complained about since it\u0027s largely irrelevant there. I\u0027m taking some amusement out of this actually as I\u0027ve always found it interesting to ponder how in our physical universe position is relative while rotation seems to be absolute, yet here in KSP, the reverse seems to be true \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not really in a good position to test right now as I still have the various bits of the resource processor code strewn about my garage and I\u0027m trying to get those back together before moving onto this next part \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2015-02-14T12:10:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EYeah, or maybe a sign is getting flipped somewhere.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m closing in on the \u0027sped up\u0027 theory as being the most likely suspect. It could \u003Cstrong\u003E\u003Cem\u003Ealso\u003C/em\u003E\u003C/strong\u003E be backwards, when I was doing the 1-kerbal-day tests (6h increments; this install doesn\u0027t even have settings modified), I didn\u0027t note if the direction was the wrong way, but it clearly was moving a lot faster than it should.\u003C/p\u003E\u003Cp\u003EIn my next set of tests, I\u0027ll check the direction too. If it\u0027s massively sped up though, that would explain the \u0022random\u0022 facing -\u0026gt; when I warp 90 degrees, it\u0027s more like \u002280-100 degrees\u0022 as I\u0027m not using KAC or anything.. So if it\u0027s sped up by say a factor of 8 (using the A-P method for that multiplier), that would be a total turn of 640 to 1000 instead of 80 to 100... or a complete circle of randomyness.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EThe more you describe all this, the more I\u0027m wondering if this might just be a bug in stock that no one has ever really noticed or complained about since it\u0027s largely irrelevant there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDefinitely 100% this. Even when I\u0027m playing BTSM where energy and orientation really matters, I do NOT remember which direction my ship is facing when I leave it, other than \u0022the panels are up and down relative to the ecliptic\u0022.\u003C/p\u003E\u003Cp\u003EOooh I wonder if the guys who did that mod that keeps ships rotating noticed? I should read through their thread.. and if all else fails, talk to the kOS people as Gaiiden suggested (I\u0027m a bit afraid, I\u0027m not sure I \u003Cem\u003Ewant\u003C/em\u003E to learn KSP\u0027s coordinate system. There\u0027s a non-zero chance that I might actually make my own RenSpaceProgram game from scratch, and I wouldn\u0027t want some terrifying coordinate system messing up my thought process \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EI\u0027m taking some amusement out of this actually as I\u0027ve always found it interesting to ponder how in our physical universe position is relative while rotation seems to be absolute, yet here in KSP, the reverse seems to be true \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHehe! Good point \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Ebring the kOS devs in on this - they\u0027ll be able to fill you in on just how whacky the reference frame is. You\u0027re right, is is pretty messed up from what I understand. There\u0027s a ton of helper functions in kOS so you can just point your ship the way you want without wanting to pull your hair out\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a good suggestion, although I\u0027m rather afraid of what KSP is using internally \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-14T22:51:12Z","Content":"\n\u003Cp\u003E@jamespicone: Earlier today someone reported in the BTSM thread that if you toggled the flow state of resource containers off, that wasn\u0027t being respected during background processing. I just came up with the following modification for GetVesselData() within BP that changes things to take that into account:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E                    foreach (ProtoPartResourceSnapshot r in p.resources) {\u003Cbr\u003E                        if (r.resourceName == null) {\u003Cbr\u003E                            Debug.LogWarning(\u0022BackgroundProcessing: Null resourceName.\u0022);\u003Cbr\u003E                            Debug.LogWarning(\u0022BackgroundProcessing: Resource values: \u0022 \u002B r.resourceValues);\u003Cbr\u003E                            continue;\u003Cbr\u003E                        }\u003Cbr\u003E\u003Cbr\u003E                        // FCMOD: Code added to check flow state of resource\u003Cbr\u003E                        bool bFlowState;\u003Cbr\u003E\u003Cbr\u003E                        if ( bool.TryParse( r.resourceValues.GetValue(\u0022flowState\u0022), out bFlowState ) )\u003Cbr\u003E                        {\u003Cbr\u003E                            if ( !bFlowState )\u003Cbr\u003E                            {\u003Cbr\u003E                                continue;\u003Cbr\u003E                            }\u003Cbr\u003E                        }\u003Cbr\u003E                        else\u003Cbr\u003E                        {\u003Cbr\u003E                             Debug.Log( \u0022BackgroundProcessing: failed to read flow state\u0022 );\u003Cbr\u003E                        }\u003Cbr\u003E                        // END FCMOD\u003Cbr\u003E\u003Cbr\u003E                        if (!ret.storage.ContainsKey(r.resourceName)) { ret.storage.Add(r.resourceName, new List\u0026lt;ProtoPartResourceSnapshot\u0026gt;()); }\u003Cbr\u003E                        ret.storage[r.resourceName].Add(r);\u003Cbr\u003E                    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EModified code marked with comments, surrounding code listed for context. Feel free to do whatever you wish with that if it\u0027s helpful to you. Some limited testing indicates that it works well. I also tried accessing resourceRef within ProtoPartResourceSnapshot directly previous to that to get the flowState, but that was predictably set to null for background vessels.\u003C/p\u003E\u003Cp\u003EI\u0027ll likely be shipping a slightly modified BP .dll with BTSM to take into the account the above, and also to disable orientation as a consideration on solar panels due to all the stock issues with it that we\u0027ve been discussing over the past couple of pages, as well as suppressing some debug output about missing modules that tends to spam with Deadly Reentry installed as we previously discussed. I\u0027ll try to stick as closely to your version numbering scheme (including in the assembly) as possible to avoid messing with your versioning system in cases where a player might have multiple BP .dlls installed. I\u0027ll also of course be happy to share any changes I make where they might be beneficial to a non-BTSM specific audience and be including a copy of your license along with the download.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-14T22:58:17Z\u0022 title=\u002202/14/2015 10:58  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 14, 2015\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-15T02:20:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Renegrade\u0022 data-cite=\u0022Renegrade\u0022\u003E\u003Cdiv\u003EThis is a good suggestion, although I\u0027m rather afraid of what KSP is using internally \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-90-kOS-Scriptable-Autopilot-System-v0-15-5-2015-1-3?p=1724025\u0026amp;viewfull=1#post1724025\u0022 rel=\u0022external nofollow\u0022\u003EThis may be relevant\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2015-02-15T20:04:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-90-kOS-Scriptable-Autopilot-System-v0-15-5-2015-1-3?p=1724025\u0026amp;viewfull=1#post1724025\u0022 rel=\u0022external nofollow\u0022\u003EThis may be relevant\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think that\u0027s mostly referring to live rotations; although Steven\u0027s comment about CelestialBody fills me with fear... :/\u003C/p\u003E\u003Cp\u003EI just so happen to be playing around with kOS here and there, I might see what I can do about debugging this issue.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-16T01:33:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Renegrade\u0022 data-cite=\u0022Renegrade\u0022\u003E\u003Cdiv\u003Ealthough Steven\u0027s comment about CelestialBody fills me with fear... :/\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes that\u0027s what caught my eye\u003C/p\u003E\n"},{"CreatedByName":"jamespicone","CreatedById":125714,"CreatedDateTime":"2015-02-16T04:16:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003E@jamespicone: Earlier today someone reported in the BTSM thread that if you toggled the flow state of resource containers off, that wasn\u0027t being respected during background processing. I just came up with the following modification for GetVesselData() within BP that changes things to take that into account:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E                    foreach (ProtoPartResourceSnapshot r in p.resources) {\u003Cbr\u003E                        if (r.resourceName == null) {\u003Cbr\u003E                            Debug.LogWarning(\u0022BackgroundProcessing: Null resourceName.\u0022);\u003Cbr\u003E                            Debug.LogWarning(\u0022BackgroundProcessing: Resource values: \u0022 \u002B r.resourceValues);\u003Cbr\u003E                            continue;\u003Cbr\u003E                        }\u003Cbr\u003E\u003Cbr\u003E                        // FCMOD: Code added to check flow state of resource\u003Cbr\u003E                        bool bFlowState;\u003Cbr\u003E\u003Cbr\u003E                        if ( bool.TryParse( r.resourceValues.GetValue(\u0022flowState\u0022), out bFlowState ) )\u003Cbr\u003E                        {\u003Cbr\u003E                            if ( !bFlowState )\u003Cbr\u003E                            {\u003Cbr\u003E                                continue;\u003Cbr\u003E                            }\u003Cbr\u003E                        }\u003Cbr\u003E                        else\u003Cbr\u003E                        {\u003Cbr\u003E                             Debug.Log( \u0022BackgroundProcessing: failed to read flow state\u0022 );\u003Cbr\u003E                        }\u003Cbr\u003E                        // END FCMOD\u003Cbr\u003E\u003Cbr\u003E                        if (!ret.storage.ContainsKey(r.resourceName)) { ret.storage.Add(r.resourceName, new List\u0026lt;ProtoPartResourceSnapshot\u0026gt;()); }\u003Cbr\u003E                        ret.storage[r.resourceName].Add(r);\u003Cbr\u003E                    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EModified code marked with comments, surrounding code listed for context. Feel free to do whatever you wish with that if it\u0027s helpful to you. Some limited testing indicates that it works well. I also tried accessing resourceRef within ProtoPartResourceSnapshot directly previous to that to get the flowState, but that was predictably set to null for background vessels.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the catch and fix, I\u0027ll incorporate it in the next release.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027ll likely be shipping a slightly modified BP .dll with BTSM to take into the account the above, and also to disable orientation as a consideration on solar panels due to all the stock issues with it that we\u0027ve been discussing over the past couple of pages, as well as suppressing some debug output about missing modules that tends to spam with Deadly Reentry installed as we previously discussed. I\u0027ll try to stick as closely to your version numbering scheme (including in the assembly) as possible to avoid messing with your versioning system in cases where a player might have multiple BP .dlls installed. I\u0027ll also of course be happy to share any changes I make where they might be beneficial to a non-BTSM specific audience and be including a copy of your license along with the download.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHonestly I\u0027d prefer it if you didn\u0027t ship a modified DLL. What\u0027s the best behaviour when a player has the most up-to-date BP dll and your modification of the most up-to-date BP DLL in their gamedata folder? Presumably yours should execute, but I think in practice it would depend on folder structure determining which runs first. And what if a different mod decides they want a modified BP and someone has three up-to-date DLLs with different behaviour? Now it\u0027s not even clear which should run.\u003C/p\u003E\u003Cp\u003EI understand why you want to do it though. If I incorporate the flowstate fix and add a config file that lets you disable orientation for solar panels (so their output is just chargeRate * distance factor) and lets you change logging verbosity, would that be sufficient?\u003C/p\u003E\u003Cp\u003EI\u0027m not sure what\u0027s up with the orientation stuff, I might have a look at that as well.\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-16T09:36:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jamespicone\u0022 data-cite=\u0022jamespicone\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHonestly I\u0027d prefer it if you didn\u0027t ship a modified DLL.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, that\u0027s no problem man, and my apologies if that was out of line. Honestly, I\u0027d prefer not doing that as well, and it was simply a matter of taking your license at face value and doing so for expediency given I had been working on BP support for a couple of weeks straight and was wanting to get this release out the door so I could move onto other things. My intent with that was to readopt the main branch if feasible in the future anyways.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EWhat\u0027s the best behaviour when a player has the most up-to-date BP dll and your modification of the most up-to-date BP DLL in their gamedata folder? Presumably yours should execute, but I think in practice it would depend on folder structure determining which runs first. And what if a different mod decides they want a modified BP and someone has three up-to-date DLLs with different behaviour? Now it\u0027s not even clear which should run.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI understand your point there entirely, although I doubt it would be an issue for BTSM in particular given it\u0027s pretty much a total conversion that runs with a very limited subset of mods. Thus I think the chances that players will be mix and matching various versions in combination with other mods is relatively low. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI understand why you want to do it though. If I incorporate the flowstate fix and add a config file that lets you disable orientation for solar panels (so their output is just chargeRate * distance factor) and lets you change logging verbosity, would that be sufficient?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, absolutely man, and that would be my personal preference as well. The logging verbosity certainly wasn\u0027t a big enough issue for me to branch off like that, it was more of a \u0022well...since I\u0027m here anyways I may as well\u0022 kinda thing.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI\u0027m not sure what\u0027s up with the orientation stuff, I might have a look at that as well.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I\u0027m not sure either, but it was apparent from the previous discussion that it was an issue that would take a lot of effort to sort out, and I strongly suspect that it may boil down to a stock issue that we may or may not be able to do anything about anyways.\u003C/p\u003E\u003Cp\u003EI opted to disable the orientation stuff on the solar panels, again for expediency and under the theory that I\u0027d rather players not be punished for something that may be entirely out of their control. While I wasn\u0027t originally too keen on it due to potential performance drain, I actually became rather fond of the orientation tracking on panels as bringing extra considerations into play in terms of properly aligning your vessels for long term use, so I think my preference would be to keep it if possible.\u003C/p\u003E\n"},{"CreatedByName":"Prismatech","CreatedById":96313,"CreatedDateTime":"2015-02-16T10:10:31Z","Content":"\n\u003Cp\u003Ehello nice and very good idee. whisches :\u003C/p\u003E\u003Cp\u003E1: list with mod that use backprossing.\u003C/p\u003E\u003Cp\u003E2: a mm config to implant self the backprossing in solar stock and mods \u003C/p\u003E\u003Cp\u003E3: a mm config to implant self the backprossing scansat and karbonitescan (kethane when updatet too)\u003C/p\u003E\n"},{"CreatedByName":"jamespicone","CreatedById":125714,"CreatedDateTime":"2015-02-16T11:55:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003EOh, that\u0027s no problem man, and my apologies if that was out of line. Honestly, I\u0027d prefer not doing that as well, and it was simply a matter of taking your license at face value and doing so for expediency given I had been working on BP support for a couple of weeks straight and was wanting to get this release out the door so I could move onto other things. My intent with that was to readopt the main branch if feasible in the future anyways.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s fine, it\u0027s not a big problem - and obviously the license does allow it - it\u0027s just that the who-runs-first problem is hard to solve with multiple slightly-altered solutions in the same space, so I\u0027d pefer not to try and solve it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EYup, absolutely man, and that would be my personal preference as well. The logging verbosity certainly wasn\u0027t a big enough issue for me to branch off like that, it was more of a \u0022well...since I\u0027m here anyways I may as well\u0022 kinda thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027ll be the next step then.\u003C/p\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2015-02-16T12:28:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EYeah, I\u0027m not sure either, but it was apparent from the previous discussion that it was an issue that would take a lot of effort to sort out, and I strongly suspect that it may boil down to a stock issue that we may or may not be able to do anything about anyways.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, my testing was done in a completely stock environment, so it\u0027s gotta be a stock problem. Not BP, and not BTSM.\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-16T19:20:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Renegrade\u0022 data-cite=\u0022Renegrade\u0022\u003E\u003Cdiv\u003EWell, my testing was done in a completely stock environment, so it\u0027s gotta be a stock problem. Not BP, and not BTSM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHence my strong suspicion \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jamespicone\u0022 data-cite=\u0022jamespicone\u0022\u003E\u003Cdiv\u003EIt\u0027s fine, it\u0027s not a big problem - and obviously the license does allow it - it\u0027s just that the who-runs-first problem is hard to solve with multiple slightly-altered solutions in the same space, so I\u0027d pefer not to try and solve it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I\u0027m sure it\u0027s something we could work out even if it\u0027s just through a version numbering scheme that say reserves the minor number for spin-off versions or what have you, but if we don\u0027t have to do that, all the better, and I\u0027d prefer avoiding having to manually integrate changes to the main branch into my own anyways \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-16T19:33:32Z\u0022 title=\u002202/16/2015 07:33  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 16, 2015\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-18T03:11:02Z","Content":"\n\u003Cp\u003E@jamespicone: Just wanted to verify man, given there\u0027s already a version of BP I compiled and released out into the wild before we discussed this whole thing, would you object if I were to release another version(or potentially multiple versions depending on timing) of BTSM that contains that exact same version of BP as I included in my previous release?\u003C/p\u003E\u003Cp\u003EI\u0027m gearing up for another release of BTSM, and just wanted to run it by you if that would be cool. As far as any potential damage goes, I don\u0027t think this would exasperate the problem given that version of BP is already out there and uses the same version numbering as your last official release, meaning that your next one will automatically override it if both are present.\u003C/p\u003E\u003Cp\u003ELet me know if it\u0027s an issue, and if so I\u0027ll hold back on further releases of BTSM until the next version of BP is ready to go. I didn\u0027t want to put anything out without running it by you first, as I didn\u0027t want to risk it being perceived as me disrespecting your expressed wishes about it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-18T03:13:08Z\u0022 title=\u002202/18/2015 03:13  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 18, 2015\u003C/time\u003E by FlowerChild\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jamespicone","CreatedById":125714,"CreatedDateTime":"2015-02-18T03:14:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlowerChild\u0022 data-cite=\u0022FlowerChild\u0022\u003E\u003Cdiv\u003E@jamespicone: Just wanted to verify man, given there\u0027s already a version of BP I compiled and released out into the wild before we discussed this whole thing, would you object if I were to release another version(or potentially multiple versions depending on timing) of BTSM that contains that exact same version of BP as I included in my previous release?\u003Cp\u003EI\u0027m gearing up for another release of BTSM, and just wanted to run it by you if that would be cool. As far as any potential damage goes, I don\u0027t think this would exasperate the problem given that version of BP is already out there and uses the same version numbering as your last official release, meaning that your next one will automatically override it if both are present.\u003C/p\u003E\u003Cp\u003ELet me know if it\u0027s an issue, and if so I\u0027ll hold back on further releases of BTSM until the next version of BP is ready to go. I didn\u0027t want to put anything out without running it by you first, as I didn\u0027t want to risk it being perceived as me disrespecting your expressed wishes about it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGo ahead, I\u0027m not too fussed about it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FlowerChild","CreatedById":74289,"CreatedDateTime":"2015-02-18T03:19:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jamespicone\u0022 data-cite=\u0022jamespicone\u0022\u003E\u003Cdiv\u003EGo ahead, I\u0027m not too fussed about it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAwesome! Thanks a lot man \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Yemo","CreatedById":114412,"CreatedDateTime":"2015-03-23T22:28:02Z","Content":"\n\u003Cp\u003EHey,\u003C/p\u003E\u003Cp\u003Ethat is a great plugin! Very useful for the energy production part of the gameplay!\u003C/p\u003E\u003Cp\u003EI m working on an energy consuming part, for which I want to set 2 consumption levels.\u003C/p\u003E\u003Cp\u003EOne normal energy consumption level, if people have your plugin installed.\u003C/p\u003E\u003Cp\u003EAnd one mini energy consumption level, if people do not have your plugin installed.\u003C/p\u003E\u003Cp\u003ETo check for the installation of you plugin per MM statements, your plugin has to be inside of a sub folder of GameData (as far as I know).\u003C/p\u003E\u003Cp\u003ESo eg GameData/BackgroundProcessing/BackgroundProcessing.dll.\u003C/p\u003E\u003Cp\u003ESo \u003Cstrong\u003Eit would be great if you could change the structure of you download file, to have BackgroundProcessing.dll inside a folder called BackgroundProcessing.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThank you very much!\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-03-23T22:33:11Z","Content":"\n\u003Cp\u003EYou can also do needs for any plugin Yemo, no matter where it\u0027s located (eg. there\u0027s always a Module Manager pass.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EIf it detects a loaded DLL, it assumes it\u0027s a mod and creates a :BEFORE, :FOR and :AFTER pass for it.\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-23T22:35:15Z\u0022 title=\u002203/23/2015 10:35  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 23, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yemo","CreatedById":114412,"CreatedDateTime":"2015-03-23T22:36:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003EYou can also do needs for any plugin Yemo, no matter where it\u0027s located (eg. there\u0027s always a Module Manager pass)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for that info, though the problem with BackgroundProcessing is, that the .dll name contains a version number, thus it changes every update (until KSP-AVC is used instead).\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-03-23T22:41:42Z","Content":"\n\u003Cp\u003EUsing periods (mostly) which dont get used.\u003C/p\u003E\u003Cp\u003EIIRC, the needs for the current download would be one of the following\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EBackgroundProcessing\u003Cbr\u003EBackgroundProcessing-0\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo it will atleast be stable until a major version change\u003C/p\u003E\n"},{"CreatedByName":"Yemo","CreatedById":114412,"CreatedDateTime":"2015-03-23T22:44:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003EUsing periods (mostly) which dont get used.\u003Cp\u003EIIRC, the needs for the current download would be one of the following\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EBackgroundProcessing\u003Cbr\u003EBackgroundProcessing-0\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo it will atleast be stable until a major version change\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you very much, I will try that out!\u003C/p\u003E\u003Cp\u003EIf the first version works, the MM statement might not even need a reconfiguration, when BackgroundProcessing gets it\u0027s own folder!\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-20T18:00:39Z","Content":"\n\u003Cp\u003EThis looks like a brilliant mod and exactly what I\u0027m looking for for a few parts that I am currently developing for a mod, basically I just want a few generators to consume a custom resource while not being focused on, I have 0 experience with plugin coding, I am starting to look at some C# tutorials but i was wondering if anyone could point me in the direction of some good ksp specifics, or unity specifics, or tell me roughly what is required for me to go about achieving this because I\u0027m pretty clueless at present! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E thanks!\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-04-20T18:10:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Squiggsy\u0022 data-cite=\u0022Squiggsy\u0022\u003E\u003Cdiv\u003EThis looks like a brilliant mod and exactly what I\u0027m looking for for a few parts that I am currently developing for a mod, basically I just want a few generators to consume a custom resource while not being focused on, I have 0 experience with plugin coding, I am starting to look at some C# tutorials but i was wondering if anyone could point me in the direction of some good ksp specifics, or unity specifics, or tell me roughly what is required for me to go about achieving this because I\u0027m pretty clueless at present! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E thanks!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHave you looked here \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Squiggsy","CreatedById":139947,"CreatedDateTime":"2015-04-20T18:48:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MeCripp\u0022 data-cite=\u0022MeCripp\u0022\u003E\u003Cdiv\u003EHave you looked here \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyup that was where I started, I found it amazingly useful for information about modelling/texturing/part development but not so much for the code side of things, I have now found a video tutorial that seems pretty good so hopefully I can get started and learn enough to get this done \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eedit: nope that tutorial was very out of date and didn\u0027t cover what I need anyway, ahh well.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-20T19:01:39Z\u0022 title=\u002204/20/2015 07:01  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 20, 2015\u003C/time\u003E by Squiggsy\u003C/strong\u003E\n\u003C/span\u003E\n"}]}