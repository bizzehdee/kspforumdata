{"TopicId":22673,"ForumId":34,"TopicTitle":"[1.0] Figaro Global Navigation Satellite System - Launch a Working GPS System","CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-04-19T01:02:29Z","PageNum":4,"Articles":[{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-07-30T23:28:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sidfu\u0022 data-cite=\u0022sidfu\u0022\u003E\u003Cdiv\u003Ewould be cool if this guy and the guy making the remotetech could work togehter and make one intermeshed communication mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi Sidfu! Glad to read you\u0027re interested in my mod. For what it is worth, I prefer my online handle to \u0022this guy\u0022, but suit yourself... \u003C/p\u003E\u003Cp\u003EAbout your suggestion, that was the idea behind adding the FigaroTransmitter part to the mod distribution. You can add the Figaro GNSS antenna array to any satellite you build, just like you would any other part. That way your remotetech satellites can carry a GNSS payload. Alternatively, you could do as KhaosCorp suggests and edit the FigaroTransmitter part\u0027s part.cfg file to incorporate the remotetech module.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EI think something more productive would be to add a communications delay to the GPS read-outs, and to cancel GPS functionality of a satellite if it\u0027s not in contact with the network.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi Kimberly! I am afraid I don\u0027t understand your suggestion? Can you please clarify?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-30T23:39:19Z\u0022 title=\u002207/30/2013 11:39  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 30, 2013\u003C/time\u003E by PakledHostage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpaceRodent","CreatedById":76076,"CreatedDateTime":"2013-07-31T09:52:54Z","Content":"\n\u003Cp\u003EOdd. I had this working (With at least 6 satellites in view, 16 in total in orbit at 1588km), then it stopped working. It\u0027s reading 0 visible sats. I had it working just fine, then it stopped. Wonder what could have caused that? I\u0027m testing to figure out what happened. But just letting you know.\u003C/p\u003E\n"},{"CreatedByName":"SpaceRodent","CreatedById":76076,"CreatedDateTime":"2013-07-31T10:10:02Z","Content":"\n\u003Cp\u003EAnd yes to be sure I sped time up to make sure I had at least six sats visible to me (it went up to nine visible at times) throughout many days. It didn\u0027t drop below six. Now suddenly it won\u0027t read any sats visible.\u003C/p\u003E\u003Cp\u003EEdit: Also had the receiver (Of course all 16 GPS sats had the transmitter), added a second receiver to see if that was an issue (it wasn\u0027t), redid the receivers, used a different ship with a receiver, and so on. So far no luck getting it to read anything other than zero sats visible. I\u0027m actually proud of myself for putting that many satellites up around Kerbin. They\u0027re all separated by 90 degrees on 4 different orbital planes (0, 45, 90, and 135). Was one of the more difficult missions I\u0027ve done in KSP so far! So I really wish it would work!\u003C/p\u003E\u003Cp\u003EEdit Edit: I reloaded the game and it started working again. Then I went back to the VAB and relaunched. Again, not working. I think it *might* have something to do with relaunching, or reverting the flight back to VAB (and/or back to launch, not sure on that)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-31T10:18:06Z\u0022 title=\u002207/31/2013 10:18  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 31, 2013\u003C/time\u003E by SpaceRodent\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-31T10:21:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003EHi Kimberly! I am afraid I don\u0027t understand your suggestion? Can you please clarify?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ED\u0027oh, I should probably have quoted a post. I was talking about RemoteTech integration; if you want to do that, it would be useful to make GPS satellites non-functional if they\u0027re not in contact with the RemoteTech network.\u003C/p\u003E\n"},{"CreatedByName":"SpaceRodent","CreatedById":76076,"CreatedDateTime":"2013-07-31T11:12:21Z","Content":"\n\u003Cp\u003EOkay after some testing I figured out that sometimes it works and sometimes it doesn\u0027t work. When I revert back to the VAB or SPH, or if I revert back to launch, it will either work or not work. Doesn\u0027t seem to be related to that. So I\u0027m not sure what the problem is...\u003C/p\u003E\n"},{"CreatedByName":"billeinstein","CreatedById":63495,"CreatedDateTime":"2013-07-31T11:24:26Z","Content":"\n\u003Cp\u003EI finish this with 6 Quad-sat launchers.\u003C/p\u003E\u003Cp\u003ESame problem, sometimes they will stop working.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cloud-2.steampowered.com/ugc/882989280441808394/7D41A4F5CDC7AEAF38BEE763F387B4A95689EC41/\u0022 alt=\u00227D41A4F5CDC7AEAF38BEE763F387B4A95689EC41\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-07-31T11:24:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003ED\u0027oh, I should probably have quoted a post. I was talking about RemoteTech integration; if you want to do that, it would be useful to make GPS satellites non-functional if they\u0027re not in contact with the RemoteTech network.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eheh, that doesn\u0027t make sense, why would they stop working? RemoteTech network is for relay commands.\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-31T12:04:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4v\u0022 data-cite=\u0022m4v\u0022\u003E\u003Cdiv\u003Eheh, that doesn\u0027t make sense, why would they stop working? RemoteTech network is for relay commands.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReal GPS satellites need to synchronize with ground stations from time to time to keep functioning properly.\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-07-31T13:17:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022billeinstein\u0022 data-cite=\u0022billeinstein\u0022\u003E\u003Cdiv\u003ESame problem, sometimes they will stop working.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EClearly there is a bug. It sounds to me like it isn\u0027t always updating or renewing the list of SVs. It only searches for SVs when it first loads and whenever there\u0027s a change in the number of spacecraft. I\u0027ll have to look for an oversight in the logic... Please give me a day or so. (If someone can PM me with a link to download a persistence file, that would be great.)\u003C/p\u003E\u003Cp\u003EIn the meantime, billeinstein and spacerodent, you should be able to make it work reliably by reverting to the old method of identifying SVs in your constellation. In your case, billeinstein, I see that all of your satellites are called \u0022gps launcher\u0022. You can change the \u0022GNSSAcronym\u0022 parameter in the Figaro Receiver part\u0027s part.cfg file from NONE to gps and it will work more reliably. Same is true for you, spacerodent. Just use any acronym that is unique to your constellation.\u003C/p\u003E\u003Cp\u003EAnd Kimberly is correct about the need for real GPS satellites to be updated from ground stations from time to Time. I had actually considered adding an advanced mode where the SVs would have to orbit within view of KSC\u0027s tracking station every so often, but I haven\u0027t gotten around to it yet...\u003C/p\u003E\n"},{"CreatedByName":"SpaceRodent","CreatedById":76076,"CreatedDateTime":"2013-07-31T14:08:39Z","Content":"\n\u003Cp\u003EOkay, will use the old method to make sure that they\u0027ll work consistently. Here is a pic of my constellation. Looks like I have OCD, but I really don\u0027t.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s23.postimg.org/q7ais9atn/screenshot43.png\u0022 alt=\u0022screenshot43.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-07-31T14:24:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EReal GPS satellites need to synchronize with ground stations from time to time to keep functioning properly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnd Kimberly is correct about the need for real GPS satellites to be updated from ground stations from time to Time. I had actually considered adding an advanced mode where the SVs would have to orbit within view of KSC\u0027s tracking station every so often, but I haven\u0027t gotten around to it yet...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI see, I do know that IRL satellites need constant communication for them to work, what I meant is that it didn\u0027t make sense \u003Cem\u003Egameplay-wise\u003C/em\u003E. RemoteTech lets me \u003Cem\u003Econtrol\u003C/em\u003E probes, and if the probes are outside of the network then I can\u0027t control them. I don\u0027t need to control GPS satellites once they are in orbit, hence why would they need to stop working?\u003C/p\u003E\u003Cp\u003EThere\u0027s a lot of IRL stuff that the game handwaves. Kerbin is supposed to be populated, why do I have to make sure the satellite\u0027s orbit is in view of the KSC when it makes more sense to think that the KSC doesn\u0027t have the only antenna in the planet\u0027s surface? And if a satellite stops working will I know why? will I know which one of them needs fixing? or will I have to jump through all the satellites in the constellation to make sure every one is working? \u003C/p\u003E\u003Cp\u003EDoes it add gameplay value? is it fun? or it is a chore?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-31T14:31:30Z\u0022 title=\u002207/31/2013 02:31  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 31, 2013\u003C/time\u003E by m4v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-07-31T15:57:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4v\u0022 data-cite=\u0022m4v\u0022\u003E\u003Cdiv\u003EI see, I do know that IRL satellites need constant communication for them to work, what I meant is that it didn\u0027t make sense \u003Cem\u003Egameplay-wise\u003C/em\u003E. ... Does it add gameplay value? is it fun? or it is a chore?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are absolutely right, which is why the feature would be optional if I were to add it. (And I am not sure that I will add it.) \u003C/p\u003E\u003Cp\u003EAs you point out, there is plenty that the game \u0022hand-waves\u0022, like having precise position information available without requiring the infrastructure to support it. The beauty of mods, however, is that they give players the option to customize gameplay. An optional \u0022hardcore\u0022 mode within an optional mod only adds a layer of challenge for those who want to take it on.\u003C/p\u003E\u003Cp\u003EI\u0027ll do some work later today on the bug that billeinstein and spacerodent identified and will post back with an updated version once I have it fixed. The fix will not require players to relaunch their GNSS constellations, so... as you were.\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-07-31T16:51:21Z","Content":"\n\u003Cp\u003EWhile we\u0027re at discussing new features, something I believe it would add gameplay is \u003Ca href=\u0022https://en.wikipedia.org/wiki/Pseudolite\u0022 rel=\u0022external nofollow\u0022\u003Epseudolites\u003C/a\u003E, roughly a ground based GPS for remote planets. I think we can already do that, instead of using a satellite you use small landers and scatter a bunch of them near your base, if you have line of sight of 4 of them then you will have GPS around your base without the need of a full fledged sat constellation. \u003C/p\u003E\u003Cp\u003EHowever for rovers and stuff in the ground, the line of sight requirement might be a bit tricky to get due to terrain, so maybe change it so it requires either line of sight or to be within some distance from the GPS units?\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-31T17:30:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4v\u0022 data-cite=\u0022m4v\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHowever for rovers and stuff in the ground, the line of sight requirement might be a bit tricky to get due to terrain, so maybe change it so it requires either line of sight or to be within some distance from the GPS units?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou could use RemoteTech\u0027s model for line of sight calculations: it assumes the planet is a perfect sphere, and the sphere used in the calculation is slightly smaller than the actual planet. This prevents mountains and such from blocking the signal.\u003C/p\u003E\u003Cp\u003EPseudolites definitely sound like an interesting idea. Building a GPS network around every planet seems less realistic than strategically deploying some pseudolites around your main area of interest, e.g. a base. I\u0027m curious, how do pseudolites calibrate?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-31T17:35:48Z\u0022 title=\u002207/31/2013 05:35  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 31, 2013\u003C/time\u003E by Kimberly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-07-31T17:34:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EYou could use RemoteTech\u0027s model for line of sight calculations: it assumes the planet is a perfect sphere, and the sphere used in the calculation is slightly smaller than the actual planet. This prevents mountains and such from blocking the signal.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I bothered to look at Figaro\u0027s code, and it looks like it does the same. I have never bothered to deploy pseudolites arrays because I assumed that I will run into LOS issues. It seems that It wasn\u0027t the case.\u003C/p\u003E\u003Cp\u003ENevermind then.\u003C/p\u003E\u003Cp\u003Eedit:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EPseudolites definitely sound like an interesting idea. Building a GPS network around every planet seems less realistic than strategically deploying some pseudolites around your main area of interest, e.g. a base. I\u0027m curious, how do pseudolites calibrate?\u003C/div\u003E\u003C/blockquote\u003EAbout that, I have no idea.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-31T17:39:32Z\u0022 title=\u002207/31/2013 05:39  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 31, 2013\u003C/time\u003E by m4v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-31T17:45:04Z","Content":"\n\u003Cp\u003EI just read up a bit on self-calibrating pseudolites. Apparently, they communicate with each other to determine their relative positions. Then, they can give relative coordinates to whatever\u0027s inside the network. They can\u0027t give planet-relative coordinates, so implementing them properly would probably be labor-intensive and also not terribly useful. You could just add a pseudolite part made of handwavium, of course, which tells you planet-relative coordinates anyway. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-07-31T19:56:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022m4v\u0022 data-cite=\u0022m4v\u0022\u003E\u003Cdiv\u003ESo I bothered to look at Figaro\u0027s code, and it looks like it does the same.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, when calculating whether or not a satellite is visible above the receiver\u0027s horizon, it assumes planets are perfect spheres. Let\u0027s just assume that trace amounts of handwavium in the Kerbal universe refract GNSS and pseudolite signals around obstacles like mountains...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUPDATE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI believe I have fixed the bug that was reported by spacerodent and billeinstein. I have rebuilt the plugin as v1.0.21.02 and posted it to SpacePort.\u003C/p\u003E\n"},{"CreatedByName":"Maverick2013","CreatedById":76002,"CreatedDateTime":"2013-08-02T06:30:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003EYes, when calculating whether or not a satellite is visible above the receiver\u0027s horizon, it assumes planets are perfect spheres. Let\u0027s just assume that trace amounts of handwavium in the Kerbal universe refract GNSS and pseudolite signals around obstacles like mountains...\u003Cp\u003E\u003Cstrong\u003EUPDATE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI believe I have fixed the bug that was reported by spacerodent and billeinstein. I have rebuilt the plugin as v1.0.21.02 and posted it to SpacePort.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust installed a 12 x dedicated GPS network at 1588kms staggered at 15 degree intervals. While setting up, my orbiting station was happily receiving a signal that gradually improved as more sats went up. \u003Cimg src=\u0022http://cloud-3.steampowered.com/ugc/578996451007292433/3AD942E1A792FD7D0ED93540B9F3CA21B12E3321/1024x576.resizedimage\u0022 alt=\u00221024x576.resizedimage\u0022\u003E\u003C/p\u003E\u003Cp\u003EI did some IRL work, came back an hour later and fit a receiver to a rover to test surface accuracy and went to launch. Fps dropped to less than 1 (on a 670gtx) and bogged everything down. Tried turning off receiver and it clicked off then back on again. Reverted to VAB, removed receiver, fps came back to 60\u002B.\u003C/p\u003E\u003Cp\u003EI tested the station (at 100km) and it bogged as well.\u003C/p\u003E\u003Cp\u003EDid your suggestion of \u0022GNSSacronym = GPS\u0022 (all my sats have GPS prefix), restarted, loaded receiver and sitting at launch with GPS signals, visible sats 4, accuracy 0.2m with 60 fps again.\u003C/p\u003E\u003Cp\u003EHope this helps solve this little issue. Time tested would be *after* the aforementioned update. Mod was d/l\u0027d from Spaceport about 4 hours prior to post time.\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-08-02T19:37:44Z","Content":"\n\u003Cp\u003EThanks for the feedback. Sounds like it is getting bogged down while searching for the transmitter part on your satellites. It doesn\u0027t do that step if you set GNSSacronym to something other than \u0022NONE\u0022. \u003C/p\u003E\u003Cp\u003EIt only develops the list of GPS SVs once when you first load your flight (and then again if the number of vessels ever changes), but it sounds like it is struggling to find SVs in the first place. It uses a bit of a kludge to find the SVs because I don\u0027t have access to the guts of the game, but obviously I\u0027ll have to come up with a more efficient method. Can you maybe PM me with a link to your Persistence file so that I can trouble shoot? It doesn\u0027t do what you\u0027re describing on my computer, so it must be something peculiar to your Persistence file.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-03T00:09:21Z\u0022 title=\u002208/03/2013 12:09  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 3, 2013\u003C/time\u003E by PakledHostage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AviatorDSB","CreatedById":77941,"CreatedDateTime":"2013-08-07T08:44:22Z","Content":"\n\u003Cp\u003EHello all\u003C/p\u003E\u003Cp\u003E I\u0027ve just run into an issue that I think may be similar to what Maverick found. \u003C/p\u003E\u003Cp\u003E Any time I attach the GPS Reciever unit to a ship (or even simply a pod on the launch pad with no other parts at all) the game gets bogged down to less than 1 fps. This does not happen with the antennae. I\u0027m currently on KSP v 0.21.1 and have Figaro 1.0.21.02. With my new download of the game I\u0027ve only added MechJeb, Figaro and the RendezMe plugins (and I haven\u0027t even played with the last one yet). Everything else is completely stock (but obviously won\u0027t be for long...).\u003C/p\u003E\u003Cp\u003E I\u0027m pretty useless with computers but I\u0027d be happy to send along any information that will help. I\u0027ll need pretty detailed instructions for how to find the Persistence file (which, btw I don\u0027t even know what that is...).\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-08-07T14:07:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PakledHostage\u0022 data-cite=\u0022PakledHostage\u0022\u003E\u003Cdiv\u003EThanks for the feedback. Sounds like it is getting bogged down while searching for the transmitter part on your satellites. It doesn\u0027t do that step if you set GNSSacronym to something other than \u0022NONE\u0022. \u003Cp\u003EIt only develops the list of GPS SVs once when you first load your flight (and then again if the number of vessels ever changes), but it sounds like it is struggling to find SVs in the first place. It uses a bit of a kludge to find the SVs because I don\u0027t have access to the guts of the game, but obviously I\u0027ll have to come up with a more efficient method. Can you maybe PM me with a link to your Persistence file so that I can trouble shoot? It doesn\u0027t do what you\u0027re describing on my computer, so it must be something peculiar to your Persistence file.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI looked the code a bit, I neither know how to find the transmitter part without having to loop through all the parts of each vessel. And without profiling is hard to tell where is the bottleneck, if there\u0027s one at all, but some things that occurred to me for make it faster:\u003C/p\u003E\u003Cp\u003Echeck the body each vessel is orbiting, if we aren\u0027t orbiting the same body then skip. And compare string hashes instead of the strings themselves because int comparison faster, something like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eint transmitterID = transmitterString.GetHashCode();\u003Cbr\u003ECelestialBody ourCelestialBody = vessel.GetOrbit().referenceBody;\u003Cbr\u003E\u003Cbr\u003E....\u003Cbr\u003E\u003Cbr\u003E/* I\u0027m actually not sure if this is valid, I\u0027m writing from the top of my head, test fist! */\u003Cbr\u003ECelestialBody otherCelestialBody = otherVessel.GetOrbit().referenceBody;\u003Cbr\u003Eif (ourCelestialBody != otherCelestialBody) {\u003Cbr\u003E     /* skip */\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E....\u003Cbr\u003E\u003Cbr\u003Eif (otherPart.name.GetHashCode() == transmitterID)\u003Cbr\u003E{\u003Cbr\u003E     /* has transmitter */\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ealso I remember Mu saying in #kspmodders that \u0022foreach\u0022 was more inefficient than \u0022for\u0022 due to being slower and generating more garbage for the garbage collector, but I don\u0027t know how significant would be in this case.\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-08-07T19:59:12Z","Content":"\n\u003Cp\u003EThanks. Good suggestion to test only those objects in orbit around the same body. It does that for the old method of seeking satellites with some GNSS acronym in their vessel name, but I don\u0027t think I remembered to do it in the new case.\u003C/p\u003E\u003Cp\u003EI wonder, though, if the bug is as simple as some funny interaction between Figaro and other mods like MechJeb? As I mentioned before, it doesn\u0027t bog down on my machine and I am only running it on a very slow little netbook... \u003C/p\u003E\u003Cp\u003EAnother possibility is that it bogs down when none of the orbiting vessels have a Figaro Transmitter part installed. I never actually tested that case. I will look into it in the next few days. \u003C/p\u003E\u003Cp\u003E@AviatorDSB: Your game\u0027s persistence files are located in the \u0022Saves\u0022 directory of the KSP game\u0027s folder. They are the files that the game uses to store data about all of your active missions. Don\u0027t worry about it if you can\u0027t find it. I wouldn\u0027t want you to screw up your game\u0027s save file.\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-08-08T15:58:36Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EUPDATE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ERegarding the reports that I\u0027m getting of people\u0027s systems bogging down when spacecraft with the Figaro Receiver part installed first load: \u003C/p\u003E\u003Cp\u003EI have done some more testing and still haven\u0027t been able to duplicate the bug on my own system (a slow little netbook).\u003C/p\u003E\u003Cp\u003EEven so, I polished up the code a bit and tested a few things that I hadn\u0027t previously tested. The improvements will be included in the next update, but I won\u0027t release it until I have a real reason to. I\u0027d like to find the \u0022smoking gun\u0022 that\u0027s behind the bug people are reporting. If anyone who\u0027s encountered the bug can provide a detailed description of how to duplicate it, or better yet a copy of their persistence file, it would be greatly appreciated. Please include in your description a list of all mods that you\u0027ve got installed, in case the problem is due to an interaction between Figaro and some other mod.\u003C/p\u003E\n"},{"CreatedByName":"AviatorDSB","CreatedById":77941,"CreatedDateTime":"2013-08-09T11:07:32Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003E Well I just tried this again (simple ship on pad with a Receiver Unit installed) and this time it bogged down so much that it eventually crashed the program. I\u0027ve located the persistence file and will try to PM it to you.\u003C/p\u003E\u003Cp\u003E There may be a new clue. This time the game bogged down noticeably worse than before and the only change that has happened is that I got all giddy about GPS constellations and launched a bunch of transmitter satellites. No other mods or anything installed. So from limited experimentation on my end it looks like my ships fly fine with a transmitter and that the game performance is affected by the Receiver but perhaps to a greater degree when there are a bunch of transmitters already in orbit. Feel free to disregard if that doesn\u0027t make sense, kind of out of my league here...\u003C/p\u003E\u003Cp\u003EOne other thought, The version of MechJeb I have is 2.0.9 that adds it to all capsules and pods. Are the guys who are using Figaro successfully using a different MechJeb? \u003C/p\u003E\u003Cp\u003E@Maverick: Could you tell us what version of MechJeb you\u0027re using (if at all)?\u003C/p\u003E\u003Cp\u003EKeep the pointy part\u003C/p\u003E\n"},{"CreatedByName":"PakledHostage","CreatedById":8059,"CreatedDateTime":"2013-08-13T15:59:01Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EUPDATE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThanks to AviatorDSB\u0027s help, I have been able to narrow down the cause of the bug that people have been reporting. The bug causes the game to bog down when you go to launch your spacecraft. It does not occur when you use the old method of naming all of your satellites with a certain acronym. It only occurs when using the new Figaro Transmitter part.\u003C/p\u003E\u003Cp\u003EI was finally able to duplicate those symptoms on my computer by having one spacecraft that contains the Figaro Receiver part in a game save, and then trying to launch a second one. That\u0027s an oversight on my part and I have to fix it. I will work on it this coming weekend and will hopefully post v1.0.21.03 of the plugin by early next week.\u003C/p\u003E\u003Cp\u003EUntil then, you can avoid the bug by only having one craft at a time carry the receiver, or reverting to the old method of using a unique acronym in the names of all of your satellites (change the \u0022GNSSAcronym\u0022 parameter in the Figaro Receiver\u0027s Part.cfg file to match the acronym you are using if you choose this work around).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-13T16:02:14Z\u0022 title=\u002208/13/2013 04:02  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 13, 2013\u003C/time\u003E by PakledHostage\u003C/strong\u003E\n\u003C/span\u003E\n"}]}