{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":87,"Articles":[{"CreatedByName":"CrAzY GeNiUs","CreatedById":93837,"CreatedDateTime":"2013-11-30T20:04:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022razark\u0022 data-cite=\u0022razark\u0022\u003E\u003Cdiv\u003EA. What do you want to do?\u003Cp\u003EB. What have you tried?\u003C/p\u003E\u003Cp\u003EC. What happened?\u003C/p\u003E\u003Cp\u003ED. What didn\u0027t happen that should have happened?\u003C/p\u003E\u003Cp\u003EE. We don\u0027t read minds.\u003C/p\u003E\u003Cp\u003EF. \u0022There was an error.\u0022 is a useless bug report.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/iSoi2rG\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/iSoi2rG.png\u0022 alt=\u0022iSoi2rG.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/TnAOVhG\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/TnAOVhG.png\u0022 alt=\u0022TnAOVhG.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWhat now ?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-12-01T01:44:59Z","Content":"\n\u003Cp\u003EThere is a bug with KOS where its expression system can\u0027t properly convert different types of number to each other and work seamlessly like they should. Most programming languages either:\u003C/p\u003E\u003Cp\u003EA - Have no trouble automatically converting between integers, long integers, floats, and doubles so you don\u0027t need to explicitly convert them, or \u003C/p\u003E\u003Cp\u003EB - Allow you to explicitly convert them manually.\u003C/p\u003E\u003Cp\u003EBut with KOS it\u0027s sort of the worst of both worlds. You are denied the ability to manually convert numeric types yourself, AND the system won\u0027t do it correctly for you. So when there\u0027s a type mismatch, you\u0027re out of luck and can\u0027t do anything about it. At the moment this is being handled by trying to make all the numbers returned everywhere in the system be the same type of number - a double-precision floating point number - so the conversions never have to happen. But there are a few places where that hasn\u0027t happened and one of those places is TARGET:DISTANCE.\u003C/p\u003E\u003Cp\u003EThis is what leads to that rather odd looking error message \u0022Can\u0027t compare number to number\u0022, which sounds utterly ridiculous until you realize that what\u0027s going on is that it\u0027s actually complaining about \u0022Can\u0027t compare float to double\u0022 or \u0022Can\u0027t compare integer to double\u0022 or something like that, but the true names of the types are being masked when the message is printed and all numeric types are getting called just \u0022number\u0022 in the error message.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T01:47:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EMethod B is by using a PID controller type algorithm. This is a considerably more difficult and I haven\u0027t yet figured it out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat type controller are you trying to write? Is it a P controller, PD, PI or PID? Also, I do not think a gain should have to be negative \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo to summarize my position:\u003C/p\u003E\u003Cp\u003EFix the SOI problem first and restore negative apaopsis later. - I\u0027m fine with this.\u003C/p\u003E\u003Cp\u003EFix the SOI problem and restore negative apoapsis in the same reliease - I\u0027m fine with this too.\u003C/p\u003E\u003Cp\u003EFix the SOI problem later and restore negative apoapsis now - I\u0027m not fine with this for the reasons stated above. The SOI problem *requires* getting information from KOS as there\u0027s no alternative way to calculate escape mathematically right now. There *is no* workaround right now. There are, however, workarounds to not being able to see a negative \u0022apoapsis\u0022.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think we are largely in agreement. Both should be possible. I feel that it would probably be done best by leaving what is now as is and adding a way of detecting the arbitrairy Squad SOI value.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CrAzY GeNiUs\u0022 data-cite=\u0022CrAzY GeNiUs\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhat now ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think you can say \u003Cem\u003Euntil 0\u003C/em\u003E. It would have to be something like \u003Cem\u003Euntil var1 \u0026lt; 0\u003C/em\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-12-01T01:53:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI think we are largely in agreement. Both should be possible. I feel that it would probably be done best by leaving what is now as is and adding a way of detecting the arbitrairy Squad SOI value.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere we disagree is in the prority of the two problems. The inability to detect whether or not you are escaping by reading any of the KOS values is a far bigger problem than having to use a more complex expression to work out your eccentricity.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI don\u0027t think you can say \u003Cem\u003Euntil 0\u003C/em\u003E. It would have to be something like \u003Cem\u003Euntil var1 \u0026lt; 0\u003C/em\u003E.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt works. One of the few places where mismatching numeric types *does* seem to work seamlessly in KOS is in the ability to use numbers as booleans.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T02:28:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EWhere we disagree is in the prority of the two problems. The inability to detect whether or not you are escaping by reading any of the KOS values is a far bigger problem than having to use a more complex expression to work out your eccentricity.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI do not think it is a matter of one problem being bigger than the other. I think that having an arbitrary SOI warrants having a proper way of detecting it anyway. But maybe this is getting all a bit academic \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIt works. One of the few places where mismatching numeric types *does* seem to work seamlessly in KOS is in the ability to use numbers as booleans.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, I just tested it and came back to correct myself. I am not sure how the \u003Cem\u003Euntil\u003C/em\u003E condition could be fulfilled though.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-12-01T02:33:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EI do not think it is a matter of one problem being bigger than the other. I think that having an arbitrary SOI warrants having a proper way of detecting it anyway. But maybe this is getting all a bit academic \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EYes, I just tested it and came back to correct myself. I am not sure how the \u003Cem\u003Euntil\u003C/em\u003E condition could be fulfilled though.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s common practice in programming languages that have a loop escaper such as \u0022break\u0022 (which KOS does have) to make the loop header claim the loop will loop forever, but then have the condition that ends the loop be checked for somewhere down in the loop with a thing like \u0022if such-and-such then break.\u0022\u003C/p\u003E\u003Cp\u003EIts a useful thing to do in scenarios where you want to end the loop somewhere other than at the bottom of it, so you don\u0027t want to have to wait for the bottom and then detect that it\u0027s time to quit the loop, or when it\u0027s a loop in which the exit condition is sufficiently complicated that it doesn\u0027t make a nice terse simple expression, so you don\u0027t want to put it up in the header, or when it\u0027s a loop for which it\u0027s *expected* to just keep on looping for most of the duration of the program and the escape from the loop is truly an exception case, such as when running a server that\u0027s expected to stay alive as long as the computer is running.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T03:22:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIt\u0027s common practice in programming languages that have a loop escaper such as \u0022break\u0022 (which KOS does have) to make the loop header claim the loop will loop forever, but then have the condition that ends the loop be checked for somewhere down in the loop with a thing like \u0022if such-and-such then break.\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI figured that was a potential use for it, but I was not aware this was actually a common practice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I used to implement such a loop by doing something like \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Euntil alt:radar \u0026lt; alt:radar {}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut this is a cleaner way to do it. So it needs to be 0 specifically, as any other number breaks the loop right away?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-12-01T06:16:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EI figured that was a potential use for it, but I was not aware this was actually a common practice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I used to implement such a loop by doing something like \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Euntil alt:radar \u0026lt; alt:radar {}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure that would have always worked, because I think you\u0027d be sampling alt:radar at two different instants in time so they wouldn\u0027t necessarily be identical. (While deciphering your expression, KOS gets alt:radar once, then it encounters the second alt:radar and re-queries it. You may have moved a tiny amount during that interval.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Ebut this is a cleaner way to do it. So it needs to be 0 specifically, as any other number breaks the loop right away?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen using numbers as booleans, the logic is typically this:\u003C/p\u003E\u003Cp\u003EIf the number is zero: it\u0027s interpreted as boolean \u0022false\u0022.\u003C/p\u003E\u003Cp\u003EIf the number is ANYTHING ELSE that is nonzero: It\u0027s interpreted as boolean \u0022true\u0022.\u003C/p\u003E\u003Cp\u003EThe idea is that this makes \u0022or\u0022 analogous to addition and \u0022and\u0022 analogous to multiplication and in some old primitive computers they \u003C/p\u003E\u003Cp\u003Eactually were implemented that way:\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Efalse or false = false\u003C/em\u003E can be implemented as \u003Cem\u003Ezero plus zero = zero\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Etrue or true = true\u003C/em\u003E can be implemented as \u003Cem\u003Enonzero plus nonzero = nonzero\u003C/em\u003E. (as long as the nonzeros are not equal in size and opposite in sign, so usually the numbers are taken as unsigned to avoid that).\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Efalse or true = true\u003C/em\u003E can be implemented as \u003Cem\u003Ezero plus nonzero = nonzero\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Efalse and false = false\u003C/em\u003E can be implemented as \u003Cem\u003Ezero times zero = zero\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Etrue and true = true\u003C/em\u003E can be implemented as \u003Cem\u003Enonzero times nonzero = nonzero\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Efalse and true = false\u003C/em\u003E can be implemented as \u003Cem\u003Enonzero times zero = zero\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003EAnd standard order of operations that makes multiplication come before addition is analogous to ANDs happening before ORs.\u003C/p\u003E\u003Cp\u003EWhile this matches exactly with the boolean algebra math invented by Boole (from whom it gets its name), it\u0027s often not as useful as inverting the logic because boolean logic provides multiple values that are true, but only one value that is false, and what you often want is the other way around - a way to encode multiple types of error, but only one encoding for success.) So often operating system status codes are encoded the other way around, even though it\u0027s the opposite of the boolean standard. They have zero meaning \u0022success\u0022 and then multiple types of non-success so you can read what type of failure it was. This leads to confusing looking code sometimes when programmers say things like \u0022if not some_system_call() then ....\u0022 When what that really means the opposite of what it looks like it means.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T16:35:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI\u0027m not sure that would have always worked, because I think you\u0027d be sampling alt:radar at two different instants in time so they wouldn\u0027t necessarily be identical. (While deciphering your expression, KOS gets alt:radar once, then it encounters the second alt:radar and re-queries it. You may have moved a tiny amount during that interval.)\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUntil now it has always worked, in both directions, so I guess the commands are either executed at the same time or in such a short timespan that it effectively means the same. Of course, the method would be just as viable comparing any other variable to itself.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhen using numbers as booleans, the logic is typically this:\u003C/p\u003E\u003Cp\u003EIf the number is zero: it\u0027s interpreted as boolean \u0022false\u0022.\u003C/p\u003E\u003Cp\u003EIf the number is ANYTHING ELSE that is nonzero: It\u0027s interpreted as boolean \u0022true\u0022.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI meant that \u003Cem\u003Euntil false\u003C/em\u003E and \u003Cem\u003Euntil true\u003C/em\u003E should both be conditions that are never met, as there is nothing specified to compare the condition to. kOS seems to assume that comparing to nothing means comparing with some built in boolean that it not 0. Or am I confused here?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[explanation]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is some great background info. It seems very much related to the basic operation of logic systems (and thus computers) where a series of simple comparisons is used to provide answers to more complex questions. I assume you are familiar with these things, but I would really suggest that anyone else who is interested in computers reads up on this. It is very interesting material and so very fundamental to modern life. There are some great books out there that cover this in a very comprehensive yet understandable way.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T16:52:51Z\u0022 title=\u002212/01/2013 04:52  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sierra_seven_","CreatedById":72072,"CreatedDateTime":"2013-12-01T16:40:00Z","Content":"\n\u003Cp\u003EApologies if this has been covered elsewhere, but I couldn\u0027t find a solution on the wiki/youtube/anywhere! \u003C/p\u003E\u003Cp\u003EI\u0027ve pretty much just downloaded and installed the mod, and I spent a few hours designing a program with a gradual gravity turn to take me into orbit. I set up the file by writing \u0027edit Launch.\u0027 into the console window. I saved it using \u0027F5\u0027 after I\u0027d finished writing it. Of course, there were a few bugs that led to the rocket crash-landing, but I recovered the remains of the vehicle with the autopilot module. When I then tried to launch the same rocket on a different flight, \u0022edit Launch.\u0022 opened a blank, new program.\u003C/p\u003E\u003Cp\u003EHow do I open programs I\u0027ve already written and saved?\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-12-01T17:34:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sierra_seven_\u0022 data-cite=\u0022sierra_seven_\u0022\u003E\u003Cdiv\u003EApologies if this has been covered elsewhere, but I couldn\u0027t find a solution on the wiki/youtube/anywhere! \u003Cp\u003EI\u0027ve pretty much just downloaded and installed the mod, and I spent a few hours designing a program with a gradual gravity turn to take me into orbit. I set up the file by writing \u0027edit Launch.\u0027 into the console window. I saved it using \u0027F5\u0027 after I\u0027d finished writing it. Of course, there were a few bugs that led to the rocket crash-landing, but I recovered the remains of the vehicle with the autopilot module. When I then tried to launch the same rocket on a different flight, \u0022edit Launch.\u0022 opened a blank, new program.\u003C/p\u003E\u003Cp\u003EHow do I open programs I\u0027ve already written and saved?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou have to save programs to the archive. Once you\u0027ve written a program and exit the editor you should use\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ecopy launch to archive.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen when you reload the rocket\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ecopy launch from archive.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen you can use a text editor of your choice to edit the program(s) outside of KSP/kOS. The archive folder can be found at \u003Cem\u003EKerbal Space Program\\Plugins\\PluginData\\Archive\u003C/em\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-12-01T17:34:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EWhat type controller are you trying to write? Is it a P controller, PD, PI or PID? Also, I do not think a gain should have to be negative \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey Camacha, thanks for replying again.\u003C/p\u003E\u003Cp\u003EI\u0027m trying to write a full PID just to learn them. However I am doing it one step at a time, so first a P, then adding in the I and finally the D. I\u0027m trying to get each stage to work properly before moving onto the next. That way I can make sure I fully understand what I\u0027m doing and then I\u0027ll be able to write them for whatever I wish (in theory).\u003C/p\u003E\u003Cp\u003EI\u0027ve wrote, what I think is the p section of the PID. I have an if statement for above my setpoint and an if statement for below. The algorithm only works when I set Ki to a negative number. It seems to be slightly tempermental though. I can run the program and it\u0027ll work in one way, then run the exact same program again and it\u0027ll work slightly differently. I\u0027ve made some little videos that I\u0027ve posted below to show exactly what I mean.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/5oYJpVGKwf4?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/XU4NzM7NIqY?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EThat\u0027s the same program. I ran it. Broke into it, then just ran it again.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T17:36:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sierra_seven_\u0022 data-cite=\u0022sierra_seven_\u0022\u003E\u003Cdiv\u003EHow do I open programs I\u0027ve already written and saved?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, the bad news is you have not saved it. Not the way you wanted it to be saved, at least. Pressing F5 saves it locally. That means that it is saved \u003Cem\u003Eto your kOS unit\u003C/em\u003E. If that units gets destroyed or reverted to a state before saving your program, the program is gone as far as that unit is concerned and thus for as far KSP is concerned. If you would launch a vehicle with a second kOS unit, it would not have access to your program, as it would only be saved to the first unit. A way to avoid your program being lost upon \u003Cem\u003Erevert to launch\u003C/em\u003E would be to quicksave just before launch. If you reload your quicksave instead of reverting to launch, your program will be there as KSP reverted to your vehicle state just before launch and with the program in that kOS unit.\u003C/p\u003E\u003Cp\u003EIf you want to permanently save a program you have to copy it to archive. That means writing it and issuing the command \u003Cem\u003Ecopy programname to 0\u003C/em\u003E. The program will then be saved as a .txt to \u003Cem\u003E/Plugins/PluginData/Archive\u003C/em\u003E and can be accessed through the archive in any career or sandbox you may play. Any kOS unit within antenna range will be able to access that program. If you build a new vehicle and put it on the launchpad, your old program will still be accessible to it.\u003C/p\u003E\u003Cp\u003EI would advise to use the kOS IDE \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/47693-WIN-the-kOS-IDE-Current-version-0-33\u0022 rel=\u0022external nofollow\u0022\u003Efound here\u003C/a\u003E, as that makes editing a lot easier. It works through editing the .txt files in the archive, which you can then access in KSP. It also means that all work is saved to archive, permanently saving it.\u003C/p\u003E\u003Cp\u003EMore information can be found searching for the difference between \u003Cem\u003Esaving to archive\u003C/em\u003E and \u003Cem\u003Esaving locally\u003C/em\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-12-01T17:47:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI would advise to use the kOS IDE \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/47693-WIN-the-kOS-IDE-Current-version-0-33\u0022 rel=\u0022external nofollow\u0022\u003Efound here\u003C/a\u003E, as that makes editing a lot easier. It works through editing the .txt files in the archive, which you can then access in KSP. It also means that all work is saved to archive, permanently saving it..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI second the using kOS IDE idea. It\u0027s a great tool and allows things like copy and paste as well as colouring different bits of your script making it much more readable.\u003C/p\u003E\u003Cp\u003EI generally do all my programming in the archive in stead of the local volume using kOS IDE. As soon as you hit save in kOS IDE that modified script is available in game. So for example you change a parameter in kOS IDE and hit save. If you\u0027re already in the archive you simply type \u0022run \u0026lt;progname\u0026gt; and kOS will run the new code.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T17:56:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EI\u0027m trying to write a full PID just to learn them. However I am doing it one step at a time, so first a P, then adding in the I and finally the D. I\u0027m trying to get each stage to work properly before moving onto the next. That way I can make sure I fully understand what I\u0027m doing and then I\u0027ll be able to write them for whatever I wish (in theory).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that should be a good approach to fully understand what is going on and what you are doing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI\u0027ve wrote, what I think is the p section of the PID. I have an if statement for above my setpoint and an if statement for below. The algorithm only works when I set Ki to a negative number. It seems to be slightly tempermental though. I can run the program and it\u0027ll work in one way, then run the exact same program again and it\u0027ll work slightly differently. I\u0027ve made some little videos that I\u0027ve posted below to show exactly what I mean.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the movies, that makes things a lot clearer. Before I get into details: why do you have an I/integral gain (Ki) when you are trying to make only a P/proportional (Kp) controller?\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-12-01T18:26:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EI second the using kOS IDE idea. It\u0027s a great tool and allows things like copy and paste as well as colouring different bits of your script making it much more readable.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd I third using kOS IDE. Though, if there were syntax highlighting for KerboScript in Notepad\u002B\u002B I would use that instead.\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-12-01T18:56:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EBefore I get into details: why do you have an I/integral gain (Ki) when you are trying to make only a P/proportional (Kp) controller?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBecause I\u0027m a doughnut. I simply wrote the wrong letter in there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve changed the \u0022i\u0022 to a \u0022p as it should be, thanks.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T19:15:22Z\u0022 title=\u002212/01/2013 07:15  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Kass\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T19:44:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EEdit: I\u0027ve changed the \u0022i\u0022 to a \u0022p as it should be, thanks.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour post still says i \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Not that it should really matter for operation, as long as you do not have the terms confused in your script.\u003C/p\u003E\u003Cp\u003ECommenting on your previous post: I am quite sure you can write a PID controller without \u003Cem\u003Eif\u003C/em\u003E statements, as I made a full PID without one. That, however, does not mean that one with \u003Cem\u003Eif\u003C/em\u003E statements is wrong. It might work differently. Without looking at your code it is hard to say, but I can imagine that the different \u003Cem\u003Eif\u003C/em\u003E statements cause the script to have two (or more) states. That might explain behaviour that changes from time to time, as it changes behaviour when it switches between the states.\u003C/p\u003E\u003Cp\u003EAnother possibility is that your tuning is off. I have seen haviour like in the first movie clip in a PID-controller that was not tuned properly.\u003C/p\u003E\u003Cp\u003EAlso be aware that variables persist longer and in different situations than you might think, so variables might be \u0027left over\u0027 from last time you ran the script. To be sure, you can set the variables at the start of your script to a default or placeholder value, so no erroneous values are used for calculations.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EI am temporarily unable to watch Youtube clips in full resolution, so I am unable to comment on the values in your movie clips.\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T20:15:16Z\u0022 title=\u002212/01/2013 08:15  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-12-01T20:07:29Z","Content":"\n\u003Cp\u003EAhh, that explains why it only happens the very first time I run the script. Not sure how to correct that though.\u003C/p\u003E\u003Cp\u003EEdit: no they aren\u0027t confused in the script. I\u0027ve only written the P part so far.\u003C/p\u003E\u003Cp\u003EI only uploaded half res videos, just to show what was happening. The numbers I\u0027m generating are probably redundant to someone who knows what they are doing. Lots are just debugging points to indicate what part of the script is being used at any time.\u003C/p\u003E\u003Cp\u003EAm I right in thinking that a properly tuned P controller functions as in my second video? Probably presumptuous of me but I\u0027ll pm you my script unless it\u0027d be better to post it here?\u003C/p\u003E\u003Cp\u003EThanks for all your help so far Camacha\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T21:14:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EAhh, that explains why it only happens the very first time I run the script. Not sure how to correct that though.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUntil now I have worked with a \u003Cem\u003Edeliver and execute\u003C/em\u003E method: one script delivers the vehicle to the height necessary at zero speed, then the hover script takes over for hovering. That way the error is not huge right when the hoverscript gets started. One thing to remember about PID-controllers or variants is that they have no garantee for stability, so when you jolt the system too much, unrecoverable instability might arise. I have been looking into foregoing the delivering script and using strictly the hover script for the initial change in altitude, but I have not had the time to experiment with that enough. \u003C/p\u003E\u003Cp\u003EPossible solutions to your problem might be injecting the proper values yourself - so getting the internal variables when the script is doing what you want, and making sure that those variables are used the next time you start your script. Another solution might be to implement some kind of safe state, in which the script does not have control yet but has some time to find its bearings, before releasing control to the script.\u003C/p\u003E\u003Cp\u003EI must say I have not experimented enough with this yet to give conclusive answers.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAm I right in thinking that a properly tuned P controller functions as in my second video?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that looks good and is what a properly set up controller should do.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T21:37:53Z\u0022 title=\u002212/01/2013 09:37  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-12-01T23:51:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003EA simplistic way that works is:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESet PM to 5.2915793*(10^22). // Planet Mass (Stock Kerbin)\u003Cbr\u003ESet PR to 600000. // Planet Radius (Stock Kerbin)\u003Cbr\u003E\u003Cbr\u003Eset e to 2.71828. // constant \u0027e\u0027\u003Cbr\u003Eset G to 6.67384*(10^-11). // Gravitational Constant\u003Cbr\u003E\u003Cbr\u003Euntil altitude \u0026gt; 35000 {\u003Cbr\u003E\tSet m to mass.\u003Cbr\u003E\tSet r to PR \u002B altitude.\u003Cbr\u003E\tset FG to m*G*PM*(r^-2). // Gravity Force\u003Cbr\u003E\u003Cbr\u003E\tset p to (e^((0-altitude)/5000)).\u003Cbr\u003E\tset rho to 1.2230948554874*p.\u003Cbr\u003E\tset v to velocity:surface:mag.\u003Cbr\u003E\tset FD to rho*v*v*0.0008*m. //Drag Force (without FAR!!)\u003Cbr\u003E\u003Cbr\u003E\tif FD \u0026gt; FG and t\u0026gt;0 {set t to t-0.05.}.\u003Cbr\u003E\tif FD \u0026lt; FG and t\u0026lt;1 {set t to t\u002B0.05.}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you very much!\u003C/p\u003E\u003Cp\u003EIs there a way to know the prograde/retrograde vector(relative to the surface) of the ship?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-01T23:58:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022goldenpeach\u0022 data-cite=\u0022goldenpeach\u0022\u003E\u003Cdiv\u003EIs there a way to know the prograde/retrograde vector(relative to the surface) of the ship?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can actually use prograde.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to prograde.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf you need the relative position to the surface you will need to apply some math using \u003Cem\u003Eprograde\u003C/em\u003E and \u003Cem\u003Eup\u003C/em\u003E.\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-12-02T02:49:27Z","Content":"\n\u003Cp\u003EIs there a way to fire specific RCS thruster?\u003C/p\u003E\u003Cp\u003EI need that to let my \u0022grasshopper\u0022 like craft(it just go up for a while, hover and land). Currently, my code doesn\u0027t allow my craft to travel sideway while hovering(how can I land without that? simple: I just don\u0027t hover long enough to get out of the launchpad).\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-02T03:29:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022goldenpeach\u0022 data-cite=\u0022goldenpeach\u0022\u003E\u003Cdiv\u003EIs there a way to fire specific RCS thruster?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately, not yet.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-02T03:41:06Z\u0022 title=\u002212/02/2013 03:41  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 2, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ouch","CreatedById":76361,"CreatedDateTime":"2013-12-02T03:58:31Z","Content":"\n\u003Cp\u003EI know it\u0027s impolite to repost by my post was burried by 3 pages of a fast paced discussion about variable conversion...\u003C/p\u003E\u003Cp\u003EWhich by the way I have not seen anyone pointing out that setting things to a variable seems to be what does the number conversion so:\u003C/p\u003E\u003Cp\u003Elock td to target:distance.\u003C/p\u003E\u003Cp\u003Ewait until td \u0026lt; 150.\u003C/p\u003E\u003Cp\u003EWorks but:\u003C/p\u003E\u003Cp\u003Ewait until target:distance \u0026lt; 150.\u003C/p\u003E\u003Cp\u003EGives the notorious \u0022can\u0027t compare number to number\u0022 error.\u003C/p\u003E\u003Cp\u003EAlso note that you must use lock instead of set in a wait until loop as set will only get the value once.\u003C/p\u003E\u003Cp\u003EAnyway here is my old post, if someone could help or at least confirm this behavior that would be great:\u003C/p\u003E\u003Cp\u003ESo I have a rover that follows another one, but whenever the rovers are not on flat land they veer wildly off course... (seems the angle of the rover running the script is the determining factor)\u003C/p\u003E\u003Cp\u003EMy steering code looks like this:\u003C/p\u003E\u003Cp\u003Elock ts to vessel(\u0022battery\u0022).\u003C/p\u003E\u003Cp\u003Elock wheelsteering to ts.\u003C/p\u003E\u003Cp\u003EBattery is the name of the rover I\u0027m following. (ultimately I would to get them to dock at some point but I can\u0027t even try if they go in random directions when on a hill because wheelsteering told them too...)\u003C/p\u003E\u003Cp\u003EAlso how do you get the position of an object? I was going to try to specify the of the location of the other rover directly and hope that fixes it.\u003C/p\u003E\n"}]}