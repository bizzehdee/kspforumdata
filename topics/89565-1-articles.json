{"TopicId":89565,"ForumId":69,"TopicTitle":"Ksp x64 using dx9 *confused*","CreatedByName":"Craeshen","CreatedById":128395,"CreatedDateTime":"2014-11-06T10:59:40Z","PageNum":1,"Articles":[{"CreatedByName":"Craeshen","CreatedById":128395,"CreatedDateTime":"2014-11-06T10:59:40Z","Content":"\n\u003Cp\u003EAfter my latest ksp x64 crash I was poking around in the log files created and I noticed ksp was using the dx 9 api in x64 mode, now correct me if I am wrong but isn\u0027t dx 9 a bit unstable when running in 64 bit mode due to it being compiled for 32 bit x86.\u003C/p\u003E\u003Cp\u003Eso I did some hunting on line and found the command line switch to force dx11 rendering and even though the gui looks bad it seemed to resolve the crashes and slashed the game\u0027s memory usage from almost 4gb too 1.9 ( have a few large parts packs installed).\u003C/p\u003E\u003Cp\u003EFor those of you wondering and to save you some time the switch is: -\u003Cem\u003Eforce\u003C/em\u003E-d3d11 \u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003Euse @ your own \u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E risk!!\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-11-06T11:41:46Z","Content":"\n\u003Cp\u003EThat\u0027s interesting... where did you find the info on D3D9 being unstable on x64? I can\u0027t say I\u0027ve seen that anywhere before.\u003C/p\u003E\u003Cp\u003EDefinitely worth looking into further... I\u0027ve moved this so the Support section, as it has to do with the general stability (or instability, as it were) of the game.\u003C/p\u003E\n"},{"CreatedByName":"Senshi","CreatedById":57692,"CreatedDateTime":"2014-11-06T11:59:03Z","Content":"\n\u003Cp\u003EIf your memory usage reduced from 4 to 1.9gb, then that is the probable explanation why no more crashes occur. The current theory on random Win64 crashes are 32bit pointers still being in use somewhere in Unity/KSP, meaning that Win64 will run fairly smooth while you are below the 32bit memory treshold (3,x-4GB). This is the same reason why many people report less crashes with OpenGL (\u003Cem\u003E-force-opengl\u003C/em\u003E), which has the smallest memory footprint of the three renderers.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-11-06T12:02:56Z","Content":"\n\u003Cp\u003EI haven\u0027t ever seen specific mention of dx9 being unstable on x64 either.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Craeshen\u0022 data-cite=\u0022Craeshen\u0022\u003E\u003Cdiv\u003E...and slashed the game\u0027s memory usage from almost 4gb too 1.9 ( have a few large parts packs installed).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is the reason why the dx11 switch usually improves x64 stability. KSP x64 on windows is unstable in general but it is far worse when exceeding 4gb of memory usage and the dx11 switch (like the opengl switch) makes it use considerably less memory...\u003C/p\u003E\u003Cp\u003EEdit: ninja\u0027d\u003C/p\u003E\n"},{"CreatedByName":"Craeshen","CreatedById":128395,"CreatedDateTime":"2014-11-06T12:04:25Z","Content":"\n\u003Cp\u003EThe dx 9 being unstable is a guess but every game that has both seems to be less stable when running x64 and dx 9 so it might be something buried deep in the dx 9 api code.\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-11-06T14:42:47Z","Content":"\n\u003Cp\u003EMight be, but if it were, I think we\u0027d have heard about it a long time ago -- DX9 has been around for quite a while, and so have x64 systems. It\u0027s possible, but highly unlikely, for someone to not have noticed it yet.\u003C/p\u003E\u003Cp\u003EAs far as we know, the x64 instability is something to do with either Unity, or how KSP implements certain parts of Unity\u0027s code; it works fine in 32-bit, but for whatever reason, compiling it into x64 causes some really odd instabilities.\u003C/p\u003E\u003Cp\u003EStill, the fact that it reduces the instance of crashes (even if only by cutting memory usage) is definitely noteworthy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}