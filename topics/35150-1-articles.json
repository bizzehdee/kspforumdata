{"TopicId":35150,"ForumId":18,"TopicTitle":"Just got a 4-core computer, does KSP do anything cooler with that?","CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2013-06-28T15:23:36Z","PageNum":1,"Articles":[{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2013-06-28T15:23:36Z","Content":"\n\u003Cp\u003EDoes KSP run faster with multiple cores? I\u0027ve heard it mentioned, but I\u0027m not sdure if it was planned or added in 0.18.4 with the switchover to Unity 4\u003C/p\u003E\n"},{"CreatedByName":"cesarcurado","CreatedById":60073,"CreatedDateTime":"2013-06-28T15:25:57Z","Content":"\n\u003Cp\u003EPeople say multiple cores can\u0027t be used in KSP, I don\u0027t trust it though.\u003C/p\u003E\n"},{"CreatedByName":"inigma","CreatedById":69310,"CreatedDateTime":"2013-06-28T15:41:09Z","Content":"\n\u003Cp\u003EI run a quad core i72700K 16GB RAM and SSD drive. I also have a 3GB 5700 NVIDIA card.\u003C/p\u003E\u003Cp\u003E...and I still get lag when approaching 969 parts (mulbin\u0027s munbug 8). But its not terrible...about 8 frames a sec on launch.\u003C/p\u003E\n"},{"CreatedByName":"DChurchill","CreatedById":60282,"CreatedDateTime":"2013-06-28T15:41:12Z","Content":"\n\u003Cp\u003EIt doesn\u0027t use multiple cores.\u003C/p\u003E\n"},{"CreatedByName":"FITorion","CreatedById":7606,"CreatedDateTime":"2013-06-28T15:52:58Z","Content":"\n\u003Cp\u003ENo. KSP can still only use one core and only 4 GB of Ram.\u003C/p\u003E\u003Cp\u003EMost of us have way more computing power in our computers than KSP can access. \u003C/p\u003E\u003Cp\u003EI should think that they would like to make KSP have access to it all... but I believe even Unity 4 doesn\u0027t yet allow for it and they are stuck until it does.\u003C/p\u003E\n"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2013-06-28T15:55:49Z","Content":"\n\u003Cp\u003E8 FPS is not lag, especially on a 900 part ship. I get 3 FPS on a 300 part ship so your computer is NEIN times better than mine! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"inigma","CreatedById":69310,"CreatedDateTime":"2013-06-28T16:00:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zekes\u0022 data-cite=\u0022zekes\u0022\u003E\u003Cdiv\u003E8 FPS is not lag, especially on a 900 part ship. I get 3 FPS on a 300 part ship so your computer is NEIN times better than mine! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eas I said, it\u0027s not terrible. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Brofessional","CreatedById":2080,"CreatedDateTime":"2013-06-28T16:31:48Z","Content":"\n\u003Cp\u003EIIRC Unity has multi-threaded rendering since 3.5. So it does help to have a multi-core CPU, but not that much since KSP\u0027s bottleneck is physics, not rendering.\u003C/p\u003E\n"},{"CreatedByName":"Tw1","CreatedById":59717,"CreatedDateTime":"2013-06-28T16:37:43Z","Content":"\n\u003Cp\u003EI hope they improve it soon. I\u0027m upgrading my laptop soon, so...\u003C/p\u003E\u003Cp\u003E*hopes*\u003C/p\u003E\n"},{"CreatedByName":"lazarus1024","CreatedById":65276,"CreatedDateTime":"2013-06-28T18:55:32Z","Content":"\n\u003Cp\u003ENo, only a single core. That being said, if you have ANYTHING running in the background, extra cores means that the work load for those other threads and OS processes can be offloaded to those cores, freeing up one of the cores to run KSP full blast.\u003C/p\u003E\u003Cp\u003EIn addition the quad core machines typically have higher single and dual thread turbo speeds.\u003C/p\u003E\u003Cp\u003EHowever, ignoring GPU ability here, my 1.7Ghz laptop (2.6/2.4Ghz turbo speeds) runs KSP at roughly half the ability of my desktop, which is a quad core 3.5Ghz machine (4.2Ghz turbo speeds).\u003C/p\u003E\u003Cp\u003EThe laptop undoubtly is running closer to 1.7Ghz most of the time between GPU and CPU getting hammered hard with KSP and my desktop is running around 4.2Ghz most of the time with only a single core running. I can play around with ships fairly easily that top 400 parts on my desktop (I haven\u0027t built bigger ones), but on my laptop that would bring it to its knees.\u003C/p\u003E\u003Cp\u003EFigure 30\u002B FPS most of the time with 400 parts on my desktop (i5-3570 quad core clocked up to the max at 4/4.2Ghz) and my laptop might run the same ship at around 10fps (1.7/2.6Ghz).\u003C/p\u003E\u003Cp\u003EOf course since I am limited to the HD4000 GPU in my laptop and I have a 5670 in my desktop I can also crank the graphics settings a bit more on the desktop (768p, medium settings, no AA and full textures on the laptop and generally playable up through around 250 part ships most of the time and the desktop runs at 900p, medium settings, 2x AA and full textures at around 30-40FPS for the same 250 part ship. I really need a new GPU...sigh)\u003C/p\u003E\n"},{"CreatedByName":"lazarus1024","CreatedById":65276,"CreatedDateTime":"2013-06-28T18:57:38Z","Content":"\n\u003Cp\u003ETo add, at least in my personal opinion, it would be nice if KSP either could use multiple cores for physics or the handling of physics, et all was easier on setups. Not really for higher end machines, because, well, okay a few people want to be able to run 500\u002B part ships at 30\u002B FPS, but most people would be happy enough with 200-300 part ships hitting 30\u002B FPS. A lot of people don\u0027t run on fairly high spec dual/quad core Intel machines though.\u003C/p\u003E\u003Cp\u003EFor example, my laptop could stand to bat at least 25-40% better processing or have the processing demands be 25-40% lower, ignoring graphical ability.\u003C/p\u003E\n"},{"CreatedByName":"RocketPilot573","CreatedById":62803,"CreatedDateTime":"2013-06-28T19:08:07Z","Content":"\n\u003Cp\u003EHmm, if KSP only uses one core then why does task manager show a LOT of usage on all four???\u003C/p\u003E\n"},{"CreatedByName":"Sirrobert","CreatedById":70591,"CreatedDateTime":"2013-06-28T19:16:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022inigma\u0022 data-cite=\u0022inigma\u0022\u003E\u003Cdiv\u003EI run a quad core i72700K 16GB RAM and SSD drive. I also have a 3GB 5700 NVIDIA card.\u003Cp\u003E...and I still get lag when approaching 969 parts (mulbin\u0027s munbug 8). But its not terrible...about 8 frames a sec on launch.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s not lag. I play FPSes on 8FPS with my crappy laptop\u003C/p\u003E\u003Cp\u003E900 parts would be a slow slideshow for me\u003C/p\u003E\u003Cp\u003EI\u0027d imagine we\u0027ll get all the optimazations later, when the game is nearing completion. Doubt it\u0027s a priority right now\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-28T19:19:33Z\u0022 title=\u002206/28/2013 07:19  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 28, 2013\u003C/time\u003E by Sirrobert\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sick","CreatedById":69881,"CreatedDateTime":"2013-06-28T20:17:22Z","Content":"\n\u003Cp\u003ELittle test I\u0027ve done out of curiosity.\u003C/p\u003E\u003Cp\u003Eall tested @ 1680x1050\u003C/p\u003E\u003Cp\u003E1 Core Enabled MAX_PHYSICS_DT_PER_FRAME = 0.09997216\u003C/p\u003E\u003Cp\u003E 1st core = 100% utilization\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS below 6 (max settings)\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS below 10 (min settings)\u003C/p\u003E\u003Cp\u003E2 Cores Enabled MAX_PHYSICS_DT_PER_FRAME = 0.09997216\u003C/p\u003E\u003Cp\u003E 1st core = 25% utilization\u003C/p\u003E\u003Cp\u003E 2nd core = 100% utilization\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS below 10 (max settings)\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS ~ 20 (min settings)\u003C/p\u003E\u003Cp\u003E3 Cores Enabled MAX_PHYSICS_DT_PER_FRAME = 0.09997216\u003C/p\u003E\u003Cp\u003E 1st core = 15% utilization\u003C/p\u003E\u003Cp\u003E 2nd core = 20% utilization\u003C/p\u003E\u003Cp\u003E 3rd core = 80% utilization\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 30% -\u0026gt; FPS below 10 (max settings)\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS ~ 20 (min settings)\u003C/p\u003E\u003Cp\u003E4 Cores Enabled MAX_PHYSICS_DT_PER_FRAME = 0.09997216\u003C/p\u003E\u003Cp\u003E 1st core = 15% utilization\u003C/p\u003E\u003Cp\u003E 2nd core = 15% utilization\u003C/p\u003E\u003Cp\u003E 3rd core = 40% utilization\u003C/p\u003E\u003Cp\u003E 4th core = 70% utilization\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 30% -\u0026gt; FPS below 10 (max settings)\u003C/p\u003E\u003Cp\u003E -\u0026gt; GPU usage below 20% -\u0026gt; FPS ~ 20 (min settings)\u003C/p\u003E\u003Cp\u003EI would say that KSP doesn\u0027t use 4 cores by itself, more like OS is splitting workload by default scheduler.\u003C/p\u003E\u003Cp\u003EAll performance problems are caused by physics calculations.\u003C/p\u003E\n"},{"CreatedByName":"-RanZ-","CreatedById":51892,"CreatedDateTime":"2013-06-28T20:50:37Z","Content":"\n\u003Cp\u003EKSP uses 1 core... educate yourself on 32bit applications and how multi-threading works and you will understand \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThey need to make a 64bit multi-threaded version of the game, that would be sweet\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-28T20:54:56Z\u0022 title=\u002206/28/2013 08:54  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 28, 2013\u003C/time\u003E by -RanZ-\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sick","CreatedById":69881,"CreatedDateTime":"2013-06-28T21:57:51Z","Content":"\n\u003Cp\u003EIf it is using only 1 core then why my CPU utilization reach over 45% for KSP.exe with 4 cores enabled ?\u003C/p\u003E\u003Cp\u003EIf it is using only 1 core then why my FPS doubles when enabling 2 cores with GPU utilization not changing a bit ?\u003C/p\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2013-06-28T22:32:50Z","Content":"\n\u003Cp\u003E@-RanZ-\u003C/p\u003E\u003Cp\u003ECheck your computer language if you want to spout off. 32 bit applications can be multi-threaded. KSP doesn\u0027t use one core. It uses one thread. Threads can be migrated between CPU cores at the OS\u0027s discretion for reasons of temperature or existing load on that CPU thread. One thing does get done at a time as far as KSP is concerned, but that doesn\u0027t mean that an extra thread or two for disk access can be spawned and KSP gets put on hold until a reply comes back.\u003C/p\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2013-06-28T22:35:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sick\u0022 data-cite=\u0022Sick\u0022\u003E\u003Cdiv\u003EIf it is using only 1 core then why my CPU utilization reach over 45% for KSP.exe with 4 cores enabled ?\u003Cp\u003EIf it is using only 1 core then why my FPS doubles when enabling 2 cores with GPU utilization not changing a bit ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMine does pretty much the same, except I get around 20% total CPU with four virtual cores the same as yours and the other four parked (Four core CPU with HT). I also get resource monitor reporting 35-38 threads for KSP.exe. I\u0027m wondering if disabling core parking will have any effect, but not enough to get rid of the energy saving features.\u003C/p\u003E\n"},{"CreatedByName":"leax256","CreatedById":57364,"CreatedDateTime":"2013-06-29T01:52:45Z","Content":"\n\u003Cp\u003Eyes ksp could benifit from quad core if coming from a dual core where the fact that other stuff running would take some of the cores\u0027 processing power.\u003C/p\u003E\n"},{"CreatedByName":"AmpsterMan","CreatedById":32671,"CreatedDateTime":"2013-06-29T02:21:53Z","Content":"\n\u003Cp\u003EI have four cores as well and get about 3 SPF. XD\u003C/p\u003E\n"},{"CreatedByName":"entaran","CreatedById":67823,"CreatedDateTime":"2013-06-29T02:50:23Z","Content":"\n\u003Cp\u003EI\u0027d love to know where you guys are pulling your exact fps values from\u003C/p\u003E\n"},{"CreatedByName":"AmpsterMan","CreatedById":32671,"CreatedDateTime":"2013-06-29T03:12:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022entaran\u0022 data-cite=\u0022entaran\u0022\u003E\u003Cdiv\u003EI\u0027d love to know where you guys are pulling your exact fps values from\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell when my next frame starts, I count \u00221 mississippi, 2 mississippi, 3 mississippi\u0022 that\u0027s when my frame changes.\u003C/p\u003E\u003Cp\u003EI don\u0027t know about the rest of you though :/\u003C/p\u003E\n"},{"CreatedByName":"TooManyErrors","CreatedById":57113,"CreatedDateTime":"2013-06-29T04:53:35Z","Content":"\n\u003Cp\u003EIIRC, KSP uses multiple threads. The real problem is that the physics are only one thread.\u003C/p\u003E\n"},{"CreatedByName":"N_Molson","CreatedById":63688,"CreatedDateTime":"2013-06-29T12:49:32Z","Content":"\n\u003Cp\u003EYou can also accept that the number of parts is one of KSP limitations.\u003C/p\u003E\u003Cp\u003EWhich brings up to another subject : some parts could probably be \u0022grouped\u0022 (like a \u0022all-in-one\u0022 board with the 4 science instruments), multi-chamber engines (like 2x or 4x LTV-45, etc...), or bigger structural parts (4x4 or 8x8 plates). Would be a way to reduce by a lot the part count, which is the problem, because the physic engine has to compute the relations between the parts. IMHO, it is a more elegant solution that recoding everything in 64 bits to allow using raw CPU strength.\u003C/p\u003E\n"},{"CreatedByName":"boxman","CreatedById":61559,"CreatedDateTime":"2013-06-29T13:02:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FITorion\u0022 data-cite=\u0022FITorion\u0022\u003E\u003Cdiv\u003ENo. KSP can still only use one core and only 4 GB of Ram.\u003Cp\u003EMost of us have way more computing power in our computers than KSP can access. \u003C/p\u003E\u003Cp\u003EI should think that they would like to make KSP have access to it all... but I believe even Unity 4 doesn\u0027t yet allow for it and they are stuck until it does.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt still does make a difference though, so it certainly has to do something good even if it dosent do full multi core.\u003C/p\u003E\u003Cp\u003EIf I set KSP to only use one core then there is a noticeable drop in performance/framerate on my system.\u003C/p\u003E\n"}]}