{"TopicId":24926,"ForumId":36,"TopicTitle":"How does ModuleEngines\u0026#039; List\u0026lt;Propellants\u0026gt; work in the editor?","CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-01T04:57:49Z","PageNum":1,"Articles":[{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-01T04:57:49Z","Content":"\n\u003Cp\u003ESomehow, ModuleEngines manages to create a List\u0026lt;Propellants\u0026gt; that gets loaded from the part.cfg file, and this List\u0026lt;Propellants\u0026gt; is successfully copied from the part in VAB\u0027s PartLoader.LoadedPartsList into the part that gets created to stick on your ship in the editor.\u003C/p\u003E\u003Cp\u003EI cannot replicate this behavior in my own modules. I\u0027ve done everything Mu presented in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/10296-0-15-code-update-PartModule-KSPField-KSPEvent-ConfigNode-and-PartResource\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E, but when I click on my part and add it to the ship, my List\u0026lt;FuelTanks\u0026gt; is empty. I have confirmed that my List\u0026lt;FuelTanks\u0026gt; in PartLoader.LoadedPartsList has multiple entries, but none of them get copied to the new part. I have also confirmed that ModuleEngines\u0027 List\u0026lt;Propellants\u0026gt; DOES get copied correctly in the editor, so clearly what I want to do is possible.\u003C/p\u003E\u003Cp\u003EHelp?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-03T12:52:58Z","Content":"\n\u003Cp\u003EI\u0027ve just had a thought, we may be able to stop the list being destroyed by using \u003Ca href=\u0022http://docs.unity3d.com/Documentation/ScriptReference/Object.DontDestroyOnLoad.html\u0022 rel=\u0022external nofollow\u0022\u003EDontDestroyOnLoad\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-03T23:13:59Z","Content":"\n\u003Cp\u003ETried it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E referencing the part and partmodule\u0027s GameObject doesn\u0027t work, because the editor-part isn\u0027t at all the same part as the launchpad-part.\u003C/p\u003E\u003Cp\u003EThe ship gets rebuilt from a temporary save file on the launchpad, so all you\u0027d succeed in doing with DontDestroyOnLoad is having parts floating somewhere that never get cleaned up, leading to a memory leak.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-05-04T06:42:24Z","Content":"\n\u003Cp\u003EI meant use it on the List object rather than the entire part.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2013-05-05T00:25:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EI meant use it on the List object rather than the entire part.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame problem - you now have a list that isn\u0027t attached to anything.\u003C/p\u003E\n"}]}