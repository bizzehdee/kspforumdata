{"TopicId":96811,"ForumId":29,"TopicTitle":"Editor Scene: What Part is user Mousing Over in Bin?","CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2015-01-16T01:26:39Z","PageNum":1,"Articles":[{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2015-01-16T01:26:39Z","Content":"\n\u003Cp\u003EHey all,\u003C/p\u003E\u003Cp\u003EIs there a way I can in the Editor scene, tell what part the user has their mouse over, not in the 3D view, but in the parts bin on the left? Or if that can\u0027t be done, maybe a way to tell what part it is if they right click it?\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2015-01-16T04:13:39Z","Content":"\n\u003Cp\u003EI\u0027m trying something along the lines of this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E                VABCamera cam = Camera.main.GetComponent\u0026lt;VABCamera\u0026gt;();\u003Cbr\u003E                GUILayer editorLayer = cam.GetComponent\u0026lt;GUILayer\u0026gt;();\u003Cbr\u003E                if (editorLayer.HitTest(Input.mousePosition) != null)\u003Cbr\u003E                    Debug.Log(editorLayer.HitTest(Input.mousePosition).name);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut the hit test always comes back null, so either I have the wrong camera, the wrong GUILayer, or something. Not sure.\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-01-16T06:29:53Z","Content":"\n\u003Cp\u003EYou could repurpose \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92716-KSP4X-looking-for-undocumented-event?p=1391380\u0026amp;viewfull=1#post1391380\u0022 rel=\u0022external nofollow\u0022\u003Ethis snippet\u003C/a\u003E:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPAddon(KSPAddon.Startup.EditorAny, false)]\u003Cbr\u003Eclass EditPartListPrefab : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    class ClickListener : MonoBehaviour\u003Cbr\u003E    {\u003Cbr\u003E        AvailablePart myPart;\u003Cbr\u003E        EditorPartIcon icon;\u003Cbr\u003E        bool mouseFlag = false;\u003Cbr\u003E\u003Cbr\u003E        void Start()\u003Cbr\u003E        {\u003Cbr\u003E            GetComponent\u0026lt;UIButton\u0026gt;().AddValueChangedDelegate(OnClick);\u003Cbr\u003E            GetComponent\u0026lt;UIButton\u0026gt;().AddInputDelegate(OnInput);\u003Cbr\u003E            myPart = GetComponent\u0026lt;EditorPartIcon\u0026gt;().partInfo;\u003Cbr\u003E            icon = GetComponent\u0026lt;EditorPartIcon\u0026gt;();\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        void OnClick(IUIObject obj)\u003Cbr\u003E        {\u003Cbr\u003E            print(\u0022User clicked \u0022 \u002B myPart.partPrefab.name);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        void OnInput(ref POINTER_INFO ptr)\u003Cbr\u003E        {\u003Cbr\u003E            switch (ptr.evt)\u003Cbr\u003E            {\u003Cbr\u003E                case POINTER_INFO.INPUT_EVENT.MOVE:\u003Cbr\u003E                    if (!mouseFlag)\u003Cbr\u003E                    {\u003Cbr\u003E                        mouseFlag = true;\u003Cbr\u003E                        print(\u0022User moused over \u0022 \u002B myPart.partPrefab.name);\u003Cbr\u003E                    }\u003Cbr\u003E                    break;\u003Cbr\u003E                case POINTER_INFO.INPUT_EVENT.MOVE_OFF:\u003Cbr\u003E                    mouseFlag = false;\u003Cbr\u003E                    break;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    void Start()\u003Cbr\u003E    {\u003Cbr\u003E        EditorPartList.Instance.iconPrefab.gameObject.AddComponent\u0026lt;ClickListener\u0026gt;();\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe PartIcons are EzGUI buttons, not Unity GUI, so if you really want to manually cast a ray instead you\u0027ll want to do it on the EzGUI_UI layer using one of the EzGUI UI cameras\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2015-01-16T16:24:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThe PartIcons are EzGUI buttons, not Unity GUI, so if you really want to manually cast a ray instead you\u0027ll want to do it on the EzGUI_UI layer using one of the EzGUI UI cameras\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that would explain it! Thank you so much!\u003C/p\u003E\n"}]}