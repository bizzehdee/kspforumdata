{"TopicId":138085,"ForumId":32,"TopicTitle":"Fuel cells using fuel during warp","CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2016-04-25T14:44:17Z","PageNum":1,"Articles":[{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2016-04-25T14:44:17Z","Content":"\n\u003Cp\u003E\nSay you have an ion-powered craft and the charge for the engines is generated with fuel cells. If you have nothing at all drawing power during high warp to, say, your departure window\u00A0then the fuel cells seem to run and the fuel gets used up. So, when you are ready to start your burn, there is no fuel left for the fuel cells.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is to not do with a small power drain either. The couple of craft I have had the problem with both have\u00A0PB-NUKs onboard to provide power for reaction wheels and such - not that they are being used during high warp anyway.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can work around it by making sure you turn off the fuel cells before warping but it really shouldn\u0027t be doing this at all. If a little charge is required then it should be drawn from the batteries or the PB-NUKs first.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI seem to remember having this problem once before, maybe pre-1.0. Anyone else remember this and whether a fix was done that might have got lost with 1.1?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-25T14:45:38Z\u0022 title=\u002204/25/2016 02:45  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 25, 2016\u003C/time\u003E by Foxster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nich","CreatedById":145678,"CreatedDateTime":"2016-04-25T14:56:30Z","Content":"\n\u003Cp\u003E\nWhat is the fuel cell % set to charge? \u00A0Does reducing it to 5% help? \u00A0I just experimented and fuel cells were not drained until the 7th arrow. \u00A0I wonder if PB nukes produce constant e and probe cores suck charge at warp rate? \u00A0Or if time step is large enough the probe core takes 10% battery, fuel cell restores 5% and PB nuke restores the other 5% in one time step. \u00A0I did find it interesting you can no longer set when\u00A0fuel cell turns on :/\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-25T15:22:35Z\u0022 title=\u002204/25/2016 03:22  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 25, 2016\u003C/time\u003E by Nich\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Brotoro","CreatedById":57674,"CreatedDateTime":"2016-04-25T19:44:56Z","Content":"\n\u003Cp\u003E\nI think the fuel cells are working as designed. You just need to remember to turn them off when not in use. If you leave your diesel-powered home generator running all week, it will eventually run out of fuel even if you have no appliances turned on in your house.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNow...if you are asking for your ship to have a \u0022smart power management system\u0022, then that\u0027s a feature request that I think Squad should consider... especially if your ship has a guidance computer on it. But I don\u0027t know how hard it would be for them to implement.\n\u003C/p\u003E\n"},{"CreatedByName":"Skystorm","CreatedById":149464,"CreatedDateTime":"2016-04-25T19:48:06Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/145678-nich/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022145678\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/145678-nich/\u0022 rel=\u0022\u0022\u003E@Nich\u003C/a\u003E\u00A0What do you mean when you say that you cannot set when the fuel cell turns on? \u00A0I haven\u0027t noticed that this is broken. \u00A0You should be able to alter the FillAmount on the ModuleResourceConverter module to change the threshold.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing I have noticed in the past though is that FillAmount seems to only work relative to the \u003Cstrong\u003Efuel cell\u0027s\u003C/strong\u003E charge percentage and not the vessel\u0027s overall charge. \u00A0The default value for FillAmount is 0.95 which means\u00A095%.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is an example module manager file to update FillAmount for the regular fuel cell:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[FuelCell]\n{\n  @MODULE[ModuleResourceConverter]:HAS[#ConverterName[Fuel?Cell]]\n  {\n    @FillAmount = 0.25\n  }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI personally change FillAmount to 0.25 (25%) so that my satellites will use their battery first instead of draining fuel every time they go around\u00A0the dark side of the planet\u00A0they are orbiting. \u00A0I only want the fuel cells to kick in if the stored charge drops too far.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this what you are looking for?\n\u003C/p\u003E\n"},{"CreatedByName":"Werwolf","CreatedById":38001,"CreatedDateTime":"2016-04-26T02:26:46Z","Content":"\n\u003Cp\u003E\nAs a total aside to the original post...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nfuel cell powered ion drive probes.......!!!! I think my imagination just exploded. I had never thought of that. Perfect for Eeloo shenanigans. Thanks Foxster!\n\u003C/p\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2016-04-26T02:35:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222538676\u0022 data-ipsquote-contentid=\u0022138085\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461595457\u0022 data-ipsquote-userid=\u0022113764\u0022 data-ipsquote-username=\u0022Foxster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Foxster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is to not do with a small power drain either. The couple of craft I have had the problem with both have\u00A0PB-NUKs onboard to provide power for reaction wheels and such - not that they are being used during high warp anyway.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, probe cores always drain power.\u00A0 The problem might be one of those order of operations things - say the probe core drains first, and the fuel cell is then next to be processed, so it fills, and then the pb-nuks or solar panels go or such (and that would likely depend on craft design etc).\u00A0 At high warp, the core would drain enormous blocks (ex at 10k warp it would be ~300e/real world second), which might end up drawing from/triggering the fuel cell consumption before the pb-nuks/etc have a chance to work.\n\u003C/p\u003E\n\u003Cp\u003E\nAre there probe cores? (ISRU, lab activities and transmissions tend to draw power as well but those would be more obvious, and ISRU and transmissions would eventually end)\n\u003C/p\u003E\n\u003Cp\u003E\n(My own, much older game uses a priority system for power sources and sinks and this wouldn\u0027t be an issue with RTGs onboard)\n\u003C/p\u003E\n"}]}