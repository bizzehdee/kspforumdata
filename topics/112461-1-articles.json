{"TopicId":112461,"ForumId":16,"TopicTitle":"Internal fixed frame rate (25fps)","CreatedByName":"WolfS","CreatedById":145035,"CreatedDateTime":"2015-06-09T14:08:34Z","PageNum":1,"Articles":[{"CreatedByName":"WolfS","CreatedById":145035,"CreatedDateTime":"2015-06-09T14:08:34Z","Content":"\n\u003Cp\u003EHey community!\u003C/p\u003E\u003Cp\u003EI have still a lot of problems with KSP, beside it makes a lot of fun.\u003C/p\u003E\u003Cp\u003EHere is the actual problem:\u003C/p\u003E\u003Cp\u003EAfter building some smaller rockets I tried to do something bigger \u003Cstrong\u003E(300\u002B parts).\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThe building was not the problem, the \u003Cstrong\u003Eproblem started at the launch pad\u003C/strong\u003E. The rocked exploded because of the gravity impact and the game was not play able. So I opened with \u003Cstrong\u003E\u0022alt \u002B F12\u0022\u003C/strong\u003E the performance tool. And I had \u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u0022fix\u0022 25 fps. \u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EWhat to I mean with \u0022fix\u0022 25 fps? Well, if you do a normal performance check you will have some up- and down spikes. But this line was laser-light-beam-straight. No \u0022ups\u0022 nor \u0022downs\u0022.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://fs2.directupload.net/images/150609/pq8dd7jr.jpg\u0022 alt=\u0022pq8dd7jr.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe first step:\u003C/strong\u003E Blame the others! Due to the fact that I was using some part mods I thought that maybe one mod was destroying my gaming performance like China was destroying all hope for Tibet. So I decided to open a big ship with just stock parts. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/114779-Need-a-hammer-A-STARHAMMER\u0022 rel=\u0022external nofollow\u0022\u003EThe mighty \u0022Starhammer\u0022 from ShadoZone\u003C/a\u003E (557 parts).\u003C/p\u003E\u003Cp\u003E No changes at the launch pad. I still had fixed 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESecond step:\u003C/strong\u003E Just...just blame still the others\u0022. Because I was also using some graphic mods I decided to installed a clean KSP v1.0.2 with no mods. That version was that fresh like the with snow in the never-ending wildness of Siberia during a long and cold winter.\u003C/p\u003E\u003Cp\u003E No changes at the launch pad. I still had fixed 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThird step: \u003C/strong\u003EIncrease the power...huahuahua! So I downloaded \u0022Nvidia Inspector\u0022 (for sure the actual version 1.9.7.3) to optimize my settings. I played around with the Nvidia-settings like an 14 year old boy do it with boobs during his first .... time. \u003C/p\u003E\u003Cp\u003E No changes at the launch pad. I still had fixed 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EForth step:\u003C/strong\u003E I got \u0022a little angry\u0022...not so angry like the people during the French Revolution but sill a bit. And so I decided to clean install Windows 8.1...why not. We do all for the game, right? ^^\u003C/p\u003E\u003Cp\u003E No changes at the launch pad. I still had fixed 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFifth step: \u003C/strong\u003EThe duel - part 1: Maybe the reason was the version of KSP. So installed a also very clean version of KSP v0.9 and loaded the \u0022Starhammer\u0022. \u003C/p\u003E\u003Cp\u003E No changes at the launch pad. I still had fixed 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESixed step: \u003C/strong\u003EThe duel - part 2: I used the maximal graphic settings in KSP v1.0.2 and recorded the frame rates. Than I used the minimal graphic settings to compare those both. And the result was very interesting:\u003C/p\u003E\u003Cp\u003EThe test environment: The Base-Screen. The VAB-Screen. The launch pad-screen:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMinimal Settings: about 60 fps. about 60 fps. fixed 25 fps.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMaximal Setting: about 60 fps. about 46 fps. fixed 25 fps.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EAnd my GPU was not even used to 100% from the game. Around 50\u00C3\u201A\u00C2\u00B0 C.\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI mean, the GPU was that bored he counted to infinity and back because he was bored to tears. Not even the fans were turning on. So maybe there is some space for optimizing the resources.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EAnd neither was the CPU on his limit. He just \u0022warmed up\u0022. Around 50\u00C3\u201A\u00C2\u00B0C.\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIf I play \u0022War Thunder\u0022, which is raping my GPU, I have 85\u00C3\u201A\u00C2\u00B0 C and more (with 70 fps) and the fans are spinning around like some cool rappers in a underground club.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EBut still, even with the lowest possible graphic setting: I still had fixed 25 fps.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESeventh step:\u003C/strong\u003E Maybe ask the others^^ So in the forum I learned a lot about KSP. It just use one core and not all of my 16 GB of ram. But....but this all makes still no sense because of the \u0022fixed\u0022 frame rate of 25 fps.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EImprortant information: If I load the pre-installed aircraft \u0022Stearwing A300\u0022 (105 parts) and launch it at the launch pad I have, with maximal graphic settings, a frame rate of around 60.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESo my question to the community is:\u003C/strong\u003E Do you also have noticed this strange \u0022fixed 25 fps\u0022 when you start an 300\u002B part ship? Maybe some of you will donwnload the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/114779-Need-a-hammer-A-STARHAMMER\u0022 rel=\u0022external nofollow\u0022\u003E\u0022Starhammer\u0022\u003C/a\u003E and tell me your frame rate at the launch pad.\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMy Computer:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EGPU: Geforce GTX 880m\u003C/p\u003E\u003Cp\u003ECPU: i7-4700HQ, 3,2 GHz\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EOr, do you know some work arounds for getting off this \u0022internal fixed frame rate\u0022?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBest regards\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-09T15:38:09Z\u0022 title=\u002206/09/2015 03:38  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 9, 2015\u003C/time\u003E by WolfS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"includao","CreatedById":145136,"CreatedDateTime":"2015-07-04T22:09:59Z","Content":"\n\u003Cp\u003EAny solutions?\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-04T22:42:53Z","Content":"\n\u003Cp\u003EThat frame rate indicator is not accurate at \u0026lt;= 25 fps. That is basically the minimum value it will ever show. Try using a different way to display the actual fps you are getting (either install one of the mods that tells you it or use something like fraps to show it).\u003C/p\u003E\u003Cp\u003EThe primary limiting factor on framerate with large ships in KSP is the physics calculations. These only use a single core of the cpu. The amount of calculations required is basically proportional to the square of the number of parts so if you double the number of parts then four times the calculations are done.\u003C/p\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-07-05T03:02:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EThat frame rate indicator is not accurate at \u0026lt;= 25 fps. That is basically the minimum value it will ever show. Try using a different way to display the actual fps you are getting (either install one of the mods that tells you it or use something like fraps to show it).\u003C/div\u003E\u003C/blockquote\u003EReally? That\u0027s a splendid blunder.\u003Cp\u003EIt reminds me of something that happened when the Antarctic \u0022ozone hole\u0022 was first being investigated. Measurements from the ground were showing very low amounts of ozone in the ozone layer but satellite measurements were showing normal levels. It turned out the computers processing the satellite data had been programmed to assume low values were errors and throw them out, producing a similar result to our fps readings here.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-05T09:07:18Z","Content":"\n\u003Cp\u003EI believe it is actually showing the number of physics frames per in-game second. While your actual frame rate is above the max physics delta time value (defaults to 0.04 for 25 fps) then the value is the same but once time starts getting stretched (because each frame takes longer than 0.04 of a second) you get stuck with the value of 25.\u003C/p\u003E\u003Cp\u003EIt can be shown very easily. Just load a reasonable sized vessel (e.g. Kerbal X) and add a spot light to it and then change the light colour to (0.45, 0.65, 0.9) and leave the tweakable open. This will trigger \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127287-Opening-light-menu-causes-huge-lag-spikes?p=2051811\u0026amp;viewfull=1#post2051811\u0022 rel=\u0022external nofollow\u0022\u003Ea bug\u003C/a\u003E that will cripple the framerate. It will be obviously below 25 fps but the debug window display will still say 25...\u003C/p\u003E\u003Cp\u003EEdit: note, the bug will also cause KSP to leak memory rapidly while the tweakable is open so don\u0027t leave it open too long (especially if your install is mod heavy and uses lots of memory) or KSP will crash...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-05T09:17:15Z\u0022 title=\u002207/05/2015 09:17  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 5, 2015\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"includao","CreatedById":145136,"CreatedDateTime":"2015-07-05T18:14:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EI believe it is actually showing the number of physics frames per in-game second. While your actual frame rate is above the max physics delta time value (defaults to 0.04 for 25 fps) then the value is the same but once time starts getting stretched (because each frame takes longer than 0.04 of a second) you get stuck with the value of 25.\u003Cp\u003EIt can be shown very easily. Just load a reasonable sized vessel (e.g. Kerbal X) and add a spot light to it and then change the light colour to (0.45, 0.65, 0.9) and leave the tweakable open. This will trigger \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127287-Opening-light-menu-causes-huge-lag-spikes?p=2051811\u0026amp;viewfull=1#post2051811\u0022 rel=\u0022external nofollow\u0022\u003Ea bug\u003C/a\u003E that will cripple the framerate. It will be obviously below 25 fps but the debug window display will still say 25...\u003C/p\u003E\u003Cp\u003EEdit: note, the bug will also cause KSP to leak memory rapidly while the tweakable is open so don\u0027t leave it open too long (especially if your install is mod heavy and uses lots of memory) or KSP will crash...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo once my i7 4930k @ 4.6ghz with a GTX 980 can\u0027t produce (physics calculations \u002B complete rendered graphics) in less than 0.04, it forces the total FPS to be 25fps, so that KSP can actually prioritize proper physics calculation in a reasonable timeframe, correct? It sounds reasonable to me. However, I wish Unity could use more processing power in the physics calculations.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-07-05T18:20:39Z","Content":"\n\u003Cp\u003ENo, once the time needed to do the calculations exceeds 0.04s it uses 0.04 seconds as the physics timestep instead of the actual time between the rendered frames. This has the effect of slowing down the in-game clock (the timer goes yellow, or red if it gets really bad). E.g. if it takes 0.1 seconds to do the calculations then you will get 10 frames rendered per second but the in-game clock will only advance 10*0.04 = 0.4 seconds in that 1 real second.\u003C/p\u003E\u003Cp\u003EThe Unity 5 update coming in KSP 1.1 should improve matters (though how much is still speculation). There are also lots of other areas of the game that can be optimised to improve the performance with large vessels.\u003C/p\u003E\n"},{"CreatedByName":"includao","CreatedById":145136,"CreatedDateTime":"2015-07-05T20:08:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003ENo, once the time needed to do the calculations exceeds 0.04s it uses 0.04 seconds as the physics timestep instead of the actual time between the rendered frames. This has the effect of slowing down the in-game clock (the timer goes yellow, or red if it gets really bad). E.g. if it takes 0.1 seconds to do the calculations then you will get 10 frames rendered per second but the in-game clock will only advance 10*0.04 = 0.4 seconds in that 1 real second.\u003Cp\u003EThe Unity 5 update coming in KSP 1.1 should improve matters (though how much is still speculation). There are also lots of other areas of the game that can be optimised to improve the performance with large vessels.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for explaining it to me. It all makes sense now \u0026lt;3\u003C/p\u003E\n"}]}