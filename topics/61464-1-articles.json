{"TopicId":61464,"ForumId":15,"TopicTitle":"Another way to bake normals?","CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-29T05:25:57Z","PageNum":1,"Articles":[{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-29T05:25:57Z","Content":"\n\u003Cp\u003EFor references, I\u0027m using 3DS Max 2014.\u003C/p\u003E\u003Cp\u003EI\u0027m using the normal method to bake my normals(projection mapping and render to texture), however it\u0027s not working. The render to texture seems to only render the overlapping details from other parts of the mesh. What I mean is that the single mesh is made up of separate parts, and only the detail from those parts is getting baked. The cage, which I\u0027ve modified to include the high-poly detail, seems to have no effect. The high-poly detail is completely ignored. It\u0027s in the reference geometry list, and yet it\u0027s not being referenced. This has been a problem with every mesh I\u0027ve ever made. It\u0027s hard to believe that I\u0027m doing something wrong, since I\u0027ve followed countless tutorials(which all say the same thing), and yet nothing seems to work. I know most of you use Blender, but there are a few Autodesk enthusiasts around. I was trained to troubleshoot problems with the software, but this was never covered. Nothing I do seems to be working.\u003C/p\u003E\u003Cp\u003EHere are some screenshots to help explain my predicament.\u003C/p\u003E\u003Cp\u003EThe Render To Texture dialog and the low/high poly meshes.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/OhCEZlC.jpg\u0022 alt=\u0022OhCEZlC.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe high-poly detail, which isn\u0027t being baked to the normals map.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vQixxiI.jpg\u0022 alt=\u0022vQixxiI.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe normals map. See the big, odd-shaped things? Those are where the detail was supposed to be baked. As you can see, it was not.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/HE1vmEO.jpg\u0022 alt=\u0022HE1vmEO.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ATG","CreatedById":62944,"CreatedDateTime":"2014-01-29T16:41:59Z","Content":"\n\u003Cp\u003EGood to see another 3ds max user.\u003C/p\u003E\u003Cp\u003EJust a worthless guess...but try to make sure your HP model is completely enveloped by the LP model. From the looks of your viewport image, your HP model is too \u0022exposed\u0022. Then re-adjust the cage as required.\u003C/p\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-29T18:52:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ATG\u0022 data-cite=\u0022ATG\u0022\u003E\u003Cdiv\u003EGood to see another 3ds max user.\u003Cp\u003EJust a worthless guess...but try to make sure your HP model is completely enveloped by the LP model. From the looks of your viewport image, your HP model is too \u0022exposed\u0022. Then re-adjust the cage as required.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, but they are the exact same size. Did you mean that I should make it smaller than the low poly? Also, having bits sticking out doesn\u0027t really matter as long as the cage encompasses it all. This is really frustrating. It\u0027s possible that it\u0027s this version of Max. I never should have upgraded.\u003C/p\u003E\n"},{"CreatedByName":"illniss","CreatedById":48929,"CreatedDateTime":"2014-01-29T19:07:40Z","Content":"\n\u003Cp\u003Ehey haven\u0060t wrote something in ages but here i can help you\u003C/p\u003E\u003Cp\u003Ei would suggest changing you default renderer to nvidia mental ray , done with that ? place a standart omni light in you scene select the proper channel for your maping (from waht i can see you already did) expand you cage a little by using the % slider ; dont worry it will always \u0022 reset\u0022 to 0 when you let go.\u003C/p\u003E\u003Cp\u003EFor the future you might be interested in Floating geometry (\u0026lt; googel ) for parts like this. If all fails (even if it works ) you might also be interested in a little tool called XNormal as far as i\u0027m concerned the one and only map baking tool out there.\u003C/p\u003E\u003Cp\u003Ealso 2k for a normal map is pretty heavy it might look nice and shiny but in the end it will only lower Performance (with proper antialiasing a 512 Normalmap should do the trick ) \u003C/p\u003E\u003Cp\u003Ehope i could help \u003C/p\u003E\u003Cp\u003Eif there are any spelling mistakes, i\u0060m sorry might be the wine \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003Egoing over the whole thing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E an omni light !!might!! not fix the issue, if it does never mind ( ;( dammm XNormal should though)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-30T00:33:09Z\u0022 title=\u002201/30/2014 12:33  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 30, 2014\u003C/time\u003E by illniss\u003C/strong\u003E\n\u003Cbr\u003Enot sure !!!!\n\u003C/span\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-30T01:33:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022illniss\u0022 data-cite=\u0022illniss\u0022\u003E\u003Cdiv\u003Ehey haven\u0060t wrote something in ages but here i can help you\u003Cp\u003Ei would suggest changing you default renderer to nvidia mental ray , done with that ? place a standart omni light in you scene select the proper channel for your maping (from waht i can see you already did) expand you cage a little by using the % slider ; dont worry it will always \u0022 reset\u0022 to 0 when you let go.\u003C/p\u003E\u003Cp\u003EFor the future you might be interested in Floating geometry (\u0026lt; googel ) for parts like this. If all fails (even if it works ) you might also be interested in a little tool called XNormal as far as i\u0027m concerned the one and only map baking tool out there.\u003C/p\u003E\u003Cp\u003Ealso 2k for a normal map is pretty heavy it might look nice and shiny but in the end it will only lower Performance (with proper antialiasing a 512 Normalmap should do the trick ) \u003C/p\u003E\u003Cp\u003Ehope i could help \u003C/p\u003E\u003Cp\u003Eif there are any spelling mistakes, i\u0060m sorry might be the wine \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003Egoing over the whole thing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E an omni light !!might!! not fix the issue, if it does never mind ( ;( dammm XNormal should though)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFYI, omni lights and mental ray have no impact on baking normals. And another, I\u0027m using a 2K texture because Render to Texture doesn\u0027t alias edges on normal maps. So I\u0027ll bake a hi-res texture and then cut the size in half. Also, I may end up using XNormal, though I don\u0027t really like the program.\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2014-01-30T02:02:14Z","Content":"\n\u003Cp\u003EI\u0027ve had ridiculous amounts of trouble making these kinda of bakes fit. The only way I\u0027ve ever got them to work properly tends to be to split them up into several smaller models and bake them individually. Resetting the xform is never a bad idea either \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2014-01-30T05:01:40Z","Content":"\n\u003Cp\u003EThe red are ray cast failures. So the cage might not be getting all of the HP mesh. Were xforms reset on both meshes? \u003C/p\u003E\u003Cp\u003ETry using the raycast offsets in the RTT dialog, instead of using the projection cage. Sometimes that can get better results. Also, you can try putting a push modifier on the HP mesh and making it just a smidge smaller than the LP mesh, so it fits completely inside it.\u003C/p\u003E\u003Cp\u003EYou\u0027ll get raycast misses anyways though, since you have holes/gaps in the frame and such. But I\u0027m sure you\u0027ll be masking that out or whatever. Hope that helps.\u003C/p\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-30T06:44:51Z","Content":"\n\u003Cp\u003E...I actually forgot to reset the xforms. Also, what do you mean by raycast? Do you mean raytrace? Also, I just tried re-rendering after resetting xforms, and the result is still the same. Same thing by making the HP mesh smaller than the MP. Any other ideas? (I don\u0027t see anything resembling raycast or raytrace offsets in the RTT dialog).\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2014-01-30T07:00:13Z","Content":"\n\u003Cp\u003ETry using the offset value, instead of using a cage. Depending on the mesh, it can sometimes give better results.\u003C/p\u003E\u003Cp\u003EJust uncheck \u0022use cage\u0022 and try different offset values.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/1482056/rtt.JPG\u0022 alt=\u0022rtt.JPG\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-30T19:39:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stubbles\u0022 data-cite=\u0022stubbles\u0022\u003E\u003Cdiv\u003ETry using the offset value, instead of using a cage. Depending on the mesh, it can sometimes give better results.\u003Cp\u003EJust uncheck \u0022use cage\u0022 and try different offset values.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/1482056/rtt.JPG\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/1482056/rtt.JPG\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did that, and although the bake was certainly different, it still wasn\u0027t what I wanted. I edited the number to several different values(0.01, 0.1, 0.5, 1, 5, 10, 25, 100) and there was no difference between renders. I\u0027m about ready to just use xNormals.\u003C/p\u003E\n"},{"CreatedByName":"illniss","CreatedById":48929,"CreatedDateTime":"2014-01-31T15:49:52Z","Content":"\n\u003Cp\u003EXnormal isn\u0060t that bad \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E just export both Hp and Lp. from waht i can see you dont even need to scale the export! just plug it in, go to the tools section hit Ray distane calculator let it run for 100s click copy results and bake the normal\u003C/p\u003E\n"},{"CreatedByName":"zzz","CreatedById":63211,"CreatedDateTime":"2014-01-31T16:20:00Z","Content":"\n\u003Cp\u003EI don\u0027t know about topic, but want to notice, maybe you know what you doing or I didn\u0027t see somethnig, because no one is talk about it, but details you try to bake looks like is not very suitable for normal map by itself. I mean mostly perpendicular plains. Normal maps didn\u0027t work this way, it\u0027s not height information, it\u0027s more like slope angle information. I mean perpendicular cube at plain even if correctly baked will produse nothing on normal map.\u003C/p\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2014-01-31T20:12:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zzz\u0022 data-cite=\u0022zzz\u0022\u003E\u003Cdiv\u003EI don\u0027t know about topic, but want to notice, maybe you know what you doing or I didn\u0027t see somethnig, because no one is talk about it, but details you try to bake looks like is not very suitable for normal map by itself. I mean mostly perpendicular plains. Normal maps didn\u0027t work this way, it\u0027s not height information, it\u0027s more like slope angle information. I mean perpendicular cube at plain even if correctly baked will produse nothing on normal map.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI already knew that, but I beveled the edges a bit just to make sure. I may skip the normals and just bake the AO, although there is some detail that I don\u0027t want to paint on(because I\u0027m a terrible texture artist).\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2014-02-01T20:59:09Z","Content":"\n\u003Cp\u003EAlso, a lot of detail like this doesn\u0027t really require HP modeling. You could get the same results using software like \u003Ca href=\u0022http://quixel.se/ndo/\u0022 rel=\u0022external nofollow\u0022\u003EnDo2\u003C/a\u003E, \u003Ca href=\u0022https://www.knaldtech.com/\u0022 rel=\u0022external nofollow\u0022\u003EKnald\u003C/a\u003E, \u003Ca href=\u0022http://www.crazybump.com/\u0022 rel=\u0022external nofollow\u0022\u003ECrazybump\u003C/a\u003E or even the old \u003Ca href=\u0022https://developer.nvidia.com/nvidia-texture-tools-adobe-photoshop\u0022 rel=\u0022external nofollow\u0022\u003ENvidia Normal Map plugin\u003C/a\u003E for Photoshop.\u003C/p\u003E\u003Cp\u003EI use nDo2 for the work I do on my KSP rockets: \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/1482056/horizon26.jpg\u0022 alt=\u0022horizon26.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Quellcrist","CreatedById":90169,"CreatedDateTime":"2014-02-05T10:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stubbles\u0022 data-cite=\u0022stubbles\u0022\u003E\u003Cdiv\u003EAlso, a lot of detail like this doesn\u0027t really require HP modeling. You could get the same results using software like \u003Ca href=\u0022http://quixel.se/ndo/\u0022 rel=\u0022external nofollow\u0022\u003EnDo2\u003C/a\u003E, \u003Ca href=\u0022https://www.knaldtech.com/\u0022 rel=\u0022external nofollow\u0022\u003EKnald\u003C/a\u003E, \u003Ca href=\u0022http://www.crazybump.com/\u0022 rel=\u0022external nofollow\u0022\u003ECrazybump\u003C/a\u003E or even the old \u003Ca href=\u0022https://developer.nvidia.com/nvidia-texture-tools-adobe-photoshop\u0022 rel=\u0022external nofollow\u0022\u003ENvidia Normal Map plugin\u003C/a\u003E for Photoshop.\u003Cp\u003EI use nDo2 for the work I do on my KSP rockets: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/u/1482056/horizon26.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/1482056/horizon26.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have used nvidia normal plugins, Blender internal stuff and crazybump. I am yet to find a solution that satisfies me entirely. I looked at ndo2/ddo2 but their interfaces looked confusing and i havent investigated further, same with xnormal, i need to get a more thorough look.\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2014-02-10T07:31:16Z","Content":"\n\u003Cp\u003EnDo looks daunting at first, but it\u0027s really quite simple. It\u0027s pretty much just a series of Photoshop actions, wrapped in a fancy GUI. There are a TON of tutorial vids on Youtube that walk you through the process is using it, step by step. If you\u0027re interested, I suggest picking it up, it\u0027s super handy.\u003C/p\u003E\n"},{"CreatedByName":"frizzank","CreatedById":57210,"CreatedDateTime":"2014-02-13T23:14:25Z","Content":"\n\u003Cp\u003EPersonally for low detail stuff I prefer painting my heightmap in photoshop and then using crazybump to get the normal map. For more complex things I use XNormal or 3dCoat. Max\u0027s baking is not too friendly....\u003C/p\u003E\u003Cp\u003EAlso awesome engine....\u003C/p\u003E\n"}]}