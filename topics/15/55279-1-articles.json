{"TopicId":55279,"ForumId":15,"TopicTitle":"Parachute animation and deploy vector","CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-12-05T08:44:57Z","PageNum":1,"Articles":[{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-12-05T08:44:57Z","Content":"\n\u003Cp\u003ESo it\u0027s my turn to ask for help, we have failed to figure it out in #kspmodders.\u003C/p\u003E\u003Cp\u003EMy old chutes seem to have a problem:\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/MPJRU\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EAs you can see, whenever an animation plays, the canopy snaps back to its internal orientation for the duration, and then returns to the code-driven vector (the negative of the direction of vessel travel)\u003C/p\u003E\u003Cp\u003EHere\u0027s the setup in Unity: \u003Ca href=\u0022http://i.imgur.com/aaMdIgI.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/aaMdIgI.png\u003C/a\u003E (unseen, but Canopy\u0027s local transform has Z\u002B pointed up as required)\u003C/p\u003E\u003Cp\u003EThe animation in Blender is set up as described here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/57646?p=770729\u0026amp;viewfull=1#post770729\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/57646?p=770729\u0026amp;viewfull=1#post770729\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eframe 0 is scale: 0.017, 0.017, 0.071\u003C/p\u003E\u003Cp\u003Eframe 60 is scale: 0.25, 0.25, 1\u003C/p\u003E\u003Cp\u003Eframe 100 is scale: 1, 1, 1\u003C/p\u003E\u003Cp\u003EI went back tonight to make sure that Location and Rotation weren\u0027t being explicitly set in the keyframes, then cleared them out and redid them just to be sure.\u003C/p\u003E\u003Cp\u003EThe config file module is a clone of the stock chutes with the proper object and animation names substituted. The chute works fine other than the weird animation orientation.\u003C/p\u003E\u003Cp\u003ESo yeah.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-12-07T07:11:38Z","Content":"\n\u003Cp\u003EOkay I have tracked down the issue to the animation being imported from Blender. If I recreate the animation in Unity it animates the parachute without changing the transform vector for its duration, but even with a clean import from blender after completely redoing the animation, the issue still occurs. I haven\u0027t found any import tweaks that affect it positively (turning on a different clamp mode from \u0022Default\u0022 can break it further, forcing the parachute to stop animating to the drag vector even after the deployment animation is done)\u003C/p\u003E\u003Cp\u003EDoing it in Unity has other problems (probably caused by me not being familiar with Unity\u0027s animation sheet) but I would like to find a way to make my Blender animation work.\u003C/p\u003E\u003Cp\u003EAny Blender artists out there successfully set up a parachute in KSP that doesn\u0027t exhibit the issue mine does currently?\u003C/p\u003E\u003Cp\u003EEdit: exported from blender to FBX. It worked better, only the 1st animation was fouled, the fullDeploy played normally (IE while staying aligned to the drag vector)\u003C/p\u003E\u003Cp\u003ENo idea why.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-07T07:57:00Z\u0022 title=\u002212/07/2013 07:57  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 7, 2013\u003C/time\u003E by Tiberion\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-12-13T15:08:06Z","Content":"\n\u003Cp\u003EI\u0027m only guessing here but it looks like the sort of issue caused by blender saving transforms rather than applying them to the vertex positions, but I\u0027m not sure how that affects animations.\u003C/p\u003E\n"}]}