{"TopicId":141175,"ForumId":15,"TopicTitle":"Fatal error in gc","CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-04T07:25:50Z","PageNum":1,"Articles":[{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-04T07:25:50Z","Content":"\n\u003Cp\u003E\nHello I\u0027m trying to mod for my first time and I\u0027m using v1.0.1.861. I followed nifty 255\u0027s videos on YouTube, but I\u0027m getting a \u0022too many heap sections\u0022 message inside a \u0022Fatal error in GC\u0022 titled window. The loading bar stops on the file I created so I\u0027m pretty sure my mod is crashing the game. Is there something specific that would make the game crash, i.e. models versus config files?\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-07T19:08:21Z","Content":"\n\u003Cp\u003E\nA little confused, did you make a custom part? What does your output log state?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-07T20:51:45Z","Content":"\n\u003Cp\u003E\nSorry I should\u0027ve been more clear, it\u0027s\u00A0a fueltank I created. My file is in the Custom folder.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://pastebin.com/DkHEzxGL\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/DkHEzxGL\u003C/a\u003E\u00A0- Output\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://pastebin.com/SW17z9vA\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/SW17z9vA\u003C/a\u003E\u00A0- Config File\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-08T01:11:52Z","Content":"\n\u003Cp\u003E\ninstead of using mesh = TestPart use the MODEL module.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODEL\n\t{\n\t\tmodel = Custom/Parts/TestPart/KSPTest\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nQuick snippet, the last portion is the .mu name without the .mu extension.\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-08T21:15:39Z","Content":"\n\u003Cp\u003E\nStill crashing, heres what I got. I tried putting it just after the brackets in PART but that didn\u0027t work either.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://pastebin.com/cuHTvKKF\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/cuHTvKKF\u003C/a\u003E\u00A0- Config\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://pastebin.com/rRtWSqnW\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/rRtWSqnW\u003C/a\u003E\u00A0- Output\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-08T21:16:38Z\u0022 title=\u002206/08/2016 09:16  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 8, 2016\u003C/time\u003E by S_64\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-09T03:04:37Z","Content":"\n\u003Cp\u003E\nWhat\u0027s your unity setup like? That\u0027s the only other thing I can think of.\n\u003C/p\u003E\n\u003Cp\u003E\nMake sure you\u0027re using KSP materials provided by the parttools for 1.1.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have colliders make sure they\u0027re set to convex.\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-09T20:45:30Z","Content":"\n\u003Cp\u003E\nI doublechecked the collision mesh,\u00A0it\u0027s set to convex\u00A0and I am using ksp diffuse shaders.\u00A0Using Unity 5.2.3 I start a 3d\u00A0Unity project with no asset packages, import PartTools_AssetBundles.unitypackage from the\u00A0PartTools_KSP11_2 folder. Then I went step by step through this video, however I am using Modo 801 with units = 1 meter:\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/7hRJ1qI8uoY?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-09T21:10:12Z","Content":"\n\u003Cp\u003E\nFirst of all, Modo is awesome.\n\u003C/p\u003E\n\u003Cp\u003E\nSecond, I saw the output log again, and it\u0027s trying to read the texture at \u0022Custom/Parts/TestPart/KSPTest\u0022\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThen below that I see this :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E(0x04DF997D) (Mono JIT code): (filename not available):  A./: (int,UnityEngine.Material,string) \u002B 0x3d (04DF9940 04DF99DE) [04724E70 - Unity Root Domain] \u002B 0x0\n(0x04DF9806) (Mono JIT code): (filename not available):  A.:ReadMaterialTexture (System.IO.BinaryReader,UnityEngine.Material,string) \u002B 0x46 (04DF97C0 04DF9916) [04724E70 - Unity Root Domain] \u002B 0x0\n(0x04DF96D8) (Mono JIT code): (filename not available):  A.:ReadMaterial (System.IO.BinaryReader) \u002B 0xe90 (04DF8848 04DF971C) [04724E70 - Unity Root Domain] \u002B 0x0\n(0x04DF5F21) (Mono JIT code): (filename not available):  A.:ReadChild (System.IO.BinaryReader,UnityEngine.Transform) \u002B 0x1a61 (04DF44C0 04DF627D) [04724E70 - Unity Root Domain] \u002B 0x0\n(0x04DF3F9F) (Mono JIT code): (filename not available):  A.: (UrlDir/UrlFile) \u002B 0x22f (04DF3D70 04DF437A) [04724E70 - Unity Root Domain] \u002B 0x0\n(0x04DF3CB9) (Mono JIT code): (filename not available):  DatabaseLoaderModel_MU/\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nTry and re-creating everything in Unity, re-import all assets.Make sure you have a unique material and only one material per object.\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-10T08:04:35Z","Content":"\n\u003Cp\u003E\nSo, I made a new project and reimported the assets, nothing is helping. Yep, one material is assigned. I noticed something weird in the output though. Why is the \u0022model\u0022 loading for the parts I\u0027ve made but not for the mods I\u0027ve obtained from other authors? All others show Load(Texture)... Also I came across another forum post saying something about a .mu file being incomplete/corrupt if its very small, under 10k. I took a look at my model and it\u0027s\u00A01-4k depending on the order of steps I use in Unity (which is really weird). What a pain in the ass! Lol, and I agree, Modo is awesome. Way more efficient coming from Max.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I figured I\u0027d add in my model and texture, could you run it through your unity and see how it goes? It doesn\u0027t have a collision mesh as I\u0027ve been just adding a mesh collider to the main model, its so low poly I just doubled the count with a collision mesh, which seemed excessive. The original mesh I used had a seperate collision mesh and still got the error so I figured there was no harm in removing it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/open?id=0B2imY9mkpx_5LU5Wc2dUd3RRTGc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=0B2imY9mkpx_5LU5Wc2dUd3RRTGc\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-10T08:29:39Z\u0022 title=\u002206/10/2016 08:29  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 10, 2016\u003C/time\u003E by S_64\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-10T15:30:17Z","Content":"\n\u003Cp\u003E\nWere you trying to load the JPG in KSP? Did you try TGA\u00A0/ PNG?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLooking at your model now.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: See below.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI did notice that your model was not centered and you had some animation keyframes in your model which didn\u0027t seem to do anything.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCenter your model in Modo, go into modelling\u00A0mode (where you can select polygons, forgot the actual name), and with nothing selected go to the left menu and click Center Selected \u0026gt; All.\u00A0That will center your model and keep your Pivot at the center.\n\u003C/p\u003E\n\u003Cp\u003E\nThen in unity select your FBX, and on the inspector (Right window), select animations, and deselect \u0022import animations\u0022. You can also do that in Modo by selecting the channels tab on the right, and highlighting all your channels with red buttons, right click and select \u0022Remove All\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI would also not load that JPG texture in KSP, but a PNG, TGA or DDS formatted texture.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHeres a link to a Unity Project file.\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/s813aoosl2lltve/KSPTEST_Unity.unitypackage?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/s813aoosl2lltve/KSPTEST_Unity.unitypackage?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nJust import that into your Unity Scene.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022CbwdQyA.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/CbwdQyA.png\u0022 title=\u0022\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-10T16:32:03Z\u0022 title=\u002206/10/2016 04:32  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 10, 2016\u003C/time\u003E by martinezfg11\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-10T20:08:11Z","Content":"\n\u003Cp\u003E\nI thought only .mbm textures worked. My first go I used png and converted that to mbm with parttools. I\u0027m just trying to troubleshoot little differences. Thanks for the feed back I will try that project later this afternoon.\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-11T04:35:22Z","Content":"\n\u003Cp\u003E\nDid all that too, nothings working yet. Maybe there are some compatibility issues going on?\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-11T17:34:47Z","Content":"\n\u003Cp\u003E\nYou\u0027re still getting errors when loading your part?\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have any other mods installed? I don\u0027t know why you would be getting errors, did you try the unity project file I sent you?\n\u003C/p\u003E\n"},{"CreatedByName":"S_64","CreatedById":165155,"CreatedDateTime":"2016-06-13T21:36:53Z","Content":"\n\u003Cp\u003E\nGot it working! I looked up the differences in KSP over the latest versions and noticed they swapped over to Unity 5(the version I\u0027m using) on KSP version 1.1 and after. I updated ksp to version 1.1 and now it works flawlessly with your recommendation of using the model module. Thank you for your continued effort in helping me, it\u0027s not often people are willing to help as much as you have.\n\u003C/p\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2016-06-14T00:37:28Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EInitialize engine version: 4.6.4f1 (99f88340878d)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt was like the first line of code in your output log. I can\u0027t believe I missed it. Glad you got it working!\n\u003C/p\u003E\n"}]}