{"TopicId":102977,"ForumId":15,"TopicTitle":"Landing Gear (-\u003E Wheel) not rotating","CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:02:58Z","PageNum":1,"Articles":[{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:02:58Z","Content":"Hello guys, \n\nI have worked on a landing gear for a project. So far, the animation works good, but now I\u0027m running into issues: The wheel itself isn\u0027t rotating at all, which *could* end bad when you try to land..you know? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) Here is a screenshot of my Unity editor: \n\n![ZBc74VC.png](http://i.imgur.com/ZBc74VC.png)\n\nThe Steering works ingame, but as I said, the Wheel is not rotating at all. Here\u0027s my part.cfg (or at least the important parts):\n\n    MODULE{    name = ModuleLandingGear    animationName = Front Landing Gear    BrakeTorque = 4    BrakeSpeed = 0.5}MODULE{    name = ModuleSteering    controlAxisType = Forward    steeringAxis = 0, 0, 1    steeringTransformName = Wheel    steeringLocked = false    steeringCurve     {        key = 0 16     key = 10 9       key = 30 2     key = 100 1     }}MODULE{    name = FXModuleConstrainPosition    matchRotation = true    matchPosition = true    CONSTRAINFX    {        targetName = Wheel        moversName = wheelCollider    }}\n\nI oriented myselves on the Stock smallgearbay landing gear, but it\u0027s not that big help. I also looked at this image flying around on the forums from the Stock Landing Gear, but I have to say, I compared it with the Landing Gear config file, and it didn\u0027t helped at all. There\u0027s simply no \u0022Steering\u0022 gameobject visible in the hierarchy of the Stock Landing Gear from the image. \n\nI think it has something to do with the FXModuleConstrainPosition, but I don\u0027t get how it works. And from the other existing threads I didn\u0027t get the information I want or I need. Creating landing gears is really the most undocumented thing you can have for modding. \n\nBut I hope someone can help me! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-30T16:22:44Z","Content":"the two objects both named \u0022wheelCollider\u0022 is probably confusing the module.\n\nyou need a wheelCollider component, it\u0027s a specialized component just for wheels with suspension. It is used by **ModuleLandingGear**, which provides visible suspension, wheel spinning, and deploy/retract animation trigger. **ModuleSteering** provides input control on a game object in the wheel heirarchy. **FXModuleConstrainPosition** links the wheelCollider to the object that responds to input control. the visible wheel mesh should be a child of the steer object.\n\nanother mesh collider for the visible wheel is optional, but should not be named \u0022wheelCollider\u0022. only one object in the wheel setup should be named \u0022wheelCollider\u0022\n\nlanding gears and wheels are both very convoluted to setup correctly, you might have to dig some more. here\u0027s a unity project with working part file, might help you in your process. from this thread: [http://forum.kerbalspaceprogram.com/threads/72802](https://forum.kerbalspaceprogram.com/threads/72802) dedicated to landing gears.\n\n[http://www./download/psu9e2k70d6wwz0/skylonNoseGear.zip](http://www./download/psu9e2k70d6wwz0/skylonNoseGear.zip)\n\n**Edited \u003Ctime datetime=\u00222015-03-30T16:26:27Z\u0022 title=\u002203/30/2015 04:26  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 30, 2015\u003C/time\u003E by nli2work**"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:54:44Z","Content":"Hm, your explanation and the stuff you linked made things a tiny bit clearer, but I\u0027m still not really getting it. I\u0027ve removed now the 2nd wheelCollider.\n\nSo, the things I need would be those: \n\nMODULE\n\n{\n\n name = ModuleLandingGear\n\n animationName = Front Landing Gear\n\n wheelCollider = wheelCollider\n\n wheelName = Wheel\n\n wheelRotationAxis = -1,0,0\n\n BrakeTorque = 20\n\n BrakeSpeed = 0.5\n\n}\n\nThe FXModuleLookAtConstraint I think I don\u0027t need for now, I just want the wheels to rotate. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nIn Unity, the gameobject \u0022wheelCollider\u0022 is a child of the \u0022Wheel\u0022 object. The Wheel object is the wheel mesh itselves, without any colliders on it, the wheelCollider object is only the wheelcollider for the Wheel. \n\nI\u0027ve made it like that, and it\u0027s still not rotating. Also, the gear sinks into the ground, as if there was no collider for the wheel at all. \n\nI hope you will be patient with me, and can help me..![:blush:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif)"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-30T18:22:50Z","Content":"FXModuleLookAtConstraint is for setting up the suspension linkage arms so they move when the suspension moves up and down, they are optional.\n\nthe hierarchy look something like this:\n\nSteeringObject\n\nwheelCollider\n\nWheelMesh\n\nAdditionalStuff-Optional\n\nthe wheel mesh object is on the same level as wheelCollider, not a child of wheelCollider. Alternatively you can place the wheelCollider on the same level as SteeringObject and use **FXModuleConstraintPosition** to link it to the SteeringObject.\n\nand no spaces in any object names, replace spaces with underscore if necessary.\n\n**Edited \u003Ctime datetime=\u00222015-03-30T18:27:42Z\u0022 title=\u002203/30/2015 06:27  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 30, 2015\u003C/time\u003E by nli2work**"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-31T09:18:35Z","Content":"OK, I\u0027ve made it now a bit else than before, but it\u0027s still not working. I edited the mesh collider for the stem of the wheel, it went a little bit inside the mesh collider, now it doesn\u0027t conflict with it anymore, but it\u0027s still not working. Also, it looks like the game doesn\u0027t even sees that there\u0027s a wheel collider. The gear sinks in the ground, until the mesh collider of the stem has contact with the ground. \n\nSo, must I enter the name of the Wheel Collider itself (The name would be just \u0022Wheel Collider\u0022) or must I use the name of the gameobject the Wheel Collider is applied to (The name then would be \u0022wheelCollider\u0022)?\n\nI\u0027ve also rearranged my hierarchy a bit:\n\nFront Landing Gear (Parttools export component on it, animation component)\n\n Fahrwerk\\_vorne (This is the thing which will retract when the animation is played)\n\n Steering (This is a new empty gameobject which is the object where collider and wheel is applied to, for a proper steering)\n\n Reifen\\_vorne (The mesh of the wheels which should be rotating later ingame)\n\n wheelCollider (The object with the Wheel Collider for the Wheel)\n\n Scheinwerfer (They have no function yet, they are just there for design purposes)\n\n Fahrwerk\\_vorne\\_Stange\\_1 (The Strut you can see on the first picture going away from the gear stem, also animated)\n\n Fahwerkklappe\\_vorne\\_seitlich\\_links (The thing which covers the gear when it is retracted, see image in post#1, animated)\n\n Fahrwerkklappe\\_vorne\\_seitlich\\_rechts (The thing which covers the gear when it is retracted, see image in post#1, animated)\n\nI don\u0027t get what I\u0027m doing wrong ![;.;](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif)"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-31T14:38:17Z","Content":"the names can be anything strictly speaking, without spaces and special characters. As long as you give the Part Modules the correct objects they will work.\n\nMODULE\n\n{\n\nname = ModuleLandingGear\n\nanimationName = Front Landing Gear\n\n**\\\\ Deploy/Retract animation, the clip in the Animation component**\n\nwheelCollider = wheelCollider\n\n**\\\\name of the object with the wheel collider component, the object can be any name you want. naming it \u0022wheelCollider\u0022 just makes it easier to identify than**\n\n\u00228k3nf8\u0022\n\nwheelName = Wheel\n\n**\\\\name of the visible mesh object that spins, again, any name can do. but ideally something that\u0027s easily identifiable.**\n\nwheelRotationAxis = -1,0,0\n\n**\\\\axis around which the Wheel mesh spins in X,Y,Z. typically X. add/remove negative sign to reverse direction**\n\nBrakeTorque = 20\n\nBrakeSpeed = 0.5\n\n}\n\nyou are making progress. Still need to add suspension. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nso to get the full landing gear module, you need one more object. Maybe the light as well, not sure on that one.\n\nMODULE\n\n{\n\n...\n\nsuspensionParentName = suspensionParent\n\n\\\\\n\n**follows the suspension settings in the unity component up/down based on weight being supported. check Unity docs for specifics of wheel collider, this images might help too**\n\nhttp://i.imgur.com/Uce0rLj.jpg\nhttp://i.imgur.com/Uce0rLj.jpg\n[http://i.imgur.com/Uce0rLj.jpg](http://i.imgur.com/Uce0rLj.jpg)\nhttp://i.imgur.com/Uce0rLj.jpg\nhttp://i.imgur.com/Uce0rLj.jpg\n\n ...\n\n}\n\nhierarchy would look something like this, check the sample file in the previous post.\n\nStrutsAndDoorPanels\n\nSteeringObject\n\nwheelCollider\n\nsuspensionParent\n\nWheelMesh\n\nAdditionalStuff-Optional\n\n**Edited \u003Ctime datetime=\u00222015-03-31T14:40:38Z\u0022 title=\u002203/31/2015 02:40  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by nli2work**"}]}