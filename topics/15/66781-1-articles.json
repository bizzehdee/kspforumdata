{"TopicId":66781,"ForumId":15,"TopicTitle":"Why am I getting these weird lines?","CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T01:27:42Z","PageNum":1,"Articles":[{"CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T01:27:42Z","Content":"\n\u003Cp\u003EI have a lot of experience with 3D modelling, but this is my first time trying to mod KSP.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/0ehyJsK.jpg?1\u0022 alt=\u00220ehyJsK.jpg?1\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m getting really weird reflections on my part when I apply edge smoothing with either blender (with the edge split modifier) or Unity.\u003C/p\u003E\u003Cp\u003EThe issue is visible in both KSP and the Unity preview window.\u003C/p\u003E\u003Cp\u003EI\u0027m just using a flat grey KSP/specular map right now.\u003C/p\u003E\u003Cp\u003EI don\u0027t think my mesh is too terrible, so I\u0027m not sure what\u0027s causing the problem. The weird lines show up in places where the mesh is a lot simpler as well (like on the other side of the cockpit where it\u0027s just a cone)\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\n"},{"CreatedByName":"Dispatcher","CreatedById":78707,"CreatedDateTime":"2014-03-26T01:37:58Z","Content":"\n\u003Cp\u003EI\u0027ve encountered that as well. Assuming its not a \u0022feature\u0022 of the import/ export process, you might try adding more faces to the model, thus reducing the angle between them, which in turn might reduce or eliminate the unintended effect. Its not as if we are adding to the triangle count of, say, a character or complex parts.\u003C/p\u003E\n"},{"CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T01:54:22Z","Content":"\n\u003Cp\u003ENo luck. When the model has about 2000 tris I just thinner lines. It\u0027s really odd because they show up in very specific parts of the model in a way that seems to defy logic.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/pnqjqzc.png\u0022 alt=\u0022pnqjqzc.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-03-26T02:05:05Z","Content":"\n\u003Cp\u003EIs this happening no matter which of the KSP shader\u0027s you use?\u003C/p\u003E\n"},{"CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T02:12:54Z","Content":"\n\u003Cp\u003EIt doesn\u0027t happen in KSP/Diffuse or KSP/Unlit.\u003C/p\u003E\u003Cp\u003EIs it common to use diffuse instead of specular maps for KSP?\u003C/p\u003E\n"},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2014-03-26T02:13:24Z","Content":"\n\u003Cp\u003Emaybe some normals are inverted or you have some doubled intersected faces or stuff like that? It must be some fault in the mesh. Does it happen on the other side too? If not, try replacing the faulty side with a copy of the good side. Can you show us a picture of the wireframe?\u003C/p\u003E\n"},{"CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T02:22:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Porkjet\u0022 data-cite=\u0022Porkjet\u0022\u003E\u003Cdiv\u003Emaybe some normals are inverted or you have some doubled intersected faces or stuff like that? It must be some fault in the mesh. Does it happen on the other side too? If not, try replacing the faulty side with a copy of the good side. Can you show us a picture of the wireframe?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think the mesh has any errors. The lines show up all around the model.\u003C/p\u003E\u003Cp\u003E I modelled this part in Autodesk Inventor, exported it as an STL, then passed it through blender to get it into Unity. I\u0027ve tried exporting the STL at a bunch of different resolutions (from 800 to 4000 tris), but that didn\u0027t fix the problem.\u003C/p\u003E\u003Cp\u003EHere\u0027s a picture of my mesh, but I don\u0027t think it will be very useful because of the way I modeled the part. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/NBAYlaW.png\u0022 alt=\u0022NBAYlaW.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2014-03-26T02:47:07Z","Content":"\n\u003Cp\u003EI can\u0027t tell for sure from that picture, but it might be a problem with the edge flow.\u003C/p\u003E\u003Cp\u003EBetween those windows, I would expect lines connecting the two forming a quad in-between but I\u0027m not seeing any lines there. This would mean you\u0027ve got an n-gon there and auto-triangulation did a bad job on it forming extremely pointy tris with paralel lines. This is invidible on flat surfaces but screws up smooth shading on curves.\u003C/p\u003E\u003Cp\u003Eleft is how it should be and right is what I believe to see in your mesh.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/IWvppUX.jpg\u0022 alt=\u0022IWvppUX.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve seen similar stuff many times after a mesh gets triangulated. You allways wanna make sure there are no n-gons and all the quads are \u0027cleanly\u0027 spaced. Lines that run much closer to each other than others around it on a curved surface will create a hard edge or those funky stripes.\u003C/p\u003E\u003Cp\u003EBut as said I can\u0027t tell for sure, maybe I talked nonsense. The backface lines make it hard to see in your pic.\u003C/p\u003E\n"},{"CreatedByName":"Dispatcher","CreatedById":78707,"CreatedDateTime":"2014-03-26T03:11:01Z","Content":"\n\u003Cp\u003EDid you try eliminating duplicate vertices in Blender, while you were in there? That could set you up for problems.\u003C/p\u003E\n"},{"CreatedByName":"jnrobinson","CreatedById":16627,"CreatedDateTime":"2014-03-26T03:14:28Z","Content":"\n\u003Cp\u003EYou were right. There aren\u0027t any quads, but there are a lot of edges really close together in a bunch of different areas. I guess Inventor probably isn\u0027t the best tool for modelling. I think I\u0027d spend longer cleaning up the mesh than I would modelling in Blender to begin with.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-03-27T02:18:15Z","Content":"\n\u003Cp\u003EI have not tried to eliminate triangulation on any thing that complicated, but with simpler models, such as boxes and 6 sided polygons, you can select the entire model in blender\u0027s edit mode and then press f. This will eliminate triangulation and make solid faces. Then uv-unwrap, export uv layout, and apply texture in your favorite image editor. Next import texture in blender and ensure you have the results you desire by doing a render. If it comes out ok, save as .blend file. Then you can import into unity, which will triangulate faces again, but it doesn\u0027t matter anymore because the uv-map is done. I\u0027m new to all of this, but it might be worth a try, especially if it keeps you from having to clean the model yourself.\u003C/p\u003E\u003Cp\u003Eedit : And I second on removing doubles in blender. This was causing me major headaches with my sketchup models. Once I selected the entire model and eliminated doubles, everything got much easier.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-27T02:27:31Z\u0022 title=\u002203/27/2014 02:27  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 27, 2014\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003C/span\u003E\n"}]}