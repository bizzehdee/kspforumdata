{"TopicId":74897,"ForumId":15,"TopicTitle":"The gameObject based \u0026#039;breakable\u0026#039; system","CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-06-13T01:42:28Z","PageNum":1,"Articles":[{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-06-13T01:42:28Z","Content":"\n\u003Cp\u003ESolar panel destruction used to be config based (isBreakable = true) with a specified gameObject/transform showing which part shears off when damaged, however the latest (23.5) versions of the Squad KSP solar panels no longer have this config line.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure when this changed but since I\u0027m making a breakable part right now I\u0027d rather rig it in the \u0027new\u0027 fashion which will presumably be supported rather than a legacy method which may be depreciated and thus require updating at some point later when the method is fully depreciated.\u003C/p\u003E\u003Cp\u003EHas anyone rigged a breakable object in this new fashion that could please share how to build the Unity hierarchy for it (gameObjects\u002Bcomponents\u002Bsettings if possible), or could a developer please post a screenshot and/or a brief explanation of the \u0027new\u0027 breakable rigging is implemented.\u003C/p\u003E\u003Cp\u003EThanks for your time,\u003C/p\u003E\u003Cp\u003ENMB.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2014-06-13T02:18:59Z","Content":"\n\u003Cp\u003EA lot of times they\u0027ll remove config entries if they are using the default name. For instance in an engine the expected name is thrustTransform so you don\u0027t have to specify it.\u003C/p\u003E\u003Cp\u003EI am guessing this is the case here, and they\u0027re just using the default object name, which happens to be sunPivot. You should still be able to over-ride it with the config parameter and name it whatever you like.\u003C/p\u003E\u003Cp\u003EHere\u0027s a screenshot of solarPanel2 .mu imported into Blender (using taniwha\u0027s python script) and expanded - note that the little knob I have selected is below the sunPivot level, and it breaks off on those solar panels.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/11C1SzX.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/11C1SzX.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENote that Blender didn\u0027t really import that in a usable manner, the animation is broken and some of the meshes seem to have lost their.. mesh. But the hierarchy is visible at least.\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-06-13T03:28:55Z","Content":"\n\u003Cp\u003EOK thanks Tiberion, that\u0027s the same sort of hierarchy I\u0027m using for the unfolding animation at least but the panels just don\u0027t want to break for some reason, the whole part explodes, or the part it\u0027s attached to explodes first and I\u0027d really like it to break into its component panels like the 1x6 and 2x3 solar panels do (at this point I\u0027d \u003Cem\u003Etemporarily\u003C/em\u003E accept the whole thing coming off like the XL). I hope it\u0027s not because of Unity not liking the way I rigged it in Blender using empties.\u003C/p\u003E\u003Cp\u003EI\u0027ll keep working on the sun tracking for now when I get some time, and get back to the breakable bit later, achieve overall functionality first\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-06-13T04:20:49Z","Content":"\n\u003Cp\u003EI don\u0027t know if this will help you any, but it might provide some clues. Here\u0027s a dump of how the hierarchy is setup ingame:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E[LOG 21:10:10.542] DebugTools, Transform: solarPanels2\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.542] DebugTools, ---\u0026gt; Transform: model\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.543] DebugTools, ------\u0026gt; Transform: solarPanel2\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.543] DebugTools, ---------\u0026gt; Transform: base\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.544] DebugTools, ---------\u0026gt; Transform: door\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.545] DebugTools, ---------\u0026gt; Transform: sunPivot\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.545] DebugTools, ------------\u0026gt; Transform: knob\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.546] DebugTools, ---------------\u0026gt; Transform: panel3\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.546] DebugTools, ------------------\u0026gt; Transform: panel04\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.547] DebugTools, ---------------------\u0026gt; Transform: panel05\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.547] DebugTools, ------------------------\u0026gt; Transform: panel06\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.548] DebugTools, ---------------------------\u0026gt; Transform: panel07\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.549] DebugTools, ------------------------------\u0026gt; Transform: panel08\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that the Unity hierarchy starts at under \u0022model\u0022, i.e. the first child in the Unity hierarchy here would be \u0022base\u0022 with a parent that apparently has no collider nor mesh\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003ELOG 21:10:10.506] DebugTools, solarPanels2 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.506] DebugTools, ...c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.507] DebugTools, ...c: Part\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.508] DebugTools, ...c: ModuleDeployableSolarPanel\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.508] DebugTools, ---\u0026gt;model has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.509] DebugTools, ......c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.509] DebugTools, ------\u0026gt;solarPanel2 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.510] DebugTools, .........c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.511] DebugTools, .........c: UnityEngine.Animation\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.511] DebugTools, ---------\u0026gt;base has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.512] DebugTools, ............c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.512] DebugTools, ............c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.513] DebugTools, ............c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.514] DebugTools, ............c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.514] DebugTools, ---------\u0026gt;door has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.515] DebugTools, ............c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.516] DebugTools, ............c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.516] DebugTools, ............c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.517] DebugTools, ............c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.517] DebugTools, ---------\u0026gt;sunPivot has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.518] DebugTools, ............c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.519] DebugTools, ------------\u0026gt;knob has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.519] DebugTools, ...............c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.520] DebugTools, ...............c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.521] DebugTools, ...............c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.521] DebugTools, ---------------\u0026gt;panel3 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.522] DebugTools, ..................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.522] DebugTools, ..................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.523] DebugTools, ..................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.524] DebugTools, ..................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.524] DebugTools, ------------------\u0026gt;panel04 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.525] DebugTools, .....................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.526] DebugTools, .....................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.526] DebugTools, .....................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.527] DebugTools, .....................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.528] DebugTools, ---------------------\u0026gt;panel05 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.528] DebugTools, ........................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.529] DebugTools, ........................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.529] DebugTools, ........................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.531] DebugTools, ........................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.531] DebugTools, ------------------------\u0026gt;panel06 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.532] DebugTools, ...........................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.533] DebugTools, ...........................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.533] DebugTools, ...........................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.534] DebugTools, ...........................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.535] DebugTools, ---------------------------\u0026gt;panel07 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.535] DebugTools, ..............................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.536] DebugTools, ..............................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.537] DebugTools, ..............................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.537] DebugTools, ..............................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.538] DebugTools, ------------------------------\u0026gt;panel08 has components:\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.539] DebugTools, .................................c: UnityEngine.Transform\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.539] DebugTools, .................................c: UnityEngine.BoxCollider\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.540] DebugTools, .................................c: UnityEngine.MeshFilter\u003C/p\u003E\u003Cp\u003E[LOG 21:10:10.541] DebugTools, .................................c: UnityEngine.MeshRenderer\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EGood luck\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-06-16T02:25:34Z","Content":"\n\u003Cp\u003EThanks xEvilReeperx, still not having any luck so the v1 of the panels just might not pivot, more likely something is just set wrong and I\u0027m due for a /facepalm when I see it\u003C/p\u003E\u003Cp\u003EI can\u0027t see the suncatcher (object? transform?) in that list either, unless they are also not in use any more and it\u0027s a layer or trigger option (kind of like airlocks/ladders) now?\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2014-06-16T03:33:02Z","Content":"\n\u003Cp\u003EHi I\u0027ve just made an animated suntracking emergency solar panel and it still uses the suncatcher, what I did notice though was that the parts have to be the default names or it just doesn\u0027t work, here\u0027s a shot of it folded up in unity base, solar pivot and suncatcher have to be parented through the animation, The scenes piston to object 02 are the animated parts of the leg that hold the panel , the two pivots not a child of base are just the closing cap halfs. This little fellow animates and sun tracks fine. and snap off if you treat it badly.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ZqEGOX4.png\u0022 alt=\u0022ZqEGOX4.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2014-06-16T04:21:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpannerMonkey(smce)\u0022 data-cite=\u0022SpannerMonkey(smce)\u0022\u003E\u003Cdiv\u003Estill uses the suncatcher\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHrm, you\u0027re using solarPivot but the report from the solarPanels2 shows sunPivot, oh well, try both I guess\u003C/p\u003E\u003Cp\u003EAs for the suncatcher, is that a Unity object (like a plane) with no mesh renderer or just an empty gameObject, how is it positioned?\u003C/p\u003E\u003Cp\u003E[Edit] Well it all moves now, \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eexcept now the animation plays as soon as you pull the part out in the VAB /headscratch\u003C/span\u003E (resolved) \u003C/p\u003E\u003Cp\u003EWorks fine as soon as you launch, i.e. starts closed and opens/shuts properly\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-16T08:08:46Z\u0022 title=\u002206/16/2014 08:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 16, 2014\u003C/time\u003E by NoMrBond\u003C/strong\u003E\n\u003C/span\u003E\n"}]}