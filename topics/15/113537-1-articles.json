{"TopicId":113537,"ForumId":15,"TopicTitle":"Help with engines?","CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T20:02:27Z","PageNum":1,"Articles":[{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T20:02:27Z","Content":"Hello! I wanted to make part mods for a long time. Just to take a break from planet mods. But I can\u0027t find any tutorials on engines. The only tutorial I found was on fuel tanks. I got modelling down, but textures and all of that stuff (especially coding) just gets me. Any experienced part makers have a good tutorial for me? Thanks! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-06-20T20:31:50Z","Content":"There are several links here:\n\n[http://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE](https://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE)\n\nThat should help get you started. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T20:59:30Z","Content":"\u003E \n\u003E There are several links here:\n\u003E [http://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE](https://forum.kerbalspaceprogram.com/threads/94638-Mod-Development-Links-Compilation-START-HERE)\n\u003E \n\u003E That should help get you started. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nThese didn\u0027t really have exactly what I was looking for.\n\n**Edited \u003Ctime datetime=\u00222015-06-20T21:11:48Z\u0022 title=\u002206/20/2015 09:11  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 20, 2015\u003C/time\u003E by SmashingKirby148**"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-20T21:14:51Z","Content":"What modeling software are you using? Do you know how to UV map your models?\n\nThe only code you\u0027ll have to write for an engine is a config file, unless you intend to write a plug-in, and cfgs are easy enough to get the hang of. Just take a peek at the existing engines setups and figure out what you want to change. But... here.\n\n    PART{    name = VADULE    module = Part    author = Randazzo    MODEL                                 /// \u003C-- this makes something unreadable to the game, so you can type stuff after it. You can do a lot with the MODEL node, like reference textures from another place, but you can also just use mesh = model.mu    {        model = VanguardAstrodynamics/engines/VADULE/model        scale = 1.25,1,1.25    }    scale = 1    rescaleFactor = 1                /// This will default to 1.25, which is fine if your model is a 1 meter scale model and needs to be scaled up.    node_stack_top = 0.0, 0.012, 0.0, 0.0, 1.0, 0.0, 1     node_stack_bottom = 0.0, -0.352, 0.0, 0.0, -1.0, 0.0, 0   // The attachment node definitions. The first six are coordinates. The last one is the visual node size (0,1,2,3) and must be an integer. No 0.5 or anything like that.    node_attach = 0.0, 0.012, 0.0, 0.0, 1.0, 0.0, 1    fx_exhaustFlame_blue_small = 0.0, -0.137, 0.0, 0.0, 1.0, 0.0, running    fx_exhaustLight_blue = 0.0, -0.137, 0.0, 0.0, 0.0, 1.0, running    fx_smokeTrail_light = 0.0, -0.137, 0.0, 0.0, 1.0, 0.0, running    sound_vent_medium = engage    sound_rocket_hard = running    sound_vent_soft = disengage    sound_explosion_low = flameout    TechRequired = advRocketry    entryCost = 1600    cost = 390    category = Engine    subcategory = 0    title = VAD Ultra-Light Engine    manufacturer = Vanguard Astrodynamics    description = Designed to serve primarily as a landing engine, the VADULE is remarkably light yet powerful. However, as a result of it\u0027s lightweight design, it is somewhat more fragile than it\u0027s contemporaries.    attachRules = 1,1,1,0,0   /// Attachment rules. Stack, srfAttach, allowStack, allowSrfAttach, allowCollision. 1 is yes, 0 is no.    mass = 0.15    // heatConductivity = 0.06 // half default    emissiveConstant = 0.8 // engine nozzles are good at radiating.    dragModelType = default    maximum_drag = 0.2    minimum_drag = 0.2    angularDrag = 2    crashTolerance = 4    maxTemp = 2000 // = 3600    bulkheadProfiles = size1    MODULE    {        name = ModuleEngines        thrustVectorTransformName = thrustTransform  // thrustTransform can be named something else, it is the node in your model that denotes the thrust direction.        exhaustDamage = True        ignitionThreshold = 0.1        minThrust = 0        maxThrust = 40          heatProduction = 150        fxOffset = 0, 0, 0.21        EngineType = LiquidFuel        PROPELLANT        {            name = LiquidFuel            ratio = 0.9            DrawGauge = True        }        PROPELLANT        {            name = Oxidizer            ratio = 1.1        }        atmosphereCurve        {            key = 0 365  // These set your ISP curve. 1 = Sea Level on Kerbin or 1 atm. 0 is vacuum, and the bottom one defines at what pressure your engine has zero thrust for a proper curve.             key = 1 85            key = 5 0.001        }    }    MODULE    {        name = ModuleGimbal   // If you have a gimbaling node, this is where you put it.         gimbalTransformName = nozzle        gimbalRange = 4    }    MODULE    {        name = ModuleAnimateHeat        ThermalAnim = heatanim  // If you added an emissive animation, this is where you put it.    }    MODULE    {        name = ModuleAlternator        RESOURCE        {            name = ElectricCharge            rate = 2.0        }    }    RESOURCE    {        name = ElectricCharge        amount = 0        maxAmount = 0        isTweakable = false        hideFlow = true    }    MODULE    {        name = ModuleTestSubject  // Including this will allow your engine to show up in contracts        environments = 15        useStaging = True        useEvent = False    }    MODULE    {        name = ModuleSurfaceFX  // ground smoke        thrustProviderModuleIndex = 0        fxMax = 0.3        maxDistance = 30        falloff = 1.7        thrustTransformName = thrustTransform    }}\n\nThis is important: Make sure your thrustTransform (or whatever you call it) local Z axis is pointing down in Blender. You can switch from local to global by pressing alt\u002Bspace and selecting local. \n\n[![hHhFCPUh.png](http://i.imgur.com/hHhFCPUh.png)](http://imgur.com/hHhFCPU)\n\n**Edited \u003Ctime datetime=\u00222015-06-20T21:33:14Z\u0022 title=\u002206/20/2015 09:33  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 20, 2015\u003C/time\u003E by Randazzo**"},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T21:58:52Z","Content":"\u003E \n\u003E What modeling software are you using? Do you know how to UV map your models?\n\u003E The only code you\u0027ll have to write for an engine is a config file, unless you intend to write a plug-in, and cfgs are easy enough to get the hang of. Just take a peek at the existing engines setups and figure out what you want to change. But... here.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     PART{    name = VADULE    module = Part    author = Randazzo    MODEL                                 /// \u003C-- this makes something unreadable to the game, so you can type stuff after it. You can do a lot with the MODEL node, like reference textures from another place, but you can also just use mesh = model.mu    {        model = VanguardAstrodynamics/engines/VADULE/model        scale = 1.25,1,1.25    }    scale = 1    rescaleFactor = 1                /// This will default to 1.25, which is fine if your model is a 1 meter scale model and needs to be scaled up.    node_stack_top = 0.0, 0.012, 0.0, 0.0, 1.0, 0.0, 1     node_stack_bottom = 0.0, -0.352, 0.0, 0.0, -1.0, 0.0, 0   // The attachment node definitions. The first six are coordinates. The last one is the visual node size (0,1,2,3) and must be an integer. No 0.5 or anything like that.    node_attach = 0.0, 0.012, 0.0, 0.0, 1.0, 0.0, 1    fx_exhaustFlame_blue_small = 0.0, -0.137, 0.0, 0.0, 1.0, 0.0, running    fx_exhaustLight_blue = 0.0, -0.137, 0.0, 0.0, 0.0, 1.0, running    fx_smokeTrail_light = 0.0, -0.137, 0.0, 0.0, 1.0, 0.0, running    sound_vent_medium = engage    sound_rocket_hard = running    sound_vent_soft = disengage    sound_explosion_low = flameout    TechRequired = advRocketry    entryCost = 1600    cost = 390    category = Engine    subcategory = 0    title = VAD Ultra-Light Engine    manufacturer = Vanguard Astrodynamics    description = Designed to serve primarily as a landing engine, the VADULE is remarkably light yet powerful. However, as a result of it\u0027s lightweight design, it is somewhat more fragile than it\u0027s contemporaries.    attachRules = 1,1,1,0,0   /// Attachment rules. Stack, srfAttach, allowStack, allowSrfAttach, allowCollision. 1 is yes, 0 is no.    mass = 0.15    // heatConductivity = 0.06 // half default    emissiveConstant = 0.8 // engine nozzles are good at radiating.    dragModelType = default    maximum_drag = 0.2    minimum_drag = 0.2    angularDrag = 2    crashTolerance = 4    maxTemp = 2000 // = 3600    bulkheadProfiles = size1    MODULE    {        name = ModuleEngines        thrustVectorTransformName = thrustTransform  // thrustTransform can be named something else, it is the node in your model that denotes the thrust direction.        exhaustDamage = True        ignitionThreshold = 0.1        minThrust = 0        maxThrust = 40          heatProduction = 150        fxOffset = 0, 0, 0.21        EngineType = LiquidFuel        PROPELLANT        {            name = LiquidFuel            ratio = 0.9            DrawGauge = True        }        PROPELLANT        {            name = Oxidizer            ratio = 1.1        }        atmosphereCurve        {            key = 0 365  // These set your ISP curve. 1 = Sea Level on Kerbin or 1 atm. 0 is vacuum, and the bottom one defines at what pressure your engine has zero thrust for a proper curve.             key = 1 85            key = 5 0.001        }    }    MODULE    {        name = ModuleGimbal   // If you have a gimbaling node, this is where you put it.         gimbalTransformName = nozzle        gimbalRange = 4    }    MODULE    {        name = ModuleAnimateHeat        ThermalAnim = heatanim  // If you added an emissive animation, this is where you put it.    }    MODULE    {        name = ModuleAlternator        RESOURCE        {            name = ElectricCharge            rate = 2.0        }    }    RESOURCE    {        name = ElectricCharge        amount = 0        maxAmount = 0        isTweakable = false        hideFlow = true    }    MODULE    {        name = ModuleTestSubject  // Including this will allow your engine to show up in contracts        environments = 15        useStaging = True        useEvent = False    }    MODULE    {        name = ModuleSurfaceFX  // ground smoke        thrustProviderModuleIndex = 0        fxMax = 0.3        maxDistance = 30        falloff = 1.7        thrustTransformName = thrustTransform    }}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is important: Make sure your thrustTransform (or whatever you call it) local Z axis is pointing down in Blender. You can switch from local to global by pressing alt\u002Bspace and selecting local. \n\u003E \n\u003E [http://i.imgur.com/hHhFCPUh.png](http://i.imgur.com/hHhFCPUh.png)\n\nI got the model sorted out. And the texture.\n\n![wab0Wld.png](http://i.imgur.com/wab0Wld.png)And thanks as well! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n- - - Updated - - -\n\nI can\u0027t get the Blue arrow to go down"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-20T22:01:33Z","Content":"\u003E \n\u003E I can\u0027t get the Blue arrow to go down\n\nYou do that in Unity, not Blender."},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T22:09:49Z","Content":"\u003E \n\u003E You do that in Unity, not Blender.\n\nOh, ok. Thanks. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-20T22:17:55Z","Content":"\u003E \n\u003E You do that in Unity, not Blender.\n\nI\u0027ve always done it in Blender, is it easier in Unity? Serious question.\n\nDon\u0027t the pre-fab connections get messed up if you do it that way? Does that even matter?"},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T22:43:30Z","Content":"Ok, so I got Unity, and it\u0027s stuck at the connecting bit...\n\n![R8uwR2F.png](http://i.imgur.com/R8uwR2F.png)"},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-20T22:44:56Z","Content":"\u003E \n\u003E Ok, so I got Unity, and it\u0027s stuck at the connecting bit...\n\u003E [http://i.imgur.com/R8uwR2F.png](http://i.imgur.com/R8uwR2F.png)\n\nGood. Cease and desist, and get unity 4.2.2 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"SmashingKirby148","CreatedById":130193,"CreatedDateTime":"2015-06-20T22:50:06Z","Content":"\u003E \n\u003E Good. Cease and desist, and get unity 4.2.2 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nOh, alright. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-21T02:20:38Z","Content":"\u003E \n\u003E I\u0027ve always done it in Blender, is it easier in Unity? Serious question.\n\u003E Don\u0027t the pre-fab connections get messed up if you do it that way? Does that even matter?\n\nIn Unity, add an extra \u0022empty\u0022 GameObject to the part hierarchy, rename it thrustTransform and align it accordingly. That works perfectly fine and doesn\u0027t break any prefabs. \n\n\u003E \n\u003E Ok, so I got Unity, and it\u0027s stuck at the connecting bit...\n\u003E [http://i.imgur.com/R8uwR2F.png](http://i.imgur.com/R8uwR2F.png)\n\n\u003E \n\u003E Good. Cease and desist, and get unity 4.2.2 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n\u003E \n\u003E Oh, alright. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nKSP still uses the legacy animation system for things like engine emissives, so you must use Unity 4.2.2."},{"CreatedByName":"Randazzo","CreatedById":136468,"CreatedDateTime":"2015-06-21T02:34:15Z","Content":"\u003E \n\u003E In Unity, add an extra \u0022empty\u0022 GameObject to the part hierarchy, rename it thrustTransform and align it accordingly. That works perfectly fine and doesn\u0027t break any prefabs.\n\nHow does that work with gimbaling? Would I need to parent it or leave it be?\n\nRight now I\u0027ve got some engines with thrustTransform as parent to the nozzle and some with the Nozzle as parent to the thrustTransform and it never quite looks right."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-21T04:09:01Z","Content":"\u003E \n\u003E How does that work with gimbaling? Would I need to parent it or leave it be?\n\u003E Right now I\u0027ve got some engines with thrustTransform as parent to the nozzle and some with the Nozzle as parent to the thrustTransform and it never quite looks right.\n\nI\u0027ve never made gimballed engines myself, but the following might help you:\n\n[http://forum.kerbalspaceprogram.com/threads/28816-Gimbal-Module?p=355601\u0026viewfull=1#post355601](https://forum.kerbalspaceprogram.com/threads/28816-Gimbal-Module?p=355601\u0026viewfull=1#post355601)\n\n\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/RPt0bMtj8Yc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-06-21T12:56:04Z","Content":"\u003E \n\u003E In Unity, add an extra \u0022empty\u0022 GameObject to the part hierarchy, rename it thrustTransform and align it accordingly. That works perfectly fine and doesn\u0027t break any prefabs. \n\u003E KSP still uses the legacy animation system for things like engine emissives, so you must use Unity 4.2.2.\n\n\u003E \n\u003E How does that work with gimbaling? Would I need to parent it or leave it be?\n\u003E Right now I\u0027ve got some engines with thrustTransform as parent to the nozzle and some with the Nozzle as parent to the thrustTransform and it never quite looks right.\n\nFor gimbaling, I create the thrustTransform in Unity, as Sumghai mentioned, and then move the engine bell\u0027s object under it. It breaks prefab, yes, but that\u0027s never been a problem for me with engines. So far the only parts I\u0027ve found that care about that are the landing gear/legs.\n\nJust remember that the location of the thrustTransform\u0027s \u0022center\u0022 will be the pivot for it to gimbal. So I usually position it at the top of the engine bell for this. If I\u0027m doing a a non-animated gimbal, in which the thrust vector moves but the nozzle doesn\u0027t, then I\u0027ll position it down at the opening of the engine bell instead.\n\nAnd yep, you need 4.2.2 if you want to animate heat glow. Later versions took out the ability to animate the emissive color/brightness."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-06-21T20:57:29Z","Content":"\u003E \n\u003E And yep, you need 4.2.2 if you want to animate heat glow. Later versions took out the ability to animate the emissive color/brightness.\n\nI wouldn\u0027t say that it\u0027s been \u0022taken out\u0022 - rather, from 4.3 onwards, animated emissives require the use of the new mecanim animator component.\n\nUnfortunately, as KSP still uses the legacy animation system, it doesn\u0027t recognize mecanim animator-based emissive animations, hence the current workaround is to use the old 4.2.2 version."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-06-21T22:19:40Z","Content":"\u003E \n\u003E I wouldn\u0027t say that it\u0027s been \u0022taken out\u0022 - rather, from 4.3 onwards, animated emissives require the use of the new mecanim animator component.\n\u003E Unfortunately, as KSP still uses the legacy animation system, it doesn\u0027t recognize mecanim animator-based emissive animations, hence the current workaround is to use the old 4.2.2 version.\n\nYep, that\u0027s what I meant. Worded badly. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"}]}