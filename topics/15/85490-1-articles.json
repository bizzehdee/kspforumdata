{"TopicId":85490,"ForumId":15,"TopicTitle":"[SOLVED] Normal Mapping causes sharp visible edges","CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-27T00:31:07Z","PageNum":1,"Articles":[{"CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-27T00:31:07Z","Content":"\n\u003Cp\u003E\nwhen I have the model loaded with no normal mapping, it comes out fine. But, after adding normal mapping, it causes visible edges. Could it be because of how my UV islands are set up?\n\u003C/p\u003E\n\u003Cp\u003E\nIn the unity screen everything looks fine. Its only when loaded into the game that it shows.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/1WjMA/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-19T20:50:50Z\u0022 title=\u002205/19/2016 08:50  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 19, 2016\u003C/time\u003E by cxg2827\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"noonespecial","CreatedById":81942,"CreatedDateTime":"2014-09-27T07:12:00Z","Content":"\n\u003Cp\u003EThat looks like you don\u0027t have smooth shading turned on in your modeling program. In Blender, that would be in edit mode, under the shading / uv menu.\u003C/p\u003E\n"},{"CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-27T07:22:32Z","Content":"\n\u003Cp\u003Esmooth shading was applied to the model. and then I applied some sharp edges ( not along those areas Im having an issue with) and added the edge split modifier . In Blender and in Unity the model looked smooth like it should (check the full resolution of the second image).\u003C/p\u003E\u003Cp\u003EI think something must have happened when I added seams to the upper 2 conic sections to get the UV map I posted easier. I did a bit of reading and it appeared that adding seams to the model can cause that issue with normal maps.\u003C/p\u003E\u003Cp\u003EI\u0027m removing all seams and redoing the UVs to see if that might solve the issue.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-09-27T21:44:18Z","Content":"\n\u003Cp\u003EDo let us know if you figure out what went wrong.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-27T21:58:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cxg2827\u0022 data-cite=\u0022cxg2827\u0022\u003E\u003Cdiv\u003Esmooth shading was applied to the model. and then I applied some sharp edges ( not along those areas Im having an issue with) and added the edge split modifier . In Blender and in Unity the model looked smooth like it should (check the full resolution of the second image).\u003Cp\u003EI think something must have happened when I added seams to the upper 2 conic sections to get the UV map I posted easier. I did a bit of reading and it appeared that adding seams to the model can cause that issue with normal maps.\u003C/p\u003E\u003Cp\u003EI\u0027m removing all seams and redoing the UVs to see if that might solve the issue.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Esome engines have issues with mirrored Normal maps; I don\u0027t think Unity has that problem. how did you generate the normal maps? It could be that the Green channel needs to be inverted before importing to Unity.\u003C/p\u003E\n"},{"CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-27T22:15:33Z","Content":"\n\u003Cp\u003EI just generated the normal map by loading a grayscale height map, and checking the box for unity to generate it via the grayscale. \u003C/p\u003E\u003Cp\u003EI downloaded xNormal, and will be giving that a try rather than having unity make it.\u003C/p\u003E\u003Cp\u003ECpt. Kipard, I\u0027m going to mess with it probably tonight or tomorrow, so I\u0027ll post up my troubleshooting if I manage to figure out what goofed it up.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-27T22:21:11Z","Content":"\n\u003Cp\u003EThe in game image doesn\u0027t seem to show the normal map at all. are you using KSP/Bump or KSP/BumpSpecular shader? It could be the edges are sharp, but the normal map in Unity was hiding it.\u003C/p\u003E\n"},{"CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-27T22:30:10Z","Content":"\n\u003Cp\u003Ethe in-game shot was with just KSP/Bump. \u003C/p\u003E\u003Cp\u003EAnd yea, the normal map didnt come through for some reason in that screenshot. I was modifying the height map to make it pop a bit less and i guess i passed a threshold that it didnt display in game. \u003C/p\u003E\u003Cp\u003EEarlier the map came through in game with the sharp edges still coming through so i was seeing if changes the height map might make it go away.\u003C/p\u003E\u003Cp\u003Ehere are my sharps that were applied in blender. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Uaxe9VP.jpg\u0022 alt=\u0022Uaxe9VP.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ximrm","CreatedById":111063,"CreatedDateTime":"2014-09-28T02:58:27Z","Content":"\n\u003Cp\u003EI know that problem(not from ksp but from modelling).\u003C/p\u003E\u003Cp\u003EIt has to do with smoothing and baking.\u003C/p\u003E\u003Cp\u003E-If you have a too low smoothing angle(eg. 15\u00C3\u201A\u00C2\u00B0) and bake the model, it will have those sharp edges.\u003C/p\u003E\u003Cp\u003E-Another thing that can cause it is when you use tools like crazybump, shadermap, njob or others to convert maps to normal.(not sure about the unity conversion, but it shouldn\u0027t be very different)\u003C/p\u003E\u003Cp\u003EIf the settings are not well set, (eg. low detail settings/too low slope/texture influence), the map created might have too sharp or rounded edges, where edges shouldn\u0027t exist.\u003C/p\u003E\u003Cp\u003EBTW, looking at the picture, I have the feeling that the nrmmap is inverted (-Y), also the parts that should stick out don\u0027t seem to have any bump effect.It\u0027s more like a diffuse /color map with a bake of the edges without smoothing and converted with an eternal program.\u003C/p\u003E\u003Cp\u003EI\u0027m really curious what the issue is.\u003C/p\u003E\u003Cp\u003EHowever, in this case I\u0027m not sure what is causing the problem, but if someone has similar problems, those two things might be the cause for that unwanted effect.\u003C/p\u003E\u003Cp\u003ECould you please post a picture of the settings or maybe the workflow of your map creation?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-28T03:04:04Z\u0022 title=\u002209/28/2014 03:04  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 28, 2014\u003C/time\u003E by ximrm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cxg2827","CreatedById":57380,"CreatedDateTime":"2014-09-28T05:50:43Z","Content":"\n\u003Cp\u003E\nOk, I figured out the problem/solution:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EDo not use Unity\u0027s Normal from grayscale converter\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEven when I removed the seams from the model, it still had the sharp edges. faces sharing textures also came out looking funky.\n\u003C/p\u003E\n\u003Cp\u003E\nI downloaded and used xNormal to generate my normal, and everything looks fine now. I noticed that the normal mapping is much more subtle with the xNormal map as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/L2IW7/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-19T20:50:26Z\u0022 title=\u002205/19/2016 08:50  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 19, 2016\u003C/time\u003E by cxg2827\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CobaltWolf","CreatedById":105588,"CreatedDateTime":"2016-05-19T20:22:06Z","Content":"\n\u003Cp\u003E\nSorry for the necro, but I was having the same issue. I was able to use xNormal to fix it. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/70516-captainkipard/\u0026amp;do=hovercard\u0022 data-mentionid=\u002270516\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/70516-captainkipard/\u0022 rel=\u0022\u0022\u003E@CaptainKipard\u003C/a\u003E could you put this in the megathread?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/rgXTP/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}