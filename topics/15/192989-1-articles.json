{"TopicId":192989,"ForumId":15,"TopicTitle":"Wheels Bouncing On Launch, Incurable Bug?","CreatedByName":"Beale","CreatedById":70533,"CreatedDateTime":"2020-04-08T14:18:06Z","PageNum":1,"Articles":[{"CreatedByName":"Beale","CreatedById":70533,"CreatedDateTime":"2020-04-08T14:18:06Z","Content":"\n\u003Cp\u003E\nAfter an insane amount of troubleshooting and playing around, finally I have a working free-wheel landing gear, which deploys and retracts.\u003Cbr\u003E\nEverything is working, suspension, steering, friction, I can hardly believe my luck \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ELink:\u003C/span\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/Tantares/CRE\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Tantares/CRE\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHowever! There is one huge final problem, if the craft with these wheels leaves the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E with them extended, it will \u0022bounce\u0022 as the physics load in,\u00A0 launching the craft metres in the air.\u003Cbr\u003E\nI assume this is because it loads with the colliders in the ground. \u003Cstrong\u003EWhat determines the height at which wheels are placed off ground if they are the bottom of the vessel?\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve played around with the config for hours on this, but I\u0027m at my wits end, is there a known solution?\n\u003C/p\u003E\n\u003Cp\u003E\nHere is my Unity Hierarchy:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022WAzQhtK.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002228.23\u0022 height=\u0022287\u0022 style=\u0022width:333px;height:auto;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/WAzQhtK.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022mvhbjS7.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002267.27\u0022 height=\u0022688\u0022 style=\u0022width:333px;height:auto;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/mvhbjS7.jpg\u0022\u003E\u003Cbr\u003E\u003Cimg alt=\u0022izyXm3y.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002259.46\u0022 height=\u0022607\u0022 style=\u0022width:333px;height:auto;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/izyXm3y.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nDoesn\u0027t seem to work changing:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\ngroundHeightOffset\n\u003C/li\u003E\n\u003Cli\u003E\ntargetPosition\n\u003C/li\u003E\n\u003Cli\u003E\nsuspensionOffset\n\u003C/li\u003E\n\u003Cli\u003E\nFitWheelColliderToMesh\n\u003C/li\u003E\n\u003Cli\u003E\nCentre/Radius/Mass/etc\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nConfig, wheel modules only:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODULE\n{\n\tname = ModuleWheelBase\n\t\n\twheelColliderTransformName = wheelCollider\t\t\n\twheelTransformName = wheelPivot\n\t\n\twheelType = FREE\n\n\t// setting this to true will override the radius and center parameters\n\tFitWheelColliderToMesh = False\t\t\n\tradius = 0.2125\n\tcenter = 0,0,0\n\tmass = 0.04\n\tgroundHeightOffset = 0.875\n\t\t\t\n\tTooltipTitle = #autoLOC_502080 //#autoLOC_502080 = Landing Gear\n\tTooltipPrimaryField = #autoLOC_6004048 //#autoLOC_6004048 = Steerable, No Brakes\n}\nMODULE\n{\n\tname = ModuleWheelSuspension\n\tbaseModuleIndex = 0\n\tsuspensionTransformName = suspensionPivot\n\tmaximumLoad = 10.0\n\tsuspensionDistance = 0.12\n\tsuspensionOffset = 0.0\n\ttargetPosition = 0.0\t\t\n\tspringRatio = 12\n\tdamperRatio = 2.0\n}\nMODULE\n{\n\tname = ModuleWheelSteering\n\tbaseModuleIndex = 0\n\t\n\tcaliperTransformName = steeringPivot\n\t\n\tsteeringResponse = 2\t\t\n\tsteeringCurve\n\t{\n\t\tkey = 0 30\n\t\tkey = 10 9\n\t\tkey = 30 2\n\t}\n}\nMODULE\n{\n\tname = ModuleWheelBrakes\n\tbaseModuleIndex = 0\n\t\n\tmaxBrakeTorque = 4\n\tbrakeResponse = 1\n}\nMODULE\n{\n\tname = ModuleWheelDeployment\n\tbaseModuleIndex = 0\n\t\n\tanimationTrfName = landingGear\n\tanimationStateName = blue_steel_landing_gear_srf_1_deploy\n\tdeployedPosition = 0\n\tdeployTargetTransformName = deployTarget\n\t\n\tTsubSys = 1.0\n\tuseStandInCollider = True\n\t\n\tfxDeploy = deploy\n\tfxRetract = retract\n\tfxDeployed = deployed\n\tfxRetracted = retracted\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnd my full config:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\n\tname = blue_steel_landing_gear_srf_1\n\tmodule = Part\n\tauthor = Beale\n\tmesh = model.mu\n\n\tMODEL\n\t{\n\t\tmodel = CRE/parts/_misc_landing_gear/blue_steel/blue_steel_landing_gear_srf_1\n\t\tscale = 1, 1, 1\n\t}\n\tscale = 1.0\n\trescaleFactor  = 1.0\n\n\tnode_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1\n\n\tbulkheadProfiles = srf\n\n\tattachRules = 1,1,1,1,1,0,0,0\n\n\t\n\n\tTechRequired = aviation\n\tentryCost = 1500\n\tcost = 150\n\tcategory = Ground\n\tsubcategory = 0\n\ttitle = #LOC_cre_blue_steel_landing_gear_srf_1\n\tmanufacturer = #LOC_cre_manufacturer_black_arrow\n\tdescription = #LOC_cre_blue_steel_landing_gear_srf_1_description\n\n\ttags = #LOC_cre_blue_steel_avionics_s0_1_tags\n\n\t\n\tmass = 0.045\n\tthermalMassModifier = 4.0 \n\t// heatConductivity = 0.06\n\temissiveConstant = 0.95\n\tdragModelType = default\n\tmaximum_drag = 0.3\n\tminimum_drag = 0.2\n\tangularDrag = 1\n\tmaxTemp = 1000 \n\tcrashTolerance = 325\n\tbreakingForce = 50\n\tbreakingTorque = 50\n\tPhysicsSignificance = 0\n\n\t\n\tEFFECTS\n\t{\n\t\tdeploy\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_start\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 0.95\n\t\t\t}\n\t\t\tAUDIO_LOOP\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_loop\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 0.75\n\t\t\t}\n\t\t}\n\t\tdeployed\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_stop\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 0.75\n\t\t\t}\n\t\t}\n\t\tretract\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_stop\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 1.0\n\t\t\t}\n\t\t\tAUDIO_LOOP\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_loop\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 0.75\n\t\t\t}\n\t\t}\n\t\tretracted\n\t\t{\n\t\t\tAUDIO\n\t\t\t{\n\t\t\t\tchannel = Ship\n\t\t\t\tclip = Squad/Sounds/elev_start\n\t\t\t\tvolume = 0 0\n\t\t\t\tvolume = 1 0.5\n\t\t\t\tpitch = 0.95\n\t\t\t}\n\t\t}\n\t}\n\t\n\tMODULE\n\t{\n\t\tname = ModuleWheelBase\n\t\t\n\t\twheelColliderTransformName = wheelCollider\t\t\n\t\twheelTransformName = wheelPivot\n\t\t\n\t\twheelType = FREE\n\n\t\t// setting this to true will override the radius and center parameters\n\t\tFitWheelColliderToMesh = False\t\t\n\t\tradius = 0.2125\n\t\tcenter = 0,0,0\n\t\tmass = 0.04\n\t\tgroundHeightOffset = 0.875\n\t\t\t\t\n\t\tTooltipTitle = #autoLOC_502080 //#autoLOC_502080 = Landing Gear\n\t\tTooltipPrimaryField = #autoLOC_6004048 //#autoLOC_6004048 = Steerable, No Brakes\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleWheelSuspension\n\t\tbaseModuleIndex = 0\n\t\tsuspensionTransformName = suspensionPivot\n\t\tmaximumLoad = 10.0\n\t\tsuspensionDistance = 0.12\n\t\tsuspensionOffset = 0.0\n\t\ttargetPosition = 0.0\t\t\n\t\tspringRatio = 12\n\t\tdamperRatio = 2.0\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleWheelSteering\n\t\tbaseModuleIndex = 0\n\t\t\n\t\tcaliperTransformName = steeringPivot\n\t\t\n\t\tsteeringResponse = 2\t\t\n\t\tsteeringCurve\n\t\t{\n\t\t\tkey = 0 30\n\t\t\tkey = 10 9\n\t\t\tkey = 30 2\n\t\t}\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleWheelBrakes\n\t\tbaseModuleIndex = 0\n\t\t\n\t\tmaxBrakeTorque = 4\n\t\tbrakeResponse = 1\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleWheelDeployment\n\t\tbaseModuleIndex = 0\n\t\t\n\t\tanimationTrfName = landingGear\n\t\tanimationStateName = blue_steel_landing_gear_srf_1_deploy\n\t\tdeployedPosition = 0\n\t\tdeployTargetTransformName = deployTarget\n\t\t\n\t\tTsubSys = 1.0\n\t\tuseStandInCollider = True\n\t\t\n\t\tfxDeploy = deploy\n\t\tfxRetract = retract\n\t\tfxDeployed = deployed\n\t\tfxRetracted = retracted\n\t}\n\n\t\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-08T14:19:57Z\u0022 title=\u002204/08/2020 02:19  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 8, 2020\u003C/time\u003E by Beale\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2020-04-19T16:37:48Z","Content":"\n\u003Cp\u003E\nThis doesn\u0027t sound like quite the same situation but I\u0027ll throw them out there anyway.\n\u003C/p\u003E\n\u003Cp\u003E\nOne standard (non-deployable) wheel that had extreme bounce on load had two colliders (collision enhancer and base collider) intersecting - corrected that and the wheel behaved much better.\n\u003C/p\u003E\n\u003Cp\u003E\nA landing leg that would bounce during deploy benefited from a lower TsubSys - though this as I understand it is where the wheel collider cuts in in the deploy sequence so probably not applicable to you situation but I don\u0027t know what happens during load.\n\u003C/p\u003E\n\u003Cp\u003E\nIn a third case a standard wheel bounces multiple meters on load - the wheel is the same setup as another wheel that behaves fine - just different model.\n\u003C/p\u003E\n\u003Cp\u003E\nGood luck!\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Playing with some wheels that bounced to the point of being unusable and found that a number of them behave much better if I have a collision enhancer that\u0027s 80% of the tire radius or bigger. Would have sworn I had tried this before without any noticeable effect.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-12T03:28:17Z\u0022 title=\u002205/12/2020 03:28  AM\u0022 data-short=\u00224 yr\u0022\u003EMay 12, 2020\u003C/time\u003E by wasml\u003C/strong\u003E\n\u003Cbr\u003EExtra info\n\u003C/span\u003E\n"}]}