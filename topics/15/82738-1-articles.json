{"TopicId":82738,"ForumId":15,"TopicTitle":"Why doesn\u0026#039;t PART{MODEL{}} in a .cfg file act like subclassing?","CreatedByName":"Jamin","CreatedById":118218,"CreatedDateTime":"2014-08-24T16:57:44Z","PageNum":1,"Articles":[{"CreatedByName":"Jamin","CreatedById":118218,"CreatedDateTime":"2014-08-24T16:57:44Z","Content":"\n\u003Cp\u003EI\u0027ve been trying to do some fairly simple \u0027modding\u0027. Okay, EXTREMELY simple modding. I wanted to join a bunch of trusses together to reduce part count. (Yes, I\u0027m aware of the \u0027UbioWeldingLtd\u0027 mod, and it sounds excellent, but for some reason it is broken for me in 24.2 with MechJeb, InfernalRobotics, and TweakScale.) Turns out even a stack of four trusses was too complicated for starters. So I tried what I thought would be The Very Simplest Thing : Make a \u0027new\u0027 truss that is basically a re-badged clone of a stock truss. That\u0027s right, an \u0027assembly\u0027 of one part, changing none of its parameters. I had imagined that what would go in my config file would be something like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPART {\u003Cbr\u003Ename = trussClone\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = NovaSilisko, Jamin\u003Cbr\u003EMODEL {\u003Cbr\u003Emodel = Squad/Parts/Structural/trussPiece1x/model\u003Cbr\u003E}\u003Cbr\u003Etitle = Clone of the 1x1 Truss\u003Cbr\u003Emanufacturer = Jamin Corporation\u003Cbr\u003Edescription = Nothing at all like a plain 1x1 truss, except for everything.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E[INDENT]}[/INDENT]\u003C/p\u003E\u003Cp\u003E\u003Cbr\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIn my fantasy-land, everything else would be inherited in some smart fashion when it was noticed that PART{} contained one or more MODEL{}. So maybe the default cost and mass could be the sum of all the costs of the MODELs within, the strength and temperature of the assembly could be that of the least strong and most melty components within, and maybe there\u0027s some wise way to combine attachRules of all the pieces into default attachRules for the new part.\u003C/p\u003E\u003Cp\u003EI was very astonished to learn that the minimum needed to accomplish my goal of make a clone of the 1x1 truss was more like this (and it still might not be quite right):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPART {\u003Cbr\u003Ename = trussClone\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = NovaSilisko, Jamin\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EMODEL {\u003Cbr\u003Emodel = Squad/Parts/Structural/trussPiece1x/model\u003Cbr\u003E}\u003Cbr\u003ErescaleFactor=1.0 // default is something like 2, why???\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enode_stack_bottom = 0.0, -0.5592728, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003Enode_stack_top = 0.0, 0.5592728, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003Enode_attach = 0.0, -0.5592728, 0.0, 0.0, -1.0, 0.0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Ecost = 25\u003Cbr\u003Ecategory = Structural\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = Clone of the 1x1 Truss\u003Cbr\u003Emanufacturer = Jamin Corporation\u003Cbr\u003Edescription = Nothing at all like a plain 1x1 truss, except for everything.\u003Cbr\u003EattachRules = 1,1,1,1,0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Emass = 0.1\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.2\u003Cbr\u003Eminimum_drag = 0.2\u003Cbr\u003EangularDrag = 1\u003Cbr\u003EcrashTolerance = 80\u003Cbr\u003EbreakingForce = 200\u003Cbr\u003EbreakingTorque = 200\u003Cbr\u003EmaxTemp = 5000\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI think the greatest offender might have to be \u0027rescaleFactor\u0027; lacking inheritance, I would have expected the default to be 1.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-08-24T17:40:41Z","Content":"\n\u003Cp\u003Edefault rescaleFactor in KSP is 1.25. \u003C/p\u003E\u003Cp\u003EMODEL{} only works for mesh and textures. it works that way because the part isn\u0027t compiled until after the model, textures, and config files have been loaded. trying to inherit part modules from the MODEL{} would just get you alot of NREs.\u003C/p\u003E\u003Cp\u003Eif you use rescaleFactor with MODEL{}, there\u0027s a bug that applies rescaleFactor twice. i.e. to get half size you need rescaleFactor set to 0.707; double you need rescaleFactor set to 1.414. best to force rescaleFactor to 1; and use the scale = x,y,z within MODEL{}\u003C/p\u003E\n"}]}