{"TopicId":155140,"ForumId":15,"TopicTitle":"[Solved] Regarding ModuleColorChanger","CreatedByName":"Eleusis La Arwall","CreatedById":116286,"CreatedDateTime":"2017-01-17T19:17:17Z","PageNum":1,"Articles":[{"CreatedByName":"Eleusis La Arwall","CreatedById":116286,"CreatedDateTime":"2017-01-17T19:17:17Z","Content":"\n\u003Cp\u003E\nI\u0027ve discovered the awesome ModuleColorChanger recently and played around with it for a while. Also started a documentation until I noticed that it is already pretty well \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147576-modders-notes-for-ksp-12/\u0022 rel=\u0022\u0022\u003Edocumented\u003C/a\u003E (Thank you \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114736\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114736-jplrepo/\u0022 rel=\u0022\u0022\u003E@JPLRepo\u003C/a\u003E !). In the \u003Ca href=\u0022http://docuwiki-kspapi.rhcloud.com/#/classes/ModuleColorChanger\u0022 rel=\u0022external nofollow\u0022\u003Ecommunity API documentation\u003C/a\u003E I saw two additional entrys called \u0022excludedRenderer\u0022 and \u0022includedRenderer\u0022. Found some information about that in \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003Es \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/137806-122-indicatorlights-v127-small-convenient-informative/\u0026amp;do=findComment\u0026amp;comment=2818110\u0022 rel=\u0022\u0022\u003EIndicator Lights thread\u003C/a\u003E. So I took a look at the configs, but I only found examples to in/exclude entire .mu files.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIs it possible to use the ex/includedRenderer entry for different meshes in one single .mu file?\u003C/strong\u003E Did some trial \u0026amp; error but without success so far (see bottom).\n\u003C/p\u003E\n\u003Cp\u003E\nMy particular situation:\u003Cbr\u003E\nI have a series of storage tanks that make use of the meshswitcher provided by Firespitter/IFS. The switchable meshes also use a glow animation with different color settings for each mesh. The trouble is that every time I change one emissive color of a mesh I have to edit all the animations and re-export all tanks which is annoying. The ColorChanger module could make that a lot easyier in combination with the apropriate \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E config.\n\u003C/p\u003E\n\u003Cp\u003E\nCouple of month ago I did some experiments with multiple MODEL {} entrys in a single part-config but I couldn\u0027t get the meshswitch to work properly.\n\u003C/p\u003E\n\u003Cp\u003E\nunity setup:\u003Cbr\u003E\u003Cimg alt=\u0022aX64VJ6.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/aX64VJ6.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis is what I have tested so far:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EexcludedRenderer = KeridianDynamics/Parts/KD-MobileVAB/modelT2501FS/KD-T2501FS/Model/FS01(Clone)\nexcludedRenderer = KeridianDynamics/Parts/KD-MobileVAB/modelT2501FS/KD-T2501FS/Model/FS01\nexcludedRenderer = KeridianDynamics/Parts/KD-MobileVAB/modelT2501FS/GameObject/KD-T2501FS/Model/FS01(Clone)\nexcludedRenderer = KeridianDynamics/Parts/KD-MobileVAB/modelT2501FS/GameObject/KD-T2501FS/Model/FS01\nexcludedRenderer = KD-T2501FS/Model/FS01(Clone)\nexcludedRenderer = KD-T2501FS/Model/FS01\nexcludedRenderer = GameObject/KD-T2501FS/Model/FS01(Clone)\nexcludedRenderer = GameObject/KD-T2501FS/Model/FS01\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nmodelT2501FS.mu is located in \u0022GameData/KeridianDynamics/Parts/KD-MobileVAB/\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nEntire part config:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E// Keridian Dynamics\n// KD-T2501FS\n\nPART\n{\n\t// General parameters\n\tname = KD-T2501FS\n\tmodule = Part\n\tauthor = Eleusis La Arwall\n\n\t// Asset parameters\n\tMODEL\n\t{\n\t\tmodel = KeridianDynamics/Parts/KD-MobileVAB/modelT2501FS\n\t}\n//\tmesh = modelT2501FS.mu\n\tscale = 1\n\trescaleFactor = 1\n\n\t// Node definitions - Position X, Position Y, Position Z, Up X, Up Y, Up Z\n\tnode_stack_top = 0.0, 0.6, 0.0, 0.0, 1.0, 0.0, 2\n\tnode_stack_bottom = 0.0, -0.6, 0.0, 0.0, -1.0, 0.0, 2\n\tnode_attach = 0.0, 0.0, 1.3, 0.0, 0.0, -1.0\n\n\t// Editor parameters\n\tTechRequired = advConstruction\n\tentryCost = 2800\n\tcost = 1600\n\tcategory = FuelTank\n\tsubcategory = 0\n\ttitle = KD-T2501FS\n\tmanufacturer = Keridian Dynamics\n\tdescription = 2.5 m sized non-passable storage tank (Small).\n\n\t// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\n\tattachRules = 1,1,1,1,0\n\n\t// Standard part parameters\n\tmass = 1.15\n\tfuelCrossFeed = True\n\tCrewCapacity = 0\n\tbulkheadProfiles = size2\n\ttags = base station (stor (tank contain resource (ore metal rocketparts\n\n\t// Drag\n\tdragModelType = default\n\tmaximum_drag = 0.2\n\tminimum_drag = 0.2\n\tangularDrag = 2\n\n\t// Damage and Temperature\n\tcrashTolerance = 10\n\tmaxTemp = 1600\n\n\t// Internals\n\tINTERNAL\n\t{\n\t\tname = KD_T2501_IVA\n\t}\n\n\t// Modules\n\tMODULE\n\t{\n\t\tname = ModuleAnimateGeneric\n\t\tanimationName = T2501FSLight\n\t\tstartEventGUIName = Lights On\n\t\tendEventGUIName = Lights Off\n\t\tactionGUIName = Toggle Lights\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleColorChanger\n\t\tshaderProperty = _EmissiveColor\n\t\tanimRate = 0.8\n\t\tanimState = false\n\t\tuseRate = true\n\t\ttoggleInEditor = true\n\t\ttoggleInFlight = true\n\t\tunfocusedRange = 5\n\t\ttoggleName = Toggle Lights\n\t\teventOnName = Lights On\n\t\teventOffName = Lights Off\n\t\ttoggleAction = True\n\t\tdefaultActionGroup = Light\n\t\tredCurve\n\t\t{\n\t\t\tkey = 0 0 0 3\n\t\t\tkey = 1 1 0 0\n\t\t}\n\t\tgreenCurve\n\t\t{\n\t\t\tkey = 0 0 0 1\n\t\t\tkey = 1 1 1 0\n\t\t}\n\t\tblueCurve\n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 1 0.7 1.5 0\n\t\t}\n\t\talphaCurve\n\t\t{\n\t\t\tkey = 0 1\n\t\t}\n\t\texcludedRenderer = KD-T2501FS/Model/FS01(Clone)\n\t}\n\n\t// Resources\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-17T20:50:14Z\u0022 title=\u002201/17/2017 08:50  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 17, 2017\u003C/time\u003E by Eleusis La Arwall\u003C/strong\u003E\n\u003Cbr\u003ESolved\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2017-01-17T19:46:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222925072\u0022 data-ipsquote-contentid=\u0022155140\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484680637\u0022 data-ipsquote-userid=\u0022116286\u0022 data-ipsquote-username=\u0022Eleusis La Arwall\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n34 minutes ago, Eleusis La Arwall said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIs it possible to use the ex/includedRenderer entry for different meshes in one single .mu file?\u003C/strong\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, and in fact I do that in IndicatorLights.\u00A0 I ran smack into this when they added the ModuleColorChanger in 1.2, because one of the things my mod does is to add additional meshes to some of the stock crewed parts, and I need to make it so that the ModuleColorChanger that controls the cabin lights on the stock part won\u0027t stomp on the meshes that I\u0027m adding.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s an example of it in action, in which I specify excludedRenderer on a per-mesh basis:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSPSnark/IndicatorLights/blob/master/files/Parts/crewable/mk1pod.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSPSnark/IndicatorLights/blob/master/files/Parts/crewable/mk1pod.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n...scroll down to the \u0022tweaks\u0022 section at the bottom.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically, the path needed in order to work will be one of two forms:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nIf you\u0027re referencing a \u0022native\u0022 mesh that\u0027s part of the model itself, it\u0027s just the mesh name; no path information.\n\u003C/li\u003E\n\u003Cli\u003E\nIf you\u0027re referencing a mesh that got added via ModuleManager, then you need the complete path to the mesh file under GameData, with \u0022(Clone)\u0022 appended to the end.\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Eleusis La Arwall","CreatedById":116286,"CreatedDateTime":"2017-01-17T20:48:01Z","Content":"\n\u003Cp\u003E\nIt works! Thank you very much for the detailed explanation! This module is getting better and better \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately I have 9 Light on/off buttons on that part now. with\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\ttoggleInEditor = false\n\t\ttoggleInFlight = false\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nthe menu-spam can be avoided but the lights can only be toggled by action groups.\n\u003C/p\u003E\n"}]}