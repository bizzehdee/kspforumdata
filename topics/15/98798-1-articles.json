{"TopicId":98798,"ForumId":15,"TopicTitle":"Normal map not working in game when generated in gimp.","CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T01:35:02Z","PageNum":1,"Articles":[{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T01:35:02Z","Content":"\n\u003Cp\u003ESo after trying to use Unity to make normal maps from greyscale and getting really bad and pixelated results, I got the gimp normal map plugin. When imported into KSP though the bumping doesn\u0027t show up and looks the same as a diffuse texture. It looks fine in Unity, and I have the normal map marked as a normal map, so I\u0027m not sure what I am doing wrong... The texture has _NRM marked at the end as well, so I know that that isn\u0027t it.\u003C/p\u003E\u003Cp\u003EIn Unity:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/SNrzc8i.png\u0022 alt=\u0022SNrzc8i.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn KSP missing the bump:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RubW6SJ.png\u0022 alt=\u0022RubW6SJ.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-02-05T03:19:15Z","Content":"\n\u003Cp\u003ETry cranking the scale right up when generating the map, it\u0027ll give you a handle on whether it\u0027s really doing anything in KSP. Also, the lighting is weird in the editor, subtle stuff only seems to really show in flight. I know the default options for the gimp plugin with fine in KSP, I use it myself.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T05:00:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ETry cranking the scale right up when generating the map, it\u0027ll give you a handle on whether it\u0027s really doing anything in KSP. Also, the lighting is weird in the editor, subtle stuff only seems to really show in flight. I know the default options for the gimp plugin with fine in KSP, I use it myself.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah I can\u0027t figure out the lighting thing, I\u0027ve exported the part out of Unity with different settings a dozen times but no change \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E. I increased the scale to like 40 in Gimp and the bump is showing up in KSP now, although it is really blocky and pixelated still.. the bolts almost show up as squares haha.\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-02-05T05:11:08Z","Content":"\n\u003Cp\u003EIs there any way of using the nVidia tools with GIMP ( or is that what you\u0027re using anyway? ). I exported this from Photoshop with the nVidia-sourced plugin with a scale of 8, the rivets certainly seem to pop up:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://flic.kr/p/q5Y2N5\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022https://farm8.staticflickr.com/7333/15808760724_6b30f443dd_b.jpg\u0022 alt=\u002215808760724_6b30f443dd_b.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T05:28:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Van Disaster\u0022 data-cite=\u0022Van Disaster\u0022\u003E\u003Cdiv\u003EIs there any way of using the nVidia tools with GIMP ( or is that what you\u0027re using anyway? ).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure if you can, although I\u0027ve never looked into it. I don\u0027t have photoshop either or else I would try... I know that lots of people use the plugin for Gimp and get good results though. \u003C/p\u003E\u003Cp\u003EMy map looks like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/7VaaSHw.png\u0022 alt=\u00227VaaSHw.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Ebut in KSP looks like this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/KVMTXXI.png\u0022 alt=\u0022KVMTXXI.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E(sorry for the large images, but it\u0027s hard to see the details without them)\u003C/p\u003E\u003Cp\u003EThe map is scaled up in Unity to 2048x2048 also because otherwise the pixelation on the bolts would be worse. I\u0027d like to use 512x512 if I can to reduce memory. Am i just trying to add bump to areas that are too small to look good?\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-02-05T06:00:40Z","Content":"\n\u003Cp\u003EPerhaps try bumped specular? this is the map from the hub ( which has bits of another model mapped in too )\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/44XeqSz.jpg\u0022 alt=\u002244XeqSz.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo yours should be doing more than it is.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T06:23:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Van Disaster\u0022 data-cite=\u0022Van Disaster\u0022\u003E\u003Cdiv\u003EPerhaps try bumped specular? this is the map from the hub ( which has bits of another model mapped in too )\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/44XeqSz.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/44XeqSz.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESo yours should be doing more than it is.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerhaps.. I\u0027ll give it a try when I have time tomorrow and see what happens. It\u0027s pretty frustrating because it seems as though I\u0027m doing everything right xD\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-02-05T07:19:54Z","Content":"\n\u003Cp\u003EVAB Lighting is a bit weird. Launch your part and timewarp to see if it works.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T08:47:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EVAB Lighting is a bit weird. Launch your part and timewarp to see if it works.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI put my part on the pad and timewarped, but the light coming from the tower still had the same effect with the harsh shadow line. It seems that any natural light source (the sun) seems to cast shadows on it fine, but artificial sources cause the weird effect.\u003C/p\u003E\u003Cp\u003EIt\u0027s strange that it is only happening with this one part, since my smaller thrusters on the sides are normal. \u003C/p\u003E\u003Cp\u003EYou can see it happen with an EVA\u0027d Kerbal\u0027s lights too, for example:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/aE2DvhJ.png\u0022 alt=\u0022aE2DvhJ.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-02-05T12:37:44Z","Content":"\n\u003Cp\u003ECan you see a button in your inspector anywhere telling you \u0022Fix\u0022 the normal map?\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-05T18:37:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003ECan you see a button in your inspector anywhere telling you \u0022Fix\u0022 the normal map?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo I made sure to press that when I dragged the texture into the slot in the material inspector.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2015-02-07T09:32:07Z","Content":"\n\u003Cp\u003EWhat DPI does your normal map have?\u003C/p\u003E\u003Cp\u003Eif it\u0027s 72, increase to 300 - that might help..\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-07T21:30:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003EWhat DPI does your normal map have?\u003Cp\u003Eif it\u0027s 72, increase to 300 - that might help..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI changed it to 300 and you\u0027re right, that makes it look a lot better, thanks!\u003C/p\u003E\u003Cp\u003EAlso, I fixed the weird lighting issue. Turns out I missed a small step when importing the mesh to Unity. Instead of \u0022calculate normals\u0022 I left it as \u0022import normals,\u0022 so it was doing wonky things in-game visually because of that. Now it looks fine \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Oy, that was frustrating lol.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-02-08T03:59:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Quiznos323\u0022 data-cite=\u0022Quiznos323\u0022\u003E\u003Cdiv\u003EI changed it to 300 and you\u0027re right, that makes it look a lot better, thanks!\u003Cp\u003EAlso, I fixed the weird lighting issue. Turns out I missed a small step when importing the mesh to Unity. Instead of \u0022calculate normals\u0022 I left it as \u0022import normals,\u0022 so it was doing wonky things in-game visually because of that. Now it looks fine \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Oy, that was frustrating lol.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo DPI has nothing to do with it then, right? Screens don\u0027t care about inches.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-08T05:08:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003ESo DPI has nothing to do with it then, right? Screens don\u0027t care about inches.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the DPI change may have helped with the normal map pixelation, but now that I have the model imported correctly I can test it again with the 72 DPI that I had earlier and see if it really did have any effect.\u003C/p\u003E\n"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-02-17T16:12:25Z","Content":"\n\u003Cp\u003EA thought - what would be the extra tri count in just adding detail to the mesh instead? I suspect any performance hit would be less than the extra pass caused by using a normal map, it\u0027s not all that much detail in it. I modelled some horribly overdetailed rivet heads which cost more tris than the entire rest of my hub I think, but in the end it\u0027s still nothing much as tri-counts go.\u003C/p\u003E\n"},{"CreatedByName":"Quiznos323","CreatedById":114900,"CreatedDateTime":"2015-02-17T22:23:43Z","Content":"\n\u003Cp\u003EYeah that might be better performance-wise, although would require unwrapping and taking the part through Unity again...a process which I\u0027d like not to do at the moment, but maybe if I ever go back and try to make optimizations I could see about doing this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}