{"TopicId":44674,"ForumId":15,"TopicTitle":"Getting rid of decoupler shrouds in stock engines","CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-09-02T04:54:04Z","PageNum":1,"Articles":[{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-09-02T04:54:04Z","Content":"\n\u003Cp\u003EAs part of a new Service Module parts pack I\u0027m working on, I intend to make use of a copy of the stock LV-909 engine (via MODEL{} node referencing). \u003C/p\u003E\u003Cp\u003EHowever, since the lower half of the service module will be encased in its own fairing, I\u0027d like to get rid of the default one that came with the original LV-909. I\u0027ve tried removing the ModuleJettison entry in the CFG, but this leaves the fairings always on.\u003C/p\u003E\u003Cp\u003EIs there a way to completely remove decoupler shrouds in stock engines?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-03T02:04:19Z\u0022 title=\u002209/03/2013 02:04  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 3, 2013\u003C/time\u003E by sumghai\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-09-02T07:52:09Z","Content":"\n\u003Cp\u003EYep, its pretty easy;\u003C/p\u003E\u003Cp\u003EIn the jettison module, change this:\u003C/p\u003E\u003Cp\u003EbottomNodeName = \u003Cstrong\u003Ebottom\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u0022bottom\u0022 refers to the node name that you want to \u0022look for\u0022 when spawning the fairings. When something attaches to the bottom node, the node spawns. In the stock engines, the bottom node is always:\u003C/p\u003E\u003Cp\u003Enode_stack_\u003Cstrong\u003Ebottom\u003C/strong\u003E = 0.0, -7.27403, 0.0, 0.0, 1.0, 0.0\u003C/p\u003E\u003Cp\u003EJust make sure they don\u0027t match, and no fairings will spawn.\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-09-02T09:02:31Z","Content":"\n\u003Cp\u003EMuch appreciated, thanks!\u003C/p\u003E\u003Cp\u003EEDIT: It seems that the snippet completely breaks the engine.\u003C/p\u003E\u003Cp\u003EI changed \u003Cstrong\u003EbottomNodeName = bottom\u003C/strong\u003E to \u003Cstrong\u003EbottomNodeName = notbottom\u003C/strong\u003E, and while the fairings do disappear in the VAB, the following happens:\u003C/p\u003E\u003Cp\u003E - The fairings till show up in the flight scene regardless of whether there is a decoupler beneath it or not\u003C/p\u003E\u003Cp\u003E - A strange particle effect is constantly running\u003C/p\u003E\u003Cp\u003E - The engine cannot be activated or throttled, nor does it show up in the staging panes of the flight scene.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPART\u003Cbr\u003E{\u003Cbr\u003E// Kerbal Space Program - Part Config\u003Cbr\u003E// LV-T45 Liquid Fuel Engine (Fairingless)\u003Cbr\u003E// \u003Cbr\u003E\u003Cbr\u003E// --- general parameters ---\u003Cbr\u003Ename = SDHI_Rockomax_LV_909_Fairingless\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = Mrbrownce / sumghai\u003Cbr\u003E\u003Cbr\u003E// --- asset parameters ---\u003Cbr\u003Emesh = model.mu\u003Cbr\u003Escale = 0.01\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// --- node definitions ---\u003Cbr\u003Enode_stack_top = 0.0, 21.6498, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003Enode_stack_bottom = 0.0, -37.8251, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// --- FX definitions ---\u003Cbr\u003E\u003Cbr\u003Efx_exhaustFlame_blue_small = 0.0, -21.0, 0.0, 0.0, 1.0, 0.0, running\u003Cbr\u003Efx_exhaustLight_blue = 0.0, -21.0, 0.0, 0.0, 0.0, 1.0, running\u003Cbr\u003Efx_smokeTrail_light  = 0.0, -21.0, 0.0, 0.0, 1.0, 0.0, running\u003Cbr\u003E\u003Cbr\u003E// --- Sound FX definition ---\u003Cbr\u003E\u003Cbr\u003Esound_vent_medium = engage\u003Cbr\u003Esound_rocket_hard = running\u003Cbr\u003Esound_vent_soft = disengage\u003Cbr\u003Esound_explosion_low = flameout\u003Cbr\u003E\u003Cbr\u003E// --- editor parameters ---\u003Cbr\u003Ecost = 750\u003Cbr\u003Ecategory = Propulsion\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = LV-909 Liquid Fuel Engine (Fairingless)\u003Cbr\u003Emanufacturer = Jebediah Kerman\u0027s Junkyard and Spaceship Parts Co.\u003Cbr\u003Edescription = Variant of the standard LV-909, designed for use with SDHI\u0027s Service Module System and fairings hastily removed with cutting torches.\u003Cbr\u003EattachRules = 1,0,1,0,0\u003Cbr\u003E\u003Cbr\u003E// --- standard part parameters ---\u003Cbr\u003Emass = 0.5\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.2\u003Cbr\u003Eminimum_drag = 0.2\u003Cbr\u003EangularDrag = 2\u003Cbr\u003EcrashTolerance = 7\u003Cbr\u003EmaxTemp = 3600\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleEngines\u003Cbr\u003E\tthrustVectorTransformName = thrustTransform\u003Cbr\u003E\texhaustDamage = True\u003Cbr\u003E\tignitionThreshold = 0.1\u003Cbr\u003E\tminThrust = 0\u003Cbr\u003E\tmaxThrust = 50\u003Cbr\u003E\theatProduction = 300\u003Cbr\u003E\tfxOffset = 0, 0, 0.21\u003Cbr\u003E\tPROPELLANT\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = LiquidFuel\u003Cbr\u003E        \tratio = 0.9\u003Cbr\u003E\t\tDrawGauge = True\u003Cbr\u003E\t}\u003Cbr\u003E\tPROPELLANT\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = Oxidizer\u003Cbr\u003E\t\tratio = 1.1\u003Cbr\u003E\t}\u003Cbr\u003E\tatmosphereCurve\u003Cbr\u003E \t{\u003Cbr\u003E   \t key = 0 390\u003Cbr\u003E  \t key = 1 300\u003Cbr\u003E \t}\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleGimbal\u003Cbr\u003E\tgimbalTransformName = thrustTransform\u003Cbr\u003E\tgimbalRange = 0.5\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E          name = ModuleAnimateHeat\u003Cbr\u003E          ThermalAnim = HeatAnimatioEmissiveLiquidEngine3\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E       name = ModuleJettison\u003Cbr\u003E       jettisonName = fairing\u003Cbr\u003E       bottomNodeName = notbottom\u003Cbr\u003E       isFairing = True\u003Cbr\u003E       jettisonedObjectMass = 0.1\u003Cbr\u003E       jettisonForce = 5\u003Cbr\u003E       jettisonDirection = 0 0 1\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-09-02T09:27:14Z","Content":"\n\u003Cp\u003Etry adding a third node, making it size zero and in the middle of the engine so it can\u0027t be snapped to (without trying anyway) and name it to match your bottomNodeName as a workaround, to see if that stops the bugging out.\u003C/p\u003E\u003Cp\u003EI\u0027ve used this method in the past and it should work though.\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2013-09-03T02:03:32Z","Content":"\n\u003Cp\u003ESuccess at last! Here\u0027s a full summary of Tiberion\u0027s technique, plus my own tweaks:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E1) Always use model nodes to reference the original SQUAD models / textures\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis allows re-use of existing assets and avoids duplication/redundant loading.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E2) Add a \u0022dummy\u0022 stack attachment node with a size of 0\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis needs to be somewhere between the original top and bottom attachment node locations.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// --- node definitions ---\u003Cbr\u003Enode_stack_top = 0.0, 0.216498, 0.0, 0.0, 1.0, 0.0, 1\u003Cbr\u003E[b]node_stack_hidefairing = 0.0, -0.378250, 0.0, 0.0, 1.0, 0.0, 0        // \u0026lt;---------------------[/b]\u003Cbr\u003Enode_stack_bottom = 0.0, -0.378251, 0.0, 0.0, 1.0, 0.0, 1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOne tip for preventing the VAB/SPH editor from still attempting to snap to this (visually) hidden node is to set its location \u003Cem\u003Every very close to but not the same place as\u003C/em\u003E the bottom attach node - in the example above, node_stack_hidefairing is 0.000001 units away from node_stack_bottom.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E3) Set the fairing\u0027s \u0022bottomNodeName =\u0022 to the dummy node defined in 2)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E       name = ModuleJettison\u003Cbr\u003E       jettisonName = fairing\u003Cbr\u003E       [b]bottomNodeName = hidefairing          // \u0026lt;---------------------[/b]\u003Cbr\u003E       isFairing = True\u003Cbr\u003E       jettisonedObjectMass = 0.1\u003Cbr\u003E       jettisonForce = 5\u003Cbr\u003E       jettisonDirection = 0 0 1\u003Cbr\u003E\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe PartModule will look at this dummy attachment node, and if something is attached to it, a fairing is spawned. In our case, because the hidefairing node is so close to the original bottom node, the VAB/SPH editor won\u0027t be able to snap anything to the former, and thus the fairings will remain forever hidden.\u003C/p\u003E\u003Cp\u003EYou should get the following result:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://fc09.deviantart.net/fs71/f/2013/245/9/8/sdhi_lv_909_nofairing_success_by_sumghai-d6ktkmo.png\u0022 alt=\u0022sdhi_lv_909_nofairing_success_by_sumghai-d6ktkmo.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-09-03T02:18:09Z","Content":"\n\u003Cp\u003EAwesome, glad it worked. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}