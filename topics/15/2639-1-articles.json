{"TopicId":2639,"ForumId":15,"TopicTitle":"Attention Mod-Makers","CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2011-10-04T00:25:32Z","PageNum":1,"Articles":[{"CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2011-10-04T00:25:32Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EJust wanted to let everyone know about an important change done on the 0.11 version.\u003C/p\u003E\u003Cp\u003EAs of version 0.11, all part textures are compressed to DXT format on load, to enable mip-maps and improve performance.\u003C/p\u003E\u003Cp\u003EHowever, one issue has been spotted with 3rd party parts. \u003C/p\u003E\u003Cp\u003EOn a few textures, the loaded map will appear to be tinged red. That is most probably due to byte-order encoding and alpha channels, so it\\\u0027s strongly recommended that all mod-makers check their texture maps, since it\\\u0027s very likely that this issue will appear.\u003C/p\u003E\u003Cp\u003EWe don\\\u0027t want to create an alternate way to load textures this time, since this is very important for improving performance.\u003C/p\u003E\u003Cp\u003EWe apologize for the inconvenience.\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\n"},{"CreatedByName":"CarolRawley","CreatedById":4627,"CreatedDateTime":"2011-10-04T00:28:50Z","Content":"\n\u003Cp\u003EOh dear.\u003C/p\u003E\n"},{"CreatedByName":"C7Studios","CreatedById":3895,"CreatedDateTime":"2011-10-04T01:53:12Z","Content":"\n\u003Cp\u003EI\\\u0027ve tried everything to get my files to export without going all pink. Tried DDS export from nvidia, photoshop 32 and 64 bit, all different png settings and bit depths. Indexed and non, export as BMP, turned on and off transparency. Even copied the textures to new photoshop files, installed gimp and tried exporting them using that.... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E Literally nothing works. Anyone having any luck with a method for fixing textures?\u003C/p\u003E\n"},{"CreatedByName":"Ninja","CreatedById":1165,"CreatedDateTime":"2011-10-04T11:34:35Z","Content":"\n\u003Cp\u003EIll have a look into this after work today \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E textures are a speciality. I shall post a pipeline here when I have it working correctly.\u003C/p\u003E\u003Cp\u003EIs this a precursor to hopefully including normal mapping / more complex texture shaders in the future?\u003C/p\u003E\n"},{"CreatedByName":"Shedao","CreatedById":8981,"CreatedDateTime":"2011-10-04T17:09:58Z","Content":"\n\u003Cp\u003EI think I got it fixed! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\\\u0027m not an expert in graphics but windows shows me for every stock part a bit depth of 32bit and for the now red modding parts only 24bit. When trying Photoshop and Irfanview nothing really helped but when simply loading a C7 texture into MS Paint and just save it again the bit depth goes to 32bit. --\u0026gt; loading KSP and it worked!\u003C/p\u003E\u003Cp\u003ENo idea if this is really an option but you could try.\u003C/p\u003E\u003Cp\u003Eedit: I tried a few different parts from different mods and all are showing normal colours \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ninja","CreatedById":1165,"CreatedDateTime":"2011-10-04T19:09:47Z","Content":"\n\u003Cp\u003ERight I have just had a quick look, all my current parts are fine and showing correctly. C7 yours do indeed show a red tint, to fix this its pretty easy reload the .png files in photoshop, double click your \u0027background\u0027 layer to un-flatten the image then save out again as none interlaced. If you flatten the layers prior to exporting you will find that you will get the red tint issue \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHope this helps just re-saved all your files using this method and they are now showing fine. \u003C/p\u003E\n"},{"CreatedByName":"C7Studios","CreatedById":3895,"CreatedDateTime":"2011-10-04T23:35:41Z","Content":"\n\u003Cp\u003EThanks for the help everyone. I can confirm that opening the textures in ms-paint and hitting the save button fixes it. I spent all last night trying to get this fixed and tried every way I could imagine. So simple! *face palm* Sincere thanks to everyone for all the help getting this fixed!\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T00:21:21Z","Content":"\n\u003Cp\u003EHarv, any chance we can get an update to the SDK PartsLab to use this new texture code?\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T01:05:16Z","Content":"\n\u003Cp\u003EOk folks, I have figured out how to get Photoshop to properly save the texture.\u003C/p\u003E\u003Cp\u003EYou MUST have a transparent part of the image. When you export as a 24-bit PNG and specify it\\\u0027s transparent, there MUST be some transparency somewhere or it reverts to a 24bit non-transparent image causing the red tint.\u003C/p\u003E\u003Cp\u003ESince the bit order is ARGB, if there is no Alpha channel, it uses the next bit which is the Red bit of RGB and that\\\u0027s why everything is tinted Red!\u003C/p\u003E\u003Cp\u003EThis was driving me NUTS since I couldn\\\u0027t even get the MS Paint trick to work!\u003C/p\u003E\u003Cp\u003EYAY!\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Nanolathe","CreatedById":6918,"CreatedDateTime":"2011-10-05T12:38:03Z","Content":"\n\u003Cp\u003EI can confirm what Capt\\\u0027n says is correct. Every texture should utilise a \u0027background\u0027 that is transparent from now on, rather than Black or Magenta.\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T16:14:40Z","Content":"\n\u003Cp\u003Eif you\\\u0027re using photoshop, i have a quick fix for ya!\u003C/p\u003E\u003Cp\u003Ei\\\u0027ve put together a \u0027droplet\u0027 (works kinda lika a batch shortcut deal) which opens the image, converts the \u0027background\u0027 to layer, then saves and closes\u003C/p\u003E\u003Cp\u003Ei found that if you save a PNG with a locked \u0027background\u0027 layer, PS will automatiically make it into a 24 bit - then you get problems (the infamous redbug)\u003C/p\u003E\u003Cp\u003Ebut if you \u0027promote\u0027 the background to a layer (even if there are no others behind it) it\\\u0027ll assume there\\\u0027s a possible alpha channel there - and saves as 32 bit - solving the problem once and for all...\u003C/p\u003E\u003Cp\u003Eso while this only works if you hhave photoshop, it does make life a LOT easier..... \u003C/p\u003E\u003Cp\u003Ein simple steps:\u003C/p\u003E\u003Cp\u003E1 - \u003Ca href=\u0022http://www.moachcraft.xpg.com.br/whatnot/Moach_KSP_TextureFix.zip\u0022 rel=\u0022external nofollow\u0022\u003Edownload droplet\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E2 - open KSP/Parts folder in windows explorer, search for *.png (using windows 7 here)\u003C/p\u003E\u003Cp\u003E3 - set view mode to \u0027details\u0027, right-click the cllumn headers and open the \u0027select display items\u0027 thingy\u003C/p\u003E\u003Cp\u003E4 - enable the \u0027bit depth\u0027 item, then have it sort your icons based on it\u003C/p\u003E\u003Cp\u003E5 - get all the PNG\\\u0027s found under 24 bit, drag and drop onto the droplet icon\u003C/p\u003E\u003Cp\u003E6 - have patience while photoshop grinds them down one by one....\u003C/p\u003E\u003Cp\u003E7 - ??\u003C/p\u003E\u003Cp\u003E8 - profit!\u003C/p\u003E\u003Cp\u003E :cheers:\u003C/p\u003E\u003Cp\u003Ehope this helps :\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T17:20:12Z","Content":"\n\u003Cp\u003ESo you\\\u0027re saying it\\\u0027s a locked BG that makes PS save as 24bit?\u003C/p\u003E\u003Cp\u003EI need to test this. BRB\u003C/p\u003E\u003Cp\u003ENope, it has nothing to do with the BG being locked or not. You MUST have at least 1 transparent pixel or Photoshop\\\u0027s PNG export will use 24bit. As soon as I make 1 pixel transparent, locked BG or not, I get a 32bit image.\u003C/p\u003E\u003Cp\u003EPS will not create a 32bit PNG if there are no transparent pixels. \u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T17:23:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo you\\\u0027re saying it\\\u0027s a locked BG that makes PS save as 24bit?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit certainly appears to work that way :\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eit also seems irrelevant to whether or not you actually have transparent pixels anywhere... unlocking the BG into a layer is what defines it to 32 bit, i figure\u003C/p\u003E\u003Cp\u003Eand that\\\u0027s what the \u0027droplet\u0027 i posted before does - it simply takes each file, promotes the BG to layer and saves it again... \u003C/p\u003E\u003Cp\u003Ei tested it here and i get no more redbugs - all fixed :thumbup:\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T17:29:46Z","Content":"\n\u003Cp\u003EI just saved a PNG with a locked BG and 1 transparent pixel and it saved as a 32bit PNG.\u003C/p\u003E\u003Cp\u003EYou must have that transparency in order for an alpha layer to be exported making it 32bit.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T17:44:09Z","Content":"\n\u003Cp\u003EOkay, I think I have some more information on the issue. If you open a PNG file directly and use the \u0027Save\u0027 feature, it saves as a 32bit PNG regardless of transparency. If you use the \u0027Save for Web \u0026amp; Devices...\u0027, you need the transparent pixel. \u003C/p\u003E\u003Cp\u003EWhy there is a difference between the two save methods is beyond me.\u003C/p\u003E\u003Cp\u003EEDIT: Arg. I just used the save for web \u0026amp; devices with a layered file, no trans pixels AND a locked BG and STILL got a 32bit image!!\u003C/p\u003E\u003Cp\u003EFucking Adobe! None of this makes any sense or has any logic to it.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T17:51:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI just saved a PNG with a locked BG and 1 transparent pixel and it saved as a 32bit PNG.\u003C/p\u003E\u003Cp\u003EYou must have that transparency in order for an alpha layer to be exported making it 32bit.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eby unlocking the BG to layer, you get 32-bit regardless of having transparency anywhere (i have verified this by running a batch on ALL my parts which no longer suffer from any redbugs)\u003C/p\u003E\u003Cp\u003Eso you\\\u0027re saying that without unlocking it, you can also get 32 bit depth if you have at least one transparent pixel....\u003C/p\u003E\u003Cp\u003Ethats nice to know - it appears we have this alternative then :\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Shedao","CreatedById":8981,"CreatedDateTime":"2011-10-05T17:52:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EFucking Adobe! None of this makes any sense or has any logic to it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThen just use MS Paint \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T17:55:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shedao\u0022 data-cite=\u0022Shedao\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThen just use MS Paint \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can get Photoshop to save as 32bit, that\\\u0027s not the issue, it\\\u0027s trying to figure out why and what makes the difference.\u003C/p\u003E\u003Cp\u003EAlso, I do not have MS Paint installed on my PC. I\\\u0027ve no need for it.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T17:57:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOkay, I think I have some more information on the issue. If you open a PNG file directly and use the \u0027Save\u0027 feature, it saves as a 32bit PNG regardless of transparency. If you use the \u0027Save for Web \u0026amp; Devices...\u0027, you need the transparent pixel. \u003C/p\u003E\u003Cp\u003EWhy there is a difference between the two save methods is beyond me.\u003C/p\u003E\u003Cp\u003EEDIT: Arg. I just used the save for web \u0026amp; devices with a layered file, no trans pixels AND a locked BG and STILL got a 32bit image!!\u003C/p\u003E\u003Cp\u003EFucking Adobe! None of this makes any sense or has any logic to it.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethe \u0027save for web\u0027 thing appears to have a more thorough compressor which may do you a better job in squeezing every byte off the image file.... albeit, for PNG, there doesn\\\u0027t seem to be any aditional options compared to the traditional \u0027ctrl\u002Bs\u0027 method.... redundant perhaps - confusing, definitely ::\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eit indeed appears to be more realted to the \u0027background\u0027 status of the image.... if it reads \u0027layer 0\u0027, you get 32 - \u0027background\u0027, and it\\\u0027s 24....\u003C/p\u003E\u003Cp\u003Emeanwhile, the relevance of the transparent pixel remains elusive....\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T18:00:11Z","Content":"\n\u003Cp\u003EAs you say, the Save for Web \u0026amp; Devices is designed to produce the smallest file possible. If there is no transparency, there is no need to save as 32bit so it saves as 24bit to make a smaller file. Now THAT makes sense.\u003C/p\u003E\u003Cp\u003EI\\\u0027ve always used that option to get PNG files. It seems that using the standard \u0027Save\u0027 command and saving as a PNG will always produce a 32bit PNG regardless of any transparency.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T18:15:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E (...)\u003Cp\u003EI\\\u0027ve always used that option to get PNG files. It seems that using the standard \u0027Save\u0027 command and saving as a PNG will always produce a 32bit PNG regardless of any transparency.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eregardless of transparency - yes, but ONLY if you have the BG unlocked - if not, it goes 24-bit too....\u003C/p\u003E\u003Cp\u003Eso it seems if you\\\u0027re saving by ctrl\u002Bs, the bit depth is decided upon the status of the BG layer (you can\\\u0027t have transparency with it locked), while save-for-web goes by the presence of transparent pixels in the image or not as a rule.....\u003C/p\u003E\u003Cp\u003Ewe appear to be reaching a veredict :thumbup:\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T18:20:19Z","Content":"\n\u003Cp\u003EOnly if the lock is do to opening the PNG file. If you lock that layer manually AFTER unlocking the default lock, you get a 32bit PNG. There is something about that default lock, the little icon is even different. A default lock has a white body where a manual lock is all black.\u003C/p\u003E\u003Cp\u003EGo figure.\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T18:36:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOnly if the lock is do to opening the PNG file. If you lock that layer manually AFTER unlocking the default lock, you get a 32bit PNG. There is something about that default lock, the little icon is even different. A default lock has a white body where a manual lock is all black.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethat\\\u0027s because the default \u0027lock\u0027 isn\\\u0027t really \u003Cstrong\u003Ejust a lock\u003C/strong\u003E... when PS has a layer set as \u0027background\u0027, it enforces a rule of \u0027there will be no transparent pixels\u0027 to some sense...\u003C/p\u003E\u003Cp\u003Eif you double-click it, it offers to \u0027promote\u0027 the BG to an actual layer... and from then on, it allows \u0027end result\u0027 pixels to be less than fully opaque, i.e: allows transparent pixels in the final image\u003C/p\u003E\u003Cp\u003Eadobe livedocs says:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EWhen you create a new image with a white background or a colored background, the bottommost image in the Layers palette is called Background. An image can have only one background layer. You cannot change the stacking order of a background layer, its blending mode, or its opacity. However, you can convert a background into a regular layer, and then change any of these attributes.\u003Cp\u003EWhen you create a new image with transparent content, the image does not have a background layer. The bottommost layer is not constrained like the background layer; you can move it anywhere in the Layers palette and change its opacity and blending mode.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethe presence of such a \u0027background layer\u0027 is the turnkey factor for 24 or 32 bit depth when saving PNG\\\u0027s - it being locked or not doesn\\\u0027t really matter, as long as it\\\u0027s not \u0027background\u0027\u003C/p\u003E\u003Cp\u003E:cheers:\u003C/p\u003E\n"},{"CreatedByName":"Capt\u0026#039;n Skunky","CreatedById":1261,"CreatedDateTime":"2011-10-05T18:51:11Z","Content":"\n\u003Cp\u003EMeh, why they have to make things so complicated! ;P\u003C/p\u003E\u003Cp\u003EArrr!\u003C/p\u003E\u003Cp\u003ECapt\\\u0027n Skunky\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2011-10-05T23:19:44Z","Content":"\n\u003Cp\u003Ehmm, the DL link for the droplet fix was broken - fixed it: \u003Ca href=\u0022www.moachcraft.xpg.com.br/whatnot/Moach_KSP_TextureFix.zip\u0022 rel=\u0022external nofollow\u0022\u003Ewww.moachcraft.xpg.com.br/whatnot/Moach_KSP_TextureFix.zip\u003C/a\u003E :cheers:\u003C/p\u003E\n"}]}