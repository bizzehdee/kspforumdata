{"TopicId":130456,"ForumId":15,"TopicTitle":"Retractable Centrifuge","CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-21T23:26:34Z","PageNum":1,"Articles":[{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-21T23:26:34Z","Content":"\n\u003Cp\u003E\nI have start model a retractable centrifuge\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg src=\u0022http://i.imgur.com/5YsUV4O.jpg\u0022 class=\u0022ipsImage\u0022 alt=\u00225YsUV4O.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIf possible i need is some suggestion for the windows and probably a bit of help for make it work ingame.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n\u003Cp\u003E\nRegards\n\u003C/p\u003E\n\u003Cp\u003E\nLuca\n\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2016-01-22T00:59:40Z","Content":"\n\u003Cp\u003E\nI havent used blender in a few years (im a max and modo kind of guy)\n\u003C/p\u003E\n\u003Cp\u003E\nbut ill start with the most obvious. You have inverted faces on your model. In blender inverted faces are displayed in a blueish hue, and if you attempt to import a model with invered faces into ksp/unity those parts will be invisible. To fix this\u00A0first select all objects and apply scale/rotation (ctrl\u002Ba?). Then select the objects with inverted faces, tab into them. select all\u00A0faces and unify\u00A0the faces (ctrl\u002Bf? And unify normals etc.)\n\u003C/p\u003E\n\u003Cp\u003E\nFor the windows i would probably detach them to a seperate object\u00A0if you want a different material on them (more shiny etc.) If you make an iva for it you can start by just duplicating\u00A0the hollow parts of your centrifuge. Apply a solidify modifier (inward) then delete the outer part of the resulting model. That would be the beginning of your iva.\n\u003C/p\u003E\n\u003Cp\u003E\nFor the main extending/retracting animation i would probably just use standard parent/child rigging. Select the outer parts(on one side) and child them to the outer part of that piston(you can also do the oppocite. Just as long as all the objects\u00A0that move are childed to one object). do the same thing for the other side. When you move the parent object the others will move with it. Use this to animate.\n\u003C/p\u003E\n\u003Cp\u003E\nFor those wires and that\u00A0horizontal truss\u00A0youll probably need to either rig them via skinning (bones and armatures) or directly via blendshapes (poses). If they are simple cylinders perhaps this is the best choice if you are unfamiliear with skinning.\n\u003C/p\u003E\n\u003Cp\u003E\nFor the spinning animation i would probably\u00A0child the base pistons, as well as all parts that spin to the core. Then parent of the centrifuge\u00A0objects to the piston base. You then keyframe\u00A0it rotated at 0 degrees\u00A0starting from the keyframe directly after your deploy/retract animation,\u00A0and keyframe\u00A0359 degrees of rotation\u00A0at your decired endframe (starting from that first frame after the deploy/retract animations last keyframe). Its been a while but i think this is how you do looping rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nIn unity to get the two imported as seperate animations you make the first animation from 1-last frame of deploy/retract sequence.\u00A0then the second animation from last frame of the deploy/retract \u002B1 to the end of the clip. You can name these two animations whatever you want in unity so its easier to setup in the part config.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-22T01:22:47Z\u0022 title=\u002201/22/2016 01:22  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 22, 2016\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-22T12:46:47Z","Content":"\n\u003Cp\u003E\nThanks for the advice, i\u0027m new about unity and any information is usefull\n\u003C/p\u003E\n\u003Cp\u003E\nFor the windows i have chosen a more stockalike way\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg src=\u0022http://i.imgur.com/Y3UMjQ2.jpg\u0022 class=\u0022ipsImage\u0022 alt=\u0022Y3UMjQ2.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nA good news is that i can use bones for animations, for colliders is better if i do them in blender or unity ?\n\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2016-01-22T15:24:16Z","Content":"\n\u003Cp\u003E\nGlad i could help.(Btw those mounts for the wires are still inverted)\n\u003C/p\u003E\n\u003Cp\u003E\nFor colliders id do them in unity for this.\u00A0Use unity primitives. Cylinders for the core.\u00A08\u002B\u00A0boxes for each of the centrifuge parts (rotated into place from the center) remember to child the colliders to the corresponding animated parts so they will move with the animation.\n\u003C/p\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-26T09:58:52Z","Content":"\n\u003Cp\u003E\nWhat am i doing wrong ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/XjRnd/embed?background=ffffff\u0026amp;text=1a1a1a\u0026amp;link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nanimations are recognized but do not work individually when exported together and rotation don\u0027t have loop\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nFixed the problem with rotation loop but animations don\u0027t works together\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n\u003Cp\u003E\nLuca\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-26T17:49:27Z\u0022 title=\u002201/26/2016 05:49  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 26, 2016\u003C/time\u003E by Badsector\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-27T22:15:47Z","Content":"\n\u003Cp\u003E\nSolved \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFirst Test in game\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg src=\u0022http://i.imgur.com/DjinGCY.jpg\u0022 class=\u0022ipsImage\u0022 alt=\u0022DjinGCY.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2016-01-27T23:10:15Z","Content":"\n\u003Cp\u003E\nVery nice!!\n\u003C/p\u003E\n"},{"CreatedByName":"davidy12","CreatedById":143411,"CreatedDateTime":"2016-01-27T23:12:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222382508\u0022 data-ipsquote-contentid=\u0022130456\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453932947\u0022 data-ipsquote-userid=\u0022118465\u0022 data-ipsquote-username=\u0022Badsector\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, Badsector said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSolved \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFirst Test in game\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://i.imgur.com/DjinGCY.jpg\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022DjinGCY.jpg\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 src=\u0022http://i.imgur.com/DjinGCY.jpg\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWill this eventually have an IVA?\u00A0Because it looks EPIC!!!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-27T23:12:38Z\u0022 title=\u002201/27/2016 11:12  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 27, 2016\u003C/time\u003E by davidy12\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2016-01-27T23:18:45Z","Content":"\n\u003Cp\u003E\nMOAR CENTRIFUGES!\n\u003C/p\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-27T23:44:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222382606\u0022 data-ipsquote-contentid=\u0022130456\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453936333\u0022 data-ipsquote-userid=\u0022143411\u0022 data-ipsquote-username=\u0022davidy12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, davidy12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWill this eventually have an IVA?\u00A0Because it looks EPIC!!!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sorry but you have to waaaaaaaaaait for the iva\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2016-01-28T08:06:21Z","Content":"\n\u003Cp\u003E\nGlad to hear you solved it. As i am sure you figured out the two animation clips\u00A0need to hold the appropritate start and endframes. For example 1-30 for the deploy/retract and 31-60 for the looping rotation animation(which also needs to be set to run as a loop). Writing it here for other people who may stumble upon this thread wondering what was the issue.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only remaining issue i can see in the unity setup is that you seem to have a single\u00A0big box collider around the entire centrifuge \u0022wheel\u0022 but there are gaps between them in the visual model. So if you where to try evaing and floating through those gaps you will be stopped by the collider. I am afraid the only way to solve this is the way i outlined in my earlier post. Which is to build the shape outline out of\u00A0several primitives(probably boxes).\n\u003C/p\u003E\n\u003Cp\u003E\nThis may seem unintuitive since why not just create a single mesh collider out of the meshes? The reason for this is because you cant have proper collisions in unity between concave colliders. They\u00A0need to be convex. There are also issues with both multiple mesh colliders (may have been solved in newer versions) and animated mesh colliders.\u00A0with ksp 1.1 and unity 5 this will be even more important.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-28T08:07:28Z\u0022 title=\u002201/28/2016 08:07  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 28, 2016\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-01-28T08:30:40Z","Content":"\n\u003Cp\u003E\nFirst Thanks for all the suggestions, without your initial suggestions I would have a hard time to import the object, for animation is only a problem with hierarchy and because i have had them all with only 1 armature, but with unity 5 .mu is deprecated and probably all this problems too.\n\u003C/p\u003E\n\u003Cp\u003E\nColliders are done\u00A0 with convex mesh, this his an old screenshot.\n\u003C/p\u003E\n\u003Cp\u003E\nThe centrifuge is ready for a prerelease i\u0027m only fixing some little mistakes\n\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2016-01-28T08:36:52Z","Content":"\n\u003Cp\u003E\nActually youll be happy to note that .mu will not be depricated(well. In the sense that it likely\u00A0will still be used by most, if not all of the stock parts in\u00A01.1) you will have the option of using the much better unity .assetbundle format but your .mu\u0027s will still work.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can also use a single blender armature for all the animations including parented rig animations by just\u00A0parenting the objects to the bones directly and not skinning them.\n\u003C/p\u003E\n\u003Cp\u003E\nGood luck with your release\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-28T08:43:02Z\u0022 title=\u002201/28/2016 08:43  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 28, 2016\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LitaAlto","CreatedById":110917,"CreatedDateTime":"2016-02-22T20:47:47Z","Content":"\n\u003Cp\u003E\nSorry if it was asked earlier--but do you plan on adding lights for the windows?\n\u003C/p\u003E\n"},{"CreatedByName":"Badsector","CreatedById":118465,"CreatedDateTime":"2016-02-23T19:53:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222424709\u0022 data-ipsquote-contentid=\u0022130456\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221456174067\u0022 data-ipsquote-userid=\u0022110917\u0022 data-ipsquote-username=\u0022LitaAlto\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, LitaAlto said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry if it was asked earlier--but do you plan on adding lights for the windows?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nProbably with the next update\n\u003C/p\u003E\n"},{"CreatedByName":"Table","CreatedById":158269,"CreatedDateTime":"2016-04-30T04:36:40Z","Content":"\n\u003Cp\u003E\nI\u0027ve seen this in DarkSide technology.\n\u003C/p\u003E\n"}]}