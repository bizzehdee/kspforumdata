{"TopicId":189346,"ForumId":15,"TopicTitle":"Re-texture stock parts?","CreatedByName":"NermNermNerm","CreatedById":174264,"CreatedDateTime":"2019-10-28T04:14:35Z","PageNum":1,"Articles":[{"CreatedByName":"NermNermNerm","CreatedById":174264,"CreatedDateTime":"2019-10-28T04:14:35Z","Content":"\n\u003Cp\u003E\nIs it possible to create a new part (new CFG that is) which uses a stock .mu with a custom texture?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMODEL {\n  model = stock/path\n  texture = my/mod/path\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI see other parts setting MODEL/TEXTURE, but since I don\u0027t know of any mods that do this, I kinda think it\u0027s not a thing.\n\u003C/p\u003E\n\u003Cp\u003E\nBut there are mods like \u0022stock parts overhaul\u0022, and I find it hard to believe they started from nothing...\u00A0 But I see they have their own .MU files for most stuff.\u00A0 Is there a way to decompile the .mu, maybe?\u00A0 Is that a thing that\u0027s done?\u00A0 Usually that sort of thing runs afoul of license agreements...\u003Cbr\u003E\n\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2019-10-28T04:52:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223695970\u0022 data-ipsquote-contentid=\u0022189346\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221572236075\u0022 data-ipsquote-userid=\u0022174264\u0022 data-ipsquote-username=\u0022NermNermNerm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, NermNermNerm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it possible to create a new part (new CFG that is) which uses a stock .mu with a custom texture?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EMODEL {\n  model = stock/path\n  texture = my/mod/path\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI see other parts setting MODEL/TEXTURE, but since I don\u0027t know of any mods that do this, I kinda think it\u0027s not a thing.\n\u003C/p\u003E\n\u003Cp\u003E\nBut there are mods like \u0022stock parts overhaul\u0022, and I find it hard to believe they started from nothing...\u00A0 But I see they have their own .MU files for most stuff.\u00A0 Is there a way to decompile the .mu, maybe?\u00A0 Is that a thing that\u0027s done?\u00A0 Usually that sort of thing runs afoul of license agreements...\u003Cbr\u003E\n\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022104094\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed5055190288\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/144515-how-do-i-use-model-to-load-a-texture-for-a-part/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"NermNermNerm","CreatedById":174264,"CreatedDateTime":"2019-10-28T07:39:23Z","Content":"\n\u003Cp\u003E\nThanks\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u00A0, does that process work for you?\u00A0 Looks like the results of the participants in that thread are a bit mixed.\u00A0 I got the same result that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104094-joepatrick1/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022104094\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104094-joepatrick1/\u0022 rel=\u0022\u0022\u003E@JoePatrick1\u003C/a\u003E\u00A0got - a null reference exception.\u00A0 Did you ever get that figured out?\n\u003C/p\u003E\n\u003Cp\u003E\nMy process was:\n\u003C/p\u003E\n\u003Cp\u003E\n1) Create a new part, using the model from the stock\u00A01.25m \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E.\u00A0 In the cfg I\u0027ve got:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0 \u00A0 MODEL\n\u00A0 \u00A0 {\n\u00A0 \u00A0 \u00A0 \u00A0 model = Squad/Parts/Resources/MiniISRU/MiniISRU\n\u00A0 \u00A0 \u00A0 \u00A0 texture = ksp_s_processorSmall_diff, Squad/Parts/Resources/MiniISRU/ksp_s_processorSmall_diff_scribbles\n\u00A0 \u00A0 \u00A0 \u00A0 scale = 1.25,1.25,1.25\n\u00A0 \u00A0 }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nksp_s_processorSmall_diff is the name of the .dds in the stock folder.\u00A0 After suspecting the file format of my _scribbles file for a while, I have reverted to just copying the original file into _scribbles.\u00A0 No joy, still busted.\u00A0 So no chance it\u0027s a bad image file.\n\u003C/p\u003E\n\u003Cp\u003E\nThere was also a lot of handwavy in the thread about which folder it should be copied into, but I tried:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWith _scribbles alongside the original\n\u003C/li\u003E\n\u003Cli\u003E\nWith _scribbles in another folder\n\u003C/li\u003E\n\u003Cli\u003E\nWith a copy of the .mu in my folder (the folder with the .cfg in it)\u00A0alongside the _scribbles file (This fails with \u0022can\u0027t find a texture to replace because I didn\u0027t copy it)\n\u003C/li\u003E\n\u003Cli\u003E\nSame as above, plus copy the original .dds file.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027m out of stuff to try.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2019-10-28T13:15:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223696026\u0022 data-ipsquote-contentid=\u0022189346\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221572248363\u0022 data-ipsquote-userid=\u0022174264\u0022 data-ipsquote-username=\u0022NermNermNerm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, NermNermNerm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u00A0, does that process work for you?\u00A0 Looks like the results of the participants in that thread are a bit mixed.\u00A0 I got the same result that \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104094-joepatrick1/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022104094\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/104094-joepatrick1/\u0022 rel=\u0022\u0022\u003E@JoePatrick1\u003C/a\u003E\u00A0got - a null reference exception.\u00A0 Did you ever get that figured out?\n\u003C/p\u003E\n\u003Cp\u003E\nMy process was:\n\u003C/p\u003E\n\u003Cp\u003E\n1) Create a new part, using the model from the stock\u00A01.25m \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E.\u00A0 In the cfg I\u0027ve got:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\u00A0 \u00A0 MODEL\n\u00A0 \u00A0 {\n\u00A0 \u00A0 \u00A0 \u00A0 model = Squad/Parts/Resources/MiniISRU/MiniISRU\n\u00A0 \u00A0 \u00A0 \u00A0 texture = ksp_s_processorSmall_diff, Squad/Parts/Resources/MiniISRU/ksp_s_processorSmall_diff_scribbles\n\u00A0 \u00A0 \u00A0 \u00A0 scale = 1.25,1.25,1.25\n\u00A0 \u00A0 }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nksp_s_processorSmall_diff is the name of the .dds in the stock folder.\u00A0 After suspecting the file format of my _scribbles file for a while, I have reverted to just copying the original file into _scribbles.\u00A0 No joy, still busted.\u00A0 So no chance it\u0027s a bad image file.\n\u003C/p\u003E\n\u003Cp\u003E\nThere was also a lot of handwavy in the thread about which folder it should be copied into, but I tried:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWith _scribbles alongside the original\n\u003C/li\u003E\n\u003Cli\u003E\nWith _scribbles in another folder\n\u003C/li\u003E\n\u003Cli\u003E\nWith a copy of the .mu in my folder (the folder with the .cfg in it)\u00A0alongside the _scribbles file (This fails with \u0022can\u0027t find a texture to replace because I didn\u0027t copy it)\n\u003C/li\u003E\n\u003Cli\u003E\nSame as above, plus copy the original .dds file.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027m out of stuff to try.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe texture replacement is extremely picky; it does work, but you have to get everything right and won\u0027t get any useful error to tell you what you did wrong. Plus, the original texture has to present as it is used to load the model in first. To be honest, I haven\u0027t used this since PartVariants came out since I just use that now.\n\u003C/p\u003E\n\u003Cp\u003E\nA quick search yields:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/157846-solved-texture-tag-not-working-in-model-section/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/157846-solved-texture-tag-not-working-in-model-section/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems that if a model has any mesh that doesn\u0027t have a maintexture in the mu mapped (like most flag meshes), it will fail with a null ref.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, make sure that your\u00A0texture\u00A0is dxt1 or dxt5.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[Edit]\n\u003C/p\u003E\n\u003Cp\u003E\nA quick look at the miniISRU in Blender shows it only has one texture, and it is mapped; so as long as your replacement dds is properly formatted, it really should work. You can check the log to make sure your dds is being loaded in.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-28T13:22:08Z\u0022 title=\u002210/28/2019 01:22  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 28, 2019\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NermNermNerm","CreatedById":174264,"CreatedDateTime":"2019-10-29T03:28:13Z","Content":"\n\u003Cp\u003E\nDunno what to say, but nope, I get a face-full of Null Reference Exception.\n\u003C/p\u003E\n\u003Cp\u003E\nI suspect that the trouble is that I\u0027m not trying to replace a flag or a sub-texture, like most of the posts here, I\u0027m trying to replace the base texture.\u00A0 If you wanna say I\u0027m wrong, try this:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCreate a new CFG file for a part (or just start with the mini-\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E one and give it a new name), copy it to a new folder under gamedata\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .mu file to that folder\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .dds file to that folder\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .dds file to a new .dds file\n\u003C/li\u003E\n\u003Cli\u003E\nSet model.texture as I\u0027ve done above\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nBoom.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2019-10-30T14:29:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223696540\u0022 data-ipsquote-contentid=\u0022189346\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221572319693\u0022 data-ipsquote-userid=\u0022174264\u0022 data-ipsquote-username=\u0022NermNermNerm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/28/2019 at 10:28 PM, NermNermNerm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDunno what to say, but nope, I get a face-full of Null Reference Exception.\n\u003C/p\u003E\n\u003Cp\u003E\nI suspect that the trouble is that I\u0027m not trying to replace a flag or a sub-texture, like most of the posts here, I\u0027m trying to replace the base texture.\u00A0 If you wanna say I\u0027m wrong, try this:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCreate a new CFG file for a part (or just start with the mini-\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E one and give it a new name), copy it to a new folder under gamedata\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .mu file to that folder\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .dds file to that folder\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the stock .dds file to a new .dds file\n\u003C/li\u003E\n\u003Cli\u003E\nSet model.texture as I\u0027ve done above\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nBoom.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI found your issue:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00227zIwzTt.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022133.02\u0022 height=\u0022705\u0022 width=\u0022530\u0022 src=\u0022https://i.imgur.com/7zIwzTt.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe MiniISRU model has textures attached to some\u00A0the colliders, but they are blank... you could submit this as a bug, but I don\u0027t know if they\u0027ll bother to fix it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-30T14:30:17Z\u0022 title=\u002210/30/2019 02:30  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 30, 2019\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NermNermNerm","CreatedById":174264,"CreatedDateTime":"2019-10-31T07:52:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223697327\u0022 data-ipsquote-contentid=\u0022189346\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221572445759\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI found your issue:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for looking that up for me!\u00A0 (Way beyond my ability to figure that out right now).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m just gonna have to man up and make my own part from whole cloth.\n\u003C/p\u003E\n"}]}