{"TopicId":169256,"ForumId":15,"TopicTitle":"Time stepped animation possible?","CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2018-01-05T13:50:26Z","PageNum":1,"Articles":[{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2018-01-05T13:50:26Z","Content":"\n\u003Cp\u003E\nWeird question I know... Not sure what the correct terminology is here, but I\u0027m looking to have a model\u00A0change it\u0027s shape based on a long\u00A0time period that has past since it was first activated. I also want to have control of the models state so if\u00A0the scene was\u00A0unloaded, I can note where it was. If the scene was reloaded, the model gets set\u00A0at the correct stage to be where it should be in the animation, based on time past outside the scene.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure if I even need to generate an animation\u00A0 - It would only run once for each instance of the object spawning\u00A0, so no looping / reversing of animation.\n\u003C/p\u003E\n\u003Cp\u003E\nAn idea I had would be to have multiple copies\u00A0in my model across different layers and have the mod manage which \u0022layer /frame\u0022 is visible after determining how long it\u0027s been since the object was initiated. Can you do this with animations in KSP? (ie set a specific frame)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2018-01-05T14:08:26Z","Content":"\n\u003Cp\u003E\nHI. i suppose the first question should be, what are you trying to do?\u00A0 There are many ways to do things in KSP but a lot of what you can do depends on what the object is, with reference to modules etc\n\u003C/p\u003E\n\u003Cp\u003E\nKSP animation modules are fairly basic and only suited to fairly simple animations.\n\u003C/p\u003E\n\u003Cp\u003E\nSounds more like you\u0027d need some kind of procedural part, some code to keep it persistent, and a lump of code to change the model based on whatever scale you set , But this all swings on what you are trying to do.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2018-01-05T22:46:40Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m doing a solar flare / SME mod where a \u0022cloud\u0022 of material get ejected from Kerbol\u00A0and fires off into the distance. I\u0027m detecting if anything is within the area of the SME \u0022cloud\u0022 that I\u0027m tracking and will be later adding code to affect craft due to the solar flux\u00A0affecting electrical systems. I\u0027m still deciding what effects to have - having\u00A0batteries lose all charge is\u00A0the one at the top of the list, but I\u0027ve got other ideas\u00A0I\u0027m looking to implement.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0I have to delve into background processing though, seeing as a lot of this stuff would be seen in the map view - so that\u0027s going to be a fun exercise to learn. I\u0027ll\u00A0probably lean\u00A0a fair bit on how the Kerbalism mod handled their background stuff.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, back to the modelling - I\u0027ve got the Flare process working and have a SME sphere shoot out from the sun at random periods and inclinations. I\u0027ve manage to incorporate some solar cycle maths and long period cycles written in some sci papers on a formula for our Suns own process. I even managed to model equivalent sunspots to allow a player to do some predictions if the want to reverse engineer the maths I used without looking at the source code.\u003Cbr\u003E\u003Cbr\u003E\nHowever, I thought it would be nice if the area of the SME \u0022cloud\u0022 changes shape and goes from an initial\u00A0sphere and slowly morphs into in arc-ish thing. (think of two overlapping spheres\u00A0but slightly offset. I\u0027d boolean out one of from the other and end up with a rough bowl / 3d arc\u00A0shape. While I could just have it be represented by a sphere primitive for it\u0027s entire life cycle, I was looking to see what I\u0027d need to do to have this slow motion change of shape take effect.\n\u003C/p\u003E\n\u003Cp\u003E\nThe final shape would be something like the below (picture not relavent to mod - only there to give an idea on shape and grabbed at random from the internet).\u00A0 So the flare would have the two spheres that are closer to the same size and deeper inset. I\u0027d use this method (using spheres) so that detecting if something is within the \u0022flux\u0022 (and thus get affected) would be as easy as seeing if a craft was within the radius of the first flare sphere, but not in the negative sphere that was cut way..\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00223dsMax_Boolean_Decimation.gif\u0022 class=\u0022ipsImage\u0022 height=\u0022250\u0022 src=\u0022http://www.mrbluesummers.com/wp-content/uploads/2009/09/3dsMax_Boolean_Decimation.gif\u0022 width=\u0022450\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nCatch\u00A0is, I\u0027ve never 3d modelled stuff so I\u0027ve still got to learn that (same for animations). This\u00A0 question is from me\u00A0trying to work out what I need to learn to bring the change of shape about.\n\u003C/p\u003E\n\u003Cp\u003E\nI first thought animation, but I thought the KSP animation abilities was mainly for animating little part deployments and probably wasn\u0027t capable of what I needed. However, if I can freeze an animation at a certain point and have the code decide when it moves to the\u00A0next frame, I\u0027d get the same effect that\u00A0I wanted.\n\u003C/p\u003E\n\u003Cp\u003E\nReason I think KSP animation \u0022might\u0022 be usable as-is, is because the Stock cargo bay has an opening animation, but the player can set it manually to a certain value via a tweakable slider. I figure, if I had an animation with something similar, I could set the value / animation frame via the plugin code and hide any manual interface from the UI.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBack to the time stepped stuff. The goal is I want to load the model at a certain point in it\u0027s animation depending on how far it is from the sun and\u00A0compared to it\u0027s max distance, where\u00A0it\u0027d be\u00A0too dispersed to bother with. I also need to be able to load the model from a save point, and I figure if I know the distance, then I know what it should \u0022look like\u0022 at that point and set the frame in the animation automatically. This is why I want to control the animation from the plugin and not just \u0022hit play\u0022 and then let it cycle through it\u0027s frames.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes that help with what I\u0027m looking for at all? Sorry if it sounds a bit lost / all over the shop. Still learning what I need to do.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-05T23:26:50Z\u0022 title=\u002201/05/2018 11:26  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 5, 2018\u003C/time\u003E by wile1411\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2018-01-06T00:55:07Z","Content":"\n\u003Cp\u003E\nOk, thats\u00A0 a clearer picture, sort of, sadly the whole planetary side of modelling and modding is not something i\u0027ve looked into. So have no clue what will and will not work in that situation. \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nGood luck with your project , looking forward to some screenshots\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2018-01-06T01:19:56Z","Content":"\n\u003Cp\u003E\nIf I ignored the planetary aspect, is there way to set an animation frame?\n\u003C/p\u003E\n"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2018-01-11T08:45:31Z","Content":"\n\u003Cp\u003E\nOne way might be to use Textures Unlimited and firespitter to slowly change/tint the texture. You would need to write the code backend to do this over time and remember steps.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-11T08:46:09Z\u0022 title=\u002201/11/2018 08:46  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 11, 2018\u003C/time\u003E by selfish_meme\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-17T15:30:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223260801\u0022 data-ipsquote-contentid=\u0022169256\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515201596\u0022 data-ipsquote-userid=\u002228891\u0022 data-ipsquote-username=\u0022wile1411\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/5/2018 at 6:19 PM, wile1411 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I ignored the planetary aspect, is there way to set an animation frame?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThrough custom plugin code -- yes.\u00A0 You can pause an animation at any given frame, or set it to an arbitrary point in its animation timeline.\n\u003C/p\u003E\n\u003Cp\u003E\nSounds like what you are doing should be doable, but will require some custom plugin code.\u00A0 Unity documentation on the Animation component used by KSP -- \u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Animation.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Animation.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}