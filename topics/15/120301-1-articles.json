{"TopicId":120301,"ForumId":15,"TopicTitle":"Collider issues...","CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-09-06T21:09:44Z","PageNum":1,"Articles":[{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-09-06T21:09:44Z","Content":"\n\u003Cp\u003ESo I am having issues with non Convex mesh colliders. For some reason they are not working with my new dragon parts. The collider system is set exactly the same as the trunk for my Dragon V2 but for some reason it won\u0027t work for this trunk? Does anyone have any ideas what is going on and how to fix it?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Ow1Wg24.png\u0022 alt=\u0022Ow1Wg24.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/g8xxvAG.png\u0022 alt=\u0022g8xxvAG.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T02:00:29Z\u0022 title=\u002209/07/2015 02:00  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by tygoo7\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-09-06T21:29:54Z","Content":"\n\u003Cp\u003E\u0022non Convex\u0022 is why it falls through the launch pad. Mesh colliders must be convex. You have to approximate the shape with a number of primitive or convex mesh colliders.\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-09-06T21:49:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003E\u0022non Convex\u0022 is why it falls through the launch pad. Mesh colliders must be convex. You have to approximate the shape with a number of primitive or convex mesh colliders.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, so how do I make a precise shape out of cube colliders?\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-09-06T22:20:44Z","Content":"\n\u003Cp\u003EFor the tapered ring from my FusTek Station Parts, I made up 24 wedge-shaped meshes arranged in a circle in Blender, and set them as convex in Unity.\u003C/p\u003E\u003Cp\u003EOnce loaded in-game, my tapered ring would not fall through the launchpad surface, but a Kerbal could pass through the hole in the center unimpeded.\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-09-07T02:00:56Z","Content":"\n\u003Cp\u003EThanks sumghai and nli2work! Got it to work using some of these methods.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-07T11:33:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sumghai\u0022 data-cite=\u0022sumghai\u0022\u003E\u003Cdiv\u003EFor the tapered ring from my FusTek Station Parts, I made up 24 wedge-shaped meshes arranged in a circle in Blender, and set them as convex in Unity.\u003Cp\u003EOnce loaded in-game, my tapered ring would not fall through the launchpad surface, but a Kerbal could pass through the hole in the center unimpeded.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat kind of impact would this technique have on performance?\u003C/p\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2015-09-07T13:28:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kurld\u0022 data-cite=\u0022Kurld\u0022\u003E\u003Cdiv\u003EWhat kind of impact would this technique have on performance?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPrimitive Unity colliders use little to none processing power. Convex mesh colliders can sometimes bring heavy slowdowns. When I was making a wraparound tank, which is in my signature, I used 4 convex colliders at first. My fps drastically dropped even when I was playing with the part in editor. After I replaced them with Unity box colliders the problem was gone.\u003C/p\u003E\n"},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2015-09-07T17:44:22Z","Content":"\n\u003Cp\u003EEven a box-shaped mesh collider will be more expensive than a unity box collider, and the more triangles your mesh collider has the more expensive it is. \u003C/p\u003E\u003Cp\u003EThe cheapest of the unity colliders is the sphere collider, followed by capsule collider. So those are a good choice for triggers like airlocks and ladders. Box colliders are a little bit more expensive but still much cheaper than the most primitive mesh colliders.\u003C/p\u003E\u003Cp\u003ETry to approximate the shape with as little polies in the mesh collider as possible, those physics calculations are one of the biggest performance sinks in KSP.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-07T22:28:22Z","Content":"\n\u003Cp\u003EThanks, y\u0027all.\u003C/p\u003E\u003Cp\u003EAs a follow-on, what kind/shape collider would you use for e.g. a 1/4 height fuel tank? (cylinder 2.5 diameter by .5ish height) Does the collider make any difference about how you would attach other parts to it?\u003C/p\u003E\n"},{"CreatedByName":"Enceos","CreatedById":110725,"CreatedDateTime":"2015-09-07T22:43:08Z","Content":"\n\u003Cp\u003EYes, when you do surface attachments of other parts to yours they will stick to the shape of your collider. So it\u0027s a common sense to use 8-12 sided cyllinder as a collider in fuel tanks.\u003C/p\u003E\n"},{"CreatedByName":"Porkjet","CreatedById":92433,"CreatedDateTime":"2015-09-07T22:59:56Z","Content":"\n\u003Cp\u003ECylinders usually get a 12-sided cylinder mesh collider, as unfortunately there is no cylinder unity collider. This seems to be a good trade-off between performance and precision.\u003C/p\u003E\u003Cp\u003EAnd yes, the colliders make all the difference in how other parts attach to it. As with the cylinder example, the 12 sided collider on a 24-sided mesh will let attached parts slightly sink into every 2nd egde of it, but thats hardly noticable. With an 8-sided collider it\u0027ll start to get more obvious. As a rule of thumb you could say with a collider that has half the amount of supporting loops than the rendered mesh you\u0027re on the safe side, and from there see if you can make any additional reduction in polycount that will not make it noticably inaccurate, e.g. flat areas or low angle curves can be reduced further. Set yourself a certain maximum of of how much deviation from the rendered mesh you allow. I also think its better to let the deviations go mainly inwards into the part than outward, slightly clipping attached parts is better than attaching them floating.\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-09-08T03:01:17Z","Content":"\n\u003Cp\u003EAlso, as a \u0022best practice\u0022 sort of thing, if you want your fuel tanks to behave like the stock tanks, and match up nicely with them, here\u0027s what the stock tanks do:\u003C/p\u003E\u003Cp\u003EThe visible mesh is a 24-sided cylinder for 1.25m through 3.75m diameters (I forget what the 0.625m parts were, it\u0027s like 16 or 18 or something). This is oriented so that vertices (rather than faces) point along the cardinal (X,Z) axes.\u003C/p\u003E\u003Cp\u003EThe collider is a 12-sided cylinder, with the faces (not the vertices) facing the cardinal axes. This helps facilitate surface attachment with angle-snap, so that it\u0027s not trying to align a part to an edge on the collider, but rather a flat face.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-08T13:58:01Z","Content":"\n\u003Cp\u003ECool, thanks for the info, folks!\u003C/p\u003E\n"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-09-12T12:03:41Z","Content":"\n\u003Cp\u003EAnd as a further followup:\u003C/p\u003E\u003Cp\u003EWhen creating a collider for a cylindrical tank, what would be performancewise more efficient:\u003C/p\u003E\u003Cp\u003EA) a 12 sided cylindrical mesh collider\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E 6 overlapping rotated unity box colliders\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-09-12T15:07:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mhoram\u0022 data-cite=\u0022mhoram\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhen creating a collider for a cylindrical tank, what would be performancewise more efficient:\u003C/p\u003E\u003Cp\u003EA) a 12 sided cylindrical mesh collider\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E 6 overlapping rotated unity box colliders\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWow, that\u0027s a tough one. If the 6 overlapping colliders were boxes made as \u003Cem\u003Emesh colliders\u003C/em\u003E, then the single 12-sided cylinder would assuredly be better, performance-wise. But I don\u0027t know how many CPU cycles are saved with the Unity boxes.\u003C/p\u003E\n"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-09-12T17:19:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NecroBones\u0022 data-cite=\u0022NecroBones\u0022\u003E\u003Cdiv\u003EWow, that\u0027s a tough one. If the 6 overlapping colliders were boxes made as \u003Cem\u003Emesh colliders\u003C/em\u003E, then the single 12-sided cylinder would assuredly be better, performance-wise. But I don\u0027t know how many CPU cycles are saved with the Unity boxes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for confirming my suspicion, that this is unchartered terretory.\u003C/p\u003E\u003Cp\u003EI did some tests with a 708 part monster with KerboKatz PhysicalTimeRatioViewer.\u003C/p\u003E\u003Cp\u003EWith 12-sided Mesh colliders I reached 30-31%\u003C/p\u003E\u003Cp\u003EWith 6 Unity Box colliders I reached 21-22%\u003C/p\u003E\u003Cp\u003ESo it seems like in this case Cylindrical Mesh colliders work faster.\u003C/p\u003E\u003Cp\u003EHowever since I never made such a comparison before, I am not quite confident, if this measurement is reasonable.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/Fmkh9\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EIf someone wants to make some tests on their own, here is a zip containing the parts and ships: \u003Ca href=\u0022https://www.dropbox.com/s/n70awzxe3kcfy43/Colliders.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/n70awzxe3kcfy43/Colliders.zip?dl=0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-09-17T08:21:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mhoram\u0022 data-cite=\u0022mhoram\u0022\u003E\u003Cdiv\u003EThanks for confirming my suspicion, that this is unchartered terretory.\u003Cp\u003EI did some tests with a 708 part monster with KerboKatz PhysicalTimeRatioViewer.\u003C/p\u003E\u003Cp\u003EWith 12-sided Mesh colliders I reached 30-31%\u003C/p\u003E\u003Cp\u003EWith 6 Unity Box colliders I reached 21-22%\u003C/p\u003E\u003Cp\u003ESo it seems like in this case Cylindrical Mesh colliders work faster.\u003C/p\u003E\u003Cp\u003EHowever since I never made such a comparison before, I am not quite confident, if this measurement is reasonable.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/Fmkh9\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/Fmkh9\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf someone wants to make some tests on their own, here is a zip containing the parts and ships: \u003Ca href=\u0022https://www.dropbox.com/s/n70awzxe3kcfy43/Colliders.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/n70awzxe3kcfy43/Colliders.zip?dl=0\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethx for interesting results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E might be worth to test those in vacuum since for completeness \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"DrunkenKerbalnaut","CreatedById":169550,"CreatedDateTime":"2017-01-20T18:56:04Z","Content":"\n\u003Cp\u003E\nRelevant necro; here\u0027s a link where they put some of this stuff to the test.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.unity3d.com/threads/capsule-vs-box-colliders.34254/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forum.unity3d.com/threads/capsule-vs-box-colliders.34254/\u003C/a\u003E\n\u003C/p\u003E\n"}]}