{"TopicId":96169,"ForumId":15,"TopicTitle":"Unity stops writing textures after adding animation","CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T01:21:45Z","PageNum":1,"Articles":[{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T01:21:45Z","Content":"\n\u003Cp\u003EQuite regularly Unity stops writing animations after I have added an animation. This causes my part not to show up in KSP, even when I manually add a texture. It must be something I do, but I do not have a clue what that is. Deleting the animation or remaking the root GameObject changes nothing. The only way I get Unity to write textures again is making a whole new project and that is somewhat tedious. It does not happen every time, but with some regularity and remaking the part each time becomes old rather quickly.\u003C/p\u003E\u003Cp\u003EDoes anyone have any idea what this might be?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://tweakers.net/ext/f/VmIMJSg9TOKfNFnQkqg11110/full.png\u0022 rel=\u0022external nofollow\u0022\u003EScreen.\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-10T01:28:12Z\u0022 title=\u002201/10/2015 01:28  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 10, 2015\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-10T01:34:15Z","Content":"\n\u003Cp\u003Eopen up the console and watch the messages as you export a model. when adding animation, make sure you are using \u0022Animation\u0022 component, not \u0022Animator\u0022 component.\u003C/p\u003E\u003Cp\u003Ethe screenshot doesn\u0027t show anything extraordinary.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T01:46:49Z","Content":"\n\u003Cp\u003EInteresting, that turn up an error. A quick Google search yields another KSP modeller \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/28733-animation-system-causes-model-corruption\u0022 rel=\u0022external nofollow\u0022\u003Ethat has had the same problem\u003C/a\u003E, though no solution. I tried reimporting all the assets, no luck.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://tweakers.net/ext/f/18VgOfOC9CBjWOUhAvaKz16r/full.png\u0022 rel=\u0022external nofollow\u0022\u003EError message.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: some headway. I threw out all the nodes/gameobjects in my screenshot, except for the actual model and the parent/root. Now Unity writes again. Further investigation shows one in particular is causing issues, though why is unknown.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-10T02:00:52Z\u0022 title=\u002201/10/2015 02:00  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 10, 2015\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-10T02:54:16Z","Content":"\n\u003Cp\u003Esomething wrong with the animation clip most likely. check for stray animation curves on objects/properties that shouldn\u0027t have them (anything you don\u0027t intend to animate should not have keyframe or animation curve). little gray diamond indicates animation curve, so check the objects that has those. \u003C/p\u003E\u003Cp\u003Eor some intended animation curve maybe corrupted, for the lack of a better word... you may need to recreate the animation clip.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T03:19:17Z","Content":"\n\u003Cp\u003EIt seems the object causing the issues is not even associated with an animation. At least I (hopefully) now know where to look and what to fiddle with, rather than having to make the whole part again each time. That should make a big difference. Will report back when this happens again.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-10T13:47:48Z","Content":"\n\u003Cp\u003Eany clear resolution? anything strange turn up in the animation clip? removing the unrelated object from export tree fix the issue? I see \u0022getName()\u0022 and I\u0027m thinking it may have something to do with an object\u0027s name, a space in the name maybe...\u003C/p\u003E\u003Cp\u003EI\u0027m collecting various errors for a troubleshooting guide. this would make a good entry, breaks pipeline and uncommon.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-01-10T15:31:28Z","Content":"\n\u003Cp\u003EI\u0027ve had this happen when I imported a model with an animation created in 3D studio, then made a new animation in Unity because I changed my mind about some timings. The screen grab suggests you may have done that?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T17:15:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Eany clear resolution?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, no. It happens when I add an animation, but the GameObject (used for node placement, so an empty one) I removed to fix it did not even have an animation associated to it. If I figure more out about the nature of the problem I will report about it. For now, the best advise I can give is to save everything as an extra copy, and remove bits from your hierarchy until it starts working again. Reload, remove the one that was troublesome and be happy.\u003C/p\u003E\u003Cp\u003ETo be clear, this worked once. No idea whether this is a typical solution or that I got lucky. Until now I did not know how to deal with the problem, forcing me to remake the whole Unity caboodle.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EI\u0027ve had this happen when I imported a model with an animation created in 3D studio, then made a new animation in Unity because I changed my mind about some timings. The screen grab suggests you may have done that?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly static models were imported, all animations were done in Unity, though they were exclusively used to toggle emissive lights SPP cockpit style.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-10T17:18:17Z\u0022 title=\u002201/10/2015 05:18  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 10, 2015\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-10T17:28:33Z","Content":"\n\u003Cp\u003Emind sending me the broken project files? I\u0027m curious... I recalling dealing with something like this a while back, but didn\u0027t pay much attention at the time. can\u0027t recall what I did to fix it problem.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-10T17:32:16Z\u0022 title=\u002201/10/2015 05:32  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 10, 2015\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-10T18:01:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Emind sending me the broken project files? I\u0027m curious... I recalling dealing with something like this a while back, but didn\u0027t pay much attention at the time. can\u0027t recall what I did to fix it problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will see if I can pack something useful together.\u003C/p\u003E\n"},{"CreatedByName":"Beale","CreatedById":70533,"CreatedDateTime":"2015-01-10T19:16:56Z","Content":"\n\u003Cp\u003EThis is a wild stab in the dark, but:\u003C/p\u003E\u003Cp\u003ELast time I had this exact issue, it was because the \u0022size\u0022 property on the animation module was set incorrectly.\u003C/p\u003E\u003Cp\u003EI.E. my part had only one animation, but the \u0022size\u0022 field was set to 2.\u003C/p\u003E\u003Cp\u003EIt would only export .MU files.\u003C/p\u003E\u003Cp\u003EI do not know how this could happen in your case though, so I doubt this is it.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://puu.sh/ekYsJ/96c078adb1.png\u0022 alt=\u002296c078adb1.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-01-11T09:30:10Z","Content":"\n\u003Cp\u003EYeah, that would Bork it. Another gotcha I had was a game object which had mesh collider applied, but no mesh filter (it was an empty object), which I\u0027m pretty sure won\u0027t be applicable in Camacha\u0027s case but is worth mentioning.\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-01-11T14:20:46Z","Content":"\n\u003Cp\u003EI ran into a gotcha a few times (which ins\u0027\u0027 the case here, but still worth mentioning), with animations. The part would compile just fine in Unity, or so it would appear, but KSP would fail to load the model, with an \u0022out of memory error\u0022. It would be some odd corruption in the animation. If I deleted and re-added some of the curve keys, or deleted the entire animation object and re-created it, it could solve it and the part would start working again.\u003C/p\u003E\u003Cp\u003EVery strange.\u003C/p\u003E\n"},{"CreatedByName":"amankd","CreatedById":135588,"CreatedDateTime":"2015-05-18T14:29:36Z","Content":"\n\u003Cp\u003Ei have a similar issue but without animation, i am attempting to produce the forward unto dawn, and to collission it i have made 30 odd empty game objects, each with a collission box in it, i then coe to write ip and nothing happense, i look in the destination folder and only the model.mbm has been made?\u003C/p\u003E\n"}]}