{"TopicId":115137,"ForumId":15,"TopicTitle":"[SOLVED] Billions of problems... Under a dome.","CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-05T20:15:52Z","PageNum":1,"Articles":[{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-05T20:15:52Z","Content":"Hi. I have another quadrillion problems because of my dome. No matter what I do I can\u0027t solve them.\n\nHere I go.\n\n1. The collision mesh.\n\nSo, this is what the collision mesh has to look like:\n\n![VJzsK5Q.png](http://i.imgur.com/VJzsK5Q.png)\n\nThis is what Unity says is selected to be it (which is the right choice, by the way):\n\n![aoqdVQK.png](http://i.imgur.com/aoqdVQK.png)\n\n![e9c9BGf.png](http://i.imgur.com/e9c9BGf.png)\n\nAnd this is what I get:\n\n![UjVKn2F.png](http://i.imgur.com/UjVKn2F.png)\n\nThe result in KSP:\n\n![gipaHoM.png](http://i.imgur.com/gipaHoM.png)\n\n![l20hETh.png](http://i.imgur.com/l20hETh.png)\n\n2. Attachment nodes\n\nConfig file segment about attachment nodes:\n\n    node_stack_top = 0, 1, 0, 0, 0, 0node_stack_bottom = 0, 1, 0, 0, 0, 0node_attach = 0, 1, 0, 0, 0, 0\n\nAttachment nodes in KSP not being usable, in any way:\n\n![OSkrJn5.png?1](http://i.imgur.com/OSkrJn5.png?1)\n\n3. Orientation. Can\u0027t change it. The thing appears sideways and spawns in upside down. Just saw a thread about it, when/if it fixes the problem I will let you know.\n\nEDIT: didn\u0027t work.\n\nThis is what I have to edit and I can\u0027t enable it in any way:\n\n![2liZ6QQ.png](http://i.imgur.com/2liZ6QQ.png)\n\n4. Apparently the 3D preview thing is empty. The object may simply be too big or have a naughty texture, but it would be nice to see if it could be fixed.\n\nNot as much as I thought there would be, but still more than desired.\n\n**Edited \u003Ctime datetime=\u00222015-07-06T12:55:13Z\u0022 title=\u002207/06/2015 12:55  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 6, 2015\u003C/time\u003E by 2001kraft**"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-07-05T21:57:34Z","Content":"I strongly recommend you make one post per problem, and use smaller images, so that it is easier for people to understand."},{"CreatedByName":"micha030201","CreatedById":143226,"CreatedDateTime":"2015-07-05T22:37:09Z","Content":"On nodes problem: try changing the pre-last number in the node array to 1 or -1. Or click the last checkbox in the debug menu.\n\nOn orientation problem: there is actually a way to rotate model from cfg file. Try this.\n\n**Edited \u003Ctime datetime=\u00222015-07-05T22:43:22Z\u0022 title=\u002207/05/2015 10:43  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 5, 2015\u003C/time\u003E by micha030201**"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-05T23:08:08Z","Content":"You can\u0027t make a concave shape convex.. does it genuinely need to be hollow, and if so, does it need to have an accurate collider?\n\nAdd an empty GameObject. Zero it\u0027s position and rotation, apply part tools to it, add the model as a child and set up it\u0027s position correctly in relation to the parent object you just created - the top level object with part tools applied will be the centre of the object as far as KSP is concerned. This will fix the orientation, no matter what crazy stuff is happening in the model.\n\nWhat format are you exporting from your modeling tool? Dae? Fbx?"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-05T23:44:40Z","Content":"Hi!\n\nI am importing .dae into Unity.\n\nThe collider shape itself is satisfactory, but the way Unity makes it collide is wrong. It\u0027s a dome, and things have to be able to be inside of the dome.\n\nWill tell you how the GameObject idea goes in a moment.\n\nEDIT: thanks for the node suggestion. It actually attaches now, but it attaches horizontally. I think fixing the rotation will solve the problem with the nodes.\n\nEDIT 2: hey Micha, there\u0027s no way to rotate the part via config file. You can only fix the problem in Unity.\n\n- - - Updated - - -\n\n![dnUpuD3.png](http://i.imgur.com/dnUpuD3.png)\n\n![NeMzAnJ.png](http://i.imgur.com/NeMzAnJ.png)\n\n![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\n**Edited \u003Ctime datetime=\u00222015-07-05T23:54:37Z\u0022 title=\u002207/05/2015 11:54  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 5, 2015\u003C/time\u003E by 2001kraft**\n  \nsuch much many edits"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-07-06T00:43:15Z","Content":"\u003E EDIT 2: hey Micha, there\u0027s no way to rotate the part via config file. You can only fix the problem in Unity.\n\nYou can if you use MODEL{} node definitions."},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2015-07-06T01:03:41Z","Content":"#1:\n\nYep, you can\u0027t use a concave mesh collider like that. KSP really needs *convex* colliders, which is going to become even more of a hard requirement in the Unity 5 conversion.\n\nGenerally for an object like that, you\u0027ll need several small convex colliders that approximate the shape. Since you need the part to be hollow, you may need a variety of rectangular (or more complex if you prefer) colliders that individually are convex, but allow you to cover the surface area.\n\n#2: \n\nYou have all three of those attachment nodes at the same location, and all using the same orientation. The first three numbers are coordinates for the location, and the last three are an orientation vector. If you want the part to stack vertically (like a fuel tank) in the VAB, top nodes should have a vector of \u00220.0, 1.0, 0.0\u0022 and the bottom nodes should have a vector of \u00220.0, -1.0, 0.0\u0022.\n\nWhen more than one node are at the same location, the \u0022snap-to\u0022 feature in the VAB will favor the *LAST* one in your list. So if you\u0027re sticking something below it, and the last node isn\u0027t set to point downward, nothing will stick to it that way."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-06T01:49:12Z","Content":"Thanks, NecroBones!\n\nThe attachment nodes are figured out now.\n\nBut I still can\u0027t export the model properly. Which is a darn problem. As for the colliders, thank you, will note. Looks like I\u0027ll have to go through this thing all over again ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-06T11:06:24Z","Content":"Ok, the exporting is solved. The collider is also solved, what I did was make 62 connectible boxes, and surrounded the original mesh with them. No actual changes to the way things attach, etc., but definitely solved the collision mesh problem. The nodes are sorted out, too. Looks like it\u0027s just down to rotation now."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-06T12:10:41Z","Content":"Can\u0027t. Just.. no matter how hard I try it doesn\u0027t obey, the results are very random. I\u0027ll try figuring out the config file method.\n\n- - - Updated - - -\n\nafter editing the config file, it worked:\n\n![41FHdRN.png](http://i.imgur.com/41FHdRN.png)\n\nbut (and however) the nodes are off. That is the last problem I need to fix before I\u0027m done with this.\n\n- - - Updated - - -\n\nTweaking the position of the model. Looks like I\u0027m very close to it."},{"CreatedByName":"2001kraft","CreatedById":120475,"CreatedDateTime":"2015-07-06T12:54:43Z","Content":"It is finished. Thanks everybody."},{"CreatedByName":"Rhyunix","CreatedById":59383,"CreatedDateTime":"2015-07-08T08:59:59Z","Content":"For your attachment points, what you are saying is this:\n\nstack, srfAttach, allowStack, allowSrfAttach, allowCollision\n\nno yes no no no\n\nstack- can I attach things at the nodes?\n\nsrfAttach- can I put things on it?\n\nallowStack- Will this thing be stacked?\n\nallowSrfAttach- can I stick this to surfaces?\n\nallowCollision- can I merge this with things, so a collida mesh clips?"}]}