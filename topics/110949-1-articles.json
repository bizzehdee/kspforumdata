{"TopicId":110949,"ForumId":35,"TopicTitle":"rotate saves every 10 minutes","CreatedByName":"scavenger","CreatedById":111989,"CreatedDateTime":"2015-05-26T22:02:58Z","PageNum":1,"Articles":[{"CreatedByName":"scavenger","CreatedById":111989,"CreatedDateTime":"2015-05-26T22:02:58Z","Content":"\n\u003Cp\u003Ehi everyone\u003C/p\u003E\u003Cp\u003EI think that might be of any help for anyone experiencing constant crashes like i do.\u003C/p\u003E\u003Cp\u003EI created a quick batch to be launched BEFORE launching KSP, and it saves your game every 10 minutes, rolling on 6 files. So at any point, you have 1 hour back with 6 save points.\u003C/p\u003E\u003Cp\u003EIn the past, I used to date the savegames, but honestly, when in life have you reloaded a 3 weeks old savegame?\u003C/p\u003E\u003Cp\u003EPRE-REQUISITES:\u003C/p\u003E\u003Cp\u003E0) this is for Windows. Linux users are smart enough, in general, to code that by themselves.\u003C/p\u003E\u003Cp\u003E1) 7zip \u003Ca href=\u0022http://www.7-zip.org/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.7-zip.org/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E2) GNU sleep.exe \u003Ca href=\u0022http://gnuwin32.sourceforge.net/downlinks/coreutils-bin-zip.php\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://gnuwin32.sourceforge.net/downlinks/coreutils-bin-zip.php\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E3) optional: pslist.exe \u003Ca href=\u0022https://technet.microsoft.com/en-us/sysinternals/bb896682.aspx\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://technet.microsoft.com/en-us/sysinternals/bb896682.aspx\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ea) Install \u003Cstrong\u003E7zip \u003C/strong\u003Eif you don\u0027t have it yet\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E then get \u003Cstrong\u003Esleep.exe\u003C/strong\u003E from the link above and put it in the same directory that contains your savegames\u003C/p\u003E\u003Cp\u003Ec) optionally, get \u003Cstrong\u003Epslist.exe\u003C/strong\u003E from the link above and put it in the same directory that contains your savegames\u003C/p\u003E\u003Cp\u003Ed) finally, adapt the \u003Cstrong\u003Epaths \u003C/strong\u003Einside the batch file bellow (call it looSave\u003Cstrong\u003E.cmd\u003C/strong\u003E or whatever), that you will save in the same directory that contains your savegames\u003C/p\u003E\u003Cp\u003E- get the savegames ordered by TIME\u003C/p\u003E\u003Cp\u003E- after a crash, just get the N-1, or 2 or whatever number you need to get back before the launch that crashed your game.\u003C/p\u003E\u003Cp\u003Ehope that can help someone \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E:: loop saving system every 10 minutes for KSP by ScavengeR(c)\u003Cbr\u003E@echo off\u003Cbr\u003E\u003Cbr\u003Erem put your 7z.exe full path bellow if it is not in your %PATH% variable:\u003Cbr\u003Eset SEVENzip=7z.exe\u003Cbr\u003Erem adapt the full path to your save dir:\u003Cbr\u003Eset SAVEDIR=G:\\GAMES\\KSP_win_1.0.2\\saves\u003Cbr\u003Erem adapt the name of your zip files if you want too:\u003Cbr\u003Eset KSPLoopSave=KSPLoopSave\u003Cbr\u003E::-----------------\u003Cbr\u003E\u003Cbr\u003Epushd %~dp0\u003Cbr\u003Egoto :loop\u003Cbr\u003Egoto :END\u003Cbr\u003E\u003Cbr\u003E:loop\u003Cbr\u003Eset CURRENTMIN=%TIME:~3,1%\u003Cbr\u003Eecho %TIME% saving %~dp0%KSPLoopSave%_%CURRENTMIN%.zip ...\u003Cbr\u003E%SEVENzip% a -bd -y %~dp0%KSPLoopSave%_%CURRENTMIN%.zip %SAVEDIR% \u0026gt;NUL\u003Cbr\u003Eecho %TIME% saving %~dp0%KSPLoopSave%_%CURRENTMIN%.zip ...OK\u003Cbr\u003Esleep 600\u003Cbr\u003E\u003Cbr\u003Erem if you want, comment the line bellow, that test if KSP is still running.\u003Cbr\u003Erem You then will have to close the DOS window manually:\u003Cbr\u003Epslist KSP\u003Cbr\u003E::---------\u003Cbr\u003Eif %ERRORLEVEL% EQU 0 goto :loop\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:END\u003Cbr\u003Eexit\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eedit: About Linux, hum, please Windows users do not misinterpret my words. And for anyone under Linux asking for, I will write the same shell with bash if u want \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-30T03:43:17Z\u0022 title=\u002205/30/2015 03:43  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 30, 2015\u003C/time\u003E by scavenger\u003C/strong\u003E\n\u003Cbr\u003Ewrong title\n\u003C/span\u003E\n"},{"CreatedByName":"scavenger","CreatedById":111989,"CreatedDateTime":"2015-05-28T21:47:54Z","Content":"\n\u003Cp\u003Ehmmm could smbd move this post to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/forums/40-KSP-Fan-Works\u0022 rel=\u0022external nofollow\u0022\u003EKSP Fan Works\u003C/a\u003E instead ? tx \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2015-05-29T13:24:57Z","Content":"\n\u003Cp\u003EKSP fanworks? \u003C/p\u003E\u003Cp\u003ETools and Applications seems more appropriate. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/forums/36-Tools-and-Applications\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/forums/36-Tools-and-Applications\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-05-29T13:31:05Z","Content":"\n\u003Cp\u003ETools and Applications it is. Nice work, scavenger. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"scavenger","CreatedById":111989,"CreatedDateTime":"2015-05-30T03:37:28Z","Content":"\n\u003Cp\u003Ethank you, and as I said if that can be of any use to anyone, I am happy to share.\u003C/p\u003E\u003Cp\u003Ebellow is another version that uses current hours too, that makes 24 * 6 = 144 possible rotating saves. I had to do that because of a mission that lasted 3 hours. Going one hour back was not enough.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E:: loop saving system every 10 minutes every hours for KSP by ScavengeR(c)\u003Cbr\u003E:: it generates at most 24 * 6 = 144 rotating savegames\u003Cbr\u003E:: This batch to be placed in the directory that holds the generated save zip files.\u003Cbr\u003E@echo off\u003Cbr\u003E\u003Cbr\u003Erem put your 7z.exe full path bellow if it is not in your %PATH% variable:\u003Cbr\u003Eset SEVENzip=7z.exe\u003Cbr\u003Erem adapt the full path to your installed game main saves directory:\u003Cbr\u003Eset SAVEDIR=G:\\GAMES\\KSP_win_1.0.2\\saves\u003Cbr\u003Erem adapt the name of your zip files if you want too:\u003Cbr\u003Eset KSPLoopSave=KSPLoopSave\u003Cbr\u003E::-----------------\u003Cbr\u003E\u003Cbr\u003Epushd %~dp0\u003Cbr\u003Egoto :loop\u003Cbr\u003Egoto :END\u003Cbr\u003E\u003Cbr\u003E:loop\u003Cbr\u003Eset CURRENTH=%TIME:~0,2%\u003Cbr\u003Eset CURRENTMIN=%TIME:~3,1%\u003Cbr\u003Eset LastShip=\u003Cbr\u003E:: get the last modified player name:\u003Cbr\u003Efor /f \u0022delims=\u0022 %%L in (\u0027dir /b /od %SAVEDIR%\u0027) do set LastPlayer=%%L\u003Cbr\u003E:: get the last modified ship, with underscore in front.\u003Cbr\u003Efor /f \u0022delims=\u0022 %%L in (\u0027dir /b /od %SAVEDIR%\\%LastPlayer%\\Ships\\VAB ^| findstr /p /v Auto-Saved\u0027) do set LastShip=_%%L\u003Cbr\u003E\u003Cbr\u003E:: delete same time savegame since the name can be different each time:\u003Cbr\u003Eif EXIST \u0022%~dp0%KSPLoopSave%_%CURRENTH%%CURRENTMIN%0_*.zip\u0022 del /q \u0022%~dp0%KSPLoopSave%_%CURRENTH%%CURRENTMIN%0_*.zip\u0022\u003Cbr\u003E\u003Cbr\u003Eecho %TIME% saving \u0022%~dp0%KSPLoopSave%_%CURRENTH%%CURRENTMIN%0%LastShip%.zip\u0022 ...\u003Cbr\u003E%SEVENzip% a -bd -y \u0022%~dp0%KSPLoopSave%_%CURRENTH%%CURRENTMIN%0%LastShip%.zip\u0022 %SAVEDIR% \u0026gt;NUL\u003Cbr\u003Eecho %TIME% saving \u0022%~dp0%KSPLoopSave%_%CURRENTH%%CURRENTMIN%0%LastShip%.zip\u0022 ...OK\u003Cbr\u003Esleep 600\u003Cbr\u003E\u003Cbr\u003Erem if you want, comment the line bellow, that test if KSP is still running.\u003Cbr\u003Erem You then will have to close the DOS window manually:\u003Cbr\u003Epslist KSP \u0026gt;NUL 2\u0026gt;\u0026amp;1\u003Cbr\u003E::---------\u003Cbr\u003Eif %ERRORLEVEL% EQU 0 goto :loop\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:END\u003Cbr\u003Eexit\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eedit: i added the last modified ship name to the zip files so you can recognize easily what you were doing at that time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-31T21:31:33Z\u0022 title=\u002205/31/2015 09:31  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 31, 2015\u003C/time\u003E by scavenger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"scavenger","CreatedById":111989,"CreatedDateTime":"2015-06-21T19:09:14Z","Content":"\n\u003Cp\u003EHere is the latest version. It still uses the timely fashion to order the saves but there is no relationship with the time anymore.\u003C/p\u003E\u003Cp\u003EThis version does 24 * 6 = 144 rotate saves or more, as you can customize the sleep between savegames.\u003C/p\u003E\u003Cp\u003EThis version also name the saves according to the last player used, and last ship name edited.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/P4Z6Bi4.png\u0022 alt=\u0022P4Z6Bi4.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E:: loop saving system every 10 minutes every hours for KSP by ScavengeR(c)\u003Cbr\u003E:: it generates at most 24 * 6 = 144 rotating savegames\u003Cbr\u003E:: This batch to be placed in the directory that holds the generated save zip files.\u003Cbr\u003E@echo off\u003Cbr\u003EMODE 120,30\u003Cbr\u003E\u003Cbr\u003Erem put your 7z.exe full path bellow if it is not in your %PATH% variable:\u003Cbr\u003Eset SEVENzip=7z.exe\u003Cbr\u003Erem set extention: 7z compress KSP saves usually like 5 times more than zip\u003Cbr\u003Eset ext=7z\u003Cbr\u003Erem adapt the full path to your installed game main saves directory:\u003Cbr\u003Eset SAVEDIR=G:\\GAMES\\KSP_win_1.0.2\\saves\u003Cbr\u003Erem adapt the name of your zip files if you want too:\u003Cbr\u003Eset KSPLoopSave=KSPLoopSave\u003Cbr\u003Erem set the time in minutes between saves:\u003Cbr\u003Eset minutes=10\u003Cbr\u003E::-----------------\u003Cbr\u003Eset /A seconds=minutes*60\u003Cbr\u003Eset /A maxMin=60-minutes\u003Cbr\u003E\u003Cbr\u003Epushd %~dp0\u003Cbr\u003Ecall :getLastSaveNum %KSPLoopSave%\u003Cbr\u003Egoto :loopsave\u003Cbr\u003Egoto :END\u003Cbr\u003E\u003Cbr\u003E:getLastSaveNum\u003Cbr\u003Efor /f \u0022tokens=2 delims=_\u0022 %%a in (\u0027dir /b /o-d %1_*.%ext%\u0027) do if not defined lastSaveNum set lastSaveNum=%%a\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:getLastNames\u003Cbr\u003Eset LastPlaceName=\u003Cbr\u003Eset LastShipName=\u003Cbr\u003E:: get the last modified player name:\u003Cbr\u003Efor /f \u0022delims=\u0022 %%L in (\u0027dir /b /od %SAVEDIR%\u0027) do set LastPlayer=%%L\u003Cbr\u003E:: get the last place whre are modified ships\u003Cbr\u003Efor /f \u0022delims=\u0022 %%L in (\u0027dir /b /od %SAVEDIR%\\%LastPlayer%\\Ships\u0027) do set LastPlaceName=%%L\u003Cbr\u003E:: get the last modified ship name\u003Cbr\u003Efor /f \u0022delims=\u0022 %%L in (\u0027dir /b /od %SAVEDIR%\\%LastPlayer%\\Ships\\%LastPlaceName% ^| findstr /p /v Auto-Saved\u0027) do set LastShipName=%%L\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:getSaveNum\u003Cbr\u003Eset lastSaveNum=%1\u003Cbr\u003Eset H=%lastSaveNum:~0,2%\u003Cbr\u003Erem INFO: To get hours that are less than 10. MSDOS treat numbers that begin by 0 as just 0\u003Cbr\u003Erem INFO: We could use \u0022if %H% LSS 10 echo ok\u0022 but we don\u0027t know if later one day Microsoft will change the \u0022if\u0022 behavior\u003Cbr\u003Eif %H:~0,1% == 0 set H=%H:~1,1%\u003Cbr\u003E\u003Cbr\u003Eset M=%lastSaveNum:~2,2%\u003Cbr\u003Eif %M% GEQ %maxMin% (\u003Cbr\u003E  set M=00\u003Cbr\u003E  set /A H\u002B=1\u003Cbr\u003E  ) ELSE (\u003Cbr\u003E  set /A M\u002B=minutes\u003Cbr\u003E  )\u003Cbr\u003Eif %H% GTR 23 set H=0\u003Cbr\u003Eif %H% LSS 10 set H=0%H%\u003Cbr\u003Eset saveNum=%H%%M%\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:loopsave\u003Cbr\u003Ecall :getLastNames\u003Cbr\u003Ecall :getSaveNum %lastSaveNum%\u003Cbr\u003Eecho LastShipName=%LastShipName%\u003Cbr\u003Eecho lastSaveNum=%lastSaveNum%\u003Cbr\u003Eecho saveNum=%saveNum%\u003Cbr\u003E\u003Cbr\u003E:: delete same time savegame since the name can be different each time:\u003Cbr\u003Eif EXIST \u0022%~dp0%KSPLoopSave%_%saveNum%_*.%ext%\u0022 del /q \u0022%~dp0%KSPLoopSave%_%saveNum%_*.%ext%\u0022\u003Cbr\u003E\u003Cbr\u003Eecho %TIME% saving \u0022%~dp0%KSPLoopSave%_%saveNum%_%LastPlayer%-%LastPlaceName%-%LastShipName%.%ext%\u0022 ...\u003Cbr\u003E%SEVENzip% a -bd -y \u0022%~dp0%KSPLoopSave%_%saveNum%_%LastPlayer%-%LastPlaceName%-%LastShipName%.%ext%\u0022 %SAVEDIR% \u0026gt;NUL\u003Cbr\u003Eecho %TIME% saving \u0022%~dp0%KSPLoopSave%_%saveNum%_%LastPlayer%-%LastPlaceName%-%LastShipName%.%ext%\u0022 ...OK\u003Cbr\u003Eset lastSaveNum=%saveNum%\u003Cbr\u003Esleep %seconds%\u003Cbr\u003E\u003Cbr\u003Erem if you want, comment the line bellow, that test if KSP is still running.\u003Cbr\u003Erem You then will have to close the DOS window manually:\u003Cbr\u003Epslist KSP \u0026gt;NUL 2\u0026gt;\u0026amp;1\u003Cbr\u003E::---------\u003Cbr\u003Eif %ERRORLEVEL% EQU 0 goto :loopsave\u003Cbr\u003Egoto :EOF\u003Cbr\u003E\u003Cbr\u003E:END\u003Cbr\u003Eexit\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"includao","CreatedById":145136,"CreatedDateTime":"2015-06-21T19:35:37Z","Content":"\n\u003Cp\u003EThe tools that people have to create in order to play this game with mods and/or a 64bit client... I love this game, though. Thanks for your work.\u003C/p\u003E\n"}]}