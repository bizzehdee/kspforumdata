{"TopicId":138724,"ForumId":29,"TopicTitle":"ScreenSafeUI???","CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T04:28:06Z","PageNum":1,"Articles":[{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T04:28:06Z","Content":"\n\u003Cp\u003E\nLooking for info, can\u0027t seem to find any in the API docs.\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-05-02T05:24:42Z","Content":"\n\u003Cp\u003E\nSounds like one of the 3 tools that was being used for UI prior to 1.1. What do you need it for?\n\u003C/p\u003E\n"},{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T05:31:08Z","Content":"\n\u003Cp\u003E\nLooking at code written for unity 4, trying to update it and of course knowing what it *was* would help that.\n\u003C/p\u003E\n\u003Cp\u003E\nScreenSafeUI.referenceCam\u00A0specifically.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-02T05:34:02Z\u0022 title=\u002205/02/2016 05:34  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 2, 2016\u003C/time\u003E by tg626\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-05-02T05:42:40Z","Content":"\n\u003Cp\u003E\nThat\u0027s most likely the viewpoint that all those UI elements were drawn for. \u003Cs\u003EI doubt you\u0027ll find an equivalent in the new UI since it doesn\u0027t use cameras to create unique UI layers, or atleast not externally\u003C/s\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-02T07:54:41Z\u0022 title=\u002205/02/2016 07:54  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 2, 2016\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T06:15:27Z","Content":"\n\u003Cp\u003E\nThat\u0027s what I figure, just not sure what data gets passed.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-02T07:52:32Z","Content":"\n\u003Cp\u003E\nHum, the new UI does uses camera. Each Canvas has one.\n\u003C/p\u003E\n\u003Cp\u003E\nBut it hard to answer the question when you have so little info on what you want to do...\n\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2016-05-02T07:54:24Z","Content":"\n\u003Cp\u003E\nWelp, I stand corrected\n\u003C/p\u003E\n"},{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T14:52:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222554949\u0022 data-ipsquote-contentid=\u0022138724\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462175552\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHum, the new UI does uses camera. Each Canvas has one.\n\u003C/p\u003E\n\u003Cp\u003E\nBut it hard to answer the question when you have so little info on what you want to do...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cpre style=\u0022white-space:pre;font-family:Consolas, \u0027Liberation Mono\u0027, Courier, monospace;margin:0px;padding:15px 0px;color:rgb(51,51,51);font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:19.88px;text-indent:0px;text-transform:none;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\n\u00A0\u003C/pre\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Epublic\u003C/span\u003E \u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Evoid\u003C/span\u003E \u003Cspan style=\u0022color:rgb(121,93,163);\u0022\u003EGetNavBallRect\u003C/span\u003E()\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0{\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Evar\u003C/span\u003E navball = GameObject.FindObjectOfType\u0026lt;NavBall\u0026gt;();\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Eif\u003C/span\u003E (navball == \u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003Enull\u003C/span\u003E)\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0{\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Err(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003EGetNavBallArea: no navball object found\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0}\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Log(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003ENavball game object: {0}\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E, navball);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Log(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003ENavball transform: {0}\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E, navball.transform.localToWorldMatrix);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Log(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003ENavball transform.position: {0}\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E, navball.transform.position);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// position is (1.0,0.1,0.0) when visible\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// position is (1.0,-0.1,0.0) when not visible\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Evar\u003C/span\u003E camera = ScreenSafeUI.referenceCam;\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// this looks to be the center of the ball with Y counting up from bottom of screen\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// so 800,85 for 1600x1200 screen.\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Vector3 center = camera.WorldToScreenPoint(navball.transform.position);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Log(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003ENavball center in screen point: {0}\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E, center);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// cannot figure out how to get actual size. Just assume that since we have the center\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// and the Y is offset from 0 the size is about twice that.\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// the 200 and 223 come from measuring this in a 1600x1200 frame\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Efloat\u003C/span\u003E height = (\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Efloat\u003C/span\u003E)center.y * (\u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003E200.0f\u003C/span\u003E / \u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003E85.6f\u003C/span\u003E);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Efloat\u003C/span\u003E width = (\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Efloat\u003C/span\u003E)center.y * (\u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003E223.0f\u003C/span\u003E / \u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003E85.6f\u003C/span\u003E);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// this does not work; maybe only valid inside GUI draw calls\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// Vector2 guiCenter = GUIUtility.ScreenToGUIPoint(new Vector2(center.x, center.y));\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(150,152,150);\u0022\u003E// Just assume as is the case currently with unity that the Y reverses direction\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0navBallRect =\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u003Cspan style=\u0022color:rgb(167,29,93);\u0022\u003Enew\u003C/span\u003E Rect(center.x - width / \u003Cspan style=\u0022color:rgb(0,134,179);\u0022\u003E2\u003C/span\u003E, Screen.height - height, width, height);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0Deb.Log(\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003ENavball Rect calculated to be: {0}\u003Cspan style=\u0022color:rgb(24,54,145);\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E, navBallRect);\n\u003C/div\u003E\n\u003Cdiv style=\u0022padding:0px 15px;\u0022\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0}\n\u003C/div\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-02T14:56:06Z","Content":"\n\u003Cp\u003E\nok, I have the answer back home. Will reply later.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-02T17:31:19Z","Content":"\n\u003Cp\u003E\nOk, so the camera you need should be\u00A0UIMasterController.Instance.appCanvas.worldCamera and I you ll need to call\u00A0RectTransformUtility.WorldToScreenPoint()\n\u003C/p\u003E\n\u003Cp\u003E\nBut if the whole mod was made for the old UI I have a strong feeling that getting the new pos will be the least of your problem.\n\u003C/p\u003E\n"},{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2016-05-02T19:35:54Z","Content":"\n\u003Cp\u003E\nActually popping a return at the start if the function puts it in the upper left corner. \u00A0As a stop gap I added gui.dragable (or whatever it\u0027s called, I\u0027m on my phone...) I was able to simply click and drag it where I wanted.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll have a\u00A0look at what you suggested tho thanks a ton!!!\n\u003C/p\u003E\n"}]}