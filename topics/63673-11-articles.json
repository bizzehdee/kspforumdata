{"TopicId":63673,"ForumId":34,"TopicTitle":"[0.90] [Up for adoption] Connected Living Space v1.1.2.0 (27th Feb 2015) Hatches and Highlighting","CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-02-19T10:56:15Z","PageNum":11,"Articles":[{"CreatedByName":"Pocketkid2","CreatedById":121228,"CreatedDateTime":"2014-10-09T19:34:56Z","Content":"\n\u003Cp\u003EDoes this work on 0.25 without an update? If not, how soon might one be available?\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-09T20:35:14Z","Content":"\n\u003Cp\u003EI am building it against 0.25 now. Hopefully I will have a release for you all soon.\u003C/p\u003E\n"},{"CreatedByName":"Ippo","CreatedById":107018,"CreatedDateTime":"2014-10-09T20:37:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI am building it against 0.25 now. Hopefully I will have a release for you all soon.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENinja\u0027d, kinda \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI had just tried rebuilding it against 0.25: it appears that it works with no change, but of course, an official update is better \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-11T20:10:34Z","Content":"\n\u003Cp\u003Ev1.0.9.0 for KSP 0.25 released. Also has config for lots more part packs.\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-10-11T22:19:03Z","Content":"\n\u003Cp\u003ESorry to tell you this, but Near-Future 0.3 has built-in CLS support, so your pack for that is redundant. :/\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-12T05:55:57Z","Content":"\n\u003Cp\u003EThanks for letting me know, I will take it out. \u003C/p\u003E\u003Cp\u003EPart packs adding their own config is the preferred way forward, but in the meantime I am happy to add any configs that the community provide.\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-10-12T06:52:32Z","Content":"\n\u003Cp\u003EA question: does CLS support 0.25 stock crew transfer system, thus making crew transfer mods redundant?\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-12T14:00:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022biohazard15\u0022 data-cite=\u0022biohazard15\u0022\u003E\u003Cdiv\u003EA question: does CLS support 0.25 stock crew transfer system, thus making crew transfer mods redundant?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECLS itself is not necessarily related to moving crew around, it just provides a framework to know what is connected to what. Therefore it has not interaction with the stock crew transfer system.\u003C/p\u003E\n"},{"CreatedByName":"S1gmoid","CreatedById":124382,"CreatedDateTime":"2014-10-15T21:52:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003ECLS itself is not necessarily related to moving crew around, it just provides a framework to know what is connected to what. Therefore it has not interaction with the stock crew transfer system.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo... that means a new mod is in order, that uses CLS to disable the stock crew transfer between unconnected spaces? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Or is there such a mod around already?\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-15T22:24:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022S1gmoid\u0022 data-cite=\u0022S1gmoid\u0022\u003E\u003Cdiv\u003ESo... that means a new mod is in order, that uses CLS to disable the stock crew transfer between unconnected spaces? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Or is there such a mod around already?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was thinking myself yesterday that that would probably be the best approach.\u003C/p\u003E\n"},{"CreatedByName":"KevinCathcart","CreatedById":126664,"CreatedDateTime":"2014-10-21T03:27:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI was thinking myself yesterday that that would probably be the best approach.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that is rather easy. There is only one hook into the built-in crew transfer system, and it occurs after the member has already been transferred, and the transfer message queued for display, but the hook code runs in the very same frame,\u003C/p\u003E\u003Cp\u003Eand it is very straightforward to undo the transfer, and fairly easy to suppress the existing message. So I check if the tranfer is within the same ConnectedLivingSpace, (or if it is a transfer to/from EVA) and if not, then it is reverted, an error message displayed, and the success message removed.\u003C/p\u003E\u003Cp\u003EThere is one rather minor downside, which is that the failed transfer may change which seat that Kerbal was in, but it is totally not worth adding code that runs every frame to avoid that.\u003C/p\u003E\u003Cp\u003ESomebody who really cares about the specific seats should be using the Ship Manifest mod anyway.\u003C/p\u003E\u003Cp\u003EI\u0027ve posted the code to the following gist: \u003Ca href=\u0022https://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt works just fine, and will likely continue to work until the next KSP release (or possibly longer), but I don\u0027t really want to maintain it, so somebody please adopt it.\u003C/p\u003E\n"},{"CreatedByName":"marchingknight11","CreatedById":119414,"CreatedDateTime":"2014-10-21T03:43:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinCathcart\u0022 data-cite=\u0022KevinCathcart\u0022\u003E\u003Cdiv\u003EWell that is rather easy. There is only one hook into the built-in crew transfer system, and it occurs after the member has already been transferred, and the transfer message queued for display, but the hook code runs in the very same frame,\u003Cp\u003Eand it is very straightforward to undo the transfer, and fairly easy to suppress the existing message. So I check if the tranfer is within the same ConnectedLivingSpace, (or if it is a transfer to/from EVA) and if not, then it is reverted, an error message displayed, and the success message removed.\u003C/p\u003E\u003Cp\u003EThere is one rather minor downside, which is that the failed transfer may change which seat that Kerbal was in, but it is totally not worth adding code that runs every frame to avoid that.\u003C/p\u003E\u003Cp\u003ESomebody who really cares about the specific seats should be using the Ship Manifest mod anyway.\u003C/p\u003E\u003Cp\u003EI\u0027ve posted the code to the following gist: \u003Ca href=\u0022https://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt works just fine, and will likely continue to work until the next KSP release (or possibly longer), but I don\u0027t really want to maintain it, so somebody please adopt it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo to use this, do I just start a new VisualStudio project, add references to the KSP DLLs and CLS.DLL, then hit build?\u003C/p\u003E\n"},{"CreatedByName":"KevinCathcart","CreatedById":126664,"CreatedDateTime":"2014-10-21T04:08:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022marchingknight11\u0022 data-cite=\u0022marchingknight11\u0022\u003E\u003Cdiv\u003ESo to use this, do I just start a new VisualStudio project, add references to the KSP DLLs and CLS.DLL, then hit build?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour build process is basically correct, but a few notes:\u003C/p\u003E\u003Cp\u003EYou need to have a reference to CLSInterfaces.dll, not to CLS.DLL, you need to have a reference to UnityEngine. You need to delete the autocreated AssemblyInfo.cs file, since I included the relevant attributes in my link.\u003C/p\u003E\u003Cp\u003ECompile in Release mode not debug mode, and copy the resulting dll and a copy of CLSInterfaces.dll into a new subfolder of GameData. (alternatively copy the result into the CLS\u0027s plugin folder which already has CLSInterfaces.dll)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T05:00:13Z\u0022 title=\u002210/21/2014 05:00  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by KevinCathcart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-21T07:29:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinCathcart\u0022 data-cite=\u0022KevinCathcart\u0022\u003E\u003Cdiv\u003EWell that is rather easy. There is only one hook into the built-in crew transfer system, and it occurs after the member has already been transferred, and the transfer message queued for display, but the hook code runs in the very same frame,\u003Cp\u003Eand it is very straightforward to undo the transfer, and fairly easy to suppress the existing message. So I check if the tranfer is within the same ConnectedLivingSpace, (or if it is a transfer to/from EVA) and if not, then it is reverted, an error message displayed, and the success message removed.\u003C/p\u003E\u003Cp\u003EThere is one rather minor downside, which is that the failed transfer may change which seat that Kerbal was in, but it is totally not worth adding code that runs every frame to avoid that.\u003C/p\u003E\u003Cp\u003ESomebody who really cares about the specific seats should be using the Ship Manifest mod anyway.\u003C/p\u003E\u003Cp\u003EI\u0027ve posted the code to the following gist: \u003Ca href=\u0022https://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://gist.github.com/KevinCathcart/92d7d7d80bac480df7d6\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt works just fine, and will likely continue to work until the next KSP release (or possibly longer), but I don\u0027t really want to maintain it, so somebody please adopt it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are awesome! Thanks for doing this. Next time I have a day off (Friday perhaps, or on a couple of weeks time) I will have a look and play with it.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-21T22:46:22Z","Content":"\n\u003Cp\u003EOK. I am persuaded. I have integrated this into CLS itself, and it seems to be working. I will add a config option to the GUI and then release it.\u003C/p\u003E\n"},{"CreatedByName":"KevinCathcart","CreatedById":126664,"CreatedDateTime":"2014-10-22T00:38:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EOK. I am persuaded. I have integrated this into CLS itself, and it seems to be working. I will add a config option to the GUI and then release it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, I did not think it was Friday yet? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Anyway, please let me know if any problems crop up, but as you saw it is pretty simple code, not really too much room for something to go wrong.\u003C/p\u003E\u003Cp\u003EJust be sure that only one copy of the handler is installed at a given time. \u003C/p\u003E\u003Cp\u003EOne thing I really should have done in my example code, is wrapping the handler in a try/catch block that logs any thrown exception with UnityEngine.Debug.LogException and does not rethrow. The event handler should never actually throw an exception, but if for whatever reason it does, some minor glitching can occur. Better to just log the exception, and let the caller continue on.\u003C/p\u003E\u003Cp\u003EAlso, this may cause be incompatible with future mods that also want to hook that event, in-so-far as they would not be expecting the transfer to be reverted. But the only two mods on GitHub currently using that event are both compatible, as long as CLS subscribes to the event extremely early, like my example code does.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-22T01:44:43Z\u0022 title=\u002210/22/2014 01:44  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 22, 2014\u003C/time\u003E by KevinCathcart\u003C/strong\u003E\n\u003Cbr\u003Efix spelling\n\u003C/span\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-22T07:27:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinCathcart\u0022 data-cite=\u0022KevinCathcart\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, this may cause be incompatible with future mods that also want to hook that event, in-so-far as they would not be expecting the transfer to be reverted. But the only two mods on GitHub currently using that event are both compatible, as long as CLS subscribes to the event extremely early, like my example code does.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy is it necessary to subscribe really early. CLS is all uptight about how it starts up (something to do with hatches in the docking ports) and so I starts up every scene, and uses a custom KSPAddon attribute (although I am not sure if this is still needed.) Is your transfer abort code going to not work if I do not use Startup.Immediate?\u003C/p\u003E\n"},{"CreatedByName":"KevinCathcart","CreatedById":126664,"CreatedDateTime":"2014-10-23T01:29:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EWhy is it necessary to subscribe really early. CLS is all uptight about how it starts up (something to do with hatches in the docking ports) and so I starts up every scene, and uses a custom KSPAddon attribute (although I am not sure if this is still needed.) Is your transfer abort code going to not work if I do not use Startup.Immediate?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe code will work fine if started at any time. As long as exactly one instance of the handler is registered at the time a transfer occurs. However, the best way to ensure that other mods that want to use the event can reliably be compatible, we need to be able to guarantee that the reverting handler comes first. Then depending on exactly what the other plugin wants to do with the event, they are either automatically compatible or can at least check to see if we reverted the transfer. If the CLS event came second then, for example, some The productivity calculations of Interplanetary Launchpads would break. It does not need to actually be extremely early though. \u003C/p\u003E\u003Cp\u003EI\u0027ve submitted a pull request that show one reasonable way to handle this that in will work fine, without changing the startup timing of CLS. The proposed solution makes the handler static, and registers it exactly once (on the very first time Awake is called). In practice that will be the Awake of the Menu Scene, and most interested add-ons will wait until a later scene or at least until the Start event, to hook the event, so this will keep compatibility issues to a near minimum.\u003C/p\u003E\u003Cp\u003EObviously I also incorporated the try catch block i mentioned above.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-23T21:58:10Z","Content":"\n\u003Cp\u003ERelease v1.0.10.0 which has a bug fix that should make CLS work with more unconfigured parts. Also added support for stock crew transfers (thanks KevinCathCart)\u003C/p\u003E\n"},{"CreatedByName":"ev0","CreatedById":116691,"CreatedDateTime":"2014-10-25T16:20:09Z","Content":"\n\u003Cp\u003EHi codepoet,\u003C/p\u003E\u003Cp\u003EThe Z-4K Rechargeable Battery Bank (the largest battery, 2.5m) isn\u0027t passable, despite there being what looks like a large docking port in the middle. Any idea how to make it passable? The names of the parts in the @PART[~] field in your CLSSquad.cfg don\u0027t all quite match up to the part names in Squad\u0027s Parts folder, so I\u0027m not quite sure what to add to that file.\u003C/p\u003E\u003Cp\u003EThanks for the mod!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://wiki.kerbalspaceprogram.com/w/images/thumb/f/fb/Z-4K.png/190px-Z-4K.png\u0022 alt=\u0022190px-Z-4K.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"S1gmoid","CreatedById":124382,"CreatedDateTime":"2014-10-25T16:30:43Z","Content":"\n\u003Cp\u003EI don\u0027t know if this helps, but you should be aware that Squad part folders, file names and actual part identifiers are totally all over the place. You\u0027ll have stuff like \u0022elevon1.cfg\u0022 containing a part named \u0022SmallCtrlSurf\u0022 or somesuch.\u003C/p\u003E\u003Cp\u003EFind the battery pack, open the cfg file, look at the \u0022name\u0022 field, that\u0027s what you need to give ModuleManager to apply changes to it.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-25T16:46:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ev0\u0022 data-cite=\u0022ev0\u0022\u003E\u003Cdiv\u003EHi codepoet,\u003Cp\u003EThe Z-4K Rechargeable Battery Bank (the largest battery, 2.5m) isn\u0027t passable, despite there being what looks like a large docking port in the middle. Any idea how to make it passable? The names of the parts in the @PART[~] field in your CLSSquad.cfg don\u0027t all quite match up to the part names in Squad\u0027s Parts folder, so I\u0027m not quite sure what to add to that file.\u003C/p\u003E\u003Cp\u003EThanks for the mod!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/w/images/thumb/f/fb/Z-4K.png/190px-Z-4K.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/w/images/thumb/f/fb/Z-4K.png/190px-Z-4K.png\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t remember it is included, but have you checked out the \u0022alternative stock configuration\u0022? It is in a zip file in the CLS/plugin folder. There is a text file that describes the thoughts behind the two configs. If it is not included let me know, but you can always modify the config yourself - it si not hard - look at the Config HOWTO file.\u003C/p\u003E\n"},{"CreatedByName":"KevinCathcart","CreatedById":126664,"CreatedDateTime":"2014-10-25T16:47:27Z","Content":"\n\u003Cp\u003EHmm. I\u0027m surprised it took me this long to notice, and that nobody else has complained, but stock crew transfer only works with the very first vessel you try to use it with.\u003C/p\u003E\u003Cp\u003EHere is what happens. On the menu screen the plugin gets loaded and it registers a delegate pointing to an \u003Cem\u003E\u003Cstrong\u003E instance method on the current instance\u003C/strong\u003E\u003C/em\u003E. Then the scene changes to the space center, resulting in the instance being \u0022destoryed\u0022 by unity. However, the actual .net object remains around because the registered handler holds a reference to it. When you finally try to to use stock transfer, it calls that old istance. The handler notices that it has no active vessel built, so it rebuilds it with the current active vessel. The transfer works as expected.\u003C/p\u003E\u003Cp\u003EThen I switch to some other ship, and try it again. That same original instance gets used again, but it now has a CLSVessel instance that is holding on to references to the \u0022destroyed\u0022 parts of the original ship. The new transfer is not between parts of the the same space on that previous ship, so my new transfer gets denied, regardless of if it should be legal or not.\u003C/p\u003E\u003Cp\u003EThe fix is to make the event handler static, and make use of the Instance static property. This guarantees that the event handler always looks at the current instance of the plugin. See my newer pull request for details.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-10-25T16:50:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinCathcart\u0022 data-cite=\u0022KevinCathcart\u0022\u003E\u003Cdiv\u003EHmm. I\u0027m surprised it took me this long to notice, and that nobody else has complained, but stock crew transfer only works with the very first vessel you try to use it with.\u003Cp\u003EHere is what happens. On the menu screen the plugin gets loaded and it registers a delegate pointing to an \u003Cem\u003E\u003Cstrong\u003E instance method on the current instance\u003C/strong\u003E\u003C/em\u003E. Then the scene changes to the space center, resulting in the instance being \u0022destoryed\u0022 by unity. However, the actual .net object remains around because the registered handler holds a reference to it. When you finally try to to use stock transfer, it calls that old istance. The handler notices that it has no active vessel built, so it rebuilds it with the current active vessel. The transfer works as expected.\u003C/p\u003E\u003Cp\u003EThen I switch to some other ship, and try it again. That same original instance gets used again, but it now has a CLSVessel instance that is holding on to references to the \u0022destroyed\u0022 parts of the original ship. The new transfer is not between parts of the the same space on that previous ship, so my new transfer gets denied, regardless of if it should be legal or not.\u003C/p\u003E\u003Cp\u003EThe fix is to make the event handler static, and make use of the Instance static property. This guarantees that the event handler always looks at the current instance of the plugin. See my newer pull request for details.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for catching this! It goes to show how much time I have for testing!! I will get a formal release out once I have finished writing my sermon for tomorrow.\u003C/p\u003E\n"},{"CreatedByName":"ev0","CreatedById":116691,"CreatedDateTime":"2014-10-25T17:47:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI can\u0027t remember it is included, but have you checked out the \u0022alternative stock configuration\u0022? It is in a zip file in the CLS/plugin folder. There is a text file that describes the thoughts behind the two configs. If it is not included let me know, but you can always modify the config yourself - it si not hard - look at the Config HOWTO file.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! That did the trick. The ZIP file is there with the .cfg files. I\u0027ll be using the \u0022Freedom\u0022 version from now on, it makes the battery and a few other parts passable.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022S1gmoid\u0022 data-cite=\u0022S1gmoid\u0022\u003E\u003Cdiv\u003EI don\u0027t know if this helps, but you should be aware that Squad part folders, file names and actual part identifiers are totally all over the place. You\u0027ll have stuff like \u0022elevon1.cfg\u0022 containing a part named \u0022SmallCtrlSurf\u0022 or somesuch.\u003Cp\u003EFind the battery pack, open the cfg file, look at the \u0022name\u0022 field, that\u0027s what you need to give ModuleManager to apply changes to it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re right, the correct name to use is the \u0022name\u0022 field in the part .cfg. Could be useful for the future.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinCathcart\u0022 data-cite=\u0022KevinCathcart\u0022\u003E\u003Cdiv\u003EHmm. I\u0027m surprised it took me this long to notice, and that nobody else has complained, but stock crew transfer only works with the very first vessel you try to use it with.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, can confirm this. Found out when originally checking out my battery problem. Was going to check later which mod the problem lay with, guess I don\u0027t need to:)\u003C/p\u003E\n"}]}