{"TopicId":104571,"ForumId":36,"TopicTitle":"A plea to ALL modders, large and small!","CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2015-04-21T04:51:13Z","PageNum":1,"Articles":[{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2015-04-21T04:51:13Z","Content":"I think it would be wise to, as a community, agree to avoid the inclusion of \u0022agencies\u0022 in mod packages. As of .90 KSP does NOT gracefully deal with contracts offered by agencies or involving parts belonging to \\*removed\\* mods.\n\nWe should be able to \u0022test drive\u0022 a mod and not have it break a save game, IMHO. For those mod authors who feel that \u0022part testing\u0022 of their custom parts are a must, may I humbly suggest the following:\n\nArchiveRoot-\\\n\n- Agencies-\u003E\n- GameData-\\\n\n1. [\\*=1]Modname-\u003E\n2. readme.txt  \n\nPlace an explanation in the readme.txt to put \u0022Agencies\u0022 in the Modname folder, with the caveat that if they do they risk savegame corruption if they later remove the mod.   \nThose blindly copying the gamedata folder will get only the mod, those who bother to read will get the full experience.  \nOf course ultimately I would wish for the game to see the mod is missing (nonexistent agency or part) and simply remove the contract but until it does I think this would be wise.  \n\nSigned -   \nA poor blighter who just spent a few hours trying to figure out why KSP had gone totally t\\*\\*s up...  \n![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"RobotsAndSpaceships","CreatedById":122975,"CreatedDateTime":"2015-04-21T05:03:52Z","Content":"Just delete them yourself."},{"CreatedByName":"tg626","CreatedById":112361,"CreatedDateTime":"2015-04-21T05:08:01Z","Content":"Thanks for the [redacted] advice, but the whole idea is to avoid the trouble in the first place - to anyone new to modding, and anyone else who hadn\u0027t encountered this before, it\u0027s a very easy trap to fall into."},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-23T17:27:18Z","Content":"Can someone explain the problem here? RobotsAndSpaceships when you say \u0022delete them\u0022 what are you referring to?"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-23T18:03:26Z","Content":"When a contract is generated it gets assigned to an agency (sometimes randomly, sometimes not), which is then saved along with all of the other info about the contract.\n\nIf you delete the agency definition (there are simple config files for these, along with the two flag textures) after you have accepted and saved a contract offered by that agency all sorts of bad things can happen. \n\nThe next time the game loads a contract with that agency it can\u0027t find it and freaks out, this causes some problems with loading contracts (they don\u0027t show up correctly in the Mission Control Center).\n\nMuch more importantly, it breaks saving contracts, which breaks saving the contract scenario module, which prevents KSP from saving at all, which prevents you from changing scenes. It basically breaks the game.\n\nIt would be really easy for Squad to fix this, so hopefully they have in 1.0. But it can be a major problem for now; it\u0027s why I have a disclaimer about the issue on the first post of DMagic Orbital Science and an explanation of how to fix it."},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-04-23T18:06:17Z","Content":"At this point I wouldn\u0027t be too concerned with trying to stop it until we know if Squad fixed it. Yes it is annoying, but it\u0027s only 4 more days till we know if this will continue to be an issue."},{"CreatedByName":"Dr. Jet","CreatedById":99880,"CreatedDateTime":"2015-04-23T19:33:51Z","Content":"Use a separate SandBox save for any part testing. Thus you won\u0027t get any trouble with agencies or anything."},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-23T20:03:11Z","Content":"Sooo, if I remove all relevant agency contracts from the lists and then uninstall the mod will that be fine? What about completed contracts from that agency?"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-23T20:27:05Z","Content":"Completed contracts screw it up too, you have to remove them from the save file by hand, or delete them through the Alt\u002BF12 menu. \n\nYou also have to be careful when removing contracts that none get offered by the same agency while you\u0027re doing it."},{"CreatedByName":"Cydonian Monk","CreatedById":69224,"CreatedDateTime":"2015-04-23T20:31:58Z","Content":"\u003E \n\u003E Sooo, if I remove all relevant agency contracts from the lists and then uninstall the mod will that be fine? What about completed contracts from that agency?\n\nYou need to remove all contracts related to that agency, completed or not. When I last bumped into this myself I deleted the entire contract scenario module and went on with life, but it\u0027s easy enough to remove each invalid contract from the persistence file. Use Notepad\u002B\u002B/vim/your text-editor of choice - no way to do it in game or use Alt-F12 (edit: forgot about that). And of course delete the agents from the mods before you restart KSP. \n\nI had honestly considered writing a short plugin to block all contracts (I was at the point where they were mostly irrelevant), but figured it was easier to just scrub all the mods of their agents."},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-23T20:36:46Z","Content":"I\u0027m creating my agency definition now, and it\u0027s just the name, empty description and logos. Will agency contracts appear if your agency has no mentalities?"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-04-23T20:39:52Z","Content":"\u003E \n\u003E I\u0027m creating my agency definition now, and it\u0027s just the name, empty description and logos. Will agency contracts appear if your agency has no mentalities?\n\nThey should, plenty of contracts just ask for a random agency."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-04-23T20:45:59Z","Content":"Wouldn\u0027t the removal of agency definitions also remove the associated manufacturer tab in the VAB/SPH part list filters?"},{"CreatedByName":"Beale","CreatedById":70533,"CreatedDateTime":"2015-04-23T21:08:32Z","Content":"\u003E \n\u003E Wouldn\u0027t the removal of agency definitions also remove the associated manufacturer tab in the VAB/SPH part list filters?\n\nI\u0027ve lost a few saves to this without ever knowing...\n\nKeep agencies risk saves, remove them and lose part filtering / contracts. ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif)\n\nDamned if you do, damned if you don\u0027t."},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-04-23T21:10:25Z","Content":"Oooh. Is this why my list of completed contracts resets to zero from time to time?"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T21:10:30Z","Content":"Wait, you actually use the \u0022stock\u0022 manufacturers tab for part selection?"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-23T21:54:00Z","Content":"\u003E \n\u003E Wait, you actually use the \u0022stock\u0022 manufacturers tab for part selection?\n\nShameless plug ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nI don\u0027t even see the point of agencies for contracts. Who the heck cares who gave you the contract are there people out there refusing contract till they get an agency they like? Is it not possible to have manufacturer for parts without adding a new agency? I can\u0027t believe the methods squad uses at times for thing like this or kerbal names=profession. Strikes me a laziness not finding a more robust solution. Hope this is alleviated in 1.0."},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-04-23T21:58:41Z","Content":"\u003E \n\u003E Shameless plug ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nKind of ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). It was a serious question, I didn\u0027t think anyone used it \u0022stock\u0022."},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2015-04-24T16:14:22Z","Content":"How about you just don\u0027t delete the agencies subfolder of any mods? That seems better than asking everyone to add a step to their installation processes."},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-30T15:04:25Z","Content":"\u003E \n\u003E How about you just don\u0027t delete the agencies subfolder of any mods? That seems better than asking everyone to add a step to their installation processes.\n\nI\u0027ve let people know in my documentation that they have these two options. I guess there\u0027s not much beyond that that you can do."},{"CreatedByName":"Raven.","CreatedById":99340,"CreatedDateTime":"2015-04-30T15:14:38Z","Content":"It is generally a bad programming practice on Squad\u0027s part to not account for a missing agency in code that accepts plain text files as input. There should had been some kind of error or exception handling in place for this type of situation. Really, the fact that KSP craps out with a missing agency is a major KSP design flaw. \n\nWith that being said, there could be several things that could be done to mitigate this on our part. Most players are not going to know to keep the agencies sub-folder around after deleting a mod. In fact, most of them won\u0027t, and will complain if they have to leave part of the mod left installed when they want it gone. One option would be to take the stance of the Skyrim mod community: the uninstallation of mods with an existing save is unsupported. Period, end of discussion. Another option is to have a subfolder in GameData called \u0022CustomAgencies,\u0022 of which modders can agree to stick all of the custom agencies they create. This has the advantage of the user being able to uninstall a mod without having to leave behind one subfolder of a subfolder."},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-04-30T15:17:03Z","Content":"\u003E \n\u003E Another option is to have a subfolder in GameData called \u0022CustomAgencies,\u0022 of which modders can agree to stick all of the custom agencies they create. This has the advantage of the user being able to uninstall a mod without having to leave behind one subfolder of a subfolder.\n\nThis is worth discussing more. Does anyone know what happens with duplicates?"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-04-30T16:10:56Z","Content":"\u003E \n\u003E How about you just don\u0027t delete the agencies subfolder of any mods? That seems better than asking everyone to add a step to their installation processes.\n\nAs opposed to asking every single user who downloads a mod to add a step to there uninstall process yeah that is totally more right. /s There are more users than there are modders it would help more people for the modders to take task of not forcing pointless agencies that ruin saves on the end users. Thanks!"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-01T16:26:56Z","Content":"From the 1.0.1 change log:\n\n    * If the game cannot find an agent listed in the save file, it will pick a random agent.\n\nLooks like the problem is solved."},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-05-01T16:41:47Z","Content":"Damn D you are fast was just coming to post this! No more save killing agencies!!"}]}