{"TopicId":163909,"ForumId":36,"TopicTitle":"Custom shaders","CreatedByName":"/not/pol/","CreatedById":172548,"CreatedDateTime":"2017-07-31T04:15:30Z","PageNum":1,"Articles":[{"CreatedByName":"/not/pol/","CreatedById":172548,"CreatedDateTime":"2017-07-31T04:15:30Z","Content":"\n\u003Cp\u003E\nIs it possible to use self-written shaders with KSP and if so are there any limitations?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-07-31T16:36:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223135907\u0022 data-ipsquote-contentid=\u0022163909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501474530\u0022 data-ipsquote-userid=\u0022172548\u0022 data-ipsquote-username=\u0022/not/pol/\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, /not/pol/ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it possible to use self-written shaders with KSP and if so are there any limitations?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes.\n\u003C/p\u003E\n\u003Cp\u003E\nLimitations:\u00A0 Giant PITA to get them loaded and actually use them (need to compile as an asset bundle, and manually load them; stock code will not load them properly as far as I\u0027m aware), also need to compile one version for each operating system used by KSP (Win/64, Linux, OSX, so at least three packages) \u003Cstrong\u003Eand load the proper one at runtime\u003C/strong\u003E.\u00A0 You can\u0027t use them in PartTools/export, so they have to be applied at run-time through custom plugin code.\u00A0 You cannot access/find them through Shader.Find(), so the stock code/other mods\u0027 code will never be able to load them/use them.\u00A0 You also need to accommodate for the various rendering systems for some shader functions (openGL vs directX).\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you get them placed onto a model/mesh/renderer... they work just like the built-in/KSP shaders, and render just fine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nSource:\u00A0 I have written and am using custom shaders in SSTU to facilitate back-lit solar panels and user-recolorable parts.\u00A0\u00A0 (\u00A0\u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/tree/master/CustomShaders\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/tree/master/CustomShaders\u003C/a\u003E )\n\u003C/p\u003E\n"},{"CreatedByName":"/not/pol/","CreatedById":172548,"CreatedDateTime":"2017-07-31T20:34:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223136213\u0022 data-ipsquote-contentid=\u0022163909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501519002\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes.\n\u003C/p\u003E\n\u003Cp\u003E\nLimitations:\u00A0 Giant PITA to get them loaded and actually use them (need to compile as an asset bundle, and manually load them; stock code will not load them properly as far as I\u0027m aware), also need to compile one version for each operating system used by KSP (Win/64, Linux, OSX, so at least three packages) \u003Cstrong\u003Eand load the proper one at runtime\u003C/strong\u003E.\u00A0 You can\u0027t use them in PartTools/export, so they have to be applied at run-time through custom plugin code.\u00A0 You cannot access/find them through Shader.Find(), so the stock code/other mods\u0027 code will never be able to load them/use them.\u00A0 You also need to accommodate for the various rendering systems for some shader functions (openGL vs directX).\n\u003C/p\u003E\n\u003Cp\u003E\nOnce you get them placed onto a model/mesh/renderer... they work just like the built-in/KSP shaders, and render just fine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nSource:\u00A0 I have written and am using custom shaders in SSTU to facilitate back-lit solar panels and user-recolorable parts.\u00A0\u00A0 (\u00A0\u003Ca href=\u0022https://github.com/shadowmage45/SSTULabs/tree/master/CustomShaders\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/SSTULabs/tree/master/CustomShaders\u003C/a\u003E )\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo. a metric ton of C# and HLSL Shaderblocks for every different type of hardware and OS..... all i wanted was cockpit mirrors jesus KSP...\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-07-31T20:49:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223136476\u0022 data-ipsquote-contentid=\u0022163909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501533244\u0022 data-ipsquote-userid=\u0022172548\u0022 data-ipsquote-username=\u0022/not/pol/\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, /not/pol/ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo. a metric ton of C# and HLSL Shaderblocks for every different type of hardware and OS..... all i wanted was cockpit mirrors jesus KSP...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLoL...indeed.\u00A0 That about sums it up \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t even start on the difficulty of using reflective shaders.\u00A0 Those come with a whole extra load of mess to deal with; you either need to render and use your own reflection cube-maps, or try and \u0027fix\u0027 the problems that KSP has with Unity\u0027s standard reflection probes (or possibly even other reflection hacks that I\u0027m unaware of).\u00A0 Neither of which are trivial problems to solve, both would require additional shader and C# plugin code.\n\u003C/p\u003E\n\u003Cp\u003E\nYou might look at / look into how \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and other mods\u0027 load their shaders.\u00A0 They might have a simpler or more refined method figured out by now, which might reduce the difficulty of getting them compiled/loaded into KSP.\n\u003C/p\u003E\n"},{"CreatedByName":"/not/pol/","CreatedById":172548,"CreatedDateTime":"2017-07-31T20:51:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223136486\u0022 data-ipsquote-contentid=\u0022163909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501534196\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLoL...indeed.\u00A0 That about sums it up \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t even start on the difficulty of using reflective shaders.\u00A0 Those come with a whole extra load of mess to deal with; you either need to render and use your own reflection cube-maps, or try and \u0027fix\u0027 the problems that KSP has with Unity\u0027s standard reflection probes (or possibly even other reflection hacks that I\u0027m unaware of).\u00A0 Neither of which are trivial problems to solve, both would require additional shader and C# plugin code.\n\u003C/p\u003E\n\u003Cp\u003E\nYou might look at / look into how \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and other mods\u0027 load their shaders.\u00A0 They might have a simpler or more refined method figured out by now, which might reduce the difficulty of getting them compiled/loaded into KSP.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe most code i know is Lua is even thats a far stretch. does not really seem worth the time just for cockpit mirrors when i can just look behind me :|\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-07-31T20:58:47Z","Content":"\n\u003Cp\u003E\nWell, specifically for cockpit mirrors, you might not even need custom shaders (though you would need a fair load of C# code to make it work).\n\u003C/p\u003E\n\u003Cp\u003E\nSetup a camera in the position of the mirror (with appropriate frustum/culling), render to a texture, and use that texture in a mesh/material on the mirror.\u00A0 Probably not as performant as a reflective-shader-based solution.... but is essentially what the docking-port-camera/external camera mods do, and they don\u0027t seem to have too big of a performance hit.\u00A0 Might even be able to ask one of those mods\u0027 authors for assistance; as they already have most of the code-base in place, they should be able to (can\u0027t say as they would be willing... but probably worth it to ask) put something together for you without too much difficulty (and get a \u0027neat new feature\u0027/part for their own mod in the process).\n\u003C/p\u003E\n"},{"CreatedByName":"/not/pol/","CreatedById":172548,"CreatedDateTime":"2017-07-31T21:17:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223136502\u0022 data-ipsquote-contentid=\u0022163909\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501534727\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, specifically for cockpit mirrors, you might not even need custom shaders (though you would need a fair load of C# code to make it work).\n\u003C/p\u003E\n\u003Cp\u003E\nSetup a camera in the position of the mirror (with appropriate frustum/culling), render to a texture, and use that texture in a mesh/material on the mirror.\u00A0 Probably not as performant as a reflective-shader-based solution.... but is essentially what the docking-port-camera/external camera mods do, and they don\u0027t seem to have too big of a performance hit.\u00A0 Might even be able to ask one of those mods\u0027 authors for assistance; as they already have most of the code-base in place, they should be able to (can\u0027t say as they would be willing... but probably worth it to ask) put something together for you without too much difficulty (and get a \u0027neat new feature\u0027/part for their own mod in the process).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nstill involves C#(a coding language i am in no ways familiar with) although it sounds like a good idea\n\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2017-09-03T01:34:07Z","Content":"\n\u003Cp\u003E\nI would love to have standard material from Unity 5 as a shader in KSP, with support for custom substance painter sliders, so that way i could have a substance slider to control the edges wear on parts, that could be triggered by the time of use for that part, or had burn marks after reentering. Things like that.\n\u003C/p\u003E\n"}]}