{"TopicId":106178,"ForumId":69,"TopicTitle":"Audio issues after long time running","CreatedByName":"ekimekim","CreatedById":142321,"CreatedDateTime":"2015-04-30T01:21:33Z","PageNum":1,"Articles":[{"CreatedByName":"ekimekim","CreatedById":142321,"CreatedDateTime":"2015-04-30T01:21:33Z","Content":"I\u0027m running KSP 1.0 64-bit on linux.\n\nSometimes I leave KSP running in the background overnight or while doing other stuff. I generally leave it paused at KSC with the Esc menu open and the background music audio option set to 0%\n\nWhen I come back, all audio (not just music) is accompanied by a crackling distortion. This noise is only heard when sound is otherwise made.\n\nRestarting the game fixes the issue.\n\nI was not experiencing this bug, even with identical actions, prior to 1.0."},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-04-30T01:31:13Z","Content":"Hmm. Not to be nit picky, but does this only happen after leaving it open all night? If so, maybe closing it when done, or putting your computer to sleep while away would help the sound system/card reset? I\u0027ve had luck with putting my computer to sleep.\n\nAlso, welcome to the forums! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nCheers,\n\n-Claw"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-04-30T03:27:45Z","Content":"Not related to Linux, I\u0027m using Win 8.1 here (for now), but in v0.90 I had a similar problem - leaving the machine running for extended periods of time at the Esc menu ... upon return, back into the game, I would experience extreme lag (on the order of 4fps). Restarting KSP solved the problem. I\u0027ve not run into this with v1.0 yet, but I\u0027ll make a point of trying it. At some point, when I set one of my other Linux (Debian) laptops up with KSP, I\u0027ll test it there as well and see if I get a similar result.\n\nWhat version of Linux are you using **ekimekim**?... and what sound card/driver system (ALSA?) \u0026 desktop ?"},{"CreatedByName":"ekimekim","CreatedById":142321,"CreatedDateTime":"2015-04-30T03:48:30Z","Content":"Yes, I do realise there\u0027s an obvious workaround ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nStill, it\u0027s annoying. I\u0027m in the habit of stopping and doing other things for a while, and I don\u0027t want to have to exit/start up every time I switch back, or remember it\u0027s running and to close it when I leave the computer.\n\nI\u0027m using Arch Linux (kernel version 3.19.3-3-ARCH), window manager is XMonad, ALSA for the sound with my standard motherboard sound card.\n\nlspci gives me:\n\n\u003E \n\u003E Audio device: Intel Corporation 7 Series/C210 Series Chipset Family High Definition Audio Controller (rev 04)"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-04-30T13:27:16Z","Content":"I did some searching on this last night, and there isn\u0027t much to be found. I got the impression however that some suspected the ALSA daemon was having a time-out issue with the sound card. One source I read made suggestion about updating the sound card\u0027s drivers (check the OEM\u0027s site), but there was no real follow-up on the success of that (or not). So, I\u0027m wondering now if your computer is a laptop, and if so, could this be related to power management?... left sitting idle, in order to conserve power (even while running connected to a power source, plugged-in), laptop power management schemes can spin down drives and turn off displays and other resource utilization. Maybe take a look at that if the case applies? Next time you run into this, check the status of the ALSA daemon and see what state it\u0027s in as well as the status of the sound card itself."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-04-30T21:16:57Z","Content":"This is caused by pulse-audio, which can be killed (it restarts itself) in the task manager.\n\nIt can occur at random and the longer you leave KSP running the greater the chance that it will occur, there\u0027s no fix to pulse that I am aware of but running KSP with \u0022padsp KSP.x86\u0022 may prevent it from occurring (not fully tested) by forcing OSS mode."},{"CreatedByName":"ekimekim","CreatedById":142321,"CreatedDateTime":"2015-05-07T17:10:49Z","Content":"Some more info. Sorry, I\u0027m new to the forums and having trouble finding old threads / getting notifications correctly.\n\nFirstly, I\u0027m on a desktop. I\u0027m running ALSA but not pulseaudio (I don\u0027t have the package installed, and no pulseaudio daemon is running). No ALSA daemon is running either.\n\nAlso, I have a second condition under which this occurs: This time I had music off already, left it running in the VAB and got similar effects when I returned a few days later.\n\nThis is the output from amixer:\n\n\u003E \n\u003E Simple mixer control \u0027Master\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pvolume-joined pswitch pswitch-joined\n\u003E \n\u003E  Playback channels: Mono\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Headphone\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E  Front Right: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027PCM\u0027,0\n\u003E \n\u003E  Capabilities: pvolume\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 255\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 61 [24%] [-38.80dB]\n\u003E \n\u003E  Front Right: Playback 61 [24%] [-38.80dB]\n\u003E \n\u003E Simple mixer control \u0027Front\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E  Front Right: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Front Mic\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 31\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 31 [100%] [12.00dB] [on]\n\u003E \n\u003E  Front Right: Playback 31 [100%] [12.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Front Mic Boost\u0027,0\n\u003E \n\u003E  Capabilities: volume\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: 0 - 3\n\u003E \n\u003E  Front Left: 0 [0%] [0.00dB]\n\u003E \n\u003E  Front Right: 0 [0%] [0.00dB]\n\u003E \n\u003E Simple mixer control \u0027Surround\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E  Front Right: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Center\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pvolume-joined pswitch pswitch-joined\n\u003E \n\u003E  Playback channels: Mono\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027LFE\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pvolume-joined pswitch pswitch-joined\n\u003E \n\u003E  Playback channels: Mono\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Side\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 64\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E  Front Right: Playback 64 [100%] [0.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Line\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 31\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 0 [0%] [-34.50dB] [off]\n\u003E \n\u003E  Front Right: Playback 0 [0%] [-34.50dB] [off]\n\u003E \n\u003E Simple mixer control \u0027Line Boost\u0027,0\n\u003E \n\u003E  Capabilities: volume\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: 0 - 3\n\u003E \n\u003E  Front Left: 0 [0%] [0.00dB]\n\u003E \n\u003E  Front Right: 0 [0%] [0.00dB]\n\u003E \n\u003E Simple mixer control \u0027IEC958\u0027,0\n\u003E \n\u003E  Capabilities: pswitch pswitch-joined\n\u003E \n\u003E  Playback channels: Mono\n\u003E \n\u003E  Mono: Playback [off]\n\u003E \n\u003E Simple mixer control \u0027IEC958 Default PCM\u0027,0\n\u003E \n\u003E  Capabilities: pswitch pswitch-joined\n\u003E \n\u003E  Playback channels: Mono\n\u003E \n\u003E  Mono: Playback [on]\n\u003E \n\u003E Simple mixer control \u0027Capture\u0027,0\n\u003E \n\u003E  Capabilities: cvolume cswitch\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Capture 0 - 46\n\u003E \n\u003E  Front Left: Capture 46 [100%] [30.00dB] [on]\n\u003E \n\u003E  Front Right: Capture 46 [100%] [30.00dB] [on]\n\u003E \n\u003E Simple mixer control \u0027Capture\u0027,1\n\u003E \n\u003E  Capabilities: cvolume cswitch\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Capture 0 - 46\n\u003E \n\u003E  Front Left: Capture 46 [100%] [30.00dB] [off]\n\u003E \n\u003E  Front Right: Capture 46 [100%] [30.00dB] [off]\n\u003E \n\u003E Simple mixer control \u0027Auto-Mute Mode\u0027,0\n\u003E \n\u003E  Capabilities: enum\n\u003E \n\u003E  Items: \u0027Disabled\u0027 \u0027Enabled\u0027\n\u003E \n\u003E  Item0: \u0027Enabled\u0027\n\u003E \n\u003E Simple mixer control \u0027Digital\u0027,0\n\u003E \n\u003E  Capabilities: cvolume\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Capture 0 - 120\n\u003E \n\u003E  Front Left: Capture 60 [50%] [0.00dB]\n\u003E \n\u003E  Front Right: Capture 60 [50%] [0.00dB]\n\u003E \n\u003E Simple mixer control \u0027Input Source\u0027,0\n\u003E \n\u003E  Capabilities: cenum\n\u003E \n\u003E  Items: \u0027Front Mic\u0027 \u0027Rear Mic\u0027 \u0027Line\u0027\n\u003E \n\u003E  Item0: \u0027Rear Mic\u0027\n\u003E \n\u003E Simple mixer control \u0027Input Source\u0027,1\n\u003E \n\u003E  Capabilities: cenum\n\u003E \n\u003E  Items: \u0027Front Mic\u0027 \u0027Rear Mic\u0027 \u0027Line\u0027\n\u003E \n\u003E  Item0: \u0027Rear Mic\u0027\n\u003E \n\u003E Simple mixer control \u0027Rear Mic\u0027,0\n\u003E \n\u003E  Capabilities: pvolume pswitch\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Limits: Playback 0 - 31\n\u003E \n\u003E  Mono:\n\u003E \n\u003E  Front Left: Playback 0 [0%] [-34.50dB] [off]\n\u003E \n\u003E  Front Right: Playback 0 [0%] [-34.50dB] [off]\n\u003E \n\u003E Simple mixer control \u0027Rear Mic Boost\u0027,0\n\u003E \n\u003E  Capabilities: volume\n\u003E \n\u003E  Playback channels: Front Left - Front Right\n\u003E \n\u003E  Capture channels: Front Left - Front Right\n\u003E \n\u003E  Limits: 0 - 3\n\u003E \n\u003E  Front Left: 1 [33%] [10.00dB]\n\u003E \n\u003E  Front Right: 1 [33%] [10.00dB]\n\nI have no special asound.conf."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-05-07T17:27:15Z","Content":"Okay well KSP isn\u0027t designed with being left on for days at a time in mind, it\u0027s not a use case that\u0027s ever been tested.\n\nAnyway we can\u0027t really tell much from what you\u0027ve provided, so please see the support stickies and put your game logs and system info on dropbox.\n\nTesting this is not something I can really do here sorry, and I hesitate to ask anyone else to leave either their computer or KSP running for so long.\n\nIt\u0027s a bit odd that you don\u0027t have the alsa daemon running yet use alsa for sound though, also have you noticed this with any other games? FTL will crackle on my machine after a few hours play, even if I restart it, the only way I can fix that is to kill pulse audio."},{"CreatedByName":"ekimekim","CreatedById":142321,"CreatedDateTime":"2015-05-07T17:49:05Z","Content":"From what I can tell by a google around, the alsa-utils daemon you\u0027re referring to is used to do state save/restore to/from disk. In systemd systems you instead use seperate alsa-store and alsa-restore one-shot \u0022services\u0022 on boot and shutdown. So probably not related.\n\nI haven\u0027t noticed this in any other games. Off the top of my head, games I\u0027ve left running for days without issue include Cities: Skylines, Prison Architect, Infinifactory and The Talos Principle.\n\nAt some point I\u0027ll try to do some more intensive testing on the issue - right now all my reports are just observed consequences of normal use.\n\nWill try to remember to post detailed game logs next time.\n\nIn any case, thanks for the suggestions. It really isn\u0027t a big deal if I can\u0027t fix this, just figured I might as well try."}]}