{"TopicId":109086,"ForumId":36,"TopicTitle":"[PART] WIP Release - Phoenix Cargo/Resupply System - KIS,MJ integration - SpaceX Dragon Capsule","CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T19:54:50Z","PageNum":1,"Articles":[{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T19:54:50Z","Content":"![screenshot2.png](http://img.photobucket.com/albums/v68/MoviesColin/screenshot2.png)\n\n[Download Here](https://forum.kerbalspaceprogram.com/threads/122510-Phoenix-Industries-Cargo-Resupply-System?p=1961314#post1961314/)\n\n**License:**\n\n![88x31.png](https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png)\n\nCreative Commons Attribution-NonCommercial-ShareAlike 4.0 International License\n\n**Edited \u003Ctime datetime=\u00222015-05-21T23:43:46Z\u0022 title=\u002205/21/2015 11:43  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 21, 2015\u003C/time\u003E by -ctn-**"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-13T20:04:41Z","Content":"On PREFAB PARTICLE can you add a line localRotation = 0,0,0 ? and man that looks really good to bad the thruster part and pod looks like there one piece if it was a 2 piece you could have added \n\n\u003E \n\u003E MODULE\n\u003E  {\n\u003E \n\u003E  name = ModuleSurfaceFX\n\u003E \n\u003E  thrustProviderModuleIndex = 0\n\u003E \n\u003E  fxMax = 0.5\n\u003E \n\u003E  maxDistance = 30\n\u003E \n\u003E  falloff = 1.5\n\u003E \n\u003E  thrustTransformName = thrustTransform\n\u003E \n\u003E  }\n\n and had some smoke on the grounds FX.\nEDIT- There is also a localPosition = 0,0,0 you can add."},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T20:07:36Z","Content":"localRotation will only rotate the FX, right? I need to duplicate it on the other thrustTransform.\n\nBy one piece, do you mean one model? If so, then yes."},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-05-13T20:14:40Z","Content":"Very nice pod! I like the look of it! I\u0027m not exactly sure what is going on with the engines though. ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-13T20:15:35Z","Content":"Yes one model if the lower thrust part was a piece by it self but really looks good nice job but sorry don\u0027t know unity but looking at it it has a Rotation you have it at 0 what if you use -0 or -1 there ?"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T21:12:08Z","Content":"I\u0027m pretty sure that would just rotate the direction of the exhaust effect, not duplicate it to the other thrustTransform.\n\nAlso, for what it\u0027s worth - here\u0027s the Dragon Trunk WIP. Will be storage for electricity, monopropellant, but mostly KIS storage space.\n\n![trunkwip.png](http://img.photobucket.com/albums/v68/MoviesColin/trunkwip.png)"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-13T21:25:47Z","Content":"That looks pretty sharp can\u0027t wait to see it all in game."},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-05-13T21:44:03Z","Content":"This thread might help with multiple thrustTransforms within one engine part:\n\n[http://forum.kerbalspaceprogram.com/threads/48222-2-nozzles-in-a-engine?highlight=thrust\u002Btransform](https://forum.kerbalspaceprogram.com/threads/48222-2-nozzles-in-a-engine?highlight=thrust\u002Btransform)"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T22:00:17Z","Content":"I did see that, I must\u0027ve read it over like ten times now. I\u0027m not sure where it\u0027s going wrong; I have both engines having a thrustTransform object and the ModuleEnginesFX tells it to create the particle effect at thrustTransform, but for some reason it\u0027s only applying to one engine. Unless I\u0027m REALLY overlooking something...."},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2015-05-13T22:30:01Z","Content":"hmm, the problem may be that all of the objects are in the same level of hierarchy with the same name, so their paths are identical gameobject/phoenix/thrustTransform\n\nWhen KSP goes looking for that item, its always going to find the 1st copy and may not ever process the 2nd. You might have the same issue with your RCS thrusters.\n\nSo, try a simple fix, add 2 more empty gameobjects in unity, and add them as another layer in the hierarchy.\n\nlike gameobject/phoenix/engine1/thrustTransform\n\nand gameobject/phoenix/engine2/thrustTransform\n\nwhere engine1 and engine2 are the new empty gameobjects.\n\nSo they\u0027d be on the same level as your thrustTransforms currently are, and then the 2 thrustTransforms added as children to them."},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-13T22:40:04Z","Content":"\u003E \n\u003E hmm, the problem may be that all of the objects are in the same level of hierarchy with the same name, so their paths are identical gameobject/phoenix/thrustTransform\n\u003E When KSP goes looking for that item, its always going to find the 1st copy and may not ever process the 2nd. You might have the same issue with your RCS thrusters.\n\u003E \n\u003E So, try a simple fix, add 2 more empty gameobjects in unity, and add them as another layer in the hierarchy.\n\u003E \n\u003E like gameobject/phoenix/engine1/thrustTransform\n\u003E \n\u003E and gameobject/phoenix/engine2/thrustTransform\n\u003E \n\u003E where engine1 and engine2 are the new empty gameobjects.\n\u003E \n\u003E So they\u0027d be on the same level as your thrustTransforms currently are, and then the 2 thrustTransforms added as children to them.\n\nHey, that sounds like it might work. I\u0027ll try it out tonight when I get home. Thanks!"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T01:54:14Z","Content":"Well, that didn\u0027t work either. And then I went in and gave them both completely different names, added two separate ModuleEngine instances, two separate PREFAB\\_PARTICLE instances, and even that didn\u0027t work. Really at a loss to what the problem could be. \n\nAnyway, everything else is set and ready for release, except for that dang engine. Any more ideas?!\n\n![screenshot3_1.png](http://img.photobucket.com/albums/v68/MoviesColin/screenshot3_1.png)"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-14T02:22:30Z","Content":"Looking at some of the others haven\u0027t found one yet using ModuleEnginesFX \u0026 ModuleRCS here is LazTek Dragonpod cfg \n\n    PART{name = LazTekDragonCargomodule = Partauthor = Lazarus Luanscale = 1.0rescaleFactor = .85mesh = model.munode_stack_bottom = 0.0, -0.6, 0.0, 0.0, -1.0, 0.0node_stack_cargo = 0.0, -0.45, 0.0, 0.0, 1.0, 0.0node_stack_top = 0.0, 1.555, 0.0, 0.0, 1.0, 0.0node_stack_dock = 0.0, 1.68, 0.0, 0.0, 1.0, 0.0, 0TechRequired = metaMaterialsentryCost = 34000cost = 2500category = Podssubcategory = 0title = SpaceX Dragon V1 Cargo Capsulemanufacturer = LazTekdescription = The Dragon V1 Cargo Capsule is equipped with six-direction Draco RCS thrusters, monopropellant, interior and docking lighting, opening front panels for cargo access and A PICA-X heatshield for reentry. It can be used with stacking and attachable cargo and may be used to store science data.attachRules = 1,0,1,1,1mass = 2dragModelType = defaultmaximum_drag = 0.2minimum_drag = 0.1angularDrag = 2crashTolerance = 45maxTemp = 3400vesselType = ShipCrewCapacity = 0MODULE{\tname = ModuleCommand\tminimumCrew = 0}RESOURCE{\tname = ElectricCharge\tamount = 1000\tmaxAmount = 1000}MODULE{\tname = ModuleSAS}MODULE{\tname = ModuleReactionWheel\tPitchTorque = 10\tYawTorque = 10\tRollTorque = 10\tRESOURCE\t{\t\tname = ElectricCharge\t\trate = 0.8\t}}MODULE{\tname = ModuleRCS\tthrusterTransformName = RCSthruster\tthrusterPower = 1\tresourceName = MonoPropellant\tatmosphereCurve\t{   \t key = 0 260  \t key = 1 160 \t}}RESOURCE{\tname = MonoPropellant\tamount = 400\tmaxAmount = 400}MODULE{\tname = ModuleAnimateGeneric\tanimationName = DragonCargoDoors\tstartEventGUIName = Close Cargo Bay\tendEventGUIName = Open Cargo Bay}MODULE{\tname = ModuleAnimateGeneric\tanimationName = BlueLights\tstartEventGUIName = Blue Lights Off\tendEventGUIName = Blue Lights On}MODULE{\tname = ModuleAnimateGeneric\tanimationName = DockingLight\tstartEventGUIName = Docking Light On\tendEventGUIName = Docking Light Off}MODULE{\tname = ModuleScienceContainer\treviewActionName = Review Stored Data\tstoreActionName = Store Experiments\tevaOnlyStorage = True\tstorageRange = 7.0}MODULE{\tname = ModuleHeatShield\tdirection = 0, -1, 0\treflective = 0.05\t\tablative = AblativeShielding\t{\t\tkey = 650 0 0 0\t\tkey = 1000 64 0 0\t\tkey = 3000 80 0 0\t}\tdissipation\t{\t\t\tkey = 300 0 0 0\t\t\tkey = 500 180 0 0\t}}RESOURCE{\tname = AblativeShielding\tamount = 950\tmaxAmount = 950}MODULE{      name = FlagDecal      textureQuadName = flagSurface}}"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T02:42:47Z","Content":"So does that mean the two modules can\u0027t work together in the same part? That seems very limiting. I guess I could change them to two extra RCS nozzles pointing zenith, but I\u0027d rather they work like engines for de-orbit burns.\n\nThe stupid thing is, both thrustTransforms WORK. They output thrust and consume fuel, it\u0027s just that one of them doesn\u0027t display the exhaust flame particle FX."},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-14T02:56:57Z","Content":"Maybe you can import one of LazTek to see how he set it up ?\n\nEDIT- Scrap that after looking back at his OP seen his ModuleEngines was separate pieces haven\u0027t played with it in sometime it has some meshing errors with the door.\n\n**Edited \u003Ctime datetime=\u00222015-05-14T03:18:03Z\u0022 title=\u002205/14/2015 03:18  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 14, 2015\u003C/time\u003E by Mecripp2**"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T03:04:22Z","Content":"He doesn\u0027t have engines AND RCS ports, just RCS. Mine has RCS and Engines."},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-14T03:19:42Z","Content":"He has both pods the cargopod and dragon2 pod just put it in a test install and he change some things last time."},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T03:32:58Z","Content":"Yes, but I\u0027m pretty sure his pods and engines are separate parts in the VAB, not all the same part, is it is here."},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-14T03:41:07Z","Content":"I see it now yep ![d1.png](https://dl.dropboxusercontent.com/u/72893034/Untitled%20Folder/d1.png)![d4.png](https://dl.dropboxusercontent.com/u/72893034/Untitled%20Folder/d4.png)\n\nEDIT- And TundraExploration his dragon pod the pod has engines and the rcs separate parts\n\n**Edited \u003Ctime datetime=\u00222015-05-14T03:46:59Z\u0022 title=\u002205/14/2015 03:46  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 14, 2015\u003C/time\u003E by Mecripp2**"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2015-05-14T03:47:48Z","Content":"So you have ModuleEngine and ModuleRCS on the pod? Does the problem go away if you remove one from the config? I\u0027m not sure but I\u0027ve heard too much modules on one part can have some problems, not sure how cBBp dragon manages engines and RCS in one part though. Maybe have a look at that pod?"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2015-05-14T04:14:27Z","Content":"Yep cbbp pod works here his cfg \n\n    PART{// --- general parameters ---name = cBBp_Dragonmodule = CommandPodauthor = cBBp// --- asset parameters ---mesh = model.mu// --- node definitions ---// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Znode_stack_bottom = 0.0, -0.8362352, 0.0, 0.0, 1.0, 0.0, 0node_stack_top = 0.0, 1.4769561, 0.0, 0.0, 1.0, 0.0, 0node_stack_ASAS = 0.0, 1.3005309, 0.0, 0.0, 1.0, 0.0, 0//-0.6316727mnode_stack_trunk = 0.0, -0.6316727, 0.0, 0.0, 1.0, 0.0, 0fx_exhaustFlame_yellow = 0.0, -5, 0.0, 0.0, 1.0, 0.0, runningfx_exhaustLight_yellow = 0.0, -5, 0.0, 0.0, 0.0, 1.0, running//fx_smokeTrail_small = 0.0, -5, 0.0, 0.0, 1.0, 0.0, running// --- Sound FX definition ---sound_vent_medium = engagesound_rocket_hard = runningsound_vent_soft = disengagesound_explosion_low = flameout// --- editor parameters ---cost = 1600category = Podssubcategory = 0title = Dragon Rider Capsulemanufacturer = cBBp Space Development Co.description = The Dragon Capsule is basically the minivan of space transportation with it\u0027s ability to hold Seven crew members and it\u0027s spacious interior. It comes fully equipped with built in a docking and propulsion to allow it to shuttle its crew and cargo about in orbit. The Dragons array of Lights, landing gear and engines enable it to be the perfect drop pod to make landings on any celestial body.   // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollisionattachRules = 1,0,1,1,1// --- standard part parameters ---mass = 2.5dragModelType = defaultmaximum_drag = 0.2minimum_drag = 0.1angularDrag = 2crashTolerance = 45maxTemp = 3400vesselType = Ship// --- pod/rcs parameters ---rotPower = 3linPower = 1.1Kp = 1Kd = 1// --- tweakables (coming soon...) ---// --- internal setup ---CrewCapacity = 7INTERNAL{  name = DragonGuts}MODULE{\tname = ModuleCommand\tminimumCrew = 0\t//remove this to make it not use power\tRESOURCE\t{\t\tname = ElectricCharge\t\trate = 0.01\t}\t//end power removal}MODULE{\tname = MechJebCore}MODULE{\tname = LazorSystemDockingCamera}RESOURCE{\tname = ElectricCharge\tamount = 500\tmaxAmount = 500}MODULE{\tname = ModuleSAS}MODULE{\tname = ModuleReactionWheel\tPitchTorque = 5\tYawTorque = 5\tRollTorque = 5\tRESOURCE\t{\t\tname = ElectricCharge\t\trate = 0.5\t}}MODULE{name = ModuleRCSthrusterTransformName = RCSthrusterthrusterPower = 0isJustForShow = trueresourceName = MonoPropellant\tfxOffset = 0, -39.3, 0atmosphereCurve{   \t key = 0 260  \t key = 1 100}}MODULE{name = ModuleRCSthrusterTransformName = Special_RCSthrusterPower = 1resourceName = MonoPropellant\tfxOffset = 1e5, 1e5, 1e5atmosphereCurve{   \t key = 0 260  \t key = 1 100}}RESOURCE{name = MonoPropellantamount = 500maxAmount = 500}MODULE{\tname = ModuleEngines\tthrustVectorTransformName = thrustTransform\texhaustDamage = False\tignitionThreshold = 0.1\tminThrust = 0\tmaxThrust = 250\theatProduction = 400\tfxOffset = 0, 0, 0\tPROPELLANT\t{\t\tname = MonoPropellant        \tratio = 1\t\tDrawGauge = True\t}\tatmosphereCurve \t{   \t key = 0 290  \t key = 1 250 \t}}MODULE{\tname = ModuleGimbal\tgimbalTransformName = thrustTransform\tgimbalRange = 0.5        //useGimbalResponseSpeed = true\t//GimbalResponseSpeed = 0.5}MODULE{      name = ModuleAnimateHeat      ThermalAnim = overheat}MODULE{       name = ModuleJettison       jettisonName = fairing       bottomNodeName = bottom       isFairing = True       jettisonedObjectMass = 0.1       jettisonForce = 5       jettisonDirection = 0 0 1}MODULE{\tname = ModuleAnimateGeneric\tanimationName = Ladder\tstartEventGUIName = Extend Ladder\tendEventGUIName = Retract Ladder}MODULE{\tname = ModuleDockingNode\treferenceAttachNode = top\t\tnodeType = size1\t//controlTransformName = dockingNode}MODULE{\tname = ModuleAnimateGeneric\tanimationName = RendezvousLight\tstartEventGUIName = Rendezvous Light On\tendEventGUIName = Rendezvous Light Off}MODULE{\tname = ModuleAnimateGeneric\tanimationName = LandingLights\tstartEventGUIName = Landing Lights On\tendEventGUIName = Landing Lights Off}MODULE{\tname = ModuleAnimateGeneric\tanimationName = FloodLights\tstartEventGUIName = Area Flood Lights On\tendEventGUIName = Area Flood Lights Off}MODULE{\tname = ModuleAnimateGeneric\tanimationName = Extend_Gear\tstartEventGUIName = Extend Landing Struts\tendEventGUIName = Retract Landing Struts}MODULE{name = ModuleDecoupleejectionForce = 250explosiveNodeID = bottom}//MODULE//{//\tname = ModuleLight//        lightName = LandingLight003//\tuseAnimationDim = true//\tlightBrightenSpeed = 4//\tlightDimSpeed = 4//\tresourceAmount = 0.1///\tanimationName = LandingLight//\tuseResources = true//}// ----- DO NOT EDIT BELOW THIS POINT ------}"},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T07:00:42Z","Content":"Thanks! I copied and used that bit of code for the sound and exhaust FX.\n\nNow I have two separate exhaust FX instances where they should be, but definitely not orientated right.\n\nNo matter how I change the vector values in the CFG, they never change. Now any ideas?!\n\n![screenshot5.png](http://img.photobucket.com/albums/v68/MoviesColin/screenshot5.png)"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-05-14T07:28:33Z","Content":"Maan, this looks great!! Take some rep! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nYou should rotate the thrustTransform so that the blue arrow is pointing away from the engine nozzle, right now it points upward, so if you just put the pod on the pad it won\u0027t launch unless you turn the capsule around. Or is that wanted...?\n\nAs for the FX, I ran into the same issues when making my Atlas V. Flames are on both engines, the smoke is only on one engine, and still, I haven\u0027t found a real solution for that. :/\n\nBut keep it up, it looks really great, and I can\u0027t wait to fly it! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEDIT: As for the RCS, the green arrow in Unity must point away from the nozzle the FX comes from. Also, I\u0027d suggest using the Stock particle FX, those engine flames for RCS don\u0027t look good to me. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n**Edited \u003Ctime datetime=\u00222015-05-14T07:30:41Z\u0022 title=\u002205/14/2015 07:30  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 14, 2015\u003C/time\u003E by Kartoffelkuchen**"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2015-05-14T08:35:43Z","Content":"For the FX, I used a third layer of empty objects to act as a spawn point for the FX (I call mine smokePoint)\n\nThis is possible because you can specify a different transform in the Particle module than engine module. So I start thrustTransform and smokePoint in the same place and orientation (blue arrow pointing in the direction of thrust) and then move smokePoint where it needs to be to make the FX look right, typically just \u0027down\u0027 below the engine nozzle. Then you can leave fxOffset and rotation as 0 in the config, it really doesn\u0027t work that well."},{"CreatedByName":"-ctn-","CreatedById":130898,"CreatedDateTime":"2015-05-14T13:45:31Z","Content":"\u003E \n\u003E right now it points upward, so if you just put the pod on the pad it won\u0027t launch unless you turn the capsule around\n\nThis is intentional. The Dragon capsule has 18 thrusters - 16 of them are for RCS. Two of them are \u0022extra\u0022 pointing upward, and are used in de-orbiting. The capsule is launched to rendezvous, and the onboard hydrazine is used for attitude control and deorbiting.\n\n[http://www.aviationnews.eu/blog/wp-content/uploads/2009/09/Dragon-qualification-unit.JPG](http://www.aviationnews.eu/blog/wp-content/uploads/2009/09/Dragon-qualification-unit.JPG)\n\n\u003E \n\u003E EDIT: As for the RCS, the green arrow in Unity must point away from the nozzle the FX comes from. Also, I\u0027d suggest using the Stock particle FX, those engine flames for RCS don\u0027t look good to me. ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nThe RCS does use the stock particle FX. The exhaust effect is for the deorbiting engines. I *could* change them to extra zenith pointing RCS nozzles but then a deorbit burn would take FOREVER. The Draco nozzles on the actual Dragon produces 400 N of thrust, which doesn\u0027t translate well to KSP (it would be .4 kN) which would take FOREVER to deorbit. The SuperDraco engines produce 73kN, but are throttled down to 68kN during testing for stability. If I change the RCS nozzle exhaust in KSP from 1kN to 68kN, I feel like the craft would spin out of control. Adjusted down to KSP standards, the full thrust from a SuperDraco engine would be 25kN, which is still WAY too much for RCS. \n\nThis is why i wanted to have the two deorbiting nozzles be Engines - to give them 25kN of thrust, which is a good number for deorbit burns - and to keep them separate from the RCS controls.\n\n\u003E \n\u003E This is possible because you can specify a different transform in the Particle module than engine module.\n\nTo be honest, I didn\u0027t think of that. I\u0027ll try it out and see if it helps.\n\nEDIT:\n\nBRILLIANT! I added two smokePoint objects and assigned the particle FX to those instead on thrustTransform.\n\nIt works!\n\nThank you so much, Tiberion!\n\n![screenshot6.png](http://img.photobucket.com/albums/v68/MoviesColin/screenshot6.png)\n\n**Edited \u003Ctime datetime=\u00222015-05-14T14:03:43Z\u0022 title=\u002205/14/2015 02:03  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 14, 2015\u003C/time\u003E by -ctn-**"}]}