{"TopicId":121629,"ForumId":16,"TopicTitle":"Docking Port Glitch - Help Debugging Persistent File?","CreatedByName":"Srpadget","CreatedById":111267,"CreatedDateTime":"2015-09-25T03:38:49Z","PageNum":1,"Articles":[{"CreatedByName":"Srpadget","CreatedById":111267,"CreatedDateTime":"2015-09-25T03:38:49Z","Content":"\n\u003Cp\u003EI have a \u0022reusable\u0022 deep space tug (it\u0027s one of my standard designs, I\u0027ve got several of them scattered around the system and they\u0027ve been successfully hauling things for some time now) that delivered a Jumbo tank of LF/O to an orbiting space station (the tank and station are also standard designs, used successfully yadda yadda yadda).\u003C/p\u003E\u003Cp\u003EAnd now I can\u0027t undock the tug from the delivered Jumbo tank. I get the \u0022Undock\u0022 option on one docking port, as usual...but when I click it, nothing happens. Ports/vehicles don\u0027t undock, viewpoint doesn\u0027t change to the new CoM of either vehicle, and for that matter the \u0022Undock\u0022 command doesn\u0027t vanish. It\u0027s like nothing got clicked.\u003C/p\u003E\u003Cp\u003EDocking surfaces are Clamp-o-Tron Sr\u0027s, which I docked in LKO (and as mentioned earlier, they\u0027re bog-standard designs I\u0027ve used successfully before), so I know neither of the ports are installed backward.\u003C/p\u003E\u003Cp\u003EI have tried quitting out of KSP completely and restarting. No joy. \u003C/p\u003E\u003Cp\u003EI am currently assuming that the state of at least one of the relevant docking ports has gotten corrupted in the persistent file. However, I\u0027m not sure what I should be looking for or what I should change to fix it. (Plus, of course, the station has 6 Clamp-o-Tron Sr\u0027s, 2 of which are currently occupied by detachable tanks for a total of 4 more C-o-T Sr\u0027s, and the tug of course has one for a total of 11 large docking ports on that composite \u0022craft\u0022 in the persistent file.)\u003C/p\u003E\u003Cp\u003ESo can any of you persistent-editing experts tell me what a \u0022healthy\u0022 docking port should look like, and how to spot (and fix!) the \u0022problem child\u0022 in that morass of docking ports?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-26T00:17:29Z\u0022 title=\u002209/26/2015 12:17  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 26, 2015\u003C/time\u003E by Srpadget\u003C/strong\u003E\n\u003Cbr\u003EFlag as \u0026#039;Answered\u0026#039;\n\u003C/span\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2015-09-25T03:45:02Z","Content":"\n\u003Cp\u003EI\u0027ve never delved into docking ports per se (since I\u0027ve never had a bug like that), but a couple of suggestions:\u003C/p\u003E\u003Cp\u003ECraft files store parts as a tree, and each \u0022parent\u0022 part has references by ID to the child parts. Therefore, if you can get a \u0022toehold\u0022 by finding some part somewhere that you can recognize (e.g. suppose you know a particular kerbal happens to be in a crew cabin on your space station-- you can locate that part by searching for the kerbal\u0027s name), then you can see what links to it and \u0022follow the chain\u0022 until you get to the one you want. Really tedious and unpleasant, but once you crack open the .sfs you\u0027re asking for it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt should be pretty straightforward to see what a \u0022healthy\u0022 pair of docking ports looks like-- just find some other docked pair on some other ship somewhere, where there are only two ports involved, and you can use those for comparison once you find the borked ones.\u003C/p\u003E\n"},{"CreatedByName":"Srpadget","CreatedById":111267,"CreatedDateTime":"2015-09-26T00:16:24Z","Content":"\n\u003Cp\u003EWell, well, well... that turned out to be LOTS easier to fix than I thought it would.\u003C/p\u003E\u003Cp\u003EI didn\u0027t have to crack open the .sfs at all.\u003C/p\u003E\u003Cp\u003EIt occurred to me that it\u0027d be a lot easier to troubleshoot if it was a much smaller craft with fewer ports (and fewer parts generally). So I undocked the tug-and-tank combo from the station. Then I decided to try undocking the tank one last time, just on the off chance that the problem fixed itself when the craft was split in two and the part trees rebuilt themselves.\u003C/p\u003E\u003Cp\u003EPulled about 20 meters away from the station, hit Undock, et la voila--We Have Separation!\u003C/p\u003E\u003Cp\u003EAnd then, well, I might as well go for broke, right? Redocked to the tank, headed back to the station, redocked to that, and then SUCCESSFULLY undocked the tug from the tank. And now the tug is headed back to Kerbin with a load of returning crew and a mound of tasty Science.\u003C/p\u003E\u003Cp\u003EThe whole thing took maybe 10 minutes and a few units of monoprop. (And did NOT involve trying to debug someone else\u0027s data structures, yay!)\u003C/p\u003E\u003Cp\u003EI call that a win.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The_Rocketeer","CreatedById":81727,"CreatedDateTime":"2015-09-26T02:27:16Z","Content":"\n\u003Cp\u003EI call it a bug. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\u003Cp\u003EStill, grats! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}