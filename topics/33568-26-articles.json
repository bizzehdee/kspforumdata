{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":26,"Articles":[{"CreatedByName":"joshblake","CreatedById":52975,"CreatedDateTime":"2014-06-02T01:03:38Z","Content":"\n\u003Cp\u003ELoving KSP TOT. Thanks for making it. Tried out 0.12.2 last night, now downloading 0.12.3 --\u0026gt; v100 prerelease. \u003C/p\u003E\u003Cp\u003EOne thing I noticed is that the UI is very messed up when your Windows DPI setting is anything other than 100%. I\u0027m running on a MacBook Pro with Retina Display with Win 8.1 Update, and usually have DPI set to 125%. The TOT UI had boxes in the wrong places, things not visible. At 100% it was fine though, but the setting is for the whole OS and requires a logout and login.\u003C/p\u003E\u003Cp\u003EI like the flow of solving the optimization problems. My background as a user experience developer is nagging me to make improvements to the UI. Don\u0027t have specific suggestions yet, want to explore more. \u003C/p\u003E\u003Cp\u003EIs the calculation engine in matlab able to be called from C\u002B\u002B or C#?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-02T01:07:55Z\u0022 title=\u002206/02/2014 01:07  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 2, 2014\u003C/time\u003E by joshblake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-02T04:53:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EThat inclusion of v-infinity in the objective function has to be considered a key improvement, I couldn\u0027t think the difference being so marked. Definitely, yes, another impressive improvement with MFMS. Another thing to thank you about for having implemented \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E (and thanks to others for their suggestions).\u003Cp\u003EDefinitely yes, I like this KSP TOT version a lot. But certainly pressing you about making the MFMS isn\u0027t worth a mention, not more than the many others who contributed with their ideas.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent! Well, keep playing with the MFMS as you have time. I\u0027d like to get the v1.0.0 release out this week if there aren\u0027t any constraints or serious bugs to fix. I think I\u0027m almost there, I just need sufficient feedback to verify that that is the case.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022joshblake\u0022 data-cite=\u0022joshblake\u0022\u003E\u003Cdiv\u003ELoving KSP TOT. Thanks for making it. Tried out 0.12.2 last night, now downloading 0.12.3 --\u0026gt; v100 prerelease. \u003Cp\u003EOne thing I noticed is that the UI is very messed up when your Windows DPI setting is anything other than 100%. I\u0027m running on a MacBook Pro with Retina Display with Win 8.1 Update, and usually have DPI set to 125%. The TOT UI had boxes in the wrong places, things not visible. At 100% it was fine though, but the setting is for the whole OS and requires a logout and login.\u003C/p\u003E\u003Cp\u003EI like the flow of solving the optimization problems. My background as a user experience developer is nagging me to make improvements to the UI. Don\u0027t have specific suggestions yet, want to explore more. \u003C/p\u003E\u003Cp\u003EIs the calculation engine in matlab able to be called from C\u002B\u002B or C#?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDisplay issues are a nagging source of problems that I don\u0027t have much control over, sadly. Can you try this suggestions below? Let me know if it helps.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ERight click on your KSPTOT.exe icon, and go to Properties and then to compatibility tab, and select Disable display scaling on high DPI settings.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo answer your question: no, the MA script execution engine is not callable from outside of Mission Architect. This is also true of every other KSPTOT component: the innards aren\u0027t accessible from outside. If you have MATLAB, you can play with the source code I provide, though. That\u0027s as close as anyone can probably get.\u003C/p\u003E\u003Cp\u003EAs far as UI improvements go, I would love to hear any comments you have. I\u0027m an aerospace engineer by trade and training, so the finer points of application development (such as making the GUI look good \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E) aren\u0027t normally in my toolbox. Mission Architect is, I would say, the best I\u0027ve done with GUI design, but there is certainly room for improvement somewhere, I\u0027m sure. Keep in mind that KSPTOT was a learning process for me, too, so as time went on the GUIs and code gets better (or stops sucking so much, depending on your PoV \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E). \u003C/p\u003E\u003Cp\u003EBtw, does your background include graphics design? I\u0027ve been looking for someone to put together a logo for KSP TOT for a long time, but I\u0027ve never been able to find someone and I more or less lack the skills and the time to learn to the point that I could produce something worthwhile. If you\u0027re interested, let me know, otherwise no worries.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003ERight, I want to talk about two new features that have hit Mission Architect in the past two days while I\u0027ve waited for feedback on MFMS. They are:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EThe ability to add optimizer constraints based on the state of the spacecraft immediately after an event. This should eliminate a bunch of tedious adding constraints that match the current orbit and make advancing to the next phase of the mission faster.\u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe menu to do this is located in either A) the Script menu up top or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E in the context menu when you right-click the Mission Script listbox with all the events. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe code will ask which constraints from a list you which to add. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EConstraints are added as equality constraints with the upper and lower bounds equal to the value of that particular quantity or quantities immediately after the execution of the selected event in the Mission Script. \u003Cbr\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EA new \u0022strict SoI search\u0022 setting. This setting has, at the moment, only one effect: it forces the code to check to see if the orbit of the spacecraft and the orbit of the body currently being checked for SoI crossings actually intersect (within 2 SoI radii). If the check fails, the iterative algorithm that searches for SoI crossings is skipped for that body, thus speeding up the SoI crossing check.\u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EA quick test seemed to show that the possible speed improvement when executing the mission script with this setting on could be upwards of 2x faster. Of course, it could also not help at all, depending on your trajectory. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EInitial tests suggest it helps much more when flying about the outer solar system. The inner solar system is too dense for this to be helpful much, it appears. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe setting can be toggled on and off in the new Script -\u0026gt; Execution Settings menu. If you\u0027re having trouble getting SoI transitions, try turning this off. \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd that\u0027s it! I\u0027ve been busy this weekend. I\u0027ll put out another v1.0.0 pre-release tomorrow unless something comes up that would prevent that. Keep an eye out!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-02T05:00:07Z\u0022 title=\u002206/02/2014 05:00  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 2, 2014\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-06-02T06:22:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EDisplay issues are a nagging source of problems that I don\u0027t have much control over, sadly. Can you try this suggestions below? Let me know if it helps.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMuch of good GUI application design is making sure that if the user chooses any font size other than the OS\u0027s default (especially larger) the windows don\u0027t have text becoming partialy hidden. Buttons, lists, everything should expand to fit while also not being shrinkable too much.\u003C/p\u003E\u003Cp\u003EI\u0027ve seen plenty of apps where all the elements were fixed in size so if the font size was made larger the text ran off into nowhere, and the window could be expanded or maximized while the window content stayed all piled up in one corner - and that often combined with no minimum window size so it could be shrunk to a postage stamp.\u003C/p\u003E\u003Cp\u003EA website gone but mirrored many places (and often added to) was the \u0022\u003Ca href=\u0022https://www.google.com/search?q=iarchitect\u002Binterface\u002Bhall\u002Bof\u002Bshame\u0022 rel=\u0022external nofollow\u0022\u003Eiarchitect interface hall of shame\u003C/a\u003E\u0022, a collection of some of the worst things ever inflicted on users in the name of \u0022productivity\u0022 or simply just attempting to look neat.\u003C/p\u003E\u003Cp\u003EI am not a programmer, but I do have over 30 years experience using and fixing computers and have encountered much of the good and bad and plenty of flat out \u0022WTF is this supposed to do?\u0022 in software, and I do try to keep up with at least the basics of the how/why of software design.\u003C/p\u003E\u003Cp\u003ESoftware design is related to but very different from software programming. Many of the pioneering programmers in the 70\u0027s and 80\u0027s were only actively *programming* for a short time then moved to *designing* software. They plotted out what they wanted software to *do* then handed to project over to a programming team to actually write the code to do the task per the designer\u0027s plan. Thus beginning in the mid to late 80\u0027s, the top people in big software companies were no longer directly involved in the bits and bytes of their own products. If they looked at the source code they might have an overall concept of it but they wouldn\u0027t be able to find and fix a bug or add something without going to a lot of time and effort.\u003C/p\u003E\u003Cp\u003EIt\u0027s a looooong way from when one person often wrote all or most of a whole operating system (Gary Kildall - CP/M) or a word processor (Rob Barnaby - WordStar prior to 4.0 all by himself, the first version in a few months in 8080 assembly language).\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-03T03:20:47Z","Content":"\n\u003Cp\u003EThanks for the notes, Galane. I\u0027ll be sure to keep them in mind. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EAlright, folks, it\u0027s time for another pre-release! \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT_v100_prerelease_2.zip\u0022 rel=\u0022external nofollow\u0022\u003EDownload link is here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis pre-release includes the following changes:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EOptimization constraints from the current script / state log.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStrict SoI search (faster SoI search, may miss some SoI transitions)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ECelestial Body Data is now stored in each Mission Architect mission plan and loaded into memory upon each mission plan\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EMFMS now has planetary locations for each departure/flyby located on the flyby map.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs usual, your comments and suggestions are most welcome. If nothing goes wrong, I\u0027m to get the full release out Wednesday or Thursday. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-03T11:19:27Z","Content":"\n\u003Cp\u003ENow, please don\u0027t change your release plans for the next version, but I have another suggestion \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EIn case it was possible, the porkchop plot with KSP TOT main window (or another window built on purpose) could be modified so to show Delta-Vs with a selected flyby?\u003C/p\u003E\u003Cp\u003EFrom a GUI perspective, it would only require to add the list of flyby bodies, between the departure and the arrival parameters. Certainly it would be a lot more difficult functionally, but I suspect some of the code already solving the MFMS algorithm could also be of use here.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-03T13:31:39Z","Content":"\n\u003Cp\u003ESo way back in the day, immediately after I finished my first graduate level course in orbital mechanics, I wrote something called \u0022Trajectory Optimization Tool\u0022 version 1.0 for Orbiter Space Flight Simulator. It did something very similar to what you\u0027re asking now: it basically presented a series of porkchop plots for each leg of the journey. However, what I found was this wasn\u0027t actually as useful as it first sounds. The number of calculations required with three bodies (departure, flyby, arrival) to get a decent looking grid and useful information for planning was \u003Cem\u003Ehuge\u003C/em\u003E. With two bodies, it already takes a few seconds (~10 s, say) to compute the porkchop plot grid. Now imagine doing that 500 times over. This is basically what TOT v1 for Orbiter did. Also, I found that looking at porkchop-type plots just wasn\u0027t that useful, because the local minima between the departure DV plot and the flyby DV plot rarely aligned, meaning you more or less had to guess about when you wanted to do things.\u003C/p\u003E\u003Cp\u003EIn short, not a bad idea as far as ideas go, but experience tells me it\u0027s not actually all that useful. (Unless you had something else in mind?) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAny thoughts on the pre-release? Anything break yet?\u003C/p\u003E\n"},{"CreatedByName":"PLAD","CreatedById":104158,"CreatedDateTime":"2014-06-03T15:44:54Z","Content":"\n\u003Cp\u003EHello Arrowstar,\u003C/p\u003E\u003Cp\u003E I\u0027ve been using TOT for several months, it is an impressive piece of work. Flybys are my pet project these days, and I\u0027m writing a flyby finder to plot flyby possibilities in a sort of porkchop-plot style. I use TOT to check the results my Flyby Finder (FF) kicks out and am curious as to how TOT selects the particular flight it proposes for a given flyby sequence and window. Does it search for the lowest total delta-V, that is, the boost to leave the start planet \u002B any boosting done during a flyby \u002B the deboost to get into orbit at the target planet, or the quickest flight within reasonable delta-V constraints? I get the impression it\u0027s a combo of delta-V and flight time.\u003C/p\u003E\u003Cp\u003E I sometimes find cases where TOT has a problem finding a flyby, Most of the time it finds a good solution. Here are examples of each:\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/EJmKu\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EI was using the version you released a few days ago, looks like you released one last night, I\u0027ll upgrade.\u003C/p\u003E\u003Cp\u003EI\u0027m getting a feel for just how complicated it is to catch all the things that can go wrong with a multiple-flyby search algorithm. There are too many possibilities for one person to check them all.\u003C/p\u003E\n"},{"CreatedByName":"Hannu","CreatedById":60596,"CreatedDateTime":"2014-06-03T15:55:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EInteresting. Which version of KSP TOT are you using? \u003Cp\u003EVersion was 0.12.3. I used default name and overwrote mission, but I can try to repeat it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThis is already possible. Consider that 350 degrees is also -10 degrees. So to go from -10 \u002B/- 100, your bounds would be -110 to 90.\u003Cp\u003EOK, I will try that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-03T16:53:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EIn short, not a bad idea as far as ideas go, but experience tells me it\u0027s not actually all that useful. (Unless you had something else in mind?) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAny thoughts on the pre-release? Anything break yet?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIndeed it is the minimum total DV what I like to have shown. I can easily concur minima with each body involved rarely align (or we would be able to launch Voyager-type missions quite often), but the above tells me instead of a few very good solutions, a plot would show very rare optimal ones, and large areas of suboptimal ones. \u003C/p\u003E\u003Cp\u003EAm I correct to think that, with just one single flyby, the optimal alignment occurs only once (unless of resonances) in a time equal to the product of the synodic periods of each couple of bodies? So, in the case of a Kerbin-Eve-Duna flyby, that time would be 169 x 228 = 38532 Earth days, or more than 105 Earth years? (BTW, just the worse of all the flybys, involving the two planets with the highest synodic period in the Kerbol system). Well, I certainly don\u0027t want to wait 105 Earth years just to have that perfect flyby, so I am happy enough with some suboptimal solutions. This is what I expect to find form the kind of porkchop plot I was suggesting, showing some perfect solutions, but enough acceptable ones so to allow a choice without waiting for Jeb\u0027s grand-grand-children to follow his steps.\u003C/p\u003E\u003Cp\u003EKSP TOT has one very good point (among many others) that wasn\u0027t told enough till now. It is a very solid program, able to keep running in the background for hours, if needed. So, yes, I believe you are right it would take a long time to draw the kind of plot I was suggesting. But if I am serious enough in planning a mission using all the tools KSP TOT provides, I should also be allowing the time to make those computations. It won\u0027t take longer than the people at JPL did in reality.\u003C/p\u003E\u003Cp\u003EAnyway, it was and remains a suggestion. Before being the author (and therefore the only person able to make that in reality, if you like) you are also an expert in the subject. If your experience is such a feature isn\u0027t useful, that\u0027s enough: I can\u0027t pretend to know why until after I take the time to develop better knowledge on this.\u003C/p\u003E\u003Cp\u003ENothing broken till now with the pre-release, however I haven\u0027t tried about the new constraints yet. For me, it works nicely as expected. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"PLAD","CreatedById":104158,"CreatedDateTime":"2014-06-03T23:48:59Z","Content":"\n\u003Cp\u003EDiomedea,\u003C/p\u003E\u003Cp\u003EWithin a fraction of a day, 4 Kerbin/Eve synodic periods = 680 days\u003C/p\u003E\u003Cp\u003E 3 Kerbin/Duna synodic periods = 682 days\u003C/p\u003E\u003Cp\u003E and 7 Eve/Duna synodic periods = 681 days\u003C/p\u003E\u003Cp\u003Eso Kerbin/Eve/Duna situations repeat every 681 days or so for many years. Eve\u0027s high inclination makes some worse than others, and Duna\u0027s high eccentricity makes the optimal date move forward or back from the average. The thing that makes it work is that a transfer window can be 10 or 20 days wide so some error can be tolerated. It turns out there are a lot of these coincidences in KSP, for instance Kerbin/Eve/Jool repeats every 345 days and Kerbin/Duna/Jool every 234 (though that one is rough and doesn\u0027t repeat too many times).\u003C/p\u003E\u003Cp\u003E I wonder how often the position of all 7 planets repeats to within, say, 5 degrees...\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-04T01:25:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PLAD\u0022 data-cite=\u0022PLAD\u0022\u003E\u003Cdiv\u003EHello Arrowstar,\u003Cp\u003E I\u0027ve been using TOT for several months, it is an impressive piece of work. Flybys are my pet project these days, and I\u0027m writing a flyby finder to plot flyby possibilities in a sort of porkchop-plot style. I use TOT to check the results my Flyby Finder (FF) kicks out and am curious as to how TOT selects the particular flight it proposes for a given flyby sequence and window. Does it search for the lowest total delta-V, that is, the boost to leave the start planet \u002B any boosting done during a flyby \u002B the deboost to get into orbit at the target planet, or the quickest flight within reasonable delta-V constraints? I get the impression it\u0027s a combo of delta-V and flight time.\u003C/p\u003E\u003Cp\u003E I sometimes find cases where TOT has a problem finding a flyby, Most of the time it finds a good solution. Here are examples of each:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/EJmKu\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/EJmKu\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI was using the version you released a few days ago, looks like you released one last night, I\u0027ll upgrade.\u003C/p\u003E\u003Cp\u003EI\u0027m getting a feel for just how complicated it is to catch all the things that can go wrong with a multiple-flyby search algorithm. There are too many possibilities for one person to check them all.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe flyby objective function is actually a sum of the following three components: total powered flyby delta-v \u002B depart V_Inf \u002B arrival V_Inf\u003C/p\u003E\u003Cp\u003EI don\u0027t use a minimum time solution because it tends to drive the solutions into all sorts of funny geometries that don\u0027t make any sense when you actually go to execute the mission. And frankly, if you\u0027re just out to get there quickly, fly-by is not the way to go anyway. Gravity assist maneuvers trade required delta-v (lower) for flight time (higher). Well, properly planned maneuvers anyways. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI agree, there are many possibilities for each flyby, particularly when you start getting up into two, three, and four gravity assists! It explains why I feel the best approach to finding flyby maneuvers is to use a global optimization technique. It\u0027s easier to traverse the possibilities! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hannu\u0022 data-cite=\u0022Hannu\u0022\u003E\u003Cdiv\u003EVersion was 0.12.3. I used default name and overwrote mission, but I can try to repeat it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease do. Once you have recreated the problem, please post the *.mat file here for me to analyze. Thanks!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EIndeed it is the minimum total DV what I like to have shown. I can easily concur minima with each body involved rarely align (or we would be able to launch Voyager-type missions quite often), but the above tells me instead of a few very good solutions, a plot would show very rare optimal ones, and large areas of suboptimal ones. \u003Cp\u003EAm I correct to think that, with just one single flyby, the optimal alignment occurs only once (unless of resonances) in a time equal to the product of the synodic periods of each couple of bodies? So, in the case of a Kerbin-Eve-Duna flyby, that time would be 169 x 228 = 38532 Earth days, or more than 105 Earth years? (BTW, just the worse of all the flybys, involving the two planets with the highest synodic period in the Kerbol system). Well, I certainly don\u0027t want to wait 105 Earth years just to have that perfect flyby, so I am happy enough with some suboptimal solutions. This is what I expect to find form the kind of porkchop plot I was suggesting, showing some perfect solutions, but enough acceptable ones so to allow a choice without waiting for Jeb\u0027s grand-grand-children to follow his steps.\u003C/p\u003E\u003Cp\u003EKSP TOT has one very good point (among many others) that wasn\u0027t told enough till now. It is a very solid program, able to keep running in the background for hours, if needed. So, yes, I believe you are right it would take a long time to draw the kind of plot I was suggesting. But if I am serious enough in planning a mission using all the tools KSP TOT provides, I should also be allowing the time to make those computations. It won\u0027t take longer than the people at JPL did in reality.\u003C/p\u003E\u003Cp\u003EAnyway, it was and remains a suggestion. Before being the author (and therefore the only person able to make that in reality, if you like) you are also an expert in the subject. If your experience is such a feature isn\u0027t useful, that\u0027s enough: I can\u0027t pretend to know why until after I take the time to develop better knowledge on this.\u003C/p\u003E\u003Cp\u003ENothing broken till now with the pre-release, however I haven\u0027t tried about the new constraints yet. For me, it works nicely as expected. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo two funny things happened today:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EI realized I had a vectorized flyby objective function which was capable of computing flyby delta-v, depart V_inf, and arrival V_inf; and\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI wrote a simple function in MATLAB that can generate all possible combinations of elements from multiple sets, assuming the order of the sets remains fixed. (Namely, if set 1 is the departure times, set 2 is the delta-t to flyby 1, set 3 is the delta-t to flyby 2, etc...)\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo basically this is all I need to have to write the code you requested. It\u0027s basically a brute-force technique to look at a bunch of flybys all at once. \u003C/p\u003E\u003Cp\u003ENow, there are some problems here. Well, three problems namely. First, memory usage is going to get wildly out of control here. I tried generating an array of solutions with one flyby and it sucked up 300 MB (there were 1 million solutions). This was \u003Cem\u003Ebefore\u003C/em\u003E I ran it through the vectorized objective function code. The results are going to need more memory, though I should be able to get it down to delta-v magnitudes at flyby, depart v_Inf, and arrive v_Inf.\u003C/p\u003E\u003Cp\u003EIn short, unless you\u0027re willing to rerun things a few times to segment up the memory usage into digestible chunks, you\u0027re going to need a bloody mainframe. (Mind you, this is what JPL has, so... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003ESecond, I\u0027m worried about execution time. The objective function has no way of communicating its progress, it simply chugs away and is done with it. There\u0027s not really any good way to let the user know what it\u0027s doing or that it\u0027s still doing something. A million solutions might not take more than 10 seconds, but 10 million? 100 million? A billion solutions? We could be looking at minutes or hours of run time.\u003C/p\u003E\u003Cp\u003EThird, how do I display the information I compute? If I have three waypoints (departure, flyby, arrival bodies), that\u0027s basically three dimensional data. What about four waypoints? Now I have 4D data. And so forth. I\u0027d definitely appreciate feedback on how to display the information (sketches or whatnot would be helpful if it\u0027s complicated).\u003C/p\u003E\u003Cp\u003EHere\u0027s my plan. I\u0027m going to move ahead with the release of v1.0.0 as planned. However, if I/we can come up with a definitive plan to deal with these issues, or at least are willing to say that we\u0027re willing to deal with their downsides (in the case of execution time), then I\u0027ll look into writing your \u0022porkchop plot for multi-flybys\u0022 application afterwards. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Hannu","CreatedById":60596,"CreatedDateTime":"2014-06-04T07:16:28Z","Content":"\n\u003Cp\u003EThis is one example. I took orbit data from KSP 0.23.5\u0027s quicksave. KSP shows that orbit goes through Jool\u0027s SOI. Periapsis is about 60000 km (above surface), orbit is prograde to Jool and inclination is few degrees. KSPTOT can not detect Jool encounter. However, when I added correction, limited dv components to \u002B-30 m/s and made optimization for Tylo encounter, KSPTOT find solution, 4.7 m/s burn immediately after initial time. When I enter burn values in KSP it shows nearly the same orbit than KSPTOT. Also when I load new orbit from KSP as an initial state in KSPTOT, KSPTOT shows Jool and Tylo encounters correctly.\u003C/p\u003E\u003Cp\u003EI suspect that this may have relation to large value of UT. Previous occasion happened also when UT value was larger than 300 Ms (about 12 Earth years). I could not detect problem when initial times was less than 50 Ms.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPS. Do you already have some option box or is it possible to program option to convert times to current KSP format (6h day and 426 d/year)?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-04T11:04:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PLAD\u0022 data-cite=\u0022PLAD\u0022\u003E\u003Cdiv\u003E...\u003Cp\u003Eso Kerbin/Eve/Duna situations repeat every 681 days or so for many years. \u003C/p\u003E\u003Cp\u003E.... It turns out there are a lot of these coincidences in KSP, for instance Kerbin/Eve/Jool repeats every 345 days and Kerbin/Duna/Jool every 234 (though that one is rough and doesn\u0027t repeat too many times).\u003C/p\u003E\u003Cp\u003E ...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMany thanks. I had a suspect the coincidences had to be numerous (and I hinted before at the resonance being a cause) from the findings with your tool, but certainly didn\u0027t run any analysis with the relative frequencies. You\u0027re totally right, it works because of the amplitude of each transfer window. Fields where I have more knowledge are telecommunications and cryptology, where the \u0022amplitude\u0022 (the acceptable phase-shift) is small or null thence solutions are highly selective (or just one). Interesting, the first thought I had after reading of those coincidences above, was about the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Harmonices_Mundi\u0022 rel=\u0022external nofollow\u0022\u003EHarmony of the Worlds\u003C/a\u003E. Seems like KSP was engineered in a way to truly mimic our solar system, even on these levels. Or, just by coincidence...\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003ENow, there are some problems here. Well, three problems namely. \u003C/p\u003E\u003Cp\u003E First, memory usage is going to get wildly out of control here. ...\u003C/p\u003E\u003Cp\u003ESecond, I\u0027m worried about execution time. ...\u003C/p\u003E\u003Cp\u003EThird, how do I display the information I compute? ...\u003C/p\u003E\u003Cp\u003EHere\u0027s my plan. I\u0027m going to move ahead with the release of v1.0.0 as planned. However, if I/we can come up with a definitive plan to deal with these issues, or at least are willing to say that we\u0027re willing to deal with their downsides (in the case of execution time), then I\u0027ll look into writing your \u0022porkchop plot for multi-flybys\u0022 application afterwards. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAbsolutely like your plan. And I like you show interest with that \u0022porkchop\u0022. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ESure you\u0027re right, JPL runs these things on supercomputers. One thing that encourages me, is that the raw power (and memory) of the computers they used back when planning flybys for Voyager, is quite probably only a fraction of the power (and memory) of my desktop.\u003C/p\u003E\u003Cp\u003ECertainly, 300 MB or more seem a bit eccessive even for my desktop. I need one bit of info: while computing a \u0022normal\u0022 porkchop, KSPTOT shows to be calculating 2500 \u0022entities\u0022, and then sorts/refines the 20 best solutions. Like it is applying the algorithm to a initial matrix of 50x50 (I guess the matrix links to departure and arrival time, thence with the positions of the two bodies involved). For one million solutions with one flyby, that means the matrix is 100x100x100 (threee bodies involved ?). However, is the relative position of each body totally unrelated (so needs a whole time dimension to represent) or some of the \u0022solutions\u0022 are actually impossible? When solutions are impossible, they should be pruned, no memory required other than a \u0022discarded\u0022 marker. Definitely, to solve such kind of complex problems, some optimization strategies have to be devised. I hope to be able to think at something, will let you know if some ideas come.\u003C/p\u003E\u003Cp\u003EAbout the execution time. Definitely you\u0027re right, if I am running any process for more than a few seconds, I want to have some indication of progress. Would be nice if telling how much already done against how much to do in total. If the objective function never returns a value until done, maybe a little complication could be required: would be possible to call the objective function from inside another loop, restricting the range of the objective function at each call, so it is returning quite often, then the external loop would update a progress report?\u003C/p\u003E\u003Cp\u003EAbout the display of information. Any diagram (porkchop or else) is actually a limited presentation of a subset of data. 3D diagrams have the higher number of dimensions we can represent at once, though often 2D diagrams are more readable. With a porkchop the choice is in showing DeltaV or characteristic energy as a function of time (start, duration). I am interested in total duration of the trip, but having all the info stored from a range of variables, it could be possible to select other \u0022dimensions\u0022 to show on the plot (time for each flyby, DV change for each flyby). So, I would make the \u0022dimensions\u0022 selectable by the user, from a list of those available after the solutions are found.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-04T13:34:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hannu\u0022 data-cite=\u0022Hannu\u0022\u003E\u003Cdiv\u003EThis is one example. I took orbit data from KSP 0.23.5\u0027s quicksave. KSP shows that orbit goes through Jool\u0027s SOI. Periapsis is about 60000 km (above surface), orbit is prograde to Jool and inclination is few degrees. KSPTOT can not detect Jool encounter. However, when I added correction, limited dv components to \u002B-30 m/s and made optimization for Tylo encounter, KSPTOT find solution, 4.7 m/s burn immediately after initial time. When I enter burn values in KSP it shows nearly the same orbit than KSPTOT. Also when I load new orbit from KSP as an initial state in KSPTOT, KSPTOT shows Jool and Tylo encounters correctly.\u003Cp\u003EI suspect that this may have relation to large value of UT. Previous occasion happened also when UT value was larger than 300 Ms (about 12 Earth years). I could not detect problem when initial times was less than 50 Ms.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPS. Do you already have some option box or is it possible to program option to convert times to current KSP format (6h day and 426 d/year)?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGot it, thanks for the information. I\u0027ll investigate tonight.\u003C/p\u003E\u003Cp\u003EAt the present time there are no plans to support the Kerbin/KSP time system directly. Earth time was in use up to the previous update, and it is also pretty tightly embedded into KSP TOT. That this system of time could change was completely unforseen, to be honest.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EAbsolutely like your plan. And I like you show interest with that \u0022porkchop\u0022. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003ESure you\u0027re right, JPL runs these things on supercomputers. One thing that encourages me, is that the raw power (and memory) of the computers they used back when planning flybys for Voyager, is quite probably only a fraction of the power (and memory) of my desktop.\u003C/p\u003E\u003Cp\u003ECertainly, 300 MB or more seem a bit eccessive even for my desktop. I need one bit of info: while computing a \u0022normal\u0022 porkchop, KSPTOT shows to be calculating 2500 \u0022entities\u0022, and then sorts/refines the 20 best solutions. Like it is applying the algorithm to a initial matrix of 50x50 (I guess the matrix links to departure and arrival time, thence with the positions of the two bodies involved). For one million solutions with one flyby, that means the matrix is 100x100x100 (threee bodies involved ?). However, is the relative position of each body totally unrelated (so needs a whole time dimension to represent) or some of the \u0022solutions\u0022 are actually impossible? When solutions are impossible, they should be pruned, no memory required other than a \u0022discarded\u0022 marker. Definitely, to solve such kind of complex problems, some optimization strategies have to be devised. I hope to be able to think at something, will let you know if some ideas come.\u003C/p\u003E\u003Cp\u003EAbout the execution time. Definitely you\u0027re right, if I am running any process for more than a few seconds, I want to have some indication of progress. Would be nice if telling how much already done against how much to do in total. If the objective function never returns a value until done, maybe a little complication could be required: would be possible to call the objective function from inside another loop, restricting the range of the objective function at each call, so it is returning quite often, then the external loop would update a progress report?\u003C/p\u003E\u003Cp\u003EAbout the display of information. Any diagram (porkchop or else) is actually a limited presentation of a subset of data. 3D diagrams have the higher number of dimensions we can represent at once, though often 2D diagrams are more readable. With a porkchop the choice is in showing DeltaV or characteristic energy as a function of time (start, duration). I am interested in total duration of the trip, but having all the info stored from a range of variables, it could be possible to select other \u0022dimensions\u0022 to show on the plot (time for each flyby, DV change for each flyby). So, I would make the \u0022dimensions\u0022 selectable by the user, from a list of those available after the solutions are found.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\u0027s where the memory issue comes in. Let\u0027s say I have a single flyby plan: Kerbin - Eve - Duna. I therefore have three dimensions to the problem: Kerbin departure time, Kerbin-Eve flight time, and Eve-Duna flight time. Say I want to get 100 unique solutions along each dimension. That means that I need to have 100x100x100 = 1,000,000 solutions! Each solution is three doubles, so I have a 1000000 x 3 matrix of doubles. A double is 8 bytes, so this is ~22 MB. This is not bad, but it\u0027s also not the worst case by far. Imagine just adding 1 more flyby: we\u0027d have 1,000,000 x 100 more solutions! To answer your question: because I use flight time, every solution is in theory feasible. The only constraints are highly non-linear, that is, the radius of flyby periapsis and all that. \u003C/p\u003E\u003Cp\u003EI\u0027ll consider the idea about execution time, it\u0027s not a bad one. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ERegarding display: So would you suggest a plot of delta-v on a 2D plane with the Y-Axis being total flight time and the X axis being departure date? Any examples on what sort of other combinations of dimensions might be useful to show?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-04T14:35:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHere\u0027s where the memory issue comes in. ...\u003C/p\u003E\u003Cp\u003E To answer your question: because I use flight time, every solution is in theory feasible. The only constraints are highly non-linear, that is, the radius of flyby periapsis and all that. \u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003ERegarding display: So would you suggest a plot of delta-v on a 2D plane with the Y-Axis being total flight time and the X axis being departure date? Any examples on what sort of other combinations of dimensions might be useful to show?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDisplay: yes, I wouldn\u0027t know how to say that better, total flight time and departure date on 2D axes, Total DeltaV color-coded. It could come useful to allow to select each body in a (multiple) flyby instead of the destination, and show total flight time up to that body and DeltaV with that flyby, but other combinations may be found working better and this is a field where I have yet to build any practical experience.\u003C/p\u003E\u003Cp\u003EMemory. Thanks for talking about that. Flight time! I have to think a bit about that, my feeling is valid solutions must be bound within a lower and upper limit, however it is a different approach than what I believed. I had hopes there was an angle relationship, valid flybys could only be found if the phase angle of the flyby body was within some specific range of values. Should be time for me to see if there is any corollary to the Lambert\u0027s problem solution useful in this case, instead of making you lose time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-05T01:24:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hannu\u0022 data-cite=\u0022Hannu\u0022\u003E\u003Cdiv\u003EThis is one example. I took orbit data from KSP 0.23.5\u0027s quicksave. KSP shows that orbit goes through Jool\u0027s SOI. Periapsis is about 60000 km (above surface), orbit is prograde to Jool and inclination is few degrees. KSPTOT can not detect Jool encounter. However, when I added correction, limited dv components to \u002B-30 m/s and made optimization for Tylo encounter, KSPTOT find solution, 4.7 m/s burn immediately after initial time. When I enter burn values in KSP it shows nearly the same orbit than KSPTOT. Also when I load new orbit from KSP as an initial state in KSPTOT, KSPTOT shows Jool and Tylo encounters correctly.\u003Cp\u003EI suspect that this may have relation to large value of UT. Previous occasion happened also when UT value was larger than 300 Ms (about 12 Earth years). I could not detect problem when initial times was less than 50 Ms.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.fileconvoy.com/dfl.php?id=gd28450b6171da3579995118601d8824c17b96a326\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright, I did some investigative work. There was, in fact, an issue. Let this be a lesson to all who hear (err, read): finding SoI transitions is \u003Cem\u003Ehard.\u003C/em\u003E Here\u0027s what happened:\u003C/p\u003E\u003Cp\u003EThe SoI search code does quite a few things in order to minimize the amount of time the code spends inside an optimizer code (here, MATLAB\u0027s fminbnd function). The optimizer code is looking for SoI transitions, but I can\u0027t have it searching through all time and space, so I have some tricks to narrow the field a bit. One of those tricks is to find out where the spacecraft orbit radius is within the apoapsis/perapsis of the target body orbit (\u002B/- the SoI radius, of course) and restrict the search to the corresponding interval universal times (aside: I actually search though the first feasible time interval and then again on the next two revs/periods of the spacecraft too). This works great for planets that have circular-ish orbits.\u003C/p\u003E\u003Cp\u003EIn any event, in the mission plan that Hannu provided, his initial spacecraft radius was already between the apoapsis and periapsis radii of Jool. My code essentially computed the time interval to search through, saw that the initial point was before the current UT, and threw out the whole interval. Opps. Anyway, the code has been modified to simply start the search time interval at the current UT if that happens. \u003Cstrong\u003EThis resolved the issue\u003C/strong\u003E. The fix will be in the upcoming v1.0.0 release. Hopefully that\u0027s the last SoI search issue I have to deal with for a while, they are a\u003Cem\u003E pain\u003C/em\u003E...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EDisplay: yes, I wouldn\u0027t know how to say that better, total flight time and departure date on 2D axes, Total DeltaV color-coded. It could come useful to allow to select each body in a (multiple) flyby instead of the destination, and show total flight time up to that body and DeltaV with that flyby, but other combinations may be found working better and this is a field where I have yet to build any practical experience.\u003Cp\u003EMemory. Thanks for talking about that. Flight time! I have to think a bit about that, my feeling is valid solutions must be bound within a lower and upper limit, however it is a different approach than what I believed. I had hopes there was an angle relationship, valid flybys could only be found if the phase angle of the flyby body was within some specific range of values. Should be time for me to see if there is any corollary to the Lambert\u0027s problem solution useful in this case, instead of making you lose time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo if I go with the total flight time vs. departure time, I can certainly display all the information in one plot. However, due to the way that the contour plot function in MATLAB works, I won\u0027t be able to use it until I can somehow get a uniform 2D grid of departure dates (easy) and total flight times (probably hard). I could just do what PLAD is doing in his FF (dots on a Cartesian plane), but I feel like that\u0027d be cheating a bit and I don\u0027t want to step on his toes. Of course, the other option is to plot a series of graphs, one for each leg of the journey, such as:\u003C/p\u003E\u003Cp\u003E1) Flight Time 1 vs Departure Time\u003C/p\u003E\u003Cp\u003E2) Flight Time 2 vs Flight Time 1\u003C/p\u003E\u003Cp\u003E3) Flight Time 3 vs Flight Time 2\u003C/p\u003E\u003Cp\u003E4) etc\u003C/p\u003E\u003Cp\u003EI could also do something like this:\u003C/p\u003E\u003Cp\u003E1) Flight Time 1 vs Departure Time\u003C/p\u003E\u003Cp\u003E2) Flight Time 2 vs Departure Time\u003C/p\u003E\u003Cp\u003E3) Flight Time 3 vs Departure Time\u003C/p\u003E\u003Cp\u003E4) etc\u003C/p\u003E\u003Cp\u003EAny thoughts on these? I\u0027m asking you in particular because I don\u0027t usually think about planning fly by maneuvers like this, so please suggest whatever you think would make interpreting the data easiest. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E---\u003C/p\u003E\u003Cp\u003EThere is no direct phase angle relationship for flyby feasibility. The two criteria for a feasible KSP flyby are:\u003C/p\u003E\u003Cp\u003E1) periapsis above the atmosphere, and\u003C/p\u003E\u003Cp\u003E2) periapsis below the SoI radius.\u003C/p\u003E\u003Cp\u003EPeriapsis is a function of two things: the required flyby angle (basically the angle between the required inbound/outbound v_infinity vectors) and the gravitational parameter of the flyby body. The greater the flyby angle, the lower the periapsis. The greater the gravitational parameter, the higher the periapsis. This is why Jool and Eve make great flyby bodies (high GMs), but Duna is awful (low GM). \u003C/p\u003E\u003Cp\u003ENow, you can figure out the required flyby angle easily enough. However, what you\u0027ll find is that your inbound v_inf vector will likely have one of two qualities:\u003C/p\u003E\u003Cp\u003E1) It\u0027s not large enough or small enough to give the required flyby angle; or\u003C/p\u003E\u003Cp\u003E2) It\u0027s not the same magnitude as the required outbound v_inf\u003C/p\u003E\u003Cp\u003E#2 is correctable with some delta-v at periapsis, which is why I solve for delta-v directly in my flyby code. It\u0027s also why the the flyby delta-v is \u003Cem\u003Ealways\u003C/em\u003Eprograde/retrograde only: v_inf is directly related to orbital energy, and only prograde/retrograde burns change only orbital energy.\u003C/p\u003E\u003Cp\u003E#1 is a lot more challenging. Consider that with a delta-v maneuver, I have an inbound eccentricity, a maneuver, and then a different outbound eccentricity. Basically, I have two competing goals: I need to find two eccentricities that give the same radius of periapsis (since that\u0027s where the delta-v occurs, if any) and I need to find two eccentricities that, when their corresponding flyby angles are summed (each divided by two since they account for half the flyby angle each), sum to the correct flyby angle. There is no closed form solution to this problem, and so I use a iterative solver. Luckily, I\u0027m pretty sure there is only ever one solution to this problem, so it\u0027s just a matter of finding it.\u003C/p\u003E\u003Cp\u003EAnyway, I\u0027ve rambled enough. You can see that actually finding flyby maneuvers is not trivial and I\u0027ve put a \u003Cem\u003Eton\u003C/em\u003E of work into not only coming up with a code that works and provides meaningful results, but that runs quickly too. You also can understand my initial hesitation at trying to write a code that could do this for multiple flybys in one go. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease let me know if you find any bugs in the latest v1.0 pre-release. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I believe I\u0027m going to push the release date back to Sunday because some Real Life events have more or less intervened and make tomorrow through Saturday non-ideal. It\u0027s coming soon though! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-05T01:27:47Z\u0022 title=\u002206/05/2014 01:27  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 5, 2014\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-05T10:51:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E... However, due to the way that the contour plot function in MATLAB works, I won\u0027t be able to use it until I can somehow get a uniform 2D grid of departure dates (easy) and total flight times (probably hard). \u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EThere is no direct phase angle relationship for flyby feasibility. The two criteria for a feasible KSP flyby are:\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EPlease let me know if you find any bugs in the latest v1.0 pre-release. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E... \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you a lot, very interesting to know those details on the flyby search algorithm.\u003C/p\u003E\u003Cp\u003ESo you made me think about those angles again, and (of course) you are right. I wasn\u0027t thinking that the outbound orbit may pass at the perihelion before encountering the destination body. If only the most direct orbital patch was considered, then the phase angle would be relevant: with any body at a phase angle lower than the flyby body, it would be impossible to get a gravitational assist in the correct direction. On the graph below there is a correct flyby on Duna, found by MFMS; and in purple I sketched what kind of orbit I had in mind.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Zwa3wbm.png\u0022 alt=\u0022Zwa3wbm.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo, the correct algorithm shows I can almost always find a valid outbound trajectory, going the longer way. \u003C/p\u003E\u003Cp\u003EAbout displaying info. Certainly I don\u0027t want you to replicate what PLAD already did. I expect DeltaV to be a continuous function (where solutions exist) of time, duration. So I would like the possibility to have it plotted as a continuum. I did not consider MATLAB plotting limitations, however. Definitely agree duration would show large jumps, finding continuity may prove hard. If going by the different graphs, my preference would be with your second option, all referenced to departure time: would make easier to follow the evolution in time.\u003C/p\u003E\u003Cp\u003ENo bugs found yet (but I am doing almost exclusively flybys now, new MA features are still unknown to me). I am coming to the conclusion the single flyby sequencer is no more useful, is slower and probably still affected by that Vinf issue you corrected with the MFMS (so it outputs worse solutions than the MFMS).\u003C/p\u003E\n"},{"CreatedByName":"luckyhendrix","CreatedById":78280,"CreatedDateTime":"2014-06-05T19:48:01Z","Content":"\n\u003Cp\u003EHello, I\u0027ve installed MCR with the link provided on the first page ,but when I try to launch KPS TOT it tells me it can\u0027t find version 8.1 of MCR \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EMCR is installed in in my along with my matlab installation in E:\\Program Files (x86)\\MATLAB\\MATLAB Compiler Runtime\\v81\u003C/p\u003E\n"},{"CreatedByName":"PLAD","CreatedById":104158,"CreatedDateTime":"2014-06-05T19:55:24Z","Content":"\n\u003Cp\u003EHere\u0027s what caused me to choose to graph departure date versus total travel time in my plots:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.inspirationmars.com/Inspiration%20Mars_Feasibility%20Analysis_IEEE.pdf\u0022 rel=\u0022external nofollow\u0022\u003EDennis Tito Inspiration Mars\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESo I sure don\u0027t have a claim to that approach.\u003C/p\u003E\u003Cp\u003ENotice that it\u0027s x-axis is 25 years wide, so there are a bunch of blobs that repeat every synodic period between Earth and Mars.\u003C/p\u003E\u003Cp\u003Edonfede pointed it out in a KSP challenge, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71727-Inspiration-Kerbal/page3\u0022 rel=\u0022external nofollow\u0022\u003EInspiration Kerbal\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EMy third \u0027axis\u0027 (color code) is start delta-V, but total delta-V might be better. Arrowstar you have a really good question in just what should be graphed, I suppose it comes down to what people will use it for. If you\u0027re looking to get from Kerbin into orbit around an airless world cheaply then total delta-v is the most important thing, if you\u0027re ending at Eve, Kerbin, Duna or Jool then only start dV matters. If it\u0027s a free-return mission then total flight time is important. For planning multistep missions, for instance Kerbin-Eve-Duna and land on Duna, then return to Kerbin at the next Hohmann window, then arrival date at Duna is most important. For science points you might choose the path with the lowest flybys.\u003C/p\u003E\u003Cp\u003E I\u0027m guessing that departure date vs travel time, with total dV color coded would be the most popular?\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-05T21:18:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022luckyhendrix\u0022 data-cite=\u0022luckyhendrix\u0022\u003E\u003Cdiv\u003EHello, I\u0027ve installed MCR with the link provided on the first page ,but when I try to launch KPS TOT it tells me it can\u0027t find version 8.1 of MCR \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003Cp\u003EMCR is installed in in my along with my matlab installation in E:\\Program Files (x86)\\MATLAB\\MATLAB Compiler Runtime\\v81\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOn my Win 8.1 PC, for unknown reasons, KSP TOT always fails to find MCR the first time it is launched (after a machine reboot). It always succeeds the second and following times. \u003C/p\u003E\u003Cp\u003ETherefore my suggestion is to just try it a second time, it may work if you have the same issue.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-06T00:55:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022luckyhendrix\u0022 data-cite=\u0022luckyhendrix\u0022\u003E\u003Cdiv\u003EHello, I\u0027ve installed MCR with the link provided on the first page ,but when I try to launch KPS TOT it tells me it can\u0027t find version 8.1 of MCR \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003Cp\u003EMCR is installed in in my along with my matlab installation in E:\\Program Files (x86)\\MATLAB\\MATLAB Compiler Runtime\\v81\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi, please try diomedea\u0027s suggestion below: restart your PC and try opening KSPTOT twice. Let me know if that does or does not resolve the issue. Thanks!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EAbout displaying info. Certainly I don\u0027t want you to replicate what PLAD already did. I expect DeltaV to be a continuous function (where solutions exist) of time, duration. So I would like the possibility to have it plotted as a continuum. I did not consider MATLAB plotting limitations, however. Definitely agree duration would show large jumps, finding continuity may prove hard. If going by the different graphs, my preference would be with your second option, all referenced to departure time: would make easier to follow the evolution in time.\u003Cp\u003ENo bugs found yet (but I am doing almost exclusively flybys now, new MA features are still unknown to me). I am coming to the conclusion the single flyby sequencer is no more useful, is slower and probably still affected by that Vinf issue you corrected with the MFMS (so it outputs worse solutions than the MFMS).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis evening, I put some initial prototype code together that will compute flybys and regular intervals and plot the resulting delta-v as a contour plot. I tested it with a Kebin -\u0026gt; Eve -\u0026gt; Duna flyby. So, regarding display, here\u0027s what I get when I run the numbers on the flybys and plot them in a contour plot:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/LM15mL0.png\u0022 alt=\u0022LM15mL0.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBecause there are multiple ways to achieve each departure time and Kerbin-\u0026gt;Eve flight time, this takes the solution with the smallest delta-v for each combination of departure time and flight time. (NOTE: That axis label should actually read \u0022Kerbin-\u0026gt;Eve Flight Time... whoops. The Eve -\u0026gt; Duna flight time is NOT in there.)\u003C/p\u003E\u003Cp\u003ENot pretty, is it? It also doesn\u0027t strike me as particularly helpful. Sadly, I\u0027m pretty much at the edge of my memory (4-ish GB allocated to MATLAB) generating this plot and the required data. I can\u0027t really add more resolution, and as you start adding more flybys memory usage just gets worse.\u003C/p\u003E\u003Cp\u003EWould definitely appreciate feedback here. Thoughts on making it look better or more useful? Thanks!\u003C/p\u003E\u003Cp\u003EOh, no worries about Mission Architect bugs, diomedea. I\u0027ve been playing with it myself and I don\u0027t think I\u0027ve found anything major yet myself. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EEDIT: I squeezed a bit more performance (and thus resolution) out of the solver and came up with something like what you see below. Note that I also adjusted the flight time bounds downwards in order to provide a smoother display.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/mcHxYMX.png\u0022 alt=\u0022mcHxYMX.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI think it\u0027s an improvement.... Thoughts?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-06T01:13:41Z\u0022 title=\u002206/06/2014 01:13  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 6, 2014\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"luckyhendrix","CreatedById":78280,"CreatedDateTime":"2014-06-06T08:34:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EHi, please try diomedea\u0027s suggestion below: restart your PC and try opening KSPTOT twice. Let me know if that does or does not resolve the issue. Thanks!\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was it, I had to try again it works now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-06-06T12:09:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThis evening, I put some initial prototype code together that will compute flybys and regular intervals and plot the resulting delta-v as a contour plot. \u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EEDIT: I squeezed a bit more performance (and thus resolution) out of the solver and came up with something like what you see below. Note that I also adjusted the flight time bounds downwards in order to provide a smoother display.\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EI think it\u0027s an improvement.... Thoughts?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHope your machine doesn\u0027t resent to have to work so hard! The results are awesome, I really hope to be able soon to make those on my PC as well \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E.\u003C/p\u003E\u003Cp\u003EDefinitely that second plot is much more useful and similar to what I was expecting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E. It is possible to see specific departure dates where most of the DV minima are concentrated, though dispersed in duration; those dates seem to come at each Kerbin-Eve synodic period, really what helps me to make sense of the plotted data. \u003C/p\u003E\u003Cp\u003EBelieve that second plot is so good, it should not require to go further. Also, if 4GB RAM were used to have that, there is not much possibility to have more if we keep working with a 32 bit MCR. But certainly, this shows the limit. Any multiple flyby plot will require a lot more RAM to keep the solutions found (just for the added time dimension). Therefore, this plotting feature may have to be limited to a single flyby (until the time JPL graciously allows to use those computers they have to make plots for KSP).\u003C/p\u003E\u003Cp\u003EI notice the Delta-V range (color-coded) is very large (0 - 45 Km/s). I get you had to make the range so large or most of the areas in the plot would be blank (no solution), and it is definitely helpful to see all areas plotted, rather than left blank. However, the best solutions are all at the very bottom of that range, and color does not really discriminate among them. I believe that second plot is much better than the first also because it makes colors different for those solutions.\u003C/p\u003E\u003Cp\u003EOne thought: would be possible to assign colors along an exponential scale rather than a linear one for DV? Instead of evenly spaced ticks every 5 or 10 Km/s, to have evenly spaced ticks at each power of 10 (10^N, and I would make intermediate ticks every 3*10^N: e.g. ticks at 30, 100, 300, 1000, 3000, 10000, 30000, 100000 m/s).\u003C/p\u003E\u003Cp\u003EOne feature would be required next: possibility to zoom in a particular area of the plot (therefore, with stricter limits in departure dates and durations), and recompute solutions only falling within that area, so to generate a highly defined plot for that area (the zoom in feature already with KSP TOT porkchop plot enlarges the plot, but still draws the contour based on the points already stored; instead I would like to generate more points to have more defined contour lines). Or, the possibility for the user to set not only the earliest date for departure and arrival (so to define the left-down corner of the plot) but also the latest dates to be plotted (and so, the right-up corner). Or even both the above features, as some users may like more the first and others the second.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-09T04:34:14Z","Content":"\n\u003Cp\u003EHi everyone!\u003C/p\u003E\u003Cp\u003EThis evening I\u0027m pleased to announce the release of \u003Cstrong\u003EKSP Trajectory Optimization Tool (KSP TOT) v1.0.0\u003C/strong\u003E!\u003C/p\u003E\u003Cp\u003EThis release has been a long time coming. Records indicate that I released the first version of KSP TOT about a year ago. What a ride it has been! I realized not too long ago that KSP TOT has really matured recently and the code base is solid and ready to ditch the \u00220.x\u0022 label that indicates a beta. Tonight\u0027s v1.0 release is the realization of over 1.5 years of planning, testing, frustration, sweat, and blood (and over 500 hours of development time).\u003C/p\u003E\u003Cp\u003ENew features for KSP TOT v1.0 are as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003ENew Application: Multi-Flyby Maneuver Sequencer\u003C/strong\u003E. Replacing the Flyby Maneuver Sequencer, this application is capable of generating flyby trajectories around an arbitrary number of celestial bodies. It\u0027s also 100x times faster than FMS and tends to generate solutions which are more balanced and achievable. Really, try it out, it\u0027s a real work of art and arguably the best set of code I\u0027ve ever written.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003EMission Architect\u003C/strong\u003E has received a number of upgrades:\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003EGUI now actively indicates when no errors are present in the execution of the missions script.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIt is not possible to generate orbit constraints based on the current state of the mission and its associated events. See \u0022Script\u0022 menu.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETwo new script execution settings (see \u0022Script\u0022 menu):\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003EStrict SoI Search is an attempt to speed up the execution time of long missions by restructuring the way high-\u0026gt;low SoI transitions are found. It can, in some cases, speed up execution and optimization by a factor of 2x.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EParallel Script Optimization allows users to take advantage of MATLAB\u0027s sophisticated parallel computing abilities to speed up the optimization of the mission script in most cases.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EBoth of these options default to \u0022off\u0022 but are available in the \u0022Script\u0022 menu.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]A number of improvements to SoI search in general that increase its robustness.\u003C/p\u003E\u003Cp\u003E[*]Many, many bug fixes and improvements.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]A number of other minor fixes and improvements to various other elements of KSP TOT.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s been a pleasure to develop this application for the KSP community and I\u0027m really happy it\u0027s received its fair share of exposure recently (particularly compared to most external \u0022calculator\u0022 applications).\u003C/p\u003E\u003Cp\u003EAmusingly, v1.1 is probably only a few weeks away. It will feature a new application that generates \u0022porkchop-like\u0022 plots for flyby maneuvers. It\u0027s a slower but more surefire way to develop flyby trajectories. Thanks to user diomedea for the idea!\u003C/p\u003E\u003Cp\u003EAs usual, please let me know if you find any bugs or have any suggestions that will improve the application. Thanks! Happy orbiting. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-06-09T04:46:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EDefinitely that second plot is much more useful and similar to what I was expecting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E. It is possible to see specific departure dates where most of the DV minima are concentrated, though dispersed in duration; those dates seem to come at each Kerbin-Eve synodic period, really what helps me to make sense of the plotted data. \u003C/p\u003E\u003Cp\u003EBelieve that second plot is so good, it should not require to go further. Also, if 4GB RAM were used to have that, there is not much possibility to have more if we keep working with a 32 bit MCR. But certainly, this shows the limit. Any multiple flyby plot will require a lot more RAM to keep the solutions found (just for the added time dimension). Therefore, this plotting feature may have to be limited to a single flyby (until the time JPL graciously allows to use those computers they have to make plots for KSP).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENoted. That\u0027s good to hear! I will probably leave the ability to plot multiple flybys, but you can bet I\u0027ll be checking memory usage aggressively as the application runs and attempting to terminate graceful if something bad happens...\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI notice the Delta-V range (color-coded) is very large (0 - 45 Km/s). I get you had to make the range so large or most of the areas in the plot would be blank (no solution), and it is definitely helpful to see all areas plotted, rather than left blank. However, the best solutions are all at the very bottom of that range, and color does not really discriminate among them. I believe that second plot is much better than the first also because it makes colors different for those solutions.\u003C/p\u003E\u003Cp\u003EOne thought: would be possible to assign colors along an exponential scale rather than a linear one for DV? Instead of evenly spaced ticks every 5 or 10 Km/s, to have evenly spaced ticks at each power of 10 (10^N, and I would make intermediate ticks every 3*10^N: e.g. ticks at 30, 100, 300, 1000, 3000, 10000, 30000, 100000 m/s).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s an interesting idea. I\u0027m not sure how MATLAB handles colorbars, but I can look into it. It might be possible. It may also be necessary to simply filter the results more. Thanks for the thought, though, I\u0027ll keep it in mind!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOne feature would be required next: possibility to zoom in a particular area of the plot (therefore, with stricter limits in departure dates and durations), and recompute solutions only falling within that area, so to generate a highly defined plot for that area (the zoom in feature already with KSP TOT porkchop plot enlarges the plot, but still draws the contour based on the points already stored; instead I would like to generate more points to have more defined contour lines). Or, the possibility for the user to set not only the earliest date for departure and arrival (so to define the left-down corner of the plot) but also the latest dates to be plotted (and so, the right-up corner). Or even both the above features, as some users may like more the first and others the second.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDefinitely! I really like the idea of zoom-recompute. I\u0027ll put a checkbox on the GUI, though, to enable this feature, as recomputing is CPU/memory intensive, as I\u0027ve said. I will also allow bounds for flight time, that\u0027s not a bad idea as well. I\u0027ll probably also have a \u0022number of points per axis\u0022 input that users can use to adjust memory usage (less points per axis -\u0026gt; fewer calculations -\u0026gt; less memory usage). Unless you think this might be too complicated for basic users?\u003C/p\u003E\u003Cp\u003EI don\u0027t have any additional progress to show on this tonight as I was concentrating on getting KSPTOT v1.0 out. But I\u0027ll start again tomorrow and see what progress can be made. Thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}