{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":27,"Articles":[{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T00:45:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003EOkay, when you load the game, load up your save and go to the space center. Open up the debug menu and in one of the pages it gives information about the plugin whether or not there was an error or how much it has compressed or not compressed etc. Could you say what you see in there?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would if I could get the game to even start, right now it\u0027s just crashing right after loading because memory is going over 3.6GB. I was getting 2.4-2.7GB on load with 2.10.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T00:51:34Z","Content":"\n\u003Cp\u003EDo you have a crash log?\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T00:56:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003EDo you have a crash log?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter trying to load around 7 times I did finally manage to get past the main screen for a min before it crashed. I looked at the debug menu and there was nothing referencing this plugin on any of the pages or any errors that I could see at all with any other plugin.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T00:59:41Z","Content":"\n\u003Cp\u003EIf you are using the steam version, check file integrity or use the patcher to look for any errors and redownload KSP? Then just install the compression mod to see if everything is loading properly. Then go back into the Database section of the debug menu and tell us what it says.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T01:01:01Z","Content":"\n\u003Cp\u003EThere are so many [LOG 19:51:55.182] Skipped rendering frame because GfxDevice is in invalid state (device lost) logs in that menu it passes anything about this plugin before I can read it. I know this is because I minimized the game. I just looked directly in the KSP.log and got this:\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.298] TextureCompressor: MipMaps: 1\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.298] TextureCompressor: Size: 2048x2048\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.298] TextureCompressor: Readable: True\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.299] TextureCompressor: Memory Saved : -2109999248B\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.299] TextureCompressor: Memory Saved : -2060546kB\u003C/p\u003E\u003Cp\u003E[LOG 19:51:40.300] TextureCompressor: Memory Saved : -2012MB\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T01:06:25Z","Content":"\n\u003Cp\u003EWow, That is weird, the size should not be that large. Go into your launcher and set the graphics settings to as low as physically possible. Start the game and print screen the errors in the debug (database) menu about the mod. It will show a bit more information I believe. Besides that, I think its best to wait for Rbray because this is out of my hands now. I have not ever seen that kind of an issue with this.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T01:11:12Z","Content":"\n\u003Cp\u003EThere is no menu for this mod in the databse tab. The info I gave you just now was from the Debug tab which doesn\u0027t have any errors just \u0022logs\u0022\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T01:23:34Z","Content":"\n\u003Cp\u003ECan you go into the config folders and look for whatever was 2048x2048?\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T01:26:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003ECan you go into the config folders and look for whatever was 2048x2048?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat config folders? I am using the stock configs for this mod right now.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T01:28:21Z","Content":"\n\u003Cp\u003ESorry, the config files. Look through the stock config files and see if anything has changed to 2048x2048 somehow. But besides that, i am not sure what is wrong.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T01:33:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003ESorry, the config files. Look through the stock config files and see if anything has changed to 2048x2048 somehow. But besides that, i am not sure what is wrong.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo there is nothing close to that res in any of the files 256 is the highest. Also my entire gamedata folder is 2GB so I\u0027m not sure how it\u0027s managing to go over 3.6 on load, before even loading the save...\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T01:34:54Z","Content":"\n\u003Cp\u003ENeither am I. I dont think anyone here we know of has ever experienced this. Rbray shouldnt take forever but remove the compression mod and reload the game see if the same issue occurs.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T01:38:06Z","Content":"\n\u003Cp\u003EI just reinstalled it from scratch no mods. On load is runs 1.37Gb of ram and the gamedata folder is ~800gb. I do have all the graphic settings maxed. So it seems logical that with an extra 2gb of mods it would be over 3.6GB on load without this plugin.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T01:39:02Z","Content":"\n\u003Cp\u003EOkay, now install the compression mod and tell me what happens.\u003C/p\u003E\u003Cp\u003EPost whether its the basic or aggressive version as well. Use the latest 2-11.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-10T01:44:07Z\u0022 title=\u002201/10/2014 01:44  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 10, 2014\u003C/time\u003E by bulletrhli\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mct","CreatedById":83124,"CreatedDateTime":"2014-01-10T01:56:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EI don\u0027t even know how... those are stock parts? Does that happen in the vab? Are you using aggressive or basic? Did you modify the configs at all?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStock parts, it happens in the VAB and SPH, basic v11, didn\u0027t modify the configs.\u003C/p\u003E\u003Cp\u003EEdit: I reinstalled KW Rocketry and Nova Punch, the problem went away for everything. The only change would have been missing parts being added back in.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-10T02:20:02Z\u0022 title=\u002201/10/2014 02:20  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 10, 2014\u003C/time\u003E by Mct\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Raptor831","CreatedById":68286,"CreatedDateTime":"2014-01-10T02:47:49Z","Content":"\n\u003Cp\u003EJust a note, you\u0027ll always get more physical RAM use than you have GameData size. PNGs are much smaller on disk than in RAM, and you\u0027re also holding models, game information, mipmaps, etc. The only way to get below harddisk space is to either use this plugin and shrink the size (i.e. dimensions) of the textures or use the 1/2 textures in the KSP prefs. I\u0027ve got my textures on half-size and I\u0027m coming in at just around my GameData folder size. If you\u0027ve got it on full size, you\u0027ll have more RAM usage.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T03:00:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bulletrhli\u0022 data-cite=\u0022bulletrhli\u0022\u003E\u003Cdiv\u003EOkay, now install the compression mod and tell me what happens.\u003Cp\u003EPost whether its the basic or aggressive version as well. Use the latest 2-11.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith 2.11 aggressive I get a 1GB stock load as opposed to 1.37GB.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-10T03:07:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022raidernick\u0022 data-cite=\u0022raidernick\u0022\u003E\u003Cdiv\u003EWith 2.11 aggressive I get a 1GB stock load as opposed to 1.37GB.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is about what to expect. It only saves about that much on a stock install. Glad to hear it is working out better for you. Let me know if that changes though.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T03:12:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThat is about what to expect. It only saves about that much on a stock install. Glad to hear it is working out better for you. Let me know if that changes though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wasn\u0027t having a problem with it working properly in the first place, it was more of an issue with optimization. I would like to know the optimal settings to use for bobcat\u0027s packs, this includes soviet pack, american pack and the iss pack. His textures aren\u0027t all that big but of some reason they aren\u0027t compressing as well as others do like kw, nova and lionhead. If I use the basic verison the game crashes from out of memory errors. If I use aggressive bobcats textures look terrible(unusable). I can\u0027t find a good inbetween. The game either crashes from no memory or doesn\u0027t save as much as it should.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T03:12:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThat is about what to expect. It only saves about that much on a stock install. Glad to hear it is working out better for you. Let me know if that changes though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERead the last few pages please and see the issue he was having. Its very important.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-10T03:17:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022raidernick\u0022 data-cite=\u0022raidernick\u0022\u003E\u003Cdiv\u003EI wasn\u0027t having a problem with it working properly in the first place, it was more of an issue with optimization. I would like to know the optimal settings to use for bobcat\u0027s packs, this includes soviet pack, american pack and the iss pack. His textures aren\u0027t all that big but of some reason they aren\u0027t compressing as well as others do like kw, nova and lionhead. If I use the basic verison the game crashes from out of memory errors. If I use aggressive bobcats textures look terrible(unusable). I can\u0027t find a good inbetween. The game either crashes from no memory or doesn\u0027t save as much as it should.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll go ahead and download all the mods and try them out. Once that\u0027s done, I\u0027ll add the configs.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-10T07:01:19Z","Content":"\n\u003Cp\u003EI updated the config list with a LOT more entries, and created exceptions for the gui textures I could find.\u003C/p\u003E\n"},{"CreatedByName":"bulletrhli","CreatedById":55960,"CreatedDateTime":"2014-01-10T07:32:46Z","Content":"\n\u003Cp\u003ERbray, could you create an algorithm to write new configs if it detects a mod that isn\u0027t on its list? It would be an advanced feature only and can only be turned on inside the textureCompression config file.\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-01-10T08:02:24Z","Content":"\n\u003Cp\u003EI don\u0027t know what happened but after installing 2.12 with some minor tweaking to the configs I get the game to load at 2.3GB and 2.7GB with the save loaded. This is much better than before.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-10T10:47:28Z","Content":"\n\u003Cp\u003E1.35 gig with 2_12 version. Moar Mods! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI should get my stuff backed up so I can format the hard drive to upgrade to Windows 7 x64, then I\u0027ll have more RAM available for KSP since I plugged in 6 gigs, of which XP can only use 3.25.\u003C/p\u003E\n"}]}