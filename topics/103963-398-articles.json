{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":398,"Articles":[{"CreatedByName":"Rakete","CreatedById":208801,"CreatedDateTime":"2022-05-30T21:31:46Z","Content":"\u003E \n\u003E \n\u003E 36 minutes ago, Vandest said:\n\u003E \n\u003E \n\u003E Hello [@Rakete](https://forum.kerbalspaceprogram.com/index.php?/profile/208801-rakete/), this is a know issue. A workaround is to disable TAA (Tamporal AntiAliasing). You can use SMAA (Subpixel Morphological AntiAliasing) instead.\n\u003E \n\nOoookay... How do I do that?"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2022-05-30T21:43:39Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, Rakete said:\n\u003E \n\u003E \n\u003E Ooookay... How do I do that?\n\u003E \n\nIt\u0027s an option in scatterers config menu.  I believe on the first page if you click \u0022customize options\u0022 or whatever it is rather than just a preset."},{"CreatedByName":"Rakete","CreatedById":208801,"CreatedDateTime":"2022-05-30T21:57:04Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, R-T-B said:\n\u003E \n\u003E \n\u003E It\u0027s an option in scatterers config menu.  I believe on the first page if you click \u0022customize options\u0022 or whatever it is rather than just a preset.\n\u003E \n\nAh okay... does this other mode hit the fps hard? Is it also saved to the config file (in case i forget this setting thing later on?)\n\nCan I do this also in v0772 ? I just learned, that I have use this version for compability with Spectra 1.5.0. Or does this version not use TAA?\n\n**Edited \u003Ctime datetime=\u00222022-05-30T22:14:20Z\u0022 title=\u002205/30/2022 10:14  PM\u0022 data-short=\u00222 yr\u0022\u003EMay 30, 2022\u003C/time\u003E by Rakete**"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-05-31T01:49:13Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Rakete said:\n\u003E \n\u003E \n\u003E Ah okay... does this other mode hit the fps hard? Is it also saved to the config file (in case i forget this setting thing later on?)\n\u003E \n\nI don\u0027t believe, may be 1 or 2 fps. And yes, it\u0027s saved in config file, set \u0022useSubpixelMorphologicalAntialiasing\u0022 to true. You can also set \u0022smaaQuality\u0022 on 1 or 2 (lower = lower fps hit). (Of course, you also must set \u0022useTemporalAntiAliasing\u0022 on false)\n\n\u003E \n\u003E \n\u003E 3 hours ago, Rakete said:\n\u003E \n\u003E \n\u003E Can I do this also in v0772 ? I just learned, that I have use this version for compability with Spectra 1.5.0. Or does this version not use TAA?\n\u003E \n\nI don\u0027t remember if it was present in 0772 but I don\u0027t believe. TAA was reintroduced in last update. So you shouldn\u0027t get this issue with Waterfall.\n\nIn case of, to simply see it, when you are on SpaceCenter you can click on blue planet in taskbar, that will open main Scatterer config and there you can click on \u0022Customize\u0022 and see AA options. (On last version, you must untick TAA to tick SMAA after)\n\nAlso, like I said that post, you can use AVP instead Spectra by use my config or by inspiring by it. And so, you could use last version of Scatterer.\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022122250\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed4542055727\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/103963-wip19x-112x-scatterer-atmospheric-scattering-00835-22042022-scattering-improvements-in-game-atmo-generation-and-multi-sun-support/\u0026do=embed\u0026comment=4138452\u0026embedComment=4138452\u0026embedDo=findComment\u0022 style=\u0022height:297px;max-width:502px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2022-05-31T13:18:49Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, Rakete said:\n\u003E \n\u003E \n\u003E Ah okay... does this other mode hit the fps hard?\n\u003E \n\nTechnically SMAA is about the same expense on FPS as Temporal AA, so no, it should not be a difference in performance."},{"CreatedByName":"DeadJohn","CreatedById":201293,"CreatedDateTime":"2022-05-31T17:29:46Z","Content":"Scatterer used to have some in-game way to display and edit sunflare such as loading a different sun.cfg and changing ghosts. I can\u0027t find that setting screen any more. Where should I be looking?\n\nI already tried alt-f11, picked customize, picked the sunflare tab. All I see on the sunflare tab is a single checkbox for lens flare shader.\n\nFYI I\u0027m using Scatterer 0.077xx (the last 0.07 before 0.08) because that\u0027s what KSRSS wants. Scatterer documentation says the in-game sunflare UI was added 0.0765 and I\u0027m on newer version than that."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2022-05-31T17:37:42Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, DeadJohn said:\n\u003E \n\u003E \n\u003E Scatterer used to have some in-game way to display and edit sunflare such as loading a different sun.cfg and changing ghosts. I can\u0027t find that setting screen any more. Where should I be looking?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I already tried alt-f11, picked customize, picked the sunflare tab. All I see on the sunflare tab is a single checkbox for lens flare shader.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E FYI I\u0027m using Scatterer 0.077xx (the last 0.07 before 0.08) because that\u0027s what KSRSS wants. Scatterer documentation says the in-game sunflare UI was added 0.0765 and I\u0027m on newer version than that.\n\u003E \n\nIn last scatterer is alt\u002BF10 and is the button on the right in the top of the menu called \u0022Sunflares\u0022"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-05-31T18:19:00Z","Content":"\u003E \n\u003E \n\u003E 47 minutes ago, DeadJohn said:\n\u003E \n\u003E \n\u003E Scatterer used to have some in-game way to display and edit sunflare such as loading a different sun.cfg and changing ghosts. I can\u0027t find that setting screen any more. Where should I be looking?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I already tried alt-f11, picked customize, picked the sunflare tab. All I see on the sunflare tab is a single checkbox for lens flare shader.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E FYI I\u0027m using Scatterer 0.077xx (the last 0.07 before 0.08) because that\u0027s what KSRSS wants. Scatterer documentation says the in-game sunflare UI was added 0.0765 and I\u0027m on newer version than that.\n\u003E \n\nDo it in an other scene than the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E one, in flight for example.\n\n\u003E \n\u003E \n\u003E 4 hours ago, R-T-B said:\n\u003E \n\u003E \n\u003E Technically SMAA is about the same expense on FPS as Temporal AA, so no, it should not be a difference in performance.\n\u003E \n\nSMAA is faster"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2022-05-31T20:53:47Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E SMAA is faster\n\u003E \n\nI figured AA above FXAA was more or less the same in cost...  thanks, learn something new everyday."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2022-06-01T04:30:34Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, R-T-B said:\n\u003E \n\u003E \n\u003E I figured AA above FXAA was more or less the same in cost...  thanks, learn something new everyday.\n\u003E \n\nThey are very close on a mid to high end GPU. On slower GPUs and iGPUs you can feel the difference though."},{"CreatedByName":"GJdude","CreatedById":196709,"CreatedDateTime":"2022-06-02T19:23:52Z","Content":"Despite disabling it in exchange for SMAA in the settings, TAA is turning itself on in flight whenever I open the map view, and only a scene change (like opening the tracking station or \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E) seems to turn it off again. I had a feeling it might be reverting itself to the High quality setting, which I was running before the custom changes, but when I went into all the presets in the default config itself and swapped the AA in the higher ones, it still persisted. I know TUFX has an issue with turning it *off* when the map view is opened, but I\u0027m not using TUFX. Is anyone else seeing this? Could it be something in AVP doing it?"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-06-03T02:06:48Z","Content":"Hello [@GJdude](https://forum.kerbalspaceprogram.com/index.php?/profile/196709-gjdude/),\n\nDid you try to open \u0022config.cfg\u0022 in \u0022GameData\\Scatterer\\config\u0022 and set manually this variables like this ?\n\n    useSubpixelMorphologicalAntialiasing = True\n    smaaQuality = 2\n    useTemporalAntiAliasing = False"},{"CreatedByName":"GJdude","CreatedById":196709,"CreatedDateTime":"2022-06-03T11:51:49Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, Vandest said:\n\u003E \n\u003E \n\u003E Hello [@GJdude](https://forum.kerbalspaceprogram.com/index.php?/profile/196709-gjdude/),\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Did you try to open \u0022config.cfg\u0022 in \u0022GameData\\Scatterer\\config\u0022 and set manually this variables like this ?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     useSubpixelMorphologicalAntialiasing = True\n\u003E     smaaQuality = 2\n\u003E     useTemporalAntiAliasing = False\n\u003E \n\nThat seems to have done the trick, yes!\n\nEdit: Or not. At first things were fine but now it\u0027s back again.\n\n**Edited \u003Ctime datetime=\u00222022-06-03T14:32:54Z\u0022 title=\u002206/03/2022 02:32  PM\u0022 data-short=\u00222 yr\u0022\u003EJune 3, 2022\u003C/time\u003E by GJdude**"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-06-03T15:55:37Z","Content":"Oh ! Very strange.\n\n1. Do you know exactly when is back to TAA after done the manually setting ?\n2. When is back to TAA, if  you open scatterer config on \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E, what do you see on current preset field ?\n3. Can you see this \u0022back to TAA\u0022 in \u0022config.cfg\u0022 ?\n\nAlso, can you post your \u0022Player.log\u0022 file (see instructions below to find it), as well as your \u0022ModuleManager.ConfigCache\u0022 file that is in GameData folder ?\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002275006\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6670600246\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/163863-how-to-get-support/\u0026do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"GJdude","CreatedById":196709,"CreatedDateTime":"2022-06-04T13:51:23Z","Content":"\u003E \n\u003E \n\u003E 21 hours ago, Vandest said:\n\u003E \n\u003E \n\u003E Oh ! Very strange.\n\u003E \n\u003E \n\u003E \n\u003E 1. Do you know exactly when is back to TAA after done the manually setting ?\n\u003E 2. When is back to TAA, if  you open scatterer config on \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E\u003C/abbr\u003E, what do you see on current preset field ?\n\u003E 3. Can you see this \u0022back to TAA\u0022 in \u0022config.cfg\u0022 ?\n\u003E \n\u003E \n\u003E \n\u003E Also, can you post your \u0022Player.log\u0022 file (see instructions below to find it), as well as your \u0022ModuleManager.ConfigCache\u0022 file that is in GameData folder ?\n\u003E \n\u003E \n\u003E \u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002275006\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9799533380\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/163863-how-to-get-support/\u0026do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nI\u0027ve rolled some things back to a version where I can disable the depth buffer-based rendering entirely now, but if I get back to a newer version in future and this occurs again, I\u0027ll definitely look further into it."},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2022-06-04T16:42:51Z","Content":"Ok, I understand. Have fun with this set that working."},{"CreatedByName":"Technologicat","CreatedById":153765,"CreatedDateTime":"2022-06-20T22:36:09Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/): In Scatterer-0.0835, the paths in GameData/Scatterer/config/Sunflares/Sun.cfg that point to the sunflare PNGs (all four of them) are incorrect on case-sensitive file systems, such as on Linux. Should be e.g. Scatterer/config/Sunflares/Sun/sunFlare.png. **Note uppercase** Scatterer, matching the directory name inside GameData. Everything else is correct, the whole path should just begin with an uppercase S.\n\nI noticed the sunflare was missing on Linux, and upon investigation, there was an error in Player.log saying that the file was not found. Fixing all four paths in Sun.cfg made the sunflare appear, and the error went away.\n\nThis difference was probably left over from the time the directory used to be called scatterer with a lowercase s. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nI searched this topic if anyone else had mentioned this, but didn\u0027t find anything, so I thought I\u0027d let you know.\n\nMany thanks for keeping Scatterer working all the way to KSP 1.12! This is one of the best visual mods out there."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2022-06-27T03:38:49Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)I posted a couple of issues on Github:\n\n1. csproj file has an absolute path for one of the cs files\n2. ReferenceEquals is not properly detecting a null value in a few places, causing nullrefs to be generated.\n\nI can do a PR for each if you\u0027d like, but I\u0027m concerned about the second issue.  ReferenceEquals is used 151 times in 34 files to check for null, if it\u0027s not working in some places, maybe it\u0027s causing issues elsewhere??"},{"CreatedByName":"longslide9000","CreatedById":72088,"CreatedDateTime":"2022-07-08T03:19:41Z","Content":"I am having an issue where about 1000m away from the camera, the entire surface goes blue. This issue persists up to ~150km on Kerbin, then the orbital textures kick in. You can check this video here to see what I mean.\n\nThis issue persists even when I only have Scatterer installed, as well as having other mods that might have influenced rendering (OPM, Kopernicus, GU, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, AVP) uninstalled. \n\nWould appreciate suggestions on how to fix this... Currently on the latest version of Scatterer for Windows, on KSP 1.12.2\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedid=\u0022embed2535379454\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=https://www.reddit.com/r/KerbalSpaceProgram/comments/vtz5wl/weird_scatterer_bug_any_fix_suggestions/?ref=share%26ref_source=link\u0022 style=\u0022height:466px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"SaintPc","CreatedById":222081,"CreatedDateTime":"2022-07-09T09:15:02Z","Content":"Hi everyone, I\u0027ve just installed scatterer for the first time and  a pretty nasty graphics glitch has occurred where objects seem to multiply themselves when I move the camera around... Here\u0027s an example: [https://drive.google.com/file/d/1l8Xr60-fSYq4_SimrAkeDgX5yWILxiV5/view?usp=sharing](https://drive.google.com/file/d/1l8Xr60-fSYq4_SimrAkeDgX5yWILxiV5/view?usp=sharing)\n\nI have other mods installed but the game runs fine until I installed scatterer. \n\nAny help would be greatly appreciated ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2022-07-09T09:40:34Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, SaintPc said:\n\u003E \n\u003E \n\u003E Hi everyone, I\u0027ve just installed scatterer for the first time and  a pretty nasty graphics glitch has occurred where objects seem to multiply themselves when I move the camera around... Here\u0027s an example: [https://drive.google.com/file/d/1l8Xr60-fSYq4_SimrAkeDgX5yWILxiV5/view?usp=sharing](https://drive.google.com/file/d/1l8Xr60-fSYq4_SimrAkeDgX5yWILxiV5/view?usp=sharing)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have other mods installed but the game runs fine until I installed scatterer. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Any help would be greatly appreciated ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nBiggest help I can give is \u0022logs, or it didn\u0027t happen\u0022. I don\u0027t know if [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) prefers KSP.log or Player.log, but the former is probably easier to find.\n\nThis is a general rule for all mods: without logs, us modders have no way of knowing what is going on on your machine (visuals aren\u0027t enough, nor is a screenshot of the debug window)."},{"CreatedByName":"Nagysziszmo","CreatedById":222082,"CreatedDateTime":"2022-07-09T09:48:18Z","Content":"My scatterer\u0027s ocean not working!![:mad:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif \u0022:mad:\u0022)"},{"CreatedByName":"SaintPc","CreatedById":222081,"CreatedDateTime":"2022-07-09T14:25:56Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, taniwha said:\n\u003E \n\u003E \n\u003E Biggest help I can give is \u0022logs, or it didn\u0027t happen\u0022. I don\u0027t know if [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) prefers KSP.log or Player.log, but the former is probably easier to find.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is a general rule for all mods: without logs, us modders have no way of knowing what is going on on your machine (visuals aren\u0027t enough, nor is a screenshot of the debug window).\n\u003E \n\nFair enough!\n\nHere\u0027s the player log file: \n\n[https://drive.google.com/file/d/19BL5-aCD0atOJRzKQyRm1gfoxyTAaaA8/view?usp=sharing](https://drive.google.com/file/d/19BL5-aCD0atOJRzKQyRm1gfoxyTAaaA8/view?usp=sharing)"},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2022-07-10T02:02:20Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, Nagysziszmo said:\n\u003E \n\u003E \n\u003E My scatterer\u0027s ocean not working!![:mad:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif \u0022:mad:\u0022)\n\u003E \n\nPlease read the post immediately above yours for some sage guidance.  It\u0027s often worthwhile to read the last couple of pages in a thread to get a feel for current issues or valuable assistance.\n\nYou haven\u0027t given people much to work on with that problem description.  I\u0027m pretty sure others have experienced something similar but it\u0027s hard to tell from what you\u0027ve written.  Have you searched this thread for potential solutions?  To help with a diagnosis, I recommend you read and follow the suggestions in this post to get a rough idea of what you should probably provide when describing any KSP issue.\n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002275006\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed2048889595\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83212-how-to-get-support-read-first/\u0026do=embed\u0022 style=\u0022height:197px;max-width:502px;\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"tilliepops","CreatedById":222034,"CreatedDateTime":"2022-07-10T07:50:01Z","Content":"hi everyone i found a problem with scatterer (the image is at the bottom of this thred \n\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022222034\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1964250158\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/208916-scatter-is-not-working/\u0026do=embed\u0026comment=4153442\u0026embedComment=4153442\u0026embedDo=findComment#comment-4153442\u0022 style=\u0022height:297px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\n) i don\u0027t think there are any logs to report (correct me if i\u0027m wrong) so ya anyone know how to fix this?"}]}