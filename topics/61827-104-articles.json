{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":104,"Articles":[{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-01-30T16:49:46Z","Content":"\n\u003Cp\u003EIs there any way to store a variable on the ship? I remember beginning to use this mod a few ages ago, but the fact all the variables were \u0022global\u0022 put me off. It does interest me very much as a mod, tho.\u003C/p\u003E\u003Cp\u003EIf not currently possible, may I suggest some writable hooks like SHIP:CUSTOMVALUES:WHATEVER be implemented?\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2015-01-30T19:16:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EIs there any way to store a variable on the ship? I remember beginning to use this mod a few ages ago, but the fact all the variables were \u0022global\u0022 put me off. It does interest me very much as a mod, tho.\u003Cp\u003EIf not currently possible, may I suggest some writable hooks like SHIP:CUSTOMVALUES:WHATEVER be implemented?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EVariables are global to all code running on the same kOS processor, but they aren\u0027t shared between ships or even between multiple processors on the same ship. You don\u0027t need any kind of ship-specific storage.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-30T21:40:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EVariables are global to all code running on the same kOS processor, but they aren\u0027t shared between ships or even between multiple processors on the same ship. You don\u0027t need any kind of ship-specific storage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHowever, the system for remembering the state of a variable in a saved game and bringing it back (or even bringing it back after leaving the scene and coming back to it), has some problems right now. The original system is ancient and was designed for when it only had to deal with integers, floats, and strings. A lot of the newer data types don\u0027t \u0022serialize\u0022 properly into the savegame file.\u003C/p\u003E\u003Cp\u003EAt the moment, you need to either keep the entire run contained in one \u0027scene\u0027, or make it so that nothing it remembers is important when leaving the scene, so it can re-run code again from scratch and recalculate everything when you return to the scene.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022monstah\u0022 data-cite=\u0022monstah\u0022\u003E\u003Cdiv\u003EIs there any way to store a variable on the ship? I remember beginning to use this mod a few ages ago, but the fact all the variables were \u0022global\u0022 put me off. It does interest me very much as a mod, tho.\u003Cp\u003EIf not currently possible, may I suggest some writable hooks like SHIP:CUSTOMVALUES:WHATEVER be implemented?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you thought all variables were global to the *entire game*, then you misunderstand what\u0027s happening. They\u0027re only global in the sense that if you run a script on the vessel, and then that script in turn contains a command to run another script nested inside itself, the second script will be working in the same variable namespace as the first script was.\u003C/p\u003E\u003Cp\u003EIt does not mean that if vessel A is running a program that its variables will be seen by vessel B. THAT is kept separate. There is one variable namespace per Vessel. Actually, it\u0027s even more separate than that. There\u0027s one variable namespace per CPU on the vessel. If you attach two CX-4151 Comptronix parts to the same vessel, each one will have its own separate namespace.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-31T15:10:49Z","Content":"\n\u003Cp\u003EI was thinking that kOS has hit a new maturity point where it\u0027s probably worth it to have another Challenge contest like the ancient one from over a year ago. That contest really helped spur kOS on because it made people try areas the mod wasn\u0027t so good at, which helped explore the edges of what it could do, and helped figure out what things would be helpful to add to it. I had a lot of fun back then being a participant in it, although some things were a lot harder than they needed to be.\u003C/p\u003E\u003Cp\u003EThings have gotten a lot more mature and I think it\u0027s time for a new challenge contest.\u003C/p\u003E\u003Cp\u003EI had an idea myself for a nice one but I don\u0027t want to post it for the following reasons:\u003C/p\u003E\u003Cp\u003E1: The challenge forum has the rule that you shouldn\u0027t make a contest for which you haven\u0027t posted a proof of your own ability to succeed at it (i.e. your own entry into your own contest, so to speak). This rule was established because there had been a few cases of people being jerks posting contests they knew cannot be done, designed to trick people into wasting their time trying. They would often say \u0022oh trust me it can be done, I\u0027ve done it, but I won\u0027t show you my solution until you start posting yours\u0022, when they know it can\u0027t actually be done. The purpose behind the requirement was to prove a minimal entry is possible. It doesn\u0027t have to be your best entry, and you can re-enter a second, better scoring entry later on. It\u0027s just meant as the proof of concept to prove you\u0027re not lying about the challenge being possible.)\u003C/p\u003E\u003Cp\u003E2: I decided that I should really recuse myself from participating in any challenge contests about kOS after I became more heavily involved in helping develop it. I\u0027ve got too much ability to change the mod to make it into what I need it to be (\u0022Oh look the mod is missing a feature I\u0027d need to do this task - so I\u0027ll go and add it in and get that feature into the next release, and get the release out in time for my contest entry...\u0022). I\u0027ve also got too much \u0022inside information\u0022, as in \u0022Oh, this feature\u0027s not documented that well, but no worries, I\u0027m the one who wrote it, so I know how it works without the docs.\u0022 I\u0027ve also got more \u0022lead time\u0027 than others do. I can start writing scripts using new features before the new features are publicly mentioned.\u003C/p\u003E\u003Cp\u003EIt\u0027s the combo of #1 and #2 that I think mean I can\u0027t really lead a Challenge Contest myself. To lead the contest I need to show my own entry into it. But I don\u0027t think I should be entering myself into a challenge.\u003C/p\u003E\u003Cp\u003EThat being said, this is the idea I had for a potential contest:\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EkOS Space Station Crew Exchange Challenge\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe challenge starts with a sandbox-mode saved game, made available for public download, in which there exists a space station in orbit around Kerbin.\u003C/p\u003E\u003Cp\u003EThe space station has the following things on it:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E A port with nametag=\u0022Easy Port\u0022 - a docking port along the station\u0027s main central axis, at one end, clear of obstructions.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E A port with nametag=\u0022Medium Port\u0022 - a docking port located not along the station\u0027s main axis, at a weird diagonal angle, and aligned askew from its center of mass.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EA port with nametag=\u0022Hard Port\u0022 - a docking port similar to \u0022Medium Port\u0022, but not only is it at a weird angle and not central, it\u0027s located in a dangerous way with breakable solar panel obstacles around, making it likely that you\u0027ll break the solar panels if you just try to dock straight at the port clumsily.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Crew onboard.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou\u0027re allowed to build whatever docking ship you like to dock to the station, but depending on the design of \u003Cstrong\u003Eits\u003C/strong\u003E docking port, it may be worth more or less points. It should have crew space for at least 1 crew. It can have more but it\u0027s actually detrimental to your score to do so, as you\u0027ll be scored based on least monoprop used, and larger ships are going to use more - you\u0027re best to go with just 1 crew capacity.\u003C/p\u003E\u003Cp\u003EThe challenge is to start from that saved game and attempt to do the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E 1. Launch your craft from KSC to orbit. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 2. Rendezvous your craft with the station. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 3. Dock your craft to the station without breaking anything (like a solar panel). \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 4. Exchange 1 crew member between the craft and the station - move one crew out of the craft and one crew into it. \u003Cem\u003EYou \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Eare\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E allowed to do this step manually with the stock crew transfer mouse interface.\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 5. Undock your craft from from the station. \u003Cem\u003EYou \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Eare\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E allowed to do this step manually with the docking port\u0027s right mouse button menu\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E\u003Cem\u003E 7. Move your craft away from the station safely without breaking anything (like a solar panel). \u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003Emust be automated by script\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 8. Return the crew member to Kerbin intact, trying to land close to the KSC if you can. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou are allowed to use the interactive terminal for file and run commands: COPY, SWITCH TO, RUN, etc, at any point during the mission, and doing so will not count as \u0022doing things manually\u0022 (thus if you can\u0027t fit the entire sequence of scripts on the ship at once, that\u0027s fine - you can swap files in and out.). THIS mission is not intended to be a signal-delay challenge mission where you can\u0027t type commands. It all takes place within near-Kerbin orbit.\u003C/p\u003E\u003Cp\u003EThings that could be used as criteria to affect your score (although I haven\u0027t really thought through which of these are more important, and how they should balance against each other, or which of them should be dropped. A good challenge should really only contain about 4-5 scoring criteria. Too much more and it gets messy to track):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E more points for docking to the harder ports on the station.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E more points for using a harder docking port on your own ship (one not just easily aimed out the nose of your ship, but one that you have to calculate directions from weirdly, like the harder ones on the station described above).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points the more monopropellant fuel was consumed. Docking with mechjeb can be monopropellant-hungry, and I\u0027d like to think a specialized kOS script can do it better.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points the more torque power the docking craft had (more points for doing it all on RCS). (Yes I know there\u0027s a bug about using ships that don\u0027t have torque, but there\u0027s also a supposed fix donated by github user soulsource that should come out the next time there\u0027s a release).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points for more time elapsed (on the gameworld\u0027s clock, not the user\u0027s time) between start of the savegame\u0027s timestamp to the timestamp of the final landing. This will effectively reward people for managing to get a good rendezvous quickly.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E More points the closer to KSC the landing site was.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Reusability ratio: Compare the recovery cost of the amount of your craft that landed on return to the initial cost of it at launch. Better reusability ratios mean better scores. \u003Cem\u003E(The purpose of adding this scoring criterion would be to give a boost to the scores of people who managed to do it with an SSTO. SSTO\u0027s present harder scripting challenges and should be rewarded for it. This would do so because they\u0027re landing the whole ship again and only payed for the fuel.)\u003C/em\u003E) (For this to work you probably need the initial save game to be a career mode game so it can calculate funds. I can show you how to set up bogus data to make a career mode game have lots of funds and upgraded buildings. The only reason for making it career-mode would be to turn on KSP\u0027s calculation of ship cost so you can perform this scoring.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAgain, I don\u0027t recommend all the above be used, but they\u0027re a clue as to what could go into the scoring criteria.\u003C/p\u003E\u003Cp\u003EIs anyone willing to set up a thing like this, and take the lead on it in the forum? (Or, to make it all your own idea, to counterpropose a different challenge). I just like the idea of there being a kOS challenge in the forums. It\u0027s been a while and I\u0027m thinking about it. I\u0027m thinking about docking because that\u0027s the most recent scripting I was working on.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-31T15:15:29Z\u0022 title=\u002201/31/2015 03:15  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 31, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003EMessed up the list tags and the italics tags\n\u003C/span\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2015-01-31T16:45:07Z","Content":"\n\u003Cp\u003EGreat idea, but I think for most of us, just doing ONE of those eight challenges is plenty enough. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2015-01-31T18:03:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EWhy limit the scope to just :GetField? Why not just allow a script to print whatever string it feels like to a PostScreenMessage, regardless of whether it\u0027s coming from a :GETFIELD or something else? Just implement it at the basic string level and you get :getfield for free that way, along with all sorts of other stuff.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey Steve.\u003C/p\u003E\u003Cp\u003EHow\u0027s this for simple?\u003C/p\u003E\u003Cp\u003EI tagged it onto the print function. Just add hud$ to your text and it prints a screen message. \u0026lt; print \u0022hud$Hello World!\u0022.\u003C/p\u003E\u003Cp\u003EIn misc.cs\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[Function(\u0022print\u0022)]\u003Cbr\u003E    public class FunctionPrint : FunctionBase\u003Cbr\u003E    {\u003Cbr\u003E        public override void Execute(SharedObjects shared)\u003Cbr\u003E        {\u003Cbr\u003E            string textToPrint = shared.Cpu.PopValue().ToString();\u003Cbr\u003E            string replacedString = textToPrint.Replace(\u0022hud$\u0022, \u0022\u0022);\u003Cbr\u003E\t\t\tshared.Screen.Print(replacedString);\u003Cbr\u003E\t\t\tif (textToPrint.StartsWith(\u0022hud$\u0022))\u003Cbr\u003E\t\t\t    {\u003Cbr\u003E\t\t\t    ScreenMessages.PostScreenMessage( replacedString,3.0f, ScreenMessageStyle.UPPER_CENTER);\u003Cbr\u003E\t\t\t    }\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-31T20:19:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dr_Goddard\u0022 data-cite=\u0022Dr_Goddard\u0022\u003E\u003Cdiv\u003EHey Steve.\u003Cp\u003EHow\u0027s this for simple?\u003C/p\u003E\u003Cp\u003EI tagged it onto the print function. Just add hud$ to your text and it prints a screen message. \u0026lt; print \u0022hud$Hello World!\u0022.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d prefer just giving people direct control over all the parts of screenmessage - the position, the delay, etc.\u003C/p\u003E\u003Cp\u003EMaybe as a function:\u003C/p\u003E\u003Cp\u003Ehudtext( \u0022Hello World\u0022, \u0022top\u0022, 5). // top position, for 5 seconds.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s a demo of some docking maneuvering:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/15aAwBJXzHc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Parastie","CreatedById":136112,"CreatedDateTime":"2015-02-01T08:31:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI was thinking that kOS has hit a new maturity point where it\u0027s probably worth it to have another Challenge contest like the ancient one from over a year ago. That contest really helped spur kOS on because it made people try areas the mod wasn\u0027t so good at, which helped explore the edges of what it could do, and helped figure out what things would be helpful to add to it. I had a lot of fun back then being a participant in it, although some things were a lot harder than they needed to be.\u003Cp\u003EThings have gotten a lot more mature and I think it\u0027s time for a new challenge contest.\u003C/p\u003E\u003Cp\u003EI had an idea myself for a nice one but I don\u0027t want to post it for the following reasons:\u003C/p\u003E\u003Cp\u003E1: The challenge forum has the rule that you shouldn\u0027t make a contest for which you haven\u0027t posted a proof of your own ability to succeed at it (i.e. your own entry into your own contest, so to speak). This rule was established because there had been a few cases of people being jerks posting contests they knew cannot be done, designed to trick people into wasting their time trying. They would often say \u0022oh trust me it can be done, I\u0027ve done it, but I won\u0027t show you my solution until you start posting yours\u0022, when they know it can\u0027t actually be done. The purpose behind the requirement was to prove a minimal entry is possible. It doesn\u0027t have to be your best entry, and you can re-enter a second, better scoring entry later on. It\u0027s just meant as the proof of concept to prove you\u0027re not lying about the challenge being possible.)\u003C/p\u003E\u003Cp\u003E2: I decided that I should really recuse myself from participating in any challenge contests about kOS after I became more heavily involved in helping develop it. I\u0027ve got too much ability to change the mod to make it into what I need it to be (\u0022Oh look the mod is missing a feature I\u0027d need to do this task - so I\u0027ll go and add it in and get that feature into the next release, and get the release out in time for my contest entry...\u0022). I\u0027ve also got too much \u0022inside information\u0022, as in \u0022Oh, this feature\u0027s not documented that well, but no worries, I\u0027m the one who wrote it, so I know how it works without the docs.\u0022 I\u0027ve also got more \u0022lead time\u0027 than others do. I can start writing scripts using new features before the new features are publicly mentioned.\u003C/p\u003E\u003Cp\u003EIt\u0027s the combo of #1 and #2 that I think mean I can\u0027t really lead a Challenge Contest myself. To lead the contest I need to show my own entry into it. But I don\u0027t think I should be entering myself into a challenge.\u003C/p\u003E\u003Cp\u003EThat being said, this is the idea I had for a potential contest:\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EkOS Space Station Crew Exchange Challenge\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe challenge starts with a sandbox-mode saved game, made available for public download, in which there exists a space station in orbit around Kerbin.\u003C/p\u003E\u003Cp\u003EThe space station has the following things on it:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E A port with nametag=\u0022Easy Port\u0022 - a docking port along the station\u0027s main central axis, at one end, clear of obstructions.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E A port with nametag=\u0022Medium Port\u0022 - a docking port located not along the station\u0027s main axis, at a weird diagonal angle, and aligned askew from its center of mass.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EA port with nametag=\u0022Hard Port\u0022 - a docking port similar to \u0022Medium Port\u0022, but not only is it at a weird angle and not central, it\u0027s located in a dangerous way with breakable solar panel obstacles around, making it likely that you\u0027ll break the solar panels if you just try to dock straight at the port clumsily.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Crew onboard.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou\u0027re allowed to build whatever docking ship you like to dock to the station, but depending on the design of \u003Cstrong\u003Eits\u003C/strong\u003E docking port, it may be worth more or less points. It should have crew space for at least 1 crew. It can have more but it\u0027s actually detrimental to your score to do so, as you\u0027ll be scored based on least monoprop used, and larger ships are going to use more - you\u0027re best to go with just 1 crew capacity.\u003C/p\u003E\u003Cp\u003EThe challenge is to start from that saved game and attempt to do the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E 1. Launch your craft from KSC to orbit. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 2. Rendezvous your craft with the station. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 3. Dock your craft to the station without breaking anything (like a solar panel). \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 4. Exchange 1 crew member between the craft and the station - move one crew out of the craft and one crew into it. \u003Cem\u003EYou \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Eare\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E allowed to do this step manually with the stock crew transfer mouse interface.\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 5. Undock your craft from from the station. \u003Cem\u003EYou \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Eare\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E allowed to do this step manually with the docking port\u0027s right mouse button menu\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E\u003Cem\u003E 7. Move your craft away from the station safely without breaking anything (like a solar panel). \u003C/em\u003E\u003C/em\u003E\u003Cem\u003E\u003Cem\u003E\u003Cem\u003Emust be automated by script\u003C/em\u003E\u003C/em\u003E\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E 8. Return the crew member to Kerbin intact, trying to land close to the KSC if you can. \u003Cem\u003Emust be automated by script\u003C/em\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou are allowed to use the interactive terminal for file and run commands: COPY, SWITCH TO, RUN, etc, at any point during the mission, and doing so will not count as \u0022doing things manually\u0022 (thus if you can\u0027t fit the entire sequence of scripts on the ship at once, that\u0027s fine - you can swap files in and out.). THIS mission is not intended to be a signal-delay challenge mission where you can\u0027t type commands. It all takes place within near-Kerbin orbit.\u003C/p\u003E\u003Cp\u003EThings that could be used as criteria to affect your score (although I haven\u0027t really thought through which of these are more important, and how they should balance against each other, or which of them should be dropped. A good challenge should really only contain about 4-5 scoring criteria. Too much more and it gets messy to track):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E more points for docking to the harder ports on the station.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E more points for using a harder docking port on your own ship (one not just easily aimed out the nose of your ship, but one that you have to calculate directions from weirdly, like the harder ones on the station described above).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points the more monopropellant fuel was consumed. Docking with mechjeb can be monopropellant-hungry, and I\u0027d like to think a specialized kOS script can do it better.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points the more torque power the docking craft had (more points for doing it all on RCS). (Yes I know there\u0027s a bug about using ships that don\u0027t have torque, but there\u0027s also a supposed fix donated by github user soulsource that should come out the next time there\u0027s a release).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E less points for more time elapsed (on the gameworld\u0027s clock, not the user\u0027s time) between start of the savegame\u0027s timestamp to the timestamp of the final landing. This will effectively reward people for managing to get a good rendezvous quickly.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E More points the closer to KSC the landing site was.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Reusability ratio: Compare the recovery cost of the amount of your craft that landed on return to the initial cost of it at launch. Better reusability ratios mean better scores. \u003Cem\u003E(The purpose of adding this scoring criterion would be to give a boost to the scores of people who managed to do it with an SSTO. SSTO\u0027s present harder scripting challenges and should be rewarded for it. This would do so because they\u0027re landing the whole ship again and only payed for the fuel.)\u003C/em\u003E) (For this to work you probably need the initial save game to be a career mode game so it can calculate funds. I can show you how to set up bogus data to make a career mode game have lots of funds and upgraded buildings. The only reason for making it career-mode would be to turn on KSP\u0027s calculation of ship cost so you can perform this scoring.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAgain, I don\u0027t recommend all the above be used, but they\u0027re a clue as to what could go into the scoring criteria.\u003C/p\u003E\u003Cp\u003EIs anyone willing to set up a thing like this, and take the lead on it in the forum? (Or, to make it all your own idea, to counterpropose a different challenge). I just like the idea of there being a kOS challenge in the forums. It\u0027s been a while and I\u0027m thinking about it. I\u0027m thinking about docking because that\u0027s the most recent scripting I was working on.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like the idea of this, especially since it\u0027s more or less what I\u0027ve been trying to do (my difficulty is time, with my family at home and work, I have little time to play games). I think it\u0027d be worth making a standard \u0022station\u0022 craft file that anyone participates can download, perhaps even a save file with the station already in orbit. It would help standardize the challenge. If someone takes this up, please PM me the link to your challenge, and I\u0027ll place it as a sticky on the subreddit for kos as well!\u003C/p\u003E\u003Cp\u003EAlso, thanks very much for the tutorial! At least I know it\u0027s possible to do what I\u0027ve been trying to do. I\u0027ll see if I can get it before you make your longer tutorial. Thanks again!\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-01T14:43:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parastie\u0022 data-cite=\u0022Parastie\u0022\u003E\u003Cdiv\u003Eperhaps even a save file with the station already in orbit. It would help standardize the challenge. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI realize that what I posted was a giant wall of text that it was easy to miss stuff in, but that actually is what I was suggesting doing.\u003C/p\u003E\u003Cp\u003E(The bit where it says:\u003Cem\u003E The challenge starts with a sandbox-mode \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Esaved game\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E, made available for public download, in which there exists a space station in orbit around Kerbin.\u003C/em\u003E)\u003C/p\u003E\u003Cp\u003E(Later on I mentioned that if you want percentage of cost returned back (for SSTOs) to be part of the challenge scoring it would have to be a career-mode saved game instead of sandbox, just because KSP won\u0027t show you the amount of recovery refund in sandbox mode.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, thanks very much for the tutorial! At least I know it\u0027s possible to do what I\u0027ve been trying to do. I\u0027ll see if I can get it before you make your longer tutorial. Thanks again!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s sort of why I split it into two parts. I\u0027m unsure whether or not I *should* show the script yet if there might be a contest going on, and I\u0027m still waffling on that.\u003C/p\u003E\n"},{"CreatedByName":"Parastie","CreatedById":136112,"CreatedDateTime":"2015-02-01T16:39:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI realize that what I posted was a giant wall of text that it was easy to miss stuff in, but that actually is what I was suggesting doing.\u003Cp\u003E(The bit where it says:\u003Cem\u003E The challenge starts with a sandbox-mode \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003Esaved game\u003C/em\u003E\u003C/strong\u003E\u003Cem\u003E, made available for public download, in which there exists a space station in orbit around Kerbin.\u003C/em\u003E)\u003C/p\u003E\u003Cp\u003E(Later on I mentioned that if you want percentage of cost returned back (for SSTOs) to be part of the challenge scoring it would have to be a career-mode saved game instead of sandbox, just because KSP won\u0027t show you the amount of recovery refund in sandbox mode.)\u003C/p\u003E\u003Cp\u003EThat\u0027s sort of why I split it into two parts. I\u0027m unsure whether or not I *should* show the script yet if there might be a contest going on, and I\u0027m still waffling on that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI must come off as as an idiot sometimes...\u003C/p\u003E\u003Cp\u003EI\u0027ve only one question about your script. Are you using raw controls for rotation, or is it possible to figure out the correct vectors to use cooked controls? As in, you\u0027re able to lock steering and/or lookdirup to rotate the ship to place the port in the correct orientation?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-01T20:20:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parastie\u0022 data-cite=\u0022Parastie\u0022\u003E\u003Cdiv\u003EI must come off as as an idiot sometimes...\u003Cp\u003EI\u0027ve only one question about your script. Are you using raw controls for rotation, or is it possible to figure out the correct vectors to use cooked controls? As in, you\u0027re able to lock steering and/or lookdirup to rotate the ship to place the port in the correct orientation?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn principle it should be possible to lock steering, because with a lookat and a lookup vector (the blue arrows in the second half of that video), you can construct a Direction and LOCK STEERING to that. My only reason for not doing that was that I was *also* setting myself the task of testing out the raw controls and wanted to get them working, so I do everything with SHIP:CONTROL. I do think that LOCK STEERING for the rotation, combined with raw controls for the translation, should be a viable tactic.\\\u003C/p\u003E\u003Cp\u003EIncidentally, before I added LOOKDIRUP(v1,v2) as a function, it wouldn\u0027t have been a viable tactic because you could only have controlled the aim of the central axis of your ship with LOCK STEERING, and in order to put your own ship\u0027s offcentered port where you want it, you need to put the roll just how you want it too. That may have also influenced my decision. I was writing the script *while* adding the new Direction methods, and LOOKDIRUP wasn\u0027t there yet when I started. I added it largely because of the deficiency of the system I found while trying out this task.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-01T20:24:33Z\u0022 title=\u002202/01/2015 08:24  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 1, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-02-01T20:40:03Z","Content":"\n\u003Cp\u003ECan I operate KAS winches with a script? Or, does anyone have a script for a sky crane?\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-02-01T21:07:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parastie\u0022 data-cite=\u0022Parastie\u0022\u003E\u003Cdiv\u003E...is it possible to figure out the correct vectors to use cooked controls? As in, you\u0027re able to lock steering and/or lookdirup to rotate the ship to place the port in the correct orientation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBe aware that there is currently a \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/397\u0022 rel=\u0022external nofollow\u0022\u003Ebug \u003C/a\u003Ewith locked steering for craft when the \u0022control from\u0022 part is not aligned with the root parts original axis, or possibly triggered by docking, or something. It\u0027s still unclear. The point is, cooked controls can be used for this, and I\u0027ve done it, but you\u0027ll probably run into problems with docking ports that aren\u0027t on the nose of the ship, depending on how you write the code. As a result, I switched my docking code over to raw controls.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-01T21:28:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wercho\u0022 data-cite=\u0022Wercho\u0022\u003E\u003Cdiv\u003E\u0022control from\u0022 part is not aligned with the root parts original axis [...] you\u0027ll probably run into problems with docking ports that aren\u0027t on the nose of the ship,\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is true and how I worked around it in my script from the video was this: I don\u0027t do a \u0022control from\u0022 my docking port. Instead I calculate which rotation Direction goes from ship\u0027s control orientation to my docking port\u0027s orientation. Once I know that rotational offset, I can use it to point my nose rotated the opposite way to that without using \u0022control from here\u0022. (In other words, if my docking port is rotated 45 degrees yawed from my control orientation, then when I discover the orientation I want my docking port in, I should point my nose -45 degrees yawed from that. The new Direction suffixes and constructors make this possible.)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003ECan I operate KAS winches with a script? Or, does anyone have a script for a sky crane?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI assume KAS is a mod of some sort? If so, then the answer is most likely yes, because kOS now allows you to generically access many of the things other mods enable you to do. Basically, if it appears on the rightclick menu of a part, or is a thing you\u0027re allowed to assign into an action group, then kOS should be able to access it in theory. But you have to jump through a few hoops to do it.. Start here for reading how: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/general/parts_and_partmodules.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/general/parts_and_partmodules.html\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENote, there\u0027s a bug in those docs I didn\u0027t fix yet: At one point the docs say this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EIF somevessel:PARTSDUBBED(\u0022my favorite engine\u0022):LENGTH == 0 {\u003Cbr\u003E  PRINT \u0022There is no part named \u0027my favorite engine\u0027.\u0022.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd he double-equals \u0022==\u0022 is wrong for kerboscript syntax. It should be a single-equals \u0022=\u0022,\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-01T21:30:12Z\u0022 title=\u002202/01/2015 09:30  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 1, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Parastie","CreatedById":136112,"CreatedDateTime":"2015-02-02T04:45:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThis is true and how I worked around it in my script from the video was this: I don\u0027t do a \u0022control from\u0022 my docking port. Instead I calculate which rotation Direction goes from ship\u0027s control orientation to my docking port\u0027s orientation. Once I know that rotational offset, I can use it to point my nose rotated the opposite way to that without using \u0022control from here\u0022. (In other words, if my docking port is rotated 45 degrees yawed from my control orientation, then when I discover the orientation I want my docking port in, I should point my nose -45 degrees yawed from that. The new Direction suffixes and constructors make this possible.)\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn your video, are the offsets for the different docking ports hardcoded, or is your script able to calculate the offset and make adjustments on its own? I\u0027m assuming your script calculates it, as each port is it a wildly different point.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-02T05:22:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parastie\u0022 data-cite=\u0022Parastie\u0022\u003E\u003Cdiv\u003EIn your video, are the offsets for the different docking ports hardcoded, or is your script able to calculate the offset and make adjustments on its own? I\u0027m assuming your script calculates it, as each port is it a wildly different point.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt one point I do the following up front (before the main loop starts). At this point, myPort has already been selected to be the Part for the port, picked by using SHIP:PARTSDUBBED(\u0022whatever\u0022) where \u0022whatever\u0022 is the name you see me typing into the nametag for the \u0022this\u0022 ship (rather than for the \u0022other\u0022 ship).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Find axis of rotation, and angle around that axis, to rotate from my ship:facing to my myPort:PORTFACING.\u003Cbr\u003E\u003Cbr\u003Eset rotAngle to VANG( SHIP:FACING:VECTOR, myPort:PORTFACING:VECTOR ).\u003Cbr\u003Eset rotAxis to VCRS( SHIP:FACING:VECTOR, myPort:PORTFACING:VECTOR ).\u003Cbr\u003Eset rotAxis to rotAxis:NORMALIZED.\u003Cbr\u003E\u003Cbr\u003E// Splitting the rotAxis into its 3 component parts, in a reference frame that is oriented\u003Cbr\u003E// to match my ship:facing:\u003Cbr\u003Eset rotAxisX to VDOT( rotAxis, SHIP:FACING:STARVECTOR ).\u003Cbr\u003Eset rotAxisY to VDOT( rotAxis, SHIP:FACING:TOPVECTOR ).\u003Cbr\u003Eset rotAxisZ to VDOT( rotAxis, SHIP:FACING:FOREVECTOR ).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E// Then, further down, constantly being updated in my loop, I do this to get the information about the target port:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  set otherPortRot to otherPort:PORTFACING.\u003Cbr\u003E  set otherPortInverseRot to ANGLEAXIS(180,otherPortRot:TOPVECTOR)*otherPort:PORTFACING.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen further down, I use that to work out what direction I should be steering my nose at to make my port orient with the other port:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  set otherPortInverseRotAxis to otherPortInverseRot*V( rotAxisX, rotAxisY, rotAxisZ ).\u003Cbr\u003E  set myPortRotRelToOther to ANGLEAXIS(-rotAngle,otherPortInverseRotAxis)*otherPortInverseRot.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAt this point, you should be able to LOCK STEERING TO myPortRotRelToOther.\u003C/p\u003E\n"},{"CreatedByName":"HunterForce","CreatedById":85772,"CreatedDateTime":"2015-02-02T05:29:01Z","Content":"\n\u003Cp\u003EThis language can be really annoying. The lack of support only adds to the frustration. (One reason why I really wished it was a more established language like Lua with custom api.)\u003C/p\u003E\u003Cp\u003EAnyhow I digress. I was beginning to write some basic launch codes and cant figure out what kOS wants from me. Any help would be greatly appreciated.\u003C/p\u003E\u003Cp\u003EHere is the code: \u003Ca href=\u0022http://pastebin.com/Q8gj4cPm\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/Q8gj4cPm\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf I remove the second \u0022if\u0022 it will auto adjust at \u002B110 m/s but if I add the second it stays at full throttle.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-02T06:20:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HunterForce\u0022 data-cite=\u0022HunterForce\u0022\u003E\u003Cdiv\u003EThis language can be really annoying. The lack of support only adds to the frustration. (One reason why I really wished it was a more established language like Lua with custom api.)\u003Cp\u003EAnyhow I digress. I was beginning to write some basic launch codes and cant figure out what kOS wants from me. Any help would be greatly appreciated.\u003C/p\u003E\u003Cp\u003EHere is the code: \u003Ca href=\u0022http://pastebin.com/Q8gj4cPm\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/Q8gj4cPm\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf I remove the second \u0022if\u0022 it will auto adjust at \u002B110 m/s but if I add the second it stays at full throttle.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA dot ends the statement. An \u003Cem\u003Eelse\u003C/em\u003E cannot exist as a standalone statement - it needs to be a clause hanging off of an \u003Cem\u003Eif\u003C/em\u003E. Therefore don\u0027t have a dot after the closing brace of an \u003Cem\u003Eif\u003C/em\u003E when it\u0027s followed by an \u003Cem\u003Eelse\u003C/em\u003E, because doing so makes the \u003Cem\u003Eelse\u003C/em\u003E hang off on its own as the start of a new statement, and it\u0027s not allowed to be the start of a new statement.\u003C/p\u003E\u003Cp\u003E(I\u0027m reacting to your comment in the pastebin code about how it called it an error to have an \u003Cem\u003Eelse if\u003C/em\u003E where your second \u003Cem\u003Eif\u003C/em\u003E goes.)\u003C/p\u003E\u003Cp\u003EI have good news for you, there does already exist an established language in which you could write an autopilot for KSP, and in fact people have done so. The established language is called Csharp. In fact, the proof that this is possible is called mechjeb.\u003C/p\u003E\u003Cp\u003EThe problem with making it work in Lua is at that point all you\u0027re *really* be doing is just making an API bridge to a new language, and at that point you may as well make THAT be the project, rather than autopiloting being the point of it.\u003C/p\u003E\u003Cp\u003EPeople in fact *have* tried doing that sort of thing before, and it ends up having to be done as some sort of bridge between KSP and software that runs as a separate executable *outside* of KSP. There was a project to turn key KSP API calls into RPC calls so you could hook into them from whatever external program running whatever external language you like. I haven\u0027t heard much from it lately - probably because the project is a lot bigger than it looks at first and it\u0027s easy for a programmer to lose interest in a project when that happens.\u003C/p\u003E\u003Cp\u003EThe thing that kOS does uniquely is that it tries to run inside the game, using the limitations of the game engine itself, by simulating a virtual machine, running virtual opcodes, that executes a number of virtual machine opcodes per unity update so the programmer making the script is presented with the illusion that it can just run code straight through endlessly without having to make everything it does be a quick hook that exits fast. \u003C/p\u003E\u003Cp\u003EWhile it is in *principle* possible to support other languages that way, doing so for any arbitrary language requires making that virtual machine a heck of a lot more complex than it currently is.\u003C/p\u003E\u003Cp\u003EPeople mistakenly think, for example, that the reason kerboscript doesn\u0027t have local variables is because it\u0027s hard to add to the syntax. No. It\u0027s easy to add to the syntax. What\u0027s hard is making the underlying fake machine language more versatile so there\u0027s actually something to compile the kerboscript INTO that will do it.\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2015-02-02T16:12:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EPeople mistakenly think, for example, that the reason kerboscript doesn\u0027t have local variables is because it\u0027s hard to add to the syntax. No. It\u0027s easy to add to the syntax. What\u0027s hard is making the underlying fake machine language more versatile so there\u0027s actually something to compile the kerboscript INTO that will do it. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot so long ago, I suggested ferram to add another part to FAR mod. Simple placeholder for variables, like maximum roll angle, maximum AoA, pitch damper for example.\u003C/p\u003E\u003Cp\u003EThose should be read from variable placeholder and set FAR flight assistance variables by kOS. This is usefull, since there is no general good or bad options since each craft is different. I\u0027m still learning to use kOS, but my first idea, besides IR parts, that kOS will be usefull to make better autopilot than stock SAS or MechJeb.\u003C/p\u003E\u003Cp\u003EProblem with both, stock SAS and MechJeb is that those doesn\u0027t watch altitude/speed in optimal way and watch craft limitations, so that craft don\u0027t fall in dangerous AoA area or have too much speed on too low altitude or too low speed for high altitude. Most important factor is \u0022Q\u0022, preasure below wing that produce lift.\u003C/p\u003E\u003Cp\u003EGood kOS autopilot should watch that, speed and altitude for subsonic and supersonic speeds, how much \u0022Q\u0022 you will need for optimal ascent path that will produce enough lift, because as you gain speed you loose lift at supersonic speeds. You also need to watch AoA and be carefull that craft don\u0027t exceed it\u0027s limits.\u003C/p\u003E\u003Cp\u003ESo, idea is if such part exists like variable placeholder, it would be possible to make script that is valid for all crafts, loaded from archive in kOS on launch and that script will use per craft values for limitations from variable placeholder. I have created some realy stable SSTOs, puting those in orbit is realy simple, but a litle tedious. Once I create stable craft, I would like to be relieved from tedious tasks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. kOS comes as solution for that.\u003C/p\u003E\u003Cp\u003EI would probably bother you more with that once I start to use kOS more seriously \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Parastie","CreatedById":136112,"CreatedDateTime":"2015-02-02T16:40:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAt one point I do the following up front (before the main loop starts). At this point, myPort has already been selected to be the Part for the port, picked by using SHIP:PARTSDUBBED(\u0022whatever\u0022) where \u0022whatever\u0022 is the name you see me typing into the nametag for the \u0022this\u0022 ship (rather than for the \u0022other\u0022 ship).\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Find axis of rotation, and angle around that axis, to rotate from my ship:facing to my myPort:PORTFACING.\u003Cbr\u003E\u003Cbr\u003Eset rotAngle to VANG( SHIP:FACING:VECTOR, myPort:PORTFACING:VECTOR ).\u003Cbr\u003Eset rotAxis to VCRS( SHIP:FACING:VECTOR, myPort:PORTFACING:VECTOR ).\u003Cbr\u003Eset rotAxis to rotAxis:NORMALIZED.\u003Cbr\u003E\u003Cbr\u003E// Splitting the rotAxis into its 3 component parts, in a reference frame that is oriented\u003Cbr\u003E// to match my ship:facing:\u003Cbr\u003Eset rotAxisX to VDOT( rotAxis, SHIP:FACING:STARVECTOR ).\u003Cbr\u003Eset rotAxisY to VDOT( rotAxis, SHIP:FACING:TOPVECTOR ).\u003Cbr\u003Eset rotAxisZ to VDOT( rotAxis, SHIP:FACING:FOREVECTOR ).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E// Then, further down, constantly being updated in my loop, I do this to get the information about the target port:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  set otherPortRot to otherPort:PORTFACING.\u003Cbr\u003E  set otherPortInverseRot to ANGLEAXIS(180,otherPortRot:TOPVECTOR)*otherPort:PORTFACING.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen further down, I use that to work out what direction I should be steering my nose at to make my port orient with the other port:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E  set otherPortInverseRotAxis to otherPortInverseRot*V( rotAxisX, rotAxisY, rotAxisZ ).\u003Cbr\u003E  set myPortRotRelToOther to ANGLEAXIS(-rotAngle,otherPortInverseRotAxis)*otherPortInverseRot.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAt this point, you should be able to LOCK STEERING TO myPortRotRelToOther.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat works perfectly!\u003C/p\u003E\u003Cp\u003EThe ship points exactly where I want it to, and now I understand better what\u0027s going on. I\u0027m going to have to think about this a lot more, but I\u0027ve got a good idea how I want the movement to to work now. Thanks again!\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2015-02-02T18:53:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EVariables are global to all code running on the same kOS processor, but they aren\u0027t shared between ships or even between multiple processors on the same ship. You don\u0027t need any kind of ship-specific storage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIf you thought all variables were global to the *entire game*, then you misunderstand what\u0027s happening.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I totally misunderstood it. Thanks guys!\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-02-02T19:10:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HunterForce\u0022 data-cite=\u0022HunterForce\u0022\u003E\u003Cdiv\u003EThis language can be really annoying. The lack of support only adds to the frustration.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat kind of support would you like? \u003C/p\u003E\u003Cp\u003E* We have a pretty active little community on the forums and on reddit. \u003C/p\u003E\u003Cp\u003E* We have put some serious work into the documentation. your exact issue would have been cleared up by reading the page on flow control here \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/language/flow.html#if-else\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/language/flow.html#if-else\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Edo you want phone support for this free addon for a game? or a kOS tag on stackoverflow so you can cut and paste scripts someone else wrote?\u003C/p\u003E\n"},{"CreatedByName":"akrasuski1","CreatedById":116591,"CreatedDateTime":"2015-02-02T20:18:59Z","Content":"\n\u003Cp\u003EHello. I always wanted to have something like kOS functions available in KSP. Separate files almost make it, but one thing that bothered me for quite a long time was lack of local variables. This makes recursion impossible, and I have to use long names (can\u0027t use just \u0022start\u0022 as name, because it is very likely used somewhere else too). So, I wrote a \u0022preprocessor\u0022 for kOS. The idea is that the computer should have a stack for keeping separate functions\u0027 variables separately. This is implemented as a kOS list in boot.ks, which looks as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET stack_size TO 1000.\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Initializing stack (size: \u0022\u002Bstack_size\u002B\u0022 variables).\u0022.\u003Cbr\u003ESET __STACK TO LIST().\u003Cbr\u003ESET __SP TO 0.\u003Cbr\u003EUNTIL __SP\u0026gt;=stack_size {\u003Cbr\u003E    __STACK:ADD(0). // placeholder\u003Cbr\u003E    SET __SP TO __SP\u002B1.\u003Cbr\u003E}\u003Cbr\u003ESET __SP TO 0.\u003Cbr\u003EPRINT \u0022Done.\u0022.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen, let\u0027s say I want the following code, calculating factorial, to work:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//@return varToReturn\u003Cbr\u003E\u003Cbr\u003EDECLARE PARAMETER varNum.\u003Cbr\u003E\u003Cbr\u003EIF varNum\u0026lt;=1{\u003Cbr\u003E    SET varToReturn TO 1.\u003Cbr\u003E}\u003Cbr\u003EELSE{\u003Cbr\u003E    RUN factorial(varNum-1).\u003Cbr\u003E    SET varToReturn TO retVal*varNum.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Factorial of \u0022\u002BvarNum\u002B\u0022 is \u0022\u002BvarToReturn\u002B\u0022.\u0022.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo I pass it through my preprocessor:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epython stack_maker.py \u0026lt; factorial_old.ks \u0026gt; factorial.ks\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat gives me a new file, called factorial.ks, with the following contents:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//@return __STACK[__SP]\u003Cbr\u003E\u003Cbr\u003EDECLARE PARAMETER varNum.\u003Cbr\u003ESET __STACK[__SP\u002B1] TO varnum.\u003Cbr\u003E\u003Cbr\u003EIF __STACK[__SP\u002B1]\u0026lt;=1{\u003Cbr\u003ESET __STACK[__SP] TO 1.\u003Cbr\u003E}\u003Cbr\u003EELSE{\u003Cbr\u003ESET __SP TO __SP\u002B2.\u003Cbr\u003ERUN factorial(__STACK[__SP-1]-1).\u003Cbr\u003ESET retval TO __STACK[__SP].\u003Cbr\u003ESET __SP TO __SP-2.\u003Cbr\u003ESET __STACK[__SP] TO retVal*__STACK[__SP\u002B1].\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Factorial of \u0022\u002B__STACK[__SP\u002B1]\u002B\u0022 is \u0022\u002B__STACK[__SP]\u002B\u0022.\u0022.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYeah, I know it\u0027s ugly, but you won\u0027t be looking at this code. You should only edit \u0022source file\u0022 - the original one, and then run through the preprocessor again. When you\u0027re ready, go to KSP and run the program:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun factorial(5).\u003Cbr\u003EFactorial of 1 is 1.\u003Cbr\u003EFactorial of 2 is 2.\u003Cbr\u003E...\u003Cbr\u003EFactorial of 5 is 120.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf anyone wants to use it, here are some design decisions I had to make:\u003C/p\u003E\u003Cp\u003E- all variables need to start with the prefix \u0022var\u0022 (case doesn\u0027t matter) - this is because I am not skilled enough to write a full-scale language parser, which distinguishes between variables and function names, and so on. Also, even if I did that, my preprocessor would change built-in variables, such as \u0022TIME\u0022 to stack variables too, which would be a bad thing. As a compromise, I made the user explicitly name variables varStuff (at least it\u0027s not kerStuff \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003E- you have to initialize stack before calling any program (just run boot.ks)\u003C/p\u003E\u003Cp\u003E- if you want to return something (one variable at most), you have to put the \u0022//@return varStuff\u0022 directive on the top of the source.\u003C/p\u003E\u003Cp\u003E- if you want to access the returned value, you have to use variable called \u0022retVal\u0022. See above for example use.\u003C/p\u003E\u003Cp\u003ELink to the preprocessor itself:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/akrasuski1/KerbalPreprocessor/tree/master\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/akrasuski1/KerbalPreprocessor/tree/master\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENote that you have to have Python installed to run it. Thanks for any feedback.\u003C/p\u003E\u003Cp\u003ENote to developers: maybe something similar to this can be implemented in the kOS itself? It would definitely be better, because all of the above decisions wouldn\u0027t matter - I\u0027m sure you already recognize variables in some way - so the prefix \u0022var\u0022 would not be needed. If new syntax was added, \u0022retVal\u0022 variable wouldn\u0027t be needed too - how about: \u0022SET f TO RUN factorial(5).\u0022 ? IDK, it\u0027s just an idea.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-02T21:35:31Z\u0022 title=\u002202/02/2015 09:35  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 2, 2015\u003C/time\u003E by akrasuski1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-02T21:50:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022akrasuski1\u0022 data-cite=\u0022akrasuski1\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENote to developers: maybe something similar to this can be implemented in the kOS itself? It would definitely be better, because all of the above decisions wouldn\u0027t matter - I\u0027m sure you already recognize variables in some way - so the prefix \u0022var\u0022 would not be needed. If new syntax was added, \u0022retVal\u0022 variable wouldn\u0027t be needed too - how about: \u0022SET f TO RUN factorial(5).\u0022 ? IDK, it\u0027s just an idea.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe only reasons it hasn\u0027t been done already is:\u003C/p\u003E\u003Cp\u003E1: free time to implement it\u003C/p\u003E\u003Cp\u003E2: we\u0027re not too happy with RUN program being the way to de-facto do functions, so we really need to make essentially two systems: local to program and local to function.\u003C/p\u003E\u003Cp\u003E3: indecision over whether to implement global functions first, then implement user structures, then turn user structure into user classes by adding functions to them to become methods, or to do it the other way around: implement user structures first, then user methods, then say that all user functions must be class methods.\u003C/p\u003E\u003Cp\u003EIt really does need something, though, so that indecision is just an excuse delaying things.\u003C/p\u003E\n"},{"CreatedByName":"HunterForce","CreatedById":85772,"CreatedDateTime":"2015-02-02T22:29:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EA dot ends the statement. An \u003Cem\u003Eelse\u003C/em\u003E cannot exist as a standalone statement - it needs to be a clause hanging off of an \u003Cem\u003Eif\u003C/em\u003E. Therefore don\u0027t have a dot after the closing brace of an \u003Cem\u003Eif\u003C/em\u003E when it\u0027s followed by an \u003Cem\u003Eelse\u003C/em\u003E, because doing so makes the \u003Cem\u003Eelse\u003C/em\u003E hang off on its own as the start of a new statement, and it\u0027s not allowed to be the start of a new statement.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI removed the \u0022.\u0022 after the first if statement and added else but I still have the same problem that it wont decrease throttle. If you could post how to properly write it I would really appreciate it! kOS is driving me up the wall. Im sure Im just missing something obvious.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EWhat kind of support would you like? \u003Cp\u003E* We have a pretty active little community on the forums and on reddit. \u003C/p\u003E\u003Cp\u003E* We have put some serious work into the documentation. your exact issue would have been cleared up by reading the page on flow control here \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/language/flow.html#if-else\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/language/flow.html#if-else\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Edo you want phone support for this free addon for a game? or a kOS tag on stackoverflow so you can cut and paste scripts someone else wrote?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E... Wow someone is salty... What I meant was compared to any of the more widely used languages, kOS does not have the same level of support simply because it is only used for ksp. The only two places I have found to reference would be the official page and the wikia which in several instances have contradicted one another.\u003C/p\u003E\u003Cp\u003ETL;DR Calm down dude. Steven helped me out already (thanks, btw Steven). If you are trying to be a troll, then you are laughable. If you aren\u0027t, take a freakin chill pill. lol\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-02T22:51:53Z\u0022 title=\u002202/02/2015 10:51  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 2, 2015\u003C/time\u003E by HunterForce\u003C/strong\u003E\n\u003C/span\u003E\n"}]}