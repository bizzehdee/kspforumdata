{"TopicId":113603,"ForumId":29,"TopicTitle":"How to tell if an engine is active","CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-21T15:23:39Z","PageNum":1,"Articles":[{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-21T15:23:39Z","Content":"\n\u003Cp\u003EHow do I tell if an engine is active? I would like for my engine to stop producing heat and electricity when the engine is shutdown.\u003C/p\u003E\n"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2015-06-21T15:40:32Z","Content":"\n\u003Cp\u003Eright-click, if it is producing thrust it\u0027s producing heat and electricity....\u003C/p\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-21T15:55:08Z","Content":"\n\u003Cp\u003ESorry, I should have been more specific. I need to figure it out in a module.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-21T15:59:58Z","Content":"\n\u003Cp\u003EIt\u0027s a field in the ModuleEngines module. I think it is the ModuleEngines.isOperational field specifically.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-23T03:18:38Z","Content":"\n\u003Cp\u003EI can\u0027t find any documentation for ModuleEngines.isOperational. Do you know where that might be or of an example where it\u0027s used?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-23T04:06:48Z","Content":"\n\u003Cp\u003EI\u0027m not sure what you are asking, it\u0027s just a property of ModuleEngines in my Visual Studio object browser.\u003C/p\u003E\u003Cp\u003EIn terms of documentation, it\u0027s what I use to tell if an engine is firing for my Vertical Velocity mod and it\u0027s worked so far. I determined that by testing how it worked myself, there\u0027s no reliable documentation beyond what the names indicate, although the KSP API documentation project tries (it\u0027s on github), but it does have out of date information on it.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-23T13:15:35Z","Content":"\n\u003Cp\u003EI don\u0027t have isOperational as a property of ModuleEngines. What are you using as resources?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-23T13:32:27Z","Content":"\n\u003Cp\u003EHow are you looking ? isOperational \u003Cstrong\u003Eis\u003C/strong\u003E a public property of ModuleEngines.\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2015-06-23T15:08:46Z","Content":"\n\u003Cp\u003Epublic bool engineIgnited for if its active.\u003C/p\u003E\u003Cp\u003EmaxThrust / finalThrust for \u0022percentage\u0022 of output.\u003C/p\u003E\u003Cp\u003EEngineIgnited might be outdated. May need to test it. Maybe isOperational is now used like others have said.\u003C/p\u003E\u003Cp\u003Ehope this helps.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-23T15:13:51Z\u0022 title=\u002206/23/2015 03:13  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 23, 2015\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-23T17:00:00Z","Content":"\n\u003Cp\u003EIf I remember right, engineIgnited is true if the engine is trying to fire, isOperational is true when the engine is actually firing.\u003C/p\u003E\u003Cp\u003ESo if the engine is trying to fire, but flamed out due to lack of fuel, engineIgnited is true while isOperational is false.\u003C/p\u003E\u003Cp\u003EI did that test months ago though so double check if you are going to use that property.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-06-23T18:40:52Z","Content":"\n\u003Cp\u003EisOperational accounts for flameout and EngineIgnited\u003C/p\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-24T23:01:32Z","Content":"\n\u003Cp\u003EI don\u0027t doubt that ModuleEngines.isOperational is what I\u0027m looking for, but I can\u0027t figure out how to operate it. How do I pull the status of isOperational from ModuleEngines? Is there a global resource I need as a reference, or a special way I need to define a variable?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-24T23:32:11Z","Content":"\n\u003Cp\u003EI think this is now getting into more general programming questions, but the absolute basic explaination is:\u003C/p\u003E\u003Cp\u003EFirst, I\u0027m assuming you have your programming IDE setup, including the reference to Assembly-CSharp.\u003C/p\u003E\u003Cp\u003EThen, FlightGlobals.ActiveVessel is a static you can use to get the current vessel, the Vessel.parts list is all parts on the vessel, then the Part.modules list is all partModules on that part, a part that is an engine will have a ModuleEngine in that Part.modules list.\u003C/p\u003E\u003Cp\u003EThen you can pull the ModuleEngines.isOperational value from there.\u003C/p\u003E\u003Cp\u003EIs that more what you were looking for?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-24T23:41:35Z","Content":"\n\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// if you inherit from moduleEngines skip this step\u003Cbr\u003EList\u0026lt;ModuleEngines\u0026gt; e = part.Modules.GetModules\u0026lt;ModuleEngines\u0026gt;(); // a collection of all engines in this part\u003Cbr\u003Eif (e.Any())\u003Cbr\u003E{\u003Cbr\u003E//if partmodule inherits from module engines (FX), you only need this bit (leaving out e[0])\u003Cbr\u003E    if (e[0].IsOperational) // if first engine in the part is running\u003Cbr\u003E        produceHeatAndEC();\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-24T23:45:31Z\u0022 title=\u002206/24/2015 11:45  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 24, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-25T21:24:51Z","Content":"\n\u003Cp\u003EThere has to be something more fundamental that I\u0027m missing. Here\u0027s my error using Crzyrndm\u0027s code:\u003C/p\u003E\u003Cp\u003EError 2 \u0027System.Collections.Generic.List\u0026lt;ModuleEngines\u0026gt;\u0027 does not contain a definition for \u0027isOperational\u0027 and no extension method \u0027isOperational\u0027 accepting a first argument of type \u0027System.Collections.Generic.List\u0026lt;ModuleEngines\u0026gt;\u0027 could be found (are you missing a using directive or an assembly reference?) C:\\Users\\Ben\\Documents\\Visual Studio 2013\\Projects\\Reactor\\Reactor\\Class1.cs 41 15 Reactor\u003C/p\u003E\u003Cp\u003EHere are my references:\u003C/p\u003E\u003Cp\u003EAssembly-CSharp\u003C/p\u003E\u003Cp\u003ESystem\u003C/p\u003E\u003Cp\u003ESystem.Core\u003C/p\u003E\u003Cp\u003ESystem.Data\u003C/p\u003E\u003Cp\u003ESystem.Data.DataSetExtensions\u003C/p\u003E\u003Cp\u003ESystem.Xml\u003C/p\u003E\u003Cp\u003ESystem.Xml.Linq\u003C/p\u003E\u003Cp\u003EUnityEngine\u003C/p\u003E\u003Cp\u003EHere are my using statements:\u003C/p\u003E\u003Cp\u003Eusing System;\u003C/p\u003E\u003Cp\u003Eusing System.Collections.Generic;\u003C/p\u003E\u003Cp\u003Eusing System.Linq;\u003C/p\u003E\u003Cp\u003Eusing System.Text;\u003C/p\u003E\u003Cp\u003Eusing UnityEngine;\u003C/p\u003E\u003Cp\u003Eusing KSP;\u003C/p\u003E\u003Cp\u003EDoes anyone know what I am missing?\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-06-25T21:35:38Z","Content":"\n\u003Cp\u003EThat sounds like you tried to get .isOperational on the list as a whole (type List\u0026lt;ModuleEngines\u0026gt;) rather than an element of the list (type ModuleEngines). You didn\u0027t skip the indexing did you? (e\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cstrong\u003E[0]\u003C/strong\u003E\u003C/span\u003E to grab the first element from the list)\u003C/p\u003E\n"},{"CreatedByName":"wizzlebippi","CreatedById":85324,"CreatedDateTime":"2015-06-26T00:22:09Z","Content":"\n\u003Cp\u003EI did skip the index, and that fixed that error, but now I have an object reference error with Part.Modules that I can\u0027t seem to fix. \u003C/p\u003E\u003Cp\u003EError 1 An object reference is required for the non-static field, method, or property \u0027Part.Modules.get\u0027\u003C/p\u003E\n"}]}