{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":69,"Articles":[{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-15T22:19:00Z","Content":"\n\u003Cp\u003EAnd it looks like I\u0027m wrong anyway? So it must be something else....\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-15T22:43:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAnd it looks like I\u0027m wrong anyway? So it must be something else....\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... Just tested it out here: \u003Ca href=\u0022http://regexhero.net/tester/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://regexhero.net/tester/\u003C/a\u003E looks like the expression SHOULD work... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheReaper","CreatedById":75943,"CreatedDateTime":"2014-07-16T14:27:18Z","Content":"\n\u003Cp\u003EHello guys, so i have agressive version of it , but agressive version does not apply to rla stocklike or near future mods, or they texures are in such a way i cant notice difference between normal and agressive compresion, i think they dont get compressed enough or at all, i see texture drops in stock and KW stocklike and b9 parts. i see nothing in these parts, i also dont get IVA texture reduction at all, no efect on that, but i am using rasterprop and do a lot of IVA so i am not going to complain about that, funny thing is, previously agressive compressed IVA as well, when i made an edit, ATM jumped back to basics, it quit being agressive on anything, same goes for the RLA and near future packs, if i make a change , it turns to basic, and i endup re installing agressive, maybe im doing something wrong, anyone has encountered similar problems?\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2014-07-16T17:41:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheReaper\u0022 data-cite=\u0022TheReaper\u0022\u003E\u003Cdiv\u003EHello guys, so i have agressive version of it , but agressive version does not apply to rla stocklike or near future mods, or they texures are in such a way i cant notice difference between normal and agressive compresion, i think they dont get compressed enough or at all, i see texture drops in stock and KW stocklike and b9 parts. i see nothing in these parts, i also dont get IVA texture reduction at all, no efect on that, but i am using rasterprop and do a lot of IVA so i am not going to complain about that, funny thing is, previously agressive compressed IVA as well, when i made an edit, ATM jumped back to basics, it quit being agressive on anything, same goes for the RLA and near future packs, if i make a change , it turns to basic, and i endup re installing agressive, maybe im doing something wrong, anyone has encountered similar problems?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know about most of what you wrote, but here: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/59567837/NearFuture.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/59567837/NearFuture.cfg\u003C/a\u003E is a config I use for texture compression of NearFuture stuff with ATM. Add it to your GameData/BoulderCo/ActiveTextureManagerConfigs or whatever the folder is called and it should (maybe?) work. No guarantees!\u003C/p\u003E\n"},{"CreatedByName":"TheReaper","CreatedById":75943,"CreatedDateTime":"2014-07-16T18:43:46Z","Content":"\n\u003Cp\u003Egood enough, thank you!\u003C/p\u003E\n"},{"CreatedByName":"FiiZzioN","CreatedById":108954,"CreatedDateTime":"2014-07-17T22:08:29Z","Content":"\n\u003Cp\u003EWith KSP being 64bit, will this pack still be needed? I know it might still be needed for some users with less RAM, but with 16Gb, should I still use this? I\u0027m asking because I\u0027m waiting for most mods to update before \u0022officially\u0022 upgrade.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-17T22:23:36Z","Content":"\n\u003Cp\u003EIt will be needed to fix KSP texture loader issues.\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T22:27:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EIt will be needed to fix KSP texture loader issues.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECare to elaborate? I would prefer to run without this mod (no offense to the creator!) if possible as I would prefer to keep my textures looking as high quality as I can.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-17T22:29:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003ECare to elaborate? I would prefer to run without this mod (no offense to the creator!) if possible as I would prefer to keep my textures looking as high quality as I can.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaha, I\u0027D even prefer if people were able to run without this mod \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-17T22:38:55Z","Content":"\n\u003Cp\u003EAFAIK .24 didn\u0027t do anything to the PNG mipmap issue or the TGA-uncompressed issue. Your experience differ?\u003C/p\u003E\u003Cp\u003E(Also, I *think* that textures by default are made unreadable, which would screw with EVE unless ATM made the clouds etcs readable)\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-17T22:42:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAFAIK .24 didn\u0027t do anything to the PNG mipmap issue or the TGA-uncompressed issue. Your experience differ?\u003Cp\u003E(Also, I *think* that textures by default are made unreadable, which would screw with EVE unless ATM made the clouds etcs readable)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe PNG and TGA issues may still be present, but only normal maps are made un-readable.\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T22:44:32Z","Content":"\n\u003Cp\u003EI guess my point is i\u0027d prefer to NOT have mipmaps if possible. I have more than enough system and vram to handle huge jass textures.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-17T22:55:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003EI guess my point is i\u0027d prefer to NOT have mipmaps if possible. I have more than enough system and vram to handle huge jass textures.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emipmaps take up more memory (~33% more), and make the textures look much better...\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-17T22:56:24Z","Content":"\n\u003Cp\u003ESo it\u0027s no longer all PNGs get made unreadable? I thought it was that at one point. (And you use PNGs in EVE).\u003C/p\u003E\u003Cp\u003EBecause, y\u0027know, GameDatabase, loading textures before it knows their use.\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T22:58:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003Emipmaps take up more memory (~33% more), and make the textures look much better...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUm I don\u0027t want to argu with you since you made this mod, but the purpose of mipmaps is to provide additional lower resolution versions of a texture for performance reasons. So that as an object gets garter away and smaller on scree, it can display a lower resolution, less memory cost texture and in theory still look just as good.\u003C/p\u003E\u003Cp\u003EIt isn\u0027t going to make the textures look any better. At best when working perfectly, it makes them look \u0022just as good\u0022. I\u0027d just prefer to always use the full resolution when possible and not bother with mipmapped versions and I have plenty of memory for the full versions.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-07-17T23:00:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003EUm I don\u0027t want to argu with you since you made this mod, but the purpose of mipmaps is to provide additional lower resolution versions of a texture for performance reasons. So that as an object gets garter away and smaller on scree, it can display a lower resolution, less memory cost texture and in theory still look just as good.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is incorrect. Mipmaps allow for more accurate display of a texture map when scaled down, reducing aliasing from fast/cheap realtime scaling of the full-sized texture. They are loaded into memory along with the full-scale texture and so result in an \u003Cem\u003Eincrease\u003C/em\u003E in video memory usage.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-17T23:03:39Z\u0022 title=\u002207/17/2014 11:03  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 17, 2014\u003C/time\u003E by jrandom\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T23:05:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jrandom\u0022 data-cite=\u0022jrandom\u0022\u003E\u003Cdiv\u003EThis is incorrect. Mipmaps allow for more accurate display of a texture map when scaled down, reducing aliasing from fast/cheap regular texture scaling.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk lets just say we are both right. Yes, the aliasing issue is possibly dealt with better by mipmapped versions, though i\u0027d argue that the scaling in GPUs is so good now that that particular benefit is not really an issue anymore.\u003C/p\u003E\u003Cp\u003EThe MAIN reason for MipMaps, originally when they started back in the day, was to reduce overhead. Back when computers struggled to display even the crappiest graphics, you had to optimize things everywhere you could and one way to do that was to use lower resolution textures on objects that were smaller on screen IE as they got farther away, switching to a lower resolution to save memory. \u003C/p\u003E\u003Cp\u003ESo let\u0027s just agree to disagree and say we\u0027re both right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FenrirWolf","CreatedById":72121,"CreatedDateTime":"2014-07-17T23:11:22Z","Content":"\n\u003Cp\u003EFrom what I understand here, mipmapping is not the same thing as a discrete level-of-detail switcher like you\u0027re describing.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-17T23:14:22Z","Content":"\n\u003Cp\u003EAgathorn: yeah, AFAIK mipmaps were always loaded into memory; this isn\u0027t LOD.\u003C/p\u003E\u003Cp\u003EYou do however get a performance boost (or did then) because you\u0027re sampling from a smaller texture, I think, for your filtering, when you\u0027re not on mip0.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-17T23:18:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003EOk lets just say we are both right. Yes, the aliasing issue is possibly dealt with better by mipmapped versions, though i\u0027d argue that the scaling in GPUs is so good now that that particular benefit is not really an issue anymore.\u003Cp\u003EThe MAIN reason for MipMaps, originally when they started back in the day, was to reduce overhead. Back when computers struggled to display even the crappiest graphics, you had to optimize things everywhere you could and one way to do that was to use lower resolution textures on objects that were smaller on screen IE as they got farther away, switching to a lower resolution to save memory. \u003C/p\u003E\u003Cp\u003ESo let\u0027s just agree to disagree and say we\u0027re both right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe downsampling is still VERY expensive compared to mip-maps which work perfectly anyways. I wouldn\u0027t disable them.\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-17T23:23:12Z","Content":"\n\u003Cp\u003EOk so yes I did some more reading and your right that the filtering is still far better in mipmaps than on GPUs. I thought they had gotten better than they really had.\u003C/p\u003E\u003Cp\u003EBUT I still want to address the memory issue because there is a misunderstanding here. YES they are loading in RAM and take up MORE space. But when you are doing the actual draw calls, with the lower resolution Mips you are in fact saving texture bandwidth. That is what I am talking about. They ARE a performance improvement in actual rendering, even though they use more memory to store the mips.\u003C/p\u003E\u003Cp\u003EBut yeah, I guess the filtering tech in GPUs hasn\u0027t come as far along as I thought they had, so mips are still better overall.\u003C/p\u003E\u003Cp\u003EThe big problem I have with mips though is if not done right they really can create really bad muddy textures, when a too low resolution mip is loaded for a model.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-07-17T23:36:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Agathorn\u0022 data-cite=\u0022Agathorn\u0022\u003E\u003Cdiv\u003EThe big problem I have with mips though is if not done right they really can create really bad muddy textures, when a too low resolution mip is loaded for a model.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere was some article I read years ago on how Photoshop does downscaling and it covered the \u0022average color\u0022 muddy problem. Turns out, downsampling images is way more complex to do correctly than you\u0027d originally think. Most games just completely ignore the problem.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-17T23:52:35Z","Content":"\n\u003Cp\u003EYep.\u003C/p\u003E\u003Cp\u003EThis is why I was poking rbray to have ATM use bicubic resampling. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-07-18T03:59:03Z","Content":"\n\u003Cp\u003EGetting this trying to load up 0.24.0 with ATM\u003C/p\u003E\u003Cp\u003EATM is unable to start up and the game crashes due to low memory.\u003C/p\u003E\u003Cp\u003ELatest version running on Mac OS X (10.9.3)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003EAddonLoader: Instantiating addon \u0027ActiveTextureManagement\u0027 from assembly \u0027ActiveTextureManagement\u0027\u003Cbr\u003EActiveTextureManagement: Settings:\u003Cbr\u003EActiveTextureManagement: mipmaps: True\u003Cbr\u003EActiveTextureManagement: compress: True\u003Cbr\u003EActiveTextureManagement: scale: 2\u003Cbr\u003EActiveTextureManagement: max_size: 0\u003Cbr\u003EActiveTextureManagement: mipmaps_normals: False\u003Cbr\u003EActiveTextureManagement: compress_normals: False\u003Cbr\u003EActiveTextureManagement: scale_normals: 2\u003Cbr\u003EActiveTextureManagement: max_size_normals: 256\u003Cbr\u003EActiveTextureManagement: filter_mode: Bilinear\u003Cbr\u003EActiveTextureManagement: make_not_readable: True\u003Cbr\u003EActiveTextureManagement: normal List: \u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E at ActiveTextureManagement.CacheController.RebuildCache (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps, Boolean makeNotReadable) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E at ActiveTextureManagement.CacheController.FetchCacheTexture (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps, Boolean makeNotReadable) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E at ActiveTextureManagement.ActiveTextureManagement.UpdateTexture (ActiveTextureManagement.TexInfo texture) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E at ActiveTextureManagement.ActiveTextureManagement.LoadTextures () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E at ActiveTextureManagement.ActiveTextureManagement.Awake () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003EUnityEngine.GameObject:Internal_AddComponentWithType(Type)\u003Cbr\u003EUnityEngine.GameObject:AddComponent(Type)\u003Cbr\u003EAddonLoader:StartAddon(LoadedAssembly, Type, KSPAddon, Startup)\u003Cbr\u003EAddonLoader:StartAddons(Startup)\u003Cbr\u003E :MoveNext()\u003Cbr\u003E\u003Cbr\u003E(Filename: Line: -1)\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EEdit: (update)\u003C/p\u003E\u003Cp\u003EI thought ATM was not actually loading when it got that error but it apparently does. It\u0027s trying to build the cache and at some point it\u0027s crashing when it\u0027s processing Squad\u0027s folder. I have to run it again to be sure but it looks like \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eit\u0027s building a cache for Squad and at some point that cache is being deleted except for the Agencies folder and everything from that folder except C7AerospaceDivision.*cache\u003C/span\u003E looks like I\u0027m hallucinating and the Squad folder definitely isn\u0027t being processed because it\u0027s hanging when it tries to get past the C7 texture in the Agencies folder.... \u003C/p\u003E\u003Cp\u003Eplayer.log is spammed with \u0027Texture \u0027\u0027 has no data\u0027 \u003Cem\u003E328362 times.\u003C/em\u003E \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EAnd I\u0027m not seeing memory error on these subsequent runs, just KSP stops responding..... \u003C/span\u003EI\u0027m no longer actually sure what\u0027s happening. Running it again so I can watch what happens in the Squad folder. I did a search btw for the \u0027no data\u0027 message and only really see it mentioned in the Alternate Texture Loader thread where it\u0027s mentioned that that message has to do with mods that need to access texture data... \u003C/p\u003E\u003Cp\u003EEdit #2: Hanging on the small lander can.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T05:26:43Z\u0022 title=\u002207/18/2014 05:26  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-07-18T05:19:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EYep.\u003Cp\u003EThis is why I was poking rbray to have ATM use bicubic resampling. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found a really nifty \u0022magic kernel\u0022 algorithm re-sampler that works surprisingly well. For power of 2 anyways \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}