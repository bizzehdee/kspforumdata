{"TopicId":126985,"ForumId":16,"TopicTitle":"Camera Gimbal Lock?","CreatedByName":"apLundell","CreatedById":154452,"CreatedDateTime":"2015-12-04T07:20:55Z","PageNum":1,"Articles":[{"CreatedByName":"apLundell","CreatedById":154452,"CreatedDateTime":"2015-12-04T07:20:55Z","Content":"\n\u003Cp\u003E\nHas mouse camera control changed recently?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBecause recently I\u0027ve been noticing gimbal locks a \u003Cstrong\u003Elot \u003C/strong\u003Ewhen trying to mouse the camera around a space-craft in flight.\u00A0 It can be pretty frustrating if it happens at a critical moment.\u00A0 (Especially as I feel like controlling a 3d camera centered around a point is a solved problem in computer graphics.)\n\u003C/p\u003E\n\u003Cp\u003E\nIs this new, or was it always like this and I just didn\u0027t notice?\n\u003C/p\u003E\n"},{"CreatedByName":"maceemiller","CreatedById":130574,"CreatedDateTime":"2015-12-04T07:38:05Z","Content":"\n\u003Cp\u003E\nA new change in 1.0.5 is if you double click the right mouse button you will switch to a moving camera around your craft without having to hold any buttons. It can be odd at first but I actually find it useful now. \u00A0Right click again to switch back.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-04T07:46:35Z\u0022 title=\u002212/04/2015 07:46  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 4, 2015\u003C/time\u003E by maceemiller\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TrooperCooper","CreatedById":110599,"CreatedDateTime":"2015-12-04T10:51:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222307574\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449214685\u0022 data-ipsquote-userid=\u0022130574\u0022 data-ipsquote-username=\u0022maceemiller\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, maceemiller said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA new change in 1.0.5 is if you double click the right mouse button you will switch to a moving camera around your craft without having to hold any buttons. It can be odd at first but I actually find it useful now. \u00A0Right click again to switch back.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOr deactivate it in the settings menu. Its annoying, especially when you fiddle with a maneuver node with the precise node mod.\n\u003C/p\u003E\n"},{"CreatedByName":"HvP","CreatedById":146104,"CreatedDateTime":"2015-12-04T20:17:11Z","Content":"\n\u003Cp\u003E\nAm I correct that you are referring to the fact that the camera view hits a hard limit at the zero-degree mark, or axis, on the sphere of rotation? You spin the camera a full 360 degrees horizontally but not continue past 0 \u0022above\u0022 or \u0022below\u0022 the sphere of rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nYes, I find this behavior very frustrating, too. Double right-click does not solve this restriction. The only workaround is to toggle through different camera reference frames with the \u0022V\u0022 key until you find an orientation that is adequate. Very difficult during EVA in space though.\n\u003C/p\u003E\n"},{"CreatedByName":"apLundell","CreatedById":154452,"CreatedDateTime":"2015-12-04T21:10:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222308287\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449260231\u0022 data-ipsquote-userid=\u0022146104\u0022 data-ipsquote-username=\u0022HvP\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n46 minutes ago, HvP said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAm I correct that you are referring to the fact that the camera view hits a hard limit at the zero-degree mark, or axis, on the sphere of rotation? You spin the camera a full 360 degrees horizontally but not continue past 0 \u0022above\u0022 or \u0022below\u0022 the sphere of rotation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes!\u00A0 I assume it\u0027s a gimble-lock problem, but I suppose it could be some other similar limitation.\n\u003C/p\u003E\n\u003Cp\u003E\nI guess I just never let it bother me before, for some reason it was really frustrating me yesterday.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems so weird though.\u00A0 Is it intentional?\u00A0\u00A0 This kind of camera problem is a common newbie mistake, but there\u0027s no way in heck the KSP team could be even remotely considered newbies to 3d math!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222307574\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449214685\u0022 data-ipsquote-userid=\u0022130574\u0022 data-ipsquote-username=\u0022maceemiller\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, maceemiller said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA new change in 1.0.5 is if you double click the right mouse button you will switch to a moving camera around your craft without having to hold any buttons. It can be odd at first but I actually find it useful now. \u00A0Right click again to switch back.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHuh, I\u0027ll give this a try.\u00A0 Thanks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2015-12-04T21:44:17Z","Content":"\n\u003Cp\u003E\nI guess that camera pan limit at 0 degrees\u00A0when panning down has always been there so I\u0027ve just accepted it and don\u0027t really think about it. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe thing that really melts my boosters is the way the camera pans in the SPH. \u00A0You won\u0027t notice it if you have a small craft positioned close to the ground, but on larger craft or if you\u0027ve lifted the craft higher up in the SPH, when panning down to look at the top of the craft there is a point where the camera\u0027s pivot point is suddenly shifted forwards/down, resulting in the camera being plunged into the craft rather than ending up looking down on it. \u00A0This was a change that was added a few versions ago (just before 1.0 IIRC) and is so unpleasant that I can\u0027t believe it was intentional!\u00A0I could understand it if the camera was high enough to be interacting with the ceiling but it happens much lower down than that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"maceemiller","CreatedById":130574,"CreatedDateTime":"2015-12-04T22:53:54Z","Content":"\n\u003Cp\u003E\nAt least you have it sorted now \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-05T07:14:49Z\u0022 title=\u002212/05/2015 07:14  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 5, 2015\u003C/time\u003E by maceemiller\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RuBisCO","CreatedById":59540,"CreatedDateTime":"2016-01-12T22:11:31Z","Content":"\n\u003Cp\u003E\nHow to experience Gimal Lock in KSP\n\u003C/p\u003E\n\u003Cp\u003E\n1. Go to the pole of any planet in KSP, -90\u003Cspan\u003E\u00B0\u003C/span\u003E or 90\u003Cspan\u003E\u00B0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2. Have a craft cross that pole exactly\n\u003C/p\u003E\n\u003Cp\u003E\n3. Watch the camera instantly and even violently rotate 180\u003Cspan\u003E\u00B0, you will also notice your 8 ball flip ordination instantly as well. \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EEven as you approach the pole you may notice the camera moving very oddly, in older verse of KSP I was able to get the krakan to rip crafts apart due to the violence of the camera flipping. \u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"jwbrase","CreatedById":150131,"CreatedDateTime":"2016-01-13T06:10:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222308371\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449263402\u0022 data-ipsquote-userid=\u0022154452\u0022 data-ipsquote-username=\u0022apLundell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Friday December 04, 2015 at 3:10 PM, apLundell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt seems so weird though.\u00A0 Is it intentional? \u00A0 This kind of camera problem is a common newbie mistake, but there\u0027s no way in heck the KSP team could be even remotely considered newbies to 3d math!\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would assume that it is intentional, as otherwise the effects of \u003Ca href=\u0022https://en.wikipedia.org/wiki/Parallel_transport\u0022 rel=\u0022external nofollow\u0022\u003Eparallel transport\u003C/a\u003E would add up as you panned the camera around and users might end up panning themselves into a situation where the camera was upside down during atmospheric flight. In my experience, programs that are focused on viewing 3D objects tend to allow the user to rotate the camera around the object arbitrarily without gimbal lock, but flight sims pretty much universally use an arrangement similar to KSP\u0027s, because preventing parallel transport of the horizon is a bigger concern. KSP switches between an axis perpendicular to the surface in atmospheric flight, and one parallel to the rotational axis of the planet in orbital flight, and the latter is where gimbal locking becomes most noticable. It might be good if they allowed the user to switch freely between the two modes and added a mode with the gimbal axis of the camera parallel to the yaw axis of the ship (perpendicular to the wing/fuselage plane for spaceplanes).\n\u003C/p\u003E\n"},{"CreatedByName":"Aloriel","CreatedById":97201,"CreatedDateTime":"2016-01-13T12:07:08Z","Content":"\n\u003Cp\u003E\nThe clearest sign to me that the gimbal lock is intentional is because I am also a Unity programmer. In the projects I have worked on, I have found that Unity, by default, has no gimbal lock of any kind. This means that Squad has intentionally added it.\n\u003C/p\u003E\n\u003Cp\u003E\nIn fact, I\u0027ve found that it is quite difficult to *add* gimbal lock in Unity. The default system uses quaternions, which have no gimbal lock, and thus all of the rotation commands for cameras and objects also have no gimbal lock. So, I can only imagine what they went through to actually achieve it. I am assuming something on the order of rewriting many thousands of lines of code, simply to introduce gimbal lock where none exists.\n\u003C/p\u003E\n"},{"CreatedByName":"Renegrade","CreatedById":96629,"CreatedDateTime":"2016-01-13T14:37:26Z","Content":"\n\u003Cp\u003E\nI\u0027m pretty sure the default modes have always had this \u0027issue\u0027.\u00A0 It hasn\u0027t noticeably changed in recent versions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/110599-troopercooper/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110599\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110599-troopercooper/\u0022\u003E@TrooperCooper\u003C/a\u003E - thanks for pointing out the setting for the double click issue.\u00A0 That was annoying me quite a bit!\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222359958\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452686828\u0022 data-ipsquote-userid=\u002297201\u0022 data-ipsquote-username=\u0022Aloriel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Aloriel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn fact, I\u0027ve found that it is quite difficult to *add* gimbal lock in Unity. The default system uses quaternions, which have no gimbal lock, and thus all of the rotation commands for cameras and objects also have no gimbal lock. So, I can only imagine what they went through to actually achieve it. I am assuming something on the order of rewriting many thousands of lines of code, simply to introduce gimbal lock where none exists.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThousands?\u00A0 I\u0027d say it\u0027s about thirty lines of code in ANSI C to write a simple fixed Euler system that creates a matrix that you could pass to OpenGL for the view matrix.\u00A0 I stopped working with LPHURTSMYHEAD err I mean DirectX back in the DX5 era (actually more like DX3, although I did upgrade some of my code to use the call that lets you set resolution AND refresh rate from DX5 (DX3 didn\u0027t let you set refresh rate when selecting a mode)), but I imagine it\u0027s probably only forty or fifty lines for DirectX too.\n\u003C/p\u003E\n\u003Cp\u003E\nRandom aside:\n\u003C/p\u003E\n\u003Cp\u003E\nFirefox says that \u0027quaternions\u0027, \u0027gimbal\u0027, \u0027LPHURTSMYHEAD\u0027 and \u0027DirectX\u0027 aren\u0027t actually words.\u00A0 Firefox is wrong.\u00A0 Also it failed to automatically \u2122 the DirectX\u2122 word.\u00A0 So, if I don\u0027t ever post again, I got sued out of existence. And here I thought they were finally making progress, what with an official 64-bit Windows binary and all...\n\u003C/p\u003E\n"},{"CreatedByName":"RuBisCO","CreatedById":59540,"CreatedDateTime":"2016-01-13T22:36:57Z","Content":"\n\u003Cp\u003E\nWell what ever the case the camera\u0027s clearly operate on Euler angles, and if it is not Unity\u0027s fault, then why?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Aloriel","CreatedById":97201,"CreatedDateTime":"2016-01-22T14:42:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222360063\u0022 data-ipsquote-contentid=\u0022126985\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452695846\u0022 data-ipsquote-userid=\u002296629\u0022 data-ipsquote-username=\u0022Renegrade\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/13/2016 at 9:37 AM, Renegrade said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m pretty sure the default modes have always had this \u0027issue\u0027.\u00A0 It hasn\u0027t noticeably changed in recent versions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/110599-troopercooper/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022110599\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/110599-troopercooper/\u0022\u003E@TrooperCooper\u003C/a\u003E - thanks for pointing out the setting for the double click issue.\u00A0 That was annoying me quite a bit!\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThousands?\u00A0 I\u0027d say it\u0027s about thirty lines of code in ANSI C to write a simple fixed Euler system that creates a matrix that you could pass to OpenGL for the view matrix.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSimple, yes. However, nothing in Unity is done to a simple level. They are extremely thorough in making sure you have lots of options. If you want to over ride the controls, you have to over ride quite a lot of stuff, or write up a completely new set of instructions. Plus, Unity runs in both DirectX and OpenGL, so you need both written. You would also need to translate those Euler coordinates into Unity\u0027s coordinate system for final display, which is in quaternions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd yes, Firefox is wrong. Those are words... well, except the LPHURTSMYHEAD one, even if true. LOL\n\u003C/p\u003E\n"}]}