{"TopicId":91625,"ForumId":34,"TopicTitle":"[1.10.1\u002B] Contract Configurator [v1.30.5] [2020-10-05]","CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2014-11-30T06:23:07Z","PageNum":208,"Articles":[{"CreatedByName":"Caerfinon","CreatedById":207619,"CreatedDateTime":"2024-03-21T03:46:51Z","Content":"\n\u003Cp\u003E\nI\u0027ve never nested one vessel parameter group inside another. But I have used the Type Any parameter to nest multiple Vessel Parameter groups as separate solutions to completing the contract requirements\u00A0 \u00A0 \u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003EPARAMETER\n{\n    name = Any\n    type = Any\n\t\n\tPARAMETER\n\t{\n        name = VesselParameterGroup1\n        type = VesselParameterGroup\n\t\t...\n\t}\n\tPARAMETER\n\t{\n        name = VesselParameterGroup2\n        type = VesselParameterGroup\n\t\t...\n\t}\n\tPARAMETER\n\t{\n        name = VesselParameterGroup3\n        type = VesselParameterGroup\n\t\t...\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Ooglak Kerman","CreatedById":218195,"CreatedDateTime":"2024-03-21T15:02:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224374217\u0022 data-ipsquote-contentid=\u002291625\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221710992811\u0022 data-ipsquote-userid=\u0022207619\u0022 data-ipsquote-username=\u0022Caerfinon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Caerfinon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve never nested one vessel parameter group inside another. But I have used the Type Any parameter to nest multiple Vessel Parameter groups as separate solutions to completing the contract requirements\u00A0 \u00A0 \u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003EPARAMETER\n{\n    name = Any\n    type = Any\n\t\n\tPARAMETER\n\t{\n        name = VesselParameterGroup1\n        type = VesselParameterGroup\n\t\t...\n\t}\n\tPARAMETER\n\t{\n        name = VesselParameterGroup2\n        type = VesselParameterGroup\n\t\t...\n\t}\n\tPARAMETER\n\t{\n        name = VesselParameterGroup3\n        type = VesselParameterGroup\n\t\t...\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nReviewing the doc, it looks like what I want is the type = ALL since I\u0027m wanting all the child parameters/groups to have completed.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for getting me moving again.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-21T15:23:24Z\u0022 title=\u002203/21/2024 03:23  PM\u0022 data-short=\u0022Mar 21\u0022\u003EMarch 21\u003C/time\u003E by Ooglak Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ooglak Kerman","CreatedById":218195,"CreatedDateTime":"2024-03-22T04:59:59Z","Content":"\n\u003Cp\u003E\nIt looks like you can nest vessel parameter groups.\u00A0 But the PARAMETER ReachState with a situation = ORBITING comes up true for all bodies. I can work with it I think\n\u003C/p\u003E\n"},{"CreatedByName":"mark7","CreatedById":143108,"CreatedDateTime":"2024-04-09T14:57:37Z","Content":"\n\u003Cp\u003E\nI have been playing around with contract configurator to make some new contract lately and have encountered a pop-up exception in game which suggested me to post the error here.\n\u003C/p\u003E\n\u003Cp\u003E\nthe exception is\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003EException occured while loading contract \u0027KerbalAcademy.KerbalAcademy_PilotingTraining\u0027:\nSystem.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---\u0026gt; System.InvalidCastException: Invalid cast from \u0027System.String\u0027 to \u0027System.Collections.Generic.List\u00601[[ContractConfigurator.Kerbal, ContractConfigurator, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\u0027.\n  at System.Convert.DefaultToType (System.IConvertible value, System.Type targetType, System.IFormatProvider provider) [0x00269] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at System.String.System.IConvertible.ToType (System.Type type, System.IFormatProvider provider) [0x00000] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at System.Convert.ChangeType (System.Object value, System.Type conversionType, System.IFormatProvider provider) [0x0021b] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at System.Convert.ChangeType (System.Object value, System.Type conversionType) [0x0000c] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at ContractConfigurator.ConfigNodeUtil.ParseSingleValue[T] (System.String key, System.String stringValue, System.Boolean allowExpression) [0x006a0] in \u0026lt;20a3a039060941bfb465629683bb64bf\u0026gt;:0 \n  at (wrapper managed-to-native) System.Reflection.MonoMethod.InternalInvoke(System.Reflection.MonoMethod,object,object[],System.Exception\u0026amp;)\n  at System.Reflection.MonoMethod.Invoke (System.Object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00032] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n   --- End of inner exception stack trace ---\n  at System.Reflection.MonoMethod.Invoke (System.Object obj, System.Reflection.BindingFlags invokeAttr, System.Reflection.Binder binder, System.Object[] parameters, System.Globalization.CultureInfo culture) [0x00048] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at System.Reflection.MethodBase.Invoke (System.Object obj, System.Object[] parameters) [0x00000] in \u0026lt;9577ac7a62ef43179789031239ba8798\u0026gt;:0 \n  at ContractConfigurator.ConfiguredContract.OnLoad (ConfigNode node) [0x00233] in \u0026lt;20a3a039060941bfb465629683bb64bf\u0026gt;:0 \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand the exact contract is:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003ECONTRACT_TYPE\n{\n    name = KerbalAcademy_PilotingTraining\n    title = Kerbal Academy: Pilot Training Program\n    group = KerbalAcademy\n    description = It seems that a group of pilots is ready to improve their piloting skills. Take them to @targetVessel, along with 2 mentors to train them, then bring them back home.\n    genericDescription = Put a gourp of pilots throught the training Program.\n    synopsis = Complete the training course.\n    completedMessage = Congratulations, we now have more experienced pilots on our team\n    agent = Kerbal Academy\n    notes = The parameters must be completed in order.\n    minExpiry = 1\n    maxExpiry = 7\n    maxSimultaneous = 1\n    cancellable = true\n    declinable = true\n    prestige = Significant\n    targetBody = HomeWorld()\n    rewardScience = 0.0\n    rewardReputation = 10\n    rewardFunds = 0\n    failureReputation = 0\n    failureFunds = 0\n    advanceFunds = -50000 - @crew_size * 20000\n\n    DATA\n    {\n        type = List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Kerbal\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        uniquenessCheck = CONTRACT_ACTIVE\n        all_candidates = AllKerbals().Where(m =\u0026gt; m.ExperienceTrait() == Pilot \u0026amp;\u0026amp; m.ExperienceLevel()\u0026lt;= 2 \u0026amp;\u0026amp; m.Type() == Crew \u0026amp;\u0026amp; m.RosterStatus() == Available)\n        trainee_list = @all_candidates.Random(@crew_size)\n        title = Must have a group of Kerbals who qualify for the basic program.\n    }\n\n    DATA\n    {\n        type = int\n        selectionIndex = Random(0, @validOTFs.Count() - 1)\n        crew_size = @is_random_crewsize ? 2 : Random(3, 6)\n    }\n\n    DATA\n    {\n        type = double\n        expAward = 8\n    }\n\n    DATA\n    {\n        type = bool     \n        is_random_crewsize = 6 \u0026lt; @all_candidates.Count()\n    }\n\n    DATA\n    {\n        type = List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;VesselIdentifier\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        requiredValue = false\n        validOTFs = $KerbalAcademy_OrbitalTraingFacility.Where(vi =\u0026gt; Vessel(vi).IsOrbiting() \u0026amp;\u0026amp; Vessel(vi).EmptyCrewSpace() \u0026gt;= 8)\n    }\n\n    DATA\n    {\n        type = Vessel\n        uniquenessCheck = CONTRACT_ACTIVE\n        title = Must have an Orbital Training Facility with sufficient empty space\n        targetVessel = @validOTFs.ElementAt(@selectionIndex)\n    }\n\n    BEHAVIOUR\n    {\n        name = AwardExperience\n        type = AwardExperience\n        kerbal = @/trainee_list\n        experience = @/expAward\n    }\n\n    \n    PARAMETER\n    {\t\n        name = HasTrainee\n        type = HasCrew\n        kerbal = @/trainee_list\n    }\n\n    PARAMETER\n    {\n        name = HasMentor\n        type = HasCrew\n        trait = Pilot\n        title = Must have an experienced Pilot on board\n        minExperience = 4\n    }\n\n    PARAMETER\n    {\n        name = HasCommander\n        type = HasCrew\n        trait = Commander\n        title = Must have a commander to oversee the training\n        minExperience = 2\n    }\n\n    PARAMETER\n    {\n        name = DockwithStation\n        type = Docking\n        vessel = @/targetVessel\n        title = Dock with @/targetVessel\n        completeInSequence = true\n    }\n\n    PARAMETER\n    {\n        name = Duration\n        type = Duration\n        duration = 15d\n        preWaitText = Waiting for the Crew.\n        waitingText = Crew at the station\n        completionText = Mission accomplished! Bring the crew back home.\n        completeInSequence = true\n    }\n\n    PARAMETER\n    {\n        name = RecoverKerbal\n        type = RecoverKerbal\n        completeInSequence = true\n        kerbal = @/trainee_list\n    }\n\n    REQUIREMENT\n    {\n        name = check_crew_count\n        type = Expression\n        expression = @/all_candidates.Count() \u0026gt; 1\n        title = Must enough crew\n    }\n \n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAnyone know what could be the problem?\n\u003C/p\u003E\n"},{"CreatedByName":"leroidangleterre","CreatedById":196075,"CreatedDateTime":"2024-04-18T16:45:27Z","Content":"\n\u003Cp\u003E\nI\u0027ve used aircraft contracts and this one seemed interesting: stay above a requested altitude for a given time.\n\u003C/p\u003E\n\u003Cp\u003E\nYet the timer starts when the flight starts, and the mark gets checked by just waiting, not even flying.\n\u003C/p\u003E\n\u003Cp\u003E\nTo fix this, i\u0027ve tried changing the contract code to this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E\t//Contract Goals\n\tPARAMETER\n\t{\n\t\tname = VesselParameterGroup\n\t\ttype = All\n\t\ttitle = fly up to 1,000m \n\t\t\n\t\tvessel = @/craft\n\t\t\n\t\tPARAMETER\n\t\t{\n\t\t\tname = ReachState\n\t\t\ttype = ReachState\n\t\t\t\n\t\t\ttargetBody = Kerbin\n\t\t\tsituation = FLYING\n\t\t\tminAltitude = 1000\n\n\t\t\thideChildren = true\n\t\t\thidden = true\n\t\t\t\n\t\t\tPARAMETER\n\t\t\t{\n\t\t\t\tname = VesselParameterGroup\n\t\t\t\ttype = VesselParameterGroup\n\t\t\t\ttitle = Hold for 3min\n\n\t\t\t\tPARAMETER\n\t\t\t\t{\n\t\t\t\t\tname = Duration\n\t\t\t\t\ttype = Duration\n\t\t\t\t\t\n\t\t\t\t\tduration = 180s\n\t\t\t\t\tpreWaitText = and hold for: \n\t\t\t\t\twaitingText = and hold for: \n\t\t\t\t\tcompletionText = You did it!\n\t\t\t\t}\t\t\n\t\t\t}\n\t\t}\n\t\tcompleteInSequence = true\n\t\tdisableOnStateChange = true\n\t\thideChildren = false\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhat I did is I included the \u0022hold for 3min\u0022 requirement inside the ReachState part. Yet the timer still starts even before the altitude is reached.\n\u003C/p\u003E\n\u003Cp\u003E\nHow would you solve that ? What syntax should I use ?\n\u003C/p\u003E\n"},{"CreatedByName":"Aelfhe1m","CreatedById":142910,"CreatedDateTime":"2024-04-18T18:49:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224381063\u0022 data-ipsquote-contentid=\u002291625\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221713458727\u0022 data-ipsquote-userid=\u0022196075\u0022 data-ipsquote-username=\u0022leroidangleterre\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, leroidangleterre said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow would you solve that ? What syntax should I use ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think the problem is the position of the disableOnStateChange field - it applies to the vessel (so switching vessels would disable it) rather than the vessel state (so changes in altitude would affect it).\n\u003C/p\u003E\n\u003Cp\u003E\nTry this (untested):\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003EPARAMETER\n{\n\tname = VesselGroup\n\ttype = VesselParameterGroup\n\ttitle = Fly above 1000m for 3 minutes.\n\t\n\tPARAMETER\n\t{\n\t\tname = Has Crew\n\t\ttype = HasCrew\n\t\tminCrew = 1\n\t\ttitle = Have at least 1 crewmember on board\n\t}\n\n\tPARAMETER\n\t{\n\t\tname = holdAltitude\n\t\ttype = ReachState\n\t\tminAltitude = 1000\n\t\tsituation = FLYING\n\t\t\n\t\tdisableOnStateChange = true\n\t\t\n\t\tPARAMETER\n\t\t{\n\t\t\tname = Duration\n\t\t\ttype = Duration\n\t\t\tduration = 3m\n\t\t\tpreWaitText = Reach 1000m.\n\t\t\twaitingText = Hold above 1000m for 3 minutes.\n\t\t\tcompletedText = You did it!\n\t\t}\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MinchinWeb","CreatedById":218725,"CreatedDateTime":"2024-05-20T03:35:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222661336\u0022 data-ipsquote-contentid=\u002291625\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467663949\u0022 data-ipsquote-userid=\u0022119307\u0022 data-ipsquote-username=\u0022nightingale\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/4/2016 at 2:25 PM, nightingale said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think I know what it is - it\u0027s because of the way \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/69310-inigma/\u0026amp;do=hovercard\u0022 data-mentionid=\u002269310\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/69310-inigma/\u0022 rel=\u0022\u0022\u003E@inigma\u003C/a\u003E\u00A0set up the contracts with the vessel tracking. \u00A0I\u0027m willing to bet that it\u0027s tracking some old vessel (maybe one that doesn\u0027t exist any more).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is a long standing issue with the Sounding Rockets contract pack. Is there a better way to do vessel tracking? I would love to update the contract pack and get this resolved once and for all, but I need some pointers on how to go about that.\n\u003C/p\u003E\n\u003Cp\u003E\nConceptually, the idea is to require the rocket to use the Sounding Rockets\u0027 Avionics Package and to start with (but not be required to finish with) one of the two Sounding Rockets\u0027 boosters.\n\u003C/p\u003E\n\u003Cp\u003E\nThe current WIP code is here --\u0026gt; \u003Ca href=\u0022https://github.com/MinchinWeb/ksp-ContractPack-SoundingRockets/blob/retry/Core/KSP-SR-2000m.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MinchinWeb/ksp-ContractPack-SoundingRockets/blob/retry/Core/KSP-SR-2000m.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMany thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"stk2008","CreatedById":162264,"CreatedDateTime":"2024-05-21T22:55:50Z","Content":"\n\u003Cp\u003E\nis contracts suppose to place a waypoint if you also have waypoint manager installed?\u003Cbr\u003E\nI see no waypoint for this.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cimg alt=\u0022QSAu5gy.jpeg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u0022750\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/QSAu5gy.jpeg\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNow unlike you smart lot I never knew what hadopelagic meant so googled it and it means deepest part of ocean?.\u003Cbr\u003E\nbut in the contract window it says about orbiting kerbin so I am very confused how you can be orbiting Kerbin and also be in the deepest part of the ocean at the same time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPlease advise \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/span\u003E\u003Cbr\u003E\nthanks in advance\u003Cbr\u003E\n\u003Cbr\u003E\nP.S\u003Cbr\u003E\n\u003Cbr\u003E\nI think my install may be bugged or a few contracts I am using are bugged because I also had a contact to scan and transmit the data from a baobab tree which I did with the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E-E arm but never completes the transmit part always stays at 0% even though it clearly sent VIA the message at top left.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-05-21T22:59:29Z\u0022 title=\u002205/21/2024 10:59  PM\u0022 data-short=\u0022May 21\u0022\u003EMay 21\u003C/time\u003E by stk2008\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ooglak Kerman","CreatedById":218195,"CreatedDateTime":"2024-06-05T04:49:26Z","Content":"\n\u003Cp\u003E\nAnyone know if it is possible to access the state of a contract - I.E. contract complete - from ModuleManager?\u003Cbr\u003E\n\u003Cbr\u003E\nWhat I\u0027m looking to do is to change the true | false of a PQSCities property if a specific contract has been completed.\u00A0 I understand that I need to be able to access that PQSCities property.\u00A0 I\u0027m approaching this from both ends at this point.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}