{"TopicId":33129,"ForumId":15,"TopicTitle":"Engine FX on Custom Model","CreatedByName":"Bobtehpwnz0r","CreatedById":70349,"CreatedDateTime":"2013-06-15T16:21:12Z","PageNum":1,"Articles":[{"CreatedByName":"Bobtehpwnz0r","CreatedById":70349,"CreatedDateTime":"2013-06-15T16:21:12Z","Content":"\n\u003Cp\u003EI am generating a monopropellant engine as a learning exercise. I have been able to create a model in blender, import it to unity, and export it out via part tools to the GameData folder. The part loads and attaches as expected. Everything appears to be working except that the engine effects do not show and the engine seems not to generate any thrust even though it uses the monopropellant. I have beat my head on this and have absolutely no idea why. Any suggestions would be appreciated. here\u0027s the config\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003Ename = FI_monoEngine\u003Cbr\u003Emodule = Part\u003Cbr\u003Eauthor = Fuzzi\u003Cbr\u003Emesh = model.mu\u003Cbr\u003Escale = 1\u003Cbr\u003ErescaleFactor = 1.25\u003Cbr\u003E\u003Cbr\u003Enode_attach = 0.0, 0.15, -0.0666, 0.0, 0.0, 0.0\u003Cbr\u003E\u003Cbr\u003Efx_exhaustFlame_yellow_tiny = 0.0, 0, 0, 0.0, 1.0, 0.0, running\u003Cbr\u003Efx_exhaustLight_yellow = 0.0, 0, 0.0, 0.0, 0.0, 1.0, running\u003Cbr\u003E\u003Cbr\u003Esound_vent_medium = engage\u003Cbr\u003Esound_rocket_mini = running\u003Cbr\u003Esound_vent_soft = disengage\u003Cbr\u003Esound_explosion_low = flameout\u003Cbr\u003E\u003Cbr\u003Ecost = 340\u003Cbr\u003Ecategory = Control\u003Cbr\u003Esubcategory = 0\u003Cbr\u003Etitle = FI-10\u003Cbr\u003Emanufacturer = Fuzzi\u003Cbr\u003Edescription = This tiny engine runs on monopropellent and is perfect for small probes.\u003Cbr\u003E\u003Cbr\u003EattachRules = 0,1,0,1,0\u003Cbr\u003E\u003Cbr\u003Emass = 0.2\u003Cbr\u003EdragModelType = default\u003Cbr\u003Emaximum_drag = 0.1\u003Cbr\u003Eminimum_drag = 0.1\u003Cbr\u003EangularDrag = 0.1\u003Cbr\u003EcrashTolerance = 7\u003Cbr\u003EbreakingForce = 50\u003Cbr\u003EbreakingTorque = 100\u003Cbr\u003EmaxTemp = 1800\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleEngines\u003Cbr\u003E\tthrustVectorTransformName = thrustTransform\u003Cbr\u003E\texhaustDamage = True\u003Cbr\u003E\tignitionThreshold = 0.1\u003Cbr\u003E\tminThrust = 0\u003Cbr\u003E\tmaxThrust = 10\u003Cbr\u003E\theatProduction = 10\u003Cbr\u003E\tfxOffset = 0, 0, 0.01\u003Cbr\u003E\tPROPELLANT\u003Cbr\u003E\t{\u003Cbr\u003E\t \tname = MonoPropellant\u003Cbr\u003E\t\tratio = 1\u003Cbr\u003E\t\tDrawGauge = True\u003Cbr\u003E\t}\u003Cbr\u003E\tatmosphereCurve\u003Cbr\u003E \t{\u003Cbr\u003E   \t key = 0 290\u003Cbr\u003E  \t key = 1 100\u003Cbr\u003E \t}\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleGimbal\u003Cbr\u003E\tgimbalTransformName = thrustTransform\u003Cbr\u003E\tgimbalRange = 1\u003Cbr\u003E\tuseGimbalResponseSpeed = true\u003Cbr\u003E\tGimbalResponseSpeed = 0.1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"hoojiwana","CreatedById":57079,"CreatedDateTime":"2013-06-15T19:34:08Z","Content":"\n\u003Cp\u003EYour config looks fine, it sounds like you need to add a thrustTransform in Unity. Make an empty game object, rename it thrustTransform and place it exactly where you want thrust to be generated from. Then rotate it so the blue arrow is facing the direction of thrust. Here\u0027s an example image:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/JXXI6WV.jpg\u0022 alt=\u0022JXXI6WV.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Bobtehpwnz0r","CreatedById":70349,"CreatedDateTime":"2013-06-16T12:15:23Z","Content":"\n\u003Cp\u003EThank you for the tip. That was indeed my problem. Now that I know the basic flow I can move on to learning.\u003C/p\u003E\n"},{"CreatedByName":"Bobtehpwnz0r","CreatedById":70349,"CreatedDateTime":"2013-06-16T13:32:20Z","Content":"\n\u003Cp\u003ECan \u0027t figure this out. I created the empty game object, positioned it and renamed it exactly as indicated in your image. The effects now appear and the thrust is generated as expected. But for some reason the part seems to ignore all positioning in the \u003C/p\u003E\u003Cp\u003Efx_exhaustFlame_yellow_tiny = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, running\u003C/p\u003E\u003Cp\u003Efx_exhaustLight_yellow = 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/p\u003E\u003Cp\u003EI have changed them to a variety of values and cannot find any change in the positioning. Different effects appear if i change them to say fx_gasJet_white.\u003C/p\u003E\n"},{"CreatedByName":"TouhouTorpedo","CreatedById":30603,"CreatedDateTime":"2013-06-17T22:51:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bobtehpwnz0r\u0022 data-cite=\u0022Bobtehpwnz0r\u0022\u003E\u003Cdiv\u003ECan \u0027t figure this out. I created the empty game object, positioned it and renamed it exactly as indicated in your image. The effects now appear and the thrust is generated as expected. But for some reason the part seems to ignore all positioning in the \u003Cp\u003Efx_exhaustFlame_yellow_tiny = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, running\u003C/p\u003E\u003Cp\u003Efx_exhaustLight_yellow = 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, running\u003C/p\u003E\u003Cp\u003EI have changed them to a variety of values and cannot find any change in the positioning. Different effects appear if i change them to say fx_gasJet_white.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah to my understanding it no longer works like that. I beleive the new command is fxOffset. Check the liquidengine2 cfg as I beleive that uses it. alter the value of that and it changes where the FX will appear relative to each engine nozzle.\u003C/p\u003E\n"},{"CreatedByName":"stubbles","CreatedById":36867,"CreatedDateTime":"2013-08-04T00:14:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TouhouTorpedo\u0022 data-cite=\u0022TouhouTorpedo\u0022\u003E\u003Cdiv\u003EI beleive the new command is fxOffset. Check the liquidengine2 cfg as I beleive that uses it. alter the value of that and it changes where the FX will appear relative to each engine nozzle.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is \u003Cstrong\u003Eextremely\u003C/strong\u003E limiting to what we can do visually, then. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EWe can\u0027t offset smoke from flameFX, so smoke comes directly out of the engine fullsize, instead of further down the exhaust line. We also can no longer have different FX for different nozzles within the same engine part. Since it all reads off the one thrustTransform, it\u0027s all tied to one node, which is ridiculous.\u003C/p\u003E\u003Cp\u003EI have an engine block with 5 nozzles on it - one main and 4 smaller supplementary that gimbal. Before, I could fake it visually at least with the FX offsetting, but now it\u0027s impossible to pull off the effect. I can put another thrustTransform on the part, which works physically, but ends up having no FX at all. I can rename those to thrustTransform but it then loses it\u0027s own settings and then shares the same FX as the main nozzle :|\u003C/p\u003E\n"},{"CreatedByName":"Zaeo","CreatedById":52597,"CreatedDateTime":"2013-08-04T02:55:16Z","Content":"\n\u003Cp\u003Eyou can name thrust transform *to my knowledge* to ANYTHING you want, be it thrust, transform, stars, little_green_men whatever floats your boat, if it is called in the config file. I have my light module set up like this, for example\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = backlight\u003C/p\u003E\u003Cp\u003E lightName = light2\u003C/p\u003E\u003Cp\u003E useAnimationDim = true\u003C/p\u003E\u003Cp\u003E lightBrightenSpeed = 2.5\u003C/p\u003E\u003Cp\u003E lightDimSpeed = 2.5\u003C/p\u003E\u003Cp\u003E //resourceAmount = 0.04\u003C/p\u003E\u003Cp\u003E animationName = recanim\u003C/p\u003E\u003Cp\u003E useResources = false\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleLight\u003C/p\u003E\u003Cp\u003E lightName = light\u003C/p\u003E\u003Cp\u003E useAnimationDim = true\u003C/p\u003E\u003Cp\u003E lightBrightenSpeed = 2.5\u003C/p\u003E\u003Cp\u003E lightDimSpeed = 2.5\u003C/p\u003E\u003Cp\u003E resourceAmount = 0.04\u003C/p\u003E\u003Cp\u003E animationName = recanim\u003C/p\u003E\u003Cp\u003E useResources = true\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EI had to call it twice, as this particular light faced the opposite direction to simulate a point light with far range that didn\u0027t illuminate every part within the point radius, including parts behind the light. There is a small drawback with this design, that it will heavily illuminate an object that\u0027s within less than a centimeter away...\u003C/p\u003E\u003Cp\u003Elight and light2 are two separate unity entities that are a child of the main model. the reason the first one is named \u0022backlight\u0022 vs \u0022module light\u0022 is because it called a hard coded value to show the radial menu for the light on off switch. changing that name stopped that from being called, whilst giving me the ability to have a plugin call that for any other reason to use it.\u003C/p\u003E\u003Cp\u003Efor the engine\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleEngines\u003C/p\u003E\u003Cp\u003E thrustVectorTransformName = *thrustTransform*\u0022Replace with whatever you want\u0022\u003C/p\u003E\u003Cp\u003E exhaustDamage = True\u003C/p\u003E\u003Cp\u003E ignitionThreshold = 0.1\u003C/p\u003E\u003Cp\u003E minThrust = 0\u003C/p\u003E\u003Cp\u003E maxThrust = 50\u003C/p\u003E\u003Cp\u003E heatProduction = 300\u003C/p\u003E\u003Cp\u003E fxOffset = 0, 0, 0.21\u003C/p\u003E\u003Cp\u003E PROPELLANT\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = LiquidFuel\u003C/p\u003E\u003Cp\u003E ratio = 0.9\u003C/p\u003E\u003Cp\u003E DrawGauge = True\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E PROPELLANT\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = Oxidizer\u003C/p\u003E\u003Cp\u003E ratio = 1.1\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E atmosphereCurve\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E key = 0 390\u003C/p\u003E\u003Cp\u003E key = 1 300\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E name = Insert random name here\u003C/p\u003E\u003Cp\u003E thrustVectorTransformName = *insert unity transform here*\u0022Replace with whatever you want\u0022\u003C/p\u003E\u003Cp\u003E exhaustDamage = false\u003C/p\u003E\u003Cp\u003E ignitionThreshold = 0.1\u003C/p\u003E\u003Cp\u003E minThrust = 0\u003C/p\u003E\u003Cp\u003E maxThrust = 0\u003C/p\u003E\u003Cp\u003E heatProduction = 0\u003C/p\u003E\u003Cp\u003E fxOffset = 0, 0.2 , 0.36\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-04T02:59:39Z\u0022 title=\u002208/04/2013 02:59  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 4, 2013\u003C/time\u003E by Zaeo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}