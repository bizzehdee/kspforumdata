{"TopicId":76313,"ForumId":20,"TopicTitle":"KSP \u002B Source Control","CreatedByName":"NGTOne","CreatedById":55972,"CreatedDateTime":"2014-06-30T05:14:55Z","PageNum":1,"Articles":[{"CreatedByName":"NGTOne","CreatedById":55972,"CreatedDateTime":"2014-06-30T05:14:55Z","Content":"\n\u003Cp\u003EOK, so first some background:\u003C/p\u003E\u003Cp\u003EI\u0027m a software developer when I\u0027m not playing KSP, so I\u0027m very familiar with source control systems (SCS), which provide a way for managing, tracking, and reverting changes in text files (usually code).\u003C/p\u003E\u003Cp\u003EI was recently struck by a brainwave - why not apply such a methodology to KSP? After all, savefiles and craft files are nothing but big globs of text. Using an SCS (in my case, git) allows me to both keep a history of changes to my ships (important for my big projects), and mitigate the effects of savefile/craft file corruption (which I encounter on occasion).\u003C/p\u003E\u003Cp\u003EIt actually works really nicely, too - the question I want to ask everyone else is, is this insane? And has anyone tried something like this before?\u003C/p\u003E\n"},{"CreatedByName":"Roastduck","CreatedById":98490,"CreatedDateTime":"2014-06-30T05:17:52Z","Content":"\n\u003Cp\u003EDo you mean apart from the vast history of modders using github?\u003C/p\u003E\n"},{"CreatedByName":"allmhuran","CreatedById":66124,"CreatedDateTime":"2014-06-30T05:22:29Z","Content":"\n\u003Cp\u003EI don\u0027t think that\u0027s insane at all. It would not be too difficult to scrape your relevant KSP subdirectories and dump them into revision control.\u003C/p\u003E\u003Cp\u003EI can see three fairly simple mechanisms one could use to decide when to do a scrape and dump:\u003C/p\u003E\u003Cp\u003E1) On a set schedule, eg, every x minutes, or every x minutes if the KSP process is running.\u003C/p\u003E\u003Cp\u003E2) On demand (user initiated). Doing this from within the game would require a mod\u003C/p\u003E\u003Cp\u003E3) Whenever an eligible file changes on disk (\u0022eligible file\u0022 meaning ship files and save files matching whatever filters you like - such as excluding the persistence file). \u003C/p\u003E\u003Cp\u003E3 is the one I\u0027d go with.\u003C/p\u003E\n"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2014-06-30T07:27:49Z","Content":"\n\u003Cp\u003EHave a look at\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66216-0-23-GitCraft-v0-9b2-craft-revision-management-using-Git\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/66216-0-23-GitCraft-v0-9b2-craft-revision-management-using-Git\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eand\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72212-Jebretary-Automatic-Version-Control-%28backups%29-for-craft-and-saves-v0-3-2\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/72212-Jebretary-Automatic-Version-Control-%28backups%29-for-craft-and-saves-v0-3-2\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2014-06-30T11:07:59Z","Content":"\n\u003Cp\u003ENo this is not insane at all. I\u0027ve used git in KSP for a long time now (since 0.18 I think) and it doesn\u0027t cause KSP any issues. I initialise my git repos inside each campaign and KSP does not care about the hidden git files being there. \u003C/p\u003E\u003Cp\u003EInfact it is so sane that I\u0027ve written a program that automates the process and does all the git stuff for you, so someone who knows nothing about git can still benifit from it and so you don\u0027t have to remember to commit new versions.\u003C/p\u003E\u003Cp\u003EThe program is called Jebretary and you \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72212-Jebretary-Automatic-Version-Control-for-craft-and-saves\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ecan download it here.\u003C/strong\u003E\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E(thanks @mhoram for mentioning it already)\u003C/p\u003E\u003Cp\u003EIt runs as a web server on your KSP machine which means you can interface with it from any device on your network (ie tablet, 2nd laptop) and it can manage multiple installs of KSP. \u003C/p\u003E\u003Cp\u003EIt tracks changes to craft, subassembles and the persistent and quicksave files. With the save files, every single change is tracked and it enables you to load a previous autosave as a quicksave (so you can load it with f9 in KSP). The craft files are tracked at each launch or your can force a new version manually. Tracking the versions at launch means that it automatically saves each version that you deemed was worthy of being launched. \u003C/p\u003E\u003Cp\u003EIf you delete a craft Jebretary will record it as deleted and allow you to restore it later if you want. You can also write notes about the changes you\u0027ve made for the craft and save files (helps when looking for a version to go back to, and means you have a development history log for each craft) and Jebretary will tell you information about the parts for each craft and can determine which mods a particular craft uses or if a craft is missing parts. \u003C/p\u003E\u003Cp\u003EOne of the things that makes git so great for this is perhaps something that git familliars take forgranted, but people who don\u0027t know it may not realise; git only tracks the difference between versions. So (for the non-git folk) this means that git only stores the lines of a file that have changed, rather than storing the entire file with each version. A persistent or quicksave file can be 8mb\u002B in a save with lots of inflight craft, but each time it changes its a relatively small part of the file that changes, as git only stores the individual changed lines it is much more space efficient than simply taking a copy of the file with each version.\u003C/p\u003E\n"},{"CreatedByName":"shadowsutekh","CreatedById":55189,"CreatedDateTime":"2014-06-30T13:44:17Z","Content":"\n\u003Cp\u003EMoved to add on affairs. Feel free to keep discussion going!\u003C/p\u003E\n"},{"CreatedByName":"hooptiej","CreatedById":102760,"CreatedDateTime":"2014-07-02T03:34:22Z","Content":"\n\u003Cp\u003Ei .. actually use git to manage my KOs scripts, i thought about it for .craft files, but i was kinda waiting for a parser for crafts that has yet to materialize..\u003C/p\u003E\n"},{"CreatedByName":"avivey","CreatedById":98217,"CreatedDateTime":"2014-07-02T05:20:23Z","Content":"\n\u003Cp\u003EI git my entire ksp dir, including saves, ships and plugins and some configs.\u003C/p\u003E\u003Cp\u003EI do it from the git cli, just like with code.\u003C/p\u003E\u003Cp\u003EFor ships, I iterate, test and commit with updates \u002B message.\u003C/p\u003E\u003Cp\u003EFor saves, I commit about once per session, with relevant configs (mostly alarm clock and notes). This saves things in case of plugins destroying the save, or in case of me destroying the save.\u003C/p\u003E\u003Cp\u003EFor plugins, I commit each plugin separately each version. I sometimes trim parts from plugins, and this way I can easily get them back.\u003C/p\u003E\u003Cp\u003EI only exclude \u0022unimportant\u0022 settings (window positions for plugins, etc), scenarios, and the raw game (KSP_Data, ksp.exe, launcher)... And I might decide to commit those too at some point.\u003C/p\u003E\n"},{"CreatedByName":"O-Doc","CreatedById":95453,"CreatedDateTime":"2014-07-02T16:56:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hooptiej\u0022 data-cite=\u0022hooptiej\u0022\u003E\u003Cdiv\u003Ei .. actually use git to manage my KOs scripts, i thought about it for .craft files, but i was kinda waiting for a parser for crafts that has yet to materialize..\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is something I\u0027ve \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/70861-Craft-Part-Module-Parser\u0022 rel=\u0022external nofollow\u0022\u003Eindicated interest in developing.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMy basic goal with that project would be to form the basis of three modules.\u003C/p\u003E\u003Cp\u003E1. A module that tracks the craft versions throughout it\u0027s flight and you can bring up a model showing all craft versions inside the build interface. This would be useful for \u0022debugging\u0022 \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Efireworks\u003C/span\u003E crafts that don\u0027t make orbit.\u003C/p\u003E\u003Cp\u003E2. An orbital factory module that takes resources(like from Kethane or something else) and builds parts and assembles them into crafts. What you can build depends on the configuration of the factory. That\u0027s part of my evil plan to turn KSP into an RTS. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E3. In-build/In-fight tree selector so you can pass commands(tweaks, etc) to parts of type within a section of the craft tree. This is for extending kOS, mechjeb and a bunch of other mods.\u003C/p\u003E\u003Cp\u003EI\u0027m definitely up for a collaboration but, not going to do this solo(yet) on account of doing a majiir challenge repo website. I hope this is not considered thread hijacking...\u003C/p\u003E\n"}]}