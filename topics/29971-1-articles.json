{"TopicId":29971,"ForumId":44,"TopicTitle":"[Maths / Physics] Equation of an orbit","CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-29T10:30:08Z","PageNum":1,"Articles":[{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-29T10:30:08Z","Content":"\n\u003Cp\u003EHello everybody !\u003C/p\u003E\u003Cp\u003EI\u0027m developping a small smartphone 2D game for my end of year project, and I\u0027m blocked because of my little maths knowledge.\u003C/p\u003E\u003Cp\u003EI knew I should have been more present in physics class... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo, here are my problems :\u003C/p\u003E\u003Cp\u003EI\u0027ve got a star with mass and a \u0022circle\u0022 of influence (we\u0027re talking 2D here \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E ), defined as the center (x=0, y=0).\u003C/p\u003E\u003Cp\u003EI\u0027ve got several objects with mass, coordinates (Xo,Yo) and a speed vector defined by its coordinates (Xv,Yv).\u003C/p\u003E\u003Cp\u003E1. Is it possible for the objects to achieve stable orbit around the star ? Or will I need to tweak reality a bit ?\u003C/p\u003E\u003Cp\u003E2. What is the way to calculate the new coordinates of the object\u0027s vector once it is inside the star circle of influence ?\u003C/p\u003E\u003Cp\u003EI figured here was the best place to ask \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThank you for your answers, I\u0027m looking forward to them.\u003C/p\u003E\u003Cp\u003EPS: Also, if anyone got any idea about a possible gameplay and a way to use the phone captors (accelerometer, inclinometer, screen touch, etc), I\u0027m all ears.\u003C/p\u003E\u003Cp\u003EI\u0027ve already planned to implement some kind of solar storm shot by the player to \u0022eat\u0022 the objects it crosses and make your star bigger \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-29T10:36:50Z\u0022 title=\u002205/29/2013 10:36  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 29, 2013\u003C/time\u003E by grawl\u003C/strong\u003E\n\u003Cbr\u003EPost Scriptum\n\u003C/span\u003E\n"},{"CreatedByName":"Karriz","CreatedById":58036,"CreatedDateTime":"2013-05-29T11:52:42Z","Content":"\n\u003Cp\u003EThis is fairly easy to achieve with a physics engine such as Box2d. Are you supposed to code your own physics for the project?\u003C/p\u003E\u003Cp\u003EI\u0027m playing around with the idea of an \u0022realistic\u0022 2d space game, and this helped me a lot to get started: \u003Ca href=\u0022http://appcodingeasy.com/Gideros-Mobile/Gideros--Box2d-magnets\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://appcodingeasy.com/Gideros-Mobile/Gideros--Box2d-magnets\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou have to calculate the vector between two points, which is basically x2-x1, y2-y1. It\u0027s also a good idea to calculate the distance between the objects, so that the strenght of gravity varies depending on it.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-29T15:32:35Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003EThe thing is I don\u0027t use a physics engine. I want to code everything by myself \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I know it might not be a good idea, but I don\u0027t got the time to learn how to work with an engine.\u003C/p\u003E\u003Cp\u003EWhat I need is more something like a list of formulaes defining speed and trajectory (I think that\u0027s all I need) of an object in orbit.\u003C/p\u003E\u003Cp\u003ELike a speeded-up physics course \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf this isn\u0027t successful, I already have a backup plan, that is making a 2D game with sprites where you have to avoid moving objects in the sky with your rocket, then go to a space station (I havn\u0027t defined yet how you could \u0022go to the space station\u0022).\u003C/p\u003E\u003Cp\u003EEither way I\u0027ll call it \u0022Cnam Space Project\u0022 (my school is called Cnam). I think you\u0027ll catch the reference \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E .\u003C/p\u003E\n"},{"CreatedByName":"EatThePath","CreatedById":123,"CreatedDateTime":"2013-05-29T16:55:35Z","Content":"\n\u003Cp\u003EThe simplest way is to calculate the forces acting on an object(look up the proper equations for gravity and whatever else is involved) every frame, update it\u0027s velocity(velocity=velocity\u002Bacceleration*time), and then update it\u0027s position(position=position\u002Bvelocity*time).\u003C/p\u003E\u003Cp\u003EThere are more complex methods that achieve better accuracy and stability, but they aren\u0027t always necessary. To find relatively stable orbits to work with, look up the math for kepler orbits. From that you can get the starting velocities you need for orbits of given shapes.\u003C/p\u003E\u003Cp\u003EThough from the game you describe, I\u0027m not sure if realistic orbital mechanics would necessarily serve your gameplay best.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-29T17:25:50Z","Content":"\n\u003Cp\u003EI\u0027ve been following an accelerated course in Kepler\u0027s Law programming applications \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m studying the Verlet loop right now.\u003C/p\u003E\u003Cp\u003E[edit]\u003C/p\u003E\u003Cp\u003EI think I might have got it.\u003C/p\u003E\u003Cp\u003EGoing back to the working bench now...\u003C/p\u003E\u003Cp\u003EKeep posting your ideas and thoughts, I\u0027ll be back with results ! (hopefuly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 alt=\u0022:sealed:\u0022\u003E )\u003C/p\u003E\u003Cp\u003EAnd more questions (surely \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\u003Cp\u003E[/edit]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-29T17:34:27Z\u0022 title=\u002205/29/2013 05:34  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 29, 2013\u003C/time\u003E by grawl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-29T21:42:09Z","Content":"\n\u003Cp\u003ESuccess !\u003C/p\u003E\u003Cp\u003EI\u0027ve successfuly implemented the so called \u0022Verlet Algorythm\u0022 in my little app.\u003C/p\u003E\u003Cp\u003EI am still trying to play with the parameters to get a enjoyable result. I\u0027ve only tried an higher Star mass for now, but I still get a lot of planets going out of screen\u003C/p\u003E\u003Cp\u003EDo you have any ideas?\u003C/p\u003E\u003Cp\u003EHere is a piece of the code I wrote.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E \u003Cp\u003Estatic void nextOrbit(Planet planet){\u003C/p\u003E\u003Cp\u003E double xPlayer=Player.getX(); //Star position X\u003C/p\u003E\u003Cp\u003E double yPlayer=Player.getY(); //Star position Y\u003C/p\u003E\u003Cp\u003E double dt = 1; //Time factor\u003C/p\u003E\u003Cp\u003E double dt_2 = dt / 2; // Used for the Verlet algorythm\u003C/p\u003E\u003Cp\u003E double GM = 160; // g times mass of something.\u003C/p\u003E\u003Cp\u003E double vx = o.vectX; // x-component of the velocity\u003C/p\u003E\u003Cp\u003E double vy = o.vectY; // y-component of the velocity\u003C/p\u003E\u003Cp\u003E double x = o.posX- xPlayer; //x planet position relative to star\u003C/p\u003E\u003Cp\u003E double y = o.posY - yPlayer; // y panet position relative to star\u003C/p\u003E\u003Cp\u003E //Verlet loop \u003C/p\u003E\u003Cp\u003E x \u002B= vx * dt_2;\u003C/p\u003E\u003Cp\u003E y \u002B= vy * dt_2;\u003C/p\u003E\u003Cp\u003E double r = Math.sqrt(x*x \u002B y*y);\u003C/p\u003E\u003Cp\u003E double r3 = r*r*r;\u003C/p\u003E\u003Cp\u003E double ax = -GM * x / r3;\u003C/p\u003E\u003Cp\u003E double ay = -GM * y / r3;\u003C/p\u003E\u003Cp\u003E vx \u002B= ax * dt;\u003C/p\u003E\u003Cp\u003E vy \u002B= ay * dt;\u003C/p\u003E\u003Cp\u003E x \u002B= vx * dt_2;\u003C/p\u003E\u003Cp\u003E y \u002B= vy * dt_2;\u003C/p\u003E\u003Cp\u003E planet.posX=x\u002B xPlayer;\u003C/p\u003E\u003Cp\u003E planet.posY=y\u002B yPlayer;\u003C/p\u003E\u003Cp\u003E planet.vectX=vx;\u003C/p\u003E\u003Cp\u003E planet.vectY=vy;\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-05-29T23:02:40Z","Content":"\n\u003Cp\u003EKeep in mind that Verlet integration is very bad at gravity. Comparatively so, of course. But you should definitely check yourself. Put a single object orbiting a star/planet and run your simulation. But also, draw the ellipse that shows what the trajectory should be like. See if after a few turns around the star/planet your object stays on the correct trajectory. If not, you\u0027ll need to decrease dt.\u003C/p\u003E\u003Cp\u003EP.S. Your Verlet loop has a slightly different structure than I\u0027m used to, but this might be just another way of writing the same thing. I\u0027ll have to sit down and check it with a piece of paper.\u003C/p\u003E\u003Cp\u003EEdit: Actually, I\u0027m almost certain that you are doing Forward Euler instead of Verlet. Did you copy the algorithm from somewhere?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-29T23:11:26Z\u0022 title=\u002205/29/2013 11:11  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 29, 2013\u003C/time\u003E by K^2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-30T06:54:34Z","Content":"\n\u003Cp\u003EI did copy the algorithm from a python based program simulating the orbit of a planet around the sun.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.longwood.edu/staff/dunningrb/research/vpython/kepler_12.html\u0022 rel=\u0022external nofollow\u0022\u003EHere it is.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWhat are the differencies between forward Euler and Verlet loop methods ? Any method more stable than the other?\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-05-30T07:37:27Z","Content":"\n\u003Cp\u003EVerlet is second order and Forward Euler is first order. They both solve the same problem and both can be equally precise, but the size of the step, usually, has to be smaller with Forward Euler to achieve the same precision.\u003C/p\u003E\u003Cp\u003EThere is one more advantage of Verlet integration which is responsible for its popularity. It\u0027s really good at conserving energy in harmonic interactions. Basically, if you simulate collision between two objects by pretending that there is a spring between them that starts pushing objects apart as they get closer, Verlet integration is much better as it almost guarantees that energy is conserved. With Forward Euler you tend to end up with energy building up in the system. So if you ever see a pool simulation where the billiards seem to bounce off faster than they should, and things getting really chaotic when multiple billiards collide, that\u0027s probably because the wrong integration method was used. Verlet cleans that stuff right up.\u003C/p\u003E\u003Cp\u003EWith gravity, both methods tend to cause energy accumulation over time. And there is no general solution to that problem. It\u0027s extremely challenging to build a true simulation of gravitational interaction. The algorithms used by NASA can get rather complex because they need to be able to predict motion of asteroids with very high precision.\u003C/p\u003E\u003Cp\u003EFor a game, that\u0027s not as big of a deal until you start having a lot of objects interacting with each other. If you\u0027ll have some spare time, I suggest you try writing a galaxy simulation. You\u0027ll see what I\u0027m talking about. But when you just a few satellites around a star/planet, it\u0027s not so bad. Either method can be made to work. What you have up there will definitely give you the right answer. It\u0027s just worth testing it against an exact solution to see how small you need to make your dt. And if you can improve a bit on that by using a second order method, why not?\u003C/p\u003E\u003Cp\u003EI\u0027ll take a look at the code you linked to when I have a bit more time, and I\u0027ll see if there is an error there or whatnot. But like I said, what you have right now isn\u0027t actually wrong. It should work, and you seem to indicate that it does.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-30T08:28:30Z","Content":"\n\u003Cp\u003EI definitely get the behavior you\u0027re describing (energy accumulation). I\u0027ll check my dt when I have the time (I\u0027m at work right now, away from my beloved eclipse \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E lol)\u003C/p\u003E\u003Cp\u003EOne more question though, how can I define the semi-major axis and the eccentricity based on the position / speed vector of a point of this ellipse ?\u003C/p\u003E\u003Cp\u003EBasically, I got the tangent, how can I find the ellipse itself using it ?\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-05-30T09:53:47Z","Content":"\n\u003Cp\u003ESimplest way is to compute specific energy and specific angular momentum. (Specific just means per unit of mass. So I\u0027ll drop m from all of the subsequent equations.) These quantities are conserved throughout the trajectory and together they fully define an orbit. Here is a bit more detail. The coordinates, x and y, are relative to star. So is distance r = sqrt(x\u00C3\u201A\u00C2\u00B2 \u002B y\u00C3\u201A\u00C2\u00B2).\u003C/p\u003E\u003Cp\u003EEnergy = (1/2)(v\u003Csub\u003Ex\u003C/sub\u003E\u00C3\u201A\u00C2\u00B2 \u002B v\u003Csub\u003Ey\u003C/sub\u003E\u00C3\u201A\u00C2\u00B2) - GM/r [This is kinetic \u002B potential energy per unit mass.]\u003C/p\u003E\u003Cp\u003EAngular Momentum = x * v\u003Csub\u003Ey\u003C/sub\u003E - y * v\u003Csub\u003Ex\u003C/sub\u003E [A.M. is given by cross product.]\u003C/p\u003E\u003Cp\u003EIt\u0027s also very easy to express these two quantities in terms of periapsis and apoapsis. Let me call these r\u003Csub\u003Ep\u003C/sub\u003E and r\u003Csub\u003Ea\u003C/sub\u003E respectively. In that case:\u003C/p\u003E\u003Cp\u003EEnergy = - GM/(r\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E)\u003C/p\u003E\u003Cp\u003EAngular Momentum = sqrt(2GM * r\u003Csub\u003Ea\u003C/sub\u003E * r\u003Csub\u003Eb\u003C/sub\u003E / (r\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Eb\u003C/sub\u003E) )\u003C/p\u003E\u003Cp\u003EFinally, once you solve for the apsides, semi-major axis is just (r\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E)/2, and eccentricity is (r\u003Csub\u003Ea\u003C/sub\u003E - r\u003Csub\u003Ep\u003C/sub\u003E)/(r\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E).\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-30T11:43:56Z","Content":"\n\u003Cp\u003EThank you for your explanations !\u003C/p\u003E\u003Cp\u003EIt is all clear in my mind now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI can\u0027t wait to try this out later.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-05-31T23:42:49Z","Content":"\n\u003Cp\u003ESo, here I am, back with results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EK^2, I did not use your equations, as the model I have is quite stable now. I tweaked the GM value, the initial speeds and positions of my objects. I\u0027ve put GM at 300 (!) I also tweaked a bit the dt value as you suggested. I\u0027m still playing with it between 0.8 and 1.5, and get satisfying reuslts.\u003C/p\u003E\u003Cp\u003EI\u0027ve got objects that can, in a simplified way, aggregate together (the area of the smaller one is added to the bigger one. The smaller one is disappearing and the bigger one is keeping on its course), or disappear into flames down into the Star.\u003C/p\u003E\u003Cp\u003EIt\u0027s giving me some quite stable systems after a while (less than 5 mins). My phone is struggling to manage more than 200 objects at the start. It\u0027s getting easier as the time goes, because some objects go out of the calculation zone, aggregate together or disappear into the star.\u003C/p\u003E\u003Cp\u003EI\u0027ve also seen some beautiful galaxy-shaped systems when I put a lot of planets. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I was amazed by the power of randomness \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E, and trial-error \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 alt=\u0022:rolleyes:\u0022\u003E .\u003C/p\u003E\u003Cp\u003EThe next thing I\u0027d like to do is, if it is simple enough, implement the result of the collision of an object with another on the trajectory.\u003C/p\u003E\u003Cp\u003EHow do the mass and speed of the 2 objects influence the resulting movement?\u003C/p\u003E\u003Cp\u003EMy dream would be to implement n-body physics, but I\u0027m not sure my phone would cope with it for more than a dozen objects. I want to keep my initial objects number as high as possible (the power of randomness isn\u0027t acting if there is not enough objects \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E).\u003C/p\u003E\u003Cp\u003EI think I have also found a way to use this in a \u0022playable\u0022 way.\u003C/p\u003E\u003Cp\u003EAt the start the objects would have something like \u0022matter type\u0022, or \u0022resources\u0022, if you prefer. (Dirt:3units, Water:2units, or Uranium:1unit, Stone crystal:2units, etc)\u003C/p\u003E\u003Cp\u003EThese would pile up when objects aggregate together.\u003C/p\u003E\u003Cp\u003EWhen clicking on an object, this would allow you to review the composition of your objects. If I can spend enough time on it, I think I even can do something that will tell you the possibility of life on the planet (random number multiplied by somenthing in relation to the size of the planets, the materials forming it - water or not water - , the last impact and the distance from the star).\u003C/p\u003E\u003Cp\u003EWhere can I find documentation on the guy that calculated the possibility of life in the universe?\u003C/p\u003E\u003Cp\u003EGive me your ideas !\u003C/p\u003E\u003Cp\u003EI will need a lot of resource names ideas also. The ones I thought about are a bit crappy (see for yourself up there)\u003C/p\u003E\u003Cp\u003EThanks !\u003C/p\u003E\u003Cp\u003EPS: is there any way to take screenshots on an android phone?\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-06-05T15:31:24Z","Content":"\n\u003Cp\u003EHello , it\u0027s me again !\u003C/p\u003E\u003Cp\u003EI\u0027m trying to gather some useful informations about my planets, like periapsis and apoapsis.\u003C/p\u003E\u003Cp\u003EI\u0027ve got how it works, but I always seem to miss one parameter, the eccentricity.\u003C/p\u003E\u003Cp\u003EK^2, I cannot find it based on your equations, as there is no way for me to know Ra and Rp individually.\u003C/p\u003E\u003Cp\u003EIf only I could find a way to calculate eccentricity...\u003C/p\u003E\u003Cp\u003EAll the examples I\u0027ve found on the \u0027net are with horizontal ellipses centered in the middle of a repair. Mine are not centered and not horizontal.\u003C/p\u003E\u003Cp\u003EAs you can see I\u0027m still struggling with orbital maths. I should do an internship at squad to learn more about it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Holo","CreatedById":39606,"CreatedDateTime":"2013-06-05T22:05:26Z","Content":"\n\u003Cp\u003EFor resources, you could just use the chemical elements. Silicon, oxygen etc.\u003C/p\u003E\u003Cp\u003EThe probability of life in the universe is called the Drake Equation, though you\u0027d be better off using one of the habilitity scores used here: \u003Ca href=\u0022https://en.wikipedia.org/wiki/List_of_potential_habitable_exoplanets\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/List_of_potential_habitable_exoplanets\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-06-06T04:01:40Z","Content":"\n\u003Cp\u003Egrawl, equations I have shown you can be solved for r\u003Csub\u003Ep\u003C/sub\u003E and r\u003Csub\u003Ea\u003C/sub\u003E. So again, you can easily compute E (energy) and L (angular momentum) of the body. From that follows:\u003C/p\u003E\u003Cp\u003EL\u003Csup\u003E2\u003C/sup\u003E = -2E r\u003Csub\u003Ea\u003C/sub\u003E r\u003Csub\u003Ep\u003C/sub\u003E and E = -GM/(r\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E)\u003C/p\u003E\u003Cp\u003Eor, slightly rearranged\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E = -GM/E and r\u003Csub\u003Ea\u003C/sub\u003E * r\u003Csub\u003Ep\u003C/sub\u003E = -L\u003Csup\u003E2\u003C/sup\u003E/(2E)\u003C/p\u003E\u003Cp\u003ESo you know a sum of the two quantities and you know their product. Given that, you can easily find quantities themselves. Let me define:\u003C/p\u003E\u003Cp\u003ES = -GM/E and P = -L\u003Csup\u003E2\u003C/sup\u003E/(2E) so that now:\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E \u002B r\u003Csub\u003Ep\u003C/sub\u003E = S and r\u003Csub\u003Ea\u003C/sub\u003E * r\u003Csub\u003Ep\u003C/sub\u003E = P\u003C/p\u003E\u003Cp\u003EFrom product equation, r\u003Csub\u003Ep\u003C/sub\u003E = P/r\u003Csub\u003Ea\u003C/sub\u003E, which I can now substitute into the sum equation.\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E \u002B P/r\u003Csub\u003Ea\u003C/sub\u003E = S\u003C/p\u003E\u003Cp\u003EAnd, of course, I can multiply the whole thing by r\u003Csub\u003Ea\u003C/sub\u003E and carry all the terms to one side.\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E\u003Csup\u003E2\u003C/sup\u003E - S r\u003Csub\u003Ea\u003C/sub\u003E \u002B P = 0\u003C/p\u003E\u003Cp\u003EThat\u0027s a straight forward quadratic equation which has a solution:\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E = (S \u002B/- Sqrt(S\u003Csup\u003E2\u003C/sup\u003E - 4P))/2\u003C/p\u003E\u003Cp\u003EWhy the \u002B/-? Because this particular set of equations can\u0027t distinguish between which of the two apsides is the periapsis and which is apoapsis. So you really get two for one.\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ea\u003C/sub\u003E = (S \u002B Sqrt(S\u003Csup\u003E2\u003C/sup\u003E - 4P))/2\u003C/p\u003E\u003Cp\u003Er\u003Csub\u003Ep\u003C/sub\u003E = (S - Sqrt(S\u003Csup\u003E2\u003C/sup\u003E - 4P))/2\u003C/p\u003E\u003Cp\u003EOnce you substitute the expressions for S and P back into these, you\u0027ll have equations you seek.\u003C/p\u003E\u003Cp\u003EEdit: Note that this does not tell you the angle of the line of apsides. That\u0027s a separate equation that I can run you through if you are interested.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-06-06T11:51:09Z","Content":"\n\u003Cp\u003EHaaaaa... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow I see....Easy....\u003C/p\u003E\u003Cp\u003EIt\u0027s really a long time from my last maths class \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I don\u0027t know how I could not see this possibility \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI need to rework my algorithms now, with this new insights in mind.\u003C/p\u003E\u003Cp\u003EHolo, I think I\u0027ll use a simplified version of the drake Equation, or just make one myself \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E As their accretion is randomly happening, I can\u0027t define \u0022models\u0022.\u003C/p\u003E\u003Cp\u003EI will definitely use the chemical elements to \u0022build\u0022 my planets, it is the most straightforward way to do it..\u003C/p\u003E\u003Cp\u003EThank you !\u003C/p\u003E\u003Cp\u003EIf you want to check some screenshots, go \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/33806-Geology-Planets-aggregation?p=423919\u0026amp;viewfull=1#post423919\u0022 rel=\u0022external nofollow\u0022\u003Ethere\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ll create a proper final thread with good screenies and a review of the concepts I used (if I can remember them all) when all features have been implemented and the app is near completion.\u003C/p\u003E\u003Cp\u003EDo NOT expect it to blow your mind though \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-06-06T18:49:26Z","Content":"\n\u003Cp\u003EI am trying it now.\u003C/p\u003E\u003Cp\u003EWhere does \u0022Energy = - GM/(ra \u002B rp)\u0022 comes from ?\u003C/p\u003E\u003Cp\u003EI\u0027ve been scratching my head in all sorts of ways and I don\u0027t understand \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003E[re-edit]\u003C/p\u003E\u003Cp\u003E[edit]\u003C/p\u003E\u003Cp\u003EBut it still doesn\u0027t work, I\u0027ve got S equals -Delta (Delta=sqrt(S\u00C3\u201A\u00C2\u00B2-4P)) at all times...\u003C/p\u003E\u003Cp\u003ESo the results are 0 and 2S everytime :/\u003C/p\u003E\u003Cp\u003EDo you know what symptom is that?\u003C/p\u003E\u003Cp\u003E I seem to miss a constant of some sort...\u003C/p\u003E\u003Cp\u003E[/edit]\u003C/p\u003E\u003Cp\u003EForget it, it was all my fault !\u003C/p\u003E\u003Cp\u003EIt was due to my (very) stupid way to write equations in java code \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif\u0022 alt=\u0022:0.0:\u0022\u003E Fixed it now.\u003C/p\u003E\u003Cp\u003EIt is working now, and really well !\u003C/p\u003E\u003Cp\u003EThank you very much !\u003C/p\u003E\u003Cp\u003E[/re-edit]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-06T22:10:31Z\u0022 title=\u002206/06/2013 10:10  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 6, 2013\u003C/time\u003E by grawl\u003C/strong\u003E\n\u003Cbr\u003Edigressions in edit\n\u003C/span\u003E\n"},{"CreatedByName":"K^2","CreatedById":57710,"CreatedDateTime":"2013-06-09T07:18:33Z","Content":"\n\u003Cp\u003EWithout getting into detail, E=-GM/(ra\u002Brp) is consequence of Virial Theorem.\u003C/p\u003E\n"},{"CreatedByName":"grawl","CreatedById":17329,"CreatedDateTime":"2013-06-11T08:40:33Z","Content":"\n\u003Cp\u003EOk, cool ! \u003C/p\u003E\u003Cp\u003ENow I need to start working on the UI part... boring... lol \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E but indispensable.\u003C/p\u003E\u003Cp\u003EThank you again for the time you spent explaining me this stuff, I wouldn\u0027t have made it without it.\u003C/p\u003E\n"}]}