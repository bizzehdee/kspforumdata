{"TopicId":181747,"ForumId":29,"TopicTitle":"Event for when a part prefab is loaded during game startup?","CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2019-01-27T20:19:33Z","PageNum":1,"Articles":[{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2019-01-27T20:19:33Z","Content":"\n\u003Cp\u003E\nApologies if I\u0027m missing something obvious... but how do I set up a hook to get notified when a part prefab is loading during game startup?\n\u003C/p\u003E\n\u003Cp\u003E\nFor loading a \u003Cem\u003E\u003Cu\u003EPartModule\u003C/u\u003E\u003C/em\u003E (if it\u0027s one I\u0027ve implemented), I can just override OnLoad, and then check for HighLogic.LoadedScene == GameScenes.LOADING.\n\u003C/p\u003E\n\u003Cp\u003E\nBut what about the part itself?\u00A0 e.g. as each part is loaded during startup, I want to run some code that does stuff with it.\u00A0 Where do I hook in?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for any suggestions!\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2019-02-14T05:53:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529895\u0022 data-ipsquote-contentid=\u0022181747\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548620373\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/27/2019 at 1:19 PM, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut what about the part itself?\u00A0 e.g. as each part is loaded during startup, I want to run some code that does stuff with it.\u00A0 Where do I hook in?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is no such event in the stock API that fires on a per-part basis during/after prefab creation that I\u0027m aware of.\n\u003C/p\u003E\n\u003Cp\u003E\nOff the top of my head, a few alternate solutions present themselves that might be of use, depending on the original intention.\n\u003C/p\u003E\n\u003Cp\u003E\n1.) Stock API does offer an \u0027OnGameDatabaseLoaded\u0027 event.\u00A0 Subscribe to that and iterate the loaded parts-list, running your actions/etc on them.\u00A0 Its not \u003Cem\u003Eper part\u003C/em\u003E, but does give an opportunity to manipulate prefabs before they are cloned anywhere.\u003Cbr\u003E\n2.) ModuleManager offers a post-configs-loaded callback where you could manipulate configs or run actions -before- the prefabs are created/loaded.\u003Cbr\u003E\n3.) \u003Cem\u003EDo\u003C/em\u003E use a PartModule.\u00A0 Patch/add it into the part in such a manner so as it will always be the last module, and use the PartModule\u0027s overridden life-cycle methods to manipulate the Part.\u00A0 More of a hack/workaround, but sometimes that\u0027s how it goes \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"}]}