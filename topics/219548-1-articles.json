{"TopicId":219548,"ForumId":120,"TopicTitle":"Kraken slay idea.","CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-09-18T16:08:46Z","PageNum":1,"Articles":[{"CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-09-18T16:08:46Z","Content":"\n\u003Cp\u003E\nIf you add variable for total momentum force of vessel, each moving part increases that force, game math could use that to detect if vessels momentum is growing for now reason (impacts or player inputs) and then game could actually damper those forces to their origin states. Even impacts and player inputs game could calculate how much new momentum force should be and correct and dampen anything abnormal activity. Just one variable.\n\u003C/p\u003E\n"},{"CreatedByName":"gluckez","CreatedById":226569,"CreatedDateTime":"2023-09-19T08:30:15Z","Content":"\n\u003Cp\u003E\nthat sounds a lot like a hack that would hide the underlying issue instead of actually solving the problem, and it would make it even more difficult to track the problem down and potentially raise more bugs if not implemented perfectly. it\u0027s also not just one variable, it\u0027s a system that needs to know exactly what is happening to a vessel, or a collection of game objects at any given time, measure it\u0027s momentum and apply a force in the opposite direction, unless the change in momentum is caused by a scenario that is either directly started by the player, or a consequence of interaction between 2 or more objects. So there\u0027s a lot of hidden variables. I like the active thinking and the willingness to cooperate with the devs though, good work!\n\u003C/p\u003E\n"},{"CreatedByName":"Barrackar","CreatedById":197197,"CreatedDateTime":"2023-09-20T05:54:27Z","Content":"\n\u003Cp\u003E\nThis is going to reveal how much of a major math nerd I am, but....\n\u003C/p\u003E\n\u003Cp\u003E\nBalancing momentum is one of the techniques sometimes used when conducting numerical approximations in N-body simulations. For example, a variable time step is attempted and calculating the momentum of the system is then used as a sort-of checksum to determine whether a time-step of that size introduces significant errors or not. If there is a determined change in momentum for the simulated system above a threshold then the simulation tosses out the results and tries a time-step of half the size. Usually also done in combination with combining objects which are very close together into binary systems which would otherwise require very small time steps to simulate.\n\u003C/p\u003E\n\u003Cp\u003E\nOn that note, N-body simulation and KSP have very different requirements. KSP physics simulation must be guaranteed to be completed within very small periods of time. It cannot at any point pause while the calculations catch-up. N-body simulation is almost the opposite where it is most important to make sure the simulation is accurate within some threshold level of accuracy. Many of the physics calculations done for N-body numerical simulation cannot be used in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nSo what does all this mean for your suggestion? First, momentum calculations are plausible, but it is never as simple as just saying momentum should be calculated. Second, I\u0027m not sure KSP doesn\u0027t already do momentum calculations at some level of approximation. I don\u0027t often encounter situations which defy the laws of physics in KSP unless somebody has intentionally set out to break them. Is there some situation you have seen which would behave differently if conservation of momentum were more explicitly enforced? Third, vehicles are not single rigid objects but composed of dozens of parts. Accordingly, calculating momentum is not a single variable but composed of 6 degrees of freedom for every part (and additional calculations for reaction engines). Even if you determine the total momentum is off,\u00A0 figuring out which part is to blame for the error and would need to be dampened would not be easy. Incorrect dampening may itself create abnormal momentum or oscillations.\n\u003C/p\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2023-09-20T07:04:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224323585\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695053326\u0022 data-ipsquote-userid=\u0022172375\u0022 data-ipsquote-username=\u0022Jeq\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/18/2023 at 5:08 PM, Jeq said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you add variable for total momentum force of vessel, each moving part increases that force, game math could use that to detect if vessels momentum is growing for now reason (impacts or player inputs) and then game could actually damper those forces to their origin states. Even impacts and player inputs game could calculate how much new momentum force should be and correct and dampen anything abnormal activity. Just one variable.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo a computer, there is no fundamental difference between a vessel collision calculation and a calculation in an otherwise fine situation that\u0027s gone awry. A Kraken attack is simply impossible to detect - the game just sees the vessel doing a thing.\n\u003C/p\u003E\n"},{"CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-09-25T15:16:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224323721\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695112215\u0022 data-ipsquote-userid=\u0022226569\u0022 data-ipsquote-username=\u0022gluckez\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/19/2023 at 11:30 AM, gluckez said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthat sounds a lot like a hack that would hide the underlying issue instead of actually solving the problem, and it would make it even more difficult to track the problem down and potentially raise more bugs if not implemented perfectly. it\u0027s also not just one variable, it\u0027s a system that needs to know exactly what is happening to a vessel, or a collection of game objects at any given time, measure it\u0027s momentum and apply a force in the opposite direction, unless the change in momentum is caused by a scenario that is either directly started by the player, or a consequence of interaction between 2 or more objects. So there\u0027s a lot of hidden variables. I like the active thinking and the willingness to cooperate with the devs though, good work!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe kraken is bug in unity physics and before unity does something to it, developers has to find temporary solutions\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"gluckez","CreatedById":226569,"CreatedDateTime":"2023-09-25T16:56:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224325387\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695655001\u0022 data-ipsquote-userid=\u0022172375\u0022 data-ipsquote-username=\u0022Jeq\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Jeq said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI believe kraken is bug in unity physics and before unity does something to it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think it\u0027s that simple. I think it\u0027s related to floating point rounding errors, and overlaps between colliders caused by those errors per physics timestep. those colliders would need to be pushed apart, which causes other colliders to also need to be pushed apart again. It\u0027s easy to attribute it to unity itself, but I think the issue is related more closely to the nature of floating point calculations by computers in general.\n\u003C/p\u003E\n"},{"CreatedByName":"Barrackar","CreatedById":197197,"CreatedDateTime":"2023-09-26T02:21:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224325421\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695660979\u0022 data-ipsquote-userid=\u0022226569\u0022 data-ipsquote-username=\u0022gluckez\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, gluckez said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think it\u0027s that simple. I think it\u0027s related to floating point rounding errors, and overlaps between colliders caused by those errors per physics timestep. those colliders would need to be pushed apart, which causes other colliders to also need to be pushed apart again. It\u0027s easy to attribute it to unity itself, but I think the issue is related more closely to the nature of floating point calculations by computers in general.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs I understand it, floating point rounding is part of the issue, but not the whole picture. So-called Kraken attacks where a craft vibrates and breaks apart has more than one cause.\n\u003C/p\u003E\n\u003Cp\u003E\n(1) Colliders are certainly involved when loading a vessel and it miscalculates collisions while landed or when adjacent an asteroid or other colidable object. This kind of kraken attack is characterized by occurring at physics loading in KSP1 and visually looks like some part spontaneously exploded. I don\u0027t know of any way to avoid these types of kraken attacks except reload a save and try again.\n\u003C/p\u003E\n\u003Cp\u003E\n(2) There is another kind of kraken attack associated with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E oscillations. Most often affecting large stations with things docked to it. \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E oscillations occur because torque is applied to reaction wheel parts, but there is a lag time until the orientation of the \u0022control from here\u0022 part\u0027s orientation is changed. When there is a joint between the \u0022control from here\u0022 part and another large mass the inertia of the mass can overcorrect the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E adjustment causing ever increasing wobbling until something breaks. These types of kraken attacks can be prevented by turning off \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E and using time-warp to freeze everything in place. Notably, these kinds of oscillations can occur without any floating point rounding effects - but a floating point rounding effect could be the tiny push which starts the first oscillation.\n\u003C/p\u003E\n\u003Cp\u003E\n(3) There are probably other causes of kraken attacks as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"gluckez","CreatedById":226569,"CreatedDateTime":"2023-09-26T08:18:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224325616\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695694888\u0022 data-ipsquote-userid=\u0022197197\u0022 data-ipsquote-username=\u0022Barrackar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Barrackar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(2) There is another kind of kraken attack associated with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E oscillations.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyou\u0027re right, but I think this one is more of a bug than an actual kraken attack. the kraken attack is probably a result of several forces being applied simultaneously because of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E and reaction wheels. So I believe these are seperate issues, but that this one can cause a kraken attack.\u003Cbr\u003E\neither way, there\u0027s an important distinction that needs to be made between what causes the kraken attack, and the nature of the kraken itself. I think the nature of the kraken is those floating point rounding errors, but the cause can be anything from overlapping colliders, misaligned forces, etc. I\u0027m pretty sure the dev team already knows better than I do how it works, but that it\u0027s also a complicated issue to crack.\n\u003C/p\u003E\n"},{"CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-09-27T17:20:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224323933\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695193449\u0022 data-ipsquote-userid=\u0022182413\u0022 data-ipsquote-username=\u0022Bej Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/20/2023 at 10:04 AM, Bej Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo a computer, there is no fundamental difference between a vessel collision calculation and a calculation in an otherwise fine situation that\u0027s gone awry. A Kraken attack is simply impossible to detect - the game just sees the vessel doing a thing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf human can detect it, it can be mathematically solved for computer to detect it. There is allways a solution. Even KSP log shows whenever something did collide to surface/other vessel.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-09-27T17:22:24Z\u0022 title=\u002209/27/2023 05:22  PM\u0022 data-short=\u0022Sep 27\u0022\u003ESeptember 27, 2023\u003C/time\u003E by Jeq\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bej Kerman","CreatedById":182413,"CreatedDateTime":"2023-09-28T06:21:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224326114\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695835238\u0022 data-ipsquote-userid=\u0022172375\u0022 data-ipsquote-username=\u0022Jeq\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Jeq said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf human can detect it, it can be mathematically solved for computer to detect it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPractically untrue.\n\u003C/p\u003E\n"},{"CreatedByName":"DancZer","CreatedById":90711,"CreatedDateTime":"2023-09-28T14:22:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224326114\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695835238\u0022 data-ipsquote-userid=\u0022172375\u0022 data-ipsquote-username=\u0022Jeq\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Jeq said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf human can detect it, it can be mathematically solved for computer to detect it. There is allways a solution. Even KSP log shows whenever something did collide to surface/other vessel.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes you are right. One solution for that to have an AI which is trained by reinforced learning, so it learn the essence of gameplay a can detect a kraken. Otherwise you can\u0027t.\n\u003C/p\u003E\n"},{"CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-11-27T14:52:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224326341\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695910928\u0022 data-ipsquote-userid=\u002290711\u0022 data-ipsquote-username=\u0022DancZer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/28/2023 at 5:22 PM, DancZer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes you are right. One solution for that to have an AI which is trained by reinforced learning, so it learn the essence of gameplay a can detect a kraken. Otherwise you can\u0027t.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was actually thinking this too at work today. AI could help with number crunching but its human task to make correct formula.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224325421\u0022 data-ipsquote-contentid=\u0022219548\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221695660979\u0022 data-ipsquote-userid=\u0022226569\u0022 data-ipsquote-username=\u0022gluckez\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/25/2023 at 7:56 PM, gluckez said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think it\u0027s that simple. I think it\u0027s related to floating point rounding errors, and overlaps between colliders caused by those errors per physics timestep. those colliders would need to be pushed apart, which causes other colliders to also need to be pushed apart again. It\u0027s easy to attribute it to unity itself, but I think the issue is related more closely to the nature of floating point calculations by computers in general.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou might be right. But i remember one bug at KSP which i found using KOS mod which revealed that any vessel were rattling small amount of xyz position, it was almost impossible to see but it caused vessels move at surface for no reason. I reported my founding to KSP developers and they found a way to dampen floating errors, today vessels stay mostly still if they are at even surface, some kraken still exists especially with those long thick metal poles. This same rattling may happen at KSP 2 too if it uses same coordination system as KSP.\n\u003C/p\u003E\n"},{"CreatedByName":"Jeq","CreatedById":172375,"CreatedDateTime":"2023-12-07T12:58:59Z","Content":"\n\u003Cp\u003E\nBased on my 4k time in kerbal, \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E kraken is happening mainly because of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E gimbals engines so violently. Engines gimbals are very unrealistic fast from one point to another. Even upper stage engines, which doesn\u0027t have yet decoupled to use, are gimbaling inside vessel. You can get almost all kraken problems of space stations away if you turn off engine gimbals. Gimbal should be more dynamical.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-12-07T12:59:38Z\u0022 title=\u002212/07/2023 12:59  PM\u0022 data-short=\u0022Dec 7\u0022\u003EDecember 7, 2023\u003C/time\u003E by Jeq\u003C/strong\u003E\n\u003C/span\u003E\n"}]}