{"TopicId":156815,"ForumId":20,"TopicTitle":"There ought to be a mod: Background rocket burns","CreatedByName":"Loren Pechtel","CreatedById":157006,"CreatedDateTime":"2017-02-22T04:04:11Z","PageNum":1,"Articles":[{"CreatedByName":"Loren Pechtel","CreatedById":157006,"CreatedDateTime":"2017-02-22T04:04:11Z","Content":"\n\u003Cp\u003E\n\u003Cabbr title=\u0022Kerbal Alarm Clock (mod)\u0022\u003EKAC\u003C/abbr\u003E is invaluable but it would be a lot better of we didn\u0027t have to use it so much.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I\u0027m picturing is being able to mark a maneuver node as background.\u00A0 The rocket retains it\u0027s current orientation relative to whatever body\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E it is in, or any orientation that can be set by \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E.\u00A0 (Thus if it\u0027s pointing 5 degrees radial from prograde it will still be 5 degrees radial from prograde when the rocket lights.)\u00A0 Cooperation with MechJeb would be ideal but in most cases simply prograde or retrograde would be pretty close.\n\u003C/p\u003E\n\u003Cp\u003E\nSkip the physics of the parts calculations as the rocket burns, treat it as a single body so you can do the calculations a lot faster.\u00A0 It can\u0027t be done on a maneuver node in atmosphere and the burn shuts down if it touches atmosphere.\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-02-22T18:22:01Z","Content":"\n\u003Cp\u003E\nThis is one of those things that sounds simple, until you start thinking about it.\u00A0 How much propellant have you used?\u00A0 What happens if you ran out for this stage?\u00A0 How about if the rocket\u0027s thrust isn\u0027t centered, or you don\u0027t have enough attitude control to keep it on-point?\u00A0 These all actually require you to be running physics on the whole vessel over the burn to answer correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd of course all of this is complicated by the fact that rockets more than 2km from your current viewpoint *don\u0027t exist.*\u00A0 They are just markers saying \u0027if we switch to this, load in these resources to create the rocket\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, it\u0027s one of those things that sounds easy and would be nice - but is actually very complicated and done the way it\u0027s done in KSP for a reason.\n\u003C/p\u003E\n"},{"CreatedByName":"Loren Pechtel","CreatedById":157006,"CreatedDateTime":"2017-02-22T19:01:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222964281\u0022 data-ipsquote-contentid=\u0022156815\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487787721\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is one of those things that sounds simple, until you start thinking about it.\u00A0 How much propellant have you used?\u00A0 What happens if you ran out for this stage?\u00A0 How about if the rocket\u0027s thrust isn\u0027t centered, or you don\u0027t have enough attitude control to keep it on-point?\u00A0 These all actually require you to be running physics on the whole vessel over the burn to answer correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd of course all of this is complicated by the fact that rockets more than 2km from your current viewpoint *don\u0027t exist.*\u00A0 They are just markers saying \u0027if we switch to this, load in these resources to create the rocket\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, it\u0027s one of those things that sounds easy and would be nice - but is actually very complicated and done the way it\u0027s done in KSP for a reason.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m only suggesting this for use in space.\u00A0 That requires a circularization burn--the rocket worked while in space.\u00A0 The only way I see to make a non-flyable rocket is to dock something lopsided, or to rebuild it with \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E.\u00A0 Totally ignoring the physics would permit a certain amount of cheating along these lines but I don\u0027t think it would be a big deal.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the fuel--if the planned burn would run out of fuel you don\u0027t allow it to be done in the background in the first place.\u00A0 It\u0027s not a hard calculation.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for manipulating things in the background--I suggest looking at the mod Bon Voyage.\u00A0 It \u003Cstrong\u003Esimulates\u003C/strong\u003E rover driving in the background.\u00A0 The simulation leaves something to be desired because it\u0027s terrain mapping is imperfect (thus sometimes putting your rover in a place it couldn\u0027t have gotten to and sometimes refusing to go where it could actually reach) but it does work.\n\u003C/p\u003E\n\u003Cp\u003E\nNo need to unpack the rocket, you simply adjust the velocity and remaining fuel.\n\u003C/p\u003E\n"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2017-02-22T20:15:34Z","Content":"\n\u003Cp\u003E\nI\u0027ve launched lopsided rockets in one launch, easily.\u00A0 (Try sending a Karibou rover with some Duna modules to the Mun - 3.75m launcher stage is far enough back to compensate, but a 2.5m transfer stage will need you to run \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to stay on point.)\u00A0 And really the attitude control for *semi* lopsided is where this is more likely to cause issues: You end up burning more fuel to compensate as your engine wags all over the place.\u00A0 I\u0027ve had to redesign rockets repeatedly to compensate, either by giving more fuel or some other way.\n\u003C/p\u003E\n\u003Cp\u003E\nOr you can have the opposite: Have a burn that takes advantage of the Oberath effect, and uses less fuel than a naive calculation would account for.\n\u003C/p\u003E\n\u003Cp\u003E\nBon Voyage simulates driving a rover - what it does is check if you have \u0027enough\u0027 EC generation to drive, then moves the rover\u0027s location directly.\u00A0 There\u0027s no fuel use to compensate for - and yet getting that \u0027enough\u0027 EC generation calculation right has been an issue that\u0027s been tweaked several times since the release, and still has people asking for adjustments.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are lots of corner cases.\u00A0 There\u0027s been at least one mod out there that tried it, but nothing\u0027s done a great job.\n\u003C/p\u003E\n"},{"CreatedByName":"Loren Pechtel","CreatedById":157006,"CreatedDateTime":"2017-02-22T23:31:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222964443\u0022 data-ipsquote-contentid=\u0022156815\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487794534\u0022 data-ipsquote-userid=\u0022155685\u0022 data-ipsquote-username=\u0022DStaal\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, DStaal said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve launched lopsided rockets in one launch, easily.\u00A0 (Try sending a Karibou rover with some Duna modules to the Mun - 3.75m launcher stage is far enough back to compensate, but a 2.5m transfer stage will need you to run \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to stay on point.)\u00A0 And really the attitude control for *semi* lopsided is where this is more likely to cause issues: You end up burning more fuel to compensate as your engine wags all over the place.\u00A0 I\u0027ve had to redesign rockets repeatedly to compensate, either by giving more fuel or some other way.\n\u003C/p\u003E\n\u003Cp\u003E\nOr you can have the opposite: Have a burn that takes advantage of the Oberath effect, and uses less fuel than a naive calculation would account for.\n\u003C/p\u003E\n\u003Cp\u003E\nBon Voyage simulates driving a rover - what it does is check if you have \u0027enough\u0027 EC generation to drive, then moves the rover\u0027s location directly.\u00A0 There\u0027s no fuel use to compensate for - and yet getting that \u0027enough\u0027 EC generation calculation right has been an issue that\u0027s been tweaked several times since the release, and still has people asking for adjustments.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are lots of corner cases.\u00A0 There\u0027s been at least one mod out there that tried it, but nothing\u0027s done a great job.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYour first one sounds like a legitimate edge case.\u00A0 However, I\u0027m not asking for perfection, I would accept a rocket like that flying when it shouldn\u0027t.\u00A0 You\u0027ll just be in for a rude awakening at the destination.\n\u003C/p\u003E\n\u003Cp\u003E\nOberth doesn\u0027t need compensating for as it\u0027s inherent in the physics.\u00A0 The simulated burn would take place at the right place, Oberth comes along for free.\n\u003C/p\u003E\n\u003Cp\u003E\nI do agree Bon Voyage doesn\u0027t have to worry about fuel but that doesn\u0027t seem that complex.\u00A0 It\u0027s just a number in the data.\u00A0 The correct tank(s) to burn from can be noted when you enable it for a background burn, no need to look at the structure of the rocket when you\u0027re doing it.\n\u003C/p\u003E\n\u003Cp\u003E\nI have caught an edge case on Bon Voyage myself--and I consider it a very minor deal.\u00A0 Yeah, my rover moved with the panels folded but so what?\u00A0 My only real gripe with Bon Voyage is terrain handling--and that doesn\u0027t happen in space.\n\u003C/p\u003E\n"}]}