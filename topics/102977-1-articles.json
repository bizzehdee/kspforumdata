{"TopicId":102977,"ForumId":15,"TopicTitle":"Landing Gear (-\u0026gt; Wheel) not rotating","CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:02:58Z","PageNum":1,"Articles":[{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:02:58Z","Content":"\n\u003Cp\u003EHello guys, \u003C/p\u003E\u003Cp\u003EI have worked on a landing gear for a project. So far, the animation works good, but now I\u0027m running into issues: The wheel itself isn\u0027t rotating at all, which \u003Cem\u003Ecould \u003C/em\u003Eend bad when you try to land..you know? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E Here is a screenshot of my Unity editor: \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/ZBc74VC.png\u0022 alt=\u0022ZBc74VC.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe Steering works ingame, but as I said, the Wheel is not rotating at all. Here\u0027s my part.cfg (or at least the important parts):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleLandingGear\u003Cbr\u003E    animationName = Front Landing Gear\u003Cbr\u003E    BrakeTorque = 4\u003Cbr\u003E    BrakeSpeed = 0.5\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = ModuleSteering\u003Cbr\u003E    controlAxisType = Forward\u003Cbr\u003E    steeringAxis = 0, 0, 1\u003Cbr\u003E    steeringTransformName = Wheel\u003Cbr\u003E    steeringLocked = false\u003Cbr\u003E    steeringCurve\u003Cbr\u003E     {\u003Cbr\u003E        key = 0 16\u003Cbr\u003E     key = 10 9\u003Cbr\u003E       key = 30 2\u003Cbr\u003E     key = 100 1\u003Cbr\u003E     }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = FXModuleConstrainPosition\u003Cbr\u003E    matchRotation = true\u003Cbr\u003E    matchPosition = true\u003Cbr\u003E    CONSTRAINFX\u003Cbr\u003E    {\u003Cbr\u003E        targetName = Wheel\u003Cbr\u003E        moversName = wheelCollider\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI oriented myselves on the Stock smallgearbay landing gear, but it\u0027s not that big help. I also looked at this image flying around on the forums from the Stock Landing Gear, but I have to say, I compared it with the Landing Gear config file, and it didn\u0027t helped at all. There\u0027s simply no \u0022Steering\u0022 gameobject visible in the hierarchy of the Stock Landing Gear from the image. \u003C/p\u003E\u003Cp\u003EI think it has something to do with the FXModuleConstrainPosition, but I don\u0027t get how it works. And from the other existing threads I didn\u0027t get the information I want or I need. Creating landing gears is really the most undocumented thing you can have for modding. \u003C/p\u003E\u003Cp\u003EBut I hope someone can help me! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-30T16:22:44Z","Content":"\n\u003Cp\u003Ethe two objects both named \u0022wheelCollider\u0022 is probably confusing the module.\u003C/p\u003E\u003Cp\u003Eyou need a wheelCollider component, it\u0027s a specialized component just for wheels with suspension. It is used by \u003Cstrong\u003EModuleLandingGear\u003C/strong\u003E, which provides visible suspension, wheel spinning, and deploy/retract animation trigger. \u003Cstrong\u003EModuleSteering\u003C/strong\u003E provides input control on a game object in the wheel heirarchy. \u003Cstrong\u003EFXModuleConstrainPosition\u003C/strong\u003E links the wheelCollider to the object that responds to input control. the visible wheel mesh should be a child of the steer object.\u003C/p\u003E\u003Cp\u003Eanother mesh collider for the visible wheel is optional, but should not be named \u0022wheelCollider\u0022. only one object in the wheel setup should be named \u0022wheelCollider\u0022\u003C/p\u003E\u003Cp\u003Elanding gears and wheels are both very convoluted to setup correctly, you might have to dig some more. here\u0027s a unity project with working part file, might help you in your process. from this thread: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72802\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/72802\u003C/a\u003E dedicated to landing gears.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download/psu9e2k70d6wwz0/skylonNoseGear.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/psu9e2k70d6wwz0/skylonNoseGear.zip\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-30T16:26:27Z\u0022 title=\u002203/30/2015 04:26  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 30, 2015\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-30T16:54:44Z","Content":"\n\u003Cp\u003EHm, your explanation and the stuff you linked made things a tiny bit clearer, but I\u0027m still not really getting it. I\u0027ve removed now the 2nd wheelCollider.\u003C/p\u003E\u003Cp\u003ESo, the things I need would be those: \u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E name = ModuleLandingGear\u003C/p\u003E\u003Cp\u003E animationName = Front Landing Gear\u003C/p\u003E\u003Cp\u003E wheelCollider = wheelCollider\u003C/p\u003E\u003Cp\u003E wheelName = Wheel\u003C/p\u003E\u003Cp\u003E wheelRotationAxis = -1,0,0\u003C/p\u003E\u003Cp\u003E BrakeTorque = 20\u003C/p\u003E\u003Cp\u003E BrakeSpeed = 0.5\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EThe FXModuleLookAtConstraint I think I don\u0027t need for now, I just want the wheels to rotate. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn Unity, the gameobject \u0022wheelCollider\u0022 is a child of the \u0022Wheel\u0022 object. The Wheel object is the wheel mesh itselves, without any colliders on it, the wheelCollider object is only the wheelcollider for the Wheel. \u003C/p\u003E\u003Cp\u003EI\u0027ve made it like that, and it\u0027s still not rotating. Also, the gear sinks into the ground, as if there was no collider for the wheel at all. \u003C/p\u003E\u003Cp\u003EI hope you will be patient with me, and can help me..\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-30T18:22:50Z","Content":"\n\u003Cp\u003EFXModuleLookAtConstraint is for setting up the suspension linkage arms so they move when the suspension moves up and down, they are optional.\u003C/p\u003E\u003Cp\u003Ethe hierarchy look something like this:\u003C/p\u003E\u003Cp\u003ESteeringObject\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EwheelCollider\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EWheelMesh\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003EAdditionalStuff-Optional\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ethe wheel mesh object is on the same level as wheelCollider, not a child of wheelCollider. Alternatively you can place the wheelCollider on the same level as SteeringObject and use \u003Cstrong\u003EFXModuleConstraintPosition\u003C/strong\u003E to link it to the SteeringObject.\u003C/p\u003E\u003Cp\u003Eand no spaces in any object names, replace spaces with underscore if necessary.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-30T18:27:42Z\u0022 title=\u002203/30/2015 06:27  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 30, 2015\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2015-03-31T09:18:35Z","Content":"\n\u003Cp\u003EOK, I\u0027ve made it now a bit else than before, but it\u0027s still not working. I edited the mesh collider for the stem of the wheel, it went a little bit inside the mesh collider, now it doesn\u0027t conflict with it anymore, but it\u0027s still not working. Also, it looks like the game doesn\u0027t even sees that there\u0027s a wheel collider. The gear sinks in the ground, until the mesh collider of the stem has contact with the ground. \u003C/p\u003E\u003Cp\u003ESo, must I enter the name of the Wheel Collider itself (The name would be just \u0022Wheel Collider\u0022) or must I use the name of the gameobject the Wheel Collider is applied to (The name then would be \u0022wheelCollider\u0022)?\u003C/p\u003E\u003Cp\u003EI\u0027ve also rearranged my hierarchy a bit:\u003C/p\u003E\u003Cp\u003EFront Landing Gear (Parttools export component on it, animation component)\u003C/p\u003E\u003Cp\u003E Fahrwerk_vorne (This is the thing which will retract when the animation is played)\u003C/p\u003E\u003Cp\u003E Steering (This is a new empty gameobject which is the object where collider and wheel is applied to, for a proper steering)\u003C/p\u003E\u003Cp\u003E Reifen_vorne (The mesh of the wheels which should be rotating later ingame)\u003C/p\u003E\u003Cp\u003E wheelCollider (The object with the Wheel Collider for the Wheel)\u003C/p\u003E\u003Cp\u003E Scheinwerfer (They have no function yet, they are just there for design purposes)\u003C/p\u003E\u003Cp\u003E Fahrwerk_vorne_Stange_1 (The Strut you can see on the first picture going away from the gear stem, also animated)\u003C/p\u003E\u003Cp\u003E Fahwerkklappe_vorne_seitlich_links (The thing which covers the gear when it is retracted, see image in post#1, animated)\u003C/p\u003E\u003Cp\u003E Fahrwerkklappe_vorne_seitlich_rechts (The thing which covers the gear when it is retracted, see image in post#1, animated)\u003C/p\u003E\u003Cp\u003EI don\u0027t get what I\u0027m doing wrong \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-03-31T14:38:17Z","Content":"\n\u003Cp\u003Ethe names can be anything strictly speaking, without spaces and special characters. As long as you give the Part Modules the correct objects they will work.\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003Ename = ModuleLandingGear\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EanimationName = Front Landing Gear \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E\\\\ Deploy/Retract animation, the clip in the Animation component\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EwheelCollider = wheelCollider \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E\\\\name of the object with the wheel collider component, the object can be any name you want. naming it \u0022wheelCollider\u0022 just makes it easier to identify than \u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u00228k3nf8\u0022\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EwheelName = Wheel \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E\\\\name of the visible mesh object that spins, again, any name can do. but ideally something that\u0027s easily identifiable.\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EwheelRotationAxis = -1,0,0 \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E\\\\axis around which the Wheel mesh spins in X,Y,Z. typically X. add/remove negative sign to reverse direction\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EBrakeTorque = 20\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EBrakeSpeed = 0.5\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003Eyou are making progress. Still need to add suspension. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eso to get the full landing gear module, you need one more object. Maybe the light as well, not sure on that one.\u003C/p\u003E\u003Cp\u003EMODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E ...\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E suspensionParentName = suspensionParent \u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003E\\\\\u003C/div\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003Efollows the suspension settings in the unity component up/down based on weight being supported. check Unity docs for specifics of wheel collider, this images might help too\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cdiv\u003E \u003C/div\u003E\u003C/div\u003E\u003Ca href=\u0022http://i.imgur.com/Uce0rLj.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003C/a\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://i.imgur.com/Uce0rLj.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003C/a\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://i.imgur.com/Uce0rLj.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/Uce0rLj.jpg\u003C/a\u003E\u003C/div\u003E\u003Ca href=\u0022http://i.imgur.com/Uce0rLj.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003C/a\u003E\u003C/div\u003E\u003Ca href=\u0022http://i.imgur.com/Uce0rLj.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003C/a\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E ...\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003Ehierarchy would look something like this, check the sample file in the previous post.\u003C/p\u003E\u003Cp\u003EStrutsAndDoorPanels\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ESteeringObject\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003EwheelCollider\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003EsuspensionParent\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003Cdiv\u003EWheelMesh\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003Cdiv\u003EAdditionalStuff-Optional\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T14:40:38Z\u0022 title=\u002203/31/2015 02:40  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"}]}