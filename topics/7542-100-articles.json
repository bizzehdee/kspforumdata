{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":100,"Articles":[{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2016-11-07T16:31:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222842105\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478531948\u0022 data-ipsquote-userid=\u002274999\u0022 data-ipsquote-username=\u0022TaxiService\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, TaxiService said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLet\u0027s say I create a subclass \u0027SheepVesselModule\u0027 based on the KSP\u0027s existing class \u0027\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_module.html\u0022 rel=\u0022external nofollow\u0022\u003EVesselModule\u003C/a\u003E\u0027. Then, I just compile and launch KSP without any further action. I observe that the KSP actually accepts and integrates my \u0022orphan\u0022 class into every existing vessel. It even calls some methods like Start() too.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this one of the Unity\u0027s strengths, or I misinterpret the result?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it\u0027s how the VesselModule mechanism in KSP has been implemented. \u00A0Basically, after loading all mod assemblies, KSP enumerates all the classes that are derived from VesselModule and will then create one of each for every vessel that\u0027s loaded. \u00A0Squad implemented it like this to make it easy for mod authors to create VesselModules.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-07T16:31:56Z\u0022 title=\u002211/07/2016 04:31  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 7, 2016\u003C/time\u003E by Padishar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-11-07T16:33:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222842105\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478531948\u0022 data-ipsquote-userid=\u002274999\u0022 data-ipsquote-username=\u0022TaxiService\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n58 minutes ago, TaxiService said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLet\u0027s say I create a subclass \u0027SheepVesselModule\u0027 based on the KSP\u0027s existing class \u0027\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_module.html\u0022 rel=\u0022external nofollow\u0022\u003EVesselModule\u003C/a\u003E\u0027. Then, I just compile and launch KSP without any further action. I observe that the KSP actually accepts and integrates my \u0022orphan\u0022 class into every existing vessel. It even calls some methods like Start() too.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this one of the Unity\u0027s strengths, or I misinterpret the result?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP finds all subclasses of VesselModule and adds them to all vessels. \u00A0Once they\u0027re added to a vessel, they will get normal unity methods like Start() called, and also some KSP-specific methods.\n\u003C/p\u003E\n"},{"CreatedByName":"gomker","CreatedById":141269,"CreatedDateTime":"2016-11-11T05:44:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222842105\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221478531948\u0022 data-ipsquote-userid=\u002274999\u0022 data-ipsquote-username=\u0022TaxiService\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/7/2016 at 9:19 AM, TaxiService said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nexisting class \u0027\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_vessel_module.html\u0022 rel=\u0022external nofollow\u0022\u003EVesselModule\u003C/a\u003E\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI stumbled across this when investigating VesselModule\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/113689-vessel-modules-discussion/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-11-11T16:38:31Z","Content":"\n\u003Cp\u003E\nNote that the linked VesselModule discussion is from when they were first added to the game, since then the OnSave and OnLoad methods have been added so VesselModules can now save/load data.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2016-11-18T06:44:46Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EWhen/how to proper call: \u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGame.AddProtoScenarioModule (MyScenarioModule, SomeGameScenes)\u003C/span\u003E\u003C/span\u003E .\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is approximately the life of a custom scenario module (as far as I can tell):\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen I call Game.AddProtoScenarioModule I can add, say, \u0022MyScenarioModule\u0022.\n\u003C/li\u003E\n\u003Cli\u003E\nThe module is added to the game right away, so far so good.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen the scene is changed (exited) the module will be included in the .sfs file.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen the next scene is loaded OnLoad is called to take care of what ever I need to take care of.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen the scene is then changed again (exited) OnSave is called. At this point the .sfs file is all up to date.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe idea that I just have to call AddProtoScenarioModule in-game once and in the future KSP sees from the .sfs file that it should load up \u0022MyScenarioModule\u0022 is nice.\n\u003C/p\u003E\n\u003Cp\u003E\nThe issue I ponder, is the \u0027delay\u0027 from you first add the scenario module (some time \u003Cu\u003Eafter\u003C/u\u003E the game is first spawned) and until the .sfs is updated with all saved values (after two scene changes) . How do you prefer to handle that?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-18T06:46:47Z\u0022 title=\u002211/18/2016 06:46  AM\u0022 data-short=\u00227 yr\u0022\u003ENovember 18, 2016\u003C/time\u003E by Rodhern\u003C/strong\u003E\n\u003Cbr\u003Eline feed\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-11-18T09:45:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222854937\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479451486\u0022 data-ipsquote-userid=\u0022144074\u0022 data-ipsquote-username=\u0022Rodhern\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Rodhern said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhe idea that I just have to call AddProtoScenarioModule in-game once and in the future KSP sees from the .sfs file that it should load up \u0022MyScenarioModule\u0022 is nice.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHum, You should not call that. Your scenario should have the KSPScenario attribute and the game handles it for you.\n\u003C/p\u003E\n"},{"CreatedByName":"delta wee","CreatedById":162060,"CreatedDateTime":"2016-11-18T16:00:08Z","Content":"\n\u003Cp\u003E\nI\u0027m having trouble finding the KSPCore.dll file so I can use it as a reference in my Visual Studio project. I think it\u0027s supposed to be at this location:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u0022Kerbal Space Program\\KSP_x64_Data\\Managed\\KSPCore.dll\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nbut I can\u0027t find it there. My KSP runs fine though. Where could the KSPCore.dll be?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-18T16:00:30Z\u0022 title=\u002211/18/2016 04:00  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 18, 2016\u003C/time\u003E by delta wee\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-11-18T16:16:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222855370\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479484808\u0022 data-ipsquote-userid=\u0022162060\u0022 data-ipsquote-username=\u0022delta wee\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, delta wee said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m having trouble finding the KSPCore.dll file so I can use it as a reference in my Visual Studio project. I think it\u0027s supposed to be at this location:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u0022Kerbal Space Program\\KSP_x64_Data\\Managed\\KSPCore.dll\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nbut I can\u0027t find it there. My KSP runs fine though. Where could the KSPCore.dll be?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSPCore, KSPUtil, and a couple of other DLLs were removed in KSP 1.2 (KSPCore didn\u0027t really contain much anyway). \u00A0Their contents are now in Assembly-CSharp. \u00A0You can safely remove the references.\n\u003C/p\u003E\n"},{"CreatedByName":"delta wee","CreatedById":162060,"CreatedDateTime":"2016-11-18T19:35:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222855393\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479485781\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKSPCore, KSPUtil, and a couple of other DLLs were removed in KSP 1.2 (KSPCore didn\u0027t really contain much anyway). \u00A0Their contents are now in Assembly-CSharp. \u00A0You can safely remove the references.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, thanks. I guess dll changes like that between KSP versions would explain why so many mods break when a new version comes out.\n\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2016-11-20T16:50:59Z","Content":"\n\u003Cp\u003E\nHey, everyone. I\u0027m new to modding KSP, tho I did manage to include a few (working!) lines on someone else\u0027s code already. Now I got a few projects of my own, and the one that seemed the very simplest is already giving me a headache.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know how to access the list of checks that the Engineer\u0027s Report performs?\n\u003C/p\u003E\n\u003Cp\u003E\nI checked \u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_k_s_p_1_1_u_i_1_1_screens_1_1_engineers_report.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, and the thing is private: even if I extend the class, I can\u0027t get to it \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-11-20T18:27:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222857832\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479660659\u0022 data-ipsquote-userid=\u002295210\u0022 data-ipsquote-username=\u0022monstah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, monstah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nHey, everyone. I\u0027m new to modding KSP, tho I did manage to include a few (working!) lines on someone else\u0027s code already. Now I got a few projects of my own, and the one that seemed the very simplest is already giving me a headache.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone know how to access the list of checks that the Engineer\u0027s Report performs?\n\u003C/p\u003E\n\u003Cp\u003E\nI checked \u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_k_s_p_1_1_u_i_1_1_screens_1_1_engineers_report.html\u0022 rel=\u0022external nofollow\u0022 target=\u0022_blank\u0022\u003Ehere\u003C/a\u003E, and the thing is private: even if I extend the class, I can\u0027t get to it \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat are you trying to do with the Engineer\u0027s report checks?\u003Cbr\u003E\nAdd your own checks? or something else?\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2016-11-20T18:45:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222857964\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479666462\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat are you trying to do with the Engineer\u0027s report checks?\u003Cbr\u003E\nAdd your own checks? or something else?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSomething else. I know the Report has methods for adding new checks, but I want to iterate over the existing ones. I want to figure out what the maximum warning level being noticed (i.e., if there is at least one Critical, otherwise at least one Warning, or one Notice, or none at all).\n\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2016-11-20T18:54:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222857986\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221479667514\u0022 data-ipsquote-userid=\u002295210\u0022 data-ipsquote-username=\u0022monstah\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, monstah said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nSomething else. I know the Report has methods for adding new checks, but I want to iterate over the existing ones.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah you can\u0027t as existing tests are private.\u003Cbr\u003E\nAll you can really do is add and remove your own tests.\n\u003C/p\u003E\n"},{"CreatedByName":"Bonus Eventus","CreatedById":115722,"CreatedDateTime":"2016-11-29T23:02:47Z","Content":"\n\u003Cp\u003E\nAnyone know if floatcurve fields auto load like other fields. Looking through modulecolorchanger I didn\u0027t see any see any special code for parsing on load. The curve seems to load when I declare the field in this way. But, when I\u00A0evaluate the curve, no mater what time arg is given, it always returns 0.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-11-30T02:51:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222868939\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480460567\u0022 data-ipsquote-userid=\u0022115722\u0022 data-ipsquote-username=\u0022Bonus Eventus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Bonus Eventus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnyone know if floatcurve fields auto load like other fields. Looking through modulecolorchanger I didn\u0027t see any see any special code for parsing on load. The curve seems to load when I declare the field in this way. But, when I\u00A0evaluate the curve, no mater what time arg is given, it always returns 0.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt will be automatically loaded if the field is not null when loading happens. \u00A0The most common thing to do is to initialize the field with an empty float curve:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[KSPField]\npublic FloatCurve animCurve = new FloatCurve();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf it\u0027s not initialized, it won\u0027t be loaded. \u00A0I\u0027m not exactly sure if it will stay null forever if you don\u0027t create one though, it\u0027s possible Unity puts an empty one there at some point (which would probably evaluate to zero)\n\u003C/p\u003E\n"},{"CreatedByName":"Bonus Eventus","CreatedById":115722,"CreatedDateTime":"2016-11-30T03:13:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222869123\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480474310\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt will be automatically loaded if the field is not null when loading happens. \u00A0The most common thing to do is to initialize the field with an empty float curve:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E[KSPField]\npublic FloatCurve animCurve = new FloatCurve();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIf it\u0027s not initialized, it won\u0027t be loaded. \u00A0I\u0027m not exactly sure if it will stay null forever if you don\u0027t create one though, it\u0027s possible Unity puts an empty one there at some point (which would probably evaluate to zero)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, that was totally it, just tested it. Earlier today I was reading your post about UI_Controls and\u00A0onFieldChange (which blew my mind) and now you\u0027re helping me again. Thanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119688\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119688-blowfish/\u0022 rel=\u0022\u0022\u003E@blowfish\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Lothsahn","CreatedById":75815,"CreatedDateTime":"2016-12-07T00:02:35Z","Content":"\n\u003Cp\u003E\nHopefully a simple noob question, but does anyone know where KSPUtil.PrintTimeCompact(double time, bool explicitPositive) went to?\n\u003C/p\u003E\n\u003Cp\u003E\nIt causes KSPUtil warnings every time I start the mod I\u0027d like to make go away...\n\u003C/p\u003E\n"},{"CreatedByName":"Lothsahn","CreatedById":75815,"CreatedDateTime":"2016-12-07T05:03:10Z","Content":"\n\u003Cp\u003E\nWith the new update of KSP, CompatibilityChecker.cs is throwing a stack overflow when running in debug mode. \u00A0I\u0027m using debug as Sarbian described\u00A0here:\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(top 3 lines repeat over and over)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u003Cstrong\u003E\u00A0\u00A0 \u00A0UnityEngine.RectTransform:get_rect()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMPro.TextMeshProUGUI:ComputeMarginSize()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMPro.TextMeshProUGUI:OnRectTransformDimensionsChange()\u003C/strong\u003E\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.RectTransform:get_rect()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMPro.TextMeshProUGUI:ComputeMarginSize()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0TMPro.TextMeshProUGUI:OnRectTransformDimensionsChange()\u003Cbr\u003E\n\u00A0\u00A0 \u00A0UnityEngine.RectTransform:set_anchorMax(Vector2)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0PopupDialog:SpawnPopupDialog(Vector2, Vector2, MultiOptionDialog, Boolean, UISkinDef, Boolean, String)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0PopupDialog:SpawnPopupDialog(Vector2, Vector2, String, String, String, Boolean, UISkinDef, Boolean, String)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0LunaClient.Utilities.CompatibilityChecker:Start() (at C:/shared/kerbal space program/LunaMultiPlayer/Client/Utilities/CompatibilityChecker.cs:166)\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is happening inside a compatibility checker by Majiir. \u00A0Should I contact him to fix it? \u00A0Is he around anymore? \u00A0It\u0027s easily worked around by simply updating my program to contain the new version, so it doesn\u0027t spawn the popup anymore.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the line that causes the problem:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EPopupDialog.SpawnPopupDialog(new Vector2(0, 0), new Vector2(float.PositiveInfinity, float.PositiveInfinity), \u0022Incompatible Mods Detected\u0022, message, \u0022OK\u0022, true, HighLogic.UISkin);\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCode that\u0027s causing the error (although you shouldn\u0027t need it)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/DaggerES/LunaMultiPlayer/blob/master/Client/Utilities/CompatibilityChecker.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/DaggerES/LunaMultiPlayer/blob/master/Client/Utilities/CompatibilityChecker.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-07T05:20:39Z\u0022 title=\u002212/07/2016 05:20  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 7, 2016\u003C/time\u003E by Lothsahn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2016-12-07T13:16:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222877787\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481068955\u0022 data-ipsquote-userid=\u002275815\u0022 data-ipsquote-username=\u0022Lothsahn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Lothsahn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHopefully a simple noob question, but does anyone know where KSPUtil.PrintTimeCompact(double time, bool explicitPositive) went to?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s still there, but KSPUtil.dll has been folded into Assembly-CSharp.dll. You just need to remove your references to KSPUtil.dll (and probably recompile against 1.2.x)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-07T13:17:42Z\u0022 title=\u002212/07/2016 01:17  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 7, 2016\u003C/time\u003E by severedsolo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-07T13:55:14Z","Content":"\n\u003Cp\u003E\nActually, the KSPUtil class and assembly were two different things. The KSPUtil class, which had all of the time printing methods was always in in Assembly-CSharp, so if you have that error it might be caused by something else.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-12-14T03:41:02Z","Content":"\n\u003Cp\u003E\nDid something happen to the float custom game parameter in 1.2.2?\n\u003C/p\u003E\n\u003Cp\u003E\nThe following line works fine in 1.2.1, creating a slider in the settings menu that moved smoothly from 0.5 - 2.5\u00A0and displayed values from 50 - 250%.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[GameParameters.CustomFloatParameterUI(\u0022Base Scale\u0022, minValue = 0.5f, maxValue = 2.5f, displayFormat = \u0022P0\u0022, autoPersistance = true)]\n\t\tpublic float baseScale = 1.25f;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBut in 1.2.2 any attempt to change the slider causes this error:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[EXC 01:29:50.877] FormatException: Unknown char\n\tSystem.Double.Parse (System.String s, NumberStyles style, IFormatProvider provider)\n\tSystem.Single.Parse (System.String s)\n\tDifficultyOptionsMenu\u002B\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;CreateDifficultWindow\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ec__AnonStorey15D.\u0026lt;\u0026gt;m__24B (Single v)\n\tUnityEngine.Events.InvokableCall\u00601[System.Single].Invoke (System.Object[] args)\n\tUnityEngine.Events.InvokableCallList.Invoke (System.Object[] parameters)\n\tUnityEngine.Events.UnityEventBase.Invoke (System.Object[] parameters)\n\tUnityEngine.Events.UnityEvent\u00601[System.Single].Invoke (Single arg0)\n\tUnityEngine.UI.Slider.Set (Single input, Boolean sendCallback)\n\tUnityEngine.UI.Slider.Set (Single input)\n\tUnityEngine.UI.Slider.set_value (Single value)\n\tDialogGUISlider.Update ()\n\tDialogGUIBase.Update ()\n\tDialogGUIVerticalLayout.Update ()\n\tDialogGUIBase.Update ()\n\tDialogGUIVerticalLayout.Update ()\n\tDialogGUIBase.Update ()\n\tDialogGUIBase.Update ()\n\tDialogGUIVerticalLayout.Update ()\n\tDialogGUIBase.Update ()\n\tMultiOptionDialog.Update ()\n\tPopupDialog.Update ()\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe offending part seems to be the displayFormat = \u0022P0\u0022. I have no idea why that would cause a problem.\n\u003C/p\u003E\n\u003Cp\u003E\nI tried setting the format to N0 and turning\u00A0asPercentage to true, but then the slider only allowed for integer values (1 or 2), though it did display the percentage correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there something I\u0027m missing? Do I have to set the stepCount to some specific value?\n\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2016-12-14T03:59:15Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022 rel=\u0022\u0022\u003E@DMagic\u003C/a\u003E\u00A0- looks like I inadvertently broke this will adding rounding in to fix another issue. \u00A0I tried to be clever and round using the display format, which doesn\u0027t work with the P0 display format (because Float.Parse() doesn\u0027t have smarts to recognize a percentage).\n\u003C/p\u003E\n\u003Cp\u003E\nAs a workaround, try using N1 \u002B asPercentage.\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-15T14:44:35Z","Content":"\n\u003Cp\u003E\nAlright, I\u0027m taking my first baby steps trying to figure out the new GUI and have what should be a straightforward question.\n\u003C/p\u003E\n\u003Cp\u003E\nIn hooking up to an asset bundle, what does this string do?\n\u003C/p\u003E\n\u003Cp\u003E\ninfoKSP = go.GetComponentInChild\u0026lt;Text\u0026gt;(\u003Cspan\u003E\u003Cspan\u003E\u0022\u003C/span\u003EKSP\u003Cspan\u003E\u0022\u003C/span\u003E\u003C/span\u003E);\u00A0\u00A0 (Example pulled from Sarbian\u0027s GC monitor.)\n\u003C/p\u003E\n\u003Cp\u003E\nI am referring to the \u0022KSP\u0022 string here.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I have the rest of that line of code figured out, in that I can find a valid Text object if I just use .GetComponentInChild\u0026lt;Text\u0026gt;(), but my test GUI only has a single Text object on it and I assume this is how you tell different objects apart.\n\u003C/p\u003E\n\u003Cp\u003E\nNote I have never used Unity before, I had to download it to make this test GUI assetbundle so it is probably something really simple, I just don\u0027t know Unity or where to find it.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-12-15T15:03:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222888630\u0022 data-ipsquote-contentid=\u00227542\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481813075\u0022 data-ipsquote-userid=\u002281549\u0022 data-ipsquote-username=\u0022Diazo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Diazo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlright, I\u0027m taking my first baby steps trying to figure out the new GUI and have what should be a straightforward question.\n\u003C/p\u003E\n\u003Cp\u003E\nIn hooking up to an asset bundle, what does this string do?\n\u003C/p\u003E\n\u003Cp\u003E\ninfoKSP = go.GetComponentInChild\u0026lt;Text\u0026gt;(\u003Cspan\u003E\u003Cspan\u003E\u0022\u003C/span\u003EKSP\u003Cspan\u003E\u0022\u003C/span\u003E\u003C/span\u003E);\u00A0\u00A0 (Example pulled from Sarbian\u0027s GC monitor.)\n\u003C/p\u003E\n\u003Cp\u003E\nI am referring to the \u0022KSP\u0022 string here.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I have the rest of that line of code figured out, in that I can find a valid Text object if I just use .GetComponentInChild\u0026lt;Text\u0026gt;(), but my test GUI only has a single Text object on it and I assume this is how you tell different objects apart.\n\u003C/p\u003E\n\u003Cp\u003E\nNote I have never used Unity before, I had to download it to make this test GUI assetbundle so it is probably something really simple, I just don\u0027t know Unity or where to find it.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMy UI is a game object with many children. One of those children is an object named \u0022KSP\u0022 (in the tree to the left of the Unity Editor)\u00A0 that contains a Text component. That call get a reference to that child.\n\u003C/p\u003E\n\u003Cp\u003E\nYou could also search your object by tag.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257416\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/\u0022 rel=\u0022\u0022\u003E@DMagic\u003C/a\u003E\u003C/span\u003E wrote an awesome tutorial :\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/151354-unity-ui-creation-tutorial/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2016-12-15T15:07:13Z","Content":"\n\u003Cp\u003E\nI have been using DMagic\u0027s tutorial and it\u0027s the only reason I\u0027ve gotten as far as I have.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, that tutorial uses the 2 Assemblies method where there\u0027s a dedicated GUI assembly where you hook up the methods to the objects in the Unity editor itself, so the tutorial doesn\u0027t actually cover hooking up to objects directly via code as you do in GC Monitor.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, that explains what I was missing, I was changing settings on the Text component itself trying to get this to work, not the GameObject the Text is attached to.\n\u003C/p\u003E\n\u003Cp\u003E\nShould be straightforward now, thanks for the help Sarbian.\n\u003C/p\u003E\n\u003Cp\u003E\nD.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-15T15:09:50Z\u0022 title=\u002212/15/2016 03:09  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 15, 2016\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}