{"TopicId":174142,"ForumId":15,"TopicTitle":"Weird shapes appearing on part in darkness","CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2018-04-21T05:43:57Z","PageNum":1,"Articles":[{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2018-04-21T05:43:57Z","Content":"\n\u003Cp\u003E\nSo, I\u0027m making a habitat module thing, and I noticed a weird thing that happens when the part\u0027s in the dark. Some weird shadowy shape things appear on it that aren\u0027t visible in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E or when it gets light. Any idea what\u0027s going on? You can see them on the roof and window in the first image, and that they\u0027re gone in the second.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022a3x0RqW.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/a3x0RqW.png\u0022 width=\u00221024\u0022\u003E\u003Cimg alt=\u0022Uuu8Vmm.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/Uuu8Vmm.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2018-04-21T12:31:33Z","Content":"\n\u003Cp\u003E\nHi . that looks to me to be a problem with the models \u003Ca href=\u0022https://en.wikipedia.org/wiki/Normal_(geometry)\u0022 rel=\u0022external nofollow\u0022\u003Enormals\u003C/a\u003E,\u00A0 it looks very much like you have and edge running through that panel, so the resulting panels are not properly triangulated ,\u00A0 rather than a diagonal edge running from corner to corner of that large segment, it would display much better if each of those visible window panels were re triangulated individually.\u00A0 The how of that will very much depend on the modelling app you\u0027ve used.\n\u003C/p\u003E\n\u003Cp\u003E\nOr as a quick unity fix, that sometimes works for small errors, allow unity to calculate the normals,\u00A0 be warned if you\u0027ve carefully set up smoothing groups etc doing this can change the appearance quite dramatically\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cimg alt=\u0022ipQ5ykh.png\u0022 class=\u0022ipsImage\u0022 height=\u0022441\u0022 src=\u0022https://i.imgur.com/ipQ5ykh.png\u0022 width=\u0022408\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2018-04-21T20:06:30Z","Content":"\n\u003Cp\u003E\nWell, I\u0027m really at a loss.\u00A0\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E I tried the Unity fix, but the issue persists. What I don\u0027t understand is where exactly the problem is occurring. This is the original mesh in Blender (as you can see, there are no edges running across the faces where the issues appear):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00226xH6Tna.png\u0022 class=\u0022ipsImage\u0022 height=\u0022592\u0022 src=\u0022https://i.imgur.com/6xH6Tna.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zyrac","CreatedById":50037,"CreatedDateTime":"2018-04-22T02:55:34Z","Content":"\n\u003Cp\u003E\nSo, I believe I\u0027ve found a fix. I experimented with extruding the window faces a little and it seems to have made the problem go away. I\u0027ve still no idea what caused the problem in the first place or why extruding the faces fixed it, but I suppose all that matters is that it did.\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Well, it certainly mitigated the problem slightly, but it\u0027s not fixed, and in some cases it didn\u0027t really make any difference at all. \u003Cimg alt=\u0022;.;\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 title=\u0022;.;\u0022\u003E What\u0027s weird is that the problem seems to be created between Unity and KSP, since there don\u0027t seem to be any signs of it in Blender or in Unity scene view.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-22T04:42:23Z\u0022 title=\u002204/22/2018 04:42  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 22, 2018\u003C/time\u003E by Zyrac\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bonus Eventus","CreatedById":115722,"CreatedDateTime":"2018-04-24T23:42:31Z","Content":"\n\u003Cp\u003E\nMy guess is blender is auto triangulating on export to fbx. Like\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0026amp;do=hovercard\u0022 data-mentionid=\u002250907\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/50907-spannermonkeysmce/\u0022 rel=\u0022\u0022\u003E@SpannerMonkey(smce)\u003C/a\u003E\u00A0said, try pre triangulating the faces to control where the splits happen. Likely you have extra verts on some of your edges. Extruding the faces is probably unnecessary. You can also try applying unique smoothing groups to those faces so the normals aren\u2019t average with the other polygons around the window frame. I always use smoothing groups myself.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-04-26T20:53:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223360713\u0022 data-ipsquote-contentid=\u0022174142\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221524365734\u0022 data-ipsquote-userid=\u002250037\u0022 data-ipsquote-username=\u0022Zyrac\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/21/2018 at 8:55 PM, Zyrac said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat\u0027s weird is that the problem seems to be created between Unity and KSP, since there don\u0027t seem to be any signs of it in Blender or in Unity scene view.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe artifacts you are seeing look to me like a known and long-standing issue with 3D rendering and some of the \u0027optimizations\u0027 taken to make shadows usable in real time.\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically, look at the Shadow Bias setting in the Unity documentation\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://docs.unity3d.com/Manual/ShadowOverview.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/Manual/ShadowOverview.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(this isn\u0027t something you can fix in the model, it is a part of the rendering engine)\n\u003C/p\u003E\n"}]}