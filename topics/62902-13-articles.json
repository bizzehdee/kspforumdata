{"TopicId":62902,"ForumId":36,"TopicTitle":"[1.8.x to 1.12.x] kRPC: Remote Procedure Call Server (v0.5.1, 2nd March 2023)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-02-11T20:00:32Z","PageNum":13,"Articles":[{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T22:14:24Z","Content":"\n\u003Cp\u003E\nWould be good to check if the setup script is broken. Although it\u0027s more\u00A0likely to be\u00A0an issue with your python installation, as the only thing the setup script does is pass\u00A0install_requires to setuptools.\u00A0How did you install protobuf 3.0.0-alpha-1?\n\u003C/p\u003E\n\u003Cp\u003E\nI just tried installing krpc (on Linux) via pip and manually using setup.py with protobuf 3.0.0a1 on my system and it automatically updated it to 3.0.0b3. Maybe your python packages are a bit broken?\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-26T23:25:28Z","Content":"\n\u003Cp\u003E\nProtobuf was installed when I installed the old krpc python client... \u00A0I used pip following the old instructions. \u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nI just attempted to install via pip and it stalled at the os.link error.\n\nC:\\Python27\u0026gt;pip install krpc\nCollecting krpc\n\u00A0 Using cached krpc-0.2.0.zip\n\u00A0 \u00A0 Complete output from command python setup.py egg_info:\n\u00A0 \u00A0 Traceback (most recent call last):\n\u00A0 \u00A0 \u00A0 File \u0022\u0026lt;string\u0026gt;\u0022, line 1, in \u0026lt;module\u0026gt;\n\u00A0 \u00A0 \u00A0 File \u0022c:\\users\\art\\appdata\\local\\temp\\pip-build-8bek4b\\krpc\\setup.py\u0022, line 7, in \u0026lt;module\u0026gt;\n\u00A0 \u00A0 \u00A0 \u00A0 del os.link\n\u00A0 \u00A0 AttributeError: link\n\n\u00A0 \u00A0 ----------------------------------------\nCommand \u0022python setup.py egg_info\u0022 failed with error code 1 in c:\\users\\art\\appdata\\local\\temp\\pip-build-8bek4b\\krpc\n\nC:\\Python27\u0026gt;\u003C/pre\u003E\n\u003Cp\u003E\nWould you like me to uninstall and reinstall python and try fresh?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-26T23:31:06Z\u0022 title=\u002201/26/2016 11:31  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 26, 2016\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T23:57:58Z","Content":"\n\u003Cp\u003E\nI\u0027ve fixed the os.link bug and added a new release on pip (version 0.2.0.post1)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EI\u0027ve tested installing it\u00A0on my windows system and it\u00A0now works.\u00A0It also successfully downloaded the correct protobuf dependencies.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EIf installing that doesn\u0027t work, then yes it might be worth trying reinstalling python.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-26T23:58:21Z\u0022 title=\u002201/26/2016 11:58  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 26, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-27T01:19:27Z","Content":"\n\u003Cp\u003E\nThat worked perfectly! \u00A0 \u0022pip install krpc\u0022 uninstalled the protobuf alpha and grabbed the beta and everything is fine! \u00A0Sorry for the hassle!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nArt\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-27T01:43:27Z","Content":"\n\u003Cp\u003E\nSweet!\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s no hassle at all. Good to get feedback! There are so many languages and tools involved in this project it\u0027s quite a fun challenge to get\u00A0everything working\u00A0across different systems!\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-28T04:46:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222380029\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453810929\u0022 data-ipsquote-userid=\u0022108057\u0022 data-ipsquote-username=\u0022Antipaten\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/26/2016 at 4:22 AM, Antipaten said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA small rocket is around 30 parts and a large is around 100. I get short \u0022red lag\u0022 even without clients connected and no phys acceleration. Without the mod i can use 2x phys acceleration with green figures for the same (low part count) ship.\n\u003C/p\u003E\n\u003Cp\u003E\nHopefully this will sort itself out when KSP 1.1 is released and we get the multihreading Unity5. Single threading is a real P.I.T.A as it is virtually impossible to throw better hardware on performance problems. I just wondered if anyone had encountered it and knew if I\u0027ve done something silly in the settings. They are pretty much vanilla except for starting the server automatically and auto accepting clients. I didn\u0027t notice the lag until I really tried running the game for real using my control panel. The panel emulates joysticks for input to the game and only uses kRPC for reading fuel levels, acceleration, atmospheric density and mach number from the game every 200 ms.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m having trouble reproducing your issue \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E I tried flying the stock Dynawing (108 parts) whilst a python script was connected to the server calling KRPC.GetStatus once every 200ms. The framerate indicator was always green and it averaged ~57 fps (according to the debug menu). I only had the kRPC mod installed and used the default server settings. I saw the same framerates when running kRPC with no clients connected and also without kRPC installed.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have any mods other than kRPC installed? And could you send me your 100 part rocket and python script that\u0027s causing issues so that I can try and reproduce the problem?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-28T04:47:11Z\u0022 title=\u002201/28/2016 04:47  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 28, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003Cbr\u003Etypo\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-28T05:50:40Z","Content":"\n\u003Cp\u003E\nNoobish question of the day -\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe next thing I\u0027m trying to figure out... \u00A0is how to get a kRPCService I\u0027ve created to be accessible from the c# client library? \u00A0I\u0027ve linked my dll as a resource for the project, just as I have with KRPC and the SpaceCenter dll, but my service is\u00A0not accessible from my Connection object? \u00A0It\u0027s accessible from the Python library just where I\u0027d expect it. \u00A0Is there something I need to do namespace wise, maybe? \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-28T06:07:19Z","Content":"\n\u003Cp\u003E\nNot a noobish question at all!\n\u003C/p\u003E\n\u003Cp\u003E\nGetting services to be accessible from the python and lua clients is easy, as these clients interrogate the server to see what services are available and automatically create all the services classes and methods. The C# and C\u002B\u002B clients are different. C#/C\u002B\u002B code needs to be generated from the service.dll and compiled and linked into your C#/C\u002B\u002B project along with the client library.\n\u003C/p\u003E\n\u003Cp\u003E\nAll the tools needed to do this are in the main repo - but they are all tightly bound up in the Bazel build system at the moment. I\u0027ll see what I can do in terms of providing an easy-to-use code generator.\n\u003C/p\u003E\n\u003Cp\u003E\nFor now, if you like you could send me your service.dll and I can generate the required C# code for you?\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-28T06:54:44Z","Content":"\n\u003Cp\u003E\nWell, then I better test it thoroughly with Python before I bother you with that! \u00A0Who knows, you may have a code generator before I think my code\u0027s worth having you deal with by hand. \u00A0Thanks as always!\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-01-28T13:10:51Z","Content":"\n\u003Cp\u003E\nThe 0.2.0 version doesn\u0027t load on my KSP. Here\u0027s what I see in the log (it\u0027s Greek to me though)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n[LOG 08:04:06.321] Load(Assembly): kRPC/Google.Protobuf\n[LOG 08:04:06.322] AssemblyLoader: Loading assembly at C:\\Users\\Bart\\Documents\\Kerbal Space Program (modded)\\GameData\\kRPC\\Google.Protobuf.dll\n[LOG 08:04:06.329] Load(Assembly): kRPC/KRPC\n[LOG 08:04:06.329] AssemblyLoader: Loading assembly at C:\\Users\\Bart\\Documents\\Kerbal Space Program (modded)\\GameData\\kRPC\\KRPC.dll\n[ERR 08:04:06.332] Failed to load assembly C:\\Users\\Bart\\Documents\\Kerbal Space Program (modded)\\GameData\\kRPC\\KRPC.dll:\nSystem.UnauthorizedAccessException: Access to the path \u0022C:\\Users\\Bart\\Documents\\Kerbal Space Program (modded)\\GameData\\kRPC\\KRPC.dll\u0022 is denied.\n  at System.IO.FileStream..ctor (System.String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, Boolean anonymous, FileOptions options) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at System.IO.FileStream..ctor (System.String path, FileMode mode) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \n  at AssemblyLoader.LoadExternalAssembly (System.String file) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\n\u003Cp\u003E\nI have no clue what would cause access to the file to be denied; especially since the protobuf dll loads just fine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRemoved kRPC from the Gamedata folder, copied it back in. Removed all \u0022read-only\u0022 flags just for good measure.\u003Cbr\u003E\u003Cbr\u003E\nBetter but now I have the dreaded Protobuf problems...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEDIT AGAIN:\u003C/strong\u003E\u003Cbr\u003E\nAfter downloading the Protobuf 3.0 b2 wheel file and \u0022manually\u0022 installing it with \u003Cem\u003Epip\u003C/em\u003E, things work fine!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-28T13:38:32Z\u0022 title=\u002201/28/2016 01:38  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 28, 2016\u003C/time\u003E by Kerbart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-28T19:04:00Z","Content":"\n\u003Cp\u003E\nYep you found a bug. Looks like the permissions in the zip file are set to read only. Will fix that in the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy ksp can\u0027t load a read only DLL I have no idea - surely it doesn\u0027t want to modify it!?!\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-01-28T19:09:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222383793\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454007840\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep you found a bug. Looks like the permissions in the zip file are set to read only. Will fix that in the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy ksp can\u0027t load a read only DLL I have no idea - surely it doesn\u0027t want to modify it!?!\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMight be worth reporting to Squad. I agree that the DLL being read\u2013only should not be an issue. Not sure why it caught my eye but I\u0027m glad I have kRPC back in working order!\n\u003C/p\u003E\n"},{"CreatedByName":"troyfawkes","CreatedById":109437,"CreatedDateTime":"2016-01-28T21:44:16Z","Content":"\n\u003Cp\u003E\nAutoPilot PID question!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m struggling with the autopilot at the moment. The default values cause my crafts to flip around like lunatics when looking to point at a vector. I\u0027ve been fiddling with the values as well to try to find something reasonable, and it\u0027s just not going super well. I was wondering if anyone had any PID values that work for them?\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s kind of silly that my biggest issue isn\u0027t calculating an orbit, but rather stopping insane auto corrections on just pointing the right way :\u0027(\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2016-01-29T02:36:29Z","Content":"\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/109437-troyfawkes/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109437\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109437-troyfawkes/\u0022\u003E@troyfawkes\u003C/a\u003E, I think it\u0027s better to post that question in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/130742-105-krpc-remote-control-your-ships-using-python-c-c-lua-v020-25th-jan-2016/\u0022\u003Ethe new thread about \u003Cem\u003Eusing \u003C/em\u003EkRPC\u003C/a\u003E, so this thread can stay focused on development issues. It\u0027s a fairly new thread, so as far as I\u0027m concerned you\u0027re forgiven for posting it here... for now. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-29T02:37:29Z\u0022 title=\u002201/29/2016 02:37  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 29, 2016\u003C/time\u003E by Kerbart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2016-01-30T09:42:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222383008\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221453956391\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/28/2016 at 5:46 AM, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m having trouble reproducing your issue \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E I tried flying the stock Dynawing (108 parts) whilst a python script was connected to the server calling KRPC.GetStatus once every 200ms. The framerate indicator was always green and it averaged ~57 fps (according to the debug menu). I only had the kRPC mod installed and used the default server settings. I saw the same framerates when running kRPC with no clients connected and also without kRPC installed.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have any mods other than kRPC installed? And could you send me your 100 part rocket and python script that\u0027s causing issues so that I can try and reproduce the problem?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have a few mods but I uninstalled all the graphics intense ones and lowered the graphics settings. The save contains quite a few satellites and stuff but I mainly asked because there was a marked difference between when kRPC was installed and when it was not and wanted to know if it was a common problem.\n\u003C/p\u003E\n\u003Cp\u003E\nI will run a more systematic testing on a clean KSP installation with the latest version of kRPC before I\u0027m ready to cry bug for real. :-)\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-30T21:58:02Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022\u003E@Antipaten\u003C/a\u003E\u00A0, I\u0027m sorry to not have a better answer for you on everything - I just really haven\u0027t noticed much performance hit at all and so don\u0027t have a clue where to start on figuring out why you do.\u00A0Those are reasonable ship sizes... \u00A0I wouldn\u0027t think the other craft in the save file would affect you with kRPC and more than without... \u00A0If you can narrow it down to a conflicting mod or two, I\u0027m happy to try to duplicate it, then start looking at the code to see if I can help find the offensive routines!\u00A0 The game\u0027s framerate is probably a good number to record during your tests, so you can quantify the amount of slowdown you\u0027re seeing as you remove mods? \u00A0 What OS are you on? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you haven\u0027t upgraded to the 2.0 version of krpc, you might want to do that before trouble shooting... \u00A0I don\u0027t think anything that will greatly affect processor load has changed, but most of us doing troubleshooting with you will be on the new version so you may want to be upgraded, and who knows - it might just magically work better with the new version and new protbuf. \u00A0I don\u0027t know if the downloads are fixed yet - so if you have trouble with the new version and python, the secret seems to be installing the python library via pip rather than the setup.py file\u00A0so that protobuf gets updated too. \u00A0Though djungleorm may well have updated the downloads too, so you might be able to ignore me on that one. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2016-01-31T08:59:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222386736\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454191082\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022108057\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/108057-antipaten/\u0022\u003E@Antipaten\u003C/a\u003E\u00A0, I\u0027m sorry to not have a better answer for you on everything - I just really haven\u0027t noticed much performance hit at all and so don\u0027t have a clue where to start on figuring out why you do.\u00A0Those are reasonable ship sizes... \u00A0I wouldn\u0027t think the other craft in the save file would affect you with kRPC and more than without... \u00A0If you can narrow it down to a conflicting mod or two, I\u0027m happy to try to duplicate it, then start looking at the code to see if I can help find the offensive routines!\u00A0 The game\u0027s framerate is probably a good number to record during your tests, so you can quantify the amount of slowdown you\u0027re seeing as you remove mods? \u00A0 What OS are you on? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you haven\u0027t upgraded to the 2.0 version of krpc, you might want to do that before trouble shooting... \u00A0I don\u0027t think anything that will greatly affect processor load has changed, but most of us doing troubleshooting with you will be on the new version so you may want to be upgraded, and who knows - it might just magically work better with the new version and new protbuf. \u00A0I don\u0027t know if the downloads are fixed yet - so if you have trouble with the new version and python, the secret seems to be installing the python library via pip rather than the setup.py file\u00A0so that protobuf gets updated too. \u00A0Though djungleorm may well have updated the downloads too, so you might be able to ignore me on that one. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks a lot. I will try the new release on a clean install and see if it works and if it does, I\u0027ll add my other mods i priority order. It may take a while though as I\u0027m taking a break from KSP and my simpit at the moment, playing some Path of Exile while recovering from a couple of months of soft and hardware debugging. :-)\n\u003C/p\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2016-01-31T21:00:37Z","Content":"\n\u003Cp\u003E\nHi! In the python client, when I try to read,\u00A0conn.space_center.active_vessel.orbit.speed, the value always stays the same, even if in KSP the speed changes.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a bug or did I misunderstand something?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nBoth of these work, however:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nvessel.flight(vessel.orbit.body.non_rotating_reference_frame).speed\u003Cbr\u003E\nnp.linalg.norm(vessel.flight(vessel.orbit.body.non_rotating_reference_frame).velocity)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-31T21:19:01Z\u0022 title=\u002201/31/2016 09:19  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 31, 2016\u003C/time\u003E by Kobymaru\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-02-01T05:17:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222387936\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454274037\u0022 data-ipsquote-userid=\u0022107372\u0022 data-ipsquote-username=\u0022Kobymaru\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Kobymaru said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi! In the python client, when I try to read,\u00A0conn.space_center.active_vessel.orbit.speed, the value always stays the same, even if in KSP the speed changes.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a bug or did I misunderstand something?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nBoth of these work, however:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nvessel.flight(vessel.orbit.body.non_rotating_reference_frame).speed\u003Cbr\u003E\nnp.linalg.norm(vessel.flight(vessel.orbit.body.non_rotating_reference_frame).velocity)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt should match what\u0027s shown in the navball (in orbit mode), so sounds like a bug. Will investigate.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-02-01T05:56:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222387936\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454274037\u0022 data-ipsquote-userid=\u0022107372\u0022 data-ipsquote-username=\u0022Kobymaru\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Kobymaru said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi! In the python client, when I try to read,\u00A0conn.space_center.active_vessel.orbit.speed, the value always stays the same, even if in KSP the speed changes.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a bug or did I misunderstand something?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor me, it always returns 0. They must have changed something in KSP since I implemented it... The code was using Orbit.orbitalSpeed. Changing it to use Orbit.vel.magnitude (as suggested on the community API docs) appears to fix the issue. Here\u0027s a link to KRPC.SpaceCenter.dll with the fix applied:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/djungelorm/krpc/files/111770/KRPC.SpaceCenter.dll.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/files/111770/KRPC.SpaceCenter.dll.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if that works for you.\n\u003C/p\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2016-02-01T16:11:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222388520\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454306175\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLet me know if that works for you.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks, it works now!\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-02-11T06:30:42Z","Content":"\n\u003Cp\u003E\nVersion 0.2.1 has been released!\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a summary of the changes:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdded streams support to the C# client. Details here: \u003Ca href=\u0022http://djungelorm.github.io/krpc/docs/csharp/client.html#streaming-data-from-the-server\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://djungelorm.github.io/krpc/docs/csharp/client.html#streaming-data-from-the-server\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nAdded functions to get the surface/bedrock altitude/position vector at a given latitude/longitude on any celestial body: \u003Ca href=\u0022http://djungelorm.github.io/krpc/docs/python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.surface_height\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://djungelorm.github.io/krpc/docs/python/api/space-center/celestial-body.html#SpaceCenter.CelestialBody.surface_height\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nFixed vessel.orbit_speed always returning 0\n\u003C/li\u003E\n\u003Cli\u003E\nkrpc-clientgen: a tool for generating service stub code needed by \u0027static\u0027 clients (currently the C\u002B\u002B and C# clients). Useful if you want to write your own services (\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022118388\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/118388-artwhaley/\u0022\u003E@artwhaley\u003C/a\u003E!) Details here: \u003Ca href=\u0022http://djungelorm.github.io/krpc/docs/extending.html#generating-service-code-for-static-clients\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://djungelorm.github.io/krpc/docs/extending.html#generating-service-code-for-static-clients\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nThe C\u002B\u002B client no longer requires boost. It uses the standalone ASIO library for networking instead.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-11T06:32:01Z\u0022 title=\u002202/11/2016 06:32  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 11, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-02-11T06:36:41Z","Content":"\n\u003Cp\u003E\nAwesome! \u00A0 \u00A0You\u0027re really cranking out the greatness lately! \u00A0Keep it up and shout if you think of things you can use help with! \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-02-11T07:07:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222403353\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455172601\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAwesome! \u00A0 \u00A0You\u0027re really cranking out the greatness lately! \u00A0Keep it up and shout if you think of things you can use help with! \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! Feel free to tackle any of the issues on the github issue tracker \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I\u0027m currently working on adding streams support to the C\u002B\u002B client, and a Java client.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you (or anyone else!) have any experience with autopilot PIDs, that is something that needs work. I had a go at using the autopilot code from mechjeb (a long long time ago...) but could not get my head around it. Their code is a bit of a mess and quite hard to understand. So I ended up rolling my own. It works OK, but needs manual tuning of the PID parameters. It would be good if we could add some auto-tuning to it - somehow based on available torque and moment of inertia of the vessel I guess? The code is here: \u003Ca href=\u0022https://github.com/djungelorm/krpc/blob/master/service/SpaceCenter/src/Services/AutoPilot.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/blob/master/service/SpaceCenter/src/Services/AutoPilot.cs\u003C/a\u003E and here: \u003Ca href=\u0022https://github.com/djungelorm/krpc/tree/master/service/SpaceCenter/src/Utils\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/tree/master/service/SpaceCenter/src/Utils\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd let me know if you have any questions/issues with krpc-clientgen!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-11T07:26:02Z\u0022 title=\u002202/11/2016 07:26  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 11, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-02-11T19:14:45Z","Content":"\n\u003Cp\u003E\nI\u0027ll try out the clientgen feature as soon as I can! \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI... \u00A0HAVE fiddled a tiny bit with PID parameters in the real world - I used to play with ardupilot for turning RC planes into autonomous drones. \u00A0But I wasn\u0027t coding then, just playing with parameters. \u00A0I feel like you\u0027re right... \u00A0some combination of the reactionwheel torque, mass and moment of inertia would be a start in orbit... possibly modified by the control authority of the control surfaces (surface area * throwdistance * atmosphericDensity)? \u00A0First question after just glancing at the code... \u00A0do you feel like it would be worth all the effort to add separate PID values... or at least a scalar of some sort, for pitch, yaw, and roll? \u00A0 On spacecraft it\u0027s common to have more roll authority than pitch or yaw, because you\u0027re dealing with a shorter moment of inertia... \u00A0 \u00A0and on atmospheric craft it feels like it\u0027s frequently one axis that is overcontrolled? \u00A0But...that adds quite a bit of complexity, both to the code and for the user to figure out how to manage it? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe nice thing about building any auto-tuning mechanism is that I should be able to expose any additional data required to krpc, then\u00A0write most of the algorithm externally in python and fiddle with it without a thousand recompiles of the plugin and restarts\u00A0of KSP, then move the algorithm into the plugin after I get it working!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI also looked at the core heat additions in 1.0.5 after seeing that on the issue tracker. \u00A0I... didn\u0027t see much that I thought would be of interest to most players? \u00A0The CoreHeat module at the moment just seems to be used for resource converters... \u00A0and mostly to handle their thermal efficiency. \u00A0Do you think it would be better to include this as it\u0027s own class in /parts/ so you can definitely grab it for every part that has it, even though it\u0027s a strange \u0027part type\u0027 to grab a list of... \u00A0or add a couple of ways to try to\u00A0access the useful bits of this module\u00A0in the resource converter and resource harvester classes? \u00A0Do you think anyone actually wants these values? \u00A0If so, do you have a preference on implementation?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}