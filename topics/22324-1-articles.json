{"TopicId":22324,"ForumId":15,"TopicTitle":"Node placement helper","CreatedByName":"orson","CreatedById":31453,"CreatedDateTime":"2012-10-16T14:30:43Z","PageNum":1,"Articles":[{"CreatedByName":"orson","CreatedById":31453,"CreatedDateTime":"2012-10-16T14:30:43Z","Content":"\n\u003Cp\u003EHi all mod makers \u003C/p\u003E\u003Cp\u003EThis thread is designed to shed a little bit more light on node placement and orientation\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://imageshack.us/a/img16/2931/nodehelper.jpg\u0022 alt=\u0022nodehelper.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn the diagram bottom left corner we see the Blender orientation arrows , but overlayed is what happens to the orientation in KSP.\u003C/p\u003E\u003Cp\u003EAll the co-ordinates in KSP expand out from the objects origin point in either positive or negative terms \u003C/p\u003E\u003Cp\u003EIf you sat in the pod above .. then X\u002B would be left side , Y\u002B would be up , and Z- would be forwards , now this isn\u0027t the normal orientation KSP expects so have a look at the part making tutorials if your not sure .\u003C/p\u003E\u003Cp\u003Esample cfg entry--\u003C/p\u003E\u003Cp\u003E// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z\u003C/p\u003E\u003Cp\u003Enode_stack_top = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1 \u003C/p\u003E\u003Cp\u003EThis will place a node in the centre at the objects origin.... \u003C/p\u003E\u003Cp\u003Eif we alter that to ...\u003C/p\u003E\u003Cp\u003Enode_stack_top = 1.0, 1.0, -1.0, 0.0, 1.0, 0.0, 1\u003C/p\u003E\u003Cp\u003EThis would place a node to the left by 1 unit , up by 1 unit and forwards by 1 unit(or rather minus 1), in relation to the vehicle pictured .\u003C/p\u003E\u003Cp\u003EMost game assets would be oriented facing upwards along Y\u002B \u003C/p\u003E\u003Cp\u003EHow to move the origin point about in Blender ... hit Alt\u002BS , then select cursor to centre , or left click to position it anywhere you need it , now select the object in object mode , go to \u0022 object / transform / origin to 3D cursor \u0022\u003C/p\u003E\u003Cp\u003ECtrl\u002BA to apply any changes.\u003C/p\u003E\u003Cp\u003EAnyone spot any holes in this shout up and i\u0027ll amend , anyone found themselves more confused after reading it then let me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-16T14:35:26Z\u0022 title=\u002210/16/2012 02:35  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 16, 2012\u003C/time\u003E by orson\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-10-16T15:56:19Z","Content":"\n\u003Cp\u003EIt all looks technically correct. You might want to write a small bit about UpX, UpY, and UpZ (the 2nd set of numbers in the node config) - basically tells the parts connecting to the node which direction should face \u0022up\u0022\u003C/p\u003E\u003Cp\u003Ein this case its correctly set to Postive Y, which is the top of the model. if you wanted it to attach upside down, then you\u0027d specify Negative Y: X, Y, Z, 0, \u003Cstrong\u003E-1\u003C/strong\u003E, 0, 1\u003C/p\u003E\u003Cp\u003EAlso, the 7th digit is the node size; it can be set to 0, 1 or 2, zero being the tiny half-meter sized nodes, and 2 being the big nodes for the new large parts.\u003C/p\u003E\u003Cp\u003EOne thing that might confuse some people is the orientation in the image above. If the windows are on the \u0027front\u0022 with the pilots sitting looking out of them, then in KSP its basically facing backwards as shown, with the windows facing the camera\u0027s default position. And it will work fine like that of course, especially with the ability to rotate parts at will.\u003C/p\u003E\u003Cp\u003EJust for comparisons sake, in the stock 3man pod, the pilots lay back facing the top of the pod (\u002BY) with the tops of their heads facing -Z, and \u002BX is on their right hand.\u003C/p\u003E\n"},{"CreatedByName":"CrashnBurn","CreatedById":32280,"CreatedDateTime":"2012-10-16T16:17:24Z","Content":"\n\u003Cp\u003EAnother issue to note is the trouble connecting to Nodes when using Nodes with differing UP axes on the same part.\u003C/p\u003E\u003Cp\u003EThe last UP axis parsed in the part.cfg must be connected first, before the differing UP axis nodes will connect.\u003C/p\u003E\n"},{"CreatedByName":"orson","CreatedById":31453,"CreatedDateTime":"2012-10-16T18:08:51Z","Content":"\n\u003Cp\u003ETy for the awesome input gents \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Martonaut","CreatedById":26366,"CreatedDateTime":"2012-10-17T02:25:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022orson\u0022 data-cite=\u0022orson\u0022\u003E\u003Cdiv\u003E anyone found themselves more confused after reading it then let me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E that would be me... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003Cp\u003E2 minutes later.. \u003C/p\u003E\u003Cp\u003EOk after reading it a couple more times.. I got some questions.\u003C/p\u003E\u003Cp\u003EIf i would export something in blender that has the \u0022front\u0022 pointing the wrong way, and I flip it in unity, will it still put the nods on the axis of the mesh? (i hope i made myself clear on that one)\u003C/p\u003E\u003Cp\u003Eand is there an easy way to copy/past coordinates from blender to the config file? , i mean like if i want it to be on the top of a model, can I meshure the units from the origin to the top in blender, and just write them on the cfg?\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-10-17T03:31:27Z","Content":"\n\u003Cp\u003EWell KSP doesnt really care about the orientation of the model, it will put nodes at the exact coordinates you define in the config even if the mesh is 20 meters away. It only uses the origin or pivot point of the part as the 0,0,0 mark.\u003C/p\u003E\u003Cp\u003EYou can measure in Blender, as long as your scale is set to 1 meter. If you happen to have a single vertex in the exact place, you can \u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ehit N in Edit Mode \u003C/span\u003E\u003C/strong\u003Eand check the transform coordinates of that vertex and they will plugin right into your node:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/y49ZG.png\u0022 alt=\u0022y49ZG.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote on the upper left where it says Z: 1.000 - that is the postion of the vertex I have selected in the image (the one in the middle of the topcap, which is indeed at 0,0,1)\u003C/p\u003E\u003Cp\u003EYou must hit Ctrl\u002BA to apply any rescaling and such to the object or the coordinates could be inaccurate (and the same applies to using the edge length measurement)\u003C/p\u003E\u003Cp\u003ESpeaking of that, if you don\u0027t happen to have a handy vertex right where you want a node, you can use edges to measure and get the info. Its in the same info panel, just scroll down and check \u0022Numerics: Edge Length\u0022\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/hVkrQ.png\u0022 alt=\u0022hVkrQ.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote that the edges I have selected are 1m long, so any node on the outside of the cylinder on the X or Z axis would have \u00271\u0027 as well, in this case its X so it would be: 1,1,0 (Y is still 1 as well, since we know the topcap is 1 meter from the center from the 1st example; You can also measure one of the side lengths as well to find that. They will be 2 meters long total, so 1 meter up and 1 meter down)\u003C/p\u003E\u003Cp\u003EAnd a more advanced example:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vaSfm.png\u0022 alt=\u0022vaSfm.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis node would be on the edge of the top face, 45 degrees between the -X and \u002BY axis (\u002BY in blender, but remember Y and Z flip places when importing into KSP) so you get a node of -0.707, 1, 0.707\u003C/p\u003E\u003Cp\u003EOf course all of the coordinates above are for the first set of node configs, so it would be: \u003C/p\u003E\u003Cp\u003Enode_stack_top = -0.707, 1, 0.707, 0, 1, 0, 1\u003C/p\u003E\u003Cp\u003Ewhich makes Y point up and sets the node size to 1.\u003C/p\u003E\u003Cp\u003EYou can also use trigonometry (specifically the Pythagorean theory and sine/cosine relations) to find nodes too. Those 0.707 nodes should look familiar to you if you have done much geometry... but that is a little beyond the scope of this topic.\u003C/p\u003E\n"},{"CreatedByName":"Martonaut","CreatedById":26366,"CreatedDateTime":"2012-10-17T04:54:06Z","Content":"\n\u003Cp\u003Etyvm! now im getting it, this will make things a lot esier, I was doing it by trail and error \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E \u0026lt;3 yall\u003C/p\u003E\n"},{"CreatedByName":"orson","CreatedById":31453,"CreatedDateTime":"2012-10-17T11:39:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tiberion\u0022 data-cite=\u0022Tiberion\u0022\u003E\u003Cdiv\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrigormetry and pythorgararse theorum ? ... umm nope sorry i got a C in maths GCSE back in 85 lols running out on the last day shouting maths is for loosers ! ... who\u0027s laughing now tho , well not my math teacher he\u0027s probably dead \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo im hoping when you said top left of the pic you meant top right in the properties pane ? \u003C/p\u003E\u003Cp\u003EWhenever i used that method i end up with a crazy long number that has not worked so far in generating a useful co-ordinate .Perhaps i missed an important stage , still very novice with Blender .\u003C/p\u003E\u003Cp\u003EIt would help a lot if i knew where the figure originates ... is that the amount to the specific vertex from the origin ... or from the 3d cursor .... or from centre of screen ?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-17T12:04:53Z\u0022 title=\u002210/17/2012 12:04  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 17, 2012\u003C/time\u003E by orson\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-10-17T17:42:10Z","Content":"\n\u003Cp\u003EYes sorry, top right properties pane. And that is a 3d coordinate for the vertex I have selected, where the \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eorigin of your mesh\u003C/span\u003E (sometimes called the pivot because the object is scaled/rotates around this point) is 0,0,0 Not the 3d cursor, or the SCENE origin, which is where the X, Y, Z coordinates (the colored lines) meet in Blender.\u003C/p\u003E\u003Cp\u003EThe numbers shown there can look weird, but keep in mind we\u0027re always working with \u0022meters\u0022 as our unit for KSP.\u003C/p\u003E\u003Cp\u003ESo if it says something like \u0022X: 87.0657432876\u0022 if you look all the way at the end of it, it probably says \u0027cm\u0027 which means its measured in centimeters. You just need to convert that to meters; You hardly ever need to go beyond 3 decimal places, so just divide that by 100 and you get: 0.871 after rounding up, and thus you have your X coordinate.\u003C/p\u003E\u003Cp\u003EIt might also be something like: Y: 0.000000031 cm\u003C/p\u003E\u003Cp\u003EThat of course is very very close to 0, so much so you should probably just erase the number and set it back to 0. Blender keeps track of very small amounts of difference for precision modeling, but such small measurements aren\u0027t too useful for KSP engine, so you can ignore them and round them to nice big numbers.\u003C/p\u003E\n"},{"CreatedByName":"MKSheppard","CreatedById":53580,"CreatedDateTime":"2012-10-17T18:55:32Z","Content":"\n\u003Cp\u003EDon\u0027t forget to convert the coordinates by the scale factor in your CFG file!\u003C/p\u003E\u003Cp\u003EFor example, if your CFG file had\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Escale = 0.1\u003C/em\u003E\u003C/p\u003E\u003Cp\u003Ethen Blender\u0027s \u003C/p\u003E\u003Cp\u003EZ 0.37751\u003C/p\u003E\u003Cp\u003Ewould become:\u003C/p\u003E\u003Cp\u003EY 3.7751\u003C/p\u003E\n"},{"CreatedByName":"MKSheppard","CreatedById":53580,"CreatedDateTime":"2012-10-17T19:26:47Z","Content":"\n\u003Cp\u003ESo here\u0027s an improved version of Orson\u0027s original image, along with a ZIP file containing a XLS worksheet to convert from Blender Coordinates to KSP coordinates painlessly for you.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alternatewars.com/Mods/KSP/Blender_to_KSP_Co-Ordinates.png\u0022 alt=\u0022Blender_to_KSP_Co-Ordinates.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have it set up so that you can copy and paste from excel into the CFG file (with some massaging of it using the find/replace function to replace the white space tabs with nothing, then replacing \u0022,\u0022 with \u0022, \u0022 and it ends up formatted correctly for the CFG file.\u003C/p\u003E\u003Cp\u003E[ATTACH=CONFIG]34908[/ATTACH]\u003C/p\u003E\u003Cp\u003E[ATTACH]34909[/ATTACH]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222012-10-17T19:30:16Z\u0022 title=\u002210/17/2012 07:30  PM\u0022 data-short=\u002211 yr\u0022\u003EOctober 17, 2012\u003C/time\u003E by MKSheppard\u003C/strong\u003E\n\u003C/span\u003E\n"}]}