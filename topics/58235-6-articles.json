{"TopicId":58235,"ForumId":34,"TopicTitle":"[1.8-1.9] Modular Fuel Tanks v5.13.1","CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-12-30T08:03:39Z","PageNum":6,"Articles":[{"CreatedByName":"laggerd","CreatedById":83398,"CreatedDateTime":"2014-05-21T23:45:01Z","Content":"\n\u003Cp\u003Eall of the stock tanks as well as the procedural parts tanks only have the options of liquid fuel, oxidizer, monoprop, and xenon. Are the stock tanks configured for this mod?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-22T00:13:23Z","Content":"\n\u003Cp\u003Elaggerd: Yes they are. What did you *want* to put in them?\u003C/p\u003E\n"},{"CreatedByName":"laggerd","CreatedById":83398,"CreatedDateTime":"2014-05-22T00:17:15Z","Content":"\n\u003Cp\u003EI wanted to put kerosene, methane, LOX, basically what a normal tank would hold, but the only options I am getting are the stock resources\u003C/p\u003E\n"},{"CreatedByName":"ExavierMacbeth","CreatedById":110680,"CreatedDateTime":"2014-05-22T00:44:42Z","Content":"\n\u003Cp\u003E@laggerd: Thats because the cfgs for Modular fuel tanks links them to the default Tank Definition which is only configured to handle those default 4 resources.\u003C/p\u003E\u003Cp\u003EYou would need to add a new TankDefinition with the resorces you want (just create a cfg, copy the default defenition, rename it, and add more types of resources to it). After that add another entry to run a Module Manager check to update all the tanks to your new tank, an example is below.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ETANK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = NameofNewDefaultTankType\u003Cbr\u003E    basemass = 0.000625 * volume\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E        name = NewResource1\u003Cbr\u003E        mass = 0.000825\u003Cbr\u003E        amount = 0.0\u003Cbr\u003E        maxAmount = 0.0\u003Cbr\u003E        note = I am a note\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleFuelTanks]:HAS[#type[Default]],!MODULE[ModuleCommand]]:FINAL\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleFuelTanks]\u003Cbr\u003E    {\u003Cbr\u003E        @type = NameofNewDefaultTankType\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EJust make sure you include the default resources in your new tank definition if you still want them to be an option. Especially since the above will essentially update ALL default tanks to the new one which would make them all incapable of holding normal fuels if you don\u0027t \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: The \u0022:FINAL\u0022 on the Module Manager listing forces it to run after all the other processing has been complete. So this will update ALL of the other tanks that Modular Fuel Tanks already provides cfgs for... So your KW Rocketry tanks will get the correct module before you update it with a new tank type \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-22T00:46:43Z\u0022 title=\u002205/22/2014 12:46  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 22, 2014\u003C/time\u003E by ExavierMacbeth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-22T01:01:57Z","Content":"\n\u003Cp\u003Elaggerd: Also I think you may be confusing this mod with Real Fuels (sig). This mod *is* for stock fuels.\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2014-05-25T02:19:35Z","Content":"\n\u003Cp\u003ESo I\u0027ve got a bit of a unusual use case.\u003C/p\u003E\u003Cp\u003EI have an unmanned ATV part, which would be used to resupply space stations with crew provisions and propellant for stationkeeping, with the following mass budget:\u003C/p\u003E\u003Cp\u003EDry Mass: \u003Cstrong\u003E1.7t\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ELife Support supplies: \u003Cstrong\u003E~1.125t\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EPropellants:\u003Cstrong\u003E \u003C/strong\u003E\u003Cstrong\u003E\u003Cstrong\u003E0.8t\u003C/strong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E~3.625t TOTAL\u003C/p\u003E\u003Cp\u003EThe last part, propellants, is where I would like some help with. I\u0027d like to set it so that of the 800 kg limit allocated for propellants, users can fill *any* combination of LiquidFuel, Oxidizer, Monoprop and/or Xenon:\u003C/p\u003E\u003Cp\u003Eex. 1 - (88 Oxidizer * 5 kg/L) \u002B (72 LiquidFuel * 5 kg/L) =\u0026lt; 800kg\u003C/p\u003E\u003Cp\u003Eex. 2 - (55 Oxidizer * 5 kg/L) \u002B (45 LiquidFuel * 5 kg/L) \u002B (75 Monoprop* 4 kg/L) =\u0026lt; 800kg\u003C/p\u003E\u003Cp\u003Eex. 3 - (4000 Xenon * 0.1 kg/L) \u002B (100 Monoprop* 4 kg/L) =\u0026lt; 800kg\u003C/p\u003E\u003Cp\u003Eex. 2 - (55 Oxidizer * 5 kg/L) \u002B (45 LiquidFuel * 5 kg/L) \u002B (50 Monoprop* 4 kg/L) \u002B (1000 Xenon * 0.1 kg/L) =\u0026lt; 800kg\u003C/p\u003E\u003Cp\u003EHow would I compose such a tank definition?\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-25T07:48:28Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003Esumghai\u003C/strong\u003E: Hrm, well, for LF and O, it\u0027s pretty easy: at 5kg/u, 800kg would be 160u (note that unless using RealFuels, resource volumes are \u003Cem\u003Enot\u003C/em\u003E liters, but rather 5 liters (for most resources). If you really want a normal unit, use British gallons (close enough at 4.545l/gal)).\u003C/p\u003E\u003Cp\u003EI guess you would set the available volume to 160u, and utilization at 1 for LF and O.\u003C/p\u003E\u003Cp\u003EAt 4kg/u for monoprop, you want a utilization of 1.25 to get 800kg of monoprop into the specified 160u space. For xenon, 50.\u003C/p\u003E\u003Cp\u003EAll that said, it does not make sense to specify capacities via mass, as the size of the part is fixed, and thus your budget is limited by volume rather than mass. Leaving all utilizations at 1, this gives 800kg max for each of LF and 0, 640kg for monoprop and 16kg for xenon (assuming its utilization actually should be 1).\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2014-05-25T08:39:50Z","Content":"\n\u003Cp\u003ELike this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ETANK_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E    name = FusTekResupply_RearSection\u003Cbr\u003E    basemass = -1\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E      name = LiquidFuel\u003Cbr\u003E      amount = 0.0\u003Cbr\u003E      maxAmount = 45%\u003Cbr\u003E      utilization = 1\u003Cbr\u003E    }\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E      name = Oxidizer\u003Cbr\u003E      amount = 0.0\u003Cbr\u003E      maxAmount = 55%\u003Cbr\u003E      utilization = 1\u003Cbr\u003E    }\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E      name = MonoPropellant\u003Cbr\u003E      mass = 0.000625\u003Cbr\u003E      amount = 0.0\u003Cbr\u003E      maxAmount = 100%\u003Cbr\u003E      utilization = 1.25\u003Cbr\u003E    }\u003Cbr\u003E    TANK\u003Cbr\u003E    {\u003Cbr\u003E      name = XenonGas\u003Cbr\u003E      mass = 0.000625\u003Cbr\u003E      amount = 0.0\u003Cbr\u003E      maxAmount = 100%\u003Cbr\u003E      utilization = 50\u003Cbr\u003E       note = (pressurized)\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleFuelTanks\u003Cbr\u003E        volume = 160\u003Cbr\u003E        type = FusTekResupply_RearSection\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-25T15:29:09Z","Content":"\n\u003Cp\u003EThat should work. But you can also set overrides in the module definition; that way you don\u0027t have to create a new tank definition.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = ModuleFuelTanks\u003Cbr\u003E\t\tvolume = 160\u003Cbr\u003E\t\ttype = Default\u003Cbr\u003E\t\tTANK\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = MonoPropellant\u003Cbr\u003E\t\t\tutilization = 1.25\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\tTANK\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t  name = XenonGas\u003Cbr\u003E\t\t  utilization = 50\u003Cbr\u003E\t\t}\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-26T23:10:23Z","Content":"\n\u003Cp\u003ESo for MFT users, I\u0027ve developed a support package that improves your MFT experience in multiple ways.\u003C/p\u003E\u003Cp\u003EA lot of this is about integration with Procedural Parts, however there\u0027s other improvements to the GUI - better use of tweaking ect.\u003C/p\u003E\u003Cp\u003EIf you would like to give this a try, install my \u003Ca href=\u0022http://kerbal.curseforge.com/parts/220589-procedural-parts/files/2202939/download\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Eupdated MFT package\u003C/strong\u003E\u003C/a\u003E over the top of an existing MFT 4.3 install.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-05-27T09:07:36Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003Eswamp_ig\u003C/strong\u003E: is this because I\u0027ve been a lazy bum and not updated? If so, thank you, but I\u0027d better do an update. I take it this means you think MFT is ready for release.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-06-01T09:54:31Z","Content":"\n\u003Cp\u003EI have released version 5.0 of MFT. Download in the first post, changes in the second.\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-06-01T12:43:00Z","Content":"\n\u003Cp\u003ETaniwha: More because I was getting hassled out about it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2014-06-01T15:35:08Z","Content":"\n\u003Cp\u003EDo I need to make any changes here \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64117?p=903545\u0026amp;viewfull=1#post903545\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/64117?p=903545\u0026amp;viewfull=1#post903545\u003C/a\u003E to reflect changes between v4.2 -\u0026gt; v5.0?\u003C/p\u003E\u003Cp\u003EShould we move that write-up to a wiki page on Github?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-06-01T17:55:52Z","Content":"\n\u003Cp\u003EI think having it on the wiki would be good.\u003C/p\u003E\u003Cp\u003EIIRC the only notable new feature is dedicated=true, which can be applied to parts that have both a fuel tank and an engine (SRBs, liquid boosters) and make the fuel tank unconfigurable and \u0022locked\u0022 to the engine\u0027s fuel mixture, whatever that is.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-06-02T14:16:55Z","Content":"\n\u003Cp\u003EA minor bugfix update (5.0.1) has been released. Thanks to swamp-ig for the work.\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-06-02T14:21:42Z","Content":"\n\u003Cp\u003Ewell... it was my bug!\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-06-02T22:19:58Z","Content":"\n\u003Cp\u003EI have seen tanks that have the ability to create tanks with the default 40/60 split after the tanks have been deleted. I don\u0027t know how this was done, or how I could setup one to do other splits like this automatically. Is there anyway to configure this in the CFG? if so is it on the tank.cfg side, or the mft definitions side? thanks for the help\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-06-02T22:39:57Z","Content":"\n\u003Cp\u003EIf you have an engine attached to your vessel, tanks with a connection to that engine will have the option to be autoconfigured for that engine\u0027s mixture. These button(s) [1 per mixture, with a tooltip showing which engines use that mixture] will appear at the bottom of hte list of resources when there is available volume in the tank.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-06-04T06:19:38Z","Content":"\n\u003Cp\u003Etaniwha: VasVadum found that the readme link is dead. Guess you forgot to update it when you moved the files around? :]\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-06-04T06:39:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EIf you have an engine attached to your vessel, tanks with a connection to that engine will have the option to be autoconfigured for that engine\u0027s mixture. These button(s) [1 per mixture, with a tooltip showing which engines use that mixture] will appear at the bottom of hte list of resources when there is available volume in the tank.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethanks, I apreciate that I was wondering why it wasn\u0027t working. Now I just got to see if I can get people to agree on how much the ratio from fuel to water should be in stock tanks when it comes to TACLS and KSPI... I have CFG\u0027s that add there resources to MFT, and I am going to add another for Extraplanetary Launchpads tomorrow, all in my bid to get rid of extra tanks to lower models being loaded to lower my memory usage.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2014-06-04T12:08:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Etaniwha: VasVadum found that the readme link is dead. Guess you forgot to update it when you moved the files around? :]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, looks that way. I\u0027ve fixed the link. Thanks.\u003C/p\u003E\n"},{"CreatedByName":"Rampart","CreatedById":79170,"CreatedDateTime":"2014-06-04T13:58:48Z","Content":"\n\u003Cp\u003EFirst off, love the new GUI change, makes it way easier to work with.\u003C/p\u003E\u003Cp\u003EI did find a minor bug, which may be indicative of a larger issue but can\u0027t be sure. Using KSPI\u0027s DT Vista engine, if you add stock or spherical fuel tanks ahead of it, remove all included tanks and add a pure liquid fuel tank, on transfer to the launchpad from the VAB those tanks also get an extra oxidizer tank added that exceeds limits, and it breaks the clickability of the tank. Should be noted that I have the 3.75 stock decoupler after the DT Vista and then a LF/OX booster to get the thing to orbit.\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2014-06-06T01:16:54Z","Content":"\n\u003Cp\u003EOk, prior to this update I had two cfg\u0027s to add TACLS and KSPI resources to modular fuels. I did, and it worked. I installed this update and it borked the whole thing, originally I had an issue with a duplicate water entry. Now all of it works if i switch out the dll\u0027s for the older one. I originally had the temporary patch installed and it worked and I am not sure exactly what happened to cause it all to not work. But simply switching out the dll solves the problem. Is there a chance that things are being loaded wierd because of the changes to modulemanager? Do I need to add in some :has tags or something to make sure the cfgs are loaded into the tanktypes correctly? I don\u0027t know why one dll would work and the other wouldn\u0027t... any ideas?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/nBzekkfG\u0022 rel=\u0022external nofollow\u0022\u003Ekspi_mft.cfg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/kQLT87Cz\u0022 rel=\u0022external nofollow\u0022\u003ETACLifesupport_MFT.cfg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI tried different versions of modulemanager, and I don\u0027t know if its from that.. I don\u0027t know programming and the cfgs are the extent of my programming knowledge. So I don\u0027t know if it could be the problem, I only mentioned it because I know they changed some things and that there was some warnings about different versions. I don\u0027t know if that is even an issue here, I just toss it out because it was in my debugging path as I was trying to find the issue. I went over both cfgs double then tripple checking brackets, but I may have missed one, but I doubt it because the cfgs work with the older version of the mod. I am sorry to make extra work Taniwha and if there is anything I can do, send you a beer or something I am game if you can help me figure this out...\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-06-06T03:04:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MrWizerd\u0022 data-cite=\u0022MrWizerd\u0022\u003E\u003Cdiv\u003EOk, prior to this update I had two cfg\u0027s to add TACLS and KSPI resources to modular fuels. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo it was working fine with my patched version of RF, but not anymore? That\u0027s odd. There wasn\u0027t a huge amount of change between.\u003C/p\u003E\u003Cp\u003EAny exceptions in your log?\u003C/p\u003E\u003Cp\u003EYou aren\u0027t ending up with duplicate resources?\u003C/p\u003E\u003Cp\u003EEdit: The below reply might apply to you too. The only big change between my latest patch, and the released RF, is that only resources managed by RF are cleared from the tank, rather than everything.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-06T03:11:18Z\u0022 title=\u002206/06/2014 03:11  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 6, 2014\u003C/time\u003E by swamp_ig\u003C/strong\u003E\n\u003C/span\u003E\n"}]}