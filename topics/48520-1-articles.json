{"TopicId":48520,"ForumId":34,"TopicTitle":"[0.90]Kerbal Isp Difficulty Scaler v1.4.2; 12/16/14","CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-15T20:55:02Z","PageNum":1,"Articles":[{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-15T20:55:02Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EKerbal Isp Difficulty Scaler\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/pvng4d4.png\u0022 alt=\u0022pvng4d4.png\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETired of being able to reach orbit with tiny rockets?\u003C/p\u003E\u003Cp\u003EAnnoyed that pressures greater than 1 atm don\u0027t decrease your engine\u0027s Isp?\u003C/p\u003E\u003Cp\u003EWant Isp to control your engine\u0027s max thrust, not fuel flow?\u003C/p\u003E\u003Cp\u003ELike \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/20451-0-21-Ferram-Aerospace-Research-v0-9-6-2-Aerodynamics-Fixes-For-Planes-Rockets\u0022 rel=\u0022external nofollow\u0022\u003EFAR\u003C/a\u003E and realistic aerodynamics, but wish that it didn\u0027t unintentionally decrease the size rocket you need to get to orbit?\u003C/p\u003E\u003Cp\u003EWith Kerbal Isp Difficulty Scaler, you can change that by decreasing / increasing the Isps of all engines in your game, increasing / decreasing the size of the rockets you need to get anywhere.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEXCITING FEATURES!\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E* Define IspPresets, which allow you to make the following changes:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EVac Isp Multiplier - How much the vacuum Isp of the engine is scaled; \u0026gt;1 makes engines more efficient than stock, \u0026lt;1 makes them less efficient than stock \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAtm Isp Multiplier - Same as above, but at 1 atm (Kerbin Sea Level) \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EExtend Curve to Zero Isp - Choose whether to have Isp bottom out at 1 atm or continue decreasing until it hits 0 (does nothing if Isp increases with atmospheric pressure) \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EThrust Corrector - Choose whether to have thrust vary with Isp while fuel flow remains constant (as it should) or keep the stock constant thrust with variable fuel flow \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThrust Corrector Options - Can have engines rated for vacuum (creates rated thrust in vacuum and less on the pad) or rated for atmosphere (creates rated thrust on pad and more in vacuum) based on Isp and/or thrust\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003EIsp Cutoff - Isps above this will be considered \u0022vac-rated\u0022 while Isps below this will be considered \u0022atm-rated\u0022\u003Csup\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A0\u003C/sup\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThrust Cutoff - Rated thrusts below this will be considered \u0022vac-rated\u0022 while thrusts above this will be considered \u0022atm-rated\u0022\u003Csup\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A0\u003C/sup\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E* Select a different Preset for each saved game!\u003C/p\u003E\u003Cp\u003E* Compatibility with Kerbal Engineer and MechJeb; it still takes 4.5 km/s dV to get to Kerbin orbit in the stock game, and it still takes 3.5 km/s dV to get to Kerbin orbit with FAR installed!\u003C/p\u003E\u003Cp\u003E* Automatically works with all simple part-only mods!\u003C/p\u003E\u003Cp\u003E* Default Presets, including conversions that require real-life mass ratios and conversions to handle FAR\u0027s lower drag!\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A0If both Isp and thrust cutoffs are set the engine must have an Isp below the Isp Cutoff AND a thrust above the Thrust Cutoff to be \u0022atm-rated\u0022; this means only low-efficiency, high-thrust engines will be \u0022atm-rated\u0022 (based on your definitions of \u0022low\u0022 efficiency and \u0022high\u0022 thrust)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EKnown Issues:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIsps do not update in the VAB / SPH Parts List; this does not affect Kerbal Engineer or MechJeb calculations and those plugins will produce correct dV / Isp numbers\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENote: To avoid possibly exacerbating any of the win64 KSP build\u0027s instability inherent issues, this mod will disable itself if run on a win64 build of KSP.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003Ca href=\u0022http://beta.kerbalstuff.com/mod/56/Kerbal%20Isp%20Difficulty%20Scaler\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EDownload v1.4.2 from Kerbal Stuff!\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/ferram4/Kerbal-Isp-Difficulty-Scaler/releases/tag/v1.4.2\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EDownload v1.4.2 from GitHub!\u003C/strong\u003E\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www./#ok7bxrcdhbed7\u0022 rel=\u0022external nofollow\u0022\u003ELink to older versions\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ELicensed under GNU GPL v3\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EFAQ\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EI\u0027m using the win64 KSP build and KIDS doesn\u0027t seem to be functioning. What gives?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDue to the instability of the win64 KSP build, KIDS will disable itself on that build. This is to ensure that any issues caused by the win64 build can be definitively traced back to it. KIDS is not supported on the win64 build, and you are encouraged to use either the win32 build or to switch over to linux, as both of those builds are much more stable.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-16T18:41:30Z\u0022 title=\u002212/16/2014 06:41  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 16, 2014\u003C/time\u003E by ferram4\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheCanadianVendingMachine","CreatedById":59684,"CreatedDateTime":"2013-10-15T21:14:05Z","Content":"\n\u003Cp\u003EReally? Wow, congrats on this. It is actually funny. Anyhow, I already downloaded an installed. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-15T21:14:18Z","Content":"\n\u003Cp\u003EHAHAHAHA. Finally ran out of patience? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Carzum","CreatedById":71528,"CreatedDateTime":"2013-10-15T21:45:03Z","Content":"\n\u003Cp\u003EAwesome! Gonna give this a go.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2013-10-15T22:05:04Z","Content":"\n\u003Cp\u003EKIDS PLS...\u003C/p\u003E\u003Cp\u003EAllowing you to brag mercilessly to the NO MODS crowd.\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2013-10-15T22:54:56Z","Content":"\n\u003Cp\u003EExcellent!\u003C/p\u003E\n"},{"CreatedByName":"MAKC","CreatedById":57186,"CreatedDateTime":"2013-10-15T23:20:45Z","Content":"\n\u003Cp\u003EWhat\u0027s the difference between Raw and Adjusted?\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-16T00:03:55Z","Content":"\n\u003Cp\u003ERaw reduces Isp so that a rocket that makes 9 km/s with stock will make 4.5 km/s, allowing it to just barely reach orbit. If that was enough to account for the differences between KSP and real life, that would be it. However, there are hidden complications:\u003C/p\u003E\u003Cp\u003EThere\u0027s a ratio that isn\u0027t often talked about in KSP, called the \u003Cem\u003Estructure ratio\u003C/em\u003E which is the fraction of the booster (note: no payload here) that is not fuel; this is the tank\u0027s dry mass, engine mass, decouplers, fins, separatrons, etc; the higher the number is, the less dV you can get out of the rocket. For math reference, the rocket equation, written in terms of structure ratio and another ratio, the \u003Cem\u003Epayload ratio\u003C/em\u003E, is:\u003C/p\u003E\u003Cp\u003EdV = Isp * g0 * ln((1 \u002B p) / (e \u002B p))\u003C/p\u003E\u003Cp\u003Ep = m_payload / (m_structure \u002B m_fuel) -- payload ratio; ratio of payload mass to mass of entire booster\u003C/p\u003E\u003Cp\u003Ee = m_structure / (m_structure \u002B m_fuel) -- structure ratio; ratio of structure mass to mass of entire booster\u003C/p\u003E\u003Cp\u003EIn real life, it\u0027s not \u003Cem\u003Etoo\u003C/em\u003E difficult to get structure ratio down to 0.1; the best I\u0027ve found is the Saturn V first stage, which was just under 0.06.\u003C/p\u003E\u003Cp\u003EIn KSP, the lowest structure ratio possible is 0.1111111... assuming that your rocket is all fuel tanks and the engine weighs nothing; for it to practical it has to at least have a TWR of 1 on Kerbin, and the lowest you can get that is ~0.14666666... which is a Mainsail pushing nothing but fuel tanks, no decouplers on top, no payload (read: totally useless as a booster), which puts a rather high lower limit on the structure ratio in KSP.\u003C/p\u003E\u003Cp\u003ESo the Adjusted preset tries to finagle away the obvious differences in dV that will result from a booster that has a structure ratio of 0.1 and one that has a structure ratio of 0.146666.... with a payload ratio of 0.05. Of course, this is technically wrong, since it\u0027s trying to use a single linear factor to account for a nonlinear difference, but it\u0027s close enough for Kerbal engineering.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETL;DR: \u003C/strong\u003EKSP rockets are less fuel by percent mass than real life rockets, making them less efficient; Raw doesn\u0027t try to fix it, Adjusted tries to finagle the difference away.\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2013-10-16T00:10:14Z","Content":"\n\u003Cp\u003EJust took it for a quick test drive. FAR to Real, Adjusted is the mode for me. Works exactly as advertised. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFerram, congrats on another universally game changing mod. FAR and now KIDS are essentials; everything else is optional.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-10-16T01:50:19Z","Content":"\n\u003Cp\u003EI am not sure I understand what problem this mods tries to fix \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EThough it must be good if it is coming from Ferram4.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Patupi","CreatedById":71098,"CreatedDateTime":"2013-10-16T02:01:37Z","Content":"\n\u003Cp\u003EIn short... It\u0027s too easy to get a rocket to orbit in KSP compared to RL. Comparative dvs are less, even adjusting for lower planet diameter making gravity fall off faster as you go up compared to earth. At least I think that\u0027s what he\u0027s talking about.\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2013-10-16T02:13:42Z","Content":"\n\u003Cp\u003ERight, in stock KSP it\u0027s so absurdly easy to reach orbit. If your payload is the stock 1-kerbal capsule, you don\u0027t need to think about staging or boosters at all. Just one engine and a few fuel tanks will do it with no problem. That\u0027s just plain \u003Cem\u003Ewrong.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EThis mod fixes that problem.\u003C/p\u003E\n"},{"CreatedByName":"Nobody_1707","CreatedById":42582,"CreatedDateTime":"2013-10-16T02:18:11Z","Content":"\n\u003Cp\u003EO_O Wow. My post in the FAR thread last night was spookily timed.\u003C/p\u003E\u003Cp\u003EWhat\u0027s KIDS?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-16T02:18:37Z","Content":"\n\u003Cp\u003EIt tries to fix the fact that KSP rockets to LKO average 15% payload, whereas you\u0027d be lucky to break 1% in real life. The Ariane V is amazing at 2%. It\u0027s because Kerbin requires less than half the deltaV to reach orbit that Earth does, and deltaV has an exponential relationship with rocket mass (Tsiolkovsky\u0027s rocket equation).\u003C/p\u003E\u003Cp\u003EKIDS? You know, the little folks who\u0027ll carry on the human race? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png\u0022 alt=\u0022^_^\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nobody_1707","CreatedById":42582,"CreatedDateTime":"2013-10-16T02:27:13Z","Content":"\n\u003Cp\u003EDOH! I get it... I\u0027m a bi\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A0 slow sometimes.\u003C/p\u003E\n"},{"CreatedByName":"Patupi","CreatedById":71098,"CreatedDateTime":"2013-10-16T02:38:57Z","Content":"\n\u003Cp\u003EYeah, the factor I was talking about (one of several that make it easier to reach orbit in KSP) is that gravity is the same on the surface of Kerbin as it is on Earth, but the diameter is 1/10th of Earth\u0027s. Since gravity forces are quartered if you double your distance from the center of gravity (center of the planet) it\u0027s proportional. IE the gravity 10KM above Kerbin is the same as 100km above earth! So it\u0027s one more reduction in how much force is needed to get up there. You know, like the odd ISP values compared to RL, the variances in scale of engines\u0027 output, the simplified drag factors, the atmosphere being lower.... etc etc\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-16T02:41:05Z\u0022 title=\u002210/16/2013 02:41  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 16, 2013\u003C/time\u003E by Patupi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Supernovy","CreatedById":29617,"CreatedDateTime":"2013-10-16T05:24:40Z","Content":"\n\u003Cp\u003EDoes this fix the stock fuel consumption changing with Isp thing in favour of the more realistic thrust changing with Isp, or is that not something you plan on?\u003C/p\u003E\u003Cp\u003EEither way, looks interesting. Another one of the realism / hard-mode plugins.\u003C/p\u003E\n"},{"CreatedByName":"AmpsterMan","CreatedById":32671,"CreatedDateTime":"2013-10-16T05:32:13Z","Content":"\n\u003Cp\u003ESo If I understand this correctly, it makes flying through the atmosphere easier if we have FAR, decreases payload fractions if we use a more realistic setting, but makes engines lighter somehow? I am going to have to download and check this out!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-16T05:38:25Z","Content":"\n\u003Cp\u003ESupernovy, nope, this just scales Isp. You need either Modular Fuels (sig) or Arcturus Thrust Corrector for that.\u003C/p\u003E\u003Cp\u003EAmpsterman, nope, all it does is scale Isp (sea level and vacuum) to values you set. Well, and it also lets pressure go above 1.0 and scales Isp to match.\u003C/p\u003E\u003Cp\u003EWhat\u0027s also provided are some presets to match real-world conditions, for both stock KSP (4.5km/s to orbit) and FAR (3-3.5km/s to orbit).\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-16T06:10:56Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Supernovy: \u003C/strong\u003EAs NathanKell already said, the Arcturus Thrust Corrector already does that. I might add that as a feature if it\u0027s desired enough, but lacking any info about conflicts with Arcturus, I don\u0027t see a pressing need to add that.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@AmpsterMan: \u003C/strong\u003EDoesn\u0027t modify thrust values or engine mass, only the Isps of the engines.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@NathanKell: \u003C/strong\u003ELooking at the Modular Fuels System source code, I don\u0027t think this will work with it as is; I can look into providing support for it in a later version though.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-16T06:14:51Z","Content":"\n\u003Cp\u003EOoh, that\u0027d be right kind of you if you would; I\u0027d be happy to write an interface on my end if that would help.\u003C/p\u003E\u003Cp\u003EYeah, actually, makes way more sense if I write a hook on my end. I\u0027ll add a receiving function (as I\u0027ve already done so my Stretchy mod can change thrust in configs) that takes the two floats of yours. You sendmessage, and from that I\u0027ll read in the two floats and scale all my Isps by that.\u003C/p\u003E\u003Cp\u003ENot quite sure of a quick and easy way to handle the scaling at \u0026gt;1 pressure other than just copying your code and having you sendmessage a bool...\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-16T06:17:40Z","Content":"\n\u003Cp\u003EJust tell me what values I need to look for and I can code it entirely on my end, sort of like how Procedural Wings works with FAR; if there problems I\u0027ll bring it up and we can do it your way.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-16T06:44:44Z","Content":"\n\u003Cp\u003ESo, I was writing this up, the long process I go through, and I realized I already have exactly the values you need (partly). I already _have_ IspV and IspSL multipliers per config.\u003C/p\u003E\u003Cp\u003EIn each ModuleEngineConfigs there\u0027s a List\u0026lt;ConfigNode\u0026gt; configs. In that are multiple CONFIG nodes, and in each you should find IspV and IspSL. Multiply them by your appropriate scalar, if you haven\u0027t already already. When MFS nexts calls SetConfiguration, Isps will be updated.\u003C/p\u003E\u003Cp\u003EHowever, for engines that don\u0027t yet use the new TechLevel system (or use hybrid engines) it\u0027s a bit more complicated. New hybrid engines (ModuleHybridEngine) are easy: they use the same CONFIG system as modular engines. If you don\u0027t find IspV and IspL, you look in each CONFIG for an atmosphereCurve and change it.\u003C/p\u003E\u003Cp\u003EOld hybrid engines (ModuleHybridEngines) are basically identical to B9\u0027s HydraEngineController (which, I might point out, I think this also fails on). They have primaryEngine and secondaryEngine nodes under their module node, and atmosphereCurves in those.\u003C/p\u003E\u003Cp\u003EThe real issue is how do you extend down the curve for TL-enabled engines, and here\u0027s the rub. I recreate the floatcurves on the fly whenever I call SetConfiguration, by examining some stored float curves and grabbing only their pressure(0) and pressure(1) nodes. So if you want to go above pressure(1) you\u0027d have to run your change directly on the part, after each time I run SetConfiguration, I think, unless I add a handler?\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2013-10-16T06:52:15Z","Content":"\n\u003Cp\u003EOoh, will certainly try this out as soon as I get home. I wonder what monstrosities I\u0027ll need to run my space program with this installed.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-16T07:12:56Z","Content":"\n\u003Cp\u003EYeah, looking more closely I think a handler might make more sense (at least for the TechLevel-enabled engines), especially since the alternative will have KIDS doing a lot more work than it needs to. The method I use to extend the Isp curve can be found if you just search for \u0022extendToZero\u0022 and look for the math-intensive code.\u003C/p\u003E\u003Cp\u003ENow, looking at the old hybrid engines (and assuming that the B9 HydraEngineController functions the same way) this should handle it already... Correct me if I\u0027m wrong, but do those modules function by adding a ModuleEngines PartModule each time the engine mode switches? Because if they do, then KIDS should handle it perfectly fine and it\u0027s only the newer engines that will be a problem.\u003C/p\u003E\n"}]}