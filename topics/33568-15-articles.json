{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":15,"Articles":[{"CreatedByName":"MaverickSawyer","CreatedById":11952,"CreatedDateTime":"2014-01-16T06:09:33Z","Content":"\n\u003Cp\u003EVery slick. Much more intuitive than what I had in mind. Can\u0027t wait to see this in action!\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-01-16T21:29:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EI just uploaded \u003Cstrong\u003Ev0.11.2\u003C/strong\u003E which should resolve the remaining plotting issues. Could you check it out and take a look to verify? It all works on my end now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems that the source code in the package did not get updated along with the executable. I\u0027m seeing the .exe report itself as version 0.11.2, but the source code (and anything I compile from it) reports as 0.11. Can you verify that the archive on the OP has the correct source code?\u003C/p\u003E\u003Cp\u003EI\u0027ve been recompiling each of these subversions for OSX and they\u0027ve all been behaving well.\u003C/p\u003E\u003Cp\u003E-Brian\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-17T02:49:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bk2w\u0022 data-cite=\u0022bk2w\u0022\u003E\u003Cdiv\u003EIt seems that the source code in the package did not get updated along with the executable. I\u0027m seeing the .exe report itself as version 0.11.2, but the source code (and anything I compile from it) reports as 0.11. Can you verify that the archive on the OP has the correct source code?\u003Cp\u003EI\u0027ve been recompiling each of these subversions for OSX and they\u0027ve all been behaving well.\u003C/p\u003E\u003Cp\u003E-Brian\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHuh, you\u0027re completely right, I did forget to update the source code. I\u0027ve just uploaded a new package for 0.11.2 that has that source code in it. Can you give it a try and see if that\u0027s more to your liking? Sorry about that! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Billy-Bobbart Kerm\u00C3\u0192\u00C2\u00A2n","CreatedById":101286,"CreatedDateTime":"2014-01-18T05:18:22Z","Content":"\n\u003Cp\u003EThis is a great piece of work! Just a suggestion on the instructions though - I spent HOURS trying to get it to work before I found a post mentioning to copy the KSPTOTConnect folder to KSP\u0027s Gamedata folder. Should have been obvious I suppose, but may be worth while to put it in the instructions. Just a suggestion! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003EInstallation Instructions\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003ETo install and run KSP TOT, do the following:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cbr\u003E[*=left]Download the \u003C/li\u003E\u003C/ol\u003E\u003Ca href=\u0022http://www.mathworks.com/supportfiles/MCR_Runtime/R2013a/MCR_R2013a_win32_installer.exe\u0022 rel=\u0022external nofollow\u0022\u003EWindows 32-bit 2013a MATLAB Compiler Runtime (MCR)\u003C/a\u003E. \u003Cbr\u003E[*=left]Install the MCR package on your computer. \u003Cbr\u003E[*=left]Download the \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOT.zip\u0022 rel=\u0022external nofollow\u0022\u003EKSP TOT package\u003C/a\u003E. \u003Cbr\u003E[*=left]Unzip the KSP TOT package to a directory of your choosing.\u003Cbr\u003E[*=left]\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cstrong\u003ECopy the KSPTOTConnect folder to your KSP Gamedata folder\u003C/strong\u003E\u003C/span\u003E.\u003Cbr\u003E[*=left]Run the KSPTOT application. \u003Cbr\u003E[*=left]To update from a previous version, just repeat steps 3-5. There is no need to re-download the MCR. \u003Cbr\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"billeinstein","CreatedById":63495,"CreatedDateTime":"2014-01-19T02:41:56Z","Content":"\n\u003Cp\u003EI want to use this tool for RealSolarSystem mod. Then I should build a new bodies.ini file.\u003C/p\u003E\u003Cp\u003EBut I need some help. For Example \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[Kerbin]\u003Cbr\u003Eepoch = 0\u003Cbr\u003Esma = 13599840.256\u003Cbr\u003Eecc = 0\u003Cbr\u003Einc = 0\u003Cbr\u003Eraan = 0 \u003Cbr\u003Earg = 0\u003Cbr\u003Emean = 179.908747671079\u003Cbr\u003Egm = 3531.6\u003Cbr\u003Eradius = 600\u003Cbr\u003EatmoHgt = 69.077553\u003Cbr\u003Ebodycolor = winter\u003Cbr\u003EcanBeCentral = 1\u003Cbr\u003EcanBeArriveDepart = 1\u003Cbr\u003Eparent = Sun\u003Cbr\u003Ename = Kerbin\u003Cbr\u003Eid = 1\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EKerbin\u003Cbr\u003E\t{\u003Cbr\u003E\t\tSSTScale = 1\u003Cbr\u003E\t\tRadius = 6371000\u003Cbr\u003E\t\trotationPeriod = 86164.0916\u003Cbr\u003E\t\ttidallyLocked = false\u003Cbr\u003E\t\taxialTilt = 23.44\u003Cbr\u003E\t\tatmosphereScaleHeight = 7.5\u003Cbr\u003E\t\tmaxAtmosphereAltitude = 104000\u003Cbr\u003E\t\tOrbit\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tsemiMajorAxis = 149598261000\u003Cbr\u003E\t\t\teccentricity = 0.01671123\u003Cbr\u003E\t\t\tinclination = 0\u003Cbr\u003E\t\t\tmeanAnomalyAtEpochD = 357.51716\u003Cbr\u003E\t\t\tperiod = 31558149.7635456\u003Cbr\u003E\t\t\tLAN = 348.73936\u003Cbr\u003E\t\t\targumentOfPeriapsis = 114.20783\u003Cbr\u003E\t\t}\u003Cbr\u003E......\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow to apply this \u0022axialTilt = 23.44\u0022 in bodies.ini? Or shall I ignore it\u00C3\u00AF\u00C2\u00BC\u00C5\u00B8\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-19T02:45:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Billy-Bobbart Kerm\u00C3\u0192\u00C2\u00A2n\u0022 data-cite=\u0022Billy-Bobbart Kerm\u00C3\u0192\u00C2\u00A2n\u0022\u003E\u003Cdiv\u003EThis is a great piece of work! Just a suggestion on the instructions though - I spent HOURS trying to get it to work before I found a post mentioning to copy the KSPTOTConnect folder to KSP\u0027s Gamedata folder. Should have been obvious I suppose, but may be worth while to put it in the instructions. Just a suggestion! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDone! Great suggestion, thanks for thinking of it. I completely forgot to update my install instructions. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022billeinstein\u0022 data-cite=\u0022billeinstein\u0022\u003E\u003Cdiv\u003EI want to use this tool for RealSolarSystem mod. Then I should build a new bodies.ini file.\u003Cp\u003EBut I need some help. For Example \u003C/p\u003E\u003Cp\u003E\u0026lt;snip\u0026gt;\u003C/p\u003E\u003Cp\u003EHow to apply this \u0022axialTilt = 23.44\u0022 in bodies.ini? Or shall I ignore it\u00C3\u00AF\u00C2\u00BC\u00C5\u00B8\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESadly, you\u0027ll have to ignore. KSP TOT and stock KSP do not handle axial tilt at the moment, so I don\u0027t have any reason to work with that kind of thing. Sorry!\u003C/p\u003E\n"},{"CreatedByName":"Garek","CreatedById":73214,"CreatedDateTime":"2014-01-19T18:46:49Z","Content":"\n\u003Cp\u003EI don\u0027t have MechJeb and for node input I would like to use PreciseNode. That doesn\u0027t have the snap-to-node \u002B shift-time functions MechJeb has, but rather a plain simple UT input field. So would it be possible to output the UT for the burns?\u003C/p\u003E\u003Cp\u003EEDIT: so it seems PreciseNode actually has some additional time controls which would make burn time after Periapsis work. Nevertheless I would apreciate a UT output there, if it\u0027s not to complicated to do.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-19T21:00:44Z\u0022 title=\u002201/19/2014 09:00  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 19, 2014\u003C/time\u003E by Garek\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-20T05:51:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Garek\u0022 data-cite=\u0022Garek\u0022\u003E\u003Cdiv\u003EI don\u0027t have MechJeb and for node input I would like to use PreciseNode. That doesn\u0027t have the snap-to-node \u002B shift-time functions MechJeb has, but rather a plain simple UT input field. So would it be possible to output the UT for the burns?\u003Cp\u003EEDIT: so it seems PreciseNode actually has some additional time controls which would make burn time after Periapsis work. Nevertheless I would apreciate a UT output there, if it\u0027s not to complicated to do.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn general, it is not possible to know the precise UT to place the node at. This is because, while the time of the optimal maneuver might be known, the position of the vehicle in it\u0027s orbit and the epoch of that position is typically not a required parameter for most analyses. The time of the maneuver varies slightly when this is taken into account.\u003C/p\u003E\u003Cp\u003EIn short, use the \u0022time past periapse\u0022 for placing nodes, it\u0027s much cleaner and does not require additional information to compute. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Garek","CreatedById":73214,"CreatedDateTime":"2014-01-20T11:50:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003EIn general, it is not possible to know the precise UT to place the node at. This is because, while the time of the optimal maneuver might be known, the position of the vehicle in it\u0027s orbit and the epoch of that position is typically not a required parameter for most analyses. The time of the maneuver varies slightly when this is taken into account.\u003Cp\u003EIn short, use the \u0022time past periapse\u0022 for placing nodes, it\u0027s much cleaner and does not require additional information to compute. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay, that makes sense. Because of...stuff it will be wednesday before I get back to the game, but then I will try to make it work with the additional UT controls I found in PreciseNode. I guess that should work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-22T00:40:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Garek\u0022 data-cite=\u0022Garek\u0022\u003E\u003Cdiv\u003EOkay, that makes sense. Because of...stuff it will be wednesday before I get back to the game, but then I will try to make it work with the additional UT controls I found in PreciseNode. I guess that should work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat! Let me know how it goes. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FanaticalFighter","CreatedById":77314,"CreatedDateTime":"2014-01-22T10:27:55Z","Content":"\n\u003Cp\u003EThis has to be the best thing I\u0027ve discovered for KSP. Arrowstar - you are AWESOME.\u003C/p\u003E\u003Cp\u003EI have a few questions:\u003C/p\u003E\u003Cp\u003E1. How do I calculate free-return trajectories to the moon?\u003C/p\u003E\u003Cp\u003E2. Any way to calculate flybys of Joolean Moons? As in, I go to the Jool, and then find the best way to get flybys from moons with the least amount of dV possible?\u003C/p\u003E\u003Cp\u003E3. How can I get the true mean anomaly for maneuver execution assistant? Sometimes, my burns can be long, and this tool would really come in handy then, but I have no clue how to grab a maneuver\u0027s true mean anomaly (KSP stores maneuvers through time, not TMA)\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-23T14:30:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FanaticalFighter\u0022 data-cite=\u0022FanaticalFighter\u0022\u003E\u003Cdiv\u003EThis has to be the best thing I\u0027ve discovered for KSP. Arrowstar - you are AWESOME.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! I really do like hearing that people enjoy using something that I\u0027ve poured hundreds of hours into over the past year. Makes me all warm and fuzzy inside. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FanaticalFighter\u0022 data-cite=\u0022FanaticalFighter\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E1. How do I calculate free-return trajectories to the moon?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt the moment, I don\u0027t actually have this math in KSP TOT. Not that I couldn\u0027t (there an analytical solution if you know how to set it up properly), but no one\u0027s ever asked before. I would use the rendezvous planner, target the Mun, and then in KSP, change the delta-v just a bit using a maneuver node editor plugin (in prograde direction and time) until you get what you want.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FanaticalFighter\u0022 data-cite=\u0022FanaticalFighter\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E2. Any way to calculate flybys of Joolean Moons? As in, I go to the Jool, and then find the best way to get flybys from moons with the least amount of dV possible?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe fly by maneuver sequencer should be able to help with this. Give it a go and let me know what questions you have.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FanaticalFighter\u0022 data-cite=\u0022FanaticalFighter\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E3. How can I get the true mean anomaly for maneuver execution assistant? Sometimes, my burns can be long, and this tool would really come in handy then, but I have no clue how to grab a maneuver\u0027s true mean anomaly (KSP stores maneuvers through time, not TMA)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m running to work at the moment; I\u0027ll investigate tonight. Remind me if I don\u0027t get back to you by tomorrow. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"billeinstein","CreatedById":63495,"CreatedDateTime":"2014-01-23T16:30:33Z","Content":"\n\u003Cp\u003EOff-plane trajectories (two impulse Lambert solutions) sometimes may not be good enough. The calculation can get a high inclination eject trajectory which needs more dv. It will be better if it can optimize the transfer trajectories with DSM (Deep Space Maneuvers) sometimes. Such as source plane transfer in the IMFD of Orbiter.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19940010378_1994010378.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19940010378_1994010378.pdf\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnother example is this web planner (transfer type)\u00C3\u00AF\u00C2\u00BC\u00C5\u00A1\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://alexmoon.github.io/ksp/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://alexmoon.github.io/ksp/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-24T14:32:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022billeinstein\u0022 data-cite=\u0022billeinstein\u0022\u003E\u003Cdiv\u003EOff-plane trajectories (two impulse Lambert solutions) sometimes may not be good enough. The calculation can get a high inclination eject trajectory which needs more dv. It will be better if it can optimize the transfer trajectories with DSM (Deep Space Maneuvers) sometimes. Such as source plane transfer in the IMFD of Orbiter.\u003Cp\u003E\u003Ca href=\u0022http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19940010378_1994010378.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19940010378_1994010378.pdf\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnother example is this web planner (transfer type)\u00C3\u00AF\u00C2\u00BC\u00C5\u00A1\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://alexmoon.github.io/ksp/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://alexmoon.github.io/ksp/\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi! I\u0027ve considered implementing DSM code, but decided against it because in most cases the ballistic trajectories TOT already gives you are good enough (in short, not enough unique utility). Thanks for the suggestion, though!\u003C/p\u003E\u003Cp\u003E(Though I should point out that if you would like to PM me with a link to some working DSM maneuver code, I\u0027ll certainly take a look again.)\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-26T07:58:58Z","Content":"\n\u003Cp\u003EHey everyone! \u003C/p\u003E\u003Cp\u003ETonight I want to share what I\u0027ve been working on for the last week. It\u0027s really bugged me for a while now that, while KSP TOT has lots of great features and algorithms, none of those things really talk together. Thus, to date, KSP TOT is a great \u003Cem\u003Emaneuver planner, \u003C/em\u003Ebut what it\u0027s not is a great \u003Cem\u003Emission planner\u003C/em\u003E. This goes beyond just the basic engine burns; considerations such as propellant margins and mission duration are also important for the KSP (and real life) mission designer.\u003C/p\u003E\u003Cp\u003EWhen I started KSP TOT awhile ago, I set out of offer the premier KSP mission design software available from anyway. On the whole, it\u0027s been a resounding success. But as I noted above, it can go farther. Thus, tonight I present what I\u0027m calling the \u003Cstrong\u003EKSP TOT Mission Architect.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/R9ib1DP.png\u0022 alt=\u0022R9ib1DP.png\u0022\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMission Architect is designed to be a full-up mission planning suite that leverages all the other tools KSP TOT makes available. It will allow the KSP mission planner to see the full scope of the mission they will execute, from initial parking orbit to final destination. \u003C/p\u003E\u003Cp\u003EA few features to point out: \u003C/p\u003E\u003Cp\u003EOn the left of the window, above, is the mission event list. The mission event list includes all the events that Mission Architect will propagate through. Events include coasts (propagating without engines running), maneuvers (adding delta-v), and mass dumps/staging. As the event list is updated, Mission Architect automatically recomputes the impact of the changes on the mission. To add events, simple select the event type from the drop down box. A window will appear, prompting for details of the event. Provide them and the event is added to the list. To edit an event, just double-click the entry mission event list. It\u0027s quite slick.\u003C/p\u003E\u003Cp\u003ENext to the mission event list is the state summary. The initial and final states and shown, and viewing state summaries at other points in the mission will be possible, too. In addition, a full reporting and graphing suite will be available.\u003C/p\u003E\u003Cp\u003EFinally, on the right is the orbit view. This segment works like the rest of KSP TOT, but as orbits here can extent over multiple bodies and spheres of influence, some additional GUI work was needed (read: arrow buttons) so users can flip between them all. \u003C/p\u003E\u003Cp\u003ESome other features that I haven\u0027t started yet, but plan to include:\u003C/p\u003E\u003Cp\u003E1) Auto Lambert targeting of orbits;\u003C/p\u003E\u003Cp\u003E2) Optimizer integration for meeting mission objective and satisfying mission constraints; and\u003C/p\u003E\u003Cp\u003E3) Some nice plotting and reporting tools.\u003C/p\u003E\u003Cp\u003EFrom above, here\u0027s an example of what the Insert Coast dialog box looks like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/ivpuwSI.png\u0022 alt=\u0022ivpuwSI.png\u0022\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMost of the past week was spent designing and implementing a super flexible scheme for propagating through events of all types, be they coasts, dv maneuvers, or whatever. Friday and today I implemented the GUI as you see it. I\u0027m hoping to have a good chunk of it done by the end of the weekend. Mission Architect will be the primary release feature of KSP TOT v0.12.\u003C/p\u003E\u003Cp\u003ERight, so, questions/comments? I\u0027m eager to know what you all think of Mission Architect. I think it\u0027s going to be pretty nifty, and I\u0027m looking forward to giving it to the larger KSP community soon! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-01-26T09:51:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ERight, so, questions/comments? I\u0027m eager to know what you all think of Mission Architect. I think it\u0027s going to be pretty nifty, and I\u0027m looking forward to giving it to the larger KSP community soon! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBetter than awesome, I can\u0027t even think of an adequate term for Mission Architect. \u003C/p\u003E\u003Cp\u003EI am doing that all by hand, careful checking all needed data and computing what I need in terms of Delta-V for any of the maneuvers, planning them all before launch to be safe I can complete a mission.\u003C/p\u003E\u003Cp\u003EI am really looking forward to it, to being able to use this masterpiece of software you are creating.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2014-01-26T17:44:20Z","Content":"\n\u003Cp\u003EFinally, YEEEESSSSSS.. Great stuff Arrowstar, great stuff. Now the big picture starts to form. Info and data from the MA loaded into a \u0027mission control\u0027 type scenario, where the MA data is used to setup what is \u0027nominal\u0027 and compared in realtime to the actual data. Will be able to determine is we are dead center, shallowing out, etc.... C-O, calculated vs observed...\u003C/p\u003E\u003Cp\u003EThanks for all of your truly great work...\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-26T22:16:28Z","Content":"\n\u003Cp\u003ENow if this could tie into MechJeb to feed it data for how and when to make maneuvers, that would enable MechJeb to do things it can\u0027t do, such as do transfers at what may be less than optimal times, or plot a course from moon orbits to places other than the planet the moon is orbiting.\u003C/p\u003E\u003Cp\u003EA Mun orbiting station has limited utility if you can\u0027t take off directly from it to Minmus or anywhere else other than back to Kerbin orbit. It\u0027s like going from BOI to DTW by way of SEA instead of flying direct to DTW - wit Mun as Boise, Kerbin as Seattle and Minmus as Detroit. \u0022But I need to fly EAST! Why do most flights from here go WEST first?\u0022\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-27T14:33:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022diomedea\u0022 data-cite=\u0022diomedea\u0022\u003E\u003Cdiv\u003EBetter than awesome, I can\u0027t even think of an adequate term for Mission Architect. \u003Cp\u003EI am doing that all by hand, careful checking all needed data and computing what I need in terms of Delta-V for any of the maneuvers, planning them all before launch to be safe I can complete a mission.\u003C/p\u003E\u003Cp\u003EI am really looking forward to it, to being able to use this masterpiece of software you are creating.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! Yep, Mission Architect should be quite good at what you just described. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022drtedastro\u0022 data-cite=\u0022drtedastro\u0022\u003E\u003Cdiv\u003EFinally, YEEEESSSSSS.. Great stuff Arrowstar, great stuff. Now the big picture starts to form. Info and data from the MA loaded into a \u0027mission control\u0027 type scenario, where the MA data is used to setup what is \u0027nominal\u0027 and compared in realtime to the actual data. Will be able to determine is we are dead center, shallowing out, etc.... C-O, calculated vs observed...\u003Cp\u003EThanks for all of your truly great work...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETotally. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003ENow if this could tie into MechJeb to feed it data for how and when to make maneuvers, that would enable MechJeb to do things it can\u0027t do, such as do transfers at what may be less than optimal times, or plot a course from moon orbits to places other than the planet the moon is orbiting.\u003Cp\u003EA Mun orbiting station has limited utility if you can\u0027t take off directly from it to Minmus or anywhere else other than back to Kerbin orbit. It\u0027s like going from BOI to DTW by way of SEA instead of flying direct to DTW - wit Mun as Boise, Kerbin as Seattle and Minmus as Detroit. \u0022But I need to fly EAST! Why do most flights from here go WEST first?\u0022\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe other applications in KSP TOT, an option exists to \u0022Upload a Maneuver\u0022 to KSP directly, if you have the KSPTOTConnect plugin running with KSP. This will create a maneuver node in the game. Just have MechJeb execute the node you create via upload. Viola. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (Right-click on any text box with maneuver/burn information and click \u0022Upload Maneuver\u0022 or some such thing to actually do this.) \u003C/p\u003E\u003Cp\u003EMade some good progress last night. Mission Architect is now capable of adding/editing/removing events from the mission list and propagating through them all. The output window is mostly working and plotting has been improved a bit. Next up will be the optimizer, followed by general 2D plotting of useful quantities w.r.t. time (mass, orbital elements, etc). We might be go for a pre-release after that gets done (maybe by the end of this weekend - we\u0027ll see). There will be bugs, to be sure, best way to squash them is to give this to others and let them have at it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI got a few PMs over the last two days - if you\u0027re still waiting to hear back from me, I\u0027ll get back to you tonight. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-27T23:19:37Z","Content":"\n\u003Cp\u003EAs an update on attempting to build this on Linux, I finally sorted out my Matlab license situation for the new year and installed R2013a on a Linux machine.\u003C/p\u003E\u003Cp\u003EFirst issue was the Lambert solver, as bk2w saw on Mac. The recommended emlmex call to compile lambert.m into a mex file doesn\u0027t work in R2013a since emlmex is obsolete, but it did work in R2009b to generate a lambert.mexa64 which appears to work fine in newer versions of Matlab. When I run projectMain.m in Matlab R2013a after compiling lambert.mexa64 (and renamed lambert.m to something else for testing purposes), the basic Kerbin-Duna porkchop plot appears to work. Don\u0027t have much time to test other features.\u003C/p\u003E\u003Cp\u003ESo then I tried deploytool to build the standalone application. It appears the Matlab Compiler is very buggy in R2013a on Linux, see \u003Ca href=\u0022http://www.mathworks.com/matlabcentral/answers/98190\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.mathworks.com/matlabcentral/answers/98190\u003C/a\u003E and \u003Ca href=\u0022http://www.mathworks.com/support/bugreports/951485\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.mathworks.com/support/bugreports/951485\u003C/a\u003E. I\u0027m running into the same error as in those posts:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EDepfun error: \u0027Unexpected Standard exception from MEX file.\u003Cbr\u003EWhat() is:\u003Cbr\u003E..\u0027\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETried the suggested workaround replacing depfun.opts, didn\u0027t fix the error. The error occured in the deploytool Build window after \u0022Processing /opt/matlab2013a/toolbox/shared/instrument/mcc.enc\u0022, so I suspect it might be Instrument Toolbox - related. I might still have a copy of KSPTOT 0.10 lying around, I may try building that to see if it runs into the same error. Otherwise I don\u0027t have a lot of time to keep messing around with this, sorry.\u003C/p\u003E\n"},{"CreatedByName":"bk2w","CreatedById":99893,"CreatedDateTime":"2014-01-28T02:16:45Z","Content":"\n\u003Cp\u003EIs there someway to get detail of the final injection burn for either the Fly-By Sequencer or the main Transfer tool? Both tools give me departure burn information, and it\u0027s apparent that they\u0027re optimizing for departure\u002Binjection, but the lack of injection burn information is making it difficult for me to plan some missions for lack of how much delta-v I need for the full mission.\u003C/p\u003E\u003Cp\u003E-Brian\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-28T02:48:58Z","Content":"\n\u003Cp\u003ETavert: Okay, no worries. Feel free to try with a different version of MATLAB if you think that would help. If not, then don\u0027t worry about it. Thank you for trying! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bk2w\u0022 data-cite=\u0022bk2w\u0022\u003E\u003Cdiv\u003EIs there someway to get detail of the final injection burn for either the Fly-By Sequencer or the main Transfer tool? Both tools give me departure burn information, and it\u0027s apparent that they\u0027re optimizing for departure\u002Binjection, but the lack of injection burn information is making it difficult for me to plan some missions for lack of how much delta-v I need for the full mission.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy \u0022injection burn\u0022 do you mean the \u0022insertion burn\u0022? That is, the burn needed to stop at a particular planet/moon? Afraid I can\u0027t help there, it\u0027s not calculated because the insertion orbit isn\u0027t calculated. There\u0027s a long reason why not, but basically it comes down to too many unknowns in the math to get it working correctly. As an alternative, I would suggest getting your ejection burn set up, then make some assumptions on what you think your hyperbolic arrival orbit will look like at your destination. Then, go to the Optimal 2-Burn Orbit Change application, plug that in as the starting orbit, and plug in your desired final orbit. Do some studies and see what you get for delta-v.\u003C/p\u003E\u003Cp\u003ELet me know if that helps or not. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2014-01-28T04:48:36Z","Content":"\n\u003Cp\u003EHi everyone,\u003C/p\u003E\u003Cp\u003EHere\u0027s what I\u0027ve been up tonight. The basic mission plan display/edit/propagate is effectively complete. Thus, tonight I started on the other major functionality of KSP TOT Mission Architect: the optimizer. Thus, I present the \u003Cstrong\u003EMission Optimizer:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:center;\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/HOZAQI8.png\u0022 alt=\u0022HOZAQI8.png\u0022\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo here\u0027s the basic idea. It\u0027s easy to put together a mission script, but harder to get it to do what you want. For example, say you want to go to the Mun. You can either muck around with delta-v vectors and true anomaly of the burn, or you can tell Mission Optimizer \u0022hey, I\u0027d like to go to the Mun\u0022 and, if you word the question correctly, it should figure it out.\u003C/p\u003E\u003Cp\u003ELooking at the GUI, it\u0027s three parts from left to right. The first is the objective function. This is the \u0022what are you trying to achieve\u0022 part. Most of the time, we\u0027d like to maximize spacecraft mass (thus saving fuel), minimize transfer duration, or similar things. These two objectives I\u0027ve listed here will probably be the only two that come with Mission Architect initially. All objective functions are evaluated at the end of the event you specify for them.\u003C/p\u003E\u003Cp\u003EBelow the Objective are the Variables. If \u0022Objective\u0022 is the what, then \u0022Variables\u0022 are the how. These tell the optimizer what to vary (hence the name, variables \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) in order to achieve the objective. Here the Mission Optimizer, events in the mission script are varied. This could be the target true anomaly of a coast, the delta-v vector of a burn, or both.\u003C/p\u003E\u003Cp\u003EFinally, on the right we have constraints. Constraints allow for you to make sure the optimizer doesn\u0027t do things you want it to avoid, or find solutions which are mathematically possible but not physically realizable. Like objective functions, constraints are evaluated after the event that goes along with them.\u003C/p\u003E\u003Cp\u003ESavvy planners will use the optimizer in stages to achieve various stages of the mission sequentially. Trying to setup everything at once will be a hassle and the optimization code will probably not like it either. Want to fly by the moon to get to Duna? Set up the Mun flyby first, then target Duna, and so on.\u003C/p\u003E\u003Cp\u003EAs a note, this is just the GUI design. I\u0027m going to start the actual optimization code tomorrow, though that may just be architecture and the like. There will be separate structures for the objective function, variables, and constraints, all of which need to be worked out in a manner that allows all of them to work together nicely. Oh dear. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo how does that all sound? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2014-01-28T05:17:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Arrowstar\u0022 data-cite=\u0022Arrowstar\u0022\u003E\u003Cdiv\u003ETavert: Okay, no worries. Feel free to try with a different version of MATLAB if you think that would help. If not, then don\u0027t worry about it. Thank you for trying! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E2012a is the next closest thing I have installed. Had to slightly modify helper_methods/multiStartCommonRun.m to replace optimoptions with optimset, and fiddle with /etc/hosts to avoid a java.net.UnknownHostException. Looks like I got something that is mostly working, I\u0027ll PM you a link so you can test in a VM.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-28T05:41:25Z","Content":"\n\u003Cp\u003EIt\u0027ll be able to figure out the soonest departure time from Duna to Kerbin, with the mass and fuel available, leaving enough fuel to slow down at Kerbin?\u003C/p\u003E\u003Cp\u003EIt can get back at the optimal time (according to MechJeb) with just four orange tanks with four Skippers. (IIRC it didn\u0027t even use all that in testing.) Between those and the lander are another orange and four FL-T800 tanks with a Skipper and four LV-T30 or LV-T45. I can pop loose the middle section, dock the lander to the four oranges, jettison the two power pods and get back using even less fuel.\u003C/p\u003E\u003Cp\u003EBurning 100% of those four orange tanks ought to get somewhat of an earlier departure, while leaving the other orange and FL-T800 tanks to slow down into a Kerbin orbit. Doesn\u0027t have to be circular or particularly low altitude. The lander is capable of getting down from quite high up.\u003C/p\u003E\u003Cp\u003EI overbuilt this ship sooooo much! Math? What math? Just put together *enough fuel* to be sure and get there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Didn\u0027t want a repeat of my first Minmus mission when I had to send up a little tanker to give the ship a shot of fuel to deorbit.\u003C/p\u003E\n"}]}