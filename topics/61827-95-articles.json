{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":95,"Articles":[{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2015-01-05T14:52:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EFor as far as I can tell you are trying to do something with a rotation and a vector and that means getting messed up by the rotational system. I think you are expecting something that it is just not going to do. Look at the new ANGLEAXIS command instead, which is designed to deal with things properly. You also might want to take a look at Steven\u0027s video about this stuff. If I remember correctly your question is answered almost literally, in this case with the Mun.\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/7byYiZZBBVc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright I\u0027ll try watching that video again tomorrow. Maybe the third time will be the charm.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-05T16:28:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Snoman314\u0022 data-cite=\u0022Snoman314\u0022\u003E\u003Cdiv\u003E why the F*** Doesn\u0027t it work like it\u0027s supposed to in the first place?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt works exactly like it\u0027s supposed to. The problem is that what it\u0027s \u003Cstrong\u003Esupposed to \u003C/strong\u003Edo versus what you\u0027d \u003Cstrong\u003Ereasonably expect it to from the terminology \u003C/strong\u003E don\u0027t match, and part of that is what is in my opinion a major terminology mistake made by the mod\u0027s original author back to the early days before we had our hands on it. What they *actually* do when you say R(a,b,c) is rotate C degrees around the UNIVERSE\u0027s Z axis, then A degrees around the UNIVERSE\u0027s X axis, then Y degrees around the UNIVERSE\u0027s Y axis. These have nothing to do with the ship\u0027s orientation at all.\u003C/p\u003E\u003Cp\u003EThat terminology mistake is this: He chose to call the three components of a R() direction by the names \u003Cem\u003E:pitch\u003C/em\u003E, \u003Cem\u003E:yaw\u003C/em\u003E, and \u003Cem\u003E:roll\u003C/em\u003E. The moment those magic three words are used, people immediately think in terms of a ship-oriented reference frame, and that\u0027s \u003Cem\u003Eutterly wrong\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003ESo the error you\u0027re making is this:\u003C/p\u003E\u003Cp\u003E- When you thought that dir*vector rotates the vector, you were right.\u003C/p\u003E\u003Cp\u003E- When you thought that sun:position is a vector pointing toward the sun from your ship, you were right.\u003C/p\u003E\u003Cp\u003E- When you thought that R(90,0,0) meant to rotate around a line that is perpendicular to sun:position, you were wrong.\u003C/p\u003E\u003Cp\u003EIt rotates around whatever happens to be the X axis of the universe at the time. Because that might not even be perpendicular to the sun\u0027s position, it might not *look* like a 90 degree rotation to you. Rotating a vector around an axis that is not perpendicular to it causes the vector to sweep a cone shape, if you can catch what I mean from that.\u003C/p\u003E\u003Cp\u003EWe can\u0027t help that the universe\u0027s XYZ axes are weird - that is inherited from KSP itself. And it\u0027s useful to have access to a means of rotating around those raw axes directly, which is what the R() tuple does. So it\u0027s not that it\u0027s not working like it\u0027s *supposed* to, but that it does a poor job of communicating to the user what it is that it\u0027s supposed to do, because of the awful terminology choice to use the words Yaw, Pitch, and Roll.\u003C/p\u003E\u003Cp\u003ENow, with that aside, how do you get what you actually DO want?\u003C/p\u003E\u003Cp\u003EWhat you want is to start from a direction aimed at the sun, and then pitch down 90 from that. Do you mean 90 relative to however your ship is pointed at the time, or 90 relative to the SOI planet, or.....\u003C/p\u003E\u003Cp\u003EI have to understand what \u0022down\u0022 you meant, and if you tell me I can try to give an example. It may be better to phrase it differently - describe what you want your final orientation to look like- which way is the nose pointed, which way is the top of the ship pointed, and which way are the wings pointed.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-05T16:37:40Z\u0022 title=\u002201/05/2015 04:37  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 5, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Deep silence","CreatedById":55089,"CreatedDateTime":"2015-01-05T19:49:25Z","Content":"\n\u003Cp\u003EI am starting to use kOs, and first of all, thanks a lot for the doc! It might be missing some details (ALT: and ETA: things), a tutorial about vectors, but it is a usefull doc.\u003C/p\u003E\u003Cp\u003EAnyway, I am having a problem with a trigger that is rejected as too long, but I do not get why...\u003C/p\u003E\u003Cp\u003EThe code is the following :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[SOME CODE]\u003Cbr\u003E\u003Cbr\u003E// GRAVITY TURN ////////////////////////////////////////////////////////////////////////////////////////////////////\u003Cbr\u003EPRINT \u0022Gravity turn.\u0022.\u003Cbr\u003EWHEN SHIP:APOAPSIS \u0026gt; targetAltitude THEN {\u003Cbr\u003E    PRINT \u0022Circ trigger1.\u0022.\u003Cbr\u003E    SET step TO \u0022circularization\u0022.\u003Cbr\u003E    PRINT \u0022Circ trigger2.\u0022.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING TO HEADING(90,80).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET prevEta TO ETA:APOAPSIS.\u003Cbr\u003ESET startAlt TO SHIP:ALTITUDE.\u003Cbr\u003ESET startPitchDif TO SHIP:FACING:PITCH.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// WAIT FOR ORBITREACHED\u003Cbr\u003EUNTIL step = \u0022circularization\u0022 {  \u003Cbr\u003E  WAIT 1. // so that SHIP:ALTITUDE!=startAlt\u003Cbr\u003E  PRINT \u0022Grav turn.\u0022.\u003Cbr\u003E\u003Cbr\u003E  // adjusts pitch\u003Cbr\u003E  SET altDelta TO (targetAltitude - startAlt) / (SHIP:ALTITUDE - startAlt).\u003Cbr\u003E  LOCK STEERING TO Up \u002B R(startPitchDif - (altDelta * startPitchDif),0,0).\u003Cbr\u003E\u003Cbr\u003E  // adjusts thrust\u003Cbr\u003E  SET newEta TO ETA:APOAPSIS.\u003Cbr\u003E  IF newEta \u0026lt; prevEta {\u003Cbr\u003E    LOCK THROTTLE TO THROTTLE - throttleDelta.\u003Cbr\u003E  } ELSE {\u003Cbr\u003E    LOCK THROTTLE TO THROTTLE \u002B throttleDelta.\u003Cbr\u003E  }\u003Cbr\u003E  SET prevEta TO newEta.\u003Cbr\u003E}\u003Cbr\u003E[SOME CODE]\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd the logs are :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EGravity turn.\u003Cbr\u003EGrav turn.\u003Cbr\u003ERan more than 1500 instructions in trigger bodies, etc...\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs my triggers are all only one or two lines of code, how is this error possible?\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2015-01-05T20:25:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deep silence\u0022 data-cite=\u0022Deep silence\u0022\u003E\u003Cdiv\u003EI am starting to use kOs, and first of all, thanks a lot for the doc! It might be missing some details (ALT: and ETA: things), a tutorial about vectors, but it is a usefull doc.\u003Cp\u003EAnyway, I am having a problem with a trigger that is rejected as too long, but I do not get why...\u003C/p\u003E\u003Cp\u003EThe code is the following :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[SOME CODE]\u003Cbr\u003E\u003Cbr\u003E// GRAVITY TURN ////////////////////////////////////////////////////////////////////////////////////////////////////\u003Cbr\u003EPRINT \u0022Gravity turn.\u0022.\u003Cbr\u003EWHEN SHIP:APOAPSIS \u0026gt; targetAltitude THEN {\u003Cbr\u003E    PRINT \u0022Circ trigger1.\u0022.\u003Cbr\u003E    SET step TO \u0022circularization\u0022.\u003Cbr\u003E    PRINT \u0022Circ trigger2.\u0022.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING TO HEADING(90,80).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET prevEta TO ETA:APOAPSIS.\u003Cbr\u003ESET startAlt TO SHIP:ALTITUDE.\u003Cbr\u003ESET startPitchDif TO SHIP:FACING:PITCH.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// WAIT FOR ORBITREACHED\u003Cbr\u003EUNTIL step = \u0022circularization\u0022 {  \u003Cbr\u003E  WAIT 1. // so that SHIP:ALTITUDE!=startAlt\u003Cbr\u003E  PRINT \u0022Grav turn.\u0022.\u003Cbr\u003E\u003Cbr\u003E  // adjusts pitch\u003Cbr\u003E  SET altDelta TO (targetAltitude - startAlt) / (SHIP:ALTITUDE - startAlt).\u003Cbr\u003E  LOCK STEERING TO Up \u002B R(startPitchDif - (altDelta * startPitchDif),0,0).\u003Cbr\u003E\u003Cbr\u003E  // adjusts thrust\u003Cbr\u003E  SET newEta TO ETA:APOAPSIS.\u003Cbr\u003E  IF newEta \u0026lt; prevEta {\u003Cbr\u003E    LOCK THROTTLE TO THROTTLE - throttleDelta.\u003Cbr\u003E  } ELSE {\u003Cbr\u003E    LOCK THROTTLE TO THROTTLE \u002B throttleDelta.\u003Cbr\u003E  }\u003Cbr\u003E  SET prevEta TO newEta.\u003Cbr\u003E}\u003Cbr\u003E[SOME CODE]\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd the logs are :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EGravity turn.\u003Cbr\u003EGrav turn.\u003Cbr\u003ERan more than 1500 instructions in trigger bodies, etc...\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs my triggers are all only one or two lines of code, how is this error possible?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d be suspicious of the \u0022LOCK THROTTLE TO THROTTLE \u002B \u0026lt;stuff\u0026gt;\u0022 lines. If I remember right, a LOCK is implemented as a trigger-like chunk of code that gets fired whenever any of the variables on the right-hand side change. If you LOCK a variable to an expression that includes itself, an implementation that wasn\u0027t testing for that pathological case would likely evaluate the lock recursively.\u003C/p\u003E\u003Cp\u003EI\u0027d do something like \u0022SET targetThrottle to \u0026lt;stuff\u0026gt;. LOCK THROTTLE to targetThrottle.\u0022 and then do the updates as \u0022SET targetThrottle to targetThrottle \u002B \u0026lt;stuff\u0026gt;.\u0022\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-05T20:33:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EIf you LOCK a variable to an expression that includes itself, an implementation that wasn\u0027t testing for that pathological case would likely evaluate the lock recursively.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes this causes recursion. LOCK X TO X \u002B 1. It would take a lot of work to change it because in this case X is really a function, not a variable, so there\u0027s nowhere for it to actually be temporarily stored while being re-evaluated.\u003C/p\u003E\n"},{"CreatedByName":"Deep silence","CreatedById":55089,"CreatedDateTime":"2015-01-05T20:45:57Z","Content":"\n\u003Cp\u003EYou are right, thanks a lot!\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2015-01-05T21:12:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EYes this causes recursion. LOCK X TO X \u002B 1. It would take a lot of work to change it because in this case X is really a function, not a variable, so there\u0027s nowhere for it to actually be temporarily stored while being re-evaluated.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d be happy with detecting a recursive lock and giving an informative compile-time error. Even if someone had time to overhaul the implementation to do something useful, I\u0027m not sure what usable semantics would be.\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2015-01-05T23:51:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIt works exactly like it\u0027s supposed to. The problem is that what it\u0027s \u003Cstrong\u003Esupposed to \u003C/strong\u003Edo versus what you\u0027d \u003Cstrong\u003Ereasonably expect it to from the terminology \u003C/strong\u003E don\u0027t match, and part of that is what is in my opinion a major terminology mistake made by the mod\u0027s original author back to the early days before we had our hands on it. What they *actually* do when you say R(a,b,c) is rotate C degrees around the UNIVERSE\u0027s Z axis, then A degrees around the UNIVERSE\u0027s X axis, then Y degrees around the UNIVERSE\u0027s Y axis. These have nothing to do with the ship\u0027s orientation at all.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAhhhh!! Finally the light comes on! Thankyou! Your post should totally be in the documentation.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThat terminology mistake is this: He chose to call the three components of a R() direction by the names \u003Cem\u003E:pitch\u003C/em\u003E, \u003Cem\u003E:yaw\u003C/em\u003E, and \u003Cem\u003E:roll\u003C/em\u003E. The moment those magic three words are used, people immediately think in terms of a ship-oriented reference frame, and that\u0027s \u003Cem\u003Eutterly wrong\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003ESo the error you\u0027re making is this:\u003C/p\u003E\u003Cp\u003E- When you thought that dir*vector rotates the vector, you were right.\u003C/p\u003E\u003Cp\u003E- When you thought that sun:position is a vector pointing toward the sun from your ship, you were right.\u003C/p\u003E\u003Cp\u003E- When you thought that R(90,0,0) meant to rotate around a line that is perpendicular to sun:position, you were wrong.\u003C/p\u003E\u003Cp\u003EIt rotates around whatever happens to be the X axis of the universe at the time. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, I get it now. Where I went wrong is here:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kOS Documentation\u0022 data-cite=\u0022kOS Documentation\u0022\u003E\u003Cdiv\u003EIn your thinking, you can largely think of Directions as being Rotations and Rotations as being Directions. The two concepts can be used interchangably.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I then understood that a direction rotated 90 degrees around the X axis, when then applied to another vector as a rotation, would rotate \u003Cem\u003Ethat\u003C/em\u003E vector around some X axis perpendicular it, not around the universe\u0027s X axis. So obviously (well obviously now I understand that) I need to find a direction that describes a 90 rotation around an axis perpendicular to the sun position vector. I now see the requirement for the new direction functions!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBecause that might not even be perpendicular to the sun\u0027s position, it might not *look* like a 90 degree rotation to you. Rotating a vector around an axis that is not perpendicular to it causes the vector to sweep a cone shape, if you can catch what I mean from that.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo I get it. As soon as I read your first couple of sentences, it all clicked. I guess I had been too close to the problem for too long, and I kept going back to the same interpretation of the documentation.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWe can\u0027t help that the universe\u0027s XYZ axes are weird - that is inherited from KSP itself. And it\u0027s useful to have access to a means of rotating around those raw axes directly, which is what the R() tuple does. So it\u0027s not that it\u0027s not working like it\u0027s *supposed* to, but that it does a poor job of communicating to the user what it is that it\u0027s supposed to do, because of the awful terminology choice to use the words Yaw, Pitch, and Roll.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFair enough. Maybe the documentation could be clarified on this point?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENow, with that aside, how do you get what you actually DO want?\u003C/p\u003E\u003Cp\u003EWhat you want is to start from a direction aimed at the sun, and then pitch down 90 from that. Do you mean 90 relative to however your ship is pointed at the time, or 90 relative to the SOI planet, or.....\u003C/p\u003E\u003Cp\u003EI have to understand what \u0022down\u0022 you meant, and if you tell me I can try to give an example. It may be better to phrase it differently - describe what you want your final orientation to look like- which way is the nose pointed, which way is the top of the ship pointed, and which way are the wings pointed.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK, so with all the above in mind, I wrote this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EPrint \u0022===============================================\u0022.\u003Cbr\u003EPrint \u0022Orienting to point Solar panels facing Sun\u0022.\u003Cbr\u003EPrint \u0022===============================================\u0022.\u003Cbr\u003E\u003Cbr\u003E//The goal here is to get the ship\u0027s \u002BY axis pointing directly at the sun, by pitching down\u003Cbr\u003E//by 90 degrees from an (imaginary) start state of pointing at the sun with the ship\u0027s roll\u003Cbr\u003E//relative to the ecliptic being zero.\u003Cbr\u003E\u003Cbr\u003ESET a TO V(0,1,0). //A vector pointing in the Raw \u002BY axis direction.\u003Cbr\u003ESET b TO SUN:POSITION:NORMALIZED. //A vector pointing to the sun.\u003Cbr\u003ESET rotAxis TO VCRS(a, . //A vector (hopefully) pointing to the right as you look at the sun.\u003Cbr\u003E// Oops! I had to swap the above as it seems that even the cross product is left handed in KSP.\u003Cbr\u003ESET startDir TO LOOKDIRUP(b, a). // A direction pointing to the sun, up oriented towards \u002BY(Raw).\u003Cbr\u003ESET rotDir TO ANGLEAXIS(90, rotAXIS). // A direction that gives the required rotation (hopefully).\u003Cbr\u003ESET finalDir TO rotDir * startDir. // The direction I want to be pointing in at the end\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING TO finalDir.\u003Cbr\u003E\u003Cbr\u003EWAIT 60.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESuccess! Thanks for your help Steven. Both your video, and especially your post in response to my barely filtered frustration.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/gAvPwgr.jpg\u0022 alt=\u0022gAvPwgr.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-06T00:56:00Z\u0022 title=\u002201/06/2015 12:56  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 6, 2015\u003C/time\u003E by Snoman314\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-06T01:09:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EI\u0027d be happy with detecting a recursive lock and giving an informative compile-time error. Even if someone had time to overhaul the implementation to do something useful, I\u0027m not sure what usable semantics would be.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell it already does detect a problem and mentions it - the recursion went on too long and blew past the limit - I don\u0027t want to prevent recursion in case there\u0027s some weird way it can be useful. What might be better is to improve the \u0022config:IPU exceeded\u0022 message to make it show exactly what it was executing when it happened. Then it would at least highlight the LOCK statement that caused it.\u003C/p\u003E\n"},{"CreatedByName":"roxtonro","CreatedById":134562,"CreatedDateTime":"2015-01-06T03:57:26Z","Content":"\n\u003Cp\u003EHi all,\u003C/p\u003E\u003Cp\u003EI just wanted to express my appreciation for the considerable effort you\u0027ve put into this release of kOS over the holidays. The new documentation totally rocks, thank you very much!\u003C/p\u003E\u003Cp\u003EAnd I must point out Stevens excellent video that finally brought closure to the bane of piloting a vessel .. frame of reference \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECan\u0027t recommend kOS enough.\u003C/p\u003E\u003Cp\u003EGreat work guys, Happy New Year!\u003C/p\u003E\u003Cp\u003EP.S. For those of you who would like to know what to do with all this funky kOS goodness, refer to \u003Ca href=\u0022https://youtu.be/bfb1myBUYEo\u0022 rel=\u0022external nofollow\u0022\u003EPurpleTargets, Krash Test Kerbals\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"postalbyke","CreatedById":114272,"CreatedDateTime":"2015-01-06T15:17:21Z","Content":"\n\u003Cp\u003EWow, got really distracted by all the stuff that\u0027s happened since I last logged into ksp.com!\u003C/p\u003E\u003Cp\u003EOkay, what I\u0027m here for:\u003C/p\u003E\u003Cp\u003EI thought of a way to control kOS from Telemachus (stop me if you\u0027ve heard this one before!)\u003C/p\u003E\u003Cp\u003ECreate a script that iterates over the Action Groups, taking each one as a bit, and use one (I chose SAS) as a command bit.\u003C/p\u003E\u003Cp\u003EIf you use all ten AG\u0027s, you would have 1024 possible commands. (2^10, right?)\u003C/p\u003E\u003Cp\u003EWell, 1023 if you reserve one for manual ship\u0027s control.\u003C/p\u003E\u003Cp\u003ERegardless, more than enough to keep you on course remotely. If you need something special, ssh in and build a script, then run it as above.\u003C/p\u003E\u003Cp\u003ESomebody check my math and logic, I\u0027m pretty sleep-deprived...\u003C/p\u003E\u003Cp\u003Eedit: more sense...\u003C/p\u003E\u003Cp\u003ESo instead of \u0022enter,\u0022 activate SAS, which will cue kOS to look at the current AG setup.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-06T17:38:43Z","Content":"\n\u003Cp\u003EI am in the middle of researching how to make a KSP mod have a TCP/IP server in it (it\u0027s a bit funky because a KSP mod is unable to spawn processes or threads, and normally at least one or the other is required for a correct TCP/IP server of any sort.) I have a plan that I\u0027m trying to work out involving more than one Monobehaviour and their Update()\u0027s behaving like psuedo-threads.\u003C/p\u003E\u003Cp\u003EAnyway the point is that I an trying to tackle the problem of the remotable terminal over a TCP/IP socket, like doing a telnet. First I have to JUST see if it\u0027s even possible to have any sort of TCP/IP server *at all*.\u003C/p\u003E\n"},{"CreatedByName":"TiLorm","CreatedById":118298,"CreatedDateTime":"2015-01-06T18:38:36Z","Content":"\n\u003Cp\u003ETake a look at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/69313-WIP-kRPC-A-language-agnostic-Remote-Procedure-Call-server-for-KSP\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E, it hasn\u0027t been updated in a while, but it can run a server.\u003C/p\u003E\n"},{"CreatedByName":"RadarManFromTheMoon","CreatedById":98095,"CreatedDateTime":"2015-01-06T19:26:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI am in the middle of researching how to make a KSP mod have a TCP/IP server in it (it\u0027s a bit funky because a KSP mod is unable to spawn processes or threads, and normally at least one or the other is required for a correct TCP/IP server of any sort.) I have a plan that I\u0027m trying to work out involving more than one Monobehaviour and their Update()\u0027s behaving like psuedo-threads.\u003Cp\u003EAnyway the point is that I an trying to tackle the problem of the remotable terminal over a TCP/IP socket, like doing a telnet. First I have to JUST see if it\u0027s even possible to have any sort of TCP/IP server *at all*.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI built a TCP/IP server for the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/36476\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT\u003C/a\u003E plugin a while ago. It is actually possible to spawn threads but since unity/KSP is not threadsafe, the threads must not use unity or KSP functions directly, so I used non-blocking queues to communicate with the main thread. This way you just check every update cycle if there is new data in the \u0022in-queue\u0022, and if so, process it and place data for the client into the \u0022out-queue\u0022. Works quite well with minimal impact on game performance.\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2015-01-06T19:36:07Z","Content":"\n\u003Cp\u003EAnother server that runs inside KSP is \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/24594\u0022 rel=\u0022external nofollow\u0022\u003ETelemachus\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EA single-threaded server won\u0027t be too bad if you can afford to reject additional connection attempts while one client is connected, or if you have access to the C# features for non-blocking I/O. Here\u0027s something I was able to find: \u003Ca href=\u0022http://scatteredcode.wordpress.com/2013/04/29/creating-a-single-threaded-multi-user-tcp-server-in-net/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://scatteredcode.wordpress.com/2013/04/29/creating-a-single-threaded-multi-user-tcp-server-in-net/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-07T03:58:28Z","Content":"\n\u003Cp\u003EI see you finally got around to making file names writeable. Very nice!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-07T08:24:53Z\u0022 title=\u002201/07/2015 08:24  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 7, 2015\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Parallax","CreatedById":104180,"CreatedDateTime":"2015-01-08T06:35:07Z","Content":"\n\u003Cp\u003Ei think i found my second favourite ksp mod\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://giant.gfycat.com/SafeHandyFirecrest.gif\u0022 alt=\u0022SafeHandyFirecrest.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003Eforget space ships, just kOS\u002BIR by themselves would make for an awsome game\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-01-08T14:17:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parallax\u0022 data-cite=\u0022Parallax\u0022\u003E\u003Cdiv\u003Ei think i found my second favourite ksp mod\u003Cp\u003E\u003Ca href=\u0022http://giant.gfycat.com/SafeHandyFirecrest.gif\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://giant.gfycat.com/SafeHandyFirecrest.gif\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Eforget space ships, just kOS\u002BIR by themselves would make for an awsome game\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a frankly terrifying use of kOS \u002B IR. Im shutting down this mod\u0027s development because i am fairly sure someone is going to build skylab in KSP and it will be all my fault \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ERUNNN!!!!!\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-08T15:22:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThis is a frankly terrifying use of kOS \u002B IR. Im shutting down this mod\u0027s development because i am fairly sure someone is going to build skylab in KSP and it will be all my fault \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe option for inverse kinematics has always been a goal for kOS, as far as I am concerned. As it stands it is pretty great already, and with a few improvements it could be an amazing tool. I honestly think I might have had a different career if this would have been around when I was younger (though I am pretty happy where I am).\u003C/p\u003E\u003Cp\u003EThe addition of pilot controls and access to right click menus really opened up some great options \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Canadarms, walking robots, you name it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-08T15:28:46Z\u0022 title=\u002201/08/2015 03:28  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 8, 2015\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2015-01-08T17:17:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThis is a frankly terrifying use of kOS \u002B IR. Im shutting down this mod\u0027s development because i am fairly sure someone is going to build skylab in KSP and it will be all my fault \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003ERUNNN!!!!!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESkylab was pretty harmless (unless a piece hit someone on the head when it deorbited). Did you mean Skynet?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-08T20:04:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003ESkylab was pretty harmless (unless a piece hit someone on the head when it deorbited). Did you mean Skynet?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would hardly call the pieces that came down harmless \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E A numbers game and some luck resulted in no injuries, but that could have been different.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i0.wp.com/www.spacesafetymagazine.com/wp-content/uploads/2011/09/skylab-700_tcm2-26960.jpg?zoom=1.5\u0026amp;resize=287%2C300\u0022 alt=\u0022skylab-700_tcm2-26960.jpg?zoom=1.5\u0026amp;resize=287%2C300\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"whiteout1911","CreatedById":134882,"CreatedDateTime":"2015-01-08T22:40:47Z","Content":"\n\u003Cp\u003EHey guys, quick question: does kOS work with IR out of the box? If not, what else do I need?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-08T23:11:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022whiteout1911\u0022 data-cite=\u0022whiteout1911\u0022\u003E\u003Cdiv\u003EHey guys, quick question: does kOS work with IR out of the box? If not, what else do I need?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes.\u003C/p\u003E\u003Cp\u003EThe features talked about in this video\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/3bujGZP7a_o?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E are now in the release and work fine.\u003Cp\u003EThe video was made before they were released and the features have changed ever so slightly since then, but the links in the description to the examples code were updated to the new way.\u003C/p\u003E\u003Cp\u003ERead down into the comments of the vid to see the changes that occurred after it was recorded. The video makes it look slightly harder than it now is.\u003C/p\u003E\n"},{"CreatedByName":"Pyrobladeich","CreatedById":85083,"CreatedDateTime":"2015-01-09T00:02:45Z","Content":"\n\u003Cp\u003EI am having an issue. When I send a kerbal on an EVA i can\u0027t control there RCS thrusters. The thrusters just spin the kerbal around wildly. Any thoughts.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-09T00:25:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pyrobladeich\u0022 data-cite=\u0022Pyrobladeich\u0022\u003E\u003Cdiv\u003EI am having an issue. When I send a kerbal on an EVA i can\u0027t control there RCS thrusters. The thrusters just spin the kerbal around wildly. Any thoughts.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUhhhmmmm...... what makes you think this is related to kOS?\u003C/p\u003E\n"}]}