{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":68,"Articles":[{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2014-10-14T21:13:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003EIs it possible to make the part facing give this? The direction it currently gives is 90deg from the direction of thrust (for the engines I tested), but as rotation is done about the vessel facing i can\u0027t think of a way to get it in line.\u003Cp\u003Equick test script, identifies an engine in stage 2 and draws its facing.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESET vec TO vecdraw().\u003Cbr\u003EUNTIL 1 \u0026gt; 2 {\u003Cbr\u003EList engines in foo.\u003Cbr\u003Efor eng in foo {\u003Cbr\u003E IF eng:STAGE = 2 {\u003Cbr\u003E  SET dir to eng:facing.\u003Cbr\u003E }.\u003Cbr\u003E}.\u003Cbr\u003ESET vec:VEC TO dir:vector.\u003Cbr\u003ESET vec:SCALE TO 5.\u003Cbr\u003ESET vec:SHOW TO true.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEdit: oops code was wrong, forgot to loop the list engines.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ECan you include a screenshot image of what that vecdraw is looking like when you run this code?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk been away form the PC for a while.\u003C/p\u003E\u003Cp\u003EWorth noting that this is with KSP 0.24.2 and kOS 0.14 but I doubt that it will make a difference in this. If you feel it would i will be happy to take more pics when i get round to updating, which will probably be this weekend.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EImage of \u0022rocket\u0022 with the above script.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdTUxHdVhzWEM3WDA\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdTUxHdVhzWEM3WDA\u0022\u003E\u003C/p\u003E\u003Cp\u003EAfter adding R(90,0,0) to the facing you get this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdUGpCaGxfemZLMVE\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdUGpCaGxfemZLMVE\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhich is far more usable. However If the engine is rotated as is often the case when using multiple boosters (or symmetry) you get this (without the rotation):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdeDh5QWFSZ2ZFQlU\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdeDh5QWFSZ2ZFQlU\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut because the rotation is applied around the control parts co-ordinate system (I think) and not the engine parts co-ordinates applying the same rotation does this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdMERZZ1VJUk1QLVk\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdMERZZ1VJUk1QLVk\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnother possible case (possibly the main case) is engines that don\u0027t point in the same direction as the vessel in which case you get this (without rotation):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdcE1Nb1hvVHZPT3c\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdcE1Nb1hvVHZPT3c\u0022\u003E\u003C/p\u003E\u003Cp\u003EWith rotation:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdQ1VObFlUcWhaNzA\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdQ1VObFlUcWhaNzA\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EEDIT: The quoted script has been modified to detect engines in stage 0.\u003C/p\u003E\u003Cp\u003E I believe the facing being reported by KSP is the \u0022front\u0022 facing in the CAD package use to make the mesh and that most engine parts are made upright (engine bell on bottom face) because it makes scene to the modeller, with only control parts being made with much thought to what KSP would report as the facing.\u003C/p\u003E\u003Cp\u003EAny way, this means that in order to apply the correct rotation to the part you must work out its orientation relative to the control part (and if you know that querying the part:facing of anything other than a control part is moot). And if the engine rotates (using IR parts) then it is impossible to calculate the new direction of thrust.\u003C/p\u003E\u003Cp\u003EIs there a way to rotate a vector about the co-ordinate system of the part that the facing is being take from and not the one of the current control part? That way while the player would have to work out the orientation of the mesh within the CAD package the rotation would always be the same for that part no matter how it was placed.\u003C/p\u003E\u003Cp\u003EI will point out that I do have a workaround for this but it is not very nice, it involves part clipping a sepatron between the tank and engine and then querying the facing of the sepatron instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003ENote the 0 fuel in the sepatron - really not good if you accidentally stage it wile it is full.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdUExTVUdMV3ROV3M\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdUExTVUdMV3ROV3M\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://drive.google.com/uc?export=view\u0026amp;id=0B2X2pcwft9VdT0xPam9OOUNNbTQ\u0022 alt=\u0022uc?export=view\u0026amp;id=0B2X2pcwft9VdT0xPam9OOUNNbTQ\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-14T21:46:45Z\u0022 title=\u002210/14/2014 09:46  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 14, 2014\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003Cbr\u003EGoogle docs image hosting issues\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-14T21:21:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESpoiler=Image heavy\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis section of the post contains no images, making it almost impossible to follow what you\u0027re talking about. I think the spoiler tag is hindering the images.\u003C/p\u003E\n"},{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2014-10-14T21:28:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThis section of the post contains no images, making it almost impossible to follow what you\u0027re talking about. I think the spoiler tag is hindering the images.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOops: They are on google docs trying to work out permissions now.\u003C/p\u003E\u003Cp\u003EEDIT: Fixed (I think) apparently you cant use right click \u0022copy image URL\u0022 for google docs:rolleyes:\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-14T21:48:19Z\u0022 title=\u002210/14/2014 09:48  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 14, 2014\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-15T01:22:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003EOops: They are on google docs trying to work out permissions now.\u003Cp\u003EEDIT: Fixed (I think) apparently you cant use right click \u0022copy image URL\u0022 for google docs:rolleyes:\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay now that I can see what you\u0027re talking about the problem is understandable.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-15T06:19:51Z","Content":"\n\u003Cp\u003EI seem to recall from another mod I was making that when you model parts in the Unity editor you need to make them such that the rocket-up direction is the \u002BY axis, but that for steering purposes in game, KSP refers to rotations that presume the initial starting point is the \u002BZ axis... It may be this difference that is the problem. Perhaps all we have to do is that for part transforms, make their default roation the \u002By rather than the \u002Bz and it will come out right... I\u0027ll have to see, but it will take a few days to get to diagnosing this further.\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-10-15T21:24:11Z","Content":"\n\u003Cp\u003EHi!\u003C/p\u003E\u003Cp\u003EI got a very simple \u0022smart\u0022 missile script written. And I\u0027m wondering is there a possibility to make a program witch:\u003C/p\u003E\u003Cp\u003Ea) loads itself to the missile probe core.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E does not affect plane steering.\u003C/p\u003E\u003Cp\u003Ec) still function after detaching from plane?\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-15T22:09:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EHi!\u003Cp\u003EI got a very simple \u0022smart\u0022 missile script written. And I\u0027m wondering is there a possibility to make a program witch:\u003C/p\u003E\u003Cp\u003Ea) loads itself to the missile probe core.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E does not affect plane steering.\u003C/p\u003E\u003Cp\u003Ec) still function after detaching from plane?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyou should be able to add a kOS processor to the missile probe core. It could have a boot file for these cores that is a guidance computer that only kicks in when you tell it to (eg when the mass gets low enough to know it is detached).\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-10-16T06:04:35Z","Content":"\n\u003Cp\u003EThanks for the tip. I just need some info on the targeting. after detaching my missile is no longer pointing itself for the target is there something like \u0022set target to current:ship:target\u0022 command?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-16T07:07:08Z\u0022 title=\u002210/16/2014 07:07  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 16, 2014\u003C/time\u003E by Trewor007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tasuit","CreatedById":8988,"CreatedDateTime":"2014-10-16T14:41:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EThanks for the tip. I just need some info on the targeting. after detaching my missile is no longer pointing itself for the target is there something like \u0022set target to current:ship:target\u0022 command?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure, but I think you could use vectors to target your ship. Get the position of your ship, and subtract it with the position of your rocket, this gives you a directional vector pointing at your ship. Don\u0027t know if this works, or is possible, but thats probably the first thing i would try \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-10-16T15:58:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EThanks for the tip. I just need some info on the targeting. after detaching my missile is no longer pointing itself for the target is there something like \u0022set target to current:ship:target\u0022 command?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell... You should be able to get the parent vessel by name. The problem is that I can\u0027t find any documentation (or easily found reference in the source) for getting the target of a different vessel.\u003C/p\u003E\u003Cp\u003EAlong with erendrake\u0027s mass check, you could also check various part counts (only one engine? I\u0027ve been launched!)\u003C/p\u003E\u003Cp\u003EHmmm... We need a decent way for cores to talk to one another. I suppose you could do some log file trickery to cause a file to appear in the volume for the missile, which could include a quick script to set the target and run its own guidance program. Once we get access to the right-click actions, you could even have the missile decouple and launch itself!\u003C/p\u003E\u003Cp\u003EQuick question for erendrake and/or Steve Mading: If a script tries to get a handle on a vessel by name, and there are a number of vessels with the same name, does it return a list?\u003C/p\u003E\u003Cp\u003Eedit: Here\u0027s a thought! Have the missile turn itself off (or better, have a non-missile core power off all the missiles). Then when you want to fire the missile, build the aforementioned \u0022log file\u0022 as a boot file for the missile and power it on. The missile will read in the targeting info from its boot file, and then go on to run its guidance routine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-16T16:05:39Z\u0022 title=\u002210/16/2014 04:05  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 16, 2014\u003C/time\u003E by madlemur\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-10-16T18:21:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EWell... You should be able to get the parent vessel by name. The problem is that I can\u0027t find any documentation (or easily found reference in the source) for getting the target of a different vessel.\u003Cp\u003EAlong with erendrake\u0027s mass check, you could also check various part counts (only one engine? I\u0027ve been launched!)\u003C/p\u003E\u003Cp\u003EHmmm... We need a decent way for cores to talk to one another. I suppose you could do some log file trickery to cause a file to appear in the volume for the missile, which could include a quick script to set the target and run its own guidance program. Once we get access to the right-click actions, you could even have the missile decouple and launch itself!\u003C/p\u003E\u003Cp\u003EQuick question for erendrake and/or Steve Mading: If a script tries to get a handle on a vessel by name, and there are a number of vessels with the same name, does it return a list?\u003C/p\u003E\u003Cp\u003Eedit: Here\u0027s a thought! Have the missile turn itself off (or better, have a non-missile core power off all the missiles). Then when you want to fire the missile, build the aforementioned \u0022log file\u0022 as a boot file for the missile and power it on. The missile will read in the targeting info from its boot file, and then go on to run its guidance routine.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree, we do need a nice way to send information between cores. Right now targeting a vessel by name gets the \u0022first\u0022 instance of that name. with no real implied order.\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-10-16T20:00:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EWell... You should be able to get the parent vessel by name. The problem is that I can\u0027t find any documentation (or easily found reference in the source) for getting the target of a different vessel.\u003Cp\u003EAlong with erendrake\u0027s mass check, you could also check various part counts (only one engine? I\u0027ve been launched!)\u003C/p\u003E\u003Cp\u003EHmmm... We need a decent way for cores to talk to one another. I suppose you could do some log file trickery to cause a file to appear in the volume for the missile, which could include a quick script to set the target and run its own guidance program. Once we get access to the right-click actions, you could even have the missile decouple and launch itself!\u003C/p\u003E\u003Cp\u003EQuick question for erendrake and/or Steve Mading: If a script tries to get a handle on a vessel by name, and there are a number of vessels with the same name, does it return a list?\u003C/p\u003E\u003Cp\u003Eedit: Here\u0027s a thought! Have the missile turn itself off (or better, have a non-missile core power off all the missiles). Then when you want to fire the missile, build the aforementioned \u0022log file\u0022 as a boot file for the missile and power it on. The missile will read in the targeting info from its boot file, and then go on to run its guidance routine.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI kinda new to kOS so for the moment \u0022log file trickery\u0022 is out of my reach. I guess waiting for the right click actions is the only option for me. Maybe then ill be able to save a number of targets (3) to a list, and than open the cargo door and fire one missile when my plane be close to one of the targets. But that\u0027s not my level for the moment i just learned today about the existence of a boot file \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-16T22:12:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EI agree, we do need a nice way to send information between cores.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMarianoapp had added some code to the project that looks like it\u0027s designed to allow one SCS unit to tell another SCS unit to run a command on it, but it\u0027s not really tested or done. If you want to see it, look at src/Interprocessor.\u003C/p\u003E\u003Cp\u003EI\u0027d prefer it if instead of actually directly having control to run something on the other SCS unit, there was just a messaging system in place to send/get messages between CPUs and let the CPUs decide what to do about the messages.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-10-17T00:53:25Z","Content":"\n\u003Cp\u003EHow do I identify a particular part?\u003C/p\u003E\u003Cp\u003EI want to set \u0022control from\u0022 a forward-facing docking port. Any port will do as long as it\u0027s facing in the right direction. I built a ship with a single forward-facing port and it\u0027s facing differs noticably from ship:facing -- so it\u0027s not as simple as I hoped. How do I find a suitable port on a more complex vessel?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-17T01:02:00Z\u0022 title=\u002210/17/2014 01:02  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 17, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-10-17T01:30:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EI don\u0027t think you can set the thrustlimit in kerbscript. You might consider one of the throttle plugins that allows you to use action groups to control the throttles. Of course, then you\u0027re limited to the 10 default action groups (until/unless someone adds AGX support to kOS)...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt would be nice to set :THRUSTLIMIT because that would enable to balance out parallel stacks, similar to the STS... just throttle up or down the appropriate engines to balance out the torque vector. I\u0027m doing that manually at the time, but there is a way to automate this.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-10-17T05:10:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cairan\u0022 data-cite=\u0022Cairan\u0022\u003E\u003Cdiv\u003EIt would be nice to set :THRUSTLIMIT\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat works already. Just try it.\u003C/p\u003E\n"},{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2014-10-17T13:38:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cairan\u0022 data-cite=\u0022Cairan\u0022\u003E\u003Cdiv\u003EIt would be nice to set :THRUSTLIMIT because that would enable to balance out parallel stacks, similar to the STS... just throttle up or down the appropriate engines to balance out the torque vector. I\u0027m doing that manually at the time, but there is a way to automate this.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERead the post after the one you quoted (and the one 2 above it)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EThey include a working script that throttles individual engines and a craft file for a demo craft that uses them. It\u0027s part of a much larger script i was working on but have stalled because it I need to re-write it (that or set a silly config:ipu). But that fragment should still work.\u003C/p\u003E\u003Cp\u003EEngines in that script are identified by putting them in their own stage, however you could identify them by ISP (throttle back the engines with the lowest ISP first, during launch to stay below max q) or use any other engine/part suffix to identify them.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-10-17T13:56:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cairan\u0022 data-cite=\u0022Cairan\u0022\u003E\u003Cdiv\u003EIt would be nice to set :THRUSTLIMIT because that would enable to balance out parallel stacks, similar to the STS... just throttle up or down the appropriate engines to balance out the torque vector. I\u0027m doing that manually at the time, but there is a way to automate this.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was wrong! Mea cupla! Mea Maxi Culpa!\u003C/p\u003E\u003Cp\u003EI\u0027ve edited my original misinformation to make it clear that I was wrong. Alternatively, you could ask my wife. She\u0027ll tell you I was wrong. About anything...\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-10-17T23:18:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003ERead the post after the one you quoted (and the one 2 above it)\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003Cp\u003EThey include a working script that throttles individual engines and a craft file for a demo craft that uses them. It\u0027s part of a much larger script i was working on but have stalled because it I need to re-write it (that or set a silly config:ipu). But that fragment should still work.\u003C/p\u003E\u003Cp\u003EEngines in that script are identified by putting them in their own stage, however you could identify them by ISP (throttle back the engines with the lowest ISP first, during launch to stay below max q) or use any other engine/part suffix to identify them.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAehm... Well, sorry then. I was looking for a confirmation about the info that\u0027s present in the mod\u0027s documentation:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structure/engine/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/structure/engine/index.html\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ESuffix Type Get Set Description\u003Cp\u003E[...]\u003C/p\u003E\u003Cp\u003E:THRUSTLIMIT Number yes no If this an engine with a thrust limiter (tweakable) enabled, what percentage is it limited to?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo yeah, it\u0027s everybody\u0027s fault \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Except madlemur\u0027s wife. She\u0027s right on everything! *runs*\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-18T02:34:39Z","Content":"\n\u003Cp\u003EJust a bit of teaser to tide people over while we keep plugging away at kOS v0.15 :\u003C/p\u003E\u003Cp\u003EThe two mods being used in the example are LaserDist and Infernal Robotics, but the principle is that it generically works on any mod provided you spend some time at the terminal printing out various exploratory fields to find out what the mod calls things:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/3bujGZP7a_o?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-18T03:11:11Z","Content":"\n\u003Cp\u003EOh man I\u0027m so happy that I won\u0027t have to \u0022cheat\u0022 by disabling RT signal delay so I can perform science from the probe I plan to drop into Duna\u0027s atmosphere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Great work, Steven and erendrake!! This is going to make kOS soooo powerful...\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-10-18T08:35:17Z","Content":"\n\u003Cp\u003EI\u0027ve been searching in the documentation ... I\u0027m writing a little bootloader of sorts to load all files in the Archive volume into Volume 1 (it\u0027s a quick test for a later idea I\u0027ve got).\u003C/p\u003E\u003Cp\u003EThis code fails, even though programmatically it should work, but obviously there is a feature I haven\u0027t caught on... Granted I\u0027m biased by years of Python and PHP coding, but unless I am mistaken, kOS doesn\u0027t substitute \u0022prog\u0022 with the actual content of the \u0022prog\u0022 variable from the FOR... loop.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Bootloader\u003Cbr\u003E// This script will copy every program in the Archive into Volume 1.\u003Cbr\u003ERENAME VOLUME 1 TO Kerbston.\u003Cbr\u003ESWITCH TO Archive.\u003Cbr\u003ELIST FILES IN ls.\u003Cbr\u003EFOR prog IN ls {\u003Cbr\u003E  PRINT \u0022Loading \u0022 \u002B prog.\u003Cbr\u003E  COPY prog TO Kerbston.\u003Cbr\u003E}.\u003Cbr\u003ESWITCH TO Kerbston.\u003Cbr\u003EPRINT \u0022Loaded progs:\u0022.\u003Cbr\u003ELIST FILES.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-10-18T09:24:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cairan\u0022 data-cite=\u0022Cairan\u0022\u003E\u003Cdiv\u003EI\u0027ve been searching in the documentation ... I\u0027m writing a little bootloader of sorts to load all files in the Archive volume into Volume 1 (it\u0027s a quick test for a later idea I\u0027ve got).\u003Cp\u003EThis code fails, even though programmatically it should work, but obviously there is a feature I haven\u0027t caught on... Granted I\u0027m biased by years of Python and PHP coding, but unless I am mistaken, kOS doesn\u0027t substitute \u0022prog\u0022 with the actual content of the \u0022prog\u0022 variable from the FOR... loop.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Bootloader\u003Cbr\u003E// This script will copy every program in the Archive into Volume 1.\u003Cbr\u003ERENAME VOLUME 1 TO Kerbston.\u003Cbr\u003ESWITCH TO Archive.\u003Cbr\u003ELIST FILES IN ls.\u003Cbr\u003EFOR prog IN ls {\u003Cbr\u003E  PRINT \u0022Loading \u0022 \u002B prog.\u003Cbr\u003E  COPY prog TO Kerbston.\u003Cbr\u003E}.\u003Cbr\u003ESWITCH TO Kerbston.\u003Cbr\u003EPRINT \u0022Loaded progs:\u0022.\u003Cbr\u003ELIST FILES.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESwitch to Kerbston and than copy the programs FROM the archive.\u003C/p\u003E\n"},{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2014-10-18T09:34:52Z","Content":"\n\u003Cp\u003E@\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/87737-Cairan\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ECairan\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe copy command does not currently recognise prog as a variable but instead looks for a file called prog (same apply to the other file I/O commands - found \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/command/file/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E). \u003C/p\u003E\u003Cp\u003EThe current work around is to log commands to a temporary file then run that. \u003C/p\u003E\u003Cp\u003ESo instead of:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ECOPY prog TO kerbstone.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eyou would need\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOG \u0022COPY \u0022\u002Bprog\u002B\u0022 TO kerbstone.\u0022 TO temp.\u003Cbr\u003E//  I don\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u201E\u00A2t know if you need prog or prog:name for this.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eafter you have completed the for loop run temp.\u003C/p\u003E\u003Cp\u003EWorth noting that you cant modify temp after you run it (well you can but you the program wont load the modified file unless you restart the program). e.g.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E LOG \u0022PRINT 1.\u0022 TO temp.\u003Cbr\u003ERUN temp.\u003Cbr\u003ELOG \u0022print 2.\u0022 TO temp.\u003Cbr\u003ERUN temp.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will print 1 1 not 1 1 2.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-18T09:38:52Z\u0022 title=\u002210/18/2014 09:38  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 18, 2014\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-10-18T16:55:36Z","Content":"\n\u003Cp\u003EThanks a lot both to Trewor007 and TDW ... With that small tweak, my bootloader test now works ... But better yet, I renamed it \u0022bootload.txt\u0022 in the Archive, and wasn\u0027t I surprised to open the monitor and see that it ran itself while at the launchpad. But something caught my attention, I had a duplicate \u0022bootload\u0022 program, one named bootload, the other \u0022boot\u0022... After further tests I renamed it \u0022boot.txt\u0022 and sure enough it works without a duplicate now... So if a program is named \u0022boot.txt\u0022 it gets loaded and runs right at vessel initiation on the launchpad. I\u0027m not sure if this is an undocumented feature, but it just made my day!\u003C/p\u003E\u003Cp\u003EFor further reference, here\u0027s the full code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Bootloader\u003Cbr\u003E// This script will copy every program in the Archive into Volume 1.\u003Cbr\u003EDECLARE prog.\u003Cbr\u003EDECLARE ls.\u003Cbr\u003ERENAME VOLUME 1 TO Kerbston.\u003Cbr\u003ESWITCH TO Archive.\u003Cbr\u003ELIST FILES IN ls.\u003Cbr\u003ESWITCH TO Kerbston.\u003Cbr\u003EFOR prog IN ls {\u003Cbr\u003E  PRINT \u0022Loading \u0022 \u002B prog.\u003Cbr\u003E  LOG \u0022COPY \u0022\u002Bprog\u002B\u0022 FROM Archive.\u0022 TO temp.\u003Cbr\u003E}.\u003Cbr\u003ERUN temp.\u003Cbr\u003EWAIT 3.\u003Cbr\u003EDELETE temp.\u003Cbr\u003EPRINT \u0022Loaded progs:\u0022.\u003Cbr\u003ELIST FILES.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI could have included \u0022DELETE boot\u0022 after I clean up the \u0022temp\u0022 self-generated copy program, but I elected to keep it so I can do a \u0022soft reset\u0022 by calling \u0022run boot\u0022 while in flight.\u003C/p\u003E\n"}]}