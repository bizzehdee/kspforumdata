{"TopicId":144111,"ForumId":16,"TopicTitle":"[STAGE_PRIORITY] flow","CreatedByName":"Archgeek","CreatedById":116048,"CreatedDateTime":"2016-07-19T03:21:18Z","PageNum":1,"Articles":[{"CreatedByName":"Archgeek","CreatedById":116048,"CreatedDateTime":"2016-07-19T03:21:18Z","Content":"\n\u003Cp\u003E\nAlright, so before I make a support ticket outta this, does anyone know if the devs ever laid out clearly just how mono and xenon fuel flow is actually intended to work? \u00A0I\u0027ve recently learned a couple of recent of designs of mine don\u0027t work as intended, as it turns out the [STAGE_PRIORITY] fuel flow rule does not, as I thought, attempt to respect staging in order, working up the stage list as tanks empty or are ditched,\u00A0but instead counts decouplers out from the root part and draws from every tank with the highest decoupler count, working down as tanks are dumped or empty out.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022https://dl.dropboxusercontent.com/u/59091477/Monstrosities/stupid%20%5BSTAGE_PRIORITY%5D%20demo.png\u0022 alt=\u0022stupid%20%5BSTAGE_PRIORITY%5D%20demo.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIf it worked as expected, the centre drop tank would not be drained until the side ones were done, and the one up top wouldn\u0027t be touched for some time.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNeedless to say, this messes with my parallel-mount, pairwise staged fuel pod systems for needlessly-long-range vehicles. \u00A0But the thing is, I don\u0027t actually know if it\u0027s a bug. \u00A0If it\u0027s meant to work like that, I\u0027ll just have to redesign. \u00A0If it\u0027s not supposed to do that, then I\u0027ve a bug to report.\n\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2016-07-19T04:45:55Z","Content":"\n\u003Cp\u003E\nI find the lack of a flow mode tweak able to be very frustrating both for mono and for fuel cells.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIMO the player should have control over this setting via the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003Esph\u003C/abbr\u003E inteface.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSadly, it\u0027s probably going to be viewed as a feature request.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2016-07-19T04:58:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682058\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468898478\u0022 data-ipsquote-userid=\u0022116048\u0022 data-ipsquote-username=\u0022Archgeek\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Archgeek said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhow mono and xenon fuel flow is actually intended to work?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey drain equally from all tanks.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can lock the tanks during building, and then unlock them when you reach the stage that should be using them.\n\u003C/p\u003E\n"},{"CreatedByName":"Archgeek","CreatedById":116048,"CreatedDateTime":"2016-07-19T07:08:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682121\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468903555\u0022 data-ipsquote-userid=\u002297357\u0022 data-ipsquote-username=\u0022Wallygator\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Wallygator said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI find the lack of a flow mode tweak able to be very frustrating both for mono and for fuel cells.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve no need for that, only the knowledge of what it\u0027s actually supposed to do.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682129\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468904327\u0022 data-ipsquote-userid=\u002232993\u0022 data-ipsquote-username=\u0022razark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, razark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThey drain equally from all tanks.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can lock the tanks during building, and then unlock them when you reach the stage that should be using them.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThey do not anymore, at least not necessarily. \u00A0It counts the number of decouplers from the root part, and drains them in tiers. \u00A0As you can see in my screenshot, it\u0027s draining from all three tanks that are four decouplers out. \u00A0But that\u0027s just what it is doing. \u00A0What I would know if that\u0027s what it\u0027s meant to be doing, or if it\u0027s meant to do something else, like try to respect the player\u0027s defined staging order if it can.\n\u003C/p\u003E\n\u003Cp\u003E\nHEH, lock the tanks. \u00A0I fear such a technique wouldn\u0027t work too well for the likes of me:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/zAQCgY8.png\u0022 alt=\u0022zAQCgY8.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u0027Bit of a complex arrangement to control with tank-locking.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"genericeventhandler","CreatedById":149557,"CreatedDateTime":"2016-07-19T07:23:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682221\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468912084\u0022 data-ipsquote-userid=\u0022116048\u0022 data-ipsquote-username=\u0022Archgeek\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Archgeek said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve no need for that, only the knowledge of what it\u0027s actually supposed to do.\n\u003C/p\u003E\n\u003Cp\u003E\nThey do not anymore, at least not necessarily. \u00A0It counts the number of decouplers from the root part, and drains them in tiers. \u00A0As you can see in my screenshot, it\u0027s draining from all three tanks that are four decouplers out. \u00A0But that\u0027s just what it is doing. \u00A0What I would know if that\u0027s what it\u0027s meant to be doing, or if it\u0027s meant to do something else, like try to respect the player\u0027s defined staging order if it can.\n\u003C/p\u003E\n\u003Cp\u003E\nHEH, lock the tanks. \u00A0I fear such a technique wouldn\u0027t work too well for the likes of me:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022external\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022zAQCgY8.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/zAQCgY8.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u0027Bit of a complex arrangement to control with tank-locking.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTry using this\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/137489-113-gpospeedfuelpump-continued-v183/\u0026amp;do=embed\u0026amp;embedComment=2525517\u0026amp;embedDo=findComment#comment-2525517\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nThe latest install is near the last page, \u00A0I use it in my fuel dump / refuelling crafts.\n\u003C/p\u003E\n\u003Cp\u003E\nYou set up the tanks you want to drain first as a higher priority ie 15 turn the pump on.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI usually do it this way\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLower stages get a priority of 15-14-13\n\u003C/p\u003E\n\u003Cp\u003E\nVampire craft who salvage fuel get \u00A012-11-10 \u00A0(Priority 0 on the Monoprop main tanks, 11 on the overflow tanks)\n\u003C/p\u003E\n\u003Cp\u003E\nFuel dump gets 9 - 8 - 7\n\u003C/p\u003E\n\u003Cp\u003E\nand active craft upper stages get\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n7 - 0\n\u003C/p\u003E\n\u003Cp\u003E\nThis way I know that my lower stages will burn correctly any lower fuel can be picked up by the vampire ships, fuel transfer is automatic. Vampires dock to the fuel dump and automatically dump their excess fuel into the dump.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny mission craft docking with the fuel dump will automatically be refuelled.\n\u003C/p\u003E\n\u003Cp\u003E\nVisiting fuel trucks have one \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E tank set to 0 so that they can undock and de-orbit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2016-07-19T07:32:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682221\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468912084\u0022 data-ipsquote-userid=\u0022116048\u0022 data-ipsquote-username=\u0022Archgeek\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, Archgeek said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve no need for that, only the knowledge of what it\u0027s actually supposed to do\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSimilarly, I would like to know all valid values\u00A0for flowmode and the effects and behavior for each. Such info\u00A0is not easy\u00A0to find.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSnip...\n\u003C/p\u003E\n\u003Cp\u003E\nSTACK_PRIORITY_SEARCH\n\u003C/p\u003E\n\u003Cp\u003E\nNO_FLOW\n\u003C/p\u003E\n\u003Cp\u003E\nSTAGE_PRIORITY_FLOW\n\u003C/p\u003E\n\u003Cp\u003E\nALL_VESSEL\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[flowMode] defines how the resource moves throughout your vessel whenever the resource is requested by a particular part. There are 4 known methods of flow mode:\n\u003C/p\u003E\n\u003Cp\u003E\nend\u00A0snip\n\u003C/p\u003E\n\u003Cp\u003E\nabove is from the wiki and\u00A0Is all I can find of consequence. Not even sure is it\u0027s updated\u00A0for 1.1.3\n\u003C/p\u003E\n\u003Cp\u003E\nyou\u0027ve probably all seen this and know it in detail. Me, not so much.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-19T07:39:02Z\u0022 title=\u002207/19/2016 07:39  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 19, 2016\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Archgeek","CreatedById":116048,"CreatedDateTime":"2016-07-19T08:18:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682239\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468913567\u0022 data-ipsquote-userid=\u002297357\u0022 data-ipsquote-username=\u0022Wallygator\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n41 minutes ago, Wallygator said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSnip...\n\u003C/p\u003E\n\u003Cp\u003E\nSTACK_PRIORITY_SEARCH\n\u003C/p\u003E\n\u003Cp\u003E\nNO_FLOW\n\u003C/p\u003E\n\u003Cp\u003E\nSTAGE_PRIORITY_FLOW\n\u003C/p\u003E\n\u003Cp\u003E\nALL_VESSEL\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[flowMode] defines how the resource moves throughout your vessel whenever the resource is requested by a particular part. There are 4 known methods of flow mode:\n\u003C/p\u003E\n\u003Cp\u003E\nend\u00A0snip\n\u003C/p\u003E\n\u003Cp\u003E\nabove is from the wiki and\u00A0Is all I can find of consequence. Not even sure is it\u0027s updated\u00A0for 1.1.3\n\u003C/p\u003E\n\u003Cp\u003E\nyou\u0027ve probably all seen this and know it in detail. Me, not so much.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds about right. \u00A0STACK_PRIORITY_SEARCH is standard rocket flow, NO_FLOW is obvious, STAGE_PRIORITY_FLOW is for mono and xenon, and ALL_VESSEL is how mono and xenon used to work. \u00A0I forget what jet fuel does these days, but I\u0027m more interested in the intended behaviour of STAGE_PRIORITY_FLOW and whether or not the displayed behaviour is correct.\n\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2016-07-19T11:19:47Z","Content":"\n\u003Cp\u003E\nJet engines use \u0022STAGE_STACK_FLOW_BALANCE\u0022 .The fuel is drained from drop tanks first and then\u00A0equal from staked tanks.\u003Cbr\u003E\nand some explanation about resource flow\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/79621-resource-flow-types/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-07-19T11:40:39Z","Content":"\n\u003Cp\u003E\nStage priority doesn\u0027t use your stage list so modifying your staging won\u0027t affect it.\n\u003C/p\u003E\n\u003Cp\u003E\nInstead it checks to see which monoprop or xenon tanks are furthest from the root based on the \u0027stages\u0027 it is physically broken up into by decouplers.\n\u003C/p\u003E\n\u003Cp\u003E\nSo mono tanks that are N away drain first, then N -1, etc\n\u003C/p\u003E\n"},{"CreatedByName":"Archgeek","CreatedById":116048,"CreatedDateTime":"2016-07-19T13:47:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222682414\u0022 data-ipsquote-contentid=\u0022144111\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468928439\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStage priority doesn\u0027t use your stage list so modifying your staging won\u0027t affect it.\n\u003C/p\u003E\n\u003Cp\u003E\nInstead it checks to see which monoprop or xenon tanks are furthest from the root based on the \u0027stages\u0027 it is physically broken up into by decouplers.\n\u003C/p\u003E\n\u003Cp\u003E\nSo mono tanks that are N away drain first, then N -1, etc\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDrat, so observed behaviour is in fact intended? \u00A0\u0027Guess I\u0027ll have to redesign. \u00A0Thanks for the clarification!\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2016-07-19T13:53:31Z","Content":"\n\u003Cp\u003E\nYeah sorry it\u0027s not very clear, I wish KSP could show your fuel flow overlayed on your craft.\n\u003C/p\u003E\n"}]}