{"TopicId":130742,"ForumId":34,"TopicTitle":"[1.12.x] kRPC: Control the game using C#, C\u002B\u002B, Java, Lua, Python, Ruby, Haskell, C (Arduino)... (v0.5.4)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T08:47:48Z","PageNum":5,"Articles":[{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-06-22T16:14:32Z","Content":"\n\u003Cp\u003E\nJust discovered this, and I\u0027m going to use it extensively to convince myself that, no, I\u0027m not just playing games; I\u0027m studying!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTwo questions have come up as I\u0027m poring over the documentation, though:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCan one use KRPC to control non-focused vessels? I\u0027m guessing no, since KSP probably won\u0027t be able to process commands for them, but I figured it\u0027d be worth asking. Setting up my own automated refueling busses would be awesome.\n\u003C/li\u003E\n\u003Cli\u003E\nFor Engine and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, what exactly does the propellant_ratios() method return? Is it literally a ratio of propellants - so some resource will always be, and the others will be relative to it? Or does it return something more like individual fuel flow rates? I guess I\u0027m asking what\u0027s it a ratio \u003Cem\u003Eto\u003C/em\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nThanks so much.\n\u003C/p\u003E\n"},{"CreatedByName":"Speadge","CreatedById":145302,"CreatedDateTime":"2016-06-22T16:35:57Z","Content":"\n\u003Cp\u003E\nto 1:\n\u003C/p\u003E\n\u003Cp\u003E\nu might want to study the development thread as well \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222638232\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466413915\u0022 data-ipsquote-userid=\u0022145302\u0022 data-ipsquote-username=\u0022Speadge\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 20.6.2016 at 11:11 AM, Speadge said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn addition, i wonder if you can control a vessel that is NOT your \u0022Active Vessel\u0022. Alltogether - for really hardcore-player - you can assemble kind of a control room like in RL.\n\u003C/p\u003E\n\u003Cp\u003E\n-just an idea \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222638545\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466435909\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 20.6.2016 at 5:18 PM, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep you can already do this! (As long as it\u0027s in physics range of the active vessel)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-06-23T04:52:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222641833\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466612072\u0022 data-ipsquote-userid=\u0022117163\u0022 data-ipsquote-username=\u0022Jovus\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Jovus said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor Engine and \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E, what exactly does the propellant_ratios() method return? Is it literally a ratio of propellants - so some resource will always be, and the others will be relative to it? Or does it return something more like individual fuel flow rates? I guess I\u0027m asking what\u0027s it a ratio \u003Cem\u003Eto\u003C/em\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPropellant ratios are the amount of each fuel that an engine burns. For example, if a engine has ratios where Liquid Fuel is 0.6 and Oxidizer is 0.4, then that means for every 0.6 units of Liquid Fuel the engine burns, it burns 0.4 units of Oxidizer. The values themselves are unit-less. They are also scaled so they sum to 1.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-06-25T18:20:19Z","Content":"\n\u003Cp\u003E\nkRPC v0.3.5 has been released!\n\u003C/p\u003E\n\u003Cp\u003E\nThe major changes are:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOverhauled the autopilot, so it should handle vessels of different sizes better. It auto-tunes the PID parameters based on vessel MoI and torque, and uses a different approach for the target angular velocity calculation. I wrote a tutorial on how it works, how to configure it and the maths behind it here: \u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/autopilot.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/tutorials/autopilot.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSupport for KSP 1.1.3\n\u003C/li\u003E\n\u003Cli\u003E\nAdded science parts - allows you to run experiments, transmit the data etc. \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#experiment\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/parts.html#experiment\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nFull changelog available here: \u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.3.5\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.3.5\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEnjoy!\n\u003C/p\u003E\n"},{"CreatedByName":"Kahuette","CreatedById":161717,"CreatedDateTime":"2016-06-26T07:46:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222647087\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221466878819\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nkRPC v0.3.5 has been released!\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\nFull changelog available here: \u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.3.5\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.3.5\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFantastic!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve generated new service files for the \u003Ca href=\u0022https://github.com/Cahu/krpc-hs\u0022 rel=\u0022external nofollow\u0022\u003EHaskell client\u003C/a\u003E to be compatible with this version.\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-02T19:15:17Z","Content":"\n\u003Cp\u003E\nIs there a way to detect what biome the craft is in/over? \u00A0I can\u0027t seem to find anything in the documentation. \u00A0Seems like something that should definitely be there so i\u0027m assuming i\u0027m just overlooking it.\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-09T21:19:26Z","Content":"\n\u003Cp\u003E\nAny suggestions on how to find a specific part when you have multiples of the same one? \u00A0kOS had a method of tagging a part in the editor so it was easy to find later in script, but I don\u0027t see anything like that in kRPC.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T00:13:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222658686\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221467486917\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/2/2016 at 0:15 PM, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a way to detect what biome the craft is in/over? \u00A0I can\u0027t seem to find anything in the documentation. \u00A0Seems like something that should definitely be there so i\u0027m assuming i\u0027m just overlooking it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m afraid not. Will add it to the next release.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222668717\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468099166\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny suggestions on how to find a specific part when you have multiples of the same one? \u00A0kOS had a method of tagging a part in the editor so it was easy to find later in script, but I don\u0027t see anything like that in kRPC.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis isn\u0027t possible for parts in general, but is for docking ports. I guess we need to add something similar to kOS.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you have the Docking Port Alignment Indicator mod, you can get the name of a docking port using DockingPort.Name (\u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.DockingPort.Name\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.DockingPort.Name\u003C/a\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T00:28:43Z","Content":"\n\u003Cp\u003E\nGenerally it isn\u0027t an issue, I just use the stage to discern, but I ran into a situation where the parts were in the same stage \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnother question if I may. \u00A0I\u0027m having some confusion dealing with orbit information. \u00A0I\u0027m seeing really odd numbers. \u00A0For example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;\u0026gt; print vessel.orbit.inclination\n\u003C/p\u003E\n\u003Cp\u003E\n1639.13998943\n\u003C/p\u003E\n\u003Cp\u003E\nMy orbital inclination is 28.6 degrees\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T01:09:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222668915\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468110523\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGenerally it isn\u0027t an issue, I just use the stage to discern, but I ran into a situation where the parts were in the same stage \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnother question if I may. \u00A0I\u0027m having some confusion dealing with orbit information. \u00A0I\u0027m seeing really odd numbers. \u00A0For example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;\u0026gt; print vessel.orbit.inclination\n\u003C/p\u003E\n\u003Cp\u003E\n1639.13998943\n\u003C/p\u003E\n\u003Cp\u003E\nMy orbital inclination is 28.6 degrees\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAhhh you found a bug! According to the docs it should return the inclination in radians, but it\u0027s doing the conversion incorrectly.\n\u003C/p\u003E\n\u003Cp\u003E\nThis workaround should give you the inclination in degrees:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Evessel.orbit.inclindation * (math.pi / 180.0)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T01:11:09Z","Content":"\n\u003Cp\u003E\nAh thank you!\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-07-10T01:31:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222668900\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468109608\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis isn\u0027t possible for parts in general, but is for docking ports. I guess we need to add something similar to kOS.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n(This was RE: kOS name tags)\n\u003C/p\u003E\n\u003Cp\u003E\nWhen we added the name tags system to kOS, it occurred to us that we could have made the name tags an entirely independent mod.\u00A0 It\u0027s basically just a standalone PartModule plus a ModuleManager config that adds it to each and every part in the game, and what the PartModule does is just so... simple and basic.\u00A0 Pretty much the only reason we didn\u0027t was we couldn\u0027t think of any reason anyone who wasn\u0027t doing scripted autopiloting could possibly want it.\u00A0 (\u0022Okay so I named my part... and???\u00A0 Why did I want to do that again?\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nWe could try making it separate (and then telling \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E that it\u0027s a dependency for kOS, rather than it being packaged as part of the kOS ZIP itself like it is now).\u00A0 Then people who are doing a mix of kOS and kRPC could have the same name tag used for both, instead of having to set two different name tags under two different PartModules to do it.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes this idea interest you?\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T01:33:52Z","Content":"\n\u003Cp\u003E\nI was thinking the same thing actually. \u00A0I even almost installed kOS just to get the tagging. \u00A0It is a good idea.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T01:47:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222668996\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468114276\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(This was RE: kOS name tags)\n\u003C/p\u003E\n\u003Cp\u003E\nWhen we added the name tags system to kOS, it occurred to us that we could have made the name tags an entirely independent mod.\u00A0 It\u0027s basically just a standalone PartModule plus a ModuleManager config that adds it to each and every part in the game, and what the PartModule does is just so... simple and basic.\u00A0 Pretty much the only reason we didn\u0027t was we couldn\u0027t think of any reason anyone who wasn\u0027t doing scripted autopiloting could possibly want it.\u00A0 (\u0022Okay so I named my part... and???\u00A0 Why did I want to do that again?\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nWe could try making it separate (and then telling \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E that it\u0027s a dependency for kOS, rather than it being packaged as part of the kOS ZIP itself like it is now).\u00A0 Then people who are doing a mix of kOS and kRPC could have the same name tag used for both, instead of having to set two different name tags under two different PartModules to do it.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes this idea interest you?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes definitely interested, and your approach makes perfect sense! If you want to add it as a separate mod on \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E I\u0027ll link it as a dependency from kRPC too?\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T02:26:20Z","Content":"\n\u003Cp\u003E\nI\u0027ve been beating my head on this one all day with no success, so i\u0027m hoping maybe someone here has already done this in kRPC or could help me figure it out.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically I am trying calculate relative target inclination the same way as MechJeb does. \u00A0Here is \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E\u0027s code for it:\u00A0\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/7a0561ddd867bb7698b97b00d45184137b498165/MechJeb2/OrbitExtensions.cs#L495\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/7a0561ddd867bb7698b97b00d45184137b498165/MechJeb2/OrbitExtensions.cs#L495\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAs I understand it, it is simply taking the angle between the normal vector of the two orbits. \u00A0One of the orbits being your craft and the other being the orbit of the target. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLike I said i\u0027ve been futzing with this all day long and i\u0027m sure it has to do with reference frames in some manner, but yeah i\u0027m just all confused.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T02:59:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669087\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468117580\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve been beating my head on this one all day with no success, so i\u0027m hoping maybe someone here has already done this in kRPC or could help me figure it out.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe following agrees with MechJeb\u0027s output (only done some basic testing though)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eimport krpc, math\nconn = krpc.connect()\n\nvessel = conn.space_center.active_vessel\ntarget = conn.space_center.target_vessel\nif target is None:\n    print \u0027No target vessel\u0027\n    exit(1)\n\ndef dot(u,v):\n    return u[0]*v[0] \u002B u[1]*v[1] \u002B u[2]*v[2]\n\nframe = vessel.reference_frame\nn0 = vessel.flight(frame).normal\nn1 = target.flight(frame).normal\nprint math.acos(dot(n0,n1)) * (180.0 / math.pi)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nOnly thing to note is that you have to pass the same reference frame to vessel.flight() and target.flight(). It doesn\u0027t matter what reference frame, just that they are the same so that the returned normal vectors are in the same reference frame.\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T03:03:00Z","Content":"\n\u003Cp\u003E\nOh thank\u00A0you. \u00A0I totally missed that the normal vector was available from those objects. \u00A0I was trying to do it by basically taking the 0,0,1 vector from the Orbit and Vessel and convert them to the same reference frame using SpaceCenter.\n\u003C/p\u003E\n\u003Cp\u003E\nSo apparently I was totally off.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T03:08:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669139\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468119780\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh thank\u00A0you. \u00A0I totally missed that the normal vector was available from those objects. \u00A0I was trying to do it by basically taking the 0,0,1 vector from the Orbit and Vessel and convert them to the same reference frame using SpaceCenter.\n\u003C/p\u003E\n\u003Cp\u003E\nSo apparently I was totally off.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat approach should also work, it\u0027s just a bit more complex.\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T03:15:34Z","Content":"\n\u003Cp\u003E\nAhh this will only work if the target is another vessel. \u00A0If the target is a body, like the Moon in my case, then I can\u0027t use target.flight(). \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T03:40:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669151\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468120534\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAhh this will only work if the target is another vessel. \u00A0If the target is a body, like the Moon in my case, then I can\u0027t use target.flight(). \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nhere you go \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eimport krpc, math\nconn = krpc.connect()\n\nvessel = conn.space_center.active_vessel\ntarget = conn.space_center.target_body\n\ndef dot(u,v):\n    return u[0]*v[0] \u002B u[1]*v[1] \u002B u[2]*v[2]\n\nframe0 = vessel.orbital_reference_frame\nframe1 = target.orbital_reference_frame\n\nn0 = (0,0,1)\nn1 = conn.space_center.transform_direction((0,0,1), frame1, frame0)\n\nprint math.acos(dot(n0,n1)) * (180.0 / math.pi)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T03:49:02Z","Content":"\n\u003Cp\u003E\nHuh I thought that was what I was basically doing before. \u00A0Maybe I messed something up. \u00A0I\u0027ll check this out in game and compare it with what I have.\n\u003C/p\u003E\n\u003Cp\u003E\nBy the way, though maybe I would post this here. \u00A0I\u0027ve gotten a lot of people interested in kRPC after I did this. \u00A0This mission, originally done as a livestream, is 100% run by kRPC. \u00A0From liftoff to splashdown, including the camera views (I wrote a custom kRPC service to control the FlightCamera), and UI telemetry all handled by kRPC. \u00A0I just started the script on my Macbook, and then handled commentary. \u00A0KSP runs on my Windows machine so not only was the entire mission run by script, it was run by script over a network \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/1_qJpsGfkCM?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T03:53:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669184\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468122542\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHuh I thought that was what I was basically doing before. \u00A0Maybe I messed something up. \u00A0I\u0027ll check this out in game and compare it with what I have.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI tested it with a craft in orbit around kerbin, at a non-zero inclination, with the mun set as the target. Maybe your vessel was in a different situation for which this code does not work?\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T03:54:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669192\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468122783\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tested it with a craft in orbit around kerbin, at a non-zero inclination, with the mun set as the target. Maybe your vessel was in a different situation for which this code does not work?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPossibly. \u00A0My vessel is still sitting on the launch pad, as I want to use this number to help determine when to actually launch. \u00A0However even a vessel on the launchpad has an orbit.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-10T05:15:40Z","Content":"\n\u003Cp\u003E\nSo, I\u0027m working on a mod that aims to add a bridge between kRPC and kOS together for a variety of reasons. \u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/142979-indev-kipc-inter-processor-communication-between-kos-and-krpc/\u0022 rel=\u0022\u0022\u003EMy forum thread\u003C/a\u003E\u00A0is already outdated but has some information on the \u0022Why\u0022, but I wanted to mention some of my headaches involving kRPC\u0027s API.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the big hangups early on (before I ended up just splitting my mod into two assemblies -- and then after some changes it\u0027s back to one) was trying to figure out how to \u0022optionally\u0022 use kRPC -- the current way of using attributes is simple but doesn\u0027t work so well if I\u0027m using reflection. \u00A0It would have been handy if there was an additional way to register with kRPC that could be done after startup. \u00A0(It\u0027s no longer a concern for my project, but thought I might mention it).\n\u003C/p\u003E\n\u003Cp\u003E\nRight now, though, my main interest is finding out about connected clients:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nI haven\u0027t found a (non-private) mechanism to find all of the currently\u00A0connected clients.\n\u003C/li\u003E\n\u003Cli\u003E\nLikewise, being able to register for the client events (OnClient{Disconnected,Connected}) would be handy.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThe kOS side of the bridge will allow targeting messages at individual vessels or kOS processors. \u00A0I\u0027d like to be able to mirror that on the kRPC side (with a message queue per connected client) if I can, otherwise it\u0027ll be a single queue on the kRPC side.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T05:34:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669254\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468127740\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, I\u0027m working on a mod that aims to add a bridge between kRPC and kOS together for a variety of reasons. \u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/142979-indev-kipc-inter-processor-communication-between-kos-and-krpc/\u0022 rel=\u0022\u0022\u003EMy forum thread\u003C/a\u003E\u00A0is already outdated but has some information on the \u0022Why\u0022, but I wanted to mention some of my headaches involving kRPC\u0027s API.\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the big hangups early on (before I ended up just splitting my mod into two assemblies -- and then after some changes it\u0027s back to one) was trying to figure out how to \u0022optionally\u0022 use kRPC -- the current way of using attributes is simple but doesn\u0027t work so well if I\u0027m using reflection. \u00A0It would have been handy if there was an additional way to register with kRPC that could be done after startup. \u00A0(It\u0027s no longer a concern for my project, but thought I might mention it).\n\u003C/p\u003E\n\u003Cp\u003E\nRight now, though, my main interest is finding out about connected clients:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nI haven\u0027t found a (non-private) mechanism to find all of the currently\u00A0connected clients.\n\u003C/li\u003E\n\u003Cli\u003E\nLikewise, being able to register for the client events (OnClient{Disconnected,Connected}) would be handy.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThe kOS side of the bridge will allow targeting messages at individual vessels or kOS processors. \u00A0I\u0027d like to be able to mirror that on the kRPC side (with a message queue per connected client) if I can, otherwise it\u0027ll be a single queue on the kRPC side.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCool idea \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Not sure I quite understand your design but will go have a read on the thread.\n\u003C/p\u003E\n\u003Cp\u003E\nThe issue of optionally using kRPC actually came up over a year ago, when someone was concerned about having to create a hard dependency against the DLL from any third-party mod that wants to add RPCs. Unfortunately I put this feature request on the back burner and never got around to it! It should be pretty easy to add an API to register RPCs - I think it\u0027s just a case of opening up some of the \u0022service scanner\u0022 internals.\n\u003C/p\u003E\n\u003Cp\u003E\nFor your other two concerns, the relevant APIs exist but are indeed private. I can put together a dev build with the those APIs made public so you can play around if you like?\n\u003C/p\u003E\n"}]}