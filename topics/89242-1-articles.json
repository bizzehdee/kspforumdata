{"TopicId":89242,"ForumId":15,"TopicTitle":"[HELP] Part Tools Model Compiling/Unity","CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-02T20:33:12Z","PageNum":1,"Articles":[{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-02T20:33:12Z","Content":"\n\u003Cp\u003ENot sure if I\u0027m missing something, but recently when I go to compilemy parts in Unity, KSP won\u0027t read the mu. Unity is writing the mu. I\u0027ve checked the config over and over for errors and I can\u0027t seem to figure out what I did wrong.should I name the part model.mu? (I don\u0027t think it should matter. I also used cube meshes for the airlock, handhold, and ladder coliders.\u003C/p\u003E\n"},{"CreatedByName":"StarVision","CreatedById":44592,"CreatedDateTime":"2014-11-02T20:48:27Z","Content":"\n\u003Cp\u003EWhat is the file size of the .mu? If the mu\u0027s file size is really small there is probably something wrong with how you set it up in Unity. One thing that messes it up is if you assign a mesh collider to a gameobject. Also you can name the model whatever you want, so long as it matches with the cfg.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-11-02T20:55:35Z","Content":"\n\u003Cp\u003EHow big is the resulting .mu file? Do you have a KSP material applied to the meshes?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-11-02T21:00:06Z","Content":"\n\u003Cp\u003EHave a look through output_log for the entry where KSP is trying to load the part (or preferably post the log). I\u0027ve had a few gotcha\u0027s with PartTools exporting stuff KSP won\u0027t actually read, but the log will tell. It\u0027s frustrating, I know!\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-02T21:56:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022StarVision\u0022 data-cite=\u0022StarVision\u0022\u003E\u003Cdiv\u003EWhat is the file size of the .mu? If the mu\u0027s file size is really small there is probably something wrong with how you set it up in Unity. One thing that messes it up is if you assign a mesh collider to a gameobject. Also you can name the model whatever you want, so long as it matches with the cfg.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo far I have everything the way I set it up for the missiles and stuff for Kerbin Side. \u003C/p\u003E\u003Cp\u003EIt looks like this:\u003C/p\u003E\u003Cp\u003EGameObject - part tools\u003C/p\u003E\u003Cp\u003E \u0026gt; cockpit - mesh, mesh colider, texture material\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt;frame - mesh, mesh colider, texture material\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt;\u0026gt; glass - mesh, mesh colider, texture material\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt; frame - mesh, mesh colider, texture material\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt;\u0026gt; glass - mesh, mesh colider, texture material\u003C/p\u003E\u003Cp\u003E \u0026gt; ladder \u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt; ladder.001 - mesh\u003C/p\u003E\u003Cp\u003E \u0026gt; airlock\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt; airlock.001 - mesh\u003C/p\u003E\u003Cp\u003E \u0026gt; handhold\u003C/p\u003E\u003Cp\u003E \u0026gt;\u0026gt; handhold.001 - mesh\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EHow big is the resulting .mu file? Do you have a KSP material applied to the meshes?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t looked at the size, but all ksp materials are used.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EHave a look through output_log for the entry where KSP is trying to load the part (or preferably post the log). I\u0027ve had a few gotcha\u0027s with PartTools exporting stuff KSP won\u0027t actually read, but the log will tell. It\u0027s frustrating, I know!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t checked the output_log.txt yet. I\u0027m worried that something hidden in my mesh is screwing up the mesh.\u003C/p\u003E\u003Cp\u003EAlso my smoke texture isn\u0027t compiling with my missile model particle effects.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-11-02T22:18:48Z","Content":"\n\u003Cp\u003ECTRL-6 to bring up Unity Console when you export. if any errors in there, whatever MU got exported, if any, probably won\u0027t work in KSP. if that\u0027s all clear; then check the output_log.txt. search for the part you just made (naming the MU to something descriptive comes in handy here), and see what log messages are associated with it.\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-03T17:58:45Z","Content":"\n\u003Cp\u003EI checked the file size, it was a healthy 170kb, then I checked the KSP output_log.txt and there were no loading errors. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003ECTRL-6 to bring up Unity Console when you export. if any errors in there, whatever MU got exported, if any, probably won\u0027t work in KSP. if that\u0027s all clear; then check the output_log.txt. search for the part you just made (naming the MU to something descriptive comes in handy here), and see what log messages are associated with it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI checked the console and there were no reported errors.\u003C/p\u003E\u003Cp\u003ESo my final thoughts is that Parts Catalog isn\u0027t recognizing the file.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-11-03T18:07:35Z","Content":"\n\u003Cp\u003Eit may be a long shot..\u003C/p\u003E\u003Cp\u003Ebut I had same thing once - back there it was a wrong import setting..\u003C/p\u003E\u003Cp\u003EI can\u0027t remember exactly - but I think it was something with the animation not set to legacy or something.\u003C/p\u003E\u003Cp\u003Ecould that apply here?\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-11-03T18:58:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Eskandare\u0022 data-cite=\u0022Eskandare\u0022\u003E\u003Cdiv\u003EI checked the console and there were no reported errors.\u003Cp\u003ESo my final thoughts is that Parts Catalog isn\u0027t recognizing the file.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethen check Output_log.txt in KSPData. name the export to something descriptive, like \u0022myKickassCockPit\u0022 instead of \u0022model\u0022, it\u0027s a terrible habit I don\u0027t know why Squad still does it. name your textures to match the part. i.e. mykickasscockpit_DIF; mykickasscockpit_NRM, etc; decide on a pattern and stick to it. it\u0027ll save you a lot of headache when debugging later. remember asset loader is CaSe SenSATive.\u003C/p\u003E\u003Cp\u003Esearch for instances of your export in output_log. you will see KSP loading the textures; then the model; then the config file; then compiling the part. if there\u0027s a missing asset during compile your part won\u0027t show up in game. if missing textures or model you will see error message complaining about missing texture or missing model during compile phase. if there\u0027s no config then no errors will come up, the texture and MU will just eat up your memory.\u003C/p\u003E\u003Cp\u003Eduring model loading you might get errors, usually about bad animation clips; rarely bad colliders. things like missing mesh reference or bad collision mesh will prevent the script from exporting at all, or output a bad MU(that\u0027s why I suggested looking in Unity console first). error loading the model will generate an error during compile later about model does not exist in database.\u003C/p\u003E\u003Cp\u003ENotepad \u002B\u002B has a feature that will list all instances of a search string in a separate window. clicking on an instance will jump to the referenced message in main log window. very handy when you have to sift through 83000 lines of output logs.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-03T19:02:54Z\u0022 title=\u002211/03/2014 07:02  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 3, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-03T21:15:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Ethen check Output_log.txt in KSPData. name the export to something descriptive, like \u0022myKickassCockPit\u0022 instead of \u0022model\u0022, it\u0027s a terrible habit I don\u0027t know why Squad still does it. name your textures to match the part. i.e. mykickasscockpit_DIF; mykickasscockpit_NRM, etc; decide on a pattern and stick to it. it\u0027ll save you a lot of headache when debugging later. remember asset loader is CaSe SenSATive.\u003Cp\u003Esearch for instances of your export in output_log. you will see KSP loading the textures; then the model; then the config file; then compiling the part. if there\u0027s a missing asset during compile your part won\u0027t show up in game. if missing textures or model you will see error message complaining about missing texture or missing model during compile phase. if there\u0027s no config then no errors will come up, the texture and MU will just eat up your memory.\u003C/p\u003E\u003Cp\u003Eduring model loading you might get errors, usually about bad animation clips; rarely bad colliders. things like missing mesh reference or bad collision mesh will prevent the script from exporting at all, or output a bad MU(that\u0027s why I suggested looking in Unity console first). error loading the model will generate an error during compile later about model does not exist in database.\u003C/p\u003E\u003Cp\u003ENotepad \u002B\u002B has a feature that will list all instances of a search string in a separate window. clicking on an instance will jump to the referenced message in main log window. very handy when you have to sift through 83000 lines of output logs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI already checked the output_log.txt I found the entry, there wasn\u0027t an error, but I finally did find an error in Unity where it was removing leaked texture. I\u0027ll work with it and see what I can do. I have an idea. \u003C/p\u003E\u003Cp\u003Enil2work I\u0027m also going to make a skin compatible with Retro Future. I plan to use fsTexture switch.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-03T21:19:33Z\u0022 title=\u002211/03/2014 09:19  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 3, 2014\u003C/time\u003E by Eskandare\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-11-03T21:31:26Z","Content":"\n\u003Cp\u003Ehm... the only other instance I know of where a part loads properly but doesn\u0027t show up is incorrect technode definition while in career mode. I presume you are testing in sandbox mode? I don\u0027t think leaked texture message in Unity is a problem, just garbage collection doing it\u0027s work. unless it occurs during export process, in which case it\u0027s something to look into.\u003C/p\u003E\n"},{"CreatedByName":"Eskandare","CreatedById":62742,"CreatedDateTime":"2014-11-14T20:43:06Z","Content":"\n\u003Cp\u003EI\u0027m guessing unity is being weird with my model. I got it working then once I added box coliders, ladder and airlock triggers it worked for a few tests then stopped working.\u003C/p\u003E\n"}]}