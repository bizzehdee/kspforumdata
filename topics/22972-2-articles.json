{"TopicId":22972,"ForumId":34,"TopicTitle":"[0.90] ProgCom - CPU Emulator V0.11.1","CreatedByName":"SimplySimon","CreatedById":18291,"CreatedDateTime":"2013-04-19T22:57:47Z","PageNum":2,"Articles":[{"CreatedByName":"opteron123","CreatedById":65743,"CreatedDateTime":"2013-05-16T04:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022eyecikjou567\u0022 data-cite=\u0022eyecikjou567\u0022\u003E\u003Cdiv\u003EI think (just my thought) it would be the easiest to intergrate a interrupt to the cpu.\u003Cp\u003EFor example we call it 0xF00BA8\u003C/p\u003E\u003Cp\u003EThe connection should reside over UDP.\u003C/p\u003E\u003Cp\u003EThe cpu will recieve packets in 16 byte length.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eoooh I like that.\u003C/p\u003E\u003Cp\u003EBuilding on the data payload layout that eyecikjou567 suggested (now I\u0027m just being silly I guess and its late, but trying to keep real world SocketIO restrictions in mind) what about, say, 4 virtual GPIO buses with programmable flags and external 16 byte RAM buffers (see below) with each bus being a UDP socket OR file handle. This way it could then be extended to a databus for all sorts of virtual hardware, other then communications packages.\u003C/p\u003E\u003Cp\u003ESo the virtual hardware theory behind this is any device communicating with the CPU on the databus has DMA to external RAM modules that the CPU clocks in serially. This cuts the complexity of bus mastering from the CPU and lowers overheads from real world CPU socket/file read/writes.....maybe.\u003C/p\u003E\u003Cp\u003ESo a scheme could be:\u003C/p\u003E\u003Cp\u003EPORT A BUFFER_ADDRESS 128\u003C/p\u003E\u003Cp\u003EPORT A BUFFER_ADDRESS_OFFSET 129\u003C/p\u003E\u003Cp\u003EPORT B BUFFER_ADDRESS 130\u003C/p\u003E\u003Cp\u003EPORT B BUFFER_ADDRESS_OFFSET 131\u003C/p\u003E\u003Cp\u003EPORT C BUFFER_ADDRESS 132\u003C/p\u003E\u003Cp\u003EPORT C BUFFER_ADDRESS_OFFSET 133\u003C/p\u003E\u003Cp\u003EPORT D BUFFER_ADDRESS 134\u003C/p\u003E\u003Cp\u003EPORT D BUFFER_ADDRESS_OFFSET 135\u003C/p\u003E\u003Cp\u003E(These are real life 16 byte socket/file buffer arrays with index)\u003C/p\u003E\u003Cp\u003EPORT A-D FLAG REGISTER 136-139\u003C/p\u003E\u003Cp\u003EEach ports FLAG register is bit addressable.\u003C/p\u003E\u003Cp\u003Ebit 1 - Interrupt Enable (AsyncSocketRecv() OnFileChange() )?\u003C/p\u003E\u003Cp\u003Ebit 2 - IO Direction (low= Output, High=Input)\u003C/p\u003E\u003Cp\u003Ebit 3 - Latch Data (technically not a clock/latch but a nice bit to set to fire off SocketSend() WriteFile() )\u003C/p\u003E\u003Cp\u003Ebit 4 - .... (anything else that makes Real Life socket/file IO easier)\u003C/p\u003E\u003Cp\u003Ebit 5 - .... (or any other bits that simulate control of a parallel data bus)\u003C/p\u003E\u003Cp\u003E..\u003C/p\u003E\u003Cp\u003Ebit 32\u003C/p\u003E\u003Cp\u003EProgCom opens the sockets/file when the plugin starts on UDP ports 6502-6506 (homage to MOS-6502) ready for connection/listen.\u003C/p\u003E\u003Cp\u003ESocketSend()/Writefile() is initiated when the data has been clocked from the CPU to the virtual RAM buffer and the latch bit is set to 1\u003C/p\u003E\u003Cp\u003ESocketRecv() / OnFileChange() will flag INT_PORTNUMBER so the CPU vectors to the interrupt handler whenever there is data in a socket receive buffer.\u003C/p\u003E\u003Cp\u003ENow if only there was a way to pump other plugin data to UDP.....\u003C/p\u003E\n"},{"CreatedByName":"simast","CreatedById":60746,"CreatedDateTime":"2013-05-16T09:20:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SimplySimon\u0022 data-cite=\u0022SimplySimon\u0022\u003E\u003Cdiv\u003EYeah, I think I might need a custom model for the thing. The only reason it uses the asas model is that I am crap at modeling.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have always thought the Kerbal Engineer \u0022chip\u0022 model would fit your mod so well. Maybe you could arrange something with the cybutek (the author of Kerbal Engineer Redux)?\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-23T07:42:56Z","Content":"\n\u003Cp\u003EJust bought KSP and ProgCom is the first plugin I downloaded.\u003C/p\u003E\u003Cp\u003EI have one main question now: when I typing the commend in the console, it also affects my rocket/vessel aswel. For example, [space] is interpreted both as space in the console and as the \u0022next stage\u0022 for my rocket. Is it possible to avoid this somehow?\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-23T10:04:26Z","Content":"\n\u003Cp\u003ETalking about communication: for implementing communication it\u0027s neccessary at least to have ProgCom enabled and working on the spacecrafts user don\u0027t control at the moment. Now it only works and only active for the vehicle under user\u0027s control.\u003C/p\u003E\u003Cp\u003EI\u0027m not sure if it possible at all. Probably KSP engine can handle only one \u0022active\u0022 ship at a time, and other can only be handled as a passive pieces of mattery. For example, if you\u0027ll send SolidFuel engine to fly independently (activate and then decouple), it will disappear quickly (after reaching distance about 2.5 km from the command pod as from my experience).\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-23T10:28:38Z","Content":"\n\u003Cp\u003EI just finished my ProgCom blinker (classical \u0022blinking led\u0022, now on ProgCom) project, and here is my comments.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E CTL button also blocks ActionGroups from executing. It does not mentioned anywhere, and I spend lot of tyme trying to debug my code to understand what\u0027s wrong.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E In \u0022main\u0022 documention file \u003Cstrong\u003Einstructionset.txt\u003C/strong\u003E one may read \u0022\u003Cem\u003ECTL toggles whether the computer can control pitch/yaw/roll etc. on and off. It also controls \u003C/em\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Estaging\u003C/em\u003E\u003C/span\u003E\u003Cem\u003E and translation until I implement separate buttons for that\u003C/em\u003E\u0022. But I failed to find any instructions regarding staging. Is it really possible, and if yes - then how exactly it\u0027s possible?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E When using \u0022warping\u0022 (making time faster), ProgCom continues to execute at the same speed. One may expect that when time goes 5x or 10x faster, computer acts faster aswel. If it\u0027s impossible or just too boring to implement, why not just blocking time warp when ProgCom runs a program? Just like working engine blocks warping.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E In the example code \u003Cstrong\u003Enavigator.txt\u003C/strong\u003E one may find comment \u0022\u003Cem\u003E;this bit of code sets the timer max to 96000 cycles (1 second)\u003C/em\u003E\u0022. Look like this comment a bit outdated, as long as clock rate are 384kHz now. Probably worth to implement constant CPU_CLOCK_RATE directly into the compiler?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E I have strong feeling that ProgCom should consume ElectricCharge and stop to work when we run out of ElectricCharge. For purists/IT maniacs, if halted (and waiting for interrupts), it may consume less electricity then when working in infinite loop.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E And, finally, why not make ProgCom module the Prob Core functionality? Why do you need additional core, when you already have ProgCom, which, in fact, programmable core by nature?\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-23T10:40:43Z\u0022 title=\u002205/23/2013 10:40  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 23, 2013\u003C/time\u003E by tallman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SimplySimon","CreatedById":18291,"CreatedDateTime":"2013-05-23T13:47:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022simast\u0022 data-cite=\u0022simast\u0022\u003E\u003Cdiv\u003EI have always thought the Kerbal Engineer \u0022chip\u0022 model would fit your mod so well. Maybe you could arrange something with the cybutek (the author of Kerbal Engineer Redux)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll see what I can do.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003EJust bought KSP and ProgCom is the first plugin I downloaded.\u003Cp\u003EI have one main question now: when I typing the commend in the console, it also affects my rocket/vessel aswel. For example, [space] is interpreted both as space in the console and as the \u0022next stage\u0022 for my rocket. Is it possible to avoid this somehow?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is strange, that should not happen. I am unable to reproduce this problem, do you have a sequence of steps that will reproduce the bug?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003ETalking about communication: for implementing communication it\u0027s neccessary at least to have ProgCom enabled and working on the spacecrafts user don\u0027t control at the moment. Now it only works and only active for the vehicle under user\u0027s control.\u003Cp\u003EI\u0027m not sure if it possible at all. Probably KSP engine can handle only one \u0022active\u0022 ship at a time, and other can only be handled as a passive pieces of mattery. For example, if you\u0027ll send SolidFuel engine to fly independently (activate and then decouple), it will disappear quickly (after reaching distance about 2.5 km from the command pod as from my experience).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs long as the ships are less than 2.5 kilometres apart, you can have two active progcom computers running I think. If you could get computers to communicate it could help with docking, for example.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003EI just finished my ProgCom blinker (classical \u0022blinking led\u0022, now on ProgCom) project, and here is my comments.\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E CTL button also blocks ActionGroups from executing. It does not mentioned anywhere, and I spend lot of tyme trying to debug my code to understand what\u0027s wrong.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E In \u0022main\u0022 documention file \u003Cstrong\u003Einstructionset.txt\u003C/strong\u003E one may read \u0022\u003Cem\u003ECTL toggles whether the computer can control pitch/yaw/roll etc. on and off. It also controls \u003C/em\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cem\u003Estaging\u003C/em\u003E\u003C/span\u003E\u003Cem\u003E and translation until I implement separate buttons for that\u003C/em\u003E\u0022. But I failed to find any instructions regarding staging. Is it really possible, and if yes - then how exactly it\u0027s possible?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E When using \u0022warping\u0022 (making time faster), ProgCom continues to execute at the same speed. One may expect that when time goes 5x or 10x faster, computer acts faster aswel. If it\u0027s impossible or just too boring to implement, why not just blocking time warp when ProgCom runs a program? Just like working engine blocks warping.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E In the example code \u003Cstrong\u003Enavigator.txt\u003C/strong\u003E one may find comment \u0022\u003Cem\u003E;this bit of code sets the timer max to 96000 cycles (1 second)\u003C/em\u003E\u0022. Look like this comment a bit outdated, as long as clock rate are 384kHz now. Probably worth to implement constant CPU_CLOCK_RATE directly into the compiler?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E I have strong feeling that ProgCom should consume ElectricCharge and stop to work when we run out of ElectricCharge. For purists/IT maniacs, if halted (and waiting for interrupts), it may consume less electricity then when working in infinite loop.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1\u002B2: Yeah, \u0022Staging\u0022 in the documentation actually refers to the actiongroups. I can see how that could be confusing, so I\u0027ll fix it for the next version. If possible, I\u0027ll also create some way of activating the next stage.\u003C/p\u003E\u003Cp\u003E3: That might be possible to implement. There will have to be a maximum clock rate, otherwise your computer would grind to a halt when warping with progcom, but other than that it could probably be done.\u003C/p\u003E\u003Cp\u003E4: Good catch! I\u0027ll fix that for the next version. I\u0027ll probably add your CPU_CLOCK_RATE suggestion too.\u003C/p\u003E\u003Cp\u003E5: I\u0027ve been thinking about making it consume electricity, I might add that. Making it consume less electricity when halted would be difficult to implement correctly, and since halt is implemented as \u0022br -1\u0022 I don\u0027t know if it would be correct or not.\u003C/p\u003E\u003Cp\u003E6: In order to do that properly I think I would have to make ProgCom a part module, which is not impossible but would take some reworking. I might do that some day.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-23T13:53:12Z\u0022 title=\u002205/23/2013 01:53  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 23, 2013\u003C/time\u003E by SimplySimon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-23T15:50:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SimplySimon\u0022 data-cite=\u0022SimplySimon\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Ewhen I typing the commend in the console, it also affects my rocket/vessel aswel.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is strange, that should not happen. I am unable to reproduce this problem, do you have a sequence of steps that will reproduce the bug?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, it\u0027s happens all the time, without any special steps, both in .19.1 and (just tested) in .20\u003C/p\u003E\u003Cp\u003EI have suggestion that it\u0027s because I\u0027m using native Linux version, and you probably using Windows or Mac one, and therefore you, probably, can\u0027t reproduce this.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EI have found workaround of some kind: there are always a lag between loading the craft model and starting of phisycal engine calculation. You can move you camera, but can\u0027t use engines, staging and so on. ProgCom works in this period (well, at least console works and it\u0027s possible to load programs), so if I load needed program quickly enought, everything going ok then. Of course, it\u0027s not comfortable, but better than nothing.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"SimplySimon","CreatedById":18291,"CreatedDateTime":"2013-05-23T19:04:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003EWell, it\u0027s happens all the time, without any special steps, both in .19.1 and (just tested) in .20\u003Cp\u003EI have suggestion that it\u0027s because I\u0027m using native Linux version, and you probably using Windows or Mac one, and therefore you, probably, can\u0027t reproduce this.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EI have found workaround of some kind: there are always a lag between loading the craft model and starting of phisycal engine calculation. You can move you camera, but can\u0027t use engines, staging and so on. ProgCom works in this period (well, at least console works and it\u0027s possible to load programs), so if I load needed program quickly enought, everything going ok then. Of course, it\u0027s not comfortable, but better than nothing.\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have a linux distribution installed alongside windows, so I\u0027ll try to reproduce the bug there when I get the time. Hopefully I can get this fixed for the next version, which I hope to release sometime next week.\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-23T20:16:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SimplySimon\u0022 data-cite=\u0022SimplySimon\u0022\u003E\u003Cdiv\u003EI have a linux distribution installed alongside windows, so I\u0027ll try to reproduce the bug there when I get the time. Hopefully I can get this fixed for the next version, which I hope to release sometime next week.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just found another workaround: if I press [Esc], game pauses, but computer still works (at least console commands), and I can load everything I want without affecting my vessel. It\u0027s much better solution that fast typing at the loading time.\u003C/p\u003E\n"},{"CreatedByName":"Spartan190","CreatedById":57888,"CreatedDateTime":"2013-05-24T11:54:03Z","Content":"\n\u003Cp\u003EHi, I just downloaded ProgCom and wanted to test it with the helloWorld program. So I wrote: \u0022load run helloWorld.txt\u0022 and get the following error:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E[Log]: System.IO.IsolatedStorage.IsolatedStorageException: Could not find file \u0022D:\\SteamSpiele\\steamapps\\common\\Kerbal Space Program\\GameData\\progCom\\Plugins\\PluginData\\ProgCom\\helloWorld.txt\u0022.\u003C/p\u003E\u003Cp\u003E at System.IO.FileStream..ctor (System.String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, Boolean anonymous, FileOptions options) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.IO.FileStream..ctor (System.String path, FileMode mode, FileAccess access, FileShare share) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.IO.File.OpenRead (System.String path) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.IO.StreamReader..ctor (System.String path, System.Text.Encoding encoding, Boolean detectEncodingFromByteOrderMarks, Int32 bufferSize) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at System.IO.StreamReader..ctor (System.String path) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at KSP.IO.TextReader.CreateForType[Assembler2] (System.String filename, .Vessel flight) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at Assembler2.readFile (System.String fileName) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at Assembler2.loadText (System.String fileName) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at Assembler2.assemble (System.String fileName, Int32 loadLocation) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at ProgCom.load (System.String s) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at ProgCom.loadWrapper (System.String s) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks like he doesn\u0027t find the file. But it is in that folder, everything is fine with the structure.\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-24T13:03:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Spartan190\u0022 data-cite=\u0022Spartan190\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ELooks like he doesn\u0027t find the file. But it is in that folder, everything is fine with the structure.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you sure? Can you open notepad, select File-Open and then copy-paste filename with full path? And we\u0027ll se if file will appear.\u003C/p\u003E\u003Cp\u003EI mean not try to visually controll all the way, just copy and paste it and try to open and we\u0027ll look.\u003C/p\u003E\u003Cp\u003EFor example, I little bit worried about space in \u0022...PluginData\\ProgCo m\\...\u0022\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-05-24T14:43:40Z","Content":"\n\u003Cp\u003EIt\u0027s looking in the .20-style plugin data directory. The folders in the zip are probably still .19-style.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-05-24T14:53:47Z","Content":"\n\u003Cp\u003EI\u0027ve started doing some simple attitude control stuff, so far so good.\u003C/p\u003E\u003Cp\u003EHere\u0027s my wishlist:\u003C/p\u003E\u003Cp\u003E1. Window placement persisting between flights\u003C/p\u003E\u003Cp\u003E2. Science instrument readings\u003C/p\u003E\u003Cp\u003E3. Setting the current target from code\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-24T15:56:57Z\u0022 title=\u002205/24/2013 03:56  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 24, 2013\u003C/time\u003E by rhoark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kellpossible","CreatedById":62739,"CreatedDateTime":"2013-05-24T15:48:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022String\u0022 data-cite=\u0022String\u0022\u003E\u003Cdiv\u003EI checked out the k compiler(didn\u0027t try to write anything in it yet) but I would really like a proper c compiler that we we could just port existing stuff like stdlib for use on ProgCom.\u003Cp\u003EI had a look at LLVM, it\u0027s a open source compiler infrastructure that can be used to make custom languages or compile existing languages to any platform that you define. I just don\u0027t have the understanding of how compilers work and don\u0027t really have the time to start learning it now.\u003C/p\u003E\u003Cp\u003EMaybe someone could try to use it to make a proper compiler that compiles basically any language you to ProgCom assembler(it could even make ProgCom binaries if loading them would be supported).\u003C/p\u003E\u003Cp\u003EIf we do get a good c compiler I\u0027d be happy to help porting a standard lib for it.\u003C/p\u003E\u003Cp\u003EGCC can also be customized to compile to a system you define but from what I have seen LLVM seems better and it can actually use GCC intermediate code to compile to its destination.\u003C/p\u003E\u003Cp\u003EIll try to think up a nice model for ProgCom, I was thinking to make 3 stack models(in different sizes) and one side mounted one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow about something like this for the model?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.circuitstoday.com/wp-content/uploads/2009/09/integrated-circuit.jpg\u0022 alt=\u0022integrated-circuit.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Spartan190","CreatedById":57888,"CreatedDateTime":"2013-05-24T15:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003EAre you sure? Can you open notepad, select File-Open and then copy-paste filename with full path? And we\u0027ll se if file will appear.\u003Cp\u003EI mean not try to visually controll all the way, just copy and paste it and try to open and we\u0027ll look.\u003C/p\u003E\u003Cp\u003EFor example, I little bit worried about space in \u0022...PluginData\\ProgCo m\\...\u0022\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI put the mod into the new style and he is looking in the correct folder, the path does exist and the file, too.\u003C/p\u003E\u003Cp\u003EEdit: Found the problem. He was really looking into new path. Thought folder is just PluginData but it\u0027s Plugins/PluginData \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-24T16:24:33Z\u0022 title=\u002205/24/2013 04:24  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 24, 2013\u003C/time\u003E by Spartan190\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-24T18:13:21Z","Content":"\n\u003Cp\u003EThere are a several of us. Probably we should share our ProgCom code somehow?\u003C/p\u003E\n"},{"CreatedByName":"String","CreatedById":15978,"CreatedDateTime":"2013-05-24T18:16:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kellpossible\u0022 data-cite=\u0022kellpossible\u0022\u003E\u003Cdiv\u003EHow about something like this for the model?\u003Cp\u003E\u003Cimg src=\u0022http://www.circuitstoday.com/wp-content/uploads/2009/09/integrated-circuit.jpg\u0022 alt=\u0022integrated-circuit.jpg\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t really had the time to work on a model but that could be nice, when I get some free time ill work on something.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-05-24T19:59:54Z","Content":"\n\u003Cp\u003EThe latest version of Kerbal Engineer uses a model that looks like some kind of retro reel-to-reel tape device. I plan to use an override cfg for my own purposes that loads Engineer, ProgCom, Fuel Balancer, Graphotron, and RemoteTech all on that one part. Probably a probe core ring version too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-24T20:02:03Z\u0022 title=\u002205/24/2013 08:02  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 24, 2013\u003C/time\u003E by rhoark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kellpossible","CreatedById":62739,"CreatedDateTime":"2013-05-24T21:05:56Z","Content":"\n\u003Cp\u003EWell it\u0027s taken me several hours, and I\u0027ve still got to finish the texturing (got ambient occlusion set up as a base texture, just need to add some texture/colour and add some ProgCom text on there \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://lh5.googleusercontent.com/-D2EaZWWwLwI/UZ_S3P9hgZI/AAAAAAAABx4/fTxrJG98204/w1061-h889-no/2013-05-24_00001.jpg\u0022 alt=\u00222013-05-24_00001.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, I don\u0027t have unity, so at the moment the model is imported as DAE, which unfortunately I think means there is no context menu for it, and also it doesn\u0027t highlight when selected and go transperent when detached from the rest of the craft. These are bugs with KSP, I guess I need to report them at some stage if they haven\u0027t already been reported. I guess more permanent fix when the model is finished is to chuck it into unity and export it as a unity model.\u003C/p\u003E\u003Cp\u003EHere\u0027s the zip with the part file, and source files in it: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropboxusercontent.com/s/9b6w5e3rcxrqqcf/IC.zip?token_hash=AAFOQWlhskMqkzKRpk35CQaEGCkLubUgJ7OL3T-L3zFMOA\u0026amp;dl=1\u0022 rel=\u0022external nofollow\u0022\u003EIC.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m releasing it with Creative Commons by-sa license\u003C/p\u003E\u003Cp\u003ESo, SimplySimon, I hope you like it, let me know if you think it\u0027s ok, or if something will need to change... I made it a bigger part because: don\u0027t have to worry about it sinking into things and disapearing. and also because a cpu is a pretty powerful feature to have therefore I figure it should be a bigger part to make the user think twice before placing it on a tiny ship. (in the same spirit as other ksp parts like asas)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-24T22:21:23Z\u0022 title=\u002205/24/2013 10:21  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 24, 2013\u003C/time\u003E by kellpossible\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kellpossible","CreatedById":62739,"CreatedDateTime":"2013-05-24T21:11:41Z","Content":"\n\u003Cp\u003Ealthough, come to think of it, a cpu like this would be great on remote probes, so maybe I should make a miniature version.\u003C/p\u003E\u003Cp\u003EI haven\u0027t tried out remote tech with this mod yet because I switched to 0.20, just wondering\u003C/p\u003E\u003Cp\u003Edoes it work to control the ship even when the probe is out of range in remote tech? If it does I guess this would make it possible\u003C/p\u003E\u003Cp\u003Eto write landing software for when the probe/lander is on missions which usually have a 10 minute communication latency with remote tech, thus making landings\u003C/p\u003E\u003Cp\u003Eimpossible without some form of local control like this for instance \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E . If this requires some work on remote tech I\u0027ve got the remote tech source code with me, so I could\u003C/p\u003E\u003Cp\u003Egive it a crack some time.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-24T22:13:13Z\u0022 title=\u002205/24/2013 10:13  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 24, 2013\u003C/time\u003E by kellpossible\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kellpossible","CreatedById":62739,"CreatedDateTime":"2013-05-25T06:50:06Z","Content":"\n\u003Cp\u003EOk, so looks like remotetech only gives control to itself, and to mechjeb (when the probe is in range). So I\u0027ll make a few changes, and add support for ProgCom as a source of control, and perhaps provide a list or something to switch between the available control sources...\u003C/p\u003E\u003Cp\u003EI was also thinking, perhaps it might be worth making some sensor modules while I\u0027m at it. like radar altimeter, bumper sensors, laser distance sensors, etc. Then perhaps progcom could adjust the available hardware for polling based on which hardware is part of the ship in the vab.\u003C/p\u003E\u003Cp\u003EEDIT: and what would be really cool would be support for mechjeb! if this cpu could manipulate mechjeb (if it is attached to the ship) and use that as its control system instead of its own that would be fantastic, then get all the functions for auto landing, orbit transfers, docking, the whole shebang. That\u0027s probably a bit of a dream... but hey mechjeb is open source, so it should be possible to make the changes. I\u0027ll see if I can get remotetech to work first \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-25T06:56:03Z\u0022 title=\u002205/25/2013 06:56  AM\u0022 data-short=\u002211 yr\u0022\u003EMay 25, 2013\u003C/time\u003E by kellpossible\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-25T07:51:33Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ERadar altimeter\u003C/strong\u003E is really cool feature, which I wanted to request myself. It\u0027s the only thing that prevent me from coding \u0022rocket parachute\u0022 solution.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELaser distance sensors\u003C/strong\u003E is even better - it may be used for autonomous rovers and for semi-automatic docking. It also abolish the need of the first one.\u003C/p\u003E\u003Cp\u003EBumper sensor looks cool, but somewhat limited usage. Cutting skycrane is the only usage I can imagine just now.\u003C/p\u003E\u003Cp\u003ETalking about sensor, I requesting \u0022\u003Cstrong\u003EFuel Gauge\u003C/strong\u003E\u0022 sensor, which fits to fuel tank and returns the level of remaining fuel there. Quite usable for automatic orbit launchers.\u003C/p\u003E\u003Cp\u003ETrouble is: now ProgCom uses memory-mapping approach for input-output. It\u0027s much harder to implement, if you have several sensors of same type, providing different data (fuel gauges on different tanks, laser distance in different directions). Any possible \u0022real-life\u0022 approach, like dynamic memory mapping with fixed-address descriptor structure or using of the interrupts will increase the difficulty of programming above beginner level. It\u0027s possible to implement special command for hardware input-output, like \u0022readhw resultRegister, deviceTypeId, deviceNum\u0022, but it will be experience somewhat differ from \u0022real\u0022 coding.\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-25T08:03:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kellpossible\u0022 data-cite=\u0022kellpossible\u0022\u003E\u003Cdiv\u003Eif this cpu could manipulate mechjeb (if it is attached to the ship) and use that as its control system instead of its own that would be fantastic, then get all the functions for auto landing, orbit transfers, docking, the whole shebang\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I\u0027m really not sure about it. ProgCom is \u0022\u003Cem\u003Emechjeb replacement\u003C/em\u003E\u0022 of some kind on it\u0027s own. It can do all the same things as mechjeb can do...assuming you can provide appropriate software and align coefficients accordingly. I banned myself from using mechjeb, because it looks like computer play games with himself and I mainly looking on the pretty pictures - which is fun, but not what I\u0027m seeking for.\u003C/p\u003E\u003Cp\u003EAt the same time, I\u0027m using ProgCom with great satisfaction. And, for example, PI-controller I designed yeasterday to control zero vertical speed, which, combined with SAS, effectively gives me possibility to build hevercrafts and cruising missiles, was very inspiring. By the way, I learned a PID controller basic theory for this, which was fun, too.\u003C/p\u003E\n"},{"CreatedByName":"tallman","CreatedById":67277,"CreatedDateTime":"2013-05-25T08:15:27Z","Content":"\n\u003Cp\u003ESimplySimon, by the way, do source code providing with the ProgCom is contemporary (I mean, example code is little bit outdated, so the source code may be outdated too)?\u003C/p\u003E\u003Cp\u003EI can see serial bus of some kind there, thought it not included in \u003Cem\u003ECPUem\u003C/em\u003E. Is it some plans for future?\u003C/p\u003E\n"},{"CreatedByName":"kellpossible","CreatedById":62739,"CreatedDateTime":"2013-05-25T09:41:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tallman\u0022 data-cite=\u0022tallman\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003ERadar altimeter\u003C/strong\u003E is really cool feature, which I wanted to request myself. It\u0027s the only thing that prevent me from coding \u0022rocket parachute\u0022 solution.\u003Cp\u003E\u003Cstrong\u003ELaser distance sensors\u003C/strong\u003E is even better - it may be used for autonomous rovers and for semi-automatic docking. It also abolish the need of the first one.\u003C/p\u003E\u003Cp\u003EBumper sensor looks cool, but somewhat limited usage. Cutting skycrane is the only usage I can imagine just now.\u003C/p\u003E\u003Cp\u003ETalking about sensor, I requesting \u0022\u003Cstrong\u003EFuel Gauge\u003C/strong\u003E\u0022 sensor, which fits to fuel tank and returns the level of remaining fuel there. Quite usable for automatic orbit launchers.\u003C/p\u003E\u003Cp\u003ETrouble is: now ProgCom uses memory-mapping approach for input-output. It\u0027s much harder to implement, if you have several sensors of same type, providing different data (fuel gauges on different tanks, laser distance in different directions). Any possible \u0022real-life\u0022 approach, like dynamic memory mapping with fixed-address descriptor structure or using of the interrupts will increase the difficulty of programming above beginner level. It\u0027s possible to implement special command for hardware input-output, like \u0022readhw resultRegister, deviceTypeId, deviceNum\u0022, but it will be experience somewhat differ from \u0022real\u0022 coding.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, one could implement memory mapped i2c or spi registers. Then each sensor device would be representing an i2c or spi device which can communicate with the cpu via one of those protocols. spi is simpler, but i2c would not need any extra registers per sensor or device. But you are right, this would definitely raise the bar for beginners. Although, one could probably implement a library on top of a lower level serial protocol to make it simple for beginners...\u003C/p\u003E\u003Cp\u003EI\u0027ve spent a good chunk of today sifting through the complicated tangle of remotetech\u0027s gui code and learning about unity programming along the way, so hopefully when I\u0027ve gotten this to work I could move on working exciting stuff like this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E 3d modelling and texturing is soooo much more relaxing than coding unfortunately.\u003C/p\u003E\u003Cp\u003EI\u0027ve got the feeling you are correct about the mechjeb stuff. If we can get enough sensors and input from ksp, it should be possible to port a lot of the autopilot functionality to this ProgCom as an autopilot library or something like that.\u003C/p\u003E\n"}]}