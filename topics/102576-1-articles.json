{"TopicId":102576,"ForumId":70,"TopicTitle":"FAR: Rockets flip out during launch","CreatedByName":"spacedoctor42","CreatedById":138696,"CreatedDateTime":"2015-03-24T03:52:43Z","PageNum":1,"Articles":[{"CreatedByName":"spacedoctor42","CreatedById":138696,"CreatedDateTime":"2015-03-24T03:52:43Z","Content":"I\u0027ve started a new game with FAR (and a few other mods) installed and I\u0027m finding that my rockets are no longer flying properly. They tend to reach 6Km and then flip upside-down and explode. I think FAR is causing this but it means that I have to learn to build better rockets and I can\u0027t seem to figure it out.\n\nCan somebody give me a hand."},{"CreatedByName":"Kryxal","CreatedById":102688,"CreatedDateTime":"2015-03-24T04:30:13Z","Content":"First things first, pics are never a bad thing. Second, describe your flight path, noting the difference (if any) between surface-prograde and your current heading. Also, noting altitude of each staging event couldn\u0027t hurt."},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-03-24T05:03:37Z","Content":"Flipping upside down would indicate that the center of aerodynamic pressure has shifted infront of the center of mass. This can be caused by the center of mass shifting backwards, staging events significantly changing the aerodynamic profile of your vessel, changes in orientation relative to the forward velocity of your vessel, or changes in the aerodynamic regime you are flying though (subsonic, trans-sonic, super-sonic, and hyper-sonic)\n\nTo improve stability, you can:\n\n1) Add fins to the back end of your vessel to shift the center of pressure backwards in a wider range of orientations\n\n2) Keep the direction your vessel is facing closer to the direction of travel to reduce aerodynamic instability\n\n3) Reduce thrust (pushing is not a stable method of applying force. Aerodynamic forces need to be capable of correcting any minor deviations caused by this instability. Push too hard and that isn\u0027t possible)\n\nRE: #2\n\nGeneral rule of thumb with FAR is that you want to keep your heading vector inside the prograde vector while in the lower atmosphere. Less stable vessels won\u0027t even manage that much, more stable can manage 15-20\u002B degrees of deviation\n\nRE #3\n\nGeneral rule of thumb with FAR is to launch with a Thrust to Weight ratio of about 1.4 and to keep it below 2.0 inside the atmosphere\n\n**Edited \u003Ctime datetime=\u00222015-03-24T05:08:55Z\u0022 title=\u002203/24/2015 05:08  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 24, 2015\u003C/time\u003E by Crzyrndm**"},{"CreatedByName":"Leszek","CreatedById":119053,"CreatedDateTime":"2015-03-24T06:18:01Z","Content":"RE: #2\n\nGeneral rule of thumb with FAR is that you want to keep your heading vector inside the prograde vector while in the lower atmosphere. Less stable vessels won\u0027t even manage that much, more stable can manage 15-20\u002B degrees of deviation\n\n^^ This. If you deviate too much from your prograde vector you will flip out. Keep inside the circle until at least 30K altitude and then deviate slowly at first.\n\nRE #3\n\nGeneral rule of thumb with FAR is to launch with a Thrust to Weight ratio of about 1.4 and to keep it below 2.0 inside the atmosphere\n\nI personally go for a starting TWR of 1.25. I do a 5 degree pitch at 75m/s (You can go out of the prograde vecotor to do that because you are not going fast enough to flip out.) After that I follow the center of the prograde vector as needed to flip to mostly horizontal by 30k altitude.\n\nYou can do whatever TWR you want but be consistent at first. I personally click on my rockets and set the thrust limiter before launch to get the 1.25 on exactly every flight. If you want to pitch over faster, point at the leading edge of the prograde circle. If you want to pitch slower, point to the trailing edge of the prograde circle.\n\nIn the following video I get a rocket out towards orbit using NEAR which for our purposes is the same as FAR. (I use FAR mostly now) Some of what I say at the very end about the rocket isn\u0027t quite right but if you ignore that you can see the general gist of how it is done.\n\n\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/ZF-12RavF4Y?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-03-24T07:38:03Z","Content":"Step 1: Launch like a real rocket, start turning as soon as you\u0027re accelerating at a reasonable rate. If you\u0027re doing a typical stock KSP straight up for many km launch, it\u0027s rubbish.\n\nStep 2: if that\u0027s not enough, watch your acceleration \u0026 adjust the throttle to keep it down. Simplest thing to watch is for aero effects, there should not be any. The more technical approach is to watch your Q figure and keep it below whatever level upsets your rocket.\n\nStep 3: Add rocket-base fins. They can be fixed fins if you\u0027ve got a gimballing engine, they\u0027re only there to keep the right end pointing forwards.\n\nIf you time the initial nudge right, the rocket will continue falling over on it\u0027s own and you can watch it fly itself to orbit insertion..."},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2015-03-24T08:15:39Z","Content":"The suggestions for launch above are fine, but lets start at the beginning. Don\u0027t forget with aerodynamics comes drag. Forward drag will pull an un-aerodynamic craft around exactly as you are describing. If you are launching a simple command pod with a parachute on top, it should be fine, but if you have a flat surface at the front of your rocket or just have dragging parts sticking out off the sides, that is bad. Make sure you are using a fairing mod (procedural fairings, KW rocketry, etc) to direct airflow around your payload.\n\nIf you have all that taken care of, then look at your launch profile."},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2015-03-24T10:29:53Z","Content":"Furthermore: Check the FAR info window. It has a display of stability derivatives (a measure of how a movement in a certain direction causes forces and torques in/around other directions). Ferram was nice enough to colour code them, so you can spot any stability issues immediately.\n\nRegarding the possible solutions, I fully agree with what has been posted already. I\u0027d just like to elaborate on the possible reasons your craft might get unstable in flight.\n\nThe most probable issue would be if your first stage contains a tank that is in front of the rockets center of mass (COM). This is a fairly common situation with big crafts and very hard to avoid. As KSP will first empty the tank that is the farthest from the engine, a tank in front of the COM will lead to a shift of the COM backwards, what reduces stability. So, in such a case, display both, COM and center of lift (COL) in the editor, and empty the tanks of the bottom stage that are above COM using their right click menu, of course starting from the farthest tank. You should see the COM move. If it ends up too close to COL, or even behind it, your craft will probably get unstable in flight. Just to be on the safe side, you can rerun the FAR panel stability simulation with empty tanks to see how emptying the tanks affects your ship. Of course, don\u0027t forget to refill the tanks before launch (you might laugh, but that happens to me regularly).\n\nMach effects are another thing. Above the speed of sound aerodynamics change. As I don\u0027t really recall the details from the hydrodynamics lecture, I sadly cannot tell you the formulas, but regarding the game it\u0027s enough to know that control surfaces are less effective and that the drag forces are different at such high velocities. Again, I\u0027d like to refer you to the FAR window in editor, which allows you to plot aerodynamic properties of your ship as a function of angle of attack or velocity. The latter is the thing you\u0027re going to need to figure if a too high velocity is an issue with your craft. Run the simulation for a reasonable angle of attack (the default value of 5 degrees should be fine), and follow the yellow line, which is the moment coefficient (Cm). In dense atmosphere (I\u0027d say below 35 km on Kerbin) it has to be negative, otherwise your ship will probably flip (slightly positive numbers might work if you are very good at piloting, but I wouldn\u0027t risk them). So, watch the current Mach number in flight and keep it in a range found to be safe in the editor.\n\nThere is one thing that you should also keep in mind: Stock KSP SAS will probably fail to keep rockets stable when using FAR. Control them manually, if possible using a gamepad or a joystick.\n\nBefore I forget: check out Ferrams [Readme](https://github.com/ferram4/Ferram-Aerospace-Research/blob/master/README.md) file."},{"CreatedByName":"Poynting","CreatedById":103397,"CreatedDateTime":"2015-03-24T10:54:52Z","Content":"I personally just use plenty of fins to make my rockets stable. I take the hit on drag to ensure I can take the optimal flight path to orbit. However one trick I recomend for stable rockets is reducing the sensitivity of the fins to around 20% (right click in the VAB and set to positive 20). This reduces the oscillations caused by SAS when you transition through mach 1 or when you have an excess of control authority."},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2015-03-24T13:30:18Z","Content":"I\u0027ve [recently made the switch to FAR myself](https://forum.kerbalspaceprogram.com/threads/111541-Thinking-about-making-the-switch-to-FAR), so I feel your pain, OP. Pretty much what everybody has said here is correct - boiling it down:\n\nDesign wise, your rockets will need 3500 m/s of delta-V and about 1.2 initial TWR per stage to make orbit. In my experience, that translates to \u0022Take your stock rocket and add the bits that were considered unnecessary mass in stock - like nosecones and fins. You\u0027ll be in the ballpark just by doing that\u0022. A good fairing mod also comes in handy, especially if you\u0027ve got a blunt-nosed payload (like one of my typical Munar landers). I\u0027d suggest Procedural Fairings - once you figure out how it works, it\u0027s a minimal fuss mod.\n\nFlying it is also going to be a little different. Imagine trying to launch in stock with nothing but aerospikes; if you\u0027ve ever tried that, you know how easy those things make your rocket flip out - and that\u0027s in the damn STOCK game. You won\u0027t be able to make that sharp turn at 10k like you\u0027re probably used to doing - you\u0027ll need to start out a little lower and a little slower. I\u0027d suggest heading for 80-85 degrees once you\u0027re in the air, and then ever so slowly nudging down to 45 degrees after that. Keep it slow - no sudden movements. Once you\u0027re at 45 degrees, you can pretty much treat it like any other kind of launch. And getting back down is cake; the only thing that FAR required me to change from my stock rocket mission profiles was that initial bit of the launch. Everything else was exactly the same.\n\nPlanes, on the other hand, are a whole other animal; I\u0027m still trying to figure those out (I\u0027ve had to re-compartmentalize what I knew about planes in stock, which was a considerable amount).\n\n**Edited \u003Ctime datetime=\u00222015-03-24T13:32:43Z\u0022 title=\u002203/24/2015 01:32  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 24, 2015\u003C/time\u003E by capi3101**"},{"CreatedByName":"WuphonsReach","CreatedById":130759,"CreatedDateTime":"2015-03-24T18:24:51Z","Content":"A good rocket in FAR will do a gentle turn at 6km (I use 6km start, curve of 70 in MechJeb\u0027s Ascent Guidance, final angle of 1 degree), without going head over heels.\n\nIf you put RCS thrusters at the head and tail of your 1st/2nd stage, you will be able to see whether the rocket is struggling to turn, or struggling not to somersault based on the RCS thruster graphics. If your rocket is constantly emitting gfx particles indicating that RCS is having to force the nose down to the horizon, then you have too much fins in the back. If the rocket is constantly emitting RCS in a vain attempt to keep the nose up, then you don\u0027t have enough fins.\n\nVernor\u0027s are useful on 250cm and above launches, just a set of 4 or 8 around the bottom of the rocket. That might give you enough pitch authority to keep the rocket from tumbling after the turn has started.\n\nAnother trick, if you built the booster out of multiple tank sizes in the 1st/2nd stages is to put larger tanks on \\*top\\* of smaller tanks (put the Jumbo-64 on top of the X200-8, not the other way around). Due to the way CoM is calculated, this keeps your CoM in front of your CoL for a longer period of time.\n\nMy rule of thumb for FAR launches to 90km orbits is 3650-3700 m/s. By aiming for 90km, I have more leeway for a booster that likes to put things up in a lopsided orbit (i.e. 95 Ap / 80 Pe) without worrying about premature re-entry."},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2015-03-27T05:03:14Z","Content":"I sometimes forget to put struts on, to secure my payloads. This stuff being under the proc panels you don\u0027t see the payload shifting and at some V the rocket goes for a wobbly. Struts gets rid of that problem.\n\nIf you\u0027re using boosters in addition to your 1st stage, set the booster thrust % to a value, to finish at about the same time (or slightly before) the 1st stage - this keeps the rocket COG (center of gravity) within manageable constraints.\n\nI sometimes add a big \u0027spinning wheel\u0027 and battery... if things get really hairy.. and don\u0027t forget monoprop thrusters.\n\nOnce you get the configuration that works, you can stop using fins."},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-03-27T10:25:01Z","Content":"My mechjeb settings for most craft start the turn at 150m, end turn at 55-60km at have a turn of about 40% and a turn limit of 15 degrees. I don\u0027t know if this is the most efficient but it works.\n\nAnother method is to build your craft with a pad TWR of 2, put some fins on the back, launch, tip over by about 5 degrees, activate SAS, wait until speed is 100m/s, tip more until you are tipped about 25 degrees, wait until speed hits MACH 1, or 330m.s then turn off SAS, release all controls and watch your craft perform a gravity turn. Reduce throttle over time and you\u0027ll only need around 30m/s to circularise at the end..."},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2015-03-27T11:07:59Z","Content":"Some methods I\u0027ve settled on\n\nStocklike KSP:\n\nIt\u0027s straight up on \u0027Radial\u0027 until the Orbit prograde indicator hits 55-60 degrees on the ball, then I slowly roll it towards orbit and lock it there. Adjust power to keep the apo at approx 60 seconds ahead of you.\n\nRSS:\n\nSame idea, but I only start the roll at 60-70km (at first stage).. The aim to get above 150km with 15-20 degrees to spare on the orbit angle. This\u0027ll get you into at least a 250km orbit (big rockets here though..) This might seem a bit high to start the roll, but the idea is to escape the the atmospheric resistance asap... then hit the \u0027 orbit burner\u0027"},{"CreatedByName":"WuphonsReach","CreatedById":130759,"CreatedDateTime":"2015-03-27T23:07:31Z","Content":"\u003E \n\u003E My mechjeb settings for most craft start the turn at 150m, end turn at 55-60km at have a turn of about 40% and a turn limit of 15 degrees. I don\u0027t know if this is the most efficient but it works.\n\nI prefer to wait until 5-6km before starting the turn (as you want at least 100 m/s of velocity if you are using fins).\n\nI find the 40% turn to be too sharp at the start, with too violent of a pitch-over, so I go with 70% and a final angle to orbit of 1 degree. My target orbit is 90km and I need right around 3750-3800 dV to get there."},{"CreatedByName":"Van Disaster","CreatedById":58876,"CreatedDateTime":"2015-03-28T03:54:24Z","Content":"For MJ ascent AP launches I use a curve of about 26-28 whatevers the shape is marked in and usually adjust the start point to whenever the rocket has enough motion that it\u0027s not going to drift sideways, so usually about 3-400m or so. Flat finish at 70, final orbit usually 90, dV to get there usually 33-3500ish, start TWR I couldn\u0027t say because KIDS messes up all the displays ![-_-](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_sleep.png). I\u0027ll either try and avoid fins completely or add some really large ones and reduce thrust for a while so I get some atmospheric lift out of them, but some rockets just want guidance fins either way.\n\nReally low TWR launches look majestic, but gravity losses will chew through dV."}]}