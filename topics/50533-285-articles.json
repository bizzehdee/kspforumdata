{"TopicId":50533,"ForumId":34,"TopicTitle":"[1.8.x-1.12.x] Module Manager 4.2.3 (July 03th 2023) - Fireworks season","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-10-25T13:01:36Z","PageNum":285,"Articles":[{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2020-10-15T14:30:46Z","Content":"\n\u003Cp\u003E\nAha, but I can do:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART:HAS[@MODULE[ModuleGenerator]:HAS[@OUTPUT_RESOURCE:HAS[~name[ElectricCharge]]]]:LAST[CAMREC] {\n\u00A0 %tags ^= :$: CAMRECnotRTG:\n}\n@PART:HAS[@MODULE[ModuleGenerator]:HAS[!INPUT_RESOURCE,@OUTPUT_RESOURCE[ElectricCharge]:HAS[#rate[\u0026gt;0]]],~tags[*CAMRECnotRTG*]]:LAST[CAMREC] {\n\u00A0 @description ^= :$: CAMREC RTG buff.:\n\u00A0 @MODULE[ModuleGenerator] {\n\u00A0\u00A0\u00A0 @OUTPUT_RESOURCE[ElectricCharge] {\n\u00A0\u00A0\u00A0\u00A0\u00A0 @rate *= 3\n\u00A0\u00A0\u00A0 }\n\u00A0 }\n}\u003C/pre\u003E\u003Cp\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand that _does_ cut out the modified \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003ERTG\u003C/abbr\u003E that makes \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E. Thanks.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-10-15T17:58:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223867909\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602768936\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n!OUTPUT_RESOURCE:[HAS[~name[ElectricCharge]]]\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCheck your brackets here, I\u0027ll look at the other one later.\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2020-10-15T21:34:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223868093\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221602784720\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCheck your brackets here, I\u0027ll look at the other one later.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGah, this is like being a LISP programmer. However, removing the extra square brackets doesn\u0027t make a difference.\n\u003C/p\u003E\n\u003Cp\u003E\nSorry, I wrote that in a hurry. To be more clear:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003C/p\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART:HAS[@MODULE[ModuleGenerator]:HAS[!INPUT_RESOURCE,@OUTPUT_RESOURCE[ElectricCharge]:HAS[#rate[\u0026gt;0]]],!OUTPUT_RESOURCE:HAS[~name[ElectricCharge]]]:LAST[CAMREC] {\u003C/pre\u003E\u003Cp\u003E\u003Cbr\u003E\ndoes select an \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003ERTG\u003C/abbr\u003E that outputs \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-10-16T14:10:36Z\u0022 title=\u002210/16/2020 02:10  PM\u0022 data-short=\u00223 yr\u0022\u003EOctober 16, 2020\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-11-21T04:58:43Z","Content":"\n\u003Cp\u003E\nWhat would be the simplest way to apply a patch to all modules of a given type?\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2020-11-21T10:27:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223884346\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221605934723\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat would be the simplest way to apply a patch to all modules of a given type?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/196855-campaign-for-real-electriccharge/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/196855-campaign-for-real-electriccharge/\u003C/a\u003E may prove useful. I have been tangling with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E seriously for the first time, and most of what I want to do there is apply a patch to all objects of a given type.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.chiark.greenend.org.uk/~damerell/games/ksp/CAMREC/CAMREC.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.chiark.greenend.org.uk/~damerell/games/ksp/CAMREC/CAMREC.cfg\u003C/a\u003E is the actual \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E file buried in the walls of text.\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-11-21T18:50:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223884412\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221605954432\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/196855-campaign-for-real-electriccharge/\u0022 rel=\u0022\u0022\u003Ehttps://forum.kerbalspaceprogram.com/index.php?/topic/196855-campaign-for-real-electriccharge/\u003C/a\u003E may prove useful. I have been tangling with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E seriously for the first time, and most of what I want to do there is apply a patch to all objects of a given type.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.chiark.greenend.org.uk/~damerell/games/ksp/CAMREC/CAMREC.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.chiark.greenend.org.uk/~damerell/games/ksp/CAMREC/CAMREC.cfg\u003C/a\u003E is the actual \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E file buried in the walls of text.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI dont think this will apply to a single part with multiple modules of the same type.\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-11-21T20:51:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222413546\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221455659524\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/16/2016 at 3:52 PM, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOk, new features time. v2.619\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n1. \u0022MM_PATCH_LOOP {}\u0022 nodes. They will have the current node loop on the active top node until the HAS condition is not valid anymore. It has some really specific use from complex patch and can easily lead to infinite\u00A0loops.\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\nA patch that would remove all ressource of all PART (of course there are easier way to do that)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan\u003E@PART[*]:HAS[@RESOURCE[*]]\n{\n\t!RESOURCE,0 {}\n\t\n\tMM_PATCH_LOOP {}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwhat is the simpler way to do this if you dont know how many resources a part has? Im trying to apply a patch to multiple modules of the same type in the same part, but this patch will apply to multiple parts with different numbers of nodes each.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-11-22T23:53:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223884587\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221605991868\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/21/2020 at 12:51 PM, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwhat is the simpler way to do this if you dont know how many resources a part has? Im trying to apply a patch to multiple modules of the same type in the same part, but this patch will apply to multiple parts with different numbers of nodes each.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure what you\u0027re asking.\u00A0 In the quoted patch, it will target any \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPART\u003C/span\u003E with at least one \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E, and remove the first \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E node, repeatedly (because of the loop), until the original condition (has at least one \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E node) is no longer true.\n\u003C/p\u003E\n\u003Cp\u003E\nNote in this instance there\u0027s actually a way to do it without the loop:\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E!RESOURCE,* {}\u003C/span\u003E will remove all \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E nodes at once so no need to loop, but loops are useful in other scenarios.\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-11-23T07:54:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223885003\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606089213\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot sure what you\u0027re asking.\u00A0 In the quoted patch, it will target any \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EPART\u003C/span\u003E with at least one \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E, and remove the first \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E node, repeatedly (because of the loop), until the original condition (has at least one \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E node) is no longer true.\n\u003C/p\u003E\n\u003Cp\u003E\nNote in this instance there\u0027s actually a way to do it without the loop:\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E!RESOURCE,* {}\u003C/span\u003E will remove all \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ERESOURCE\u003C/span\u003E nodes at once so no need to loop, but loops are useful in other scenarios.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nok, to be more specific, Im trying to write a patch along the lines of:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@MODULE[ModuleresourceConverter]]:FOR[SystemHeat]:FINAL {\n\n\t@MODULE[ModuleResourceConverter]{\n\t\t@name = ModuleSystemHeatConverter\n\t\t//other stuff\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHowever, to my understanding, the above will only change the first ModuleResourceConverter into a ModuleSystemHeatConverter.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I understand your post correctly,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@MODULE[ModuleResourceConverter], * {\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwill make the patch apply to each ModuleResourceConverter in a part?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-11-23T08:45:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223885100\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606118097\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I understand your post correctly,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E@MODULE[ModuleResourceConverter], * {\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwill make the patch apply to each ModuleResourceConverter in a part?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, minus the space before the *\n\u003C/p\u003E\n"},{"CreatedByName":"Nexxus88","CreatedById":208250,"CreatedDateTime":"2020-11-23T09:25:57Z","Content":"\n\u003Cp\u003E\nSo im installing this cause\u00A0Astronomer\u0027s Visual Pack demands it, but I am a bit confussed as to what I need to install am I just throwing the .dll in the gamedata folder like my other mods? Sorry for the stupid question long time player first time ksp modder.\u003Cbr\u003E\u003Cbr\u003E\nEdit - Sorry missed the bit at the bottom of the first post.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-11-23T09:43:18Z\u0022 title=\u002211/23/2020 09:43  AM\u0022 data-short=\u00223 yr\u0022\u003ENovember 23, 2020\u003C/time\u003E by Nexxus88\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2020-11-27T06:11:35Z","Content":"\n\u003Cp\u003E\nWhere does \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E output errors to? I can\u0027t find it in the log.\n\u003C/p\u003E\n"},{"CreatedByName":"hemeac","CreatedById":59783,"CreatedDateTime":"2020-11-27T06:29:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223886927\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606457495\u0022 data-ipsquote-userid=\u002260033\u0022 data-ipsquote-username=\u0022dlrk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, dlrk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhere does \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E output errors to? I can\u0027t find it in the log.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60033-dlrk/\u0026amp;do=hovercard\u0022 data-mentionid=\u002260033\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/60033-dlrk/\u0022 rel=\u0022\u0022\u003E@dlrk\u003C/a\u003E, If you go to your main KSP directory where KSP.log is, you will see the Logs folder.\u00A0 Inside will be ModuleManager/ModuleManager.log\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-11-27T20:39:41Z","Content":"\n\u003Cp\u003E\nModuleManager copies to the main log too.\u00A0 It\u0027s hard to see errors with everything else but looking for log lines starting with [ERR is a good place to start\n\u003C/p\u003E\n"},{"CreatedByName":"Monniasza","CreatedById":199337,"CreatedDateTime":"2020-11-28T17:16:12Z","Content":"\n\u003Cp\u003E\nI\u0027ll want following tags:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E:IF(like \u003Cspan\u003E:NEEDS, but checks its parent)\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EConditional code within #IF[] and #ENDIF\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003ESubSections:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E#DO - unconditional single\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E#LOOP - unconditional loop\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n#IF[] - conditional single\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E#WHILE[] - conditional loop\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003E\u003Cspan\u003E#END - end\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n#REIF[] - conditional retry\n\u003C/li\u003E\n\u003Cli\u003E\n#RE - unconditional retry\n\u003C/li\u003E\n\u003Cli\u003E\n#BREAK - unconditional break\n\u003C/li\u003E\n\u003Cli\u003E\n#BIF[] - conditional break\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nFull sections:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n#KALL - stop all runs of given patch\n\u003C/li\u003E\n\u003Cli\u003E\n#KTHIS - stop this run of patch\n\u003C/li\u003E\n\u003Cli\u003E\n#RETRY - re-run this copy of patch\n\u003C/li\u003E\n\u003Cli\u003E\n#REALL - re-run all copies of this patch\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nUse #COND[] to set conditions on following operations using question mark. To prevent hacking, the value should be reset to false before going to next file.\n\u003C/p\u003E\n\u003Cp\u003E\nFunctions:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n#LOG =\u00A0- print x in KSP.log\n\u003C/li\u003E\n\u003Cli\u003E\n#TYPE = - change node\u0027s type\n\u003C/li\u003E\n\u003Cli\u003E\n#IFVAR = - use variable as condition\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIt\u00A0will need new method of operation:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nTokenize all CFGs\n\u003C/li\u003E\n\u003Cli\u003E\nConvert all scripts into executable code\n\u003C/li\u003E\n\u003Cli\u003E\nReorder scripts based on order tags and file names\n\u003C/li\u003E\n\u003Cli\u003E\nRun scripts in order\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nI plan to use these in \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E Framework, part of \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E Project Core\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022199337\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6281917281\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/195058-ssto-project-ksp-181/\u0026amp;do=embed\u0022 style=\u0022height:192px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-12-02T08:31:07Z","Content":"\n\u003Cp\u003E\nSo im trying to get comfortable with the variable sytax, but I seem to be running into a bit of a snag when they are used in key-value curves. I have this patch:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[*]:HAS[@MODULE[ModuleResourceConverter]:HAS[@INPUT_RESOURCE:HAS[#ResourceName[ElectricCharge]]]]:FINAL{ //really need final.\n\t!MODULE[ModuleCoreHeat] {}\n\t%MODULE[ModuleSystemHeat]\n\t{\n\t\t%name = ModuleSystemHeat\n\t\t// Cubic metres\n\t\t%volume = #$/mass$ //1 ton equals 1 cubic meter of cooling. it *very roughly* approximates the balance of squads ISRU\n\t\t%moduleID = isru\n\t\t%iconName = Icon_Gears\n\t}\n\n\t!MODULE[ModuleOverheatDisplay]{}\n\n\t@MODULE[ModuleResourceConverter]:HAS[@INPUT_RESOURCE:HAS[#ResourceName[ElectricCharge]]]{ //Ive seen some converters that dont use electric charge, those things need thier own patch, as we calculate produced heat based on EC consumption.\n\t\t@name = ModuleSystemHeatConverter\n\t\tmoduleID = #$ConverterName$ //this should be the localization string or the actual name, either way, unique.\n\t\tsystemHeatModuleID = isru\n\t\tshutdownTemperature = 800\n\t\tsystemOutletTemperature = 600 // temp for freeing water from hydrate regolith. other values could be: 400k for production of hydrazine, 5-600k for decomposition of hydrates, 700 for sabatier process, 373-1000k for high temp electrolysis of water.\n\t\tsystemEfficiency\n\t\t{\n\t\t\tkey = 0 0.0\n\t\t\tkey = 300 1.0\n\t\t\tkey = 1000 1.0\n\t\t\tkey = 1300 0.0\n\t\t}\n\t\tsystemPower\n\t\t{\n\t\t\tkey = 0 #$INPUT_RESOURCE[ElectricCharge]/Ratio$ //set the heat ouput as proportional to the EC usage. TODO: figure out what ratio to use.\n\t\t}\n\t\t!Thermalefficiency {}\n\t\t!TemperatureModifier {}\n\t\t@generatesHeat = false //disable stock heating\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand almost everthing seems to work, exept for the systemPower node. It seems like \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E is not parsing the variable syntax and inserting this directly into the config, so I get things like this in my mm config cache.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\tsystemPower\n\t\t\t{\n\t\t\t\tkey = 0 #$INPUT_RESOURCE[ElectricCharge]/Ratio$\n\t\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDo I have some error in the patch? is what I am doing even supported?\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-12-02T17:59:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223888700\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606897867\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\t\t\tsystemPower\n\t\t\t{\n\t\t\t\tkey = 0 #$INPUT_RESOURCE[ElectricCharge]/Ratio$\n\t\t\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDo I have some error in the patch? is what I am doing even supported?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe # goes before the 0.\u00A0 The # tells \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E that there are interpolations, the actual interpolations themselves are bounded by $ signs\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-12-02T19:52:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223888844\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606931971\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe # goes before the 0.\u00A0 The # tells \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E that there are interpolations, the actual interpolations themselves are bounded by $ signs\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nah. I thought the # came just before the variable. Ill test it later today.\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-12-03T20:37:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223888844\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221606931971\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/2/2020 at 11:59 AM, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe # goes before the 0.\u00A0 The # tells \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E that there are interpolations, the actual interpolations themselves are bounded by $ signs\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nfrom my modulemanager.log:\n\u003C/p\u003E\n\u003Cp\u003E\nError - Cannot parse variable search when inserting new key key = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$\n\u003C/p\u003E\n\u003Cp\u003E\nto be clear,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E{\n\t\t\tkey = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$ //set the heat ouput as proportional to the EC usage. TODO: figure out what ratio to use.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nis editing a curve with only one key.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-03T20:38:13Z\u0022 title=\u002212/03/2020 08:38  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 3, 2020\u003C/time\u003E by toric5\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"hemeac","CreatedById":59783,"CreatedDateTime":"2020-12-03T22:21:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223889320\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607027873\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nfrom my modulemanager.log:\n\u003C/p\u003E\n\u003Cp\u003E\nError - Cannot parse variable search when inserting new key key = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$\n\u003C/p\u003E\n\u003Cp\u003E\nto be clear,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\n\u003Cspan class=\u0022pln\u0022\u003E{\n\t\t\tkey = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$ //set the heat ouput as proportional to the EC usage. TODO: figure out what ratio to use.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nis editing a curve with only one key.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/58046-toric5/\u0026amp;do=hovercard\u0022 data-mentionid=\u002258046\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/58046-toric5/\u0022 rel=\u0022\u0022\u003E@toric5\u003C/a\u003E, ignore the earlier comment, didn\u0027t read the entire patch\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-04T03:23:27Z\u0022 title=\u002212/04/2020 03:23  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 4, 2020\u003C/time\u003E by hemeac\u003C/strong\u003E\n\u003Cbr\u003EIncorrect advice\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-12-04T03:20:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223889320\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607027873\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nfrom my modulemanager.log:\n\u003C/p\u003E\n\u003Cp\u003E\nError - Cannot parse variable search when inserting new key key = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$\n\u003C/p\u003E\n\u003Cp\u003E\nto be clear,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E{\n\t\t\tkey = #0 $INPUT_RESOURCE[ElectricCharge]/Ratio$ //set the heat ouput as proportional to the EC usage. TODO: figure out what ratio to use.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nis editing a curve with only one key.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s only going to look in that node.\u00A0 If you want to look up a level, you need ../INPUT_RESOURCE, or ../../INPUT_RESOURCE for two levels, etc\n\u003C/p\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-12-04T07:16:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223889430\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607052037\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s only going to look in that node.\u00A0 If you want to look up a level, you need ../INPUT_RESOURCE, or ../../INPUT_RESOURCE for two levels, etc\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI want to look down a node. so, the parts in question have a ModuleResourceConverter, each of which contain INPUT_RESOURCE subnodes. I am trying to patch the ModuleResourceConverter to a ModuleSystemHeatConverter, which extends ModuleResourceConverter and needs a few new config values. The only value Im having trouble with is setting the systemPower (the modules heat output) to be a fraction of the parts EC consumption.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nfor reference, here is the config for the squad \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E, which would be targeted by this patch.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EPART\n{\nname = ISRU\nmodule = Part\nauthor = RoverDude\n\nmesh = ISRU.mu\nscale = 1\nrescaleFactor = 1\n\nnode_stack_top = 0.0, 1.5, 0.0, 0.0, 1.0, 0.0, 2\nnode_stack_bottom = 0.0, -1.5, 0.0, 0.0, -1.0, 0.0, 2\n\nTechRequired = advScienceTech\nentryCost = 24000\ncost = 8000\ncategory = Utility\nsubcategory = 0\ntitle = #autoLOC_500652 //#autoLOC_500652 = Convert-O-Tron 250\nmanufacturer = #autoLOC_501638 //#autoLOC_501638 = Kerbodyne\ndescription = #autoLOC_500653 //#autoLOC_500653 = This mobile processing plant can take raw materials containing even trace amounts of oxygen and hydrogen, and crack them into useful fuel products.  When operated by a skilled engineer, you will be able to operate with better efficiency.  These modules operate best at their ideal operating temperatures, and features auto-shutdown in the event of excessive overheating.  Radiators can be used to help manage excessive heat.\nattachRules = 1,1,1,0,0\n\n// --- standard part parameters ---\nmass = 4.25\ndragModelType = default\nmaximum_drag = 0.2\nminimum_drag = 0.2\nangularDrag = 2\ncrashTolerance = 7\nmaxTemp = 2000 // = 3500\nbulkheadProfiles = size2, srf\ntags = #autoLOC_500654 //#autoLOC_500654 = conver isru mine )mining (ore process resource\n\tMODULE\n\t{\n\t\tname = ModuleOverheatDisplay\n\t}\n\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = #autoLOC_502026 //#autoLOC_502026 = Lf\u002BOx\n\t\t StartActionName = #autoLOC_502027 //#autoLOC_502027 = Start ISRU [Lf\u002BOx]\n\t\t StopActionName = #autoLOC_502028 //#autoLOC_502028 = Stop ISRU [Lf\u002BOx]\n\t\tAutoShutdown = true\n\t\tTemperatureModifier\n\t\t{\n\t\t\tkey = 0 100000\n\t\t\tkey = 750 50000\n\t\t\tkey = 1000 10000\n\t\t\tkey = 1250 500\t\n\t\t\tkey = 2000 50\t\n\t\t\tkey = 4000 0\n\t\t}\t\t\t\t\n\t\tGeneratesHeat = true\n\t\tDefaultShutoffTemp = .8\n\t\tThermalEfficiency \n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 500 0.1 0 0\n\t\t\tkey = 1000 1.0 0 0\n\t\t\tkey = 1250 0.1 0 0\n\t\t\tkey = 3000 0 0 0 \n\t\t}\n\n\n\t\tUseSpecialistBonus = true\n\t\tSpecialistEfficiencyFactor = 0.2\n\t\tSpecialistBonusBase = 0.05\n\t\tUseSpecialistHeatBonus = true\n\t\tSpecialistHeatFactor = 0.1\n\t\tExperienceEffect = ConverterSkill\n\t\tEfficiencyBonus = 1\n\t\tresourceOutputName = #autoLOC_8012033\t\t// #autoLOC_8012033 = LF\u002BOx\n\n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Ore\n\t\t\tRatio = 0.5\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n  \t\t }\n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 30\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = LiquidFuel\n\t\t\tRatio = 0.45\n\t\t\tDumpExcess = false\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Oxidizer\n\t\t\tRatio = 0.55\n\t\t\tDumpExcess = false\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n\t\t }\n\t}\n\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = #autoLOC_502029 //#autoLOC_502029 = Monoprop\n\t\t StartActionName = #autoLOC_502030 //#autoLOC_502030 = Start ISRU [Monoprop]\n\t\t StopActionName = #autoLOC_502031 //#autoLOC_502031 = Stop ISRU [Monoprop]\n\t\tAutoShutdown = true\n\t\tTemperatureModifier\n\t\t{\n\t\t\tkey = 0 100000\n\t\t\tkey = 750 50000\n\t\t\tkey = 1000 10000\n\t\t\tkey = 1250 500\t\n\t\t\tkey = 2000 50\t\n\t\t\tkey = 4000 0\n\t\t}\t\t\t\t\n\t\tGeneratesHeat = true\n\t\tDefaultShutoffTemp = .8\n\t\tThermalEfficiency \n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 500 0.1 0 0\n\t\t\tkey = 1000 1.0 0 0\n\t\t\tkey = 1250 0.1 0 0\n\t\t\tkey = 3000 0 0 0 \n\t\t}\n\n\t\tUseSpecialistBonus = true\n\t\tSpecialistEfficiencyFactor = 0.2\n\t\tSpecialistBonusBase = 0.05\n\t\tUseSpecialistHeatBonus = true\n\t\tSpecialistHeatFactor = 0.1\n\t\tExperienceEffect = ConverterSkill\n\t\tEfficiencyBonus = 1\n\t\tresourceOutputName = #autoLOC_8012026\t\t// #autoLOC_8012026 = Monoprop\n\n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Ore\n\t\t\tRatio = 0.5\n\t\t }\n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 30\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = MonoPropellant\n\t\t\tRatio = 1\n\t\t\tDumpExcess = false\n\t\t }\n\t}\n\n\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = #autoLOC_502032 //#autoLOC_502032 = LiquidFuel\n\t\t StartActionName = #autoLOC_502033 //#autoLOC_502033 = Start ISRU [LqdFuel]\n\t\t StopActionName = #autoLOC_502034 //#autoLOC_502034 = Stop ISRU [LqdFuel]\n\t\tAutoShutdown = true\n\t\tTemperatureModifier\n\t\t{\n\t\t\tkey = 0 100000\n\t\t\tkey = 750 50000\n\t\t\tkey = 1000 10000\n\t\t\tkey = 1250 500\t\n\t\t\tkey = 2000 50\t\n\t\t\tkey = 4000 0\n\t\t}\t\t\t\t\n\t\tGeneratesHeat = true\n\t\tDefaultShutoffTemp = .8\n\t\tThermalEfficiency \n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 500 0.1 0 0\n\t\t\tkey = 1000 1.0 0 0\n\t\t\tkey = 1250 0.1 0 0\n\t\t\tkey = 3000 0 0 0 \n\t\t}\n\t\t\n\t\tUseSpecialistBonus = true\n\t\tSpecialistEfficiencyFactor = 0.2\n\t\tSpecialistBonusBase = 0.05\n\t\tUseSpecialistHeatBonus = true\n\t\tSpecialistHeatFactor = 0.1\n\t\tExperienceEffect = ConverterSkill\n\t\tEfficiencyBonus = 1\n\t\tresourceOutputName = #autoLOC_8012032\t\t// #autoLOC_8012032 = LqdFuel\n\n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Ore\n\t\t\tRatio = 0.45\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n  \t\t }\n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 30\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = LiquidFuel\n\t\t\tRatio = 0.9\n\t\t\tDumpExcess = false\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n\t\t }\n\t}\n\n\t\n\tMODULE\n\t{\n\t\t name = ModuleResourceConverter\n\t\t ConverterName = #autoLOC_502035 //#autoLOC_502035 = Oxidizer\n\t\t StartActionName = #autoLOC_502036 //#autoLOC_502036 = Start ISRU [Ox]\n\t\t StopActionName = #autoLOC_502037 //#autoLOC_502037 = Stop ISRU [Ox]\n\t\tAutoShutdown = true\n\t\tTemperatureModifier\n\t\t{\n\t\t\tkey = 0 100000 0 0\n\t\t\tkey = 750 50000 0 0\n\t\t\tkey = 1000 10000 0 0\n\t\t\tkey = 1250 500 0 0\t \n\t\t\tkey = 2000 50 0 0\t\n\t\t\tkey = 4000 0 0 0\n\t\t}\t\t\t\t\n\t\tGeneratesHeat = true\n\t\tDefaultShutoffTemp = .8\n\t\tThermalEfficiency \n\t\t{\n\t\t\tkey = 0 0 0 0\n\t\t\tkey = 500 0.1 0 0\n\t\t\tkey = 1000 1.0 0 0\n\t\t\tkey = 1250 0.1 0 0\n\t\t\tkey = 3000 0 0 0 \n\t\t}\n\n\t\tUseSpecialistBonus = true\n\t\tSpecialistEfficiencyFactor = 0.2\n\t\tSpecialistBonusBase = 0.05\n\t\tUseSpecialistHeatBonus = true\n\t\tSpecialistHeatFactor = 0.1\n\t\tExperienceEffect = ConverterSkill\n\t\tresourceOutputName = #autoLOC_8012027\t\t// #autoLOC_8012027 = Ox\n\n\t\tEfficiencyBonus = 1\n\n\t\t \n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Ore\n\t\t\tRatio = 0.55\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n  \t\t }\n\t\t INPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = 30\n\t\t }\n\t\t OUTPUT_RESOURCE\n\t\t {\n\t\t\tResourceName = Oxidizer\n\t\t\tRatio = 1.1\n\t\t\tDumpExcess = false\n\t\t\tFlowMode = STAGE_PRIORITY_FLOW\n\t\t }\n\t}\n\t\n\tMODULE\n\t{\n\t\tname = ModuleAnimationGroup\n\t\tdeployAnimationName = \n\t\tactiveAnimationName = ProcessorLarge_running\n\t\tdeployActionName = #autoLOC_6002380 //#autoLOC_6002380 = Deploy \u0026lt;\u0026lt;1\u0026gt;\u0026gt;\n\t\tretractActionName = #autoLOC_6002381 //#autoLOC_6002381 = Retract \u0026lt;\u0026lt;1\u0026gt;\u0026gt;\n\t\ttoggleActionName = #autoLOC_6002382 //#autoLOC_6002382 = Toggle \u0026lt;\u0026lt;1\u0026gt;\u0026gt;\n\t\tmoduleType = #autoLOC_7001227  //Converter //#autoLOC_7001227 = Converter\n\t\tautoDeploy = true\n\t}\n\t\n\n\tMODULE\n\t{\n\t\tname = ModuleCoreHeat\n\t\tCoreTempGoal = 1000\t\t\t\t\t//Internal temp goal - we don\u0027t transfer till we hit this point\n\t\tCoreToPartRatio = 0.1\t\t\t\t//Scale back cooling if the part is this % of core temp\n\t\tCoreTempGoalAdjustment = 0\t\t\t//Dynamic goal adjustment\n\t\tCoreEnergyMultiplier = 0.1\t\t\t//What percentage of our core energy do we transfer to the part\n\t\tHeatRadiantMultiplier = 0.05\t\t//If the core is hotter, how much heat radiates?\n\t\tCoolingRadiantMultiplier = 0\t\t//If the core is colder, how much radiates?\n\t\tHeatTransferMultiplier = 0\t\t\t//If the part is hotter, how much heat transfers in?\n\t\tCoolantTransferMultiplier = 0.01\t//If the part is colder, how much of our energy can we transfer?\n\t\tradiatorCoolingFactor = 1\t\t\t//How much energy we pull from core with an active radiator?  \u0026gt;= 1\n\t\tradiatorHeatingFactor = 0.05\t\t//How much energy we push to the active radiator\n\t\tMaxCalculationWarp = 1000\t\t\t//Based on how dramatic the changes are, this is the max rate of change\n\t\tCoreShutdownTemp = 4000\t\t\t\t//At what core temperature do we shut down all generators on this part?\n\t\tMaxCoolant = 200\t\t\t\t\t//Maximum amount of radiator capacity we can consume - 50 = 1 small\n\t}\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nas you can see, INPUT_RESOURCE is a child node of ModuleResourceConverter.\n\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2020-12-04T07:24:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223889472\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607066175\u0022 data-ipsquote-userid=\u002258046\u0022 data-ipsquote-username=\u0022toric5\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, toric5 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI want to look down a node. so, the parts in question have a ModuleResourceConverter, each of which contain INPUT_RESOURCE subnodes. I am trying to patch the ModuleResourceConverter to a ModuleSystemHeatConverter, which extends ModuleResourceConverter and needs a few new config values. The only value Im having trouble with is setting the systemPower (the modules heat output) to be a fraction of the parts EC consumption.\n\u003C/p\u003E\n\u003Cp\u003E\nfor reference, here is the config for the squad \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003E\u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E\u003C/abbr\u003E, which would be targeted by this patch.\n\u003C/p\u003E\n\u003Cp\u003E\nas you can see, INPUT_RESOURCE is a child node of ModuleResourceConverter.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe key you\u0027re trying to set is in systemPower, which means systemPower is the current node it\u0027s going to look at.\n\u003C/p\u003E\n\u003Cp\u003E\nE: to be clear, the exact syntax you want is\u00A0\u003Cspan style=\u0022background-color:#e6e8e9;color:#2d3134;font-size:15px;\u0022\u003Ekey = #0 $../INPUT_RESOURCE[ElectricCharge]/Ratio$\u003C/span\u003E, should have noticed that in the original question\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-04T07:26:09Z\u0022 title=\u002212/04/2020 07:26  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 4, 2020\u003C/time\u003E by blowfish\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"toric5","CreatedById":58046,"CreatedDateTime":"2020-12-04T19:55:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223889477\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607066648\u0022 data-ipsquote-userid=\u0022119688\u0022 data-ipsquote-username=\u0022blowfish\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, blowfish said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe key you\u0027re trying to set is in systemPower, which means systemPower is the current node it\u0027s going to look at.\n\u003C/p\u003E\n\u003Cp\u003E\nE: to be clear, the exact syntax you want is\u00A0\u003Cspan style=\u0022background-color:#e6e8e9;color:#2d3134;font-size:15px;\u0022\u003Ekey = #0 $../INPUT_RESOURCE[ElectricCharge]/Ratio$\u003C/span\u003E, should have noticed that in the original question\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n... im dumb. should have done more rubber duck debugging.\n\u003C/p\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2020-12-19T03:05:58Z","Content":"\n\u003Cp\u003E\nJust FYI, this is working fine in my install on 1.11.\u00A0 It\u0027s a dependency of Kopernicus on \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E, obviously, and it would be nice to update the metadata to indicate this if you feel it\u0027s ready, to ease installers on that platform to getting Kopernicus.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis is not a \u0022when\u0027ll it be ready?\u0022 post.\u00A0 Just a heads up as to my experience with it, you should test yourself obviously and at your leisure \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPS:\u00A0 Same story with ModularFlightIntegrator, though see Github for some interesting points there.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-23T04:01:12Z\u0022 title=\u002212/23/2020 04:01  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 23, 2020\u003C/time\u003E by R-T-B\u003C/strong\u003E\n\u003C/span\u003E\n"}]}