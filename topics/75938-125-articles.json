{"TopicId":75938,"ForumId":36,"TopicTitle":"[1.0.x] [V1.9f] Kerbal Foundries wheels, anti-grav repulsors and tracks","CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-25T17:24:04Z","PageNum":125,"Articles":[{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2015-07-03T19:22:46Z","Content":"\n\u003Cp\u003EI want 1.9 .... please \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-04T00:34:57Z","Content":"\n\u003Cp\u003EI am alive! Will respond when I\u0027ve got an hour spare to go through the wall of text \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E as usual, I have a few ideas... \u003C/p\u003E\u003Cp\u003ESoon, Brusura, soon \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-07-04T00:55:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022brusura\u0022 data-cite=\u0022brusura\u0022\u003E\u003Cdiv\u003EI want 1.9 .... please \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith all the new stuff, it sounds more like 2.0 than 1.9.\u003C/p\u003E\u003Cp\u003EAnyways, yeah, got a beta that we can mess around with? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-04T07:06:02Z","Content":"\n\u003Cp\u003EIf it was in a usable state, I\u0027d release it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Sadly not - stuff is literally in pieces as I\u0027ve been messing about with various things.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-04T16:12:05Z","Content":"\n\u003Cp\u003EJust need to update all the part configs to handle the updated lookAt stuff, and whatever else you\u0027ve done, and we\u0027re set for a release really. That\u0027s all that needs to be done to make everything functional.\u003C/p\u003E\u003Cp\u003EI have a question about the new way we\u0027re handling DustFX on the wheels. It looks like the KFModuleWheel is now calling the DustFX up, instead of the DustFX calling itself up when the part collides and scrapes. What happens when the DustFX is called up and the part does not have the module defined in its configuration?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-04T16:18:30Z\u0022 title=\u002207/04/2015 04:18  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vardicd","CreatedById":75832,"CreatedDateTime":"2015-07-04T16:41:14Z","Content":"\n\u003Cp\u003E*Wrong thread\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-04T17:09:00Z\u0022 title=\u002207/04/2015 05:09  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by vardicd\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-04T16:57:48Z","Content":"\n\u003Cp\u003EI don\u0027t see how it would be an artifact of Kerbal Foundries, honestly.\u003C/p\u003E\n"},{"CreatedByName":"vardicd","CreatedById":75832,"CreatedDateTime":"2015-07-04T17:09:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EI don\u0027t see how it would be an artifact of Kerbal Foundries, honestly.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI realize that, I\u0027ve been up for about 19 hours now, had multiple windows open and posted in the wrong one, my bad.\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-04T18:08:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EJust need to update all the part configs to handle the updated lookAt stuff, and whatever else you\u0027ve done, and we\u0027re set for a release really. That\u0027s all that needs to be done to make everything functional.\u003Cp\u003EI have a question about the new way we\u0027re handling DustFX on the wheels. It looks like the KFModuleWheel is now calling the DustFX up, instead of the DustFX calling itself up when the part collides and scrapes. What happens when the DustFX is called up and the part does not have the module defined in its configuration?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWoah there! Repulsors still need a lot of fixing, and should probably test a few of the other bits more thoroughly. I know Zodius has run into a nullref issue, so need to look into that\u003C/p\u003E\u003Cp\u003EI can do a little update to remove the need for the MM patch or config call - might cause less hassle. At the moment, it will likely lead to a nullref, which thinking about it is likely to be Zodius\u0027 issue...\u003C/p\u003E\u003Cp\u003EUPDATE:\u003C/p\u003E\u003Cp\u003EGot it fixed. Now adds the DustFX part module if it\u0027s not added by MM patch. Still a heck of a lot of stuff to finish and test before I can confidently release it! That, and new parts are barely finished, let alone textured. May end up a plugin only update with aprs to follow, as there are other modders waiting on the new features. None-the-less, a lot of configs still need updating.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-04T21:39:22Z\u0022 title=\u002207/04/2015 09:39  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 4, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-05T07:08:32Z","Content":"\n\u003Cp\u003EI doubt there will be any issues with the module not being in the config, but it\u0027s something that could come up for future modders. My thought was to simply not make the call to DustFX if the part in question didn\u0027t have the module on it. That way a future wheel-maker could make that choice for themselves. Once I get something better working for the global on/off switch, I can safely add the module to all the parts in a more permanent way instead of relying on an MM patch system for it.\u003C/p\u003E\u003Cp\u003EAnother thing about all that, I would like to look into not having the camera even become active if the particles are globally turned off. This would further reduce a performance impact for a user with a weak machine. That is assuming that the camera is doing much for performance as it is. I would still like to hash together a test module that would implement a camera per-wheel fixed just slightly above that wheel and taking in the color just below the part itself and see what it does to the performance. I\u0027m just curious as to how it would perform. I could probably just grab the code from the vessel module stuff and stick it into a part module, rewriting the positioning code to use the specific part as a point of reference.\u003C/p\u003E\u003Cp\u003EThat reminds me, I need to look into perhaps detecting the part size, both in relation to the stock size and the scaled size, so I can set a baseline for particle emission size without having to use MM and some good old fashioned guessing to set that. I want the module to be able to figure out how large the effect should be based on how large the wheels are, if possible, so that those tiny wheels don\u0027t start producing dust plumes the same size as a mega-wheel (or whatever).\u003C/p\u003E\u003Cp\u003EResearch into figuring out the craft size has hit a lot of dead ends. It seems that all the other mods that rely on figuring out the craft size all make use of those methods in the environment that they were originally supposed to be used in: the VAB/SPH. There doesn\u0027t seem to be anything in place already to determine the craft size in the flight scene. I\u0027m now wondering if I\u0027m going to have to try and determine the offsets from the center of the craft for all the wheels attached to the craft, and then keep the furthest discovered distances to use as a range in which to adjust the camera FOV. Anyway. that\u0027s all something to deal with in the morning. Time to rest this brain of mine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-05T07:14:01Z\u0022 title=\u002207/05/2015 07:14  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 5, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-05T20:10:43Z","Content":"\n\u003Cp\u003EI think you\u0027re over complicating it.. a better way will be to simply put the camera further away and maybe do some clever trickery with culling masks. Can certainly test camera per wheel, but I think that\u0027ll get a bit much. Besides, it works rather well as it is \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve modified so it doesn\u0027t break if the patch is not applied. Where did you put code to read from the global config file? I\u0027ll add some checks in to play with the camera activation. Also, an optimisation would be to move the biome colour stuff into the vessel module, which will save as many redundant lookups as there are wheels on the craft. Neat, huh?\u003C/p\u003E\u003Cp\u003EI\u0027m working on the part size thing. Just worked out the IPartSizeModifier stuff, which is totally, absolutely bonkers. I will fix the assembly building size bug!\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-06T15:28:12Z","Content":"\n\u003Cp\u003EThe look-up for the global variables is actually extremely easy. I added the config file to the \u0022assets\u0022 repository and the config manager is in the plugin repository. You don\u0027t need to modify anything in that file though. For the globalDisableDust variable, I called it up using: -snipped, obsolete- from a locally defined variable. You simply have to make sure that the variable you\u0027re trying to pull exists in the config file, and you\u0027re good to go. However, I\u0027m thinking about changing the name of the global variable to something like \u0022isDustEnabled\u0022 to make it easier to work with. In fact, I\u0027m going to do that now.\u003C/p\u003E\u003Cp\u003EAlso, yeah... I like the idea of moving as much as possible into the vessel module. I think there\u0027s a lot that this mod does that could be done at that level, reducing the amount of work needing to be done on every single part.\u003C/p\u003E\u003Cp\u003EEDIT: Scratch some of that above, I wasn\u0027t awake yet. If you want to add a \u003Cem\u003Enew\u003C/em\u003E variable to the file, you will want to add the variable to the config manager in a similar fashion as I did with the \u0022isDustEnabled\u0022 parameter. The log part is optional of course. If the config was instead loading a list or a dictionary of everything in that node, then we could add/subtract variables at will. As it is we\u0027ll need to define them. For the Dust stuff, however, you shouldn\u0027t need to touch the config manager, just call up the variable with:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eyour_variable = [COLOR=#004085]KFConfigManager[/COLOR].[I]KFConfig[/I].[I]isDustEnabled[/I];\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-06T15:55:28Z\u0022 title=\u002207/06/2015 03:55  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 6, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-06T20:15:03Z","Content":"\n\u003Cp\u003EOK, cool. I\u0027d as global config fields for the orientation markers, camera stuff, maybe a few other bits I haven\u0027t thought of yet. Great work, thanks for sorting that out. I\u0027ll try and hit some of the other stuff on the to-do list this evening \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWoah, dude, what an unholy mess!! Please stop jiggering the line spaces and formatting on WIP modules, it creates a nightmare merging them back just because a carriage returns and line spacing got removed :/ You can make them beautiful \u003Cem\u003Eafter\u003C/em\u003E it\u0027s all working and won\u0027t be messed with any more \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Otherwise I\u0027m just going to keep messing all over it while I\u0027m bug hunting, refactoring and generally beating stuff into submission.\u003C/p\u003E\u003Cp\u003EOn the plus side, loving the summary into, logging stuff etc. Actually looks like proper code and everything!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-06T20:23:35Z\u0022 title=\u002207/06/2015 08:23  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 6, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-06T21:50:32Z","Content":"\n\u003Cp\u003ERight, that\u0027s got things up to date again. I\u0027ve merged the dev branch back into master before the two get hopelessly out of sync. Hopefully I didn\u0027t lose anything in the process... I\u0027ve just added a node to turn the orientation markers off and proceeding to the camera stuff.\u003C/p\u003E\u003Cp\u003EEDIT: Well. I say it\u0027s working like a charm. Trying to reactivate the biome stuff, I get this little gem:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003EInvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E  at System.Linq.Enumerable.Single[ConfigNode] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at System.Linq.Enumerable.Single[ConfigNode] (IEnumerable\u00601 source) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at KerbalFoundries.KFDustFXController.Awake () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003EUnityEngine.GameObject:Internal_AddComponentWithType(Type)\u003Cbr\u003EUnityEngine.GameObject:AddComponent(Type)\u003Cbr\u003EUnityEngine.GameObject:AddComponent()\u003Cbr\u003EKerbalFoundries.KFDustFXController:get_DustColors()\u003Cbr\u003EKerbalFoundries.KFDustFX:DustParticles(Single, Vector3, Collider)\u003Cbr\u003EKerbalFoundries.KFDustFX:Scrape(Vector3, Collider)\u003Cbr\u003EKerbalFoundries.KFDustFX:CollisionScrape(Vector3, Collider)\u003Cbr\u003EKerbalFoundries.KFModuleWheel:OnFixedUpdate()\u003Cbr\u003EPart:ModulesOnFixedUpdate()\u003Cbr\u003EPart:FixedUpdate()\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve literally no idea where to start with that. It\u0027s something to do with \u0022colorAverage = KFDustFXController.DustColors.GetDustColor(vessel.mainBody, col, vessel.latitude, vessel.longitude);\u0022 Well, OK. Why is it complaining about config nodes??? I assume that\u0027s to do with something in the KFDustContoller class, as it happens when the DustColors method is called. But I\u0027m not even sure how to read that error message, so who knows what\u0027s going on!!!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-07T00:19:09Z\u0022 title=\u002207/07/2015 12:19  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2015-07-07T04:20:36Z","Content":"\n\u003Cp\u003EIt means you\u0027re trying to get a Single() item from an IEnumerable of ConfigNodes, but either there are no items or there is more than one. The code already checks for no items so you seem to have duplicate \u003Cem\u003EDustColorDefinitions\u003C/em\u003E ConfigNodes in your install\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-07T08:24:51Z","Content":"\n\u003Cp\u003EAh, thanks for the pointer. I\u0027ll go a hunting...\u003C/p\u003E\u003Cp\u003EEDIT: thanks, my bad. Had a copy of the def config straying about \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EAll working now - biome colours and the camera stuff \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E the camera method seems crude, but it\u0027s surprisingly effective. The repulsor module needs some attention now...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-07T09:30:12Z\u0022 title=\u002207/07/2015 09:30  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-07T14:01:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EOK, cool. I\u0027d as global config fields for the orientation markers, camera stuff, maybe a few other bits I haven\u0027t thought of yet. Great work, thanks for sorting that out. I\u0027ll try and hit some of the other stuff on the to-do list this evening \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWoah, dude, what an unholy mess!! Please stop jiggering the line spaces and formatting on WIP modules, it creates a nightmare merging them back just because a carriage returns and line spacing got removed :/ You can make them beautiful \u003Cem\u003Eafter\u003C/em\u003E it\u0027s all working and won\u0027t be messed with any more \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E Otherwise I\u0027m just going to keep messing all over it while I\u0027m bug hunting, refactoring and generally beating stuff into submission.\u003C/p\u003E\u003Cp\u003EOn the plus side, loving the summary into, logging stuff etc. Actually looks like proper code and everything!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, I get carried away sometimes.\u003C/p\u003E\u003Cp\u003EActually looks like proper code? I\u0027d better go fix that... -grabs a hand-blender and an old sock-\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-07T14:31:01Z","Content":"\n\u003Cp\u003EHaha! Grab the latest dev build. I\u0027ve been busy \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ECan\u0027t quite get the reoulsor dust to do exactly what I want just yet, but I\u0027ll get there eventually. One thought about racing over the water: I\u0027m wondering if we can swap that particles to the water splash effect? Also looking at adding a light at the contact point. Should look really nice against the dust.\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-07-07T15:31:31Z","Content":"\n\u003Cp\u003EA question about the wheels: how round and wheely are they? Do they behave like stock (skids with propulsion on the bottom, inert all around) or could I still drive a very flat rover upside down on them?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-07T15:39:40Z","Content":"\n\u003Cp\u003ESadly, wheel colliders are really a one dimensional raycast pointing in a set direction. Believe me, I wish it were different.\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-07-07T16:27:09Z","Content":"\n\u003Cp\u003ETechnically, I can obtain something like a true wheel by clipping multiple wheels in radial geometry, so that their \u0022active surfaces\u0022 point outwards, so it\u0027s not impossible in the engine - just give the wheel six or so such raycasts all around?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-07T16:39:30Z","Content":"\n\u003Cp\u003EThe tricky part with that comes when you look at figuring out the suspension movement. Then you realise that\u0027s a no-go. A potential solution is to use sphere casts, point the wheel collider at the collision point and do some maths. But wheel colliders don\u0027t like simply being moved or rotated outside the physical simulation, so they go a little nuts. All of this is expensive in an already physics intensive game...\u003C/p\u003E\u003Cp\u003EI tend to take the view that it\u0027s a game with little squishy green aliens with impossibly large heads, so perfection is the enemy of \u0022good enough\u0022, rather than the other way around \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-07-07T17:30:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EHaha! Grab the latest dev build. I\u0027ve been busy \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003Cp\u003ECan\u0027t quite get the reoulsor dust to do exactly what I want just yet, but I\u0027ll get there eventually. One thought about racing over the water: I\u0027m wondering if we can swap that particles to the water splash effect? Also looking at adding a light at the contact point. Should look really nice against the dust.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, that engine lighting mod comes to mind. Anyway, the effect should be swappable, if you can find the internal effect path. Of course, you\u0027d need to swap out the entire color configuration as well. I thought about it myself, but abandoned it due to the lack of control over the splash effect itself. To get the effect you\u0027re going for in the repulsor dust, you might have to look at what the stock surface effects do. There\u0027s also the possibility that you could give the effect we\u0027re using now a starting horizontal velocity that moves away from the repulsor field\u0027s center.\u003C/p\u003E\u003Cp\u003EAren\u0027t those inverting RBI tracks capable of being driven on the inverted side? Not that it\u0027s very doable due to the size of the track itself, but I seem to remember someone making it happen in the past, pre-KF. In my mind, the only way to do Something like a true wheel with the suspension is to make it into two parts: one which has the suspension system, and another with the wheel, and do something similar to what MSI does to move objects \u003Cem\u003Ewith \u003C/em\u003Etheir associated attach nodes when the parent part is animated.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-07T17:36:56Z\u0022 title=\u002207/07/2015 05:36  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 7, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-07-07T19:36:21Z","Content":"\n\u003Cp\u003EI\u0027ll look into it. So far, the starting velocity stuff hadn\u0027t quite worked as I expected...\u003C/p\u003E\u003Cp\u003EThe RBI tracks are a bit different to wheels, in that the inverted colliders have their own suspension. \u003C/p\u003E\u003Cp\u003EYou could do it that way, but you don\u0027t need separate parts. The important bit is having a physics joint between the wheel collider and the rigidbody of the part, which of course has to be scripted. Set it up as a linear joint with limits, zero the suspension on the collider and you\u0027ve got a working wheel. I am tempted to try setting up some wheels this way, but it will need a totally new type of wheel module. Though it\u0027s overkill really. What we have works, and really it\u0027s good enough. Anyone that needs something more probably ought to have the skill to go make it!\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-07-07T20:29:11Z","Content":"\n\u003Cp\u003EWhat about wheels without suspension - rigid axle?\u003C/p\u003E\n"}]}