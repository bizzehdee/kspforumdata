{"TopicId":166223,"ForumId":69,"TopicTitle":"1..3.1 Asteroid procedural generation reset?","CreatedByName":"paddywroks","CreatedById":77942,"CreatedDateTime":"2017-10-06T23:11:23Z","PageNum":1,"Articles":[{"CreatedByName":"paddywroks","CreatedById":77942,"CreatedDateTime":"2017-10-06T23:11:23Z","Content":"\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;padding:0px;\u0022\u003E\nAfter updating my game today my ship that was clawed onto an asteroid was partially submerged into the asteroid, leaving me unable to undock without \u003Cabbr title=\u0022Rapid unplanned disassembly\u0022\u003ERUD\u003C/abbr\u003E. The asteroid also happened to be a different colour(still magic).\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;padding:0px;\u0022\u003E\nSomething in the update must have changed the procedural generation and given me a newly shaped asteroid that ate my ship.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;padding:0px;\u0022\u003E\nReverting to 1.3.0 and loading a previous quicksave gave me back my original asteroid thankfully.\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#000000;font-size:14px;padding:0px;\u0022\u003E\nCan anyone else confirm?\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-10-07T22:56:47Z","Content":"\n\u003Cp\u003E\nYes. \u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAsteroids\u003Cs\u003E from\u00A0older (1.2-ish) save-games \u003C/s\u003Echange shape in KSP 1.3.1,\u00A0 but these asteroids did not change shape in the 1.3.1 preview. \u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nKSP 1.3.1 is using scientific notation to write seeds longer than 7 digits\u00A0into \u0027persistent.sfs\u0027. \u00A0 Asteroids from older saves tend to have longer seeds.\n\u003C/p\u003E\n\u003Cp\u003E\nsometimes it is a simple rounding: seed = 18535762 \u00A0=\u0026gt; \u00A0seed = 3.816028E\u002B07\u003Cbr\u003E\nsometimes something less obvious:\u00A0seed = 86682893 \u00A0=\u0026gt; \u00A0seed = 8.66829E\u002B07 =\u0026gt; seed =\u00A0-7.02231E\u002B07 after next save\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/16087\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bugs.kerbalspaceprogram.com/issues/16087\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-15T04:43:38Z\u0022 title=\u002211/15/2017 04:43  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 15, 2017\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003Cbr\u003Elink to bug tracker\n\u003C/span\u003E\n"},{"CreatedByName":"paddywroks","CreatedById":77942,"CreatedDateTime":"2017-10-08T02:01:29Z","Content":"\n\u003Cp\u003E\nThanks for confirming this and writing up the bug report.\n\u003C/p\u003E\n"},{"CreatedByName":"Squelch","CreatedById":115992,"CreatedDateTime":"2017-10-11T10:10:46Z","Content":"\n\u003Cp\u003E\nThis change was an unfortunate necessity, and has caused some asteroids to change shape when they have been saved in a previous version, and now loaded in 1.3.1. I have updated the issue with a workaround of undocking the asteroid in 1.3.0, saving, and then updating to 1.3.1 where the asteroid can be captured again.\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-10-22T04:46:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223191896\u0022 data-ipsquote-contentid=\u0022166223\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221507716646\u0022 data-ipsquote-userid=\u0022115992\u0022 data-ipsquote-username=\u0022Squelch\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/11/2017 at 3:10 AM, Squelch said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003EThis change was an unfortunate necessity,\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003Eand has caused some asteroids to change shape when they have been saved in a previous version, and now loaded in 1.3.1\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was wrong to imply that only older save-files show the issue. \u00A0 Newly-created games also spawn asteroids with shapes that change. \u00A0After a few saves/loads the asteroid settles into a stable shape. \u00A0I put a pure-1.3.1 quicksave.sfs on the bug-tracker that gives a differently-shaped asteroid on every F9.\n\u003C/p\u003E\n\u003Cp\u003E\nStrangely, Squelch was not able to reproduce the issue using the steps I gave. \u00A0Maybe something specific to Windows 10 or my localization settings ?\u00A0 \u00A0It would give me peace of mind if someone else can confirm the bug using the safe-file on the tracker, or these steps :\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003ETo reproduce:\u003C/span\u003E\u003Cbr style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003E\u003Cspan style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003EScenario \u0022Asteroid Redirect Mission 2: ready to capture\u0022\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cbr style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003E\u003Cspan style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003EScreenshot asteroid\u003C/span\u003E\u003Cbr style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003E\u003Cspan style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003EQuicksave / Reload\u003C/span\u003E\u003Cbr style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003E\u003Cspan style=\u0022background-color:#ffffdd;color:#333333;font-size:12px;\u0022\u003ENote asteroid shape has changed\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2017-11-14T13:16:38Z","Content":"\n\u003Cp\u003E\nMore info I guess, because I found this only after\u00A0 posting myown issue under modded installs:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223218990\u0022 data-ipsquote-contentid=\u0022167528\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221510660088\u0022 data-ipsquote-userid=\u002252690\u0022 data-ipsquote-username=\u0022Rune\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Rune said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am posting this here, because I do run a modded install. But I seriously doubt it is a question of mods! Anyhow, a description of the issue:\n\u003C/p\u003E\n\u003Cp\u003E\nAsteroids keep changing seed, basically, like the title says. After being perfectly stable for a long time, and having placed a ton of stuff on them with \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E, suddenly the other day I went to one of them rocks, and found that the asteroid had swallowed the ships docked to it. Fortunately, the game now does backups, so I could backtrace the issue to before it happened, and replicate it, taking pictures this time. I think the important bit is the last error, the rest is just a very old save with a lot of mods removed (I think, but would gladly be informed otherwise):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/mmXGfsw.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022mmXGfsw.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 src=\u0022https://i.imgur.com/mmXGfsw.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWith a bit of savegame editing I found that the thing that was happening was that the asteroid kept changing seed when I made a new save, but it would load old or new savegames with the old seeds with no issues. So yeah, I could short of undo the damage. But it would keep changing the seed if I saved after loading that vessel. Well, I left that one alone, changed the seed back manually without it loaded, and proceeded to load another asteroid station, just in case. And then this happened:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/plNRbRs.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022plNRbRs.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 src=\u0022https://i.imgur.com/plNRbRs.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat is not cool. That base in particular is one of my oldest ones. It has survived four game versions, and still has 600mT of unextracted ore inside. The thing has not exploded, incidentally. It is just an empty globe of stuff (You can see I even wrote stuff with solar panels on the surface) attached to a rock that suddenly is much, much smaller. I actually use it a lot, and building such a thing is \u003Cem\u003Ecomplicated\u003C/em\u003E. Again, it keeps switching seeds whenever I save with it loaded, but is very happy to load with the old seed from an old backup save, and won\u0027t change it unless I save with it loaded (but persistance.sfs autosaves whenever you switch vessels, so loading it means the seed changes immediately). No idea why, it doesn\u0027t throw out an error until I load the new save with the wonky seed either! The new seed is something very similar to the old one, but \u0027-2.251617E\u002B07\u0027 instead of \u0027-22516169\u0027, for example, if that helps in any way.\n\u003C/p\u003E\n\u003Cp\u003E\nCould somebody help here? I don\u0027t want to fiddle around with \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E for one hour only for it to happen again immediately afterwards! And I strongly suspect \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E is not to blame here, because the first time it happened, it was with a ship towing a new rock, docked to it with a Klaw and without stuff surface-attached to it yet.\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI am short of glad I was not crazy, and this is a thing that happens. Going by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022115992\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0022 rel=\u0022\u0022\u003E@Squelch\u003C/a\u003E\u0027s comment, and after more tinkering, apparently it\u0027s only seeds with \u0026gt;8 characters that get converted to scientific notation... which ends up with a 8 digit number converted into an seven-digit number, with a rounding error ensuring they are not the same. I\u0027ve tried manually converting the old seed to scientific notation... but since it has eight characters (I assume it\u0027s because of that), the game just assigns a new completely different seven-digit one \u003Cem\u003Ewithout scientific notation\u003C/em\u003E. \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ERune. Was that \u003Cem\u003Ereally\u003C/em\u003E neccessary, and the old seed completely irreproducible?\u003C/span\u003E Because it has seriously bummed my day, I have like ten of these asteroid bases in my save. \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-14T13:17:16Z\u0022 title=\u002211/14/2017 01:17  PM\u0022 data-short=\u00226 yr\u0022\u003ENovember 14, 2017\u003C/time\u003E by Rune\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-11-15T01:43:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223219028\u0022 data-ipsquote-contentid=\u0022166223\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221510665398\u0022 data-ipsquote-userid=\u002252690\u0022 data-ipsquote-username=\u0022Rune\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Rune said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWas that \u003Cem\u003Ereally\u003C/em\u003E neccessary, and the old seed completely irreproducible?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo. \u00A0AllisTa (who adopted the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/97154-131-throttle-controlled-avionics/\u0022 rel=\u0022\u0022\u003ETCA mod\u003C/a\u003E\u00A0and maybe others) investigated and found out that KSP now tries to put the seed in localized number format, which uses scientific notation for numbers larger than 7 digits.\u00A0(Generally we do not want numbers in save-files to be localized, written 3.1416 or 3,1416 depending on user location,\u00A0because they are primarily computer-read and we want to be able to exchange them.) \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/99885-allista/\u0026amp;do=hovercard\u0022 data-mentionid=\u002299885\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/99885-allista/\u0022 rel=\u0022\u0022\u003E@allista\u003C/a\u003E\u00A0included a work-around mod in his utility package; see the\u00A0\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/16087\u0022 rel=\u0022external nofollow\u0022\u003Ebug-tracker entry\u003C/a\u003E\u00A0for details (making yourself a login if needed) or his\u00A0\u003Ca href=\u0022https://github.com/allista/AT_Utils/releases/tag/v1.5.0\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E. \u00A0That work-around will preserve asteroids so long as you have a save un-corrupted by 1.3.1, or at least the seed.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that I was wrong initially to imply that only old saves were affected.\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022115992\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0022 rel=\u0022\u0022\u003E@Squelch\u003C/a\u003E\u0027s work-around above will not work in general -- save/load cycles\u00A0in 1.3.1 continue to generate fresh asteroid shapes, until the random\u00A0number generator happens to generate a 7-digit or shorter seed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-15T05:44:53Z\u0022 title=\u002211/15/2017 05:44  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 15, 2017\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2017-11-15T13:08:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223219581\u0022 data-ipsquote-contentid=\u0022166223\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221510710185\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo. \u00A0AllisTa (who adopted the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/97154-131-throttle-controlled-avionics/\u0022 rel=\u0022\u0022\u003ETCA mod\u003C/a\u003E\u00A0and maybe others) investigated and found out that KSP now tries to put the seed in localized number format, which uses scientific notation for numbers larger than 7 digits.\u00A0(Generally we do not want numbers in save-files to be localized, written 3.1416 or 3,1416 depending on user location,\u00A0because they are primarily computer-read and we want to be able to exchange them.) \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/99885-allista/\u0026amp;do=hovercard\u0022 data-mentionid=\u002299885\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/99885-allista/\u0022 rel=\u0022\u0022\u003E@allista\u003C/a\u003E\u00A0included a work-around mod in his utility package; see the\u00A0\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/16087\u0022 rel=\u0022external nofollow\u0022\u003Ebug-tracker entry\u003C/a\u003E\u00A0for details (making yourself a login if needed) or his\u00A0\u003Ca href=\u0022https://github.com/allista/AT_Utils/releases/tag/v1.5.0\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E. \u00A0That work-around will preserve asteroids so long as you have a save un-corrupted by 1.3.1, or at least the seed.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that I was wrong initially to imply that only old saves were affected.\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022115992\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/115992-squelch/\u0022 rel=\u0022\u0022\u003E@Squelch\u003C/a\u003E\u0027s work-around above will not work in general -- save/load cycles\u00A0in 1.3.1 continue to generate fresh asteroid shapes, until the random\u00A0number generator happens to generate a 7-digit or shorter seed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is really helpful, thanks! I still have all the old seeds in various savegames, so I imagine if I can get that to work, it will pretty much solve all my issues.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRune. Good thing I make backups of the backups.\n\u003C/p\u003E\n"},{"CreatedByName":"Tyko","CreatedById":164179,"CreatedDateTime":"2017-12-08T21:36:24Z","Content":"\n\u003Cp\u003E\nI\u0027m in the early stages of a new 1.3.1 game is there anything I can do to prevent new asteroids from suffering this problem? i\u0027m wondering if I could go into the save file and edit the seed for asteroids I\u0027m planning on capturing so it only has a 7 digit seed. Would something like this work?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: It looks like the seed number isn\u0027t generated when the asteroid first appears. At least I couldn\u0027t find it in the code related to the asteroid in the Persistent file. When does the seed actually get generated? When I first get into physics range?\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-30T09:26:26Z\u0022 title=\u002212/30/2017 09:26  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 30, 2017\u003C/time\u003E by Tyko\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tyko","CreatedById":164179,"CreatedDateTime":"2017-12-31T20:45:11Z","Content":"\n\u003Cp\u003E\nI found a workaround for this that works consistently -\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAn asteroid doesn\u0027t get a seed value until the first time you get within physics range of it. Once you\u0027re in physics range the game generates a seed that shows up like this in the Persistent File:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\nMODULE\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleAsteroid\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isEnabled = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cstrong\u003Eseed = 5109506E\u002B07\u003C/strong\u003E\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0AsteroidName = Class A Test 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0prefabBaseURL = Procedural/PA_A\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0currentState = 1\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnabled = True\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0EVENTS\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ACTIONS\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0UPGRADESAPPLIED\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\nIf you do nothing, that Seed number will randomly change when you reload the asteroid. Here\u0027s the workaround...\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIn the tracking center - note the name of the asteroid. It\u0027ll be ast-XXX - You can change the name now if you want to.\n\u003C/li\u003E\n\u003Cli\u003E\nComplete your rendezvous with the asteroid, but don\u0027t actually attach to it. Just get within physics range.\n\u003C/li\u003E\n\u003Cli\u003E\nSlow down your approach so you\u0027re within a few hundred meters, but not about to collide with it.\n\u003C/li\u003E\n\u003Cli\u003E\nsave and exit the game\n\u003C/li\u003E\n\u003Cli\u003E\nGo into the Persistent.sfs - Always a good idea to make a copy\n\u003C/li\u003E\n\u003Cli\u003E\nIn your fav text editor do a Find on the name of the asteroid and scroll down to\u00A0the Module listed above.\n\u003C/li\u003E\n\u003Cli\u003E\nChange the seed to any 7 digit number you choose. - I\u0027ve just been lopping off the \u0022E\u002B07\u0022 portion and leaving the rest of the number as generated. So my new seed # will be 5109506\n\u003C/li\u003E\n\u003Cli\u003E\nSave your Persistent file and reload the game\n\u003C/li\u003E\n\u003Cli\u003E\nFinish your Clawing maneuver on the asteroid.\n\u003C/li\u003E\n\u003Cli\u003E\nPROFIT!\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-31T21:37:58Z\u0022 title=\u002212/31/2017 09:37  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 31, 2017\u003C/time\u003E by Tyko\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2017-12-31T21:36:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223257005\u0022 data-ipsquote-contentid=\u0022166223\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514753111\u0022 data-ipsquote-userid=\u0022164179\u0022 data-ipsquote-username=\u0022Tyko\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n50 minutes ago, Tyko said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI found a workaround for this that works consistently -\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMany thanks!\n\u003C/p\u003E\n\u003Cp\u003E\nThis will be most helpful, I\u0027ve been putting off an Asteroid mission for fear of this bug.\n\u003C/p\u003E\n"},{"CreatedByName":"cfds","CreatedById":82109,"CreatedDateTime":"2018-01-19T07:51:17Z","Content":"\n\u003Cp\u003E\nI just stumbled across this thread and I am wondering: What change would make it necessary to save completely fine unsigned integers in scientific notation (disregarding that stuff like 5109506E\u002B07 is not even scientific notation..)? Sounds more like someone mixed up his arguments for printf....\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2018-01-20T03:31:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223272022\u0022 data-ipsquote-contentid=\u0022166223\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221516348277\u0022 data-ipsquote-userid=\u002282109\u0022 data-ipsquote-username=\u0022cfds\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, cfds said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat change would make it necessary to save completely fine unsigned integers in scientific notation\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt turned out that saving seeds in scientific notation was not, in fact, necessary.\u00A0 AlistTa posted on the bug-tracker some debug output that showed that the cause was inappropriate use of an output formatter (\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_k_s_p_util.html#a2820b6b0fb3d36064945310599585963\u0022 rel=\u0022\u0022\u003Elink\u003C/a\u003E) that is much less general than printf, and which KSP shouldn\u0027t be using for save-files.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis finding made it obvious the bug was fixable, got the report tagged \u0022being worked on\u0022,\u00A0and I would\u00A0expect it to be fixed in 1.4.\n\u003C/p\u003E\n"}]}