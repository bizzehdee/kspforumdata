{"TopicId":182933,"ForumId":70,"TopicTitle":"Removing old mod element from persistent.sfs","CreatedByName":"marsfan","CreatedById":162851,"CreatedDateTime":"2019-03-18T02:10:04Z","PageNum":1,"Articles":[{"CreatedByName":"marsfan","CreatedById":162851,"CreatedDateTime":"2019-03-18T02:10:04Z","Content":"\n\u003Cp\u003E\nI am in the process of reworking what mods I have installed, and I realized that a good number of mods tend to store data about themselves in the persistent.sfs save file.\u003Cbr\u003E\u003Cbr\u003E\nHow would I go about removing this stuff from the save file, as I have noticed that sometimes the game hiccups and throws errors in the log if it tries to use a plugin to parse something it does not have installed anymore.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nOn a related note, is there any sort of documentation on the structure of the save file? I have wanted to learn more about the internals of ksp, and so far this has proven to be a bit of a wall.\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2019-03-19T13:48:24Z","Content":"\n\u003Cp\u003E\nThe general way that mods save information that is not specific to a certain vessel or a certain part is through scenario modules, which get added to the top section of the save file. If you delete a mod then all of its data from the persistent file will also be deleted, as the game has no way of knowing what needs to be saved and loaded without the mod present.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only thing left over will be an empty SCENARIO config in the persistent file. Like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tSCENARIO\n\t{\n\t\tname = SomeModsScenarioModule\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nKSP will complain about it when it is loading, something like: \u0022Can\u0027t find Scenario Module with name...\u0022, but it isn\u0027t harmful and there is no need to remove the old scenario module stub from the save file. Editing the save file is a good way to break it.\n\u003C/p\u003E\n\u003Cp\u003E\nIf, on the other hand, you still have the mod installed and you delete the scenario module from the save file, then at best you might basically reset the mod, and at worst break the mod. So that\u0027s probably not a good idea, either.\n\u003C/p\u003E\n"}]}