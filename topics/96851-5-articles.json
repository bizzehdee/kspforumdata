{"TopicId":96851,"ForumId":34,"TopicTitle":"[1.8-1.12] TextureReplacer 4.5.3 (8.2.2022)","CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2015-01-16T12:02:04Z","PageNum":5,"Articles":[{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-27T01:54:45Z","Content":"\n\u003Cp\u003ETRReflection module causes Airlock and Ladder to become surface attachable in Editor. Also causes Airlock to become unclickable in Flight, trapping kerbals in parts without IVA.\u003C/p\u003E\u003Cp\u003Eno error messages in output_log.txt; tested with clean install with TextureReplacer 2.2.3 and ModuleManager 2.5.9, using sample module in readme file applied to stock Mk1-2 pod.\u003C/p\u003E\n"},{"CreatedByName":"rynak","CreatedById":115092,"CreatedDateTime":"2015-01-27T06:36:28Z","Content":"\n\u003Cp\u003EA heads up on memory handling of KSP:\u003C/p\u003E\u003Cp\u003EIn the past (tested with 0.24), it seemed to be possible to use texturereplacer to replace textures from squad\u0027s asset files (which is what texturereplacer does) with downscaled versions, since some of the assets use overly large textures. KSP would then purge the replaced textures from memory, so that overall memory consumption would go down.\u003C/p\u003E\u003Cp\u003EAs of 0.90, since seems to no longer happen. Any \u0022replaced\u0022 textures are not actually replaced - the original squad textures remain in VMEM, but the new ones are used instead of the originals (so, total memory usage will actually go UP instead of down). I tested this 5 times, by alternating between downscaled assets and no replacements - the results were constant and 300 MBs in difference.\u003C/p\u003E\n"},{"CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2015-01-27T20:03:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rynak\u0022 data-cite=\u0022rynak\u0022\u003E\u003Cdiv\u003EA heads up on memory handling of KSP:\u003Cp\u003EIn the past (tested with 0.24), it seemed to be possible to use texturereplacer to replace textures from squad\u0027s asset files (which is what texturereplacer does) with downscaled versions, since some of the assets use overly large textures. KSP would then purge the replaced textures from memory, so that overall memory consumption would go down.\u003C/p\u003E\u003Cp\u003EAs of 0.90, since seems to no longer happen. Any \u0022replaced\u0022 textures are not actually replaced - the original squad textures remain in VMEM, but the new ones are used instead of the originals (so, total memory usage will actually go UP instead of down). I tested this 5 times, by alternating between downscaled assets and no replacements - the results were constant and 300 MBs in difference.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould you test this \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/9508397/TextureReplacer.dll\u0022 rel=\u0022external nofollow\u0022\u003ETextureReplacer.dll\u003C/a\u003E?\u003C/p\u003E\u003Cp\u003EI\u0027ve changed the way how textures are unloaded since KSP 0.24 because I thought the old way didn\u0027t work. This DLL unloads textures in both ways.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003ETRReflection module causes Airlock and Ladder to become surface attachable in Editor. Also causes Airlock to become unclickable in Flight, trapping kerbals in parts without IVA.\u003Cp\u003Eno error messages in output_log.txt; tested with clean install with TextureReplacer 2.2.3 and ModuleManager 2.5.9, using sample module in readme file applied to stock Mk1-2 pod.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI guess the problem is with shaders. The reflective shaders used are from Unity, not from KSP. Try to install Reflective Plugin alongside TR and use its shaders. However, I can\u0027t find any documentation nor source code for those, not even a list of shaders that come with RP. Try shaders from those list, I hope I correctly guessed the names of shaders by reverse engineering the DLL:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EReflective/Bumped Unlit\u003Cbr\u003EReflective/Bumped Specular\u003Cbr\u003EReflective/Bumped VertexLit\u003Cbr\u003EReflective/Bumped Diffuse\u003Cbr\u003EReflective/Diffuse\u003Cbr\u003EReflective/Specular\u003Cbr\u003EReflective/Parallax Diffuse\u003Cbr\u003EReflective/Parallax Specular\u003Cbr\u003EReflective/VertexLit\u003Cbr\u003EStarwaster/Bumped Specular\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"rynak","CreatedById":115092,"CreatedDateTime":"2015-01-27T23:21:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022shaw\u0022 data-cite=\u0022shaw\u0022\u003E\u003Cdiv\u003ECould you test this \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/9508397/TextureReplacer.dll\u0022 rel=\u0022external nofollow\u0022\u003ETextureReplacer.dll\u003C/a\u003E?\u003Cp\u003EI\u0027ve changed the way how textures are unloaded since KSP 0.24 because I thought the old way didn\u0027t work. This DLL unloads textures in both ways.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, will do in about a day - just ordered more RAM, because i\u0027d like to avoid my other apps terminating in unplanned ways.\u003C/p\u003E\u003Cp\u003EOne infobit by the way - i can only test this reliably up to entering the space center. As soon as one loads a game, KSP or some of my mods start leaking memory, so i basically have to go straight where i want to test ASAP - by the time i get inflight, values would already have too much error margin.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-27T23:25:14Z\u0022 title=\u002201/27/2015 11:25  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 27, 2015\u003C/time\u003E by rynak\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Subcidal","CreatedById":20751,"CreatedDateTime":"2015-01-28T01:51:36Z","Content":"\n\u003Cp\u003EAlso running Windows KSP in Open GL and can\u0027t get the real reflections to work. Whoever said they worked fine for them in open GL care to share some settings?\u003C/p\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2015-01-28T02:39:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Subcidal\u0022 data-cite=\u0022Subcidal\u0022\u003E\u003Cdiv\u003EAlso running Windows KSP in Open GL and can\u0027t get the real reflections to work. Whoever said they worked fine for them in open GL care to share some settings?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey just work for me out of the box. What kind of video card do you have??\u003C/p\u003E\n"},{"CreatedByName":"Subcidal","CreatedById":20751,"CreatedDateTime":"2015-01-28T06:02:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022somnambulist\u0022 data-cite=\u0022somnambulist\u0022\u003E\u003Cdiv\u003EThey just work for me out of the box. What kind of video card do you have??\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWas thinking about video cards too, ATI 5900 series iirc, Either way you probably have nvidia right?\u003C/p\u003E\u003Cp\u003EEdit : Was just thinking, Would check myself but i just got everything set up after like a week, and meh, lol. Do you have ingame anti aliasing enabled with open gl?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-28T06:13:04Z\u0022 title=\u002201/28/2015 06:13  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 28, 2015\u003C/time\u003E by Subcidal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-01-28T11:16:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022somnambulist\u0022 data-cite=\u0022somnambulist\u0022\u003E\u003Cdiv\u003EThey just work for me out of the box. What kind of video card do you have??\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo real reflections in OpenGL and I have an AMD Radeon HD 7500M/7600M Series. Regarding AA, I have it set to override application settings and it still doesn\u0027t work. Don\u0027t know if it needs to be turned off in-game though..\u003C/p\u003E\n"},{"CreatedByName":"helaeon","CreatedById":101767,"CreatedDateTime":"2015-01-28T11:35:03Z","Content":"\n\u003Cp\u003EI\u0027m running an Nvidia 970 and the real reflections work for me in OpenGL but they seem to not update after they initially load (yes I am waiting many many frames before expecting an update). The box for the reflections is all there and that works correctly, but as I move away from a lander if I turn around, the reflection in the Kerbal\u0027s helmet is still as if they were at the door.\u003C/p\u003E\n"},{"CreatedByName":"UnanimousCoward","CreatedById":109698,"CreatedDateTime":"2015-01-28T14:15:09Z","Content":"\n\u003Cp\u003ENvidia GTX 670 here. Reflections work just fine in OpenGL, with no errors at all that I\u0027ve noticed. \u003C/p\u003E\u003Cp\u003EThey update fine, too - there\u0027s a noticeable delay, but it\u0027s not bad and the performance is just fine. As I don\u0027t plan on spending huge amounts of time staring at my kerbals\u0027 visors, I don\u0027t want to start messing around with update timings and potentially screw things up.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2015-01-28T17:18:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022shaw\u0022 data-cite=\u0022shaw\u0022\u003E\u003Cdiv\u003EI guess the problem is with shaders. The reflective shaders used are from Unity, not from KSP. Try to install Reflective Plugin alongside TR and use its shaders. However, I can\u0027t find any documentation nor source code for those, not even a list of shaders that come with RP. Try shaders from those list, I hope I correctly guessed the names of shaders by reverse engineering the DLL:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EReflective/Bumped Unlit\u003Cbr\u003EReflective/Bumped Specular\u003Cbr\u003EReflective/Bumped VertexLit\u003Cbr\u003EReflective/Bumped Diffuse\u003Cbr\u003EReflective/Diffuse\u003Cbr\u003EReflective/Specular\u003Cbr\u003EReflective/Parallax Diffuse\u003Cbr\u003EReflective/Parallax Specular\u003Cbr\u003EReflective/VertexLit\u003Cbr\u003EStarwaster/Bumped Specular\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI checked each shader in the list on mk1-2 pod. the same thing occurs with all of them. maybe it\u0027s something the part module?\u003C/p\u003E\n"},{"CreatedByName":"Subcidal","CreatedById":20751,"CreatedDateTime":"2015-01-28T23:24:23Z","Content":"\n\u003Cp\u003ESo, So far everyone that can get the reflections in open GL windows KSP is running on nvidia.\u003C/p\u003E\u003Cp\u003EFigured. Wish Nvidias sister card to the one i have wasn\u0027t like 300 bucks compared to 120 =/\u003C/p\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2015-01-29T01:03:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Subcidal\u0022 data-cite=\u0022Subcidal\u0022\u003E\u003Cdiv\u003EWas thinking about video cards too, ATI 5900 series iirc, Either way you probably have nvidia right?\u003Cp\u003EEdit : Was just thinking, Would check myself but i just got everything set up after like a week, and meh, lol. Do you have ingame anti aliasing enabled with open gl?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep Nvidia. The in-game antialiasing options don\u0027t work so they have to be setup as an override in the Nvidia control panel.\u003C/p\u003E\n"},{"CreatedByName":"Vespene","CreatedById":95571,"CreatedDateTime":"2015-01-29T03:35:24Z","Content":"\n\u003Cp\u003EI finally got the reflections to work and they are beautiful. Still figuring out how to make the visors not transparent.\u003C/p\u003E\u003Cp\u003EIs there another line I have to edit for that in the default config?\u003C/p\u003E\n"},{"CreatedByName":"rynak","CreatedById":115092,"CreatedDateTime":"2015-01-29T03:56:36Z","Content":"\n\u003Cp\u003EReport with the updated DLL: Textures still apparently not unloaded. Replaced assets increase memusage instead of lowering it.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-29T06:13:50Z","Content":"\n\u003Cp\u003Eso was it ever determined how ahappydude managed to get Kerbin\u0027s clouds working in his reflections??\u003C/p\u003E\n"},{"CreatedByName":"ahappydude","CreatedById":458,"CreatedDateTime":"2015-01-29T11:48:47Z","Content":"\n\u003Cp\u003EYou made me chuckle =) Well i tried my best to give info of what i had changed\u003C/p\u003E\u003Cp\u003EreflectionResolution = 512\u003C/p\u003E\u003Cp\u003E// Number of frames between reflection updates for a part. Only one face of\u003C/p\u003E\u003Cp\u003E// the environment map is updated at once, so 6 updates are necessary for full\u003C/p\u003E\u003Cp\u003E// update.\u003C/p\u003E\u003Cp\u003EreflectionInterval = 2 \u003C/p\u003E\u003Cp\u003ETried that?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-29T20:18:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ahappydude\u0022 data-cite=\u0022ahappydude\u0022\u003E\u003Cdiv\u003ETried that?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I was actually expecting Shaw to take a bit more interest given that he said he had tried and failed to get them to work, and apparently you managed to - somehow. So I didn\u0027t bother trying your suggestion since I couldn\u0027t imagine how upping the texture resolution would do anything but what the hell, I\u0027ll give it a try.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tjuEsNU.png\u0022 alt=\u0022tjuEsNU.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ENope. But hey, I do like the higher-quality reflections and don\u0027t notice any performance impact.\u003C/p\u003E\u003Cp\u003EWhat graphics card are you using?\u003C/p\u003E\n"},{"CreatedByName":"mjones1052","CreatedById":90415,"CreatedDateTime":"2015-01-30T02:36:14Z","Content":"\n\u003Cp\u003EAnyone have issues with the latest update on the menu screen? The skybox and kerbin are all messed up. Using Astronomers packs. Once you load in to the game though it\u0027s fine.\u003C/p\u003E\u003Cp\u003EAlso, as of the update before this last one the parts that are replaced in the stock parts to add reflections don\u0027t work. There\u0027s no reflections when used with Ven\u0027s. I imagine because he replaces some stuff, but it did work two updates ago with Ven\u0027s. Any ideas?\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-01-30T02:47:08Z","Content":"\n\u003Cp\u003EVen disabled the TR reflection config in the latest release due to the amount of bugs it was causing. Also, AFAIK, the main menu isn\u0027t supposed to show reflections.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-30T04:58:46Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003Eahappydude\u003C/strong\u003E can you please post a photo of your reflections with the altimeter showing you are below 160km? I can get clouds to show in my reflections I\u0027ve found, but only above 160km when the terrain goes away\u003C/p\u003E\n"},{"CreatedByName":"John290","CreatedById":118190,"CreatedDateTime":"2015-01-30T06:14:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mjones1052\u0022 data-cite=\u0022mjones1052\u0022\u003E\u003Cdiv\u003EAnyone have issues with the latest update on the menu screen? The skybox and kerbin are all messed up. Using Astronomers packs. Once you load in to the game though it\u0027s fine.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaving the same issue since the lastest update. Using Astronomers pack aswell. Skybox and the Kerbal Space Program title are blacked out, While kerbin has odd overlaying textures on it. All is fine once in game.\u003C/p\u003E\n"},{"CreatedByName":"ahappydude","CreatedById":458,"CreatedDateTime":"2015-01-30T07:56:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003Eahappydude\u003C/strong\u003E can you please post a photo of your reflections with the altimeter showing you are below 160km? I can get clouds to show in my reflections I\u0027ve found, but only above 160km when the terrain goes away\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy grap card is radeon r7 200, did you change your intervall in cfg to? Sure i gladely do that, maybe i can post my tr folder to.\u003C/p\u003E\u003Cp\u003EHere is mine\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.filedropper.com/texturereplacer\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://www.filedropper.com/texturereplacer\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-30T08:02:20Z\u0022 title=\u002201/30/2015 08:02  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 30, 2015\u003C/time\u003E by ahappydude\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"brian6712","CreatedById":119336,"CreatedDateTime":"2015-01-30T08:13:17Z","Content":"\n\u003Cp\u003EI came acrose a set of 8K planet textures but they were from the old Universe replacer mod, so I was wondering what the file setup needs to look like in the default file so texture replacer will recognize them as planet textures. Thanks Brian\u003C/p\u003E\n"},{"CreatedByName":"SmarterThanMe","CreatedById":58706,"CreatedDateTime":"2015-01-30T10:20:46Z","Content":"\n\u003Cp\u003EHalloween?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/HpvHlwD.png\u0022 alt=\u0022HpvHlwD.png\u0022\u003E\u003C/p\u003E\n"}]}