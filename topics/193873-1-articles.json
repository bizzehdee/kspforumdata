{"TopicId":193873,"ForumId":29,"TopicTitle":"How to get highest point on a vessel?","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-05-14T18:01:40Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-05-14T18:01:41Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to get the highest point on a vessel, in relation to the planet.\u00A0 Would also be useful to find the horizontal distance from a Transform (found in a part).\u00A0 I thought I could do it with Vessel.vesselSize, but that\u0027s just a raw set of numbers, no way\u00A0(AFAIK) to know the orientation of the vessel.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"peteletroll","CreatedById":144573,"CreatedDateTime":"2020-05-14T18:21:00Z","Content":"\n\u003Cp\u003E\nThere could be something interesting here:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002281549\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed5072187249\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/69127-13jan0917-landing-height-show-distance-from-bottom-of-your-vessel-to-ground/\u0026amp;do=embed\u0022 style=\u0022height:236px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-05-14T18:31:09Z","Content":"\n\u003Cp\u003E\nIt was one I had looked at.\u00A0 Unfortunately, it uses this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Vector3 partEdge = p.collider.\u003Cstrong\u003EClosestPointOnBounds\u003C/strong\u003E(FlightGlobals.currentMainBody.position); //find collider edge closest to ground\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nwhich is a Unity call, and gets the closest point to the body.\u00A0 I would need the furthest point, and there is no unity call for that\n\u003C/p\u003E\u003Cp\u003E\nBut, it gave me an idea, I just found some code to get the furthest point.\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-05-14T22:05:50Z","Content":"\n\u003Cp\u003E\nProblem is solved.\u00A0 I\u0027ll post the code later when I\u0027m done\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2020-07-28T13:53:41Z","Content":"\n\u003Cp\u003E\nI realized I never posted.\u00A0 Here is the code to find the furthest point:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E       // Following method from Unity forum:\n        // https://forum.unity.com/threads/how-to-find-a-point-in-a-collider-farthest-from-a-given-position-reversed-closestpointonbounds.344122/\n\n        Vector3 GetFurthestPointOnBounds(Collider boxCollider, Vector3d myVector)\n        {\n            List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vector3\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E vertexPoints = new List\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Vector3\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n            //BoxCollider boxCollider = gameObject.GetComponent\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;BoxCollider\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E();\n\n            vertexPoints.Add(boxCollider.bounds.max);\n            vertexPoints.Add(boxCollider.bounds.min);\n            vertexPoints.Add(new Vector3(boxCollider.bounds.max.x, boxCollider.bounds.max.y, boxCollider.bounds.min.z));\n            vertexPoints.Add(new Vector3(boxCollider.bounds.max.x, boxCollider.bounds.min.y, boxCollider.bounds.min.z));\n            vertexPoints.Add(new Vector3(boxCollider.bounds.max.x, boxCollider.bounds.min.y, boxCollider.bounds.max.z));\n            vertexPoints.Add(new Vector3(boxCollider.bounds.min.x, boxCollider.bounds.min.y, boxCollider.bounds.max.z));\n            vertexPoints.Add(new Vector3(boxCollider.bounds.min.x, boxCollider.bounds.max.y, boxCollider.bounds.max.z));\n            vertexPoints.Add(new Vector3(boxCollider.bounds.min.x, boxCollider.bounds.max.y, boxCollider.bounds.min.z));\n\n\n            int maxDistanceVector = 0;\n            float distance = 0;\n            Vector3 getCollisionPoint = boxCollider.ClosestPointOnBounds(myVector);\n\n            for (int i = 0; i \u0026lt; vertexPoints.Count; i\u002B\u002B)\n            {\n                if (i == 0)\n                {\n                    distance = Vector3.Distance(getCollisionPoint, vertexPoints[i]);\n                    maxDistanceVector = 0;\n                }\n                else\n                {\n                    float newDistance = Vector3.Distance(getCollisionPoint, vertexPoints[i]);\n                    if (distance \u0026lt; newDistance)\n                    {\n                        distance = newDistance;\n                        maxDistanceVector = i;\n                    }\n                }\n\n            }\n\n            //Debug.Log(\u0022Farest away point of box collider from vector: \u0022 \u002B vertexPoints[maxDistanceVector]);\n            return vertexPoints[maxDistanceVector];\n        }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-28T14:05:45Z\u0022 title=\u002207/28/2020 02:05  PM\u0022 data-short=\u00223 yr\u0022\u003EJuly 28, 2020\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"}]}