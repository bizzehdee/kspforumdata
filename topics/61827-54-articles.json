{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":54,"Articles":[{"CreatedByName":"VFB1210","CreatedById":54159,"CreatedDateTime":"2014-08-17T12:50:52Z","Content":"\n\u003Cp\u003EOkay, so I\u0027m trying to program the guidance for my Mercury-Redstone type rocket using the method I was describing before. Initially I had a program that worked, but was very inconsistent in trajectory that it produced. It simply waited until the vertical speed of the rocket reached a certain point, pitched it over a set amount, waited a predetermined time, and then locked steering to SHIP:VELOCITY:SURFACE: DIRECTION. \u003C/p\u003E\u003Cp\u003EThe idea behind the new program is that it waits until it reaches a certain vertical speed, locks guidance to an initial pitchover angle, and then continually checks the rocket\u0027s current angle against the specified initial angle. Once it reaches an optimal angle (within 0.1 degrees of the specified pitchover angle) it switches guidance to SHIP:VELOCITY:SURFACE: DIRECTION for the rest of the gravity turn. It seems to work until I compare the actual difference in angle to the difference in angle allowed by the program. When I try to do that I get an \u0022Argument is out of range. Parameter name: index\u0022 error.\u003C/p\u003E\u003Cp\u003EHere\u0027s the code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003ECOPY mrbooster TO ARCHIVE.\u003Cbr\u003E\u003Cbr\u003EDECLARE pitchAngleInitial.\u003Cbr\u003EDECLARE turnStartSpeed.\u003Cbr\u003EDECLARE correctRoll.\u003Cbr\u003EDECLARE initialPitchAng.\u003Cbr\u003EDECLARE intitalPitchVec.\u003Cbr\u003EDECLARE angDiff.\u003Cbr\u003EDECLARE closeNuff.\u003Cbr\u003E\u003Cbr\u003ESET pitchAngleInitial TO 88.\u003Cbr\u003ESET turnStartSpeed TO 50.\u003Cbr\u003ESET correctRoll to R(0,0,-90). //Roll correction to keep the craft oriented correctly.\u003Cbr\u003ESET initialPitchAng TO HEADING(90,pitchAngleInitial).\u003Cbr\u003ESET initialPitchVec TO initialPitchAng:VECTOR. //Used for calculating when we are close enough to the initial pitchover to begin actual gravity turn.\u003Cbr\u003ESET closeNuff to 0.1. //Ship direction must be no more than this many degrees from the correct pitchover angle to begin gravity turn.\u003Cbr\u003E\u003Cbr\u003ELOCK THROTTLE TO 1. //Throttle up.\u003Cbr\u003ESTAGE. //Ignite engine.\u003Cbr\u003EWAIT 2. //Wait for thrust to build up.\u003Cbr\u003ELOCK STEERING TO UP \u002B correctRoll.\u003Cbr\u003ESTAGE. //Launch.\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL VERTICALSPEED \u0026gt; turnStartSpeed. //Vertical ascent.\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING TO initialPitchAng.\u003Cbr\u003Eprint \u0022Debug1\u0022.\u003Cbr\u003ELOCK angDiff TO ABS(VANG(SHIP:VELOCITY:SURFACE:DIRECTION,initialPitchVec)). //Checking angle between current and desired directions.\u003Cbr\u003Eprint \u0022Debug2\u0022.\u003Cbr\u003EWAIT UNTIL angDiff \u0026lt; closeNuff. //Wait until we are close enough to the proper heading.\u003Cbr\u003Eprint \u0022Debug3\u0022.\u003Cbr\u003ELOCK STEERING TO SHIP:VELOCITY:SURFACE:DIRECTION. //Gravity turn time! Keeping the rocket pointed along the prograde vector.\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL SHIP:LIQUIDFUEL \u0026lt; 150. //Burning, burning, burning. We\u0027re turning and we\u0027re burning...\u003Cbr\u003ESTAGE. //Escape tower jettison.\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL SHIP:LIQUIDFUEL = 0. //Booster cutoff.\u003Cbr\u003EWAIT 5. //Chill for a bit.\u003Cbr\u003E\u003Cbr\u003ESTAGE. //Booster seperation/posipack firing.\u003Cbr\u003E\u003Cbr\u003ECOPY mrpostboost FROM ARCHIVE. //Load up next program.\u003Cbr\u003E\u003Cbr\u003ERUN mrpostboost. //Run it.\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt only gets as far as the \u0022Debug2\u0022 print command, and locks up on the line of code after that. I have also tried executing it in a while loop like the one below without succes.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Estuff\u003Cbr\u003E\u003Cbr\u003EWHILE 0 {\u003Cbr\u003E        SET angDiff TO ABS(VANG(SHIP:VELOCITY:SURFACE:DIRECTION,initialPitchVec)).\u003Cbr\u003E        IF angDiff \u0026lt; closeNuff {\u003Cbr\u003E                BREAK.\u003Cbr\u003E        }.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Emore_stuff\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECan anyone help me stop it from doing this?\u003C/p\u003E\u003Cp\u003EEDIT: Also, Steven, as a user and not a programmer, it seems like breaking backwards compatibility in that way wouldn\u0027t be too bad of a thing. It\u0027s not a huge inconvenience to go and wrap a couple of file names in quotes to comply with the new syntax, especially considering the kind of possibilities it could open up. Just my 2\u00C3\u201A\u00C2\u00A2.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-17T12:57:48Z\u0022 title=\u002208/17/2014 12:57  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 17, 2014\u003C/time\u003E by VFB1210\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2014-08-17T14:24:00Z","Content":"\n\u003Cp\u003EI agree... bring on the quotes (but then again, I don\u0027t have a library of script I\u0027d have to fix... of course, then again, if you\u0027ve got a library of script to fix... you might write a script to fix it)\u003C/p\u003E\u003Cp\u003EYour problem is that you\u0027re trying to use an incorrect argument in the vang() function. It compares the angle of incidence between two vectors [vang(vector1,vector2)] but ship:velocity:surface:direction doesn\u0027t return a vector, it returns a euler direction in the form of r(yaw,pitch,roll). Simply swap ship:velocity:surface:direction for ship:velocity:surface:vector and that should fix it. As a side note, I believe (*though I could be mistaken*) that ship:velocity:surface is already stored as a vector, and can be used directly without the :vector structure tag.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-17T19:52:23Z","Content":"\n\u003Cp\u003EIt\u0027s not that changing RUN FILENAME to RUN \u0022FILENAME\u0022 is hard. It\u0027s not. It\u0027s a very simple change. It\u0027s that I anticipate lots of bug reports from people who didn\u0027t read the release notes and just installed the update, or, more likely, from people who had never run kOS before and install it for the first time, but then find example code posted on the internet and try running it, not knowing the example code is for an out of date kOS (because if it\u0027s an old post, the person writing the post won\u0027t have known to put the warning there in the first place, because the problem wasn\u0027t there yet when it was written.)\u003C/p\u003E\u003Cp\u003EI\u0027d feel more comfortable about it if kOS could detect the attempt to do it the old way and issue a special-case error message. That way people who didn\u0027t know about the problem would discover it when they try using it. As it stands, the error message they\u0027d get would just be \u0022Variable not Defined\u0022 as they tried using the bare identifier that doesn\u0027t refer to any variable value. It\u0027s not going to be clear why that\u0027s wrong, especially if the user is looking at supposedly working examples that do it *exactly* the same way they\u0027re trying to do it, and they pull out their hair in frustration going, \u0022Come On! I\u0027m doing it EXACTLY like the example shows and it doesn\u0027t let me! What a piece of garbage this kOS thing is\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6.\u0022\u003C/p\u003E\u003Cp\u003EThat\u0027s the problem with breaking backward compatibility - the inability to force people to go out there and fix up all their old code examples that have been posted on the net makes life very frustrating to people trying to follow those examples. The experience of a user who\u0027s been with the project continually and is making small updates all along is very different from the experience of a user coming in new who doesn\u0027t realize a lot of what they see online is obsolete advice that won\u0027t work. \u003C/p\u003E\u003Cp\u003EI might be more comfortable with it if I could find a way to detect this specific case (getting the undefined variable error in the outermost expression evaluation of a disk command\u0027s (run,rename,copy,switch to, etc) argument) and printing a different error message explicitly mentioning the deliberate break in backward compatibility and how to fix it.\u003C/p\u003E\n"},{"CreatedByName":"IronGremlin","CreatedById":77166,"CreatedDateTime":"2014-08-17T20:42:10Z","Content":"\n\u003Cp\u003EHonestly the fact that kerboscript does not tell you which variable is undefined is a far more important issue to address - if you fix that then this whole problem and many like it disappear.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-08-17T21:08:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI\u0027d feel more comfortable about it if kOS could detect the attempt to do it the old way and issue a special-case error message. That way people who didn\u0027t know about the problem would discover it when they try using it. As it stands, the error message they\u0027d get would just be \u0022Variable not Defined\u0022 as they tried using the bare identifier that doesn\u0027t refer to any variable value. It\u0027s not going to be clear why that\u0027s wrong, especially if the user is looking at supposedly working examples that do it *exactly* the same way they\u0027re trying to do it, and they pull out their hair in frustration going, \u0022Come On! I\u0027m doing it EXACTLY like the example shows and it doesn\u0027t let me! What a piece of garbage this kOS thing is\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6.\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETo be fair, that is exactly how Real Programs\u00C3\u00A2\u00E2\u20AC\u017E\u00C2\u00A2 work. Or do not work, more accurately. Coincidentally, I have been wrestling all week with a simulation that should work, but does not and only communicates in cryptic error messages and random failures. That is very high-end, expensive software.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-17T23:19:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003ETo be fair, that is exactly how Real Programs\u00C3\u00A2\u00E2\u20AC\u017E\u00C2\u00A2 work. Or do not work, more accurately. Coincidentally, I have been wrestling all week with a simulation that should work, but does not and only communicates in cryptic error messages and random failures. That is very high-end, expensive software.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EReal Programs have the advantage of google-able help. There\u0027s a large enough base of users that if a major change happened in an update, and you google for the problem, you\u0027ll find other people who had the same issue and you\u0027ll find out about the break in backward compatibility. With a smaller user base like kOS has, that doesn\u0027t work as well. If, say, Python, or Java, or Csharp had a sudden change the broke the ability to open files the old way, you know there\u0027d be lots of incidences of others who ran into the problem and asked about it (and thus got answered \u0022that changed in version xxxx, now you have to do this\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6\u0022).\u003C/p\u003E\u003Cp\u003EOne of the frustrations we\u0027ve been having with kOS is that old stuff shows up HIGHER in most google searches than the new stuff. Most of the time if you google about kOS you\u0027re seeing things about Kevin\u0027s older versions.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-17T23:21:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022IronGremlin\u0022 data-cite=\u0022IronGremlin\u0022\u003E\u003Cdiv\u003EHonestly the fact that kerboscript does not tell you which variable is undefined is a far more important issue to address - if you fix that then this whole problem and many like it disappear.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlready implemented, but waiting to be incorporated into the rest of kOS:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://cloud.githubusercontent.com/assets/5216848/3863559/a5e4e680-1f4a-11e4-97d6-3c86205b2a2c.png\u0022 alt=\u0022a5e4e680-1f4a-11e4-97d6-3c86205b2a2c.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EOnce this gets pulled in, runtime errors should be getting a trace of line/col they came from dumped out.\u003C/p\u003E\n"},{"CreatedByName":"VFB1210","CreatedById":54159,"CreatedDateTime":"2014-08-17T23:46:31Z","Content":"\n\u003Cp\u003EQuick question, is there a way to get kOS to simulate a keystroke in a program? I\u0027m working with Action Groups Extended, and if I could get kOS to simulate certain keystrokes bound to action groups in AGX then that would open up a lot of opportunities to control actions without having them bound to staging, which I frequently forget to set up correctly.\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2014-08-18T00:59:46Z","Content":"\n\u003Cp\u003ESo this will sound like a dumb question but I can\u0027t seem to find a correct answer.\u003C/p\u003E\u003Cp\u003EHow do you lock steering to a maneuver node?\u003C/p\u003E\u003Cp\u003EI tried:\u003C/p\u003E\u003Cp\u003Eset mynodevariable to node( time:seconds \u002B 60, 0, 0, 100 ).\u003C/p\u003E\u003Cp\u003Elock steering to mynodevariable:deltav.\u003C/p\u003E\u003Cp\u003EBut it says you have to attach the node. Looking for attach didn\u0027t bring up anything and I couldn\u0027t find any other working examples.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-18T01:14:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBut it says you have to attach the node. Looking for attach didn\u0027t bring up anything and I couldn\u0027t find any other working examples.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESET myNode to NODE( time:seconds \u002B 60, 0, 0, 100 ).\u003C/p\u003E\u003Cp\u003EADD myNode. // This is the \u0022attach\u0022 that its talking about.\u003C/p\u003E\u003Cp\u003Elock steering to myNode:deltav.\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2014-08-18T01:30:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ESET myNode to NODE( time:seconds \u002B 60, 0, 0, 100 ).\u003Cp\u003EADD myNode. // This is the \u0022attach\u0022 that its talking about.\u003C/p\u003E\u003Cp\u003Elock steering to myNode:deltav.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDarn I was so close. Thanks for the quick response.\u003C/p\u003E\u003Cp\u003EWould it be too much trouble to explain the command to me?\u003C/p\u003E\u003Cp\u003EI understand that SET myNode to NODE is making myNode a variable. However I\u0027m not quite understanding the need for the time thing and what those numbers are.\u003C/p\u003E\u003Cp\u003EThis would be locking steering a node I already created correct?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-18T01:33:41Z\u0022 title=\u002208/18/2014 01:33  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 18, 2014\u003C/time\u003E by Nori\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-18T01:56:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EDarn I was so close. Thanks for the quick response.\u003Cp\u003EWould it be too much trouble to explain the command to me?\u003C/p\u003E\u003Cp\u003EI understand that SET myNode to NODE is making myNode a variable. However I\u0027m not quite understanding the need for the time thing and what those numbers are.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E( \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structure/node/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/structure/node/index.html\u003C/a\u003E )\u003C/p\u003E\u003Cp\u003ENODE( universalTime, radialOut, normal, prograde )\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUniversalTime\u003C/strong\u003E means the number of simulated seconds since the beginning of the campaign game. (When you start a new campaign and launch your very first thing on the launchpad, it\u0027s zero. After that it\u0027s a count of all the time that passed in-game, not counting the frozen time (like in the VAB, or in the ESC menu). Unlike your computer clock time, this actually moves with the time warp speed. So it\u0027s basically, \u0022If you convert the current game clock\u0027s years, days, hours, minutes, seconds, into just a big raw number of seconds, what is the result?\u0022. When you call TIME:SECONDS, you are getting that result for \u0022right now\u0022. In this example where you say \u003Cem\u003ETIME:SECONDS\u002B60\u003C/em\u003E you are setting a maneuver node that you\u0027d like to occur on your orbit path exactly 60 seconds from now.\u003C/p\u003E\u003Cp\u003EThe other 3 arguments are the three direction components, corresponding to using the mouse to twiddle the colored knobs of the maneuver node:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EradialOut\u003C/strong\u003E,\u003Cstrong\u003ENormal\u003C/strong\u003E,\u003Cstrong\u003Eprograde\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThey can be set to negative numbers to get the opposite directions (i.e. to burn retrograde, use a negative number for prograde).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThis would be locking steering a node I already created correct?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you say \u0022I already created\u0022 do you mean \u0022the script I wrote already created it\u0022 or do you mean \u0022I created it manually by using mouseclicks on the map view\u0027s orbit line\u0022?\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2014-08-18T04:43:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E( \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structure/node/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/structure/node/index.html\u003C/a\u003E )\u003Cp\u003ENODE( universalTime, radialOut, normal, prograde )\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUniversalTime\u003C/strong\u003E means the number of simulated seconds since the beginning of the campaign game. (When you start a new campaign and launch your very first thing on the launchpad, it\u0027s zero. After that it\u0027s a count of all the time that passed in-game, not counting the frozen time (like in the VAB, or in the ESC menu). Unlike your computer clock time, this actually moves with the time warp speed. So it\u0027s basically, \u0022If you convert the current game clock\u0027s years, days, hours, minutes, seconds, into just a big raw number of seconds, what is the result?\u0022. When you call TIME:SECONDS, you are getting that result for \u0022right now\u0022. In this example where you say \u003Cem\u003ETIME:SECONDS\u002B60\u003C/em\u003E you are setting a maneuver node that you\u0027d like to occur on your orbit path exactly 60 seconds from now.\u003C/p\u003E\u003Cp\u003EThe other 3 arguments are the three direction components, corresponding to using the mouse to twiddle the colored knobs of the maneuver node:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EradialOut\u003C/strong\u003E,\u003Cstrong\u003ENormal\u003C/strong\u003E,\u003Cstrong\u003Eprograde\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThey can be set to negative numbers to get the opposite directions (i.e. to burn retrograde, use a negative number for prograde).\u003C/p\u003E\u003Cp\u003EWhen you say \u0022I already created\u0022 do you mean \u0022the script I wrote already created it\u0022 or do you mean \u0022I created it manually by using mouseclicks on the map view\u0027s orbit line\u0022?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, makes more sense. If I already created one on the map is what I mean for this situation.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-18T05:11:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nori\u0022 data-cite=\u0022Nori\u0022\u003E\u003Cdiv\u003EThanks, makes more sense. If I already created one on the map is what I mean for this situation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe special variable NEXTNODE should return the next node that\u0027s on the flight plan, regardless of whether it was created manually or by kOS code.\u003C/p\u003E\u003Cp\u003EI just realized it\u0027s not in the documentation page. It needs to be added.\u003C/p\u003E\n"},{"CreatedByName":"impyre","CreatedById":116031,"CreatedDateTime":"2014-08-18T06:38:26Z","Content":"\n\u003Cp\u003EHas anyone been able to confirm that print throttle is broken?\u003C/p\u003E\u003Cp\u003EAlso, is there any way to have the boot file open the terminal window automatically?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-18T07:51:34Z\u0022 title=\u002208/18/2014 07:51  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 18, 2014\u003C/time\u003E by impyre\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2014-08-18T17:16:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThe special variable NEXTNODE should return the next node that\u0027s on the flight plan, regardless of whether it was created manually or by kOS code.\u003Cp\u003EI just realized it\u0027s not in the documentation page. It needs to be added.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would explain why I couldn\u0027t find it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo would it be this then?\u003C/p\u003E\u003Cp\u003Elock steering to NEXTNODE:deltav.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-08-18T17:46:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EOne of the frustrations we\u0027ve been having with kOS is that old stuff shows up HIGHER in most google searches than the new stuff. Most of the time if you google about kOS you\u0027re seeing things about Kevin\u0027s older versions.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is just how it is, but you cannot get too stuck on older versions. Things are quite different anyway, so better make the best new version you can, rather than also impairing that one.\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-08-19T17:12:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022impyre\u0022 data-cite=\u0022impyre\u0022\u003E\u003Cdiv\u003EHas anyone been able to confirm that print throttle is broken?\u003Cp\u003EAlso, is there any way to have the boot file open the terminal window automatically?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnless you\u0027ve already locked it before, you can\u0027t read from THROTTLE. For the terminal window, I just use the Action Group 10 to toggle it, then add \u0022toggle ag10.\u0022 to the boot file.\u003C/p\u003E\u003Cp\u003EI\u0027ve almost made a complete autopilot with kOS, and each time I write a new function, I realize there\u0027s a lot of undocumented things (like the WARPMODE, or boot files, wich I found in changelogs). Is the documentation link in first page up to date?\u003C/p\u003E\u003Cp\u003EEdit: also, my prog is almost ready for a kOS challenge, is there an active one somewhere?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-19T17:17:29Z\u0022 title=\u002208/19/2014 05:17  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 19, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-21T12:00:34Z","Content":"\n\u003Cp\u003EI figured it\u0027s been long enough without much word on where things are going that it was worthwhile to post a teaser of a few things that are in development for kOS. Everything on this list is a thing that has at least *some* first-attempt implementation code already there in the source code on github that works for the simple test cases I\u0027ve tried so this isn\u0027t just pie-in-the-sky future stuff.\u003C/p\u003E\u003Cp\u003ECaveat: These are NOT to be taken as promises. We may find in brutal testing that a feature is so problematic it might need to be removed. But I don\u0027t *expect* that to happen. I\u0027m just saying we haven\u0027t really beat on these that hard yet:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003ESeparate simultaneous terminals\u003C/strong\u003E : Each Comptronix SCS unit will get its own separate terminal window. You will be able rightclick one computer part, pull up its terminal, then later on rightclick a different computer part and pull up its terminal and have the two onscreen side-by-side.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003ERuntime errors finally tell you where in your script they happened\u003C/strong\u003E : In the past, after compiling there was no information remaining about which parts of the program came from which parts of the source script. Now that information will be retained, and the error reporting will show you where it was in your code that they happened, with a full stack trace if you had one program running another program running another program, running a WHEN trigger, etc.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003ELong-running Triggers will be caught and generate an explanatory runtime error\u003C/strong\u003E : New users often have difficulty with the ON and WHEN triggers, as it\u0027s not always obvious how they should be fast and cannot last longer than one Update. To protect KSP from the infinite hanging that will happen if you stick a long-lasting loop in a trigger, it now counts the instructions that execute during triggers against the CONFIG:IPU setting, and if the triggers last longer than CONFIG:IPU they will be caught and stopped. (CONFIG:IPU should be set higher than it is now to get roughly the same performance, as a result, since right now it only measures the non-trigger code and isn\u0027t counting everything.)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003ELIST FILES IN VARIABLE\u003C/strong\u003E: Previously, the LIST FILES only worked for printing to the screen, not for putting in a variable.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd the following isn\u0027t quite in the same state as all the above are, as I only just started on it today, so it might not be ready for a bit longer, and we\u0027re still messing about with the exact way to make the syntax look:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERead the values of fields you can see in the rightclick menus on parts\u003C/strong\u003E: For example, DeadlyReentry adds a field to the rightclick menu called \u0022Temperature\u0022 to every part. So you could do something like:\u003C/p\u003E\u003Cp\u003ELIST PARTS IN PARLIST.\u003C/p\u003E\u003Cp\u003EPRINT PARTLIST[12]:ModuleAreoReentry:Temperature.\u003C/p\u003E\u003Cp\u003EI hope @erendrake doesn\u0027t mind that I posted this. It\u0027s just that it\u0027s been so long without publicly visible activity that I felt it needed to be shown what things are happening to raise a little bit of buzz.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-08-21T20:49:20Z","Content":"\n\u003Cp\u003Ecould accessing the parts data lead up to eventually maybe possibly hopefully being able to control the status of the parts? Like telling an antenna to deploy without using an action group?\u003C/p\u003E\u003Cp\u003EOverall though, the new features look very nice! Hope a few bugs are squished along the way too... like that targeting issue\u003C/p\u003E\u003Cp\u003EThanks for the update\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-08-21T21:16:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Ecould accessing the parts data lead up to eventually maybe possibly hopefully being able to control the status of the parts?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAbsolutely! We want to let you do anything you can do with the right click menu, eventually. some stuff gets a little complicated and so this was the part we were most confident in.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-21T23:06:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003Ecould accessing the parts data lead up to eventually maybe possibly hopefully being able to control the status of the parts? Like telling an antenna to deploy without using an action group?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s the plan. Erendrake and I have been having lots of google hangout talks about how to pull this off. It\u0027s not easy because everything we think of for how to make it nicer ends up turning into a more low-level discussion about making new features in the language itself to support making it simpler. Using existing language features, trying to say \u0022get me this particular part\u0022 is a clunky nested for-loop that really can\u0027t be simplified without extra language support.\u003C/p\u003E\u003Cp\u003EBut yeah, the basic design goal was \u0022you see all that stuff that\u0027s in the rightclick menu for a part? Wouldn\u0027t it be a good idea to allow access to all of that, generically for any part, without having to write special case code for each and every KSP mod out there?\u0022 When other mod writers create the fields and click buttons of those menus, they sort of ARE making a public API for their module - an API for the GUI, so to speak. It\u0027s also the goal to use the names that YOU can see on that menu for those fields, rather than the actual names for those fields in the csharp code behind the scenes that you don\u0027t see. (i.e. if the mod writer made a field called \u0022temp\u0022 behind the scenes, but the gui label you see for it in the menu is \u0022Temperature\u0022, then we want kOS to use the term \u0022Temperature\u0022 to access it, because that\u0027s the term that the users of kOS know about. You don\u0027t see the \u0022secret\u0022 name under the hood.)\u003C/p\u003E\u003Cp\u003EFirst pass: reading the fields, read-only.\u003C/p\u003E\u003Cp\u003ESecond pass: allowing you to press the cyan-colored buttons (call the function associated with that event).\u003C/p\u003E\u003Cp\u003EThird pass: maybe the more complex tweakables widgets too? Not sure about that one yet.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOverall though, the new features look very nice! Hope a few bugs are squished along the way too... like that targeting issue\u003C/p\u003E\u003Cp\u003EThanks for the update\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere are also several bug fixes. I just didn\u0027t mention them because I wanted the post to be exclusively about new things.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-08-22T00:50:19Z","Content":"\n\u003Cp\u003Esounds like the progression I had in mind. Excellent! I do hope it all works out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-08-22T07:55:19Z","Content":"\n\u003Cp\u003EI got the ability to SET the tweakable fields working tonight.\u003C/p\u003E\u003Cp\u003EHere\u0027s another screenshot of the progress so far. This is using my LaserDist mod, but it\u0027s not specific to LaserDist. It works on just about anything, without needing buy-in from that mod\u0027s author, and without needing to know any of that author\u0027s code.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/0LwTwAX.png\u0022 alt=\u00220LwTwAX.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe bits that erendrake and I were trying to work on were how to make it easier to get to the bit where you know that plist[37] happens to be the part you were looking for. That\u0027s not shown in any of my example screenshots because I expect that part to probably change.\u003C/p\u003E\u003Cp\u003EI\u0027d feel happier if I just entirely bypassed the step where you have to name the PartModule that is on the part to get to its fields, and instead you could just treat the fields as direct suffixes of the part. The only reason I didn\u0027t go with that plan is because there\u0027s no guarantee that different mod authors didn\u0027t use the same gui name for their fields. The KSP design allows for this and doesn\u0027t stop it. You can have two Mods that both add a field to the same rightclick menu for the same part that have the same gui label. That is the only reason you have to name the partmodule in the example is because of the potential for that clash. Were it not for that, I\u0027d have preferred to bypass that step and let people treat the field as a direct suffix of the part itself.\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-08-22T14:42:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI got the ability to SET the tweakable fields working tonight.\u003Cp\u003EHere\u0027s another screenshot of the progress so far. This is using my LaserDist mod, but it\u0027s not specific to LaserDist. It works on just about anything, without needing buy-in from that mod\u0027s author, and without needing to know any of that author\u0027s code.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/0LwTwAX.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/0LwTwAX.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe bits that erendrake and I were trying to work on were how to make it easier to get to the bit where you know that plist[37] happens to be the part you were looking for. That\u0027s not shown in any of my example screenshots because I expect that part to probably change.\u003C/p\u003E\u003Cp\u003EI\u0027d feel happier if I just entirely bypassed the step where you have to name the PartModule that is on the part to get to its fields, and instead you could just treat the fields as direct suffixes of the part. The only reason I didn\u0027t go with that plan is because there\u0027s no guarantee that different mod authors didn\u0027t use the same gui name for their fields. The KSP design allows for this and doesn\u0027t stop it. You can have two Mods that both add a field to the same rightclick menu for the same part that have the same gui label. That is the only reason you have to name the partmodule in the example is because of the potential for that clash. Were it not for that, I\u0027d have preferred to bypass that step and let people treat the field as a direct suffix of the part itself.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre there any plans for how to handle the case where a part has more than one instance of the same PartModule? E.g. I\u0027ve seen solar panels with multiple ModuleDeployableSolarPanel to handle all of their animations.\u003C/p\u003E\n"}]}