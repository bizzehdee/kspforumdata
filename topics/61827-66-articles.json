{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":66,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-11T01:02:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003ERight, as I started to doubt myself at this point, I thought it was time to quantify things. After looking around I found that FRAPS is able to output frames per second versus time.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour output seems to indicate that the only problem case is when the SCS parts exist and are actually running kOS code, which is what I\u0027d have expected and wouldn\u0027t consider a bug but just normal behavior. Adding them but leaving them powered off seems to have no effect, (which differs from what you reported earlier that had left me baffled.)\u003C/p\u003E\u003Cp\u003EThe only real condition remaining that may be a real problem is if leaving them turned on but not running code also gives you a similar dip as leaving them powered on AND running code. That data which isn\u0027t shown yet, is the clincher.\u003C/p\u003E\n"},{"CreatedByName":"WandusPrime","CreatedById":125388,"CreatedDateTime":"2014-10-11T01:18:36Z","Content":"\n\u003Cp\u003Ehi, first lemme say amazing mod!\u003C/p\u003E\u003Cp\u003EI\u0027m not sure if i installed it right, or maybe i missed something while installing it but every time i open a file a second screen comes up, and i have to do my code there. is this intended? doesn\u0027t seem like it would be because i didn\u0027t see this screen in any of the videos.\u003C/p\u003E\u003Cp\u003E-ok that pic didnt work. let me set it up better.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://sd.uploads.im/ROizg.jpg\u0022 alt=\u0022ROizg.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E-ok pic working now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-11T02:25:43Z\u0022 title=\u002210/11/2014 02:25  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 11, 2014\u003C/time\u003E by WandusPrime\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-11T02:07:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EYour output seems to indicate that the only problem case is when the SCS parts exist and are actually running kOS code, which is what I\u0027d have expected and wouldn\u0027t consider a bug but just normal behavior. Adding them but leaving them powered off seems to have no effect, (which differs from what you reported earlier that had left me baffled.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI ran the second test (no kOS unit in world, kOS installed) again and this time it represents my experience a little better, though the graph does not show the actual nature of the lag that well as I think the dips are smoothed out by how FRAPS records things. The game is running smoothly, however, every few seconds the screen just freezes for a fraction of a second. It is rather reminiscent of the behaviour of the earlier bug where KSP would lag when running a looped script. After that everything looks and feels fine again and the frames per second quickly climb back to 75 fps mark. This start-stop nature makes it a little annoying.\u003C/p\u003E\u003Cp\u003EYou know what, I am a bit tired, so tomorrow I will make sure I have eliminated all other factors and will test again, just to make sure I am not overlooking anything obvious. I wouldn\u0027t want to bother you with something that is not a real problem.\u003C/p\u003E\u003Cp\u003EEdit: tested a third time with results matching the first one. I have no idea what is going on.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://tweakers.net/ext/f/l1liQtIFkL4nWSfe0JyGUjH1/full.png\u0022 alt=\u0022full.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EY = frames per second, X = time in seconds.\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-11T02:18:04Z\u0022 title=\u002210/11/2014 02:18  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 11, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-11T02:30:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EI ran the second test (no kOS unit in world, kOS installed) again and this time it represents my experience a little better, though the graph does not show the actual nature of the lag that well as I think the dips are smoothed out by how FRAPS records things. The game is running smoothly, however, every few seconds the screen just freezes for a fraction of a second. It is rather reminiscent of the behaviour of the earlier bug where KSP would lag when running a looped script. After that everything looks and feels fine again and the frames per second quickly climb back to 75 fps mark. This start-stop nature makes it a little annoying.\u003Cp\u003EYou know what, I am a bit tired, so tomorrow I will make sure I have eliminated all other factors and will test again, just to make sure I am not overlooking anything obvious. I wouldn\u0027t want to bother you with something that is not a real problem.\u003C/p\u003E\u003Cp\u003EEdit: tested a third time with results matching the first one. I have no idea what is going on.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://tweakers.net/ext/f/l1liQtIFkL4nWSfe0JyGUjH1/full.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://tweakers.net/ext/f/l1liQtIFkL4nWSfe0JyGUjH1/full.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EY = frames per second, X = time in seconds.\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is going to be very hard for me to work with personally if it does turn out to be a real provable problem because I never get anywhere near 60 FPS in the first place when running stock, not even close, so a problem that\u0027s only noticable on a faster computer is going to be one I can\u0027t reproduce in front of my own eyes to debug it. I don\u0027t know if erendrake can.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-11T02:32:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WandusPrime\u0022 data-cite=\u0022WandusPrime\u0022\u003E\u003Cdiv\u003Ehi, first lemme say amazing mod!\u003Cp\u003EI\u0027m not sure if i installed it right, or maybe i missed something while installing it but every time i open a file a second screen comes up, and i have to do my code there. is this intended? \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re talking about the editor window, then that\u0027s normal. It was easier to use the textedit widget built in to Unity than it was to keep the old in-terminal one working.\u003C/p\u003E\n"},{"CreatedByName":"WandusPrime","CreatedById":125388,"CreatedDateTime":"2014-10-11T02:43:57Z","Content":"\n\u003Cp\u003Eok thx, just wanted to make sure i had everything hooked up right. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-10-11T02:58:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIf you\u0027re talking about the editor window, then that\u0027s normal. It was easier to use the textedit widget built in to Unity than it was to keep the old in-terminal one working.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso, you can edit the files in (KSP home) /plugins/plugindata/archive or somewhere close to that. Currently, they are. txt files, and any edits you make are immediately available from the archive. \u003C/p\u003E\u003Cp\u003EOn my phone, so hopefully I\u0027m understandable, or some kind soul will explain better. Frankly, I dislike the editor, and use vim to directly edit the scripts.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-11T04:04:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EFrankly, I dislike the editor, and use vim to directly edit the scripts.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe editor is nice when you need to quickly test or adjust something, but for comprehensive coding an external editor is much preferred.\u003C/p\u003E\n"},{"CreatedByName":"FrancoisH","CreatedById":124888,"CreatedDateTime":"2014-10-12T01:19:35Z","Content":"\n\u003Cp\u003EThis plug in is fabulous. I spent a night trying to make a nice launch sequence to launch my 3 staged rocket.\u003C/p\u003E\u003Cp\u003EI ran into some problems because I attempted to do an auto-staging but, was quite hard to get it working.\u003C/p\u003E\u003Cp\u003EI had to set variable for liquid fuel being used or not at the current stage because the initial solid fuel boosters were staged by the liquid fuel routine and same for the liquid one. Took me some time to understand what was happening!\u003C/p\u003E\u003Cp\u003EI had to rotate my ship because the tutorial way made my rocket not rolling to the correct pitch but doing a turn and so being of trajectory... I got another issue trying to mess out with the heading thing and my rocket this time does a 270\u00C3\u201A\u00C2\u00B0 turn... so I finally ended up rotating it and using vectors rather than the shortcuts.\u003C/p\u003E\u003Cp\u003EI would like to know if there\u0027s a better way to handle this, maybe i didn\u0027t spent enough time reading the documentation.\u003C/p\u003E\u003Cp\u003EAs well, I would like to know if there\u0027s a way to set the throttle to 0 or check if it\u0027s at 0 before launch, if I don\u0027t, when the program terminate, it revert to the previous setting, so you could screw your orbit.\u003C/p\u003E\u003Cp\u003EBelow is the code, please tell me what you think of it. (was my first attempt).\u003C/p\u003E\u003Cp\u003EP.S. The Ignition/Launching part is to release the clamps 1sec after ignition.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ECLEARSCREEN.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Launching sequence. Set your throttle to 0...\u0022.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWAIT 5.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET cd TO 5.\u003Cbr\u003EPRINT \u0022Launching in...\u0022.\u003Cbr\u003EUNTIL cd = 3 {\u003Cbr\u003E   PRINT \u0022...\u0022 \u002B cd.\u003Cbr\u003E   SET cd TO cd - 1.\u003Cbr\u003E   WAIT 1.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022...3 - Throttle and steering locked.\u0022.\u003Cbr\u003ELOCK THROTTLE TO 1.0.\u003Cbr\u003ELOCK STEERING TO R(0,305,180).\u003Cbr\u003EWAIT 1.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022...2\u0022.\u003Cbr\u003EWAIT 1.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022...1 - Ignition...\u0022.\u003Cbr\u003ESTAGE.\u003Cbr\u003EWAIT 1.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022...0 - Launching...\u0022.\u003Cbr\u003ESTAGE.\u003Cbr\u003EWAIT 5.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EPRINT \u0022Rotating...\u0022.\u003Cbr\u003ELOCK STEERING TO HEADING(90,90).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET Liquid TO 0.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWHEN STAGE:SOLIDFUEL \u0026lt; 0.10 THEN {\u003Cbr\u003E   IF Liquid = 0 {\u003Cbr\u003E      PRINT \u0022Staging now...\u0022.\u003Cbr\u003E      STAGE.\u003Cbr\u003E      SET Liquid TO 1.\u003Cbr\u003E   }.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWHEN SHIP:ALTITUDE \u0026gt; 10000 THEN {\u003Cbr\u003E   PRINT \u0022Initiating turn. Aiming to 45\u00C3\u201A\u00C2\u00B0 pitch...\u0022.\u003Cbr\u003E   LOCK STEERING TO HEADING(90,45).\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWHEN STAGE:LIQUIDFUEL \u0026lt; 730.00 THEN {\u003Cbr\u003E   IF Liquid = 1 {\u003Cbr\u003E       PRINT \u0022Staging now...\u0022.\u003Cbr\u003E       STAGE.\u003Cbr\u003E       SET Liquid TO 2.\u003Cbr\u003E   }.\u003Cbr\u003E   IF Liquid \u0026lt;= 1 {\u003Cbr\u003E      PRESERVE.\u003Cbr\u003E   }\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWHEN SHIP:ALTITUDE \u0026gt; 40000 THEN {\u003Cbr\u003E   PRINT \u0022Initiating turn. Aiming to 90\u00C3\u201A\u00C2\u00B0 pitch...\u0022.\u003Cbr\u003E   LOCK STEERING TO HEADING(90,0).\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL APOAPSIS \u0026gt; 100200.\u003Cbr\u003EPRINT \u0022Expected apoapsis altitude \u0026gt; 90km...\u0022.\u003Cbr\u003ELOCK THROTTLE TO 0.0.\u003Cbr\u003ELOCK STEERING TO PROGRADE.\u003Cbr\u003EWAIT 2.\u003Cbr\u003EPRINT \u0022Waiting for circularisation...\u0022.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL ETA:APOAPSIS \u0026lt; 15.\u003Cbr\u003EPRINT \u0022Beginning circularisation...\u0022.\u003Cbr\u003ELOCK THROTTLE TO 1.0.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EWAIT UNTIL PERIAPSIS \u0026gt; 99500.\u003Cbr\u003EPRINT \u0022Circularisation complete...\u0022.\u003Cbr\u003ELOCK THROTTLE TO 0.0.\u003Cbr\u003EPRINT \u0022CAUTION: Be sure your throttle in off. Terminating in 10 seconds\u0022.\u003Cbr\u003EWAIT 10.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T01:22:56Z\u0022 title=\u002210/12/2014 01:22  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by FrancoisH\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-12T04:10:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FrancoisH\u0022 data-cite=\u0022FrancoisH\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAs well, I would like to know if there\u0027s a way to set the throttle to 0 or check if it\u0027s at 0 before launch, if I don\u0027t, when the program terminate, it revert to the previous setting, so you could screw your orbit.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah the way kOS works was perfect before SQUAD made their annoying decision to default the throttle to 50% instead of the sane and sensible 0% it used to be. The logic is \u0022when the software quits, leave the throttle back the way it was when the program was first begun.\u0022 That handled both the case where you want a script that controls the rocket from the start or when you want a script that just does one small thing then returns to full manual control afterward. The change squad made screwed us and no matter what solution we pick it will be wrong for some cases that it previously worked for.\u003C/p\u003E\u003Cp\u003EThe solution I\u0027d prefer is to be able to override the controls with a setting to put them back to when the program quits, and have this be a setting you manually create at the start of the script, something like this:\u003C/p\u003E\u003Cp\u003ESet EXIT_CONTROL:THROTTLE to 0.0.\u003C/p\u003E\u003Cp\u003ESet EXIT_CONTROL:BRAKES to True.\u003C/p\u003E\u003Cp\u003ESET EXIT_CONTROL:... etc....\u003C/p\u003E\u003Cp\u003E.. DO rest of program here...\u003C/p\u003E\u003Cp\u003EThen whenever the program exits, whether from intentional exit or from premature error, it uses those settings as it quits.\u003C/p\u003E\u003Cp\u003EThat would be my preferred solution as it allows the greatest flexiblity. But at the moment it\u0027s not there yet. One consequence of this is that if you run a program automatically as soon as it is on the launchpad, using the boot feature, you never had the chance to set the throttle to zero before the program started ,so the program is incapable of leaving it at zero when it stops. The boot system is sort of unusable at this point as a result of the fact that the only way to make the program able to put the throttle at zero when it\u0027s over is to manually zero the throttle before you start the launch program.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-12T04:15:09Z","Content":"\n\u003Cp\u003EI found out what\u0027s been causing the problem that causes fuel to not burn all the way to zero some of the time. The problem is that KSP itself *tries* to burn oxidizer and liquidfuel in the right amounts causing both to reach zero together. But it\u0027s doing this using floating point numbers registering very tiny incremental changes each lasting only a fraction of a second. That sort of operation causes the tiny floating point precision errors to compound on top of themselves thousands of times over. What this means is that some of the time the ratio of liquidfuel to oxidizer consumption isn\u0027t exactly 9 to 11 like it\u0027s meant to be, and therefore one runs out a little bit before the other does.\u003C/p\u003E\u003Cp\u003EWhen you see the liquidfuel in the resource bar still sitting at 0.01 and it won\u0027t burn down to zero, it\u0027s because the oxidizer is at 0.0 but you\u0027re not seeing the oxidizer bar to notice this.\u003C/p\u003E\u003Cp\u003ESo all the places where people have been doing this check:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif stage:liquidfuel \u0026lt; 0.01\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto try to catch not-quite-zero fuel, you can probably get the effect you want by checking BOTH liquid and oxidizer like so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif stage:liquidfuel = 0 OR stage:oxidizer = 0\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETo catch the case where one ran out before the other did.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T04:21:55Z","Content":"\n\u003Cp\u003EMy preference would be to have a \u003Cem\u003Eset throttle\u003C/em\u003E and \u003Cem\u003Elock throttle\u003C/em\u003E command. The function of the latter is known, the former will leave the user able to interfere with it - so it is possible to control the craft together with kOS - and does not return after ending a script. It is just as if a second user is messing with the throttle. \u003C/p\u003E\u003Cp\u003EA third command of \u003Cem\u003Ereading\u003C/em\u003E the actual current throttle setting might be useful. I think the current lock command is useful, but it can be a bit of a pain that the user is totally locked out while kOS is interacting with the vessel. Having the two options does not only makes sense looking back at how kOS and KSP used to do things, it will also allow users to implement safety controls where he can use and/or interfere with operations until a safety limit is reached. By that point the system can take over and lock the user out until everything is returned to a safe condition again.\u003C/p\u003E\n"},{"CreatedByName":"dr.phees","CreatedById":32383,"CreatedDateTime":"2014-10-12T08:54:40Z","Content":"\n\u003Cp\u003EI have a VTOL design, where I use twekables to balance the vertical thrust (reduce thrust for one of the engines). But when using kOS\u0027s \u003Cem\u003Emaxthrust\u003C/em\u003E query, I only get the maximum thrust value for the untweaked engines. Using TWR to calculate throttle settings is impossible that way.\u003C/p\u003E\u003Cp\u003EI can work around that with the :SENSORS:ACC query, but still, would be nice. Also, tweaking the engine from within kOS would allow to balance unstable craft (losing an engine and similar). That would be brilliant. Oh, and getting the thrust and maxthrust as a vector would be brilliant. That would actually allow hovering together with perpendicular engines to work.\u003C/p\u003E\u003Cp\u003EMy wish list would be:\u003C/p\u003E\u003Cp\u003E- maxthrust AND/OR tweaked maxthrust\u003C/p\u003E\u003Cp\u003E- actual thrust\u003C/p\u003E\u003Cp\u003E- tweaking or engine thrust via kOS\u003C/p\u003E\u003Cp\u003E- maxthrust/tweaked maxthrust/actual thrust as vectors\u003C/p\u003E\u003Cp\u003ENice checklist, eh? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBy the way, 0.14.2 is working fine, so far. All my old scripts seem to work and I am very much looking forward to the coming changes!\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-12T13:39:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EMy preference would be to have a \u003Cem\u003Eset throttle\u003C/em\u003E and \u003Cem\u003Elock throttle\u003C/em\u003E command. The function of the latter is known, the former will leave the user able to interfere with it - so it is possible to control the craft together with kOS - and does not return after ending a script. It is just as if a second user is messing with the throttle. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhatever solution happens *MUST* deal with the fact that scripts can crash unexpectedly in the middle from a runtime error. Thus why I\u0027m talking about the idea of being able to set the exit throttle - which has no current effect but tells the system where to put the throttle upon program crash or exit. Reading throttle is useful but doesn\u0027t do anything if you are helpless to tell the script where to put the throttle when it\u0027s done.\u003C/p\u003E\u003Cp\u003EAnnoyingly, it seems the way KSP deals with mods fiddling with controls is that you put a control override on TOP of the user\u0027s controls, rather than adjusting the user\u0027s own controls themselves, which makes the things you\u0027re talking about hard to do. I agree that it would be better that way, but I\u0027m not sure yet how it could be implemented.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T14:00:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EWhatever solution happens *MUST* deal with the fact that scripts can crash unexpectedly in the middle from a runtime error.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIdeally kOS would just leave the throttle where it was when the script crashed, though I am unaware of the technical implications and limitations of that. I see it pretty much as the rocket engine valve(s) being left at the position they were in. It\u0027s the same as would happen if you knock a human controller over the head with a structural plate.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAnnoyingly, it seems the way KSP deals with mods fiddling with controls is that you put a control override on TOP of the user\u0027s controls, rather than adjusting the user\u0027s own controls themselves, which makes the things you\u0027re talking about hard to do. I agree that it would be better that way, but I\u0027m not sure yet how it could be implemented.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would love to build a kind of fly by wire system that keeps your antics in check and slaps your wrist when you get too giddy. \u003Cem\u003EI\u0027m sorry Jeb, I\u0027m afraid I can\u0027t do that.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EAdditionally, it would be really nice if you could achieve complete separation from the system, i.e. disconnecting the user inputs and the kOS outputs totally to get a true and proper fly-by-wire system. That would enable you to design alternate input methods, such as a Canadarm type system, walking robots and other complex movements. I do realize that this would complicate matters tremendously, so just getting KSP to let us directly fiddle with the inputs without locking the user out would be pretty useful and nice already.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T14:04:55Z\u0022 title=\u002210/12/2014 02:04  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2014-10-12T18:23:34Z","Content":"\n\u003Cp\u003EHow do I load something from a folder? in Gamedata/kOS/Plugins/PluginData/archive is kerbal2.txt. I would like to load this script.(I created /archive, because I saw some stuff about it in other threads in other places). Typing \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun Kerbal2\u003C/pre\u003E\u003Cp\u003E does not work.\u003C/p\u003E\u003Cp\u003EEDIT: also, is there any way to streamline this: \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ewait 1.\u003Cbr\u003Eprint \u0022Five\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Four\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Three\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022okay, two now.\u0022.\u003Cbr\u003Ewait 1.5.\u003Cbr\u003Eprint \u0022ONE!\u0022.\u003Cbr\u003Ewait 0.2.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T18:29:24Z\u0022 title=\u002210/12/2014 06:29  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by GregroxMun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T19:14:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GregroxMun\u0022 data-cite=\u0022GregroxMun\u0022\u003E\u003Cdiv\u003EHow do I load something from a folder? in Gamedata/kOS/Plugins/PluginData/archive is kerbal2.txt. I would like to load this script.(I created /archive, because I saw some stuff about it in other threads in other places). Typing \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Erun Kerbal2\u003C/pre\u003E\u003Cp\u003E does not work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou have to either switch to Archive first, or copy from Archive.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ecopy Kerbal2 from 0.\u003Cbr\u003Erun Kerbal2.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eswitch to 0.\u003Cbr\u003Erun Kerbal2.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EEDIT: also, is there any way to streamline this: \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot in that way, but something like this might do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003E//Just to make sure.\u003Cbr\u003E\u003Cbr\u003Eset count to 5.\u003Cbr\u003Eprint \u0022Launch in\u0022 at (0,0).\u003Cbr\u003Euntil count \u0026lt; 1 {\u003Cbr\u003E  print count at (10, 0)\u003Cbr\u003E  set count to count - 1.\u003Cbr\u003E  wait 1.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T19:16:59Z\u0022 title=\u002210/12/2014 07:16  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2014-10-12T19:26:03Z","Content":"\n\u003Cp\u003EOkay, so that didn\u0027t work. Is my Archive set up correctly?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFile \u0027kerbal2\u0027 not found\u003Cbr\u003Eat interpreter history, line 2\u003Cbr\u003Erun Kerbal2.\u003Cbr\u003E    ^ \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T19:29:22Z\u0022 title=\u002210/12/2014 07:29  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by GregroxMun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-10-12T19:36:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GregroxMun\u0022 data-cite=\u0022GregroxMun\u0022\u003E\u003Cdiv\u003EHow do I load something from a folder? in Gamedata/kOS/Plugins/PluginData/archive is kerbal2.txt. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWrong location.\u003C/p\u003E\u003Cp\u003EkOS currently violates the \u0022put everything in gamedata\u0022 rule for reasons I don\u0027t really agree with, and instead puts them here:\u003C/p\u003E\u003Cp\u003EPlugins/PluginData/Archive/\u003C/p\u003E\u003Cp\u003ENOT HERE:\u003C/p\u003E\u003Cp\u003EGameData/kOS/Plugins/PluginData/Archive.\u003C/p\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2014-10-12T19:41:32Z","Content":"\n\u003Cp\u003EAaaarg! Now I got it working, but it ends after the \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Efirst staging event! (launch event)\u003C/span\u003E throttle back. Here\u0027s the code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eclearscreen.\u003Cbr\u003Etoggle SAS.\u003Cbr\u003Etoggle RCS.\u003Cbr\u003Elock throttle to 1.0.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Five\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Four\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Three\u0022.\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022okay, two now.\u0022.\u003Cbr\u003Ewait 1.5.\u003Cbr\u003Eprint \u0022ONE!\u0022.\u003Cbr\u003Ewait [U]1.0[/U]\u003Cbr\u003Eprint \u0022launch now, dammit!\u0022.\u003Cbr\u003Estage. \u003Cbr\u003Ewhen ship:surfacespeed \u0026gt;90 then lock throttle to [U]0.6.[/U] //it ends here for some reason.\u003Cbr\u003E[I]when ship:surfacespeed \u0026gt;200 then lock throttle to 0.4.[/I]\u003Cbr\u003Ewhen stage:[U]liquid[/U]fuel \u0026lt;0.001 then {print \u0022Out of fuel ya git, now stage me for kraken\u0027s sake!\u0022. stage.}.\u003Cbr\u003Ewhen ship:verticalvelocity \u0026lt;0 then {print \u0022We\u0027re falling! deploy the kraken-damn parachute you piece of Kerbal Krap!\u0022. wait 2. stage.}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEDIT: I fixed \u0022fuel\u0022 by changing it to \u0022liquidfuel\u0022, yet it still ends at the same place.\u003C/p\u003E\u003Cp\u003EEDIT2: Also fixed 6.0. to 0.6.\u003C/p\u003E\u003Cp\u003EEDIT3: Added another throttleback, shown in the code with italics. fixed code is underlined. Still stops after Lock Throttle to 0.6.\u003C/p\u003E\u003Cp\u003EEDIT4: Another little bit is I changed 0.2 to 1.0 in the last wait before launch.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T19:58:43Z\u0022 title=\u002210/12/2014 07:58  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by GregroxMun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T20:17:59Z","Content":"\n\u003Cp\u003EI am sad to report that I am still getting the tiny lags. A fresh installation and no problem, but adding a kOS unit causes the behaviour. I am still not sure about what exactly is going on when no kOS unit is loaded, but it is very clear when a unit is. Everything just freezes for one to three tenths of a second or so, having a much more severe impact than the dips in the charts I posted yesterday suggest.\u003C/p\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2014-10-12T20:23:43Z","Content":"\n\u003Cp\u003EkOS has caused no lags for me. Keep in mind that 0.25 does NOT even SLIGHTLY support x64 KSP.\u003C/p\u003E\u003Cp\u003EBut I\u0027m still getting problems with coding, because I\u0027m a n00b at coding.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T20:33:36Z","Content":"\n\u003Cp\u003EIs there a way of doing operations on strings? Looking for certain phrases or combinations of letters, cutting off the beginning or the end, that kind of stuff? For as far as I can tell this is only possible with numbers, not with strings. Is that right?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GregroxMun\u0022 data-cite=\u0022GregroxMun\u0022\u003E\u003Cdiv\u003EkOS has caused no lags for me. Keep in mind that 0.25 does NOT even SLIGHTLY support x64 KSP.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s not relevant, as I do not run x64. I must say the lag is more pronounced on a clean installation, as a more cluttered one tends to be less smooth anyway.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EBut I\u0027m still getting problems with coding, because I\u0027m a n00b at coding.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s the only way to learn.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-12T20:40:11Z\u0022 title=\u002210/12/2014 08:40  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 12, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2014-10-12T20:43:32Z","Content":"\n\u003Cp\u003EWell some indication as to what\u0027s WRONG with the script would be nice.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-12T20:46:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GregroxMun\u0022 data-cite=\u0022GregroxMun\u0022\u003E\u003Cdiv\u003EWell some indication as to what\u0027s WRONG with the script would be nice.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EkOS is returning more than ever about what is wrong. And I know it is not the answer you want to hear, but debugging is going to learn you a lot about computers and their abstract and absolute operation. Peel it apart and see what makes it tick - or not. Comment in printed messages, have variables print too, fiddle with the variables and something will probably come up.\u003C/p\u003E\n"}]}