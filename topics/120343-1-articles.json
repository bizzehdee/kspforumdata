{"TopicId":120343,"ForumId":16,"TopicTitle":"How does one calculate the required deltaV for the highest (atmospheric) stage","CreatedByName":"xendelaar","CreatedById":139535,"CreatedDateTime":"2015-09-07T07:54:24Z","PageNum":1,"Articles":[{"CreatedByName":"xendelaar","CreatedById":139535,"CreatedDateTime":"2015-09-07T07:54:24Z","Content":"\n\u003Cp\u003EHi everybody,\u003C/p\u003E\u003Cp\u003EI like to plan my expeditions using excel. I made this sheet that calculates the lightest engine setup for a given:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EPayload \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETWR \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Edesired delta V budget \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ecurrent altitude from kerbin (because the ISP changes as a function of the atmospheric height) \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECalculating a setup in vacuum is easy with my sheet. However. Getting into LKO is a little bit more difficult. Below approximately 10-15km, the ISP for vacuum engines drop rapidly. In that case atmospheric engines are better suited. \u003C/p\u003E\u003Cp\u003EI tried to calculate how much delta V I need to get from 70km to 15km and from 15km to 0 km, but I\u0027m not able to figure out all the math. The ascend profile and drag losses make it too difficult for me. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E So I\u0027m still stuck at guessing the required vacuum delta V (say 1800 m/s) and then slapping an atmospheric engine with a budget of 1700 or something on the bottom of my setup (my total delta V is approximately 3500 m/s to get in to orbit). Although this approach always works, it doesn\u0027t feel like a very efficient way of designing a rocket. \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESo here\u0027s my question:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI was wondering how you boys and girls calculate the \u0022\u003Cem\u003Ebest\u003C/em\u003E\u0022 rocket setup to get a given payload to orbit. With \u0022\u003Cem\u003Ebest\u003C/em\u003E\u0022 I mean lightest setup. Do you use a rule of thumb to get the right setup, like 40% atmospheric engine(s) and 60(%) vacuum engine(s)? Or even better: is there a way of calculating the delta V budget to get to a certain altitude (at a certain flight angle and set TWR). I would love to expand my excel sheet with more maths... XD\u003C/p\u003E\u003Cp\u003EAlso, how many stages do you guys normally use to get to orbit?\u003C/p\u003E\n"},{"CreatedByName":"Steelsunoa","CreatedById":135938,"CreatedDateTime":"2015-09-07T08:42:11Z","Content":"\n\u003Cp\u003EWow, just reading your post makes me feel inefficient! Haha...I guess I just \u0022feel it out\u0022 and tweak things as I build and re-launch. Don\u0027t get me wrong though, I\u0027m a math nerd and love that you can actual apply math to this game, I just like to use KSP a little more casually I guess. Have you tried using actual orbital mechanics and equations? I\u0027m not sure how you can find some of the values, but I think it\u0027s doable. Perhaps the KSP wiki page would be a good starting point to help? \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Tutorial:_Basic_Orbiting_(Math\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/Tutorial:_Basic_Orbiting_(Math\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EI typically have 2 stages to obtain my orbit, one for the ascent and another for the gravity turn/orbit \u0026amp; transfer. I try for 2 usually, but it depends on the design and how I want the rocket to look. I sacrifice some efficiency for aesthetics more often than not, but try to find a balance. Generally I like my 3rd stage to be my transfer stage and drop it as I obtain orbit around the SOI that I\u0027m targeting, but I suspect it would really be for the return trip in most cases depending on design. Sorry that I don\u0027t have a real answer, but hopefully the wiki link will get you moving in the right direction. Fly safe! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T12:43:37Z\u0022 title=\u002209/07/2015 12:43  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by Steelsunoa\u003C/strong\u003E\n\u003Cbr\u003Espelling\n\u003C/span\u003E\n"},{"CreatedByName":"mhoram","CreatedById":78756,"CreatedDateTime":"2015-09-07T08:55:51Z","Content":"\n\u003Cp\u003ECalculating the ideal setup of rockets is something that is very complex and not a single formula can do that.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.projectrho.com/public_html/rocket/multistage.php\u0022 rel=\u0022external nofollow\u0022\u003EThis site\u003C/a\u003E has information about an iterative process to reach this.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/28248?p=346702\u0026amp;viewfull=1#post346702\u0022 rel=\u0022external nofollow\u0022\u003EThis post by Temstar\u003C/a\u003E goes into the depths of asparagus staging setup.\u003C/p\u003E\u003Cp\u003EAlso recommendable is the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/116729\u0022 rel=\u0022external nofollow\u0022\u003EPayload-Fraction challenge\u003C/a\u003E. You can see lots of high-efficiency designs there.\u003C/p\u003E\u003Cp\u003EAbout my manual way to build rockets:\u003C/p\u003E\u003Cp\u003EFirst I create my payload and have a DV-reserve for circularizing in LKO.\u003C/p\u003E\u003Cp\u003EThe stage before payload has around 1000-2000 m/s DV with a TWR \u0026gt; 0.6 (depending on payloadmass and used engines)\u003C/p\u003E\u003Cp\u003EThe initial 1-3 phases I build according to how much DV I still need, fiddle around with different engine setups and add some solid boosters. ... I know not very scientific and mostly experience-based.\u003C/p\u003E\u003Cp\u003EEdit: Regarding selection of best engines you might find this site interesting:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/127691\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/127691\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T11:28:21Z\u0022 title=\u002209/07/2015 11:28  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by mhoram\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Steelsunoa","CreatedById":135938,"CreatedDateTime":"2015-09-07T12:29:53Z","Content":"\n\u003Cp\u003ENice, thanks for the links...even though this wasn\u0027t my thread. Those should prove rather useful!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T12:32:00Z\u0022 title=\u002209/07/2015 12:32  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by Steelsunoa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-07T14:27:09Z","Content":"\n\u003Cp\u003EKnowing the atmosphere curve will help. By 5 km up your engines are already closer to vacuum than sea-level performance. By about 11 km they\u0027re 90% of the way to their vacuum performance. So atmosphere figures are only relevant pretty low down.\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-07T15:53:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022cantab\u0022 data-cite=\u0022cantab\u0022\u003E\u003Cdiv\u003EKnowing the atmosphere curve will help. By 5 km up your engines are already closer to vacuum than sea-level performance. By about 11 km they\u0027re 90% of the way to their vacuum performance. So atmosphere figures are only relevant pretty low down.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E^ This. I ignore the atmosphere entirely for everything above 8km. A single \u0022booster\u0022 stage that operates in that region is calculated at 1/2 atm. \u003C/p\u003E\u003Cp\u003E Generally for a 2 stager (which is all the staging I ever do on Kerbin), the lower stage is 1800 m/sec DV at 1/2 atm and the upper is 1600 m/sec at vacuum. Anywhere beyond 75km apo with atmospheric per is another stage and is all payload for launch purposes.\u003C/p\u003E\u003Cp\u003E I do something similar to what it sounds like you\u0027re doing; I run a reverse rocket equation to simulate each engine simultaneously for the payload, t/w, and DV requirement. From there I can pick my best option for a stage by minimum mass, lowest cost, or simplest construction.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i52.photobucket.com/albums/g13/GoSlash27/104ss1_zpsnyb0yhhj.jpg\u0022 alt=\u0022104ss1_zpsnyb0yhhj.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steelsunoa\u0022 data-cite=\u0022Steelsunoa\u0022\u003E\u003Cdiv\u003E Have you tried using actual orbital mechanics and equations? \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESteelsunoa,\u003C/p\u003E\u003Cp\u003E Oh, yeah. I have spreadsheets for calculating DV budgets for orbital transfers, burn timing, resonant orbits, transfer windows...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E All the basic maths work in KSP.\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T15:44:22Z\u0022 title=\u002209/07/2015 03:44  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by GoSlash27\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"xendelaar","CreatedById":139535,"CreatedDateTime":"2015-09-07T16:48:51Z","Content":"\n\u003Cp\u003EHi everybody. First of all, thank you for all the quick and interesting responses. This community is a real special thing. Everybody is so friendly and eager to share their ideas. It\u0027s awesome!!!\u003C/p\u003E\u003Cp\u003ESteelsunoa: Planning/designing my rockets in excel is half the fun for me. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I just love fiddling around to create an even better way of designing my rockets. I already use the rocket equation to calculate most of my needs. Just like Slashy, I calculate the optimum engine using the reversed rocket equation on all engines simultaneously. I then choose which setup is best based on weight and complexity. \u003C/p\u003E\u003Cp\u003ECanTab: 5 km is really low. If this is the case then perhaps it\u0027s not worth the hassle to find the physics and the math to solve this problem. On the other hand... It\u0027s still a nice puzzle \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E I\u0027ll check my own ISP-Altitude graphs when I get home from my vacation abroad (which is tomorrow). \u003C/p\u003E\u003Cp\u003Emhoran: thanks for the info. I\u0027m going to read them right after finishing this post! I know it\u0027s really complex to solve this problem analytically, but I\u0027m trying to find a way of better guesstamating the design of the highest stage. For me, anything is better than just doing stuff randomly as I\u0027m doing right now... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ESlashy: Your excel sheet looks a lot like mine! I think we\u0027re doing the same thing (more or less \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E). I also ignore the influence of the atmosphere mostly at the moment (save the initial TWR) but I\u0027m hoping of optimizing my designs. Reading all these comments I doubt that I will be able to gain a little even if I\u0027m able to \u0022crack da code\u0022... but we\u0027ll see.\u003C/p\u003E\u003Cp\u003EAs a first step.. I was thinking of calculating my vertical velocity at a given inclination with a fixed TWR. That way, I know how long it takes to reach the point where vacuum engines perform better. I believe the wiki info displays the fuel consumption rate per engine, so that way I\u0027m able to calculate how much juice I need to get there. It\u0027s not perfect and it probably won\u0027t work, but it\u0027s something \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I will test it tomorrow when I get back.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESlashy, you made sheets for calculating burn timing, resonant orbits and transfer windows??! Oh my Science! That\u0027s awesome. That must have been quite a lot of work!\u003C/p\u003E\n"},{"CreatedByName":"GoSlash27","CreatedById":111526,"CreatedDateTime":"2015-09-07T17:11:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xendelaar\u0022 data-cite=\u0022xendelaar\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESlashy, you made sheets for calculating burn timing, resonant orbits and transfer windows??! Oh my Science! That\u0027s awesome. That must have been quite a lot of work!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Exendelaar,\u003C/p\u003E\u003Cp\u003E Thanks, but it\u0027s not really any big deal. It takes less mathing than what you\u0027ve already done. \u003C/p\u003E\u003Cp\u003EThe equations are \u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E and the constants are \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Category:Celestials\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E It\u0027s like anything else; if you have the equations and constants, it\u0027s just a matter of using algebra to manipulate it to suit your needs.\u003C/p\u003E\u003Cp\u003EGood luck and I\u0027m very interested in seeing what you come up with!\u003C/p\u003E\u003Cp\u003E-Slashy\u003C/p\u003E\n"},{"CreatedByName":"OhioBob","CreatedById":128005,"CreatedDateTime":"2015-09-07T17:27:24Z","Content":"\n\u003Cp\u003EThe rough rule of thumb is that similar stages should produce the same \u00C3\u017D\u00E2\u20ACv. So if your total \u00C3\u017D\u00E2\u20ACv is 3500 m/s, you should aim for about 1750 m/s in the first stage and 1750 m/s in the second stage. When you have dissimilar stages, such as a kerosene fueled first stage and a liquid hydrogen fueled second stage, then you should give more \u00C3\u017D\u00E2\u20ACv to the one with the higher ISP. However, that\u0027s not an issue in KSP because everything is similarly fueled (except for the \u0022Nerv\u0022, but that\u0027s not an engine you\u0027d use on a launcher).\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI had developed a group of rules that I used for rocket design pre-1.0 that worked very well. I optimize the design using computer simulations. I\u0027ve been meaning to do the same thing for post-1.0 but haven\u0027t gotten around to it yet. My pre-1.0 rules were:\u003C/p\u003E\u003Cp\u003EPayload fraction = 0.16\u003C/p\u003E\u003Cp\u003EFirst stage TWR = 1.65\u003C/p\u003E\u003Cp\u003ESecond stage TWR = 1.30\u003C/p\u003E\u003Cp\u003EStage-2 thrust / Stage-1 thrust = 0.35\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T17:30:33Z\u0022 title=\u002209/07/2015 05:30  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by OhioBob\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2015-09-07T18:05:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022OhioBob\u0022 data-cite=\u0022OhioBob\u0022\u003E\u003Cdiv\u003E(except for the \u0022Nerv\u0022, but that\u0027s not an engine you\u0027d use on a launcher).\u003C/div\u003E\u003C/blockquote\u003EI wonder if that changes in enlarged solar systems. With such an enlarged system the upper stage has more delta-V to provide at a relatively low TWR and so the Nerv could be applicable. The real NERVA was planned as an upper stage engine.\n"}]}