{"TopicId":112956,"ForumId":16,"TopicTitle":"Precision Burns - Before the Node, After the Node?","CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2015-06-14T18:14:29Z","PageNum":1,"Articles":[{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2015-06-14T18:14:29Z","Content":"\n\u003Cp\u003EI\u0027m currently working on docking maneuvers, and cannot seem to do a precision burn...precisely. \u003C/p\u003E\u003Cp\u003EFollowing the tutorial, I execute the burn on the manuever until there is EXACTLY 0.0 dv left. I look at the orbit, and my new trajectory is well off from the projected trajectory the maneuver was supposed to afford me. \u003C/p\u003E\u003Cp\u003ECurrently, on a 10 sec burn, for example, I\u0027ve tried: \u003C/p\u003E\u003Cp\u003E1) Burning AT the node, until I get to \u002B10 secs from Node\u003C/p\u003E\u003Cp\u003E2) Burning DURING the Node, from -5 to \u002B5\u003C/p\u003E\u003Cp\u003E3) Burning BEFORE the Node, from -10 to 0. \u003C/p\u003E\u003Cp\u003EWhich of these is the preferred, and accounted method? I cannot get an intersect because every time I place a perfect intersect node, no matter how precisely I burn, it never ACTUALLY lines up with itself. \u003C/p\u003E\u003Cp\u003EThanks for any tips! \u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003EBosun\u003C/p\u003E\n"},{"CreatedByName":"FancyMouse","CreatedById":142946,"CreatedDateTime":"2015-06-14T18:55:02Z","Content":"\n\u003Cp\u003E2 is suggested (even by a stock tutorial?) as it\u0027s the most precise among these 3.\u003C/p\u003E\n"},{"CreatedByName":"Zephyriel","CreatedById":144506,"CreatedDateTime":"2015-06-14T19:08:35Z","Content":"\n\u003Cp\u003EYou can never do the exact maneuver you calculated, because this would imply that you would get the entire delta v at the precise moment the timer hits zero, and not progressively over a certain period of time.\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2015-06-14T19:26:05Z","Content":"\n\u003Cp\u003ETo make the math manageable, all the formulas you\u0027ll see assume an instantaneous velocity change, which of course is not possible. The best option is your #2, to split the burn, half before and half after the precise time/location.\u003C/p\u003E\n"},{"CreatedByName":"ajburges","CreatedById":26570,"CreatedDateTime":"2015-06-15T00:55:46Z","Content":"\n\u003Cp\u003EActually, given that TWR goes up during the burn, you want to burn more before than after to average the dV on the node.\u003C/p\u003E\u003Cp\u003EUnless you have a mod that with do the calculus for you, just divide by 2 and give rounding remainder to the burn side. That will also allow you time to finish the burn on the dot with a lower throttle setting.\u003C/p\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2015-06-15T01:03:43Z","Content":"\n\u003Cp\u003EAlso adding my vote for No2. \u003C/p\u003E\u003Cp\u003EBut if you want to bulls-eye a target a bit of tweaking after the manoeuvre is often needed. I treat manoeuvre nodes as a rough guide and one thing I often do (especially for rendezvous) is in the last few m/s of the burn I will cancel the node so the intersection markers switch to being live rather than the projected result of the node. As I cancel the node I put the mouse over the intersection markers and watch the separation distance and kill the burn based on that. Then it\u0027s time to fine tune; I orientate prograde (and roll to 0 degrees) and then do some experimental thrusts with the RCS while watching how that changes the separation distance. If your manoeuvre was fairly good, then by doing some sideways RCS thrusts (which if you\u0027re oriented prograde \u0026amp; rolled to 0, equate to normal/anti-normal \u0026amp; radial/anti-radial thrusts) and some prograde/retrograde thrusts you should be able to get a much better separation distance.\u003C/p\u003E\n"},{"CreatedByName":"GluttonyReaper","CreatedById":59429,"CreatedDateTime":"2015-06-15T01:04:49Z","Content":"\n\u003Cp\u003EIt\u0027s also worth remembering to hit Z to go straight to full throttle. Throttling up slowly can have quite an effect on accuracy with these shorter burns.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-06-15T01:58:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GluttonyReaper\u0022 data-cite=\u0022GluttonyReaper\u0022\u003E\u003Cdiv\u003EIt\u0027s also worth remembering to hit Z to go straight to full throttle. Throttling up slowly can have quite an effect on accuracy with these shorter burns.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOn this note, I would slightly counter that full throttle is not always the way to go. If your maneuver is only a few m/s (like correcting for that perfect Minmus encounter enroute after leaving LKO) consider a longer burn at only a small percentage of your maximum thrust by tweaking your thrust setting.\u003C/p\u003E\n"},{"CreatedByName":"ajburges","CreatedById":26570,"CreatedDateTime":"2015-06-15T11:37:56Z","Content":"\n\u003Cp\u003ETangently related: what\u0027s better for pro/retrograde nodes. Burning on target marker or burning on pro/retrograde?\u003C/p\u003E\n"},{"CreatedByName":"-ELF-","CreatedById":52049,"CreatedDateTime":"2015-06-15T11:58:34Z","Content":"\n\u003Cp\u003EI commonly burn at pro/retrograde, cause in my view it will flatten out movement along orbit...\u003C/p\u003E\u003Cp\u003EAlso, you do not actually need to burn until 0.0, it is better to cut off as soon as your maneuer marker moves away from point where you burn to. And also - do not try to follow that marker when it moves away. just cut your burn and see what you got. \u003C/p\u003E\u003Cp\u003EHint:\u003C/p\u003E\u003Cp\u003ESmaller maneuers are better done with RCS instead.\u003C/p\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-06-15T12:45:03Z","Content":"\n\u003Cp\u003EHalf before, half after. The higher your thrust (shorter the burn) the more precise the effects.\u003C/p\u003E\u003Cp\u003EIf you burn for a purpose: circularize orbit, change orbital plane, lose all velocity (suicide burn), burn at node (prograde, normal etc) - as it will be followed during the burn keeping the thrust true to its given purpose.\u003C/p\u003E\u003Cp\u003EIf you burn for a target: encounter, specific orbit, specific landing location, burn at target node, as the node calculations describe the effects of this exact burn direction, regardless of how markers shift during the burn.\u003C/p\u003E\u003Cp\u003EAlso, when doing Oberth Maneuver close to planet surface, doing axial\u002Bprograde, split it into two phases: prograde before periaxis (which should be the maneuver node), axial after periaxis. (or you\u0027ll find yourself in for a face full of dirt as the axial component shortens your periaxis.)\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-06-15T14:00:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zephyriel\u0022 data-cite=\u0022Zephyriel\u0022\u003E\u003Cdiv\u003EYou can never do the exact maneuver you calculated, because this would imply that you would get the entire delta v at the precise moment the timer hits zero, and not progressively over a certain period of time.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, but: maneuver nodes have some built-in logic to compensate for this. During the burn, the maneuver marker on the navball is constantly updated to account for errors, be they because of imprecise steering or otherwise. Note that this is mitigation, not a solution -- but it goes a long way.\u003C/p\u003E\u003Cp\u003EIn low Kerbin orbit, interplanetary ejection burns of up to two minutes (burning one minute at either side of the node) still have near-perfect results. Interestingly enough, that two minute rule holds up even if you\u0027ve been periapsis-kicking before and cover a lot more distance in the same time.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-15T15:04:05Z\u0022 title=\u002206/15/2015 03:04  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 15, 2015\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Warzouz","CreatedById":140055,"CreatedDateTime":"2015-06-15T14:09:56Z","Content":"\n\u003Cp\u003EYes, as Laie, I\u0027m quite puzzled. I don\u0027t have that problem by burning 50% before and 50% after. Sure if you plan a Eeloo encounter, you\u0027ll priobably won\u0027t succeed, there is always a mid-course correction (\u0026lt;10m/s). \u003C/p\u003E\u003Cp\u003ESometimes I\u0027m not too concentrated and I miss the 50%/50% and THEN my trajectory is a mess.\u003C/p\u003E\u003Cp\u003EIf you have a hard time with burning, use the \u0022Execute Node\u0022 MechJeb\u0027s feature. It\u0027s quite precise.\u003C/p\u003E\u003Cp\u003EAlso beware that the stock burn time shown in KSP can be awfully wrong, especially if you\u0027re staging during your burn.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2015-06-15T16:16:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022katateochi\u0022 data-cite=\u0022katateochi\u0022\u003E\u003Cdiv\u003EAlso adding my vote for No2. \u003Cp\u003EBut if you want to bulls-eye a target a bit of tweaking after the manoeuvre is often needed. I treat manoeuvre nodes as a rough guide and one thing I often do (especially for rendezvous) is in the last few m/s of the burn I will cancel the node so the intersection markers switch to being live rather than the projected result of the node. As I cancel the node I put the mouse over the intersection markers and watch the separation distance and kill the burn based on that. Then it\u0027s time to fine tune; I orientate prograde (and roll to 0 degrees) and then do some experimental thrusts with the RCS while watching how that changes the separation distance. If your manoeuvre was fairly good, then by doing some sideways RCS thrusts (which if you\u0027re oriented prograde \u0026amp; rolled to 0, equate to normal/anti-normal \u0026amp; radial/anti-radial thrusts) and some prograde/retrograde thrusts you should be able to get a much better separation distance.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethis gets my vote. Burn most of your burn then go map and do little test burns (or RCS) to see which direction you need to do your adjustment burns to refine your intercept. Just doing one burn I am lucky to be within 10km of my target. Doing this method I usually get within 100m of my target (in LKO for docking)\u003C/p\u003E\u003Cp\u003EThis scales well. I use the same method for interplanetary burns. Do most of the burn, then go to the map, focus on the planet you are aiming for and adjust until you get as close as you can from your current position. If you cannot get closer than a certain distance then redo the fine adjustment half way there (usually).\u003C/p\u003E\u003Cp\u003ESometimes you just can\u0060t get close to your target in one burn due to the way orbital mechanics works.\u003C/p\u003E\n"},{"CreatedByName":"ajburges","CreatedById":26570,"CreatedDateTime":"2015-06-15T19:36:52Z","Content":"\n\u003Cp\u003EThere is three exceptions to the split rule for nodes: circularization, rendezvous, landing.\u003C/p\u003E\u003Cp\u003EUnless you want to circularize to a particular orbit, you want to do the circularization fully before Ap and you want to do it prograde instead of on node. The reason is to optimise your burn for kinetic and potential energy.\u003C/p\u003E\u003Cp\u003EYou can use a node to calculate the burn time needed to zero velocity during target intercept (useful if you regularly acquire 100 m or less intercepts ). It is fairly obvious why you would want to finish such a burn before you reach closest distance.\u003C/p\u003E\u003Cp\u003EIf you use a node to plan a suicide burn, you also want to complete the burn before the node. The reasons for this are also obvious.\u003C/p\u003E\n"},{"CreatedByName":"Leibniz","CreatedById":72569,"CreatedDateTime":"2015-06-15T23:15:18Z","Content":"\n\u003Cp\u003EEven intercept burns and suicide burns should be finished after the node time.\u003C/p\u003E\u003Cp\u003EDuring the burn you will be slowing down; in fact your average speed will be halved across the burn time (average of initial speed and zero end speed). In theory you should split the burn half before and half after so you finish the burn at the node \u003Cem\u003Eposition\u003C/em\u003E. In practise you should start a bit earlier for extra control and safety. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI use this myself so I can stop and land at the node position from a ground-hugging ~5km orbit over the Mun.\u003C/p\u003E\u003Cp\u003EFor orbital manoeuvres you could try \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/88982-Java-Long-Burn-Calculator\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/88982-Java-Long-Burn-Calculator\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI haven\u0027t tried it myself but it claims to convert long burns into efficient prograde/retrograde burns with accurate start and end times.\u003C/p\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2015-06-16T00:49:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Leibniz\u0022 data-cite=\u0022Leibniz\u0022\u003E\u003Cdiv\u003E in fact your average speed will be halved across the burn time (average of initial speed and zero end speed).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere are two errors here, which can become significant depending on how much of your total mass you use in the maneuver:\u003C/p\u003E\u003Cp\u003E1) If you are using a non-trivial amount of fuel, and not adjusting your thrust to account for decreased mass, your acceleration is not constant.\u003C/p\u003E\u003Cp\u003E2) If your acceleration is not constant, your average speed is not the average of initial and final speed. (It is the time integral of your speed, divided the by the final minus initial time.)\u003C/p\u003E\u003Cp\u003EThus generally speaking, if you split the burn half way in time, you are spending more delta-v after the node than before the node.\u003C/p\u003E\u003Cp\u003EIf your total mass change is small compared to your total mass, the effect can be ignored.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-16T01:02:05Z\u0022 title=\u002206/16/2015 01:02  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 16, 2015\u003C/time\u003E by Yasmy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Yasmy","CreatedById":79995,"CreatedDateTime":"2015-06-16T02:45:22Z","Content":"\n\u003Cp\u003ELet\u0027s consider splitting the delta-v 50/50 around the maneuver node instead of splitting the burn duration 50/50 around the maneuver node.\u003C/p\u003E\u003Cp\u003EQuestion: Given a burn of dV which takes time T, how long (t) does it take to burn dV/2? Let the burn consume total mass mf at a constant rate dm/dt = mf/T.\u003C/p\u003E\u003Cp\u003ENote that dV is not your total rocket dV and mf is not your total fuel mass, but just the quantities used in this burn.\u003C/p\u003E\u003Cp\u003EFull burn: dV = Isp * g0 * ln(m / (m - mf)) = Isp * g0 * ln(m / (m - dm/dt T))\u003C/p\u003E\u003Cp\u003EHalf burn: 1/2 dV = Isp * g0 * ln(m / (m - dm/dt t))\u003C/p\u003E\u003Cp\u003ESolve for t, using the identity a*ln(\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E = ln(b^a):\u003C/p\u003E\u003Cp\u003Et = m/(dm/dt) (1 - sqrt(1 - dm/dt T)) = T (m/mf) (1 - sqrt(1 - mf/m))\u003C/p\u003E\u003Cp\u003ENow approximate this for mf \u0026lt;\u0026lt; m: \u003C/p\u003E\u003Cp\u003Et = T/2 \u002B mf/m T/8 \u002B higher order corrections, all strictly positive\u003C/p\u003E\u003Cp\u003EBy inverting the rocket equation, mf/m = 1 - exp(-dV/Isp/g0):\u003C/p\u003E\u003Cp\u003Et \u00C3\u00A2\u00E2\u20AC\u00B0\u00CB\u2020 T/2 \u002B (1 - exp(-dV/Isp/g0)) T/8\u003C/p\u003E\u003Cp\u003EStarting your burn at time t before the maneuver node splits the delta-v 50/50 around the maneuver node.\u003C/p\u003E\u003Cp\u003EI won\u0027t say which is better (yet). I\u0027m just doing the math in case anyone wants to try another option.\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2015-06-16T02:54:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EDuring the burn, the maneuver marker on the navball is constantly updated to account for errors, be they because of imprecise steering or otherwise. \u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes this work properly, though? (I\u0027m asking, not arguing.) I\u0027ve tried both, and I seem to get better results by keeping my original heading throughout the burn than if I chase the maneuver marker as it moves. The burn seems to come out more closely to the original plan if I hold the original heading.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-06-16T10:08:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vanamonde\u0022 data-cite=\u0022Vanamonde\u0022\u003E\u003Cdiv\u003EDoes this work properly, though? (I\u0027m asking, not arguing.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood question. I frankly do not know. From observation, it seems to work well to a degree, but it can only compensate for so much. Example:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.schnobs.de/eve2/eve_16.jpg\u0022 alt=\u0022eve_16.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s 1750m/s split over five burns of about 2 minutes. After that was done, I needed a 3m/s correction burn. You may notice that I wrote a kOS script to place the nodes; I\u0027ve been using it on several occasions an learned that timing is more important than direction. A cumbersome vessel may not be able to turn quickly enough between nodes, yet \u003Cem\u003Ethis doesn\u0027t matter\u003C/em\u003E -- just open the throttle at the right time and let MJ find the maneuver marker as quickly as it\u0027s able to. Not only will the current maneuver marker move to compensate, but the consecutive maneuvers will be updated, too, and in the end things work out quite well.\u003C/p\u003E\u003Cp\u003EI have no idea how it really works. My attempts to willfully outsmart a maneuver had the oddest results. But it seems that maneuvers can compensate for some amount of error, and that going through several small maneuvers keeps the error within a threshold they can handle.\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-06-16T13:34:56Z","Content":"\n\u003Cp\u003EManeuver nodes do update, but not accurately. I think the position of the node adjusts according to the burn you originally wanted when you set it, and before you passed it. However, it does not update according to the changing mass/TWR of the ship, which I noticed by decoupling a large heavy stage (the node did not move). Therefore it does use the original mass/twr of the ship when you first set the node. For very long burns (using nukes for example) I will burn until I\u0027m about a minute past the node (depending on how long I have left to burn), delete the node, and create a new one ahead if me and continue. It\u0027s annoying to recreate nodes but it\u0027s more accurate in the end. Also, if I ditch a stage midburn, I will delete and recreate the node. \u003C/p\u003E\u003Cp\u003EHowever, if I\u0027m feeling especially lazy, I\u0027ll just finish the burn and do a correction burn halfway through. But I do prefer the set-it-and-forget-it approach so I don\u0027t have to pay attention to that ship until the destination SoI...\u003C/p\u003E\n"}]}