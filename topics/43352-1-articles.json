{"TopicId":43352,"ForumId":20,"TopicTitle":"Seemingly random framrate drops.","CreatedByName":"novahike999","CreatedById":13803,"CreatedDateTime":"2013-08-21T11:03:45Z","PageNum":1,"Articles":[{"CreatedByName":"novahike999","CreatedById":13803,"CreatedDateTime":"2013-08-21T11:03:45Z","Content":"\n\u003Cp\u003EI\u0027ve only been getting this issue since I installed ksp 0.21 but my framerate will be normal for about 30 seconds to 2 minutes and then it seems to be capped at 10 fps for about a minute. During the lag when it seems to be capped to 10 fps the mission clock will flash yellow about once every 2 seconds. Does anybody else get this or know how to fix it? Please, Kerbals lives are in grave danger if I crash a lander because of this again. D:\u003C/p\u003E\u003Cp\u003EMods I have installed: \u003C/p\u003E\u003Cp\u003EMechjeb 2\u003C/p\u003E\u003Cp\u003ENova Punch\u003C/p\u003E\u003Cp\u003ETT Modular Wheels\u003C/p\u003E\u003Cp\u003EProcedural Dynamics (Wings and Fairings)\u003C/p\u003E\u003Cp\u003ERadial Nuclear Engines\u003C/p\u003E\u003Cp\u003EEditor Extensions\u003C/p\u003E\u003Cp\u003ESM SkyCranes\u003C/p\u003E\u003Cp\u003ELots of love - Pffft, You really think I love you?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-08-21T11:31:40Z","Content":"\n\u003Cp\u003EIt could be a MJ2 information window. Try this : When you notice lag starting, quickly, as fast as you can, pause with esc., alt-enter to windowed mode, _ ksp to the background, then go check KSP.log to see if it has spammed anything at the end of the log. This can help identify the exact problem.\u003C/p\u003E\n"},{"CreatedByName":"novahike999","CreatedById":13803,"CreatedDateTime":"2013-08-21T11:40:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003EIt could be a MJ2 information window. Try this : When you notice lag starting, quickly, as fast as you can, pause with esc., alt-enter to windowed mode, _ ksp to the background, then go check KSP.log to see if it has spammed anything at the end of the log. This can help identify the exact problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYea, I get about 500 lines of \u0022[LOG 12:37:27.140] Skipped rendering frame because GfxDevice is in invalid state (device lost)\u0022.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-08-21T20:52:27Z","Content":"\n\u003Cp\u003EThat is probably not what is causing your lag. That is a common error that is caused by \u0022alt-tab\u0022ing (or hitting the windows key on some keyboards) out of KSP to perform other tasks. That\u0027s why I suggested alt-enter to windowed mode first.\u003C/p\u003E\u003Cp\u003EIf it\u0027s a MJ2 error I would expect something along the lines of [LOG 18:27:37.317] getObtAtUT result is NaN! UT: 19254.37889324.\u003C/p\u003E\u003Cp\u003EI suspect the new terrain is giving MJ2 fits when it tries to calculate your ships altitude above the surface.\u003C/p\u003E\u003Cp\u003EAnother way to debug is to close all information windows, then start opening and closing them one at a time to see if you can isolate the one that is causing lag.\u003C/p\u003E\u003Cp\u003Eedit : for anyone reading this thread : what does getObtAtUT mean? Does that mean something is asking for Orbit, Altitude, and UT(time)?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-22T00:32:46Z\u0022 title=\u002208/22/2013 12:32  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 22, 2013\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"novahike999","CreatedById":13803,"CreatedDateTime":"2013-08-22T21:30:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003EThat is probably not what is causing your lag. That is a common error that is caused by \u0022alt-tab\u0022ing (or hitting the windows key on some keyboards) out of KSP to perform other tasks. That\u0027s why I suggested alt-enter to windowed mode first.\u003Cp\u003EIf it\u0027s a MJ2 error I would expect something along the lines of [LOG 18:27:37.317] getObtAtUT result is NaN! UT: 19254.37889324.\u003C/p\u003E\u003Cp\u003EI suspect the new terrain is giving MJ2 fits when it tries to calculate your ships altitude above the surface.\u003C/p\u003E\u003Cp\u003EAnother way to debug is to close all information windows, then start opening and closing them one at a time to see if you can isolate the one that is causing lag.\u003C/p\u003E\u003Cp\u003Eedit : for anyone reading this thread : what does getObtAtUT mean? Does that mean something is asking for Orbit, Altitude, and UT(time)?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat do you mean by open each information window at a time. And making it windowed did not fix it?\u003C/p\u003E\n"},{"CreatedByName":"Zeblote","CreatedById":79303,"CreatedDateTime":"2013-08-22T21:36:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eedit : for anyone reading this thread : what does getObtAtUT mean? Does that mean something is asking for Orbit, Altitude, and UT(time)?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI could be get orbit at ut, whatever a ut is, but get it for that specific ut\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-08-22T22:38:43Z","Content":"\n\u003Cp\u003EI may have made some assumptions that are not true, I\u0027m bad about that. I assumed when you listed Mechjeb 2 as one of your mods, that you were using one or more of the information windows while flying rockets or planes. Windows like orbit info, surface info, or maybe even custom windows that you made for yourself, that give the pilot longitude,latitude,velocity,altitude,heading.etc. Like this :\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/4fBRzav.jpg\u0022 alt=\u00224fBRzav.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have recently experienced lag similar to what you described, and found that it was a MJ2 window causing it. \u003C/p\u003E\u003Cp\u003EEven if MJ2 is not responsible, I believe that if you can prevent KSP from spamming \u0022Skipped rendering frame because GfxDevice is in invalid state\u0022 by either :\u003C/p\u003E\u003Cp\u003E a. quitting the game completely when you notice the game begin to lag then checking KSP.log(probably best) or\u003C/p\u003E\u003Cp\u003E b. alt-enter to windowed mode then check KSP.log \u003C/p\u003E\u003Cp\u003Ethen you will probably find whatever is responsible for lag. Try uploading KSP.log to pastebin or something then posting the link here. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/24543-NEED-SUPPORT-Read-this-before-posting\u0022 rel=\u0022external nofollow\u0022\u003ESee this\u003C/a\u003E. Even though squad does not support installations with mods, there are still lots of people around that might recognize something and be able to help you out. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zeblote\u0022 data-cite=\u0022Zeblote\u0022\u003E\u003Cdiv\u003EI could be get orbit at ut, whatever a ut is, but get it for that specific ut\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for response. I guess it could mean get orbit at ut(i think that\u0027s universal time in seconds), but why is it a capital At?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-22T22:55:24Z\u0022 title=\u002208/22/2013 10:55  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 22, 2013\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"novahike999","CreatedById":13803,"CreatedDateTime":"2013-08-23T07:50:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003EI may have made some assumptions that are not true, I\u0027m bad about that. I assumed when you listed Mechjeb 2 as one of your mods, that you were using one or more of the information windows while flying rockets or planes. Windows like orbit info, surface info, or maybe even custom windows that you made for yourself, that give the pilot longitude,latitude,velocity,altitude,heading.etc. Like this :\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/4fBRzav.jpg\u0022 alt=\u00224fBRzav.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI have recently experienced lag similar to what you described, and found that it was a MJ2 window causing it. \u003C/p\u003E\u003Cp\u003EEven if MJ2 is not responsible, I believe that if you can prevent KSP from spamming \u0022Skipped rendering frame because GfxDevice is in invalid state\u0022 by either :\u003C/p\u003E\u003Cp\u003E a. quitting the game completely when you notice the game begin to lag then checking KSP.log(probably best) or\u003C/p\u003E\u003Cp\u003E b. alt-enter to windowed mode then check KSP.log \u003C/p\u003E\u003Cp\u003Ethen you will probably find whatever is responsible for lag. Try uploading KSP.log to pastebin or something then posting the link here. \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/24543-NEED-SUPPORT-Read-this-before-posting\u0022 rel=\u0022external nofollow\u0022\u003ESee this\u003C/a\u003E. Even though squad does not support installations with mods, there are still lots of people around that might recognize something and be able to help you out. \u003C/p\u003E\u003Cp\u003EThanks for response. I guess it could mean get orbit at ut(i think that\u0027s universal time in seconds), but why is it a capital At?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour assumptions are not wrong. I do use one or more windows, I just didn\u0027t know what MJ2 meant.\u003C/p\u003E\n"}]}