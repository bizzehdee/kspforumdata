{"TopicId":10019,"ForumId":29,"TopicTitle":"Getting Absolute Longitude (in same reference system as LAN)","CreatedByName":"Luke321","CreatedById":17603,"CreatedDateTime":"2012-04-29T16:22:05Z","PageNum":1,"Articles":[{"CreatedByName":"Luke321","CreatedById":17603,"CreatedDateTime":"2012-04-29T16:22:05Z","Content":"Hey guys,\n\nI\\\u0027m currently working on a plane alignment module for MechJeb, \n\nand my problem is that i can\\\u0027t get the absolute longitude in which the game calculates the LAN.\n\nwhich is essential for precise burns especially in polar orbits.\n\nif anyone has an idea on how to solve this, it would be a huge help ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"lai","CreatedById":21942,"CreatedDateTime":"2012-05-30T10:32:28Z","Content":"LAN \u002B LPE \u002B true anomaly"},{"CreatedByName":"shimavak","CreatedById":32011,"CreatedDateTime":"2012-07-23T19:35:54Z","Content":"That isn\\\u0027t quite correct. It works perfectly at zero inclination, but fails otherwise due to mixing of angle mixing. What you really want is effectively the current sidereal time, as that is the coordinate system that LAN is measured against.\n\nA more complete answer would be:\n\nLocal Sidereal Time = Current Orbital Longitude = LAN \u002B Arctan[ tan( tA \u002B APe ) \\* cos(i) ]\n\nWhere:\n\ntA = True Anomaly\n\nAPe = Argument of Periapsis\n\ni = Inclination\n\nOf course, in KSP you have a lot easier ways to do this, as you always have the local latitude relative to the celestial body\\\u0027s surface, and the celestial body\\\u0027s surface relative position to the stars, so you can just do:\n\nLocal Sidereal Longitude = surface longitude \u002B vessel.orbit.referenceBody.rotationAngle\n\nHope that helps with your orbital maneuvers!"},{"CreatedByName":"HarvesteR","CreatedById":4,"CreatedDateTime":"2012-07-26T18:40:54Z","Content":"If you want to get coordinates relative to the \u0027universe\u0027, you can also use the Planetarium.up, Planetarium.right and Planetarium.forward unit vectors as a baseline. They define the coordinate system for the universal rotation.\n\nCheers"}]}