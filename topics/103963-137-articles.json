{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":137,"Articles":[{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-02-25T05:00:42Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, Nhawks17 said:\n\u003E \n\u003E \n\u003E Mistakes have been made.... I don\u0027t know what I did but KSP didn\u0027t like it and reverting to a fresh install of Scatterer isn\u0027t fixing it O.o\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![DUmYQmq.png](http://i.imgur.com/DUmYQmq.png)](http://i.imgur.com/DUmYQmq.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit: Just tried replacing the KSP files to see if that fixed it and it didn\u0027t..... I broke something immensely and I don\u0027t know if I should be proud of this or not.\n\u003E \n\nOh SWEET! You created a miniature Neptune!"},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2016-02-25T05:23:06Z","Content":"KSP 1.0.5 32-bit, Win7 64-bit, Scatterer v0.023 (updated via CKAN)\n\n[Another potential problem](https://www.dropbox.com/s/s5ua4mi6ftlvbwb/KSC%20After%20Scatterer.JPG?dl=0).  All Scatterer features were off except Terrain Shadows.  On startup, KSC is fine but if I return to it during the game I get tilted KSC and there is no rotation control - the screen is fixed - but I can still enter the buildings that I can get my mouse to.  If I exit to the menu, and resume the game, KSC remains blue, vertical and unresponsive.  If I restart KSP, KSC displays correctly until I return to it.\n\nI disabled Terrain Shadows without any noticeable effect.  I\u0027ve rebuilt the MM database.\n\n[Output_Log](https://www.dropbox.com/s/2lk1pgh50y2arip/Scatterer%20output_log.txt?dl=0)\n\nDiagnosing continues...\n\nEdit 1: Removing Scatterer solves the problem.\n\nEdit 2:  Using the .dll from above seems to solve the problem.  Still testing.  I have noticed, however, that using Scatterer adds considerably to the memory load.  I need to do some more work to quantify this.\n\n**Edited \u003Ctime datetime=\u00222016-02-25T07:40:55Z\u0022 title=\u002202/25/2016 07:40  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by Brigadier**\n  \nMore info"},{"CreatedByName":"MaxxQ","CreatedById":102622,"CreatedDateTime":"2016-02-25T06:11:23Z","Content":"I\u0027m having similar problems as Brigadier, Nhawks, Cratzz.  Difference is that while I also get the graphics screwups, I also have a doubled stock toolbar (second one is somewhat below and to the left of the normal position, no overlap), and a doubled SAS button panel (the double is slightly above and to the left, with overlap).\n\nNo RO, no RSS.  Using EVE.  Like the others, it happens when going to a vessel already in orbit from the tracking station, although the first time it happened was when going from the vessel to the Space Center.  Later attempts were from tracking station to vessel, but when going back to Space Center, it was fine.\n\nEdit:  The .dll you provided a page or so back seems to have fixed it.\n\n**Edited \u003Ctime datetime=\u00222016-02-25T06:38:40Z\u0022 title=\u002202/25/2016 06:38  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by MaxxQ**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T10:51:20Z","Content":"Alright everyone, since the newest .dll seems to fix the blue screen and tilted KSC issues, I\u0027ve posted an updated, fixed version.\n\n\u003E \n\u003E \n\u003E 11 hours ago, Cratzz said:\n\u003E \n\u003E \n\u003E Does anyone have a setup to use with RSS?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I was trying to use scatter and with the RSS workaround, I changed the planet name for Earth and Mars, but on the last line it mentioned something about changing the MapViewScale, but it did not say change to what.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Any idea what i should change it to? Its default set to 0.998. And the loadDistance and unloadDistance settings in PlanetList.cfg needing change dont stick. They revert to default.\n\u003E \n\nIn the newest version you don\u0027t have to fiddle with mapviewscale anymore. I guess I haven\u0027t updated that in a while, I\u0027ll probably make some standalone RSS configs soon.\n\n**Edited \u003Ctime datetime=\u00222016-02-25T13:31:11Z\u0022 title=\u002202/25/2016 01:31  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"stratvox","CreatedById":134498,"CreatedDateTime":"2016-02-25T16:43:12Z","Content":"\u003E \n\u003E \n\u003E 14 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Was the performance 5 fps before or was there a performance hit with the new .dll? Try this one [https://mega.nz/#!vNRkgChA!bnfL8d__gx46cbS4MfLvZ1Z2sR_0ji3yVNqsHykuIIo](https://mega.nz/#!vNRkgChA!bnfL8d__gx46cbS4MfLvZ1Z2sR_0ji3yVNqsHykuIIo) [@Nhawks17](https://forum.kerbalspaceprogram.com/index.php?/profile/32999-nhawks17/) also try it\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Anyway, godrays visible from LKO are silly but that\u0027s just how tiny Kerbin is.\n\u003E \n\nIt wasn\u0027t great, but not as bad. The new dll is much better ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) I had to book out and do a sound gig at a local establishment so I couldn\u0027t really follow up on that last night. The new dll (though I\u0027ve not yet had a chance to put the new production version in) has completely acceptable performance even with all the stuff turned on.\n\nAnd you know, I kinda like that about KSP, the sort of Lilliputian/Petit Prince way the worlds are. They\u0027re all improbably dense (even if the cores are made of osmium they can\u0027t have that much surface g), and those mountains could never happen in nature, they just wouldn\u0027t last very long if they somehow got thrown up by geological processes. I sort of view it as like a cartoon universe, and I set up my mods to exaggerate that (for example, I have Distant Objects set up to have the largest flares possible, the most saturation possible, and as bright as possible... makes it more cartoony ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) ). Having those godrays from LKO just adds to it; it\u0027s a real contributor to the overall vibe, so don\u0027t make \u0027em go away!\n\nThe tiny little star system also significantly cuts down on the travel time... ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\nI\u0027ll get and fire up the new release when I get home from work, but I fully expect it to rock."},{"CreatedByName":"Tenebrae","CreatedById":66427,"CreatedDateTime":"2016-02-25T18:00:14Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), just wanted to thank you for this mod. It made KSP that much awesome. \n\nOf course, as everything I do have a question. My issue is the tiny sun disk with RSS in the latest version. Just wondering if anyone has figured out the right sunflare.cfg settings and if they\u0027re willing to share. ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022)\n\n**Edited \u003Ctime datetime=\u00222016-02-25T18:14:43Z\u0022 title=\u002202/25/2016 06:14  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by Tenebrae**"},{"CreatedByName":"volcanicshrimp","CreatedById":139666,"CreatedDateTime":"2016-02-25T18:11:29Z","Content":"This would be a permanent mod on all my ksp saves if I didn\u0027t have such a bad computer. Looks amazing!"},{"CreatedByName":"Proteus","CreatedById":140980,"CreatedDateTime":"2016-02-25T18:19:43Z","Content":"the new sun flare looks so amazing from the orbit,thanks you good sir for this mod.\n\ni get kspgasm from this mod every time i play![^_^](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_happy.png \u0022^_^\u0022) ohh and this new version works well on my 3.2 scale system mod.![w9fpdd.png](http://i63.tinypic.com/w9fpdd.png)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T19:12:50Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Tenebrae said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), just wanted to thank you for this mod. It made KSP that much awesome. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Of course, as everything I do have a question. My issue is the tiny sun disk with RSS in the latest version. Just wondering if anyone has figured out the right sunflare.cfg settings and if they\u0027re willing to share. ![:rolleyes:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif \u0022:rolleyes:\u0022)\n\u003E \n\nAll you need to do is take the first two lines and scale them up (or in this case scale them down because the value is the inverse of the scale).\n\nIf I had to take a guess I\u0027d try to scale them up five times, so basically: \n\n    //sunFlare.png\n    flareSettings = 0.45,1,0.17\n    \n    //sunSpikes.png\n    spikesSettings = 0.6,1,0.2\n\nI haven\u0027t tested this though so adjust accordingly."},{"CreatedByName":"Tenebrae","CreatedById":66427,"CreatedDateTime":"2016-02-25T19:47:23Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), thanks for your quick reply.\n\nI played around with the values. This is what it shows up as from orbit. Inside the atmosphere the tiny dot is mitigated by the glare effects so it\u0027s not much of an issue. I\u0027ve added the configpoint 5 settings, maybe I\u0027m so utterly useless that I\u0027m missing something here.\n\n[http://imgur.com/a/Y0Lam](http://imgur.com/a/Y0Lam)\n\n**Edited \u003Ctime datetime=\u00222016-02-25T19:48:00Z\u0022 title=\u002202/25/2016 07:48  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by Tenebrae**"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-02-25T20:09:45Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\nAny idea what would cause a \u0022naked\u0022 sun? Linux mint 14.1 amd HD7950. [Logs](https://www.dropbox.com/s/alw2jra35o7pe3k/Player.log?dl=0). This was just squad folder, vens, and scatterer. Thanks!\n\nSpoiler\n\n![inar1K3.jpg](http://i.imgur.com/inar1K3.jpg)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T20:48:41Z","Content":"\u003E \n\u003E \n\u003E 57 minutes ago, Tenebrae said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), thanks for your quick reply.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I played around with the values. This is what it shows up as from orbit. Inside the atmosphere the tiny dot is mitigated by the glare effects so it\u0027s not much of an issue. I\u0027ve added the configpoint 5 settings, maybe I\u0027m so utterly useless that I\u0027m missing something here.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://imgur.com/a/Y0Lam](http://imgur.com/a/Y0Lam)\n\u003E \n\n\u003E \n\u003E \n\u003E 35 minutes ago, Svm420 said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Any idea what would cause a \u0022naked\u0022 sun? Linux mint 14.1 amd HD7950. [Logs](https://www.dropbox.com/s/alw2jra35o7pe3k/Player.log?dl=0). This was just squad folder, vens, and scatterer. Thanks!\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E ![inar1K3.jpg](http://i.imgur.com/inar1K3.jpg)\n\u003E \n\nI don\u0027t know really, could be that the sunflare shader isn\u0027t working at all with linux, which is weird as I tested with OpenGL and it works. [@Svm420](https://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/) Do you get a static pink square on the runway or the launchpad when you launch something? . [@Tenebrae](https://forum.kerbalspaceprogram.com/index.php?/profile/66427-tenebrae/) could you test if the lens flare shader works without RSS?"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-02-25T21:11:23Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E I don\u0027t know really, could be that the sunflare shader isn\u0027t working at all with linux, which is weird as I tested with OpenGL and it works. [@Svm420](https://forum.kerbalspaceprogram.com/index.php?/profile/136047-svm420/) Do you get a static pink square on the runway or the launchpad when you launch something? . [@Tenebrae](https://forum.kerbalspaceprogram.com/index.php?/profile/66427-tenebrae/) could you test if the lens flare shader works without RSS?\n\u003E \n\nYes I do! I knew it was scatterer as it started appearing after the latest update. Is it relevant? Sometimes in space as well though that may have been because of launching from the tracking station to an in flight vessel. Let me know if you need any more from me. Thanks!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T21:15:46Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Svm420 said:\n\u003E \n\u003E \n\u003E Yes I do! I knew it was scatterer as it started appearing after the latest update. Is it relevant? Sometimes in space as well though that may have been because of launching from the tracking station to an in flight vessel. Let me know if you need any more from me. Thanks!\n\u003E \n\nYeah if it\u0027s the one I\u0027m thinking about it would mean the lens flare shader isn\u0027t working. Try with this file [https://mega.nz/#!HZBFjLJY!EuT9OXeCb9WnsakQ_CVu3_EsNUezGEGvsNFZ0GGqiZA](https://mega.nz/#!HZBFjLJY!EuT9OXeCb9WnsakQ_CVu3_EsNUezGEGvsNFZ0GGqiZA) replace the one in your shaders folder"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-02-25T21:26:23Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Yeah if it\u0027s the one I\u0027m thinking about it would mean the lens flare shader isn\u0027t working. Try with this file [https://mega.nz/#!HZBFjLJY!EuT9OXeCb9WnsakQ_CVu3_EsNUezGEGvsNFZ0GGqiZA](https://mega.nz/#!HZBFjLJY!EuT9OXeCb9WnsakQ_CVu3_EsNUezGEGvsNFZ0GGqiZA) replace the one in your shaders folder\n\u003E \n\nThat fixed it. Thank you!!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T21:27:37Z","Content":"\u003E \n\u003E \n\u003E Just now, Svm420 said:\n\u003E \n\u003E \n\u003E That fixed it. Thank you!!\n\u003E \n\nGreat, also check if it turns red in sunsets and there isn\u0027t any blurriness or anything."},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-02-25T21:29:58Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Great, also check if it turns red in sunsets and there isn\u0027t any blurriness or anything.\n\u003E \n\nSeems to. I am uploading a sunrise pic for you to see yourself. \n\nSpoiler\n\n![N28FrMf.jpg](http://i.imgur.com/N28FrMf.jpg)\n\n**Edited \u003Ctime datetime=\u00222016-02-25T21:32:09Z\u0022 title=\u002202/25/2016 09:32  PM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 25, 2016\u003C/time\u003E by Svm420**"},{"CreatedByName":"Tenebrae","CreatedById":66427,"CreatedDateTime":"2016-02-25T21:44:33Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\nIt does work in a mainly vanilla install...and it does look gorgeous...I am sad now. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)\n\nAny other possibilities? Maybe I\u0027ll just revert to the previous version with my RSS install.\n\n![Y0OeehO.png](http://i.imgur.com/Y0OeehO.png)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-02-25T21:51:52Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Tenebrae said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It does work in a mainly vanilla install...and it does look gorgeous...I am sad now. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)\n\u003E \n\u003E \n\u003E \n\u003E Any other possibilities? Maybe I\u0027ll just revert to the previous version with my RSS install.\n\u003E \n\nPrevious versions don\u0027t have the lens flare. I\u0027ll just give it a whirl in RSS and see if I can find any problems or configure it."},{"CreatedByName":"Tenebrae","CreatedById":66427,"CreatedDateTime":"2016-02-25T22:05:05Z","Content":"If it\u0027s any help I tried both forced opengl and d3d11 with no luck in RSS. I\u0027m using the recommended config in the OP and all that. Let me know if I can help with anything else. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"CamillyCA","CreatedById":135893,"CreatedDateTime":"2016-02-25T22:28:00Z","Content":"I have strange artifact with the new version (0.0230 and 0.0231), it appears both on my win64 and on a clean win32 install with only scatterer. Artifact only appears from zenith to night.\n\nThis not happen with Terrain shadow off. Any idea?\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/KaMfo/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Cooboo","CreatedById":144519,"CreatedDateTime":"2016-02-25T22:38:41Z","Content":"I know this is an ongoing issue but I just want to report that my sun also appears as a tiny dot in atmosphere with out the flare"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-02-25T22:39:16Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E All you need to do is take the first two lines and scale them up (or in this case scale them down because the value is the inverse of the scale).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If I had to take a guess I\u0027d try to scale them up five times, so basically: \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     //sunFlare.png\n\u003E     flareSettings = 0.45,1,0.17\n\u003E     \n\u003E     //sunSpikes.png\n\u003E     spikesSettings = 0.6,1,0.2\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I haven\u0027t tested this though so adjust accordingly.\n\u003E \n\nDo you plan to add editability of these parameters in game? Thanks!"},{"CreatedByName":"Tenebrae","CreatedById":66427,"CreatedDateTime":"2016-02-25T22:44:00Z","Content":"[@Cooboo](https://forum.kerbalspaceprogram.com/index.php?/profile/144519-cooboo/) a temporary solution I found is disabling the lens flare option in the options menu."},{"CreatedByName":"Cooboo","CreatedById":144519,"CreatedDateTime":"2016-02-25T22:47:07Z","Content":"Ah ok thanks [@Tenebrae](https://forum.kerbalspaceprogram.com/index.php?/profile/66427-tenebrae/)"}]}