{"TopicId":78041,"ForumId":29,"TopicTitle":"Using the new Application bar or whatever it is called?","CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-18T00:02:09Z","PageNum":1,"Articles":[{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-18T00:02:09Z","Content":"\n\u003Cp\u003EIs there any documentation on how to put buttons into the new 0.24 application bar?\u003C/p\u003E\n"},{"CreatedByName":"WaveFunctionP","CreatedById":104784,"CreatedDateTime":"2014-07-18T05:34:22Z","Content":"\n\u003Cp\u003Edocumentation!?\u003C/p\u003E\u003Cp\u003Elolololololol\u003C/p\u003E\u003Cp\u003Ejjk. The most complete documentation I\u0027ve found is here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENot specific for your purposes, but I\u0027ve yet to find a better resource.\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-07-18T07:26:41Z","Content":"\n\u003Cp\u003EI have some stuff figured, I\u0027ll post something tonight when I get home if no-one else has anything\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2014-07-18T13:19:27Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EIt seems to me that the place to look is RUI*\u003C/span\u003E I\u0027m an idiot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf past is any indication, Mu will post some documentation within the next week or so. Also if past is any indication, someone will figure it out by then too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T13:40:48Z\u0022 title=\u002207/18/2014 01:40  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by kujuman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-18T13:34:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WaveFunctionP\u0022 data-cite=\u0022WaveFunctionP\u0022\u003E\u003Cdiv\u003Edocumentation!?\u003Cp\u003Elolololololol\u003C/p\u003E\u003Cp\u003Ejjk. The most complete documentation I\u0027ve found is here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Anatid/XML-Documentation-for-the-KSP-API\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENot specific for your purposes, but I\u0027ve yet to find a better resource.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI meant community documentation. Some people have figured it out as i\u0027ve seen mod updates saying they support it.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kujuman\u0022 data-cite=\u0022kujuman\u0022\u003E\u003Cdiv\u003EIt seems to me that the place to look is RUI*\u003Cp\u003EIf past is any indication, Mu will post some documentation within the next week or so. Also if past is any indication, someone will figure it out by then too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah some already support it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TriggerAu\u0022 data-cite=\u0022TriggerAu\u0022\u003E\u003Cdiv\u003EI have some stuff figured, I\u0027ll post something tonight when I get home if no-one else has anything\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be nice, thanks.\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2014-07-18T13:39:33Z","Content":"\n\u003Cp\u003EI was wrong about RUI* (it may be useful drawing parts of buttons)\u003C/p\u003E\u003Cp\u003EWe probably want to look at UIApp. This is going to be easy \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-07-18T14:10:11Z","Content":"\n\u003Cp\u003ESo heres what I\u0027ve got thus far, its not too hard, but there are some tricks to know, so here\u0027s the notes I have and have made: \u003C/p\u003E\u003Cul\u003E\u003Cli\u003E There are AddModApplication and AddApplication methods on the ApplicationLauncher - the AddMod option places the button to the left of a separator, the other puts the button in with the KSP Mods\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E The icon texture that is expected is 38x38 pixels, I\u0027m pretty sure\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIssues\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E Because the AddModApplication (and Add Application) functions have a PackedSprite parameter on one of the versions, you have to add a reference to the Assembly-CSharp-firstpass assembly to be able to compile the code\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E The toggle state is maintained separately for the KSP apps and the Mod Apps lists. So here\u0027s an example to explain. If you toggle on the default resources display when you hover over the messages app it sends a toggle off to the resources display and then when you stop hovering sends a toggle on to resources to display that again. If you have a AppMod button it does not receive a toggle off message when an App button is hovered over so you can end up with two things displayed on top of each other.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E I cant figure out the right code to get something to start toggled on and receive all the events, but after togglng the display once when the game is running they seem to fire (excluding the issue above)\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[table]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]App Button[/td]\u003C/p\u003E\u003Cp\u003E [td]AppMod Button[/td]\u003C/p\u003E\u003Cp\u003E [td]Toggle issue[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]\u003Cimg src=\u0022http://i.imgur.com/xRVb89N.png\u0022 alt=\u0022xRVb89N.png\u0022\u003E[/td]\u003C/p\u003E\u003Cp\u003E [td]\u003Cimg src=\u0022http://i.imgur.com/nXFcGc7.png\u0022 alt=\u0022nXFcGc7.png\u0022\u003E[/td]\u003C/p\u003E\u003Cp\u003E [td]\u003Cimg src=\u0022http://i.imgur.com/Zj4WoUa.png\u0022 alt=\u0022Zj4WoUa.png\u0022\u003E[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[/table]\u003C/p\u003E\u003Cp\u003EAnd here\u0027s a really basic code example (no guarantees here, but it should be enough to see how it works):\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid Awake() {\u003Cbr\u003E    //Register for the Ready event\u003Cbr\u003E    GameEvents.onGUIApplicationLauncherReady.Add(OnGUIAppLauncherReady);\u003Cbr\u003E}\u003Cbr\u003Evoid OnDestroy() {\u003Cbr\u003E    //Clean up\u003Cbr\u003E    GameEvents.onGUIApplicationLauncherReady.Remove(OnGUIAppLauncherReady);\u003Cbr\u003E    if (appButton != null)\u003Cbr\u003E        ApplicationLauncher.Instance.RemoveModApplication(appButton);\u003Cbr\u003E        // this one was a mistake - ApplicationLauncher.RemoveModApplication(appButton);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EApplicationLauncherButton appButton = null;\u003Cbr\u003Evoid OnGUIAppLauncherReady()\u003Cbr\u003E{\u003Cbr\u003E    if (ApplicationLauncher.Ready) {\u003Cbr\u003E        appButton = ApplicationLauncher.Instance.AddModApplication (\u003Cbr\u003E            onAppLaunchToggleOn, \u003Cbr\u003E            onAppLaunchToggleOff, \u003Cbr\u003E            onAppLaunchHoverOn, \u003Cbr\u003E            onAppLaunchHoverOff, \u003Cbr\u003E            onAppLaunchEnable, \u003Cbr\u003E            onAppLaunchDisable, \u003Cbr\u003E            ApplicationLauncher.AppScenes.FLIGHT,\u003Cbr\u003E            (Texture)GameDatabase.Instance.GetTexture(\u0022Plugin/Texture/AppLaunchIcon\u0022);\u003Cbr\u003E        );\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003Evoid onAppLaunchToggleOn() { /*Your code goes in here to toggle display on regardless of hover*/ }\u003Cbr\u003Evoid onAppLaunchToggleOff() { /*Your code goes in here to toggle display off regardless of hover*/ }\u003Cbr\u003Evoid onAppLaunchHoverOn() { /*Your code goes in here to show display on*/ }\u003Cbr\u003Evoid onAppLaunchHoverOff() { /*Your code goes in here to show display off*/ }\u003Cbr\u003Evoid onAppLaunchEnable() { /*Your code goes in here for if it gets enabled*/  }\u003Cbr\u003Evoid onAppLaunchDisable() { /*Your code goes in here for if it gets disabled*/  }\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHopefully tomorrow I can get it into ARP properly and you can look at that code too\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2014-07-18T14:16:24Z","Content":"\n\u003Cp\u003EVery nice Trigger thanks!\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2014-07-18T16:52:53Z","Content":"\n\u003Cp\u003Eicymi \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/86682-Appilcation-Launcher-and-Mods?p=1280014#post1280014\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/86682-Appilcation-Launcher-and-Mods?p=1280014#post1280014\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-07-18T23:28:55Z","Content":"\n\u003Cp\u003Eyeah, looks like holding off might be the best answer here\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-07-19T06:19:49Z","Content":"\n\u003Cp\u003EI had the code worked out and followed Roms advice for the things to watch out for so if you want to see some code that seems to be working you can look in the Alternate Resource Panel code\u003C/p\u003E\n"}]}