{"TopicId":38669,"ForumId":32,"TopicTitle":"0.21 SAS Test","CreatedByName":"Sardonyx","CreatedById":74982,"CreatedDateTime":"2013-07-25T04:42:15Z","PageNum":1,"Articles":[{"CreatedByName":"Sardonyx","CreatedById":74982,"CreatedDateTime":"2013-07-25T04:42:15Z","Content":"\n\u003Cp\u003EI did a couple tests of SAS in 0.21 to see how it performs during rocket launch. Here\u0027s my results with videos.\u003C/p\u003E\u003Cp\u003ETest 1: Normal launch of the craft. SAS is enabled from launch. There are 6 reaction wheels, one at the top of each booster under the nose cones. In this test SAS is able to keep the craft on course. I keep the last set of boosters in place to destabilize the craft somewhat in the roll dimension. There is no input from me other than the gravity turn. Note that SAS is using some Roll correction to keep the craft stable.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://youtu.be/JXINZ7P6W6k\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/JXINZ7P6W6k\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETest 2: This didn\u0027t go as intended. It\u0027s similar to Test 1 except the booster separation stage goes poorly. When the second stage of boosters disconnects, it damages a remaining booster sending the craft into a spin and ultimately causing it to break up. I let the flight continue to see if SAS would correct the spin. Initially it does. However after the spin is damped, it continues to applies a massive over correction reversing the spin. I\u0027ve developed simulators similar to this (ground vehicles) before, also using PID controllers to control HPR. I\u0027m wondering if the game tracks rotation beyond 360 degrees or 2pi and is actually trying to unwind the craft through all the rotations that have occurred?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://youtu.be/eYFKu1xVdxk\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/eYFKu1xVdxk\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETest 3: This is very similar to Test 2 except I intentionally transfer fuel to a burned out booster to introduce spin. Again the SAS does correct the rotation initially, but continues full force over correction after the spin is damped. Toward the end I use RCS to stabilize the craft with SAS still enabled. Again I\u0027m wondering if it\u0027s trying to unwind all the rotations that have occurred instead of moding the crafts HPR angle by 360 or 2pi. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://youtu.be/A-Nrt8zka0A\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/A-Nrt8zka0A\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe spin is introduced at 2:50.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-25T04:53:02Z\u0022 title=\u002207/25/2013 04:53  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 25, 2013\u003C/time\u003E by Sardonyx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"wudupdogz","CreatedById":24992,"CreatedDateTime":"2013-07-25T05:05:27Z","Content":"\n\u003Cp\u003EWith regard to test 3, tap \u0022f\u0022 after desired attitude is attained.\u003C/p\u003E\n"},{"CreatedByName":"TheHengeProphet","CreatedById":14895,"CreatedDateTime":"2013-07-25T05:09:00Z","Content":"\n\u003Cp\u003ETapping any control direction is roughly equivalent to tapping F now, as it deactivates SAS when under manual imput...\u003C/p\u003E\n"},{"CreatedByName":"Nodrak","CreatedById":69231,"CreatedDateTime":"2013-07-25T05:17:38Z","Content":"\n\u003Cp\u003EYou are just noticing how drag affects things. Spin in space if you want to see how it works when momentum, torque, thrust, and drag arn\u0027t all fighting.\u003C/p\u003E\n"},{"CreatedByName":"FITorion","CreatedById":7606,"CreatedDateTime":"2013-07-25T05:22:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheHengeProphet\u0022 data-cite=\u0022TheHengeProphet\u0022\u003E\u003Cdiv\u003ETapping any control direction is roughly equivalent to tapping F now, as it deactivates SAS when under manual imput...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Enot exactly. Yes but only for the axis of input. F disengages all axis.\u003C/p\u003E\n"},{"CreatedByName":"Tobyz28","CreatedById":72108,"CreatedDateTime":"2013-07-25T05:44:05Z","Content":"\n\u003Cp\u003EHere are my thoughts, I\u0027ll need to do more testing on my own but so far things appear normal to me...\u003C/p\u003E\u003Cp\u003EFor the rotation part: Your two engines are deflecting from their mount point outward in opposite directions causing the ship to spin. The SAS is not strong enough to correct.\u003C/p\u003E\u003Cp\u003EFor the spin portion: Similar to the first, there\u0027s too much mass/momentum for the SAS to correct from that large of a spin. The spin is also amplified by drag from the air given your still in atmosphere (30km is still significant) \u003C/p\u003E\u003Cp\u003EI\u0027ll be testing if reaction wheel location has an effect on the type of spins or if it just acts on the COM (would love some Dev input to save me the time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E )\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-25T05:49:08Z\u0022 title=\u002207/25/2013 05:49  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 25, 2013\u003C/time\u003E by Tobyz28\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sardonyx","CreatedById":74982,"CreatedDateTime":"2013-07-25T06:33:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tobyz28\u0022 data-cite=\u0022Tobyz28\u0022\u003E\u003Cdiv\u003EFor the rotation part: Your two engines are deflecting from their mount point outward in opposite directions causing the ship to spin. The SAS is not strong enough to correct.\u003Cp\u003EFor the spin portion: Similar to the first, there\u0027s too much mass/momentum for the SAS to correct from that large of a spin. The spin is also amplified by drag from the air given your still in atmosphere (30km is still significant) \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirst let me say, I don\u0027t think the new SAS is bad nor do I dislike it. I\u0027m just doing some testing here. The old SAS will hold this ship almost perfectly steady in launch. I disagree that the RCS/Reaction Wheels are not strong enough. If controlled manually there is plenty of force to cancel the rotation. The new SAS undershoots the force necessary though. I think there\u0027s a happy medium where it can hold the ship in place by applying a little more force, but not just going between 0 and 100. It really is probably tuning a constant on the feedback controller. That said, all in all it\u0027s not bad and certainly better than the old one blowing through a ton of RCS fuel whilst shaking a ship to pieces \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sardonyx","CreatedById":74982,"CreatedDateTime":"2013-07-25T06:52:10Z","Content":"\n\u003Cp\u003EAdded another test:\u003C/p\u003E\u003Cp\u003ETest 4 - This is a small craft with 2 Reaction Wheels. One at the top near the capsule, one at the bottom near the engine. There\u0027s some slight roll at the gravity turn, but overall it\u0027s relatively stable. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/SWhfWXvTMkQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Nodrak","CreatedById":69231,"CreatedDateTime":"2013-07-25T08:05:41Z","Content":"\n\u003Cp\u003EBeen flying some larger ships now (to get more inertia), and there seems to some sort of bug.\u003C/p\u003E\u003Cp\u003E1) Take a ship in a stable orbit facing a certain direction. (0 heading for example)\u003C/p\u003E\u003Cp\u003E2) With SAS on, apply full force and turn towards another direction (90 heading for example)\u003C/p\u003E\u003Cp\u003E3) Stop applying force halfway there (45 heading)\u003C/p\u003E\u003Cp\u003E4) Wait until SAS gets a heading\u003C/p\u003E\u003Cp\u003EMy final heading in my new station was ~270. You can tell this was where the SAS wanted to be, because of how it was managing the control forces.\u003C/p\u003E\u003Cp\u003EThis issue may extend to the \u0027off center\u0027 mass balancing which could explain some of the \u0027my ships wont stop rotating\u0027 issue. As the SAS unit will generate continuous force by setting its target in the wrong direction.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-25T08:08:40Z\u0022 title=\u002207/25/2013 08:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 25, 2013\u003C/time\u003E by Nodrak\u003C/strong\u003E\n\u003C/span\u003E\n"}]}