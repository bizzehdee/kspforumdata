{"TopicId":46089,"ForumId":34,"TopicTitle":"Ioncross SRB Manager Plugin","CreatedByName":"yongedevil","CreatedById":62491,"CreatedDateTime":"2013-09-16T00:15:07Z","PageNum":1,"Articles":[{"CreatedByName":"yongedevil","CreatedById":62491,"CreatedDateTime":"2013-09-16T00:15:07Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EIoncross SRB Manager Plugin\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Eversion: 1.1\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Elast tested with Kerbal v0.22\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EModuleManager by: ialdabaoth (\u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/31342-0-20-ModuleManager-for-all-your-stock-modding-needs-current-version-1-01\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EModuleManager forum thread\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E)\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kerbalspaceprogram.com/0-21-ioncross-srb-fuel-manager/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ESpace Port Link\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe Ioncross SRB Manager Plugin adds an interface to the editor (VAB/SPH) allowing the fuel load and burn time of the RT-10 and BACC solid rockets to be adjusted. The interface is brought up with in Action Group editor mode and either an RT-10 or BACC part is selected.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EUpdates\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E1.1 Update:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThis is a small update that fixes a bug that was causing spent SRBs to be refilled upon loading. The KW ModuleManager configuration has also been updated for KW v2.5.4.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EAbout the Mod\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EOverview:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThis mod is heavily inspired by \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/31706-0-20-Modular-Fuel-System-1-3-realistic-fuels-reconfigurable-fuel-tanks-and-engines\u0022 rel=\u0022external nofollow\u0022\u003EModule Fuel Systems\u003C/a\u003E by ialdabaoth. It essentially does for solid fuel rockets what Module Fuel Systems dose for liquid fuel tanks.\u003C/p\u003E\u003Cp\u003EBy adjusting the burn time and fuel loads on SRB their thrust can be tweaked to better match what is needed by a rocket during it\u0027s flight, making the SRB easier to work with when designing a rocket. Rather than trying to tweak liquid stages to so their timing works around solid boosters, the solid boosters can be made to deliver what is needed.\u003C/p\u003E\u003Cp\u003EThe setting range if very generous because one goal was to have the default values fit into the valid range while also allowing the SRBs to be made a lot heavier than the default. The default values have the SRBs massing about the same as an equivalent size of liquid tanks, which seamed very light for solid fuel. This led to a high upper bound for the fuel quantity and very wide range of values.\u003C/p\u003E\u003Cp\u003EAdmittedly testing of the burn time was done with a 15% increase to the ISP values active as well. The ISP boost was removed for the release to allow the parts to continue to be used as they were designed by Squad, but the ranges for the burn time were left. Just was with the fuel quantity this resulted in wide range of valid values with the upper range being above what is really a useful level for the rockets.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EInstallation\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003ENormal Installation:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ECopy the contents of KerbalInstallForlder into Kerbal. If you have Kerbal on Steam this will be:\u003C/p\u003E\u003Cp\u003E\u0026lt;steam dir\u0026gt;\\steamapps\\common\\Kerbal Space Program\\\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003ESupported Mods:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThis mod comes packaged with several ModuleManager configuration files. These files add the Ioncross SRB Manager to the parts from popular mods. There is no effect from having config files for mods you don\u0027t have installed. The mods and versions for each file is as follows:\u003C/p\u003E\u003Cp\u003E[table=width: 650, class: grid, align: left\u0022]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]Config file[/td]\u003C/p\u003E\u003Cp\u003E [td]Mod[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]ModuleManager_KWRocketry.cfg[/td]\u003C/p\u003E\u003Cp\u003E [td]\u003Ca href=\u0022http://kerbalspaceprogram.com/0-18-1-kw-rocketry-overhauled/\u0022 rel=\u0022external nofollow\u0022\u003EKW Rocketry [v2.5.4]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[tr]\u003C/p\u003E\u003Cp\u003E [td]ModuleManager_NovaPunch.cfg[/td]\u003C/p\u003E\u003Cp\u003E [td]\u003Ca href=\u0022http://kerbalspaceprogram.com/novapunch-remix-pack/\u0022 rel=\u0022external nofollow\u0022\u003ENovaPunch Remix Pack [2.03]\u003C/a\u003E[/td]\u003C/p\u003E\u003Cp\u003E[/tr]\u003C/p\u003E\u003Cp\u003E[/table]\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EManually Adding SRB Fuel Manager to Parts:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThis mod makes use of ialdabaoth\u0027s excellent ModuleManager plugin to modify default parts. Changes to stock parts are defined in ModuleManager_Squad.cfg located in GameData\\IoncrossSRBManager\\. This can be extended to modify parts from other mods fairly easily. For details on the ModuleManager syntax see the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/31342-0-20-ModuleManager-for-all-your-stock-modding-needs-current-version-1-01\u0022 rel=\u0022external nofollow\u0022\u003EModuleManger forum thread\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThe SRB Fuel Manager can also be added manually to parts. Simply copy the following code into the part.cfg.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = IonModuleSRBManager\u003Cbr\u003E\tminBurnTimeAtmo = 40\u003Cbr\u003E\tmaxBurnTimeAtmo = 120\u003Cbr\u003E\u003Cbr\u003E\tFUEL_RESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = SolidFuel\u003Cbr\u003E\t\tminAmount = 100\u003Cbr\u003E\t\tmaxAmount = 350\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EminBurnTimeAtmo and maxBurnTimeAtmo are the bounds for the rocket\u0027s burn time. Shorter burn time produce more thrust.\u003C/p\u003E\u003Cp\u003EminAmount and maxAmount are the bounds for the quantity of fuel the part is allowed to hold. More fuel equals more thrust.\u003C/p\u003E\u003Cp\u003EThe thrust is not bounded directly but is indirectly bounded by the above limits.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ELicence\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EModified source code, compiled dll, and configuration files may be distributed provided they attribute the original work to me, yongedevil. However, I request you do not simply re-post the original mod as I prefer it control where it is hosted myself.\u003C/p\u003E\u003Cp\u003EThe ModuleManager dll is by ialdabaoth. See the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/31342-0-20-ModuleManager-for-all-your-stock-modding-needs-current-version-1-01\u0022 rel=\u0022external nofollow\u0022\u003EModuleManger forum thread\u003C/a\u003E for information on it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-25T15:27:35Z\u0022 title=\u002210/25/2013 03:27  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 25, 2013\u003C/time\u003E by yongedevil\u003C/strong\u003E\n\u003Cbr\u003Eupdating last tested with\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-09-16T00:57:13Z","Content":"\n\u003Cp\u003EHurrah! Now if only this would interface with StretchyTanks...\u003C/p\u003E\n"},{"CreatedByName":"Hyratel","CreatedById":4486,"CreatedDateTime":"2013-09-16T18:28:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EHurrah! Now if only this would interface with StretchyTanks...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWHY?\u003C/p\u003E\u003Cp\u003EStretchytanks are Liquid tanks. this modifies solid rockets\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-09-16T18:31:16Z","Content":"\n\u003Cp\u003EPoint being if StretchyTanks had a solid mode, combined with this (to modify thrust) you could have fully procedural solid rockets.\u003C/p\u003E\n"},{"CreatedByName":"sirklick","CreatedById":76119,"CreatedDateTime":"2013-09-16T22:43:31Z","Content":"\n\u003Cp\u003ENathanKell - I like the idea of keeping as many of these mods separate personally. You can use stretchy tanks and this mod together quite nicely without some sort of combination of the two. I know that doesn\u0027t enable dynamic SRB\u0027s but this allows the mass to be altered without scaling, making any scaling done mostly aesthetic. The Stretchy Tanks modder does not seem overly enthused about collaborations or expanding outside of the fun things he likes doing with KSP (can\u0027t blame him despite his apparent curtness with others who wish him to implement tie-ins). The moment modding KSP becomes too much like work, is the moment we lose support for the mods we love. \u003C/p\u003E\u003Cp\u003Eyongedevil - fantastic job, thank you very much for this and all of the work you put into it. Neat potential feature you may or may not feel like implementing would be the ability to alter the thrust curve over time similar perhaps to the mechjeb ascent autopilot editor.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-09-17T03:14:25Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@yongedevil:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI can\u0027t say \u0022thank you\u0022 enough times to give you a justice! This is the final piece of a puzzle.\u003C/p\u003E\u003Cp\u003EAnd a couple of feature requests if I may:\u003C/p\u003E\u003Cp\u003E1. Provide some documentation on how to write config for other parts, not included into the package (I\u0027ve got some rescaled SRBs since there clearly is shortage of them, and AdvSRB are a bit awkward to get used to since none of dV calculation mods support it).\u003C/p\u003E\u003Cp\u003E2. Add ability to modify thrust profile throught burn. Ideally allow customization a-la MJ\u0027s ascent profile editor, at minimum allow selection among preset profiles (constant thrust, \u0022hammer\u0022 thrust - when there is a big hike in the beginning, and then it mellows out, decreasing thrust - useful for stand-alone first/second stages).\u003C/p\u003E\n"},{"CreatedByName":"yongedevil","CreatedById":62491,"CreatedDateTime":"2013-09-17T06:03:51Z","Content":"\n\u003Cp\u003EI\u0027d love to have the height of the SRBs scale with the fuel load too, but I will not be warping or stretching Squad\u0027s part models. I also want to keep this mod a simple interface addition without any parts. That kind of means I won\u0027t be doing any visual changes with this mod. I\u0027ve no problem with anyone else picking up the source code and trying their hand it it though.\u003C/p\u003E\u003Cp\u003EHaving thrust vary by time, or I guess more accurately by the portion of fuel burnt, is something I am interested in doing, but at the moment I have another mod that need more work than this one so I\u0027m not ready to reopen this mod to add new features right now.\u003C/p\u003E\u003Cp\u003EAnd I think \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/38597-Part-Advanced-SRB-WIP-v-5-by-Kerbal-Science-Foundation-20-2\u0022 rel=\u0022external nofollow\u0022\u003EAdvanced SRB\u003C/a\u003E already provides both of those features. I guess it\u0027s not 100% working at this point though if delta-v calculations are off, but still might be worth checking out for anyone really wanting a more in depth mod for SRBs.\u003C/p\u003E\u003Cp\u003EAs for documentation, I\u0027m not really sure what is missing from the readme. There are only the four variables that define the bounds on the burn time and fuel quantities. I can\u0027t think of anything else you\u0027d need to know to stick the module on another part. I\u0027m happy to answer any questions you have though.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-09-17T06:21:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yongedevil\u0022 data-cite=\u0022yongedevil\u0022\u003E\u003Cdiv\u003EI\u0027d love to have the height of the SRBs scale with the fuel load too, but I will not be warping or stretching Squad\u0027s part models. I also want to keep this mod a simple interface addition without any parts. That kind of means I won\u0027t be doing any visual changes with this mod. I\u0027ve no problem with anyone else picking up the source code and trying their hand it it though.\u003Cp\u003EHaving thrust vary by time, or I guess more accurately by the portion of fuel burnt, is something I am interested in doing, but at the moment I have another mod that need more work than this one so I\u0027m not ready to reopen this mod to add new features right now.\u003C/p\u003E\u003Cp\u003EAnd I think \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/38597-Part-Advanced-SRB-WIP-v-5-by-Kerbal-Science-Foundation-20-2\u0022 rel=\u0022external nofollow\u0022\u003EAdvanced SRB\u003C/a\u003E already provides both of those features. I guess it\u0027s not 100% working at this point though if delta-v calculations are off, but still might be worth checking out for anyone really wanting a more in depth mod for SRBs.\u003C/p\u003E\u003Cp\u003EAs for documentation, I\u0027m not really sure what is missing from the readme. There are only the four variables that define the bounds on the burn time and fuel quantities. I can\u0027t think of anything else you\u0027d need to know to stick the module on another part. I\u0027m happy to answer any questions you have though.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve written a plugin sometime earlier to control boosters\u0027 thrust either by time or by percentage of fuel left. I guess it\u0027s having similar functions as you are trying to implement ...\u003C/p\u003E\u003Cp\u003EThis mod is a user of my plugin and BTW it\u0027s using fuel percentage curve mode:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/49598-o-21-x-Space-Shuttle-Solid-Rocket-Booster-1-1-Replica\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/49598-o-21-x-Space-Shuttle-Solid-Rocket-Booster-1-1-Replica\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd another author has also used the plugin to implement a VTOL autopilot system. (though it has been out-dated)\u003C/p\u003E\u003Cp\u003EActually I wrote that plugin with the initial intention to support adjustable-maximum-thrust-in-editor-and-during-flight capability, which i think is useful for both solid boosters and for liquid engines... Think of Delta IV Heavy\u0027s core booster, it has less throttle during flight until the two side-mounted boosters are decoupled. Think of some overpowered solid boosters, we can adjust its thrust to make it a medium-thrust long-burn booster which can be handy in some cases.\u003C/p\u003E\u003Cp\u003EJust want to inform you. It would be good if you can integrate some functions from that.\u003C/p\u003E\u003Cp\u003ECodes available on GitHub... but, uh... I haven\u0027t uploaded the latest code changes yet.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/HoneyFox/EngineThrustController\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/HoneyFox/EngineThrustController\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Char0093","CreatedById":74302,"CreatedDateTime":"2013-09-17T06:49:59Z","Content":"\n\u003Cp\u003EReally Cool mod.Gives new life and Viability to SRBs. I never really found too much use for them simply because of their burn times.\u003C/p\u003E\u003Cp\u003ELittle tip to those Wishing to use a Combined LRB/SRB Stage.If you\u0027re using Mech Jeb,set up the Liquid Rockets first.Then Set your SRB\u0027s Burn Time What Mech Jeb says the Stage\u0027s Duration in Atmosphere will be.usually,the SRBs will burn out 3-5 seconds before your LRBs,so Fine Tune the SRBs\u0027 Burn Time to get them as close as you can!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-09-17T07:32:00Z","Content":"\n\u003Cp\u003EYongdevil, I\u0027m trying to figure out how (well, _when_) you read a SRB\u0027s resources and maxThrust. Is it really on load of KSP? If so, is there any way to modify the data once you\u0027ve read it?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-09-17T07:33:45Z","Content":"\n\u003Cp\u003Esirklick, I really don\u0027t want to derail this thread by talking about that here. I don\u0027t blame AG for not implementing stuff either. And as to not integrating mods--just because mods play nice with each other doesn\u0027t mean you\u0027re forced to use all of them together. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut for those who do...it\u0027s important that they _do_ work together.\u003C/p\u003E\n"},{"CreatedByName":"yongedevil","CreatedById":62491,"CreatedDateTime":"2013-09-18T02:10:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EYongdevil, I\u0027m trying to figure out how (well, _when_) you read a SRB\u0027s resources and maxThrust. Is it really on load of KSP? If so, is there any way to modify the data once you\u0027ve read it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe mod reads the resources and maxThrust when the part is first placed in the editor. These however, are only used as starting values. Once any change is made IonModuleSRBManager will overwrite the default values on the part, and it overwrites the values again every time the part is loaded from then on. Which come to think of it might mean empty SRB get refilled if you save and then load them.\u003C/p\u003E\u003Cp\u003EHoneyFox, your ModuleSRBThrust is pretty much what I had in mind to do for variable thrust. Although I think most of the work I think is going to be in building the UI for controlling the thrust profile.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-09-18T02:29:04Z","Content":"\n\u003Cp\u003Eyongedevil, I see. So that\u0027s why any changes made once the part is placed (i.e. any kind of procedural part) won\u0027t be seen by IonModuleSRBManager. (Also, I apologize for misspelling your name before!)\u003C/p\u003E\u003Cp\u003EOh well. This will still be great for standard SRBs though! (And I implemented a key\u002Bmouseover way to determine burn time, and thus thrust, on procedural SRBs, so no worries.)\u003C/p\u003E\n"},{"CreatedByName":"mushroomman","CreatedById":236,"CreatedDateTime":"2013-09-18T03:31:26Z","Content":"\n\u003Cp\u003EIt would seem that I can\u0027t drag the gui. It just kind of sits there. Like it\u0027s better than me.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-09-18T03:39:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022yongedevil\u0022 data-cite=\u0022yongedevil\u0022\u003E\u003Cdiv\u003EThe mod reads the resources and maxThrust when the part is first placed in the editor. These however, are only used as starting values. Once any change is made IonModuleSRBManager will overwrite the default values on the part, and it overwrites the values again every time the part is loaded from then on. Which come to think of it might mean empty SRB get refilled if you save and then load them.\u003Cp\u003EHoneyFox, your ModuleSRBThrust is pretty much what I had in mind to do for variable thrust. Although I think most of the work I think is going to be in building the UI for controlling the thrust profile.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, a GUI editor for editing bezier curves in game will be very useful for this. (Also will be useful for another plugin written by me: TweakableParam, in which I am currently using a very primitive GUI to edit FloatCurve in game, too primitive that even I hate to use that... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\n"}]}