{"TopicId":90610,"ForumId":70,"TopicTitle":"Intermittent Stack Overflow When Coming Out of TimeWarp","CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2014-11-18T06:12:29Z","PageNum":1,"Articles":[{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2014-11-18T06:12:29Z","Content":"\n\u003Cp\u003EI know this isn\u0027t following all the instructions for getting help... I\u0027m starting to troubleshoot the issue and thought I\u0027d make a shot in the dark, see if anybody has had a similar issue. Then I\u0027ll go digging for all the minutiae.\u003C/p\u003E\u003Cp\u003ESometimes, but not always, when slowing down from fast forward to normal time the game will slow down drastically, about one frame per second or slower. KSP.log says: \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 21:25:59.329] Unpacking ScanSat 03\u003Cbr\u003E[EXC 21:26:01.904] StackOverflowException: The requested operation caused a stack overflow.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOutput_log says: \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EUnpacking ScanSat 03\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003EFAR Raycast mask: 557059 557063\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003EArgumentException: Getting control 1\u0027s position in a group with only 1 controls when doing Repaint\u003Cbr\u003EAborting\u003Cbr\u003E  at UnityEngine.GUILayoutGroup.GetNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at UnityEngine.GUILayoutUtility.BeginLayoutArea (UnityEngine.GUIStyle style, System.Type LayoutType) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at UnityEngine.GUILayout.BeginArea (Rect screenRect, UnityEngine.GUIContent content, UnityEngine.GUIStyle style) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at UnityEngine.GUILayout.BeginArea (Rect screenRect) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Toolbar.Button.drawToolTip () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Toolbar.Toolbar.drawButtonToolTips () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Toolbar.Toolbar.draw () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at Toolbar.ToolbarManager.OnGUI () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223029558.0029, -56667980.3585735, -54509979602.2265]   rVel: [19516.5601421907, 24499.2661381812, -65.5976918260381] |31322.7467529645|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419921269.692843, 65858781.5462281, -56667978.9472029]   rVel: [-73.3461619875561, -65.5976918260381, 161.45121357057] |189.074617584219|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419921194.879359, -56668045.8567928, 65858946.2263993]   rVel: [-73.3469636393763, 161.451087842516, -65.5975836438068] |189.074783671842|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223050251.1137, -54509953637.1113, -56668047.459205]   rVel: [-73.3469636393747, -65.5975836438068, 161.451087842517] |31322.7462076782|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223497958.4983, -56669552.264688, -54509391621.9815]   rVel: [19516.3513672984, 24499.4322290537, -65.5974176457009] |31322.7465791084|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419920316.43946, 65863628.9672173, -56669552.4665993]   rVel: [-73.3458067959255, -65.5974176457009, 161.44897369] |189.072472036211|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419920241.626339, -56669619.3759086, 65863793.6451017]   rVel: [-73.3466084458125, 161.448847952709, -65.5973094604809] |189.072638116186|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223518669.2095, -54509365648.5738, -56669618.8309659]   rVel: [-73.3466084458123, -65.5973094604809, 161.44884795271] |31322.746036421|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223976129.8654, -56671156.429238, -54508791379.8267]   rVel: [19516.1378381775, 24499.6021178413, -65.5971398432924] |31322.7464159201|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419919312.118189, 65868563.3663056, -56671158.3402681]   rVel: [-73.3456648535539, -65.5971398432924, 161.446879706404] |189.070532541071|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculating orbit for Ast. FKE-300 (unloaded): Kerbin\u003Cbr\u003ErPos: [419919237.305209, -56671225.2492974, 65868728.0420624]   rVel: [-73.3464665016213, 161.446753959678, -65.5970316549935] |189.070698613869|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003Erecalculated orbit for Ast. FKE-300 (unloaded): the Sun\u003Cbr\u003ErPos: [68223996829.9961, -54508765405.0122, -56671226.1287764]   rVel: [-73.3464665016218, -65.5970316549935, 161.446753959677] |31322.7458717649|\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003EHandleD3DDeviceLost\u003Cbr\u003E  HandleD3DDeviceLost: still lost\u003Cbr\u003ESkipped rendering frame because GfxDevice is in invalid state (device lost)\u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: 1502)\u003Cbr\u003E\u003Cbr\u003EHandleD3DDeviceLost\u003Cbr\u003E  HandleD3DDeviceLost: still lost\u003Cbr\u003ESkipped frame because GfxDevice is in invalid state (device lost)\u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: 1617)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThen I slowly manage to go to Space Center, and the problem disappears. I can look at the tracking station and select the flight like normal, and it will load back up like normal.\u003C/p\u003E\u003Cp\u003EWhat gives? I see the single line about FAR raycast, and something about control 1 when doing repaint, and something about the Toolbar... I don\u0027t know what any of that means, or how it\u0027s relevant. Is that talking about the stock toolbar or Blizzy\u0027s? This is a heavily modded install. I\u0027m certain I have the most current release of FAR. Obviously I need to check all the others for currency too... but was just hoping first, shot in the dark, that somebody else knows what I should be looking for.\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2014-11-18T09:47:24Z","Content":"\n\u003Cp\u003EI\u0027m a bit surprised that FAR is doing anything with raycasts while you are outside the atmosphere (I assume you are outside the atmosphere). This was the normal, non-physics timewarp, wasn\u0027t it (\u0026gt;= 5x)?\u003C/p\u003E\u003Cp\u003EThe argument exception and call stack is related to Blizzy\u0027s toolbar. I have seen a very similar message in other logs at least a couple of times but don\u0027t know what causes it. As it appears to be something related to tooltips, did you, by any chance, have the mouse over the toolbar when you came out of warp?\u003C/p\u003E\u003Cp\u003ECan you upload the whole of that output_log.txt somewhere?\u003C/p\u003E\n"},{"CreatedByName":"White Owl","CreatedById":10849,"CreatedDateTime":"2014-11-18T10:40:53Z","Content":"\n\u003Cp\u003EYes, out of atmosphere. Yes, non-physics warp. No idea if I was mousing over something, but I\u0027ll definitely try to pay attention to that possibility for further troubleshooting.\u003C/p\u003E\u003Cp\u003EI uhh... sorta... lost the output_log. \u0027Cause I\u0027m a derp.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003C/p\u003E\u003Cp\u003E When the problem recurs next time, I\u0027ll definitely grab it.\u003C/p\u003E\n"},{"CreatedByName":"jkadarn","CreatedById":129332,"CreatedDateTime":"2014-11-18T17:43:41Z","Content":"\n\u003Cp\u003EI had the same bug and managed to reproduced it with only FAR (0.14.3.2) installed.\u003C/p\u003E\u003Cp\u003ESee: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/20451-0-25-Ferram-Aerospace-Research-v0-14-3-2-10-21-14?p=1547265\u0026amp;viewfull=1#post1547265\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/20451-0-25-Ferram-Aerospace-Research-v0-14-3-2-10-21-14?p=1547265\u0026amp;viewfull=1#post1547265\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-11-18T18:35:39Z","Content":"\n\u003Cp\u003EFAR isn\u0027t running any raycasts outside the atmosphere; those are simply the layers the colliders are on so it doesn\u0027t waste time checking other layers.\u003C/p\u003E\u003Cp\u003EAs I have said numerous times before, this is obviously a stock issue; none of the methods in the stack trace exist in FAR, only in the stock game.\u003C/p\u003E\n"}]}