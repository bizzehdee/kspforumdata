{"TopicId":76646,"ForumId":15,"TopicTitle":"hollow cargo bay (B9 derivative), issue: single object with multiple collision meshes","CreatedByName":"IXian probe","CreatedById":25658,"CreatedDateTime":"2014-07-04T10:06:54Z","PageNum":1,"Articles":[{"CreatedByName":"IXian probe","CreatedById":25658,"CreatedDateTime":"2014-07-04T10:06:54Z","Content":"\n\u003Cp\u003ESOLVED. \u003C/p\u003E\u003Cp\u003Eok, so here goes. \u003C/p\u003E\u003Cp\u003EI have been an avid fan of making SSTO\u0027s for about a year now, and with the B9 pack and FAR I can take \u002B300t of rocket into LKO. However, there are no cargo bays large enough for that kind of cargo.. So last week I decided to learn to use Blender \u002B Unity to first modify the B9 S2W 6m cargo bay so it could take 3m rocket parts and to make adapters from S2W to what I currently dub S2WD. (D for doubious). On the long term I intend to make B9 compatible parts that can take huge internal payloads and have both top and rear cargobay doors with enough clearance that anything that actually fits the cavity will be able to enter/leave (an issue I have had with MK4 cargo bay doors).\u003C/p\u003E\u003Cp\u003EBut before I can do that, I need to understand what I\u0027m currently doing wrong.\u003C/p\u003E\u003Cp\u003EI\u0027m using Unity 4, Blender 2.70, part tools 0.23.\u003C/p\u003E\u003Cp\u003ESo what is the problem? Collision meshes.\u003C/p\u003E\u003Cp\u003ENo, what is the real problem? When in the VAB or in flight, only one of the mesh colliders (out of 11) act like a collision mesh in the cargo bay hull part. While the multiple mesh colliders (2) used on the cargo bay doors are correct. (!)\u003C/p\u003E\u003Cp\u003Edetailed:\u003C/p\u003E\u003Cp\u003EI imported the S2W 6m cargo bay into blender with .mu import script, \u003C/p\u003E\u003Cp\u003Emodified the model by adding 1m of height, \u003C/p\u003E\u003Cp\u003Emade convex mesh colliders (boxes) for all the sidewalls, floors and cargo bay doors. \u003C/p\u003E\u003Cp\u003ENope, not one single mesh collider but actually colliders that are individually convex and together match the new S2WD 6m Cargo bay.\u003C/p\u003E\u003Cp\u003ENothing.. nada.\u003C/p\u003E\u003Cp\u003EI\u0027ve tried a few different approaches by now. \u003C/p\u003E\u003Cp\u003E1. I used edge split in blender on the mesh colliders. =nada.\u003C/p\u003E\u003Cp\u003E2. I duplicated each mesh collider and inverted the normals of the new duplicate. =nada.\u003C/p\u003E\u003Cp\u003E3. I made sure none of the mesh colliders overlap in case that was screwing things up. =nada. \u003C/p\u003E\u003Cp\u003E4. I made placeholders for each mesh colliders as actual objects, assigned the placeholders a individual mesh collider, then told Unity to not render the objects. \u003C/p\u003E\u003Cp\u003E Then mesh collision works correctly but KSP renders the placeholders objects. \u003C/p\u003E\u003Cp\u003EFor me it seems that I am either missing a critical piece of information about mesh colliders. Or there is some sort of trick to making hollow objects. \u003C/p\u003E\u003Cp\u003EWhat am I doing wrong?\u003C/p\u003E\u003Cp\u003EAnd what can I do to make it easier for you to understand my problem? \u003C/p\u003E\u003Cp\u003EHere are pictures of the part. The first picture show correct placement of an object on the left side of the part. However, it is not possible to place the same object on the right side. If I however turn on 2-fold symmetry, then the 2nd part is placed correctly. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/sh/4cqcdr46z5iw0ah/AAA5wJq-JP__6xgmpWpQ2BAPa\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/4cqcdr46z5iw0ah/AAA5wJq-JP__6xgmpWpQ2BAPa\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-04T14:53:30Z\u0022 title=\u002207/04/2014 02:53  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 4, 2014\u003C/time\u003E by IXian probe\u003C/strong\u003E\n\u003Cbr\u003EIssue solved!\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-07-04T12:48:23Z","Content":"\n\u003Cp\u003Ehave you tried a series of simple box colliders instead of mesh colliders? you can\u0027t have multiple collider components on a single game object in KSP, it will just pick the 1st one and ignore the rest. all colliders must be separate game objects without mesh filter and mesh renderer component.\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2014-07-04T13:38:49Z","Content":"\n\u003Cp\u003EThere usually is no need to ever use box colliders outside of box-shaped parts.\u003C/p\u003E\u003Cp\u003EMake sure you have every single collider marked as Convex in the Unity editor inspector properties of the Mesh Collider components, otherwise they will not be used by the game even if their shape is convex.\u003C/p\u003E\n"},{"CreatedByName":"SpannerMonkey(smce)","CreatedById":50907,"CreatedDateTime":"2014-07-04T13:50:07Z","Content":"\n\u003Cp\u003EI know I dont use blender but I reckon that the process must be similar. I will say that my experience with .mu exports is that they need a lot of cleaning up before you can work on them, typically it multplies colliders, ads extra transforms misplaces pivots, etc etc.\u003C/p\u003E\u003Cp\u003EThis is how i do a cargo bay, I cant work out what your prob is, but I know that this way works for me everytime, and I\u0027ve made a fair few of these for various things.\u003C/p\u003E\u003Cp\u003E Bearing in mind this is a fresh not recycled via mu model, I break it into chunks that will form walls, roof , sides , ends etc you can see in first pic the wire frame each of those colors represents a seperate object which will carry a std unity convex mesh collider. \u003C/p\u003E\u003Cp\u003EI\u0027ve not made seperate collider objects for anything non spherical, round since the early days of ksp. Below is the image in game once complete. \u003C/p\u003E\u003Cp\u003E Occasionaly I find I break the 255 triangle limit doing it this way and have to redo the sections but not often.\u003C/p\u003E\u003Cp\u003EIf you cant get it to work I\u0027d quite happily take a swing at it, after all two heads are better than one\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Ukksu1v.png\u0022 alt=\u0022Ukksu1v.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/DKCuupx.png\u0022 alt=\u0022DKCuupx.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-04T13:53:47Z\u0022 title=\u002207/04/2014 01:53  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 4, 2014\u003C/time\u003E by SpannerMonkey(smce)\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"IXian probe","CreatedById":25658,"CreatedDateTime":"2014-07-04T14:52:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Ehave you tried a series of simple box colliders instead of mesh colliders? you can\u0027t have multiple collider components on a single game object in KSP, it will just pick the 1st one and ignore the rest. all colliders must be separate game objects without mesh filter and mesh renderer component.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you, problem solved. the clue was that there can only be one collider for each game object combined with me deleting the Mesh Renderer component in Unity for the dummy objects. \u003C/p\u003E\u003Cp\u003EOnwards to the next challenge, how to make textures. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}