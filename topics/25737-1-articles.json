{"TopicId":25737,"ForumId":16,"TopicTitle":"Tips to reduce ASAS wobble?","CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2013-05-06T15:04:34Z","PageNum":1,"Articles":[{"CreatedByName":"jfjohnny5","CreatedById":64610,"CreatedDateTime":"2013-05-06T15:04:34Z","Content":"\n\u003Cp\u003ENew to KSP. Loving it so far. I did some searching on this issue. But I\u0027m guessing a lot of threads got eaten up by the recent server issue I read about. There\u0027s a nice long thread about the ASAS wobble on bigger rockets, but it dates back to October. Just wondering if that info is still the best or if updates have altered anything.\u003C/p\u003E\u003Cp\u003EBottom line is that I\u0027m feeling comfortable with using SAS and manually guiding trajectory, just letting SAS handle spin. But it would be nice to have the computer hold my heading from time to time, so I started to play with ASAS. Whoa - wobble city. Even a single stack (though tall) rocket wobbles laterally from front to back. I see the mainsail vectoring a lot; more than I need to do manually in order to hold the same rocket \u0022steady.\u0022 \u003C/p\u003E\u003Cp\u003EAny advice?\u003C/p\u003E\n"},{"CreatedByName":"brusura","CreatedById":57899,"CreatedDateTime":"2013-05-06T16:50:11Z","Content":"\n\u003Cp\u003EHi and welcome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eyou could use a lot of struct to make your rocket more rigid, anyway most of this wooble is during the ascent right? Once you are in space having asas on should not be much a problem unless you have rcs on and rcs ports are placed asimmetrical to center of mass .\u003C/p\u003E\u003Cp\u003EAlso having engine near CM help too, I personally do not have all this issue with ASAS unless I turn on RCS ( I use rcs just for translation once I got the momentum i switch rcs back off )\u003C/p\u003E\n"},{"CreatedByName":"CalculusWarrior","CreatedById":58313,"CreatedDateTime":"2013-05-06T17:10:03Z","Content":"\n\u003Cp\u003EI believe there was a tip that said by placing the ASAS unit closer down towards your main engine it will reduce wobble. I haven\u0027t tested that yet though, but it seems like a possible solution.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E I tested this out, and it seemed like placing the ASAS closer to the bottom did help. Not sure if the same applies for larger, more complex rockets.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-06T17:17:45Z\u0022 title=\u002205/06/2013 05:17  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 6, 2013\u003C/time\u003E by CalculusWarrior\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2013-05-06T17:55:59Z","Content":"\n\u003Cp\u003EI\u0027ll have to try that CalculusWarrior, it\u0027s an interesting thought that ASAS is dependent on it\u0027s position \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Ejfjohnny5, I reduce my ASAS wobble by disabling the gimbals on my engines, or by not using ASAS \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Conarr","CreatedById":60613,"CreatedDateTime":"2013-05-06T18:15:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EI\u0027ll have to try that CalculusWarrior, it\u0027s an interesting thought that ASAS is dependent on it\u0027s position \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003Ejfjohnny5, I reduce my ASAS wobble by disabling the gimbals on my engines, or by not using ASAS \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just let mine wobble until they explode - that\u0027ll teach \u0027em!\u003C/p\u003E\n"},{"CreatedByName":"Deadpangod3","CreatedById":58339,"CreatedDateTime":"2013-05-06T18:46:16Z","Content":"\n\u003Cp\u003EMoar struts!!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Shrike42","CreatedById":61104,"CreatedDateTime":"2013-05-06T19:01:47Z","Content":"\n\u003Cp\u003EThe idea that putting the ASAS closer to the engines might improve the stability is an interesting one, I\u0027ll have to try it myself.\u003C/p\u003E\u003Cp\u003EHowever, I do have a sort of related example. This primarily applies to planes, but I\u0027ve found that ASAS wobble seems to come from having the control surfaces away from the central body. I do a lot of biplane configuration jets, and if the flaps aren\u0027t up close to the body, the wobble is enough to completely destabilize the flight path, even if the plane is capable of ascent angles over 45 degrees.\u003C/p\u003E\u003Cp\u003EPlacing the flaps close to the body, on the other hand, makes them all work together and maintain both the heading and the ascent angle quite well. Very useful for speed attempts. \u003C/p\u003E\u003Cp\u003EAs it is, the reason for the wobble is because the code for the ASAS is a PID controller that doesn\u0027t change parameters from craft to craft, and can\u0027t be altered in-game. It\u0027s a one-size-hopefully-fits-all solution that doesn\u0027t actually fit everything the kerbals can dream up. So, there\u0027s \u0027ringing\u0027 when the rocket or plane is too unstable/has too many control surfaces \u0026amp; active RCS/is long and slow to turn, as the controller will overcompensate, correct, overcompensate, correct, etc. and shake rockets to pieces. \u003C/p\u003E\u003Cp\u003EI can see the idea that, perhaps, Squad implemented the ASAS module to do guidance based on the ASAS module\u0027s position, as it would be a known location/facing. Wonder if it might be best to put the ASAS close to the CoM...?\u003C/p\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2013-05-06T19:58:50Z","Content":"\n\u003Cp\u003EDo you really need a Mainsail on your rocket? Maybe you could use several smaller ones instead, or have Mainsails AND smaller engines, but let the smaller ones do the steering while the gimbal is disabled on the Mainsail. And rockets that are wide rather than tall flex less.\u003C/p\u003E\n"},{"CreatedByName":"Banbite","CreatedById":5170,"CreatedDateTime":"2013-05-06T21:06:02Z","Content":"\n\u003Cp\u003EOne thing that\u0027s good at fixing wobble when using mainsail\u0027s is locking the gimbals of them and then only activating it when you want to turn. Action groups are great for this, especially when using multiple Mainsails. Reinforcing everything with struts also makes an huge improvment.\u003C/p\u003E\n"},{"CreatedByName":"RocketPilot573","CreatedById":62803,"CreatedDateTime":"2013-05-06T21:08:28Z","Content":"\n\u003Cp\u003EAdding a few SASs on the rocket as well as an ASAS helps too. Unless the rocket is huge and has several gimbaling Mainsails...\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-05-06T21:59:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jfjohnny5\u0022 data-cite=\u0022jfjohnny5\u0022\u003E\u003Cdiv\u003ENew to KSP. Loving it so far. I did some searching on this issue. But I\u0027m guessing a lot of threads got eaten up by the recent server issue I read about. There\u0027s a nice long thread about the ASAS wobble on bigger rockets, but it dates back to October. Just wondering if that info is still the best or if updates have altered anything.\u003Cp\u003EBottom line is that I\u0027m feeling comfortable with using SAS and manually guiding trajectory, just letting SAS handle spin. But it would be nice to have the computer hold my heading from time to time, so I started to play with ASAS. Whoa - wobble city. Even a single stack (though tall) rocket wobbles laterally from front to back. I see the mainsail vectoring a lot; more than I need to do manually in order to hold the same rocket \u0022steady.\u0022 \u003C/p\u003E\u003Cp\u003EAny advice?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can try using the Avionics package. It is essentially the same thing as ASAS just with the values in the PID reduced for aircraft control. That should be a bit better. I have never seen as bad a PID implementation as is in this game. It\u0027s like everyone learned how to program a PID loop but they really don\u0027t understand how they work.\u003C/p\u003E\u003Cp\u003EAstronomical gains are the order of the day I guess.\u003C/p\u003E\u003Cp\u003EJust playing around with MJ2, I have found I can reduce the Proportional gain by nearly 10,000%. Institute a Integral of about .1 and reduce Derivative to 1 instead of 800. I know not every craft is the same, but the massive overkill is just a waste.\u003C/p\u003E\u003Cp\u003EThere also seems to be a problem where analog control of surfaces and gimbals just doesn\u0027t exist. I don\u0027t know why, but there is no moving a surface to 50%. There is 100% or nothing. That has nothing to do with the PID and that needs to be fixed for PID to even function as one would expect.\u003C/p\u003E\u003Cp\u003EAlso, the same gains are applied to every axis! Why? I can guarantee you that pitch and yaw require more gain than roll most of the time.\u003C/p\u003E\u003Cp\u003EPID that never settles is clearly incorrect. There are a number of problems that contribute to this as I have outlined above.\u003C/p\u003E\u003Cp\u003ERead this.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/PID_controller\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/PID_controller\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAfter reading more about it, I was able to actually get MJ2 to settle and only make minor course corrections on most of my crafts. You eventually run into the problem of the Bang Bang flight controls causing oscillation no matter what you do.\u003C/p\u003E\n"},{"CreatedByName":"CosmicJoker42","CreatedById":63618,"CreatedDateTime":"2013-05-14T23:40:57Z","Content":"\n\u003Cp\u003EI just disable gimbals on my engines and keep RCS off whenever possible. The latter practice also serves to save RCS fuel.\u003C/p\u003E\n"},{"CreatedByName":"EmanonP","CreatedById":60201,"CreatedDateTime":"2013-05-15T01:00:16Z","Content":"\n\u003Cp\u003EStruts add so little weight, and add SO much stability. The more the merrier I say.\u003C/p\u003E\n"},{"CreatedByName":"Tollazor","CreatedById":65713,"CreatedDateTime":"2013-05-15T01:49:19Z","Content":"\n\u003Cp\u003EI read a tip somewhere that mentioned that the center that the gyro spins on is based on the where your \u0027control\u0027 center is. For most people that is where they have the ASAS or Mechjeb attachment. It said to reduce the wobble put a \u0027controller\u0027 part near your CoM. When you go into the launch platform, before launching, right click on the part and select \u0027control from here\u0027. That should shift the spin to the new control part. I tried this method by putting a MechJeb part on close to the CoM and told it to control from there. It did seem to reduce the wobble by a good amount. It would be better if the part was actually centered on the CoM instead of off to the side like a MechJeb part would be.\u003C/p\u003E\u003Cp\u003ETry placing your ASAS (or a second one, midway down your ship). After you jettison the stage with the 2nd ASAS in it, control should shift to the next nearest control point, probably your 1st ASAS.\u003C/p\u003E\u003Cp\u003ELet us know if that helps you or if it was a bogus tip that played mind games on me.\u003C/p\u003E\n"},{"CreatedByName":"Tollazor","CreatedById":65713,"CreatedDateTime":"2013-05-15T02:33:43Z","Content":"\n\u003Cp\u003EI read a tip somewhere that the spin of the SAS modules is applied to the part that is the \u0027control\u0027 part. Usually this is the ASAS or Pod. The tip was to place a controllable part at your CoM and at the launch platform right click the part and select \u0027control from here\u0027. This moves the spin of the sas to be applied at your CoM or very close to it.\u003C/p\u003E\u003Cp\u003EI tried this by placing a MechJeb part near my CoM and the wobbles seemed to be greatly reduced after I \u0027control\u0027 it from the mechjeb part. Try it out and let us know if it does work, or the tip is just playing with my head.\u003C/p\u003E\n"},{"CreatedByName":"yithpistol","CreatedById":61110,"CreatedDateTime":"2013-05-21T04:17:54Z","Content":"\n\u003Cp\u003EI have had this issue with the Proton K simulation in the ISS Tutorial on the wiki. There is always one point on the ship that if there is too much shaking will collapse the whole structure in a very spectacular manner! Even without autopilot. I\u0027m unsure if the design of this ship is a good idea to push the Zarya simulation. I\u0027ve managed it using no autopilot or SAS, though. I think the Proton was good on paper, but the designer had to notice the problem, especially when using MechJeb for ascent. That was instant doom. It is hard to get that 51.6 degree inclination to recreate the ISS without a good autopilot. At least, get that inclination with the amount of fuel you have. But yes, I agree, wider rockets are more stable. Tall and thin will snap. I might try struts between the failure points to shore it up... or give up and have a nice equatorial ISS...\u003C/p\u003E\u003Cp\u003EWill also attempt putting the SAS closer to the CoM.\u003C/p\u003E\n"},{"CreatedByName":"Morzak","CreatedById":61243,"CreatedDateTime":"2013-05-21T08:57:19Z","Content":"\n\u003Cp\u003EOnly had huge wobbling issues with Docked togheter crafts, multiple SAS can really make the whole thing unstable, It also doesn\u0027t help that Dockingports are extremely tough but seem to be made out of rubber. At launch it only gets problematic if the payload is really long or docked together, that means strutting the hell out of it or using bload sweat and tears to wobble the thing into orbit manually.\u003C/p\u003E\n"},{"CreatedByName":"Anglave","CreatedById":62706,"CreatedDateTime":"2013-05-21T16:48:46Z","Content":"\n\u003Cp\u003EOn my bigger rockets, I\u0027ve had the same \u0022stop to stop\u0022 oscillation. As Payload says, the PID implementation is poor. Frequently I end up with control surfaces just slamming from full one direction to full the opposite direction and back. The controller needs to take into account the rotational inertia of the craft, and it needs finer control. (Actually, what it really needs is some foresight. Don\u0027t keep turning as hard as you can right up until the moment you need to start turning the opposite direction).\u003C/p\u003E\u003Cp\u003EASAS doesn\u0027t start turning back against its rotation until it passes the target point. A human pilot will thrust counter to the direction of rotation, in order to begin to slow the rotation, as he approaches the desired orientation. This dramatically reduces overshoot. ASAS thrusts toward the desired orientation until it reaches it, then (obviously) slews past it, and begins thrusting back. No wonder it has trouble settling.\u003C/p\u003E\u003Cp\u003EThe biggest problem I have, though, is that controls in front of the Center of Mass give inverted response. Vectored thrust, for sure, works exactly backwards if it\u0027s in front of the CoM. The only thing to do is disable the gimbals.\u003C/p\u003E\u003Cp\u003EAerodynamic control surfaces also have some kind of inversion problem, I think. In recent experiments, a control surface facing the \u0022normal\u0022 direction gave inverted pitch and yaw, but my craft did not spin. Attaching the control surfaces in an inverted orientation gave correct pitch and yaw, but my craft spun like a propeller because roll commands were inverted.\u003C/p\u003E\u003Cp\u003EI\u0027ve been toying with a puller design for my lifter, and the control inversion basically means it\u0027s not possible to make it stable. The only option I\u0027ve tried that has had even moderate success is stability through RCS. With all gimbals locked and no aerodynamic controls, my rocket is relatively stable. Adding RCS lets me actually control it.\u003C/p\u003E\u003Cp\u003EI\u0027m very curious if moving the ASAS part around has any effect. It really shouldn\u0027t, but I could see the game taking its measurements from its location. If anyone runs experiments or has more information about how the controller\u0027s location affects its behavior, I\u0027m very interested.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-05-21T16:54:28Z\u0022 title=\u002205/21/2013 04:54  PM\u0022 data-short=\u002211 yr\u0022\u003EMay 21, 2013\u003C/time\u003E by Anglave\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2013-05-21T17:00:27Z","Content":"\n\u003Cp\u003EI have read that same tip many have referred to about putting a control point close to the CoM (it\u0027s on the wiki somewhere, I think). I tried this once by putting a probe core above the first stage fuel tank, but it didn\u0027t seem to make much of a difference for me. The rocket I built for this way really unstable, maybe using something that\u0027s not so inherently wobbly might produce better results. \u003C/p\u003E\u003Cp\u003EMy solution to the problem is just not to use ASAS units. I usually let mechjeb take care of liftoff, which seems to me at least, to do a better job of controlling wobble. But even when I don\u0027t use mechjeb, I just manually keep it centered. And disable all but the center engine\u0027s gimbal, sometimes even that can be disabled if winglets give you enough control.\u003C/p\u003E\n"},{"CreatedByName":"Flixxbeatz","CreatedById":29991,"CreatedDateTime":"2013-05-21T17:01:37Z","Content":"\n\u003Cp\u003EAs for multiple gimballed engines firing, better shut most of their gimbals, since it would just wobble the spacecraft instead of maneuvering it. Also, use connector struts between stages to make the rocket more rigid and less wobbly.\u003C/p\u003E\n"}]}