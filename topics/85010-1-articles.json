{"TopicId":85010,"ForumId":29,"TopicTitle":"[RESOLVED] How to Add Callback for onEditorShipModified","CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-20T00:45:43Z","PageNum":1,"Articles":[{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-20T00:45:43Z","Content":"\n\u003Cp\u003EI want to add a callback to fire whenever onEditorShipModified occurs. I\u0027ve searched and Googled and tried various solutions. No joy. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        public override void OnStart()\u003Cbr\u003E        {\u003Cbr\u003E            GameEvents.onEditorShipModified.Add(myFunction);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        private void myFunction(EventReport e)\u003Cbr\u003E        {\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen I hover over the error, I get:\u003C/p\u003E\u003Cp\u003EThe best overloaded method match for \u0027EventData\u0026lt;ShipConstruct\u0026gt;.Add(EventData\u0026lt;ShipConstruct\u0026gt;.OnEvent)\u0027 has some invalid arguments\u003C/p\u003E\u003Cp\u003EWhen I hover over the Add, it displays this tooltip for the parameter.\u003C/p\u003E\u003Cp\u003EEventData\u0026lt;ShipConstruct\u0026gt;.OnEvent evt)\u003C/p\u003E\u003Cp\u003EI tried this as a definition for myFunction():\u003C/p\u003E\u003Cp\u003Eprivate EventData\u0026lt;ShipConstruct\u0026gt; myFunction(EventReport e)\u003C/p\u003E\u003Cp\u003Ethis also failed:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        public override void OnStart()\u003Cbr\u003E        {\u003Cbr\u003E            GameEvents.onEditorShipModified.Add(onEditorShipModified);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        private void onEditorShipModified(EventReport e)\u003Cbr\u003E        {\u003Cbr\u003E            return;\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI see callbacks for other events when I Googled them. However, this event must be special. In another thread, I saw how this person added a callback for onCrewKilled:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        GameEvents.onCrewKilled.Add(onCrewKilled);\u003Cbr\u003E\u003Cbr\u003E        private void onCrewKilled(EventReport e)\u003Cbr\u003E        {\u003Cbr\u003E            Debug.Log(\u0022KSN onCrewKilled!\u0022);\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhat am I missing? How should my statements appear?\u003C/p\u003E\u003Cp\u003EIs there any good documentation on GameEvents?\u003C/p\u003E\u003Cp\u003Ethanks\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-20T01:19:42Z\u0022 title=\u002209/20/2014 01:19  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 20, 2014\u003C/time\u003E by Apollo13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2014-09-20T01:04:06Z","Content":"\n\u003Cp\u003EmyFunction needs to take a ShipConstruct:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprivate void myFunction(ShipConstruct sc)\u003Cbr\u003E{\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf an argument needs an EventData\u0026lt;T\u0026gt;.OnEvent, what it needs is a function that takes a T and returns void. See the declaration of the EventData\u0026lt;T\u0026gt;.OnEvent delegate type \u003Ca href=\u0022http://anatid.github.io/XML-Documentation-for-the-KSP-API/class_event_data_3_01_t_01_4.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003ESee \u003Ca href=\u0022http://anatid.github.io/XML-Documentation-for-the-KSP-API/class_game_events.html\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E for some documentation on GameEvents.\u003C/p\u003E\n"},{"CreatedByName":"Apollo13","CreatedById":74572,"CreatedDateTime":"2014-09-20T01:06:36Z","Content":"\n\u003Cp\u003E@The_Duck: THAT WORKED!!!!! Thank you. Sent you a forum rep point as well. I previously read that API doc. I thought the EventData\u0026lt;ShipConstruct\u0026gt; was the cast for the callback function, not the argument.\u003C/p\u003E\n"}]}