{"TopicId":164122,"ForumId":15,"TopicTitle":"Internal lights not blocked by props","CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2017-08-06T06:12:34Z","PageNum":1,"Articles":[{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2017-08-06T06:12:34Z","Content":"\n\u003Cp\u003E\nI\u0027m making a station crew module whose internal consists of a common galley area and four sleeping compartments, each of which will have their own independently-controlled light transforms. In other words, light from one zone should not spill into others if there is a wall panel or prop blocking the light.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I find that the door panel props aren\u0027t blocking the light coming from the galley:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022vtS9SEq.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022http://i.imgur.com/vtS9SEq.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried using cube primitives with double-sided shadows to try and block the light, as well as playing around with shaders, but none of that seems to have worked.\n\u003C/p\u003E\n\u003Cp\u003E\nAny ideas?\n\u003C/p\u003E\n"},{"CreatedByName":"steedcrugeon","CreatedById":168050,"CreatedDateTime":"2017-08-07T11:52:47Z","Content":"\n\u003Cp\u003E\nWhat is the render queue for the light source and the props? perhaps it doesn\u0027t see them as an obstruction in that way?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh and that is a very pretty IVA!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-07T11:53:23Z\u0022 title=\u002208/07/2017 11:53  AM\u0022 data-short=\u00226 yr\u0022\u003EAugust 7, 2017\u003C/time\u003E by steedcrugeon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2017-08-09T07:35:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223142258\u0022 data-ipsquote-contentid=\u0022164122\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221502106767\u0022 data-ipsquote-userid=\u0022168050\u0022 data-ipsquote-username=\u0022steedcrugeon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/08/2017 at 11:52 PM, steedcrugeon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat is the render queue for the light source and the props?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure what you mean, could you please elaborate?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/08/2017 at 11:52 PM, steedcrugeon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nperhaps it doesn\u0027t see them as an obstruction in that way?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAccording to various Unity forum threads:\n\u003C/p\u003E\n\u003Cp\u003E\n- The prevalent solution seems to be to assign the objects you don\u0027t want to be lit to a different layer, then specify a culling mask for the light transform; however, in the context of KSP one cannot move IVAs or props outside of the Kerbal layer.\n\u003C/p\u003E\n\u003Cp\u003E\n- There\u0027s also some discussion on vertex vs. pixel lighting. Apparently, pixel lighting would properly account for obstructions by meshes but are resource intensive, and so Unity games often put a limit on how many pixel lights you can have in a scene; any lights that go over the limit get turned into vertex lights, which are (AFAIK) computationally \u0022cheaper\u0022 to render but do cause raycasts to pass right through objects.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s \u003Ca href=\u0022https://forum.unity3d.com/threads/light-passing-through-walls.412934/\u0022 rel=\u0022external nofollow\u0022\u003Eone of the more comprehensive threads on the subject\u003C/a\u003E, with varying (and sometimes conflicting) suggestions. I\u0027m still trying to figure this out, so any help would be appreciated.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/08/2017 at 11:52 PM, steedcrugeon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh and that is a very pretty IVA!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! It\u0027s still very bare-bones at the moment while I work on higher level functionality like cabin lighting, master-slave shutter control and emissives\n\u003C/p\u003E\n"}]}