{"TopicId":92517,"ForumId":29,"TopicTitle":"Mouse over Building in SpaceCenter Scene","CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-11T01:46:34Z","PageNum":1,"Articles":[{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-11T01:46:34Z","Content":"\n\u003Cp\u003EAnyone know how I can detect when the mouse is over a building in this scene. I\u0027d be happy if I could just read the text displayed in the status bar really?\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-12-11T07:29:25Z","Content":"\n\u003Cp\u003EYou could cast a ray, query the ScreenSafeGUIText directly, or add a component to the building colliders that will receive the MonoBehaviour mouse events. Here\u0027s an example that uses all three:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[KSPAddon(KSPAddon.Startup.SpaceCentre, false)]\u003Cbr\u003Einternal class BuildingMouseoverCheck : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    void Start()\u003Cbr\u003E    {\u003Cbr\u003E        FindObjectsOfType\u0026lt;SpaceCenterBuildingCollider\u0026gt;()\u003Cbr\u003E            .ToList()\u003Cbr\u003E            .ForEach(c =\u0026gt; c.gameObject.AddComponent\u0026lt;MouseOverInfo\u0026gt;());\u003Cbr\u003E\u003Cbr\u003E        ScreenSafeUI.fetch.GetComponentInChildren\u0026lt;ScreenSafeGUIText\u0026gt;().gameObject.AddComponent\u0026lt;SSTextReader\u0026gt;();\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    void Update()\u003Cbr\u003E    {\u003Cbr\u003E        RaycastHit hitInfo;\u003Cbr\u003E\u003Cbr\u003E        if (Physics.Raycast(Camera.main.ScreenPointToRay(Input.mousePosition), out hitInfo, float.MaxValue, 1 \u0026lt;\u0026lt; 15))\u003Cbr\u003E        {\u003Cbr\u003E            var coll = hitInfo.transform.GetComponent\u0026lt;SpaceCenterBuildingCollider\u0026gt;();\u003Cbr\u003E\u003Cbr\u003E            if (coll != null)\u003Cbr\u003E                print(string.Format(\u0022Raycast: Mouse is over: {0}\u0022, coll.building.buildingInfoName));\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eclass MouseOverInfo : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    void OnMouseEnter()\u003Cbr\u003E    {\u003Cbr\u003E        print(string.Format(\u0022Component: Moused over {0}\u0022, GetComponent\u0026lt;SpaceCenterBuildingCollider\u0026gt;().building.buildingInfoName));\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    void OnMouseExit()\u003Cbr\u003E    {\u003Cbr\u003E        print(string.Format(\u0022Component: Mouse left {0}\u0022, GetComponent\u0026lt;SpaceCenterBuildingCollider\u0026gt;().building.buildingInfoName));\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eclass SSTextReader : MonoBehaviour\u003Cbr\u003E{\u003Cbr\u003E    void Update()\u003Cbr\u003E    {\u003Cbr\u003E        print(string.Format(\u0022GUI Text: {0}\u0022, GetComponent\u0026lt;ScreenSafeGUIText\u0026gt;().text));\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2014-12-11T20:13:36Z","Content":"\n\u003Cp\u003EWow. This really demonstrates how much I have to learn about Unity.\u003C/p\u003E\u003Cp\u003EThanks heaps xEvilReeperx, I\u0027ll give em a go tonight\u003C/p\u003E\n"}]}