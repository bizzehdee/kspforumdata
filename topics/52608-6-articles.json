{"TopicId":52608,"ForumId":34,"TopicTitle":"[0.25] RasterPropMonitor - putting the A in your IVA (v0.18.3) [8 Oct]","CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-10T15:56:17Z","PageNum":6,"Articles":[{"CreatedByName":"Pingonaut","CreatedById":15723,"CreatedDateTime":"2013-11-30T14:06:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003ESeeing as how you have both the old prop and the new prop it\u0027s a very obvious case of an incorrect installation. I don\u0027t know how exactly you messed it up though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I\u0027ve deleted all the files and readded them multiple times now.\u003C/p\u003E\u003Cp\u003EI don\u0027t use ModuleManager 1_5, that one doesn\u0027t work for some other mods, I believe. If it is necessary I\u0027ll figure something out.\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-11-30T14:07:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EI\u0027m not clear what exactly do you mean by a \u0027single position button\u0027. One that does not stay toggled, but immediately snaps back after being triggered once?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, exactly that. I want to emulate a single-throw, single-position switch (or non-toggle push button). I\u0027m not a modeler, and the example model \u0022only\u0022 had 8 buttons, so I wanted to repurpose other buttons by making them non-toggle buttons. In addition to SCANsat support, I had ideas for integrating with another plugin where I would want the additional buttons. I also wanted a button for staging, since that\u0027s not an on-off function. All that being said, it sounds like the example prop in 0.9 will suit my needs, so this may be moot (will download it now and take a look).\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-30T14:22:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pingonaut\u0022 data-cite=\u0022pingonaut\u0022\u003E\u003Cdiv\u003EWell I\u0027ve deleted all the files and readded them multiple times now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re still getting the new prop meshed together with the old prop, that just isn\u0027t bloody possible because the new package \u003Cem\u003Edoes not even contain\u003C/em\u003E the old prop.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pingonaut\u0022 data-cite=\u0022pingonaut\u0022\u003E\u003Cdiv\u003EI don\u0027t use ModuleManager 1_5, that one doesn\u0027t work for some other mods, I believe. If it is necessary I\u0027ll figure something out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as I\u0027m aware, you believe wrong, but it shouldn\u0027t be necessary, 1.3 should still work. The correct location of installation, though, is necessary.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EYes, exactly that. I want to emulate a single-throw, single-position switch (or non-toggle push button). I\u0027m not a modeler, and the example model \u0022only\u0022 had 8 buttons, so I wanted to repurpose other buttons by making them non-toggle buttons. In addition to SCANsat support, I had ideas for integrating with another plugin where I would want the additional buttons. I also wanted a button for staging, since that\u0027s not an on-off function. All that being said, it sounds like the example prop in 0.9 will suit my needs, so this may be moot (will download it now and take a look).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, there is currently no way to make the monitor accept key presses from other props than itself, and it\u0027s been proving nontrivial to add, so there would be no way to re-purpose anything, unfortunately, hence my confusion. Background and page handlers receive globalButtons, but the actual button click events are still handled by the monitor itself, though there\u0027s nothing stopping the handlers from collecting data, elsewhere, including by installing their own button handlers somewhere else.\u003C/p\u003E\u003Cp\u003EAs for a staging button, the staging switch in ALCOR immediately snaps back while it is still powered by JSIActionGroupSwitch, because that\u0027s how the underlying flag works -- it briefly goes on and then snaps back. While it is visually a switch because that\u0027s what alexustas wanted it to be, programmatically it is the same - a model with one animation that moves it between \u0027on\u0027 and \u0027off\u0027 position. Since the \u0027stage\u0027 flag does not remain set after you trigger a stage, the plugin then moves the animation backwards.\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-30T15:42:00Z","Content":"\n\u003Cp\u003E..Continued from ScanSat thread:\u003C/p\u003E\u003Cp\u003Eabout those approach funnels. These could be just textures overlaid on top of the scansat image, just like the red dot annomalies are. No need for advanced vectors and such..\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-30T15:51:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003E..Continued from ScanSat thread:\u003Cp\u003Eabout those approach funnels. These could be just textures overlaid on top of the scansat image, just like the red dot annomalies are. No need for advanced vectors and such..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s problematic to use textures to mark up something which isn\u0027t a point. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I suppose it shouldn\u0027t be much of a problem to compute two points in corners and stretch it, but that will break if map projection is changed. Right now, you can\u0027t change it, but the code is written with the assumption that you should be able to, so a different projection should still work... Orbit lines in these screenshots are already vectors, by the way. \u003C/p\u003E\u003Cp\u003EWell, tell me about what those funnels are first and how would I know where they should be drawn. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Deep silence","CreatedById":55089,"CreatedDateTime":"2013-11-30T15:52:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EThis mod makes heavy use of RenderTextures. I suspect that just isn\u0027t getting emulated correctly, indeed, try the linux KSP.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are right, Linux version run your mod smoothly. But does an out of memory when launched with the same mods that run fine with the windows version. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-30T15:58:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EWell, tell me about what those funnels are first and how would I know where they should be drawn. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.exmixer.com/Garmin500FSX.jpg\u0022 alt=\u0022Garmin500FSX.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThose green arrows extending from the runway are the approach lines, they basically tell you that if you are inside them, you will end up going directly onto the runway, they don\u0027t really need to be arrows, it could be just a single line extending along the runway axis to a few kilometers from runway on each side. If you could also make them addable so we could add an Island runway and Kerbin city runway too =) that would be great. It\u0027s not a priority, I\u0027m just saying it would be very helpful.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-30T16:05:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003EThose green arrows extending from the runway are the approach lines, they basically tell you that if you are inside them, you will end up going directly onto the runway, they don\u0027t really need to be arrows, it could be just a single line extending along the runway axis to a few kilometers from runway on each side. If you could also make them addable so we could add an Island runway and Kerbin city runway too =) that would be great. It\u0027s not a priority, I\u0027m just saying it would be very helpful.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, here\u0027s what I\u0027m thinking right now:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tPAGE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tbutton = buttonR1\u003Cbr\u003E\t\ttext = JSI/RasterPropMonitor/Example/ExampleMFD/p1_landing40x20.txt\u003Cbr\u003E\t\tBACKGROUNDHANDLER\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tname = JSISCANsatRPM\u003Cbr\u003E\t\t\tmethod = MapRenderer\u003Cbr\u003E\t\t\tbuttonClickMethod = ButtonProcessor\u003Cbr\u003E\t\t\tpageActiveMethod = PageActive\u003Cbr\u003E\t\t\t...blah blah\u003Cbr\u003E\t\t\tMAPFEATURE\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tbody = Kerbin\u003Cbr\u003E\t\t\t\tcolor = 0,1,0,0\u003Cbr\u003E\t\t\t\tpoint = 0.0,0.0\u003Cbr\u003E\t\t\t\tpoint = 0.1,0.1\u003Cbr\u003E\t\t\t\tpoint = 0.0,0.1\u003Cbr\u003E\t\t\t\t...\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t\ttextureURL = JSI/RasterPropMonitor/Example/ExampleMFD/GPS/noscansat\t\t\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOr maybe, instead of an array of points like this in the config file, there would be a reference to a file to load them from, but that makes little difference. \u0022point\u0022 is the longitude-latitude of a point on the map, and all points are connected by lines of that color. That is relatively easy to code because all I would need to do would be to code an object to store information on the map feature and load it from configs, and then I could just feed it to the same routine that already draws orbits. It will be easier if you provide the points to test with. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-30T16:14:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deep silence\u0022 data-cite=\u0022Deep silence\u0022\u003E\u003Cdiv\u003EYou are right, Linux version run your mod smoothly. But does an out of memory when launched with the same mods that run fine with the windows version. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHuh.\u003C/p\u003E\u003Cp\u003EWell, I don\u0027t think I\u0027m at fault for this particular one, (RPM is much heavier on the GPU memory than system memory) but I dunno, try \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/59005\u0022 rel=\u0022external nofollow\u0022\u003Ethis mod?\u003C/a\u003E It can help considerably.\u003C/p\u003E\n"},{"CreatedByName":"Pingonaut","CreatedById":15723,"CreatedDateTime":"2013-12-01T00:19:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EIf you\u0027re still getting the new prop meshed together with the old prop, that just isn\u0027t bloody possible because the new package \u003Cem\u003Edoes not even contain\u003C/em\u003E the old prop.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I\u0027ll try again, reinstall each file after deleting each one.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EEdit: Well I discovered I had accidentally renamed one of the old files and didn\u0027t notice. That\u0027s the problem! Thanks for the replies.\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"CERVERUS","CreatedById":15589,"CreatedDateTime":"2013-12-01T07:54:44Z","Content":"\n\u003Cp\u003EYour work is awesome Mihara...you add a level up to the KSP Game.\u003C/p\u003E\u003Cp\u003EMaybe you can add the MFD and to another pods (personal i like it to the FASA Big Gemini).\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"MrTheBull","CreatedById":78651,"CreatedDateTime":"2013-12-01T09:06:07Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EMihara\u003C/strong\u003E, thanks for this awesom plugin! =D\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cs310927.vk.me/v310927434/58b1/kaku1fHJXms.jpg\u0022 alt=\u0022kaku1fHJXms.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cs310927.vk.me/v310927434/58ba/zdb01IstL78.jpg\u0022 alt=\u0022zdb01IstL78.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T09:35:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CERVERUS\u0022 data-cite=\u0022CERVERUS\u0022\u003E\u003Cdiv\u003EYour work is awesome Mihara...you add a level up to the KSP Game.\u003Cp\u003EMaybe you can add the MFD and to another pods (personal i like it to the FASA Big Gemini).\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I\u0027ll leave that for the authors of particular pods. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf I get enough free time, though, I want to completely remove all props from a stock pod and remake them with my plugin...\u003C/p\u003E\n"},{"CreatedByName":"CERVERUS","CreatedById":15589,"CreatedDateTime":"2013-12-01T11:09:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EWell, I\u0027ll leave that for the authors of particular pods. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EIf I get enough free time, though, I want to completely remove all props from a stock pod and remake them with my plugin...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat news,thank you for this amazing plugins!!!\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-12-01T14:24:06Z","Content":"\n\u003Cp\u003EI spent a good deal of yesterday setting up the new MFD in a KOSMOS VA Capsule, and then tweaking the push switches from the ASET lander cabin to fit my action group layout (changing the labels displayed on the buttons from C01, C02, etc to things like \u0022Release Capsule\u0022, \u0022Solar Panels\u0022, etc). The SCANsat integration is awesome, and I\u0027m now interested enough to start looking at writing my own background handler for integration with another plugin. I do have some more feedback on the code.\u003C/p\u003E\u003Cp\u003E1) Regarding SIP formatting: Can you make the M format 3 digits after the decimal (like the \u0027k\u0027)? I got my orbit display screens all nicely formatted, and then I discovered when I was en route to the Mun that Mm were printed with 6 digits after the decimal, and even with the 9 character space I had set aside for the formatted output, I couldn\u0027t fit it (10.123456M is 10 chars). I think dropping the 4th through 6th decimal of accuracy is safe to do. The other request is suppressing micro - that shows up before / after landing in the horiz and vert speeds. milli is probably safe to drop, as well: 0.123 m/s is sufficient, I think.\u003C/p\u003E\u003Cp\u003E2) There\u0027s a quirk with RPM using a docking port camera assigned to the docking port / parachute parts from Sumghai\u0027s SDHI module. The docking port seems to disappear after the parachutes deploy, and the page for the docking port cam won\u0027t display any more (it\u0027s a gray screen or something - none of the overlay text shows up either - but I can click another page button and that all works). It works prior to parachute deployment. I\u0027ll reproduce this and see if there are any errors in the log file. Actually, I\u0027m also using the RealChutes mod, so it may be an interaction between those mods.\u003C/p\u003E\u003Cp\u003E3) rbray89\u0027s clouds and lights (Visual Enhancements mod) aren\u0027t rendered in the docking port cam view. I assume this is something that rbray89 would need to change, but I don\u0027t know what to relay to him.\u003C/p\u003E\u003Cp\u003E4) You might have already mentioned this - if I have SCANsat background handlers on two pages, they redraw independently. Is there any way to have just one background handler handle both backgrounds (so, if I am on Page 1 with a SCANsat background, and I switch to Page 2, which also uses a SCANsat background, the new page points to the Page 1 SSRPM background hander instead of creating a new and unique instance of it)?\u003C/p\u003E\u003Cp\u003EOverall, RPM is a great mod. With the info displays I have in the cockpit, I can fly missions almost entirely from an IVA view. With a couple of more interactive props (resource gauges, a staging button), it\u0027d be almost perfect.\u003C/p\u003E\n"},{"CreatedByName":"Chebalu","CreatedById":34329,"CreatedDateTime":"2013-12-01T14:34:56Z","Content":"\n\u003Cp\u003EMOARdV ! Could I ask your Kosmos VA capsula settings?\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-12-01T15:00:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chebalu\u0022 data-cite=\u0022Chebalu\u0022\u003E\u003Cdiv\u003EMOARdV ! Could I ask your Kosmos VA capsula settings?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t release the config file directly, per the KOSMOS license. Let me see if I can figure out how to make a Module Manager file that will work.\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-12-01T15:19:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EI do have some more feedback on the code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne other one that I forgot: If you select a location to land using MechJeb, TARGETEXISTS is set to true, but TARGETNAME shows up as \u0022???!\u0022 or something similar. I assume MJ is doing something weird to make target a location instead of a vessel, so there\u0027s an invalid name for the target. On the plus side, the TARGETDISTANCE also appears valid, so I can track distance-to-target during landing.\u003C/p\u003E\n"},{"CreatedByName":"Chebalu","CreatedById":34329,"CreatedDateTime":"2013-12-01T15:23:01Z","Content":"\n\u003Cp\u003EIt would be great! Thanks MOARdV!\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T16:18:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003E1) Regarding SIP formatting: Can you make the M format 3 digits after the decimal (like the \u0027k\u0027)? I got my orbit display screens all nicely formatted, and then I discovered when I was en route to the Mun that Mm were printed with 6 digits after the decimal, and even with the 9 character space I had set aside for the formatted output, I couldn\u0027t fit it (10.123456M is 10 chars). I think dropping the 4th through 6th decimal of accuracy is safe to do. The other request is suppressing micro - that shows up before / after landing in the horiz and vert speeds. milli is probably safe to drop, as well: 0.123 m/s is sufficient, I think.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe problem with this particular bit of code is that it comes wholesale from MechJeb, I have mostly added a thin wrapper to make string.Format use it alongside all native formatters. I can\u0027t honestly say I understand it, so alterations to this are going to be tricky, I basically need to rewrite it. I\u0027ll see what I can do, though. Getting testable cases where it\u0027s not currently behaving to spec would help.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003E2) There\u0027s a quirk with RPM using a docking port camera assigned to the docking port / parachute parts from Sumghai\u0027s SDHI module. The docking port seems to disappear after the parachutes deploy, and the page for the docking port cam won\u0027t display any more (it\u0027s a gray screen or something - none of the overlay text shows up either - but I can click another page button and that all works). It works prior to parachute deployment. I\u0027ll reproduce this and see if there are any errors in the log file. Actually, I\u0027m also using the RealChutes mod, so it may be an interaction between those mods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe camera code looks for a specific named transform, and checks for when the part that houses this transform is no longer part of your vessel. In this case, it appears that the transform is somehow gone, but the part is still attached, which is a situation I forgot to handle. Should be easy enough if I can figure out just in what fashion it ends up destroyed, a log file would give useful pointers.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E I \u003Cem\u003Ethink\u003C/em\u003E I fixed it. Needs testing though, how exactly did you add a camera to that port?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003E3) rbray89\u0027s clouds and lights (Visual Enhancements mod) aren\u0027t rendered in the docking port cam view. I assume this is something that rbray89 would need to change, but I don\u0027t know what to relay to him.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMmmm... Interesting, I\u0027ll take a look at his source. My guess is that the visual enhancements are either rendered in a layer that is not used normally (and then when my camera copies the stock camera, it ends up doing it before his code modifies it) or that they\u0027re added in OnPostRender or something of the sort -- i.e. after all module code is already done, in which case fixing it will be quite nontrivial.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003E4) You might have already mentioned this - if I have SCANsat background handlers on two pages, they redraw independently. Is there any way to have just one background handler handle both backgrounds (so, if I am on Page 1 with a SCANsat background, and I switch to Page 2, which also uses a SCANsat background, the new page points to the Page 1 SSRPM background hander instead of creating a new and unique instance of it)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight now, only if they\u0027re in the same prop, which is obviously not the case. This background handler has a pageActive method and does not redraw if the page is not active, so at least if you don\u0027t activate it on more than one monitor, it won\u0027t hurt your framerate more than it already does. \u003C/p\u003E\u003Cp\u003EI could probably convert it to a PartModule (which would involve relatively little code changes) which would make it a bit easier, but the problem with that is that then handling more than one display size per pod would be impossible.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EOverall, RPM is a great mod. With the info displays I have in the cockpit, I can fly missions almost entirely from an IVA view. With a couple of more interactive props (resource gauges, a staging button), it\u0027d be almost perfect.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELike I said, I want to eventually gut a stock pod and fit all of alexustas\u0027 widgets in there. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EOne other one that I forgot: If you select a location to land using MechJeb, TARGETEXISTS is set to true, but TARGETNAME shows up as \u0022???!\u0022 or something similar. I assume MJ is doing something weird to make target a location instead of a vessel, so there\u0027s an invalid name for the target. On the plus side, the TARGETDISTANCE also appears valid, so I can track distance-to-target during landing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, MJ is in fact doing something weird, because natively a location cannot be a target. I thought there would be no way for the \u0022???!\u0022 to show up though, but guess there is. Since I can\u0027t directly reference whatever ITargetable MechJeb creates for it without making my plugin inoperative without MJ, I could make it a more sensible string, maybe? Like \u0022ground location\u0022?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E Well, upon further investigation, MechJeb sets sensible names for it\u0027s ITargetable implementations, so I can just return those instead.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T16:56:45Z\u0022 title=\u002212/01/2013 04:56  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Mihara\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-12-01T18:20:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EThe problem with this particular bit of code is that it comes wholesale from MechJeb, I have mostly added a thin wrapper to make string.Format use it alongside all native formatters. I can\u0027t honestly say I understand it, so alterations to this are going to be tricky, I basically need to rewrite it. I\u0027ll see what I can do, though. Getting testable cases where it\u0027s not currently behaving to spec would help.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe case I have can be expressed as:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E{0:SIP9}m123456789012345678901234567890 $\u0026amp;$ APOAPSIS\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWith that string visible, head to the Mun. The text displayed will surpass 9 digits once you\u0027re close to the Mun - {0:SIP9} becomes 10.000000M once the apoapsis is over 10000km, and the last \u00270\u0027 in the numeric string will get pushed off the display. Smaller numbers don\u0027t show this behavior. I think a sensible solution would be for the \u0027M\u0027 case to show 3 digits of precision like the others.\u003C/p\u003E\u003Cp\u003EI can take a look at that code and see if I can come up with something, if nothing else. I am adept in a number of programming languages, so I can stumble through C# well enough.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EThe camera code looks for a specific named transform, and checks for when the part that houses this transform is no longer part of your vessel. In this case, it appears that the transform is somehow gone, but the part is still attached, which is a situation I forgot to handle. Should be easy enough if I can figure out just in what fashion it ends up destroyed, a log file would give useful pointers.\u003Cp\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E I \u003Cem\u003Ethink\u003C/em\u003E I fixed it. Needs testing though, how exactly did you add a camera to that port?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI used ModuleManager to add a JSIExternalCameraSelector to the part. If you\u0027ve committed the change, I can pull the source from GitHub and compile it locally to test, correct? I haven\u0027t had a chance to reproduce it today, but I hope to have time this afternoon.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003ERight now, only if they\u0027re in the same prop, which is obviously not the case. This background handler has a pageActive method and does not redraw if the page is not active, so at least if you don\u0027t activate it on more than one monitor, it won\u0027t hurt your framerate more than it already does.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is the same prop, just two separate pages. I have page 1 with a BACKGROUNDHANDLER = JSIScanSatRPM, and page 2 also has JSIScanSatRPM. I have different text on the overlays. The first time I select each page, the map draws. That is, Page 1 draws the map (full render, with the red sweep line). Then, on Page 2, the same thing happens again, instead of using the rendered map from Page 1. If the ship has moved far enough in orbit between selecting P1 and P2, the map will be centered differently. If I switch back to Page 1, the map shifts back to Page 1\u0027s center and icon location. It doesn\u0027t redraw the whole thing (with the red sweep line), but it is positioned differently. I don\u0027t have an objection to separate props rendering independently - that makes sense. It\u0027d be nice if multiple pages on the same prop could use the same background handler component, instead of each page on the prop having its own instance of the rendered map.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EEDIT:\u003C/strong\u003E Well, upon further investigation, MechJeb sets sensible names for it\u0027s ITargetable implementations, so I can just return those instead.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wanted to make sure it was a handled case one way or the other. I like that I can get distance information in this situation, so if there is a sensible name you can query, that would be awesome.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T18:46:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EI can take a look at that code and see if I can come up with something, if nothing else. I am adept in a number of programming languages, so I can stumble through C# well enough.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be nice. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EIf you\u0027ve committed the change, I can pull the source from GitHub and compile it locally to test, correct? I haven\u0027t had a chance to reproduce it today, but I hope to have time this afternoon.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust did.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EIt is the same prop, just two separate pages. I have page 1 with a BACKGROUNDHANDLER = JSIScanSatRPM, and page 2 also has JSIScanSatRPM. I have different text on the overlays. The first time I select each page, the map draws. That is, Page 1 draws the map (full render, with the red sweep line). Then, on Page 2, the same thing happens again, instead of using the rendered map from Page 1. If the ship has moved far enough in orbit between selecting P1 and P2, the map will be centered differently. If I switch back to Page 1, the map shifts back to Page 1\u0027s center and icon location. It doesn\u0027t redraw the whole thing (with the red sweep line), but it is positioned differently. I don\u0027t have an objection to separate props rendering independently - that makes sense. It\u0027d be nice if multiple pages on the same prop could use the same background handler component, instead of each page on the prop having its own instance of the rendered map.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn theory they can (that\u0027s what the multiHandler option is for, it will search for another copy of the module in the prop instead of always instantiating a new one). Come to think of it, JSISCANsatRPM should survive using it -- it\u0027ll get two page activation calls in a row but that shouldn\u0027t be a problem since it just sets a boolean.\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2013-12-01T19:27:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EThat would be nice. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll see what I can come up with. I noticed just now that when I try to use fixed format (SIP9.3), I get 6 digits of precision when it switched to \u0027k\u0027.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EJust did.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd now I can\u0027t reproduce the bug with 0.9 without your change. The camera worked before parachute deployment, during parachute deployment, and after parachute deployment. I guess it decided to make a liar out of me.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EIn theory they can (that\u0027s what the multiHandler option is for, it will search for another copy of the module in the prop instead of always instantiating a new one). Come to think of it, JSISCANsatRPM should survive using it -- it\u0027ll get two page activation calls in a row but that shouldn\u0027t be a problem since it just sets a boolean.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI overlooked the multiHandler option (that\u0027s what I get for not reading all the documentation thoroughly). Adding that in fixed that problem, so this was just end-user oversight, not a bug.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T19:46:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EI\u0027ll see what I can come up with. I noticed just now that when I try to use fixed format (SIP9.3), I get 6 digits of precision when it switched to \u0027k\u0027.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that\u0027s one of those things I know about and don\u0027t know how to fix correctly. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E The original function from MechJeb thinks not in terms of character position, but in terms of significant digits, which is close but not entirely it. I stitched it in but just added hackish wrapping around it, I\u0027m not sure how it really works and you can probably see how radically it\u0027s code style differes from mine.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EAnd now I can\u0027t reproduce the bug with 0.9 without your change. The camera worked before parachute deployment, during parachute deployment, and after parachute deployment. I guess it decided to make a liar out of me.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOdd. Well, it should cleanly handle more possible cases of the camera transform vanishing now, can\u0027t hurt. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MOARdV\u0022 data-cite=\u0022MOARdV\u0022\u003E\u003Cdiv\u003EI overlooked the multiHandler option (that\u0027s what I get for not reading all the documentation thoroughly). Adding that in fixed that problem, so this was just end-user oversight, not a bug.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMind you, I can\u0027t say I\u0027m entirely settled on the API, otherwise I\u0027d call it version 1.0 by now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I still want to cook up some sensible method to handle calling modules across props as well.\u003C/p\u003E\n"},{"CreatedByName":"gre8","CreatedById":94985,"CreatedDateTime":"2013-12-02T14:02:25Z","Content":"\n\u003Cp\u003EGreat mod. Flying from the cockpit using only instrumentation is quite a fun challenge.\u003C/p\u003E\u003Cp\u003EI\u0027d like to point however, that some of the info seems rather unorganized. For instance, the orbital values AP and PE are neat, but the fact that they are isolated from burn time and d-V makes for some tiresome back and forth clicking. \u003C/p\u003E\u003Cp\u003EThe orbital parameters screen could benefit from a bit more love and information.\u003C/p\u003E\u003Cp\u003EOther than that, I have no complaints about this amazing piece of mod. Congratulations!\u003C/p\u003E\n"}]}