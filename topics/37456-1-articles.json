{"TopicId":37456,"ForumId":32,"TopicTitle":"Interplanetary Craft Rendezvous","CreatedByName":"Vostok","CreatedById":22467,"CreatedDateTime":"2013-07-17T17:40:03Z","PageNum":1,"Articles":[{"CreatedByName":"Vostok","CreatedById":22467,"CreatedDateTime":"2013-07-17T17:40:03Z","Content":"\n\u003Cp\u003EToday I returned my first Kerbal to land on Bop, by a difficult, stock, road.\u003C/p\u003E\u003Cp\u003EI\u0027d sent him there to find the Kraken (which he found), with no way of return, so I built a ship to return him. (it had a seat on it, no command pod) Due to a large oversight that left me orbiting Jool retrograde to Bop\u0027s orbit, I burnt all my fuel just getting into a bop orbit, and by the time I\u0027d gotten the astronaut on board the rescue ship and into a Jool escape trajectory, I had nowhere near enough fuel to transfer back to Kerbin.\u003C/p\u003E\u003Cp\u003ESo I sent up a duplicate rescue ship and opted to rendezvous with him in interplanetary space.\u003C/p\u003E\u003Cp\u003EThis is where things went a bit strange.\u003C/p\u003E\u003Cp\u003ELong story short, the rendezvous was completed, and the guy returned safely home and re-entered kerbin\u0027s atmosphere vertically at 5km/s (which was fun).\u003C/p\u003E\u003Cp\u003EAbout the rendezvous, however. Has anyone else experienced some glitchy craft positioning behaviour in interplanetary rendezvous scenarios? At one point I had a ship jumping 2km every few seconds, and 10km every time I engaged time warp. There were a whole ton of strange things happening, incorrect relative velocity readouts, distance readouts (with the target referance on, of course). I would expect that this is caused by the Krakensbane.\u003C/p\u003E\u003Cp\u003EHas anyone else has attempted this and had similar experiences? Or is interplanetary rendezvous a bad idea?\u003C/p\u003E\n"},{"CreatedByName":"Xaiier","CreatedById":22833,"CreatedDateTime":"2013-07-17T17:46:04Z","Content":"\n\u003Cp\u003EIt likely it a result of the floating point precision errors (the Kraken). In solar orbit, your velocity is quite high and so that is probably more prominent. I don\u0027t think people do solar rendezvous often so I\u0027m not sure how much is known about it.\u003C/p\u003E\n"},{"CreatedByName":"Death Engineering","CreatedById":68528,"CreatedDateTime":"2013-07-17T17:49:48Z","Content":"\n\u003Cp\u003EI\u0027ve seen some very unusual behavior of vessels jumping around when engaging/disengaging time warp while doing a rendezvous in deep space to rescue three kerbals who just completed their Moho landing but didn\u0027t quite have enough fuel to reach Kerbin. Several orbits around around Kerbin later (and about 750 days if I recall), the rescue ship finally got to them.\u003C/p\u003E\u003Cp\u003EAs I approached to dock and time accellerated to close the distance between the two, the distance would jump from ~1400m to over 3000m. Made for a very slow docking since it had to be done in real-time.\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-17T18:05:11Z","Content":"\n\u003Cp\u003EHeck, I\u0027ve seen it happen while in orbit around Kerbin. Even within visual range, the target ship might move a bit when you engage warp.\u003C/p\u003E\n"},{"CreatedByName":"Vostok","CreatedById":22467,"CreatedDateTime":"2013-07-17T21:08:00Z","Content":"\n\u003Cp\u003Ehmm, do we think this is a large enough bug to be a problem? Maybe I\u0027ll submit a bug report.\u003C/p\u003E\n"},{"CreatedByName":"strongest_2hu","CreatedById":67784,"CreatedDateTime":"2013-07-17T22:40:49Z","Content":"\n\u003Cp\u003EThis ship jumping around is exactly the behavior described in all (very few) posts I\u0027ve ever seen in regards to solar orbit rendezvous.\u003C/p\u003E\n"},{"CreatedByName":"Oggula","CreatedById":10927,"CreatedDateTime":"2013-07-18T00:37:38Z","Content":"\n\u003Cp\u003EYeah, when Scott Manley was doing videos the asteroid he was landing on jumped by 2km every time he warped. You\u0027ll just have to not use time warp...\u003C/p\u003E\n"},{"CreatedByName":"Goldham","CreatedById":73478,"CreatedDateTime":"2013-07-18T02:01:05Z","Content":"\n\u003Cp\u003EOnce I tried to dock with a Satellite in orbit around the sun to bring it back to Kerbin and It ended up sending me at about 4x the speed of light\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-07-18T02:06:02Z","Content":"\n\u003Cp\u003EIt\u0027S not a bug, as someone said, it\u0027s floating calculation errors. You can make those more precise, but there will always be small errors, and with higher speed it\u0027s more likely to happen.\u003C/p\u003E\n"},{"CreatedByName":"Vostok","CreatedById":22467,"CreatedDateTime":"2013-07-18T03:05:49Z","Content":"\n\u003Cp\u003EIt can be resolved, though, surely? I thought there was a system to move the universe around the ship, rather than the other way round, to allow the errors to be smaller.\u003C/p\u003E\n"},{"CreatedByName":"soranno","CreatedById":58351,"CreatedDateTime":"2013-07-18T03:10:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vostok\u0022 data-cite=\u0022Vostok\u0022\u003E\u003Cdiv\u003EIt can be resolved, though, surely? I thought there was a system to move the universe around the ship, rather than the other way round, to allow the errors to be smaller.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is something delightfully kerbal about this way of thinking.\u003C/p\u003E\u003Cp\u003EProblem?? I know! We\u0060ll move the universe!\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-07-18T03:15:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vostok\u0022 data-cite=\u0022Vostok\u0022\u003E\u003Cdiv\u003EIt can be resolved, though, surely? I thought there was a system to move the universe around the ship, rather than the other way round, to allow the errors to be smaller.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKrakensbane indeed moves the universe around the ship, this way the errors caused from being so far away from the center of the universe are mostly negated. But that doesn\u0027t remove all the errors. If you expect an errorless system, you\u0027re in for a hard time. Interplanetary space is more prone to those errors due to the high speeds.\u003C/p\u003E\u003Cp\u003EThe best way to help cure this will probably be when Unity finally gets it\u0027s crap together and adds multithreading support. That will allow your computer to make much more floating point operations per second and reduce those errors. Until then, just be careful with time warp when docking in interplanetary space.\u003C/p\u003E\n"},{"CreatedByName":"KerbMav","CreatedById":70338,"CreatedDateTime":"2013-07-18T08:37:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022soranno\u0022 data-cite=\u0022soranno\u0022\u003E\u003Cdiv\u003EThere is something delightfully kerbal about this way of thinking.\u003Cp\u003EProblem?? I know! We\u0060ll move the universe!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E10/charrrr\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E Lt. Cmdr. Data: Can you recommend a way to counter the effect?\u003C/p\u003E\u003Cp\u003EQ: Simple. Change the gravitational constant of the universe. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Khrissetti","CreatedById":29557,"CreatedDateTime":"2013-07-18T08:42:09Z","Content":"\n\u003Cp\u003EI experienced this building my manned Moho ship in kerbin orbit, fortunately, when I went to 2x physical warp, the ship only hiccupped by about 200m, so with a little correction, I was still able to dock.\u003C/p\u003E\n"},{"CreatedByName":"hugix","CreatedById":55379,"CreatedDateTime":"2013-07-18T10:50:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Vostok\u0022 data-cite=\u0022Vostok\u0022\u003E\u003Cdiv\u003EIt can be resolved, though, surely? I thought there was a system to move the universe around the ship, rather than the other way round, to allow the errors to be smaller.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Edid you found that out in a dream?\u003C/p\u003E\n"},{"CreatedByName":"Merinsan","CreatedById":57629,"CreatedDateTime":"2013-07-18T13:32:10Z","Content":"\n\u003Cp\u003EHappened exactly like that for me. It\u0027s the reason I swear I will never do it again!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003EIt\u0027S not a bug, as someone said, it\u0027s floating calculation errors. You can make those more precise, but there will always be small errors, and with higher speed it\u0027s more likely to happen.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUm, that is the definition of a bug. It\u0027s something that could be fixed. I doubt it will be though, because it\u0027s simply too expensive computationally to do so\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-07-18T13:39:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Merinsan\u0022 data-cite=\u0022Merinsan\u0022\u003E\u003Cdiv\u003EUm, that is the definition of a bug. It\u0027s something that could be fixed. I doubt it will be though, because it\u0027s simply too expensive computationally to do so\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EA software bug is an error, flaw, failure, or fault in a computer program or system that produces an incorrect or unexpected result, or causes it to behave in unintended ways. Most bugs arise from mistakes and errors made by people in either a program\u0027s source code or its design, and a few are caused by compilers producing incorrect code. A program that contains a large number of bugs, and/or bugs that seriously interfere with its functionality, is said to be buggy. Reports detailing bugs in a program are commonly known as bug reports, defect reports, fault reports, problem reports, trouble reports, change requests, and so forth.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Software_bug\u0022 rel=\u0022external nofollow\u0022\u003ESource\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt\u0027s not a bug. The program is working just as intended, everything goes fine. What is causing the problem is your own CPU while executing \u003Cem\u003Eexactly the commands ordered by the game\u003C/em\u003E. A floating point error could be compared to your calculator rounding pi to 3.142 because it can only show four digits at a time. It\u0027s not a bug, it\u0027s just a calculation error, and those happen because time compression accelerates the simulation speed at the cost of precision.\u003C/p\u003E\n"},{"CreatedByName":"Merinsan","CreatedById":57629,"CreatedDateTime":"2013-07-18T13:58:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stupid_chris\u0022 data-cite=\u0022stupid_chris\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Software_bug\u0022 rel=\u0022external nofollow\u0022\u003ESource\u003C/a\u003E\u003Cp\u003EIt\u0027s not a bug. The program is working just as intended, everything goes fine. What is causing the problem is your own CPU while executing \u003Cem\u003Eexactly the commands ordered by the game\u003C/em\u003E. A floating point error could be compared to your calculator rounding pi to 3.142 because it can only show four digits at a time. It\u0027s not a bug, it\u0027s just a calculation error, and those happen because time compression accelerates the simulation speed at the cost of precision.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve been a software developer for over 20 years now, and this is a bug. The very first line in your source specifies it\u0027s a bug, since it produces an \u003Cstrong\u003Eincorrect\u003C/strong\u003E result.\u003C/p\u003E\u003Cp\u003EAll bugs are caused by the CPU executing \u003Cem\u003Eexactly the commands ordered by the software\u003C/em\u003E. If my calculator is telling me PI is 3.142, it\u0027s not correct. It\u0027s an approximation, and I might accept it for somethings, but it\u0027s not correct. \u003C/p\u003E\u003Cp\u003EThere are ways to completely eliminate this problem, however they are terribly inefficient, so it\u0027s never done. For example, you could represent values as 128 bit floating point numbers (not sure if the current values are 48 or 64 bit). You could also represent them using fixed point numbers rather than floating point. If you are willing to use enough memory/computational power, this can be solved. The game wouldn\u0027t run well, but it is solvable.\u003C/p\u003E\n"},{"CreatedByName":"stupid_chris","CreatedById":62017,"CreatedDateTime":"2013-07-18T14:06:03Z","Content":"\n\u003Cp\u003EIt\u0027s not a bug as it\u0027s intended. The \u0022bug\u0022 is time compression speeding up simulation. In that case it\u0027s called a feature. Else, you could call the lack of precision in Universe Sandbox when speeding up time a bug. You should be aware when you time accelerate that you are trading off precision for time. In that case, the solution to solving the said bug is removing the feature it actually is. If you want to remove those errors completely, the solution is simple: remove time compression.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-18T14:08:26Z\u0022 title=\u002207/18/2013 02:08  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 18, 2013\u003C/time\u003E by stupid_chris\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2013-07-18T16:12:39Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\u0022 rel=\u0022external nofollow\u0022\u003EFloating-point arithmetic\u003C/a\u003E is why we can\u0027t have nice things.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://dar.linux.free.fr/\u0022 rel=\u0022external nofollow\u0022\u003EDAR\u003C/a\u003E (backup tool) has a custom datatype that allows the use of 64-bit integers even on platforms without 64-bit integer support. I wonder just how much of a performance impact that would have... because it seems to me avoiding floats would solve this problem. Such a solution should give you possible values between (\u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u2122(2^63)) and (2^63 \u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u2122 1) which is a metric crapload of domain.\u003C/p\u003E\u003Cp\u003ETime acceleration \u0022errors\u0022 could be mitigated by interpolating position updates over several samples. This might limit the maximum acceleration you can handle a bit, but I can\u0027t imagine it would do so by much.\u003C/p\u003E\n"}]}