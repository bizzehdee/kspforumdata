{"TopicId":10533,"ForumId":15,"TopicTitle":"Custom fuel tank not loading/winglet not rotating","CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-13T04:07:48Z","PageNum":1,"Articles":[{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-13T04:07:48Z","Content":"Hey guys,\n\nI\\\u0027m working on a few custom parts. I managed to import one just fine, (well, it doesn\\\u0027t vector but that\\\u0027s a different question) but the one i\\\u0027m working on right now gets stuck at the loading screen, with the \u0027Loading...\u0027 still flashing.\n\nLast time this happened to me it was because there were no materials assigned to my objects in my 3d program. However this time there are definitely materials.\n\nThe only thing I could think of is that my actual object sticks out a little from the collision mesh but this shouldn\\\u0027t be a problem, should it?\n\nAny other ideas you might have for troubleshooting would be very helpful.\n\nThanks!\n\nUPDATE:\n\nFuel tank works, now I\\\u0027m trying to figure out why my winglets won\\\u0027t rotate. I copy and pasted the part file from one of the original winglets. Any help is much appreciated."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2012-05-13T04:12:52Z","Content":"Things being done in the part file can cause failure too. It could be with this. (Things like 0 fuel consumption)"},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-13T04:19:04Z","Content":"I copy and pasted from the vanilla fuel tank, just changed things like texture, node positions, obj file."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2012-05-13T12:25:40Z","Content":"Im not sure what could cause that."},{"CreatedByName":"maltesh","CreatedById":17144,"CreatedDateTime":"2012-05-13T12:36:15Z","Content":"\u003E \n\u003E I copy and pasted from the vanilla fuel tank, just changed things like texture, node positions, obj file.\n\nDid you change the **name =** line in the part.cfg file?\n\nIf not, that\\\u0027s why it\\\u0027s not loading. That value has to be unique in the parts directory to ensure that all the objects you want to load will load."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2012-05-13T12:42:19Z","Content":"Hi TerranCmdr, I had this happen to me with a part that was working fine, I\\\u0027m not sure what caused it but I deleted a virtice that was just floating around, I must have moved it without realizing and it wasn\\\u0027t attached to anything, but after that the model wouldn\\\u0027t load, I was forced to restart the project.\n\nAnother thing you can try first is redo all your UV maps, as if one part is missing its UV KSP doesn\\\u0027t like to build it."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-13T13:47:05Z","Content":"Alt\u002BF2, opens console, shows error."},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-14T14:37:41Z","Content":"Thanks for the tips, I\\\u0027ll try out the alt-f2 thing later today.\n\n@maltesh- I did change the name, but thanks for the suggestion.\n\nI might just end up remodeling it and seeing if that works."},{"CreatedByName":"OtherDalfite","CreatedById":8317,"CreatedDateTime":"2012-05-14T17:01:43Z","Content":"In the CFG, where it says partname, are there any spaces? It would help a lot if you could post the CFG."},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-14T18:52:04Z","Content":"No problem, I\\\u0027ll post it up when I get home today.\n\nEdit: Here it is, I think I\\\u0027m just going to remodel and see if that does it.\n\n    // Kerbal Space Program - Part Config// FL-T500 Fuel Tank// // --- general parameters ---name = klego_fuel1module = FuelTankauthor = Terran// --- asset parameters ---mesh = fuel1.objscale = .5texture = grey.pngspecPower = 0.1rimFalloff = 3alphaCutoff = 0// --- node definitions ---node_stack_top = 0.0, 0.0, 1.138, 0.0, 0.0, 1.0node_stack_bottom = 0.0, 0.0, -1.249, 0.0, 0.0, 1.0node_attach = 0.0, 0.972, 0.0, 0.0, 0.0, 0.0, 1.0// --- editor parameters ---cost = 550category = 0subcategory = 0title = Klego fuel tankmanufacturer = KLEGOdescription = A LEGO fuel tank!// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollisionattachRules = 1,1,1,1,1// --- standard part parameters ---mass = 2.5dragModelType = defaultmaximum_drag = 0.2minimum_drag = 0.3angularDrag = 2crashTolerance = 6maxTemp = 2900// --- fuel tank parameters ---fuel = 500.0dryMass = 0.3fullExplosionPotential = 0.9emptyExplosionPotential = 0.1"},{"CreatedByName":"Wyrm","CreatedById":25210,"CreatedDateTime":"2012-05-15T14:40:22Z","Content":"Your problem is that the \\\u0027name\\\u0027 field contains an underscore. That ain\\\u0027t allowed.\n\nEliminate it, and it\\\u0027ll probably work."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-15T15:58:32Z","Content":"Name contains no underscore, only title, which is allowed. Load the game and look at the console errors is better than remodelling and doing the same mistake again ???"},{"CreatedByName":"OtherDalfite","CreatedById":8317,"CreatedDateTime":"2012-05-15T16:55:10Z","Content":"\u003E \n\u003E // Kerbal Space Program - Part Config\n\u003E \n\u003E // FL-T500 Fuel Tank\n\u003E \n\u003E // \n\u003E \n\u003E // --- general parameters ---\n\u003E \n\u003E name = fueltankklego\n\u003E \n\u003E module = FuelTank\n\u003E \n\u003E author = Terran\n\u003E \n\u003E // --- asset parameters ---\n\u003E \n\u003E mesh = fuel1.DAE\n\u003E \n\u003E scale = 0.1\n\u003E \n\u003E texture = grey.PNG\n\u003E \n\u003E specPower = 0.1\n\u003E \n\u003E rimFalloff = 3\n\u003E \n\u003E alphaCutoff = 0\n\u003E \n\u003E // --- node definitions ---\n\u003E \n\u003E node\\_stack\\_top = 0.0, 0.0, 1.138, 0.0, 0.0, 1.0\n\u003E \n\u003E node\\_stack\\_bottom = 0.0, 0.0, -1.249, 0.0, 0.0, 1.0\n\u003E \n\u003E node\\_attach = 0.0, 0.972, 0.0, 0.0, 0.0, 0.0, 1.0\n\u003E \n\u003E // --- editor parameters ---\n\u003E \n\u003E cost = 550\n\u003E \n\u003E category = 0\n\u003E \n\u003E subcategory = 0\n\u003E \n\u003E title = Klego fuel tank\n\u003E \n\u003E manufacturer = KLEGO\n\u003E \n\u003E description = A LEGO fuel tank!\n\u003E \n\u003E // attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\n\u003E \n\u003E attachRules = 1,1,1,1,1\n\u003E \n\u003E // --- standard part parameters ---\n\u003E \n\u003E mass = 2.5\n\u003E \n\u003E dragModelType = default\n\u003E \n\u003E maximum\\_drag = 0.2\n\u003E \n\u003E minimum\\_drag = 0.3\n\u003E \n\u003E angularDrag = 2\n\u003E \n\u003E crashTolerance = 6\n\u003E \n\u003E maxTemp = 2900\n\u003E \n\u003E // --- fuel tank parameters ---\n\u003E \n\u003E fuel = 500.0\n\u003E \n\u003E dryMass = 0.3\n\u003E \n\u003E fullExplosionPotential = 0.9\n\u003E \n\u003E emptyExplosionPotential = 0.1\n\nJust copy paste that and it should work. Also, save your mesh as a DAE file. KSP seems to like those better. Changed the mesh to look for in the config. Good luck with your parts!"},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-15T17:53:50Z","Content":"I can\\\u0027t find a good .dae exporter for MAX so I\\\u0027m using .obj, seems to work alright though.\n\nI\\\u0027ll try when I get home, thanks for the help!"},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-16T00:45:45Z","Content":"Figured it out! I had an extra set of coordinates under my node\\_attach, now it works just fine! Thanks for all the help guys!\n\nNow... can anyone help me figure out why my winglet doesn\\\u0027t rotate? Is there some extra node I am leaving out?"},{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2012-05-16T07:52:20Z","Content":"Have you named the rotating mesh obj\\_ctrlSrf ? You have to do that for the winglet code to know what to rotate."},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-16T14:13:10Z","Content":"Ah, that might be it. Will try that later. Thanks for the tip!"},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-17T01:24:17Z","Content":"That did it! Didn\\\u0027t realize it had to have a certain name. I can\\\u0027t seem to get the pivot in the right place though..."},{"CreatedByName":"DYJ","CreatedById":8636,"CreatedDateTime":"2012-05-17T02:04:15Z","Content":"Pivot should be around scene X axis IIRC, so align it accordingly."},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-17T02:45:00Z","Content":"Yup, that\\\u0027s how I have it aligned but for some reason it still wants to pivot around the center of the object. My pivot points are centered on the x/z as well."},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2012-05-17T02:54:25Z","Content":"It pivots PARALLEL to the X axis, but AT the pivot point or origin of the object named \u0027obj\\_ctrlSrf\u0027\n\nSo rotate and move the mesh so the rotating edge of the surface is on the pivot; then you can move the object (pivot and all) to line up with the other parts of the wing. This is done in Edit mode and then Object mode in Blender (and be sure to apply scaling and rotation on the object itself too before trying to align things (Ctrl\u002BA))"},{"CreatedByName":"TerranCmdr","CreatedById":23552,"CreatedDateTime":"2012-05-17T05:01:56Z","Content":"I\\\u0027m working in Max, do I need to do anything different with my pivot point? My connecting point is centered on the x axis, and my ctrlSrf\\\u0027s pivot point is centered on the x axis. I have a feeling this might have something to do with my .obj export as opposed to .dae."}]}