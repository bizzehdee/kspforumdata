{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":101,"Articles":[{"CreatedByName":"steddyj","CreatedById":80288,"CreatedDateTime":"2015-01-16T22:02:52Z","Content":"\n\u003Cp\u003EWord of advice for those increasing the storage space on your kOS modules: I created a ModuleManager config to add kOS to all of my probe cores with a significantly larger storage space (50000 if I recall correctly) and I quickly found that my battery was disappearing at an alarming rate. Through some trial I found that it was the kOS module that was doing this. Power needs scale directlywith the storage space, kOS was consuming 2 EC per sec. Since this is coded in the plugin, I could not override it and ended up putting in a generator module to counteract it. I\u0027m all for kOS requiring power, and I can see the logic behind more storage potentially requiring more power, but this scale seems to need some tweaking.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-16T23:39:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022asmi\u0022 data-cite=\u0022asmi\u0022\u003E\u003Cdiv\u003ETried the mod yesterday, and found new features missing (or I don\u0027t know they exist) which I would really like to have:\u003Cp\u003E1. user-defined functions. Any more-or-less complex program quickly turns into unmaintanable mess of code (tried to create a program for automatic powered lander that uses suicide-burn while keeping in mind the presence of atmosphere (I play with RealFuels, which fixes engine behaviour in atmosphere, but also complicates landing because actual thrust is less than in vacuum and not constant)- 3-way PID for orientation, plus additional one for throttle (for the very last stage of landing sequence, program times suicide burn such that it would bring vertical speed to 0.5m/s at 3 meters above the ground, and after it adjusts throttle to keep that speed until touchdown).\u003C/p\u003E\u003Cp\u003E2. connected to previous one - ability to include other files (c-like #include would do). It would allow to reuse code without copy-paste.\u003C/p\u003E\u003Cp\u003E3. Ability to control engine\u0027s gimbal (for those engine which can gimbal of course). Keep in mind that the engine can have several thrustTransforms for multi-nozzle engines - for example RD-180 has two, while RD-171M has four, and it would be best to have ability to control them independently (for example RD-180 provides roll control by vectoring nozzles in opposite directions).\u003C/p\u003E\u003Cp\u003E4. I would like ability to control other CPUs on the same vessel (simplest example - having secondary CPUs on boosters, and start avoidance program (gimbal booster engine away from the core like Shuttle SRBs do) on them just after separation.\u003C/p\u003E\u003Cp\u003EIs any of that in plans? \u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAll of it is in the \u0022it would be nice\u0022 plans. We\u0027re well aware of them all. The chief problem is that kOS is really an enormous undertaking limited mostly by free time rather than by capability. They\u0027re all doable. But we have to think in terms of \u0022triage\u0022. Some improvements aren\u0027t too hard but also aren\u0027t that useful, so they aren\u0027t high priority. Some improvements are quite useful but require quite a lot of work, so they aren\u0027t high priority as they\u0027d prevent other stuff from getting done. The stuff in between those two extremes ends up getting done first.\u003C/p\u003E\u003Cp\u003EThe telnet stuff I\u0027m working on now would normally fall into that \u0022but require quite a lot of work\u0022 category and therefore not be getting done, were it not for the fact that I view it as a pre-requisite for doing proper keyboard input to scripts, which is a big deal everyone wants. I view it as a pre-requisite for proper keyboard input simply because any code to deal with keyboard input would have to be rewritten later on once telnet becomes possible. The telnet isn\u0027t higher priority, but it affects the terminal infrastructure in such a way that I\u0027d rather have it fleshed out before fiddling with the other stuff that uses that architecture, like keyboard input.\u003C/p\u003E\u003Cp\u003EBy the way, erendrake is working on the gimbal thing you listed as #3.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2015-01-17T00:43:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAll of it is in the \u0022it would be nice\u0022 plans. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! That\u0027s what I figured it would be. One question though - what is your policy on pull requests? I might be able to find some time to help implementing these things I\u0027ve talked about, but I want to make sure I won\u0027t step on anyone\u0027s shoes.\u003C/p\u003E\u003Cp\u003EOh, and a quick bug report - ENGINE:THRUSTLIMIT field\u0027s setter is clamping incoming value into 0..1 interval, while it should clamp into 0..100 (since that number is thrust\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EPercentage\u003C/span\u003E).\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2015-01-17T12:31:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parallax\u0022 data-cite=\u0022Parallax\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET LEFT1 TO SHIP:PARTSTAGGED(\u0022LEFT1\u0022)[0].\u003Cbr\u003ESET LEFT2 TO SHIP:PARTSTAGGED(\u0022LEFT2\u0022)[0].\u003Cbr\u003ELEFT1:GETMODULE(\u0022MUMECHTOGGLE\u0022):DOACTION(\u0022MOVE -\u0022, 1).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi im goofing around with IR and i got a question about partmodule.\u003C/p\u003E\u003Cp\u003Eid tagged all my IR parts, so each part has it one unique tag. And i set every tag to a unique name in kOS. \u003C/p\u003E\u003Cp\u003Ethe problem is that a was thinking i can call the part just like Parallax did when making His bipod walker. But kOS only lets me call a list and when i add a iteration (\u003Cem\u003ESET LEFT1 TO SHIP:PARTSTAGGED(\u0022LEFT1\u0022)\u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003E[0]\u003C/em\u003E\u003C/strong\u003E), kOS gives me an \u003Cem\u003ECan\u0027t iterate on an object of type kOS.Safe.Encapsulation.ListValue\u003C/em\u003E error.\u003C/p\u003E\u003Cp\u003EHow can I correctly call a part (not the list where is the part) by its Set name?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-17T12:42:02Z\u0022 title=\u002201/17/2015 12:42  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 17, 2015\u003C/time\u003E by Trewor007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-17T14:58:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EHi im goofing around with IR and i got a question about partmodule.\u003Cp\u003Eid tagged all my IR parts, so each part has it one unique tag. And i set every tag to a unique name in kOS. \u003C/p\u003E\u003Cp\u003Ethe problem is that a was thinking i can call the part just like Parallax did when making His bipod walker. But kOS only lets me call a list and when i add a iteration (\u003Cem\u003ESET LEFT1 TO SHIP:PARTSTAGGED(\u0022LEFT1\u0022)\u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003E[0]\u003C/em\u003E\u003C/strong\u003E), kOS gives me an \u003Cem\u003ECan\u0027t iterate on an object of type kOS.Safe.Encapsulation.ListValue\u003C/em\u003E error.\u003C/p\u003E\u003Cp\u003EHow can I correctly call a part (not the list where is the part) by its Set name?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat was a bug in one of the releases that has already been fixed in the most recent releases. Are you sure you have the most recent release? If you do, then something is weird about it because other people are able to do it without getting that error anymore.\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2015-01-17T15:00:19Z","Content":"\n\u003Cp\u003Eim running 15.5 but just to be safe ill download kos again\u003C/p\u003E\u003Cp\u003EEDIT:now it works. Thanks! probably ive updated it without deleting the old folder first.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-17T15:17:32Z\u0022 title=\u002201/17/2015 03:17  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 17, 2015\u003C/time\u003E by Trewor007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-01-17T23:25:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steddyj\u0022 data-cite=\u0022steddyj\u0022\u003E\u003Cdiv\u003EWord of advice for those increasing the storage space on your kOS modules: I created a ModuleManager config to add kOS to all of my probe cores with a significantly larger storage space (50000 if I recall correctly) and I quickly found that my battery was disappearing at an alarming rate. Through some trial I found that it was the kOS module that was doing this. Power needs scale directlywith the storage space, kOS was consuming 2 EC per sec. Since this is coded in the plugin, I could not override it and ended up putting in a generator module to counteract it. I\u0027m all for kOS requiring power, and I can see the logic behind more storage potentially requiring more power, but this scale seems to need some tweaking.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had not realized that, that is actually very useful to know.\u003C/p\u003E\n"},{"CreatedByName":"Vegemeister","CreatedById":135079,"CreatedDateTime":"2015-01-17T23:31:13Z","Content":"\n\u003Cp\u003EIt seems that some things have higher precedence than attribute accessing. Particularly, boolean not. consider this code snippet:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif eng:ignition and not eng:flameout {\u003Cbr\u003E    //do stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis actually fails, with the error \u0022cannot boolean-not EngineValue\u0022. To make it work, I needed this instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif eng:ignition and not (eng:flameout) {\u003Cbr\u003E    //do stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI found the behavior rather surprising, and I can\u0027t think of any situation where people would write their code intending to use it that way.\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-01-18T15:07:09Z","Content":"\n\u003Cp\u003ETo Authors:\u003C/p\u003E\u003Cp\u003EWhen do you plan to release an update? Since version 1.6.0 of RemoteTech the RT2 integration with KOS is broken (works fine with version 1.5.2 of RT2 though). Can you release a quick fix, or we have to wait for a major update Steven was writing about?\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-01-18T16:23:29Z","Content":"\n\u003Cp\u003Eit\u0027s probably broken in kOS because Remote Tech changed their namespace (again) so there\u0027s really nothing you can do except use 1.5.2 or wait for kOS to update\u003C/p\u003E\n"},{"CreatedByName":"Richy330","CreatedById":132651,"CreatedDateTime":"2015-01-18T20:28:33Z","Content":"\n\u003Cp\u003EHello!\u003C/p\u003E\u003Cp\u003EI don\u0027t have much experience with kOS, and am basically new to programming, but i\u0027m figuring things out.\u003C/p\u003E\u003Cp\u003EAt the moment, I\u0027m trying to write my own automated plane pilot, using raw controls, but i ran into a problem. I am passing a desired pitch of the craft(pitch above horizon) to my script andd it adjustes the control surfaces to achieve this pitch via a PID loop. The problem with this is the PID tuning. It either works super slowly, but stable, or works faster, but becomes unstable at higher altitudes. When i look at the cooked controls, and see how well and quickly they react, it comes to my mind that there must be a better way:).\u003C/p\u003E\u003Cp\u003ECould someone pass me an idea how to counter this problem?\u003C/p\u003E\u003Cp\u003EMy script is this(i hope it\u0027s ok to post it here):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Attitude Control - Vectors\u003Cbr\u003Elock fore to ship:facing:vector.\u003Cbr\u003Elock aft to (-fore).\u003Cbr\u003Elock up to ship:up:vector.\u003Cbr\u003E\u003Cbr\u003Elock rightrot to ship:facing * r(0,90,0).\u003Cbr\u003Elock right to rightrot:vector.\u003Cbr\u003Elock left to -1*right.\u003Cbr\u003E\u003Cbr\u003Elock top to vcrs(fore,right).\u003Cbr\u003Elock bottom to -1*top.\u003Cbr\u003E\u003Cbr\u003Elock righthor to vcrs(fore,up).\u003Cbr\u003Elock lefthor to -1*righthor.\u003Cbr\u003E\u003Cbr\u003Elock forehor to vcrs(right,up).\u003Cbr\u003Elock afthor to (-forehor).\u003Cbr\u003E\u003Cbr\u003E//Attitude Control - Angles\u003Cbr\u003Elock absaoa to vang(fore,srfprograde:vector).\u003Cbr\u003Elock aoa to vang(top,srfprograde:vector)-90.\u003Cbr\u003Elock sideslip to vang(right,srfprograde:vector)-90.\u003Cbr\u003Elock pitchangle to vang(fore,forehor)*((90-vang(fore,up))/abs(90-vang(fore,up))).\u003Cbr\u003Elock rollangle to vang(left,righthor)*((90-vang(top,righthor))/abs(90-vang(top,righthor))). //roll angle, 0 at level flight\u003Cbr\u003E\u003Cbr\u003Eset wantpitch to pitchangle.\u003Cbr\u003Eset wantroll to 0.\u003Cbr\u003Eset k to 1.\u003Cbr\u003E\u003Cbr\u003Eon ag3 {set k to k \u002B 0.1. preserve.}.\u003Cbr\u003Eon ag4 {set K to K - 0.1. preserve.}.\u003Cbr\u003Eon ag7 {set wantpitch to wantpitch \u002B 1. Preserve.}\u003Cbr\u003Eon ag8 {set wantpitch to wantpitch - 1. Preserve.}\u003Cbr\u003Eon ag5 {set wantroll to wantroll \u002B 1. Preserve.}\u003Cbr\u003Eon ag6 {set wantroll to wantroll - 1. Preserve.}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eset kpi to 0.001 * k. //pitchgains\u003Cbr\u003Eset kpp to 0.02 * k.\u003Cbr\u003Eset kpd to 0.002 * k.\u003Cbr\u003E\u003Cbr\u003Ewhen ship:altitude \u0026gt; 100000 then {set kpi to 0.005.\u003Cbr\u003E    when ship:altitude \u0026gt; 15000 then {set kpi to 0.003.\u003Cbr\u003E  when ship:altitude \u0026gt; 20000 then {rcs on.\u003Cbr\u003E   preserve.}.\u003Cbr\u003E    preserve.}.\u003Cbr\u003Epreserve.}.\u003Cbr\u003E\u003Cbr\u003Eset kri to 0.   //rollgains\u003Cbr\u003Eset krp to 0.05.\u003Cbr\u003Eset krd to 0.05.\u003Cbr\u003E\u003Cbr\u003Eset Ep to wantpitch - pitchangle.\u003Cbr\u003Eif Ep \u0026gt; 10 {set Ep to 10.}.\u003Cbr\u003Eset Epo to Ep.\u003Cbr\u003ESet Ip to 0.\u003Cbr\u003Eset T to time:seconds.\u003Cbr\u003E\u003Cbr\u003Eset Er to wantroll - rollangle.\u003Cbr\u003Eif Er \u0026gt; 10 {set Er to 10.}.\u003Cbr\u003Eset Ero to Er.\u003Cbr\u003ESet Ir to 0.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Ewait 0.05.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Euntil false{\u003Cbr\u003E\u003Cbr\u003Eset Ep to wantpitch - pitchangle.\u003Cbr\u003Eif Ep \u0026gt; 10 {set Ep to 10.}.\u003Cbr\u003E\u003Cbr\u003Eset dt to time:Seconds - T.\u003Cbr\u003Eset Dp to kpd*(Ep-Epo)/dt.\u003Cbr\u003Eset Pp to kpp*Ep.\u003Cbr\u003Eset Ip to Ip \u002B kpi*(Ep\u002BEpo)*dt.\u003Cbr\u003Eif Ip \u0026gt; 1 {set Ip to 1.}.\u003Cbr\u003E\u003Cbr\u003Eset ship:control:pitch to Pp\u002BIp\u002BDp.\u003Cbr\u003E\u003Cbr\u003Eset Epo to Ep.\u003Cbr\u003E\u003Cbr\u003Eset Er to rollangle - wantroll.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eset Pr to krp*Er.\u003Cbr\u003Eset Ir to Ir \u002B kri*(Er\u002BEro)*dt.\u003Cbr\u003Eif Ir \u0026gt; 1 {set Ir to 1.}.\u003Cbr\u003Eset Dr to krd*(Er-Ero)/dt.\u003Cbr\u003Eset ship:control:roll to (Pr\u002BIr\u002BDr).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eprint \u0022K= \u0022 \u002B K at(0,15).\u003Cbr\u003Eprint \u0022Pp= \u0022 \u002B round(Pp,5) at(0,19).\u003Cbr\u003Eprint \u0022Dp= \u0022 \u002B round(Dp,5) at(0,20).\u003Cbr\u003Eprint \u0022Ip= \u0022 \u002B round(Ip,5) at(0,21).\u003Cbr\u003Eprint \u0022pitchcontrol= \u0022 \u002B 100*round(ship:control:pitch,3) \u002B\u0022%\u0022 at(0,22).\u003Cbr\u003Eprint \u0022Pitchangle= \u0022 \u002B round(pitchangle,2) at(0,23).\u003Cbr\u003Eprint \u0022Wantpitch = \u0022 \u002B round(wantpitch,2) at(30,23).\u003Cbr\u003EPrint \u0022Ep= \u0022 \u002B round(Ep,2) at(0,24).\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Pr= \u0022 \u002B round(Pr,5) at(0,26).\u003Cbr\u003Eprint \u0022Dr= \u0022 \u002B round(Dr,5) at(0,27).\u003Cbr\u003Eprint \u0022Ir= \u0022 \u002B round(Ir,5) at(0,28).\u003Cbr\u003E\u003Cbr\u003EPrint \u0022Er= \u0022 \u002B round(Er,2) at(0,29).\u003Cbr\u003Eprint \u0022Rollangle= \u0022 \u002B round(rollangle,2) at(0,30).\u003Cbr\u003Eprint \u0022Wantroll= \u0022 \u002B round(wantroll,2) at(30,30).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eset Ero to Er.\u003Cbr\u003Eset T to time:seconds.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Ewait 0.05.\u003Cbr\u003E\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI am using FAR by the way.\u003C/p\u003E\u003Cp\u003EThanks in advance\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-01-18T21:46:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ziw\u0022 data-cite=\u0022Ziw\u0022\u003E\u003Cdiv\u003ETo Authors:\u003Cp\u003EWhen do you plan to release an update? Since version 1.6.0 of RemoteTech the RT2 integration with KOS is broken (works fine with version 1.5.2 of RT2 though). Can you release a quick fix, or we have to wait for a major update Steven was writing about?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is on me because i was the one who broke it in RemoteTech \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am trying to get a release done today but with a 2 month old baby plans have a way of slipping away \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EUpdate: my fears about screaming baby were well founded. i was able to test a fix, i should be able to get the fix and the version changes done and it all out fairly soon.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T07:53:27Z\u0022 title=\u002201/19/2015 07:53  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-01-19T08:15:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThis is on me because i was the one who broke it in RemoteTech \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I am trying to get a release done today but with a 2 month old baby plans have a way of slipping away \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EUpdate: my fears about screaming baby were well founded. i was able to test a fix, i should be able to get the fix and the version changes done and it all out fairly soon.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFamily comes first, don\u0027t worry, we\u0027ll wait. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Farex","CreatedById":126838,"CreatedDateTime":"2015-01-19T12:22:02Z","Content":"\n\u003Cp\u003EGreetings!\u003C/p\u003E\u003Cp\u003EThis looks really interesting, but unfortunatly I don\u0027t have the time to read all 252 Pages, so just a quick question:\u003C/p\u003E\u003Cp\u003EIs it possible to make my craft do this? \u003C/p\u003E\u003Cp\u003E - if Stage 7 has no fuel left, activate Stage 6\u003C/p\u003E\u003Cp\u003EThis is really the only thing I would want to have, a fluid, seamless activation of all my lifter stages for the ultimate, most beautiful takeoff and flight to orbit ever.\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-01-19T13:07:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Farex\u0022 data-cite=\u0022Farex\u0022\u003E\u003Cdiv\u003EGreetings!\u003Cp\u003EThis looks really interesting, but unfortunatly I don\u0027t have the time to read all 252 Pages, so just a quick question:\u003C/p\u003E\u003Cp\u003EIs it possible to make my craft do this? \u003C/p\u003E\u003Cp\u003E - if Stage 7 has no fuel left, activate Stage 6\u003C/p\u003E\u003Cp\u003EThis is really the only thing I would want to have, a fluid, seamless activation of all my lifter stages for the ultimate, most beautiful takeoff and flight to orbit ever.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI use this snippet of code for staging (it was posted here on one of those 252 pages)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset stagemaxthrust to ship:maxthrust.\u003Cbr\u003Ewhen status \u0026lt;\u0026gt; \u0022PRELAUNCH\u0022 and (ship:maxthrust\u0026lt;stagemaxthrust or ship:maxthrust\u0026lt;1) then {\u003Cbr\u003E    print \u0022Stage!\u0022.\u003Cbr\u003E    stage.\u003Cbr\u003E    set stagemaxthrust to ship:maxthrust.\u003Cbr\u003E    preserve.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-19T15:42:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Farex\u0022 data-cite=\u0022Farex\u0022\u003E\u003Cdiv\u003EGreetings!\u003Cp\u003EThis looks really interesting, but unfortunatly I don\u0027t have the time to read all 252 Pages, so just a quick question:\u003C/p\u003E\u003Cp\u003EIs it possible to make my craft do this? \u003C/p\u003E\u003Cp\u003E - if Stage 7 has no fuel left, activate Stage 6\u003C/p\u003E\u003Cp\u003EThis is really the only thing I would want to have, a fluid, seamless activation of all my lifter stages for the ultimate, most beautiful takeoff and flight to orbit ever.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI usually prefer to go with this logic:\u003C/p\u003E\u003Cp\u003EWhenever an engine flames out, start hitting the stage button repeatedly until no more flamed out engines are attached anymore and there is at least one working engine attached (Just like in manual piloting, hitting \u0027stage\u0027 doesn\u0027t always have an effect if you\u0027ve hit \u0027stage\u0027 too recently. It has a cool down period. So what I do is usually hit \u0027stage\u0027 again and again until I see that mass has dropped as proof that it worked.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset numFlamedOut to 9999. // bogus start value forces loop to occur at least once.\u003Cbr\u003Euntil numFlamedOut = 0 and ship:maxThrust \u0026gt;0 { // ship:maxthrust will zero if no engines are active.\u003Cbr\u003E  list engines in engs.\u003Cbr\u003E  for e in engs { if e:flameout { numFlamedOut = numFlamedOut \u002B 1. }. }.\u003Cbr\u003E  if numFlamedOut \u0026gt; 0 or ship:maxthrust = 0 {\u003Cbr\u003E    stage.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T15:44:57Z\u0022 title=\u002201/19/2015 03:44  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vaulter","CreatedById":135465,"CreatedDateTime":"2015-01-19T20:57:29Z","Content":"\n\u003Cp\u003EJust leave it here:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elist engines in myEng.\u003Cbr\u003Eset sum_f to 0. // thrust in N\u003Cbr\u003Eset sum_f_isp to  0. // thrust/Isp\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Efor engine in myEng {\u003Cbr\u003E\tif ( engine:IGNITION ) {\u003Cbr\u003E    set engine_thrust to engine:maxthrust * engine:thrustlimit / 100.\u003Cbr\u003E    set sum_f to sum_f \u002B engine_thrust.\u003Cbr\u003E    set sum_f_isp to  sum_f_isp \u002B (engine_thrust / engine:isp).\u003Cbr\u003E  }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t//print engine \u002B \u0022: \u0022 \u002B ).\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eset Isp to sum_f / sum_f_isp.\u003Cbr\u003Eprint \u0022Isp = \u0022 \u002B Isp.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECalculate weighted Isp for ship.\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2015-01-20T02:16:51Z","Content":"\n\u003Cp\u003EWow. There\u0027s a lot which went in for 0.90 in the latest updates... It\u0027s going to take me sometime to get back into it, but with the new \u0022tiers\u0022 involved there\u0027s room for very interesting stuff for kOS ...\u003C/p\u003E\u003Cp\u003EWill read the past 100 pages of the forum to see what I missed! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-01-20T03:30:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Richy330\u0022 data-cite=\u0022Richy330\u0022\u003E\u003Cdiv\u003EAt the moment, I\u0027m trying to write my own automated plane pilot, using raw controls, but i ran into a problem. I am passing a desired pitch of the craft(pitch above horizon) to my script andd it adjustes the control surfaces to achieve this pitch via a PID loop. The problem with this is the PID tuning. It either works super slowly, but stable, or works faster, but becomes unstable at higher altitudes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re running into pretty much the same problem Pilot Assistant does: nice PID tuning works really well for a very specific situation, but a flight situation changes significantly based on airspeed and altitude (or rather atmospheric density). If you take a look in FAR\u0027s readouts, you\u0027ll probably find that the instability occurs past a certain high/low level of dynamic pressure / \u0027Q\u0027 (I don\u0027t know which in your case, upper atmospheric flight can have either).\u003C/p\u003E\u003Cp\u003EHigh dynamic pressure results in excess control authority and the PID over-reacting (short, sharp oscillations. Typically followed by the plane shaking to pieces)\u003C/p\u003E\u003Cp\u003ELow dynamic pressure results in inadequate control authority and PID under-reacting (big, slow oscillations. Spins and other \u0022fun\u0022 are the more likely result)\u003C/p\u003E\u003Cp\u003ENow, I don\u0027t really have much of an idea of what your script does (not a kOS user myself), but the easiest way to get around Q changes in my experience is to have a final scalar you can apply to the PID to change on the fly (if that\u0027s not feasible with kOS, maybe some form of lookup to do some mangement as you fly?). As Q increases, you scale down the output. As Q decreases, you scale up the output. It\u0027s not linear (that would just be too easy...) so don\u0027t try scaling it \u003Cstrong\u003Eby\u003C/strong\u003E dynamic pressure (that ends really badly).\u003C/p\u003E\u003Cp\u003EHope that helps somewhat\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-01-20T07:18:40Z","Content":"\n\u003Cp\u003Ev0.15.6\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/releases/tag/v0.15.6\u0022 rel=\u0022external nofollow\u0022\u003EFrom github\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E[h=3]BREAKING[/h]\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EPART:UID is now a string. This will only break you if you were doing math on UIDs?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EELEMENT:PARTCOUNT was poorly named and duplicated by ELEMENT:PARTS:LENGTH so it was removed.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[h=3]New Features[/h]\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E(AGX) Action Groups Extended Support! Thanks \u003Ca href=\u0022https://github.com/SirDiazo\u0022 rel=\u0022external nofollow\u0022\u003E@SirDiazo\u003C/a\u003E\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003EGetting or setting groups 11-250 should behave the same as the stock groups if you have AGX installed.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGroundwork is laid for getting parts and modules by the new action groups.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]Gimbals are now a well known module. providing read access to its state\u003C/p\u003E\u003Cp\u003E[*]Added PART:GETMODULEBYINDEX(int). This is most useful when you have a part with the same module twice. Thanks \u003Ca href=\u0022https://github.com/jwvanderbeck\u0022 rel=\u0022external nofollow\u0022\u003E@jwvanderbeck\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E[*]More documentation work. \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[h=3]Bug Fixes[/h]\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFixes RemoteTech Integration\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStructures can now be correctly ==, \u0026lt;\u0026gt; and concatenated with \u002B\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESTAGE:RESOURCE[?]:CAPACITY is now spell correctly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-01-20T14:55:24Z","Content":"\n\u003Cp\u003EGreat to see this released! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor those wanting more information, the Action Groups Extended \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/74195\u0022 rel=\u0022external nofollow\u0022\u003Eforum thread is here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHappy KSPing all,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Farex","CreatedById":126838,"CreatedDateTime":"2015-01-20T16:33:46Z","Content":"\n\u003Cp\u003E@Vaulter, Steven and Ziw - thank you, may this rep be your loot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dr_Goddard","CreatedById":100796,"CreatedDateTime":"2015-01-20T17:33:31Z","Content":"\n\u003Cp\u003ECongrats on the new release!\u003C/p\u003E\u003Cp\u003EI\u0027m still having problems with autorun. It just isn\u0027t working right, or simply has limitations I\u0027m not perceiving.\u003C/p\u003E\u003Cp\u003EI have 3 cores.\u003C/p\u003E\u003Cp\u003EI have three bootX.files (boot.ks, boot1.ks,boot2.ks)\u003C/p\u003E\u003Cp\u003EIn order to select each of these files in the VAB I have to add a fourth dummy file (boot4.ks)\u003C/p\u003E\u003Cp\u003ENow, this worked fine for a while. Core1 runs the user interface. Core2 handles coordinated servo motion. Core3 handles environmental monitoring.\u003C/p\u003E\u003Cp\u003EBut when I ran into another problem the kraken struck.\u003C/p\u003E\u003Cp\u003EI wanted to be able to disable a function provided by the second core (running boot2).\u003C/p\u003E\u003Cp\u003EI tried every kind of way through action groups to pass a command to core 2, but nothing worked. \u003C/p\u003E\u003Cp\u003ESo I struck on another answer. Use an action group to power down the core, and then reboot it when required again! Yay!\u003C/p\u003E\u003Cp\u003EBUT, core2 on rebooting refuses to use it\u0027s own boot file. It seems to use the last boot file loaded or something.\u003C/p\u003E\u003Cp\u003EI don\u0027t have the time today to go through it and thoroughly dissect the problem.\u003C/p\u003E\u003Cp\u003EI have to step up my C\u002B\u002B study so I can help with this.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E                 .--.       .--.\u003Cbr\u003E                     \\     /\u0022      \u003Cbr\u003E            |\\       \u0060\\___/\u0027       /|\u003Cbr\u003E             \\\\     .-\u0027@ @\u0060-.     // \u003Cbr\u003E              ||  .\u0027_________\u0060.  || \u003Cbr\u003E               \\\\.\u0027^    Y    ^\u0060.//\u003Cbr\u003E               .\u0027       |       \u0060.\u003Cbr\u003E              :         |         :\u003Cbr\u003E             :       ATHLETE       :\u003Cbr\u003E             :        Ver.1        :\u003Cbr\u003E             :     _    |    _     :\u003Cbr\u003E             :.   (_)   |   (_)    :\u003Cbr\u003E           __::.        |          :__\u003Cbr\u003E          /.--::.       |         :--.\\\u003Cbr\u003E       __//\u0027   \u0060::.     |       .\u0027   \u0060\\\\__\u003Cbr\u003E      \u0060--\u0027     //\u0060::.   |     .\u0027\\\\     \u0060--\u0027\u003Cbr\u003E              ||   \u0060-.__|__.-\u0027   ||\u003Cbr\u003E              ||                 ||\u003Cbr\u003E              //                 \\\\\u003Cbr\u003E             |/                   \\|\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-20T17:37:19Z\u0022 title=\u002201/20/2015 05:37  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 20, 2015\u003C/time\u003E by Dr_Goddard\u003C/strong\u003E\n\u003Cbr\u003Eneeded ascii font for logo.\n\u003C/span\u003E\n"},{"CreatedByName":"Parastie","CreatedById":136112,"CreatedDateTime":"2015-01-21T11:56:50Z","Content":"\n\u003Cp\u003EQuestion regarding vecdraw and an offset piece. Basically, I have an inline docking port and I\u0027m trying to get the origin of the vector to be the docking port. However, when I set the vector origin to the port origin it generates off the main ship. \u003C/p\u003E\u003Cp\u003EI\u0027m guessing the the position is a raw position and I can\u0027t figure out the proper syntax to get the ships raw position (as apposed to (0,0,0). I\u0027ll post my short script when I get home from work if it\u0027ll help. Thank you!\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-01-21T18:26:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Parastie\u0022 data-cite=\u0022Parastie\u0022\u003E\u003Cdiv\u003EQuestion regarding vecdraw and an offset piece. Basically, I have an inline docking port and I\u0027m trying to get the origin of the vector to be the docking port. However, when I set the vector origin to the port origin it generates off the main ship. \u003Cp\u003EI\u0027m guessing the the position is a raw position and I can\u0027t figure out the proper syntax to get the ships raw position (as apposed to (0,0,0). I\u0027ll post my short script when I get home from work if it\u0027ll help. Thank you!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe ship\u0027s raw position IS V(0,0,0) in kOS terminology. The weird contradictory coordinate system of underlying KSP is re-origined at the current ship\u0027s CoM for all position vectors in kOS (although it\u0027s not re-rotated to something sane - it stays at the underlying rotation). Oddly enough, it\u0027s still not origined at the vessel for VELOCITY purposes (which would zero your velocity if it was), but rather it reports the velocity at which the rest of the objects in the universe are passing you by.\u003C/p\u003E\n"}]}