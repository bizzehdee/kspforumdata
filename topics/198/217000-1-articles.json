{"TopicId":217000,"ForumId":198,"TopicTitle":"SAS in maneuver mode gives incorrect outcome when thrusting normal/antinormal.","CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-05-03T01:45:58Z","PageNum":1,"Articles":[{"CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-05-03T01:45:58Z","Content":"\n\u003Cp\u003E\nWhen setting up a maneuver node with a normal/antinormal element, \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E in maneuver mode gives the wrong result as the maneuver marker moves as normal/antinormal moves.\n\u003C/p\u003E\n\u003Cp\u003E\nSteps to recreate:\n\u003C/p\u003E\n\u003Cp\u003E\nTo see the problem clearly, it would be best to recreate the following steps in a high orbit with a low orbital velocity. High over Minmus would be ideal but the Mun would be fine.\n\u003C/p\u003E\n\u003Cp\u003E\n1. Set up a maneuver node with a purely normal vector.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Set \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E to track the maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\n3. Perform the burn as instructed.\n\u003C/p\u003E\n\u003Cp\u003E\nExpected result - the maneuver marker on the navball should be fixed during the burn and the resulting trajectory should match the maneuver node prediction.\n\u003C/p\u003E\n\u003Cp\u003E\nObserved result - the maneuver marker follows the normal marker as it moves during the burn. The final trajectory is not what the maneuver node predicted.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EThis may also apply to radial in/out maneuvers, but I haven\u0027t checked.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nJust done some testing and can confirm this also happens with radial in/out.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, the maneuver doesn\u0027t need to be purely radial in/out or normal/antinormal. Any maneuver that contains any of these elements will not be accurate, though won\u0027t be noticeable in most cases. The larger the radial/normal element, the less accurate the burn will be.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, I set up a 45 degree inclination change in a 400Km minmus orbit. Performing the burn using the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E maneuver hold and following the burn timer resulted in a 57 degree inclination change. Another sign that something isn\u0027t right is the yellow bar below the burn timer never reaches it\u0027s end point. It stops at about 1/3 and then starts going up again.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-05-03T10:51:31Z\u0022 title=\u002205/03/2023 10:51  AM\u0022 data-short=\u00221 yr\u0022\u003EMay 3, 2023\u003C/time\u003E by Turbo Ben\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RaccoonTOF","CreatedById":84116,"CreatedDateTime":"2023-05-03T06:01:30Z","Content":"\n\u003Cp\u003E\nThis can occur with any maneuver, though it is definitely most common with maneuvers that are not pure pro-/retro-grade burns.\u00A0 The maneuver marker TRIES to always point the direction the burn needs to continue in to result in the expected pre-burn planned outcome.\u00A0 The issue comes in that it is an instantaneous update, and thrust and actual reorientation of the rocket takes non-infinitesimal time.\u00A0 The same issues can be observed with extremely long low-thrust standard pro-/retro-grade burns - it\u0027s just that the margin of error is usually significantly (sometimes orders of magnitude) smaller for inclination changes.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-05-03T07:37:03Z","Content":"\n\u003Cp\u003E\nYes, the marker will try to adjust to keep the burn on track. It\u0027s generally pretty stable though except maybe at the very end of the burn.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is something different. The maneuver marker tracks the normal marker as it moves. In a high orbit at low velocity, this tracking is very rapid. Try setting up a maneuver node to create an escape trajectory using only a normal vector. The node will predict your orbit changing to head north and then leaving the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E. What will happen is the ship will start to perform loops as it tracks the normal marker, and you\u0027ll finish up pointing in a random direction with hardly any speed added.\n\u003C/p\u003E\n"},{"CreatedByName":"Turbo Ben","CreatedById":193979,"CreatedDateTime":"2023-05-03T11:00:03Z","Content":"\n\u003Cp\u003E\nI\u0027ve done some further testing and updated my original post.\n\u003C/p\u003E\n"},{"CreatedByName":"Wetzelrad","CreatedById":228424,"CreatedDateTime":"2023-05-03T14:07:25Z","Content":"\n\u003Cp\u003E\nThe workaround is to burn during timewarp, or burn with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E set to lock/hold. As long as you don\u0027t rotate to follow the marker, you should stay on course for the manuever as it was planned.\n\u003C/p\u003E\n"}]}