{"TopicId":214738,"ForumId":198,"TopicTitle":"Stuck Directional Keys - Input Frozen/Blocking/Queing/Lagging","CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-03-08T14:53:01Z","PageNum":1,"Articles":[{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-03-08T14:53:01Z","Content":"\n\u003Cdiv style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nReally happy KSP2 has finally been made available. Posting this because I just want to help out if I can.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nAt this point I\u0027m certain that I\u0027m experiencing this all the time.\u00A0 I especially notice it when the simulation seems to be especially strained.\u00A0 For example: when I\u0027m trying to fly an \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003E\u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E\u003C/abbr\u003E with a lot of rapiers through the lower atmosphere of Kerbin.\u00A0 But even when the game is very responsive I still see this to some extent.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nAt times I need to hold a directional key down for a while.\u00A0 I find that when I release the key, the game doesn\u0027t immediately notice the release.\u00A0 It behaves as if I\u0027m still holding the button down.\u00A0 It will eventually realize that I\u0027ve released the key.\u00A0 The amount of time it gets stuck seems to be proportional to the amount of time I had initially been holding the key down.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nI further observe that there is a memory aspect or queuing behavior that accompanies this.\u00A0 During the time while the game still thinks I\u0027m holding the key down, it seems to be recording any key press/releases in a queue or something.\u00A0 Once it realizes that the key had been released all my key presses during that time are executed in the order I performed them.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nFor example, when I need to hold S to \u0022pull back on the stick\u0022 for while while I\u0027m attempting to get my plane to pitch up.\u00A0 Once I release S the game behaves as if the key is still being held down, and the plane will keep pitching further and further up.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\nWhile the game is in the state where it\u0027s ignoring my keyboard input...\u003Cbr\u003E\n...it seems to be all keyboard input. This includes keys like escape.\u003Cbr\u003E\n...Other input doesn\u0027t seem affected. The mouse keeps working as normal. This can be particularly odd. For example: Walking somewhere as a Kerbal involves me holding W to walk forward for a long time. It will get into a state where it thinks I\u0027m still pressing W and so it will keep walking my Kerbal forward. And yet I can still steer the Kerbal with the mouse.\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022 style=\u0022color:#2b2e2f;line-height:22px;margin:15px 0;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nKSP Version: 0.1.0.0.20892\u003Cbr\u003E\nOperating System and version: Ubuntu 20.04.5 LTS\u003Cbr\u003E\nCPU and GPU models, any other system information which could be relevant\u003Cbr\u003E\n- AMD Ryzen 5 3400G\u003Cbr\u003E\n- NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] (rev a1)\u003Cbr\u003E\nDescription of the bug: see above\u003Cbr\u003E\n- Expected Behavior: see above\u003Cbr\u003E\n- Observed Behavior: see above\u003Cbr\u003E\nSteps to Replicate: see above\u003Cbr\u003E\nFixes / Workarounds (if known..)\u003Cbr\u003E\n- The only workaround I have is to avoid holding a key down for too long.\u00A0 This only works so well.\u003Cbr\u003E\nA list of ALL mods.\u00A0 If the list is long, please consider using a spoiler window.\u003Cbr\u003E\n- No mods.\u003Cbr\u003E\nOther Notes / Screenshots / Log Files (if possible..)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-06-08T15:21:14Z\u0022 title=\u002206/08/2023 03:21  PM\u0022 data-short=\u00221 yr\u0022\u003EJune 8, 2023\u003C/time\u003E by Anth12\u003C/strong\u003E\n\u003Cbr\u003EUpdating Title\n\u003C/span\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-03-19T19:22:54Z","Content":"\n\u003Cp\u003E\nJust wanted to mention that I\u0027m still seeing this behavior after the 0.1.1 patch.\u00A0 I do notice that when the performance is better this is less of an issue.\u00A0 There are times when the framerate is at it\u0027s highest and the issue seems to be gone.\u00A0 Unfortunately that seems to be rare.\n\u003C/p\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-03-20T20:27:17Z","Content":"\n\u003Cp\u003E\nI have a little more info on this issue.\u00A0 A workaround, for when walking around as a Kerbal.\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems that I can prevent the direction from becoming stuck by jumping.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I jump just after starting walking, and also keep holding the direction, I can later release the directional key and the Kerbal stops immediately,\n\u003C/p\u003E\n\u003Cp\u003E\nThis was true even while I was in a situation where the game was running at a rather low framerate.\u00A0 Just above 13 FPS.\n\u003C/p\u003E\n\u003Cp\u003E\nI further explored this.\n\u003C/p\u003E\n\u003Cp\u003E\nI was able to get a direction to become stuck, and then later unstick it.\n\u003C/p\u003E\n\u003Cp\u003E\nI started by holding W to walk forward.\u00A0 After about 10 steps I pressed space.\u00A0 The kerbal did not immediately jump.\u00A0 About 10-15 steps after pressing space he did.\u00A0 Then I kept holding W for about 10 more steps.\u00A0 Then when I\u00A0 released W he stopped immediately.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter doing this for a while with the different directional keys, I can tell that it\u0027s sort of specific to each key.\u00A0 Once a directional key is released and then pressed again, it starts accumulating \u0022stuckness\u0022 until i release it or press space.\n\u003C/p\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-04-13T00:23:09Z","Content":"\n\u003Cp\u003E\nVersion 0.1.2 released today and this is definitely still an issue for me.\n\u003C/p\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-04-19T20:33:08Z","Content":"\n\u003Cp\u003E\nValve released Proton 8.0 recently.\u00A0 I\u0027m able to get the game to run under this new version of Proton, but unfortunately this bug is still present.\n\u003C/p\u003E\n\u003Cp\u003E\nAre there any Linux users who don\u0027t seem to have this issue?\u00A0 If so, can you provide the specifics of your setup?\u00A0 Distro?\u00A0 Kernel Version?\u00A0 Proton or Wine Version?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also curious to know if anyone on Windows is seeing this behavior.\u00A0 I\u0027m suspecting this is an issue that affects some Unity games under Proton.\n\u003C/p\u003E\n"},{"CreatedByName":"Davidian1024","CreatedById":210190,"CreatedDateTime":"2023-04-20T02:29:59Z","Content":"\n\u003Cp\u003E\nI think I found a proton option that fixes this.\u00A0 It\u0027s consistently fixing it for me so far.\n\u003C/p\u003E\n\u003Cp\u003E\nAdd this to the game\u0027s launch options under properties:\n\u003C/p\u003E\n\u003Cp\u003E\nPROTON_NO_XIM=1\n\u003C/p\u003E\n"}]}