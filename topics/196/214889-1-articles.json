{"TopicId":214889,"ForumId":196,"TopicTitle":"Staged Parts Remain Attached - A New/Different Twist Including Messed Up Camera Plus More","CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2023-03-11T18:49:19Z","PageNum":1,"Articles":[{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2023-03-11T18:49:19Z","Content":"\n\u003Cp\u003E\nFirst off, this is NOT bug we all discovered on the first day when entire stages failed to properly separate unless you put the decoupler into its own stage ... this is something new and different (to me).\n\u003C/p\u003E\n\u003Cp\u003E\nSo, setup: I built a very large LH2 powered nuclear transfer stage with a methalox lander on top for mission to Laythe. That whole stack is sitting on top of a large methalox core booster with four large \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E strap-on boosters. For pitch control on ascent, I have four large stabilizers attached to that core stage.\u00A0 Climbing to \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E was utterly perfect except for the fact that the core stage was managing to pull propellants through multiple decouplers and in-line docking ports (and a giant LH2 tank in between) even with Fuel Crossfeed disabled - yes, I know - another known bug.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, after getting to a roughly circular 160km orbit around Kerbin, I staged away the booster, leaving the nuclear stage and lander alone and ready to make the burn to Jool.\u00A0 For some odd reason, one of the large stabilizer fins attached to the core stage then separated from the core and remained relatively close to the transfer vehicle. After planning my Jool burn and timewarping to the burn time, the stabilizer was still there. During the burn, the core stage rapidly left the stabilizer behind but at the same time, my camera view began to drift, as if trying to remain focused on the combined center of mass of everything, including that wayward stabilizer fin. Worse, during the 3-1/2 minute burn, the vehicle seemed to lose its ability to point or maintain control, almost like that now far away fin was somehow dragging or impeding the transfer burn like an anchor.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter finally completing some semblance of the burn, I was very far off my intended trajectory. I decided to try to correct it once outside Kerbin\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E. Once outside the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E, I flipped from Map to flight view and my vessel is absolutely no where to be found. It\u0027s there on the map and I have controls for it, but the camera doesn\u0027t see it and cycling through came views does not bring it back into focus. Again, it\u0027s like the camera view has become anchored to some hypothetical center of mass between that weird aberrant stabilizer fin and my actual craft. I tried deleting all the debris in my save from the Tracking Station but this fin doesn\u0027t show up.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve reloaded the save, reloaded earlier quicksaves, etc. but every time I stage away the core booster, that one fin ends up detached from the core and remains in the vicinity of the transfer stage, and it causes the same issue even if I quit and reload the game. I\u0027ve\u00A0 also tried parsing the .json of the save file to see if I can delete the weird part, but file for the vessels is looooong and difficult to parse on first impression.\n\u003C/p\u003E\n\u003Cp\u003E\nMy next effort will be to try to transfer the craft file to a brand new clean save and see if that fixes the issue.\n\u003C/p\u003E\n"},{"CreatedByName":"whatsEJstandfor","CreatedById":220814,"CreatedDateTime":"2023-03-13T20:17:34Z","Content":"\n\u003Cp\u003E\nThis is pretty common; seems to happen with wing pieces and landing legs. The cause seems to be that, when the craft is saved, those pieces lose track of which part they were parented to. This causes them to still be treated as a part of the vehicle, but not attached to anything. Since they\u0027re still a part of the vehicle, the \u0022center of mass\u0022 as it were tends to drift as the main vehicle and the broken part separate, and the camera tries to follow that center.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only fix I\u0027ve seen (and one I\u0027ve successfully done a few times) is by doing surgery on the save file to either reparent the broken part to its original parent, or to delete the part entirely. For me, I did the latter, because it happened to some wings, and those were no longer needed since I was in orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nThe actual process is pretty tricky to explain here but, if you open your save file (after making a backup, of course!), you should be able to identify the broken part by searching for this string verbatim:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022attachedPartNodeID\u0022: \u0022\u0022\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere\u0027s an example of one of my busted parts:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg data-ratio=\u002271.23\u0022 width=\u0022570\u0022 alt=\u0022XONBL11.png\u0022 src=\u0022https://i.imgur.com/XONBL11.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt will also show a GUID of all zeroes for the \u0022AttachedPartGuid\u0022 tag. Scroll up a bit to where the part starts. You\u0027ll see \u0022partName\u0022 followed by the part\u0027s name (presumably yours will include the word \u0022stabilizer\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022OyddrTQ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002241.61\u0022 height=\u0022268\u0022 width=\u0022644\u0022 src=\u0022https://i.imgur.com/OyddrTQ.png\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAbove that, you\u0027ll see a line that says \u0022partGuid\u0022, and then an open curly brace right above that. Select that curly brace and find its corresponding closed curly brace a few hundred or thousand lines down, and delete that whole block. This is how you can delete the busted part. Save the file, and open it in-game; the part should now be gone.\n\u003C/p\u003E\n\u003Cp\u003E\nHopefully, with the new patch, this won\u0027t be an issue anymore; doing this kind of manual save-fixing isn\u0027t tenable.\n\u003C/p\u003E\n"},{"CreatedByName":"Jason_25","CreatedById":55730,"CreatedDateTime":"2023-03-13T21:26:21Z","Content":"\n\u003Cp\u003E\nI worked around this problem by changing the root part to the cockpit of the carrier vehicle.\u00A0 Previously it was a fueselage part of the carrier vehicle.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit:\n\u003C/p\u003E\n\u003Cp\u003E\nI consider this bug the \u0022drifting camera bug\u0022, \u0022wrong vehicle control bug\u0022, and \u0022vehicle (reported) destroyed upon undocking bug\u0022.\u00A0 Also I am now seeing a bug related to this that causes the frame rate to go from around 25 to less than 1 when the bugged undocked vehicles remain near each other.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso the workaround above is not 100% effective.\u00A0 Another way to trigger this is to bump the vehicles together after undocking.\u00A0 If I hurry the vehicles away from each other this bug does not trigger.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-13T21:39:08Z\u0022 title=\u002203/13/2023 09:39  PM\u0022 data-short=\u00221 yr\u0022\u003EMarch 13, 2023\u003C/time\u003E by Jason_25\u003C/strong\u003E\n\u003C/span\u003E\n"}]}