{"TopicId":215022,"ForumId":196,"TopicTitle":"decouplers that form interstages are \u0027cones to smaller\u0027 but should be \u0027cylinders to equal\u0027","CreatedByName":"MehJeb","CreatedById":227441,"CreatedDateTime":"2023-03-14T11:17:08Z","PageNum":1,"Articles":[{"CreatedByName":"MehJeb","CreatedById":227441,"CreatedDateTime":"2023-03-14T11:17:08Z","Content":"\n\u003Cp\u003E\nHey there,\n\u003C/p\u003E\n\u003Cp\u003E\non the screenshot below:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022pl1_2.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002286.83\u0022 height=\u0022521\u0022 width=\u0022600\u0022 src=\u0022https://www.linkpicture.com/q/pl1_2.jpg\u0022\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nyou can see \u0022SM\u0022 type decoupler generates a procedural cone to the size of the smaller engine - this is not how it works on rockets - the KSP\u0027s decoupler plate is the base for procedural (idealy) cylinder to the part (fuel tank) that is _BEFORE_ an engine (which we hide in interstage for launch) on the stack. So the code should take a part to which an engine is attached and then attempt to cast procedural cylinder (ok, cone) to this part\u0027s diameter, and if it produces an error (say engine is attached to small ocagonal strut instead of a tank) either produce an error message or, which is better, attempt to find a \u0022good\u0022 part up the stack to cast a cone to\n\u003C/p\u003E\n\u003Cp\u003E\n...alternatively, it is possible to display a user-editable (shader-highlit) proposed cone\\cylinder which turns red if some stupid combination is there (say, the player attempts to attach decoupler to an engine that is attached sideways to the fuel tank via octagonal strut) - in this case the player is presented with clear picture view why this wouldn\u0027t work to create an insterstage and optionally may elect to only use the decoupler plater (say by right clicking once to remove shroud depiction) for his\\her radial decoupling needs\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2023-03-14T11:50:58Z","Content":"\n\u003Cp\u003E\nGenerated elements like shrouds etc, and parts in general never align to grandparent parts, never have. They don\u0027t know what is above the engine, it applies the shroud to its diameter, period.\n\u003C/p\u003E\n\u003Cp\u003E\nUse engine plates when you\u0027re working with size differences.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-03-14T11:51:24Z\u0022 title=\u002203/14/2023 11:51  AM\u0022 data-short=\u00221 yr\u0022\u003EMarch 14, 2023\u003C/time\u003E by The Aziz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JoeSchmuckatelli","CreatedById":154477,"CreatedDateTime":"2023-03-14T14:56:07Z","Content":"\n\u003Cp\u003E\nI\u0027m used to seeing Med size decoupler shroud cylindrically to the Med size part above it.\u00A0 Like to the tank, not the engine.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MehJeb","CreatedById":227441,"CreatedDateTime":"2023-03-14T21:45:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224258802\u0022 data-ipsquote-contentid=\u0022215022\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221678794658\u0022 data-ipsquote-userid=\u0022150811\u0022 data-ipsquote-username=\u0022The Aziz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, The Aziz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nparts in general never align to grandparent parts, never have\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyou are very very wrong in this statement... how does fairing builder work? say you start with a cone of radius R1 and then your next R2 is larger and then, say on R5 you encounter an antenna sticking out - can you complete your fairing? no... it shows you that there is no valid (collision-free) intersection at such radius - and how does it do it?\n\u003C/p\u003E\n\u003Cp\u003E\nforeach (Part thisPart in PartsAboveFairingBase) {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if (thisPart.dimension.x \u0026gt;= fairingRadius ||\u00A0thisPart.dimension.y\u00A0\u0026gt;= fairingRadius ||\u00A0thisPart.dimension.y\u00A0\u0026gt;= fairingRadius) DisplayFairingSegmentInvalid();\n\u003C/p\u003E\n\u003Cp\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nSo, it is a bug with going throught the stack above the decoupler, which should have almost the same logic of checking as fairing has.\n\u003C/p\u003E\n"}]}