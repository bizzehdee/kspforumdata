{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":357,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-22T11:56:07Z","Content":"\n\u003Cp\u003ESorry skips but your \u0022fix\u0022 does not makes sense. There may be a problem with the time estimate but replying to the sim that it must slow down to 90% of the current speed does not makes sense.\u003C/p\u003E\n"},{"CreatedByName":"Furious1964","CreatedById":113005,"CreatedDateTime":"2015-01-22T14:53:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe resonant orbit change your orbit so the new Orbital period is a ratio of your current one. \u003Cp\u003EWarning : explaining from memory. I may invert some things \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo say you have Sat A \u0026amp; B next to each other on the same orbit with an orbital period of 60 minutes . \u003C/p\u003E\u003Cp\u003EYou use the resonant orbit to ask for a 4/3 orbit for A then you have A on a 80 minutes orbital period with a Pe of 200km and an Ap of more (not willing to do the math now). \u003C/p\u003E\u003Cp\u003EAfter 1 orbit you ask for MJ to circularize at Pe (200km). \u003C/p\u003E\u003Cp\u003EYou end up with A \u0026amp; B on a 200km orbit with A 120\u00C3\u201A\u00C2\u00B0 (1/3) behind B.\u003C/p\u003E\u003Cp\u003ESame as WuphonsReach explained.\u003C/p\u003E\u003Cp\u003EI\u0027ll try to do some graph to explain it tonight.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan I do a Hoffman Transfer and a Resonant orbit change at the same time?\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-22T15:00:56Z","Content":"\n\u003Cp\u003EI don\u0027t think you can combine maneuver nodes, but you can do them one right after the other.\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-22T15:03:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Furious1964\u0022 data-cite=\u0022Furious1964\u0022\u003E\u003Cdiv\u003ECan I do a \u003Cstrong\u003EHoffman Transfer\u003C/strong\u003E and a Resonant orbit change at the same time?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou misspelled \u0022Hohmann Transfer\u0022 ... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENo, not really. As described above, a resonant orbit is simply one that has an orbital period that is a ratio of another. \u003C/p\u003E\u003Cp\u003EA Hohmann transfer is meant to get your craft from its current orbit to intercept a target in a different orbit in the most efficient manner.\u003C/p\u003E\n"},{"CreatedByName":"Furious1964","CreatedById":113005,"CreatedDateTime":"2015-01-22T15:30:50Z","Content":"\n\u003Cp\u003EDo I need to put the second satillite in a parking orbit?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying dozens of times to get this right and failing. My first satillite isn\u0027t even over the KSC.\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-22T15:31:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Furious1964\u0022 data-cite=\u0022Furious1964\u0022\u003E\u003Cdiv\u003EDo I need to put the second satillite in a parking orbit?\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying dozens of times to get this right and failing. My first satillite isn\u0027t even over the KSC.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat are you actually trying to accomplish? A constellation of satellites in the same orbital plane? Orbital rendezvous?\u003C/p\u003E\n"},{"CreatedByName":"Furious1964","CreatedById":113005,"CreatedDateTime":"2015-01-22T15:39:26Z","Content":"\n\u003Cp\u003E3 satillites over kerbin. In a triangle configuration.\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-22T15:44:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Furious1964\u0022 data-cite=\u0022Furious1964\u0022\u003E\u003Cdiv\u003E3 satillites over kerbin. In a triangle configuration.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESerbian\u0027s post, that you quoted above in post #8902, tells you exactly how to put one satellite 120\u00C3\u201A\u00C2\u00BA behind another. Do that twice and you\u0027ll have three satellites each 120\u00C3\u201A\u00C2\u00BA apart around Kerbin.\u003C/p\u003E\n"},{"CreatedByName":"skips","CreatedById":89142,"CreatedDateTime":"2015-01-22T21:02:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003ESorry skips but your \u0022fix\u0022 does not makes sense. There may be a problem with the time estimate but replying to the sim that it must slow down to 90% of the current speed does not makes sense.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixedUpdateCoastToDeceleration() drops you from the coast state to the LandStep.DECELERATING if the ship\u0027s speed is greater than 0.9 times the speed returned by MaxAllowedSpeed(). To prevent changing state you need to return a speed that is 1.11111111 times larger than the ship\u0027s speed. For that reason, you must divide vel.magnitude by 0.90. I added the 1.0 just to make sure that the finite precision issues did not cause any problems. I can assure you that this code actually prevents the simulation from attempting to traverse the last 1000 meters at 1 meter per second speed.\u003C/p\u003E\u003Cp\u003Eskips\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-22T23:37:30Z","Content":"\n\u003Cp\u003EYes, but it\u0027s not used only there. If there is a problem with the logic of FixedUpdateCoastToDeceleration then it must be fixed. But sending back a magic value does not fix the problem, it just hide it.\u003C/p\u003E\n"},{"CreatedByName":"skips","CreatedById":89142,"CreatedDateTime":"2015-01-23T02:16:35Z","Content":"\n\u003Cp\u003Esarbian\u003C/p\u003E\u003Cp\u003EThe change makes the routine meet the contract that is defined in its definition i.e., allow the atmosphere to slow the spacecraft. The original implementation of the returned a zero when the plan was to end and apparently the caller was supposed to recognize this flag. It appears that the autopilot code was rewritten without taking this requirement into account and the person who rewrote the autopilot decided to arbitrarily return the value 1, which corrupts the landing simulation. If the plan is intended to track the required maximum velocity all the way to the ground, then it will need substantially more information than the original design gave it.\u003C/p\u003E\u003Cp\u003Eskips\u003C/p\u003E\n"},{"CreatedByName":"xytovl","CreatedById":112756,"CreatedDateTime":"2015-01-23T06:26:36Z","Content":"\n\u003Cp\u003EThe speed policy is for powered landing.\u003C/p\u003E\u003Cp\u003EThe simulation already integrates the drag during reentry, then asks the policy if it should fire the engine. Changing the engine simulates a different piloting behaviour. The correct change would be to return touchdown speed for the last meter, and increasing values for the suicide burn part. The problem is that it can\u0027t be accurate over a few hundred meters in the atmosphere.\u003C/p\u003E\u003Cp\u003EI would replace it with a backtracking system where different actiation times are tested until we find the precise moment where it is an atmospheric suicide burn.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-23T06:27:54Z","Content":"\n\u003Cp\u003EMaybe just see how NASA programs landing guidance????\u003C/p\u003E\u003Cp\u003EJust an off the wall thought, lol.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-01-23T06:37:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EMaybe just see how NASA programs landing guidance????\u003Cp\u003EJust an off the wall thought, lol.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey crib off of KSP forums.\u003C/p\u003E\n"},{"CreatedByName":"Rock-it-man","CreatedById":19379,"CreatedDateTime":"2015-01-23T07:26:08Z","Content":"\n\u003Cp\u003EHey guys,\u003C/p\u003E\u003Cp\u003EI\u0027ve checked and re-checked everything and I can\u0027t get it to work.\u003C/p\u003E\u003Cp\u003EVanilla install of 0.90 (non-steam) downloaded MechJeb 2.4.2 from curse, put the Mechjeb2 folder and all its contents in the gamedata folder.\u003C/p\u003E\u003Cp\u003EI can see the Mechjeb parts in VAB and SPH and I can install them on a craft, but the MechJeb UI doesn\u0027t show up. The tab in the top right doesn\u0027t show up like it used to. Suggestions?\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2015-01-23T07:50:16Z","Content":"\n\u003Cp\u003EDo you have the toolbar installed and is it sandbox or career\u003C/p\u003E\n"},{"CreatedByName":"Rock-it-man","CreatedById":19379,"CreatedDateTime":"2015-01-23T07:53:32Z","Content":"\n\u003Cp\u003EToolbar? Haven\u0027t heard anything about a toolbar?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESandbox. I\u0027ve used mechjeb before, it\u0027s always worked for me till now.\u003C/p\u003E\n"},{"CreatedByName":"pargentum","CreatedById":83267,"CreatedDateTime":"2015-01-23T08:23:25Z","Content":"\n\u003Cp\u003EDifferential trottle \u002B KW slow starting engines = loss of control?\u003C/p\u003E\u003Cp\u003EI am launching an asparagus rocket and tried to enable Differential Trottle option in Utilites. During vertical ascent it went OK, but when I begin the gravity turn, rocket started oscillating around two axes and after several oscillations went into uncontrollable spin. I noticed that at least one of engines was completely shut down during the spin. This happened both with Ascent guidance and manual ascent with SAS enabled. \u003C/p\u003E\u003Cp\u003EI managed to launch it with disabled Differential Trottle, so I am sure there is nothing wrong with the rocket per se. I also tried to fight this using TAC fuel balancer without success, so I am practically sure this is because engines do not react to trottle fast enough.\u003C/p\u003E\u003Cp\u003EHere is the picture of the ship to explain what kind of rocket layout I use: \u003Ca href=\u0022https://lh5.googleusercontent.com/-KVoPKLFVSEw/VMDLZR9XZGI/AAAAAAAACCc/SdnJf77suG0/s1280/screenshot177.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://lh5.googleusercontent.com/-KVoPKLFVSEw/VMDLZR9XZGI/AAAAAAAACCc/SdnJf77suG0/s1280/screenshot177.png\u003C/a\u003E External stages (black conical tanks) use KW Titan-T1, internal (orange cylindrical tanks) KW Griffon XX. I can provide .ship file if necessary.\u003C/p\u003E\u003Cp\u003EBy the way, I managed to land the second small asparagus (sitting on the top of orange tanks) to Eve and lift it back to the orbit!\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-23T10:26:23Z","Content":"\n\u003Cp\u003ERock-it-man : Windows ? Installed in program Files ? Log ?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EMaybe just see how NASA programs landing guidance????\u003Cp\u003EJust an off the wall thought, lol.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure. \u0022Excuse me Sir, can you send me the code for you multi million dollar program so I can use it for my pet project ?\u0022.\u003C/p\u003E\u003Cp\u003ENot the first time I see that argument so I\u0027d like to remind people that the various space agency have advantages over us : \u003C/p\u003E\u003Cp\u003E - They know the specifications of what their program will pilot when they code/setup it\u003C/p\u003E\u003Cp\u003E - They don\u0027t have to write code that work with the amazing vessel design MJ has to cope with (this is sarcasm for those whose detector is broken)\u003C/p\u003E\u003Cp\u003E - They can do countless simulation in datacenter filled with CPU\u003C/p\u003E\u003Cp\u003E - They work with a world where the physic does make sense\u003C/p\u003E\u003Cp\u003E - Their world does not slow down with the number of part on the ship\u003C/p\u003E\u003Cp\u003E - They get paid for it and don\u0027t have to earn money with day jobs.\u003C/p\u003E\u003Cp\u003EBut then we have advantages over them too :\u003C/p\u003E\u003Cp\u003E - We know stuff like our velocities, positions and mass to the last digit in real time.\u003C/p\u003E\u003Cp\u003E - We can read the all the law of physic\u003C/p\u003E\u003Cp\u003E - No one dies when we mess up. (Not sure about that one given the tone of some post I had to deal with in the past)\u003C/p\u003E\u003Cp\u003E - F5 and F9\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2015-01-23T10:39:30Z","Content":"\n\u003Cp\u003ENASA uses KSP I have seen it, my guess there getting ideas for the SLS Guidance system from MJ\u003C/p\u003E\n"},{"CreatedByName":"Meumeu","CreatedById":75656,"CreatedDateTime":"2015-01-23T10:44:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pargentum\u0022 data-cite=\u0022pargentum\u0022\u003E\u003Cdiv\u003EDifferential trottle \u002B KW slow starting engines = loss of control?\u003Cp\u003EI am launching an asparagus rocket and tried to enable Differential Trottle option in Utilites. During vertical ascent it went OK, but when I begin the gravity turn, rocket started oscillating around two axes and after several oscillations went into uncontrollable spin. I noticed that at least one of engines was completely shut down during the spin. This happened both with Ascent guidance and manual ascent with SAS enabled.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s not surprising, if the engines are slow to start MechJeb won\u0027t be able to apply the correct torque on the engines. It \u003Cem\u003Emight\u003C/em\u003E work if the attitude control response is slower than the engine response but that\u0027s just a gut feeling, I\u0027ve never tried this.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-23T10:59:47Z","Content":"\n\u003Cp\u003EI guess it could be fixed by replacing the \u0022float mainThrottle = vessel.ctrlState.mainThrottle;\u0022 in MechJebModuleThrustController.cs by \u0022float mainThrottle = e.currentThrottle;\u0022 to get the engine actual throttle. The engine wrapper may need an update for that one too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-23T11:03:39Z\u0022 title=\u002201/23/2015 11:03  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 23, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-23T13:01:01Z","Content":"\n\u003Cp\u003E@ sarbian: heh, yeah, it wasn\u0027t entirely serious and I did say off the wall.\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-23T14:38:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Virtualgenius\u0022 data-cite=\u0022Virtualgenius\u0022\u003E\u003Cdiv\u003ENASA uses KSP I have seen it, my guess there getting ideas for the SLS Guidance system from MJ\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUm, no. You\u0027ve seen some animations and stuff for public consumption.\u003C/p\u003E\u003Cp\u003EReal work is done with dedicated simulation software like MATLAB and, for spacecraft operations, control and display, STK (Satellite Toolkit). These are aerospace-industry standard tools that have been developed over decades. \u003C/p\u003E\u003Cp\u003EDon\u0027t get me wrong - KSP is fantastic for armchair astronauts and what Sarbian and a handful of others have done with MechJeb is nothing short of amazing. But it\u0027s not the real-world.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-01-23T14:45:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LameLefty\u0022 data-cite=\u0022LameLefty\u0022\u003E\u003Cdiv\u003EUm, no. You\u0027ve seen some animations and stuff for public consumption.\u003Cp\u003EReal work is done with dedicated simulation software like MATLAB and, for spacecraft operations, control and display, STK (Satellite Toolkit). These are aerospace-industry standard tools that have been developed over decades. \u003C/p\u003E\u003Cp\u003EDon\u0027t get me wrong - KSP is fantastic for armchair astronauts and what Sarbian and a handful of others have done with MechJeb is nothing short of amazing. But it\u0027s not the real-world.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s humor. Try to understand this.\u003C/p\u003E\u003Cp\u003ENobody \u003Cem\u003Eseriously\u003C/em\u003E suggested that NASA is using MechJeb OR KSP for anything...\u003C/p\u003E\n"}]}