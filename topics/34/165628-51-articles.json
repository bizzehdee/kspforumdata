{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":51,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-02-14T06:11:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223925877\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613258390\u0022 data-ipsquote-userid=\u0022210060\u0022 data-ipsquote-username=\u0022Emilienj\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Emilienj said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nFirstly thanks for this beautiful mod.\u00A0\u003Cbr\u003E\ni want to know if is it possible to have the same function as the function \u00AB at \u00BB does for \u00AB print \u00BB but for the function Hudtext ? If yes how can i do this ?\n\u003C/p\u003E\n\u003Cp\u003E\nthanks\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot automatically, but you could write your own wrapper function that does something like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nfunction warn_message {\n  parameter text, col, row.\n  \n  hudtext(text, 5, 2, 20, white, false).\n  print text at (col, row).\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"SATNAV1122","CreatedById":210100,"CreatedDateTime":"2021-02-15T14:31:33Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCool thing but can you send the earlier versions so i can use them with my 1.10.1 mods please?\u003Cbr\u003E\u003Cbr\u003E\nYour sincearly,\n\u003C/p\u003E\n\u003Cp\u003E\nNikodem K******ki\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-02-16T08:48:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223926690\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613399493\u0022 data-ipsquote-userid=\u0022210100\u0022 data-ipsquote-username=\u0022SATNAV1122\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, SATNAV1122 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCool thing but can you send the earlier versions so i can use them with my 1.10.1 mods please?\u003Cbr\u003E\u003Cbr\u003E\nYour sincearly,\n\u003C/p\u003E\n\u003Cp\u003E\nNikodem K******ki\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGo to the github page and see the \u0022releases\u0022 link.\u00A0 It should have older versions there.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MuriloMoreira","CreatedById":188149,"CreatedDateTime":"2021-02-18T02:50:01Z","Content":"\n\u003Cp\u003E\nSomeone with a script for FASA\u0027s Saturn V? I\u0027m having trouble launching it and configuring MechJeb is also kind of complex, if anyone does I would be very grateful to share it.\n\u003C/p\u003E\n"},{"CreatedByName":"realjuliusPGKC","CreatedById":209584,"CreatedDateTime":"2021-02-18T07:11:01Z","Content":"\n\u003Cp\u003E\nim trying to add scripts from outside the game but it doesnt read it in game anyhelp?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-02-18T08:03:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223928130\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613632261\u0022 data-ipsquote-userid=\u0022209584\u0022 data-ipsquote-username=\u0022realjuliusPGKC\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, realjuliusPGKC said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nim trying to add scripts from outside the game but it doesnt read it in game anyhelp?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat folder are you placing them in and are you switching to the library in-game?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-02-25T17:35:36Z","Content":"\n\u003Cp\u003E\nHi,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nwhy KERBIN:VELOCITY:ORBIT = V(0,0,0)? If thought it should return orbital velocity of Kerbin around it\u0027s parent body, which is the Sun.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-02-26T00:10:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223932129\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221614274536\u0022 data-ipsquote-userid=\u0022185823\u0022 data-ipsquote-username=\u0022JebIsDeadBaby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, JebIsDeadBaby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nwhy KERBIN:VELOCITY:ORBIT = V(0,0,0)? If thought it should return orbital velocity of Kerbin around it\u0027s parent body, which is the Sun.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, it sort of does... but ... the reference frame SHIP:RAW that all the velocities are returned in is the reference frame the main game uses, which is centered around the active vessel\u0027s current Sphere of Influence body.\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words, if you are currently orbiting Kerbin, then you are getting Kerbin\u0027s velocity relative to itself, which is why it\u0027s zero.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want its velocity relative to the Sun, you can just not care what\u0027s the reference frame it\u0027s using and just explicitly subtract one velocity vector from the other, like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nprint \u0022Kerbin is orbiting The Sun at \u0022 \u002B (kerbin:velocity:orbit - sun:velocity:orbit):mag \u002B \u0022meters per second.\u0022.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-02-26T08:20:10Z","Content":"\n\u003Cp\u003E\nOh, OK. This is indeed explained on the\u00A0\u003Ca href=\u0022https://ksp-kos.github.io/KOS/math/ref_frame.html\u0022 rel=\u0022external nofollow\u0022\u003EReference Frames\u003C/a\u003E\u00A0page. It probably would be wise to repeat some of this info\u00A0\u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/orbits/orbitablevelocity.html#attribute:ORBITABLEVELOCITY:ORBIT\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, or at least put a link there.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"MJRMatthew","CreatedById":152173,"CreatedDateTime":"2021-02-28T20:15:43Z","Content":"\n\u003Cp\u003E\nI\u0027ve been learning Kos for a couple days and have started on a docking autopilot but I cant\u00A0 get the target:facing:inverse function to work so I made it add 180 degrees to the targets pitch and yaw and then used mod to get the inverse but its like the program stops adding 180 to the angles idk why is this a bug or am I just stupid?\n\u003C/p\u003E\n\u003Cp\u003E\nMy code looks like this\n\u003C/p\u003E\n\u003Cp\u003E\nUntil false {\n\u003C/p\u003E\n\u003Cp\u003E\nSet pt to ((target:facing:pitch) \u002B 180).\n\u003C/p\u003E\n\u003Cp\u003E\nSet yt to ((target:facing:yaw) \u002B 180).\n\u003C/p\u003E\n\u003Cp\u003E\nSet pm to mod (pt,360).\n\u003C/p\u003E\n\u003Cp\u003E\nSet ym to mod(yt,360).\n\u003C/p\u003E\n\u003Cp\u003E\nLock steering to r (pm,ym,0).\n\u003C/p\u003E\n\u003Cp\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nI am infact an idiot your supposed to inverse either the pitch or the yaw not both... Lol I was just doing the equivalent of 360 degree turn\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-28T22:34:11Z\u0022 title=\u002202/28/2021 10:34  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 28, 2021\u003C/time\u003E by MJRMatthew\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2021-03-15T12:57:46Z","Content":"\n\u003Cp\u003E\nSO I\u0027ve been trying to add part support for a mod I am working on, and I am getting a stream of exceptions as soon as I enter flight scene, with only a probe core and a kOS part attached. I thin there may be a confllict between kOS and another mod when installed in combination. the issue there, is when I enter flight scene, Kerbin turns black, sky is messed up, and most eyboard input does nothing. Hitting escape, launches the camera, super fast, into space. Only option is to hard-quit the game and restart. Kind of an odd issue to explain.\u003Cbr\u003E\u003Cbr\u003E\nAnyway, with only kOS and few mods I wouldnt expect to cause problems with kOS, I get the kOS exceptions, but at least game behaviour is normal.\u003Cbr\u003E\non 1.11.1 and latest kOS v1.3.2.0\u003Cbr\u003E\u003Cbr\u003E\nEDIT: Ahhhh... so i just checed Issues on the repo, and it seems I am getting the same exception as noted in this recent logged issue, reported by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/112604-stephm/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022112604\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/112604-stephm/\u0022 rel=\u0022\u0022\u003E@stephm\u003C/a\u003E \u0026amp; \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/40902-jonnyothan/\u0026amp;do=hovercard\u0022 data-mentionid=\u002240902\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/40902-jonnyothan/\u0022 rel=\u0022\u0022\u003E@JonnyOThan\u003C/a\u003E: Note that I do NOT have kOS Monitor installed. \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0022 rel=\u0022\u0022\u003E@Dunbaratu\u003C/a\u003E let me know if I can help with testing to help narrow this down.\u003Cbr\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/2888\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/2888\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nHere is my log and a screen shot of my GameData:\u003Cbr\u003E\u003Ca href=\u0022https://drive.google.com/file/d/1BPvubD-kQNyDv0a_NU38VS-O4DCV5PS5/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1BPvubD-kQNyDv0a_NU38VS-O4DCV5PS5/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1f8n7x0gsv-pX3E_3GozOOY7ArK0XRTAt/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1f8n7x0gsv-pX3E_3GozOOY7ArK0XRTAt/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-15T13:13:40Z\u0022 title=\u002203/15/2021 01:13  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 15, 2021\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2021-03-15T14:37:39Z","Content":"\n\u003Cp\u003E\nAlso, it seems a user wont know this stream of exceptions is even happening when launching craft, unless they have on screen logging enanled, or come across it when troubleshooting or digging into other issues, as game behaviour can seem normal, otherwise.\u003Cbr\u003E\u003Cbr\u003E\nI get this with every single kOS part.\u003Cbr\u003E\u003Cbr\u003E\nIf anyone else would like to try to confirm, they can see them right after launch, by opening the Alt-F12 menu, or just enable on-screen log messages using it. Just chec the \u0022Show all log errors onscreen\u0022 \u0026amp; \u0022Show all log exceptions on screen\u0022 boxes.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-15T15:12:56Z\u0022 title=\u002203/15/2021 03:12  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 15, 2021\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-03-15T21:19:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223940685\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221615819059\u0022 data-ipsquote-userid=\u002277721\u0022 data-ipsquote-username=\u0022Stone Blue\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Stone Blue said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, it seems a user wont know this stream of exceptions is even happening when launching craft, unless they have on screen logging enanled, or come across it when troubleshooting or digging into other issues, as game behaviour can seem normal, otherwise.\u003Cbr\u003E\u003Cbr\u003E\nI get this with every single kOS part.\u003Cbr\u003E\u003Cbr\u003E\nIf anyone else would like to try to confirm, they can see them right after launch, by opening the Alt-F12 menu, or just enable on-screen log messages using it. Just chec the \u0022Show all log errors onscreen\u0022 \u0026amp; \u0022Show all log exceptions on screen\u0022 boxes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the information.\u00A0 I\u0027m taking further conversation to the github issue about it.\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-03-19T16:41:13Z","Content":"\n\u003Cp\u003E\nI dunno if I\u0027m again having trouble understanding frames of reference but can someone explain to me why do I get results like on this picture:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Clipboard01.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002247.90\u0022 height=\u0022171\u0022 width=\u0022357\u0022 src=\u0022https://i.ibb.co/bJyxDdN/Clipboard01.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI want to get a direction pointing along body\u0027s rotation axis with \u003Cem\u003Eup\u003C/em\u003E\u00A0direction set to the Solar Prime Vector. I use BODY:ANGULARVEL to get the direction of the axis. As you can see both Kerbin and Mun return some proper vector. However I get very different results when plugging both vectors to LOOKDIRUP, while they\u00A0should be almost identical.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe vessel is in Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u003C/abbr\u003E in this case and I use JSNQ.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-19T17:01:10Z\u0022 title=\u002203/19/2021 05:01  PM\u0022 data-short=\u00223 yr\u0022\u003EMarch 19, 2021\u003C/time\u003E by JebIsDeadBaby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-03-19T20:20:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223942474\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616172073\u0022 data-ipsquote-userid=\u0022185823\u0022 data-ipsquote-username=\u0022JebIsDeadBaby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, JebIsDeadBaby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI dunno if I\u0027m again having trouble understanding frames of reference but can someone explain to me why do I get results like on this picture:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.ibb.co/bJyxDdN/Clipboard01.jpg\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022Clipboard01.jpg\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002247.90\u0022 height=\u0022171\u0022 width=\u0022357\u0022 src=\u0022https://i.ibb.co/bJyxDdN/Clipboard01.jpg\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI want to get a direction pointing along body\u0027s rotation axis with \u003Cem\u003Eup\u003C/em\u003E\u00A0direction set to the Solar Prime Vector. I use BODY:ANGULARVEL to get the direction of the axis. As you can see both Kerbin and Mun return some proper vector. However I get very different results when plugging both vectors to LOOKDIRUP, while they\u00A0should be almost identical.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe vessel is in Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u003C/abbr\u003E in this case and I use JSNQ.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is really strange.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you try this experiment: normalize the m and k vectors into unit vectors first, before you pass them into LOOKDIRUP().\u00A0 Is the mun one still zero if you do that?\n\u003C/p\u003E\n\u003Cp\u003E\nLOOKDIRUP() is letting Unity do the heavy lifting under the hood, and a lot of Unity\u0027s stuff only uses 32-bit floats.\u00A0 It might be that the mun angular velocity is just too small to survive\u00A0 the floating point error in the underlying Unity call.\u00A0 As a rule of thumb, if you are doing an operation where you don\u0027t really care about the magnitude of your vectors, only their aim, then getting your vectors normalized before passing them through operations like lookdirup, vcrs, vdot, vang, etc, can help with precision.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(Sometimes even when you *do* care about magnitude, you can make things more precise by first memorizing the vector\u0027s original magnitude, then normalizing it and running it through the vector operator, then multiplying the result by a scalar afterward to restore the proper magnitude.)\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-03-19T20:56:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223942575\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616185245\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Dunbaratu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n32 minutes ago, Dunbaratu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you try this experiment: normalize the m and k vectors into unit vectors first, before you pass them into LOOKDIRUP().\u00A0 Is the mun one still zero if you do that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDang, you\u0027re right on the money. Your trick does work.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-03-20T05:07:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223942589\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616187407\u0022 data-ipsquote-userid=\u0022185823\u0022 data-ipsquote-username=\u0022JebIsDeadBaby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, JebIsDeadBaby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDang, you\u0027re right on the money. Your trick does work.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat makes me wonder if it would be worth it to have kOS spend a few clock cycles copying the vectors it receives into a normalized form when doing LOOKDIRUP() and VANG().\u00A0 With VCRS() and VDOT() the magnitude is relevant so it can\u0027t do it there, but for LOOKDIRUP and VANG the magnitudes don\u0027t matter.\u00A0 (VXCL() could do it to the first argument (the normal vector of the plane being projected onto) but not the second.)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-03-20T05:09:17Z\u0022 title=\u002203/20/2021 05:09  AM\u0022 data-short=\u00223 yr\u0022\u003EMarch 20, 2021\u003C/time\u003E by Dunbaratu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nikola","CreatedById":29402,"CreatedDateTime":"2021-03-22T11:18:11Z","Content":"\n\u003Cp\u003E\nIts really unfortunate that the Principia addon to this died because the Principia side of things could not get a PR in, even when one existed.\n\u003C/p\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2021-03-23T11:27:29Z","Content":"\n\u003Cp\u003E\nIs there still no support for axis-controlled robotics interaction from the Serenity Expansion?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-03-24T00:03:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223944012\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221616498849\u0022 data-ipsquote-userid=\u0022108501\u0022 data-ipsquote-username=\u0022Kartoffelkuchen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Kartoffelkuchen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there still no support for axis-controlled robotics interaction from the Serenity Expansion?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was never something I worked on.\u00A0 Not using a controller myself it\u0027s not a thing that\u0027s really on my radar much.\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2021-03-31T07:59:37Z","Content":"\n\u003Cp\u003E\nIt\u0027s me again, and I\u0027m going to talk about the same issue: latest version of kOS\u0027 handling of \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve done some testing with a simple vessel with \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E controls and no reaction wheels. With weak \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E (I used 8 ReStock\u0027s 0.1-strong RV-1X thrusters), stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E turns the sample vessel into the desired position in 6-7 seconds using just 1 unit of monoprop. kOS with cooked control takes about 40 s and 3.5 units of monoprop for the same maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you install stronger \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E (8 RV-105 thrusters, 1 kN each), things get even worse. Stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E works just as quickly and just spends a bit more \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel. kOS, however, never really managed to completely stabilize and spent at least a minute and 15 units of monopropellant to at least get close to the desired direction.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can test it out yourself with this save I\u0027ve made:\u00A0\u003Ca href=\u0022https://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMods used: kOS (v1.3.2), ReStock, ReStock\u002B, Module Manager. KSP 1.11.1. Vessel R1-105 uses strong \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrusters, vessel R1-1X uses weak ones. I tested by setting \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E to prograde and by using script that did \u0022LOCK STEERING TO PROGRADE.\u0022 (and a wait loop).\n\u003C/p\u003E\n\u003Cp\u003E\nI am pretty certain things didn\u0027t look so bad in the older version of kOS steering. I used it extensively and the only problem I had was too small corrections when near the desired direction (and IIRC these mostly happened when the vessel was in the atmosphere). So far, my attempts to play with PID parameters haven\u0027t brought any good results.\n\u003C/p\u003E\n\u003Cp\u003E\nIs it a bug or WAD? Is there a way to revert to the old system?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-01T01:35:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947226\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617177577\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s me again, and I\u0027m going to talk about the same issue: latest version of kOS\u0027 handling of \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve done some testing with a simple vessel with \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E controls and no reaction wheels. With weak \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E (I used 8 ReStock\u0027s 0.1-strong RV-1X thrusters), stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E turns the sample vessel into the desired position in 6-7 seconds using just 1 unit of monoprop. kOS with cooked control takes about 40 s and 3.5 units of monoprop for the same maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you install stronger \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E (8 RV-105 thrusters, 1 kN each), things get even worse. Stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E works just as quickly and just spends a bit more \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E fuel. kOS, however, never really managed to completely stabilize and spent at least a minute and 15 units of monopropellant to at least get close to the desired direction.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can test it out yourself with this save I\u0027ve made:\u00A0\u003Ca href=\u0022https://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMods used: kOS (v1.3.2), ReStock, ReStock\u002B, Module Manager. KSP 1.11.1. Vessel R1-105 uses strong \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E thrusters, vessel R1-1X uses weak ones. I tested by setting \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E\u003C/abbr\u003E to prograde and by using script that did \u0022LOCK STEERING TO PROGRADE.\u0022 (and a wait loop).\n\u003C/p\u003E\n\u003Cp\u003E\nI am pretty certain things didn\u0027t look so bad in the older version of kOS steering. I used it extensively and the only problem I had was too small corrections when near the desired direction (and IIRC these mostly happened when the vessel was in the atmosphere). So far, my attempts to play with PID parameters haven\u0027t brought any good results.\n\u003C/p\u003E\n\u003Cp\u003E\nIs it a bug or WAD? Is there a way to revert to the old system?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t see this when I try it in stock so I\u0027m going to have to try your exact mods and your exact save to see if I can reproduce it.\u00A0 I\u0027ll try that tomorrow.\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-04-01T10:25:16Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0022 rel=\u0022\u0022\u003E@Dunbaratu\u003C/a\u003E\u00A0- isn\u0027t it the case of\u00A0\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/2880\u0022 rel=\u0022external nofollow\u0022\u003Ethis issue\u003C/a\u003E?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-01T10:25:40Z\u0022 title=\u002204/01/2021 10:25  AM\u0022 data-short=\u00223 yr\u0022\u003EApril 1, 2021\u003C/time\u003E by JebIsDeadBaby\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2021-04-01T16:30:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947626\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617272716\u0022 data-ipsquote-userid=\u0022185823\u0022 data-ipsquote-username=\u0022JebIsDeadBaby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, JebIsDeadBaby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0022 rel=\u0022\u0022\u003E@Dunbaratu\u003C/a\u003E\u00A0- isn\u0027t it the case of\u00A0\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/2880\u0022 rel=\u0022external nofollow\u0022\u003Ethis issue\u003C/a\u003E?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds plausible.\n\u003C/p\u003E\n\u003Cp\u003E\nPS: However, I\u0027ve done tests with much heavier vessels (up to\u00A013 t instead of 3 t in my original tests), which should be slower to turn and therefore free from this bug, and the result was still worse than desired:\u00A0kOS overshot the target direction by about 90 degrees (in the first iteration), and took overall about 1 minute and 6 units of monoprop for the maneuver vs 30 s and 3-4 units of monoprop for stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E (which also moves very smoothly and doesn\u0027t overshoot at all).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-01T16:58:09Z\u0022 title=\u002204/01/2021 04:58  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 1, 2021\u003C/time\u003E by garwel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-01T21:18:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947626\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617272716\u0022 data-ipsquote-userid=\u0022185823\u0022 data-ipsquote-username=\u0022JebIsDeadBaby\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, JebIsDeadBaby said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-dunbaratu/\u0022 rel=\u0022\u0022\u003E@Dunbaratu\u003C/a\u003E\u00A0- isn\u0027t it the case of\u00A0\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/2880\u0022 rel=\u0022external nofollow\u0022\u003Ethis issue\u003C/a\u003E?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat should only happen when the total rotation time it takes to get aligned is less than 4 seconds.\u00A0 The description says it\u0027s longer than that even in stock \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E.\n\u003C/p\u003E\n"}]}