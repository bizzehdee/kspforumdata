{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":89,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-12-19T01:32:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003Ewhat other mods do you have installed?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA lot. See my sig. I\u0027ll just have to do the binary sort troubleshoot. Strip to stock, confirm there\u0027s an issue, then add in half my mods and see if anything breaks, etc.\u003C/p\u003E\n"},{"CreatedByName":"Xenro66","CreatedById":123894,"CreatedDateTime":"2014-12-19T01:33:12Z","Content":"\n\u003Cp\u003ECan\u0027t wait for this to be updated. I have a triple VTOL jet backwards take-off to make, no idea how to code it but I\u0027ll start learning the different commands once it\u0027s updated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-19T02:59:40Z\u0022 title=\u002212/19/2014 02:59  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 19, 2014\u003C/time\u003E by Xenro66\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-19T01:51:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xenro66\u0022 data-cite=\u0022Xenro66\u0022\u003E\u003Cdiv\u003ECan\u0027t wait for this to be updated. I have a triple VTOL jet backwards take-off to make, no idea how to code it but I\u0027ll start learning the different commands once it\u0027s updated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe ad hoc version seems to work pretty decently, so I would dive right in! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-12-19T03:56:40Z","Content":"\n\u003Cp\u003EReal Solar System was the culprit. I\u0027ve made a report in their thread. Thanks for the assistance, Steven.\u003C/p\u003E\n"},{"CreatedByName":"VentZer0","CreatedById":130750,"CreatedDateTime":"2014-12-19T07:44:28Z","Content":"\n\u003Cp\u003EHi, I\u0027d like to know if is a way to get the rotation around the long axis of the craft without having to mess with any of the extremely vector methods?\u003C/p\u003E\u003Cp\u003EBasically what I want is a way for my plane to recognize that it rolled X\u00C3\u201A\u00C2\u00B0 to left or right and then stop the banking. I want it to fly a curve. The method that I found in the documentation is rather messy using ship:control:roll ... roll for X second at this amount .. it is highly dependant on the speed, at some speeds the roll will just be 45\u00C3\u201A\u00C2\u00B0 at high speeds it might get over 90\u00C3\u201A\u00C2\u00B0, which is fatal if the plane is too low *boom* . I just want to prevent my drone from over banking.\u003C/p\u003E\u003Cp\u003EWhat would be an easy way to do this? Or how can I read out the attitude data?\u003C/p\u003E\n"},{"CreatedByName":"MysticPing","CreatedById":42543,"CreatedDateTime":"2014-12-19T09:21:22Z","Content":"\n\u003Cp\u003EThis has probably been suggested thousands of times but you should just scrap kerboscript and implement a custom version of lua instead.\u003C/p\u003E\u003Cp\u003EAt the moment only half the stuff work, and a lot that should work doesn\u0027t work.\u003C/p\u003E\u003Cp\u003EEDIT: To be clear im not doing autopilot stuff, im just trying to figure out if a target is selected or not, so nothing that should be affected by 0.90\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-19T09:46:59Z\u0022 title=\u002212/19/2014 09:46  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 19, 2014\u003C/time\u003E by MysticPing\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2014-12-19T11:12:40Z","Content":"\n\u003Cp\u003EHi again, I have another question. When I set a heading it\u0027s \u0022compass heading \u002B degrees above/below horizon\u0022, when I get a heading (to a target for example) it only returns the compass heading. Is there a way to also get the degrees above/below horizon?\u003C/p\u003E\n"},{"CreatedByName":"MysticPing","CreatedById":42543,"CreatedDateTime":"2014-12-19T11:55:08Z","Content":"\n\u003Cp\u003ETry to do this.\u003C/p\u003E\u003Cp\u003EHeading is a multiple variable, so do it like this\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ea, b = target:heading\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(Might not work, not good with kOS)\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-12-19T13:07:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022VentZer0\u0022 data-cite=\u0022VentZer0\u0022\u003E\u003Cdiv\u003EHi, I\u0027d like to know if is a way to get the rotation around the long axis of the craft without having to mess with any of the extremely vector methods?\u003Cp\u003EBasically what I want is a way for my plane to recognize that it rolled X\u00C3\u201A\u00C2\u00B0 to left or right and then stop the banking. I want it to fly a curve. The method that I found in the documentation is rather messy using ship:control:roll ... roll for X second at this amount .. it is highly dependant on the speed, at some speeds the roll will just be 45\u00C3\u201A\u00C2\u00B0 at high speeds it might get over 90\u00C3\u201A\u00C2\u00B0, which is fatal if the plane is too low *boom* . I just want to prevent my drone from over banking.\u003C/p\u003E\u003Cp\u003EWhat would be an easy way to do this? Or how can I read out the attitude data?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOhhh man I *really* *really* want to mention some tools that exist already in the update but aren\u0027t documented that do exactly this. The only reason I haven\u0027t mentioned them is that the docs are currently frozen because someone is writing a re-do in a better document system and I didn\u0027t want to publicly mention a thing that\u0027s not properly dealt with in the official docs.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-12-19T14:42:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darren9\u0022 data-cite=\u0022Darren9\u0022\u003E\u003Cdiv\u003EHi again, I have another question. When I set a heading it\u0027s \u0022compass heading \u002B degrees above/below horizon\u0022, when I get a heading (to a target for example) it only returns the compass heading. Is there a way to also get the degrees above/below horizon?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat you want is to take the position vector that points from your ship to the other ship, and work out what is the angle between it and the horizon-plane.\u003C/p\u003E\u003Cp\u003EAnd the way you do that is to first work out what is the angle between that position vector and the NORMAL TO your local horizon plane is (your ship\u0027s current UP vector is normal to its current horizon plane), and then subtract it from 90 to get the \u0022other half\u0022 of that angle. (i.e. a vector that is pitched up 30 degrees from horizon will be pitched DOWN 60 degrees from straight up: 90 - 60 = 30. A vector that is pitched DOWN 30 degrees from horizon will be pitched down 120 degrees from straight up: 90 - 120 = -30.)\u003C/p\u003E\u003Cp\u003ESo that thinking gets you this final formula:\u003C/p\u003E\u003Cp\u003ESET PitchToOtherFromMe TO 90 - VANG( OTHERSHIP:POSITION, SHIP:UP:VECTOR ).\u003C/p\u003E\u003Cp\u003EWhere \u0022OTHERSHIP\u0022 is obviously the other vessel.\u003C/p\u003E\u003Cp\u003EAs a side note, I dislike the fact that Kevin chose to use the same vocabulary term to mean both a 3-D direction ( HEADING(a,\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E ) and also 2-D direction projected onto the ground (TARGET:HEADING). Those really shouldn\u0027t have been the same term.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-19T14:44:22Z\u0022 title=\u002212/19/2014 02:44  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 19, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003Edisabling the *\u0026amp;%*(! smileys. I shouldn\u0026#039;t have to use advanced mode to make the forum do LESS. Auto-smilieys should NOT on by default.\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-12-19T14:53:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MysticPing\u0022 data-cite=\u0022MysticPing\u0022\u003E\u003Cdiv\u003EThis has probably been suggested thousands of times but you should just scrap kerboscript and implement a custom version of lua instead.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m fully in favor of letting someone else *add* a second langauge that kOS can use, provided I don\u0027t have to be the one to implement the second one. Making the system able to use a second language would take a bit of work because those other languages would have to be able to compile into our made-up machine language as their compile target. Not impossible, but not a trivial task, and there\u0027s other bigger problems to deal with.\u003C/p\u003E\u003Cp\u003EMost of the stuff that can be described as \u0022a lot of the stuff that should work doesn\u0027t work\u0022 is not the fault of the kerboscript language. Not anymore. It used to be a horrible mess but it\u0027s been fixed up as far as I know. That is most of what I was working on since I joined the project was the parsing of kerboscript. The current problems are that once the script requests us to do a thing, the stuff that the C# code does WITH that request has bugs. You won\u0027t fix those sorts of bugs by swapping out the language. You will get other benefits, but fixing the current crop of bugs that still exist isn\u0027t one of them.\u003C/p\u003E\u003Cp\u003EBut I\u0027m fully *against* getting RID of kerboscript to add Lua. But be warned, that most of the limitations aren\u0027t in the language but in the virtual machine we\u0027re running itself. You\u0027d have a hard time implementing a full OOP system on top of the \u0022machine language\u0022 instructions we have so far. But that system is designed to be expanded. Unlike with a real hardware computer, we can just effectively \u0022re-burn\u0022 the \u0022chip\u0022\u0027s microcode, so to speak, with each new release.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-12-19T14:57:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MysticPing\u0022 data-cite=\u0022MysticPing\u0022\u003E\u003Cdiv\u003EThis has probably been suggested thousands of times but you should just scrap kerboscript and implement a custom version of lua instead.\u003Cp\u003EAt the moment only half the stuff work, and a lot that should work doesn\u0027t work.\u003C/p\u003E\u003Cp\u003EEDIT: To be clear im not doing autopilot stuff, im just trying to figure out if a target is selected or not, so nothing that should be affected by 0.90\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAll of the contributers would like to see additional languages supported in kOS. Right now we are more focused on getting more features into the mod and I know i do not currently have time to split off and build any other languages. If we were going to do that I would like to see javascript, haskell or lua.\u003C/p\u003E\u003Cp\u003Eyou are of course welcome to send us a pull request with this feature\u003C/p\u003E\n"},{"CreatedByName":"VentZer0","CreatedById":130750,"CreatedDateTime":"2014-12-19T15:51:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EOhhh man I *really* *really* want to mention some tools that exist already in the update but aren\u0027t documented that do exactly this. The only reason I haven\u0027t mentioned them is that the docs are currently frozen because someone is writing a re-do in a better document system and I didn\u0027t want to publicly mention a thing that\u0027s not properly dealt with in the official docs.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, I guess I have to wait for the update then ^^\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-19T15:58:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EOhhh man I *really* *really* want to mention some tools that exist already in the update but aren\u0027t documented that do exactly this. The only reason I haven\u0027t mentioned them is that the docs are currently frozen because someone is writing a re-do in a better document system and I didn\u0027t want to publicly mention a thing that\u0027s not properly dealt with in the official docs.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you are suggesting that you addressed the reference frame in the same update you implemented user inputs I might have to book a couple of tickets to hug you and erendrake in person.\u003C/p\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2014-12-19T16:20:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EWhat you want is to take the position vector that points from your ship to the other ship, and work out what is the angle between it and the horizon-plane.\u003Cp\u003EAnd the way you do that is to first work out what is the angle between that position vector and the NORMAL TO your local horizon plane is (your ship\u0027s current UP vector is normal to its current horizon plane), and then subtract it from 90 to get the \u0022other half\u0022 of that angle. (i.e. a vector that is pitched up 30 degrees from horizon will be pitched DOWN 60 degrees from straight up: 90 - 60 = 30. A vector that is pitched DOWN 30 degrees from horizon will be pitched down 120 degrees from straight up: 90 - 120 = -30.)\u003C/p\u003E\u003Cp\u003ESo that thinking gets you this final formula:\u003C/p\u003E\u003Cp\u003ESET PitchToOtherFromMe TO 90 - VANG( OTHERSHIP:POSITION, SHIP:UP:VECTOR ).\u003C/p\u003E\u003Cp\u003EWhere \u0022OTHERSHIP\u0022 is obviously the other vessel.\u003C/p\u003E\u003Cp\u003EAs a side note, I dislike the fact that Kevin chose to use the same vocabulary term to mean both a 3-D direction ( HEADING(a,\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E ) and also 2-D direction projected onto the ground (TARGET:HEADING). Those really shouldn\u0027t have been the same term.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EThanks, that works perfectly. I think I agree with your side note, I was expecting them to be the same thing.\n"},{"CreatedByName":"VentZer0","CreatedById":130750,"CreatedDateTime":"2014-12-19T20:48:18Z","Content":"\n\u003Cp\u003EHi again, I am running into a brick wall here, think I am to stupid to figure this out in an elegant way. \u003C/p\u003E\u003Cp\u003EI have my autopilot do perform basic tasks already. Take off, climbing to desired altitude and holding it, speed control. Now what I want is to have my drone bank to the side, that is closest to the next waypoint, got that too I think.\u003C/p\u003E\u003Cp\u003EBut I want to have it turn to the direction of the waypoint I specified beforehand. The banking should stop as soon as the drone gets within 0.1\u00C3\u201A\u00C2\u00B0 or 0.5\u00C3\u201A\u00C2\u00B0 of the desired course from either way where it is banking from to the this new course.\u003C/p\u003E\u003Cp\u003EBasically like this, take off 90\u00C3\u201A\u00C2\u00B0 east, reaching waypoint 1, course change to 35\u00C3\u201A\u00C2\u00B0 NE, plane banks to left and pitches up, now the pitch should end when the plane gets to \u0026lt; 35,5\u00C3\u201A\u00C2\u00B0 and level off. \u003C/p\u003E\u003Cp\u003EThis is the code I have already, but I think there should be a much easier way to code this and certainly more elegant.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/raw.php?i=3byqg7sG\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/raw.php?i=3byqg7sG\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETthis part in particular : \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESET myCRS to SHIP:BEARING.\u003Cbr\u003EIF myCRS \u0026lt; 0 {\u003Cbr\u003E    IF myWP1 = 0 OR myWP1 \u0026lt; 0.5 {SET myBEARING to 0.5.}.\u003Cbr\u003E    IF myWP1 = 360 OR myWP1 \u0026gt; 359.5 {SET myBEARING to 0.5.}.\u003Cbr\u003E    IF myWP1 = 180 OR myWP1 \u0026gt; 179.5 {SET myBEARING to 179.5.}.\u003Cbr\u003E    IF myWP1 \u0026gt; 0.5 AND myWP1 \u0026lt; 90 {SET myBEARING to ().}.\u003Cbr\u003E}.\u003Cbr\u003EIF myCRS \u0026gt; 0 {\u003Cbr\u003E    IF myWP1 = 0 OR myWP1 \u0026lt; 0.5 {SET myBEARING to 0.5.}.\u003Cbr\u003E    IF myWP1 = 360 OR myWP1 \u0026gt; 359.5 {SET myBEARING to 0.5.}.\u003Cbr\u003E    IF myWP1 = 180 OR myWP1 \u0026gt; 179.5 {SET myBEARING to 179.5.}.\u003Cbr\u003E    WAIT UNTIL abs(SHIP:BEARING) \u0026lt; myBEARING.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Darren9","CreatedById":58062,"CreatedDateTime":"2014-12-20T08:32:46Z","Content":"\n\u003Cp\u003EIs it possible, from a kOS CPU on a non-player controlled ship to detect which of the other vessels is the player controlled one?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-20T08:58:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Darren9\u0022 data-cite=\u0022Darren9\u0022\u003E\u003Cdiv\u003EIs it possible, from a kOS CPU on a non-player controlled ship to detect which of the other vessels is the player controlled one?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot by design, but you could hack something together. Communication via the Archive is an old method, though you need to be within range. Maybe that something else could be devised too, through detected something that the player can influence.\u003C/p\u003E\u003Cp\u003EOf course, the npc craft should all be within close range, otherwise the kOS unit will not run.\u003C/p\u003E\n"},{"CreatedByName":"MysticPing","CreatedById":42543,"CreatedDateTime":"2014-12-20T09:05:11Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003Eset t_info to list().\u003Cbr\u003Eset finished to false.\u003Cbr\u003Eset target to body(\u0022Kerbin\u0022).\u003Cbr\u003Euntil finished = true {\u003Cbr\u003E clearscreen.\u003Cbr\u003E if (target \u0026lt;\u0026gt; body(\u0022Kerbin\u0022)) { \u003Cbr\u003E print \u0022Target Acquired\u0022.\u003Cbr\u003E print \u0022----------------\u0022.\u003Cbr\u003E print \u0022Target Distance: \u0022 \u002B target:distance.\u003Cbr\u003E print \u0022Target Heading: \u0022 \u002B target:heading.\u003Cbr\u003E }.\u003Cbr\u003E else {\u003Cbr\u003E print \u0022Please select a target\u0022.\u003Cbr\u003E }.\u003Cbr\u003E wait 0.1.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprint \u0022Gathering Target Info...\u0022.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is the code i have so far, all i\u0027m trying to do is to check if there is a target selected or not, i have tried every kind of way i can imagine but it doesn\u0027t work. On this particular try even when i DO select a target it keeps doing \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\t\tprint \u0022Please select a target\u0022.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAny help would be approciated\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-12-20T09:11:46Z","Content":"\n\u003Cp\u003EWhere in the game are you when you try to do this?\u003C/p\u003E\n"},{"CreatedByName":"MysticPing","CreatedById":42543,"CreatedDateTime":"2014-12-20T09:26:53Z","Content":"\n\u003Cp\u003EI\u0027m on the runway, and there is a target i\u0027m selecting on the launchpad\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-12-20T10:19:37Z","Content":"\n\u003Cp\u003EI think I can guess what\u0027s happening.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MysticPing\u0022 data-cite=\u0022MysticPing\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset target to body(\u0022Kerbin\u0022).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[..cut..]\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tif (target \u0026lt;\u0026gt; body(\u0022Kerbin\u0022)) { \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you PRINT an object in kOS, it \u0022stringifies\u0022 it. (People who program in C# or Java will be familiar with the concept of all objects having a toString() method that is activated when you try using it in a string context.)\u003C/p\u003E\u003Cp\u003EWhat you see when you print it is a plain string, even if it is NOT REALLY a string.\u003C/p\u003E\u003Cp\u003ESo when you try the comparator \u0022\u0026lt;\u0026gt;\u0022, it\u0027s not using it like a string and it\u0027s detecting that they are not equal because they are two different wrappers around the same body object.\u003C/p\u003E\u003Cp\u003ETARGET is returning a wrapper object AROUND the body, and so is Body(\u0022Kerbin\u0022). They are wrappers around the same body object, but the equality checker is only comparing the wrapper, not the body itself.\u003C/p\u003E\u003Cp\u003EThere are ways to fix this, and one of my future goals is to do a better job of making our kOS wrappers around the C# objects behave more *like* they were really the native object in the first place, in checking for equality and other similar things. (And, NO, this would not be fixed by using a different scripting language. The problem is in the way kOS wraps KSP C# objects inside its own C# objects, which is at a layer underneath the layer where they start being exposed to the scripting language.)\u003C/p\u003E\u003Cp\u003EIn the meantime, you can force them to be treated like strings instead by using this ugly trick: Append them to a nullstring - it\u0027s a cheap way to get a \u0022cast\u0022 without really doing a cast.\u003C/p\u003E\u003Cp\u003ESo try this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tif ( (\u0022\u0022\u002Btarget) \u0026lt;\u0026gt; (\u0022\u0022\u002Bbody(\u0022Kerbin\u0022)) ) { \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat will force both to spit out their stringified values, and then it\u0027s comparing the strings they spit out, not the objects.\u003C/p\u003E\u003Cp\u003EWe really should expose the ToString() to the higher level system and just let people call ToString themselves in scripts.\u003C/p\u003E\n"},{"CreatedByName":"MysticPing","CreatedById":42543,"CreatedDateTime":"2014-12-20T10:34:02Z","Content":"\n\u003Cp\u003EThank you for the help! That kinda makes sense.\u003C/p\u003E\u003Cp\u003EEDIT: it now says \u0022Object Reference not set to an instance of an object\u0022 with a pointer to the \u0027\u002B\u0027 before target\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-20T10:38:14Z\u0022 title=\u002212/20/2014 10:38  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 20, 2014\u003C/time\u003E by MysticPing\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"VentZer0","CreatedById":130750,"CreatedDateTime":"2014-12-21T05:45:21Z","Content":"\n\u003Cp\u003EIs there a way to read out the MechJeb Surface Info ? There is a Roll indicator, if I could read this out that would help me A LOT. I was able to fix my previous issues with the code I am writing, but I want to have a safeguard in place that prevent the plane from banking to hard or to soft in the direction of the next waypoint. My last efford was to check if I am ascending or decending on based on that data reduce or give more roll to that side, but that is only semi-working, if the attitude is not optimal the drone starts spiraling out of control.\u003C/p\u003E\u003Cp\u003EEDIT, Thanks to the VECDRAW function I figured out some things, all I need is a VECTOR or DIRECTION that rotates with the craft, all Vectors and Directions I could find in the documentation either point in weird directions or do not rotate with the craft. If someone can tell me how to get this Direction or Vector that rotates with the craft, I\u0027d be VERY HAPPY.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-22T08:26:28Z\u0022 title=\u002212/22/2014 08:26  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 22, 2014\u003C/time\u003E by VentZer0\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2014-12-22T11:04:28Z","Content":"\n\u003Cp\u003EI can\u0027t find any mention of this - is anyone else having weird problems when either of the kOS parts are attached to their ships? Weird things like parts falling off on the launchpad, rockets exploding for no reason during ascent etc?\u003C/p\u003E\n"}]}