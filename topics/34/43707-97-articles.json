{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":97,"Articles":[{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-12-17T01:34:27Z","Content":"\n\u003Cp\u003EI have had a number of quasi lockups that seem to be related to kOS not having a target, or the vehicle itself being targeted. The screen goes black, although the interface is still visible, and the altimeter shows the same number on all digits, going through 0-9 repeatedly.\u003C/p\u003E\u003Cp\u003EOnce I found out what seemed to cause it, I could work around it, although kOS sometimes seems to lose its target randomly.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ESo, supposedly KSP 0.23 is going to appear real soon now. With Kevin still gone are there any ideas about what to do about the 0.23 update? I\u0027m going to save off a snapshot of my 0.22 game now just in case there\u0027s compatibility problems with 0.23 that could take a very long time to fix without the project admin around.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EChances are nothing needs to be done, since 0.23 supposedly does not have big changes under the hood.\u003C/p\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2013-12-17T01:35:55Z","Content":"\n\u003Cp\u003EI think that with Kevin missing for a month and a half and a new KSP version, it\u0027s probably time for someone to take over and create a new version. IIRC, the license allows this.\u003C/p\u003E\n"},{"CreatedByName":"John F. Kerman","CreatedById":40209,"CreatedDateTime":"2013-12-17T02:11:07Z","Content":"\n\u003Cp\u003EWell, if someone does, I have a couple of feature requests:\u003C/p\u003E\u003Cp\u003EThe 10kb limit on the craft harddrive is too low for what I want to do - after browsing the github sources it seems this is a hardcoded value \u0026amp; should be simple enough to change.. but: is it an arbitrary limit or is there a reason for this? If it\u0027s arbitrary, it\u0027d be nice to have this as a setting in the part files (you could keep the 10k limit for the \u0027stock\u0027 computer \u0026amp; have additional parts with more space). I\u0027d make this change myself if I knew anything about the part file formats...\u003C/p\u003E\u003Cp\u003ESupport for commandline arguments would be useful as well (simple DOS batch script style %1, %2 etc would be fine). For example, \u0022run hover \u0026lt;altitude\u0026gt;.\u0022 to run a script that makes a craft hover at \u0026lt;altitude\u0026gt;. I can work around this by using ag1/ag2 to increment / decrement a variable but it\u0027s just more code space that could be used for more important things.\u003C/p\u003E\u003Cp\u003EOh, and here\u0027s a work in progress script that might help people out. (this one is over the 10k limit, but you can delete the animation stuff to run it). Disclaimer: Most of the actual hovering stuff isn\u0027t working yet, and I can\u0027t remember if this version has the correct mass / acceleration calculations or not \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022 =============================================== \u0022 at (0,0).\u003Cbr\u003Eprint \u0022| Hover Testbed v0.1                            |\u0022 at (0,1).\u003Cbr\u003Eprint \u0022 =============================================== \u0022 at (0,2).\u003Cbr\u003Eprint \u0022|                                               |\u0022 at (0,3).\u003Cbr\u003Eprint \u0022|     Speed :                                   |\u0022 at (0,4).\u003Cbr\u003Eprint \u0022|  Altitude :                                   |\u0022 at (0,5).\u003Cbr\u003Eprint \u0022| VertSpeed :                                   |\u0022 at (0,6).\u003Cbr\u003Eprint \u0022| Direction :                                   |\u0022 at (0,7).\u003Cbr\u003Eprint \u0022|      ProG :                                   |\u0022 at (0,8).\u003Cbr\u003Eprint \u0022|    RetroG :                                   |\u0022 at (0,9).\u003Cbr\u003Eprint \u0022|      Mass :                                   |\u0022 at (0,10).\u003Cbr\u003Eprint \u0022|    Thrust :                                   |\u0022 at (0,11).\u003Cbr\u003Eprint \u0022|  Throttle :                                   |\u0022 at (0,12).\u003Cbr\u003Eprint \u0022|       TWR :                                   |\u0022 at (0,13).\u003Cbr\u003Eprint \u0022|                                               |\u0022 at (0,14).\u003Cbr\u003Eprint \u0022|                                               |\u0022 at (0,15).\u003Cbr\u003Eprint \u0022| Mode:                                         |\u0022 at (0,16).\u003Cbr\u003Eprint \u0022| Target Height:                                |\u0022 at (0,17).\u003Cbr\u003Eprint \u0022|                                               |\u0022 at (0,18).\u003Cbr\u003Eprint \u0022| Hovering over                                 |\u0022 at (0,19).\u003Cbr\u003Eprint \u0022 =============================================== \u0022 at (0,20).\u003Cbr\u003Eprint \u0022= \u002B==\u002B  \u002B==========\u002B                            =\u0022 at (0,21).\u003Cbr\u003Eprint \u0022= |  |  |        |                            =\u0022 at (0,22).\u003Cbr\u003Eprint \u0022= \u002B==\u002B  |          |                            =\u0022 at (0,23).\u003Cbr\u003Eprint \u0022=       |       (: |                            =\u0022 at (0,24).\u003Cbr\u003Eprint \u0022=       \u002B==========\u002B                            =\u0022 at (0,25).\u003Cbr\u003Eprint \u0022=                                               =\u0022 at (0,26).\u003Cbr\u003Eprint \u0022= 1 - Increase Target Height                    =\u0022 at (0,27).\u003Cbr\u003Eprint \u0022= 2 - Decrease Target Height                    =\u0022 at (0,28).\u003Cbr\u003Eprint \u0022= 3 - Change Mode                               =\u0022 at (0,29).\u003Cbr\u003Eprint \u0022= 4 - Animation test                            =\u0022 at (0,30).\u003Cbr\u003Eprint \u0022= 5 - End Testbed                               =\u0022 at (0,31).\u003Cbr\u003Eprint \u0022= ====================   ====================== =\u0022 at (0,32).\u003Cbr\u003Eprint \u0022= ActionPress: .      = =                       =\u0022 at (0,33).\u003Cbr\u003Eprint \u0022=                      =                        =\u0022 at (0,34).\u003Cbr\u003Eprint \u0022 =============================================== \u0022 at (0,35).\u003Cbr\u003E\u003Cbr\u003Eprint body at (16,19).\u003Cbr\u003Eset targetheight to 0. print targetheight \u002B \u0022m \u0022 at (16,17).\u003Cbr\u003E\u003Cbr\u003Eset done to false.\u003Cbr\u003Eset actionPressed to 0.\u003Cbr\u003Eset keypressed to false.\u003Cbr\u003Eset frameupdate to 0.\u003Cbr\u003Eset framerate to 2.\u003Cbr\u003Eset animframe to 0.\u003Cbr\u003Eset mode to 0.\u003Cbr\u003E\u003Cbr\u003Elock surfaceVec to velocity:surface.\u003Cbr\u003Elock speedx to (surfaceVec:x * surfaceVec:x).\u003Cbr\u003Elock speedy to (surfaceVec:y * surfaceVec:y).\u003Cbr\u003Elock speedz to (surfaceVec:z * surfaceVec:z).\u003Cbr\u003Eset speed to sqrt(speedx \u002B speedy \u002B speedz).\u003Cbr\u003Elock height to altitude.\u003Cbr\u003E\u003Cbr\u003Elock vertSpeed to verticalspeed.\u003Cbr\u003Elock craftDir to steering.\u003Cbr\u003E\u003Cbr\u003Eset tbThrottle to 0.\u003Cbr\u003Elock throttle to tbThrottle.\u003Cbr\u003Eset animate to false.\u003Cbr\u003E\u003Cbr\u003Eset speedLastFrame to speed.\u003Cbr\u003Eset heightLastFrame to height.\u003Cbr\u003Eset ascending to false.\u003Cbr\u003Eset timeLastFrame to 0.\u003Cbr\u003Eset acceleration to 0.\u003Cbr\u003E\u003Cbr\u003Euntil done\u003Cbr\u003E{\u003Cbr\u003E    set deltaTime to time - timeLastFrame.\u003Cbr\u003E\u003Cbr\u003E    set speed to sqrt(speedx \u002B speedy \u002B speedz).\u003Cbr\u003E\u003Cbr\u003E    set deltaHeight to height - heightLastFrame.   \u003Cbr\u003E    if deltaHeight \u0026lt; 0\u003Cbr\u003E    {\u003Cbr\u003E        set speed to 0 - speed.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    set deltaSpeed to speed - speedLastFrame.\u003Cbr\u003E    set speedLastFrame to speed.\u003Cbr\u003E\u003Cbr\u003E    if deltaTime \u0026gt; 0\u003Cbr\u003E    {\u003Cbr\u003E        set acceleration to deltaSpeed / deltaTime.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    print speed \u002B \u0022   \u0022 at (13,4).\u003Cbr\u003E    print height \u002B \u0022   \u0022 at(13,5).\u003Cbr\u003E    print vertSpeed \u002B \u0022   \u0022 at (13,6).\u003Cbr\u003E    print craftDir \u002B \u0022   \u0022 at(13,7).\u003Cbr\u003E    print prograde \u002B \u0022    \u0022 at(13,8).\u003Cbr\u003E    print retrograde \u002B \u0022   \u0022 at(13,9).   \u003Cbr\u003E    print mass \u002B \u0022   \u0022 at (13,10).\u003Cbr\u003E    print maxthrust \u002B \u0022   \u0022 at (13,11).\u003Cbr\u003E    print tbThrottle \u002B \u0022   \u0022 at (13,12).\u003Cbr\u003E    print maxthrust / (mass * 1000) \u002B \u0022   \u0022 at (13,13).\u003Cbr\u003E    print time \u002B \u0022   \u0022 at (13,14).\u003Cbr\u003E    print acceleration \u002B \u0022   \u0022 at (13,14).\u003Cbr\u003E\u003Cbr\u003E    if (mode = 0)\u003Cbr\u003E    {\u003Cbr\u003E        print \u0022Basic                  \u0022 at (7,16).\u003Cbr\u003E        if targetheight \u0026gt; height\u003Cbr\u003E        {\u003Cbr\u003E            set tbThrottle to 1.\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if targetheight \u0026lt; height\u003Cbr\u003E        {\u003Cbr\u003E            set tbThrottle to 0.\u003Cbr\u003E        }.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if (mode = 1)\u003Cbr\u003E    {\u003Cbr\u003E        print \u0022Not implemented        \u0022 at (7,16).\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if (mode = 2)\u003Cbr\u003E    {\u003Cbr\u003E        print \u0022Not implemented        \u0022 at (7,16).\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    set speedLastFrame to speed.\u003Cbr\u003E    set heightLastFrame to height.\u003Cbr\u003E\u003Cbr\u003E    if animate\u003Cbr\u003E    {\u003Cbr\u003E        if animframe = 0\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test            ===     ===     === |\u0022 at (0,16).\u003Cbr\u003E            print \u0022|    =  =    =  =    =         =   =   =   =   =|\u0022 at (0,17).\u003Cbr\u003E            print \u0022|=  =    =  =    =  =          =   =   =   =   =|\u0022 at (0,18).\u003Cbr\u003E            print \u0022| ==      ==      ==            ===     ===     |\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 1\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test=           ==     ===     ===  |\u0022 at (0,16).\u003Cbr\u003E            print \u0022|=    =  =    =  =            =   =   =   =   = |\u0022 at (0,17).\u003Cbr\u003E            print \u0022| =  =    =  =    =  =        =   =   =   =   = |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|  ==      ==      ==          ===     ===     =|\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 2\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022|=Animation test==          =     ===     ===   |\u0022 at (0,16).\u003Cbr\u003E            print \u0022| =    =  =    =  =          =   =   =   =   =  |\u0022 at (0,17).\u003Cbr\u003E            print \u0022|  =  =    =  =    =         =   =   =   =   =  |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|   ==      ==      ==        ===     ===     ==|\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 3\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022|=Animation test ==              ===     ===    |\u0022 at (0,16).\u003Cbr\u003E            print \u0022|  =    =  =    =  =        =   =   =   =   =   |\u0022 at (0,17).\u003Cbr\u003E            print \u0022|   =  =    =  =    =       =   =   =   =   =   |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|    ==      ==      =       ===     ===     ===|\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 4\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test  ==            ===     ===     |\u0022 at (0,16).\u003Cbr\u003E            print \u0022|=  =    =  =    =  =          =   =   =   =   =|\u0022 at (0,17).\u003Cbr\u003E            print \u0022|    =  =    =  =    =         =   =   =   =   =|\u0022 at (0,18).\u003Cbr\u003E            print \u0022|     ==      ==            ===     ===     === |\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 5\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test   ==          ===     ===     =|\u0022 at (0,16).\u003Cbr\u003E            print \u0022| =  =    =  =    =  =        =   =   =   =   = |\u0022 at (0,17).\u003Cbr\u003E            print \u0022|=    =  =    =  =            =   =   =   =   = |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|      ==      ==           ==     ===     ===  |\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 6\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test    ==        ===     ===     ==|\u0022 at (0,16).\u003Cbr\u003E            print \u0022|  =  =    =  =    =         =   =   =   =   =  |\u0022 at (0,17).\u003Cbr\u003E            print \u0022| =    =  =    =  =          =   =   =   =   =  |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|=      ==      ==          =     ===     ===   |\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 7\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test     =       ===     ===     ===|\u0022 at (0,16).\u003Cbr\u003E            print \u0022|   =  =    =  =    =       =   =   =   =   =   |\u0022 at (0,17).\u003Cbr\u003E            print \u0022|  =    =  =    =  =        =   =   =   =   =   |\u0022 at (0,18).\u003Cbr\u003E            print \u0022|==      ==      ==              ===     ===    |\u0022 at (0,19).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if animframe = 8\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022| Animation test            ===     ===     === |\u0022 at (0,16).\u003Cbr\u003E            print \u0022|    =  =    =  =    =         =   =   =   =   =|\u0022 at (0,17).\u003Cbr\u003E            print \u0022|=  =    =  =    =  =          =   =   =   =   =|\u0022 at (0,18).\u003Cbr\u003E            print \u0022| ==      ==      ==            ===     ===     |\u0022 at (0,19).\u003Cbr\u003E            set animframe to 0.\u003Cbr\u003E        }.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    print \u0022 \u0022 at (15,33).\u003Cbr\u003E\u003Cbr\u003E    if ag1\u003Cbr\u003E    {\u003Cbr\u003E        print \u00221\u0022 at (15,33).\u003Cbr\u003E        set actionPressed to 1.\u003Cbr\u003E        set ag1 to false.\u003Cbr\u003E        set keypressed to true.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if ag2\u003Cbr\u003E    {\u003Cbr\u003E        print \u00222\u0022 at (15,33).\u003Cbr\u003E        set actionPressed to 2.\u003Cbr\u003E        set ag2 to false.\u003Cbr\u003E        set keypressed to true.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if ag3\u003Cbr\u003E    {\u003Cbr\u003E        print \u00223\u0022 at (15,33).\u003Cbr\u003E        set actionPressed to 3.\u003Cbr\u003E        set ag3 to false.\u003Cbr\u003E        set keypressed to true.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if ag4\u003Cbr\u003E    {\u003Cbr\u003E        print \u00224\u0022 at (15,33).\u003Cbr\u003E        set actionPressed to 4.\u003Cbr\u003E        set ag4 to false.\u003Cbr\u003E        set keypressed to true.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if ag5\u003Cbr\u003E    {\u003Cbr\u003E        print \u00225\u0022 at (15,33).\u003Cbr\u003E        set actionPressed to 5.\u003Cbr\u003E        set ag5 to false.\u003Cbr\u003E        set keypressed to true.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if keypressed\u003Cbr\u003E    {\u003Cbr\u003E        if actionPressed = 5\u003Cbr\u003E        {\u003Cbr\u003E            set done to true.\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if (actionPressed = 1)\u003Cbr\u003E        {\u003Cbr\u003E            set targetheight to targetheight \u002B 50.\u003Cbr\u003E            if targetheight \u0026gt; 1000\u003Cbr\u003E            {\u003Cbr\u003E                set targetheight to 1000.\u003Cbr\u003E            }.\u003Cbr\u003E\u003Cbr\u003E            print targetheight \u002B \u0022m \u0022 at (16,17).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if (actionPressed = 2)\u003Cbr\u003E        {\u003Cbr\u003E            set targetheight to targetheight - 50.\u003Cbr\u003E            if targetheight \u0026lt; 0\u003Cbr\u003E            {\u003Cbr\u003E                set targetheight to 0.\u003Cbr\u003E            }.\u003Cbr\u003E            print targetheight \u002B \u0022m \u0022 at (16,17).\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if (actionPressed = 3)\u003Cbr\u003E        {\u003Cbr\u003E            set mode to mode \u002B 1.\u003Cbr\u003E            if mode = 3\u003Cbr\u003E            {\u003Cbr\u003E                set mode to 0.\u003Cbr\u003E            }.\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        if (actionPressed = 4)\u003Cbr\u003E        {\u003Cbr\u003E            if animate\u003Cbr\u003E            {\u003Cbr\u003E                print \u0022| Mode:                                         |\u0022 at (0,16).\u003Cbr\u003E                print \u0022| Target Height:                                |\u0022 at (0,17).\u003Cbr\u003E                print \u0022|                                               |\u0022 at (0,18).\u003Cbr\u003E                print \u0022| Hovering over                                 |\u0022 at (0,19).\u003Cbr\u003E            }.\u003Cbr\u003E\u003Cbr\u003E            toggle animate.\u003Cbr\u003E        }.\u003Cbr\u003E\u003Cbr\u003E        set actionpressed to 0.\u003Cbr\u003E        set keypressed to false.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    if frameupdate = framerate\u003Cbr\u003E    {\u003Cbr\u003E        set frameupdate to 0.\u003Cbr\u003E        set animframe to animframe \u002B 1.\u003Cbr\u003E    }.\u003Cbr\u003E\u003Cbr\u003E    set frameupdate to frameupdate \u002B 1.\u003Cbr\u003E    set timeLastFrame to time.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-17T02:38:45Z\u0022 title=\u002212/17/2013 02:38  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 17, 2013\u003C/time\u003E by John F. Kerman\u003C/strong\u003E\n\u003Cbr\u003Equotes don\u0026#039;t work for code!\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-12-17T05:01:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John F. Kerman\u0022 data-cite=\u0022John F. Kerman\u0022\u003E\u003Cdiv\u003EWell, if someone does, I have a couple of feature requests:\u003Cp\u003EThe 10kb limit on the craft harddrive is too low for what I want to do - after browsing the github sources it seems this is a hardcoded value \u0026amp; should be simple enough to change.. but: is it an arbitrary limit or is there a reason for this? If it\u0027s arbitrary, it\u0027d be nice to have this as a setting in the part files (you could keep the 10k limit for the \u0027stock\u0027 computer \u0026amp; have additional parts with more space). I\u0027d make this change myself if I knew anything about the part file formats...\u003C/p\u003E\u003Cp\u003ESupport for commandline arguments would be useful as well (simple DOS batch script style %1, %2 etc would be fine). For example, \u0022run hover \u0026lt;altitude\u0026gt;.\u0022 to run a script that makes a craft hover at \u0026lt;altitude\u0026gt;. I can work around this by using ag1/ag2 to increment / decrement a variable but it\u0027s just more code space that could be used for more important things.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKevin is/was planning on adding different parts that would have faster processing and more storage space (at the cost of more power). \u003C/p\u003E\u003Cp\u003EAs for command line arguments, you can use a parameter to sort of accomplish what you mentioned:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Erun launch(100000,90000)\u003Cbr\u003E\u003Cbr\u003E[code]\u003Cbr\u003Edeclare parameter altAp.\u003Cbr\u003Edeclare parameter altPe.\u003Cbr\u003E\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Esas on.\u003Cbr\u003Estage.\u003Cbr\u003Ewait 10.\u003Cbr\u003Esas off.\u003Cbr\u003Elock steering to heading 90 by 90.\u003Cbr\u003Ewait until altitude \u0026gt; 10000.\u003Cbr\u003Elock steering to heading 90 by 45.\u003Cbr\u003Esas off.\u003Cbr\u003Ewait until altitude \u0026gt; altAp - 30000.\u003Cbr\u003Elock steering to heading 90 by 20.\u003Cbr\u003Ewait until apoapsis \u0026gt; altAp.\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003Ewait until eta:apoapsis \u0026lt; 15.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Ewait until periapsis \u0026gt; altPe.\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003Eunlock all.\u003Cbr\u003Esas on.\u003Cbr\u003Epanels on.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EJust a simple/off the top of my head way of doing it.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-12-17T05:04:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ESo, supposedly KSP 0.23 is going to appear real soon now. With Kevin still gone are there any ideas about what to do about the 0.23 update? I\u0027m going to save off a snapshot of my 0.22 game now just in case there\u0027s compatibility problems with 0.23 that could take a very long time to fix without the project admin around.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaking a backup copy of your current game is always a good idea anyway with new updates, just in case mods get broken. Fingers crossed though that mods still work after tomorrow. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-17T10:55:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAlthough you already got one solution it can\u0027t hurt to have more tools in your toolbox of solutions, so here\u0027s another technique that works to find your radial-in direction without much math: Use a maneuver node to find it, like so:\u003Cp\u003E1 - Make a dummy maneuver node at the point where your periapsis would be if you didn\u0027t burn, with a delta-V of -1,0,0.\u003C/p\u003E\u003Cp\u003E2 - Add it to the flight plan.\u003C/p\u003E\u003Cp\u003E3 - Read the delta-V vector of it.\u003C/p\u003E\u003Cp\u003E4 - Remove the node from the flight plan. It served its purpose which was just to tell you which way to burn.\u003C/p\u003E\u003Cp\u003E5 - Use the delta-V vector from step 3 as your steering direction.\u003C/p\u003E\u003Cp\u003ECode would look like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset dummyNode to NODE( time:seconds\u002BETA:periapsis, (-1), 0, 0 ).\u003Cbr\u003Eadd dummyNode.\u003Cbr\u003Eset radUnitVec to dummyNode:DELTAV.\u003Cbr\u003Eremove dummyNode.\u003Cbr\u003E// \u0022radUnitVec\u0022 is now a unit vector pointing in your radial-in direction.  You can steer by it:\u003Cbr\u003Elock steering to radDir.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhat this does is that instead of a slowly rotating burn that turns as your velocity vector rotates, it will point you at what the radial in direction *will be* at periapsis rather than which way it is right now, and it has you burn in a straight line that way, as shown below in direction 2:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EKEY:\u003Cbr\u003E@@ = where your ship is now.\u003Cbr\u003E1 = Direction of radial-in now.\u003Cbr\u003E2 = Direction of radial-in later at periapsis.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                                .....\u003Cbr\u003E                            ..@@_____\\ 2.\u003Cbr\u003E                         ...   \\     /                   \u003Cbr\u003E                       ..       \\ |        \u003Cbr\u003E                     ::        __\\| \u003Cbr\u003E                   ::             1.        \u003Cbr\u003E                  :                 ****\u003Cbr\u003E                 :               **********\u003Cbr\u003E               Pe______\\        ************\u003Cbr\u003E                :      /        ************\u003Cbr\u003E                 :               **********\u003Cbr\u003E                  :                 ****\u003Cbr\u003E                   ::                      \u003Cbr\u003E                     ::\u003Cbr\u003E                       ..  \u003Cbr\u003E                         ...\u003Cbr\u003E                            ....\u003Cbr\u003E                                .....         \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice one. I like simple solutions like this for complex problems. I like the way it gives me radial in for any point on my orbit also.\u003C/p\u003E\n"},{"CreatedByName":"cm2227","CreatedById":54899,"CreatedDateTime":"2013-12-17T15:02:00Z","Content":"\n\u003Cp\u003EYou know what would be great? Accessing kOS via remote terminal. I don\u0027t mean RemoteTech, I mean having a second PC (over LAN or internet) and logging in to the kOS unit on the craft (like Telemachus). That way you could use for example your laptop as a realistic way to access and display your guidance computer.\u003C/p\u003E\u003Cp\u003EThen I would grab the oldest-looking laptop, view the kOS Terminal full screen and gain seven nerd points.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-17T15:06:55Z\u0022 title=\u002212/17/2013 03:06  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 17, 2013\u003C/time\u003E by cm2227\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nakara","CreatedById":89316,"CreatedDateTime":"2013-12-18T14:28:19Z","Content":"\n\u003Cp\u003EAnybody knows if this mod works in 0.23?\u003C/p\u003E\u003Cp\u003EI\u0027ve installed it but I\u0027m not able to focus the terminal. (That\u0027s the only mod installed) :/\u003C/p\u003E\u003Cp\u003EThe debug window shows alot of messages complaining about some EditorLogic.Unlock method that cannot be found.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-18T16:06:30Z\u0022 title=\u002212/18/2013 04:06  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 18, 2013\u003C/time\u003E by Nakara\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MaHuJa","CreatedById":58370,"CreatedDateTime":"2013-12-18T16:26:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nakara\u0022 data-cite=\u0022Nakara\u0022\u003E\u003Cdiv\u003Emessages complaining about some EditorLogic.Unlock method that cannot be found.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just forked it and tried to compile it, but it doesn\u0027t even compile for this version of ksp. However, think I managed to stumble onto a hotfix - both sides of the lock/unlock now want an identifying string. I think I remember a mention in kerbal kon about the bug that was supposed to fix - kOS uses the ship editing \u0022picked up a part\u0022 logic to capture game focus. Anyway, I\u0027m about to load up ksp with my own build to test this fix.\u003C/p\u003E\u003Cp\u003EEdit1: works beautifully. Now to check the license then stick it in dropbox.\u003C/p\u003E\u003Cp\u003EEdit2: GPL makes it simple. Here you go for a working version. Source is the same except adding a string literal for the lock and unlock calls.\u003C/p\u003E\u003Cp\u003E \u003Ca href=\u0022https://www.dropbox.com/s/0gmwx6latfb9fth/kOS.dll\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/0gmwx6latfb9fth/kOS.dll\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit3: Pull request added, so whenever he comes back it\u0027s only a couple clicks; he won\u0027t even have to know what caused the problem.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-18T16:52:05Z\u0022 title=\u002212/18/2013 04:52  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 18, 2013\u003C/time\u003E by MaHuJa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nakara","CreatedById":89316,"CreatedDateTime":"2013-12-18T16:40:21Z","Content":"\n\u003Cp\u003EThanks MaHuJa for this fix \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"skygunner58203","CreatedById":58272,"CreatedDateTime":"2013-12-19T04:20:23Z","Content":"\n\u003Cp\u003ESo this is a really dumb question. I\u0027ve decided to try this out, and I just can\u0027t seem to focus on the terminal. How in the world do you focus on it? I should probably mention that I can make it appear and boot, but it wont let me focus on it.\u003C/p\u003E\n"},{"CreatedByName":"kiyonisis","CreatedById":97520,"CreatedDateTime":"2013-12-19T05:07:29Z","Content":"\n\u003Cp\u003EThe new fix works for me - thanks!\u003C/p\u003E\u003Cp\u003EHowever, either I\u0027m having an idiot moment or string comparisons seem to be broken when run inside of a file. For example, trying to run\u003C/p\u003E\u003Cp\u003Eif STATUS=\u0022LANDED\u0022 {print \u0022test\u0022.}.\u003C/p\u003E\u003Cp\u003Eused to work, but now I get an error.\u003C/p\u003E\n"},{"CreatedByName":"MaHuJa","CreatedById":58370,"CreatedDateTime":"2013-12-19T09:43:46Z","Content":"\n\u003Cp\u003ESkygunner85203 - the focus functionality broke with .23 so you want the hotfix I provided 2 posts over yours.\u003C/p\u003E\u003Cp\u003EKiyonisis - I\u0027m able to reproduce it; it only seems to happen in an if. As a workaround,\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Eset bol to status=\u0022landed\u0022.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Eif bol { print \u0022test\u0022. }.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003Eseems to work. Dunno what\u0027s causing that problem. You say this broke with .23? Or is this a script you haven\u0027t tested in a while, say a previous kOS version?\u003C/p\u003E\n"},{"CreatedByName":"skygunner58203","CreatedById":58272,"CreatedDateTime":"2013-12-19T11:28:00Z","Content":"\n\u003Cp\u003EThanks MaHuJa! I was searching for a button to hit and tutorials on google. If I had gone back one page, I\u0027d have seen that. All working now. Now to find new ways to kill off my kerbals\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-19T11:34:37Z","Content":"\n\u003Cp\u003EI\u0060ve noticed a change which will affect a few programs. I\u0060m trying to launch but before launch the engines turn on and slowly increase throttle for 7 seconds before launch. time:seconds seems to be actual time not ingame time now.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset x to 10.\u003Cbr\u003Eset st to time:seconds.\u003Cbr\u003Elock ct to (time:seconds-st-5).\t\u003Cbr\u003Euntil x=0 {\u003Cbr\u003E\tPrint \u0022T-\u0022\u002B x \u002B\u0022 \u0022 at (0,0).\u003Cbr\u003E\twait 1.\u003Cbr\u003E\tif x=0 {\u003Cbr\u003E\t\tprint \u0022Main Engine Ignition\u0022 at (0,1).\u003Cbr\u003E\t\tstage.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif ct\u0026lt;0 {set ct to 0.}.\u003Cbr\u003E\tlock throttle to ct/7.\u003Cbr\u003E\tset x to x-1.\u003Cbr\u003E}.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Eprint \u0022Liftoff\u0022.\u003Cbr\u003Estage.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI am wanting ct to start at T-7 at 0 and be at 7 at t-0 by locking it to the time:seconds which should be in-game time and that is what it was pre 0.23 but now it is actual time, which puts things out of whack as the game runs slower than realtime especially on the pad.\u003C/p\u003E\u003Cp\u003EI\u0060ll lock it to missiontime for now but I thought I would let you know.\u003C/p\u003E\u003Cp\u003EI will try this\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset x to 10.\u003Cbr\u003Elock ct to (missiontime:seconds).\t\u003Cbr\u003Euntil x=0 {\u003Cbr\u003E\tPrint \u0022T-\u0022\u002B x \u002B\u0022 \u0022 at (0,0).\u003Cbr\u003E\tif x=7 {\u003Cbr\u003E\t\tprint \u0022Main Engine Ignition\u0022 at (0,1).\u003Cbr\u003E\t\tstage.\u003Cbr\u003E\t}.\u003Cbr\u003E\tlock throttle to ct/7.\u003Cbr\u003E\tset x to x-1.\u003Cbr\u003E\twait 1.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOk that fails because missiontime does not start until you actually liftoff...\u003C/p\u003E\u003Cp\u003EAnyone know a way of getting the ingame time in 0.23? I\u0060ll have to set up microloops/waits to increment the throttle otherwise which is not my preferred solution.\u003C/p\u003E\u003Cp\u003EI have ended u using this. Not perfect.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset x to 10.\u003Cbr\u003Eset tog to 0.\u003Cbr\u003Eset count to 0.\u003Cbr\u003Elock throttle to ((7-(x\u002Bcount))/7).\u003Cbr\u003Euntil x=0 {\u003Cbr\u003E\tPrint \u0022T-\u0022\u002B x \u002B\u0022 \u0022 at (0,0).\u003Cbr\u003E\tif x=6 {\u003Cbr\u003E\t\tprint \u0022Main Engine Ignition\u0022 at (0,1).\u003Cbr\u003E\t\tstage.\u003Cbr\u003E\t\tset tog to 1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif tog=0 {wait 1.}.\u003Cbr\u003E\tif tog=1 {\u003Cbr\u003E\t\tset count to 0.9.\u003Cbr\u003E\t\tuntil count\u0026lt;=0 {\u003Cbr\u003E\t\t\tset count to count-0.1.\u003Cbr\u003E\t\t\twait 0.1.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t}.\u003Cbr\u003E\tset x to x-1.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-19T12:04:16Z\u0022 title=\u002212/19/2013 12:04  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 19, 2013\u003C/time\u003E by John FX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-19T12:00:01Z","Content":"\n\u003Cp\u003ESorry for the double post\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-19T12:04:06Z\u0022 title=\u002212/19/2013 12:04  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 19, 2013\u003C/time\u003E by John FX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-12-19T14:17:38Z","Content":"\n\u003Cp\u003E@John FX\u003C/p\u003E\u003Cp\u003EI don\u0027t have an answer for you problem on how to get in game time. However, I thought I would share that I am having some odd time problems since the updated. This may or may not be related to the changes you are seeing in game. \u003C/p\u003E\u003Cp\u003EIt seems for me game time is running at about 1/3 the speed using the same stock rocket (~3 seconds real time for every 1 on the mission clock). The frame rate still seems good and I can pan around the rocket and change views fairly smoothly. The simulation is just running extremely slow for some reason. I delete and reinstalled KSP without mods and it didn\u0027t help. This morning I read some threads in the Support forum about similar problems. There were some suggestions about changing the Max Physics Delta Time setting back to 0.1 that I am going to try when I get home. Apparently pre-update the default was 0.1 and now it is 0.04s ... for what it is worth. The game is completely unplayable for me until there is an update or I can find the right setting to tweak.\u003C/p\u003E\n"},{"CreatedByName":"MaHuJa","CreatedById":58370,"CreatedDateTime":"2013-12-19T14:56:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003E time:seconds seems to be actual time not ingame time now. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich, if correct, means the entirety of vanilla ksp is fubar. \u003C/p\u003E\u003Cp\u003EThe time command is sourced off of KSP\u0027s \u0022Planetarium\u0022 class, which tracks ingame time. \u003C/p\u003E\u003Cp\u003EI don\u0027t know the KSP internals very well, but it\u0027s not a stretch to assume planet positions/rotations, orbits, maneuver nodes, you name it, it relies on it. \u003C/p\u003E\u003Cp\u003EMore likely, \u003Cem\u003Ethat\u003C/em\u003E magic number bit you.\u003C/p\u003E\u003Cp\u003EIn the first code sample, you\u0027re doing -st-5, and later you lock the throttle to ct/7. This seemed to me like a curious mismatch - You say you want 7 seconds, so is the former magic number (5) the source of your problem? \u003C/p\u003E\u003Cp\u003E(If so, it\u0027s easy to miss - and keep missing - as long as you\u0027re using magic numbers like that. Are you very low on storage space?)\u003C/p\u003E\u003Cp\u003EWait, on the other hand, is real time. (UnityEngine\u0027s deltatime, which I believe is time since last frame was rendered. So the loop will stop dead for a full real second in each iteration.)\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-19T17:27:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MaHuJa\u0022 data-cite=\u0022MaHuJa\u0022\u003E\u003Cdiv\u003EWhich, if correct, means the entirety of vanilla ksp is fubar. \u003Cp\u003EThe time command is sourced off of KSP\u0027s \u0022Planetarium\u0022 class, which tracks ingame time. \u003C/p\u003E\u003Cp\u003EI don\u0027t know the KSP internals very well, but it\u0027s not a stretch to assume planet positions/rotations, orbits, maneuver nodes, you name it, it relies on it. \u003C/p\u003E\u003Cp\u003EMore likely, \u003Cem\u003Ethat\u003C/em\u003E magic number bit you.\u003C/p\u003E\u003Cp\u003EIn the first code sample, you\u0027re doing -st-5, and later you lock the throttle to ct/7. This seemed to me like a curious mismatch - You say you want 7 seconds, so is the former magic number (5) the source of your problem? \u003C/p\u003E\u003Cp\u003E(If so, it\u0027s easy to miss - and keep missing - as long as you\u0027re using magic numbers like that. Are you very low on storage space?)\u003C/p\u003E\u003Cp\u003EWait, on the other hand, is real time. (UnityEngine\u0027s deltatime, which I believe is time since last frame was rendered. So the loop will stop dead for a full real second in each iteration.)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis does seem to be a cause of my problem when combined with the issue in the post above yours. the discrepency between ingame time and realtime. My loop waits for what it thinks is a real second and that takes about 2 seconds of game time and 3 seconds of real time...\u003C/p\u003E\u003Cp\u003EEDIT : Have they done some tricksy programming to get more frames between physics ticks which is messing up time?\u003C/p\u003E\n"},{"CreatedByName":"MaHuJa","CreatedById":58370,"CreatedDateTime":"2013-12-19T21:24:55Z","Content":"\n\u003Cp\u003EComing back and seeing the code again with fresh eyes; That code was never correct in the first place. It\u0027s not that it broke (\u0022I\u0060ve noticed a change\u0022) but that you couldn\u0027t see what was was wrong with it before.\u003C/p\u003E\u003Cp\u003EProbably better explained by this page: \u003Ca href=\u0022http://pragprog.com/the-pragmatic-programmer/extracts/coincidence\u0022 rel=\u0022external nofollow\u0022\u003EProgramming by coincidence\u003C/a\u003E \u003C/p\u003E\u003Cp\u003E(It\u0027s aimed at professional programmers, for the average kOS user its advice is partially overkill. Heck, we\u0027re in the business of \u003Cem\u003Ekilling\u003C/em\u003E kerbals with our mistakes, right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E )\u003C/p\u003E\u003Cp\u003EOTOH you have two problems: \u003C/p\u003E\u003Cp\u003E1) you are assuming realtime and gametime are in sync, which is in my experience rarely the case. \u003C/p\u003E\u003Cp\u003E2) \u003Cem\u003Ewait 1.\u003C/em\u003E does NOT wait 1 second, it\u0027s 1 second plus however long it takes before it starts the next frame update after that.\u003C/p\u003E\u003Cp\u003ETo do it correctly*, i suggest you code for a \u003Cem\u003Ewait random(0.5) .\u003C/em\u003E (if random existed) - which is really about prohibiting any form of \u003Cem\u003Eset x to x-1.\u003C/em\u003E (for a time-related value) in favor of something along the lines of \u003Cem\u003Eset x to floor(time:seconds - st).\u003C/em\u003E Match that with a \u003Cem\u003Ewait 0.1.\u003C/em\u003E and all will be well.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E EDIT : Have they done some tricksy programming to get more frames between physics ticks which is messing up time?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUsually one would do the opposite. There\u0027s no point in drawing the same frame twice (the situation would not have changed), but multiple physics ticks between frames can smooth out problems that occur from big physics steps. For simulations that don\u0027t solve the big physics steps by putting things on rails, that can be a pretty big deal.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-19T22:56:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MaHuJa\u0022 data-cite=\u0022MaHuJa\u0022\u003E\u003Cdiv\u003EComing back and seeing the code again with fresh eyes; That code was never correct in the first place. It\u0027s not that it broke (\u0022I\u0060ve noticed a change\u0022) but that you couldn\u0027t see what was was wrong with it before.\u003Cp\u003EProbably better explained by this page: \u003Ca href=\u0022http://pragprog.com/the-pragmatic-programmer/extracts/coincidence\u0022 rel=\u0022external nofollow\u0022\u003EProgramming by coincidence\u003C/a\u003E \u003C/p\u003E\u003Cp\u003E(It\u0027s aimed at professional programmers, for the average kOS user its advice is partially overkill. Heck, we\u0027re in the business of \u003Cem\u003Ekilling\u003C/em\u003E kerbals with our mistakes, right? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E )\u003C/p\u003E\u003Cp\u003EOTOH you have two problems: \u003C/p\u003E\u003Cp\u003E1) you are assuming realtime and gametime are in sync, which is in my experience rarely the case. \u003C/p\u003E\u003Cp\u003E2) \u003Cem\u003Ewait 1.\u003C/em\u003E does NOT wait 1 second, it\u0027s 1 second plus however long it takes before it starts the next frame update after that.\u003C/p\u003E\u003Cp\u003ETo do it correctly*, i suggest you code for a \u003Cem\u003Ewait random(0.5) .\u003C/em\u003E (if random existed) - which is really about prohibiting any form of \u003Cem\u003Eset x to x-1.\u003C/em\u003E (for a time-related value) in favor of something along the lines of \u003Cem\u003Eset x to floor(time:seconds - st).\u003C/em\u003E Match that with a \u003Cem\u003Ewait 0.1.\u003C/em\u003E and all will be well.\u003C/p\u003E\u003Cp\u003EUsually one would do the opposite. There\u0027s no point in drawing the same frame twice (the situation would not have changed), but multiple physics ticks between frames can smooth out problems that occur from big physics steps. For simulations that don\u0027t solve the big physics steps by putting things on rails, that can be a pretty big deal.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is quite possible. When coding this I am learning KOS. What is the correct way to only use the ingame time to, for example, smoothly increase throttle from 0 to 1 over 7 seconds ingame so fuel usage is right?\u003C/p\u003E\u003Cp\u003EIs there an ingame as opposed to real world version of time:seconds? EDIT 2: time:seconds IS the ingame time\u003C/p\u003E\u003Cp\u003EEDIT : \u0022So the loop will stop dead for a full real second in each iteration\u0022 has just sunk in. game time is fine, real time is not matched to that and my code only worked previously by coincidence. So would something like this be better?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Esas on.\u003Cbr\u003Eset x to time:seconds\u002B10.\u003Cbr\u003Eset tog to 0.\u003Cbr\u003Elock throttle to ((7-(x-time:seconds))/7).\u003Cbr\u003Euntil 0 {\u003Cbr\u003E\tPrint \u0022T-\u0022\u002B (x-time:seconds) \u002B\u0022 \u0022 at (0,0).\u003Cbr\u003E\tif x-time:seconds\u0026lt;=7 and tog=0 {\u003Cbr\u003E\t\tprint \u0022Main Engine Ignition\u0022 at (0,1).\u003Cbr\u003E\t\tstage.\u003Cbr\u003E\t\tset tog to 1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif x-time:seconds\u0026lt;=0 {break.}.\u003Cbr\u003E}.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Elock stagefuelmax to stage:liquidfuel.\u003Cbr\u003Eprint \u0022 \u0022.\u003Cbr\u003Eprint \u0022Liftoff\u0022.\u003Cbr\u003Estage.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYes, that has the behaviour I am looking for. Thank you very much. I\u0060m glad I understand KOS a bit better now and how it treats time.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-19T23:24:07Z\u0022 title=\u002212/19/2013 11:24  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 19, 2013\u003C/time\u003E by John FX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-12-20T02:33:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAlthough you already got one solution it can\u0027t hurt to have more tools in your toolbox of solutions, so here\u0027s another technique that works to find your radial-in direction without much math: Use a maneuver node to find it, like so:\u003Cp\u003E1 - Make a dummy maneuver node at the point where your periapsis would be if you didn\u0027t burn, with a delta-V of -1,0,0.\u003C/p\u003E\u003Cp\u003E2 - Add it to the flight plan.\u003C/p\u003E\u003Cp\u003E3 - Read the delta-V vector of it.\u003C/p\u003E\u003Cp\u003E4 - Remove the node from the flight plan. It served its purpose which was just to tell you which way to burn.\u003C/p\u003E\u003Cp\u003E5 - Use the delta-V vector from step 3 as your steering direction.\u003C/p\u003E\u003Cp\u003ECode would look like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset dummyNode to NODE( time:seconds\u002BETA:periapsis, (-1), 0, 0 ).\u003Cbr\u003Eadd dummyNode.\u003Cbr\u003Eset radUnitVec to dummyNode:DELTAV.\u003Cbr\u003Eremove dummyNode.\u003Cbr\u003E// \u0022radUnitVec\u0022 is now a unit vector pointing in your radial-in direction.  You can steer by it:\u003Cbr\u003Elock steering to radDir.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhat this does is that instead of a slowly rotating burn that turns as your velocity vector rotates, it will point you at what the radial in direction *will be* at periapsis rather than which way it is right now, and it has you burn in a straight line that way, as shown below in direction 2:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EKEY:\u003Cbr\u003E@@ = where your ship is now.\u003Cbr\u003E1 = Direction of radial-in now.\u003Cbr\u003E2 = Direction of radial-in later at periapsis.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                                .....\u003Cbr\u003E                            ..@@_____\\ 2.\u003Cbr\u003E                         ...   \\     /                   \u003Cbr\u003E                       ..       \\ |        \u003Cbr\u003E                     ::        __\\| \u003Cbr\u003E                   ::             1.        \u003Cbr\u003E                  :                 ****\u003Cbr\u003E                 :               **********\u003Cbr\u003E               Pe______\\        ************\u003Cbr\u003E                :      /        ************\u003Cbr\u003E                 :               **********\u003Cbr\u003E                  :                 ****\u003Cbr\u003E                   ::                      \u003Cbr\u003E                     ::\u003Cbr\u003E                       ..  \u003Cbr\u003E                         ...\u003Cbr\u003E                            ....\u003Cbr\u003E                                .....         \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think you were just showing how to use dummy nodes to set directions in the future which is very useful. However, this problem got me thinking ... which is dangerous. Anyway I was wondering what the correct thrust direction should be on a hyperbolic flyby like in John FX\u0027s example to either raise or lower your periapsis. I generally just use radial in and out but didn\u0027t think that it was 100% correct. I knew from doing it in game that it must be pretty close ... so I started deriving equations and putting stuff in Matlab. This is the result. Turns out the optimal direction is perpendicular to your current position vector. Which when really far out is pretty close to the radial in/out directins. When looking at the equations for orbital energy and Rp this makes sense since burning perpendicular to R will have the greatest impact on your angular momentum ... Anyway thought some of you might find it interesting.\u003C/p\u003E\u003Cp\u003ESketch of the test setup I used. Essentially vary the dv thrust angle (beta) and see what causes the largest effect.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/mnvgWEW.png\u0022 alt=\u0022mnvgWEW.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EMatlab output: Setting R to [5 -50]*KerbinRadius, V to [0 1500], dV magnitude to 100 and varied beta from 0 to 360.\u003C/p\u003E\u003Cp\u003ENote the max and min are at 90 \u0026amp; 270 degrees wrt the position vector R.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jkMVf4K.png\u0022 alt=\u0022jkMVf4K.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: Sorry John FX I know this is exactly the opposite no math approach that you originally mentioned ... but I couldn\u0027t stop myself.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-20T03:49:17Z\u0022 title=\u002212/20/2013 03:49  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 20, 2013\u003C/time\u003E by AeroEngy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-12-20T04:18:13Z","Content":"\n\u003Cp\u003ESo we\u0027ve been waiting on Kevin so as not to steal his project away from him while he\u0027s sorting other things out, but it looks as if the 0.23 KSP update may be the thing that forces the issue, since kOS 0.92 doesn\u0027t work iwth 0.23 KSP. (It\u0027s not just a matter of it not compiling the source code, even the precompiled version on Spaceport doesn\u0027t work anymore - I\u0027m playing through a new career and the SCS part doesn\u0027t show up in the tech tree in 0.23.\u003C/p\u003E\u003Cp\u003EMahuJa \u0027s work to make it go in 0.23 is nice but the time may have come to make an official fork and start up a new github page. I would have otherwise preferred to give Kevin more time but the fact that 0.23 requires a recompile sort of makes that nicety impossible.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2013-12-20T09:55:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AeroEngy\u0022 data-cite=\u0022AeroEngy\u0022\u003E\u003Cdiv\u003EI think you were just showing how to use dummy nodes to set directions in the future which is very useful. However, this problem got me thinking ... which is dangerous. Anyway I was wondering what the correct thrust direction should be on a hyperbolic flyby like in John FX\u0027s example to either raise or lower your periapsis. I generally just use radial in and out but didn\u0027t think that it was 100% correct. I knew from doing it in game that it must be pretty close ... so I started deriving equations and putting stuff in Matlab. This is the result. Turns out \u003Cstrong\u003Ethe optimal direction is perpendicular to your current position vector.\u003C/strong\u003E Which when really far out is pretty close to the radial in/out directins. When looking at the equations for orbital energy and Rp this makes sense since burning perpendicular to R will have the greatest impact on your angular momentum ... Anyway thought some of you might find it interesting.\u003Cp\u003ESketch of the test setup I used. Essentially vary the dv thrust angle (beta) and see what causes the largest effect.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/mnvgWEW.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/mnvgWEW.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMatlab output: Setting R to [5 -50]*KerbinRadius, V to [0 1500], dV magnitude to 100 and varied beta from 0 to 360.\u003C/p\u003E\u003Cp\u003ENote the max and min are at 90 \u0026amp; 270 degrees wrt the position vector R.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/jkMVf4K.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/jkMVf4K.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: Sorry John FX I know this is exactly the opposite no math approach that you originally mentioned ... but I couldn\u0027t stop myself.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo 90 or -90 degrees from up in the plane of surface travel?\u003C/p\u003E\u003Cp\u003EAlso, I have searched the WIKI and looked on the list of all commands n stuff but cannot find how. Could someone let me know how to print 3.1415926 as 3.142 or 3 or 3.14156\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-20T09:59:17Z\u0022 title=\u002212/20/2013 09:59  AM\u0022 data-short=\u002210 yr\u0022\u003EDecember 20, 2013\u003C/time\u003E by John FX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2013-12-20T10:19:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, I have searched the WIKI and looked on the list of all commands n stuff but cannot find how. Could someone let me know how to print 3.1415926 as 3.142 or 3 or 3.14156\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eset PI to 3.1415926.\u003C/p\u003E\u003Cp\u003Eprint round(PI,3). // output= 3.142\u003C/p\u003E\u003Cp\u003Eprint round(PI,0). // output= 3\u003C/p\u003E\u003Cp\u003Eprint round(PI,5). // output=3.14159\u003C/p\u003E\n"}]}