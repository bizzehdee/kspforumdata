{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":118,"Articles":[{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-13T20:50:57Z","Content":"\n\u003Cp\u003EQuestion for the experts. \u003C/p\u003E\u003Cp\u003EIf I want to keep a part from loading, and the part has a .cfg, a .mu, and a .tga or .png I can compress the .cfg and it\u0027ll disappear from the editor, but is KSP still loading the .mu and/or the .tga/.png? My assumption was no, that KSP parses .cfg files and then loads assets referenced by the .cfg, but I\u0027m wondering if that\u0027s accurate - do I also need to compress the .mu/.tga/.png?\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2014-12-13T20:58:21Z","Content":"\n\u003Cp\u003EWith the 4.0 release this went from awesome to wanting it on every stock install - nice job and thank you!!\u003C/p\u003E\u003Cp\u003EI will say I\u0027m now struggling to configure this quite the way I\u0027d like, my issues range from just being a texture n00b to confusion on how the config file functions.\u003C/p\u003E\u003Cp\u003EI\u0027m going to dive into exploration of each of these points and questions today - but maybe you already have answers or guidance?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EIf I was setting up a config for a mod/parts pack that you haven\u0027t already made a config for, how would I know what textures are normal maps? The naming convention doesn\u0027t seem to be consistently followed so there must be another way to tell - open the file and see if it\u0027s grayscale?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGiven how fast the DXT loads at game start, I want this for functionality for all textures - I\u0027m unclear though if my config settings are accidentally excluding some textures when I only wish to not scale those textures? How do I convert to DXT without rescaling?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI also want to compress all textures, right? So if even if I exclude textures from scaling, am I also excluding them from compression?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI wish there was a way to know if KSP needed to read a texture throughout runtime - maybe the log will give me clues which allow me to see if unloading textures from memory causes issues or not?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI\u0027m expecting to make heavy use of the \u0022min\u0022 config setting but I\u0027m unclear (see above) what this will exclude textures from being processed with which features. I\u0027ll probably explain this better when I explore it.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI love the runtime execution of this conversion/compression/scaling - idiot proof! But given the leaks and memory issues that exist and evidently experienced by so many, what would it take to also distribute a separate executable which can create the cache? This may even allow for other optimizations, and warnings about total texture size, etc.\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnyway, that\u0027s what I\u0027m curious about and going to look at today. Thanks again for the nice enhancement to a great game!\u003C/p\u003E\u003Cp\u003E-Talon\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-13T21:40:38Z\u0022 title=\u002212/13/2014 09:40  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 13, 2014\u003C/time\u003E by Black-Talon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Liarra Sniffles","CreatedById":128106,"CreatedDateTime":"2014-12-13T21:00:06Z","Content":"\n\u003Cp\u003EFirst off, good work so far with this!\u003C/p\u003E\u003Cp\u003EI would\u003Cem\u003E highly \u003C/em\u003Erecommend creating a simple program or .bat file to run this outside of the ksp game-loader itself, to get around the memory limit of the actual game, but other than that it\u0027s worked wonders.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-12-13T21:28:54Z","Content":"\n\u003Cp\u003Ejohnsonwax your assumption is incorrect. KSP loads all recognized file types, and only later compiles them. So any image under GameData and not under a PluginData folder will be loaded, no matter what.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-13T21:34:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022johnsonwax\u0022 data-cite=\u0022johnsonwax\u0022\u003E\u003Cdiv\u003EQuestion for the experts. \u003Cp\u003EIf I want to keep a part from loading, and the part has a .cfg, a .mu, and a .tga or .png I can compress the .cfg and it\u0027ll disappear from the editor, but is KSP still loading the .mu and/or the .tga/.png? My assumption was no, that KSP parses .cfg files and then loads assets referenced by the .cfg, but I\u0027m wondering if that\u0027s accurate - do I also need to compress the .mu/.tga/.png?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, KSP and this mod load ALL textures automatically. Do disable loading, they must be removed from GameData.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Black-Talon\u0022 data-cite=\u0022Black-Talon\u0022\u003E\u003Cdiv\u003EWith the 4.0 release this went from awesome to wanting it on every stock install - nice job and thank you!!\u003Cp\u003EI will say I\u0027m now struggling to configure this quite the way I\u0027d like, my issues range from just being a texture n00b to confusion on how the config file functions.\u003C/p\u003E\u003Cp\u003EI\u0027m going to dive into exploration of each of these points and questions today - but maybe you already have answers or guidance?\u003C/p\u003E\u003Cp\u003E1 - If I was setting up a config for a mod/parts pack that you haven\u0027t already made a config for, how would I know what textures are normal maps? The naming convention doesn\u0027t seem to be consistently followed so there must be another way to tell - open the file and see if it\u0027s grayscale?\u003C/p\u003E\u003Cp\u003E2 - Given how fast the DXT loads at game start, I want this for functionality for all textures - I\u0027m unclear though if my config settings are accidentally excluding some textures when I only wish to not scale those textures? How do I convert to DXT without rescaling?\u003C/p\u003E\u003Cp\u003E3 - I also want to compress all textures, right? So if even if I exclude textures from scaling, am I also excluding them from compression?\u003C/p\u003E\u003Cp\u003E4 - I wish there was a way to know if KSP needed to read a texture throughout runtime - maybe the log will give me clues which allow me to see if unloading textures from memory causes issues or not?\u003C/p\u003E\u003Cp\u003E5 - I\u0027m expecting to make heavy use of the \u0022min\u0022 config setting but I\u0027m unclear (see above) what this will exclude textures from being processed with which features. I\u0027ll probably explain this better when I explore it.\u003C/p\u003E\u003Cp\u003E6 - I love the runtime execution of this conversion/compression/scaling - idiot proof! But given the leaks and memory issues that exist and evidently experienced by so many, what would it take to also distribute a separate executable which can create the cache? This may even allow for other optimizations, and warnings about total texture size, etc.\u003C/p\u003E\u003Cp\u003EAnyway, that\u0027s what I\u0027m curious about and going to look at today. Thanks again for the nice enhancement to a great game!\u003C/p\u003E\u003Cp\u003E-Talon\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1) There are two ways, Most normal maps use NRM at the end of the file. These are handled automatically. After loading, you can pop open the logs and search for something like \u0022Texture is not a normal map and texture is not readable\u0022 Those have to be added to the normal map list.\u003C/p\u003E\u003Cp\u003E2) All you have to do is add a config for each mod you have, or one giant config with a bunch of folders listed. Some mods will be leaving textures alone on purpose as they aren\u0027t rendered, but are used as lookup maps.\u003C/p\u003E\u003Cp\u003E3) Nope. Compression and rescalling are mutually exclusive.\u003C/p\u003E\u003Cp\u003E4) I tried doing this, but unfortunately, unity sealed the class, so there was no way for me to do that.\u003C/p\u003E\u003Cp\u003E5) Min is just the lower bounds of resizing. Basically it was introduced to make sure icon textures didn\u0027t get shrunk to oblivion.\u003C/p\u003E\u003Cp\u003E6) See below. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Liarra Sniffles\u0022 data-cite=\u0022Liarra Sniffles\u0022\u003E\u003Cdiv\u003EFirst off, good work so far with this!\u003Cp\u003EI would\u003Cem\u003E highly \u003C/em\u003Erecommend creating a simple program or .bat file to run this outside of the ksp game-loader itself, to get around the memory limit of the actual game, but other than that it\u0027s worked wonders.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI chose to avoid this so that everyone on every platform would be able to run it, and to reduce complexity as much as possible.\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2014-12-13T21:40:09Z","Content":"\n\u003Cp\u003EYou replied so quickly! Thank you! Which means my edit was missed...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEDIT\u003C/strong\u003E - I should have shared my goal - \u003C/p\u003E\u003Cp\u003EI currently have a thought that the best way to run KSP would be...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ECompresses all textures to DXT format\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGenerates mipmaps for all textures\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EONLY IF texture is above YxY dimensions OR above X KB in size: Resize texture to 1/2 it\u0027s current size\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EReasoning: Some textures are giant for good reason, don\u0027t scale them down to 512x512, just cut them in half. Small textures are already small enough, beyond compression/optimization I don\u0027t really need to scale them down further, especially since the quality impact will be higher when cutting a 512x512 down to 256x256 than a 2048x4096 to 1024x2048.\u003C/p\u003E\u003Cp\u003EClearly Active Texture Management can do this for me ... but my best guess at a config setup is below and I\u0027m not certain it\u0027s working in the way I desired:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EACTIVE_TEXTURE_MANAGER\u003Cbr\u003E{\u003Cbr\u003E\tfilter_mode = Trilinear\u003Cbr\u003E\tmake_not_readable = true\u003Cbr\u003E\u003Cbr\u003E\tcompress = true\u003Cbr\u003E\tmipmaps = true\u003Cbr\u003E\tscale = 2\u003Cbr\u003E\tmax_size = 0\u003Cbr\u003E\tmin_size = 512\u003Cbr\u003E\u003Cbr\u003E\tcompress_normals = true\u003Cbr\u003E\tmipmaps_normals = false\u003Cbr\u003E\tscale_normals = 2\u003Cbr\u003E\tmax_size_normals = 512\u003Cbr\u003E\tmin_size_normals = 128\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPS - Oh hey, these things are also questions (minor bugs?) on my mind:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EComparing Basic to Aggressive configs, DBG is set to TRUE in Aggressive but commented out in Basic?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAggressive is set to ignore Agencies textures but Basic isn\u0027t?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI don\u0027t think I understand the choice to put all the configs for ActiveTextureManager in the \\BoulderCo\\ folder instead of the \\ActiveTextureManagement\\ folder - with the craziness of EVE and EVE Texture packs putting lots of EVE configs and additional textures in \\BoulderCo\\ it is a crazy place that should probably be wiped clean regularly when mods are updated or re-installed. Why add these configs to \\BoulderCo\\ when a perfect place away from the fray already exists?\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheRomantics","CreatedById":131859,"CreatedDateTime":"2014-12-14T15:59:50Z","Content":"\n\u003Cp\u003EI\u0027m trying to find out if this mod is actually working for me or not. I\u0027m pretty new to Kerbal and just don\u0027t have any experience with how long these mods take to load. I\u0027m running a highly modded Kerbal right now and live streaming it on Twitch and any time I have a crash, I have about a 17 minute load time to start the game back up. Here\u0027s my mod list. \u003Ca href=\u0022https://docs.google.com/spreadsheets/d/1fQH9Lh-CvVctWAij6PoLz5LhGiy9ZvmuCLY7tk7uwZw/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.google.com/spreadsheets/d/1fQH9Lh-CvVctWAij6PoLz5LhGiy9ZvmuCLY7tk7uwZw/edit?usp=sharing\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI had first installed the x64 aggressive version and then realized that I wasn\u0027t using the 64bit Kerbal. I was getting about a 17 minute load time with the x64 version installed. So I thought, EUREKA! that must be what it is. I then just merged the x86 aggressive version into the folder thinking it would help. My load time is still 17 minutes. Am I doing something wrong or is this expected with those mods even using this mod to compress? Did I mess it up by just installing the x86 version on top of the x64 version when I should have been deleting something first?\u003C/p\u003E\u003Cp\u003EThanks for your time.\u003C/p\u003E\n"},{"CreatedByName":"Saint-Stanislas","CreatedById":72776,"CreatedDateTime":"2014-12-14T17:46:14Z","Content":"\n\u003Cp\u003EI was wondering what files RaspterPropMonitor is using as his police ? I have difficulties setting up an exception for it so the text doesn\u0027t get all giberrish when I use scaling, the .cfg in the package doesn\u0027t seem to do it, and in this config files, if I set enabled to false, would it prevent atm of running a particular cfg file or would it prevent atm from treating the specific folder ? \u003C/p\u003E\u003Cp\u003EOH and, what is DGB = true for?\u003C/p\u003E\u003Cp\u003EGreat Mod !!!!!\u003C/p\u003E\u003Cp\u003E@Romantic: It\u0027s normal! It can easily take an hour, dont\u0027 rush thinking it\u0027s bugged , just go do something else. It\u0027S only for the first load though as the mods reprocess your textures. If it\u0027s actually crashing (quitting on it\u0027S own) just restart it as many time as necessary as the conversion will restart where it left. If it\u0027s unresponsive, and window suggest you to close an unresponsive task, it\u0027s actually progressing, leave him be.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-14T17:50:54Z\u0022 title=\u002212/14/2014 05:50  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 14, 2014\u003C/time\u003E by Saint-Stanislas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2014-12-14T19:42:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Saint-Stanislas\u0022 data-cite=\u0022Saint-Stanislas\u0022\u003E\u003Cdiv\u003EOH and, what is DGB = true for?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt turns out the debug output in the output_log ... I\u0027m afraid I\u0027m no help on the rest of your questions though, I\u0027m similarly experimenting to understand a couple things about config exceptions/overrides for textures/folders.\u003C/p\u003E\n"},{"CreatedByName":"LucidPixels","CreatedById":100619,"CreatedDateTime":"2014-12-15T00:28:00Z","Content":"\n\u003Cp\u003EHaving put aside this mod in the past in favor of just pruning unused parts and forcing OpenGL, I must say the latest version is fantastic. Though the initial conversion took several hours, loading times are now an order of magnitude faster.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2014-12-15T01:43:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Ejohnsonwax your assumption is incorrect. KSP loads all recognized file types, and only later compiles them. So any image under GameData and not under a PluginData folder will be loaded, no matter what.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAha! That\u0027s why we should ask these questions. Would explain why I\u0027m not getting the kind of memory savings I was expecting. Thanks to all for the clarification. Time to find a new approach here.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-15T04:56:51Z","Content":"\n\u003Cp\u003EI\u0027ve had an issue with the interior normal textures from the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/75074\u0022 rel=\u0022external nofollow\u0022\u003ETaurus HCV pack\u003C/a\u003E -- they were correctly identified as normals, but weren\u0027t compressed (\u0022compressed = false\u0022 in their tcache files), resulting in the cache becoming bigger than the originals (because of the mipmaps, I assume), even though I\u0027ve got Aggressive and it should be compressing everything by default (ATM seems to be generally a little flaky about obeying default parameters, especially for normals -- do I need to delete the cache after changing the master config?). I resolved it by creating a new config:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003Cbr\u003E{\u003Cbr\u003E    folder = R\u0026amp;SCapsuledyne\u003Cbr\u003E    enabled  = true\u003Cbr\u003E    OVERRIDES\u003Cbr\u003E    {\u003Cbr\u003E        R\u0026amp;SCapsuledyne/Spaces/.*\u003Cbr\u003E        {\u003Cbr\u003E            compress = true\u003Cbr\u003E            mipmaps = false\u003Cbr\u003E            scale = 2\u003Cbr\u003E            max_size = 0\u003Cbr\u003E            make_not_readable = true\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-15T05:48:50Z\u0022 title=\u002212/15/2014 05:48  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 15, 2014\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-15T06:54:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EI\u0027ve had an issue with the interior normal textures from the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/75074\u0022 rel=\u0022external nofollow\u0022\u003ETaurus HCV pack\u003C/a\u003E -- they were correctly identified as normals, but weren\u0027t compressed (\u0022compressed = false\u0022 in their tcache files), resulting in the cache becoming bigger than the originals (because of the mipmaps, I assume), even though I\u0027ve got Aggressive and it should be compressing everything by default (ATM seems to be generally a little flaky about obeying default parameters, especially for normals -- do I need to delete the cache after changing the master config?). I resolved it by creating a new config:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003Cbr\u003E{\u003Cbr\u003E    folder = R\u0026amp;SCapsuledyne\u003Cbr\u003E    enabled  = true\u003Cbr\u003E    OVERRIDES\u003Cbr\u003E    {\u003Cbr\u003E        R\u0026amp;SCapsuledyne/Spaces/.*\u003Cbr\u003E        {\u003Cbr\u003E            compress = true\u003Cbr\u003E            mipmaps = false\u003Cbr\u003E            scale = 2\u003Cbr\u003E            max_size = 0\u003Cbr\u003E            make_not_readable = true\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you want to specify params, you also need to specify NRM params if you don\u0027t want the defaults to be used. An easy fix is to delete the OVERIDES entry. This is only needed when specifying settings that are different from the global config.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-15T06:56:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Black-Talon\u0022 data-cite=\u0022Black-Talon\u0022\u003E\u003Cdiv\u003EYou replied so quickly! Thank you! Which means my edit was missed...\u003Cp\u003E\u003Cstrong\u003EEDIT\u003C/strong\u003E - I should have shared my goal - \u003C/p\u003E\u003Cp\u003EI currently have a thought that the best way to run KSP would be...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ECompresses all textures to DXT format\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EGenerates mipmaps for all textures\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EONLY IF texture is above YxY dimensions OR above X KB in size: Resize texture to 1/2 it\u0027s current size\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EReasoning: Some textures are giant for good reason, don\u0027t scale them down to 512x512, just cut them in half. Small textures are already small enough, beyond compression/optimization I don\u0027t really need to scale them down further, especially since the quality impact will be higher when cutting a 512x512 down to 256x256 than a 2048x4096 to 1024x2048.\u003C/p\u003E\u003Cp\u003EClearly Active Texture Management can do this for me ... but my best guess at a config setup is below and I\u0027m not certain it\u0027s working in the way I desired:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EACTIVE_TEXTURE_MANAGER\u003Cbr\u003E{\u003Cbr\u003E\tfilter_mode = Trilinear\u003Cbr\u003E\tmake_not_readable = true\u003Cbr\u003E\u003Cbr\u003E\tcompress = true\u003Cbr\u003E\tmipmaps = true\u003Cbr\u003E\tscale = 2\u003Cbr\u003E\tmax_size = 0\u003Cbr\u003E\tmin_size = 512\u003Cbr\u003E\u003Cbr\u003E\tcompress_normals = true\u003Cbr\u003E\tmipmaps_normals = false\u003Cbr\u003E\tscale_normals = 2\u003Cbr\u003E\tmax_size_normals = 512\u003Cbr\u003E\tmin_size_normals = 128\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPS - Oh hey, these things are also questions (minor bugs?) on my mind:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EComparing Basic to Aggressive configs, DBG is set to TRUE in Aggressive but commented out in Basic?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAggressive is set to ignore Agencies textures but Basic isn\u0027t?\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI don\u0027t think I understand the choice to put all the configs for ActiveTextureManager in the \\BoulderCo\\ folder instead of the \\ActiveTextureManagement\\ folder - with the craziness of EVE and EVE Texture packs putting lots of EVE configs and additional textures in \\BoulderCo\\ it is a crazy place that should probably be wiped clean regularly when mods are updated or re-installed. Why add these configs to \\BoulderCo\\ when a perfect place away from the fray already exists?\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1\u0026amp; 2 are oversights on my part... 3 was me thinking I\u0027d be clever, but thinking that I\u0027m now regretting it :/\u003C/p\u003E\n"},{"CreatedByName":"Aivoh","CreatedById":129331,"CreatedDateTime":"2014-12-15T15:17:51Z","Content":"\n\u003Cp\u003EThanks to Neutrinovores post #2579 (and BD Armory) I was able to use the BD Armory ATM config as an example to make individual configs for my other icon textures in their mod folders to keep them sharp.\u003C/p\u003E\u003Cp\u003ESuch as: 000_Toolbar (Blizzy\u0027s Toolbar?), ConnectedLivingSpace, KerbalEngineer, MagicSmokeIndustries (InfernalRobotics), RCSBuildAid, Quick Exit, VOID\u003C/p\u003E\u003Cp\u003EOf course I had to delete the previously cached icon folders from ATM.\u003C/p\u003E\u003Cp\u003EEdit: This is with Aggressive and 1/4 Resolution in the game settings.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-15T20:55:55Z\u0022 title=\u002212/15/2014 08:55  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 15, 2014\u003C/time\u003E by Aivoh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-15T15:31:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EIf you want to specify params, you also need to specify NRM params if you don\u0027t want the defaults to be used. An easy fix is to delete the OVERIDES entry. This is only needed when specifying settings that are different from the global config.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBut ATM \u003Cem\u003Ewasn\u0027t\u003C/em\u003E applying the default parameters from ActiveTextureManagement.cfg, which includes compressing normals and rescaling them by 2.\u003C/p\u003E\u003Cp\u003EI actually just noticed that those parameters in my R\u0026amp;SCapsuledyne.cfg don\u0027t apply to normals at all, but adding that file still resolved the issue that ATM wasn\u0027t compressing the normal texture -- was it just forcing ATM to look more closely at the folder and jostling it into action? Where and why would ATM be making judgement calls to not compress certain textures or normals? I\u0027m seeing other normal textures in e.g. Nertea\u0027s Mark IV System also going uncompressed. Does ATM leave a log of what it\u0027s doing to the textures? If so, I\u0027ll clear those folders from the cache, recompress them, and see what ATM has to say for itself.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-15T16:12:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EBut ATM \u003Cem\u003Ewasn\u0027t\u003C/em\u003E applying the default parameters from ActiveTextureManagement.cfg, which includes compressing normals and rescaling them by 2.\u003Cp\u003EI actually just noticed that those parameters in my R\u0026amp;SCapsuledyne.cfg don\u0027t apply to normals at all, but adding that file still resolved the issue that ATM wasn\u0027t compressing the normal texture -- was it just forcing ATM to look more closely at the folder and jostling it into action? Where and why would ATM be making judgement calls to not compress certain textures or normals? I\u0027m seeing other normal textures in e.g. Nertea\u0027s Mark IV System also going uncompressed. Does ATM leave a log of what it\u0027s doing to the textures? If so, I\u0027ll clear those folders from the cache, recompress them, and see what ATM has to say for itself.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe override section should only be used if you need to go against the defaults, and the normalmap settings have to be specified as well if there are normalmaps in the location pointed to. \u003C/p\u003E\u003Cp\u003ELook at some of the default configs. Most are VERY short, pointing to a folder, saying the config is ready, and that is it.\u003C/p\u003E\u003Cp\u003EIf there are any normal maps not being compressed, it means you don\u0027t have a config for them, or the mod author improperly setup the config.\u003C/p\u003E\n"},{"CreatedByName":"willow","CreatedById":13072,"CreatedDateTime":"2014-12-15T16:17:13Z","Content":"\n\u003Cp\u003EThat last update was epic. You\u0027ve cut my initial startup time down from an hour into something like 10 minutes... AND it no longer crashes on a few of those pesky textures. Thank you!\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-12-15T16:51:18Z","Content":"\n\u003Cp\u003EAlright, I think I understand: before it compresses normals, ATM needs a config file saying that it\u0027s OK. Thanks for the heads-up -- it seems I\u0027ve got a lot of memory savings to be made by defining a few more configs. I can put them here, or figure out how to put them on GitHub and make a pull request to you. Can I define multiple \u0022folder = \u0022 in one config the way that the normal list can include multiple \u0022texture = \u0022? It would be handy for mods like Near Future Technologies that come in multiple folders.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-15T17:11:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EAlright, I think I understand: before it compresses normals, ATM needs a config file saying that it\u0027s OK. Thanks for the heads-up -- it seems I\u0027ve got a lot of memory savings to be made by defining a few more configs. I can put them here, or figure out how to put them on GitHub and make a pull request to you. Can I define multiple \u0022folder = \u0022 in one config the way that the normal list can include multiple \u0022texture = \u0022? It would be handy for mods like Near Future Technologies that come in multiple folders.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emost certainly. That is fine.\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2014-12-15T18:27:43Z","Content":"\n\u003Cp\u003EI feel like I must be doing something wrong. I\u0027ve tried installing the basic option, and then the aggressive option (after deleting all components of basic of course) but I don\u0027t seem to see any appreciable reduction in RAM usage or loading time. And if I check the log file, if find this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 13:08:45.915] ActiveTextureManagement: Memory Saved : 0B\u003Cbr\u003E[LOG 13:08:45.916] ActiveTextureManagement: Memory Saved : 0kB\u003Cbr\u003E[LOG 13:08:45.917] ActiveTextureManagement: Memory Saved : 0MB\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs near as I can tell, all that I should have to do is copy the ActiveTextureManagement and BoulderCo folders into my GameData folder, but I feel like I\u0027m missing something. Do I need to be doing something else to enable the mod to work? I have a copy of my output_log.txt that I can PM a drop box link as needed.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-12-15T18:38:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hvacengi\u0022 data-cite=\u0022hvacengi\u0022\u003E\u003Cdiv\u003EI feel like I must be doing something wrong. I\u0027ve tried installing the basic option, and then the aggressive option (after deleting all components of basic of course) but I don\u0027t seem to see any appreciable reduction in RAM usage or loading time. And if I check the log file, if find this:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 13:08:45.915] ActiveTextureManagement: Memory Saved : 0B\u003Cbr\u003E[LOG 13:08:45.916] ActiveTextureManagement: Memory Saved : 0kB\u003Cbr\u003E[LOG 13:08:45.917] ActiveTextureManagement: Memory Saved : 0MB\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs near as I can tell, all that I should have to do is copy the ActiveTextureManagement and BoulderCo folders into my GameData folder, but I feel like I\u0027m missing something. Do I need to be doing something else to enable the mod to work? I have a copy of my output_log.txt that I can PM a drop box link as needed.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIgnore the logs. The Memory count is not accurate at all.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2014-12-15T23:48:31Z","Content":"\n\u003Cp\u003EAny word on .90 compatibility?\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-12-16T01:06:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003EAny word on .90 compatibility?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was just going to try it, because as of 0.90 stock KSP will no longer run in 2GB.\u003C/p\u003E\u003Cp\u003EOn edit: Nope. ATM keeps running out of memory trying to do the conversions. The cache directory never even gets created. KSP.log here: \u003Ca href=\u0022https://www.dropbox.com/s/ti9xqtt8i2majls/KSP.90.ATM.Aggressive.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/ti9xqtt8i2majls/KSP.90.ATM.Aggressive.log?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 20:10:38.102] Load(Audio): Squad/Sounds/sound_tab_retreat\u003Cbr\u003E[LOG 20:10:38.127] Load(Texture): NASAmission/Flags/NASA\u003Cbr\u003E[LOG 20:10:38.172] ActiveTextureManagement: Loading texture...\u003Cbr\u003E[EXC 20:10:38.200] OutOfMemoryException: Out of memory\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.InitImageBuffer ()\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.IMGToTexture (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps, Boolean isNormalFormat)\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.GetReadable (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.RebuildCache (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.FetchCacheTexture (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM.UpdateTexture (ActiveTextureManagement.TexInfo texture)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM\u002B\u0026lt;Load\u0026gt;d__4.MoveNext ()\u003Cbr\u003E    UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003Cbr\u003E    :MoveNext()\u003Cbr\u003E[LOG 20:10:38.213] Load(Texture): NASAmission/Parts/GrapplingDevice/grabberDiffuse\u003Cbr\u003E[LOG 20:10:38.232] ActiveTextureManagement: Loading texture...\u003Cbr\u003E[EXC 20:10:38.236] OutOfMemoryException: Out of memory\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.InitImageBuffer ()\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.IMGToTexture (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps, Boolean isNormalFormat)\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.GetReadable (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.RebuildCache (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.FetchCacheTexture (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM.UpdateTexture (ActiveTextureManagement.TexInfo texture)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM\u002B\u0026lt;Load\u0026gt;d__4.MoveNext ()\u003Cbr\u003E    UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003Cbr\u003E    :MoveNext()\u003Cbr\u003E[LOG 20:10:38.249] Load(Texture): NASAmission/Parts/GrapplingDevice/window\u003Cbr\u003E[LOG 20:10:38.254] ActiveTextureManagement: Loading texture...\u003Cbr\u003E[EXC 20:10:38.272] OutOfMemoryException: Out of memory\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.InitImageBuffer ()\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.IMGToTexture (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps, Boolean isNormalFormat)\u003Cbr\u003E    ActiveTextureManagement.TextureConverter.GetReadable (ActiveTextureManagement.TexInfo Texture, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.RebuildCache (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.CacheController.FetchCacheTexture (ActiveTextureManagement.TexInfo Texture, Boolean compress, Boolean mipmaps)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM.UpdateTexture (ActiveTextureManagement.TexInfo texture)\u003Cbr\u003E    ActiveTextureManagement.DatabaseLoaderTexture_ATM\u002B\u0026lt;Load\u0026gt;d__4.MoveNext ()\u003Cbr\u003E    UnityEngine.MonoBehaviour:StartCoroutine(IEnumerator)\u003Cbr\u003E    :MoveNext()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/6xkNdUY.png\u0022 alt=\u00226xkNdUY.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-16T01:26:26Z\u0022 title=\u002212/16/2014 01:26  AM\u0022 data-short=\u00229 yr\u0022\u003EDecember 16, 2014\u003C/time\u003E by lincourtl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-12-16T01:22:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Robotengineer\u0022 data-cite=\u0022Robotengineer\u0022\u003E\u003Cdiv\u003EAny word on .90 compatibility?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt does not work for me.\u003C/p\u003E\u003Cp\u003EActually, it increases my memory consuption - from 1.66 to almost 1.8 Gb.\u003C/p\u003E\u003Cp\u003EIt might be due to OpenGL, though (but in 0.25, the two worked together without any problem)\u003C/p\u003E\n"}]}