{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":79,"Articles":[{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-11-05T20:34:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003ESnappingTurtle\u003C/strong\u003E Ive remember seeing on youtube docking with KOS. So You can try. a ternary operator? Nope ( but not 100% sure).\u003Cp\u003E\u003Cstrong\u003ESteven Mading\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EI donk know why but my KOS is protesting at this line;/\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset velKerbinFromSun to (kerbin:velocity:orbit - sun:velocity:orbit).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIts probably a glitch on my ksp side (I\u0027ve used :velocity:orbit literally yesterday).\u003C/p\u003E\u003Cp\u003EI\u0027ve done it, a little bit different ( read as: its more code, and its a mess.), in relation to sun position the plane is divided in 4 squares and im checking in witch one is kerbin and duna at one time. that\u0027s a lot of combinations but its working for now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKerbol is the root SOI. Isn\u0027t :velocity:orbit in relation to the parent body?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-05T20:43:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EKerbol is the root SOI. Isn\u0027t :velocity:orbit in relation to the parent body?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, you\u0027d think.\u003C/p\u003E\u003Cp\u003EVelocity is relative to whatever the CURRENT SOI of the SHIP is. If your ship is around a body, that body\u0027s velocity is zero.\u003C/p\u003E\u003Cp\u003ETo do anything meaningful with bodies, it\u0027s always a good idea to get things relative to other things, so it works no matter where the current ship is. Subtracting a vector from another vector is a way to eliminate the \u0022where is the real origin?\u0022 from the picture.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-05T23:11:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hitokiri\u0022 data-cite=\u0022Hitokiri\u0022\u003E\u003Cdiv\u003EHi, anyone have idea why LOCK STEERING TO Heading (90,20) in atmosphere cause that roll control is oscillating?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s because of how the controller works. If you look at the inputs in the lower-left corner of the screen, you will see that they are fluttering a lot, constantly correcting for the last 1/100th of a degree. As long as you are using the cooked controls, you\u0027ll be stuck with that. If it leads to visible flutter, this means that either a) you have too much control authority or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E your craft is wobbly. The latter can be real fun if it resonates with the kOS controls (very rare, but can happen).\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-06T02:42:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EIt\u0027s because of how the controller works. If you look at the inputs in the lower-left corner of the screen, you will see that they are fluttering a lot, constantly correcting for the last 1/100th of a degree. As long as you are using the cooked controls, you\u0027ll be stuck with that. If it leads to visible flutter, this means that either a) you have too much control authority or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E your craft is wobbly. The latter can be real fun if it resonates with the kOS controls (very rare, but can happen).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe\u0027ll probably cave in and fix this at some point. I\u0027ve wanted to leave it wonky so that people write their own controller from the raw components, but as it\u0027s the first thing people see, it\u0027s a big problem for the mod\u0027s reputation. I don\u0027t like people thinking \u0022these idiots know nothing about the project they\u0027re working on\u0022, when the truth is \u0022they know how it could be fixed but fear that fixing it will deny users of the sense of accomplishment of writing their own.\u0022\u003C/p\u003E\u003Cp\u003EIt\u0027s meant as a crutch to get people started, not a final perfect solution. But yeah, the resonating oscillations that keep getting bigger over time are a big problem case. I\u0027ve seen it myself on one of my designs. It seems to be worst when there\u0027s a lot of flexibility and bendy-ness to the craft, between the command core and the bulk of the fuel mass, such that there\u0027s a bit of a delay between when the command core stops rotating and when the rest of the craft stops rotating. That seems to cause the oscillation cases where over time it swings wilder and wilder until it\u0027s uncontrollable. I have Deadly Re-Entry installed and it checks the G forces for pilot survivability. I\u0027ve had pilots die from experiencing 15 G oscillations during LOCK STEERING during ascent because the rocket was doing the banana dance.\u003C/p\u003E\u003Cp\u003EI\u0027d still prefer it to be less than perfect and have a bit of wobble, but it should at least be fixed to the point where the deadly resonance feedback gets dampened.\u003C/p\u003E\n"},{"CreatedByName":"Hitokiri","CreatedById":85627,"CreatedDateTime":"2014-11-06T07:26:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI\u0027ve wanted to leave it wonky so that people write their own controller from the raw components, but as it\u0027s the first thing people see, it\u0027s a big problem for the mod\u0027s reputation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, maybe I\u0027m not the right user for this mod - after all I\u0027m not developer, but rather from OPS - I like my scripts neat and stitched together from samples from around the web \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe code I put together had simple purpose - to be able to lunch SSTO without my interaction - so I can read my e-mails, be on forum here or do whatever else. If it will require to write my own controller from raw components than it is not something I can achieve in reasonable time - therefore defying the original purpose - save some time. :-)\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-11-06T12:13:32Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset velKerbinFromSun to (kerbin:velocity:orbit - sun:velocity:orbit).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EKOS is still rejecting this line. I get \u0022 Object reference not set to an instance of an object\u0022 message all the time ;/\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-06T15:16:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset velKerbinFromSun to (kerbin:velocity:orbit - sun:velocity:orbit).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EKOS is still rejecting this line. I get \u0022 Object reference not set to an instance of an object\u0022 message all the time ;/\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI may have time to look at this later tonight. I suspect it\u0027s got something to do with the Sun being a minimal CelestialBody that\u0027s missing a few things that other bodies have.\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-11-07T00:07:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI may have time to look at this later tonight. I suspect it\u0027s got something to do with the Sun being a minimal CelestialBody that\u0027s missing a few things that other bodies have.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy guess would be that since the Sun is probably the center of the Kerbal Universe (Kerbolocentric? Kopernikus? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E ), it lacks orbital parameters, hence it can\u0027t have an orbital velocity...\u003C/p\u003E\n"},{"CreatedByName":"NoPanShabuShabu","CreatedById":91327,"CreatedDateTime":"2014-11-07T00:55:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIMO, for working with numbers within an epsilon tolerance it occurs to me that it would be a very useful shorthand for kOS to supply people with a function that works like so:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif WITHIN( x, 5.0, 0.1) { stuff }.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich means \u0022is x nearly 5.0, within a tolerance of plus or minus 0.1?\u0022, and would be the same as this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif x \u0026gt;= (5.0-0.1) and x \u0026lt;= (5.0\u002B0.1) { stuff }.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlternately you could use:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif abs(x-5.0) \u0026gt;= 0.1 {stuff.}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEdit: I see Lorentz beat me to that one. I think it\u0027s pretty much the simplest way to go.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-07T01:30:51Z\u0022 title=\u002211/07/2014 01:30  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 7, 2014\u003C/time\u003E by NoPanShabuShabu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-11-07T01:06:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hitokiri\u0022 data-cite=\u0022Hitokiri\u0022\u003E\u003Cdiv\u003EThe code I put together had simple purpose - to be able to lunch SSTO without my interaction - so I can read my e-mails, be on forum here or do whatever else. If it will require to write my own controller from raw components than it is not something I can achieve in reasonable time - therefore defying the original purpose - save some time. :-)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you want a simple solution, MechJeb is probably a bit more suitable. Maybe \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/98270-WIP-Plugin-0-3-Flight-Computer-Fully-automated-flight-programmable-via-VPL\u0022 rel=\u0022external nofollow\u0022\u003EFlight Computer\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-07T01:08:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI may have time to look at this later tonight. I suspect it\u0027s got something to do with the Sun being a minimal CelestialBody that\u0027s missing a few things that other bodies have.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBug confirmed. Sun:Velocity:Orbit causes null reference exception.\u003C/p\u003E\u003Cp\u003EAnother technique that may work is to get Body2\u0027s position relative to Body1 (i.e. Duna:position - Kerbin:position), and then get the relative velocity between them (Duna:velocity:orbit - Kerbin:velocity:orbit). And from that work out if Body1 is traveling mostly toward Body2(VDOT between position and vel is positive) or away from Body2 (VDOT between position and vel is negative). Also take into account whether Body1 is the one in a lower orbit or if Body2 is the one in the lower orbit. From those you should be able to work out whether Body1 is behind or ahead of Body2. If the lower orbit body is behind the higher orbit body, it should be closing the distance. If the lower orbit body is ahead of the higher orbit body, it should be widening the distance.\u003C/p\u003E\n"},{"CreatedByName":"NoPanShabuShabu","CreatedById":91327,"CreatedDateTime":"2014-11-07T01:19:22Z","Content":"\n\u003Cp\u003ETo all those who were talking about finding the phase angle between planets, isn\u0027t this the simplest thing to do:\u003C/p\u003E\u003Cp\u003Eset PhaseAngle to duna:longitude - kerbin:longitude \u002B360.\u003C/p\u003E\u003Cp\u003EThat\u0027s using Kerbin as the starting point and Duna as the destination, you can substitute any bodies orbiting the same body. It\u0027s also ranging from 0 to 360. If you wanted it to be -180 to \u002B180 then add:\u003C/p\u003E\u003Cp\u003Eif PhaseAngle \u0026gt; 180 set PhaseAngle to PhaseAngle - 360.\u003C/p\u003E\n"},{"CreatedByName":"Bill Brasky","CreatedById":79914,"CreatedDateTime":"2014-11-07T01:21:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hitokiri\u0022 data-cite=\u0022Hitokiri\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThe code I put together had simple purpose - to be able to lunch SSTO without my interaction - so I can read my e-mails, be on forum here or do whatever else. If it will require to write my own controller from raw components than it is not something I can achieve in reasonable time - therefore defying the original purpose - save some time. :-)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just wanted to take a moment in light of this comment to reaffirm the modders\u0027 vision for kOS and thank them for their effort. \u003C/p\u003E\u003Cp\u003EThis mod made re-learning stuff like trigonometry and other math concepts I\u0027d totally forgotten fun and worth doing. Learning about PID controllers to write my own SSTO autopilot (with FAR installed) was probably the most rewarding challenge gaming has ever provided. I never cared about math in school and now I\u0027m a professional still struggling with it. My first kid is on the way, and I don\u0027t want to admit to him someday that I just don\u0027t understand math and programming. Thanks to you guys, I\u0027m taking my first real steps towards not having to (even if they \u003Cem\u003Eare\u003C/em\u003E lil baby steps).\u003C/p\u003E\u003Cp\u003ESo thank you, and don\u0027t compromise on the DIY aspect. If anything, cooked control should have its name changed to \u0027easy mode.\u0027\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-07T02:07:21Z\u0022 title=\u002211/07/2014 02:07  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 7, 2014\u003C/time\u003E by Bill Brasky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-11-07T03:19:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bill Brasky\u0022 data-cite=\u0022Bill Brasky\u0022\u003E\u003Cdiv\u003EThis mod made re-learning stuff like trigonometry and other math concepts I\u0027d totally forgotten fun and worth doing. Learning about PID controllers to write my own SSTO autopilot (with FAR installed) was probably the most rewarding challenge gaming has ever provided. I never cared about math in school and now I\u0027m a professional still struggling with it. My first kid is on the way, and I don\u0027t want to admit to him someday that I just don\u0027t understand math and programming. Thanks to you guys, I\u0027m taking my first real steps towards not having to (even if they \u003Cem\u003Eare\u003C/em\u003E lil baby steps).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETotally off topic, but what always motivates me is that I found out that Brian Cox had other interests when he was in school, just like me, and failed mathematics. Only through dedication and excercise he got to where he is now. I tend to remind myself of that when I am fed up with some problem that won\u0027t solve properly. And, of course, seeing the results immediately in a pretty intuitive way through kOS does not hurt either.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-07T04:07:22Z\u0022 title=\u002211/07/2014 04:07  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 7, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-07T08:28:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI\u0027ve wanted to leave it wonky so that people write their own controller from the raw components, but as it\u0027s the first thing people see, it\u0027s a big problem for the mod\u0027s reputation.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt the risk of sounding like a broken record, but as long as directions are as inaccessible as they are... \u003C/p\u003E\u003Cp\u003EAlso, my own SSTO ascent script is 8400 bytes @ 25bytes per line. When/If I ever come to terms with directions, I sincerely doubt that I can implement my own controller in less than 1600 bytes / 64 lines. Actually... even if kOS would give me useful directions in a single, one-line function, 64 lines for a controller seem quite tight.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-07T09:43:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EAt the risk of sounding like a broken record, but as long as directions are as inaccessible as they are... \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey are not inaccessable. The math for doing so, however, is quite wordy, and with the 10000b limit that\u0027s a problem.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, my own SSTO ascent script is 8400 bytes @ 25bytes per line. When/If I ever come to terms with directions, I sincerely doubt that I can implement my own controller in less than 1600 bytes / 64 lines. Actually... even if kOS would give me useful directions in a single, one-line function, 64 lines for a controller seem quite tight.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree that the limit is too small right now. I\u0027ve never been a fan of it. It was inherited from Nivekk\u0027s old code and I always thought it was a bit small. The ML compiler will help a little bit, in that you won\u0027t get penalized for proper commenting and whitespace and long names, but it can\u0027t entirely make the 10000b limit reasonable. It\u0027s still a problem and I\u0027d like to see it fixed by offering several scaled varieties of the CPU part - one that\u0027s large and heavy and small in storage early in the tech tree, and ones that are smaller in diameter but better at storage later in the parts tree.\u003C/p\u003E\u003Cp\u003EIn the meantime, if you don\u0027t like the limit you can always change it. It\u0027s in the part.cfg file for the SCS comptronix parts.\u003C/p\u003E\n"},{"CreatedByName":"SnappingTurtle","CreatedById":69795,"CreatedDateTime":"2014-11-07T12:02:34Z","Content":"\n\u003Cp\u003EWhat I\u0027ve found is that as long as you\u0027re craft has a suitable amount of torque (in all 3 axes) then lock steering is more than adequate for controlling a spacecrafts orientation. If not then you have to write a more complicated control mechanism. This makes it harder to share scripts between crafts without always using a more precise method than lock steering. This may not be so bad if/when user-defined functions are introduced.\u003C/p\u003E\u003Cp\u003ECan I request that vectors be given a unary - operator?\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-11-07T12:24:20Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003ESteven Mading\u003C/strong\u003E Thanks. Now the codes is 100%.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENoPanShabuShabu\u003C/strong\u003E That method gives sometimes very strange readings like 518.\u003C/p\u003E\u003Cp\u003EBTW:\u003C/p\u003E\u003Cp\u003Eis there a suffix for :Body with will give mi the radius of SOI of currently orbiting body? Something like Ship:Body:RadSOI? if not where can I propose that to the mod creator?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-07T12:49:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SnappingTurtle\u0022 data-cite=\u0022SnappingTurtle\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ECan I request that vectors be given a unary - operator?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI assume you want it to mean the same thing as (-1)*TheVector ?\u003C/p\u003E\u003Cp\u003ESeems reasonable to me. Added to the issues list as =\u0026gt; \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/341\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/341\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-07T13:04:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eis there a suffix for :Body with will give mi the radius of SOI of currently orbiting body? Something like Ship:Body:RadSOI? if not where can I propose that to the mod creator?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can remember asking for that ages ago when I was writing kOS scripts but wasn\u0027t helping develop it. I guess it never was implemented.\u003C/p\u003E\u003Cp\u003EOne of the arguments against providing it was that it\u0027s getting \u0022magic\u0022 data from the simulation, but I would argue that this isn\u0027t a fair argument for not including it because the fact that that information is even necessary in the first place is entirely due to an artifact of the simulation. One of the ways the simulation differs from reality is that the simulation will let you escape the gravity well at far less than escape velocity, because you\u0027ll escape by merely being higher than SOI radius. All the good math skills in the world won\u0027t help you figure out that your vessel will escape even though your orbit is still elliptical and not hyperbolic unless you have that SOI radius number from the simulation to know the point at which the simulation breaks from reality.\u003C/p\u003E\u003Cp\u003ESo, yeah it should exist =\u0026gt; \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/342\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/342\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-11-07T15:08:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIn the meantime, if you don\u0027t like the limit you can always change it. It\u0027s in the part.cfg file for the SCS comptronix parts.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat limit is bearable, IMO, the SSTO thing is far and away my largest script. Instructions/second, however,... but I\u0027d rather not tamper with the defaults. Should I ever share code, I want it to run on other people\u0027s kOS just as well or badly as it does on mine. (BTW: is there a place for code-sharing?).\u003C/p\u003E\u003Cp\u003EAs to kOS cooked controls and wobbliness: I\u0027ve only experienced resonance once, and that vessel would resonate even with stock SAS (I think that\u0027s in the nature of resonance). Most of the time, it\u0027s only a question of visible flutter. It may look ugly, or sometimes even scary, but is ultimately harmless. On top of that, it can largely be dealt with in assembly. I\u0027ve long since learned to build my craft such that kOS can handle them. Compared to writing my own controller, this was the path of least resistance.\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2014-11-07T22:33:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003E Instructions/second, however,... \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI had to increase my ipu. If I didn\u0027t, I was getting this weird error where kOS would try to run each line of my script twice (so it would run the launch, then try to run it again, then execute the circularize node, then try to execute a nonexistent node and fail).\u003C/p\u003E\u003Cp\u003EAll this talk of doing a PID controller made me look into it again just to figure out which are the part that are holding me back. Looks like my two biggest stumbling blocks are wrapping my head around the coordinate system, and code re-usability. I really miss being able to write a function once and just call it later. I have a couple ideas about how to use locks to do the same thing, but I\u0027ll have to see.\u003C/p\u003E\u003Cp\u003EI\u0027d also like to chime in on the storage size. I too find my self running out of space, but I don\u0027t like the idea of simply editing the config file to increase my capacity. I don\u0027t know how complicated this would be, but would it be possible to preset the structure of the multiple volume file system? I like the idea of simply adding additional storage from other kos modules. So one could hold the orbit insertion scripting, another module could hold a log file, and one dedicated to landing, all the while not requiring a connection back to Kerbin. I want to experiment a little with selective boot scripts this weekend to try and make this work, but the last time I tried to adjust the boot script execution I don\u0027t think it worked.\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-11-08T05:21:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hvacengi\u0022 data-cite=\u0022hvacengi\u0022\u003E\u003Cdiv\u003EI\u0027d also like to chime in on the storage size. I too find my self running out of space, but I don\u0027t like the idea of simply editing the config file to increase my capacity. I don\u0027t know how complicated this would be, but would it be possible to preset the structure of the multiple volume file system? I like the idea of simply adding additional storage from other kos modules. So one could hold the orbit insertion scripting, another module could hold a log file, and one dedicated to landing, all the while not requiring a connection back to Kerbin. I want to experiment a little with selective boot scripts this weekend to try and make this work, but the last time I tried to adjust the boot script execution I don\u0027t think it worked.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use ModuleManager configs to add kOS to stock cockpits and pods, and depending on the type, with more or less capacity. The basic command pod (mk1pod) and the external command chair are left without kOS. Also, you can use toggles and boot scripts to power off all kOS-equiped parts except one, rename them, and then power them back up. You could very well do this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Boot loader example\u003Cbr\u003E\u003Cbr\u003EAG9 OFF. // Action Group 9 is defined to cut power to all kOS parts except one...\u003Cbr\u003EWAIT 0.001.\u003Cbr\u003E\u003Cbr\u003ESET lvm TO LIST().\u003Cbr\u003ESET lvm:ADD TO \u0022root\u0022.\u003Cbr\u003ESET lvm:ADD TO \u0022var\u0022.\u003Cbr\u003ESET lvm:ADD TO \u0022ascent\u0022.\u003Cbr\u003ESET lvm:ADD TO \u0022orbit\u0022.\u003Cbr\u003ESET lvm:ADD TO \u0022reentry\u0022.\u003Cbr\u003E\u003Cbr\u003E// A workaround while the \u0022LIST VOLUMES IN foo\u0022 issue is resolved in the next update...\u003Cbr\u003ESET hdd TO 0.\u003Cbr\u003ESWITCH TO 1.\u003Cbr\u003ELIST PARTS IN shparts.\u003Cbr\u003EFOR part IN shparts {\u003Cbr\u003E  FOR mod IN PART:MODULES {\u003Cbr\u003E    IF mod = \u0022kOS.Module.kOSProcessor\u0022 {\u003Cbr\u003E      LOG \u0022RENAME VOLUME \u0022\u002B(hdd\u002B1)\u002B\u0022 TO \u0022\u002Blvm[hdd]\u002B\u0022.\u0022 TO lvmmap.\u003Cbr\u003E      SET hdd TO hdd\u002B1.\u003Cbr\u003E    }.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003EPRINT \u0022Number of kOS-CPUs: \u0022\u002Bhdd.\u003Cbr\u003ERUN lvmmap.\u003Cbr\u003EDELETE lvmmap.\u003Cbr\u003ELIST VOLUMES.\u003Cbr\u003E\u003Cbr\u003EAG9 ON.\u003Cbr\u003E\u003Cbr\u003E// Then copy your files to the correct volumes\u003Cbr\u003E\u003Cbr\u003ESWITCH TO Archive.\u003Cbr\u003ECOPY disp TO root.\u003Cbr\u003ECOPY staging TO ascent.\u003Cbr\u003ECOPY approach TO reentry.\u003Cbr\u003ECOPY chutes TO reentry.\u003Cbr\u003E// ... you get the idea.\u003Cbr\u003E\u003Cbr\u003ELIST VOLUMES. // confirm stuff has been copied...\u003Cbr\u003E\u003Cbr\u003EFOR hd IN lvm {\u003Cbr\u003E  SWITCH TO hd.\u003Cbr\u003E  LIST FILES.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003ESWITCH TO var.\u003Cbr\u003ELOG TIME:CALENDAR\u002B\u0022 \u0022\u002BTIME:CLOCK\u002B\u0022 Boot complete\u0022 TO syslog. // Here we write to our log-dedicated volume \u0022var\u0022.\u003Cbr\u003ESWITCH TO root.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd here\u0027s the Module Manager config I use ... I named it CMkOS.cfg and placed it in the kOS GameData directory...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[Mark1-2Pod]:HAS[@MODULE[ModuleCommand],!MODULE[kOSProcessor]]\u003Cbr\u003E{\u003Cbr\u003E        MODULE\u003Cbr\u003E        {\u003Cbr\u003E                name = kOSProcessor\u003Cbr\u003E                diskSpace = 7500\u003Cbr\u003E        }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*ockpit*]:HAS[@MODULE[ModuleCommand],!MODULE[kOSProcessor]]\u003Cbr\u003E{\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E        \tname = kOSProcessor\u003Cbr\u003E        \tdiskSpace = 7500\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*probe*]:HAS[@MODULE[ModuleCommand],!MODULE[kOSProcessor]]\u003Cbr\u003E{\u003Cbr\u003E        MODULE\u003Cbr\u003E        {\u003Cbr\u003E                name = kOSProcessor\u003Cbr\u003E                diskSpace = 2500\u003Cbr\u003E        }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleCommand],!MODULE[kOSProcessor]]\u003Cbr\u003E{                                                                                                                                                      \u003Cbr\u003E        MODULE                                                                                                                                         \u003Cbr\u003E        {                                                                                                                                              \u003Cbr\u003E                name = kOSProcessor\u003Cbr\u003E                diskSpace = 5000\u003Cbr\u003E        }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[mk1pod]\u003Cbr\u003E{\u003Cbr\u003E        -MODULE[kOSProcessor] {}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[seatExternalCmd]:Final\u003Cbr\u003E{\u003Cbr\u003E        -MODULE[kOSProcessor] {}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-08T05:29:58Z\u0022 title=\u002211/08/2014 05:29  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 8, 2014\u003C/time\u003E by Cairan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-11-08T19:51:02Z","Content":"\n\u003Cp\u003EHI!\u003C/p\u003E\u003Cp\u003EI was creating, a part of the code checking current Angle to prograde. Because my 3 point for checking the angle (prograde, kerbin, ship) are 3 different thing they don\u0027t share all the necessary suffixes. So i needed to get creative. So now im with a perfectly working code except one thing. the calculation is \u0022rotated\u0022 by 90\u00C3\u201A\u00C2\u00B0 so 0\u00C3\u201A\u00C2\u00B0 instead on being on prograde and retrograde is on the fairest and closest point from the sun. And i have no idea why.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset svx to ship:PROGRADE:YAW -sun:position:x.\u003Cbr\u003Eset svy to ship:PROGRADE:PITCH -sun:position:y.\u003Cbr\u003Eset svz to ship:PROGRADE:ROLL -sun:position:z.\u003Cbr\u003E\u003Cbr\u003Eset line3 to v(svx,svy,svz). \u003Cbr\u003Eset line4 to v((-1)*kerbin:position:x,(-1)*kerbin:position:y,(-1)*kerbin:position:z). \u003Cbr\u003Eset kat2 to vang(line3,line4).\u003Cbr\u003E if sun:DISTANCE \u0026lt; kerbinx:altitude\u002Bsun:radius {set kat21 to 360-kat2.} else {set kat21 to kat.}.\u003Cbr\u003E print kat21 at (6,4). print kat2 at (6,5).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEDIT: Problem eliminated.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\t\t\u003Cbr\u003Eset vpp to V(0,-100,0).  \u003Cbr\u003Eset svx to ship:PROGRADE:yaw -z:position:x.\u003Cbr\u003Eset svy to ship:PROGRADE:pitch -z:position:y.\u003Cbr\u003Eset svz to ship:PROGRADE:roll -z:position:z.\t\u003Cbr\u003E\u003Cbr\u003Eset line3 to v(svx,svy,svz).\u003Cbr\u003Eset line4 to v(x:position:x, x:position:y, x:position:z). \u003Cbr\u003Eset line6 to VCRS(line3, vpp).\u003Cbr\u003Eset kat2 to vang(line4,line6).\u003Cbr\u003E\u003Cbr\u003Eif z:DISTANCE \u0026lt; kal {set kat21 to 360-kat2.} else {set kat21 to kat2.}. print kat21 at (6,4).\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-09T15:09:27Z\u0022 title=\u002211/09/2014 03:09  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 9, 2014\u003C/time\u003E by Trewor007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ouch","CreatedById":76361,"CreatedDateTime":"2014-11-09T10:47:27Z","Content":"\n\u003Cp\u003ECan anyone target ships via script? it seems broken and I know some of my scripts used to work.\u003C/p\u003E\u003Cp\u003Efor instance:\u003C/p\u003E\u003Cp\u003Elist targets in targetobjects.\u003C/p\u003E\u003Cp\u003Eset target to targetobjects[0].\u003C/p\u003E\u003Cp\u003Efails with a vessel (ship) not found\u003C/p\u003E\u003Cp\u003Eeven a direct:\u003C/p\u003E\u003Cp\u003Eset target to vessel(\u0022Miner Vtol\u0022).\u003C/p\u003E\u003Cp\u003Ewill fail. However:\u003C/p\u003E\u003Cp\u003Eset target to body(\u0022Mun\u0022).\u003C/p\u003E\u003Cp\u003Ewill work just fine. Seems like something broke with ship targeting for me. Does anyone else have this problem?\u003C/p\u003E\u003Cp\u003Ealso, I remember I used to be able to switch ships and have kos run on the one I\u0027m not controlling. It seems to turn off telling me it\u0027s lost it\u0027s target. (I initially set it manually.) But if I go back the ship I targeted it still is...\u003C/p\u003E\n"}]}