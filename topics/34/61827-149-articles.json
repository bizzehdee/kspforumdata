{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":149,"Articles":[{"CreatedByName":"super_nova","CreatedById":155850,"CreatedDateTime":"2015-12-31T23:10:34Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003ECan you guys add \u0022;\u0022 as an alternative to \u0022.\u0022? It\u0027s really annying for me. First, I was typing \u0022;\u0022 at the end of lines while scripting with kOS but then I get used to it.\u00A0And now, I\u0027m typing \u0022.\u0022 even while coding C\u002B\u002B \u003C/span\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 style=\u0022line-height:1.6;\u0022 title=\u0022:P\u0022\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u00A0Pleaseeeeeeeeee\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-01-01T05:08:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222344031\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451603434\u0022 data-ipsquote-userid=\u0022155850\u0022 data-ipsquote-username=\u0022super_nova\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, super_nova said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003ECan you guys add \u0022;\u0022 as an alternative to \u0022.\u0022? It\u0027s really annying for me. First, I was typing \u0022;\u0022 at the end of lines while scripting with kOS but then I get used to it.\u00A0And now, I\u0027m typing \u0022.\u0022 even while coding C\u002B\u002B \u003C/span\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 style=\u0022line-height:1.6;\u0022 title=\u0022:P\u0022\u003E\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u00A0Pleaseeeeeeeeee\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem with allowing multiple syntaces to do the same thing just because you *can* is that eventually it leads to Perl, where trying to read someone else\u0027s code is a real pain because they\u0027re using one of the other 20 ways to write the same statement than the one you\u0027re familiar with.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not a fan of the period syntax either, but it predates my involvement in the mod and I dislike the practice of making multiple correct ways to do the same thing even more than I do the wonky period syntax.\u00A0 It gets out of hand very fast.\n\u003C/p\u003E\n"},{"CreatedByName":"kerboman25","CreatedById":156219,"CreatedDateTime":"2016-01-03T20:10:55Z","Content":"\n\u003Cp\u003E\nhello peeps i got a problem when working with kos when i make a program and i type \u0022lock throttle to 1. \u0022 my throttle would not even respond to it i don\u0027t know what to do it might just be a beginner mistake.\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2016-01-03T20:22:05Z","Content":"\n\u003Cp\u003E\nIf your program ends right after locking throttle - it will be unlocked back.\n\u003C/p\u003E\n\u003Cp\u003E\nOptions are:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nmake sure your program runs until some conditions are met (you can also use action groups and any other pilot inputs as such conditions to give you manual control)\n\u003C/li\u003E\n\u003Cli\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 1. //This will affect your throttle gauge directly.\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-03T21:54:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222347246\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451852525\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf your program ends right after locking throttle - it will be unlocked back.\n\u003C/p\u003E\n\u003Cp\u003E\nOptions are:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nmake sure your program runs until some conditions are met (you can also use action groups and any other pilot inputs as such conditions to give you manual control)\n\u003C/li\u003E\n\u003Cli\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 1. //This will affect your throttle gauge directly.\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt is not enough. If you don\u0027t want to end program, just one part of it, for example you have found optimal Throttle for desired acceleration and you want to print it on screen,\u003Cbr\u003E\nand return throttle to pilot without terminating the rest of script, you also need this:\n\u003C/p\u003E\n\u003Cp\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO my_value.\u003Cbr\u003E\nSET SHIP:CONTROL:NEUTRALIZE TO TRUE. // That is from kOS manual on github.\u003Cbr\u003E\u003Cbr\u003E\nThat will leave throttle to whatever position you have searched for (my_value) and it will return Throttle input controls to pilot while rest of script keeps runing.\n\u003C/p\u003E\n"},{"CreatedByName":"kerboman25","CreatedById":156219,"CreatedDateTime":"2016-01-04T09:58:44Z","Content":"\n\u003Cp\u003E\ni tried what you guys give me but the problem is that im working with RT mod so when i get over the distance of contact the ship\u0027s throttle becomes idle. It is realy frustrating to make just a ascent program that is able to launch a communication probe in an orbit using a mathmetical formula.\n\u003C/p\u003E\n\u003Cp\u003E\nwhat i have at the moment but doesn\u0027t work is\n\u003C/p\u003E\n\u003Cp\u003E\nSAS on.\u003Cbr\u003E\nRCS off.\u003Cbr\u003E\nlock throttle to 0.\n\u003C/p\u003E\n\u003Cp\u003E\nclearscreen.\n\u003C/p\u003E\n\u003Cp\u003E\nif SHIP:ALTITUDE \u0026lt; 100 {\u003Cbr\u003E\nset runmode to 1.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nif runmode = 1 {\u003Cbr\u003E\nprint \u00225\u0022.\u003Cbr\u003E\nwait 1.\u003Cbr\u003E\nprint \u00224\u0022.\u003Cbr\u003E\nwait 1.\u003Cbr\u003E\nprint \u00223\u0022.\u003Cbr\u003E\nstage.\u003Cbr\u003E\nwait 1.\u003Cbr\u003E\nprint \u00222\u0022.\u003Cbr\u003E\nwait 1.\u003Cbr\u003E\nprint \u00221\u0022.\u003Cbr\u003E\nset runmode to 2.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nif runmode = 2 {\u003Cbr\u003E\nlock throttle to 1.\u003Cbr\u003E\nlock steering to up.\u003Cbr\u003E\n\u00A0 \u00A0if SHIP:ALTITUDE \u0026gt;10000 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 lock throttle to 0.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 set runmode to 3.\u003Cbr\u003E\n\u00A0 \u00A0}\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-04T16:39:56Z","Content":"\n\u003Cp\u003E\nThere is lack of \u0022runmode=3\u0022, I suppose that should be \u0022idle\u0022 state when program does not have to do anything. If that is a case, then in this piece of code you missing mentioned commands.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nif runmode = 2 {\n  lock throttle to 1.\n  lock steering to up.\n   if SHIP:ALTITUDE \u0026gt;10000 {\n      lock throttle to 0.\n      set runmode to 3.\n      set SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\n      set SHIP:CONTROL:NEUTRALIZE TO TRUE. // That is from kOS manual on github.\n   }\n}\u003C/pre\u003E\n\u003Cp\u003E\nWhen you execute mode 2 and your ship reach needed altitude, engines would shut off, controls will be given back to pilot input and script will be continue to execute whatever you want in mode 3 (opening cargo bays, deploy antennas, scanners, solar panels, whatever you have planed to do)\n\u003C/p\u003E\n"},{"CreatedByName":"kerboman25","CreatedById":156219,"CreatedDateTime":"2016-01-04T19:21:34Z","Content":"\n\u003Cp\u003E\ni made a loop but the throttle stil goes to idle when i exceed the range of the antenna\u0027s\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthis is what i got what am i doing wrong?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSAS on.\u003Cbr\u003E\nRCS off.\u003Cbr\u003E\nlock throttle to 0.\n\u003C/p\u003E\n\u003Cp\u003E\nclearscreen.\n\u003C/p\u003E\n\u003Cp\u003E\nset targetaltitude to 20000.\n\u003C/p\u003E\n\u003Cp\u003E\nif ship:altitude \u0026lt; 100 {\u003Cbr\u003E\nset runmode to 1.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nuntil runmode = 0 {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if runmode = 1 {\u003Cbr\u003E\n\u00A0 print \u00225\u0022.\u003Cbr\u003E\n\u00A0 wait 1.\u003Cbr\u003E\n\u00A0 print \u00224\u0022.\u003Cbr\u003E\n\u00A0 wait 1.\u003Cbr\u003E\n\u00A0 print \u00223\u0022.\u003Cbr\u003E\n\u00A0 stage.\u003Cbr\u003E\n\u00A0 wait 1.\u003Cbr\u003E\n\u00A0 print \u00222\u0022.\u003Cbr\u003E\n\u00A0 wait 1.\u003Cbr\u003E\n\u00A0 print \u00221\u0022.\u003Cbr\u003E\n\u00A0 set runmode to 2.\u003Cbr\u003E\n\u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if runmode = 2 {\u003Cbr\u003E\n\u00A0 set throttle to 1.\u003Cbr\u003E\n\u00A0 set runmode to 3.\u003Cbr\u003E\n\u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if runmode = 3 {\u003Cbr\u003E\n\u00A0 \u00A0 if ship:apoapsis \u0026gt; targetaltitude {\u003Cbr\u003E\n\u00A0 \u00A0 set throttle to 0.\u003Cbr\u003E\n\u00A0 \u00A0 set runmode to 0.\u003Cbr\u003E\n\u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 }\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-04T20:11:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222348381\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451935294\u0022 data-ipsquote-userid=\u0022156219\u0022 data-ipsquote-username=\u0022kerboman25\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, kerboman25 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ni made a loop but the throttle stil goes to idle when i exceed the range of the antenna\u0027s\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthis is what i got what am i doing wrong?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if runmode = 3 {\u003Cbr\u003E\n\u00A0 \u00A0 if ship:apoapsis \u0026gt; targetaltitude {\u003Cbr\u003E\n\u00A0 \u00A0 set throttle to 0.\u003Cbr\u003E\n\u00A0 \u00A0 set runmode to 0.\u003Cbr\u003E\n\u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 }\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nChange that part of script with example below and try. I also still learning kOS, but described example worked for me.\u003Cbr\u003E\u003Cbr\u003E\n\u00A0 if runmode = 3 {\u003Cbr\u003E\n\u00A0 \u00A0 if ship:apoapsis \u0026gt; targetaltitude {\u003Cbr\u003E\n\u00A0 \u00A0 set throttle to 0.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 set SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\u003Cbr\u003E\n\u00A0\u00A0\u00A0 set SHIP:CONTROL:NEUTRALIZE TO TRUE. // That is from kOS manual on github.\u003Cbr\u003E\n\u00A0 \u00A0 set runmode to 0.\u003Cbr\u003E\n\u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently, I\u0027m messing around with hovering script. Thing that I\u0027m going to try next is that after whatever value for thtrottle is set I run mentioned commands before calling wait my_delay_value.\n\u003C/p\u003E\n\u003Cp\u003E\nThat should alow pilot to apply his own control input for throttle to override throttle set by hovering script in case of imediate danger - PID set throttle too low for some reason and you are on low altitude that might crash plane.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother step to insert into hovering script is to find out if throttle was changed by pilot instead of PID controller and stop script execution.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2016-01-04T22:35:41Z","Content":"\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nAfter upgrading the latest kOS from github (ksp 1.0.4) I started having the following error:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EMethod not found: \u0027GameVariables.UnlockedActionGroupsCustom\u0027.\nAt fdrill on archive, line 18\n      D:DOACTION(deployDrill,true).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis is the complete method that is failing:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\n\ndeclare function deploy {\n  print \u0022drill \u0022 at(2,3).\n\n  DECLARE DRILLS to SHIP:MODULESNAMED(\u0022ModuleAnimationGroup\u0022). // MKS drills\n\n  DECLARE deployDrill to \u0022Deploy Drill\u0022.\n  DECLARE drillCount to 0.\n  FOR D IN DRILLS {\n\n    if D:HASACTION(deployDrill) {\n      D:DOACTION(deployDrill,true).\n      set drillCount to drillCount\u002B1.\n    }\n  }\n\n  print (\u0022Found \u0022 \u002B drillCount \u002B \u0022 \u0022 \u002B \u0022undeployed drills\u0022) at (12,5).\n\n}\u003C/pre\u003E\n\u003Cp\u003E\nAny clues? Or this version simply cannot run on 1.0.4?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBTW I would be surprised if I have any issues with control groups this deep into the career.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-04T22:36:30Z\u0022 title=\u002201/04/2016 10:36  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 4, 2016\u003C/time\u003E by Qigon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2016-01-05T02:33:04Z","Content":"\n\u003Cp\u003E\nI need to make a simple script that can fly an upper stage to orbit in one burn. Or atleast get close to it. Its been awhile since ive used KoS so when I say simple I mean something like this.\n\u003C/p\u003E\n\u003Cp\u003E\nRCS on.\n\u003C/p\u003E\n\u003Cp\u003E\nLock throttle to 1.\n\u003C/p\u003E\n\u003Cp\u003E\nLock heading to 90.\n\u003C/p\u003E\n\u003Cp\u003E\nWait until periapsis \u0026gt; 100000\n\u003C/p\u003E\n\u003Cp\u003E\nLock throttle to 0.\n\u003C/p\u003E\n\u003Cp\u003E\n... simple. Lol. Problem is that might give me a very high apoapsis.\n\u003C/p\u003E\n\u003Cp\u003E\nKeep apoapsis \u0026lt; 100000\n\u003C/p\u003E\n\u003Cp\u003E\nIs such a line even possible?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2016-01-05T09:23:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222348624\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451946941\u0022 data-ipsquote-userid=\u0022141819\u0022 data-ipsquote-username=\u0022Qigon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Qigon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi,\n\u003C/p\u003E\n\u003Cp\u003E\nAfter upgrading the latest kOS from github (ksp 1.0.4) I started having the following error:\n\u003C/p\u003E\n\u003Cp\u003E\nAny clues? Or this version simply cannot run on 1.0.4?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere was a small change in KSP API between 1.0.4 and 1.0.5 resulting in this function failing if the plugin has been compilled for the other version. So, for 1.0.4 you either have to use kOS 0.18.1 or make your own recompile.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2016-01-05T19:36:57Z","Content":"\n\u003Cp\u003E\nWell... I be dammed...\n\u003C/p\u003E\n\u003Cp\u003E\nHyper-\u0027ventilated\u0027 a satellite into orbit as a target.. at an Inclination=55 and LAN=330.\n\u003C/p\u003E\n\u003Cp\u003E\nLaunch from KSC at the\u003Cem\u003E right time\u003C/em\u003E and try get the LAN and INC right... How easy it is to make math mistakes, not to mention programming yourself up the creek.\n\u003C/p\u003E\n\u003Cp\u003E\nButttt... a moment of brilliance ..tap tap tap.. and.. what can I Say :-)\n\u003C/p\u003E\n\u003Cp\u003E\n(Edt - Ignore the ship heading as it\u0027s programmed to Prograde at this moment - I just haven\u0027t updated the screen parameter.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022NIVy8Vl.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/NIVy8Vl.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-05T19:54:49Z\u0022 title=\u002201/05/2016 07:54  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 5, 2016\u003C/time\u003E by ColKlonk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2016-01-06T01:22:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222349147\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451985784\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere was a small change in KSP API between 1.0.4 and 1.0.5 resulting in this function failing if the plugin has been compilled for the other version. So, for 1.0.4 you either have to use kOS 0.18.1 or make your own recompile.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI could successfully upgrade all my critical mods and make it to 1.0.5 today, and it worked like a charm as you predicted.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMuch smooth, very awe. I love this mod.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-06T08:17:19Z","Content":"\n\u003Cp\u003E\nI\u0027m suprised how effective PID controller library can be. I couldn\u0027t find any mod that properly work with slow response engines like jets or KAX piston engines that need just enough throttle for hovering above ground purposes.\n\u003C/p\u003E\n\u003Cp\u003E\nI couldn\u0027t find good PID settings for throttle / alt:radar hower control - it simply oscilate too much to be good enough for hovering.\u003Cbr\u003E\nHowever, I was able to create stable hover with throttle/ship:verticalspeed combo. After that, I have used two PID controlers in combination.\u003Cbr\u003E\nOne to control hover trough ship vertical speed, and other that will give input for the first one for desired altitude over ground.\n\u003C/p\u003E\n\u003Cp\u003E\nIt might not be good for rapid changes of altitude over ground, but once craft is slow enough - already hovering over desired spot, it is quite useful for precise maneuver. Here is most important part of script, if someone need it:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nuntil AltHover = false\n\t{\n\t\t// Set desired Hovering Altitude trough Vertical Velocity speed instead directly trough throttle\n\t\tset seekVelocity to PID_seek( AltHoverPID, seekAlt, alt:radar).\n\t\t\n\t\t\n\t\tThrottleLimits(). // Recalculate Min/Max Throttle \n\t\tset VelHoverPID[3] to MinThrottle. // ~0.85 of TWR to prevent too high down velocity - crashing issue\n\t\tset VelHoverPID[4] to MaxThrottle. // ~1.2 of TWR to prevent too high up velocity - flipng issue\n\t\t\n\t\tset myThrottle to PID_seek( VelHoverPID, seekVelocity, ship:verticalspeed ).\n\t\t\n\t\tSET SHIP:CONTROL:PILOTMAINTHROTTLE TO myThrottle.\n\t\tSET SHIP:CONTROL:NEUTRALIZE TO TRUE.\n\t\tdisplay_block(1,8).\n\t\t// For Low response engines, like Jets and KAX piston wait time can be higher than for rockets\n\t\twait 0.5. // Pilot can set his own throttle inside 0.5 sec time frame between two PID adjustments\n\t}.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nInstead of using lock throttle command, I have used pilotmainthrottle command. That and sligtly larger delay time between two iteration of script allows pilot to override throttle inside that 0.5 sec timeframe - taping \u0022Z\u0022 or \u0022X\u0022 for example to provoke PID controll to quicker response or prevent crashing if down speed is still too high.\n\u003C/p\u003E\n\u003Cp\u003E\nI would like to improve this script further, so instead of main throttle on all engines, I would like to alter only engines that have vertical thrust.\u003Cbr\u003E\nI know to list all ship engines, but how to detect engines that point thrust down ?\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2016-01-06T11:14:24Z","Content":"\n\u003Cp\u003E\nMaybe I\u0027m blind.. but I haven\u0027t seen a way to abort a program once running.\n\u003C/p\u003E\n\u003Cp\u003E\nIOW.. stop program, but keep ship going without KOS control ?\n\u003C/p\u003E\n\u003Cp\u003E\nI thought something like keystrokes Ctl\u002BEsc...etc\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2016-01-06T12:08:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222350587\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452078864\u0022 data-ipsquote-userid=\u0022137078\u0022 data-ipsquote-username=\u0022ColKlonk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n50 minutes ago, ColKlonk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe I\u0027m blind.. but I haven\u0027t seen a way to abort a program once running.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCtrl\u002BC\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2016-01-06T16:30:52Z","Content":"\n\u003Cp\u003E\nah! .. thanks.\n\u003C/p\u003E\n"},{"CreatedByName":"gh7531","CreatedById":117757,"CreatedDateTime":"2016-01-06T17:23:22Z","Content":"\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cp\u003E\nWhile trying to write an autopilot for launching a rocket I\u0027ve got this error.\u003Cbr\u003E\u003Ca href=\u0022https://cloud.githubusercontent.com/assets/9028609/12095156/273fa5f6-b30d-11e5-85ed-32d1fabb5b15.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022screenshot2\u0022 src=\u0022https://cloud.githubusercontent.com/assets/9028609/12095156/273fa5f6-b30d-11e5-85ed-32d1fabb5b15.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt appears while loading a custom lib written by me that contains all the functions of the script. Since there isn\u0027t a line of code that causes the error I\u0027m not able to tell where it stoped working, The last thing I was working on was to regulate the throttle by looking at the TWR. --\u0026gt; function limitTWR and function startGravityturn.\n\u003C/p\u003E\n\u003Cp\u003E\nSince this is one of my first scripts I probably did something horrible wrong and it\u0027s all my fault. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere are my two files that caused the Error:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77464/launch003.ks.txt\u0022 rel=\u0022external nofollow\u0022\u003Elaunch003.ks.txt\u003C/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77465/lib_launch.ks.txt\u0022 rel=\u0022external nofollow\u0022\u003Elib_launch.ks.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand here is the output_log:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77466/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone tell me what caused the error? I\u0027ve already created a issue on github since the log tells me to do so but maybe someone here can help me too.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for your help and greetings from Germany\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2016-01-07T11:28:42Z","Content":"\n\u003Cp\u003E\nTo the author of kOS:\u003Cbr\u003E\nA new structure about control view. Rotation and far/near.\u003Cbr\u003E\nWould you add a such structure into new version kOS?\u003Cbr\u003E\nThen in some cases, the players can say goodbye to mouse wheel.\u003Cbr\u003E\nThanks.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-01-07T17:00:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222350949\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452101002\u0022 data-ipsquote-userid=\u0022117757\u0022 data-ipsquote-username=\u0022gh7531\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, gh7531 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cp\u003E\nWhile trying to write an autopilot for launching a rocket I\u0027ve got this error.\u003Cbr\u003E\u003Ca href=\u0022https://cloud.githubusercontent.com/assets/9028609/12095156/273fa5f6-b30d-11e5-85ed-32d1fabb5b15.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022screenshot2\u0022 src=\u0022https://cloud.githubusercontent.com/assets/9028609/12095156/273fa5f6-b30d-11e5-85ed-32d1fabb5b15.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt appears while loading a custom lib written by me that contains all the functions of the script. Since there isn\u0027t a line of code that causes the error I\u0027m not able to tell where it stoped working, The last thing I was working on was to regulate the throttle by looking at the TWR. --\u0026gt; function limitTWR and function startGravityturn.\n\u003C/p\u003E\n\u003Cp\u003E\nSince this is one of my first scripts I probably did something horrible wrong and it\u0027s all my fault. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere are my two files that caused the Error:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77464/launch003.ks.txt\u0022 rel=\u0022external nofollow\u0022\u003Elaunch003.ks.txt\u003C/a\u003E\u003Cbr\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77465/lib_launch.ks.txt\u0022 rel=\u0022external nofollow\u0022\u003Elib_launch.ks.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand here is the output_log:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/files/77466/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone tell me what caused the error? I\u0027ve already created a issue on github since the log tells me to do so but maybe someone here can help me too.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for your help and greetings from Germany\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI saw your github issue but it came at a time when we just were working in that area of the code and testing to recreate it is a pain. \u00A0I\u0027ll try it tonight (I\u0027m in UTC-5 so that will be a while yet) and see what I can find out.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2016-01-07T17:22:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222352009\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452166122\u0022 data-ipsquote-userid=\u0022117170\u0022 data-ipsquote-username=\u0022Lookerksy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Lookerksy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo the author of kOS:\u003Cbr\u003E\nA new structure about control view. Rotation and far/near.\u003Cbr\u003E\nWould you add a such structure into new version kOS?\u003Cbr\u003E\nThen in some cases, the players can say goodbye to mouse wheel.\u003Cbr\u003E\nThanks.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe\u0027ve thought about this before, but there is some debate among the kOS developers as to whether or not this would be outside the remit of kOS. \u00A0I\u0027d like to be able to draw the line somewhere between \u0022what kOS does do\u0022 and \u0022what kOS doesn\u0027t do\u0022, so we don\u0027t end up turning an already kind-of-large\u00A0mod into something\u00A0so large it\u0027s just as big as the base game\u00A0itself is and we don\u0027t have the ability to deal with it in our spare time.\u00A0\u00A0We agree that there should be such a line, but not on exactly where that line is. \u00A0Camera controls may or may not fall\u00A0beyond that line. \u00A0They\u0027re not autopiloting, but then again they are part of the player experience while watching the autopilot.\n\u003C/p\u003E\n"},{"CreatedByName":"gh7531","CreatedById":117757,"CreatedDateTime":"2016-01-07T18:21:45Z","Content":"\n\u003Cp\u003E\nThanks for your response \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I updated the GitHub issue since I maybe found the problem.\n\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2016-01-07T23:14:29Z","Content":"\n\u003Cp\u003E\nI feel I\u0027m overcomplicating something,\n\u003C/p\u003E\n\u003Cp\u003E\nHow do I get the compass heading of an airplane as a scalar? I\u0027m doing vang with facing and north, but this always gives me a \u0022small\u0022 positive number. I\u0027d like something that returns -1 when pointing to 359 degrees, or at least something equivalent.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2016-01-07T23:47:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222352648\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452208469\u0022 data-ipsquote-userid=\u0022141819\u0022 data-ipsquote-username=\u0022Qigon\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, Qigon said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI feel I\u0027m overcomplicating something,\n\u003C/p\u003E\n\u003Cp\u003E\nHow do I get the compass heading of an airplane as a scalar? I\u0027m doing vang with facing and north, but this always gives me a \u0022small\u0022 positive number. I\u0027d like something that returns -1 when pointing to 359 degrees, or at least something equivalent.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHave you tried navball orientation library from \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/library.html\u0022 rel=\u0022external nofollow\u0022\u003Ecommunity examples\u003C/a\u003E ? Try provided library with example, it is simple to use and understand.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you realy need -1 you can always use 360 miunus pointing value.\n\u003C/p\u003E\n"}]}