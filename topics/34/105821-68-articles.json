{"TopicId":105821,"ForumId":34,"TopicTitle":"[1.6.x] RasterPropMonitor - Development Stopped (v0.30.6, 29 December 2018)","CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2015-04-28T23:11:44Z","PageNum":68,"Articles":[{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-10-03T09:37:02Z","Content":"Hello [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/)\n\nif I see that all correctly, in that screenshot both MFDs are the \u0022ALCORMFD60x30\u0022 and they have \u0022screenPixelWidth = 960\u0022 and \u0022screenPixelHeight = 1024\u0022.  \n\nThe interesting thing is, that the \u0022map\u0022 is OK, but only the \u0022ore overlay\u0022 seems not scaled properly.  \n\nHere I wonder, if \u0022map\u0022 and \u0022ore overlay\u0022 are two different images/information, that RPM gets from scansat and RPM combines them, or if RPM just requests a \u0022map with ore overlay\u0022 and scansat combines them and delivers it as one image/information.\n\nNo need for a sorry, it\u0027s not a deal breaker. Much thanks for all your work with RPM. It\u0027s great. I really love it.  \n\nIt just has a litte performance impact on my highly modded install, but that\u0027s the way it is. BTW, are there hints where one can lower the performance impact a little? Maybe change the refresh rate or such things? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nBR  \n\nJebs\n\n**Edited \u003Ctime datetime=\u00222017-10-03T09:37:22Z\u0022 title=\u002210/03/2017 09:37  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 3, 2017\u003C/time\u003E by Jebs\\_SY**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-03T17:20:25Z","Content":"RPM is not involved with the overlay at all.  The way SCANsat\u0027s RPM interface works (and the way Vessel Viewer and DPAI work, as well), is that there is an interface DLL included in the mod.  That interface DLL provides an entry point for RPM to call, as specified in the MFD\u0027s config file (in the SCANsat case, method = MapRenderer).  RPM says, \u0022Hey, draw whatever you\u0027re going to draw on this\u0022, and it displays those contents with no additional processing (other than possibly drawing text over it).\n\nWithout looking at what SCANsat\u0027s RPM DLL is doing, it\u0027s hard to say why the ore overlay is messed up.  It\u0027s possible, since the MFD\u0027s dimensions are both non-square, and non-640x640, that there are some assumptions in the DLL that are incorrect, but that\u0027s speculation on my part.\n\nYou can change the refresh rate of the MFD by changing refreshDrawRate, refreshTextRate, and refreshDataRate in the MFD\u0027s config, but that will make the MFD update slower than it already does (less frequent updates, so data will become stale quicker)."},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-10-05T06:31:19Z","Content":"Hello [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/)\n\nOK, thank you very much. Wouldn\u0027t that mean, that when the overlay is correct on Page1 on MFD-Type-A, but incorrect streched on Page2 on MFD-Type-A (same MFD Type) that is then only can be a scansat-rpm-DLL issue?  \n\nI mean it\u0027s correct on one page, but incorrect on another page on the same MFD type.\n\nBR  \n\nJebs"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-05T13:08:17Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Jebs\\_SY said:\n\u003E \n\u003E \n\u003E Hello [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E OK, thank you very much. Wouldn\u0027t that mean, that when the overlay is correct on Page1 on MFD-Type-A, but incorrect streched on Page2 on MFD-Type-A (same MFD Type) that is then only can be a scansat-rpm-DLL issue?  \n\u003E \n\u003E I mean it\u0027s correct on one page, but incorrect on another page on the same MFD type.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E BR  \n\u003E \n\u003E Jebs\n\u003E \n\nI took a look at the configs for the two scansat pages in that prop.  One page uses startLine/stopLine, but the other does not.  There are also different zoomModifiers.  The issue is either that there\u0027s a problem with the specific settings in one of these pages (possible), or that the DLL is not correctly handling some of those values.  Since resource overlays are a newer feature in SCANsat (compared to the RPM DLL), I would suspect that\u0027s where the issue is."},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2017-10-06T17:05:28Z","Content":"[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) [@Jebs_SY](https://forum.kerbalspaceprogram.com/index.php?/profile/169510-jebs_sy/) I think the issue is that the ALCOR MFD\u0027s in question just haven\u0027t been added to SCANsat\u0027s list of \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches. These non-standard screens require some changes to make sure the map is only drawn on the correct part of the screen. I\u0027m updating SCANsat soon, so I can just add in or fix patches for any extra ALCOR MFD\u0027s."},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-06T20:30:36Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, DMagic said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) [@Jebs_SY](https://forum.kerbalspaceprogram.com/index.php?/profile/169510-jebs_sy/) I think the issue is that the ALCOR MFD\u0027s in question just haven\u0027t been added to SCANsat\u0027s list of \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches. These non-standard screens require some changes to make sure the map is only drawn on the correct part of the screen. I\u0027m updating SCANsat soon, so I can just add in or fix patches for any extra ALCOR MFD\u0027s.\n\u003E \n\n[@alexustas](https://forum.kerbalspaceprogram.com/index.php?/profile/78632-alexustas/) is actively working on the props in question, so if it\u0027s a case of fixing the config file, it may be worthwhile to contact him and provide the changes needed, so that they\u0027re updated to the current SCANsat requirements."},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-10-06T23:59:12Z","Content":"[@DMagic](https://forum.kerbalspaceprogram.com/index.php?/profile/57416-dmagic/) [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) [@alexustas](https://forum.kerbalspaceprogram.com/index.php?/profile/78632-alexustas/)\n\nIt\u0027s not a game breaker, so if it\u0027s to hard to find, we maybe should let it be.  \n\nBut because I started it, I still wanna give the latest information I found.\n\n-It\u0027s not related to ALCOR only. It happens with the ASET props. They are used by (f.e. the MK1-2 pod IVA and also by ALCOR).  \n\n-Removing \u0022SCANsat\\MM\\_Parts\\MFDPatches.cfg\u0022 doesn\u0027t change anything (I thing because ASET already uses these value).  \n\n-If someone want\u0027s to debug it, one needs 1.3.0-Vanilla \u002B Scansat18 \u002B MK1-2IVAReplacement0.2 \u002B RPM0.29 (and I suggest \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E MKS for more resource layers to compare)\n\nI made one more screenshot set, where you can see the problem. However, just if anyone is interested. I can live with it, so this is not a fix request. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) o/\n\n![ICpSY5g.png](https://i.imgur.com/ICpSY5g.png)\n\n![p4CcvOU.png](https://i.imgur.com/p4CcvOU.png)\n\n![cSM7kXT.png](https://i.imgur.com/cSM7kXT.png)\n\n![vPZwFvd.png](https://i.imgur.com/vPZwFvd.png)\n\nBR  \n\nJebs"},{"CreatedByName":"/dev/urandom","CreatedById":181606,"CreatedDateTime":"2017-10-07T17:47:23Z","Content":"Some Mk1 Cockpit elements are positioned wrong after installing mod.\n\n1. Verified Steam cache (build 1.3.1.1891, x64).\n\n2. Cleaned GameData folder (except \u0022Squad\u0022 subfolder).\n\n3. Installed RasterPropMonitor0.29.0, ModuleManager-2.8.1.\n\n4. Restarted scenario \u0022Refuel at Minmus\u0022.\n\n5. Switched view to in-cockpit (\u0022C\u0022 key).\n\n6. Looked left.\n\nResult:\n\nSpoiler\n\nHatch doors are rotated:\n\n![6MgvnmF.jpg](https://i.imgur.com/6MgvnmF.jpg)\n\n![Hayz1Bb.jpg](https://i.imgur.com/Hayz1Bb.jpg)\n\nUnexpected texture is shown.\n\n![p3PpLBJ.jpg](https://i.imgur.com/p3PpLBJ.jpg)\n\nDisplay is rotated too:\n\n![X1VK10U.jpg](https://i.imgur.com/X1VK10U.jpg)\n\n**Edited \u003Ctime datetime=\u00222017-10-07T17:55:37Z\u0022 title=\u002210/07/2017 05:55  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 7, 2017\u003C/time\u003E by /dev/urandom**\n  \nAfter deleting album on image hosting attachments disappeared from post, reuploaded it"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-09T12:47:46Z","Content":"Does anybody know if this works in 1.3.1?  \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E still says 1.3.0\n\nThanks"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-09T13:31:51Z","Content":"\u003E \n\u003E \n\u003E 42 minutes ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E Does anybody know if this works in 1.3.1?  \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E still says 1.3.0\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks\n\u003E \n\nRPM v0.29.0 appears to work in 1.3.1, but it turns out I had a couple of commits sitting on my local drive, so I\u0027ve released v0.29.1.  The only changes are a possible NRE fix in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E when certain mods are used, and support for filtering Relay vessels in the MFD target menu."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-09T14:13:35Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, MOARdV said:\n\u003E \n\u003E \n\u003E RPM v0.29.0 appears to work in 1.3.1, but it turns out I had a couple of commits sitting on my local drive, so I\u0027ve released v0.29.1.  The only changes are a possible NRE fix in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E when certain mods are used, and support for filtering Relay vessels in the MFD target menu.\n\u003E \n\nThe .version file is somewhat wrong, it says both KSP version of 1.3.1, and then a KSP\\_verion\\_min of 1.3.0, it also has a trailing comma which fails JSON checks.\n\nI\u0027ve seen some odd behaviour from both \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E (I know you don\u0027t support it) and AVC when there is both a KSP\\_VERSION and a KSP\\_VERSION\\_MIN\n\nCan I suggest the following as a fix:\n\n    {\n      \u0022NAME\u0022: \u0022RasterPropMonitor\u0022,\n      \u0022URL\u0022: \u0022https://raw.githubusercontent.com/Mihara/RasterPropMonitor/master/GameData/JSI/RasterPropMonitor/RasterPropMonitor.version\u0022,\n      \u0022DOWNLOAD\u0022: \u0022https://github.com/Mihara/RasterPropMonitor/releases\u0022,\n      \u0022VERSION\u0022: {\n        \u0022MAJOR\u0022: 0,\n        \u0022MINOR\u0022: 29,\n        \u0022PATCH\u0022: 1\n      },\n      \u0022KSP_VERSION_MIN\u0022: {\n        \u0022MAJOR\u0022: 1,\n        \u0022MINOR\u0022: 3,\n        \u0022PATCH\u0022: 0\n      },\n      \u0022KSP_VERSION_MAX\u0022: {\n        \u0022MAJOR\u0022: 1,\n        \u0022MINOR\u0022: 3,\n        \u0022PATCH\u0022: 1\n      }\n    }"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-09T15:36:19Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E The .version file is somewhat wrong, it says both KSP version of 1.3.1, and then a KSP\\_verion\\_min of 1.3.0, it also has a trailing comma which fails JSON checks.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027ve seen some odd behaviour from both \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E (I know you don\u0027t support it) and AVC when there is both a KSP\\_VERSION and a KSP\\_VERSION\\_MIN\n\u003E \n\nSure, I can update it.  I wasn\u0027t aware that AVC didn\u0027t like that construct."},{"CreatedByName":"maja","CreatedById":168379,"CreatedDateTime":"2017-10-09T15:42:05Z","Content":"[@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/) [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) From online KSP AVC Readme ( [http://ksp.cybutek.net/kspavc/Documents/README.htm](http://ksp.cybutek.net/kspavc/Documents/README.htm) ):\n\nKSP\\_VERSION - Optional, Required for MIN/MAX  \n\nVersion of KSP that the add-on was made to support.\n\nKSP\\_VERSION\\_MIN - Optional  \n\nMinimum version of KSP that the add-on supports.  \n\nRequires KSP\\_VERSION field to work.\n\nKSP\\_VERSION\\_MAX - Optional  \n\nMaximum version of KSP that the add-on supports.  \n\nRequires KSP\\_VERSION field to work."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-09T15:44:32Z","Content":"\u003E \n\u003E \n\u003E Just now, maja said:\n\u003E \n\u003E \n\u003E [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/) [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) From online KSP AVC Readme ( [http://ksp.cybutek.net/kspavc/Documents/README.htm](http://ksp.cybutek.net/kspavc/Documents/README.htm) ):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION - Optional, Required for MIN/MAX  \n\u003E \n\u003E Version of KSP that the add-on was made to support.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION\\_MIN - Optional  \n\u003E \n\u003E Minimum version of KSP that the add-on supports.  \n\u003E \n\u003E Requires KSP\\_VERSION field to work.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION\\_MAX - Optional  \n\u003E \n\u003E Maximum version of KSP that the add-on supports.  \n\u003E \n\u003E Requires KSP\\_VERSION field to work.\n\u003E \n\nI know what it says, but I\u0027ve seen cases where, when KSP\\_VERSION is specified, the MIN and MAX are ignored.  I suppose it\u0027s possible that if the KSP\\_VERSION doesn\u0027t equal one of the other two, that it gets ignored.\n\nI\u0027ll have to take a dive into the code later"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-09T16:41:42Z","Content":"\u003E \n\u003E \n\u003E 56 minutes ago, maja said:\n\u003E \n\u003E \n\u003E [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/) [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) From online KSP AVC Readme ( [http://ksp.cybutek.net/kspavc/Documents/README.htm](http://ksp.cybutek.net/kspavc/Documents/README.htm) ):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION - Optional, Required for MIN/MAX  \n\u003E \n\u003E Version of KSP that the add-on was made to support.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION\\_MIN - Optional  \n\u003E \n\u003E Minimum version of KSP that the add-on supports.  \n\u003E \n\u003E Requires KSP\\_VERSION field to work.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP\\_VERSION\\_MAX - Optional  \n\u003E \n\u003E Maximum version of KSP that the add-on supports.  \n\u003E \n\u003E Requires KSP\\_VERSION field to work.\n\u003E \n\nThat\u0027s most likely where I got the format I used.  It\u0027s been a few years since I added those fields.  [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/), please let me know what you find in the AVC code.  I\u0027ve already pushed your recommended change to GitHub, so if that\u0027s going to cause grief with AVC, I\u0027d like to revert it (other than the spurious comma that was in there)."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-09T16:42:36Z","Content":"\u003E \n\u003E \n\u003E Just now, MOARdV said:\n\u003E \n\u003E \n\u003E That\u0027s most likely where I got the format I used.  It\u0027s been a few years since I added those fields.  [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/), please let me know what you find in the AVC code.  I\u0027ve already pushed your recommended change to GitHub, so if that\u0027s going to cause grief with AVC, I\u0027d like to revert it (other than the spurious comma that was in there).\n\u003E \n\nIt shouldn\u0027t, but I\u0027ll look at it now.\n\nThanks"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-09T16:53:07Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, MOARdV said:\n\u003E \n\u003E \n\u003E That\u0027s most likely where I got the format I used.  It\u0027s been a few years since I added those fields.  [@linuxgurugamer](https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/), please let me know what you find in the AVC code.  I\u0027ve already pushed your recommended change to GitHub, so if that\u0027s going to cause grief with AVC, I\u0027d like to revert it (other than the spurious comma that was in there).\n\u003E \n\nOk, from what I see in the code, ~~KSP\\_VERSION is not required for the min or max to work. It\u0027s optional from what I can tell, essentially you need at least one of them set.~~\n\nHere is the important code, it\u0027s duplicated in both the full AVC and  Mini-AVC:\n\n    public bool IsCompatible\n    {get { return IsCompatibleKspVersion || ((kspVersionMin != null || kspVersionMax != null) \u0026\u0026 IsCompatibleKspVersionMin \u0026\u0026 IsCompatibleKspVersionMax); }\n    }\n    \n    public bool IsCompatibleKspVersion\n    {get { return Equals(KspVersion, actualKspVersion); }\n    }\n    \n    public bool IsCompatibleKspVersionMax\n    {get { return KspVersionMax \u003E= actualKspVersion; }\n    }\n    \n    public bool IsCompatibleKspVersionMin\n    {get { return KspVersionMin \u003C= actualKspVersion; }\n    }\n\nI found the following:\n\n     public bool IsUpdateAvailable\n            {\n                get { return this.IsProcessingComplete \u0026\u0026 \n                        this.LocalInfo.Version != null \u0026\u0026 \n                        this.RemoteInfo.Version != null \u0026\u0026 \n                        this.RemoteInfo.Version \u003E this.LocalInfo.Version \u0026\u0026 \n                        this.RemoteInfo.IsCompatibleKspVersion \u0026\u0026 \n                        this.RemoteInfo.IsCompatibleGitHubVersion; }\n            }\n\nwhich seems to indicate that the KSP\\_VERSION actually IS necessary.  But I\u0027m wondering if this is a bug.\n\nI\u0027d say for now, put it back, but I\u0027m going to contact [@cybutek](https://forum.kerbalspaceprogram.com/index.php?/profile/32393-cybutek/) about it\n\n**Edited \u003Ctime datetime=\u00222017-10-09T16:57:45Z\u0022 title=\u002210/09/2017 04:57  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 9, 2017\u003C/time\u003E by linuxgurugamer**"},{"CreatedByName":"snakeru","CreatedById":171857,"CreatedDateTime":"2017-10-10T07:03:32Z","Content":"Hi. I have a question about RPM MFDs and their function without the energy. In my ship designs it sometimes happens that energy is being consumed all the time and then, eventually, runs out.  \n\nMFDs at this point freeze and stop updating.\n\nThat would have been OK, if not that other thing - my kerbal pilots often have 100% stupidity. They keep staring dumbly at non-updating monitors and keep playing with time speed up/down buttons to figure out what went wrong. And when they finally decide to take a look out of the window - it\u0027s already too late to make this \u0022High over the Mun\u0022 report and time to write down the \u0022Low over the Mun\u0022 one. Or better yet, stage and transition directly into landing sequence.\n\nWhat setting should I tweak to make monitors go OFF when there is no more energy?\n\n**Edited \u003Ctime datetime=\u00222017-10-10T07:20:30Z\u0022 title=\u002210/10/2017 07:20  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 10, 2017\u003C/time\u003E by snakeru**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-10T12:59:23Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, snakeru said:\n\u003E \n\u003E \n\u003E Hi. I have a question about RPM MFDs and their function without the energy. In my ship designs it sometimes happens that energy is being consumed all the time and then, eventually, runs out.  \n\u003E \n\u003E MFDs at this point freeze and stop updating.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E That would have been OK, if not that other thing - my kerbal pilots often have 100% stupidity. They keep staring dumbly at non-updating monitors and keep playing with time speed up/down buttons to figure out what went wrong. And when they finally decide to take a look out of the window - it\u0027s already too late to make this \u0022High over the Mun\u0022 report and time to write down the \u0022Low over the Mun\u0022 one. Or better yet, stage and transition directly into landing sequence.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E What setting should I tweak to make monitors go OFF when there is no more energy?\n\u003E \n\nIT looks like that is a bug.  The monitors by default are supposed to go blank when power is out, but there\u0027s some code that currently bypasses the blanking and simply causes it to freeze, instead."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2017-10-10T13:04:09Z","Content":"\u003E \n\u003E \n\u003E 20 hours ago, linuxgurugamer said:\n\u003E \n\u003E \n\u003E Ok, from what I see in the code, ~~KSP\\_VERSION is not required for the min or max to work. It\u0027s optional from what I can tell, essentially you need at least one of them set.~~\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here is the important code, it\u0027s duplicated in both the full AVC and  Mini-AVC:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     public bool IsCompatible\n\u003E     {get { return IsCompatibleKspVersion || ((kspVersionMin != null || kspVersionMax != null) \u0026\u0026 IsCompatibleKspVersionMin \u0026\u0026 IsCompatibleKspVersionMax); }\n\u003E     }\n\u003E     \n\u003E     public bool IsCompatibleKspVersion\n\u003E     {get { return Equals(KspVersion, actualKspVersion); }\n\u003E     }\n\u003E     \n\u003E     public bool IsCompatibleKspVersionMax\n\u003E     {get { return KspVersionMax \u003E= actualKspVersion; }\n\u003E     }\n\u003E     \n\u003E     public bool IsCompatibleKspVersionMin\n\u003E     {get { return KspVersionMin \u003C= actualKspVersion; }\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I found the following:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E      public bool IsUpdateAvailable\n\u003E             {\n\u003E                 get { return this.IsProcessingComplete \u0026\u0026 \n\u003E                         this.LocalInfo.Version != null \u0026\u0026 \n\u003E                         this.RemoteInfo.Version != null \u0026\u0026 \n\u003E                         this.RemoteInfo.Version \u003E this.LocalInfo.Version \u0026\u0026 \n\u003E                         this.RemoteInfo.IsCompatibleKspVersion \u0026\u0026 \n\u003E                         this.RemoteInfo.IsCompatibleGitHubVersion; }\n\u003E             }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E which seems to indicate that the KSP\\_VERSION actually IS necessary.  But I\u0027m wondering if this is a bug.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027d say for now, put it back, but I\u0027m going to contact [@cybutek](https://forum.kerbalspaceprogram.com/index.php?/profile/32393-cybutek/) about it\n\u003E \n\nI\u0027ve definitely confirmed that there is a bug in AVC. I\u0027ve posted on the thread and sent a PR to [@cybutek](https://forum.kerbalspaceprogram.com/index.php?/profile/32393-cybutek/) to fix it.\n\nI hope he fixes it soon."},{"CreatedByName":"Ser","CreatedById":104207,"CreatedDateTime":"2017-10-11T07:15:26Z","Content":"Hello, people.\n\nIs there a way to edit custom variables with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch?\n\nHere\u0027s what I mean:\n\nAs I see, any RPM variable definition is just a plain config. So it looks like it could be edited with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch.\n\nI have a part and I want the ASET props to properly display its EC output. The best way is to add it to a certain ASET custom variable. I\u0027ve tried the following approach:\n\n    RPMCVARIABLEHANDLER //Define my own variable that is supplied by a PartModule\n    {\n        name = MyRPMVariableHandler\n        method = processRPMVariable\n        variable = MY_HANDLER_VARIABLE,0,false\n    }\n    \n    @RPM_CUSTOM_VARIABLE[ALCOR_FUELCELL_OUTPUT] //Rename the existing variable\n    {\n       @name = ALCOR_FUELCELL_OUTPUT_RENAMED\n    }\n    \n    RPM_MATH_VARIABLE //Replace the old variable with my value added\n    {name = ALCOR_FUELCELL_OUTPUToperator = ADDsourceVariable = CUSTOM_ALCOR_FUELCELL_OUTPUT_RENAMEDsourceVariable = MY_HANDLER_VARIABLE\n    }\n\nThus the props wouldn\u0027t notice anything and would keep displaying the same variable but with my value added. Also it would be compatible with whatever does the same thing.\n\nBut that doesn\u0027t work. The handler isn\u0027t even asked for MY\\_HANDLER\\_VARIABLE.\n\nSo should that work or the only way is to declare a new variable and force the props to use it instead?\n\nAnd another question: are operations on self allowed? I mean doing something like x = x \u002B my:\n\n    //Assume that ALCOR_FUELCELL_OUTPUT is already defined by another mod\n    \n    RPM_MATH_VARIABLE\n    {name = ALCOR_FUELCELL_OUTPUToperator = ADDsourceVariable = CUSTOM_ALCOR_FUELCELL_OUTPUTsourceVariable = MY_HANDLER_VARIABLE\n    }\n\n**Edited \u003Ctime datetime=\u00222017-10-11T12:04:40Z\u0022 title=\u002210/11/2017 12:04  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 11, 2017\u003C/time\u003E by Ser**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-11T13:27:39Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Ser said:\n\u003E \n\u003E \n\u003E Is there a way to edit custom variables with \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch?\n\u003E \n\nI assume that renaming the custom variable would work.  An easier way to accomplish that may be to use \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E to simply add \u0027sourceVariable = MY\\_HANDLER\\_VARIABLE\u0027 to the existing custom variable.  That would be less costly to evaluate than adding an extra custom variable.\n\n\u003E \n\u003E \n\u003E 5 hours ago, Ser said:\n\u003E \n\u003E \n\u003E I have a part and I want the ASET props to properly display its EC output.\n\u003E \n\nKeep in mind that the part module in question will be instantiated on the pod that RPM is on, if it wasn\u0027t installed previously.  RPM can\u0027t query a part module installed elsewhere.  Based on your config, you have a PartModule named \u0060MyRPMVariableHandler\u0060 that has a public method \u0060object processRPMVariable(string)\u0060.  Provided that\u0027s correct, there may be messages from RPM indicating that it was unable to create or locate that module.  I\u0027d recommend turning on the RPM debug logging in JSI/RasterPropMonitor/Plugins/PluginData/rpm-config.cfg, loading a craft with your part module and an RPM IVA, and searching through the log for messages containing \u0027ExternalVariableHandlers\u0027 or \u0027VariableHandler\u0027.\n\nOne thing to keep in mind with the \u0027false\u0027 parameter - telling RPM that it can not be cached means that \\*every\\* time RPM needs to evaluate that variable during FixedUpdate, or potentially any custom variable that uses that variable, it will have to call your method.  That parameter is intended for use with random numbers, where you don\u0027t want the same result every time it\u0027s used in a single FixedUpdate.  For a typical variable that changes every FixedUpdate (altitude, heading, speed, EC production / consumption, etc.), you don\u0027t need to use the \u0027false\u0027 parameter.\n\n\u003E \n\u003E \n\u003E 6 hours ago, Ser said:\n\u003E \n\u003E \n\u003E are operations on self allowed?\n\u003E \n\nIf it\u0027s cacheable data, that may work, but I wouldn\u0027t recommend it, since it depends on timing of the evaluations.  It could also trigger an infinite recursion and crash."},{"CreatedByName":"Ser","CreatedById":104207,"CreatedDateTime":"2017-10-11T14:09:39Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, MOARdV said:\n\u003E \n\u003E \n\u003E An easier way to accomplish that may be to use \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E to simply add \u0027sourceVariable = MY\\_HANDLER\\_VARIABLE\u0027 to the existing custom variable.  That would be less costly to evaluate than adding an extra custom variable.\n\u003E \n\nIt would be but the variable I\u0027m trying to modify is declared with MULTIPLY, and if I understand right different operators cannot be used within the same declaration.\n\n\u003E \n\u003E \n\u003E 1 hour ago, MOARdV said:\n\u003E \n\u003E \n\u003E Keep in mind that the part module in question will be instantiated on the pod that RPM is on, if it wasn\u0027t installed previously.  RPM can\u0027t query a part module installed elsewhere.\n\u003E \n\nI\u0027ve attached that module to an engine in config but found that it doesn\u0027t belong to it in runtime. So is there the need to attach this PartModule to any part in order to have it instantiated or does RPM do it automagically just from an existing type?\n\n\u003E \n\u003E \n\u003E 1 hour ago, MOARdV said:\n\u003E \n\u003E \n\u003E Based on your config, you have a PartModule named \u0060MyRPMVariableHandler\u0060 that has a public method \u0060object processRPMVariable(string)\u0060.  Provided that\u0027s correct, there may be messages from RPM indicating that it was unable to create or locate that module.\n\u003E \n\nYes, that\u0027s right. Actually I have another variable that\u0027s used in a more straightforward way and I can see it evaluated, so the handler module is located by RPM. May be the problem is in evaluation chain, I could have messed up MATH and CUSTOM declarations. Thanks for the tip about logging, hope that\u0027ll make debugging less a hell.\n\n**Edited \u003Ctime datetime=\u00222017-10-11T14:30:41Z\u0022 title=\u002210/11/2017 02:30  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 11, 2017\u003C/time\u003E by Ser**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-10-11T15:27:51Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Ser said:\n\u003E \n\u003E \n\u003E It would be but the variable I\u0027m trying to modify is declared with MULTIPLY, and if I understand right different operators cannot be used within the same declaration.\n\u003E \n\nAh, okay.  In that case, yeah, you\u0027ll need to create the extra variable.  One of these days, I\u0027ll get MAS tidied up for a general release - it\u0027ll make things like this drastically easier.\n\n\u003E \n\u003E \n\u003E 1 hour ago, Ser said:\n\u003E \n\u003E \n\u003E I\u0027ve attached that module to an engine in config but found that it doesn\u0027t belong to it in runtime\n\u003E \n\nRPM will only look for the RPM variable handler PartModule on the command pod that RPM is running on.  If it does not find the module, it will attempt to create it, but it still is going to be on the command pod.  If you need to access values generated by a module on a different part, then the \u0027MyRPMVariableHandler\u0027 will need to create those connections itself.  That is, when it starts, it will need to scan through the craft, look for engines that have your part module, and keep references to those modules so that it can produce values when RPM asks for them."},{"CreatedByName":"Ser","CreatedById":104207,"CreatedDateTime":"2017-10-12T09:50:26Z","Content":"[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/), The \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches work, it was me having messed up CUSTOM and MATH prefixes and looking at the wrong variable.\n\nAre you sure the variable ELECOUTPUTALTERNATOR is calculated properly? I specified the rate of EC resource output for alternator as 2. My engine\u0027s part menu shows that current output rate is 1.88 EC/s. I\u0027m sure that inside alternator logic it is calculated as *outputResource.rate \\* some thrust coefficient*.\n\nBut EC gauge that uses ELECOUTPUTALTERNATOR shows something around 3.8. In the RPM\u0027s source code I see that alternatorOutput is calculated as:\n\n    alternatorOutput \u002B= availableAlternatorOutput[i] * availableAlternators[i].outputRate;\n\nWhere availableAlternatorOutput is the base resource rate from config. So it seems like that extra multiplication is not needed because it leads to the improper result: 2 \\* 1.88 = 3.76.\n\n**Edited \u003Ctime datetime=\u00222017-10-12T11:03:33Z\u0022 title=\u002210/12/2017 11:03  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 12, 2017\u003C/time\u003E by Ser**"}]}