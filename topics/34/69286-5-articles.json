{"TopicId":69286,"ForumId":34,"TopicTitle":"[1.0] CrossFeedEnabler v3.3 May 11","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-13T23:28:18Z","PageNum":5,"Articles":[{"CreatedByName":"FirroSeranel","CreatedById":144343,"CreatedDateTime":"2015-05-18T18:34:28Z","Content":"\n\u003Cp\u003EAh, I see. But then what if I want to keep a given tank separate for some reason? Like sometimes I have a small tank reserved just for fuel cells or an air-breathing engine or something, that I don\u0027t want drained by the main engines.\u003C/p\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2015-05-19T00:16:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FirroSeranel\u0022 data-cite=\u0022FirroSeranel\u0022\u003E\u003Cdiv\u003EAh, I see. But then what if I want to keep a given tank separate for some reason? Like sometimes I have a small tank reserved just for fuel cells or an air-breathing engine or something, that I don\u0027t want drained by the main engines.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight click on the part, disable flow out of that part.\u003C/p\u003E\n"},{"CreatedByName":"magnet","CreatedById":144411,"CreatedDateTime":"2015-05-19T06:38:03Z","Content":"\n\u003Cp\u003EI have this installed as part of another mod, but it says it\u0027s not compatible with 1.0.2 whenever I fire up KSP. This makes the custom parts in the other mod not work, and I\u0027m also getting some gamebreaking glitches (Kerbin disappears when going to the launch pad and nothing works). Any ideas?\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-05-19T12:17:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022magnet\u0022 data-cite=\u0022magnet\u0022\u003E\u003Cdiv\u003EI have this installed as part of another mod, but it says it\u0027s not compatible with 1.0.2 whenever I fire up KSP. This makes the custom parts in the other mod not work, and I\u0027m also getting some gamebreaking glitches (Kerbin disappears when going to the launch pad and nothing works). Any ideas?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt sounds like the other mod needs to be updated to include the latest version of this mod. Version 0.3.3.0 should work with KSP 1.0.2.\u003C/p\u003E\n"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-05-25T17:45:30Z","Content":"\n\u003Cp\u003EIt looks like AddToRadialTanks.cfg needs an update to include the new fuel-containing wings. Until it\u0027s been officially updated, you can copy and paste the following entries into a ModuleManager file:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[airlinerMainWing]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E@PART[wingShuttleDelta]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E@PART[wingShuttleStrake]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESecondly, I noticed the AddToRadialTanks.cfg includes radial RCS tanks. Given that monoprop uses STAGE_PRIORITY_FLOW, which seems to ignore crossfeed, I was wondering: what does adding CFE do?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-25T23:45:57Z\u0022 title=\u002205/25/2015 11:45  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 25, 2015\u003C/time\u003E by Fraz86\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-05-30T09:50:22Z","Content":"\n\u003Cp\u003EDon\u0027t know if this belongs here or is a (known?) MM problem...\u003C/p\u003E\u003Cp\u003EWhen I add crossfeed, it tends to crowd out other properties. So I can either have the crossfeed enabler or modular tanks on a part, but not both. Most insidious, the AirlinerMainWing has lost it\u0027s lift. What am I doing wrong?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[airlinerMainWing]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E@PART[adapterMk3-Size2Slant]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E@PART[adapterSize2-Size1Slant]:FOR[CrossFeedEnabler] \u003Cbr\u003E{\u003Cbr\u003E\t%MODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\t%name = ModuleCrossFeed\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhen I add this to the MM file in the crossfeed enabler directory, I get crossfeed, but lose modular tanks and lift. If I add it to my own file of house rules, it seems to have no effect (no crossfeed enabler on the part).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-30T10:00:50Z\u0022 title=\u002205/30/2015 10:00  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 30, 2015\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-05-31T20:43:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EWhat am I doing wrong?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0022%MODULE\u0022 does not specify which module to overwrite, and it therefore overwrites the first module it finds. Take a look at AddToRadialTanks.cfg, which specifies the module name as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E%MODULE[ModuleCrossFeed]\u003Cbr\u003E{\u003Cbr\u003E\t%name = ModuleCrossFeed\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EActually, I believe the \u0022%name = ModuleCrossFeed\u0022 inside the brackets is entirely redundant, as the first line creates a module named \u0022ModuleCrossFeed\u0022 (if no such module already existed), and then \u0022%name = ModuleCrossFeed\u0022 changes the name to \u0022ModuleCrossFeed\u0022, which was already its name. Thus, the following should be perfectly sufficient:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[airlinerMainWing]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed] {}\u003Cbr\u003E}\u003Cbr\u003E@PART[adapterMk3-Size2Slant]:FOR[CrossFeedEnabler]\u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed] {}\u003Cbr\u003E}\u003Cbr\u003E@PART[adapterSize2-Size1Slant]:FOR[CrossFeedEnabler] \u003Cbr\u003E{\u003Cbr\u003E\t%MODULE[ModuleCrossFeed] {}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nori","CreatedById":41334,"CreatedDateTime":"2015-07-09T02:44:54Z","Content":"\n\u003Cp\u003EQuick question. Can you add this to a part but have it defaulted to off?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-09T06:55:44Z","Content":"\n\u003Cp\u003EYes. The toggling is a persistent field, so just set crossFeedOverride = False in your MODULE.\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2015-07-09T08:17:57Z","Content":"\n\u003Cp\u003EIs there any way,to prevent fuel crossfeed thru decouples for engines that use \u0022resourceFlowMode = STAGE_PRIORITY_FLOW\u0022\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[*]:HAS[@MODULE[ModuleDecouple],!MODULE[ModuleCrossFeed]]:Final\u003Cbr\u003E {\u003Cbr\u003E MODULE\u003Cbr\u003E  {\u003Cbr\u003E  name = ModuleCrossFeed\u003Cbr\u003E  crossFeedOverride = False \u003Cbr\u003E  }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ethank you\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-09T19:03:30Z","Content":"\n\u003Cp\u003ENo. That mode ignores crossfeed rules entirely, just like ALL_VESSEL does.\u003C/p\u003E\n"},{"CreatedByName":"pack_rtr","CreatedById":147970,"CreatedDateTime":"2015-07-16T17:21:03Z","Content":"\n\u003Cp\u003EIf you remember me from Module Manager, I will need CrossFeed Enabler and RealFuels for 0.90 as well:rolleyes:\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-16T17:23:38Z\u0022 title=\u002207/16/2015 05:23  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 16, 2015\u003C/time\u003E by pack_rtr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-16T19:03:44Z","Content":"\n\u003Cp\u003EIn each case click the Github link in the OP, and then click Releases. All prior releases will be there.\u003C/p\u003E\n"},{"CreatedByName":"pack_rtr","CreatedById":147970,"CreatedDateTime":"2015-07-16T19:57:10Z","Content":"\n\u003Cp\u003EAgain, thanks a lot!!!\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"r1chardj0n3s","CreatedById":6683,"CreatedDateTime":"2015-08-29T00:51:22Z","Content":"\n\u003Cp\u003EI just installed this mod, and tried it out and it seemed to work (the \u0022Crossfeed Enabled\u0022 button was present on tanks) when I removed old fuel lines (using KIS), but after doing that to everything and switching ships a few times I\u0027ve come back to ships I removed all the fuel lines from and now there\u0027s no crossfeed any longer \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EOn one of the ships, which has four stock tanks attached to a procedural tank, the procedural tank has \u0022Crossfeed Enabled\u0022 but none of the attached tanks does. The other ship just has stock tanks attached to a stock tank and none of them have \u0022Crossfeed Enabled\u0022 any longer.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-08-29T01:07:37Z","Content":"\n\u003Cp\u003EYou have to add the module to all the parts you want it on. By default it\u0027s added to proc tanks but not stackmount stock tanks.\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2015-08-29T01:49:41Z","Content":"\n\u003Cp\u003ECongrats on hitting the squad staff list Nathankell\u003C/p\u003E\n"},{"CreatedByName":"r1chardj0n3s","CreatedById":6683,"CreatedDateTime":"2015-08-29T01:56:58Z","Content":"\n\u003Cp\u003EOh! I thought it was enabled for stock parts! Sorry about that. I thought this would be an easy way to reduce my part count \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E I\u0027ll add those fuel lines back in.\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-09-07T19:47:10Z","Content":"\n\u003Cp\u003EI found a bug , when ModuleCrossFeed is placed in nosecones it generates exceptions\u003C/p\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-07T19:55:39Z","Content":"\n\u003Cp\u003EDoes the nosecone in question have crossfeed disabled? This has caused issues for other mods in the past and could be causing a problem here...\u003C/p\u003E\u003Cp\u003EHow often do you radially attach nosecones? Can you even radially attach them?\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-09-07T19:58:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Padishar\u0022 data-cite=\u0022Padishar\u0022\u003E\u003Cdiv\u003EDoes the nosecone in question have crossfeed disabled? This has caused issues for other mods in the past and could be causing a problem here...\u003Cp\u003EHow often do you radially attach nosecones? Can you even radially attach them?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, this particular nosecone, you can attach radially\u003C/p\u003E\u003Cp\u003EThe exception seem to appear only in VAB. I will investigate further\u003C/p\u003E\u003Cp\u003EI\u0027m always getting the following exception\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E[Exception]: ArgumentNullException: Argument cannot be null. Parameter name: key\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T20:03:15Z\u0022 title=\u002209/07/2015 08:03  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-09-07T20:17:12Z","Content":"\n\u003Cp\u003EWhen does the exception happen? Is it when you attach the part, when you toggle the crossfeed or does it spam it non-stop? Can you upload an output_log.txt (or look in it as it will hopefully include the call stack to help locate the issue)?\u003C/p\u003E\n"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-09-07T20:18:57Z","Content":"\n\u003Cp\u003Eupdate: The exception occurs whenever UpdateCrossFeed() is called\u003C/p\u003E\u003Cp\u003Eupdate2: it happens inside if (crossFeedOverride)\u003C/p\u003E\u003Cp\u003Eupdate3: I narrowed down to the line that is causing the problem:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epart.fuelLookupTargets.Add(part.parent);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not sure why it causes an exception, but it does.\u003C/p\u003E\u003Cp\u003ESeems that adding the part.Parent is causing some kind of internal exception triggered after it is added, causing some invalid state\u003C/p\u003E\u003Cp\u003EI tried replacing referenceId by GetInstanceId(), but it does not have any different effect \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EBtw, why is this done also in the VAB? If I add the if (HighLogic.LoadedSceneIsFlight) it works as it should.\u003C/p\u003E\u003Cp\u003EIn my experience, part are not fully initialised in the Vab. Some function do not work properly. Perhaps this is one of them.\u003C/p\u003E\u003Cp\u003EI suggest placing a \u0022if( HighLogic.LoadedSceneIsFlight)\u0022 arround this piece of code.\u003C/p\u003E\u003Cp\u003EI created a pull request with the fix\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-07T21:39:59Z\u0022 title=\u002209/07/2015 09:39  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 7, 2015\u003C/time\u003E by FreeThinker\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Teilnehmer","CreatedById":143330,"CreatedDateTime":"2015-09-23T03:01:40Z","Content":"\n\u003Cp\u003EHi!\u003C/p\u003E\u003Cp\u003EI have the following add-ons installed:\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC Procedural parts\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC B9 Aerospace procedural wings\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC Procedural Dynamics wings\u003C/p\u003E\u003Cp\u003E\u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC Crossfeed enabler\u003C/p\u003E\u003Cp\u003EIn my plane, the wings (I tried both b9 and PDyn) are connected to a procedural LF tank radially. Two other procedural LF tanks with Nervs stacked to them are connected to the wings.\u003C/p\u003E\u003Cp\u003EHo do I enable the fuel feed from the central tank to the Nervs?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-09-23T03:37:02Z","Content":"\n\u003Cp\u003EWhat tank do you use for the wing tanks?\u003C/p\u003E\n"}]}