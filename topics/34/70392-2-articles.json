{"TopicId":70392,"ForumId":34,"TopicTitle":"[0.24] Gimbal Auto Trim 1.1 (Sept 2)","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-04-24T20:39:38Z","PageNum":2,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-04-27T14:33:45Z","Content":"\n\u003Cp\u003Elooks fine.\u003C/p\u003E\n"},{"CreatedByName":"colmo","CreatedById":25950,"CreatedDateTime":"2014-04-28T20:05:25Z","Content":"\n\u003Cp\u003EI appear to be missing something - the gimbal doesn\u0027t appear able to keep things remotely stable. It might be the rough spaceplane \u002B booster I threw together to test. Does the craft have to be nearly balanced to have a hope?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-04-28T20:25:32Z","Content":"\n\u003Cp\u003EDid you replace the default gimbal with a MM patch ? Did you see the engine turn more than the default gimbal ?\u003C/p\u003E\u003Cp\u003EIt\u0027s not a magic fix and it has an impact to how your ship fly.\u003C/p\u003E\u003Cp\u003EYes, your ship need to be somehow balanced if you want it to be still flyable. Changing the direction of thrust may help with some thing but it may makes other things worse since your direction of thrust is not aligned with the \u0022up\u0022 of your ship.\u003C/p\u003E\u003Cp\u003ESome design fly better with it, some fly worse. I should make a nice graph to explain why \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"colmo","CreatedById":25950,"CreatedDateTime":"2014-04-28T21:33:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EDid you replace the default gimbal with a MM patch ? Did you see the engine turn more than the default gimbal ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt does...sometimes. The usual result is the ship inverting itself and crashing into the launchpad, or else not compensating enough and arcing low over the ground to crash a kilometre away.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EIt\u0027s not a magic fix and it has an impact to how your ship fly.\u003Cp\u003EYes, your ship need to be somehow balanced if you want it to be still flyable. Changing the direction of thrust may help with some thing but it may makes other things worse since your direction of thrust is not aligned with the \u0022up\u0022 of your ship.\u003C/p\u003E\u003Cp\u003ESome design fly better with it, some fly worse. I should make a nice graph to explain why \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not quite the magic box of tricks the thrust balancing mods are (it\u0027s always best to have the thrust vector pointed retrograde!). My expectations were perhaps too high.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-28T22:11:28Z\u0022 title=\u002204/28/2014 10:11  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 28, 2014\u003C/time\u003E by colmo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-04-29T18:30:54Z","Content":"\n\u003Cp\u003ETrying to wrap my head around the mechanics.\u003C/p\u003E\u003Cp\u003EOP sates: When activated on one or more engines they will orient themselves so the Direction of Thrust stays aligned with the Center of Mass. (Sarbian 1)\u003C/p\u003E\u003Cp\u003EDoes this mean the individual engine\u0027s thrust vector, or the ship\u0027s combined thrust? \u003C/p\u003E\u003Cp\u003EThis could be important when designing a puller-type Nuclear Asteroid Tug...my fuel tanks are aft of the engines, so CoM is also aft of the engines. Once I\u0027m locked onto the asteroid, I expect the function should be \u0022normal\u0022 due to CoM shift.\u003C/p\u003E\u003Cp\u003EPlease elaborate the mechanics as if you were talking to a slow 5-year old \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (extra points for MS Paint drawings)\u003C/p\u003E\u003Cp\u003EThanks!!\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-04-29T20:11:58Z","Content":"\n\u003Cp\u003EThe engine with auto trim active moves so the combined thrust of all the engines will be aligned with the center of mass. \u003C/p\u003E\u003Cp\u003EI\u0027ll do the painting later \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-04-29T22:35:34Z","Content":"\n\u003Cp\u003EPerfect! That means there is no functional difference for tractor or pusher configurations. i can keep my Asteroid Tug en route to my first capture \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESarbian, you are DA MAN!\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-04-30T21:32:58Z","Content":"\n\u003Cp\u003EOk, I have a problem, Auto Gimbal must think my CoM is outside the ship. the ship operates normal without the plugin enabled, and autotrim is WAY out of calibration when enabled.\u003C/p\u003E\u003Cp\u003Eany known fixes? (this ship was assembled in orbit, so I don\u0027t have a single craft file)\u003C/p\u003E\u003Cp\u003EAuto Gimbal NOT engaged:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/omnSqkd.png\u0022 alt=\u0022omnSqkd.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAuto Gimbal engaged:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/6G1J6jH.png\u0022 alt=\u00226G1J6jH.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-04-30T22:05:11Z","Content":"\n\u003Cp\u003EI may have an idea (I m doing stupid things with symmetry). I\u0027ll build a test version tomorrow.\u003C/p\u003E\u003Cp\u003EEven if you don\u0027t have the ship, could you put your save somewhere ? (the persistent.sfs file in the save folder)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T22:15:59Z\u0022 title=\u002204/30/2014 10:15  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-04-30T22:45:42Z","Content":"\n\u003Cp\u003Etrying dropbox for the first time, hope this works...damn, that file is 7.6 meg...\u003C/p\u003E\u003Cp\u003ECraft is called \u0022Grabber 1\u0022, and yes, i know I made a few errors (forgot to add enough Mono to Grabber 1, so had to send Grabber 2 to upgrade), otherwise I would not have had so many engines. Next iteration will be cleaner. My symmetry should be ok though...no extra fuel tanks show in TAC Fuel Balancer. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/itiz46x7b494hdo/persistent.sfs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/itiz46x7b494hdo/persistent.sfs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EGrabber 1 (Ship core)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/8ixhe6hxtcqvykn/Grabber%201.craft\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/8ixhe6hxtcqvykn/Grabber%201.craft\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EGrabber 2 (Aft Engine Pod)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/aib6v0yrxkfzjzu/Grabber%202.craft\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/aib6v0yrxkfzjzu/Grabber%202.craft\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T23:15:30Z\u0022 title=\u002204/30/2014 11:15  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by Pondafarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"anything","CreatedById":81145,"CreatedDateTime":"2014-05-01T06:32:51Z","Content":"\n\u003Cp\u003Emaybe im doing it wrong also\u003C/p\u003E\u003Cp\u003Emade a basic symmetrical 4 engine ultra-wide test rocket, disabled one engine, and it seems to flip even more out of control than without the auto gimbals.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-05-01T13:03:18Z","Content":"\n\u003Cp\u003EI found out the problem. It does that when the Center of Thrust is in front of the Center of Mass. \u003C/p\u003E\u003Cp\u003EI fixed it but I want to add a few more things before I release a new version.\u003C/p\u003E\n"},{"CreatedByName":"Zeroignite","CreatedById":1377,"CreatedDateTime":"2014-05-01T17:29:39Z","Content":"\n\u003Cp\u003EOooh. Hm, would it be possible to use something like the \u0022control from here\u0022 for the vectored axis of the engines, so an off-center craft goes the direction you point it on the navball?\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-05-01T18:20:47Z","Content":"\n\u003Cp\u003EAwsome Sarbian! I can live without the auto gimbal for a few days, but I\u0027m sure I\u0027ll need it once I reach this \u0027Roid I\u0027m chasing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"quantumpion","CreatedById":57602,"CreatedDateTime":"2014-05-02T18:31:56Z","Content":"\n\u003Cp\u003EAside from shuttles, will this mod make regular craft which are slightly off balance easier to control? E.g. a tiny probe unbalanced due to a science instrument on one side?\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-05-02T21:14:49Z","Content":"\n\u003Cp\u003EThats the idea...it adjusts the center of thrust to align with the center of mass. So, if your probe is slightly out of balance, it should trim the engine to correct for the imbalance. I would suggest two things: ensure your center of thrust is aft of the center of mass, and setting max trim to a low number, 1-5 degrees, or you may end up with the neat trick I described above \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (at least until the next version comes out)\u003C/p\u003E\n"},{"CreatedByName":"quantumpion","CreatedById":57602,"CreatedDateTime":"2014-05-02T21:27:23Z","Content":"\n\u003Cp\u003EDoes the mod correct the navball so that if you have a craft where the line of thrust through the COM is not parallel to the command module\u0027s prograde direction, the craft\u0027s acceleration will be in the expected direction and not slide off course?\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-05-04T12:05:07Z","Content":"\n\u003Cp\u003EAFAIK, no. The nav ball is a controlled by wherever you have \u0022control from here\u0022 enabled. This mod focuses on the COM and COT.\u003C/p\u003E\n"},{"CreatedByName":"quantumpion","CreatedById":57602,"CreatedDateTime":"2014-05-05T02:43:33Z","Content":"\n\u003Cp\u003EIs it possible to add a tweakable option to control a craft from its center of thrust?\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2014-05-05T17:02:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022quantumpion\u0022 data-cite=\u0022quantumpion\u0022\u003E\u003Cdiv\u003EIs it possible to add a tweakable option to control a craft from its center of thrust?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI imagine this would be possible, but it would be a bad idea. With CoT moving everytime you make a control input, there are going to be \u003Cem\u003Ereally bad\u003C/em\u003E feedback loops in the control (like when you \u0022Control From Here\u0022 on a really wobbly part \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E). A much better solution would be to add a node on the NavBall displaying the current CoT. Hmmm, time to head over to the Enhanced NavBall thread...\u003C/p\u003E\u003Cp\u003E[EDIT: Back from thread]\u003C/p\u003E\u003Cp\u003EI did some proof of concept work, using something like enhanced NavBall would work pretty well. Of course, your CoT solver looks (I only glanced at the code) way better than the solver I used (the one KSP uses in the VAB and SPH).\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/50524-0-23-5-Enhanced-Navball-1-2?p=1138899\u0026amp;viewfull=1#post1138899\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/50524-0-23-5-Enhanced-Navball-1-2?p=1138899\u0026amp;viewfull=1#post1138899\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-05T20:16:56Z\u0022 title=\u002205/05/2014 08:16  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 5, 2014\u003C/time\u003E by kujuman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"quantumpion","CreatedById":57602,"CreatedDateTime":"2014-05-06T04:03:15Z","Content":"\n\u003Cp\u003EHmm, your ideas are intriguing to me and I wish to subscribe to your newsletter.\u003C/p\u003E\n"},{"CreatedByName":"whaaw","CreatedById":69050,"CreatedDateTime":"2014-05-11T21:09:50Z","Content":"\n\u003Cp\u003Ehello my log is full of this:rgumentOutOfRangeException: Argument is out of range.\u003C/p\u003E\u003Cp\u003EParameter name: index\u003C/p\u003E\u003Cp\u003E at System.Collections.Generic.List\u00601[unityEngine.Transform].get_Item (Int32 index) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at GimbalAutoTrim.ModuleGimbalAutoTrim.updateThrust () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at GimbalAutoTrim.ModuleGimbalAutoTrim.OnFixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at Part.ModulesOnFixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E at Part.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/p\u003E\u003Cp\u003E(Filename: Line: -1)\u003C/p\u003E\u003Cp\u003Ei have alot of mods installed can i ignore this?\u003C/p\u003E\n"},{"CreatedByName":"Pondafarr","CreatedById":99169,"CreatedDateTime":"2014-05-11T23:02:23Z","Content":"\n\u003Cp\u003EMy first response would be:\u003C/p\u003E\u003Cp\u003EDoes your ship go where you want it to go?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-05-12T12:01:26Z","Content":"\n\u003Cp\u003EIt\u0027s not good but won\u0027t make anything but the plugin fail. I need to take more time to fix that and the math (math currently does not works for all cases)\u003C/p\u003E\n"},{"CreatedByName":"FellipeC","CreatedById":77983,"CreatedDateTime":"2014-05-13T01:57:57Z","Content":"\n\u003Cp\u003EEpic win! BTW Mechjeb could account for the direction of thrust dont being exact in center, like in shuttles.\u003C/p\u003E\n"}]}