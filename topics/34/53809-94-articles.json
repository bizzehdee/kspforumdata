{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":94,"Articles":[{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-16T01:45:51Z","Content":"\n\u003Cp\u003Eozraven: yikes! That might explain why RAM usage is high...\u003C/p\u003E\n"},{"CreatedByName":"ozraven","CreatedById":106313,"CreatedDateTime":"2014-10-16T01:54:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Eozraven: yikes! That might explain why RAM usage is high...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPrior to the 3-7 update, I was playing with the ATM code seeing what had changed to make it not play nicely with 0.25 and this happened but it was also using a lot more memory as well, so it was easy to spot. I\u0027m surprised that it has gone unnoticed. I have my full complement of mods, now, and memory usage doesn\u0027t seem to be too far off from 0.24.2 numbers. Certainly not enough to assume that there was a (potential) problem. I have to say I\u0027m eager to see what affect a change will have on memory loading. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-16T01:58:50Z\u0022 title=\u002210/16/2014 01:58  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 16, 2014\u003C/time\u003E by ozraven\u003C/strong\u003E\n\u003Cbr\u003EVersion number correction.\n\u003C/span\u003E\n"},{"CreatedByName":"Jofe","CreatedById":101640,"CreatedDateTime":"2014-10-16T03:40:11Z","Content":"\n\u003Cp\u003EThe last version isn\u0027t dropping my fps anymore, thanks for fixing that. Now if I could find out what mod is now causing a fps drop during reentry... I think its Universal Storage, but not sure yet.\u003C/p\u003E\n"},{"CreatedByName":"jrandom","CreatedById":74522,"CreatedDateTime":"2014-10-16T03:48:45Z","Content":"\n\u003Cp\u003EI\u0027m getting flag duplication as well.\u003C/p\u003E\n"},{"CreatedByName":"jazzman13","CreatedById":112722,"CreatedDateTime":"2014-10-16T14:00:22Z","Content":"\n\u003Cp\u003EI\u0027m getting flag duplication and texture duplication when I open the debug menu. No wonder my game has been crashing, even on aggressive. Any timeframe for a fix?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-16T14:31:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jazzman13\u0022 data-cite=\u0022jazzman13\u0022\u003E\u003Cdiv\u003EAny timeframe for a fix?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEarly 21th century.\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2014-10-16T14:34:39Z","Content":"\n\u003Cp\u003Egetting this bug too.\u003C/p\u003E\n"},{"CreatedByName":"biohazard15","CreatedById":91655,"CreatedDateTime":"2014-10-16T14:54:05Z","Content":"\n\u003Cp\u003EInteresting. Although my debug menu also shows duplication, my memory footprint in the main menu, immediately after loading, is 1Gb lower with basic ATM installed. (1.5Gb w\\ATM, 2.5Gb w\\o ATM). I use OpenGL (without it, the game crashes on load even with ATM).\u003C/p\u003E\n"},{"CreatedByName":"jazzman13","CreatedById":112722,"CreatedDateTime":"2014-10-16T15:05:19Z","Content":"\n\u003Cp\u003EJust uninstalled Better Atmospheres to reduce some load times for testing, Aggressive ATM uses .2 Gb more RAM than \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eno\u003C/span\u003E ATM. About to reinstall BA and test again\u003C/p\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-10-16T15:52:05Z","Content":"\n\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E}\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\tSquad/Strategies/Icons/.*\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tcompress = false\u003Cbr\u003E\t\t\tmipmaps = false\u003Cbr\u003E\t\t\tscale = 1\u003Cbr\u003E\t\t\tmax_size = 0\u003Cbr\u003E\t\t\tmake_not_readable = false\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-16T17:24:52Z","Content":"\n\u003Cp\u003EI sent the double texture fix to rbay.\u003C/p\u003E\n"},{"CreatedByName":"jazzman13","CreatedById":112722,"CreatedDateTime":"2014-10-16T17:36:05Z","Content":"\n\u003Cp\u003EThanks so much!\u003C/p\u003E\n"},{"CreatedByName":"Taki117","CreatedById":89975,"CreatedDateTime":"2014-10-16T17:50:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI sent the double texture fix to rbay.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWOOT! More rep for Sarbian!\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-16T17:57:06Z","Content":"\n\u003Cp\u003EMerged. Won\u0027t have a build until I am home though.\u003C/p\u003E\n"},{"CreatedByName":"jazzman13","CreatedById":112722,"CreatedDateTime":"2014-10-16T18:25:14Z","Content":"\n\u003Cp\u003EThis is why I love this community.\u003C/p\u003E\n"},{"CreatedByName":"Starbuckminsterfullerton","CreatedById":117494,"CreatedDateTime":"2014-10-16T22:28:56Z","Content":"\n\u003Cp\u003EIt sounds like you guys already fixed it, but I can confirm that blacklisting the flags folders and disabling compression in the individual mod configs doesn\u0027t stop the duplication, if that helps.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-17T04:48:03Z","Content":"\n\u003Cp\u003ESo, this is interesting. I use batch files to load in only the parts I need so my memory usage is always low and I don\u0027t really need this mod. But I\u0027ve been having trouble on load recently - what I would see happen is 3.3GB of VRAM would be in use when the loading screen finishes all its work. However, once it blanked and began to load into the main menu, my VRAM usage would suddenly balloon and crash the game with 3.6-3.8GB as the last reported usage.\u003C/p\u003E\u003Cp\u003ENow, with ATM installed I get 3.5GB VRAM usage after the loading screen is done (no doubt larger due to the texture duplication issue), but during the transition to the main menu my VRAM only increases a couple hundred MB and stays stable.\u003C/p\u003E\u003Cp\u003EOnce rbray gets the new release out with the texture dupe fix I\u0027ll look at this again...\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-17T05:44:22Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://github.com/rbray89/ActiveTextureManagement/releases/tag/3-8\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/rbray89/ActiveTextureManagement/releases/tag/3-8\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDuplication fix, min size, \u0026amp; extension based loader disable.\u003C/p\u003E\n"},{"CreatedByName":"Gristle","CreatedById":60589,"CreatedDateTime":"2014-10-17T06:17:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://github.com/rbray89/ActiveTextureManagement/releases/tag/3-8\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/rbray89/ActiveTextureManagement/releases/tag/3-8\u003C/a\u003E\u003Cp\u003EDuplication fix, min size, \u0026amp; extension based loader disable.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for you hard work rbray!\u003C/p\u003E\u003Cp\u003EGood news:\u003C/p\u003E\u003Cp\u003E- Duplication seems to be fixed\u003C/p\u003E\u003Cp\u003E- SXT error has been resolved\u003C/p\u003E\u003Cp\u003E- Saved about 700MB on my install at KSC screen\u003C/p\u003E\u003Cp\u003EBad news:\u003C/p\u003E\u003Cp\u003E- With ATM active I can\u0027t access the VAB or SPH\u003C/p\u003E\u003Cp\u003E- Can access other KSC buildings, but either can\u0027t leave, or leave but then no other buildings are available and can\u0027t exit from menu.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-17T06:28:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gristle\u0022 data-cite=\u0022Gristle\u0022\u003E\u003Cdiv\u003EThanks for you hard work rbray!\u003Cp\u003EGood news:\u003C/p\u003E\u003Cp\u003E- Duplication seems to be fixed\u003C/p\u003E\u003Cp\u003E- SXT error has been resolved\u003C/p\u003E\u003Cp\u003E- Saved about 700MB on my install at KSC screen\u003C/p\u003E\u003Cp\u003EBad news:\u003C/p\u003E\u003Cp\u003E- With ATM active I can\u0027t access the VAB or SPH\u003C/p\u003E\u003Cp\u003E- Can access other KSC buildings, but either can\u0027t leave, or leave but then no other buildings are available and can\u0027t exit from menu.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is a mod conflict... with stock \u002B ATM it is fine...\u003C/p\u003E\n"},{"CreatedByName":"mitiya","CreatedById":100934,"CreatedDateTime":"2014-10-17T09:16:55Z","Content":"\n\u003Cp\u003EInstall a last release. \u003C/p\u003E\u003Cp\u003Eksp = 1.9 gb\u003C/p\u003E\u003Cp\u003Eksp \u002B ATM = 3.7 gb\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-17T10:53:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EOnce rbray gets the new release out with the texture dupe fix I\u0027ll look at this again...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a bit puzzling still. I have the latest release and I can confirm that there are no longer duplicate textures showing up in my database window - yet my VRAM load is still 3.5GB. By the time I enter a flight scene I\u0027m pushing 4GB. (Game crashes around 4.05GB)\u003C/p\u003E\u003Cp\u003EBoth this release and the previous release I used untouched Basic versions, and did not alter the contents of my GameData folder, which is currently 474MB. If I force KSP to load with an empty GameData folder it enters the main menu with 1.5GB VRAM usage. That\u0027s pretty crazy - 474MB somehow turning into 2GB!? Yea I get that textures can be uncompressed into memory but, still. Wow.\u003C/p\u003E\u003Cp\u003ESame behavior without ATM tho - loadscreen finishes at 3.2GB but then I crash on my way into the main menu\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-17T11:03:45Z\u0022 title=\u002210/17/2014 11:03  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 17, 2014\u003C/time\u003E by Gaiiden\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-17T11:08:32Z","Content":"\n\u003Cp\u003EGaiiden \u0026amp; mitiya : My stock KSP is at 1.4GB at the main menu with ATM. I don\u0027t have my config here but it should be with both rescale set to 1. With an empty gamedata I was at something like 700MB. That\u0027s both without opengl.\u003C/p\u003E\u003Cp\u003ESomething strange is going on for you.\u003C/p\u003E\u003Cp\u003EYou should post your config and a log.\u003C/p\u003E\n"},{"CreatedByName":"mitiya","CreatedById":100934,"CreatedDateTime":"2014-10-17T11:44:08Z","Content":"\n\u003Cp\u003Ewhich log exactly?\u003C/p\u003E\u003Cp\u003EI use default config.\u003C/p\u003E\u003Cp\u003EStart KSP with -popupwindow -nolog -force-opengl\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-17T11:59:25Z","Content":"\n\u003Cp\u003ELaunch without the -nolog and upload the KSP_Data\\output_log.txt (32bit) or KSP_x64_Data\\output_log.txt (64bit) somewhere.\u003C/p\u003E\n"}]}