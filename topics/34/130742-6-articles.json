{"TopicId":130742,"ForumId":34,"TopicTitle":"[1.12.x] kRPC: Control the game using C#, C\u002B\u002B, Java, Lua, Python, Ruby, Haskell, C (Arduino)... (v0.5.4)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T08:47:48Z","PageNum":6,"Articles":[{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T05:39:08Z","Content":"\n\u003Cp\u003E\nTypically what I do in the case of hard dependencies is separate out the functionality that needs that other mod, and place it into a separate DLL. \u00A0If setup properly KSP will then only load that DLL if the other mod is present, or ignore it if not.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example this is how TestFlight hooks into RealFuels without actually requiring RealFuels. \u00A0Same with TestFlight and ContractConfigurator.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T05:50:44Z","Content":"\n\u003Cp\u003E\nI don\u0027t think that approach works here though? To add RPCs you annotate bits of your mod with the kRPC attributes - but moving this functionality to another DLL could result in moving your entire mod to another DLL which kinda defeats the point. For example, if MechJeb wanted to make its functionality available as RPCs, you could annotate the relevant classes with the \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003E[KRPCMethod]\u003C/span\u003E etc. attributes in the relevant places. But separating this functionality out into a separate DLL would remove all of MechJebs functionality into a DLL that is only loaded if kRPC is present.\n\u003C/p\u003E\n\u003Cp\u003E\nThe previous discussion I mentioned was on github here: \u003Ca href=\u0022https://github.com/krpc/krpc/issues/143\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/143\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-10T05:53:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669275\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468129148\u0022 data-ipsquote-userid=\u002299662\u0022 data-ipsquote-username=\u0022Agathorn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Agathorn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTypically what I do in the case of hard dependencies is separate out the functionality that needs that other mod, and place it into a separate DLL. \u00A0If setup properly KSP will then only load that DLL if the other mod is present, or ignore it if not.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example this is how TestFlight hooks into RealFuels without actually requiring RealFuels. \u00A0Same with TestFlight and ContractConfigurator.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat was what I ultimately resorted to as well, but kOS ended up adding a feature set that meant there was no reason to run my mod without KRPC so I went back to a single implementation.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669273\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468128890\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCool idea \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Not sure I quite understand your design but will go have a read on the thread.\n\u003C/p\u003E\n\u003Cp\u003E\nThe issue of optionally using kRPC actually came up over a year ago, when someone was concerned about having to create a hard dependency against the DLL from any third-party mod that wants to add RPCs. Unfortunately I put this feature request on the back burner and never got around to it! It should be pretty easy to add an API to register RPCs - I think it\u0027s just a case of opening up some of the \u0022service scanner\u0022 internals.\n\u003C/p\u003E\n\u003Cp\u003E\nFor your other two concerns, the relevant APIs exist but are indeed private. I can put together a dev build with the those APIs made public so you can play around if you like?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe design notes are actually way out of date. \u00A0I\u0027ve opted to just use JSON as a serialization mechanism and a normal message queue to more or less mirror kOS\u0027s new (not yet released) communications mechanism.\n\u003C/p\u003E\n\u003Cp\u003E\nRe: a dev build: It\u0027d be nice to add to a future release, but don\u0027t fret making a build just for me:\u00A0If I really want to do it I can always (temporarily) abuse reflection, and I don\u0027t want to end up in a situation where people need dev builds of other mods to try the (eventual) dev build of mine \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOh, the other question I should have asked is: Is there a good mechanism to send arbitrary mixed-type data via KRPC? \u00A0Right now I\u0027ve resorted to JSON (much easier to use than my former idea of getArgumentTypes -\u0026gt; getIntArg, GetStringArg, etc.) or BSON if I can figure out how to make JsonFx do that correctly, but keeping things closer to native types for efficiency is always nice.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T05:54:50Z","Content":"\n\u003Cp\u003E\nIn the MechJeb example, \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E exposes an API then moves the kRPC functionality into a separate DLL that uses its own API. \u00A0I plan to eventually add a kRPC service for TestFlight and this is exactly what I plan to do.\n\u003C/p\u003E\n\u003Cp\u003E\nNot saying it is necessarily ideal, just that it is doable \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-10T05:55:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669287\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468129844\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think that approach works here though? To add RPCs you annotate bits of your mod with the kRPC attributes - but moving this functionality to another DLL could result in moving your entire mod to another DLL which kinda defeats the point. For example, if MechJeb wanted to make its functionality available as RPCs, you could annotate the relevant classes with the \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003E[KRPCMethod]\u003C/span\u003E etc. attributes in the relevant places. But separating this functionality out into a separate DLL would remove all of MechJebs functionality into a DLL that is only loaded if kRPC is present.\n\u003C/p\u003E\n\u003Cp\u003E\nThe previous discussion I mentioned was on github here: \u003Ca href=\u0022https://github.com/krpc/krpc/issues/143\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/143\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think he means something like: Mechjeb.dll would have Mechjeb as it is now, and Mechjeb-KRPC.dll would depend on both mods and\u00A0would have annotated\u00A0stubs that call the actual Mechjeb functions.\n\u003C/p\u003E\n\u003Cp\u003E\nI was originally doing that with KIPCPlugin and KIPCPlugin-KRPC.\n\u003C/p\u003E\n"},{"CreatedByName":"Agathorn","CreatedById":99662,"CreatedDateTime":"2016-07-10T05:58:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669292\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468130112\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think he means something like: Mechjeb.dll would have Mechjeb as it is now, and Mechjeb-KRPC.dll would depend on both mods and\u00A0would have annotated\u00A0stubs that call the actual Mechjeb functions.\n\u003C/p\u003E\n\u003Cp\u003E\nI was originally doing that with KIPCPlugin and KIPCPlugin-KRPC.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, exactly.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-10T06:03:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669292\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468130112\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think he means something like: Mechjeb.dll would have Mechjeb as it is now, and Mechjeb-KRPC.dll would depend on both mods and\u00A0would have annotated\u00A0stubs that call the actual Mechjeb functions.\n\u003C/p\u003E\n\u003Cp\u003E\nI was originally doing that with KIPCPlugin and KIPCPlugin-KRPC.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAhhhhhhh I see. Yes that makes sense.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669289\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468130012\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, the other question I should have asked is: Is there a good mechanism to send arbitrary mixed-type data via KRPC? \u00A0Right now I\u0027ve resorted to JSON (much easier to use than my former idea of getArgumentTypes -\u0026gt; getIntArg, GetStringArg, etc.) or BSON if I can figure out how to make JsonFx do that correctly, but keeping things closer to native types for efficiency is always nice.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure I 100% understand your question, but kRPC uses protocol buffers to serialize data to and from it\u0027s client languages. If you want to pass arbitrary data from kOS through to a client script with minimal serialization cost then you should \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Ebyte[]\u003C/span\u003E. But the client would then need to do some work to figure out how to interpret the bytes.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-10T06:07:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222669300\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468130634\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAhhhhhhh I see. Yes that makes sense.\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure I 100% understand your question, but kRPC uses protocol buffers to serialize data to and from it\u0027s client languages. If you want to pass arbitrary data from kOS through to a client script with minimal serialization cost then you should \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Ebyte[]\u003C/span\u003E. But the client would then need to do some work to figure out how to interpret the bytes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI knew about the protocol buffers bit, and the big thing was that the structure of the data isn\u0027t necessarily known ahead of time. \u00A0I think JSON shall suffice for now though.\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-07-11T14:00:31Z","Content":"\n\u003Cp\u003E\nHi\u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI will apologise in advance, because I have a few issues now that I am debugging my controller code and I am sure at least some of them will be dumb errors on my part!\n\u003C/p\u003E\n\u003Cp\u003E\n1. Camera distance doesn\u0027t seem to take effect for about 2 seconds after a camera mode change. I am setting the camera mode (which changes in the game immediately) and then setting camera.distance = camera.default_distance, this wasn\u0027t having any effect. So I forced this to set repeatedly and found that despite setting the distance each time on the next run through the code the distance was the original, and only after about 2s it changed. Is there some limitation here with the camera? I can reproduce it with the following snippet (and the cam starting off default zoom) where the last line does nothing, but change the previous sleep to 3s or higher and it works!\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eimport krpc\nimport time\n\nconn = krpc.connect(name=\u0027Game Controller\u0027)\nvessel = conn.space_center.active_vessel\ncam = conn.space_center.camera\ntime.sleep(2)\ncam.mode = cam.mode.locked\ntime.sleep(5)\ncam.mode = cam.mode.free\ntime.sleep(2)\ncam.distance = cam.default_distance\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n2. I get an error when checking gear state after launch (or revert to launch) of an aircraft from the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E. Once the gear is toggled (raised or lowered) the gear.state works fine, but until that first toggle i see the following. It is reproducible direct from the console by querying any gear state. Does it require some kind of initialisation i am missing?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E    if gear.state == gear.state.retracted:\n  File \u0022\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;string\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022, line 1, in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;lambda\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  File \u0022C:\\Users\\petern\\AppData\\Local\\Programs\\Python\\Python35-32\\lib\\site-packages\\krpc\\client.py\u0022, line 87, in _invoke\n    raise RPCError(response.error)\nkrpc.error.RPCError: Operation is not valid due to the current state of the object\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand it relates to this code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Egear_list = vessel.parts.landing_gear\n    gear_up = 0\n    gear_down = 0\n    for gear in gear_list:\n        if gear.state == gear.state.retracted:\n            gear_up \u002B= 1\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n3. When a kerbal is EVA they still exist as a vessel, but vessel.control doesn\u0027t seem to have any effect. I am assuming that the game manages an EVA kerbal differently to a vessel, so this probably isn\u0027t supported. Is this assumption correct and is it something that could be included? Note though that issue #148 would probably achieve the same end by allowing controls to be mapped to key presses, and would allow things that are key driven like \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E also.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway I think that is enough pestering for one night, so I shall leave it at that. Thank you again for all your help and the mod!\n\u003C/p\u003E\n\u003Cp\u003E\nCheers\n\u003C/p\u003E\n\u003Cp\u003E\nPete\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-12T06:11:50Z","Content":"\n\u003Cp\u003E\nI\u0027m having no luck trying to get krpc-clientgen to build client libraries for my extension to kRPC. \u00A0After bringing in all of the kOS and KRPC DLLs as dependencies, I get getting some variety of this error:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E(venv) D:\\git\\KIPC\\KSP\\test\u0026gt;D:\\git\\kipc\\python\\venv\\Lib\\site-packages\\krpctools\\bin\\ServiceDefinitions.Exe KIPC .\\Assembly-CSharp.dll .\\Assembly-CSharp-firstpass.dll .\\KSPAssets.dll .\\KSPCore.dll .\\KSPUtil.dll .\\kOS.dll .\\kOS.Safe.dll .\\ICSharpCode.SharpZipLib.dll .\\KIPCPlugin.dll\nFailed to load assembly \u0027.\\kOS.dll\u0027.\nCould not load file or assembly \u0027kOS, Version=0.20.1.0, Culture=neutral, PublicKeyToken=null\u0027 or one of its dependencies. Operation is not supported. (Exception from HRESULT: 0x80131515)\nAn attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework. This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous. If this load is not intended to sandbox the assembly, please enable the loadFromRemoteSources switch. See http://go.microsoft.com/fwlink/?LinkId=155569 for more information.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nAfter fiddling around some, I managed to get this (more promising) error:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EUnhandled Exception: KRPC.Service.ServiceException: System.String[] is not a valid Procedure parameter type, in KIPC.ResolveVessels\n\u00A0 \u00A0at KRPC.Service.Scanner.ParameterSignature..ctor(String fullProcedureName, ProcedureParameter parameter)\n\u00A0 \u00A0at KRPC.Service.Scanner.ProcedureSignature.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;ProcedureSignature\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Em__0(ProcedureParameter x)\n\u00A0 \u00A0at System.Linq.Enumerable.WhereSelectArrayIterator\u00602.MoveNext()\n\u00A0 \u00A0at System.Collections.Generic.List\u00601..ctor(IEnumerable\u00601 collection)\n\u00A0 \u00A0at System.Linq.Enumerable.ToList[TSource](IEnumerable\u00601 source)\n\u00A0 \u00A0at KRPC.Service.Scanner.ProcedureSignature..ctor(String serviceName, String procedureName, String documentation, IProcedureHandler handler, GameScene gameScene, String[] attributes)\n\u00A0 \u00A0at KRPC.Service.Scanner.ServiceSignature.AddProcedure(MethodInfo method)\n\u00A0 \u00A0at KRPC.Service.Scanner.Scanner.GetServices()\n\u00A0 \u00A0at ServiceDefinitions.MainClass.Main(String[] args)\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhich I then fixed, and am back to either my original error or it simply not finding the service.\n\u003C/p\u003E\n\u003Cp\u003E\nAny idea on might be able to fix this?\n\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2016-07-12T15:12:45Z","Content":"\n\u003Cp\u003E\nAny idea if a Windows 10 Upgrade might cause problems with KSP and KRPC?\u003Cbr\u003E\u003Cbr\u003E\nMy understanding is it will cause problems with KSPIO.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-12T15:17:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222672656\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468336365\u0022 data-ipsquote-userid=\u0022152980\u0022 data-ipsquote-username=\u0022Keith Young\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Keith Young said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny idea if a Windows 10 Upgrade might cause problems with KSP and KRPC?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRunning under windows 10 with no problems.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-13T05:56:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222672668\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468336672\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nRunning under windows 10 with no problems.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI develop kRPC with a combination of Windows 10 and Ubuntu so shouldn\u0027t be any issue \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222672207\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468303910\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny idea on might be able to fix this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nString[] is not a valid parameter type. You need to use an IList\u0026lt;String\u0026gt; for the KIPC.ResolveVessels function.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/161550-petewasere/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022161550\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/161550-petewasere/\u0022 rel=\u0022\u0022\u003E@PeteWasEre\u003C/a\u003E sorry I\u0027m a bit bust at the moment, will try and find time to look at your questions later this week!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-13T06:02:25Z\u0022 title=\u002207/13/2016 06:02  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 13, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-07-13T10:18:46Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u00A0- absolutely no drama mate, whenever you can!\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-13T14:05:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222673809\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468389385\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nString[] is not a valid parameter type. You need to use an IList\u0026lt;String\u0026gt; for the KIPC.ResolveVessels function.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/161550-petewasere/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022161550\u0022 href=\u0022%7B___base_url___%7D/index.php?/profile/161550-petewasere/\u0022 rel=\u0022external\u0022\u003E@PeteWasEre\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLong since fixed, and I\u0027m back to the problem of either it can\u0027t load kOS\u0027s assemblies or it can\u0027t find the service. \u00A0The latter occurs if I don\u0027t include the kOS DLLs in the command or I try my workaround of using a tool that strips all of the code from an assembly and just leaves behind the declarations.\n\u003C/p\u003E\n\u003Cp\u003E\nI have my plugin working otherwise (pushed 0.1.1 last night) but the usage is currently limited to clients that don\u0027t need the service definitions.\n\u003C/p\u003E\n"},{"CreatedByName":"LtMtz","CreatedById":166455,"CreatedDateTime":"2016-07-14T10:22:18Z","Content":"\n\u003Cp\u003E\nHello djungelorm,\n\u003C/p\u003E\n\u003Cp\u003E\ni\u0027m still rubbing my eyes, this is an unbelievable mod!! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI got a problem which is sure located between my ears but i hope you could answer my questions. \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cbr\u003E\nSo far i got the mod working and run my first basic commands while reading your fine manual.\n\u003C/p\u003E\n\u003Cp\u003E\n1. At the moment im stuck with putting a vessel on the launchpad. Here is my python console:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;\u0026gt; import krpc; conn = krpc.connect(name=\u0027Houston\u0027);\u003Cbr\u003E\n\u0026gt;\u0026gt;\u0026gt; conn.space_center.launch_vessel_from_vab(test)\u003Cbr\u003E\nTraceback (most recent call last):\u003Cbr\u003E\n\u00A0 File \u0022\u0026lt;pyshell#162\u0026gt;\u0022, line 1, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0 conn.space_center.launch_vessel_from_vab(test)\u003Cbr\u003E\nNameError: name \u0027test\u0027 is not defined\u003Cbr\u003E\n\u0026gt;\u0026gt;\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nSo, why doesn\u0027t it find my saved vessel which is called test?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n2. I tried to list all Vessels from the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E to make sure its known but i get following error:\n\u003C/p\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;\u0026gt; conn.space_center.launchable_vessels (\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E)\u003Cbr\u003E\nTraceback (most recent call last):\u003Cbr\u003E\n\u00A0 File \u0022\u0026lt;pyshell#187\u0026gt;\u0022, line 1, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0 conn.space_center.launchable_vessels (\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E)\u003Cbr\u003E\nNameError: name \u0027\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E\u0027 is not defined\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIm pretty sure im doing something dumb but it would be kind if you could tell me what i\u0027m doing wrong.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance!\n\u003C/p\u003E\n\u003Cp\u003E\nBest wishes,\u003Cbr\u003E\nLtMtz\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-14T10:23:06Z\u0022 title=\u002207/14/2016 10:23  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 14, 2016\u003C/time\u003E by LtMtz\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-14T16:45:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222675598\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468491738\u0022 data-ipsquote-userid=\u0022166455\u0022 data-ipsquote-username=\u0022LtMtz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, LtMtz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003EIm pretty sure im doing something dumb but it would be kind if you could tell me what i\u0027m doing wrong.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance!\n\u003C/p\u003E\n\u003Cp\u003E\nBest wishes,\u003Cbr\u003E\nLtMtz\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYour Python code is looking for the value of a variable named \u0027test\u0027 rather than using \u0022test\u0022 as a string. \u00A0Similar for \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m guessing that you\u0027re new to Python. \u00A0You may want to familiarize yourself with the language itself before using kRPC -- there\u0027s a tutorial in the Python docs, or you might try one of these: (Disclaimer: I can\u0027t vouch for any of these, but I\u0027ve heard the first one come up fairly often)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://learnpythonthehardway.org\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://learnpythonthehardway.org\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://hourofpython.com\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://hourofpython.com\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.codecademy.com/learn/python\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.codecademy.com/learn/python\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOr asking for good resources on the Python IRC channel:\u00A0\u003Ca href=\u0022https://www.python.org/community/irc/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.python.org/community/irc/\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"LtMtz","CreatedById":166455,"CreatedDateTime":"2016-07-14T20:16:53Z","Content":"\n\u003Cp\u003E\nHi dewin,\n\u003C/p\u003E\n\u003Cp\u003E\nthanks for the links, the third one is a nice one which i will use to get familiar with python!! Well i know a bit about programming but im new to python. Maybe i acted a bit sloppy as im used to uninitialized variables giving its name as string. Now with accurate set string it seems to work or at least giving other message... \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nimport krpc\u003Cbr\u003E\nconn = krpc.connect(name=\u0027Houston\u0027)\n\u003C/p\u003E\n\u003Cp\u003E\nprint (\u0027ok\u0027)\u003Cbr\u003E\nvss = \u0027\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u0027\u003Cbr\u003E\nprint (vss)\u003Cbr\u003E\nconn.krpc.GameScene.editor_vab\u003Cbr\u003E\nconn.space_center.launchable_vessels (vss)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\noutput:\u003Cbr\u003E\nok\u003Cbr\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003Cbr\u003E\nTraceback (most recent call last):\u003Cbr\u003E\n\u00A0 File \u0022C:\\Python35-32\\test.py\u0022, line 8, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0 conn.space_center.launchable_vessels (vss)\u003Cbr\u003E\n\u00A0 File \u0022\u0026lt;string\u0026gt;\u0022, line 1, in \u0026lt;lambda\u0026gt;\u003Cbr\u003E\n\u00A0 File \u0022C:\\Python35-32\\lib\\site-packages\\krpc\\client.py\u0022, line 87, in _invoke\u003Cbr\u003E\n\u00A0\u00A0\u00A0 raise RPCError(response.error)\u003Cbr\u003E\nkrpc.error.RPCError: Procedure not available in game scene \u0027SpaceCenter\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe i\u0027m just a bit confused. Do i have to change scenes before i can get a list like i would do ingame? Thats the reason why i also tried\u00A0 \u0022conn.krpc.GameScene.editor_vab\u0022. Well both tries ended up with same error.\n\u003C/p\u003E\n\u003Cp\u003E\nFrom what i read in the manual and forum it made me thinking that you can directly list or launch vessels while being in the space center scene. From what i learned I would expect the vessel-list output in the python shell. And when heading to a launch or another scene shouldn\u0027t it change the scene ingame? Or am I wrong here?\n\u003C/p\u003E\n\u003Cp\u003E\nI also tested with and without mods, no difference.\n\u003C/p\u003E\n\u003Cp\u003E\nI tested to launch and control a vessel that is already on the launchpad which is working flawless including controling, staging, autopilot, and so on. My actions are visible ingame as i write them into the shell.\n\u003C/p\u003E\n\u003Cp\u003E\nNo clue whats wrong in my space center \u003Cimg alt=\u0022;.;\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 title=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-15T04:12:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676290\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468527413\u0022 data-ipsquote-userid=\u0022166455\u0022 data-ipsquote-username=\u0022LtMtz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, LtMtz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo i have to change scenes before i can get a list like i would do ingame?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, you need to be in the flight scene. Currently the APIs are only available in this scene. Making the APIs available from others scenes, like the space center view, \u003Ca href=\u0022https://github.com/krpc/krpc/issues/263\u0022 rel=\u0022external nofollow\u0022\u003Eis on the todo list for the next version!\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222674230\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468418730\u0022 data-ipsquote-userid=\u002296372\u0022 data-ipsquote-username=\u0022dewin\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/13/2016 at 7:05 AM, dewin said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLong since fixed, and I\u0027m back to the problem of either it can\u0027t load kOS\u0027s assemblies or it can\u0027t find the service. \u00A0The latter occurs if I don\u0027t include the kOS DLLs in the command or I try my workaround of using a tool that strips all of the code from an assembly and just leaves behind the declarations.\n\u003C/p\u003E\n\u003Cp\u003E\nI have my plugin working otherwise (pushed 0.1.1 last night) but the usage is currently limited to clients that don\u0027t need the service definitions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAre you still having issues with this?\n\u003C/p\u003E\n\u003Cp\u003E\nThe tool works by loading each of the DLLs passed via the command line using \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003EAssembly.Load(...)\u003C/span\u003E and then scanning them for the named service. So you will need to pass the path to your service DLL, and the paths of all it\u0027s dependencies (which I guess is just KOS.dll?). The script assumes KRPC.dll is referenced (and has a copy of it) so you don\u0027t need to specify a path to that.\n\u003C/p\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-15T04:24:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676779\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468555965\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep, you need to be in the flight scene. Currently the APIs are only available in this scene. Making the APIs available from others scenes, like the space center view, \u003Ca href=\u0022https://github.com/krpc/krpc/issues/263\u0022 rel=\u0022external nofollow\u0022\u003Eis on the todo list for the next version!\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAre you still having issues with this?\n\u003C/p\u003E\n\u003Cp\u003E\nThe tool works by loading each of the DLLs passed via the command line using \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003EAssembly.Load(...)\u003C/span\u003E and then scanning them for the named service. So you will need to pass the path to your service DLL, and the paths of all it\u0027s dependencies (which I guess is just KOS.dll?). The script assumes KRPC.dll is referenced (and has a copy of it) so you don\u0027t need to specify a path to that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have. \u00A0Either it doesn\u0027t find the service (if I fail to reference KOS), or it complains about the KOS DLL:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022 style=\u0022font-family:monospace, monospace;font-size:14px;clear:both;white-space:pre-wrap;padding:2px;border:1px solid rgb(136,136,136);color:rgb(39,42,52);font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:22.4px;text-indent:0px;text-transform:none;word-spacing:0px;background:rgb(250,250,250);\u0022\u003E\n\u003Cspan class=\u0022pln\u0022 style=\u0022color:rgb(0,0,0);\u0022\u003EAn attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework. This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous. If this load is not intended to sandbox the assembly, please enable the loadFromRemoteSources switch. See http://go.microsoft.com/fwlink/?LinkId=155569 for more information.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nMy passing KRPC.dll along was in efforts to try to get things to work. \u00A0(But I also use KRPC.SpaceCenter); at one point I passed it every single DLL I had in gamedata.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-15T04:27:57Z","Content":"\n\u003Cp\u003E\nJust noticed in your previous post that you\u0027re calling ServiceDefinitions directly. The intended way to do it is to call the \u0022krpc-servicedefs\u0022 python script. For example:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Epip install krpctools\nkrpc-servicedefs C:\\path\\to\\ksp KIPC .\\kOS.dll .\\kOS.Safe.dll .\\ICSharpCode.SharpZipLib.dll .\\KIPCPlugin.dll\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe script copies various DLLs to a temporary directory then runs ServiceDefinitions.exe. Simplifies the arguments slightly. You can run \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Ekrpc-servicedefs --help\u003C/span\u003E for more info\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: just tried it on my linux machine, and the following command worked fine:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ekrpc-clientgen cpp KIPC --ksp /home/alex/workspaces/ksp/ksp-1.1.3.1289 KRPC.SpaceCenter.dll kOS.dll kOS.Safe.dll JsonFx.dll ICSharpCode.SharpZipLib.dll KIPCPlugin.dll\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWill try on Windows.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-15T04:32:57Z\u0022 title=\u002207/15/2016 04:32  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 15, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-07-15T04:33:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676789\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468556877\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust noticed in your previous post that you\u0027re calling ServiceDefinitions directly. The intended way to do it is to call the \u0022krpc-servicedefs\u0022 python script. For example:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Epip install krpctools\nkrpc\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E-\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eservicedefs C\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\\path\\to\\ksp KIPC \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\\kOS\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Edll \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\\kOS\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ESafe\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Edll \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\\I\u003C/span\u003E\u003Cspan\u003ECSharpCode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003ESharpZipLib\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Edll \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\\K\u003C/span\u003E\u003Cspan\u003EIPCPlugin\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Edll\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe script copies various DLLs to a temporary directory then runs ServiceDefinitions.exe. Simplifies the arguments slightly. You can run \u003Cspan style=\u0022font-family:\u0027courier new\u0027, courier, monospace;\u0022\u003Ekrpc-servicedefs --help\u003C/span\u003E for more info\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you mean krpc-clientgen?\n\u003C/p\u003E\n\u003Cp\u003E\nI tried that originally and\u00A0went to calling servicedefs directly to to eliminate possible causes, but I\u0027ve had no luck either way.\n\u003C/p\u003E\n\u003Cp\u003E\nDiscovered that there\u0027s also a krpc-servicedefs (hmm), and same result:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E(venv) D:\\git\\KIPC\u0026gt;krpc-servicedefs KSP\\ KSP\\GameData\\kOS\\Plugins\\kOS.dll KSP\\gamedata\\kos\\Plugins\\kOS.Safe.dll KSP\\gamedata\\kos\\Plugins\\ICSharpCode.SharpZipLib.dll KSP\\GameData\\KIPC\\Plugins\\KIPCPlugin.dll\n\nError: b\u0022Failed to load assembly \u0027KSP\\\\gamedata\\\\kos\\\\Plugins\\\\kOS.Safe.dll\u0027.\\r\\nCould not load file or assembly \u0027kOS.Safe, Version=0.20.1.0, Culture=neutral, PublicKeyToken=null\u0027 or one of its dependencies. Operation is not supported. (Exception from HRESULT: 0x80131515)\\r\\nAn attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework. This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous. If this load is not intended to sandbox the assembly, please enable the loadFromRemoteSources switch. See http://go.microsoft.com/fwlink/?LinkId=155569 for more information.\\r\\n\u0022\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2016-07-15T04:40:31Z","Content":"\n\u003Cp\u003E\nHi All - \u00A0Just trying this mod out, and having trouble getting it installed.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nI have my pip.exe in D:\\Python\\Scripts\\pip.exe, and after pointing in the cmd shell to that file, with a space, and \u0027install krpc,\u0027 I get invalid Syntax error on the \u0027:\u0027 just after the D drive designation. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nRan as \u0022D:\\Python\\Scripts\\pip.exe \u00A0install krpc\u0022 on one line. \u00A0 Syntax error on the \u0027:\u0027. \u00A0\u00A0\u003Cbr\u003E\u003Cbr\u003E\nAny ideas? \u00A0I\u0027ve looked at several tutorials, even going back as far as to try installing pip, and the pip installation instructions I copied also gave me syntax errors. \u00A0 Is there something I am possibly not importing, or have not yet installed to python, that I would need to recognize the commands? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCheers,\u003Cbr\u003E\nBosun\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-07-15T04:45:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222676802\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221468557631\u0022 data-ipsquote-userid=\u0022146083\u0022 data-ipsquote-username=\u0022Bosun\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Bosun said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny ideas?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhere are you running the command? It should be from command prompt (sounds like you might be running it from a python console by mistake?)\n\u003C/p\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2016-07-15T04:47:33Z","Content":"\n\u003Cp\u003E\nEDIT = Got it! \u00A0 Thanks Djungelorm, i was needing an emulator to run it.\u00A0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\nEdit - After I download the krpc files from Github - do I place them in the library folder of Python? \u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-07-15T04:50:19Z\u0022 title=\u002207/15/2016 04:50  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 15, 2016\u003C/time\u003E by Bosun\u003C/strong\u003E\n\u003C/span\u003E\n"}]}