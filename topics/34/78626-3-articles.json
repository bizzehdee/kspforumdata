{"TopicId":78626,"ForumId":34,"TopicTitle":"Fixed Decoupler for KSP x64 on Windows - v4 - (July 22)","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-07-20T14:18:19Z","PageNum":3,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-07-21T22:55:03Z","Content":"\n\u003Cp\u003EI updated the zip with Toadicus .cfg fix (thanks again). \u003C/p\u003E\u003Cp\u003EDon\u0027t blame squad for that bug, it\u0027s most likely a Unity bug and they can\u0027t do much about that.\u003C/p\u003E\u003Cp\u003EFor Procedural Decouplers I ll try to get in touch with e-dog and see if I can do a fix, but know that I m quite busy IRL this week so no promise.\u003C/p\u003E\n"},{"CreatedByName":"Walsht9","CreatedById":103614,"CreatedDateTime":"2014-07-22T01:53:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003Ethe bug (as far as I can tell) is that you can to a decouple and apply force to a part in the same physic frame (at the same time if it makes more sens to you). My decoupler wait 1 frame (about 0.04 seconds) to apply the forces\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWould it be possible to apply this fix to the original squad decoupler code instead of the MM patch and .dll? It would make .craft loading easier. If this is a dumb question feel free to let me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-22T02:03:45Z","Content":"\n\u003Cp\u003ENo, we can\u0027t really dig into KSP\u0027s guts and replace Squad\u0027s own code. The way the MM patch works is by telling KSP to run our code instead.\u003C/p\u003E\n"},{"CreatedByName":"Walsht9","CreatedById":103614,"CreatedDateTime":"2014-07-22T03:47:22Z","Content":"\n\u003Cp\u003EThat\u0027s what I figured. I guess we just have to keep our fingers crossed for a hotfix before the next true update \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Jaxx","CreatedById":95312,"CreatedDateTime":"2014-07-22T04:25:34Z","Content":"\n\u003Cp\u003EJust a heads up, this is super incompatible with TweakableEverything, so don\u0027t use the two together.\u003C/p\u003E\n"},{"CreatedByName":"Walsht9","CreatedById":103614,"CreatedDateTime":"2014-07-22T05:18:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Jaxx\u0022 data-cite=\u0022Jaxx\u0022\u003E\u003Cdiv\u003EJust a heads up, this is super incompatible with TweakableEverything, so don\u0027t use the two together.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EAll: the issue with TweakableEverything should be fixed by removing the \u0022:FOR[DecoupleForX64]\u0022 from the @PART lines in DecoupleForX64.cfg and changing the decouplerModuleName for stack decouplers. ModuleManager doesn\u0027t allow multiple pass declarations and just uses the first; by saying \u0022:FOR[DecoupleForX64]:AFTER[TweakableEverything]\u0022, the patch applies during the \u0022:FOR[DecoupleForX64]\u0022 pass, long before the TweakableEverything pass. Also, the DecoupleForX64 cfg mistakenly used ModuleAnchoredDecouplerX64 for the ModuleDecoupleX64 decouplerModuleName; just a copypasta mistake.\u003Cp\u003ETE and DFX64 should play nicely with this cfg:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleDecouple]]:AFTER[TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleDecouple]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleDecoupleX64\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E @MODULE[ModuleTweakableDecouple]\u003Cbr\u003E {\u003Cbr\u003E @decouplerModuleName = ModuleDecoupleX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleAnchoredDecoupler]]:AFTER[TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleAnchoredDecoupler]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleAnchoredDecouplerX64\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E @MODULE[ModuleTweakableDecouple]\u003Cbr\u003E {\u003Cbr\u003E @decouplerModuleName = ModuleAnchoredDecouplerX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t forget to read the previous posts.\u003C/p\u003E\n"},{"CreatedByName":"acc","CreatedById":80018,"CreatedDateTime":"2014-07-22T14:23:36Z","Content":"\n\u003Cp\u003EMost of the time this plugin works fine, but sometimes is no ejection force applied (seems random). I just updated to v3 now, so this expirience was from the first version. Duno if it\u0027s fixed now.\u003C/p\u003E\n"},{"CreatedByName":"ahappydude","CreatedById":458,"CreatedDateTime":"2014-07-22T15:29:48Z","Content":"\n\u003Cp\u003EDoes anyone else get ctd when selecting the stock decoupler in vab?\u003C/p\u003E\n"},{"CreatedByName":"BigNose","CreatedById":35713,"CreatedDateTime":"2014-07-22T16:38:53Z","Content":"\n\u003Cp\u003EI\u0027m sorry to ask this but: Did you test v3 before updating to it?\u003C/p\u003E\u003Cp\u003EBecause v2 worked very well for me, but since I updated to v3 they stopped applying ejection force again.\u003C/p\u003E\u003Cp\u003EEDIT: I just tested it on a vanilla KSP x64 install on Win7 x64, v2 works, while v3 doesn\u0027t seem to change anything. I guess the plugin is the same? Maybe a typo in the MM file?\u003C/p\u003E\u003Cp\u003EBTW, the logs don\u0027t mention anything.\u003C/p\u003E\u003Cp\u003EEDIT2: I just tried changing the module name of the TR-18A Stack Decoupler manually in the part.cfg to \u0022ModuleDecoupleX64\u0022.\u003C/p\u003E\u003Cp\u003ETurns out it worked, the mentioned decoupler applied force, while other decoupler still did not. SO it MUST be a problem in the new MM file, your module still works fine.\u003C/p\u003E\u003Cp\u003EBefore you ask: I use Module Manager v2.2.0.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-22T17:07:16Z\u0022 title=\u002207/22/2014 05:07  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 22, 2014\u003C/time\u003E by BigNose\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Maikie_G","CreatedById":13120,"CreatedDateTime":"2014-07-22T17:10:35Z","Content":"\n\u003Cp\u003EAfter installing v3 I was launching a craft made of mostly HGR parts but using stock radial decouplers. The radial decouplers don\u0027t seem to work. The HGR stack decouplers worked fine. On an all stock-craft the radial decouplers worked as well.\u003C/p\u003E\u003Cp\u003EI had no issues on v2. Anyone know of a quick fix? I have science to do \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2014-07-22T17:39:07Z","Content":"\n\u003Cp\u003EI\u0027ve dropped ModuleManager.2.2.0.dll in the GameData folder.\u003C/p\u003E\u003Cp\u003EIn GameData I\u0027ve got the DecoupleForX64 folder containing both DecoupleForX64.cfg and DecoupleForX64.dll.\u003C/p\u003E\u003Cp\u003ENOTHING HAPPENS!\u003C/p\u003E\u003Cp\u003EModuleManager doesn\u0027t work and the decouplers still flounder. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-22T17:57:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tex_NL\u0022 data-cite=\u0022Tex_NL\u0022\u003E\u003Cdiv\u003EI\u0027ve dropped ModuleManager.2.2.0.dll in the GameData folder.\u003Cp\u003EIn GameData I\u0027ve got the DecoupleForX64 folder containing both DecoupleForX64.cfg and DecoupleForX64.dll.\u003C/p\u003E\u003Cp\u003ENOTHING HAPPENS!\u003C/p\u003E\u003Cp\u003EModuleManager doesn\u0027t work and the decouplers still flounder. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you loading a craft file saved before you installed DecoupleForX64? If so, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/64711?p=1293613#post1293613\u0022 rel=\u0022external nofollow\u0022\u003Eit won\u0027t work\u003C/a\u003E. You\u0027ll need to rebuild the craft by hand, or at least remove and replace the decouplers.\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2014-07-22T18:36:25Z","Content":"\n\u003Cp\u003ENew craft, old craft. It\u0027s all the same since ModuleManager does NOTHING with the provided files.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-07-22T18:46:40Z","Content":"\n\u003Cp\u003ELet me tell you about a magic tool that helps us dev understand what is going on in your fine computers. \u003C/p\u003E\u003Cp\u003EInside KSP there is a main elf whose sole job is to look at what is going on and write it down.\u003C/p\u003E\u003Cp\u003EEach time he ear one of his fellow elf shouting he write it down in his big book\u003C/p\u003E\u003Cp\u003EAnd with that book a dev tries to understand why the elf can\u0027t work as they should.\u003C/p\u003E\u003Cp\u003EThat book is called a log. And no fine elf is going to deliver it to me unless you post it somewhere.\u003C/p\u003E\n"},{"CreatedByName":"smunisto","CreatedById":57789,"CreatedDateTime":"2014-07-22T19:11:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tex_NL\u0022 data-cite=\u0022Tex_NL\u0022\u003E\u003Cdiv\u003ENew craft, old craft. It\u0027s all the same since ModuleManager does NOTHING with the provided files.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf on load you are getting a fine little white text under the loading bar, stating MM changes - then MM is working. If this text does not appear it simply means you are not doing something correctly. The fix works just fine.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-07-22T19:45:49Z","Content":"\n\u003Cp\u003Ethe patched MM file toadicus posted appears to only work if you *do* have TweakableEverything.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-07-22T19:49:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Ethe patched MM file toadicus posted appears to only work if you *do* have TweakableEverything.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan we get exception for Stability Enhancers in next hotfix patch to MM config? Or can someone tell me how to do exception in config file (Do i have to use some \u0022!\u0022, etc?). Because right now in v0.2 using engines and stability enhancers in same stage doesn\u0027t work.\u003C/p\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-07-22T19:54:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Ethe patched MM file toadicus posted appears to only work if you *do* have TweakableEverything.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs there a particular reason to just use ... \u003Ca href=\u0022http://hastebin.com/ihiqufebuj.mel\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-22T19:57:52Z\u0022 title=\u002207/22/2014 07:57  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 22, 2014\u003C/time\u003E by enneract\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-07-22T19:57:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022koksny\u0022 data-cite=\u0022koksny\u0022\u003E\u003Cdiv\u003ECan we get exception for Stability Enhancers in next hotfix patch to MM config? Or can someone tell me how to do exception in config file (Do i have to use some \u0022!\u0022, etc?). Because right now in v0.2 using engines and stability enhancers in same stage doesn\u0027t work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELaunch clamps don\u0027t use ModuleDecouple or ModuleAnchoredDecoupler, so they are not modified by this mod.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-07-22T20:06:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022enneract\u0022 data-cite=\u0022enneract\u0022\u003E\u003Cdiv\u003ELaunch clamps don\u0027t use ModuleDecouple or ModuleAnchoredDecoupler, so they are not modified by this mod.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are right, strange, i was almost sure clamps worked fine in x64. I will test it without this fix again.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-22T20:39:50Z","Content":"\n\u003Cp\u003ENew MM patch:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleDecouple]]:FOR[DecoupleForX64]:NEEDS[!TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleDecouple]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleDecoupleX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleAnchoredDecoupler]]:FOR[DecoupleForX64]:NEEDS[!TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleAnchoredDecoupler]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleAnchoredDecouplerX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleDecouple]]:AFTER[TweakableEverything]:NEEDS[TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleDecouple]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleDecoupleX64\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E @MODULE[ModuleTweakableDecouple]\u003Cbr\u003E {\u003Cbr\u003E @decouplerModuleName = ModuleDecoupleX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleAnchoredDecoupler]]:AFTER[TweakableEverything]:NEEDS[TweakableEverything]\u003Cbr\u003E{\u003Cbr\u003E @MODULE[ModuleAnchoredDecoupler]\u003Cbr\u003E {\u003Cbr\u003E @name = ModuleAnchoredDecouplerX64\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E @MODULE[ModuleTweakableDecouple]\u003Cbr\u003E {\u003Cbr\u003E @decouplerModuleName = ModuleAnchoredDecouplerX64\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EThis adds two patches that will not try to change TweakableEverything modules if TweakableEverything is not installed.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-07-22T20:43:07Z","Content":"\n\u003Cp\u003EThanks again. Updated the zip.\u003C/p\u003E\u003Cp\u003E:AFTER should not check a mod is here but I m far too tired to look into MM atm.\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2014-07-22T20:57:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003Ethe patched MM file toadicus posted appears to only work if you *do* have TweakableEverything.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThen perhaps it\u0027s a good idea to actually tell people this and add it to the first post. Not for me but for others. I\u0027ve already solved all my issues by \u003Cstrong\u003Eupgrading\u003C/strong\u003E back to 32bit. Too many bugs. And a crash every 5 to 20 minutes doesn\u0027t help either.\u003C/p\u003E\n"},{"CreatedByName":"INSULINt","CreatedById":104803,"CreatedDateTime":"2014-07-22T21:41:00Z","Content":"\n\u003Cp\u003Ejust using :FINAL seems to work in ksp 0.24 stock. 11 patches, 0 hidden. Anyone tried this with things like fairings? Not sure how KW works, but procedural seems to use its own module. Gonna mess around with it a bit now...... wish me luck \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ENeither module works as a replacement or addition to the fairing parts. Shame. I figured this would be something that would be solved by squad......\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-22T22:28:42Z\u0022 title=\u002207/22/2014 10:28  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 22, 2014\u003C/time\u003E by INSULINt\u003C/strong\u003E\n\u003Cbr\u003Eupdate on fairing testing\n\u003C/span\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-07-22T22:15:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Tex_NL\u0022 data-cite=\u0022Tex_NL\u0022\u003E\u003Cdiv\u003EThen perhaps it\u0027s a good idea to actually tell people this and add it to the first post. Not for me but for others. I\u0027ve already solved all my issues by \u003Cstrong\u003Eupgrading\u003C/strong\u003E back to 32bit. Too many bugs. And a crash every 5 to 20 minutes doesn\u0027t help either.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just did the same.\u003C/p\u003E\u003Cp\u003EBut te decouplers worked fine from the first moment i installed this fix.\u003C/p\u003E\u003Cp\u003EJust again Sarbian the ulimate mod writer.\u003C/p\u003E\n"}]}