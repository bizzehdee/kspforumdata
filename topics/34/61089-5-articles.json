{"TopicId":61089,"ForumId":34,"TopicTitle":"Throttle Controlled Avionics 1.4.1 [0.90] (5 January \u0026#039;15)","CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-01-25T20:45:54Z","PageNum":5,"Articles":[{"CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-05-27T02:08:52Z","Content":"\n\u003Cp\u003EWell, Zekna has started to put some pressure on, so 1.4 begins to come together nicely already. And it will be the best version up to now.\u003C/p\u003E\n"},{"CreatedByName":"wasmic","CreatedById":64885,"CreatedDateTime":"2014-06-06T08:15:34Z","Content":"\n\u003Cp\u003EI\u0027m so going to use this now that it works with moduleEnginesFX! It\u0027ll be a big help for... certain things.\u003C/p\u003E\n"},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2014-06-06T15:52:44Z","Content":"\n\u003Cp\u003EIn some future version, being able to adjust mean thrust below the current 80 limit would be very helpful for when landing in low gravity environments so there is greater usable throttle range without over thrusting during landing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zenka","CreatedById":105194,"CreatedDateTime":"2014-06-08T12:54:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JeffreyCor\u0022 data-cite=\u0022JeffreyCor\u0022\u003E\u003Cdiv\u003EIn some future version, being able to adjust mean thrust below the current 80 limit would be very helpful for when landing in low gravity environments so there is greater usable throttle range without over thrusting during landing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWouldn\u0027t simply turning down the main throttle work in low G?\u003C/p\u003E\u003Cp\u003EI haven\u0027t tried this myself, but TCA is reactionary (since SAS is) so I see no reason to believe TCA won\u0027t work at low thrusts. (might not be a very smooth experience though \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2014-06-08T15:43:18Z","Content":"\n\u003Cp\u003EThe problem isn\u0027t that it doesn\u0027t work at low thrust the problem is you can\u0027t use a thrust limit below 80% with TCA active. Sometimes you need more thrust for effective maneuvers but when it comes to landing a very high TWR gives very little throttle range where being able to adjust TCA lower limit say 20% for example instead of 80% would give far greater control.\u003C/p\u003E\n"},{"CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-06-08T22:57:39Z","Content":"\n\u003Cp\u003EThe problem is that increasing the range of the slider reduces the resolution on it. I could maybe set it to minimum 60, or use a nonlinear scale, but I think it is easier to disable some of the main engines and use the upcoming reaction control function on all the smaller engines.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027m still working on it, but I have some problems with exactly this feature, to figure out what direction is forward. Also I\u0027m having exams.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-08T23:00:02Z\u0022 title=\u002206/08/2014 11:00  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 8, 2014\u003C/time\u003E by qfeys\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dethsturm","CreatedById":59338,"CreatedDateTime":"2014-07-08T20:55:28Z","Content":"\n\u003Cp\u003EWill there ever be a way to specify what axis are being controlled? Also how about a way to exclude an engine from the controls, such as a center lift fan on a VTOL? Or a way to flag an engine as normally off and only to be used when rotating (throttles up when turning, then goes back to 0)?\u003C/p\u003E\n"},{"CreatedByName":"S1000RRHP4","CreatedById":110137,"CreatedDateTime":"2014-07-13T12:28:17Z","Content":"\n\u003Cp\u003EHello guys i need help, i can\u0027t use this mod and i don\u0027t understand why\u003C/p\u003E\u003Cp\u003Ei have the toolbar, but i don\u0027t have option in it, and i don\u0027t have any new part in my part list...\u003C/p\u003E\u003Cp\u003Ecan you help me?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rentaspoon","CreatedById":78176,"CreatedDateTime":"2014-07-16T07:40:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022S1000RRHP4\u0022 data-cite=\u0022S1000RRHP4\u0022\u003E\u003Cdiv\u003EHello guys i need help, i can\u0027t use this mod and i don\u0027t understand why\u003Cp\u003Ei have the toolbar, but i don\u0027t have option in it, and i don\u0027t have any new part in my part list...\u003C/p\u003E\u003Cp\u003Ecan you help me?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame here doesn\u0027t work for me\u003C/p\u003E\n"},{"CreatedByName":"JackRazor","CreatedById":61168,"CreatedDateTime":"2014-07-22T09:53:12Z","Content":"\n\u003Cp\u003EAny .24 update/compatibility info here?\u003C/p\u003E\n"},{"CreatedByName":"rentaspoon","CreatedById":78176,"CreatedDateTime":"2014-07-22T11:52:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JackRazor\u0022 data-cite=\u0022JackRazor\u0022\u003E\u003Cdiv\u003EAny .24 update/compatibility info here?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWorks fine on the 64 bit version you just need to update toolbar\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2014-07-25T03:07:51Z","Content":"\n\u003Cp\u003EFWIW: OK w v0.24, crashes loading dll with 0.24.1\u003C/p\u003E\u003Cp\u003EJust my 2c as I have many other mods installed, however removing this mod game (0.24.1) loads fine.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2014-07-25T03:32:27Z","Content":"\n\u003Cp\u003EVery nice work! It makes VTOL\u0027s actually fun to build!\u003C/p\u003E\u003Cp\u003EA few suggestions/requests, some of which might have been asked before:\u003C/p\u003E\u003Cp\u003E(1) can you make it so that you can select which engines should be controlled and which should be left alone?\u003C/p\u003E\u003Cp\u003E(2) Its impossible to tell if TCA is on or off. Can you make it change color so we know its on? Or a light light up?\u003C/p\u003E\u003Cp\u003E(3) Weird sound glitch for me when TCA is on. Not sure what info you need...\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2014-07-26T14:56:02Z","Content":"\n\u003Cp\u003EWell that\u0027s truly strange, updated to 0.24.2 \u0026amp; now this mod along with some others (with identical issues, something like \u0027Missing method .ctor in...\u0027) work fine. Can\u0027t reproduce it in 0.24.1 now either, unfortunately logs long gone. Guessing not a mod related bug at all, probably my mono. Sorry for the noise.\u003C/p\u003E\n"},{"CreatedByName":"evilC","CreatedById":60370,"CreatedDateTime":"2014-07-26T16:11:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EVery nice work! It makes VTOL\u0027s actually fun to build!\u003Cp\u003E(1) can you make it so that you can select which engines should be controlled and which should be left alone?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInstall \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/38069-\u0022 rel=\u0022external nofollow\u0022\u003EDavon Throttle Control\u003C/a\u003E and set the non-VTOL engines to another \u0022Davon Group\u0022.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(2) Its impossible to tell if TCA is on or off. Can you make it change color so we know its on? Or a light light up?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere should be a light (red/green) on the TCA icon in the toolbar, to indicate current status.\u003C/p\u003E\n"},{"CreatedByName":"Apophis","CreatedById":66711,"CreatedDateTime":"2014-08-29T10:31:34Z","Content":"\n\u003Cp\u003EI have found a serious bug. If in a ship there are 2 or more command modules with different orientations TCA will choose a random one as reference ignoring which one the user selected.\u003C/p\u003E\u003Cp\u003EThe result is that the torque generated is wrong. Sometimes wrong axis and other inverted controls.\u003C/p\u003E\n"},{"CreatedByName":"dreadicon","CreatedById":117295,"CreatedDateTime":"2014-09-12T00:24:03Z","Content":"\n\u003Cp\u003EI have noticed the same issues as Apophis. Building a VTOL plane is effectively impossible, as only engines oriented horizontally will be recognized correctly, unless launching from the VAB. In which case only engines aligned vertically will be recognized.\u003C/p\u003E\u003Cp\u003EMoreover, this has presented a very vexing problem of being unable to launch a craft with rockets like the shuttle, and then land/relaunch as VTOL. Near Future/Interstellar ion/plasma makes wonderful hopping from low gravity body to low gravity body, but is almost impossible to launch from Kerbin...\u003C/p\u003E\u003Cp\u003EPerhaps you could offer a button in the GUI to reset/recalculate the orientation to the currently active command module\u0027s orientation? This way docking ports can be used to change the orientation as needed.\u003C/p\u003E\u003Cp\u003EEDIT: Just noticed \u0022-TCA will compute everything based on the orientation of the root part.\u0022 I know C#, so looked over the API, then did some digging. The documentation for this game is terrible, but luckly I found what you want: getFwdVector()\u003C/p\u003E\u003Cp\u003E\u0022\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EThankfully there is a vector available called the forward vector: \u003C/span\u003E\u003C/span\u003Evessel.GetFwdVector()\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E which tells us how a positive pitch input changes the rockets orientation. When we start at the launch pad the forward vector is 0.0,1.0,0.0, that is to say positive pitch makes the rockets vector have a bigger y-component. By using some linear algebra we can also get a vector that defines what impact a yaw input will have, which I call the yaw vector. If we assume that there is always some way for us to turn in the right direction we can argue that some combination of yaw and pitch will yield the changes to te rocket\u0027s vector\u0027s x and y components as recommended by the PID controllers. If we call the forward vector \u003C/span\u003E\u003C/span\u003EfwdVec\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E and the yaw vector \u003C/span\u003E\u003C/span\u003EyawVec\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E we can express the relationship like so: \u003C/span\u003E\u003C/span\u003EA*yawVec\u002BB*fwdVec=diff\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E.\u0022\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:Helvetica;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EFull article here: \u003C/span\u003E\u003C/span\u003E\u003Ca href=\u0022http://www.svealiden.se/ksp.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.svealiden.se/ksp.html\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEDIT 2: did some more toying and examining of the code, GetFwdVector may or may not be what you are looking for. However, if you want the current control transform (so the transform which is being used for the nav ball and the craft controls), it can be found using \u003Cspan style=\u0022color:#000000;\u0022\u003Evessel.ReferenceTransform.InverseTransformDirection(partfoo.transform.rotation), where partfoo is the engine in this case. With this I could see actually adding support for all sorts of engine orientations.\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-12T20:19:49Z\u0022 title=\u002209/12/2014 08:19  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 12, 2014\u003C/time\u003E by dreadicon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-10-13T23:41:20Z","Content":"\n\u003Cp\u003EI\u0027ve just uploaded TCA v1.4. I hope you enjoy.\u003C/p\u003E\n"},{"CreatedByName":"spookydonut","CreatedById":10744,"CreatedDateTime":"2014-10-15T08:57:36Z","Content":"\n\u003Cp\u003EWhat license is this under?\u003C/p\u003E\n"},{"CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-10-15T17:56:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022spookydonut\u0022 data-cite=\u0022spookydonut\u0022\u003E\u003Cdiv\u003EWhat license is this under?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis file and source code is licensed under creative commons (\u003Ca href=\u0022http://creativecommons.org/licenses/by-sa/4.0/\u0022 rel=\u0022external nofollow\u0022\u003ECC BY-SA 4.0\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EI\u0027ve added it on the main post.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-10-15T18:53:09Z","Content":"\n\u003Cp\u003EThis is a great mod, quick suggestion/question: perhaps we can tie it to an action group so we toggle the plugin functionality - this will address changing conditions/crafts while in same mission.\u003C/p\u003E\n"},{"CreatedByName":"qfeys","CreatedById":44664,"CreatedDateTime":"2014-10-17T19:26:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MasseFlieger\u0022 data-cite=\u0022MasseFlieger\u0022\u003E\u003Cdiv\u003EThis is a great mod, quick suggestion/question: perhaps we can tie it to an action group so we toggle the plugin functionality - this will address changing conditions/crafts while in same mission.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, you can already toggle the functionality by pressing \u0027y\u0027.\u003C/p\u003E\n"},{"CreatedByName":"Xenro66","CreatedById":123894,"CreatedDateTime":"2014-10-18T19:19:18Z","Content":"\n\u003Cp\u003EThis is a bleedin\u0027 godsend my friend!\u003C/p\u003E\u003Cp\u003EWhen I saw the screenshot with all those engines literally SPAMMED on the side and it was flying.. I just had to download it. Good job\u003C/p\u003E\n"},{"CreatedByName":"Gfurst","CreatedById":126201,"CreatedDateTime":"2014-10-21T15:47:14Z","Content":"\n\u003Cp\u003EHey there , just passing by to report something I\u0027ve noticed\u003C/p\u003E\u003Cp\u003EThis mod is flooding my log with exceptions, this probably caused a bit of lag with, and this wasn\u0027t even while activated. \u003C/p\u003E\u003Cp\u003EI was just doing some test flights with a simpler type rocket( testing new mods).\u003C/p\u003E\u003Cp\u003EThought the functionality provided here is truly awesome, I\u0027ll be pushing to using this whenever I built a more weird deathtrap.\u003C/p\u003E\u003Cp\u003EEither way, hope this is useful to you (this is just a small example, the exception is pretty much continuous):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[EXC 01:13:47.771] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.796] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.827] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.829] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.853] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.878] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003Cbr\u003E[EXC 01:13:47.910] NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\tThrottleControlledAvionics.ThrottleControlledAvionics.FixedUpdate ()\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Scottiths","CreatedById":57116,"CreatedDateTime":"2014-10-22T16:31:29Z","Content":"\n\u003Cp\u003EThis mod needs a bump. Sad to see it so deep in the forums for how amazingly useful it is. Especially for airplanes. I no longer need to line up multi engines perfectly to keep the ship from flipping out once it exits the atmosphere.\u003C/p\u003E\n"}]}