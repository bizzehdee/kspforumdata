{"TopicId":152782,"ForumId":34,"TopicTitle":"[1.8.x] KSPWheel - Physics Based Alternate Wheel Collider [API Only]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-11-30T18:26:55Z","PageNum":3,"Articles":[{"CreatedByName":"Beetlecat","CreatedById":92207,"CreatedDateTime":"2016-12-05T19:44:20Z","Content":"\n\u003Cp\u003E\nThis is all so amazing and astonishing and exciting! Thank you all for the great read in this thread!\n\u003C/p\u003E\n\u003Cp\u003E\nI also didn\u0027t expect the KF stuff to work out of the box with this -- but, wow. This is an auspicious beginning.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-05T19:44:50Z\u0022 title=\u002212/05/2016 07:44  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 5, 2016\u003C/time\u003E by Beetlecat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-05T23:40:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876181\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480964080\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is false; a vehicles motor does not apply torque or any other forces directly to the vehicle or road.\u00A0 A vehicles motor applies torque to drive-train through to the axles, and thus eventually to the wheels, which causes the wheels to spin faster (or slower).\u00A0 It is the friction caused by the difference in velocity of the wheels against the road surface that propels the vehicle.\u00A0 (In real life, the \u0027spin faster\u0027 of the wheel is mostly absorbed by rubber stretch and deformation, so except in extreme cases of slip, the wheel visually appears to adhere to the road, even though there is some stretching and deforming going on at the contact patch)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027ve misunderstood me. Obviously, I know that the axle turns the wheel and the wheel pushes against the surface. What I mean by \u0022The job of the torque isn\u0027t to rotate the wheel, it\u0027s to move the vehicle\u0022 is that the torque has no reason to vary merely because the moment of inertia of the wheel does, because the _purpose_ of applying the torque isn\u0027t to spin the wheel. If the dimensions of the wheel didn\u0027t change, once the vehicle reaches a steady speed on the flat, exactly the same amount of torque will be required to maintain that speed.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876181\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480964080\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMoment of inertia of a wheel -- It does rise with the square of the radius -- \u003Ca href=\u0022http://hyperphysics.phy-astr.gsu.edu/hbase/icyl.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hyperphysics.phy-astr.gsu.edu/hbase/icyl.html\u003C/a\u003E ( MOI of a cylinder = 0.5 * mass * radius ^2 ).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt does, if the mass doesn\u0027t change, but of course the mass does change. I\u0027m not sure what I can add here. If you suppose the new wheel is n times as large in all dimensions as the old one but of like density, you will find it weighs n^3 as much and so the moment of inertia is n^5 times as much.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876181\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480964080\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(Rolling resistance and drag chart, from:\u00A0\u003Ca href=\u0022http://www.asawicki.info/Mirror/Car%20Physics%20for%20Games/Car%20Physics%20for%20Games.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.asawicki.info/Mirror/Car Physics for Games/Car Physics for Games.html\u003C/a\u003E , shows linear increase in RR with speed)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat graph is obviously bogus since it shows traction force constant with speed. That is extremely unlikely since it implies power output is increasing linearly with speed with no limit. The author is simply wrong about rolling resistance being proportional to speed (and it is because they are wrong about this that the RR vs drag curves are the wrong relative shape. Aerodynamic drag dominates much more at higher speeds because it is proportional to the square of speed [1] and rolling resistance is not.)\n\u003C/p\u003E\n\u003Cp\u003E\nThe Wikipedia page mentions speed but does not discuss it in detail; most of the page discusses the usual approximation, where rolling resistance is proportional to the normal force. This is a perfectly good approximation for most purposes and it is a much better one than supposing it is proportional to speed. (For example, see \u003Ca href=\u0022http://www.analyticcycling.com\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.analyticcycling.com\u003C/a\u003E who are happy to use this approximation throughout...)\n\u003C/p\u003E\n\u003Cp\u003E\nI increase RR in my proposed model above the part design speed not because that is realistic but because it\u0027s an easy way to reflect the part\u0027s supposed design speed in its performance, especially given that we don\u0027t have tools like increased maintenance, risk of throwing a tread, losses internal to the drivetrain, or whatever.\n\u003C/p\u003E\n\u003Cp\u003E\n[1] Someone\u0027s going to say, no, cube of speed. Power lost to aero drag follows the cube of speed because the amount of work done against the force is itself proportional to speed.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-05T23:51:55Z\u0022 title=\u002212/05/2016 11:51  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 5, 2016\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-06T06:54:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876490\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480981208\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou\u0027ve misunderstood me. Obviously, I know that the axle turns the wheel and the wheel pushes against the surface. What I mean by \u0022The job of the torque isn\u0027t to rotate the wheel, it\u0027s to move the vehicle\u0022 is that the torque has no reason to vary merely because the moment of inertia of the wheel does, because the _purpose_ of applying the torque isn\u0027t to spin the wheel. If the dimensions of the wheel didn\u0027t change, once the vehicle reaches a steady speed on the flat, exactly the same amount of torque will be required to maintain that speed.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, apparently I did misunderstand you, my apologies; I was interpreting it in technical terms.\u00A0 You are correct, changing of the wheel mass doesn\u0027t change the output power at the wheel for any given torque input; the same amount of power should be available at the road as was input as torque to the wheel.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor a given torque input across a range of wheels of varying moment-of-inertia, each should have the same resultant angular momentum, however they will have differing angular velocities, which is important to the simulation (or rather, the integration method).\u00A0 If a wheel is too light, the angular velocity increase for a given torque across the integration period results in a much higher final velocity, and a higher resulting slip ratio, which causes a greater tendency for the wheel to slip in general and lose traction more easily when downforce is decreased momentarily.\u00A0 If a wheel is too heavy it could limit potential vehicle acceleration at extreme wheel mass values (though at this point, the wheel would weigh a significant portion of the vehicle, so should probably not be encountered with most reasonable configurations).\u00A0 (Okay, so something about that last one is striking me funny, but I\u0027m unable to find where I\u0027m missing something...)\n\u003C/p\u003E\n\u003Cp\u003E\nThis is more a failure of the integration method I\u0027m using than anything else (only standard Euler is available, as I don\u0027t have access to the RigidBody integration), but it is a point that needs to be taken into consideration when dealing with the balancing of wheel parts and setting up their scaling mechanics.\u00A0 I\u0027m investigating alternate integration methods that should hopefully make this less of a concern, but lack of access to the Rigidbody back end means I\u0027m going to have to get creative.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876490\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480981208\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat graph is obviously bogus since it shows traction force constant with speed. That is extremely unlikely since it implies power output is increasing linearly with speed with no limit. The author is simply wrong about rolling resistance being proportional to speed (and it is because they are wrong about this that the RR vs drag curves are the wrong relative shape. Aerodynamic drag dominates much more at higher speeds because it is proportional to the square of speed [1] and rolling resistance is not.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI suppose this is probably a difference in terminology.\u00A0 I use rolling resistance as a general term to include friction losses caused by bearings, gearing and axles (all speed dependent, some also load dependent) and losses from tire deformation (which I thought was also speed and load dependent).\u00A0 However I believe the latter (tire deformation) is the proper/technical definition of rolling resistance, and the former (bearing friction) is more often called drivetrain loss or drivetrain efficiency.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nReading up more on that, nearly every source agrees that it is independent of speed (on a smooth surface), and is a constant term multiplied by wheel load; you are correct in that tire deformation rolling resistance is a constant force, and I learned something new today \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E.\u00A0 I\u0027ll try to differentiate the two better in the future to avoid any further confusion.\u00A0 The two aren\u0027t really related and probably shouldn\u0027t be lumped together -- a tire devoid of any bearings, axles, or other rigging (so, just a tire) will still experience rolling resistance based on deformation, but obviously would not experience any sort of drivetrain related losses; a free hanging axle without any form of tire\u00A0(or with...) will still experience friction losses, but would not experience any rolling resistance.\n\u003C/p\u003E\n\u003Cp\u003E\nI would like to model both, as I think that drivetrain resistance could be a large contributor at higher speeds, especially with tracked vehicles.\u00A0 Using a linear speed-based approach greatly simplifies the integration end of things, but I\u0027ll also look into adding in a flat term to represent the loss due to tire deformation.\u00A0 No reason that both can\u0027t be present and configurable.\u003Cbr\u003E\u003Cbr\u003E\n(That graph probably wasn\u0027t the best example, as the author was demonstrating more the concept of \u0027max attainable speed\u0027 where traction forces and resistance forces balance out, rather than graphing any realistic example of rolling resistance.\u00A0 The article did note that author was also factoring in drive-train and friction losses for his \u0027rolling resistance values\u0027, but apparently his choice of terminology was poor.)\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876490\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221480981208\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt does, if the mass doesn\u0027t change, but of course the mass does change. I\u0027m not sure what I can add here. If you suppose the new wheel is n times as large in all dimensions as the old one but of like density, you will find it weighs n^3 as much and so the moment of inertia is n^5 times as much.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, which is where things get a bit complicated trying to figure out the proper scaling mechanisms for everything.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nEngines torque should probably increase linearly with part mass (an electric engine with constant kw/kg) (so should be ^3 with increase in scale, not sure how TweakScale actually scales it), same with the \u0027wheel mass\u0027.\u003Cbr\u003E\nWheel radius increases linearly, which as you pointed out results in a ^5 scaling to the MoI of the wheel when combined with the mass scaling.\u003Cbr\u003E\nSpring force should probably increase on the square or cube; probably the latter to maintain equivalence with the increase in part mass.\u003Cbr\u003E\nDamper is a derived value, calculated from spring force and damper ratio (which is dimensionless and doesn\u0027t need scaling).\u003Cbr\u003E\nMaxRPM / max-speed -- hard to say...\u003Cbr\u003E\u003Cbr\u003E\n...Going to take me a bit to work through all the TweakScale support, and I\u0027m going to have to nail down the motor setup that I want to use first.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2016-12-06T13:25:44Z","Content":"\n\u003Cp\u003E\nhey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDid a bit more testing with sample rover on Kerbin and Mun ( 3 x fl-t800 tanks with mk1 pod, 3 inline batteries and 4 tr-2l wheels slapped on sides).\n\u003C/p\u003E\n\u003Cp\u003E\nI simply couldn\u0027t get a stable setup for heavy duty wheels for variable weight rovers (i.e. refueler or dumper type). If I got them \u0027stable\u0027 under a given weight, vehicle became ticky and bouncy when empty and vice versa, tried different values from spring / damper and ride height to no effect. I also noticed weird shaking of springs when coming out of a turn so the when a vehicle\u0027s body turns from angled to straight:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FMcCjcY.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/FMcCjcY.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nnote 50% here means neutral compression point for the vehicle given its weight and spring(load capacity).\n\u003C/p\u003E\n\u003Cp\u003E\nOnly stable option for me would be to optimize wheels for light weight and then accept that springs are max compressed and basically not working under heavier load, but that comes around with other problems since max compressed springs are often cause of excessive springiness and erratic behaviour. Then there\u0027s excessive springiness when approaching slight terrain angle change on low-g bodies so yeah. In short it\u0027s hard for me to build heavy mining rover for hauling cargo one way and coming back empty. It seems that you can design rover that works well according to its weight on a given body. But then change the g force or rover\u0027s weight and it\u0027s glitch-happy. But yah I guess those are limitations of physx mentioned by you earlier so just mentioning the stuff here for reference.\n\u003C/p\u003E\n\u003Cp\u003E\nOne more thing, would it be possible to expose drag induced by weight value to it could be changed in the wheel cfg? Right now with a big weight it\u0027s pretty hard to get rover to move.\n\u003C/p\u003E\n"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2016-12-06T17:28:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDid a bit more testing with sample rover on Kerbin and Mun ( 3 x fl-t800 tanks with mk1 pod, 3 inline batteries and 4 tr-2l wheels slapped on sides).\n\u003C/p\u003E\n\u003Cp\u003E\nI simply couldn\u0027t get a stable setup for heavy duty wheels for variable weight rovers (i.e. refueler or dumper type). If I got them \u0027stable\u0027 under a given weight, vehicle became ticky and bouncy when empty and vice versa, tried different values from spring / damper and ride height to no effect. I also noticed weird shaking of springs when coming out of a turn so the when a vehicle\u0027s body turns from angled to straight:\n\u003C/p\u003E\n\u003Cp\u003E\n*snip*\n\u003C/p\u003E\n\u003Cp\u003E\nnote 50% here means neutral compression point for the vehicle given its weight and spring(load capacity).\n\u003C/p\u003E\n\u003Cp\u003E\nOnly stable option for me would be to optimize wheels for light weight and then accept that springs are max compressed and basically not working under heavier load, but that comes around with other problems since max compressed springs are often cause of excessive springiness and erratic behaviour. Then there\u0027s excessive springiness when approaching slight terrain angle change on low-g bodies so yeah. In short it\u0027s hard for me to build heavy mining rover for hauling cargo one way and coming back empty. It seems that you can design rover that works well according to its weight on a given body. But then change the g force or rover\u0027s weight and it\u0027s glitch-happy. But yah I guess those are limitations of physx mentioned by you earlier so just mentioning the stuff here for reference.\n\u003C/p\u003E\n\u003Cp\u003E\n*snip*\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is actually very realistic, one of the limitations of setting up real life heavy duty vehicles with standard suspensions (standard metal springs) is that you can\u0027t optimize them for both loaded and unloaded states, when optimized for heavy loads then when unloaded the vehicle experiences a very harsh rough and jittery ride as the springs are far to stiff for the low weight. This is why most modern semi\u0027s utilize pneumatic springs (air bags) instead of standard metal springs because as the spring gets more compressed they get progressively stiffer allowing for reasonable ride and control when unloaded but still able to support a heavy load.\n\u003C/p\u003E\n\u003Cp\u003E\nSo basically the only solution to this would be Shadowmage implementing some progressive spring curves which sounds like a pain in the a** to code, or have the ability to adjust the spring stiffness while in flight.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-06T17:29:55Z\u0022 title=\u002212/06/2016 05:29  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 6, 2016\u003C/time\u003E by Akira_R\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-06T17:52:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne more thing, would it be possible to expose drag induced by weight value to it could be changed in the wheel cfg? Right now with a big weight it\u0027s pretty hard to get rover to move.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNone is currently modeled, so adjusting it would not be a cure to whatever problem you are experiencing (there is zero rolling resistance or drive-train friction losses).\u00A0 Could I see a screenshot of the rover with the wheel config menu open while it is experiencing this problem?\u003Cbr\u003E\n(If wheels are at max compression, you are riding on the bump-stop collider, which pretty much drags on the ground, in addition to loss of traction)\u003Cbr\u003E\n(Could also be that the wheel doesn\u0027t have enough torque for the chosen use; especially if it is tweakscaled, as the tweakscale support is... well, simply not finished, and is not going to give the correctly scaled stats for torque/wheel-mass, etc)\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 This would also change depending on what body you are testing on.\u00A0 On Kerbin max acceleration should be ~1g (9.8m/s) for a 4wd vehicle, with some margin for the tires friction coefficient (you might see 1.2g on really sticky tires) (more torque would not help, only make the tires spin out).\u00A0 On Minmus your max acceleration will be -much- lower; pretty much linear with the gravity -- so max acceleration on minmus would be ~0.05g, or ~0.5m/s.\u00A0 That is friction at work for you (output at the wheel depends on down-force on the suspension; lower gravity = lower downforce = less traction = lower acceleration).\u00A0 Same on other lower-gravity worlds, you can expect lower maximum acceleration.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI also noticed weird shaking of springs when coming out of a turn so the when a vehicle\u0027s body turns from angled to straight:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWere they actually hitting 100% compression in the turn?\u00A0 If so, the bump-stop colliders were probably dragging against the surface;\u00A0 I\u0027ve set them to zero friction, but I also had to set them to zero bounce -- so anytime they impact, all energy from the impact is absorbed (having non-zero bounce results in... well.. lots of bouncing anytime bump-stop is hit).\n\u003C/p\u003E\n\u003Cp\u003E\nOtherwise I would have to see the right-click menu throughout the turn in order to be able to diagnose the problem, as I\u0027ve not seen anything like that in any of my testing -- properly setup suspension at max turn rate is always smooth and even (though the amount of understeer/oversteer varies with speed and throttle).\u00A0 Could be any number of things, including the other tires going through break-loose-then-grip oscillations.\n\u003C/p\u003E\n\u003Cp\u003E\nWas there a specific vehicle arrangement needed to trigger this?\u00A0 (screenshots with wheel right-click menu open when going around the thrun would be beneficial)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI simply couldn\u0027t get a stable setup for heavy duty wheels for variable weight rovers (i.e. refueler or dumper type). If I got them \u0027stable\u0027 under a given weight, vehicle became ticky and bouncy when empty and vice versa, tried different values from spring / damper and ride height to no effect.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNormally semi-trucks and other vehicles intended to support widely varying loads have their suspension setup to support the maximum of those loads.\u00A0 When unloaded they ride near the top of their suspension travel, and have an extremely stiff and rough ride when not loaded down.\u00A0 Some have variable suspension, or non-linear gas-based suspension, either of which can allow for a better range of load handling and improved unloaded ride quality.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem with this approach in-game is that the simulation breaks down with such large spring forces and such small compression distances; you end up with something that wants to bounce and jitter at the top of its suspension, but works fine when load is added.\u00A0 One of those bits of \u0027simulation cannot match real world behaviour to extreme precision due to integration limitations\u0027.\u00A0 Really wish I didn\u0027t have to put out that excuse? reason?\u00A0 but it exists, and there is -nothing- I can do about it (unless Unity opens up their PhysX integration code to modification; and even then it may need to come even lower-level at the PhsX end of things, which is all run from C\u002B\u002B compiled libraries).\n\u003C/p\u003E\n\u003Cp\u003E\n^^^ This is probably why all wheels in stock use auto-spring tuning.\u00A0 Every time the vessel mass changes, the suspension re-adjusts itself to maintain the same nominal travel range, and keep the suspension within the valid simulation range.\u00A0 I still really hate the concept, but I suppose I can see why it was used (so that these kind of problems don\u0027t pop up all the time).\u00A0 Will see what I can do about implementing something similar.\u00A0 It really is the only way that these will work as a publicly available / generically usable asset, as general expectations do not line up very well with the simulation limitations...\u003Cbr\u003E\u003Cbr\u003E\nAnother problem regarding suspension use like this -- you would want to use wheels with a very large overall suspension travel (~1m), and set them to ride near the top of their suspension when unloaded.\u00A0 Sadly most of the wheels in KSP have 0.25m of travel or less (terrible, I have scale RC cars with \u0026gt;10cm of suspension travel); for a use-case like you have posted above, you are going to want at least 0.5m of travel (none of the stock wheels come anywhere near that).\u00A0 Notably the \u0027ruggedized\u0027 wheels are terrible (0.125m), as are the stock extra-large tank-steering wheels for their intended load range (0.25m, should be at least 0.5m, and closer to 1m); neither should be used with any real load on them, the models and designs are quite poor.\u00A0 The stock dougnut wheel is not too bad for most uses (0.25m travel), and the stock micro wheel is very good for its intended load range (~0.2m travel)\u00A0 (yes, the \u003Cstrong\u003Emicro\u003C/strong\u003E wheel has almost as much travel as the \u003Cstrong\u003Elargest\u003C/strong\u003E wheel;\u00A0 if that doesn\u0027t point out a problem with the models, nothing will...).\u00A0\u003Cbr\u003E\u003Cbr\u003E\nThe longer the suspension travel, the more stable the simulation in general, \u003Cstrong\u003Eand\u003C/strong\u003E it can allow for a wider range of loads on a given wheel without changing its settings while maintaining a stable simulation.\u00A0 This occurs because spring force is linear with spring compression;\u00A0 if you can support load X at compression 0.2 (empty vehicle), you can support load X*2 at compression 0.4, and load X*4 at compression 0.8.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThen there\u0027s excessive springiness when approaching slight terrain angle change on low-g bodies so yeah\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m investigating potential workaround solutions to the \u0027stiff spring\u0027 syndrome.\u00A0 It is another problem with the limits of integration.\u00A0 Basically it sees compression X before hitting the slope, which gives spring force Xk.\u00A0 After hitting the slope, the compression is then Y, which gives spring force Yk.\u00A0 The problem comes when the difference in Xk and Yk is greater than that needed to bring the vehicle back to ride height\u00A0 -- because of the length of each simulation \u0027tick\u0027, the vehicle is actually in an erroneous position that incorrectly compresses the springs more than it should have;\u00A0 if the simulation frequency were increased/time-step reduced, the vehicle would have responded properly -as- the compression was occurring, rather than having to respond -after- all of the compression has already occurred (which is where the bounce comes from).\n\u003C/p\u003E\n\u003Cp\u003E\nThe same thing can cause the vehicle to bounce / jump when rolling over smaller obstacles at high velocities; basically the spring had to go from not-compressed, to very compressed, without any time inbetween to allow for intermediate forces (which would have started to lift the vehicle chassis over the obstacle, reducing compression on subsequent ticks, and avoiding the bouncing/launching forces).\n\u003C/p\u003E\n\u003Cp\u003E\nI think about the only thing I can do here is to add a secondary type of damper, that only kicks in on compression, and actually works as a negative damper -- allow brief moments of vastly increased compression with only minor increases in suspension spring output force, and allowing the suspension force to catch up to the new compression state over X ticks (probably based on compression delta, max compression, and.. damper ratio?\u00A0 idk...).\u00A0 Another option is some sort of basic suspension-force-lerping; limiting the maximum increase in spring force between ticks to a fraction of its total potential force, and only increasing actual output force by up-to that amount (will also require some...careful handling... of the damper as well, as damp force is normally linear with compression velocity -- some of the problem could also be caused by the damper now that I think on it).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyhow, thanks for the additional testing and feedback.\u00A0 I\u0027ll see what I can do to clean up some of the problems you are experiencing, I\u0027m afraid many will not be truly solvable (as in proper, concrete, fully stable solution), but for some I may be able to implement acceptable workarounds and compromises.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 After re-reading part of your post, I\u0027m pretty sure I know where most of your problems stem from:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876980\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481030744\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nand 4 tr-2l wheels slapped on sides\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n^^ as pointed out in the post above; those wheels are absolutely terrible for any sort of \u0027dynamic\u0027 use due to their extremely limited suspension travel range.\u00A0 With those wheels you are lucky if you can get them working at all (they were the wheel that gave me the most problems when trying to set them up for any sort of non-simplistic use, entirely due to their lack of suspension travel range).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-06T18:05:15Z\u0022 title=\u002212/06/2016 06:05  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 6, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ryusho","CreatedById":7056,"CreatedDateTime":"2016-12-06T23:30:46Z","Content":"\n\u003Cp\u003E\nQuestion in part related to this, HAve you decided or gotten permission to basically include/add the KF wheels to whatever mod your making with this to work with it? considering the fact if you get permission, it wo uld help keep such nice wheels around, and also would mean we would only have the working ones, and not the \u0027broken\u0027 ones like the current \u0027test\u0027 configuration caused by downloading Kerbal Foundrie- ..Oh ..derp, I just saw you have it on your end-bit with the other mods you work with and/or develop X_X\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-06T23:54:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222877753\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481067046\u0022 data-ipsquote-userid=\u00227056\u0022 data-ipsquote-username=\u0022Ryusho\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, Ryusho said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nQuestion in part related to this, HAve you decided or gotten permission to basically include/add the KF wheels to whatever mod your making with this to work with it? considering the fact if you get permission, it wo uld help keep such nice wheels around, and also would mean we would only have the working ones, and not the \u0027broken\u0027 ones like the current \u0027test\u0027 configuration caused by downloading Kerbal Foundrie- ..Oh ..derp, I just saw you have it on your end-bit with the other mods you work with and/or develop X_X\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nYes, I have gotten permission from Lo-fi to continue working on (or at least working with) KF in his absence.\u00A0 I have not yet \u0027assumed control\u0027 as it were, as I\u0027m waiting for the dust to settle a bit, and still working on making sure that the physics of the wheels aren\u0027t going to break down.\u00A0 (Licensing on the plugin and assets are open source, so technically anyone could pick up future development as long as they followed the licensing requirements).\u003Cbr\u003E\u003Cbr\u003E\nI\u0027m also trying to decide if I have time to maintain KF as well as my existing mods (I really don\u0027t, but as nobody else is stepping up, I\u0027ll see what I can do).\u00A0 My original intent of involvement in all of this was to make the wheel collider and to step down after the wheel collider was working, to let the existing teams take care of their own mods (as I already have my own mod(s) to work on, that already take up more time than I have available; adding more work to the queue will only make everything progress slower).\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll likely open up a \u0027Kerbal Foundries -- continued\u0027 form thread in the next few weeks.\u00A0 I\u0027m also not sure that I will be able to get the existing KF plugin code working with the new wheel colliders in a timely manner (mostly due to being unfamiliar with the KF code), so have not yet decided what route to take as far as \u0027official\u0027 updates to the parts.\u00A0 Seems likely that I\u0027ll work on cleaning up/finishing the existing KSPWheel PartModules.\u00A0 They were originally not intended to be a long term solution, and had intended them to exist only until the KF plugin was fixed; sadly as the KF plugin will not be getting fixed, I have no other options but to maintain them in the long term.\u00A0 The KF-configs included in KSPWheel are, obviously, intended merely for testing of the physics -- hence the duplication of parts.\u00A0 If/when I pick up development on the mod in earnest, the duplicate parts and broken plugin will be fixed up properly.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nAt this point I pretty much have to ask -- is there anyone interested in working on the PartModules end of things?\u00A0 Feature development, bugfixing, maintenance, updates, etc.\u00A0\u003Cbr\u003E\nThe ideal candidate would be familiar with Unity and PhysX, competent with C# and the KSP-API, and have a good understanding of vehicle physics and dynamics as they relate to integrated simulations.\u00A0 (I know, highly improbable; even I only meet the first two of those criteria)\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Araym","CreatedById":46343,"CreatedDateTime":"2016-12-07T13:19:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222877239\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481045330\u0022 data-ipsquote-userid=\u0022117470\u0022 data-ipsquote-username=\u0022Akira_R\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, Akira_R said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is actually very realistic, one of the limitations of setting up real life heavy duty vehicles with standard suspensions (standard metal springs) is that you can\u0027t optimize them for both loaded and unloaded states, when optimized for heavy loads then when unloaded the vehicle experiences a very harsh rough and jittery ride as the springs are far to stiff for the low weight. This is why most modern semi\u0027s utilize pneumatic springs (air bags) instead of standard metal springs because as the spring gets more compressed they get progressively stiffer allowing for reasonable ride and control when unloaded but still able to support a heavy load.\n\u003C/p\u003E\n\u003Cp\u003E\nSo basically the only solution to this would be Shadowmage implementing some progressive spring curves which sounds like a pain in the a** to code, or have the ability to adjust the spring stiffness while in flight.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBasically, \u0022heavy duty vehicles\u0022 HAVE adjustable springs \u0022on the fly\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nThe most used one is the \u0022compressed air filled suspension\u0022, where a spring is incapsulated in a \u0022rubber casing\u0022 (maybe actually no more rubber \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E) and filled with compressed air to vary stiffness and height, to change the response .\n\u003C/p\u003E\n\u003Cp\u003E\nGive to the end user the possibility to change \u0022stiffness\u0022 and \u0022running height\u0022 as loads vary could improve:\n\u003C/p\u003E\n\u003Cp\u003E\n- heavy duty vehicles, that have a lot of weight differences from empty to loaded\u003Cbr\u003E\n- \u0022All-terrain\u0022 vehicles, that could improve their behaviour on \u0022smooth\u0022 terrain (a bit more stiffness, less height) to rough, bumpy one (less stiff, more height)\u003Cbr\u003E\n- rovers that need special settings on low and high G bodies (both for small planets/moons than Kerbin, but also for a rover ending its lfe in a planet like Eve)\u003Cbr\u003E\n- racing vehicles (!!!): someone colud like to build up racing cars, both for some \u0022flat use only\u0022 (like F1/Indy/NASCAR/GT etc etc race vehicles) or for \u0022dirty tracks\u0022 (some creations meant to travel fast like \u0022rally car\u0022 on bumpy terrains)\n\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2016-12-07T14:14:20Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nthx for your lengthy response, I\u0027ll surely take it into consideration tweaking my custom wheels so they work properly (making sure there\u0027s enough spring range ;))\n\u003C/p\u003E\n\u003Cp\u003E\nfor now I\u0027m lacking time so just a pic of the test vehicle I used mostly for the tests, I also used hyperedit to empty/refill fuel tanks on the go simulating heavier / lighter vehicle:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nL0lQaA.png\u0022 class=\u0022ipsImage\u0022 height=\u0022300\u0022 src=\u0022http://i.imgur.com/nL0lQaA.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nduring tests I used locked camera mode and highlight the wheel so it\u0027s easier to observe behaviour of it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tVxwdbW.png\u0022 class=\u0022ipsImage\u0022 height=\u0022750\u0022 src=\u0022http://i.imgur.com/tVxwdbW.png\u0022 width=\u0022990\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\ninitial values; I played with 3 top values pretty much through the whole range and then drove with empty and full tanks\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit:\n\u003C/p\u003E\n\u003Cp\u003E\n1. \u0022 I also noticed weird shaking of springs when coming out of a turn so the when a vehicle\u0027s body turns from angled to straight: \u0022 this behaviour also exists when compression is less than 100% (i.e. 75%).\n\u003C/p\u003E\n\u003Cp\u003E\n2. from what i test there\u0027s some sort of friction the scales with the mass on the wheel; example setup:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ImwKFJo.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/ImwKFJo.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nthe large tank above is for testing purposes, I start with empty and then fill it gradually with fuel using hyperedit and check mass using \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E, from about 44 tons vehicle can\u0027t move, with less than that vehicle stops abruptly when not pressing \u0027forward\u0027. If it\u0027s possible to have access to this friction value and modify it in cfg (i.e. for larger wheels) it would be great:)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOnce again thank you for your dedication working on this \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-07T14:25:57Z\u0022 title=\u002212/07/2016 02:25  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 7, 2016\u003C/time\u003E by riocrokite\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-07T18:21:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222878407\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481120060\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nthx for your lengthy response, I\u0027ll surely take it into consideration tweaking my custom wheels so they work properly (making sure there\u0027s enough spring range ;))\n\u003C/p\u003E\n\u003Cp\u003E\nfor now I\u0027m lacking time so just a pic of the test vehicle I used mostly for the tests, I also used hyperedit to empty/refill fuel tanks on the go simulating heavier / lighter vehicle:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nedit:\n\u003C/p\u003E\n\u003Cp\u003E\n1. \u0022 I also noticed weird shaking of springs when coming out of a turn so the when a vehicle\u0027s body turns from angled to straight: \u0022 this behaviour also exists when compression is less than 100% (i.e. 75%).\n\u003C/p\u003E\n\u003Cp\u003E\n2. from what i test there\u0027s some sort of friction the scales with the mass on the wheel; example setup:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nthe large tank above is for testing purposes, I start with empty and then fill it gradually with fuel using hyperedit and check mass using \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E, from about 44 tons vehicle can\u0027t move, with less than that vehicle stops abruptly when not pressing \u0027forward\u0027. If it\u0027s possible to have access to this friction value and modify it in cfg (i.e. for larger wheels) it would be great:)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOnce again thank you for your dedication working on this \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n1.) Interesting; I cannot say that I\u0027ve observed this behaviour in any of the testing I\u0027ve done.\u00A0 Could you upload the craft file you are using, with the wheels setup the same as are causing problems for you?\u00A0 (along with instructions on how to make the problem manifest if it takes more than \u0027accelerate, then turn, then go straight, then watch twitching/shaking\u0027)\u00A0 I\u0027ll also see about duplicating it from the pics above, but small differences in construction and placement could give different results.\n\u003C/p\u003E\n\u003Cp\u003E\n2.) Nope, there is -zero- rolling friction currently in play in the current testing releases (\u00A0\u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/blob/master/VSProject/KSPWheel/Component/KSPWheelCollider.cs#L800-L890\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/blob/master/VSProject/KSPWheel/Component/KSPWheelCollider.cs#L800-L890\u003C/a\u003E ).\u00A0 If your brakes are not on, and you are traveling in a straight line, then the only thing that should slow you down is gravity when going up hills and stock aero drag (and a very tiny bit of slowdown due to floating-point inaccuracies).\u00A0 Could I get a copy of the craft that is experiencing this problem, in its problematic setup?\u00A0 (Alternatively, can you show the right-click menu of the wheel when it is experiencing this problem?)\u00A0\u003Cbr\u003E\u003Cbr\u003E\nIt is highly probable that the suspension is overloaded, and the bump-stop colliders are dragging on the ground -- this would cause exactly what you are seeing, and is the only time I have seen such phenomena during testing -- if a wheel is overloaded, they will pretty much not want to move as you are fighting full kinetic friction for dragging a collider; the more overloaded it is, the less it will want to move.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you are putting 44t on those wheels, I can guarantee that they are overloaded unless you\u0027ve tweaked config settings.\u00A0 Their max load rating is set to 3t in the config.\u00A0 4 of those wheels would get you to 12t.\u00A0 Max out the suspension ride height (0.2), and you can get the spring up high enough to maybe support 36t total (at or very near max compression, already less-than-ideal).\u00A0 Anything beyond that, and you have \u003Cem\u003Ewaaaaay\u003C/em\u003E overloaded those wheels (technically they are overloaded with anything past 12t on 4 wheels). \u00A0(I\u0027m not going to say that the 3t max currently specified in the config is correct.. because, well, it was a guessed at value; nobody has provided information on what the min/max loads for wheels should be, and the stock configs do not use any such mechanics so I cannot derive the intended values from their configs)\n\u003C/p\u003E\n\u003Cp\u003E\nThe craft below is using those same wheels.\u00A0 Trailer contains a full orange tank (36t of fuel) \u002B weight of the trailer cargo bay; I think the whole craft came in at ~45t or so.\u00A0 It is using 10 of those wheels, and still can barely support the load without overloading the wheels (I actually had to max the load rating and ride height, and then turn down the damper to maintain proper damping ratio, and the four wheels at the rear of the tractor are just barely in the usable range).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ceE3R5C.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/ceE3R5C.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nI think I\u0027m going to add a screen message to the wheels whenever they are past ~90% compression for more than X seconds it will start posting to the screen messages like \u0027Wheels are overloaded!!!\u0027.\u00A0 Or perhaps I should go the stock route and make them explode if overloaded for too long (perhaps after a warning period)?\u00A0 Not entirely unrealistic either; if I were to put 40t onto my car tires with its current suspension, I would expect the tires to explode, probably the strut as well, and would likely bend or deform most of the rigid suspension components; for all intents and purposes, it would be broken and unusable.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHopefully I can help you track down what is going on in these cases; if you can provide craft files for those two setups it would be beneficial.\u00A0 I\u0027m fairly certain I know what is going on with #2; but for #1 (the turning problem) I would love to take a look at what is going on.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn general development:\u003Cbr\u003E\u003Cbr\u003E\nAdded in a \u0027rolling resistance\u0027 term to the wheel collider physics integration.\u00A0 Is intended to represent the rolling resistance coefficient of\u00A0 a wheel.\u00A0 The coefficient is multiplied by current spring force (to derive a force in newtons), converted to a torque, and applied to the wheel as a change in angular velocity, capped to the current angular velocity of the wheel (so it won\u0027t cause you to roll backward, but it can and bring you to a full stop).\u00A0 It resists motor input forces, so any input force below a threshold will be negated before it can accelerate the wheel or move the vehicle.\u00A0 Input forces above that threshold will be reduced by that amount, and the resultant remainder force applied to the wheel (its actually simpler than that; the motor acts on the wheel first, and then rolling resistance is calculated, potentially bringing the wheel back to a stop).\n\u003C/p\u003E\n\u003Cp\u003E\nAlso added in a \u0027rotational resistance\u0027 term to the wheel collider.\u00A0 It is intended to represent friction from bearings, gearing, magnetic drag on motors; all of the speed dependent resistance sources.\u00A0 The config coefficient is multiplied by current wheel angular velocity to derive a force in newtons, converted to a torque, and applied to the wheel as a change in angular velocity; capped at the current angular velocity so that it cannot apply sign changes.\u00A0 As it is a multiplier to angular velocity it can never bring you to full stop (0 input = 0 output), but has a linear relationship with wheel rpm.\u00A0 (May need to adjust this a bit to ensure that the \u0027resistance\u0027 for cannot outweigh the momentum force; seems I may have to add in spring-force as an additional input term, or more properly probably use wheel momentum (a force/potential) rather than rpm).\n\u003C/p\u003E\n\u003Cp\u003E\nLastly I added in a form of non-linear spring; using a function of k = xy \u002B axy^2 (where x = spring rating, y= compression, a= configurable curve parameter, output of k = calculated spring force for compression y).\u00A0 While it does work as intended (giving a non-linear spring response), it greatly complicates the calculation of a proper spring force for a specific ride height at a given load rating -- will need to come up with a new method to calculate the \u0027auto-tune\u0027 suspension settings.\u00A0 Haven\u0027t yet done any in-KSP testing on it to see if it helps with the \u0027mining rig\u0027 problem, but from the response I was seeing in the Unity editor it should be a decent solution when configured properly for the load and use.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course this will require adding additional user-configurable settings for suspension type (linear, curve) and for the curve grade (the \u0027a\u0027 in the formula above).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-08T01:04:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222876792\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481007272\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 06/12/2016 at 6:54 AM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI suppose this is probably a difference in terminology.\u00A0 I use rolling resistance as a general term to include friction losses caused by bearings, gearing and axles (all speed dependent, some also load dependent) and losses from tire deformation (which I thought was also speed and load dependent).\u00A0 However I believe the latter (tire deformation) is the proper/technical definition of rolling resistance, and the former (bearing friction) is more often called drivetrain loss or drivetrain efficiency.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nA difficulty here is that most of the information about drivetrain losses pertains to motor cars, where it\u0027s typically expressed as a percentage of input power lost. (That would imply it\u0027s a force that does not vary with speed but, like rolling resistance, does more work at higher speeds). This is a perfectly sensible way to look at it in that context, where when the power is shut off most of the drivetrain isn\u0027t doing anything. In my proposed model the term proportional to the mass of the part added to the rolling resistance term is intended to cover these losses.\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately that doesn\u0027t tell us much about tracked vehicles. However, as far as I can tell (see for example \u003Ca href=\u0022http://www.comw.org/pda/0007wheels.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.comw.org/pda/0007wheels.html\u003C/a\u003E section 2.1.2 (which is discussing total losses, I believe, given the discussion of fuel consumption)) it remains the case that most of these losses vary primarily linearly with vehicle weight and not with speed.\n\u003C/p\u003E\n\u003Cp\u003E\nETA: Incidentally, it\u0027s also because of that document that I assess relatively similar rolling resistance penalties for wheels and tracks - while on-road wheels have an enormous advantage, it seems that off-road the two are remarkably similar, perhaps because tracks are much less prone to slipping.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-08T01:49:28Z\u0022 title=\u002212/08/2016 01:49  AM\u0022 data-short=\u00227 yr\u0022\u003EDecember 8, 2016\u003C/time\u003E by damerell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-08T01:14:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222878407\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481120060\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[...snip...]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDoing a bit of testing on the \u0027vehicle won\u0027t move\u0027 problem that you posted.\n\u003C/p\u003E\n\u003Cp\u003E\nAs close to the same configuration as was in your screenshot that I could put together, here is what the wheel right-click menu shows with a 45t craft:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022P5GkONd.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/P5GkONd.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe \u0027Compression\u0027 field is at 0.999\u00A0 -- meaning it is riding on the bump-stop colliders and the wheels are very overloaded, and that is with the \u0027load rating\u0027 maxed out at 3t per wheel.\u00A0 It does perform about like you had described -- very limited traction, very draggy, comes to a stop soon after motor input is stopped.\u00A0 That is the expected behavior for the current simulation model; not entirely realistic, but the best compromise that I could come up with (the other option is to not have a collider; but then the wheels clip through the ground when overloaded and become even more useless).\n\u003C/p\u003E\n\u003Cp\u003E\nI can get it moving decently if I change the \u0027ride height\u0027 to 0.2 with the load rating at 3t and leaving damper at 0.65; I then get about 65% on the compression bar, and it rolls smoothly as expected, responds properly to motor input, and coasts as it should.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nOn the other problem -- smoothness of returning to level after turning -- I am unable to reproduce any problems with testing using the craft from the screenshot above (minus the extra fuel tank of course), even when using the same settings as in your screenshot (ride height = 0.25, damper = 0.65, load rating = 1.5).\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/klq4amnIqog?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThere is a slight over-correction rocking during the leveling-off (rolls a bit the opposite way from momentum), but that is due to the damper ratio being at less-than-critical damping, and is functioning as expected for those settings.\u00A0 If this is different than what you are experiencing, could you provide the craft file that is producing those problems so that I can do testing with the settings that you have on the wheels?\n\u003C/p\u003E\n"},{"CreatedByName":"Akira_R","CreatedById":117470,"CreatedDateTime":"2016-12-08T01:32:33Z","Content":"\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0so I was playing with this and a very much still in-development not intended for public consumption version of \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E that works for 1.2.1 and I just wanted to let you know that currently\u00A0\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E falls flat on it\u0027s face when one of these wheels is used, otherwise everything is fine.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t expect any kind of support obviously as like I said, not at all an official \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E release, I just wanted to bring it to your attention as a possible issue in the future and see if you are interested in looking at any of the logs.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-08T01:43:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222879211\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481160753\u0022 data-ipsquote-userid=\u0022117470\u0022 data-ipsquote-username=\u0022Akira_R\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Akira_R said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0so I was playing with this and a very much still in-development not intended for public consumption version of \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E that works for 1.2.1 and I just wanted to let you know that currently\u00A0\u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E falls flat on it\u0027s face when one of these wheels is used, otherwise everything is fine.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t expect any kind of support obviously as like I said, not at all an official \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E release, I just wanted to bring it to your attention as a possible issue in the future and see if you are interested in looking at any of the logs.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nSure, post them up on Github issues page --\u00A0 \u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/issues\u003C/a\u003E\u003Cbr\u003E\nIt should let you upload directly, no need for dropbox/etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll take a look at it when I\u0027m doing the \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E testing pass with SSTU, which might not be too far off.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2016-12-08T18:15:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222879199\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481159657\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoing a bit of testing on the \u0027vehicle won\u0027t move\u0027 problem that you posted.\n\u003C/p\u003E\n\u003Cp\u003E\n[stuff]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry I\u0027m unable to help you further, I\u0027m quite busy nowadays with house renovation etc. You\u0027re right about that big weight and oscillation when coming out of a turn. I couldn\u0027t reproduce the erratic shaking I\u0027ve got before. The closest I got was with the empty tanks (light vehicle), low loading ratio and high damp values. But it wasn\u0027t exactly what I achieved earlier on so yah, probably not worth pursuing an edge scenario. If it was possible to retain auto-tune feature it would be of a great help for ride smoothness for variable weight rovers. And then I\u0027m really spoiled by unrealistically durable and smooth wheels from unity 4/ksp 1.0.5 with which I was configuring wheels able to support probably close to 25-40t \u003Cspan\u003E@ 1g \u003C/span\u003Eon the wheel without problems (100-200t on the mun):\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/vYGcSpqqSp4?start=36\u0026amp;feature=oembed\u0022 width=\u0022459\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIn other words having durable wheels (big ones) that support heavy load was my main interest because of \u0027mobile multi-vehicle mining bases\u0027 theme and reducing number of wheels for optimization purposes. Personal note; I\u0027ll probably get back to ksp around Feb-March and try to rig my wheels with your mod:) Keep up good work man!\n\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2016-12-08T19:20:29Z","Content":"\n\u003Cp\u003E\none more thing, if this is any consolation - game devs using unreal engine 4 are stuck with the same physx wheel physics \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nexample threads:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forums.unrealengine.com/showthread.php?115680-Vehicles-in-UE4-a-constructive-debate/page2\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forums.unrealengine.com/showthread.php?115680-Vehicles-in-UE4-a-constructive-debate/page2\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forums.unrealengine.com/showthread.php?48843-Horrible-Car-Physics/page9\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forums.unrealengine.com/showthread.php?48843-Horrible-Car-Physics/page9\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nin short people were complaining to epic and epic promised to pass that to nvidia... there\u0027s a slight hope although not soon \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-08T19:33:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222879953\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481220927\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n43 minutes ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry I\u0027m unable to help you further, I\u0027m quite busy nowadays with house renovation etc. You\u0027re right about that big weight and oscillation when coming out of a turn. I couldn\u0027t reproduce the erratic shaking I\u0027ve got before. The closest I got was with the empty tanks (light vehicle), low loading ratio and high damp values. But it wasn\u0027t exactly what I achieved earlier on so yah, probably not worth pursuing an edge scenario. If it was possible to retain auto-tune feature it would be of a great help for ride smoothness for variable weight rovers. And then I\u0027m really spoiled by unrealistically durable and smooth wheels from unity 4/ksp 1.0.5 with which I was configuring wheels able to support probably close to 25-40t \u003Cspan\u003E@ 1g \u003C/span\u003Eon the wheel without problems (100-200t on the mun):\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words having durable wheels (big ones) that support heavy load was my main interest because of \u0027mobile multi-vehicle mining bases\u0027 theme and reducing number of wheels for optimization purposes. Personal note; I\u0027ll probably get back to ksp around Feb-March and try to rig my wheels with your mod:) Keep up good work man!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo worries, I fully understand time constraints (both RL and modding...); the feedback you\u0027ve given has already helped me fix up a couple things, and given me some ideas on what to look for as far as future developments on user-interface and dynamic functionality.\u00A0 Your time and effort is much appreciated, thanks \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHopefully by the time you get around to integrating these into your mods I\u0027ll have most of the quirks resolved and a more fleshed out feature set.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nAs far as having wheels that support large loads -- not a problem by itself; simply adjust the config in the wheel to up the \u0027max load\u0027 to what you think is appropriate (and then set the wheel to the proper load in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E prior to launch).\u00A0 The problems start to creep in when you want the ability to support both a 100t load and a 10t load on the same vehicle, without changing suspension settings (or any other large min/max ratio).\u00A0 But anyhow, I may have some solutions to that as well, see below...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nAs far as wheel loading and auto-tuning go, I think I\u0027m going to take a split-approach to this, based on some config settings in the parts (or a global game-level config setting; undecided).\u00A0 There will be two basic modes available.\u003Cbr\u003E\u003Cbr\u003E\n1.) The first is mostly as is currently seen where the wheels have a hard limit for min and max load, and the user must configure them properly (the engineering approach).\u00A0 This allows for the user to configure the suspension for very specific scenarios, but the wheels \u003Cstrong\u003Emust\u003C/strong\u003E be configured on a per-vehicle/craft/use basis.\u00A0 A basic auto-tune would be available, but would still be limited by config-defined min/max load ratings.\u00A0 Think of this as the \u0027Realism-Overhaul\u0027 mode for the wheels.\u00A0 Wheels that are overloaded for longer than a specific duration divided by overload factor will explode (or at least break) (how far overloaded will determine how quick they pop; so that hitting the bump-stop when landing from a jump shouldn\u0027t explode the wheels due to the momentary contact, but multi-second bottoming out of the suspension will cause damage).\u00A0 In-flight adjustment may or may not be available, likely depending on a per-part config setting.\u003Cbr\u003E\u003Cbr\u003E\n2.)\u00A0 The second mode will be much more user friendly, but far less adjustable.\u00A0 Think along the lines of the stock controls; there will be a \u0027damper\u0027 slider with very limited range, and a \u0027spring adjustment\u0027 slider with very limited range, neither adjusting in discrete units, but will be used as a term in the dynamic calculations.\u00A0 Actual spring rate will vary dynamically with vehicle loading with a minor adjustment based on the \u0027spring\u0027 UI setting.\u00A0 Resultant spring force and damper ratio will be mostly out of the users control; they will only be able to adjust it a very small bit either way to ensure that the simulation stays within the valid stable range.\u00A0 There may be a config set maximum load before \u0027wheel stress explosions\u0027 are applied, but I might also just leave it uncapped.\u00A0 If its going to be gamey, might as well let it truly be gamey.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222880028\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481224829\u0022 data-ipsquote-userid=\u0022129319\u0022 data-ipsquote-username=\u0022riocrokite\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, riocrokite said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\none more thing, if this is any consolation - game devs using unreal engine 4 are stuck with the same physx wheel physics \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nexample threads:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forums.unrealengine.com/showthread.php?115680-Vehicles-in-UE4-a-constructive-debate/page2\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forums.unrealengine.com/showthread.php?115680-Vehicles-in-UE4-a-constructive-debate/page2\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forums.unrealengine.com/showthread.php?48843-Horrible-Car-Physics/page9\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://forums.unrealengine.com/showthread.php?48843-Horrible-Car-Physics/page9\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nin short people were complaining to epic and epic promised to pass that to nvidia... there\u0027s a slight hope although not soon \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIndeed; the problems we are experiencing on the wheels is not the fault of SQUAD, nor solely at the fault of Unity.\u00A0 Although, I do blame Unity for ever releasing their engine with the wheels in their current state; they could have very easily shipped with a custom modified PhysX build that had improved/fixed/not-terrible wheel code, or otherwise implemented custom low-level solutions that Unity end-users cannot create (no matter how much I want to, I cannot hook into the low level PhysX code or physics integration data; but Unity\u0027s native code can and does so already)\n\u003C/p\u003E\n\u003Cp\u003E\nSad that such a major physics library (PhysX) can have such terrible implementation that practically nobody uses it (or even can use it).\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Rushligh","CreatedById":31038,"CreatedDateTime":"2016-12-10T12:57:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222878348\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481116760\u0022 data-ipsquote-userid=\u002246343\u0022 data-ipsquote-username=\u0022Araym\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/7/2016 at 5:19 AM, Araym said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBasically, \u0022heavy duty vehicles\u0022 HAVE adjustable springs \u0022on the fly\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nThe most used one is the \u0022compressed air filled suspension\u0022, where a spring is incapsulated in a \u0022rubber casing\u0022 (maybe actually no more rubber \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E) and filled with compressed air to vary stiffness and height, to change the response .\n\u003C/p\u003E\n\u003Cp\u003E\nGive to the end user the possibility to change \u0022stiffness\u0022 and \u0022running height\u0022 as loads vary could improve:\n\u003C/p\u003E\n\u003Cp\u003E\n- heavy duty vehicles, that have a lot of weight differences from empty to loaded\u003Cbr\u003E\n- \u0022All-terrain\u0022 vehicles, that could improve their behaviour on \u0022smooth\u0022 terrain (a bit more stiffness, less height) to rough, bumpy one (less stiff, more height)\u003Cbr\u003E\n- rovers that need special settings on low and high G bodies (both for small planets/moons than Kerbin, but also for a rover ending its lfe in a planet like Eve)\u003Cbr\u003E\n- racing vehicles (!!!): someone colud like to build up racing cars, both for some \u0022flat use only\u0022 (like F1/Indy/NASCAR/GT etc etc race vehicles) or for \u0022dirty tracks\u0022 (some creations meant to travel fast like \u0022rally car\u0022 on bumpy terrains)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMore advanced all terrain and military vehicles now utilize magnetic suspension that can be altered with the vehicles on-board computer.\n\u003C/p\u003E\n"},{"CreatedByName":"qromodynmc","CreatedById":87139,"CreatedDateTime":"2016-12-10T13:04:40Z","Content":"\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E, i wanted to ask something; does kerbal foundries cfg files still work when your patch applied? Turn speed is absymal when using neutral steering, i tried adjusting everything and when i get somewhat useful turn, this time friction goes way too low. Should i start messing with KF configs or im missing something?\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-10T18:23:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222882168\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481375080\u0022 data-ipsquote-userid=\u002287139\u0022 data-ipsquote-username=\u0022qromodynmc\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, qromodynmc said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E, i wanted to ask something; does kerbal foundries cfg files still work when your patch applied? Turn speed is absymal when using neutral steering, i tried adjusting everything and when i get somewhat useful turn, this time friction goes way too low. Should i start messing with KF configs or im missing something?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nThey seem to work fine for me?\n\u003C/p\u003E\n\u003Cp\u003E\nPics of the craft with the wheel right-click menu open?\u00A0 And what kind of turn rate are you expecting?\u003Cbr\u003E\u003Cbr\u003E\nMostly the tracks (and large stock wheels) have turn rate that is very dependent on the geometry and positioning of the wheels.\u00A0 Wide and short craft turn much better than long and skinny craft.\u00A0 This all comes back to the fact that the existing part modules (and configs) were not intended for long-term use, but were written specifically \u003Cstrong\u003Efor testing of the wheel collider physics\u003C/strong\u003E.\u00A0 Many things are not handled, or using overly simplified abstractions or quick hacks.\u00A0 My original intention was to do testing to make sure the wheel colliders worked, and then let other mods\u0027 take care of writing the part-modules and their functions, at which point the existing modules and patches would have been removed.\u003Cbr\u003E\u003Cbr\u003E\nTL:DR\u00A0 -- all of the existing KSP relevant code was supposed to be temporary, and only intended to test the wheel collider physics.\u003Cbr\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll be changing the focus of development soon.\u00A0 I have not the time, nor desire, to write or support an entire vehicle system.\u00A0 I had opened this thread up to give a discussion area for testing of the collider while Lo-fi was away on vacation.\u00A0 But Lo-fi has returned and stepped down, nobody else has come forward who is interested in writing PartModules or helping in any fashion, and I simply don\u0027t have the time or desire to do it all.\u00A0 I tried to develop a generically usable set of PartModules, but it is apparent that I have a different definition of how much setup should be required than most, and different expectations of what should be done automatically.\n\u003C/p\u003E\n\u003Cp\u003E\nA big thanks out to everyone was was involved with testing.\u00A0 Your contributions have helped fix up several bugs with the wheel colliders, and will help make any other mods that make use of it that much better.\n\u003C/p\u003E\n\u003Cp\u003E\nIf someone else would like to step up to work on the KSP-plugin and PartModules end of things, they are more than welcome to, and I will offer them all of the assistance that I can in regards to the wheel collider component integration.\u00A0 If interested please get in contact with me through PM to make arrangements for repository access, etc.\n\u003C/p\u003E\n\u003Cp\u003E\nThe wheel-collider source itself will be moving to an open source license soon.\u00A0 Anyone who wishes to include it in their mods will be free to do so, including forking, modifying, etc.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe existing PartModules and configs (both stock and KF) will still be available through the github repository, but will not be included in any future releases.\u00A0 They will be intended as examples for others and for enabling of testing, but will not be supported beyond that capacity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Rephrased; won\u0027t be closing the mod or thread, but will be moving away from PartModule and patch development for the time being.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-12-10T20:54:37Z\u0022 title=\u002212/10/2016 08:54  PM\u0022 data-short=\u00227 yr\u0022\u003EDecember 10, 2016\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"0111narwhalz","CreatedById":110660,"CreatedDateTime":"2016-12-11T03:26:43Z","Content":"\n\u003Cp\u003E\nI would like to note that you and lo-fi have brought back the hovertanks and land cruisers in full force. My latest hovertank iteration is the best behaved I\u0027ve ever built (though a bit lightweight), and my land cruiser drifts to just the right extent to be both gloriously entertaining \u003Cem\u003Eand \u003C/em\u003Euseful.\n\u003C/p\u003E\n\u003Cp\u003E\nOn that note: Multitracked vehicles of the following prototype:\n\u003C/p\u003E\n\u003Cp\u003E\n0==0\u003Cbr\u003E\n\u00A0\u00A0||||\u003Cbr\u003E\n0==0\n\u003C/p\u003E\n\u003Cp\u003E\nwhere every \u00220\u0022 is a track, have\u00A0\u003Cem\u003Eabysmal\u003C/em\u003E\u00A0turning speed using out-of-the-box settings. However, if you turn the lateral friction to almost nothing, and the longitudinal friction to max, you can drive\u00A0\u003Cem\u003Eat speed\u003C/em\u003E\u00A0and drift like a champ. The disadvantages of tracks do make themselves known at speed, of course; the steering is almost nonexistent on the Mole tracks above 6\u003Csup\u003Em\u003C/sup\u003E/\u003Csub\u003Es\u003C/sub\u003E\u00A0or so. This is expected.\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally, how the hell are you supposed to control halftracks when in reverse? At low speeds, the tank steering is dominant. But as that fades out, the wheels take over and steer the opposite direction. Problem is, for a (sometimes wide) interval, the two cancel out and you have absolutely no steering control. Any ideas as to how one might mitigate this? Maybe a special vesselwide flag that tells wheels to invert their steering while rvel to hit is \u0022negative?\u0022 That seems like it would cause as many problems as it solves.\n\u003C/p\u003E\n\u003Cp\u003E\nOh, back to the repulsors. Aside from their intended usecase, they are basically shocks, right? I made a dart gun with them, and I\u0027m planning to utilize them in my hideous-abomination-of-joints I call a suspension testbed. The fact that they act on their own craft opens up\u00A0\u003Cem\u003Eso\u003C/em\u003E\u00A0many possibilities. Previous iterations of the suspension demon tend to vibrate the rockers, destroying the tires. If I can damp the rockers, I should be able to prevent the vibration.\n\u003C/p\u003E\n\u003Cp\u003E\nOne last thing: I think you omitted the steering trait on the skids. They slide around, as they should, but I seem to remember them steering. My gunsled*\u00A0uses battery weakjoints and reaction wheels to achieve control at the moment, and it likes to dive the batteries into the ground when it fires. I\u0027m not adverse to cfg hacking; I just have no idea what to do with the modules.\n\u003C/p\u003E\n"},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2016-12-11T17:57:05Z","Content":"\n\u003Cp\u003E\nThank you \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E for this mod / plugin.\u00A0 I can finally finish my mod.\u00A0 Thanks a lot\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-12-12T19:01:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222883037\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481426803\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Saturday, December 10, 2016 at 8:26 PM, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHowever, if you turn the lateral friction to almost nothing, and the longitudinal friction to max, you can drive\u00A0\u003Cem\u003Eat speed\u003C/em\u003E\u00A0and drift like a champ.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis comes back to the PartModules currently being a collection of approximations and quick hacks to enable testing.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I were to fully implement the PartModules, the tracks would use different friction settings for each sub-wheel in the track; the ones in the middle would have full lateral friction, while those towards the front/rear would have reduced lateral friction.\u00A0 This would enable much faster turn rates as the front/rear-most wheels would not be resisting the turning as much.\u00A0 Ideally they would only have reduced friction when the turning is actually occuring;\u00A0 I seem to remember some of the tracked vehicles actually do this during turns, lifting the front/rear road wheels slightly to reduce friction during a turn and not tear up the road so bad (could be mistaken, been a long time since I\u0027ve researched it).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222883037\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481426803\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Saturday, December 10, 2016 at 8:26 PM, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAdditionally, how the hell are you supposed to control halftracks when in reverse?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood question.\u00A0 Again this goes back to the partmodules being intended for testing of physics, and not intended for long-term use.\u00A0 Ideally the tracks would have a user-configurable setting to reverse tank-steering direction when used in combination with traditional wheels.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222883037\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481426803\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Saturday, December 10, 2016 at 8:26 PM, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, back to the repulsors. Aside from their intended usecase, they are basically shocks, right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep, repulsors are simply wheels with extremely long travel range, no visible wheel mesh, and all friction disabled.\u00A0 They use the same suspension calculation methods as every other wheel.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222883037\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481426803\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Saturday, December 10, 2016 at 8:26 PM, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe fact that they act on their own craft opens up\u00A0\u003Cem\u003Eso\u003C/em\u003E\u00A0many possibilities.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is actually a bit of a bug, but one with no clear/easy solution.\u00A0 Ideally the wheels would not exert any forces on parts from the same vessel, but due to the dynamic nature of KSP craft this would require an additional layer of collider management (ignoredColliders) that would need to be handled at the WheelCollider level.\n\u003C/p\u003E\n\u003Cp\u003E\nThankfully the wheels do the proper \u0027equal and opposite forces\u0027 bit of physics, so even when they are acting on parts of the same vessel, they shouldn\u0027t (in theory) be imparting any actual movement to the vessel.\u00A0 I say in theory, because Unity joints suck, and are likely bending/flexing/doing harmonic stuff, causing there to be some net force gain.\u00A0 Honestly, I\u0027ve never tested it....\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222883037\u0022 data-ipsquote-contentid=\u0022152782\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221481426803\u0022 data-ipsquote-userid=\u0022110660\u0022 data-ipsquote-username=\u00220111narwhalz\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn Saturday, December 10, 2016 at 8:26 PM, 0111narwhalz said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne last thing: I think you omitted the steering trait on the skids.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI didn\u0027t see anything regarding steering in the existing KF configs.\u00A0 Will take a look though.\u00A0 Sadly it might not be possible with the current model rigging; all depends on how the colliders/etc are parented in the model.\u00A0 Might still be able to \u0027hack\u0027 it by allowing one of the wheel colliders to fake steering input; would have no visible steering component to it, but should effect some level of input.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nEither way... development of the PartModules and configs has moved to the back-burner until/unless someone else comes forward with the motivation and knowledge necessary to work on them.\u00A0 I may get back to them personally at some time in the future, but could not say when, or even if, that would happen.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2016-12-15T23:36:59Z","Content":"\n\u003Cp\u003E\nYou mentioned that you intended to relicence this under a Free licence. Is that still on the agenda, please?\n\u003C/p\u003E\n"}]}