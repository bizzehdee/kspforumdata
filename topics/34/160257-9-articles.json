{"TopicId":160257,"ForumId":34,"TopicTitle":"[1.4.1] ScrapYard - The Common Part Inventory - 1.1.0.107 (2018-03-18)","CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2017-05-06T03:16:13Z","PageNum":9,"Articles":[{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-08T04:16:25Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119355-bluetiger12/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119355\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119355-bluetiger12/\u0022 rel=\u0022\u0022\u003E@BlueTiger12\u003C/a\u003E\u00A0I\u0027m going to have to keep looking into this further but it\u0027s definitely easy to reproduce. I\u0027m currently trying to track down the exact part of ScrapYard that is triggering it and then I\u0027ll either change something in ScrapYard or I\u0027ll make a pull request for AGX. My current guesses are that it\u0027s due to ScrapYard saving out all of the modules since it seems to be when converting the ship into a list of InventoryParts, and that seems to be triggering a lot of part changed events that is making AGX freak out. A fix within AGX might be to have it only respond to one of the part changed events each frame (or one every second even) as that\u0027s an issue I\u0027ve run into with KCT and with ScrapYard in the past. I might even be able to reproduce those lag spikes with just AGX and nothing else.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Alright, the good news is that I think I know why this is happening. The bad news is that I can\u0027t think of a good way to fix it right now. When ScrapYard turns a part into an inventory part it saves all of the modules on the part into a ConfigNode, basically it just converts it to structured text. AGX has extra processing it does when its module gets converted to a ConfigNode and that extra processing is what\u0027s causing all the extra time to be taken when AGX is installed. I was going to try to avoid even saving modules if there aren\u0027t any Module Templates that might match by just checking the names, except that there\u0027s a default Module Template that matches all names that is used for modules with upgrades. So I can\u0027t make it easier by only checking names and I can\u0027t check anything else in a generic way unless I save the node. A real catch-22 situation. I\u0027ll keep trying stuff out.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit 2: Slightly better news: I made it way faster when you aren\u0027t using any parts from the inventory on the ship, but as soon as you start using inventory parts it\u0027ll slow down again as it does more detailed checks. I\u0027ll keep thinking about the problem and I\u0027ll let you know if I come up with any other solutions.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-09T05:14:46Z\u0022 title=\u002203/09/2018 05:14  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 9, 2018\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-12T17:21:31Z","Content":"\n\u003Cp\u003E\nI\u0027ve been doing a lot of work lately on getting this ready for release and would like to time 1.0 with the release of Making History. The UI in the editor has been one of my main focuses, as well as trying to tie into the stock part id mechanics. The good news is that older saves should still be compatible since converting from the old system to the new one is pretty simple to do, though I have noticed that application of an inventory item doesn\u0027t always stick correctly so you\u0027re still advised to clear out your inventory when upgrading. Additionally I\u0027ve removed the smaller UI in the editor in favor of keeping everything in a singular main UI (except the modules window, which is still separate). That UI now groups like parts together, is vertically resizeable, prevents parts from being dropped or deleted when clicked on, and responds to whatever part is currently right-clicked. It\u0027s kind of cool because you can put the window\u00A0directly over the bottom part list and can click it with a part in your hand and not accidentally delete the part, though that only works if the list isn\u0027t really long. Now I\u0027m going to be working on making the modules window fully resizeable and cleaning things up a bit, but as of right now I don\u0027t see why I wouldn\u0027t release 1.0 the same day as the expansion.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022DVDdgU1.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/DVDdgU1.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022y0vd6WS.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/y0vd6WS.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-14T03:47:07Z","Content":"\n\u003Cp\u003E\nI know I said I\u0027d release ScrapYard today, but I got caught up in trying to finish one last feature before release and I haven\u0027t gotten time to test everything again, so I\u0027m pushing it to the 14th (tomorrow) just to give me time for that. The good news is that \u003Ca href=\u0022https://github.com/magico13/ScrapYard/releases\u0022 rel=\u0022external nofollow\u0022\u003Ethere\u0027s a new pre-release\u003C/a\u003E and that it\u0027s the release candidate. If everything goes well then I\u0027ll release build 100 tomorrow as 1.0.0!\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re curious what that last feature is, it\u0027s ContractConfigurator support. I\u0027ll have more details on it tomorrow, but as of this release you can create contracts that add or remove parts from the inventory as part of accepting/completing/failing a contract. This could be used to give parts as a reward for contract completion, or as part of an enhanced part test contract (we give you an experimental part unlock and 5 parts),, or something I haven\u0027t even thought of. I plan on adding a parameter for having certain parts with a certain amount of uses but I didn\u0027t have time yet. If you\u0027ve got an idea of a contract but you\u0027re not sure that ScrapYard has the support for it yet, let me know and I can see about adding it.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s a really basic test contract that gives three of the long 1.25m tanks, two of which are tweakscaled up to 2.5m, at contract acceptance and removes them when the contract is finished:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E// ContractConfiguration sample file\n\n// Each CONTRACT_TYPE node represents a type of contract that can be offered\nCONTRACT_TYPE\n{\n    // Unique name of the contract type (required)\n    name = SampleContract\n\n    // Contract text details\n    title = Simple Test Contract\n    description = A more detailed description of the contract.\n    synopsis = We want you to do a thing.\n    completedMessage = You have done the thing.\n\n\n\n    // Contract rewards\n    rewardScience = 0.0\n    rewardReputation = 0.0\n    rewardFunds = 1.0\n    failureReputation = 0.0\n    failureFunds = 0.0\n    advanceFunds = 0.0\n\n    // The PARAMETER node defines a contract parameter.  The following parameter\n    // displays all the fields that are supported for a parameter across all\n    // types.  See the Parameters page for examples of all supported parameters.\n    PARAMETER\n    {\n        name = HasAstronaut\n        type = HasAstronaut\n\n        // The type of trait required.\n        //\n        // Type:      string\n        // Required:  No\n        // Values (for stock KSP):\n        //     Pilot\n        //     Engineer\n        //     Scientist\n        trait = Pilot\n    }\n    \n    BEHAVIOUR\n    {\n        name = ChangeInventoryParts\n        type = ChangeInventoryParts\n        \n        PARTS\n        {\n            adding = True //optional, default True\n        \n            condition = ACCEPTED //required\n            //Options are:\n            //SUCCEEDED\n            //FAILED\n            //FINISHED (completed or failed)\n            //ACCEPTED\n            //CANCELLED\n            //EXPIRED\n            INVENTORY_PART\n            {\n                name = fuelTank.long //required\n                timesRecovered = 0 //optional, default 0 when adding, -1 (meaning any amount) when removing\n                count = 2 //optional, default 1\n                MODULES //semi-required, default none (must contain the MODULEs that the ScrapYard.InventoryPart\u0027s node contains or it will be interpreted as a different part)\n                {\n                    MODULE //an example\n                    {\n                        name = TweakScale\n                        isEnabled = True\n                        currentScale = 2.5\n                        defaultScale = 1.25\n                        defaultTransformScale = (1.25, 1.25, 1.25)\n                        DryCost = 3462.3999\n                        stagingEnabled = True\n                        EVENTS\n                        {\n                        }\n                        ACTIONS\n                        {\n                        }\n                        UPGRADESAPPLIED\n                        {\n                        }\n                    }\n                }\n            }\n            INVENTORY_PART\n            {\n                name = fuelTank.long //required\n                timesRecovered = 0 //optional, default 0 when adding, -1 (meaning any amount) when removing\n                count = 1 //optional, default 1\n            }\n        }\n        \n        PARTS\n        {\n            adding = False //optional, default True\n        \n            condition = FINISHED //required\n            //Options are:\n            //SUCCEEDED\n            //FAILED\n            //FINISHED (completed or failed)\n            //ACCEPTED\n            //CANCELLED\n            //EXPIRED\n            INVENTORY_PART\n            {\n                name = fuelTank.long //required\n                timesRecovered = -1 //optional, default 0 when adding, -1 (meaning any amount) when removing\n                count = 2 //optional, default 1\n                MODULES //semi-required, default none (must contain the MODULEs that the ScrapYard.InventoryPart\u0027s node contains or it will be interpreted as a different part)\n                {\n                    MODULE //an example\n                    {\n                        name = TweakScale\n                        isEnabled = True\n                        currentScale = 2.5\n                        defaultScale = 1.25\n                        defaultTransformScale = (1.25, 1.25, 1.25)\n                        DryCost = 3462.3999\n                        stagingEnabled = True\n                        EVENTS\n                        {\n                        }\n                        ACTIONS\n                        {\n                        }\n                        UPGRADESAPPLIED\n                        {\n                        }\n                    }\n                }\n            }\n            INVENTORY_PART\n            {\n                name = fuelTank.long //required\n                count = 1 //optional, default 1\n            }\n        }\n    }\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-14T03:48:29Z\u0022 title=\u002203/14/2018 03:48  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 14, 2018\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2018-03-14T18:14:52Z","Content":"\n\u003Cp\u003E\nIs the release candidate compiled against 1.4.1? If so, you may have a problem\n\u003C/p\u003E\n\u003Cp\u003E\nCan provide a log if you really need one but it\u0027s dead easy to reproduce: Just open Mission Control on a new Career game and then close it again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022fGUJRyj.png\u0022 class=\u0022ipsImage\u0022 height=\u0022578\u0022 src=\u0022https://i.imgur.com/fGUJRyj.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-14T19:21:22Z","Content":"\n\u003Cp\u003E\nProbably related to the debug logging setting I added since that\u0027s the only thing I can think of that would result in an NRE inside the logging function. Try build 100 and see if that works instead.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-14T19:25:29Z\u0022 title=\u002203/14/2018 07:25  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 14, 2018\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2018-03-14T20:34:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223321346\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521055282\u0022 data-ipsquote-userid=\u002273338\u0022 data-ipsquote-username=\u0022magico13\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, magico13 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nProbably related to the debug logging setting I added since that\u0027s the only thing I can think of that would result in an NRE inside the logging function. Try build 100 and see if that works instead.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup that did the trick. Cheers\n\u003C/p\u003E\n"},{"CreatedByName":"OwariTY","CreatedById":207190,"CreatedDateTime":"2018-03-14T22:20:45Z","Content":"\n\u003Cp\u003E\nHello. I am sorry for mi english, is so difficult.\u00A0In the title\u00A0i see 1.3.1, but some people use your mod\u00A0in 1.4.1. \u00BFyou recommend me that or wait a update? I\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-14T22:56:52Z\u0022 title=\u002203/14/2018 10:56  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 14, 2018\u003C/time\u003E by OwariTY\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KerbalBob","CreatedById":186413,"CreatedDateTime":"2018-03-14T23:10:54Z","Content":"\n\u003Cp\u003E\nThx for the SR Update now scrapyard is giving me issues, rendering KCT not functioning.\u00A0 Both of them together worked fine for a day then when I try to launch to add a new build to the list, it doesnt work nor does it give me data on how long it will take, usually by adding parts it increased, but now it stays to 0, if I disable scrapyard KCT works fine.\n\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-15T00:34:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223321620\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521066045\u0022 data-ipsquote-userid=\u0022183679\u0022 data-ipsquote-username=\u0022Owari\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Owari said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello. I am sorry for mi english, is so difficult.\u00A0In the title\u00A0i see 1.3.1, but some people use your mod\u00A0in 1.4.1. \u00BFyou recommend me that or wait a update? I\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere is an update out now that I would recommend using.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223321701\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521069054\u0022 data-ipsquote-userid=\u0022186413\u0022 data-ipsquote-username=\u0022KerbalBob\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, KerbalBob said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThx for the SR Update now scrapyard is giving me issues, rendering KCT not functioning.\u00A0 Both of them together worked fine for a day then when I try to launch to add a new build to the list, it doesnt work nor does it give me data on how long it will take, usually by adding parts it increased, but now it stays to 0, if I disable scrapyard KCT works fine.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMake sure to grab the absolute latest versions of ScrapYard, StageRecovery, and KCT. For KCT that means grabbing it from the build server here:\u00A0\u003Ca href=\u0022http://magico13.net:8080/job/Kerbal%20Construction%20Time%20Beta/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://magico13.net:8080/job/Kerbal Construction Time Beta/\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.0 is out! But I still need to take more pictures and do a bit more documentation. It is now available on SpaceDock and I clicked the button to have it be added to \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, but that may be a few days. Assuming there\u0027s nothing game-breaking, I\u0027m going to swap over to KCT and hopefully have that ready in the next few days. Let me know if you find any bugs! \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2018-03-15T01:03:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223321806\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521074089\u0022 data-ipsquote-userid=\u002273338\u0022 data-ipsquote-username=\u0022magico13\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, magico13 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI clicked the button to have it be added to \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, but that may be a few days.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi, I\u0027m looking at how to handle this. The \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E says this mod is used by KCT, but currently it\u0027s separate from KCT. Should we mark a dependency\u00A0or a conflict between the two?\n\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-15T01:06:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223321841\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521075834\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, I\u0027m looking at how to handle this. The \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E says this mod is used by KCT, but currently it\u0027s separate from KCT. Should we mark a dependency\u00A0or a conflict between the two?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKCT will add it as a recommend. There is no hard dependency between the two.\n\u003C/p\u003E\n"},{"CreatedByName":"theonegalen","CreatedById":71012,"CreatedDateTime":"2018-03-15T01:42:03Z","Content":"\n\u003Cp\u003E\nCongratulations on your Spacedock release! You\u0027ve come a long way from where you started, and it has been great to see and benefit from all your hard work.\n\u003C/p\u003E\n"},{"CreatedByName":"Xenophon Muravyov","CreatedById":181195,"CreatedDateTime":"2018-03-15T19:32:55Z","Content":"\n\u003Cp\u003E\nAnyone know a way to get FMRS to work with ScrapYard/ KCT? (RP-1 / 1.3.1)\n\u003C/p\u003E\n\u003Cp\u003E\nI can recover the part funds\u00A0and everything, but they never go into my inventory\n\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-15T19:37:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223322789\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521142375\u0022 data-ipsquote-userid=\u0022181195\u0022 data-ipsquote-username=\u0022Xenophon Muravyov\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, Xenophon Muravyov said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnyone know a way to get FMRS to work with ScrapYard/ KCT? (RP-1 / 1.3.1)\n\u003C/p\u003E\n\u003Cp\u003E\nI can recover the part funds\u00A0and everything, but they never go into my inventory\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027d have to not use the auto-recover feature of FMRS and would have to recover the vessels manually after you return to the main save\u0027s timeline. I haven\u0027t tested that though.\n\u003C/p\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2018-03-16T06:27:54Z","Content":"\n\u003Cp\u003E\nAny idea why scrapyards OnGUI would be throwing an NRE if using the development version of Unity but not the retail version? (is that the right term? The one that lets you use the built in VS Debugging tools, from \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003Ethis thread\u003C/a\u003E)It\u0027s making it very difficult to debug UPFM. If not, I\u0027ll try compiling from source later and see if I can figure it out.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-16T07:33:37Z\u0022 title=\u002203/16/2018 07:33  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 16, 2018\u003C/time\u003E by severedsolo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-16T12:10:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223323463\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521181674\u0022 data-ipsquote-userid=\u002280345\u0022 data-ipsquote-username=\u0022severedsolo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, severedsolo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny idea why scrapyards OnGUI would be throwing an NRE if using the development version of Unity but not the retail version? (is that the right term? The one that lets you use the built in VS Debugging tools, from \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003Ethis thread\u003C/a\u003E)It\u0027s making it very difficult to debug UPFM. If not, I\u0027ll try compiling from source later and see if I can figure it out.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI haven\u0027t updated my local Unity to allow debugging since the update so I haven\u0027t tried it. I\u0027ll do that tonight since it makes it way easier to work on things.\n\u003C/p\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2018-03-17T07:47:40Z","Content":"\n\u003Cp\u003E\n*removed because it\u0027s definitely a KCT bug and posted there instead*\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-17T08:04:45Z\u0022 title=\u002203/17/2018 08:04  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 17, 2018\u003C/time\u003E by severedsolo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-17T22:26:07Z","Content":"\n\u003Cp\u003E\nSmall update to 1.0.1.104 to address some issues that came up during additional testing and while updating KCT. If you\u0027re using KCT at all, you must upgrade to this ScrapYard release since the API had a breaking bug in a method that KCT relies on.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223323463\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521181674\u0022 data-ipsquote-userid=\u002280345\u0022 data-ipsquote-username=\u0022severedsolo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/16/2018 at 2:27 AM, severedsolo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny idea why scrapyards OnGUI would be throwing an NRE if using the development version of Unity but not the retail version? (is that the right term? The one that lets you use the built in VS Debugging tools, from \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/102909-ksp-plugin-debugging-and-profiling-for-visual-studio-and-monodevelop-on-all-os/\u0022 rel=\u0022\u0022\u003Ethis thread\u003C/a\u003E)It\u0027s making it very difficult to debug UPFM. If not, I\u0027ll try compiling from source later and see if I can figure it out.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223324975\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521272860\u0022 data-ipsquote-userid=\u002280345\u0022 data-ipsquote-username=\u0022severedsolo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, severedsolo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n*removed because it\u0027s definitely a KCT bug and posted there instead*\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThese two issues are now fixed in the 1.0.1.104 release.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: There\u0027s going to be another release on Sunday to fix a few more issues I\u0027ve found when updating KCT. They\u0027re fairly edge-case, but they\u0027re easily reproducible in those cases (mostly with editing existing ships in KCT).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-18T04:13:40Z\u0022 title=\u002203/18/2018 04:13  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 18, 2018\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"OwariTY","CreatedById":207190,"CreatedDateTime":"2018-03-18T04:34:08Z","Content":"\n\u003Cp\u003E\nFor some reason i am losing money. When i land, KSP\u00A0uses the normal system, and i\u00A0need\u00A0buy again\u00A0the part. Only The Command Module and parachute cost: 1010. Recovery: 986.\u00A0 Anywey, the log:\u00A0\u003Cstrong\u003E\u003Ca href=\u0022https://drive.google.com/open?id=1D6dXoj7vsbhViwg2_NJQ6MFFcuc4Vrqt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=1D6dXoj7vsbhViwg2_NJQ6MFFcuc4Vrqt\u003C/a\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022u9JNx2v.png\u0022 class=\u0022ipsImage\u0022 height=\u0022578\u0022 src=\u0022http://img.fenixzone.net/i/u9JNx2v.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221Qo0kyH.png\u0022 class=\u0022ipsImage\u0022 height=\u0022578\u0022 src=\u0022http://img.fenixzone.net/i/1Qo0kyH.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Maei7x5.png\u0022 class=\u0022ipsImage\u0022 height=\u0022578\u0022 src=\u0022http://img.fenixzone.net/i/Maei7x5.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Iyx1cS5.png\u0022 class=\u0022ipsImage\u0022 height=\u0022578\u0022 src=\u0022http://img.fenixzone.net/i/Iyx1cS5.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-18T05:14:36Z\u0022 title=\u002203/18/2018 05:14  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 18, 2018\u003C/time\u003E by OwariTY\u003C/strong\u003E\n\u003Cbr\u003Eadd image and information\n\u003C/span\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-18T13:17:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223326010\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521347648\u0022 data-ipsquote-userid=\u0022183679\u0022 data-ipsquote-username=\u0022Owari\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Owari said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor some reason i am losing money. When i land, KSP\u00A0uses the normal system, and i\u00A0need\u00A0buy again\u00A0the part. Only The Command Module and parachute cost: 1010. Recovery: 986.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s normal KSP behavior. Look at the window that pops up when you recover. It says you\u0027re only going to get 97.6% back and 1010x0.976 = 986. The only way to recover something at 100% is to recover it from the launch pad or the runway, even recovering it from any other building in the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E only gives you 98%\n\u003C/p\u003E\n"},{"CreatedByName":"BlueTiger12","CreatedById":119355,"CreatedDateTime":"2018-03-18T13:55:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223313210\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221520482585\u0022 data-ipsquote-userid=\u002273338\u0022 data-ipsquote-username=\u0022magico13\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 08/03/2018 at 5:16 AM, magico13 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119355-bluetiger12/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119355\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119355-bluetiger12/\u0022 rel=\u0022\u0022\u003E@BlueTiger12\u003C/a\u003E\u00A0I\u0027m going to have to keep looking into this further but it\u0027s definitely easy to reproduce. I\u0027m currently trying to track down the exact part of ScrapYard that is triggering it and then I\u0027ll either change something in ScrapYard or I\u0027ll make a pull request for AGX. My current guesses are that it\u0027s due to ScrapYard saving out all of the modules since it seems to be when converting the ship into a list of InventoryParts, and that seems to be triggering a lot of part changed events that is making AGX freak out. A fix within AGX might be to have it only respond to one of the part changed events each frame (or one every second even) as that\u0027s an issue I\u0027ve run into with KCT and with ScrapYard in the past. I might even be able to reproduce those lag spikes with just AGX and nothing else.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Alright, the good news is that I think I know why this is happening. The bad news is that I can\u0027t think of a good way to fix it right now. When ScrapYard turns a part into an inventory part it saves all of the modules on the part into a ConfigNode, basically it just converts it to structured text. AGX has extra processing it does when its module gets converted to a ConfigNode and that extra processing is what\u0027s causing all the extra time to be taken when AGX is installed. I was going to try to avoid even saving modules if there aren\u0027t any Module Templates that might match by just checking the names, except that there\u0027s a default Module Template that matches all names that is used for modules with upgrades. So I can\u0027t make it easier by only checking names and I can\u0027t check anything else in a generic way unless I save the node. A real catch-22 situation. I\u0027ll keep trying stuff out.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit 2: Slightly better news: I made it way faster when you aren\u0027t using any parts from the inventory on the ship, but as soon as you start using inventory parts it\u0027ll slow down again as it does more detailed checks. I\u0027ll keep thinking about the problem and I\u0027ll let you know if I come up with any other solutions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry for my late reply. At first, thanks for your description and updates :-)\n\u003C/p\u003E\n\u003Cp\u003E\nIf i understand you correctly, i can avoid this problem by switching auto-apply of and only applying the inventory before i start the build, with your new sollution?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso this sounds more like AGX would need some optimization while saving.\n\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-18T14:54:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223326330\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521381335\u0022 data-ipsquote-userid=\u0022119355\u0022 data-ipsquote-username=\u0022BlueTiger12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, BlueTiger12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf i understand you correctly, i can avoid this problem by switching auto-apply of and only applying the inventory before i start the build, with your new sollution?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso this sounds more like AGX would need some optimization while saving.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCorrect, if you wait to apply the inventory until you\u0027re ready to launch/build then you shouldn\u0027t really notice any lag until then. It doesn\u0027t do any of the module saving stuff until you\u0027ve got inventory parts applied, so it should bypass the slow downs. I\u0027m not sure what AGX can do to reduce lag on their side since they need to save that data, but it probably has some room for optimization. It\u0027s only a problem now because ScrapYard makes it save fairly frequently instead of once.\n\u003C/p\u003E\n"},{"CreatedByName":"BlueTiger12","CreatedById":119355,"CreatedDateTime":"2018-03-18T20:11:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223326387\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521384868\u0022 data-ipsquote-userid=\u002273338\u0022 data-ipsquote-username=\u0022magico13\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, magico13 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCorrect, if you wait to apply the inventory until you\u0027re ready to launch/build then you shouldn\u0027t really notice any lag until then. It doesn\u0027t do any of the module saving stuff until you\u0027ve got inventory parts applied, so it should bypass the slow downs. I\u0027m not sure what AGX can do to reduce lag on their side since they need to save that data, but it probably has some room for optimization. It\u0027s only a problem now because ScrapYard makes it save fairly frequently instead of once.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs this incorporated in any scrapyard build that is working in ksp 1.3.1 together with upfm? (i remember that for some time upfm should only be used with build 72 of scrapyard)\n\u003C/p\u003E\n"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2018-03-18T20:19:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223326779\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521403894\u0022 data-ipsquote-userid=\u0022119355\u0022 data-ipsquote-username=\u0022BlueTiger12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, BlueTiger12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs this incorporated in any scrapyard build that is working in ksp 1.3.1 together with upfm? (i remember that for some time upfm should only be used with build 72 of scrapyard)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnfortunately the full set of improvements are only in 1.4.1 builds, but build 82 (the last one for 1.3.1) should have some noticeable improvements in editor times over build 72 and will work with the 1.3.1 version of upfm.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nVersion 1.1.0.107 released. Mostly bug fixes and a new event that\u0027s needed for KCT to update its build times properly when you apply to parts.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-19T01:44:41Z\u0022 title=\u002203/19/2018 01:44  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 19, 2018\u003C/time\u003E by magico13\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"severedsolo","CreatedById":80345,"CreatedDateTime":"2018-03-19T17:17:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223326779\u0022 data-ipsquote-contentid=\u0022160257\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521403894\u0022 data-ipsquote-userid=\u0022119355\u0022 data-ipsquote-username=\u0022BlueTiger12\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, BlueTiger12 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs this incorporated in any scrapyard build that is working in ksp 1.3.1 together with upfm? (i remember that for some time upfm should only be used with build 72 of scrapyard)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBuild 82 should fix the issues that UPFM was having.\n\u003C/p\u003E\n"}]}