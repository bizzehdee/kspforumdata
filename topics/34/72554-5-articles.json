{"TopicId":72554,"ForumId":34,"TopicTitle":"[0.90] TweakScale - Rescale Everything! (v1.50 - 2014-12-24 10:40 UTC)","CreatedByName":"Biotronic","CreatedById":72381,"CreatedDateTime":"2014-05-16T18:00:48Z","PageNum":5,"Articles":[{"CreatedByName":"Taverius","CreatedById":11815,"CreatedDateTime":"2014-05-21T07:19:09Z","Content":"\n\u003Cp\u003EI actually haven\u0027t tried this yet (too busy updating B9) but here\u0027s some notes on scaling and stock balance from making Pizza and B9:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EEngine thrust scales by cross-section surface area, with a small ISP bonus/penalty as you shrink/enlarge. Mass also does so, regardless of how it would be IRL, with the same bonus/penalty. I\u0027ve never actually curve-fitted it, but it seems to be about 5% penalty in both ISP and TWR when going from 1.25m to 2.5m.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EEngine heat is related to thrust/mass ratio. For example, if you scale an engine by just doubling its thrust and mass, heat stays the same, as ratio is identical.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ENon-FAR wings are an unholy mess of random values. The code in pWings to scale lift/drag (which I wrote) is probably your best bet for hints on scaling those in a pseudo-realistic way, but abandon all hope of taking 2 stock wings of similar shape and scaling them to be the same size and getting the same values, unless a) you use my code from pWings and \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E you\u0027re stating from Pizza Pack lift/drag values.\u003Cbr\u003EThe stock lift/drag values are just semi-random numbers C7 and Nova put in way back when, and have little to no relation to the actual dimensions of the wings, not even the surface area.\u003Cbr\u003EThe first rule of rescaling wings is: drag scales with mass and lift, so as you change the mass and lift of a wing when you rescale, the dragCoefficient does not change. It is determined purely by the shape of the airfoil.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EIntakes are horrific. Specifically, their drag scales with mass as with everything else, so changing the mass of an intake when resizing can drastically alter performance in unexpected ways. There\u0027s 3 variables you can use to fix it so a smaller area (to give the right drag for the mass) performs like one of the right size, but because of a bug in the code, one of the values is used twice.\u003Cbr\u003EThe formulas are:\u003Cbr\u003E\u003Cul\u003E\u003Cli\u003Earea: divide by (mass/0.01). Intake drag in stock assumes an intake weighs 0.01. This means that the stock Air Scoop (mass 0.1) has 10x the drag it should.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EunitScalar: default is 0.2, multiply by sqroot(mass / 0.01). supposedly a flat multiplier on the amount of air coming in, buut.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EmaxIntakeSpeed: default is 100, * (unitScalar \u002B sqroot(mass / 0.01)) / (unitScalar \u002B 1). Is used twice in the code instead of once. written as intakeSpeed in the stock .cfgs ... which is a parameter the module does not have.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]Also, when \u003Cem\u003Eshrinking\u003C/em\u003E intakes, its best to not change the amount of IntakeAir they can store, or you can get rolling flameouts on the runway even though you technically have enough airflow, just because of how resource requests work.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-21T08:13:05Z\u0022 title=\u002205/21/2014 08:13  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 21, 2014\u003C/time\u003E by Taverius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-21T07:38:05Z","Content":"\n\u003Cp\u003EIt looks like some parts which are scaled in their configs, aren\u0027t scaled correctly, e.g. the 1.25m KW nose cone is suddenly smaller than 1.25m.\u003C/p\u003E\n"},{"CreatedByName":"BrutalRIP","CreatedById":59065,"CreatedDateTime":"2014-05-21T18:56:52Z","Content":"\n\u003Cp\u003Eengines and decouplers also\u003C/p\u003E\n"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2014-05-21T20:14:36Z","Content":"\n\u003Cp\u003EI am confused with KSPAPIExtensions.dll.\u003C/p\u003E\u003Cp\u003EI have 3 Version in GameData:\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\TweakScale\\plugins v1.4.3.12\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\ProceduralParts\\Plugins v1.4.2.0\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\ProceduralFairings v1.4.1.0\u003C/p\u003E\u003Cp\u003EProceduralParts is broken, nodes are in mid air, texture change is gone.\u003C/p\u003E\u003Cp\u003EProceduralFairings looks ok.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-21T20:26:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kolago\u0022 data-cite=\u0022Kolago\u0022\u003E\u003Cdiv\u003EI am confused with KSPAPIExtensions.dll.\u003Cp\u003EI have 3 Version in GameData:\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\TweakScale\\plugins v1.4.3.12\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\ProceduralParts\\Plugins v1.4.2.0\u003C/p\u003E\u003Cp\u003EC:\\Kerbal Space Program 235\\GameData\\ProceduralFairings v1.4.1.0\u003C/p\u003E\u003Cp\u003EProceduralParts is broken, nodes are in mid air, texture change is gone.\u003C/p\u003E\u003Cp\u003EProceduralFairings looks ok.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s most likely because the ProceduralFairings KSPAPIExtensions dll is being loaded first due to it being alphabetically first compared to the other 2 directories.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-21T20:33:56Z","Content":"\n\u003Cp\u003EShould I delete KSPAPIExtensions from procedural fairings?\u003C/p\u003E\u003Cp\u003ECould this be the reason for the scaling problems?\u003C/p\u003E\u003Cp\u003EIs Procedural Fairings updated for the new dll?\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-21T20:42:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EShould I delete KSPAPIExtensions from procedural fairings?\u003Cp\u003ECould this be the reason for the scaling problems?\u003C/p\u003E\u003Cp\u003EIs Procedural Fairings updated for the new dll?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou will probably run into problems because it would appear that each mod has been compiled using a different version of KSPAPIExtensions. This is what I ran into with TweakScale:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/80234-TweakScale-Rescale-Everything%21-%28Version-1-5-0-1-Updated-2014-05-21-00-36-UTC%29?p=1170185\u0026amp;viewfull=1#post1170185\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/80234-TweakScale-Rescale-Everything%21-%28Version-1-5-0-1-Updated-2014-05-21-00-36-UTC%29?p=1170185\u0026amp;viewfull=1#post1170185\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ENow you can try it and if it doesn\u0027t work you can check the logfile and see if you get the same error that I did.\u003C/p\u003E\n"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2014-05-21T20:54:54Z","Content":"\n\u003Cp\u003ENewest ProceduralFairings is v3.01, thats the one I have installed.\u003C/p\u003E\u003Cp\u003EProceduralParts was v0.9.9, now I have the newest (v0.9.10) installed with KSPAPIExtensions.dll v1.4.3.1. But still broken.\u003C/p\u003E\u003Cp\u003EWill renaming directory\u0027s to get a different load order do something useful? These dependences are a mess.\u003C/p\u003E\u003Cp\u003ERenaming the TweakScale directory to 1TweakScale doesn\u0027t work.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-21T21:08:43Z\u0022 title=\u002205/21/2014 09:08  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 21, 2014\u003C/time\u003E by Kolago\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-05-21T22:10:00Z","Content":"\n\u003Cp\u003EI\u0027m having a problem that seems to be identical to the other ones considering the API extensions being the wrong version for a specific mod, except that it\u0027s stopping the entire game from even loading. I use procedural fairings more than scaling, so I\u0027m going to have to choose that way until you all can get this dll stabilized properly.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-22T02:17:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kolago\u0022 data-cite=\u0022Kolago\u0022\u003E\u003Cdiv\u003ENewest ProceduralFairings is v3.01, thats the one I have installed.\u003Cp\u003EProceduralParts was v0.9.9, now I have the newest (v0.9.10) installed with KSPAPIExtensions.dll v1.4.3.1. But still broken.\u003C/p\u003E\u003Cp\u003EWill renaming directory\u0027s to get a different load order do something useful? These dependences are a mess.\u003C/p\u003E\u003Cp\u003ERenaming the TweakScale directory to 1TweakScale doesn\u0027t work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERenaming directories isn\u0027t going to make it work. If you have more than 1 mod that requires KSPAPIExtensions which happen to be different versions it will fail.\u003C/p\u003E\n"},{"CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-05-22T11:26:33Z","Content":"\n\u003Cp\u003Eswamp_ig pushed a new update so hopefully we will hear from Biotronic soon \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Biotronic","CreatedById":72381,"CreatedDateTime":"2014-05-22T14:08:23Z","Content":"\n\u003Cp\u003EI\u0027m back! \u003Ca href=\u0022https://www.dropbox.com/s/wyc2g8qh3sx733b/TweakScale_1.6.zip\u0022 rel=\u0022external nofollow\u0022\u003ENew version is up!\u003C/a\u003E This fixes the problem where parts get the wrong scale after loading/duplicating/changing scenes. Sorry about the long wait - yesterday did not look the way I planned it to be.\u003C/p\u003E\u003Cp\u003ECurrently looking into the scale problems with KW parts.\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2014-05-22T14:45:12Z","Content":"\n\u003Cp\u003EBut ... the DLL soap or should I say soup, continues. Which is kinda funny in a way. Just a bit impractical at times.\u003C/p\u003E\n"},{"CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-05-22T14:58:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Azimech\u0022 data-cite=\u0022Azimech\u0022\u003E\u003Cdiv\u003EBut ... the DLL soap or should I say soup, continues. Which is kinda funny in a way. Just a bit impractical at times.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eswamp_ig pointed out that each mod using the KSPAPIExtensions has to be compiled against and delivered with exactly this version. \u003C/p\u003E\u003Cp\u003EAs far as I understand it at the moment the three mod creators (TweakScale, PP \u0026amp; PF) have to provide new builds whenever one of the others is published wit a new version of KSPAPI. But that shouldn\u0027t be much of a problem when development for the KSPAPIExtensions slows I suppose.\u003C/p\u003E\u003Cp\u003ECurrently all 3 mods are working for me with a different KSPAPI dll each \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Biotronic","CreatedById":72381,"CreatedDateTime":"2014-05-22T15:07:51Z","Content":"\n\u003Cp\u003EI\u0027m with marce on this - it works for me with all three installed, and three different KSPAPIExtensions.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EA question to to other mod makers out there - TweakScale currently changes part.transform.GetChild(0).localScale. That\u0027s the way \u003C/span\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/72567\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EGoodspeedTweakScale\u003C/span\u003E\u003C/a\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E did it, so I saw no good reason to change that. Now I see that removing GetChild(0) from that fixes the scale problems with KW parts. I don\u0027t really know why, as I haven\u0027t looked too closely at the values there, but it seems this change does good things and nothing bad. Any reasons why I shouldn\u0027t do this?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EScratch that, I just found plenty reasons not to do that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-22T15:30:41Z\u0022 title=\u002205/22/2014 03:30  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 22, 2014\u003C/time\u003E by Biotronic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-22T15:55:24Z","Content":"\n\u003Cp\u003EJust a heads up, TweakScale has a debugging statement that is spamming the output_log file:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ETweakScale.Update() - !isFreeScale. TweakScale new value = 1\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-22T15:58:26Z","Content":"\n\u003Cp\u003EAlso, is there a method where you can use ScaleExponents.cfg to specify a specific part rather than a module?\u003C/p\u003E\n"},{"CreatedByName":"Biotronic","CreatedById":72381,"CreatedDateTime":"2014-05-22T16:07:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sirkut\u0022 data-cite=\u0022sirkut\u0022\u003E\u003Cdiv\u003EAlso, is there a method where you can use ScaleExponents.cfg to specify a specific part rather than a module?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECurrently, no. But now that there\u0027s a demand, I guess you can expect it in a future update.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-22T16:20:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Biotronic\u0022 data-cite=\u0022Biotronic\u0022\u003E\u003Cdiv\u003ECurrently, no. But now that there\u0027s a demand, I guess you can expect it in a future update.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat to hear. This would be a tremendous help. In fact it would be nice to somehow scale other values In a comma delimited format.\u003C/p\u003E\u003Cp\u003EDon\u0027t forget the post I did previously. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Biotronic","CreatedById":72381,"CreatedDateTime":"2014-05-22T16:27:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Biotronic\u0022 data-cite=\u0022Biotronic\u0022\u003E\u003Cdiv\u003ECurrently, no. But now that there\u0027s a demand, I guess you can expect it in a future update.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, I\u0027m gonna ask for a bit of clarification - do you mean that a specific part (say, IR_Pivotron_Basic) should have a different factor for some module parameter (say, keyRotateSpeed should scale with the cube of the scale)?\u003C/p\u003E\u003Cp\u003EOr are you thinking of something else and I haven\u0027t quite understood what you meant?\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-05-22T17:11:44Z","Content":"\n\u003Cp\u003EHere\u0027s the scenario:\u003C/p\u003E\u003Cp\u003ESuppose I have an Infernal Robotic part called AdjustableRail\u003C/p\u003E\u003Cp\u003EWhile resizing the actual size of the part is wonderful, it would be nice to resize the translateMin and the translateMax to be a comma separated list rather than just multiplying the scale to variables. This would also be beneficial for specific speed translations. If there was a way for the plugin to handle this without adding a dependency to TweakScale this would be useful.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-22T17:26:24Z","Content":"\n\u003Cp\u003EI\u0027m going to guess that the issue with KW parts is that they use MODEL nodes and non-1. rescaleFactors. Thus it\u0027d be great if you could scale the part\u0027s own transform, but as you doubtless saw that will (IIRC) scale all its children. Well, you could try changing part.transform.localscale?\u003C/p\u003E\u003Cp\u003EAnyway, to deal with the KW problem--do you currently multiply, or just set, the scale? If you\u0027re setting it, try reading the scale first, storing it, and then multiplying your scalefactor against it.\u003C/p\u003E\n"},{"CreatedByName":"blspblackdeath","CreatedById":20067,"CreatedDateTime":"2014-05-22T17:51:24Z","Content":"\n\u003Cp\u003EFor me the stock 1.25 Tanks and engines are scaled wrong. The stack nodes are on the right places but the part is too little. \u003C/p\u003E\u003Cp\u003EWhich looks like that:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/iJmD9Wp.png\u0022 alt=\u0022iJmD9Wp.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2014-05-22T17:53:17Z","Content":"\n\u003Cp\u003EIs this still breaking Procedural Parts?\u003C/p\u003E\n"},{"CreatedByName":"AccidentalDisassembly","CreatedById":110936,"CreatedDateTime":"2014-05-22T17:55:34Z","Content":"\n\u003Cp\u003ETo add to what NathanKell is saying, there does seem to be a problem with parts that use a scale other than 1.0 inside the MODEL {} thing - for example, the 1.25m NovaPunch reaction wheel scales fine, but all the others appear in the VAB to be 1.25m in size to begin with but have nodes and strengths associated with their actual part size, I think... When I messed around with one of the KW engines and changed its scale to 1.0 inside the MODEL {} bit, it then scaled correctly too, although it still would appear to have moved up inside the fuel tank a bit on VAB reload.\u003C/p\u003E\n"}]}