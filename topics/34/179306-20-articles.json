{"TopicId":179306,"ForumId":34,"TopicTitle":"[1.12.x] StageRecovery - Recover Funds\u002B from Dropped Stages","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2018-10-26T11:14:56Z","PageNum":20,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2023-06-01T02:13:14Z","Content":"\n\u003Cp\u003E\nNew release, 1.9.6.3\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nAdded more checks for the mod being enabled or not\n\u003C/li\u003E\n\u003Cli\u003E\nAdded notification dialog if button is clicked and mod is disabled\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"TuckMeIntoBread","CreatedById":231568,"CreatedDateTime":"2023-12-25T15:21:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224282566\u0022 data-ipsquote-contentid=\u0022179306\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221683920144\u0022 data-ipsquote-userid=\u0022211134\u0022 data-ipsquote-username=\u0022Mark L\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/12/2023 at 9:35 AM, Mark L said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, I have a problem that has also been mentioned in this thread. It\u0027s when Stage Recovery and Real Chutes are both installed together, causing lag/stuttering in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224283366\u0022 data-ipsquote-contentid=\u0022179306\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221684097082\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/14/2023 at 10:44 AM, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nStage Recovery is doing lots of calculations, trying to keep track of all the chutes.\u00A0 What I see happening is the following:\n\u003C/p\u003E\n\u003Cp\u003E\nYou select a part\n\u003C/p\u003E\n\u003Cp\u003E\nYou then start waving that part around.\u00A0 Notice how, when you move the mouse over the rocket, it actually puts down 8 parachutes for a moment, then removes them\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s that moment when KSP creates 8 new parachutes, and calls all the modules which are in each part.\u00A0 There are at least three modules in each RC part, so you now are initializing 24 modules, and then almost immediately destroying all those modules.\u00A0 If you don\u0027t have a fast computer, you \u003Cstrong\u003Eare \u003C/strong\u003Egoing to see the lag.\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding Stage Recovery, it doesn\u0027t add any modules to the parts, but, it is doing calculations anytime the ship is modified.\u00A0 With what you are doing, I believe it is being called numerous times per second while your mouse is moving over the ship.\u00A0 Notice that there isn\u0027t any lag when the mouse is not over the vessel.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only think I can suggest doing is to increate the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E Autocalculation delay a bit to try to avoid all the multiple recalculations\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve hunted down the source of the issue here. It seemed to be a drastic overuse of Reflection calls to obtain the RealChute assembly, calling it quite literally every time any singular chute part was iterated over!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve opened a \u003Ca href=\u0022https://github.com/linuxgurugamer/StageRecovery/pull/13\u0022 rel=\u0022external nofollow\u0022\u003Epull request\u003C/a\u003E that solves this issue by caching the obtained Reflection info. With an i7-13700K I\u0027ve gone from horribly stuttering for a good 1.5-3.0s every time I pick up/place down a part on large crafts to being buttery smooth.\n\u003C/p\u003E\n"},{"CreatedByName":"Mark L","CreatedById":211134,"CreatedDateTime":"2023-12-26T13:44:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224351932\u0022 data-ipsquote-contentid=\u0022179306\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221703517699\u0022 data-ipsquote-userid=\u0022231568\u0022 data-ipsquote-username=\u0022TuckMeIntoBread\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, TuckMeIntoBread said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve hunted down the source of the issue here. It seemed to be a drastic overuse of Reflection calls to obtain the RealChute assembly, calling it quite literally every time any singular chute part was iterated over!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve opened a \u003Ca href=\u0022https://github.com/linuxgurugamer/StageRecovery/pull/13\u0022 rel=\u0022external nofollow\u0022\u003Epull request\u003C/a\u003E that solves this issue by caching the obtained Reflection info. With an i7-13700K I\u0027ve gone from horribly stuttering for a good 1.5-3.0s every time I pick up/place down a part on large crafts to being buttery smooth.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood job, hope it gets a fix.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2023-12-28T19:28:59Z","Content":"\n\u003Cp\u003E\nNew release, 1.9.7\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nThanks to github user @TuckMeIntoBread for this:\n\u003Cul\u003E\n\u003Cli\u003E\nOptimize Reflection Usage in ProcessRealchute Method. \u00A0This pull request introduces optimizations to the ProcessRealchute method, significantly improving performance and all but eliminating \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E hiccup/lags related to StageRecovery \u002B RealChute being used in combination.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"ODSTjoker","CreatedById":207255,"CreatedDateTime":"2024-05-23T14:08:38Z","Content":"\n\u003Cp\u003E\nHi, Im having an issue with the mod and tweakscale, in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E tweakscaled parachutes are calculated correctly in the tweakscale window, but when recovering the stage the scale seems to be ignored. ie. In the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E it says 5 m/s but when recovering it says 20 m/s.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a bug or am I doing something wrong? Both mods are installed with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E on the latest version with stock parachutes.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance!\n\u003C/p\u003E\n"},{"CreatedByName":"DeadJohn","CreatedById":201293,"CreatedDateTime":"2024-07-15T03:59:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224392180\u0022 data-ipsquote-contentid=\u0022179306\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221716473318\u0022 data-ipsquote-userid=\u0022207255\u0022 data-ipsquote-username=\u0022ODSTjoker\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/23/2024 at 10:08 AM, ODSTjoker said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi, Im having an issue with the mod and tweakscale, in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E tweakscaled parachutes are calculated correctly in the tweakscale window, but when recovering the stage the scale seems to be ignored. ie. In the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E\u003C/abbr\u003E it says 5 m/s but when recovering it says 20 m/s.\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a bug or am I doing something wrong? Both mods are installed with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003E\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\u003C/abbr\u003E on the latest version with stock parachutes.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n2 months have gone by and I see no one replied. Tweakscale seems to interact inconsistently with Stage Recovery. It\u0027s not only parachutes; sometimes other tweaked parts can cause a craft to be heavier or lighter than expected at recovery time and the chutes or engines are inadequate for safe recovery.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are 2 active forks of Tweakscale, one maintained by Lisias and another by JonnyOThan. In \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, one is called \u0022TweakScale - Rescale Everything!\u0022 and the other is \u0022TweakScale Rescaled\u0022. I think parts tweaked with either one don\u0027t work perfectly in Stage Recovery.\n\u003C/p\u003E\n"}]}