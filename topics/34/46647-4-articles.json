{"TopicId":46647,"ForumId":34,"TopicTitle":"[1.3](Jun04/17) Automate Vertical Velocity and Altitude Control","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2013-09-27T01:22:59Z","PageNum":4,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-04T03:28:34Z","Content":"\n\u003Cp\u003EVersion 1.5.1 bugfix is out. \u003C/p\u003E\u003Cp\u003EThe text in the B9 mod should no longer get changed by my mod.\u003C/p\u003E\u003Cp\u003ERe-download not required if you are not seeing this bug.\u003C/p\u003E\u003Cp\u003EStill looking into KAS, I should have something that allows the Undocked plug for a sky crane in a day or two.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"The Space Man","CreatedById":73734,"CreatedDateTime":"2014-02-04T12:38:20Z","Content":"\n\u003Cp\u003EThanks for the quick fix Diazo.\u003C/p\u003E\n"},{"CreatedByName":"Pontiac","CreatedById":62216,"CreatedDateTime":"2014-02-08T16:31:38Z","Content":"\n\u003Cp\u003EI plan on installing this right now (Been humming and haw\u0027n about using this or writing/borrowing/stealing someone elses script for kOS) but this won out for this purpose. The question I have though is it possible to add your config to change the \u002B/- settings to a decimal number? My nuke engines are extremely close to the ground and I\u0027m worried that if I hit anything harder than 0.5m/s that I\u0027ll crush \u0027em. heh\u003C/p\u003E\u003Cp\u003E[edit]\u003C/p\u003E\u003Cp\u003EI read the code. Seems as though line 192, 198, 207 and 213 are the lines of interest. I\u0027m going to dig through how you\u0027re reading the configs and make an EDIT 2.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-08T16:33:56Z\u0022 title=\u002202/08/2014 04:33  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 8, 2014\u003C/time\u003E by Pontiac\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-09T21:08:19Z","Content":"\n\u003Cp\u003EYa, that will be a simple tweak.\u003C/p\u003E\u003Cp\u003EI\u0027ll add it to the .cfg file so the current 1m/s is the default, but you can change the increment to whatever you want.\u003C/p\u003E\u003Cp\u003EAlmost got the KAS stuff working, so next version should be tomorrow hopefully.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-10T03:38:25Z","Content":"\n\u003Cp\u003EOkay, version 1.6 out.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIncrement Size\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis adds the ability to set the increment size. The default is 1m/s which is what has been used until now. If you want a custom increment, go into the TWR1.cfg and change the TWR1Step from 1 to what you want. (0.5 for 0.5m/s steps, etc.).\u003C/p\u003E\u003Cp\u003EI\u0027m going to be adding a settings screen in the next few versions that will allow setting this from in-game.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESkycrane Mode\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis version also adds Skycrane support. Right now skycrane mode is automatically added only when KAS is installed, but it can be forced. (See end of this post.)\u003C/p\u003E\u003Cp\u003EKAS allows both Docked and Undocked connections.\u003C/p\u003E\u003Cp\u003EIf you use the Docked connection type, the two ships become one ship as far as my mod is concerned. The mass of both connected ships is accounted for and the engines on both ships are controlled. (If normally active.)\u003C/p\u003E\u003Cp\u003EIf you connect with Undocked mode, that is where this mode comes into play.\u003C/p\u003E\u003Cp\u003EHow Skycrane mode works is that nearby \u0027vessels\u0027 (storage containers, rovers, other things you\u0027d want to lift) are checked and if they are flying, they are assumed to be carried by your currently active vessel.\u003C/p\u003E\u003Cp\u003EThis means that when taking off you can set an ascent speed of 2m/s and the mod will automatically use the mass of only your Skycrane until the load is off the ground when it will compensate for the mass and keep the 2m/s ascent going after the load has lifted off.\u003C/p\u003E\u003Cp\u003EThe same on descent, set it to 1m/s downwards and the mod will control the throttle so that the Skycrane does not shoot upwards once the load has touched down and its mass is no longer being carried.\u003C/p\u003E\u003Cp\u003EThere are two big limitations at the moment however.\u003C/p\u003E\u003Cp\u003EFirst, KSP has wonky detection on when a vessel is landed or not. I had to add a 15 second delay to compensate so a load (not your controlled vessel) can only switch between \u0027landed\u0027 and \u0027flying\u0027 once every 15 seconds.\u003C/p\u003E\u003Cp\u003ESo if you brush the ground by accident, the mod thinks you are trying to land your load and so will throttle back as now only your active vessel is flying.\u003C/p\u003E\u003Cp\u003EThe other limitation is that the mod assumes every nearby vessel is a potential skycrane load. If you have another mod that has Helium Blimps or some other vessel that can float while not being controlled, the mod will assume it is attached to your current vessel and assume it has to carry it\u0027s mass. Note that this only applied to vessels not touching the ground, as long as even a dinky little strut is touching the ground, KSP considers that vessel as landed and it will not cause problems.\u003C/p\u003E\u003Cp\u003EIf you want skycrane support without KAS installed, go into the TWR1.cfg and set TWR1KASForce to true. If you have KAS installed and don\u0027t want Skycrane mode to activate, in the TWR1.cfg file set TWR1KASDisable to true.\u003C/p\u003E\u003Cp\u003EAgain, watch for an in-game settings screen in the next few versions to set all this from in-game.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003Eedit: Ugh, typos. My initial upload of version 1.6 was bad. I\u0027ve uploaded the corrected version. This only lasted a couple hours so I\u0027m not going to upload a version 1.6.1 for this.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-10T05:08:39Z\u0022 title=\u002202/10/2014 05:08  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 10, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"martinezfg11","CreatedById":59995,"CreatedDateTime":"2014-02-10T04:12:52Z","Content":"\n\u003Cp\u003EDiazo, you\u0027re awesome. I\u0027ll be trying this ASAP.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-10T05:18:42Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ELet me know how it goes, I\u0027ll be poking at things after work tomorrow again.\u003C/p\u003E\u003Cp\u003EI\u0027m hoping to have the next version with the Skycrane tweaks and the Settings Window out Tuesday right now.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-02-11T16:33:36Z","Content":"\n\u003Cp\u003EI really like the idea of how you worked around the sky-crane problem! \u003C/p\u003E\u003Cp\u003EGood job!\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2014-02-23T20:19:15Z","Content":"\n\u003Cp\u003EI\u0027ve noticed quite a lot of exceptions in my output_log.txt:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException\u003Cbr\u003E  at (wrapper managed-to-native) UnityEngine.Component:InternalGetGameObject ()\u003Cbr\u003E  at UnityEngine.Component.get_gameObject () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at Vessel.recurseCoMs (.Part part) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at Vessel.findWorldCenterOfMass () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at VerticalVelocity.TWR1.TWR1Skycrane () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at VerticalVelocity.TWR1.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-23T23:54:52Z","Content":"\n\u003Cp\u003EOdd.\u003C/p\u003E\u003Cp\u003EI\u0027ve been in there finalizing my tweaks for my next release and have not seen those.\u003C/p\u003E\u003Cp\u003EI\u0027ll look into in it.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003Eedit: Found it. That means there is no active vessel in the flight scene somehow, as in FlightGlobals.ActiveVessel is null. I will admit I assumed that was impossible and did not error trap it. It should not affect anything as if there is no active vessel there is no engines to control.\u003C/p\u003E\u003Cp\u003EPlease confirm that this only happens when there is no active vessel (such as after a crash or similar) and not during normal flight.\u003C/p\u003E\u003Cp\u003Eedit the second: Fix is in for the bug I found, will be out in the next version (which I hope to have out very soon).\u003C/p\u003E\u003Cp\u003Eedit the third: And found another NullRef exception, grrrr. Next release will be tomorrow (or as soon as I can squash this one).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-24T03:52:41Z\u0022 title=\u002202/24/2014 03:52  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 24, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-02-25T03:41:22Z","Content":"\n\u003Cp\u003EOkay, version 1.7 out. \u003Ca href=\u0022http://kerbalspaceprogram.com/vertvelctrl/\u0022 rel=\u0022external nofollow\u0022\u003EGrab it at the spaceport.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003ENote: Version 1.7 changes the TWR1.cfg file format. You must overwrite your existing TWR1.cfg file when installing.\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThe only thing you will lose is your screen position, it will reset to the top left corner.\u003C/p\u003E\u003Cp\u003EChangelog:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAdded a settings screen:\u003C/strong\u003E You can now change all your settings from in-game. This includes the key the mod uses, the size of the velocity step and the Skycrane mode. Open this with the Wrench icon in the lower right. (Yes that is a wrench, there\u0027s a reason I do a model-less plugin mod.)\u003C/p\u003E\u003Cp\u003EThis change also opens up the option of using anything instead of the mod key. You can use any key on the keyboard, a mouse button, a joystick button or a controller button. Just be aware that there is no check for a conflicting keybind. If the key (or button) you bind to already does something else in the game, \u003Cem\u003Eboth\u003C/em\u003E commands will execute. (My first try was the C key, switching to IVA and back got confusing fast.)\u003C/p\u003E\u003Cp\u003ENote that when entering the step size, limitations in the Unity Text Box function mean that it must always be a number. This means that to enter 0.5, you must type the 5 and then cursor back to enter the decimal point. If you type just the decimal point, KSP will delete it because it \u0027auto-corrects\u0027 0. to just 0 and deletes the decimal point.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAerodynamic Lift Compensation:\u003C/strong\u003E The mod now has limited capability to compensate for lift generated by wings. Notably in my testing using the stock Kerbal 2 rocket a relatively slow horizontal speed of only 10 to 20 m/s was generating 0.2 to 0.4m/s^2 acceleration from the 3 control winglets that rocket mounts. (Yes, even though they are 90\u00C3\u201A\u00C2\u00B0 perpendicular to the direction of movement, those winglets are generating lift.) As you now have the capability to set your own velocity step size, that 0.4m/s^2 acceleration could \u003Cem\u003Ereally\u003C/em\u003E throw things off if you had a step smaller then 1m/s. This feature is compatible with FAR for those that use it.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EToolbar is now optional:\u003C/strong\u003E As the Toolbar is not my mod and I now had the option of making Toolbar support optional, I have done so. Therefore the Toolbar mod is no longer included in my mod\u0027s download file.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EBugfixes:\u003C/strong\u003E What would a release be without bugfixes? Notably, I got rid of a couple of NullReference errors that the Skycrane mode could throw under unusual conditions. \u003C/p\u003E\u003Cp\u003ESo there you go, have fun and happy rocketing! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-04-02T23:43:44Z","Content":"\n\u003Cp\u003EVersion 1.8 released for KSP 23.5 compatibility.\u003C/p\u003E\u003Cp\u003ENo code changes to the mod itself, although I removed the CompatibilityChecker component.\u003C/p\u003E\u003Cp\u003EThis mod is small enough that it is not likely to break when KSP updates and I can\u0027t guarantee immediate updates anymore due to real life so I don\u0027t want to be warning players the mod is out of date when they can\u0027t do anything about it because there is no update available.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"JumpsterG","CreatedById":63396,"CreatedDateTime":"2014-04-03T13:36:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EVersion 1.8 released for KSP 23.5 compatibility...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the notes! I intended to test this mod in a new install last night but got suckered into trying to run a Starbound server for friends. I\u0027m still trying to sneak some time to play with the new update!\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-04-23T08:18:12Z","Content":"\n\u003Cp\u003EHey Diazo\u003C/p\u003E\u003Cp\u003ENot sure if you are aware of it - but this tool is one of the few that can work with interstellar engines correctly.\u003C/p\u003E\u003Cp\u003EI will keep this as a default :-)\u003C/p\u003E\u003Cp\u003EThanks for the work you\u0027ve put in..\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2014-04-23T08:41:12Z","Content":"\n\u003Cp\u003EMan, it seams great, bona try it. But i will not remove Mechjeb. Use both. This look to have a great altitude control.\u003C/p\u003E\u003Cp\u003EGreat Job!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Prowler_x1","CreatedById":78175,"CreatedDateTime":"2014-05-13T00:31:14Z","Content":"\n\u003Cp\u003EDiazo,\u003C/p\u003E\u003Cp\u003EI love your mod. Unfortunately I have a bug to report. By the way, the mod is fantastic.\u003C/p\u003E\u003Cp\u003EUsing LazarousLuan\u0027s Laztek SpaceX mod I found that the Mono-propellant engines attached to capsules start behaving like a squid. The governor is broken on the engines. They try to regulate by opening and closing the throttle from 0 to 100% and start to oscillate. (0-100-0-100-0-100...) Usually the capsule will eventually fly upwards uncontrollably until you start adjusting \u0022minus ones\u0022 until you find you\u0027re bouncing up-down on the same range of altitude or you start a descent in oscillation.(fast-slow-fast-slow...) I have tested both air/mono-propellant and also pure mono-propellant engines. \u003C/p\u003E\u003Cp\u003EI have no clue if the error for the mod is on your end or if it is on LazrousLuan\u0027s mod. Please help me determine.\u003C/p\u003E\u003Cp\u003ERegards and best wishes...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-13T00:41:21Z\u0022 title=\u002205/13/2014 12:41  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 13, 2014\u003C/time\u003E by Prowler_x1\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-06-05T02:16:41Z","Content":"\n\u003Cp\u003EJust checking in to let people know I\u0027m still alive. Real life got nuts but things are settling down.\u003C/p\u003E\u003Cp\u003EI\u0027ve move the download link to my Google drive for now as a host, please let me know if it works or if I need to rehost elsewhere.\u003C/p\u003E\u003Cp\u003E@Prowler: Are you experiencing this in Velocity Control mode or Altitude Control mode (or both)? I should have time to look at this in the next week hopefully and the more info you can give me the better.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-06-06T01:25:31Z","Content":"\n\u003Cp\u003EOkay, version 1.9 released to support MonoPropellent engines, such as those on the SpaceX mod capsules.\u003C/p\u003E\u003Cp\u003EThe exact issue was that my mod was only looking at engines that used the \u0022ModuleEngines\u0022 module in code. However, an engine using MonoPropellent for fuel can use the \u0022ModuleEnginesFX\u0022 module in code, which the SpaceX capsules do.\u003C/p\u003E\u003Cp\u003EMy mod now recognizes the \u0022ModuleEnginesFX\u0022 module and the SpaceX capsules, and all other mod parts that use it, should now work correctly.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-06-06T08:46:35Z","Content":"\n\u003Cp\u003EThank\u0027s - I love it..\u003C/p\u003E\u003Cp\u003Ein case someone is not aware of it..\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETHIS works with all KSPI engines!!\u003C/strong\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-06-20T03:12:22Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 1.10 Release\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EIf you have \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/38069-0-23-5-Davon-Throttle-Control-systems-mod\u0022 rel=\u0022external nofollow\u0022\u003EDavon\u0027s Throttle Control mod\u003C/a\u003E installed, only engines on Throttle 0 (the default) will be controlled by this mod.\u003C/p\u003E\u003Cp\u003EFor best use, also ensure that only engines on Throttle 0 are in Center Thrust mode.\u003C/p\u003E\u003Cp\u003EFor a VTOL, that means the vertical lift engines should be left on Throttle 0, the horizontal thrust engines moved to Throttle 1. Take off using the Velocity Control mod then once you reach your desired altitude, set your vertical speed to 0m/s and engage your horizontal engines. As your horizontal speed increases and wings start to generate lift, the Velocity control mod should compensate to keep your vertical speed roughly zero (or whatever your vertical speed setpoint is.)\u003C/p\u003E\u003Cp\u003EIf you do not have Davon\u0027s Throttle Control mod installed, this feature will not engage and will have no effect.\u003C/p\u003E\u003Cp\u003EThe other change is that I tweaked the height display on the mod so that it displays the height to ground from the bottom of your vessel instead of from your vessel\u0027s center of mass.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Kerba Fett","CreatedById":62292,"CreatedDateTime":"2014-07-08T18:09:20Z","Content":"\n\u003Cp\u003EI really like your plugin and have gotten so used to it that landing with manual throttle seems quite difficult now. \u003C/p\u003E\u003Cp\u003EI do have a couple of suggestions/request for you to consider.\u003C/p\u003E\u003Cp\u003EYou\u0027re probably aware that your plugin doesn\u0027t work well with jet engines because of the spool up lag. You plugin appears to link the throttle to the vertical speed indicator. \u003C/p\u003E\u003Cp\u003ESuppose you had another mode for jets where your vertical speed controls were just throttle presets. You\u0027d have to tune it for each plane, but it could be a semi-automatic process. You\u0027d start on the runway and apply just enough throttle to climb. After a few seconds the plugin notes the throttle setting and vertical speed. It then reduces the throttle by 2%, waits for the engines to catch up and makes a note of the new throttle setting and climb rate. It keeps doing this till it finds the throttle setting for hover and records that preset. Then it slowly increases the throttle till it finds the preset for \u002B5ms. It keeps repeating the process till it\u0027s got throttle presets from -25 m/s to \u002B25 m/s in 5 m/s increments. It saves that config and you\u0027re ready to fly.\u003C/p\u003E\u003Cp\u003EYou\u0027d still have the throttle lag in jet engines so you\u0027d still have to anticipate your throttle changes, but with the presets you\u0027d spend less time overcontrolling the throttle.\u003C/p\u003E\u003Cp\u003EI was also wondering about having 2 different increment rates in the setting screen and a toggle on the main panel to switch between them. You could do your early descent in 10 or 20 m/s increments then easily switch to 1 or .5 m/s for the final descent and landing.\u003C/p\u003E\u003Cp\u003EFinally, have you ever considered doing a companion plugin to control pitch and roll? \u003C/p\u003E\u003Cp\u003EIt could use the same layout as your vertical control but have an extra row of buttons for the extra axis it controls. Perhaps you could even have an option for it return the craft to vertical when the surface speed reachs a preset point. For instance if you\u0027re pitched back to slow down it could go vertical when the speed hits 0 to keep you from overshooting and end up going backwards.\u003C/p\u003E\u003Cp\u003ELike this plugin you should be able to override it with manual control, but that shouldn\u0027t disengage the plugin. If it\u0027s set to hold the craft vertical and you pitch forward, it should return to vertical when you let go of the key. If you want to go manual control it\u0027s easy enough to click the off button. \u003C/p\u003E\u003Cp\u003EI think something like this would not only be handy for landers, but that it would make a nice aid for flying planes.\u003C/p\u003E\u003Cp\u003EAnyways, I realize you\u0027re probably busy with life. (everyone is in the summer) Perhaps when you get bored and start looking for a new project you could keep this stuff in mind. :^)\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-08T19:02:21Z","Content":"\n\u003Cp\u003EInteresting thoughts you have there.\u003C/p\u003E\u003Cp\u003E-Throttle control for jet engines and presets.\u003C/p\u003E\u003Cp\u003EThis sounds like a good idea, but it is something that should be a separate mod. This vertical velocity mod makes the basic assumption that the engines it controls are pointing downwards, not backwards as the jet engine control you are talking about would. \u003C/p\u003E\u003Cp\u003EFrom your descriptions I assume you are talking about using the lift from your wings to go up or down based on the speed you are traveling forwards. If you are talking about jet engines pointing downwards, the mod as it currently exists should work, just it will bounce up and down around the desired altitude while the throttle catches up.\u003C/p\u003E\u003Cp\u003EI\u0027m not adverse to writing something like that, I myself am moving from pretty much a pure rocket flyer to starting to mess around with spaceplanes as it is. No guarantees though, I have a couple other mod ideas that are coming first.\u003C/p\u003E\u003Cp\u003E-Swap between two increment sizes\u003C/p\u003E\u003Cp\u003EHave you looked at the altitude control? Between the revised control code and the new way of calculating altitude in the recent versions, this should be pretty safe to use near the ground. Rather then stepping your speed down it 10 or 20m/s steps, have you tried putting a fly-to altitude of 100meters (or even 30 meters) in and seeing how that works for you?\u003C/p\u003E\u003Cp\u003EWhile not what you are asking for, the altitude control is intended to be used for large altitude changes instead of large velocity control steps. Or are you flying some other mission profile I have not thought of?\u003C/p\u003E\u003Cp\u003ENote I don\u0027t recommend trying to land with altitude control mode. It can probably land you correctly, especially with a high TWR vessel, but as this mod does nothing for your sideways speed you will need to cancel your sideways momentum through other means before touchdown.\u003C/p\u003E\u003Cp\u003E-Pitch and roll plug in\u003C/p\u003E\u003Cp\u003EAs you talk about, this is not going to happen. Rather, one of the plugins that I\u0027m currently planning to make is an RCS sideways velocity control.\u003C/p\u003E\u003Cp\u003ESo the main engines do your vertical velocity, the RCS does your sideways velocity and the SAS keeps your vessel pointed upright.\u003C/p\u003E\u003Cp\u003EThe RCS control will have the ability to zero out your sideways speed or the ability to hover over a point you select on the ground.\u003C/p\u003E\u003Cp\u003ENote that this will be a while, I have not even started coding it yet. I have another project in the queue that is almost done (an on-screen joystick for flying spaceplanes with the mouse) that I am going to finish first.\u003C/p\u003E\u003Cp\u003EAnd those are my current thoughts on this.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Kerba Fett","CreatedById":62292,"CreatedDateTime":"2014-07-09T01:04:01Z","Content":"\n\u003Cp\u003EThanks for the quick reply. \u003C/p\u003E\u003Cp\u003EI was actually thinking of the presets for jet powered VTOL\u0027s. \u003C/p\u003E\u003Cp\u003EWhile your plugin does work with jet engines I find you need to be pretty close to a hover before you engage it. If you\u0027re dropping at 20 m/s and you set your plugin to hover it will go full throttle and stay there till you start to climb. Then it cuts the throttle but it takes a bit of time for the engine to spool down. By the time it does you\u0027re climbing again and as your upward velocity drops it won\u0027t get back on the throttle till you start to fall. You end up in this up and down oscillation that you need to manually damp out. \u003C/p\u003E\u003Cp\u003EMy thinking was that it would be up to the pilot to anticipate and switch to hover thrust at the proper time. The plugin would just quickly go to that preset when told. \u003C/p\u003E\u003Cp\u003EI\u0027ve tried the altitude control, but not at the low altitudes you suggested. Crashing into the surface too many times has made me pretty conservative about landings. ;^)\u003C/p\u003E\u003Cp\u003EWhat I usually do for landings is use a MechJeb function called \u0022Time to Suicide Burn\u0022 \u003C/p\u003E\u003Cp\u003EMy understanding is that this is the latest point where full throttle will save you from a crash. I let the ship drop till this gets to about 15 seconds then manually apply just enough throttle for it to reduce to about 5 seconds. Then I start using your plugin to more precisely manage my descent rate. I keep the increment of your plugin set a 1m/s for nice soft landings so there can be a lot of mouse clicking. \u003C/p\u003E\u003Cp\u003EI do quicksave before my de-orbit burn so I should probably try your suggestion to use altitude control close to the ground. \u003C/p\u003E\u003Cp\u003EYour RCS plugin sounds interesting and to a small degree it will do what I was looking for in the pitch/roll plugin. \u003C/p\u003E\u003Cp\u003EWhen I was building my Munbase I landed a couple of solar collector towers. It\u0027s got a low COM, but is a pretty tall structure with solar panels mounted on it. I noticed that if I put RCS thrusters only at the very top and use IJKL to operate them, not only would the RCS slow me down it would also cause the ship to pitch back a bit so the main engine helped slow me as well. Soon as the RCS thruster stops firing SAS returns the craft to vertical. Your plugin sounds like it would enhance this system quite a bit. \u003C/p\u003E\u003Cp\u003ENo worries if the pitch/roll plugin doesn\u0027t interest you. I can get the same function from MechJeb\u0027s surface panel. The one thing I don\u0027t like about it is the need to click in a number field and enter a value. And while your focus is in that field you have no control over your craft. That was the main annoyance that caused me to switch to your program from the translatron.\u003C/p\u003E\u003Cp\u003EAnyways, I can\u0027t wait to see what you come up with next, but don\u0027t forget to enjoy your summer. :^)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-09T01:06:07Z\u0022 title=\u002207/09/2014 01:06  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2014\u003C/time\u003E by Kerba Fett\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-07-09T02:12:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerba Fett\u0022 data-cite=\u0022Kerba Fett\u0022\u003E\u003Cdiv\u003EThanks for the quick reply. \u003Cp\u003EI was actually thinking of the presets for jet powered VTOL\u0027s. \u003C/p\u003E\u003Cp\u003EWhile your plugin does work with jet engines I find you need to be pretty close to a hover before you engage it. If you\u0027re dropping at 20 m/s and you set your plugin to hover it will go full throttle and stay there till you start to climb. Then it cuts the throttle but it takes a bit of time for the engine to spool down. By the time it does you\u0027re climbing again and as your upward velocity drops it won\u0027t get back on the throttle till you start to fall. You end up in this up and down oscillation that you need to manually damp out. \u003C/p\u003E\u003Cp\u003EMy thinking was that it would be up to the pilot to anticipate and switch to hover thrust at the proper time. The plugin would just quickly go to that preset when told. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, so vertical jet engines. I\u0027m not what to do here.\u003C/p\u003E\u003Cp\u003EThe issue is that adding in any sort of dampening or slowing the throttle response will conflict with the lift detection from wings. It sounds like that is what is happening now to make the jet engine control so poor.\u003C/p\u003E\u003Cp\u003EAs it stands I can get compensation for lift from wings so that lifting forces are correctly compensated for, or you can have jet engine spooling compensation so that the slow throttle response of the jet engine is allowed for.\u003C/p\u003E\u003Cp\u003EThrottle presets would not work either as he mass of your vessel is going to change as you burn fuel.\u003C/p\u003E\u003Cp\u003EWhat I need to do it somehow add a fudge factor for the difference between a jet engine\u0027s throttle setting and actual produced thrust somehow but I\u0027m not sure where to start on that. I\u0027ll mull it over and see if I have a brain wave.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI\u0027ve tried the altitude control, but not at the low altitudes you suggested. Crashing into the surface too many times has made me pretty conservative about landings. ;^)\u003Cp\u003EWhat I usually do for landings is use a MechJeb function called \u0022Time to Suicide Burn\u0022 \u003C/p\u003E\u003Cp\u003EMy understanding is that this is the latest point where full throttle will save you from a crash. I let the ship drop till this gets to about 15 seconds then manually apply just enough throttle for it to reduce to about 5 seconds. Then I start using your plugin to more precisely manage my descent rate. I keep the increment of your plugin set a 1m/s for nice soft landings so there can be a lot of mouse clicking. \u003C/p\u003E\u003Cp\u003EI do quicksave before my de-orbit burn so I should probably try your suggestion to use altitude control close to the ground.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn the altitude control I was trying to program what is effectively a suicide burn to the desired altitude. I\u0027ve gotten it pretty close and now that as of the most recent version it uses the distance from your landing legs to ground (not from vessel center of mass), it should be safe pretty close to the ground. I have not actually tested this specifically however and the higher TWR your vessel has, the safer any attempts you make will be.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EYour RCS plugin sounds interesting and to a small degree it will do what I was looking for in the pitch/roll plugin. \u003Cp\u003EWhen I was building my Munbase I landed a couple of solar collector towers. It\u0027s got a low COM, but is a pretty tall structure with solar panels mounted on it. I noticed that if I put RCS thrusters only at the very top and use IJKL to operate them, not only would the RCS slow me down it would also cause the ship to pitch back a bit so the main engine helped slow me as well. Soon as the RCS thruster stops firing SAS returns the craft to vertical. Your plugin sounds like it would enhance this system quite a bit. \u003C/p\u003E\u003Cp\u003ENo worries if the pitch/roll plugin doesn\u0027t interest you. I can get the same function from MechJeb\u0027s surface panel. The one thing I don\u0027t like about it is the need to click in a number field and enter a value. And while your focus is in that field you have no control over your craft. That was the main annoyance that caused me to switch to your program from the translatron.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe biggest thing that the pitch/roll does not seem to have a point to me. The original version way back when was simply an assist to stop me crashing skycranes because I have a sucky keyboard and the lightest touch I could do on the throttle was 10-15% changes in thrust. I don\u0027t have that problem with WASD on pitch/yaw and can control that within a degree or two manually.\u003C/p\u003E\u003Cp\u003EThat still leaves cancelling out horizontal thrust as the biggest issue I have with landings and I\u0027m currently using RCS manually to do so which gives me a pretty good idea how to program a mod to do it for me.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnyways, I can\u0027t wait to see what you come up with next, but don\u0027t forget to enjoy your summer. :^)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, summer, the time of hiding inside from the heat and playing on the computer. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Hit 28\u00C3\u201A\u00C2\u00B0C here today, going to be 31\u00C3\u201A\u00C2\u00B0 on the weekend.....(83\u00C3\u201A\u00C2\u00B0 and 88\u00C3\u201A\u00C2\u00B0F)\u003C/p\u003E\u003Cp\u003EI\u0027ll keep chugging away, this base won\u0027t assembly itself after all.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Voculus","CreatedById":85437,"CreatedDateTime":"2014-07-09T03:23:59Z","Content":"\n\u003Cp\u003EDiazo, I just found this mod today, and coupled with the Davon Throttle Control as you suggested, it opens up so many possibilities! The hamster wheel in my brain is only just beginning to turn. You sir, are a genius! From reading the threads, I found that MechJeb has something similar, but I found it to be lacking, compared to your mod. Very well done! I have one question, and forgive me if I accidentally skipped over it, but am I correct in understanding that the \u0022Control From Here\u0022 element must be pointing skyward, like a Munar lander, for instance? I\u0027ve taken to adding probe cores on my atmospheric VTOL ships for this purpose, but that leaves me unable to control the craft from the cockpit. Is there a workaround for that? In any case, thanks for the mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: Yes, you already covered this, and in my excitement, I totally missed it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E Nevertheless, thanks again.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-09T03:26:54Z\u0022 title=\u002207/09/2014 03:26  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 9, 2014\u003C/time\u003E by Voculus\u003C/strong\u003E\n\u003C/span\u003E\n"}]}