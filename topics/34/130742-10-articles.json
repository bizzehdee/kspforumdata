{"TopicId":130742,"ForumId":34,"TopicTitle":"[1.12.x] kRPC: Control the game using C#, C\u002B\u002B, Java, Lua, Python, Ruby, Haskell, C (Arduino)... (v0.5.4)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T08:47:48Z","PageNum":10,"Articles":[{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-04-09T15:57:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223015243\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491746139\u0022 data-ipsquote-userid=\u0022173560\u0022 data-ipsquote-username=\u0022GenryRar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, GenryRar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\none stupid question - is it possible to control specific inactive vessel (ofcourse in physical range)?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep! You can get hold of the vessel object for an inactive vessel via \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/space-center.html#property-KRPC.Client.Services.SpaceCenter.SpaceCenter.Vessels\u0022 rel=\u0022external nofollow\u0022\u003ESpaceCenter.Vessels\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"GenryRar","CreatedById":173560,"CreatedDateTime":"2017-04-13T15:30:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223015353\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221491753438\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 09.04.2017 at 6:57 PM, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYep! You can get hold of the vessel object for an inactive vessel via \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/space-center.html#property-KRPC.Client.Services.SpaceCenter.SpaceCenter.Vessels\u0022 rel=\u0022external nofollow\u0022\u003ESpaceCenter.Vessels\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThx!\n\u003C/p\u003E\n"},{"CreatedByName":"Thertor","CreatedById":167231,"CreatedDateTime":"2017-04-21T17:03:05Z","Content":"\n\u003Cp\u003E\nHow can I get the state of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, and only print something when it\u0027s true/false?\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-04-22T08:42:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223029256\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221492794185\u0022 data-ipsquote-userid=\u0022167231\u0022 data-ipsquote-username=\u0022Thertor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Thertor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow can I get the state of \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, and only print something when it\u0027s true/false?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSee my answer here:\u00A0\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/62902-122-krpc-remote-procedure-call-server-v038-29th-march-2017/\u0026amp;do=embed\u0026amp;comment=3030196\u0026amp;embedComment=3030196\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2017-04-30T07:58:29Z","Content":"\n\u003Cp\u003E\nIs there a way to interface with external hull cameras, such as from HullCam VDS? \u00A0 I am trying to figure out how to reference them as parts, and then call their modules for activation. \u00A0I figure that should be something I can do, yes?\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2017-04-30T08:28:04Z","Content":"\n\u003Cp\u003E\nAny other protocols to go by... Google is insecure\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2017-05-03T06:52:09Z","Content":"\n\u003Cp\u003E\nAre there any more complete libraries for kRPC? \u00A0I\u0027m having trouble linking a lot of references because many of those in the github page are outdated or slightly different. \u00A0Specifically I want to link a resource from a specific tank to a variable, and cannot seem to get it to work.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nresource = vessel.parts.*part-name/title/tag/number*.resources(\u0027resource\u0027) is what I kinda thought it would be. \u00A0I realize this is horridly wrong....kinda new to Python, but using this mod as a fun way to learn. \u00A0How should I call a specific part? \u00A0\u003Cbr\u003E\nCheers,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-03T07:06:47Z\u0022 title=\u002205/03/2017 07:06  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 3, 2017\u003C/time\u003E by Bosun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-05-10T18:17:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223039688\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221493539109\u0022 data-ipsquote-userid=\u0022146083\u0022 data-ipsquote-username=\u0022Bosun\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/30/2017 at 8:58 AM, Bosun said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a way to interface with external hull cameras, such as from HullCam VDS? \u00A0 I am trying to figure out how to reference them as parts, and then call their modules for activation. \u00A0I figure that should be something I can do, yes?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you mean control the camera, or actually get the video feed out via krpc? I\u0027m not familiar with the mod, but if it just adds a new part with a custom partmodule, you should be able to interact with its fields/events/actions by calling \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Epart.module\u003C/span\u003E which returns an instance of this class:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#module\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/parts.html#module\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223039701\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221493540884\u0022 data-ipsquote-userid=\u0022167493\u0022 data-ipsquote-username=\u0022ColKlonk2\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/30/2017 at 9:28 AM, ColKlonk2 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny other protocols to go by... Google is insecure\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you\u0027re referring to the protobuf library, it\u0027s an open source library, developed by\u00A0Google. It doesn\u0027t rely on their servers or any closed source,\u00A0and is actively contributed to by the open source community. So I wouldn\u0027t worry about \u0022insecurity\u0022!\n\u003C/p\u003E\n\u003Cp\u003E\nI have added a websockets based server to the \u0022upcoming\u0022 (been upcoming for a long time now...) release, mainly to support things like JS in the browser that can\u0027t communicate over TCP/IP. I might also add gRPC support at some point.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-05-10T18:29:31Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E# Get a list of all tanks with the given title\ntanks = vessel.parts.with_title(\u0027Rockomax Jumbo-64 Fuel Tank\u0027)\n\n# Get one of the tanks from the list\ntank = tanks[0]\n\n# Get an object representing the resources of the tank\nres = tank.resources\n\n# Print out the amount of liquid fuel in the tank\nprint res.amount(\u0027LiquidFuel\u0027)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/146083-bosun/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022146083\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/146083-bosun/\u0022 rel=\u0022\u0022\u003E@Bosun\u003C/a\u003E\u00A0The above is an example of getting the resources for a tank by title.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThe examples here are up to date with the latest version:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/tutorials.html\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-10T18:36:09Z\u0022 title=\u002205/10/2017 06:36  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 10, 2017\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003Cbr\u003EFix code\n\u003C/span\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2017-05-11T03:43:04Z","Content":"\n\u003Cp\u003E\nThanks! \u00A0 Is the index, 0, exampled here the \u0027Object\u0027 number in Unity? \u00A0Or is it the number within the list? (List item 1, list item 2, etc)\u003Cbr\u003E\u003Cbr\u003E\nMore importantly though, the creation of objects was a learning step for me. \u00A0I just figured this out Monday while I was re-reading part tree traversal, and was able to use the traverse to find and object the parts I wanted. \u00A0\u003Cbr\u003E\nWith this step I\u0027ll be able to separate like tanks as well. \u00A0Thanks!\u00A0 \u00A0\u003Cbr\u003E\nCheers! \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-05-11T22:17:45Z","Content":"\n\u003Cp\u003E\nIt\u0027s just the position in the list (lists in python are zero-indexed). Glad to hear you are enjoying learning python \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-05-19T01:47:55Z","Content":"\n\u003Cp\u003E\nHeya! \u00A0 I\u0027ve been stuck with non video game related life the last few months, but am finding some free time again and playing with KSP and KRPC again... \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: \u00A0I realized my first idea was dumb. \u00A0I was thinking about building a maneuver planning service for KRPC that would.... essentially... \u00A0just copy half of mechjeb into itself and then require me to maintain it in parallel to mechjeb. \u00A0See: dumb.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m back working on converting my mechjeb integration service to use reflection so that it doesn\u0027t crash if mechjeb isn\u0027t available. \u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u00A0, are you interested in me submitting a pull request to add it to the other mod wrapper services when I get it sorted? \u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, on a totally separate note - anyone having problems setting targets? \u00A0I think Squad changed the \u0027input lock\u0027 code in a way that makes it easy for modders... and squad itself for that matter... to get in each other\u0027s ways? \u00A0 I reported that one on the issues page. \u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-21T19:41:59Z\u0022 title=\u002205/21/2017 07:41  PM\u0022 data-short=\u00227 yr\u0022\u003EMay 21, 2017\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2017-05-24T01:23:43Z","Content":"\n\u003Cp\u003E\nAnother puzzler!\u00A0\u003Cbr\u003E\u003Cbr\u003E\nI\u0027m wanting to feed the \u0027prograde\u0027 vector from the conn.stream into the guidance for the target-pitch-heading function.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nCurrently, I\u0027ve created two functions, pitch and heading, to parse out the individual parts of the 3-float tuple that prograde stream spits out. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nMy question - which of those three tuples is the heading, the pitch, and what is the 3rd value in that tuple? \u00A0 Also - printing these off, they are in decimal. \u00A0What kind of conversion should I use to translate them into 0-90 ranges? \u00A0\u003Cbr\u003E\u003Cbr\u003E\nI\u0027m using \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, btw. \u00A0Not sure if that matters.\u003Cbr\u003E\nThanks for any help!\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-05-25T05:36:33Z","Content":"\n\u003Cp\u003E\nFirstly... \u00A0is there a reason you\u0027re not using the KRPC autopilot to help? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo point towards surface prograde all you have to do is -\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eap = vessel.auto_pilot\nap.reference_frame = vessel.surface_velocity_reference_frame\nap.target_direction = (0, 1, 0)\nap.engage()\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nchanging the second line above to get this would give you prograde in orbit-\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eap.reference_frame = vessel.orbital_reference_frame\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://krpc.github.io/krpc/tutorials/reference-frames.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://krpc.github.io/krpc/tutorials/reference-frames.html\u003C/a\u003E\u00A0 \u00A0\u0026lt;\u0026lt; \u00A0This page might help! \u00A0if I\u0027m not answering your question or there\u0027s a reason you\u0027re trying to do it a more low level way, if you explain it we can take a stab at figuring it out! \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Bosun","CreatedById":146083,"CreatedDateTime":"2017-05-26T05:34:25Z","Content":"\n\u003Cp\u003E\nThanks Art!\u00A0\u003Cbr\u003E\u003Cbr\u003E\nYes, I was actually attempting to build rockets that would follow a natural gravity curve without the need for steerage on the pitch. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nAfter looking through several equations for gravity turns that have been written, I finally had the thought about trying to just build rockets that have \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E staged well enough to turn on their own, as in, a real, actual, gravity turn. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nAt a certain altitude, I\u0027ll pitch the engines to tilt the rocket to a pre-determined pitch, and once at that pitch, release the rocket from corrective steering to simply point prograde. \u00A0At first, I attempted to use the game\u0027s own \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E control through kRPC to keep the rocket toward prograde, but I\u0027m curious if the kRPC command without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E engaged might be a little more stable, as the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E tends to give most of my vessels horrible waggle, so we\u0027ll see. \u00A0\u003Cbr\u003E\u003Cbr\u003E\nOnce I get decent at building the rockets, I can begin to actually work through the math of the build to design a rocket on the ground, write the code without flying it first, and know exactly what it\u0027s going to do.\u00A0\u003Cbr\u003E\u003Cbr\u003E\nFinally - thanks for giving me insight into pointing prograde! \u00A0I am still curious to know about the numbers that the conn.flight().prograde spits out, because I also want to know when my prograde surface flight path has reached a certain pitch, upon which I would release the rocket to prograde direction instead of forced pitching.\u003Cbr\u003E\u003Cbr\u003E\nCheers!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-26T05:41:29Z\u0022 title=\u002205/26/2017 05:41  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 26, 2017\u003C/time\u003E by Bosun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-05-26T10:08:33Z","Content":"\n\u003Cp\u003E\nCheers back! \u00A0 Why didn\u0027t you SAY you wanted to do things the hard way!? \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0 \u00A0 \u00A0Though, to be fair - KRPC sort of is the kind of thing that attracts those of us that are thrilled to waste 8 hours trying to save 5 minutes, isn\u0027t it? \u00A0 I\u0027ve been working 3 days on automatic space plane glideslopes and I don\u0027t even like space planes.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut enough of my lunacy and on to yours - firstly... remember that the vessel.flight() telemetry requires a reference frame! \u00A0I don\u0027t know what it uses for a default when you don\u0027t provide one, but you should provide one! \u00A0\u00A0f=v.flight(v.surface_reference_frame), for example - to get these surface referencing. \u00A0 The .prograde tuples are a combination of the orbital\u00A0vector components - \u00A0radial, normal, and prograde. \u00A0 They relate to the flight.direction value so by comparing them you can find your deviation from them on a scale of -1 to 1. \u00A0Suppose if my 4AM brain is working right... multiplying the .direction by 90 will give you the degrees of deviation from each of those pointings?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nPerhaps what you want is the autopilot.target_direction parameter? \u00A0 For setting the autopilot to point towards prograde? \u00A0 Maybe:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E v.auto_pilot.reference_frame=v.orbital_reference_frame\nv.auto_pilot.target_direction =0,1,0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"tho5is","CreatedById":178282,"CreatedDateTime":"2017-05-30T00:42:19Z","Content":"\n\u003Cp\u003E\n[deleted]\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-30T01:02:22Z\u0022 title=\u002205/30/2017 01:02  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 30, 2017\u003C/time\u003E by tho5is\u003C/strong\u003E\n\u003Cbr\u003Erealized probable answer from other sources.\n\u003C/span\u003E\n"},{"CreatedByName":"lushr","CreatedById":178578,"CreatedDateTime":"2017-06-06T00:51:58Z","Content":"\n\u003Cp\u003E\nI\u0027m working on a control system that needs a not-insignificant amount of time (about 0.5s) to precompute before it can begin guidance. To minimize error, I would like to do this precomputation while the game is paused/locked up, but haven\u0027t found a good way to accomplish this. Approaches I\u0027ve looked at include:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKerbal Alarm Clock pause events, which don\u0027t seem to be working anymore...\n\u003C/li\u003E\n\u003Cli\u003E\nRPC floods, which are limited to take about 0.1ms by the maximum value in the time per update field\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI don\u0027t really see any other way to stop or slow down the game from kRPC. Are there any suggested ways to accomplish this?\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-06-06T02:12:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223072949\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221496104939\u0022 data-ipsquote-userid=\u0022178282\u0022 data-ipsquote-username=\u0022tho5is\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/29/2017 at 7:42 PM, tho5is said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n[deleted]\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s always good to leave the question and just post what you figured out! \u00A0 It might help someone else in the future! \u00A0The forum is full of posts where I have to admit my mistakes of varying degrees of dumbditude! \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E \u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223081807\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221496710318\u0022 data-ipsquote-userid=\u0022178578\u0022 data-ipsquote-username=\u0022lushr\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, lushr said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m working on a control system that needs a not-insignificant amount of time (about 0.5s) to precompute before it can begin guidance. To minimize error, I would like to do this precomputation while the game is paused/locked up, but haven\u0027t found a good way to accomplish this. Approaches I\u0027ve looked at include:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKerbal Alarm Clock pause events, which don\u0027t seem to be working anymore...\n\u003C/li\u003E\n\u003Cli\u003E\nRPC floods, which are limited to take about 0.1ms by the maximum value in the time per update field\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI don\u0027t really see any other way to stop or slow down the game from kRPC. Are there any suggested ways to accomplish this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe Djungleorm can help with telling you what if any parts of KRPC function during a game pause when he\u0027s got more time... \u00A0are you really worried about the conditions changing so much during that .5s that you need to lock them down so you start control in the same state you calculated from? \u00A0Or is there some other reason I\u0027m missing? \u00A0Perhaps if you explain your use case more we can come up with an alternative together? \u00A0 I think it would be possible for KRPC to add a method to execute a game pause, but perhaps not an unpause if there\u0027s no way update RPC\u0027s during the pause to see the command. \u00A0If so you could grab the game state then pause... and just have to manually unpause when your program reported calculations complete? \u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"lushr","CreatedById":178578,"CreatedDateTime":"2017-06-06T02:46:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223081885\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221496715152\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe Djungleorm can help with telling you what if any parts of KRPC function during a game pause when he\u0027s got more time... \u00A0are you really worried about the conditions changing so much during that .5s that you need to lock them down so you start control in the same state you calculated from? \u00A0Or is there some other reason I\u0027m missing? \u00A0Perhaps if you explain your use case more we can come up with an alternative together? \u00A0 I think it would be possible for KRPC to add a method to execute a game pause, but perhaps not an unpause if there\u0027s no way update RPC\u0027s during the pause to see the command. \u00A0If so you could grab the game state then pause... and just have to manually unpause when your program reported calculations complete? \u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m working on doing hoverslam-style landing using a convex optimization\u00A0trajectory generation approach, based on Blackmore and Szmuk et al\u0027s work. In this approach, a solver is used to compute the optimal trajectory from the initial position to the landing site (which is what takes the 0.5s), and then the autopilot just follows the precomputed thrust level and direction, at least in an ideal system. This is quite sensitive to where it\u0027s started up, because uncertainties in the initial state will cause the final landing site to be off by that same amount.\n\u003C/p\u003E\n\u003Cp\u003E\nIn vacuum, just waiting for the solver is fine, because it\u0027s easy to project the state of the vehicle. Right now, I\u0027m working on a Mun lander, which uses RK4 integration forward 4 seconds to the beginning of the optimized trajectory, which also accounts for the time needed to reorient and ullage.\u00A0However, this approach breaks down in two scenarios:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nI eventually want to do SpaceX style landings with this script - which means that the system needs to work inside the atmosphere. I can\u0027t numerically integrate with sufficient accuracy atmospherically.\n\u003C/li\u003E\n\u003Cli\u003E\nIdeally, I would be able to re-run the optimizer as the vehicle is flying the old trajectory, further reducing final dispersion. However, again, numerically integrating this is quite tricky in this scenario.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nFor this application, either manually unpausing or waiting for kRPC to get back to it would be fine, as long as game time isn\u0027t passing while the solver is running. Thank you very much for the help!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-06T03:44:30Z\u0022 title=\u002206/06/2017 03:44  AM\u0022 data-short=\u00227 yr\u0022\u003EJune 6, 2017\u003C/time\u003E by lushr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-06-06T11:55:44Z","Content":"\n\u003Cp\u003E\nWell that IS a difficult case if you want the margins to be really as tight as SpaceX\u0027s.... \u00A0If I were trying to do it without adding my own service to KRPC to get a pause function... \u00A0I would use the fact that KRPC can save and load save files! \u00A0 \u00A0You could grab the parameters you need and trigger a quicksave... calculate and then reload the quicksaved state? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThough really if I was doing this in KSP where the margins don\u0027t HAVE to be so tight on using up the last drop of fuel, I\u0027d probably redefine the problem slightly to make it less computationally intense. \u00A0 For example - without looking up your references there it seems to me that only the last bit of such a landing has to be perfect. \u00A0 I might try to execute a series of less precise calculations diminishing the error each time. \u00A0 Initially course correct to get within 500m of the target location, inside a velocity range, at a given altitude, and then from THERE you go to the next waypoint, this time within 100m and with tighter velocity constraints. The landing could be totally prescripted, and precalculated then -\u00A0\u00A0for the last 500m, starting from a given location in space and velocity. \u00A0This seems to me that it has to be what SpaceX is actually doing too... \u00A0rather than doing all the math at once and just flying it from there, because they\u0027re able to adjust for wind and unexpected deviations from perfect conditions.\n\u003C/p\u003E\n\u003Cp\u003E\nI know it\u0027s not exactly what you\u0027re trying to do, and kudos to you if you figure out how to do it! \u00A0 Just sharing my thoughts on how I\u0027d get a virtual rocket on my virtual barge.\n\u003C/p\u003E\n"},{"CreatedByName":"lushr","CreatedById":178578,"CreatedDateTime":"2017-06-06T17:49:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223082234\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221496750144\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0I would use the fact that KRPC can save and load save files! \u00A0 \u00A0You could grab the parameters you need and trigger a quicksave... calculate and then reload the quicksaved state? \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s a really good idea - I\u0027ll give it a shot.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThough really if I was doing this in KSP where the margins don\u0027t HAVE to be so tight on using up the last drop of fuel, I\u0027d probably redefine the problem slightly to make it less computationally intense. \u00A0 For example - without looking up your references there it seems to me that only the last bit of such a landing has to be perfect. \u00A0 I might try to execute a series of less precise calculations diminishing the error each time. \u00A0 Initially course correct to get within 500m of the target location, inside a velocity range, at a given altitude, and then from THERE you go to the next waypoint, this time within 100m and with tighter velocity constraints. The landing could be totally prescripted, and precalculated then -\u00A0\u00A0for the last 500m, starting from a given location in space and velocity. \u00A0This seems to me that it has to be what SpaceX is actually doing too... \u00A0rather than doing all the math at once and just flying it from there, because they\u0027re able to adjust for wind and unexpected deviations from perfect conditions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnfortunately,\u00A0the optimization approaches don\u0027t really let you specify uncertainty - it\u0027s an all-or-nothing job. So far, I\u0027ve been working on a solution based on what was flown on Masten Aerospace\u0027s Xombie back when they were validating it for Mars EDL, which is to have a simple P\u00A0controller working to restore the pre-planned trajectory. The Xombie system also used a different terminal descent controller, that I haven\u0027t duplicated (though flying the last few meters manually is quite easy, at least when the system errors high and doesn\u0027t smash into the ground first).\n\u003C/p\u003E\n\u003Cp\u003E\nSo far, my\u00A0approach works well enough to crash within 50-100m of the desired landing site, and my main hope is that by tuning a PD/PID makeup controller I can hold the trajectory to within the landing leg\u0027s tolerances. I may also try to build the terminal descent autopilot that just cancels horizontal velocity and pulls the vertical velocity to within reasonable tolerances, which should at the very least reduce the number of explosions.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-06T17:57:27Z\u0022 title=\u002206/06/2017 05:57  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 6, 2017\u003C/time\u003E by lushr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ramh5","CreatedById":136603,"CreatedDateTime":"2017-06-06T20:40:23Z","Content":"\n\u003Cp\u003E\nIs there a way to have the Javadoc and/or link source code in eclipse, I spent way more time than I thought on this already and can\u0027t figure it out myself unfortunately.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Ok I figured out how to get some of the source code under\u00A0\\krpc-0.3.8\\client\\java\\src\\krpc\\client but I can\u0027t find any source code on krpc.client.services in which I am supposed to find the SpaceCenter Class for example.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-06T21:05:46Z\u0022 title=\u002206/06/2017 09:05  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 6, 2017\u003C/time\u003E by Ramh5\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-06-14T22:16:43Z","Content":"\n\u003Cp\u003E\nBeen a bit busy recently so not kept up with the discussion on here...\n\u003C/p\u003E\n\u003Cp\u003E\nhowever I am\u00A0happy to announce I\u0027ve\u00A0released v0.3.9, with support for KSP 1.3 and a few bug fixes \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFull change log is available here:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.3.9\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.3.9\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"lushr","CreatedById":178578,"CreatedDateTime":"2017-06-15T01:23:10Z","Content":"\n\u003Cp\u003E\nAs a quick follow up to my earlier post, I\u0027m now having some issues with the AutoPilot attitude controller. It seems to get \u0022stuck\u0022 pointing straight up, despite the direction being properly set (as indicated by the angular error, which can exceed 90 degrees). I\u0027m feeding it with a guidance loop running at 30Hz, with a unit vector that\u0027s relatively well behaved.\n\u003C/p\u003E\n\u003Cp\u003E\nAny ideas what I\u0027m doing wrong?\u00A0\n\u003C/p\u003E\n"}]}