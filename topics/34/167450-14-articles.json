{"TopicId":167450,"ForumId":34,"TopicTitle":"[1.9.x] Textures Unlimited - PBR-Shader, Texture Set, and Model Loading API","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-11-11T20:18:14Z","PageNum":14,"Articles":[{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-12-28T16:10:48Z","Content":"\n\u003Cp\u003E\nWith regard to how the colour masks work, am I reading it right that they need to be \u0022flat\u0022 RGB, as in you are not reading individual channel data for the layer as such? I\u0027m probably not explaining it too well. If, for example, the mask has yellow parts, which would be red 255 and green 255 with blue 0, can this mod recognise that the primary layer is \u0022red\u0022 and the secondary layer will place the \u0022green\u0022 channel on top of the primary?\n\u003C/p\u003E\n\u003Cp\u003E\nI have a whole bunch of masks I made for KerbPaint but got slightly demotivated due to various rendering issues like the light flare on landing gear being \u0022painted\u0022 or parts with masks not casting shadows. It looks to me like these issues are resolved\u00A0here.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-28T16:42:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254532\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514477448\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWith regard to how the colour masks work, am I reading it right that they need to be \u0022flat\u0022 RGB, as in you are not reading individual channel data for the layer as such? I\u0027m probably not explaining it too well. If, for example, the mask has yellow parts, which would be red 255 and green 255 with blue 0, can this mod recognise that the primary layer is \u0022red\u0022 and the secondary layer will place the \u0022green\u0022 channel on top of the primary?\n\u003C/p\u003E\n\u003Cp\u003E\nI have a whole bunch of masks I made for KerbPaint but got slightly demotivated due to various rendering issues like the light flare on landing gear being \u0022painted\u0022 or parts with masks not casting shadows. It looks to me like these issues are resolved\u00A0here.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAny place in the mask texture that is colored RED will have that portion of the model recolored by the \u0027Main Color\u0027 selection in the recoloring GUI.\u003Cbr\u003E\nAny place in the mask texture that is colored GREEN will have that portion of the model recolored by the \u0027Second Color\u0027 selection in the recoloring GUI.\u003Cbr\u003E\nAny place in the mask texture that is colored BLUE will have that portion of the model recolored by the \u0027Detail Color\u0027 selection in the recoloring GUI.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you mix colors anywhere in the mask, you \u003Cstrong\u003EMUST\u003C/strong\u003E normalize them to a range of 0-255(byte) or 0-1(float).\u00A0 If you do not... you will get \u0027blown out\u0027 colors, as they calculated through color-add processing.\u00A0 So, if you color something R255-G255-B0 -- you\u0027ll simply blow-out the color range, as the output will end up in the 0-510(byte) value range, so everything will be super bright, and the upper-half of the sliders will be useless.\n\u003C/p\u003E\n\u003Cp\u003E\nBasically, \u003Cstrong\u003EDONT\u003C/strong\u003E mix colors in the mask.\u00A0 Make it red, OR make it green, OR make it blue, OR make it black.\u00A0 Anything else will result in rendering artifacts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to see how the system is supposed to be setup, and how it works in practice -- go download and check out SSTU.\u00A0 Nearly every part in there is recolorable, using the process I have laid out over my last few posts.\u00A0 Not only does it work, but it works extremely well, allowing the largest degree of user control over the resultant color scheme and look of the parts that is possible with PBR shaders (it exposes every possible parameter to use control).\u00A0 But \u003Cstrong\u003Eonly\u003C/strong\u003E if you follow the proper setup and create the proper mask and diff/spec/met textures.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254532\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514477448\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ncan this mod recognise that the primary layer is \u0022red\u0022 and the secondary layer will place the \u0022green\u0022 channel on top of the primary?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo.. why would it do that?\u00A0 How does that even remotely make sense?\u00A0 Why wouldn\u0027t you just create the mask properly in the first place?\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-12-28T18:16:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254568\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514479325\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo.. why would it do that?\u00A0 How does that even remotely make sense?\u00A0 Why wouldn\u0027t you just create the mask properly in the first place?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou might\u00A0do it that way so to repaint the entire texture in a uniform colour in game you only need to adjust one layer, then the other two are used for detail or not at all. There\u0027s not really a \u0022proper\u0022 way to do it. KerbPaint did it the way I described and you\u0027ve done it another, neither is right or wrong it just depends on how you approach it.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00225686028F74F48AE9A10B8CD3DC2B7B143D844C03\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/775028769543403845/5686028F74F48AE9A10B8CD3DC2B7B143D844C03/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIn the image above, the red channel sets a \u0022basecoat\u0022 and the green and blue add detail.\n\u003C/p\u003E\n\u003Cp\u003E\nI only wished to clarify how it functioned to see if I could easily configure my current masks to work with this mod so stock becomes available. So thanks for clarifying.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-28T18:16:38Z\u0022 title=\u002212/28/2017 06:16  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 28, 2017\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2017-12-28T18:32:04Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117203\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0022 rel=\u0022\u0022\u003E@Manwith Noname\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFrom my understanding...\n\u003C/p\u003E\n\u003Cp\u003E\n_MainTex\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhere _MaskTex is black, this should be used as per normal with WYSIWYG\n\u003C/li\u003E\n\u003Cli\u003E\nWhere _MaskTex is not black , this should be gray\u00A0in areas that you want recolored. 127,127,127 means 100% recolor.\n\u003C/li\u003E\n\u003Cli\u003E\nHigher and lower values from 127,127,127 will blend the recolor with the diffuse, with intensity depending on how bright the _MaskTex color is (brighter _MaskTex means less diffuse).\n\u003C/li\u003E\n\u003Cli\u003E\nAlpha is ignored\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_BumpMap\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nUsed normally\n\u003C/li\u003E\n\u003Cli\u003E\nNote that you must make your _MaskTex match this because there is no masked normal\n\u003C/li\u003E\n\u003Cli\u003E\nUses DXT5nm format\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_MaskTex\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nShould be black in areas where you want to use the diffuse as usual\n\u003C/li\u003E\n\u003Cli\u003E\nRed channel is Main, Green channel is Secondary, Blue channel is Detail\n\u003C/li\u003E\n\u003Cli\u003E\nThe total color value should not exceed 255, but blending between channels is allowed. f.e. a gradient of 255,0,0 at one end, 0,255,0 at the other and 127,127,0 in the middle.\n\u003C/li\u003E\n\u003Cli\u003E\nAlpha is ignored\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_SpecMap\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhere _MaskTex is black, the Red channel is specular and Alpha channel should be metallic (I cannot confirm since metallic currently is set to use the full RGBA)\n\u003C/li\u003E\n\u003Cli\u003E\nWhere _MaskTex is not black, this should be gray in areas that you want recolored. 127,127,127,127\u00A0means 100% recolor specular and metallic\n\u003C/li\u003E\n\u003Cli\u003E\nHigher and lower values from 127,127,127,127 will blend the recolor with the _SpecMap, with intensity depending on how bright the _MaskTex color is (brighter _MaskTex means less _SpecMap)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_AOMap\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nStandard grayscale occlusion map\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_Emissive\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nStandard emission map for KSP\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n_MaskColor1, _MaskColor2, _MaskColor3, _MaskMetallic\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThese are the variable parameters that get set when using the recolor GUI\n\u003C/li\u003E\n\u003Cli\u003E\n_MaskColor alpha channel contains the specular\n\u003C/li\u003E\n\u003Cli\u003E\n_MaskMetallic is a vector, so x, y, z are 1, 2, and 3\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nMeshes\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nYou can utilize multiple meshes by grouping meshes into their own named sections which will all show up in the recolor GUI.\n\u003C/li\u003E\n\u003Cli\u003E\nThis allows you to have more than 3 recolorable regions on parts.\n\u003C/li\u003E\n\u003Cli\u003E\nYou can blend the 3 regions in a single section depending on what color you make the _MaskTex, but you cannot blend between sections.\n\u003C/li\u003E\n\u003Cli\u003E\nBecause each section has its own properties, you can utilize this to also change normal maps per section.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nOverrides\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe KSPTextureSwitch PartModule works on a top-down and cumulative workflow. This means that you could in fact have two instances of KSPTextureSwitch on the same part where one had a single TextureSet that specified your masked shader, mask texture, and recoloring defaults while another allowed you to choose between a of number normal maps and specular maps to change the look of the part; for example, plates and bolts vs\u00A0foil or pristine vs cracked glass.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-28T20:11:06Z\u0022 title=\u002212/28/2017 08:11  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 28, 2017\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-28T18:37:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254630\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514484970\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn the image above, the red channel sets a \u0022basecoat\u0022 and the green and blue add detail.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, if you were to directly render the existing mask textures onto the meshes -- they would look very similar to that.\u00A0 Here is a render out of blender showing a model with the mask texture used for diffuse coloring:\n\u003C/p\u003E\n\u003Cp\u003E\n(windows are a separate mesh, and are black in the mask texture, so they pull all of their color directly from the diffuse texture without any adjustments)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022rIexIKx.png\u0022 class=\u0022ipsImage\u0022 height=\u0022389\u0022 src=\u0022https://i.imgur.com/rIexIKx.png\u0022 width=\u0022389\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe actual diffuse, specular, and metallic textures used for that model are basically that grayscale noise texture I posted yesterday.\u00A0 This is because it uses the diffuse/spec/metallic textures as \u0027detail input\u0027 so that you can still have some highlights/etc in the textures, while still allowing for them to be recolorable, and not having to deal with trying to \u0027tint\u0027 things.\n\u003C/p\u003E\n\u003Cp\u003E\nThe way the shader works in recoloring mode is (simplified for a single recoloring channel)\n\u003C/p\u003E\n\u003Cp\u003E\nif mask texture is black the output color = the input color\u003Cbr\u003E\nif mask texture is R the output color = ( ( inputColor * 2 ) - 1 ) \u002B userSpecifiedColorForMainColor\u003Cbr\u003E\n(repeat for G, B channels)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254630\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514484970\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nto repaint the entire texture in a uniform colour in game you only need to adjust one layer, then the other two are used for detail or not at all.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInteresting concept, and with that explanation I can see what you were referring to.\u00A0 Makes quite a bit more sense in that context.\u00A0 But no, that is not how the TU masked/recoloring shader functions.\u00A0 It expects that any particular spot on the mesh will only have one of the three \u0027recoloring channels\u0027 applied to it (or an appropriately normalized mix across boundary regions).\n\u003C/p\u003E\n\u003Cp\u003E\n(might be willing to create a special mode in the shader that functioned that way that could be enabled through a keyword; feel free to post up an issue ticket with that as a feature request if it is something you are interested in; please note that it might take a few weeks to get it done though)\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-12-28T18:45:09Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u00A0Thanks for that information.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0Another thing it makes very easy is blending. Nose cones and fairings for example I typically applied a base coat and then overlaid in another channel a slowly fading to transparent layer from the tip.. I don\u0027t have any screenshots handy to demonstrate it but hopefully you can picture what I mean.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-28T18:45:28Z\u0022 title=\u002212/28/2017 06:45  PM\u0022 data-short=\u00226 yr\u0022\u003EDecember 28, 2017\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2017-12-28T19:08:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254651\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514486250\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n30 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/rIexIKx.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022rIexIKx.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022389\u0022 src=\u0022https://i.imgur.com/rIexIKx.png\u0022 width=\u0022389\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHAH!\u00A0 \u00A0When you posted that some time ago I just thought it was your attempt at the recoloring functionality.\u00A0\u00A0\u003Cimg alt=\u0022:sticktongue:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 title=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-12-29T21:42:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223254651\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514486250\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 28/12/2017 at 6:37 PM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n(might be willing to create a special mode in the shader that functioned that way that could be enabled through a keyword; feel free to post up an issue ticket with that as a feature request if it is something you are interested in; please note that it might take a few weeks to get it done though)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI kinda missed this part\u00A0but if that is at all on the cards, it would be fantastic. Primarily because I have most of the stock parts already masked in some way shape or form and the thought of going through them all again to \u0022re-layer\u0022 them fills me with dread, plus I have a workflow built around that method. There are some parts I\u00A0wanted to revisit and some with only a red base coat but due to KerbPaint having some issues due to lack of maintenance I kind of lost the enthusiasm. I\u0027m not a coder and I\u0027m not even a graphic artist but I can \u0022paint by numbers\u0022 in 3 colour channels and fudge \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches!\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0I have only made the masks I have because I didn\u0027t want to see what KerbPaint offered die completely and this seems like the perfect mod to move those on to with all it\u0027s bells and whistles on top.\n\u003C/p\u003E\n\u003Cp\u003E\nI have an idea of how to move forward short term which I will take to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u0027s thread since it is entirely about the config work he has already done more than functions of this mod.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-29T22:36:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223255579\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514583730\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI kinda missed this part\u00A0but if that is at all on the cards, it would be fantastic.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you post up the issue ticket..sure.\u00A0 No ticket = no work (I\u0027ll forget about it before I would ever start working on it).\n\u003C/p\u003E\n\u003Cp\u003E\nStill will be a few weeks/months out though.\u00A0 Far too overloaded with work that I actually need for my mods to be spending too much time on \u0027extras\u0027 that are of no use to me.\n\u003C/p\u003E\n\u003Cp\u003E\n--Or post up a PR with a new shader that does what you want right out of the box.\u00A0 I\u0027ll gladly accept PRs as long as they don\u0027t cause problems elsewhere in the code/mod/etc, and it would likely be available much sooner than if you are waiting for me to do the work.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-12-29T23:18:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223255579\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221514583730\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ngoing through them all again to \u0022re-layer\u0022 them fills me with dread,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou know... if you have them all as distinct files (why wouldn\u0027t they be..they are textures)...\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be a relatively simple affair to write a script that looped through them and re-layered them according to some simple rules.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E//pseudocode\n//for each pixel in the texture\nColor c = pixelColor;\nColor o;\nif(c.b\u0026gt;0){o = 0,0,1,1}\nelse if(c.g\u0026gt;0){o=0,1,0,1}\nelse if(c.r\u0026gt;0){o=1,0,0,1}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nUsing C# (or Java) it wouldn\u0027t be too many more lines of code than that.\u00A0 A few dozen lines of file reading/writing code, and a few more to access the pixel data structure.\u00A0 Much faster than trying to redo them by hand anyway.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, replicating the blended layering would be slightly more difficult, but likely still doable.\u00A0 Just more math.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(just brainstorming some ideas to try and help you get what you are looking for a bit quicker)\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2017-12-30T04:05:08Z","Content":"\n\u003Cp\u003E\nHonestly, you don\u0027t know how many times I have wished for an automated conversion process for various things...\n\u003C/p\u003E\n\u003Cp\u003E\nTo give you more of an idea of what the current\u00A0masks look like...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\nIndividual channels followed by composite.\n\u003C/blockquote\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u003Ca href=\u0022https://imgur.com/a/3lFje\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/3lFje\u003C/a\u003E\n\u003C/blockquote\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\nEdit: Apparently I don\u0027t know how to make an imgur album either...so it\u0027s now a link to a page...\n\u003C/blockquote\u003E\n\u003Cblockquote lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003E\n\u00A0\n\u003C/blockquote\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n...which ends up looking like this (for the\u00A0cones at least)...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221BE58437117AFAC6ABE9DE4B35A0B724C87DB684\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038307427322681/1BE58437117AFAC6ABE9DE4B35A0B724C87DB684/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nGiven that 1.4 could potentially bin\u00A0it all I think I\u0027ll hold fire on doing anything beside learning how this works. I\u0027ve got a tax return to do...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-12-30T04:10:06Z\u0022 title=\u002212/30/2017 04:10  AM\u0022 data-short=\u00226 yr\u0022\u003EDecember 30, 2017\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stuChris","CreatedById":157064,"CreatedDateTime":"2018-01-03T17:57:00Z","Content":"\n\u003Cp\u003E\nmy god this mod looks amazing.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2018-01-03T18:14:41Z","Content":"\n\u003Cp\u003E\nIn case people haven\u0027t realized, you can actually use these shaders without doing any PBR work at all or anything if you just want specular light and reflections to work.\n\u003C/p\u003E\n\u003Cp\u003E\nJust set the shader to\u00A0SSTU/PBR/StockMetallicBumped with _Metal at 0 and you\u0027re done.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-03T18:16:52Z\u0022 title=\u002201/03/2018 06:16  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 3, 2018\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"stuChris","CreatedById":157064,"CreatedDateTime":"2018-01-03T18:50:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223258956\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515003281\u0022 data-ipsquote-userid=\u0022109593\u0022 data-ipsquote-username=\u0022Electrocutor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Electrocutor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn case people haven\u0027t realized, you can actually use these shaders without doing any PBR work at all or anything if you just want specular light and reflections to work.\n\u003C/p\u003E\n\u003Cp\u003E\nJust set the shader to\u00A0SSTU/PBR/StockMetallicBumped with _Metal at 0 and you\u0027re done.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ni mean, i cant figure out how to get the mod to work in the first place \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u00A0ive installed it like any other mod, but get no difference in-game (am i just an idiot and am missing something?)\n\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2018-01-03T19:04:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223258977\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515005448\u0022 data-ipsquote-userid=\u0022157064\u0022 data-ipsquote-username=\u0022stuChris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, stuChris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ni mean, i cant figure out how to get the mod to work in the first place \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u00A0ive installed it like any other mod, but get no difference in-game (am i just an idiot and am missing something?)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think that\u0027s because this mod does nothing by itself, it just allows modders access to the ability.\u00A0 You need a parts pack or \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch that has parts or alters parts to use it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-03T19:05:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223258977\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515005448\u0022 data-ipsquote-userid=\u0022157064\u0022 data-ipsquote-username=\u0022stuChris\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, stuChris said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ni mean, i cant figure out how to get the mod to work in the first place \u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u00A0ive installed it like any other mod, but get no difference in-game (am i just an idiot and am missing something?)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBecause this mod, by itself, does nothing that a user would see.\u00A0 This mods purpose is to load the shaders and make them available to other users/developers to make use of, as well as providing a framework for managing and updating reflection probes in a fashion that works in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nYou need another mod / set of configs that apply the shaders to parts.\u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E has created quite a few of these patch sets, covering stock and a few other popular mods, which can be found:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed990818325\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/168795-electrocutors-thread/\u0026amp;do=embed\u0022 style=\u0022height:193px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n(or, you can check out SSTU -- the only mod that I know of that makes full integrated use of the PBR \u002B recoloring systems;\u00A0 you\u0027ll need both the regular SSTU release \u002B the SSTU-PBR expansion pack in order to make use of it all)\n\u003C/p\u003E\n"},{"CreatedByName":"stuChris","CreatedById":157064,"CreatedDateTime":"2018-01-03T19:07:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223258988\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515006316\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBecause this mod, by itself, does nothing that a user would see.\u00A0 This mods purpose is to load the shaders and make them available to other users/developers to make use of, as well as providing a framework for managing and updating reflection probes in a fashion that works in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nYou need another mod / set of configs that apply the shaders to parts.\u00A0 \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E has created quite a few of these patch sets, covering stock and a few other popular mods, which can be found:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed5818438035\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/168795-electrocutors-thread/\u0026amp;do=embed\u0022 style=\u0022height:191px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n(or, you can check out SSTU -- the only mod that I know of that makes full integrated use of the PBR \u002B recoloring systems;\u00A0 you\u0027ll need both the regular SSTU release \u002B the SSTU-PBR expansion pack in order to make use of it all)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nooohhh, thank you, i hadnt realized this \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-01-04T04:33:08Z","Content":"\n\u003Cp\u003E\nI\u0027ve been having some fun playing with this, making and breaking things. I noticed that the tinting mode behaves quite differently in a number of ways with regard to how colour, specular and metallic properties are handled and without going too much in to the things I like about each I decided to setup both modes in a similar fashion via texture sets and switching to play about. It seems that once the tinting mode has been applied to a part, it gets stuck on and does not revert to the \u0022normal\u0022 mode.\n\u003C/p\u003E\n\u003Cp\u003E\nThis screenshot shows how the part first appears with the tinting mode not set...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022B155AEFF986F6315717F6619D5EE58AD5F2427ED\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038733010027662/B155AEFF986F6315717F6619D5EE58AD5F2427ED/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThis screenshot shows how it appears when switching to the tinting mode texture set...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00229FDF1F18306673E30D9B097E4E833EA85BDAD018\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038733010028422/9FDF1F18306673E30D9B097E4E833EA85BDAD018/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThis screenshot shows how it appears when switching back to the non tinting mode texture set...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221EDC5021AC8EBA1F8A5D76F0B6421548D16309CF\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038733010029220/1EDC5021AC8EBA1F8A5D76F0B6421548D16309CF/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI hope I got them in the right order...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-04T04:34:46Z\u0022 title=\u002201/04/2018 04:34  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 4, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-04T16:05:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223259307\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515040388\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt seems that once the tinting mode has been applied to a part, it gets stuck on and does not revert to the \u0022normal\u0022 mode.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027ve hit a limitation of the current implementation of KEYWORDs -- namely, there is no way to disable them once enabled.\n\u003C/p\u003E\n\u003Cp\u003E\n(it is also a bit of fallout of the re-use of existing material instances, rather than recreating a blank material for every texture-set change)\n\u003C/p\u003E\n\u003Cp\u003E\nThe first bit I can solve (very ugly code though to fix it, and it would break every other config/mod using recoloring shaders); the second bit... can\u0027t be solved without breaking Electrocutors\u0027 patch setups -- you would be limited to a single TextureSwitch effecting any specific mesh; you couldn\u0027t have separate texture-switch modules handle metal/specular values.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, sadly, nothing really can be done about either right now.\u00A0 Pick a shader/keyword combo, and stick with it for all of the texture sets for any given part.\n\u003C/p\u003E\n\u003Cp\u003E\n(some of this -will- be changing during the update to KSP 1.4; new TU releases past that point will not be backwards compatible)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSpeaking of which --\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E --\u00A0 might you have some time to \u0027chat\u0027 over the weekend a bit?\u00A0\u00A0 Something a bit more real-time than forum PMs if possible (IRC, steam chat, whatever).\u00A0 I\u0027d like to discuss what features you need/would like from both shader and plugin code, as well as go over some of the already planned config-breaking changes.\u00A0 As you are the main external party making use of TU, and would likely be more impacted by the changes than others, I would like to see what you think of them and give you a chance to help figure out feature-set.\n\u003C/p\u003E\n\u003Cp\u003E\nMostly I would like to figure out a new \u0027stock recoloring\u0027 shader, so I can remove the tint-mode keyword stuff from the SSTU masked shaders.\u00A0 As I have no personal use for such a shader, I\u0027m going to need help/input on figuring out \u003Cem\u003Ewhat\u003C/em\u003E it should do and \u003Cem\u003Ehow\u003C/em\u003E it should function.\u00A0 A few other bits to discuss regarding the \u0027property bleeding\u0027 and the multi-texture-switch support; things that will need to be sorted out before solutions can be put in place.\n\u003C/p\u003E\n\u003Cp\u003E\n(if anyone else has a vested interest in, and knowledge of, the shader setup, and would like to take part in these discussions, please speak up -- not trying to be exclusive, will gladly expand the conversation to anyone with knowledge and interest)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-01-04T16:06:07Z\u0022 title=\u002201/04/2018 04:06  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 4, 2018\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-01-04T23:58:57Z","Content":"\n\u003Cp\u003E\nRighto.\u00A0 I did snoop the github and stumbled upon that discussion shortly after I posted.\u00A0I should also point out something I forgot to mention, I had each texture set up to use different colours in the primary layer. One was set to absolute black, the other absolute white. These also didn\u0027t switch but maybe this is the same problem.\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as what I would wish for in terms of how things function...\n\u003C/p\u003E\n\u003Cp\u003E\nMy own preference\u00A0is to recolour stock parts and existing mods as easily as possible. It turns out, I have actually made my existing masks work well enough on their own without the need to create more textures, though I still need to remap the way the RGB is setup to get the right colours from the values. (I\u0027m really wishing I used paths when making these now)\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022AEA318EC22C5F15DA96B77B7907657585A45A459\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038530548104555/AEA318EC22C5F15DA96B77B7907657585A45A459/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThe reason I\u00A0tried\u00A0to setup two texture sets was from my current testing, tinting mode clamps values within a certain range and gives a really rich black. Without tint mode, black is always kinda grey but I can really blow out spec and metallic values to produce a nice chrome type effect which is not possible with my current configs\u00A0in tint mode unless RGB layers overlap. Like below...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002278D03CE28A3184DD36F8FFE4735B83B04BC31F27\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/918038307431790927/78D03CE28A3184DD36F8FFE4735B83B04BC31F27/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nIdeally, I personally would like as much creative freedom from within game via sliders and essentially a kind of mixed mode between what tinting and non tinting settings currently offer. Rich blacks while also being able to\u00A0over saturate to compensate for things like high metallic levels.\n\u003C/p\u003E\n\u003Cp\u003E\nThese are simply my wishes and desires so far, not demands.\u00A0Heh, it might even be possible already I just haven\u0027t found the magic in the time I have spent mucking about. There\u0027s still some property settings\u00A0I need to mess with.\n\u003C/p\u003E\n"},{"CreatedByName":"fourfa","CreatedById":151713,"CreatedDateTime":"2018-01-05T02:35:38Z","Content":"\n\u003Cp\u003E\nIs there an easy way to make this mod default to Appearance = \u0022Metal\u0022 setting, instead of \u0022Default Metal\u0022?\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-01-05T03:10:49Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/151713-fourfa/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022151713\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/151713-fourfa/\u0022 rel=\u0022\u0022\u003E@fourfa\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming you are talking about \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E\u0027s Porkjet config, open it up in a text editor and find...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EcurrentTextureSet = PorkjetStock_DefaultMetal\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n...replace all\u00A0with...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EcurrentTextureSet = PorkjetStock_Metal\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"fourfa","CreatedById":151713,"CreatedDateTime":"2018-01-05T03:12:40Z","Content":"\n\u003Cp\u003E\nah sorry, should be in Electrocutor\u0027s thread.\u00A0 Actually it\u0027s for the stock configs, but that\u0027ll set me in the right direction\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-05T15:44:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223259900\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515110337\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy own preference\u00A0is to recolour stock parts and existing mods as easily as possible.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nContrary to my original beliefs, this actually is the single most requested feature from this mod.\u00A0 I thought that reflections and proper PBR would have been the bigger feature and driver of adoption... but no... its people who want recoloring.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn regards to recoloring of existing textures (stock / mods) -- until/unless someone can offer me a better way to do the shader, I\u0027m afraid it isn\u0027t going to improve much.\u00A0 The options are extremely limited when using existing textures and without requiring additional inputs to map things out.\u00A0 I\u0027ve given it a ton of thought, and cannot find any method to allow for proper recoloring that does not also require new textures be created.\n\u003C/p\u003E\n\u003Cp\u003E\nThe options are:\u00A0 (diffColor = diffuse texture color; userColor = user selected color from GUI; baseColor = color input from \u0027base color\u0027 map)\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\n\u0027Tinting\u0027 mode.\u00A0 This is what you currently have when you enable tinting mode in the shader.\u00A0 Requires only a user/dev provided \u0027mask\u0027 texture for each part.\u00A0 The base diffuse/spec textures influence the range of colors/values available through the sliders.\u00A0\n\u003Cul\u003E\u003Cli\u003E\nOutputColor = diffColor * userColor\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u0027Grayscale\u0027 mode.\u00A0 This is the SSTU mode, using a grayscale diff/spec/met base texture.\u00A0 Results in authentic/proper recoloring -- the color of the part is exactly what was specified in the GUI.\u00A0\n\u003Cul\u003E\u003Cli\u003E\nOutputColor = ((diffColor*2)-1) \u002B userColor\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u0027Mapped\u0027 mode.\u00A0 Supply a recoloring mask, and a \u003Cem\u003Ebase color\u003C/em\u003E mask.\u00A0 The \u0027base color\u0027 mask allows for extracting the details out of an existing diffuse texture, so they can be remapped on top of the user-selected colors.\u00A0 Results in authentic/proper recoloring -- the color of the part is exactly what was specified in the GUI.\u00A0 (not yet implemented, just a concept; nobody was interested in the \u0027grayscale\u0027 mode, so I doubt they would be interested in this one).\u00A0\n\u003Cul\u003E\u003Cli\u003E\nOutputColor = (diffColor - baseColor) \u002B userColor\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nThe method of blending of the layers in the mask texture really doesn\u0027t matter as long as the \u0027tinting\u0027 problem exists.\u00A0 This is going to be the single largest problem with adoption of recoloring for existing parts, without requiring new textures be created, and I\u0027m not sure that it can be solved (without adding more textures).\u00A0 I certainly haven\u0027t found any solutions to it, even after approaching the subject multiple times, and spending probably 40-80 hours working on it (you think the grayscale mode that I use was the first thing I tried?\u00A0 not even close....).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nHow would you propose solving this tinting problem?\u00A0 (provide math/proofs please)\u00A0 (the rest of the discussion is moot unless this problem can be solved)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223259900\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221515110337\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIdeally, I personally would like as much creative freedom from within game via sliders and essentially a kind of mixed mode between what tinting and non tinting settings currently offer. Rich blacks while also being able to\u00A0over saturate to compensate for things like high metallic levels.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs I\u0027ve said above -- maths please.\u00A0 How would such a thing be accomplished without requiring additional data inputs?\u00A0 I really don\u0027t think what you are asking for is even possible.\u00A0 I would be glad for someone to prove me wrong.\u00A0 Ecstatic even.\u00A0 But I\u0027m not holding my breath.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo detail the specifics of the problem --\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe goal of a \u0027recoloring\u0027 shader is to provide user control over the base coloring of a part.\u00A0 Whether it is a single color applied to the whole part, or using a mask input for multiple areas, the goal is the same - changing the displayed color of the object.\n\u003C/li\u003E\n\u003Cli\u003E\nRecoloring of a mesh in a \u0027raw\u0027 fashion is simple -- just use the color set in the GUI directly, and render it to the mesh.\u00A0 The problem with this is that the mesh will then lack texture-based details.\u00A0 No noise, no panel lines, no gradients, no dirt, etc.\n\u003C/li\u003E\n\u003Cli\u003E\nThe root of the problem -- how to extract just the \u0027details\u0027 from an existing arbitrary diffuse texture, and apply those on top of the user-selected colors?\n\u003Cul\u003E\u003Cli\u003E\nYou can either author a \u0027detail only\u0027 texture (grayscale mode),\n\u003C/li\u003E\n\u003Cli\u003E\nOr add a secondary input mask that denotes the \u0027base color\u0027 for every pixel in the original diffuse texture, which allows for \u0027nulling out\u0027 the base color, and extracting of the detail data.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe only thing I\u0027ve been able to think of that even partially alleviates this problem without requiring additional/new textures, would be to add three new color parameters to the shader -- \u0027baseColor1/2/3\u0027.\u00A0 These would take the place of the \u0027base color\u0027 texture listed above, and be applied to the main,second,detail recoloring channels respectively.\u00A0 This could work just as well as the \u0027base color\u0027 mode from above \u003Cem\u003Ein specific setups\u003C/em\u003E.\u00A0 Notably you would be limited to three \u0027base colors\u0027, -and- they would be forced to line up with the mask texture -- so if the actual part needed more base colors, or more sections, some of them would still recolor improperly\u00A0 (also would not work well with mask textures that used any sort of blending, unless they were pre-normalized properly - and the base colors also needed blended).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt just seems that I\u0027ve already given all of the options that are needed to have full and proper recolorable parts, but nobody wants to do the work to make it happen (e.g. creating new textures).\u00A0 Can\u0027t eat the cake without baking it first (and can\u0027t even make it without the proper ingredients)....\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-01-05T17:31:24Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI understand a bit better now, thank you for that explanation. To be clearer, I\u0027m not expecting to make no textures and magically see exactly what I want. My initial concern from reading what the required textures to set\u00A0this all up need to look like was that you might need to redistribute modified textures of others work. I have found ways of working around this but maybe with your latest post I might not even need that trick. I think I\u0027m getting muddled up in the procedure to use when actually creating a mod and integrating this system and the much simpler, \u0022let\u0027s take what a modder has done and add colour masks\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not an artist or a coder so I\u0027m never going to be able to make textures akin to a lot of the part creators here. Likewise, asking me to read or write code would be like asking me to\u00A0\u8B80\u5BEB\u4E2D\u6587. At least for that we have google. I really do appreciate what is currently possible, please don\u0027t misunderstand what I\u0027m saying. While I don\u0027t know the inner workings of shaders I am simply expressing things that may not have been considered from a programmers perspective but as a user looking to enable more creative freedom within the game. For me, this is the epitome of what KSP is, the freedom to design things in a physics sandbox. KerbPaint and now this mod are wonderful extensions to further that.\n\u003C/p\u003E\n\u003Cp\u003E\nSaying that, I can make simple \u0022flat\u0022 texture masks that overlay the real art and muddle together module manager patches. I will keep playing with configs and masks to see what I can achieve. Like I said previously, some of the things I\u0027m looking to do may well be possible right now, as is and I just have not found it.\n\u003C/p\u003E\n"}]}