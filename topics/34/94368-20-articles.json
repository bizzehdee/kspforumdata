{"TopicId":94368,"ForumId":34,"TopicTitle":"[old thread] Trajectories : atmospheric predictions","CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-12-23T20:25:57Z","PageNum":20,"Articles":[{"CreatedByName":"kendoka15","CreatedById":85678,"CreatedDateTime":"2015-11-11T00:37:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kaleaze\u0022 data-cite=\u0022Kaleaze\u0022\u003E\u003Cdiv\u003EI\u0027ve tested, but it\u0027s not working.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeems to be working (can\u0027t say if it\u0027s accurate though) with FAR\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2015-11-11T19:18:48Z","Content":"\n\u003Cp\u003EErrr, so, does it work or not? If it works, I\u0027d like to update the compatibility info, but I\u0027m not playing KSP right now, so I\u0027d be glad if someone could test that for me.\u003C/p\u003E\u003Cp\u003E@Kaleaze: should I assume you mean it doesn\u0027t work for the stock aerodynamic model? That could explain kendoka15 reports it works (with FAR)?\u003C/p\u003E\n"},{"CreatedByName":"LuvSicGrl","CreatedById":125392,"CreatedDateTime":"2015-11-11T19:22:44Z","Content":"\n\u003Cp\u003Edoes this work with far in .5.0 or no\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-11-11T19:47:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EErrr, so, does it work or not? If it works, I\u0027d like to update the compatibility info, but I\u0027m not playing KSP right now, so I\u0027d be glad if someone could test that for me.\u003Cp\u003E@Kaleaze: should I assume you mean it doesn\u0027t work for the stock aerodynamic model? That could explain kendoka15 reports it works (with FAR)?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ei confirm trajectories 1.4.3.0 doesn\u0027t work with the stock aero of KSP 1.0.5.1028 :\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/uYMWSNn.png\u0022 alt=\u0022uYMWSNn.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Etell if you need more infos (logs,...)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-11T19:57:01Z\u0022 title=\u002211/11/2015 07:57  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 11, 2015\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fireblade274","CreatedById":134571,"CreatedDateTime":"2015-11-11T22:00:20Z","Content":"\n\u003Cp\u003Esame thing for me\u003C/p\u003E\n"},{"CreatedByName":"Gaarst","CreatedById":126740,"CreatedDateTime":"2015-11-11T22:06:35Z","Content":"\n\u003Cp\u003EAero has been changed with 1.0.5, so it had to be expected that this mod wouldn\u0027t work.\u003C/p\u003E\u003Cp\u003EEven if it did, trajectories would have been wrong due to the changes.\u003C/p\u003E\u003Cp\u003EI wonder if it stops throwing errors/exceptions when it doesn\u0027t have to predict atmospheric trajectories anymore, ie: does it work on airless bodies ?\u003C/p\u003E\n"},{"CreatedByName":"Kaleaze","CreatedById":110938,"CreatedDateTime":"2015-11-12T16:05:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EErrr, so, does it work or not? If it works, I\u0027d like to update the compatibility info, but I\u0027m not playing KSP right now, so I\u0027d be glad if someone could test that for me.\u003Cp\u003E@Kaleaze: should I assume you mean it doesn\u0027t work for the stock aerodynamic model? That could explain kendoka15 reports it works (with FAR)?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, the stock aerodynamic, it doesn\u0027t show on the map where I\u0027ll land.\u003C/p\u003E\n"},{"CreatedByName":"Nightmare","CreatedById":63118,"CreatedDateTime":"2015-11-12T21:49:19Z","Content":"\n\u003Cp\u003ESame for me no trajectories shown.\u003C/p\u003E\n"},{"CreatedByName":"BigFluffyTRex","CreatedById":153538,"CreatedDateTime":"2015-11-13T19:22:10Z","Content":"\n\u003Cp\u003EHi Youen - had a quick look at your mod with visual studio - it\u0027s not working in 1.0.5 because ModuleLiftingSurface.SetupCoefficients() no longer takes the air density as a parameter. If you change line 255 in Trajectories.StockAeroUtil \u003C/p\u003E\u003Cp\u003EFROM: wing.SetupCoefficients(v_wrld_vel, rho, out nVel, out liftVector, out liftdot, out absdot);\u003C/p\u003E\u003Cp\u003ETO : wing.SetupCoefficients(v_wrld_vel, out nVel, out liftVector, out liftdot, out absdot);\u003C/p\u003E\u003Cp\u003EIt\u0027ll work. I tried building the mod and running it, and it worked for me!\u003C/p\u003E\u003Cp\u003EHope that helps you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"BigFluffyTRex","CreatedById":153538,"CreatedDateTime":"2015-11-13T19:26:19Z","Content":"\n\u003Cp\u003EHmm this didn\u0027t post the first time I think\u003C/p\u003E\u003Cp\u003EThe bug for 1.0.5 is in StockAeroUtil.cs, line 255\u003C/p\u003E\u003Cp\u003EThe function ModuleLiftingSurfare.SetupCoefficients() has been changed so it no longer takes the air density (rho) as a parameter.\u003C/p\u003E\u003Cp\u003EIf you remove rho from the call to SetupCoefficents at that line, it builds and runs correctly! (At least it display a trajectory in game \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003EHope this helps!\u003C/p\u003E\u003Cp\u003ERob\u003C/p\u003E\n"},{"CreatedByName":"frozenbacon","CreatedById":49001,"CreatedDateTime":"2015-11-14T03:20:29Z","Content":"\n\u003Cp\u003EI noticed a bug that causes my ship\u0027s orbit to change, and explode if I enable this mod. I think it is a special case, though... Didn\u0027t have the issue before.\u003C/p\u003E\n"},{"CreatedByName":"DMSP","CreatedById":124853,"CreatedDateTime":"2015-11-14T12:14:33Z","Content":"\n\u003Cp\u003EMod is bust \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease update it!\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022frozenbacon\u0022 data-cite=\u0022frozenbacon\u0022\u003E\u003Cdiv\u003EI noticed a bug that causes my ship\u0027s orbit to change, and explode if I enable this mod. I think it is a special case, though... Didn\u0027t have the issue before.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid this happen whilst Entering/Leaving an SOI? I had a problem that my Ion Test Probe kept switching orbits 20 Mins away from entering the Mun\u0027s SOI.\u003C/p\u003E\u003Cp\u003ENo explosions, but...\u003C/p\u003E\n"},{"CreatedByName":"Cerberus738","CreatedById":100744,"CreatedDateTime":"2015-11-14T14:49:04Z","Content":"\n\u003Cp\u003EI also hope this mod gets updated! it\u0027s so lovely!\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2015-11-14T16:16:08Z","Content":"\n\u003Cp\u003EThanks to atomicfury and BigFluffyTRex who pointed where the problem is. I\u0027ll test the fix and update ASAP.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2015-11-14T18:40:39Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/releases\u0022 rel=\u0022external nofollow\u0022\u003EHere is the new version\u003C/a\u003E. It seems to work fine with stock aerodynamics when I tested with the stock Kerbal X craft, and also with FAR.\u003C/p\u003E\u003Cp\u003EHowever, I get NullReferenceExceptions related to DragCubeList.AddSurfaceDragDirection when I test with the Dynawing stock craft (and stock aero model). Probably an issue related to one of the parts in that craft. I\u0027ll release on Kerbal Stuff once this bug is fixed (to avoiding notifying too many people with a not-completely-stable version).\u003C/p\u003E\n"},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-11-14T20:35:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/releases\u0022 rel=\u0022external nofollow\u0022\u003EHere is the new version\u003C/a\u003E. It seems to work fine with stock aerodynamics when I tested with the stock Kerbal X craft, and also with FAR.\u003Cp\u003EHowever, I get NullReferenceExceptions related to DragCubeList.AddSurfaceDragDirection when I test with the Dynawing stock craft (and stock aero model). Probably an issue related to one of the parts in that craft. I\u0027ll release on Kerbal Stuff once this bug is fixed (to avoiding notifying too many people with a not-completely-stable version).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit seems to me it is the fuel-lines and the struts.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003Etheir features changed with the 1.0.5 upgrade, i asked it heir:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/139497-Drag-of-fuel-lines-and-struts\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/139497-Drag-of-fuel-lines-and-struts\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-14T21:02:13Z\u0022 title=\u002211/14/2015 09:02  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 14, 2015\u003C/time\u003E by Skalou\u003C/strong\u003E\n\u003Cbr\u003Eadded quote\n\u003C/span\u003E\n"},{"CreatedByName":"rdwulfe","CreatedById":107690,"CreatedDateTime":"2015-11-15T13:59:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://github.com/neuoy/KSPTrajectories/releases\u0022 rel=\u0022external nofollow\u0022\u003EHere is the new version\u003C/a\u003E. It seems to work fine with stock aerodynamics when I tested with the stock Kerbal X craft, and also with FAR.\u003Cp\u003EHowever, I get NullReferenceExceptions related to DragCubeList.AddSurfaceDragDirection when I test with the Dynawing stock craft (and stock aero model). Probably an issue related to one of the parts in that craft. I\u0027ll release on Kerbal Stuff once this bug is fixed (to avoiding notifying too many people with a not-completely-stable version).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYouen, thank you so much for your continued work.\u003C/p\u003E\n"},{"CreatedByName":"jlcarneiro","CreatedById":79196,"CreatedDateTime":"2015-11-15T18:45:33Z","Content":"\n\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Cerberus738","CreatedById":100744,"CreatedDateTime":"2015-11-16T05:04:04Z","Content":"\nawesome!\n"},{"CreatedByName":"Delltron","CreatedById":92830,"CreatedDateTime":"2015-11-16T22:19:31Z","Content":"\nreally love this one, you\u0026#39;ve saved so many kerbal lives :)\n"},{"CreatedByName":"FungusForge","CreatedById":148313,"CreatedDateTime":"2015-11-18T00:50:18Z","Content":"\nThis doesn\u0026#39;t seem to actually like FAR. For whatever reason Trajectories is causing my craft to get minced because of aerodynamic stress whenever I go to the map. Even on the runway.\u003Cbr\u003E\n[imgur]nfqMM[/imgur]\u003Cbr\u003E\n\u003Cbr\u003E\nRemoving Trajectories fixed the issue, so I figured I\u0026#39;d bring it here.\n"},{"CreatedByName":"Thegamer211","CreatedById":149354,"CreatedDateTime":"2015-11-18T12:51:30Z","Content":"\nDoes the mod work in 1.0.5?\n"},{"CreatedByName":"Technologicat","CreatedById":153765,"CreatedDateTime":"2015-11-18T18:27:46Z","Content":"\n[quote name=\u0027Thegamer211\u0027]Does the mod work in 1.0.5?[/QUOTE]\u003Cbr\u003E\nNot at the moment. Stock aero has changed and requires corresponding changes to this mod.\u003Cbr\u003E\n\u003Cbr\u003E\nYouen has already updated the code (see the previous page in this thread), but there are still some issues that need to be ironed out before it\u0026#39;s ready for release.\u003Cbr\u003E\n\u003Cbr\u003E\nIf you play with FAR it might work, but there may be problems (see FungusForge\u0026#39;s post above).\n"},{"CreatedByName":"Blaarkies","CreatedById":153700,"CreatedDateTime":"2015-11-19T06:43:32Z","Content":"\n[quote name=\u0027FungusForge\u0027]This doesn\u0026#39;t seem to actually like FAR. For whatever reason Trajectories is causing my craft to get minced because of aerodynamic stress whenever I go to the map. Even on the runway.\u003Cbr\u003E\n\u003Cbr\u003E\nRemoving Trajectories fixed the issue, so I figured I\u0026#39;d bring it here.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI have the same problem(not on the runway per say). Whenever im in the atmosphere and switch te map view, then my vessel starts spinning around violently, changing it\u0026#39;s axis of spin quickly as well, also my orbit (stock and predicted) changes dramatically, by the amount of about 5g in random directions(velocity seems to slow down though by more that 10x atmospheric resistance). \u003Cbr\u003E\n-I can see the rotation(10\u002B revolutions per sec?) in the navball in map view, the longer i stay in map the worse it gets.\u003Cbr\u003E\n-It stops as soon as i switch back to flight(\u0022real world\u0022 view)...except for the spinning inertia left over from this.\u003Cbr\u003E\n-This was tested with multiple vessel designs(at first it looked like phantom acceleration by part clipping, so i tested with simple rockets as well), starting from launch, and again after re-entry back into atmosphere(both situations before and after going to \u0022space centre\u0022 and back again).\u003Cbr\u003E\n-Enabling/disabling \u0022fixed-body trajectory\u0022 did not affect results\u003Cbr\u003E\n\u003Cbr\u003E\nI do however get no glitches out of atmosphere. Anything above 70km is business as usual to adjust orbits and the like. Mun landings work perfectly(i constantly switch between map view to double check my landing site), I landed with pin-point accuracy where your red cross predicted and with very little effort.\u003Cbr\u003E\n\u003Cbr\u003E\nUsing:\u003Cbr\u003E\nKSP 1.0.5 build1028 \u003Cbr\u003E\nTrajectories-v1.4.4\u003Cbr\u003E\nFAR v0.15.5.3 \u0022von Helmholtz\u0022, 11/12/15\u003Cbr\u003E\nRemoteTech v1.6.9\u003Cbr\u003E\nScienceAlert-1.8.9\u003Cbr\u003E\n\u003Cbr\u003E\nP.S. Awesome mod, Squad should really get this into stock.\u003Cbr\u003E\n\u003Cbr\u003E\nEDIT: Found this. It would explain my results(but i have no clue about the source code)\u003Cbr\u003E\nI know this mod is still a pre-release for ksp1.0.5, but i find this mod so useful. I hope all this is useful\u003Cbr\u003E\n\u003Cbr\u003E\nThis issue was fixed by removing RemoteTech. I think the probe autopilot computer/feature interferes.\u003Cbr\u003E\n\u003Cbr\u003E\npost-number:[URL=\u0022http://forum.kerbalspaceprogram.com/threads/20451-1-0-5-Ferram-Aerospace-Research-v0-15-5-3-von-Helmholtz-11-12-15?p=2303362\u0026viewfull=1#post2303362\u0022]#11395[/URL]\u003Cbr\u003E\n[URL]http://forum.kerbalspaceprogram.com/threads/20451-1-0-5-Ferram-Aerospace-Research-v0-15-5-3-von-Helmholtz-11-12-15/page1140[/URL]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-25T12:06:14Z\u0022 title=\u002211/25/2015 12:06  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 25, 2015\u003C/time\u003E by Blaarkies\u003C/strong\u003E\n\u003Cbr\u003Efound ugly workaround\n\u003C/span\u003E\n"},{"CreatedByName":"80dBm","CreatedById":153903,"CreatedDateTime":"2015-11-21T20:17:52Z","Content":"\nI wrote a quick fix that just ignores fuel lines and structs in stock aero. Its not a great sollution but I really needed this mod to work, at least partially :)\u003Cbr\u003E\nIf someone is interested, download is here\u003Cbr\u003E\n[URL]https://github.com/martinjaros/KSPTrajectories/releases/download/v1.4.4-quickfix/Trajectories.zip[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nEDIT: it actually ignores any part that generated the exception, it seems there are more[URL=\u0022https://github.com/martinjaros/KSPTrajectories/releases/download/v1.4.4-quickfix/Trajectories.zip\u0022] [/URL]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-23T10:44:14Z\u0022 title=\u002211/23/2015 10:44  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 23, 2015\u003C/time\u003E by 80dBm\u003C/strong\u003E\n\u003C/span\u003E\n"}]}