{"TopicId":112027,"ForumId":34,"TopicTitle":"[1.12.x] Heat Control - More radiators! (August 22, 2021)","CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-05T04:37:37Z","PageNum":12,"Articles":[{"CreatedByName":"Captain Sierra","CreatedById":74666,"CreatedDateTime":"2015-06-26T20:34:11Z","Content":"The logic behind increasing reactor heat production was in an attempt to actually get it to stabilize better. Way I see it there\u0027s two main options: nerf the hell out of reactor heating until stock radiators can keep up, or raise reactor operating temperature so high the stock radiators are able to hit thermal equilibrium (which is gonna be really difficult without refrigeration). Had some other things I wanted to toss out but I just drove 3 and a half hours almost nonstop and have to make the drive again tomorrow, so I\u0027m a bit burnt out."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-26T20:53:17Z","Content":"\u003E \n\u003E Honestly? I\u0027m not a fan of \u0022fudging physics\u0022, as it were, even if it works ingame. That\u0027s not to say I will argue against it if it turns out to be useful, but you won\u0027t see me calling for it, sorry ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) It just feels counterintuitive to me to take this incredibly complex thermodynamics simulation that we have and then go and make it behave in an unrealistic fashion. Yes, I know the stock game does it all over the place, but that doesn\u0027t make it better.\n\nI\u0027d prefer to think of it as an \u0022abstraction\u0022 of plausible behind-the-scenes physics rather than \u0022fudging\u0022. That is, in my mind, setting emissivity \u003E1 isn\u0027t meant to imply that the radiator violates the laws of physics, but instead that it has some sophisticated engineering (e.g., a refrigeration circuit that pumps heat to specific heat dissipation elements of the radiator, which become much hotter than the panel as a whole) that allows it to operate in a manner slightly more complicated than the physics that KSP chooses to simulate, therefore requiring abstraction.\n\n\u003E \n\u003E The thing to keep in mind here is that doing this wouldn\u0027t have to be done to make the Near Future radiators work with the stock modules. They would work perfectly fine with no changes other than perhaps price and mass, and they\u0027d in fact be minimally better per area offered because they *already* have the highest possible (realistic) emissiveConstant, higher than what the stock radiators offer. But they would not truly offer anything new besides fancy emissives. (Which are, admittedly, one of my favorite things.)\n\nThe problem is, I\u0027m confident that the intended \u0022matching sets\u0022 of conformal radiators (e.g., four GR-1s for an MX-1 reactor) will no longer be sufficient to cool their corresponding reactors, unless we drastically change the reactor heat properties (by giving them super high nominal \u0026 critical temps and/or much lower heat output). If Nertea chooses to retire the assumption that a reactor\u0027s matching conformal radiators should provide sufficient cooling, so be it. But, personally, I\u0027d like to see this reactor/radiator relationship protected, even if it requires some slightly silly config values.\n\n\u003E \n\u003E It\u0027s precisely that which irks me. Build a part that does something novel and useful, and it requires fudging physics? Okay, may be acceptable. I eventually went with advocating fudging the physics on the DS01 Charon MPDT because it turned out that the size-0-to-size-0 bulkhead connection arbitrarily limits thermal conductivity to a huge degree. But build a part that is redundant, then fudge physics in order to justify its existence? That just feels contrived... Now of course, Nertea\u0027s parts came first and the new stock radiators merely sniped their reason to exist, so nobody can blame anyone for seeking new and novel ways to keep them relevant. I just think that fudging physics should be a last resort, not a weapon of choice.\n\nAs described above, I am not proposing this \u0022fudge\u0022 simply to justify the radiators\u0027 existence. It\u0027s intended to preserve the reactor/radiator relationship.\n\n\u003E \n\u003E Perhaps we might even get away without fudging physics. I have some vague ideas, but they\u0027re all pointless to discuss as long as I don\u0027t properly understand how NF reactors will run with stock radiators and proper skin stats. Once there is a test build available, this will certainly be the focus of my testing activities.\n\nFair enough. I understand that this discussion is largely speculative until we have a test build. That said, I think the question of whether or not it is justified to fudge (or, as I\u0027d like to think of it, \u0022abstract\u0022) the physics of Nertea\u0027s radiators is likely to be of key importance. As always, I appreciate your insights!\n\nEDIT:\n\n\u003E \n\u003E The logic behind increasing reactor heat production was in an attempt to actually get it to stabilize better. Way I see it there\u0027s two main options: nerf the hell out of reactor heating until stock radiators can keep up, or raise reactor operating temperature so high the stock radiators are able to hit thermal equilibrium (which is gonna be really difficult without refrigeration). Had some other things I wanted to toss out but I just drove 3 and a half hours almost nonstop and have to make the drive again tomorrow, so I\u0027m a bit burnt out.\n\nIf you thought that increasing reactor heat output was going to *help* the spacecraft achieve a stable thermal equilibrium, well, you may have some fundamental misunderstandings of the physics involved. It\u0027s true that radiators will dissipate more heat at higher temperatures, but the increase in heat dissipation will never exceed the increase in heat production, so it will always be a net detriment for the craft.\n\n**Edited \u003Ctime datetime=\u00222015-06-27T17:31:12Z\u0022 title=\u002206/27/2015 05:31  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 27, 2015\u003C/time\u003E by Fraz86**"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-26T22:20:31Z","Content":"I\u0027m going to add my voice to the discussion and say that I think Nertea should keep his radiators around. Plus those heat exchangers are extremely useful.\n\nI think I\u0027ll keep this in my gamedata for now and see how things go. I haven\u0027t actually played 1.0.4 yet."},{"CreatedByName":"crashy","CreatedById":136026,"CreatedDateTime":"2015-06-27T01:19:31Z","Content":"Do these radiators dissipate heat from solar panels? If they don\u0027t, please make them do, because the only mod that radiates heat from that is KSP Interstellar, and it is a hassle to install that big of a mod for just the radiators."},{"CreatedByName":"LtWigglesworth","CreatedById":147054,"CreatedDateTime":"2015-06-27T02:10:34Z","Content":"It could be possible to bring the heat insulators and exchangers over to a stock-like system, by allowing the heat exchangers to remove heat globally (as the stock radiators do) and then heat up to a high temperature according to the heat flux being removed from other parts. Radiators (behaving like stock radiators) could then be attached to the exchangers, equilibrate with the exchanger temperature and radiate at that temperature. \n\nIn this was the exchangers operate as \u0022refrigeration and heat rejection\u0022 units.\n\nThe insulators can be used to prevent the exchangers conducting heat to parts that need to remain cool."},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-06-27T08:54:52Z","Content":"\u003E \n\u003E Do these radiators dissipate heat from solar panels? If they don\u0027t, please make them do, because the only mod that radiates heat from that is KSP Interstellar, and it is a hassle to install that big of a mod for just the radiators.\n\nIf the solar panels get hot, these radiators will cool them\\*. However, there is no custom code included that makes solar panels hot, like KSPI does. KSPI has its own heat management system, while Heat Control uses the stock system introduced in KSP 1.0. There are situations under the stock systems where solar panels do get hot, but that generally only happens closer to the sun than Kerbin is.\n\n\\* after migrating to 1.0.3, presumably. Older versions of radiators cool only what they are attached to, though heat will flow from hot parts towards cool ones.\n\n\u003E \n\u003E It could be possible to bring the heat insulators and exchangers over to a stock-like system, by allowing the heat exchangers to remove heat globally (as the stock radiators do) and then heat up to a high temperature according to the heat flux being removed from other parts. Radiators (behaving like stock radiators) could then be attached to the exchangers, equilibrate with the exchanger temperature and radiate at that temperature. \n\u003E In this was the exchangers operate as \u0022refrigeration and heat rejection\u0022 units.\n\u003E \n\u003E The insulators can be used to prevent the exchangers conducting heat to parts that need to remain cool.\n\nThat involves plugin coding, which is off the table for now for the straight port to the stock system. It could be an option for the future, though I\u0027m not sure it\u0027s worth it... it\u0027s a strange kind of hybrid between the two systems. If in the future there is a version of Heat Control that aims to restore part-local heat management, it would probably go all the way part-local, because that\u0027s what people would be asking for.\n\nP.S.: Welcome to the forums ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n**Edited \u003Ctime datetime=\u00222015-06-27T11:17:05Z\u0022 title=\u002206/27/2015 11:17  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 27, 2015\u003C/time\u003E by Streetwind**"},{"CreatedByName":"crashy","CreatedById":136026,"CreatedDateTime":"2015-06-27T13:08:07Z","Content":"\u003E \n\u003E If the solar panels get hot, these radiators will cool them\\*. However, there is no custom code included that makes solar panels hot, like KSPI does. KSPI has its own heat management system, while Heat Control uses the stock system introduced in KSP 1.0. There are situations under the stock systems where solar panels do get hot, but that generally only happens closer to the sun than Kerbin is.\n\u003E \\* after migrating to 1.0.3, presumably. Older versions of radiators cool only what they are attached to, though heat will flow from hot parts towards cool ones.\n\u003E \n\u003E That involves plugin coding, which is off the table for now for the straight port to the stock system. It could be an option for the future, though I\u0027m not sure it\u0027s worth it... it\u0027s a strange kind of hybrid between the two systems. If in the future there is a version of Heat Control that aims to restore part-local heat management, it would probably go all the way part-local, because that\u0027s what people would be asking for.\n\u003E \n\u003E P.S.: Welcome to the forums ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nWhat I meant was that Waste heat was building up from the panels. Does this mod alleviate that?"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-27T13:57:20Z","Content":"Houston, we have a problem:\n\n[![screenshot14_zpsoakbegrs.png](http://img.photobucket.com/albums/v214/smjjames/screenshot14_zpsoakbegrs.png)](http://smg.photobucket.com/user/smjjames/media/screenshot14_zpsoakbegrs.png.html)\n\nI started up the reactor and then as soon as I went into high warp, everything got HOT.\n\nGiving it another try in Kerbin orbit to catch a succession of screenshots.\n\nThings were okay initially:\n\n[![screenshot59_zpswjr1iufj.png](http://img.photobucket.com/albums/v214/smjjames/screenshot59_zpswjr1iufj.png)](http://smg.photobucket.com/user/smjjames/media/screenshot59_zpswjr1iufj.png.html)\n\nThen when I went into high warp, things got hot:\n\n[![screenshot60_zpsi0gt9elh.png](http://img.photobucket.com/albums/v214/smjjames/screenshot60_zpsi0gt9elh.png)](http://smg.photobucket.com/user/smjjames/media/screenshot60_zpsi0gt9elh.png.html)\n\nHowever, this is on 50% power. The instant I put it on 100% power and went into warp, the radiators couldn\u0027t take it anymore, and I\u0027m using the ones rated for the MX-4 reactor.\n\n![screenshot139_zpsrf0ylrep.png](http://img.photobucket.com/albums/v214/smjjames/screenshot139_zpsrf0ylrep.png)\n\nThis may actually be a NFE problem, and not heat control, not sure.\n\nReactor rated panels just before explosion. This is in real time btw, so, it took what, five minutes.\n\n[![screenshot253_zpsbxaqeqxg.png](http://img.photobucket.com/albums/v214/smjjames/screenshot253_zpsbxaqeqxg.png)](http://smg.photobucket.com/user/smjjames/media/screenshot253_zpsbxaqeqxg.png.html)\n\n**Edited \u003Ctime datetime=\u00222015-06-27T14:31:02Z\u0022 title=\u002206/27/2015 02:31  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 27, 2015\u003C/time\u003E by smjjames**"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-27T14:44:40Z","Content":"\u003E \n\u003E What I meant was that Waste heat was building up from the panels. Does this mod alleviate that?\n\nWaste heat from panels is a KSPI issue (not aware of any other mods that do this), so I\u0027m not sure why you don\u0027t want to install KSPI ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). You must have some piece of it installed still. \n\n\u003E \n\u003E Houston, we have a problem:\n\u003E http://smg.photobucket.com/user/smjjames/media/screenshot14_zpsoakbegrs.png.html[http://img.photobucket.com/albums/v214/smjjames/screenshot14_zpsoakbegrs.png](http://img.photobucket.com/albums/v214/smjjames/screenshot14_zpsoakbegrs.png)\n\u003E \n\u003E I started up the reactor and then as soon as I went into high warp, everything got HOT.\n\u003E \n\u003E Giving it another try in Kerbin orbit to catch a succession of screenshots.\n\u003E \n\u003E Things were okay initially:\n\u003E \n\u003E http://smg.photobucket.com/user/smjjames/media/screenshot59_zpswjr1iufj.png.html[http://img.photobucket.com/albums/v214/smjjames/screenshot59_zpswjr1iufj.png](http://img.photobucket.com/albums/v214/smjjames/screenshot59_zpswjr1iufj.png)\n\u003E \n\u003E Then when I went into high warp, things got hot:\n\u003E \n\u003E http://smg.photobucket.com/user/smjjames/media/screenshot60_zpsi0gt9elh.png.html[http://img.photobucket.com/albums/v214/smjjames/screenshot60_zpsi0gt9elh.png](http://img.photobucket.com/albums/v214/smjjames/screenshot60_zpsi0gt9elh.png)\n\u003E \n\u003E However, this is on 50% power. The instant I put it on 100% power and went into warp, the radiators couldn\u0027t take it anymore, and I\u0027m using the ones rated for the MX-4 reactor.\n\u003E \n\u003E [http://img.photobucket.com/albums/v214/smjjames/screenshot139_zpsrf0ylrep.png](http://img.photobucket.com/albums/v214/smjjames/screenshot139_zpsrf0ylrep.png)\n\u003E \n\u003E This may actually be a NFE problem, and not heat control, not sure.\n\u003E \n\u003E Reactor rated panels just before explosion. This is in real time btw, so, it took what, five minutes.\n\u003E \n\u003E http://smg.photobucket.com/user/smjjames/media/screenshot253_zpsbxaqeqxg.png.html[http://img.photobucket.com/albums/v214/smjjames/screenshot253_zpsbxaqeqxg.png](http://img.photobucket.com/albums/v214/smjjames/screenshot253_zpsbxaqeqxg.png)\n\nEr, neither of these mods is 1.04 compatible yet..."},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-27T14:52:35Z","Content":"\u003E Er, neither of these mods is 1.04 compatible yet...\n\nYeah, I\u0027m going to leave HC and NF out until they\u0027re both updated for 1.0.4. Or at least just leave out NFE and HC. Along with Near Future Propulsion because those rely on the reactors.\n\nNear Future Solar and Near Future Spacecraft should be ok."},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-06-27T15:23:24Z","Content":"Also: the warp issue is stock behavior. At 1000x or higher, the entire vessel is treated as a single part for heat purposes. That may result in the entire ship gaining a very high temperature when the value for that \u0022single part\u0022 ship is chosen from a very hot (or actively heating-up) constituent part. Parts that exceed their maxTemp will promptly explode.\n\nWe get this report about once per 2-3 pages... ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n**Edited \u003Ctime datetime=\u00222015-06-27T15:32:04Z\u0022 title=\u002206/27/2015 03:32  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 27, 2015\u003C/time\u003E by Streetwind**"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-27T15:37:15Z","Content":"So I did some testing this morning and I\u0027m quite pleased with the results of halving (read: returning to normal) the reactor heat values and giving the radiators an emissivity of around 4. Reactor temp sits around 600K for the MX-1 and its matched set (I should also test the other reactors). This still matches up well with the LV-N, because the heat production value of the part got just about halved. May need to do some adjustment of heat values for NFP as a result. \n\nAdditionally I wrote a pair of quick new modules for radiators, one to restore the thermal animations, and another to add proper VAB info and flight UI readouts to the stock radiators. So really we\u0027re pretty good now!\n\nLooking like the plan right now is to release this with the stock system and my small tweak modules. Heat pipes, insulators and stuff will all still be in there. \n\nI will leave the plugin containing all the standard old HC modules around, and I will also place a MM patch to \u0022restore\u0022 the 1.02 heat model for the radiators so people can have that if they want. This will also adjust the new stock radiators to use that model. \n\nThere will be one test build later today, I hope."},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-06-27T15:45:22Z","Content":"Theres a bunch of error spam when I pull out one of the NF spacecraft low profile engines from the partlist. I\u0027ll post a screenshot on the NF pack thread. Though maybe you\u0027re aware of it."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-27T18:44:58Z","Content":"So, the radiators will not heat above warmest part (no heat pump), but emissiveConstant is cranked up 4 times beyond realistic level?"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-06-27T18:51:15Z","Content":"Well I hate the idea of telling physics to shut up with the radiators, but you say you will continue the plugin for people who want it how it was so as long as that is an option I dont care how you use the stock system. Thank you nertea for doing that!\n\n**Edited \u003Ctime datetime=\u00222015-06-27T19:35:03Z\u0022 title=\u002206/27/2015 07:35  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 27, 2015\u003C/time\u003E by Svm420**"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-27T19:05:30Z","Content":"\\*shrugs\\* If you care that much about an emissive constant that is too high, I can point out about a dozen things about the thermal radiative sim in KSP that are far more problematic than that. Physics is \u0022being told to shut up\u0022 way more elsewhere in the game."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-27T20:42:10Z","Content":"Cranked up emissive constant would just be the most evident of problematic things in simulation. And it\u0027s intended use supposed to be active cooling, i.e. evaporators, if I remember correctly.\n\nNo heat pump then?"},{"CreatedByName":"crashy","CreatedById":136026,"CreatedDateTime":"2015-06-27T21:41:15Z","Content":"\u0022Waste heat from panels is a KSPI issue (not aware of any other mods that do this), so I\u0027m not sure why you don\u0027t want to install KSPI ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). You must have some piece of it installed still.\u0022\n\nYeah sure, I\u0027ll just get KSPI and delete everything but the radiators. Should not have asked that question anyway ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)."},{"CreatedByName":"Streetwind","CreatedById":98962,"CreatedDateTime":"2015-06-27T21:58:01Z","Content":"\u003E \n\u003E \u0022Waste heat from panels is a KSPI issue (not aware of any other mods that do this), so I\u0027m not sure why you don\u0027t want to install KSPI ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif). You must have some piece of it installed still.\u0022\n\u003E Yeah sure, I\u0027ll just get KSPI and delete everything but the radiators. Should not have asked that question anyway ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif).\n\nWhat he meant is:\n\nSolar panels do not generate WasteHeat unless you have KSPI installed, because WasteHeat is a resource added by KSPI. You make it sound like your solar panels have WasteHeat on them. Thus it sounds like you have some form of KSPI already installed.\n\nIf you do not have it installed, and do not have WasteHeat on your solar panels, then what exactly are you looking to have removed?"},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-27T22:01:23Z","Content":"Nertea,\n\nYour proposed changes (halving reactor heat output and increasing radiator emissivity) sound perfectly reasonable. However, as I alluded to in one of my prior posts, one problem that existed back when reactors had lower heat output, was that attaching a bunch of structural parts (e.g., small wings) was a bit too effective at managing reactor heat. One possible solution is to decrease reactor heatConductivity to a very low value, maybe even 0.001 like radiators. This change is easily justified, as real-world reactors are certainly well insulated, and it would effectively force players to use radiators to manage reactor heat."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-27T23:02:52Z","Content":"There is also skin to internal conductivity at play now, so reactor insulation may be expressed via low skinInternalConductionMult."},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-06-28T01:28:04Z","Content":"[Release for testing only, of NFE only.](https://www.dropbox.com/s/utcxg9bl95yf3e3/NearFutureElectricalX0_5_2.zip?dl=0) Uses stock radiator system. Seems to work pretty nicely at the moment."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-28T03:10:06Z","Content":"Testing MX-4 with 6 GR4 radiators, fuel tank and some small stuff. Reactor equalized at 780K. But there is a problem: other parts are slowly accumulating heat crawling up to reactor\u0027s temperature.\n\n- - - Updated - - -\n\nReplaced GR-4 with 2 medium stock extendable radiators, reactor equalized at 670K\n\n- - - Updated - - -\n\nI was pretty optimistic, but now I don\u0027t like what I\u0027m seeing. This \u0027shaving temperature off\u0027 concept looks ugly with constant heat source. \n\nDon\u0027t throw away your previous radiator code just yet.\n\nThere are also some [part parameters](https://forum.kerbalspaceprogram.com/threads/61632-0-9-Better-Than-Starting-Manned-Career-Mode-Redefined-%28v0-Feb-17th%29?p=2042443\u0026viewfull=1#post2042443) worth investigating."},{"CreatedByName":"Psycho_zs","CreatedById":137644,"CreatedDateTime":"2015-06-28T03:41:09Z","Content":"Local radiators that pierce the skin of parent part would be ideal for reactors. A switchable for radiator maybe? (draw heat from: global / skin / interior)."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-28T03:58:56Z","Content":"Psycho,\n\nCould you elaborate on what you mean by the \u0022shaving temperature off concept\u0022 and why it looks ugly?"}]}