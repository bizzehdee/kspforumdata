{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":136,"Articles":[{"CreatedByName":"TDW","CreatedById":120346,"CreatedDateTime":"2015-07-19T13:07:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-cite=\u0022VFB1210\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-username=\u0022VFB1210\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nVFB1210 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\nIt should be taken into account whenever you are calculating the net force on the vessel. But the v(dm/dt) term only emerges when you are burning because dm/dt is zero when you aren\u0027t.\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn that case would this\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EF3 = M * a \u002B v(dm/dt)   - F1   - M * grav - v(dm/dt)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbe correct and in fact the v(dm/dt) cancels leaving you with just\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nF3 =   M * a - F1 - M * grav\u003C/pre\u003E\n\u003Cp\u003E\nand you never need to calculate v(dm/dt) for the purposes of this?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-25T02:14:17Z\u0022 title=\u002201/25/2016 02:14  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 25, 2016\u003C/time\u003E by TDW\u003C/strong\u003E\n\u003Cbr\u003Eforum change messing with formatting\n\u003C/span\u003E\n"},{"CreatedByName":"VFB1210","CreatedById":54159,"CreatedDateTime":"2015-07-20T05:27:42Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EI\u0027m dumb and I\u0027ve been over complicating everything this whole time.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAlso, \u003C/strong\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Variable-mass_system\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ethis wikipedia article is a thing.\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThe v in v(dm/dt) is supposed to be the exhaust velocity.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EExhaust velocity multiplied by mass flow rate also has its own name: THRUST.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESo according to the article, we get \u00C3\u017D\u00C2\u00A3F \u002B thrust = ma.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u00C3\u017D\u00C2\u00A3F is all of the external forces.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGravity. Drag. Lift.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESo: Gravity \u002B Drag \u002B Lift \u002B Thrust = ma.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ETDW was literally right THE ENTIRE TIME. My apologies for misleading everyone.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELet this be a lesson: don\u0027t blindly apply formulas without thinking about them, and don\u0027t ever be too proud to look something up.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-20T13:22:24Z\u0022 title=\u002207/20/2015 01:22  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 20, 2015\u003C/time\u003E by VFB1210\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-07-20T13:23:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lookerksy\u0022 data-cite=\u0022Lookerksy\u0022\u003E\u003Cdiv\u003EWhen I crate a maneuvernode to enter a circle orbit during launch, I think I shall get Velocity at Apoapsis firstly. \u003Cp\u003ESo I code VelocityAt(Ship,Time:Seconds\u002BETA:Apoapsis):Orbit:Mag, \u003C/p\u003E\u003Cp\u003Ebut its value is different from real velocity. So new orbit\u0027s Apoapsis will be different from I expect.\u003C/p\u003E\u003Cp\u003Elike following:\u003C/p\u003E\u003Cp\u003Eset EtaTime to ETA:Apoapsis. \u003C/p\u003E\u003Cp\u003Eset V1 to VelocityAt(Ship,Time:Seconds\u002BEtaTime):Orbit:Mag. //get V1 -\u0026gt; Velocity at Apoapsis according to current orbit. BUT IT RETURN A WRONG VALUE\u003C/p\u003E\u003Cp\u003Eset V2 to Sqrt (Constant():G*Kerbin:Mass/Kerbin:Radius). //get V2 -\u0026gt; Velocity shall be after node, I want to get a circle orbit. calculate from GM=V2R\u003C/p\u003E\u003Cp\u003Eset MyNode to Node (Time:Seconds\u002BEtaTime,0,0,V2-V1). //get deltaV=V2-V1\u003C/p\u003E\u003Cp\u003Eadd MyNode. \u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you write this up on Github? I think I have seen a similar problem before but it\u0027s been hard to reproduce - if you have a set of circumstances that reliably recreates it that would be useful for getting it fixed.\u003C/p\u003E\n"},{"CreatedByName":"liveseaandsky","CreatedById":98705,"CreatedDateTime":"2015-07-20T17:11:48Z","Content":"\n\u003Cp\u003ECan anyone point me to any information on using kOS with Realism Overhaul? \u003C/p\u003E\u003Cp\u003EI want to know if there are any issues to watch for when using the two together. \u003C/p\u003E\u003Cp\u003EI also have a problem with kOS. I am attempting to write a script that executes a maneuver node (for circularisation) but when I use \u0022LOCK STEERING TO ...\u0022 the ship spins out of control. This happens whatever direction I try to steer to.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-07-21T13:23:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022liveseaandsky\u0022 data-cite=\u0022liveseaandsky\u0022\u003E\u003Cdiv\u003ECan anyone point me to any information on using kOS with Realism Overhaul? \u003Cp\u003EI want to know if there are any issues to watch for when using the two together. \u003C/p\u003E\u003Cp\u003EI also have a problem with kOS. I am attempting to write a script that executes a maneuver node (for circularisation) but when I use \u0022LOCK STEERING TO ...\u0022 the ship spins out of control. This happens whatever direction I try to steer to.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe cooked steering in kOS currently is broken for dealing with the case of a ship that gets all its control authority from engine gimbals and rcs. The fact that RO nerfs the torque wheels messes it up. While it doesn\u0027t exclusively use the torque wheels to move, it uses them to do some math to *decide* how to move things and that math comes out wrong. I don\u0027t understand the details, but it\u0027s a part of the system that hasn\u0027t been touched in ages since the early days. We\u0027re considering gutting the whole thing and doing it over from scratch rather than trying to debug what\u0027s there.\u003C/p\u003E\n"},{"CreatedByName":"liveseaandsky","CreatedById":98705,"CreatedDateTime":"2015-07-21T14:22:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThe cooked steering in kOS currently is broken for dealing with the case of a ship that gets all its control authority from engine gimbals and rcs. The fact that RO nerfs the torque wheels messes it up. While it doesn\u0027t exclusively use the torque wheels to move, it uses them to do some math to *decide* how to move things and that math comes out wrong. I don\u0027t understand the details, but it\u0027s a part of the system that hasn\u0027t been touched in ages since the early days. We\u0027re considering gutting the whole thing and doing it over from scratch rather than trying to debug what\u0027s there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s a shame. I can probably help out with some of that (and would love to). Where do I go to help out? I only have a moderate amount of programming experience, but I am well versed in the mathematics and control systems.\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2015-07-21T17:25:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022liveseaandsky\u0022 data-cite=\u0022liveseaandsky\u0022\u003E\u003Cdiv\u003EThat\u0027s a shame. I can probably help out with some of that (and would love to). Where do I go to help out? I only have a moderate amount of programming experience, but I am well versed in the mathematics and control systems.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes please! Any help you can provide on it would be awesome. We\u0027ve had lots of discussions internally, but we haven\u0027t been able to move beyond the brainstorming phase. The quick and dirty way to help out is to clone the source on github ( \u003Ca href=\u0022https://github.com/KSP-KOS/KOS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS\u003C/a\u003E ) and then submit a PR.\u003C/p\u003E\u003Cp\u003EThe current steering implementation can be found in this file: \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Utilities/SteeringHelper.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Utilities/SteeringHelper.cs\u003C/a\u003E but in our last discussion we thought it might be messed up and confusing enough that it could warrant starting from scratch. If you\u0027re willing/able to fix the current version though, I don\u0027t think any one would turn you down. (I can already tell you that each reference to \u0060vessel.transform\u0060 needs to be replaced with \u0060vessel.ReferenceTransform\u0060, but I haven\u0027t dug in much more than that).\u003C/p\u003E\u003Cp\u003ELet us know if you need any help getting the development environment setup.\u003C/p\u003E\u003Cp\u003EThe stars must have aligned just right. It was yesterday afternoon that we were talking about not being sure how to go about fixing the steering, and today you offer to help!\u003C/p\u003E\n"},{"CreatedByName":"liveseaandsky","CreatedById":98705,"CreatedDateTime":"2015-07-21T17:36:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hvacengi\u0022 data-cite=\u0022hvacengi\u0022\u003E\u003Cdiv\u003EYes please! Any help you can provide on it would be awesome. We\u0027ve had lots of discussions internally, but we haven\u0027t been able to move beyond the brainstorming phase. The quick and dirty way to help out is to clone the source on github ( \u003Ca href=\u0022https://github.com/KSP-KOS/KOS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS\u003C/a\u003E ) and then submit a PR.\u003Cp\u003EThe current steering implementation can be found in this file: \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Utilities/SteeringHelper.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Utilities/SteeringHelper.cs\u003C/a\u003E but in our last discussion we thought it might be messed up and confusing enough that it could warrant starting from scratch. If you\u0027re willing/able to fix the current version though, I don\u0027t think any one would turn you down. (I can already tell you that each reference to \u0060vessel.transform\u0060 needs to be replaced with \u0060vessel.ReferenceTransform\u0060, but I haven\u0027t dug in much more than that).\u003C/p\u003E\u003Cp\u003ELet us know if you need any help getting the development environment setup.\u003C/p\u003E\u003Cp\u003EThe stars must have aligned just right. It was yesterday afternoon that we were talking about not being sure how to go about fixing the steering, and today you offer to help!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDon\u0027t get too excited, I may not be any real use! I\u0027ve been meaning to put some work back into some of the awesome mods I use and an internship I recently did greatly improved my coding and pushed me to give it a go. As of now though I don\u0027t even know any C#, although hopefully this will be a good way to learn. Where do people working on KOS normally communicate?\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2015-07-21T18:31:03Z","Content":"\n\u003Cp\u003EYou should be getting a PM to coordinate contact info.\u003C/p\u003E\u003Cp\u003EAs for C#, we can help with that. It\u0027s probably not to hard to pick up. It isn\u0027t that far off from Java, or C\u002B\u002B, but it has it\u0027s fair share of unique elements. If you\u0027re coming from a language like python, it can seem restricting.\u003C/p\u003E\n"},{"CreatedByName":"liveseaandsky","CreatedById":98705,"CreatedDateTime":"2015-07-21T19:35:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hvacengi\u0022 data-cite=\u0022hvacengi\u0022\u003E\u003Cdiv\u003EYou should be getting a PM to coordinate contact info.\u003Cp\u003EAs for C#, we can help with that. It\u0027s probably not to hard to pick up. It isn\u0027t that far off from Java, or C\u002B\u002B, but it has it\u0027s fair share of unique elements. If you\u0027re coming from a language like python, it can seem restricting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks a lot I look forward to it. Unfortunately I\u0027m coming from Python/Matlab/Mathematica but I\u0027m keen to learn. Looking at SteeringHelper, it looks like there\u0027s a lot to learn before I can begin trying to do anything.\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-07-22T20:53:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TDW\u0022 data-cite=\u0022TDW\u0022\u003E\u003Cdiv\u003Eif @\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/members/55605-VFB1210\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EVFB1210\u003C/strong\u003E\u003C/a\u003E or anyone else wants to give these a go and fly around with lift and drag arrows coming out their vessel here is my lift/drag script.\u003Cp\u003Eyou will need to stick an accelerometer (the science experiment) on the vessel and the script still produces the occasional spike in lift or drag. \u003C/p\u003E\u003Cp\u003Efeedback with any improvements or fixes would be greatly appreciated.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m flying this thing today.\u003C/p\u003E\u003Cp\u003Ewhat does fuel_flow * vxcl(ship:up:vector,ship:velocity:surface) mean? Should I ditch it considering the last posts? I\u0027ll try plotting it separately anyway.\u003C/p\u003E\u003Cp\u003EI hope to win the K prize as well as fullfiling a tourist contract while doing this kOS experiment in the first \u0022commercial\u0022 flight of my SSTO. Wish me luck, I\u0027m foreseeing a RUD on my future.\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-07-23T04:42:36Z","Content":"\n\u003Cp\u003EI had some quirks reading acceleration from the sensor when raising apo but still within \u0022dense\u0022 air, at some 30km I guess. I\u0027m not really sure what was happening, KER and a direct sensor read some 0.9 g while kos said such sensor showed about 0.2. I\u0027ll compute acceleration out of velocity readings, that should give better results. \u003C/p\u003E\u003Cp\u003EAlso when in orbit, if I time warped suddenly there was a lift component that cancelled out gravity. At 1x speed lift, drag and thrust went back to 0, while gravity was still as expected. \u003C/p\u003E\u003Cp\u003EThat plane is still in orbit, apart from these glitches every measurement was sound. Tomorrow: reentry and landing.\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2015-07-23T12:35:39Z","Content":"\n\u003Cp\u003EWhen using kOS in combination with an engine with alternative resource requirements, for example the LV-N or some mod, is it possible for kOS to figure out what resource the engine is using without actually activating the engine?\u003C/p\u003E\u003Cp\u003EFor an autopilot I want the program to figure out how much dV the vehicle has. This means I need to figure out how much fuel each stage has and what the engines use. The first part works great, but I have no idea how to do the second.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-23T14:06:49Z\u0022 title=\u002207/23/2015 02:06  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 23, 2015\u003C/time\u003E by Ralathon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rabada","CreatedById":66044,"CreatedDateTime":"2015-07-23T20:55:19Z","Content":"\n\u003Cp\u003ESo I\u0027ve fallen in love with this mod lately! Great job guys! I have no idea how to program, so this has been a huge challenge for me!\u003C/p\u003E\u003Cp\u003EIve been writing programs lately to launch rockets using the Realism Overhaul mod. I think that I\u0027ve come very close to getting a launch script fo work well. THere is one part that I am stuck on, getting my second stage into a circular orbit. I Can\u0027t figure out how to get my second stages to go smoothly into orbit. Specifically I can\u0027t figue out how to actually to pitch my craft upwards enough to cancel out Gravity losses.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\t\u003Cbr\u003E\tELSE IF runmode = 6 {\u003Cbr\u003E\t\tIF VERTICALSPEED \u0026gt; 0 {Lock STEERING TO  PROGRADE.\u003Cbr\u003E\t\t} ELSE IF VERTICALSPEED \u0026lt;-90 {SET PitchUp TO -45.\u003Cbr\u003E\t\t} ELSE SET PitchUp TO ((-1)().25)VERTICALSPEED).\u003Cbr\u003E\t\tLOCK STEERING TO ANGLEAXIS(PitchUp,PROGRADE:STARVECTOR)*PROGRADE.\u003Cbr\u003E\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EHere is my latest version, I think that it works well.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tELSE IF runmode = 6 {\u003Cbr\u003E\t\tIF SHIP:PERIAPSIS \u0026gt; 200000 {\u003Cbr\u003E\t\tSET THROTTLE TO 0.0.\u003Cbr\u003E\t\tRCS OFF.\u003Cbr\u003E\t\tSET runmode TO 0.\u003Cbr\u003E\t\t} ELSE IF VERTICALSPEED \u0026gt; 0 {\u003Cbr\u003E\t\t\tLOCK STEERING TO PROGRADE.\u003Cbr\u003E\t\t} ELSE IF VERTICALSPEED \u0026lt; 0 {\u003Cbr\u003E\t\t\tLOCK STEERING TO ANGLEAXIS(PitchUp,PROGRADE:STARVECTOR)*PROGRADE.\u003Cbr\u003E\t\t\tIF VERTICALSPEED \u0026lt; -140 {\u003Cbr\u003E\t\t\t\tSET PitchUp TO ( -45 ).\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tELSE IF VERTICALSPEED \u0026lt; -10 {\u003Cbr\u003E\t\t\t\tSET PitchUp TO ( -10 \u002B ( .25 * VERTICALSPEED ) ).\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tELSE IF VERTICALSPEED \u0026lt; 0 {\u003Cbr\u003E\t\t\t\tSET PitchUp TO ( VERTICALSPEED ).\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E\tWAIT .001.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(This is all inside an UNTIL Loop.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-24T15:10:58Z\u0022 title=\u002207/24/2015 03:10  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 24, 2015\u003C/time\u003E by Rabada\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-07-23T21:45:36Z","Content":"\n\u003Cp\u003EThanks TDW and VFB1210 for the math and scripts. I tuned them a little to show drag\u002Bthrust\u002Blift\u002Bgravity to the side of the plane.\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/Ow2YY\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Luteina","CreatedById":148666,"CreatedDateTime":"2015-07-26T23:37:27Z","Content":"\n\u003Cp\u003ECould someone help me with a problem?\u003C/p\u003E\u003Cp\u003EWhen i use code like that:\u003C/p\u003E\u003Cp\u003EClearscreen.\u003C/p\u003E\u003Cp\u003EPrint \u0022START\u0022.\u003C/p\u003E\u003Cp\u003ERCS on.\u003C/p\u003E\u003Cp\u003ESAS off.\u003C/p\u003E\u003Cp\u003ELIGHTS off.\u003C/p\u003E\u003Cp\u003EGEAR off.\u003C/p\u003E\u003Cp\u003ESET throtlle to 0.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003EPRINT \u0022NORMALIZED\u0022.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003ESET TargetApoapsis to 80000.\u003C/p\u003E\u003Cp\u003EPrint \u0022Setting Target Apoapsis to 80000\u0022.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003ESET TargetPeriapsis to 80000.\u003C/p\u003E\u003Cp\u003EPRINT \u0022Setting Target Periapsis to 80000\u0022.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003EPRINT \u0022SETTING MODE TO 1\u0022.\u003C/p\u003E\u003Cp\u003ESET mode to 1.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003EUNTIL mode = 0 {\u003C/p\u003E\u003Cp\u003E IF mode = 1 {\u003C/p\u003E\u003Cp\u003E PRINT \u0022LIFTOFF!\u0022.\u003C/p\u003E\u003Cp\u003E PRINT \u0022MODE I\u0022.\u003C/p\u003E\u003Cp\u003E LOCK Throttle to 1.\u003C/p\u003E\u003Cp\u003E LOCK steering to heading ( 90 , 90 ).\u003C/p\u003E\u003Cp\u003E STAGE.\u003C/p\u003E\u003Cp\u003E Wait until altitude \u0026gt; 9000. \u003C/p\u003E\u003Cp\u003E SET mode to 2.\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E else If mode = 2 {\u003C/p\u003E\u003Cp\u003E PRINT \u0022MODE II\u0022.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E PRINT \u0022STARTING GRAVITY TURN\u0022.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E SET TargetPitch to (90 - (1 \u002B (90/41000) * (SHIP:Altitude-8000))).\u003C/p\u003E\u003Cp\u003E LOCK steering to heading( 90, TargetPitch).\u003C/p\u003E\u003Cp\u003E Set Z to (TargetApoapsis-1000).\u003C/p\u003E\u003Cp\u003E If Apoapsis \u0026gt; Z set mode to 3.\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E else If mode = 3 {\u003C/p\u003E\u003Cp\u003E LOCK THrottle to 0.\u003C/p\u003E\u003Cp\u003E PRINT \u0022MODE III\u0022.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E LOCK HEADING to prograde.\u003C/p\u003E\u003Cp\u003E PRINT \u0022WAITING FOR APOAPSIS...\u0022.\u003C/p\u003E\u003Cp\u003E WAIT UNTIL ALTITUDE = 70000.\u003C/p\u003E\u003Cp\u003E SET WARP to 4.\u003C/p\u003E\u003Cp\u003E WAIT UNTIL ETA:Apoapsis \u0026lt; 30. \u003C/p\u003E\u003Cp\u003E SET WARP to 1.\u003C/p\u003E\u003Cp\u003E WAIT UNTIL ETA:Apoapsis \u0026lt; 8.\u003C/p\u003E\u003Cp\u003E PRINT \u0022APOAPSIS!\u0022.\u003C/p\u003E\u003Cp\u003E SET THROTTLE TO 1.\u003C/p\u003E\u003Cp\u003E WAIT UNTIL PERIAPSIS \u0026gt; TargetPeriapsis.\u003C/p\u003E\u003Cp\u003E SET throttle to 0.\u003C/p\u003E\u003Cp\u003E SET mode to 0.\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E if STAGE:LIQUIDFUEL \u0026lt; 1 {\u003C/p\u003E\u003Cp\u003E PRINT \u0022FUEL CHECK\u0022.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E PRINT \u0022Atempting to Stage\u0022.\u003C/p\u003E\u003Cp\u003E LOCK Throttle to 0.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E STAGE.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E STAGE.\u003C/p\u003E\u003Cp\u003E WAIT 1.\u003C/p\u003E\u003Cp\u003E LOCK THROTTLE to 1.\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EI got en error about heading being unrecognized/undefined but when i use part of code like that:\u003C/p\u003E\u003Cp\u003ESET MODE to 1.\u003C/p\u003E\u003Cp\u003EIF mode = 1 {\u003C/p\u003E\u003Cp\u003E PRINT \u0022LIFTOFF!\u0022.\u003C/p\u003E\u003Cp\u003E PRINT \u0022MODE I\u0022.\u003C/p\u003E\u003Cp\u003E LOCK Throttle to 1.\u003C/p\u003E\u003Cp\u003E LOCK steering to heading ( 90 , 90 ).\u003C/p\u003E\u003Cp\u003E STAGE.\u003C/p\u003E\u003Cp\u003E Wait until altitude \u0026gt; 9000. \u003C/p\u003E\u003Cp\u003E SET mode to 2.\u003C/p\u003E\u003Cp\u003E } \u003C/p\u003E\u003Cp\u003EIT works perfectly fine.\u003C/p\u003E\u003Cp\u003EPlease for help.\u003C/p\u003E\n"},{"CreatedByName":"Qigon","CreatedById":141819,"CreatedDateTime":"2015-07-27T03:02:47Z","Content":"\n\u003Cp\u003EI\u0027m not well versed in headings, but it\u0027s too suspicious having a heading function at the same time you\u0027re doing a lock on it:\u003C/p\u003E\u003Cp\u003ELOCK steering to heading ( 90 , 90 ).\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003ELOCK HEADING to prograde.\u003C/p\u003E\u003Cp\u003ENot related to the issue, but you may want to move your staging into a WHEN clause at some point for making it more generic.\u003C/p\u003E\n"},{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-07-29T19:54:24Z","Content":"\n\u003Cp\u003Ehello all \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m trying to make a \u0022from the kerbin to the mun\u0022-sort of script, and while the takeoff _will_ probably create some problems, I started on the part where I\u0027ve just entered the MUN SOI, and esablish a low mun orbit.\u003C/p\u003E\u003Cp\u003ECurrently my script just point retrograde and fire until it have a suitable periapsis, timewarp until its at that periapsis, and then fire until it got a suitable apoapsis.\u003C/p\u003E\u003Cp\u003EHowever, I want my initial pointing to be at 0 pitch (the horizon), and with whatever compass direction im currently heading. This is to make sure that if I come into the muns SOI in either direction, and even with an inclination, the rocket points in a \u0027better\u0027 vector then just retrograde, you know, efficiency and stuffs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf that made any sense at all.\u003C/p\u003E\u003Cp\u003EI tried:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tSET DIR TO SHIP:RETROGRADE * R(0,1,1)\u003Cbr\u003E\tLOCK STEERING TO DIR.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhere my assumtion were that it would set the steering to \u0026lt;whatever pitch * 0\u0026gt; (=0), \u0026lt;whatever diredtion * 1\u0026gt; (i.e. that direction), \u0026lt;whatever roll * 1\u0026gt; (the roll it already has)\u003C/p\u003E\u003Cp\u003ETips and/or tricks anyone? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-07-30T08:21:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnekkid\u0022 data-cite=\u0022djnekkid\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHowever, I want my initial pointing to be at 0 pitch (the horizon), and with whatever compass direction im currently heading. This is to make sure that if I come into the muns SOI in either direction, and even with an inclination, the rocket points in a \u0027better\u0027 vector then just retrograde, you know, efficiency and stuffs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt periapsis, you will have a retrograde direction lined up with the horizon. Presumably what you would like to do is start firing in that direction just a bit before you get there.\u003C/p\u003E\u003Cp\u003ESo try \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Evelocityat(ship,eta:periapsis):orbit\u003C/pre\u003E\u003Cp\u003E to get what your orbital velocity WILL be at periapsis, then aim in the negative of that vector to get the retrograde version of it.\u003C/p\u003E\u003Cp\u003EWarning: Because KSP\u0027s coordinate system is slippery and likes to change without warning, be sure to take that prediction reading with velocityAt fairly soon before you do the burn. Don\u0027t take the reading from the other side of the moon while eta:periapsis is still like 10 minutes into the future, and lock steering to that. Instead take the reading just a few seconds before you\u0027re planning to start your burn - just enough time to get your ship rotated to the right heading before the burn.\u003C/p\u003E\n"},{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-07-30T12:30:29Z","Content":"\n\u003Cp\u003Ehmm, at the point where entering the MUN\u0027s SOI, you are usually 2-3 hours from the PE... Would that work in that case then?\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk","CreatedById":137078,"CreatedDateTime":"2015-07-30T21:33:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Luteina\u0022 data-cite=\u0022Luteina\u0022\u003E\u003Cdiv\u003ECould someone help me with a problem?\u003Cp\u003EPRINT \u0022SETTING MODE TO 1\u0022.\u003C/p\u003E\u003Cp\u003ESET mode to 1.\u003C/p\u003E\u003Cp\u003EWAIT 2.\u003C/p\u003E\u003Cp\u003E IF mode = 1 {\u003C/p\u003E\u003Cp\u003E PRINT \u0022LIFTOFF!\u0022.\u003C/p\u003E\u003Cp\u003E PRINT \u0022MODE I\u0022.\u003C/p\u003E\u003Cp\u003E LOCK Throttle to 1.\u003C/p\u003E\u003Cp\u003E LOCK steering to heading ( 90 , 90 ).\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003E\u003Cem\u003ESTAGE.\u003C/em\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E Wait until altitude \u0026gt; 9000. \u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe bold type will fire every stage of your rocket before it gets 1m off the ground.\u003C/p\u003E\u003Cp\u003EAll you\u0027ll hear is .. bang.. bang.. bang.. as the stages go off\u003C/p\u003E\u003Cp\u003EYou should set your stage \u0027firing\u0027 with respect to \u0027current stage fuel\u0027 conditions\u003C/p\u003E\u003Cp\u003E \u003Cstrong\u003EIF STAGE:LQDHYDROGEN \u0026lt; 0.1\u003C/strong\u003E // LqdOxy tanks on first two stages\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003ESTAGE.\u003C/p\u003E\u003Cp\u003E SET Throttle TO 1.\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-30T21:40:20Z\u0022 title=\u002207/30/2015 09:40  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by ColKlonk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-07-31T16:41:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djnekkid\u0022 data-cite=\u0022djnekkid\u0022\u003E\u003Cdiv\u003Ehmm, at the point where entering the MUN\u0027s SOI, you are usually 2-3 hours from the PE... Would that work in that case then?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d recommend that you get an initial guess on the vector at that point, get started aiming toward it, but then recalc it with another reading just a few seconds before you burn, as it may have moved by a few degrees since then (or more accurately, the universe axes may have rotated since then, making the previous X,Y,Z components incorrect under the new rotated universe.)\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-07-31T17:58:02Z","Content":"\n\u003Cp\u003EHi, first time trying kos here, and already a problem. I can \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprint \u0022hello\u0022.\u003C/pre\u003E\u003Cp\u003E in the terminal and it gives the expected result, but after issuing \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eedit hello.\u003C/pre\u003E\u003Cp\u003E some of the keys won\u0027t work; that is I am unable to correctly type the print hello command into the script, I get \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epint \u0022hllo\u0022.\u003C/pre\u003E\u003Cp\u003E instead. Is this a known issue?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-07-31T19:27:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kurja\u0022 data-cite=\u0022kurja\u0022\u003E\u003Cdiv\u003EHi, first time trying kos here, and already a problem. I can \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprint \u0022hello\u0022.\u003C/pre\u003E\u003Cp\u003E in the terminal and it gives the expected result, but after issuing \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eedit hello.\u003C/pre\u003E\u003Cp\u003E some of the keys won\u0027t work; that is I am unable to correctly type the print hello command into the script, I get \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epint \u0022hllo\u0022.\u003C/pre\u003E\u003Cp\u003E instead. Is this a known issue?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELinux? I ask because Unity stupidly made some differences between how keycodes are dealt with on different OS ports. These are differences that the actual host OS does not require them to make, but they did anyway. (i.e. Unity\u0027s fault, not Linux\u0027s fault). This has bit us before in kOS in regards to Linux. I\u0027ve never ever heard of this one before, of specifically the \u0022R\u0022 and \u0022E\u0022 keys not working when everything else does work.\u003C/p\u003E\n"},{"CreatedByName":"kurja","CreatedById":66303,"CreatedDateTime":"2015-07-31T21:52:03Z","Content":"\n\u003Cp\u003EOh yes sorry, I meant to but forgot to mention that I\u0027m playing on Ubuntu 14.04 64.\u003C/p\u003E\u003Cp\u003EI do not have a remedy for this issue, is there anything I can provide to find a solution?\u003C/p\u003E\n"}]}