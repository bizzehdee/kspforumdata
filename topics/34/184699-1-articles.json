{"TopicId":184699,"ForumId":34,"TopicTitle":"[1.3-1.8] KXAPI - KerbalX API, dependency mod","CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2019-05-24T11:36:57Z","PageNum":1,"Articles":[{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2019-05-24T11:36:57Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Ctable border=\u00220\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:100%;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cspan style=\u0022font-size:36px;\u0022\u003EKXAPI - KerbalX[.com] Application Programming Interface\u003C/span\u003E\n\u003C/td\u003E\n\u003Ctd style=\u0022text-align:right;\u0022\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Ca href=\u0022https://github.com/Sujimichi/KXAPI\u0022 rel=\u0022external nofollow\u0022\u003ESource\u003C/a\u003E | \u003Ca href=\u0022https://github.com/Sujimichi/KXAPI/wiki\u0022 rel=\u0022external nofollow\u0022\u003EWiki\u003C/a\u003E\u003C/span\u003E\u003Cbr\u003E\u003Ca href=\u0022https://creativecommons.org/licenses/by-nc-nd/4.0/\u0022 rel=\u0022external nofollow\u0022\u003ECC BY-NC-ND 4.0 licence\u003C/a\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003Ctd\u003E\n\u00A0\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nKXAPI\u00A0is a mod designed to be used as a dependency by other mods that need\u00A0to access content on KerbalX.\u00A0 Currently that\u0027s\u00A0just Craft Manager and the original (now somewhat outdated) KerbalXMod.\n\u003C/p\u003E\n\u003Cp\u003E\nKXAPI was\u00A0written so I could move common functionality from CM and KXMod into one place, and has been a good opportunity to redesign the API on KerbalX to make it more secure and controllable.\u00A0 I can now limit access to only authorized and verified mods and control what data each mod is able to access.\u00A0 KerbalX will now only accept requests which are sent via a valid instance of KXAPI.\n\u003C/p\u003E\n\u003Cp\u003E\nThis work has opened\u00A0up the possibility of enabling other mods to interact with KerbalX;\u00A0Other mods can add KXAPI as a dependency and use it to\u00A0connect with KerbalX.\u003Cbr\u003E\nKXAPI does the job of handling all requests to KerbalX and everything to do with user authentication.\u00A0It\u0027s as easy as:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan\u003EKerbalXAPI\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E api \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Enew\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EKerbalXAPI\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022My Mod\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u00221.2.3\u0022\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//create a new instance of the API and provide the mod\u0027s name and version.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\napi\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Elogin\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E();\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//will either prompt the display of a login UI, or if a valid login token exists it will login with that.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//make a request to test the connection.  All requests take a delegate function that expects a string response and an integer status_code \u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\napi\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Etest_connection\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eresponse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E status_code\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Estatus_code \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E200\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E){\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan\u003EDebug\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Elog\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eresponse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eelse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan\u003EDebug\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Elog\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022str\u0022\u003E\u0022Something went wrong - Error \u0022\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u002B\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E status_code\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E});\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nThe requests are wrapped in coroutines, so if there is a delay in server response it won\u0027t cause the game to hang. All requests take a delegate function which is executed once the response from the server comes back.\n\u003C/p\u003E\n\u003Cp\u003E\nAs KXAPI handles everything to do with logging into a KerbalX account, any mod using KXAPI doesn\u0027t need to ask the user for login credentials or store any session/security tokens. That\u0027s one less thing for a mod dev to worry about and users of the mod don\u0027t have to worry about a mod mishandling their login details.\n\u003C/p\u003E\n\u003Cp\u003E\nSee more info on the\u00A0\u003Ca href=\u0022https://github.com/Sujimichi/KXAPI/wiki\u0022 rel=\u0022external nofollow\u0022\u003EKXAPI Wiki\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:22px;\u0022\u003EBut!!! \u003C/span\u003E\u003C/strong\u003E\u003Cbr\u003E\nBefore a mod can use KXAPI it has to be approved and authorized.\u00A0\u00A0To get a mod approved you need to contact me and discuss what the mod\u0027s goal is and how you want it to\u00A0use KerbalX.\u00A0 See below for more details about getting mod approval for KerbalX.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce a mod as been approved the mod\u0027s developer (and any collaborators) will be able to create a digital signature for releases of their mod.\u00A0 Each release of a mod has to be digitally signed by it\u0027s creators before users of the mod will be able to use it to interact with KerbalX.\u00A0 KXAPI takes care of signing new releases so that doesn\u0027t get in the way of mod developers releasing new versions, they just need to ensure they use their account to login with their latest release.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EGetting a mod\u00A0\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cb\u003EApproved\u003C/b\u003E\u003C/span\u003E\u003Cbr\u003E\nIt will complicate things for me (from a support and moderation aspect) if other mods start uploading\u00A0craft, so I want to keep CraftManager \u0026amp; KerbalXMod as the only mods that do craft uploading.\u00A0 I\u0027m more interested in providing a service to mods that need a centralized data store.\u003Cbr\u003E\nAny mod looking to use KerbalX needs to do so with consideration; KX isn\u0027t a commercial site with lots of funding, so resources are tight. To that end mods need to be efficient in how they make requests; making small requests \u0026amp; at as low a frequency as possible.\u003Cbr\u003E\nIf you have an idea for a mod that needs a centralised data store and think that it \u0027fits\u0027 with the direction of KerbalX then I will be willing to add specific tables to the database to accommodate it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cimg alt=\u0022N1gvXeeh.jpg?1\u0022 class=\u0022ipsImage\u0022 height=\u0022172\u0022 style=\u0022width:500px;height:auto;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/N1gvXeeh.jpg?1\u0022\u003E\u003C/p\u003E\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-10-19T12:41:16Z\u0022 title=\u002210/19/2019 12:41  PM\u0022 data-short=\u00224 yr\u0022\u003EOctober 19, 2019\u003C/time\u003E by katateochi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"katateochi","CreatedById":35181,"CreatedDateTime":"2019-10-19T12:45:50Z","Content":"\n\u003Cp\u003E\nSomewhat surprisingly, the current version (1.1.0) works in KSP 1.8.0.\u003Cbr\u003E\n(\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/174596-13x-17x-craft-manager%C2%A0-search-sort-tag-share-your-craft/\u0022 rel=\u0022\u0022\u003ECraft Manager\u003C/a\u003E is also working but has some missing textures on menus/lists, will fix and update soon)\n\u003C/p\u003E\n"}]}