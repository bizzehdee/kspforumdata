{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":203,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-07-20T11:19:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223125313\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500456850\u0022 data-ipsquote-userid=\u0022179539\u0022 data-ipsquote-username=\u0022MattPlaysSimulations\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/19/2017 at 4:34 AM, MattPlaysSimulations said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would like to include this mod in my modpack that i am currently making.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay.... that\u0027s not really a question though.\u00A0 Are you seeking advice on how to go about doing it?\n\u003C/p\u003E\n"},{"CreatedByName":"MattPlaysSimulations","CreatedById":179539,"CreatedDateTime":"2017-07-22T12:11:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223126305\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221500549554\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 20/07/2017 at 0:19 PM, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay.... that\u0027s not really a question though.\u00A0 Are you seeking advice on how to go about doing it?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyes please but I wanted to make sure I have permission to include it in my mod.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks\n\u003C/p\u003E\n"},{"CreatedByName":"FancyMelon","CreatedById":178611,"CreatedDateTime":"2017-07-27T01:54:12Z","Content":"\n\u003Cp\u003E\nThis is such a nice thread. I never would have known how many people who play KSP love scripting. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T13:14:38Z","Content":"\n\u003Cp\u003E\nI have an issue regarding the engine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E structure. It won\u0027t show the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E of the engine I\u0027m using (it gives an error) (i have it nametag:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E). I need this code to work (tho\u00A0I do recognize I barrely read about the syntax of the language, please help, I\u0027m too\u00A0lazy to read all that.)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSET KWRCS TO SHIP:PARTSTAGGED(\u0022RCSFuel\u0022).\u003Cbr\u003E\nSET KWRCSEngine TO SHIP:PARTSTAGGED(\u0022RCSEngine\u0022).\u003Cbr\u003E\nSET VESSEL TO SHIP.\u003Cbr\u003E\nSET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/VESSEL:THRUST)*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T13:17:40Z\u0022 title=\u002208/02/2017 01:17  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-02T13:20:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223137961\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501679678\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have an issue regarding the engine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E structure. It won\u0027t show the \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E of the engine I\u0027m using (it gives an error) (i have it nametag:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E). I need this code to work (tho\u00A0I do recognize I barrely read about the syntax of the language, please help, I\u0027m to lazy to read all that.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhere you have PARTSTAGGED() the return is not a single part, but a LIST of parts, even if there is only one part in the list.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you will only ever give one part that particular tag, you can stick [0] on the end to get the first object from the list. e.g. SET mypart TO SHIP:PARTSTAGGED(\u0022mytag\u0022)[0].\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: if you have multiple parts sharing a tag, you would need to loop through them (e.g. if you wanted to total their mass).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T13:24:54Z\u0022 title=\u002208/02/2017 01:24  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T13:30:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223137965\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501680043\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 minutes ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhere you have PARTSTAGGED() the return is not a single part, but a LIST of parts, even if there is only one part in the list.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you will only ever give one part that particular tag, you can stick [0] on the end to get the first object from the list. e.g. SET mypart TO SHIP:PARTSTAGGED(\u0022mytag\u0022)[0].\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the tip \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0. I\u0027ll check and solve the rest of the issues of my code and report back.\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T17:45:35Z","Content":"\n\u003Cp\u003E\nI\u0027m about to throw my keyboard away.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nLOCK STEERING TO MYSTEER. // from now on we\u0027ll be able to change steering by just assigning a new value to MYSTEER\u003Cbr\u003E\nSET SPEED TO 200.\u003Cbr\u003E\nSET z TO 90.\u003Cbr\u003E\nUNTIL SHIP:APOAPSIS \u0026gt; x { //\u00A0all altitudes are\u00A0in meters, not kilometers\u003Cbr\u003E\n\u00A0 \u00A0 SET MYSTEER TO HEADING(90,z).\u003Cbr\u003E\n\u00A0 \u00A0 //For the initial ascent, we want our steering to be straight\u003Cbr\u003E\n\u00A0 \u00A0 //up and rolled due east\u003Cbr\u003E\n\u00A0 \u00A0 \u003Cspan style=\u0022color:#cc00ff;\u0022\u003EIF SHIP:VELOCITY:SURFACE:MAG \u0026gt; 200 AND z\u0026gt;10 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 IF SHIP:VELOCITY:SURFACE:MAG = SPEED\u002B100.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET z TO z-5.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET SPEED TO SHIP:VELOCITY:SURFACE:MAG.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003C/span\u003E\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003Cp\u003E\n}.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nthat pink code doesn\u0027t work. the ship just pitches straight to 10 degrees. I hate this language so much.\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T20:59:44Z","Content":"\n\u003Cp\u003E\nI\u0027m throwing my keyboard out the window. WHY DOESN\u0027T THE IF STATEMENT WORK WHYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY. WHY DOES IT IGNORE THE GOD DAMN STATEMENT (\u003Cstrong\u003Econdition*\u003C/strong\u003E)\u00A0AND JUMPS TO UNTIL LOOP WHY???? TELL ME WHY??!?!?!?!?!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCLEARSCREEN.\u003Cbr\u003E\nSET KWRCS TO SHIP:PARTSTAGGED(\u0022RCSFuel\u0022)[0].\u003Cbr\u003E\nSET KWRCSEngine TO SHIP:PARTSTAGGED(\u0022RCSEngine\u0022)[0]. //the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E engine and fuel are in the second stage. Make sure you have enought deltaV in the second stage to reach orbit\u003Cbr\u003E\n//and make sure the engine in the second stage fires before you reach 100km Apoapsis\u003Cbr\u003E\nSET VESSEL TO SHIP.\u003Cbr\u003E\n//Next, we\u0027ll lock our throttle to 100%.\u003Cbr\u003E\nLOCK THROTTLE TO 1.0. \u00A0 // 1.0 is the max, 0.0 is idle.\n\u003C/p\u003E\n\u003Cp\u003E\n//This is our countdown loop, which cycles from 10 to 0\u003Cbr\u003E\nPRINT \u0022Counting down:\u0022.\u003Cbr\u003E\nFROM {local countdown is 10.} UNTIL countdown = 0 STEP {SET countdown to countdown - 1.} DO {\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022...\u0022 \u002B countdown.\u003Cbr\u003E\n\u00A0 \u00A0 WAIT 1. // pauses the script here for 1 second.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This is a trigger that constantly checks to see if our thrust is zero.\u003Cbr\u003E\n//If it is, it will attempt to stage and then return to where the script\u003Cbr\u003E\n//left off. The PRESERVE keyword keeps the trigger active even after it\u003Cbr\u003E\n//has been triggered.\u003Cbr\u003E\nWHEN MAXTHRUST = 0 THEN {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This will be our main control loop for the ascent. It will\u003Cbr\u003E\n//cycle through continuously until our apoapsis is greater\u003Cbr\u003E\n//than 100km. Each cycle, it will check each of the IF\u003Cbr\u003E\n//statements inside and perform them if their conditions\u003Cbr\u003E\n//are met\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,90).\u003Cbr\u003E\nSET x TO 100000. //your desired altitude at which you want to orbit\u003Cbr\u003E\nSET u TO 3.5316*10^12.\u003Cbr\u003E\nSET r TO 600000 \u002B x.\u003Cbr\u003E\nSET a TO 600000 \u002B x.\u003Cbr\u003E\nSET Vel TO SQRT(u*((2/r) - (1/a))).\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO MYSTEER. // from now on we\u0027ll be able to change steering by just assigning a new value to MYSTEER\u003Cbr\u003E\nSET SPEED TO 200.\u003Cbr\u003E\nSET z TO 90.\u003Cbr\u003E\nUNTIL SHIP:APOAPSIS \u0026gt; x { //Remember, all altitudes will be in meters, not kilometers\u003Cbr\u003E\n\u00A0 IF SHIP:VELOCITY:SURFACE:MAG \u0026lt; 100 {\u003Cbr\u003E\n\u00A0 //This sets our steering 90 degrees up and yawed to the compass\u003Cbr\u003E\n\u00A0 //heading of 90 degrees (east)\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,90).\n\u003C/p\u003E\n\u003Cp\u003E\n//Once we pass 100m/s, we want to pitch down ten degrees\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 100 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 200 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,80).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 80 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n//Each successive IF statement checks to see if our velocity\u003Cbr\u003E\n//is within a 100m/s block and adjusts our heading down another\u003Cbr\u003E\n//ten degrees if so\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 200 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,70).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 70 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 300 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 400 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,60).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 60 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 400 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 700 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,50).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 50 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 700 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 800 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,40).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 40 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 800 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 900 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,30).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 30 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 900 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 1300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,11).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 20 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n//Beyond 800m/s, we can keep facing towards 10 degrees above the horizon and wait\u003Cbr\u003E\n//for the main loop to recognize that our apoapsis is above 100km\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 1300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,10).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 10 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\nPRINT \u0022Velocity necessary to stay in orbit at 100km is:\u0022 \u002B ROUND(Vel,2).\u003Cbr\u003E\nSET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\nPRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\nSET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\nSET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel. // estimated delta V to complete orbit\u003Cbr\u003E\nPRINT \u0022DeltaV: \u0022 \u002B \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\u003Cbr\u003E\nSET R TO KWRCS:WETMASS/KWRCS:DRYMASS.\u003Cbr\u003E\nSET y TO (constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))*(VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS) - (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS))/(R-constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))).\u003Cbr\u003E\nSET FM TO y*R. //this is the estimated fuel mass needed to complete the manuever\u003Cbr\u003E\nSET eM TO VESSEL:MASS - FM. // this is the mass after the manuever has completed but I\u0027m using it in the same formula as in EBT for a better burn time estimation\u003Cbr\u003E\nSET EBT TO ((VESSEL:MASS*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBT: \u0022 \u002B EBT.\u003Cbr\u003E\nSET EBTeM TO ((eM*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBTem: \u0022 \u002B EBTeM.\u003Cbr\u003E\nSET EMBT TO (EBT \u002B EBTeM)/2. //Estimated burn time to complete DeltaV Manuever\u003Cbr\u003E\nSET APO TO EMBT/2.\u003Cbr\u003E\nPRINT \u0022APO: \u0022 \u002B APO.\u003Cbr\u003E\nPRINT \u0022100km apoapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,5).\u003Cbr\u003E\n//SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)*KWRCSEngine:THRUST)*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//At this point, our apoapsis is above 100km and our main loop has ended.\u003Cbr\u003E\n//time to reach orbit\u003Cbr\u003E\u003Cspan style=\u0022color:#9b59b6;\u0022\u003E\u003Cu\u003E\u003Cstrong\u003EIF ETA:APOAPSIS = APO. //if the ETA until apoapsis is half of the estimated burn time\u003C/strong\u003E\u003C/u\u003E\u003C/span\u003E\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 PRINT \u0022Burning sequence to circularize orbit engaged\u0022.\u003Cbr\u003E\n\u00A0 UNTIL SHIP:PERIAPSIS \u0026gt; x\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET MYSTEER TO HEADING(90,0).\u003Cbr\u003E\n\u00A0 \u00A0 LOCK THROTTLE TO 1.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 SET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\n\u00A0 \u00A0 SET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel.\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022DeltaV remaining to complete burn (m/s):\u0022 \u002B ROUND(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E,2) AT(0,22).\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n//This sets the user\u0027s throttle setting to zero to prevent the throttle\u003Cbr\u003E\n//from returning to the position it was at before the script was run.\u003Cbr\u003E\nPRINT \u0022100km periapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T21:00:35Z\u0022 title=\u002208/02/2017 09:00  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-02T21:09:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138340\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501707584\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m throwing my keyboard out the window. WHY DOESN\u0027T THE IF STATEMENT WORK WHYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY. WHY DOES IT IGNORE THE GOD DAMN STATEMENT (\u003Cstrong\u003Econdition*\u003C/strong\u003E)\u00A0AND JUMPS TO UNTIL LOOP WHY???? TELL ME WHY??!?!?!?!?!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCLEARSCREEN.\u003Cbr\u003E\nSET KWRCS TO SHIP:PARTSTAGGED(\u0022RCSFuel\u0022)[0].\u003Cbr\u003E\nSET KWRCSEngine TO SHIP:PARTSTAGGED(\u0022RCSEngine\u0022)[0]. //the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E engine and fuel are in the second stage. Make sure you have enought deltaV in the second stage to reach orbit\u003Cbr\u003E\n//and make sure the engine in the second stage fires before you reach 100km Apoapsis\u003Cbr\u003E\nSET VESSEL TO SHIP.\u003Cbr\u003E\n//Next, we\u0027ll lock our throttle to 100%.\u003Cbr\u003E\nLOCK THROTTLE TO 1.0. \u00A0 // 1.0 is the max, 0.0 is idle.\n\u003C/p\u003E\n\u003Cp\u003E\n//This is our countdown loop, which cycles from 10 to 0\u003Cbr\u003E\nPRINT \u0022Counting down:\u0022.\u003Cbr\u003E\nFROM {local countdown is 10.} UNTIL countdown = 0 STEP {SET countdown to countdown - 1.} DO {\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022...\u0022 \u002B countdown.\u003Cbr\u003E\n\u00A0 \u00A0 WAIT 1. // pauses the script here for 1 second.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This is a trigger that constantly checks to see if our thrust is zero.\u003Cbr\u003E\n//If it is, it will attempt to stage and then return to where the script\u003Cbr\u003E\n//left off. The PRESERVE keyword keeps the trigger active even after it\u003Cbr\u003E\n//has been triggered.\u003Cbr\u003E\nWHEN MAXTHRUST = 0 THEN {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This will be our main control loop for the ascent. It will\u003Cbr\u003E\n//cycle through continuously until our apoapsis is greater\u003Cbr\u003E\n//than 100km. Each cycle, it will check each of the IF\u003Cbr\u003E\n//statements inside and perform them if their conditions\u003Cbr\u003E\n//are met\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,90).\u003Cbr\u003E\nSET x TO 100000. //your desired altitude at which you want to orbit\u003Cbr\u003E\nSET u TO 3.5316*10^12.\u003Cbr\u003E\nSET r TO 600000 \u002B x.\u003Cbr\u003E\nSET a TO 600000 \u002B x.\u003Cbr\u003E\nSET Vel TO SQRT(u*((2/r) - (1/a))).\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO MYSTEER. // from now on we\u0027ll be able to change steering by just assigning a new value to MYSTEER\u003Cbr\u003E\nSET SPEED TO 200.\u003Cbr\u003E\nSET z TO 90.\u003Cbr\u003E\nUNTIL SHIP:APOAPSIS \u0026gt; x { //Remember, all altitudes will be in meters, not kilometers\u003Cbr\u003E\n\u00A0 IF SHIP:VELOCITY:SURFACE:MAG \u0026lt; 100 {\u003Cbr\u003E\n\u00A0 //This sets our steering 90 degrees up and yawed to the compass\u003Cbr\u003E\n\u00A0 //heading of 90 degrees (east)\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,90).\n\u003C/p\u003E\n\u003Cp\u003E\n//Once we pass 100m/s, we want to pitch down ten degrees\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 100 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 200 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,80).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 80 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n//Each successive IF statement checks to see if our velocity\u003Cbr\u003E\n//is within a 100m/s block and adjusts our heading down another\u003Cbr\u003E\n//ten degrees if so\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 200 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,70).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 70 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 300 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 400 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,60).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 60 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 400 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 700 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,50).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 50 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 700 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 800 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,40).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 40 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 800 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 900 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,30).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 30 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 900 AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; 1300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,11).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 20 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n//Beyond 800m/s, we can keep facing towards 10 degrees above the horizon and wait\u003Cbr\u003E\n//for the main loop to recognize that our apoapsis is above 100km\u003Cbr\u003E\n} ELSE IF SHIP:VELOCITY:SURFACE:MAG \u0026gt;= 1300 {\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,10).\u003Cbr\u003E\n\u00A0 PRINT \u0022Pitching to 10 degrees\u0022 AT(0,15).\u003Cbr\u003E\n\u00A0 PRINT ROUND(SHIP:APOAPSIS,0) AT (0,16).\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\nPRINT \u0022Velocity necessary to stay in orbit at 100km is:\u0022 \u002B ROUND(Vel,2).\u003Cbr\u003E\nSET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\nPRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\nSET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\nSET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel. // estimated delta V to complete orbit\u003Cbr\u003E\nPRINT \u0022DeltaV: \u0022 \u002B \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\u003Cbr\u003E\nSET R TO KWRCS:WETMASS/KWRCS:DRYMASS.\u003Cbr\u003E\nSET y TO (constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))*(VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS) - (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS))/(R-constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))).\u003Cbr\u003E\nSET FM TO y*R. //this is the estimated fuel mass needed to complete the manuever\u003Cbr\u003E\nSET eM TO VESSEL:MASS - FM. // this is the mass after the manuever has completed but I\u0027m using it in the same formula as in EBT for a better burn time estimation\u003Cbr\u003E\nSET EBT TO ((VESSEL:MASS*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBT: \u0022 \u002B EBT.\u003Cbr\u003E\nSET EBTeM TO ((eM*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBTem: \u0022 \u002B EBTeM.\u003Cbr\u003E\nSET EMBT TO (EBT \u002B EBTeM)/2. //Estimated burn time to complete DeltaV Manuever\u003Cbr\u003E\nSET APO TO EMBT/2.\u003Cbr\u003E\nPRINT \u0022APO: \u0022 \u002B APO.\u003Cbr\u003E\nPRINT \u0022100km apoapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,5).\u003Cbr\u003E\n//SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)*KWRCSEngine:THRUST)*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//At this point, our apoapsis is above 100km and our main loop has ended.\u003Cbr\u003E\n//time to reach orbit\u003Cbr\u003E\u003Cspan style=\u0022color:#9b59b6;\u0022\u003E\u003Cu\u003E\u003Cstrong\u003EIF ETA:APOAPSIS = APO. //if the ETA until apoapsis is half of the estimated burn time\u003C/strong\u003E\u003C/u\u003E\u003C/span\u003E\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 PRINT \u0022Burning sequence to circularize orbit engaged\u0022.\u003Cbr\u003E\n\u00A0 UNTIL SHIP:PERIAPSIS \u0026gt; x\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET MYSTEER TO HEADING(90,0).\u003Cbr\u003E\n\u00A0 \u00A0 LOCK THROTTLE TO 1.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 SET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\n\u00A0 \u00A0 SET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel.\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022DeltaV remaining to complete burn (m/s):\u0022 \u002B ROUND(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E,2) AT(0,22).\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n//This sets the user\u0027s throttle setting to zero to prevent the throttle\u003Cbr\u003E\n//from returning to the position it was at before the script was run.\u003Cbr\u003E\nPRINT \u0022100km periapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou appear to be checking for the equality of a floating point number (ETA:APOAPSIS) with either another float (or an integer, it doesn\u0027t really matter). This will almost never work. Instead, you need to check to see if the floating point value falls within a range.\n\u003C/p\u003E\n\u003Cp\u003E\nNote: if an IF check doesn\u0027t seem to be working, it can help to debug it by printing out the values being compared.\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T21:15:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138352\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501708172\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou appear to be checking for the equality of a floating point number (ETA:APOAPSIS) with either another float (or an integer, it doesn\u0027t really matter). This will almost never work. Instead, you need to check to see if the floating point value falls within a range.\n\u003C/p\u003E\n\u003Cp\u003E\nNote: if an IF check doesn\u0027t seem to be working, it can help to debug it by printing out the values being compared.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGod damn it I should\u0027ve thinked about this, but at this point I was desperate.\u00A0I spent the whole day figuring out how to fix this code and make it more efficient. Thanks for telling me why it didn\u0027t work.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T21:16:34Z\u0022 title=\u002208/02/2017 09:16  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T22:32:36Z","Content":"\n\u003Cp\u003E\nIF (APO - 0.1) \u0026lt; ETA:APOAPSIS \u0026lt; (APO \u002B 0.1).\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Tries to compile\u0022 ...\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Error: Cannot ordinate BooleanValue \u0026lt; ScalarDoubleValue\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nI give up. This language right now, i cant even... I don\u0027t know how to fix this. Please give me a solution.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Scrap that. Would this work for converting ETA:APOAPSIS value to BooleanValue without giving issues\n\u003C/p\u003E\n\u003Cp\u003E\n?\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nSET Value TO 0\n\u003C/p\u003E\n\u003Cp\u003E\nUNTIL\u00A0(APO - 0.1) \u0026lt; Value \u0026lt; (APO \u002B 0.1)\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n{\n\u003C/p\u003E\n\u003Cp\u003E\nSET Value TO ETA:APOAPSIS\n\u003C/p\u003E\n\u003Cp\u003E\n}\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T23:11:47Z\u0022 title=\u002208/02/2017 11:11  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-02T23:11:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138408\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501713156\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIF (APO - 0.1) \u0026lt; ETA:APOAPSIS \u0026lt; (APO \u002B 0.1).\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Tries to compile\u0022 ...\n\u003C/p\u003E\n\u003Cp\u003E\n\u0022Error: Cannot ordinate BooleanValue \u0026lt; ScalarDoubleValue\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nI give up. This language right now, i cant even... I don\u0027t know how to fix this. Please give me a solution.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis behaviour is true of almost all languages. You can\u0027t test for X \u0026lt; Y \u0026lt; Z, you have to test for (X \u0026lt; Y) AND (Y \u0026lt; Z).\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-02T23:14:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138444\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501715488\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis behaviour is true of almost all languages. You can\u0027t test for X \u0026lt; Y \u0026lt; Z, you have to test for (X \u0026lt; Y) AND (Y \u0026lt; Z).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh yeah i forgot... now that makes me look dumb... should\u0027ve put an AND...\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Sorry for being like this. Not being able to find the issue with my code drives me crazy and sometimes I forget things. Thanks for taking the time to help me. I usually expect hate when I do mistakes like this.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-02T23:24:33Z\u0022 title=\u002208/02/2017 11:24  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 2, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-08-03T07:17:02Z","Content":"\n\u003Cp\u003E\nCoding require a lot of patience and can be frustrating when you run out of it, but it is also rewarding when you accomplish something with it at the end.\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-03T14:40:25Z","Content":"\n\u003Cp\u003E\nCan anyone tell me why those\u00A0if conditions\u00A0don\u0027t work? It straight up jumps to z=10 for some reason. \u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCLEARSCREEN.\u003Cbr\u003E\nSET KWRCS TO SHIP:PARTSTAGGED(\u0022RCSFuel\u0022)[0].\u003Cbr\u003E\nSET KWRCSEngine TO SHIP:PARTSTAGGED(\u0022RCSEngine\u0022)[0].\u003Cbr\u003E\nSET SRBs TO SHIP:PARTSTAGGED(\u0022\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u0022). //the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E engine and fuel are in the second stage. Make sure you have enought deltaV in the second stage to reach orbit\u003Cbr\u003E\nSET cooldowntime to 0.\u003Cbr\u003E\n//and make sure the engine in the second stage fires before you reach 100km Apoapsis\u003Cbr\u003E\nSET VESSEL TO SHIP.\u003Cbr\u003E\n//Next, we\u0027ll lock our throttle to 100%.\u003Cbr\u003E\nLOCK THROTTLE TO 1.0. \u00A0 // 1.0 is the max, 0.0 is idle.\n\u003C/p\u003E\n\u003Cp\u003E\n//This is our countdown loop, which cycles from 10 to 0\u003Cbr\u003E\nPRINT \u0022Counting down:\u0022.\u003Cbr\u003E\nFROM {local countdown is 10.} UNTIL countdown = 0 STEP {SET countdown to countdown - 1.} DO {\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022...\u0022 \u002B countdown.\u003Cbr\u003E\n\u00A0 \u00A0 WAIT 1. // pauses the script here for 1 second.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This is a trigger that constantly checks to see if our thrust is zero.\u003Cbr\u003E\n//If it is, it will attempt to stage and then return to where the script\u003Cbr\u003E\n//left off. The PRESERVE keyword keeps the trigger active even after it\u003Cbr\u003E\n//has been triggered.\u003Cbr\u003E\nWHEN MAXTHRUST = 0 THEN {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n}.\u003Cbr\u003E\nFOR \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E in SRBs {\u003Cbr\u003E\n\u00A0 WHEN \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E:MAXTHRUST = 0 THEN\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 if cooldowntime = 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 if \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E:MAXTHRUST = 0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 set cooldowntime to 1.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0\u00A0\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This will be our main control loop for the ascent. It will\u003Cbr\u003E\n//cycle through continuously until our apoapsis is greater\u003Cbr\u003E\n//than 100km. Each cycle, it will check each of the IF\u003Cbr\u003E\n//statements inside and perform them if their conditions\u003Cbr\u003E\n//are met\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,90).\u003Cbr\u003E\nSET x TO 100000. //your desired altitude at which you want to orbit\u003Cbr\u003E\nSET u TO 3.5316*10^12.\u003Cbr\u003E\nSET r TO 600000 \u002B x.\u003Cbr\u003E\nSET a TO 600000 \u002B x.\u003Cbr\u003E\nSET Vel TO SQRT(u*((2/r) - (1/a))).\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO MYSTEER. // from now on we\u0027ll be able to change steering by just assigning a new value to MYSTEER\u003Cbr\u003E\nSET SPEED TO 200.\u003Cbr\u003E\nSET z TO 90.\u003Cbr\u003E\nUNTIL SHIP:APOAPSIS \u0026gt; x { //Remember, all altitudes will be in meters, not kilometers\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,z).\u003Cbr\u003E\n\u00A0 \u00A0 //For the initial ascent, we want our steering to be straight\u003Cbr\u003E\n\u00A0 \u00A0 //up and rolled due east\u003Cbr\u003E\n\u00A0 \u00A0\u003Cspan style=\u0022color:#9b59b6;\u0022\u003E\u003Cstrong\u003E IF SHIP:VELOCITY:SURFACE:MAG \u0026gt; 200 AND z\u0026gt;10 {\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u003Cstrong\u003E\u003Cspan style=\u0022color:#9b59b6;\u0022\u003EIF SPEED\u002B19 \u0026lt; SHIP:VELOCITY:SURFACE:MAG AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; SPEED\u002B21.\u003C/span\u003E\u003C/strong\u003E\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET z TO z-1.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET SPEED TO SPEED\u002B20.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\nPRINT \u0022Velocity necessary to stay in orbit at 100km is:\u0022 \u002B ROUND(Vel,2).\u003Cbr\u003E\nSET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\nPRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\nSET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\nSET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel. // estimated delta V to complete orbit\u003Cbr\u003E\nPRINT \u0022DeltaV: \u0022 \u002B \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\u003Cbr\u003E\nSET R TO KWRCS:WETMASS/KWRCS:DRYMASS.\u003Cbr\u003E\nSET y TO (constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))*(VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS) - (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS))/(R-constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))).\u003Cbr\u003E\nSET FM TO y*R. //this is the estimated fuel mass needed to complete the manuever\u003Cbr\u003E\nSET eM TO VESSEL:MASS - FM. // this is the mass after the manuever has completed but I\u0027m using it in the same formula as in EBT for a better burn time estimation\u003Cbr\u003E\nSET EBT TO ((VESSEL:MASS*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBT: \u0022 \u002B EBT.\u003Cbr\u003E\nSET EBTeM TO ((eM*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBTem: \u0022 \u002B EBTeM.\u003Cbr\u003E\nSET EMBT TO (EBT \u002B EBTeM)/2. //Estimated burn time to complete DeltaV Manuever\u003Cbr\u003E\nSET APO TO EMBT/2.\u003Cbr\u003E\nPRINT \u0022APO: \u0022 \u002B APO.\n\u003C/p\u003E\n\u003Cp\u003E\nPRINT \u0022100km apoapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,5).\u003Cbr\u003E\n//SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)*KWRCSEngine:THRUST)*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//At this point, our apoapsis is above 100km and our main loop has ended.\u003Cbr\u003E\n//time to reach orbit\u003Cbr\u003E\nIF (APO - 0.1) \u0026lt; ETA:APOAPSIS AND ETA:APOAPSIS \u0026lt; (APO \u002B 0.1). //if the ETA until apoapsis is half of the estimated burn time\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 PRINT \u0022Burning sequence to circularize orbit engaged\u0022.\u003Cbr\u003E\n\u00A0 UNTIL SHIP:PERIAPSIS \u0026gt; x\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET MYSTEER TO HEADING(90,0).\u003Cbr\u003E\n\u00A0 \u00A0 LOCK THROTTLE TO 1.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 SET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\n\u00A0 \u00A0 SET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel.\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022DeltaV remaining to complete burn (m/s):\u0022 \u002B ROUND(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E,2) AT(0,22).\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n//This sets the user\u0027s throttle setting to zero to prevent the throttle\u003Cbr\u003E\n//from returning to the position it was at before the script was run.\u003Cbr\u003E\nPRINT \u0022100km periapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-03T15:00:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138954\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501771225\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan anyone tell me why those\u00A0if conditions\u00A0don\u0027t work? It straight up jumps to z=10 for some reason. \u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nCLEARSCREEN.\u003Cbr\u003E\nSET KWRCS TO SHIP:PARTSTAGGED(\u0022RCSFuel\u0022)[0].\u003Cbr\u003E\nSET KWRCSEngine TO SHIP:PARTSTAGGED(\u0022RCSEngine\u0022)[0].\u003Cbr\u003E\nSET SRBs TO SHIP:PARTSTAGGED(\u0022\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u0022). //the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E engine and fuel are in the second stage. Make sure you have enought deltaV in the second stage to reach orbit\u003Cbr\u003E\nSET cooldowntime to 0.\u003Cbr\u003E\n//and make sure the engine in the second stage fires before you reach 100km Apoapsis\u003Cbr\u003E\nSET VESSEL TO SHIP.\u003Cbr\u003E\n//Next, we\u0027ll lock our throttle to 100%.\u003Cbr\u003E\nLOCK THROTTLE TO 1.0. \u00A0 // 1.0 is the max, 0.0 is idle.\n\u003C/p\u003E\n\u003Cp\u003E\n//This is our countdown loop, which cycles from 10 to 0\u003Cbr\u003E\nPRINT \u0022Counting down:\u0022.\u003Cbr\u003E\nFROM {local countdown is 10.} UNTIL countdown = 0 STEP {SET countdown to countdown - 1.} DO {\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022...\u0022 \u002B countdown.\u003Cbr\u003E\n\u00A0 \u00A0 WAIT 1. // pauses the script here for 1 second.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This is a trigger that constantly checks to see if our thrust is zero.\u003Cbr\u003E\n//If it is, it will attempt to stage and then return to where the script\u003Cbr\u003E\n//left off. The PRESERVE keyword keeps the trigger active even after it\u003Cbr\u003E\n//has been triggered.\u003Cbr\u003E\nWHEN MAXTHRUST = 0 THEN {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n}.\u003Cbr\u003E\nFOR \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E in SRBs {\u003Cbr\u003E\n\u00A0 WHEN \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E:MAXTHRUST = 0 THEN\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 STAGE.\u003Cbr\u003E\n\u00A0 \u00A0 if cooldowntime = 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 PRESERVE.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 if \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E:MAXTHRUST = 0\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 set cooldowntime to 1.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0\u00A0\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//This will be our main control loop for the ascent. It will\u003Cbr\u003E\n//cycle through continuously until our apoapsis is greater\u003Cbr\u003E\n//than 100km. Each cycle, it will check each of the IF\u003Cbr\u003E\n//statements inside and perform them if their conditions\u003Cbr\u003E\n//are met\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,90).\u003Cbr\u003E\nSET x TO 100000. //your desired altitude at which you want to orbit\u003Cbr\u003E\nSET u TO 3.5316*10^12.\u003Cbr\u003E\nSET r TO 600000 \u002B x.\u003Cbr\u003E\nSET a TO 600000 \u002B x.\u003Cbr\u003E\nSET Vel TO SQRT(u*((2/r) - (1/a))).\n\u003C/p\u003E\n\u003Cp\u003E\nLOCK STEERING TO MYSTEER. // from now on we\u0027ll be able to change steering by just assigning a new value to MYSTEER\u003Cbr\u003E\nSET SPEED TO 200.\u003Cbr\u003E\nSET z TO 90.\u003Cbr\u003E\nUNTIL SHIP:APOAPSIS \u0026gt; x { //Remember, all altitudes will be in meters, not kilometers\u003Cbr\u003E\n\u00A0 SET MYSTEER TO HEADING(90,z).\u003Cbr\u003E\n\u00A0 \u00A0 //For the initial ascent, we want our steering to be straight\u003Cbr\u003E\n\u00A0 \u00A0 //up and rolled due east\u003Cbr\u003E\n\u00A0 \u00A0\u003Cspan style=\u0022color:#9b59b6;\u0022\u003E\u003Cstrong\u003E IF SHIP:VELOCITY:SURFACE:MAG \u0026gt; 200 AND z\u0026gt;10 {\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u003Cstrong\u003E\u003Cspan style=\u0022color:#9b59b6;\u0022\u003EIF SPEED\u002B19 \u0026lt; SHIP:VELOCITY:SURFACE:MAG AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; SPEED\u002B21.\u003C/span\u003E\u003C/strong\u003E\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET z TO z-1.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET SPEED TO SPEED\u002B20.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003Cp\u003E\n}.\u003Cbr\u003E\nPRINT \u0022Velocity necessary to stay in orbit at 100km is:\u0022 \u002B ROUND(Vel,2).\u003Cbr\u003E\nSET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\nPRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\nSET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\nSET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel. // estimated delta V to complete orbit\u003Cbr\u003E\nPRINT \u0022DeltaV: \u0022 \u002B \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\u003Cbr\u003E\nSET R TO KWRCS:WETMASS/KWRCS:DRYMASS.\u003Cbr\u003E\nSET y TO (constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))*(VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS) - (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS))/(R-constant:e^(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(KWRCSEngine:VISP*9.80665))).\u003Cbr\u003E\nSET FM TO y*R. //this is the estimated fuel mass needed to complete the manuever\u003Cbr\u003E\nSET eM TO VESSEL:MASS - FM. // this is the mass after the manuever has completed but I\u0027m using it in the same formula as in EBT for a better burn time estimation\u003Cbr\u003E\nSET EBT TO ((VESSEL:MASS*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBT: \u0022 \u002B EBT.\u003Cbr\u003E\nSET EBTeM TO ((eM*9.80665*KWRCSEngine:VISP)/KWRCSEngine:AVAILABLETHRUST)*(1-constant:e^(-\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/(9.80665*KWRCSEngine:VISP))).\u003Cbr\u003E\nPRINT \u0022EBTem: \u0022 \u002B EBTeM.\u003Cbr\u003E\nSET EMBT TO (EBT \u002B EBTeM)/2. //Estimated burn time to complete DeltaV Manuever\u003Cbr\u003E\nSET APO TO EMBT/2.\u003Cbr\u003E\nPRINT \u0022APO: \u0022 \u002B APO.\n\u003C/p\u003E\n\u003Cp\u003E\nPRINT \u0022100km apoapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET MYSTEER TO HEADING(90,5).\u003Cbr\u003E\n//SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)*KWRCSEngine:THRUST)*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n//At this point, our apoapsis is above 100km and our main loop has ended.\u003Cbr\u003E\n//time to reach orbit\u003Cbr\u003E\nIF (APO - 0.1) \u0026lt; ETA:APOAPSIS AND ETA:APOAPSIS \u0026lt; (APO \u002B 0.1). //if the ETA until apoapsis is half of the estimated burn time\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 PRINT \u0022Burning sequence to circularize orbit engaged\u0022.\u003Cbr\u003E\n\u00A0 UNTIL SHIP:PERIAPSIS \u0026gt; x\u003Cbr\u003E\n\u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET MYSTEER TO HEADING(90,0).\u003Cbr\u003E\n\u00A0 \u00A0 LOCK THROTTLE TO 1.\u003Cbr\u003E\n\u00A0 \u00A0 IF KWRCSEngine:THRUST \u0026gt; 0\u003Cbr\u003E\n\u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 SET EBTS TO ((VESSEL:MASS*9.80665*KWRCSEngine:\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E)/KWRCSEngine:AVAILABLETHRUSTAT(SHIP:Q))*(1-constant:e^(-LN(VESSEL:MASS / (VESSEL:MASS - KWRCS:MASS \u002B KWRCS:DRYMASS)))). //Estimated burn time of stage\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022Estimated Burn Time of stage (s):\u0022 \u002B ROUND(EBTS,2) AT(0,21).\u003Cbr\u003E\n\u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 SET SVel TO SQRT(u * ((2/(SHIP:APOAPSIS\u002B600000)) - (1/(600000\u002B((SHIP:PERIAPSIS\u002BSHIP:APOAPSIS)/2))))).\u003Cbr\u003E\n\u00A0 \u00A0 SET \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E TO Vel - Svel.\u003Cbr\u003E\n\u00A0 \u00A0 PRINT \u0022DeltaV remaining to complete burn (m/s):\u0022 \u002B ROUND(\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E,2) AT(0,22).\u003Cbr\u003E\n\u00A0 }.\u003Cbr\u003E\n}.\n\u003C/p\u003E\n\u003Cp\u003E\n//This sets the user\u0027s throttle setting to zero to prevent the throttle\u003Cbr\u003E\n//from returning to the position it was at before the script was run.\u003Cbr\u003E\nPRINT \u0022100km periapsis reached, cutting throttle\u0022.\u003Cbr\u003E\nLOCK THROTTLE TO 0.\u003Cbr\u003E\nSET SHIP:CONTROL:PILOTMAINTHROTTLE TO 0.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can\u0027t see anything obvious, though there are a couple of things to say that I can see:\n\u003C/p\u003E\n\u003Cp\u003E\n1. you could do with a \u0022WAIT 0.\u0022 inside that UNTIL loop, so that it doesn\u0027t go through the contents more than once per tick.\n\u003C/p\u003E\n\u003Cp\u003E\n2. You\u0027re giving your velocity magnitude a 2m/s window to hit each time. That would probably work, but towards the end of a stage you might have such high \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E (\u0026gt;5) that it could skip right past it (i.e. go from speed plus 18.9 to speed plus 21.1 in one tick)\n\u003C/p\u003E\n\u003Cp\u003E\nThose two points wouldn\u0027t explain why your rocket is immediately trying to pivot over to 10 degrees pitch angle. Can you add a bunch of display lines to print out the values for surface velocity magnitude, \u0022speed\u0022 and z, and to indicate whether it\u0027s going inside the IF blocks or not? That might help track down what\u0027s going on.\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-03T15:18:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223138969\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501772429\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can\u0027t see anything obvious, though there are a couple of things to say that I can see:\n\u003C/p\u003E\n\u003Cp\u003E\n1. you could do with a \u0022WAIT 0.\u0022 inside that UNTIL loop, so that it doesn\u0027t go through the contents more than once per tick.\n\u003C/p\u003E\n\u003Cp\u003E\n2. You\u0027re giving your velocity magnitude a 2m/s window to hit each time. That would probably work, but towards the end of a stage you might have such high \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E (\u0026gt;5) that it could skip right past it (i.e. go from speed plus 18.9 to speed plus 21.1 in one tick)\n\u003C/p\u003E\n\u003Cp\u003E\nThose two points wouldn\u0027t explain why your rocket is immediately trying to pivot over to 10 degrees pitch angle. Can you add a bunch of display lines to print out the values for surface velocity magnitude, \u0022speed\u0022 and z, and to indicate whether it\u0027s going inside the IF blocks or not? That might help track down what\u0027s going on.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHere is what happens when the if conditions are met.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221z3xInX.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://i.imgur.com/1z3xInX.jpg\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nEDIT: Omg I just found out what it was. It was a god damn period at the second if condition. God damn it lmao. That \u0022.\u0022 is what caused the problem.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0 IF SHIP:VELOCITY:SURFACE:MAG \u0026gt; 200 AND z\u0026gt;10 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 IF SPEED\u002B19 \u0026lt; SHIP:VELOCITY:SURFACE:MAG AND SHIP:VELOCITY:SURFACE:MAG \u0026lt; SPEED\u002B21\u003Cspan style=\u0022color:#9b59b6;\u0022\u003E\u003Cstrong\u003E\u003Cu\u003E.\u003C/u\u003E\u003C/strong\u003E\u003C/span\u003E\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET z TO z-1.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 SET SPEED TO SPEED\u002B20.\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }.\u003Cbr\u003E\n\u00A0 \u00A0 }.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-03T15:25:21Z\u0022 title=\u002208/03/2017 03:25  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 3, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-03T15:39:32Z","Content":"\n\u003Cp\u003E\nAh, the smallest things can be so destructive...\n\u003C/p\u003E\n\u003Cp\u003E\nThat particular one was hard to spot as it is valid syntax to end the IF statement with a . and you can surround blocks of code with curly brackets as much as you like (and occasionally this is useful for limiting the scope of local variables).\n\u003C/p\u003E\n"},{"CreatedByName":"GoodHunter14","CreatedById":153828,"CreatedDateTime":"2017-08-04T20:49:14Z","Content":"\n\u003Cp\u003E\nIs there a thread/post\u00A0about kOS challenges?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Never mind I just realised the forum has a special directory for Challenges.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-08-04T20:54:07Z\u0022 title=\u002208/04/2017 08:54  PM\u0022 data-short=\u00226 yr\u0022\u003EAugust 4, 2017\u003C/time\u003E by GoodHunter14\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-08-05T08:19:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223140120\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501879754\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a thread/post\u00A0about kOS challenges?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think there is few threads in challanges forum that were dedicated for kOS users. Unfortunately my free time is very limited, it prevents me to join in for some of those chalanges.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-05T12:11:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223140120\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221501879754\u0022 data-ipsquote-userid=\u0022153828\u0022 data-ipsquote-username=\u0022GoodHunter14\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, GoodHunter14 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there a thread/post\u00A0about kOS challenges?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Never mind I just realised the forum has a special directory for Challenges.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you do start one for kOS in the Challenges sub-forum, it might be an idea to let people know here and on the kOS Reddit. Most players looking at the Challenges won\u0027t be using kOS.\n\u003C/p\u003E\n\u003Cp\u003E\nSeparately, I did wonder how easy the current \u0022official\u0022 KSP challenge of flying through a Mun arch would be to automate with kOS. The official challenge is stock-only, mind, but most people\u0027s attempts are very hit and miss as a result. If only I had some spare time!\n\u003C/p\u003E\n"},{"CreatedByName":"FumbeiNumbie","CreatedById":123198,"CreatedDateTime":"2017-08-07T11:37:46Z","Content":"\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI have encountered a problem with wheelsteering. My rovers go crazy no matter what\u00A0I lock on.\n\u003C/p\u003E\n\u003Cp\u003E\nSee the\u00A0gif under the spoiler.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022video-to-gif output image\u0022 src=\u0022https://im3.ezgif.com/tmp/ezgif-3-95d8e3c22d.gif\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nAlso I noticed that geoposition returns slightly different values. I never noticed it before.\n\u003C/p\u003E\n\u003Cp\u003E\nHave anyone stumbled across something similar?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using KSP 1.3 and installed this mod from \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-07T11:42:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223142245\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221502105866\u0022 data-ipsquote-userid=\u0022123198\u0022 data-ipsquote-username=\u0022FumbeiNumbie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, FumbeiNumbie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI have encountered a problem with wheelsteering. My rovers go crazy no matter what\u00A0I lock on.\n\u003C/p\u003E\n\u003Cp\u003E\nSee the\u00A0gif under the spoiler.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022video-to-gif output image\u0022 src=\u0022https://im3.ezgif.com/tmp/ezgif-3-95d8e3c22d.gif\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nAlso I noticed that geoposition returns slightly different values. I never noticed it before.\n\u003C/p\u003E\n\u003Cp\u003E\nHave anyone stumbled across something similar?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using KSP 1.3 and installed this mod from \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJudging from the navball, your control point is facing directly upwards (as opposed to forwards, in-line with the wheels). Have you taken that into account when steering? If not, try putting a probe core or docking port on the front and set it as the \u0022control from here\u0022 point (kOS can access that, if you want to do it in a script, but worth doing manually to see if it fixes the issue first).\n\u003C/p\u003E\n"},{"CreatedByName":"FumbeiNumbie","CreatedById":123198,"CreatedDateTime":"2017-08-07T11:46:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223142248\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221502106139\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJudging from the navball, your control point is facing directly upwards (as opposed to forwards, in-line with the wheels). Have you taken that into account when steering? If not, try putting a probe core or docking port on the front and set it as the \u0022control from here\u0022 point (kOS can access that, if you want to do it in a script, but worth doing manually to see if it fixes the issue first).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, haha. I\u0027m so embarrassed! I totally forgot about it. Now have you noticed the change in geoposition values when the vehicle is still?\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-08-07T11:51:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223142251\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221502106362\u0022 data-ipsquote-userid=\u0022123198\u0022 data-ipsquote-username=\u0022FumbeiNumbie\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, FumbeiNumbie said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNow have you noticed the change in geoposition values when the vehicle is still?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat exactly do you mean by this? Do you have an example?\n\u003C/p\u003E\n"}]}