{"TopicId":10075,"ForumId":34,"TopicTitle":"[0.17] Electrical Energy Plugin | v1.5 (Oct 12)","CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-01T17:37:37Z","PageNum":7,"Articles":[{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-05-30T12:26:38Z","Content":"A partmodule that just deactivates it\\\u0027s parent if it doesn\\\u0027t get it\\\u0027s energy whould be possible.\n\nI also have some ideas, but I don\\\u0027t want to write long posts on a phone."},{"CreatedByName":"Spearka","CreatedById":12271,"CreatedDateTime":"2012-06-04T15:25:10Z","Content":"yeah, i was just thinking for a moment, how could i make my SF-IPS project energy-plugin compatible?\n\ni was also thinking of a reactor that would produce energy by itself irrespective of position"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-04T16:52:27Z","Content":"Link to your project?\n\nReal reactors are not implemented yet, but there is MuMechSolarPanel, which always generates fuel."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-11T19:58:07Z","Content":"1.2 released.\n\n-Removed SolarPanel, caused weird bugs\n\n\u002BAdded ModuleKRSolarPanel as replacement\n\n\\*air filters can now be controlled from the part context menu, therefore I remapped the key to f15 by default.\n\n\\*Fixed the battery die bug\n\nWarning, parts have not been updated for now, so the panels don\\\u0027t work. I\\\u0027ll do that now.\n\nEL\\_API source code might contain land mines and semi-finished, undocumented stuff.\n\nEdit: New version of VB parts uploading\n\n\\*Fixed the solar buddy to use the new panel type\n\n\u002BSolar Buddy now surface-attachs, left the old nodes in for now, can I remove them?\n\nEdit2: Be warned, it was a late evening release\n\nforgot\n\n-removed the MuMech panel thing"},{"CreatedByName":"Spearka","CreatedById":12271,"CreatedDateTime":"2012-06-11T21:13:07Z","Content":"\u003E \n\u003E Link to your project?\n\u003E \n\u003E Real reactors are not implemented yet, but there is MuMechSolarPanel, which always generates fuel.\n\n[my project](http://kerbalspaceprogram.com/forum/index.php?topic=12019.0), despite confidence, is very incomplete and I have not placed proper textures (dont know how) and attatchment nodes are screwed up, not everything is exported and i dont think it will look nice when all parts are exported........\n\n**:C**"},{"CreatedByName":"Spearka","CreatedById":12271,"CreatedDateTime":"2012-06-11T21:17:44Z","Content":"also invisible rcs and rcs tank"},{"CreatedByName":"Subcidal","CreatedById":20751,"CreatedDateTime":"2012-06-12T05:09:21Z","Content":"You should really update your first post rather than posting your changelog at the end of the thread.\n\nAnd I can\\\u0027t seem to download it, It just sits there at the \u0027Your file is being prepaired\u0027 popup.\n\nEdit : Got it to D/l Though the Air filter dosen\\\u0027t want to seem to work. I\\\u0027m confusing the hell out of myself trying to figure out the updated version of Zoxygen and all these other mods that also add to it.\n\nUsing your new D/l \u0026 the older version of zoxygen, it dosent work, Using the newer version disabled items added by Dynasat and it still dosen\\\u0027t work.\n\nNot sure what\\\u0027s up.\n\nEdit:\n\n....... So now i\\\u0027m just lost. The air filter works with 1.1.2 of your plugin, Not the new one. I\\\u0027m just going to leave as is for now, Enough troubleshooting for me today."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-12T06:26:40Z","Content":"Strange. I have the air filter working, it activates in the part context menu, you can also add key = [\\[Keycode\\]](http://unity3d.com/support/documentation/ScriptReference/KeyCode.html) in it\\\u0027s part.cfg.\n\nChangelog in first post now.\n\n\u003E \n\u003E -snip-\n\nOops, that looks a bit... damaged ;P. Of course you can add Ion Engines and batteries, the configuration is almost the same as in the MuMechVariable system, differences described in the first post."},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-06-12T17:21:46Z","Content":"I don\\\u0027t get it. Installed the new version of your plugin and parts, but it doesn\\\u0027t works at all:\n\n    Non platform assembly: data-0CB5BFF8 (this message is harmless)Loading assembly: zKreuzung, Version=1.2.4545.37495, Culture=neutral, PublicKeyToken=null(Filename: C:/BuildAgent/work/b0bcff80449a48aa/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 43)Exception when loading zKreuzung, Version=1.2.4545.37495, Culture=neutral, PublicKeyToken=null: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded. at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool) at System.Reflection.Assembly.GetTypes () [0x00000] in :0  at ModuleLoader.LoadAssembly (System.Reflection.Assembly asm) [0x00000] in :0"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-12T17:38:13Z","Content":"Hmm, strange. Works for me on both my KSP installs.\n\nAre you using the newest MuMechLib?"},{"CreatedByName":"CaptainArbitrary","CreatedById":28110,"CreatedDateTime":"2012-06-12T17:39:08Z","Content":"I *just* had to deal with that problem this morning, matter of fact. My guess is that the version of the Mono runtime I was linking to in my IDE was newer than the version included with the game, so I was able to compile a plugin that referred to system classes that don\\\u0027t exist in the game runtime.\n\nIn my case, it was a DnsEndPoint, but I don\\\u0027t think that\\\u0027s relevant. The point is I got that error message when my plugin referred to classes that weren\\\u0027t present in the game at load time."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-12T17:40:50Z","Content":"\u003E \n\u003E The point is I got that error message when my plugin referred to classes that weren\\\u0027t present in the game at load time.\n\nDo you mean the alphabetical load order issue? I have a \\\u0027z\\\u0027 in the file name to prevent that."},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-06-12T22:20:05Z","Content":"\u003E \n\u003E Hmm, strange. Works for me on both my KSP installs.\n\u003E \n\u003E Are you using the newest MuMechLib?\n\nHere\\\u0027s the problem. In MechJeb thread there\\\u0027s MuMechLib 1.8.4.0, but in fixed camera thread it\\\u0027s 1.8.4.1.\n\nI thought they already removed that stupid version check! \u003E![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)\n\nNow I have to recompile my adapter-plugin, too \u003E![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-13T07:27:51Z","Content":"I\\\u0027ll talk about the version check to n3x15 the next time he\\\u0027s on IRC, last time he said it was my project settings, but that was wrong, and careo told me that he has the same problem."},{"CreatedByName":"kellven","CreatedById":16971,"CreatedDateTime":"2012-06-13T19:39:55Z","Content":"I also had to recompile against MechJeb last night. Fortunately, I\\\u0027ve made the plugin I\\\u0027m working on now, to only interact with MuMechLib indirectly, so there\\\u0027s no reference. Getting at class members is still going to be difficult, but Mu told me a while ago he might be adding a static field/prop/something with an Assembly, or Assembly[] or somesuch containing the plugins that loaded correctly. Just hope he didn\\\u0027t forget.\n\n About the library linking thing, I was also getting errors every time I called string.isnullorwhitespace(). I finally found [this](http://unity3d.com/support/documentation/ScriptReference/index.Unity_and_Mono_compatibility.html) the linky there seems to indicate the code in Unity derived blocks only supports .net 2.0, which is somewhat frightening.\n\n Fortunately, things in classes not derived from Unity stuff seem to get much better latitude."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-13T19:50:21Z","Content":"Whaa, worked on this the whole day, bugs are more weird than before.\n\nRule 15 - The harder you try. the harder you will fail.\n\nAnd, the dead battery issue is not fixed in this release, I had some problems with it but thought it was fixed. Solar panels seem to not really work too. *This was just the weird origin of the Solar Buddy*\n\nIs the partResource system bugged? That whould expain a lot."},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-06-13T20:02:46Z","Content":"\u003E \n\u003E Is the partResource system bugged? That whould expain a lot.\n\nIt\\\u0027s rather strange. it uses the same glitchy fuel lookup logic, they implemented for fuel tanks in 0.15.\n\nMaybe we should write another version that works like RCS lookup logic (or at least that version of MechJeb fuel logic, that drains all tanks in the last stage)."},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-14T12:15:07Z","Content":"I had the batteries resetting to full if both Ion Engines and Solar Panels where attached.\n\nI think I\\\u0027ll handle part resources similar to MechJeb, mass recalculation shouldn\\\u0027t be a problem at 0 density."},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2012-06-14T17:56:53Z","Content":"\u003E \n\u003E I had the batteries resetting to full if both Ion Engines and Solar Panels where attached.\n\nI think that\\\u0027s only a UI/visual issue. I had the battery reset to full on a reload when the battery was almost empty, only to run out of juice seconds later - apparently the battery was indeed almost empty even though the UI showed it full.\n\nBTW I love the (small) ion engine. I tweaked it to perform/look/sound a bit more like a real ion engine (very low thrust, extremely low fuel consumption). I also tweaked the fx, made a different texture and a custom \\\u0027active\\\u0027 sound for it (a softened version of the stock sound sound\\_rocket\\_hard.mp3 - i\\\u0027ll gladly release it if that\\\u0027s allowed).\n\nmy edits for VB\\_IonEngine:\n\nfx\\_exhaustFlame\\_blue\\_small = 0.0, -0.2, 0.0, 0.0, 1.0, 0.0, active\n\nfx\\_exhaustLight\\_blue = 0.0, -0.55, 0.0, 0.0, 0.0, -1.0, active\n\nfx\\_exhaustLight\\_blue = 0.0, -0.5, 0.0, 0.0, 0.0, 1.0, active\n\nsound\\_vent\\_soft = activate\n\nsound\\_rocket\\_ion.wav = active\n\nsound\\_vent\\_soft = deactivate\n\nmass = 0.15\n\nmaxThrust = 2\n\nfuelConsumption = 0.025\n\n( i might be overdoing it with the thrust and fuel consumption)\n\nthrustVectoringCapable = False"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-14T18:24:31Z","Content":"Added that, except the thrust/fule thing, it whould make the engine much worse than the ones by Maraz and kockaspiton"},{"CreatedByName":"rkman","CreatedById":15721,"CreatedDateTime":"2012-06-15T09:32:13Z","Content":"\u003E \n\u003E you can also add key = [\\[Keycode\\]](http://unity3d.com/support/documentation/ScriptReference/KeyCode.html) in it\\\u0027s part.cfg.\n\nThat does the trick for me (i get no popup menu on the filter). The filter now works.\n\nSome bugs i noticed:\n\n- if there are two batteries on a craft, when one gets empty both batteries disappear from the craft part list and do not reappear when recharging the batteries. It seems as though (a least) one battery is still working even though it\\\u0027s not visible in the part list.\n\n- when the ion engine is active the filter does not generate zo2. - on edit: it does that one one of my craft but not on another, not sure what\\\u0027s causing it.\n\n- the filter turns off when switching to another craft"},{"CreatedByName":"Kreuzung","CreatedById":21035,"CreatedDateTime":"2012-06-15T13:33:34Z","Content":"Thanks for the bug report, persistent filters are damn easy to make.\n\nBatteries are weird in this release, I have a completely new system working here, it just randomly refills the batteries^^"},{"CreatedByName":"Kainicus","CreatedById":26782,"CreatedDateTime":"2012-06-15T23:21:14Z","Content":"Ok, first off love this MOD. Thank you for all your work. problem is i updated to 1.2 and now none of the parts for this mod will work. they all say not compatible with version of KSP. What am i doing wrong here? made sure everything was up to date."},{"CreatedByName":"BamBam","CreatedById":11581,"CreatedDateTime":"2012-06-16T02:42:12Z","Content":"\u003E \n\u003E Ok, first off love this MOD. Thank you for all your work. problem is i updated to 1.2 and now none of the parts for this mod will work. they all say not compatible with version of KSP. What am i doing wrong here? made sure everything was up to date.\n\nthis is my first time using this plugin, and i notice the same.\n\nonly the solar buddy panel is available for use"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2012-06-16T07:26:15Z","Content":"\u003E \n\u003E this is my first time using this plugin, and i notice the same.\n\u003E \n\u003E only the solar buddy panel is available for use\n\nYou need MuMechLib v1.8.4.1"}]}