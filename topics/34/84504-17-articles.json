{"TopicId":84504,"ForumId":34,"TopicTitle":"[old thread] Trajectories : atmospheric predictions","CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-09-13T15:42:57Z","PageNum":17,"Articles":[{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-11-14T14:18:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Supraluminal\u0022 data-cite=\u0022Supraluminal\u0022\u003E\u003Cdiv\u003EI\u0027ve been having problems with inaccurate trajectory predictions. It\u0027s mostly a problem with long/shallow reentries; it pretty consistently overestimates the length of my flightpath (i.e. my craft lands well short of the initially-predicted impact site). This is with FAR, using MechJeb to keep my craft pointed dead-on to my surface velocity vector and without moving any of the Trajectory AoA sliders off of zero. Am I doing something wrong? Is this a bug? Just an unavoidable limitation of the mod?\u003Cp\u003EGreat mod overall, though! Even inaccurate predictions are better than none, and it\u0027s generally pretty good when my reentry is on the steep side.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA, it will inevitably be inaccurate for long reentries, because reentry is inherently chaotic (highly sensitive to minor things, and error grows exponentially with time), so more error is to be expected with long reentry.\u003C/p\u003E\u003Cp\u003EB, are you using wings with stock aerodynamics? Trajectories will not account for stock wings.\u003C/p\u003E\u003Cp\u003EC, just to check: are you going in nose-first or tail-first? 0 degrees means a nose-first reentry, generally valid for spaceplanes but invalid for capsules.\u003C/p\u003E\u003Cp\u003ED, are you using Deadly Reentry? Trajectories won\u0027t account for loss of ablative heatshield material.\u003C/p\u003E\u003Cp\u003EE, are you using any RCS stabilization? Trajectories won\u0027t account for use of RCS fuel.\u003C/p\u003E\n"},{"CreatedByName":"Supraluminal","CreatedById":1472,"CreatedDateTime":"2014-11-14T16:26:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starman4308\u0022 data-cite=\u0022Starman4308\u0022\u003E\u003Cdiv\u003EA, it will inevitably be inaccurate for long reentries, because reentry is inherently chaotic (highly sensitive to minor things, and error grows exponentially with time), so more error is to be expected with long reentry.\u003Cp\u003EB, are you using wings with stock aerodynamics? Trajectories will not account for stock wings.\u003C/p\u003E\u003Cp\u003EC, just to check: are you going in nose-first or tail-first? 0 degrees means a nose-first reentry, generally valid for spaceplanes but invalid for capsules.\u003C/p\u003E\u003Cp\u003ED, are you using Deadly Reentry? Trajectories won\u0027t account for loss of ablative heatshield material.\u003C/p\u003E\u003Cp\u003EE, are you using any RCS stabilization? Trajectories won\u0027t account for use of RCS fuel.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor reference, by \u0022long\u0022 I mean the reentry phase lasting something around 1/8th of an orbit or even less. I\u0027m not trying to predict a landing a full orbit ahead or anything.\u003C/p\u003E\u003Cp\u003EWhat do you mean by \u0022wings with stock aerodynamics?\u0022 All the wing parts that come with stock KSP...? Like I said, I\u0027m using FAR. The OP says \u0022It works with FAR, NEAR and stock drag at this time ; stock wings are not simulated (but FAR/NEAR ones are),\u0022 which I took to mean that all wings are simulated when FAR is enabled. I\u0027m also using procedural fairings, if that has any effect.\u003C/p\u003E\u003Cp\u003EI\u0027m going in nose-first. I\u0027m aware of how the AoA settings should be used.\u003C/p\u003E\u003Cp\u003EI\u0027m not using Deadly Reentry or any RCS.\u003C/p\u003E\u003Cp\u003ESpecifically, most recently I\u0027ve noticed this issue while trying to drop-pod rovers onto Fine Print survey sites. Here\u0027s what the pods look like:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/z22jenv.png\u0022 alt=\u0022z22jenv.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EPayload fairing at the front, 48-7S on the back and four of the delta-deluxe winglets to stabilize.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-14T17:41:49Z","Content":"\n\u003Cp\u003E1/8 of orbit is not too long, that\u0027s what I usually do for my tests, or even 1/4.\u003C/p\u003E\u003Cp\u003ENo problem with wings if you use FAR (well, at least no known issue ; it should work).\u003C/p\u003E\u003Cp\u003EHow much short do you land ? With FAR, a few kilometers are to be expected I\u0027m afraid (usually less than 10km in my tests). Don\u0027t know if the prediction can be made more precise or if it\u0027s just because of \u0022noise\u0022 in the parameters (controls, entry conditions, even very small changes could make a \u0022big\u0022 difference, but I have not measured that yet).\u003C/p\u003E\u003Cp\u003EAlso, I haven\u0027t tested with procedural fairings. Maybe there is something special in this case.\u003C/p\u003E\u003Cp\u003EI guess you are aware of that, but just in case, do you use the prediction before or after detaching your lander ? The prediction for the complete vessel could be very different from the prediction for the lander alone (staging is not implemented at this time, you have to stage/undock first and see what prediction that gives after).\u003C/p\u003E\u003Cp\u003EFinally, the orientation used during prediction depends on the part used to control the vessel. For example if you use the \u0022control from here\u0022 option on a different part (control module or docking port), it could change the prediction. I\u0027m just telling this because the control module of your rovers is not visible on your screenshot, but if it\u0027s not aligned so that the \u0022front\u0022 is the front of the fairing, it could cause issues. Same thing for the \u0022top\u0022 when it comes to lift prediction.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T17:44:14Z\u0022 title=\u002211/14/2014 05:44  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by Youen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"pauldbk99","CreatedById":102495,"CreatedDateTime":"2014-11-14T19:17:40Z","Content":"\n\u003Cp\u003EI want to report a bug:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/WpQwT8z.png\u0022 alt=\u0022WpQwT8z.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI know that this happens when you turn the trajectories caculator on when you are on an escape orbit and when you have body fixed mode on, but for the rest, I found nothing in the debug menu that could explain this.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T19:27:14Z\u0022 title=\u002211/14/2014 07:27  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by pauldbk99\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-14T19:45:02Z","Content":"\n\u003Cp\u003EThe spiral is normal behavior. When body-fixed mode is enabled, the trajectory is displayed in the rotating frame of the body. Since you are getting away almost linearly, and the body rotates, this makes a spiral. Unless I don\u0027t understand what you want to show here, I don\u0027t see anything wrong.\u003C/p\u003E\u003Cp\u003EJust turn off body-fixed mode when you don\u0027t need it. You\u0027d need it mostly for two purposes: fine tuning a geostationary orbit (the trajectory would reduce to a dot as you wouldn\u0027t move relatively to the rotating frame), or when flying in atmosphere (it would show the actual trajectory relatively to the ground). But in most cases, it just doesn\u0027t make sense and should be turned off.\u003C/p\u003E\n"},{"CreatedByName":"pauldbk99","CreatedById":102495,"CreatedDateTime":"2014-11-14T20:06:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EThe spiral is normal behavior. When body-fixed mode is enabled, the trajectory is displayed in the rotating frame of the body. Since you are getting away almost linearly, and the body rotates, this makes a spiral. Unless I don\u0027t understand what you want to show here, I don\u0027t see anything wrong.\u003Cp\u003EJust turn off body-fixed mode when you don\u0027t need it. You\u0027d need it mostly for two purposes: fine tuning a geostationary orbit (the trajectory would reduce to a dot as you wouldn\u0027t move relatively to the rotating frame), or when flying in atmosphere (it would show the actual trajectory relatively to the ground). But in most cases, it just doesn\u0027t make sense and should be turned off.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, but this is just one of the many shapes I saw, are all those normal too? If that is the case, I do apologise for missing something.\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2014-11-14T20:32:07Z","Content":"\n\u003Cp\u003EOrbits in rotating reference frames just look weird to us.\u003C/p\u003E\u003Cp\u003EHere are some funky orbits in the barycentric corotating reference frame of the Kerbin-Mun system (i.e. the frame of reference centered on the center of mass of the Kerbin-Mun system, rotating so that Kerbin and the Mun appear to stay still), computed using a prototype \u003Cem\u003EN\u003C/em\u003E-body gravity simulator: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program?p=1527888\u0026amp;viewfull=1#post1527888\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program?p=1527888\u0026amp;viewfull=1#post1527888\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EA free return trajectory around the Earth and Moon in our barycentric corotating reference frame looks like a figure-8: \u003Ca href=\u0022https://en.wikipedia.org/wiki/Free_return_trajectory\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Free_return_trajectory\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EA geosynchronous satellite will appear to describe an analemma when seen from the Earth (geo\u003Cem\u003Estationary\u003C/em\u003E orbits look like single points), such as QZSS: \u003Ca href=\u0022https://en.wikipedia.org/wiki/Quasi-Zenith_Satellite_System\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Quasi-Zenith_Satellite_System\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"pauldbk99","CreatedById":102495,"CreatedDateTime":"2014-11-14T20:49:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbas_ad_astra\u0022 data-cite=\u0022Kerbas_ad_astra\u0022\u003E\u003Cdiv\u003EOrbits in rotating reference frames just look weird to us.\u003Cp\u003EHere are some funky orbits in the barycentric corotating reference frame of the Kerbin-Mun system (i.e. the frame of reference centered on the center of mass of the Kerbin-Mun system, rotating so that Kerbin and the Mun appear to stay still), computed using a prototype \u003Cem\u003EN\u003C/em\u003E-body gravity simulator: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program?p=1527888\u0026amp;viewfull=1#post1527888\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/68502-WIP-Principia-N-Body-Gravitation-and-Better-Integrators-for-Kerbal-Space-Program?p=1527888\u0026amp;viewfull=1#post1527888\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EA free return trajectory around the Earth and Moon in our barycentric corotating reference frame looks like a figure-8: \u003Ca href=\u0022https://en.wikipedia.org/wiki/Free_return_trajectory\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Free_return_trajectory\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EA geosynchronous satellite will appear to describe an analemma when seen from the Earth (geo\u003Cem\u003Estationary\u003C/em\u003E orbits look like single points), such as QZSS: \u003Ca href=\u0022https://en.wikipedia.org/wiki/Quasi-Zenith_Satellite_System\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Quasi-Zenith_Satellite_System\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, now I see, thanks for the explanation.\u003C/p\u003E\n"},{"CreatedByName":"Supraluminal","CreatedById":1472,"CreatedDateTime":"2014-11-14T21:40:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EHow much short do you land ? With FAR, a few kilometers are to be expected I\u0027m afraid (usually less than 10km in my tests). Don\u0027t know if the prediction can be made more precise or if it\u0027s just because of \u0022noise\u0022 in the parameters (controls, entry conditions, even very small changes could make a \u0022big\u0022 difference, but I have not measured that yet).\u003Cp\u003EAlso, I haven\u0027t tested with procedural fairings. Maybe there is something special in this case.\u003C/p\u003E\u003Cp\u003EI guess you are aware of that, but just in case, do you use the prediction before or after detaching your lander ? The prediction for the complete vessel could be very different from the prediction for the lander alone (staging is not implemented at this time, you have to stage/undock first and see what prediction that gives after).\u003C/p\u003E\u003Cp\u003EFinally, the orientation used during prediction depends on the part used to control the vessel. For example if you use the \u0022control from here\u0022 option on a different part (control module or docking port), it could change the prediction. I\u0027m just telling this because the control module of your rovers is not visible on your screenshot, but if it\u0027s not aligned so that the \u0022front\u0022 is the front of the fairing, it could cause issues. Same thing for the \u0022top\u0022 when it comes to lift prediction.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure how to measure the shortfall. It seems like multiple tens of kilometers or so? In any case, 10km is kind of a large margin of error for rover deployment - that\u0027s around 15 minutes of drive time at 10m/s just to get to the survey area. I fully understand that it may not be possible to make it much more accurate, however.\u003C/p\u003E\u003Cp\u003EI do all of the reentry phase using the lander only, so the prediction is not looking at any other stages. Generally they\u0027re deployed from a carrier that sits in a polar orbit; the drop pods each have ~1300m/s dV to change planes and deorbit.\u003C/p\u003E\u003Cp\u003EI\u0027m fairly certain I have the orientation right. Like I said, I use MechJeb to keep the pod oriented along its prograde surface vector during reentry, and everything (navball, pod) lines up as expected. The rover\u0027s probe core is oriented 90 degrees off the main axis of the pod (the bottoms of the wheels face the point of the fairing), so if it were controlling from there nothing should work right. Nonetheless, I\u0027ll take a second look to make sure on this point.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-14T21:42:41Z\u0022 title=\u002211/14/2014 09:42  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 14, 2014\u003C/time\u003E by Supraluminal\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-15T09:46:07Z","Content":"\n\u003Cp\u003EIf you can target another object that is at the correct location, you\u0027ll see the distance displayed in the main view. But maybe you don\u0027t have this possibility if there is nothing yet where you want to go.\u003C/p\u003E\u003Cp\u003EI\u0027ll let you know when I find some time to make tests with procedural fairings if I find something weird or not.\u003C/p\u003E\u003Cp\u003EAbout the error margin, the worst case I have in my tests is 6km, but I only have simple tests at this time (a pod entering forward and backward with few additionnal pieces), so I can\u0027t give numbers for more general cases (I did make more complicated tests of course, but did not measure error). As stated somewhere previously in this thread, 6km is highly precise as compared to the real world, but in a game we could expect much more precise of course, especially if we consider Kerbin is much smaller than earth. But there are approximations for performances, and maybe bugs in the way I reproduce the FAR behavior (predictions are more accurate with stock aerodynamics), or maybe the KSP behavior (gravity, update time steps, maybe there is some kind of dampening in the physics engine to avoid creating energy due to numerical errors, etc.). However, the less obvious the bug, the most difficult it is to find, and 10km of final error means the error at each simulation step is really small, so it\u0027s hard to find out which part is wrong (if there is one).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-15T09:59:50Z\u0022 title=\u002211/15/2014 09:59  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 15, 2014\u003C/time\u003E by Youen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gryphon","CreatedById":58513,"CreatedDateTime":"2014-11-16T23:04:48Z","Content":"\n\u003Cp\u003Enevermind!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-16T23:05:22Z\u0022 title=\u002211/16/2014 11:05  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 16, 2014\u003C/time\u003E by Gryphon\u003C/strong\u003E\n\u003Cbr\u003Ewhoops\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-16T23:10:40Z","Content":"\n\u003Cp\u003EI just released version 1.0.0\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Eincremental trajectory update (the game won\u0027t slow down while trajectories are computed)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Emore precise ground impact detection (for mountains etc.)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eleft click on Blizzy\u0027s toolbar shows/hide trajectories, right click toggles the GUI window\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Epossibility to use stock toolbar instead of Blizzy\u0027s\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ereorganized GUI with groups that can be shown/hidden\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Edebug display (performances and error count)\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI think it\u0027s now ready to deserve a \u00221.0\u0022 version number, but as usual, let me know if you find bugs.\u003C/p\u003E\n"},{"CreatedByName":"TMS","CreatedById":57134,"CreatedDateTime":"2014-11-17T07:46:34Z","Content":"\n\u003Cp\u003EThanks for this, Youen. This mod is already a \u0027must have\u0027 (alongside KER and PreciseNode) for me.\u003C/p\u003E\n"},{"CreatedByName":"wcoenen","CreatedById":129422,"CreatedDateTime":"2014-11-17T09:23:40Z","Content":"\n\u003Cp\u003EThanks for making this. I love doing interplanetary transfers with a single aerocapture pass.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-17T15:54:43Z\u0022 title=\u002211/17/2014 03:54  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 17, 2014\u003C/time\u003E by wcoenen\u003C/strong\u003E\n\u003Cbr\u003EMisspelled \u0026quot;aerobraking\u0026quot;, and I actually meant \u0026quot;aerocapture\u0026quot;.\n\u003C/span\u003E\n"},{"CreatedByName":"Gfurst","CreatedById":126201,"CreatedDateTime":"2014-11-17T13:27:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Eleft click on Blizzy\u0027s toolbar shows/hide trajectories, right click toggles the GUI window\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Epossibility to use stock toolbar instead of Blizzy\u0027s\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ereorganized GUI with groups that can be shown/hidden\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI think it\u0027s now ready to deserve a \u00221.0\u0022 version number, but as usual, let me know if you find bugs.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou took my advice, awesome \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E. Very happy to see that, will report back if I notice anything wrong. And of course, thanks for the awesome addon.\u003C/p\u003E\n"},{"CreatedByName":"rdwulfe","CreatedById":107690,"CreatedDateTime":"2014-11-18T04:14:01Z","Content":"\n\u003Cp\u003ETrajectories now responds *very* slowly for me. Incredibly slowly. It updates maybe once every 15 seconds or worse. Not sure why. I\u0027ve 15 or so mods installed, including:\u003C/p\u003E\u003Cp\u003EAlternateResourcePanel\u003C/p\u003E\u003Cp\u003EChatterer\u003C/p\u003E\u003Cp\u003EDMagic\u003C/p\u003E\u003Cp\u003EFirespitter\u003C/p\u003E\u003Cp\u003EKerbal Alarm Clock\u003C/p\u003E\u003Cp\u003EkOS\u003C/p\u003E\u003Cp\u003EMechJeb\u003C/p\u003E\u003Cp\u003EMissionController\u003C/p\u003E\u003Cp\u003EPreciseNode\u003C/p\u003E\u003Cp\u003ERemoteTech\u003C/p\u003E\u003Cp\u003ESCANsat\u003C/p\u003E\u003Cp\u003ETAC LS\u003C/p\u003E\u003Cp\u003EToolbar\u003C/p\u003E\u003Cp\u003EThose are the major ones. kOS is one of my newest. Is it somehow interfering? I didn\u0027t have problems before Trajectories 1.0, so I\u0027m wondering if it\u0027s the new version... or kOS which I installed at the same time.\u003C/p\u003E\u003Cp\u003EWill investigate further. \u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EAlso Precise NODE, which I\u0027d forgotten I had installed. That might be doing it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-18T04:16:08Z\u0022 title=\u002211/18/2014 04:16  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 18, 2014\u003C/time\u003E by rdwulfe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-18T11:41:56Z","Content":"\n\u003Cp\u003EOne of the big changes of latest release is that trajectories are computed incrementally. Each frame, it will compute a bit of trajectory, and then suspend until the next frame, where it will resume computing, and so on until the whole trajectory is computed. Then it will display the result, which will remain visible until the next trajectory is fully computed, etc.\u003C/p\u003E\u003Cp\u003ESo the rest of the game shouldn\u0027t lag (this is the point), but depending on your computer, the trajectory might update at a low rate. 15s seems a lot though, especially if you didn\u0027t have performance issues before (the previous behavior was that the whole game was frozen until the trajectroy was computed, each frame).\u003C/p\u003E\u003Cp\u003EMaybe it\u0027s just a matter of tweaking how much time is dedicated to Trajectories each frame, I\u0027ll add an option for that.\u003C/p\u003E\u003Cp\u003EIn the mean time, can you confirm that\u003C/p\u003E\u003Cp\u003E- the game does not lag? (only trajectories do)\u003C/p\u003E\u003Cp\u003E- no errors are reported? (counter displayed in the settings group)\u003C/p\u003E\u003Cp\u003E- what time is indicated in the \u0022Perf\u0022 section? (this is the average time spent for computing trajectories per frame)\u003C/p\u003E\u003Cp\u003E- if you know that, what is your CPU?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-18T13:40:51Z\u0022 title=\u002211/18/2014 01:40  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 18, 2014\u003C/time\u003E by Youen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rdwulfe","CreatedById":107690,"CreatedDateTime":"2014-11-18T15:20:37Z","Content":"\n\u003Cp\u003EPerf: 2.8ms 0 error(s)\u003C/p\u003E\u003Cp\u003EAerodynamic model: stock\u003C/p\u003E\u003Cp\u003ENo game lag at all. Perf gets higher the \u0027deeper\u0027 my descent trajectory... But even with this small number, it only updates on my screen infrequently. \u003C/p\u003E\u003Cp\u003EThe ship I just launched is quicker, once every 2-3 seconds, so the complexity of the ship seems to be a huge factor. The ship I launched before has approximately 120 or so parts. \u003C/p\u003E\u003Cp\u003EMy CPU is a Pentium 4 CPU running at 3.00 GHz. 2 Gigs ram. Not beefy by any means, but she gets the job done normally.\u003C/p\u003E\u003Cp\u003EEDIT: I also admit I miss the old \u0022Body-fixed mode\u0022 radio button at the top. It made life easy to switch between the modes, as I toggle them constantly. I also switched back to the 0.4.1 version to confirm its behavior was the same. No lag, instant response to my changes in orbit.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-18T15:31:47Z\u0022 title=\u002211/18/2014 03:31  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 18, 2014\u003C/time\u003E by rdwulfe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-18T18:18:42Z","Content":"\n\u003Cp\u003Eok, thanks for the feedback, I\u0027ll take a look at the stock aerodynaic code and bring the body-fixed mode back on top.\u003C/p\u003E\n"},{"CreatedByName":"rdwulfe","CreatedById":107690,"CreatedDateTime":"2014-11-18T22:47:08Z","Content":"\n\u003Cp\u003EThank you, Youen! You\u0027re amazing!\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2014-11-19T16:24:16Z","Content":"\n\u003Cp\u003EWow, this mod is amazing-- i hope squad absorbs it (and compensates you accordingly).\u003C/p\u003E\u003Cp\u003EWhat do you think about making the functionality slightly different to increase its number of features:\u003C/p\u003E\u003Cp\u003E(1) When nothing is targeted, everything functions as described except when targeting the landing location, the navball uses the blue maneuver node indicator to show where you should be pointing (rather than new indicators) i.e. always point towards blue indicator (not sure why two indicators are needed)... on second thought, you mentioned the second indicator was for direction only, rather than magnitude so perhaps, a better idea is to use the blue arrow (like the new navball in 0.25 uses to show where your maneuver node is on navball when its off screen) to show which direction corrections should be made. The magnitude of the correction could also make this arrow bigger or smaller (or darker/lighter).\u003C/p\u003E\u003Cp\u003E(2) When a target is set (on the surface only), the plugin backward calculates the orientation/AoA necessary to arrive there, and if no atmosphere is present, calculates the maneuver node necessary to arrive there (to me, it seems the backward calculation functionality is already there, since for option 1, the indicators on the navball will tell you how far from ideal you are).\u003C/p\u003E\u003Cp\u003EAlso, out of curiosity, what integration scheme and order do you use in your calculations (4th Order Runge-Kutta?), and do you use the known variation of density with height to allow for very accurate results with large timesteps and few calculations (thus faster updates)?\u003C/p\u003E\n"},{"CreatedByName":"Semmel","CreatedById":90652,"CreatedDateTime":"2014-11-19T16:42:53Z","Content":"\n\u003Cp\u003EUsing this mod, I have some difficulties I dont know how to solve. Its probably my inability to use it properly, so please give me a hint.\u003C/p\u003E\u003Cp\u003EI use FAR and Deadly reentry. I have a maned space probe, using the small stock Command Pod Mk1 with a heat shield underneath. I set up the descend trajectory to get down at my desired location. Than I separate from the lander from the service module and prepare for reentry. However, the drag of the heat shield with the MK1 seems to line up very badly with the estimated landing location. If the initial trajectory is very flat and I aim for KSC, the actual touch down point is at the west coast of the KSC continent, at the other side of the mountain range. That is a significant difference. What do I need to do in order to correct for that? Due to the nature of the problem, I cant control the descend after the separation with the service module. Any suggestion?\u003C/p\u003E\u003Cp\u003EEdit: Thanks for this great mod btw! It makes life much much easier. I also should add that my experience is with the second to last version, the one before 1.0.0.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-19T18:31:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EWow, this mod is amazing-- i hope squad absorbs it (and compensates you accordingly).\u003Cp\u003EWhat do you think about making the functionality slightly different to increase its number of features:\u003C/p\u003E\u003Cp\u003E(1) When nothing is targeted, everything functions as described except when targeting the landing location, the navball uses the blue maneuver node indicator to show where you should be pointing (rather than new indicators) i.e. always point towards blue indicator (not sure why two indicators are needed)... on second thought, you mentioned the second indicator was for direction only, rather than magnitude so perhaps, a better idea is to use the blue arrow (like the new navball in 0.25 uses to show where your maneuver node is on navball when its off screen) to show which direction corrections should be made. The magnitude of the correction could also make this arrow bigger or smaller (or darker/lighter).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think using the stock indicators is a good idea (assuming that would be possible), because they already have a meaning, that is different from the meaning of the new ones. But I do agree that the new indicators are ugly, and also they are displayed even when on the hidden side of the navball, which is wrong and misleading.\u003C/p\u003E\u003Cp\u003EAs you stated, the correction indicator is just a hint : it is only relative to the distance of the impact point relatively to the target. So it doesn\u0027t account for any aerodynamic feature of the craft, it just assumes that pulling up will make you go farther (I\u0027m sure it\u0027s plain wrong for some craft designs, but it should help with most planes). It should be replaced by some kind of arrow though. The other indicator just represents how the descent profile is configured, so if you follow it, you should follow the displayed trajectory (but chances are you will slowly drift over time, which is why the correction indicator is there).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E (2) When a target is set (on the surface only), the plugin backward calculates the orientation/AoA necessary to arrive there, and if no atmosphere is present, calculates the maneuver node necessary to arrive there (to me, it seems the backward calculation functionality is already there, since for option 1, the indicators on the navball will tell you how far from ideal you are).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAbout calculating maneuver nodes, I wanted to follow the original game philosophy instead, which is to show you what will happen after the maneuver, but not tell you how you should modify it, which is quite efficient at making you learn orbital mechanics. The mod is not an autopilot either. These are interesting features though, but maybe for another mod.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EAlso, out of curiosity, what integration scheme and order do you use in your calculations (4th Order Runge-Kutta?), and do you use the known variation of density with height to allow for very accurate results with large timesteps and few calculations (thus faster updates)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use Verlet integration. It can probably be improved, but concerning accuracy I\u0027m more concerned about the correctness of aerodynamic forces computations. It\u0027s hard to tell though.\u003C/p\u003E\n"},{"CreatedByName":"Youen","CreatedById":116909,"CreatedDateTime":"2014-11-19T18:36:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Semmel\u0022 data-cite=\u0022Semmel\u0022\u003E\u003Cdiv\u003EUsing this mod, I have some difficulties I dont know how to solve. Its probably my inability to use it properly, so please give me a hint.\u003Cp\u003EI use FAR and Deadly reentry. I have a maned space probe, using the small stock Command Pod Mk1 with a heat shield underneath. I set up the descend trajectory to get down at my desired location. Than I separate from the lander from the service module and prepare for reentry. However, the drag of the heat shield with the MK1 seems to line up very badly with the estimated landing location. If the initial trajectory is very flat and I aim for KSC, the actual touch down point is at the west coast of the KSC continent, at the other side of the mountain range. That is a significant difference. What do I need to do in order to correct for that? Due to the nature of the problem, I cant control the descend after the separation with the service module. Any suggestion?\u003C/p\u003E\u003Cp\u003EEdit: Thanks for this great mod btw! It makes life much much easier. I also should add that my experience is with the second to last version, the one before 1.0.0.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStaging is not implemented, so when you separate the command pod, it\u0027s completely normal that the prediction changes a lot. The prediction for the whole ship probably has similar drag forces, but as the ship is heavier, it will go farther. The command pod alone will fall short of the initial prediction. Ideally, the mod should be improved to allow select the stage that will enter atmospher, but I haven\u0027t tried yet, and I don\u0027t know if it\u0027s possible with FAR.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2014-11-19T21:09:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Youen\u0022 data-cite=\u0022Youen\u0022\u003E\u003Cdiv\u003EI don\u0027t think using the stock indicators is a good idea (assuming that would be possible), because they already have a meaning, that is different from the meaning of the new ones. But I do agree that the new indicators are ugly, and also they are displayed even when on the hidden side of the navball, which is wrong and misleading.\u003Cp\u003EAs you stated, the correction indicator is just a hint : it is only relative to the distance of the impact point relatively to the target. So it doesn\u0027t account for any aerodynamic feature of the craft, it just assumes that pulling up will make you go farther (I\u0027m sure it\u0027s plain wrong for some craft designs, but it should help with most planes). It should be replaced by some kind of arrow though. The other indicator just represents how the descent profile is configured, so if you follow it, you should follow the displayed trajectory (but chances are you will slowly drift over time, which is why the correction indicator is there).\u003C/p\u003E\u003Cp\u003EAbout calculating maneuver nodes, I wanted to follow the original game philosophy instead, which is to show you what will happen after the maneuver, but not tell you how you should modify it, which is quite efficient at making you learn orbital mechanics. The mod is not an autopilot either. These are interesting features though, but maybe for another mod.\u003C/p\u003E\u003Cp\u003EI use Verlet integration. It can probably be improved, but concerning accuracy I\u0027m more concerned about the correctness of aerodynamic forces computations. It\u0027s hard to tell though.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for prompt reply.\u003C/p\u003E\u003Cp\u003EVerlet algorithm is second order, so there is room for improvement, which could theoretically result in faster prediction updates for the same level of accuracy (though 4th Order Runge-Kutta is a pain to implement). \u003C/p\u003E\u003Cp\u003EWhat do you mean you are more concerned about correctness of aerodynamic force computations-- you think you are using these forces incorrectly (unsure if you implemented it right) or that accuracy of prediction is much better than ability of user/pilot to maintain required AoA anyway (so why bother improving accuracy/speed of prediction)?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-19T21:14:07Z\u0022 title=\u002211/19/2014 09:14  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 19, 2014\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"}]}