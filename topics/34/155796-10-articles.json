{"TopicId":155796,"ForumId":34,"TopicTitle":"[KSP 1.10.0] Kerbal Simpit: A KSP serial mod for hardware controllers (1.4.1)","CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-01-30T17:07:07Z","PageNum":10,"Articles":[{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-26T15:05:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529190\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548503224\u0022 data-ipsquote-userid=\u0022188621\u0022 data-ipsquote-username=\u0022Codapop\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Codapop said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI believe Simpit expects 16-bit integers:\u00A0-32768 to 32767.\u003Cbr\u003E\u003Cbr\u003E\nSo 0 on throttle\u00A0is -32768, and 100% throttle is 32767. For rotation/translation it should still use the same intregers, but the program would interpret them differently (like -32768 is all the way left and 32767 is all the way right). When using Arduino, you map the input from the potentiometer to those integers. So the potentiometer reads a voltage, arduino reads that voltage as being somewhere between 0 and 1023, and then it gets mapped relative to -32768 and 32767 and then sent to Simpit.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGot throttling working. Judging from my tests I think zero throttle is 0 and full throttle is 32767. Maybe that\u0027s the reason why you ( @\u003Cspan\u003Ecodapop \u003C/span\u003E) need to read 1/3 minimum? Because if I remember correctly 1/3 on a logarithmic poti is half the resistance.\n\u003C/p\u003E\n\u003Cp\u003E\nAttitude is still not working. I think I also don\u0027t now how to write a correct rotationMessage.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-26T21:06:58Z\u0022 title=\u002201/26/2019 09:06  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 26, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-26T19:07:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223527977\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548337207\u0022 data-ipsquote-userid=\u0022188621\u0022 data-ipsquote-username=\u0022Codapop\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003EOn 1/24/2019 at 2:40 PM, Codapop said:\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003EAlso, I still can\u0027t seem to get rotation messages to work properly. I\u0027m using this:\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nrotationMessage myRotation;\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(ROTATION_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\n  myRotation.pitch = pitchR;\n  mySimpit.send(ROTATION_MESSAGE, myRotation);\n  delay(1);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003EI tried making some various changes to reflect the discussion above, but the information is sorta randomly talked about and difficult for me to understand with my limited coding knowledge. Can you please give a short example of how to write a proper rotation message?\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003EHey.\u003C/p\u003E\n\u003Cp\u003EI looked at the struct for rotation message and found what we forgot. You need to set the bitmask in the rotationmessage:\u003C/p\u003E\n\u003Cp\u003EmyRotation.mask = 1; if you want to send pitch.\u003C/p\u003E\n\u003Cp\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 = 2; if you want to send yaw.\u003C/p\u003E\n\u003Cp\u003E\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 = 4; if you want to send roll.\u003C/p\u003E\n\u003Cp\u003EOr in my case = 7; That\u0027s all bits combined.\u003C/p\u003E\n\u003Cp\u003EOr you can use = 5; for pitch and roll.\u003C/p\u003E\n\u003Cp\u003E\u00A0\u003C/p\u003E\n\u003Cp\u003ESimilar with myTranslation.mask\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-26T21:03:52Z","Content":"\n\u003Cp\u003E\nRegarding \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Modes. I do this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0 mySimpit.registerChannel(SAS_MODE_MESSAGE);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nmySimpit.send(SAS_MODE_MESSAGE, AP_RADIALIN);\n\u003C/p\u003E\n\u003Cp\u003E\nmySimpit.setSASMode(AP_RADIALIN);\n\u003C/p\u003E\n\u003Cp\u003E\n...both ways don\u0027t work for me. Obviously I\u0027m missing something there. Anyone have an idea?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFound this in Helpers.cpp:\u003Cbr\u003E\nvoid KerbalSimpit::setSASMode(byte mode)\u003Cbr\u003E\n{\u003Cbr\u003E\n\u00A0 send(SAS_MODE_MESSAGE, \u0026amp;mode, 1);\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nVery odd, because me using it like this causes compiler errors.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-26T22:04:32Z\u0022 title=\u002201/26/2019 10:04  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 26, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003Ebeing more polite\n\u003C/span\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2019-01-27T13:43:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529237\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548515125\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n22 hours ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGot throttling working. Judging from my tests I think zero throttle is 0 and full throttle is 32767. Maybe that\u0027s the reason why you ( @\u003Cspan\u003Ecodapop \u003C/span\u003E) need to read 1/3 minimum? Because if I remember correctly 1/3 on a logarithmic poti is half the resistance.\n\u003C/p\u003E\n\u003Cp\u003E\nAttitude is still not working. I think I also don\u0027t now how to write a correct rotationMessage.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, that fixed it! Thank you very much.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOk, so both throttle and rotation are working perfectly for me. Here\u0027s my code in case you or anyone needs it:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EROTATION\n\n#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nrotationMessage myRotation;\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(ROTATION_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\n  // Set myRotation.mask to 7 for pitch\u002Byaw\u002Broll, 1 for only pitch.\n  myRotation.mask = 1;\n  myRotation.pitch = pitchR;\n  mySimpit.send(ROTATION_MESSAGE, myRotation);\n  delay(1);\n}\n\nTHROTTLE\n\n#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(THROTTLE_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int throttle = map(pitchRead, 0, 1023, 0, 32767);\n  mySimpit.send(THROTTLE_MESSAGE, throttle);\n  delay(1);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI went ahead and downloaded the latest version of the arduino library to try to help work through the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode problem, and I had the same luck as you. mySimpit.send(SAS_MODE_MESSAGE, AP_PROGRADE); resulted in a compiling error. mySimpit.setSASMode(AP_PROGRADE); compiles fine but doesn\u0027t work in game, though the LED on my arduino shows it\u0027s sending properly.\n\u003C/p\u003E\n\u003Cp\u003E\nMy guess is there\u0027s an issue between the arduino library and the mod itself. You may be able to download the latest version of Simpit and see if it works (not off \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E but whereever new releases are kept), or perhaps Stibbons still needs to upload it.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-28T10:13:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529765\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548596629\u0022 data-ipsquote-userid=\u0022188621\u0022 data-ipsquote-username=\u0022Codapop\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Codapop said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI went ahead and downloaded the latest version of the arduino library to try to help work through the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode problem, and I had the same luck as you. mySimpit.send(SAS_MODE_MESSAGE, AP_PROGRADE); resulted in a compiling error. mySimpit.setSASMode(AP_PROGRADE); compiles fine but doesn\u0027t work in game, though the LED on my arduino shows it\u0027s sending properly.\n\u003C/p\u003E\n\u003Cp\u003E\nMy guess is there\u0027s an issue between the arduino library and the mod itself. You may be able to download the latest version of Simpit and see if it works (not off \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E but whereever new releases are kept), or perhaps Stibbons still needs to upload it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nmySimpit.send(SAS_MODE_MESSAGE, AP_PROGRADE) does compile for me. But in Helpers.cpp it\u0027s\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 send(SAS_MODE_MESSAGE, \u0026amp;mode, 1);\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 -\u0026gt; no matching function for call to \u0027KerbalSimpit::send(InboundPackets, AutopilotMode\u0026amp;, int)\u0027\n\u003C/p\u003E\n\u003Cp\u003E\nSo, the 1 is the message size [byte], like in\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 mySimpit.send(THROTTLE_MESSAGE, (unsigned char*) \u0026amp;throttle, 2);\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 (Why is it detected as byte and not as int ?)\n\u003C/p\u003E\n\u003Cp\u003E\nThen I defined it as byte and did some bit manipulation, but it still doesn\u0027t compile.\u00A0\u00A0 -\u0026gt; no matching function for call to \u0027KerbalSimpit::send(InboundPackets, AutopilotMode\u0026amp;, byte\u0026amp;)\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EI think today is a day to not think about arrays and/or pointers. Sometimes this is very confusing.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd like always everything becomes clear after a minute not thinking about it. That\u0027s compileable:\n\u003C/p\u003E\n\u003Cp\u003E\nmySimpit.send(SAS_MODE_MESSAGE,\u00A0 (unsigned char*) \u0026amp;mySASMode, 1);\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLike with throttle of course.\n\u003C/p\u003E\n\u003Cp\u003E\nBut KSP doesn\u0027t set \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E commands.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAaaaand Arduino library is at 1.1.5 using the IDE. But here (\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit-arduino/commits/all\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit-arduino/commits/all\u003C/a\u003E) the latest version is 1.2.1\n\u003C/p\u003E\n\u003Cp\u003E\nSo I downloaded the library here (\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit-arduino/downloads/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit-arduino/downloads/)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut the arduino IDE still thinks Simpit is at 1.1.5 and there\u0027s no possibility to upgrade to 1.2.1\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E, do you have a clue what\u0027s happening there?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-28T10:29:19Z\u0022 title=\u002201/28/2019 10:29  AM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 28, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003EMe not thinkng properly\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-28T12:29:55Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022188621\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0022 rel=\u0022\u0022\u003E@Codapop\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSolved it.\n\u003C/p\u003E\n\u003Cp\u003E\nSAS_MODE_MESSAGE has to be 28 .\n\u003C/p\u003E\n\u003Cp\u003E\nI found the commit that causes this (\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/commits/232b15304532b5e9676671f657d34521c2d4876b\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/commits/232b15304532b5e9676671f657d34521c2d4876b)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI suppose that is for sane continuation of message-numbering but I suspect the KSP Simpit Plugin (1.3.0.64) still listens to \u0022channel 28\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis works:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 mySimpit.send(28,\u00A0 (unsigned char*) \u0026amp;mySASMode, 1);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: But doesn\u0027t work correctly. Entered a pull request to fix it. On my machine it fixes it but the helper function is still not working.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-29T18:41:41Z\u0022 title=\u002201/29/2019 06:41  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 29, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"funkheld","CreatedById":174450,"CreatedDateTime":"2019-02-01T13:57:06Z","Content":"\n\u003Cp\u003E\n-\n\u003C/p\u003E\n\u003Cp\u003E\nhello good day.\n\u003C/p\u003E\n\u003Cp\u003E\nthe errormeldung from : KerbalSimpitHelloWorld.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nGreeting\n\u003C/p\u003E\n\u003Cp\u003E\n----------------------------------------------------------------------------------------------------\n\u003C/p\u003E\n\u003Cp\u003E\nArduino: 1.6.8 (Windows 10), Board: \u0022Arduino/Genuino Mega or Mega 2560, ATmega2560 (Mega 2560)\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nC:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\examples\\KerbalSimpitHelloWorld\\KerbalSimpitHelloWorld.ino: In function \u0027void loop()\u0027:\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalSimpitHelloWorld:51: error: invalid conversion from \u0027const char*\u0027 to \u0027byte* {aka unsigned char*}\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0mySimpit.send(ECHO_REQ_MESSAGE, \u0022low\u0022, 4);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0^\n\u003C/p\u003E\n\u003Cp\u003E\nIn file included from C:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\examples\\KerbalSimpitHelloWorld\\KerbalSimpitHelloWorld.ino:11:0:\n\u003C/p\u003E\n\u003Cp\u003E\nC:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\src/KerbalSimpit.h:72:8: error: \u00A0 initializing argument 2 of \u0027void KerbalSimpit::send(byte, byte*, byte)\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0void send(byte messageType, byte msg[], byte msgSize);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 ^\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalSimpitHelloWorld:53: error: invalid conversion from \u0027const char*\u0027 to \u0027byte* {aka unsigned char*}\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0mySimpit.send(ECHO_REQ_MESSAGE, \u0022high\u0022, 5);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 ^\n\u003C/p\u003E\n\u003Cp\u003E\nIn file included from C:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\examples\\KerbalSimpitHelloWorld\\KerbalSimpitHelloWorld.ino:11:0:\n\u003C/p\u003E\n\u003Cp\u003E\nC:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\src/KerbalSimpit.h:72:8: error: \u00A0 initializing argument 2 of \u0027void KerbalSimpit::send(byte, byte*, byte)\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0void send(byte messageType, byte msg[], byte msgSize);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 ^\n\u003C/p\u003E\n\u003Cp\u003E\nC:\\Users\\pebi\\Documents\\Arduino\\libraries\\kerbalsimpit-arduino\\examples\\KerbalSimpitHelloWorld\\KerbalSimpitHelloWorld.ino: In function \u0027void messageHandler(byte, byte*, byte)\u0027:\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalSimpitHelloWorld:70: error: invalid conversion from \u0027byte* {aka unsigned char*}\u0027 to \u0027const char*\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0if (strcmp(msg, \u0022low\u0022)) {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 ^\n\u003C/p\u003E\n\u003Cp\u003E\nIn file included from F:\\Arduino\\hardware\\arduino\\avr\\cores\\arduino/Arduino.h:25:0,\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0from sketch\\KerbalSimpitHelloWorld.ino.cpp:1:\n\u003C/p\u003E\n\u003Cp\u003E\nf:\\arduino\\hardware\\tools\\avr\\avr\\include\\string.h:125:12: error: \u00A0 initializing argument 1 of \u0027int strcmp(const char*, const char*)\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0extern int strcmp(const char *, const char *) __ATTR_PURE__;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 ^\n\u003C/p\u003E\n\u003Cp\u003E\nexit status 1\u003Cbr\u003E\ninvalid conversion from \u0027const char*\u0027 to \u0027byte* {aka unsigned char*}\u0027 [-fpermissive]\n\u003C/p\u003E\n\u003Cp\u003E\n---------------------------------------------------------------------------------------------\n\u003C/p\u003E\n\u003Cp\u003E\nDieser Bericht w\u00E4re detaillierter, wenn die Option\u003Cbr\u003E\n\u0022Ausf\u00FChrliche Ausgabe w\u00E4hrend der Kompilierung\u0022\u003Cbr\u003E\nin Datei -\u0026gt; Voreinstellungen aktiviert w\u00E4re.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nthis command is different than in the description.\u003Cbr\u003E\nKerbalSimpitAltitudeTrigger.ino\u00A0\u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nvoid messageHandler(byte messageType, byte msg[], byte msgSize) {\u003Cbr\u003E\n\u00A0 switch(messageType) {\u003Cbr\u003E\n\u00A0 case ALTITUDE_MESSAGE:\u003Cbr\u003E\n........\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://kerbalsimpit-arduino.readthedocs.io/en/stable/quickstart.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalsimpit-arduino.readthedocs.io/en/stable/quickstart.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#902000;\u0022\u003Evoid\u003C/span\u003E \u003Cspan style=\u0022color:#06287e;\u0022\u003EmyCallbackHandler\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003Ebyte\u003C/span\u003E \u003Cspan\u003EmessageType\u003C/span\u003E\u003Cspan\u003E,\u003C/span\u003E \u003Cspan\u003Ebyte\u003C/span\u003E \u003Cspan\u003Emesesage\u003C/span\u003E\u003Cspan\u003E[],\u003C/span\u003E \u003Cspan\u003Ebyte\u003C/span\u003E \u003Cspan\u003EmessageSize\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E \u003Cspan\u003E{\u003C/span\u003E \u003Cspan style=\u0022color:#007020;\u0022\u003Eswitch\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003EmessageType\u003C/span\u003E\u003Cspan\u003E)\u003C/span\u003E \u003Cspan\u003E{\u003C/span\u003E \u003Cspan style=\u0022color:#007020;\u0022\u003Ecase\u003C/span\u003E \u003Cspan style=\u0022color:#002070;\u0022\u003EALTITUDE_MESSAGE\u003C/span\u003E\u003Cspan\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EGreeting\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"YuppeeMusings","CreatedById":195191,"CreatedDateTime":"2019-02-02T04:21:32Z","Content":"\n\u003Cp\u003E\nHey Fellow Tinkers,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been lurking for awhile and jumped in to building my own controller a couple weeks back. Gotten staging and action groups going no problem. Tonight I\u00A0set up two four axis joysticks, which worked with a bit of helped from past posts. However, i\u0027m having trouble setting a deadzone (or some sort of restraint that limits the input until its reach a certain threshold, one way or another). Currently the crafts end up fairly unstable (basically spinning faster and faster until its out of control in orbit...) as I believe the Joysticks may be providing a slightly\u00A0off centre inut when nothing is pressed. I\u0027m super excited to keep going with this build so I\u0027d really appreciate some insights as to how to get this sorted out. Thanks in advance and thanks so much for all the inspiration! I never would\u0027ve thought i could\u0027ve done this two months ago.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n#include \u0022KerbalSimpit.h\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nKerbalSimpit mySimpit(Serial);\n\u003C/p\u003E\n\u003Cp\u003E\nrotationMessage myRotation;\u003Cbr\u003E\ntranslationMessage myTranslation;\n\u003C/p\u003E\n\u003Cp\u003E\nvoid setup() {\u003Cbr\u003E\n\u00A0 Serial.begin(115200);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 pinMode(LED_BUILTIN, OUTPUT);\u003Cbr\u003E\n\u00A0 digitalWrite(LED_BUILTIN, HIGH);\u003Cbr\u003E\n\u00A0 while (!mySimpit.init()) {delay(100);}\u003Cbr\u003E\n\u00A0 digitalWrite(LED_BUILTIN, LOW);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 mySimpit.registerChannel(ROTATION_MESSAGE);\u003Cbr\u003E\n\u00A0 mySimpit.registerChannel(TRANSLATION_MESSAGE);\u003Cbr\u003E\n\u00A0 \u00A0 // This loop continually attempts to handshake with the plugin.\u003Cbr\u003E\n\u00A0 // It will keep retrying until it gets a successful handshake.\u003Cbr\u003E\n\u00A0 while (!mySimpit.init()) {\u003Cbr\u003E\n\u00A0 \u00A0 delay(100);\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\n\u00A0 // Turn off the built-in LED to indicate handshaking is complete.\u003Cbr\u003E\n\u00A0 digitalWrite(LED_BUILTIN, LOW);\u003Cbr\u003E\n}\u003Cbr\u003E\n\u00A0 \u00A0\u00A0\u003Cbr\u003E\nvoid loop() {\u003Cbr\u003E\n//ROTATION//\u003Cbr\u003E\n\u00A0 //Pitch - Back and Forward on Joystick//\u003Cbr\u003E\n\u00A0 int pitchRead = analogRead(A0);\u003Cbr\u003E\n\u00A0 int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myRotation.mask = 1;\u003Cbr\u003E\n\u00A0 myRotation.pitch = pitchR;\u003Cbr\u003E\n\u00A0 mySimpit.send(ROTATION_MESSAGE, myRotation);\u003Cbr\u003E\n\u00A0 delay(1);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 //Yaw - Side to Side on Joystick//\u003Cbr\u003E\n\u00A0 \u00A0 int yawRead = analogRead(A1);\u003Cbr\u003E\n\u00A0 int yawR = map(yawRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myRotation.mask = 4;\u003Cbr\u003E\n\u00A0 myRotation.yaw = yawR;\u003Cbr\u003E\n\u00A0 mySimpit.send(ROTATION_MESSAGE, myRotation);\u003Cbr\u003E\n\u00A0 delay(1);\u003Cbr\u003E\n\u00A0\u00A0\u003Cbr\u003E\n//Roll - Twist Joystick//\u003Cbr\u003E\n\u00A0 int rollRead = analogRead(A2);\u003Cbr\u003E\n\u00A0 int rollR = map(rollRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myRotation.mask = 2;\u003Cbr\u003E\n\u00A0 myRotation.roll = rollR;\u003Cbr\u003E\n\u00A0 mySimpit.send(ROTATION_MESSAGE, myRotation);\u003Cbr\u003E\n\u00A0 delay(1);\n\u003C/p\u003E\n\u003Cp\u003E\n//TRANSLATION//\u003Cbr\u003E\n\u00A0 //X - XX//\u003Cbr\u003E\n\u00A0 int XRead = analogRead(A3);\u003Cbr\u003E\n\u00A0 int XR = map(XRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myTranslation.mask = 1;\u003Cbr\u003E\n\u00A0 myTranslation.X = XR;\u003Cbr\u003E\n\u00A0 mySimpit.send(TRANSLATION_MESSAGE, myTranslation);\u003Cbr\u003E\n\u00A0 delay(1);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 //Y - YY//\u003Cbr\u003E\n\u00A0 \u00A0 int YRead = analogRead(A4);\u003Cbr\u003E\n\u00A0 int YR = map(YRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myTranslation.mask = 4;\u003Cbr\u003E\n\u00A0 myTranslation.Y = yawR;\u003Cbr\u003E\n\u00A0 mySimpit.send(TRANSLATION_MESSAGE, myTranslation);\u003Cbr\u003E\n\u00A0 delay(1);\u003Cbr\u003E\n\u00A0\u00A0\u003Cbr\u003E\n//Z - ZZ//\u003Cbr\u003E\n\u00A0 int ZRead = analogRead(A5);\u003Cbr\u003E\n\u00A0 int ZR = map(ZRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myTranslation.mask = 2;\u003Cbr\u003E\n\u00A0 myTranslation.Z = ZR;\u003Cbr\u003E\n\u00A0 mySimpit.send(TRANSLATION_MESSAGE, myTranslation);\u003Cbr\u003E\n\u00A0 delay(1);\u003Cbr\u003E\n}\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2019-02-02T06:11:48Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195191-yuppeemusings/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022195191\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195191-yuppeemusings/\u0022 rel=\u0022\u0022\u003E@YuppeeMusings\u003C/a\u003E have you tried testing the joysticks on their own, without ksp? I would advise looking at directly printing the value of each of the axis, one at a time to the ide terminal and seeing how the values behave. That way, we can eliminate all the other potential variables that ksp introduces, and only work with the bare minimum of variables.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-02-02T08:21:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223533386\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549081292\u0022 data-ipsquote-userid=\u0022195191\u0022 data-ipsquote-username=\u0022YuppeeMusings\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, YuppeeMusings said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey Fellow Tinkers,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been lurking for awhile and jumped in to building my own controller a couple weeks back. Gotten staging and action groups going no problem. Tonight I\u00A0set up two four axis joysticks, which worked with a bit of helped from past posts. However, i\u0027m having trouble setting a deadzone (or some sort of restraint that limits the input until its reach a certain threshold, one way or another). Currently the crafts end up fairly unstable (basically spinning faster and faster until its out of control in orbit...) as I believe the Joysticks may be providing a slightly\u00A0off centre inut when nothing is pressed. I\u0027m super excited to keep going with this build so I\u0027d really appreciate some insights as to how to get this sorted out. Thanks in advance and thanks so much for all the inspiration! I never would\u0027ve thought i could\u0027ve done this two months ago.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0\u00A0\u003Cbr\u003E\nvoid loop() {\u003Cbr\u003E\n//ROTATION//\u003Cbr\u003E\n\u00A0 //Pitch - Back and Forward on Joystick//\u003Cbr\u003E\n\u00A0 int pitchRead = analogRead(A0);\u003Cbr\u003E\n\u00A0 int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\u003Cbr\u003E\n\u00A0 myRotation.mask = 1;\u003Cbr\u003E\n\u00A0 myRotation.pitch = pitchR;\u003Cbr\u003E\n\u00A0 mySimpit.send(ROTATION_MESSAGE, myRotation);\u003Cbr\u003E\n\u00A0 delay(1);\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMy deadband-applying-code looks like this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n#define DEADBAND 1500\n\u003C/p\u003E\n\u003Cp\u003E\nif(abs(pitchR) - DEADBAND \u0026lt; 0)\u003Cbr\u003E\n\u00A0\u00A0\u00A0 pitchR = 0;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t be alarmed by the \u0022large\u0022 number. 1500 is about 5%. You can put right after mapping.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-02T08:22:13Z\u0022 title=\u002202/02/2019 08:22  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 2, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"funkheld","CreatedById":174450,"CreatedDateTime":"2019-02-02T09:06:39Z","Content":"\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nthrottle = map(pitchRead, 0, 1023, 0, 32767);\n\u003C/p\u003E\n\u003Cp\u003E\nwhat does this table mean?\u003Cbr\u003E\nI want to set the trottle with it.\u003Cbr\u003E\nit does not work.\u003Cbr\u003E\nthe word of A0 is 23-1017.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-02T09:09:02Z\u0022 title=\u002202/02/2019 09:09  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 2, 2019\u003C/time\u003E by funkheld\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-02-02T09:48:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223533459\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549098399\u0022 data-ipsquote-userid=\u0022174450\u0022 data-ipsquote-username=\u0022funkheld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, funkheld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nthrottle = map(pitchRead, 0, 1023, 0, 32767);\n\u003C/p\u003E\n\u003Cp\u003E\nwhat does this table mean?\u003Cbr\u003E\nI want to set the trottle with it.\u003Cbr\u003E\nit does not work.\u003Cbr\u003E\nthe word of A0 is 23-1017.\u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP expects throttle values from 0 to 32767.\n\u003C/p\u003E\n\u003Cp\u003E\nWith map(value, fromLow, fromHigh, toLow, toHigh) you can span or reduce ranges.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf your readings at A0 give values between 23-1017 you can use the map like this:\n\u003C/p\u003E\n\u003Cp\u003E\nthrottle = map(throttleRead, 23, 1017, 0, 32767);\n\u003C/p\u003E\n\u003Cp\u003E\n-\u0026gt; 23 gets mapped to 0\n\u003C/p\u003E\n\u003Cp\u003E\n-\u0026gt; 1017 gets mapped to 32767\n\u003C/p\u003E\n\u003Cp\u003E\n-\u0026gt; Values in between are mapped linearly.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI would advice using it like this:\n\u003C/p\u003E\n\u003Cp\u003E\nThis way you get a little deadband to be sure you can reach \u0022zero throttle\u0022 and \u0022full throttle\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nthrottle = map(throttleRead, 40, 1000, 0, 32767)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003Eif (throttle \u0026gt; 32767) {\u003Cbr\u003E\n\u00A0\u00A0\u00A0 throttle = 32767;\u003Cbr\u003E\n\u00A0 }\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMore elegant: \u00A0 throttle = constrain(throttle, 0, 32767);\n\u003C/p\u003E\n\u003Cp\u003E\nSending throttle over 100% to KSP sets it to zero. (It\u0027s not KSP\u0027s fault, just the way integers work.)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223533459\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549098399\u0022 data-ipsquote-userid=\u0022174450\u0022 data-ipsquote-username=\u0022funkheld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, funkheld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nthrottle = map(pitchRead, 0, 1023, 0, 32767);\n\u003C/p\u003E\n\u003Cp\u003E\nwhat does this table mean?\u003Cbr\u003E\nI want to set the trottle with it.\u003Cbr\u003E\nit does not work.\u003Cbr\u003E\nthe word of A0 is 23-1017.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOhh. Is this intentional? Reading your \u0022pitchPin\u0022 to control throttle?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-02T10:09:11Z\u0022 title=\u002202/02/2019 10:09  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 2, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003EA bit sloppy today...\n\u003C/span\u003E\n"},{"CreatedByName":"funkheld","CreatedById":174450,"CreatedDateTime":"2019-02-02T11:36:04Z","Content":"\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nI wanted to stop the trottle with A0.\u003Cbr\u003E\nHow is that possible?\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-02-02T13:04:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223533487\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549107364\u0022 data-ipsquote-userid=\u0022174450\u0022 data-ipsquote-username=\u0022funkheld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, funkheld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi good afternoon.\u003Cbr\u003E\nI wanted to stop the trottle with A0.\u003Cbr\u003E\nHow is that possible?\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI took the Staging demo and changed it a bit:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#include \u0022KerbalSimpit.h\u0022\n\n// constants won\u0027t change. They\u0027re used here to\n// set pin numbers:\nconst int potiThrottle = A0;// the number of the poti pin\nconst int ledPin = 13;      // the number of the LED pin\n\n// Variables will change:\nint ledState = HIGH;         // the current state of the output pin\n\n\n// Declare a KerbalSimpit object that will\n// communicate using the \u0022Serial\u0022 device.\nKerbalSimpit mySimpit(Serial);\n\nvoid setup() {\n  // Open the serial connection.\n  Serial.begin(115200);\n\n  // Set initial pin states, and turn on the LED\n  pinMode(potiThrottle, INPUT);\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(ledPin, HIGH);\n\n  // This loop continually attempts to handshake with the plugin.\n  // It will keep retrying until it gets a successful handshake.\n  while (!mySimpit.init()) {\n    delay(100);\n  }\n  // Turn off the built-in LED to indicate handshaking is complete.\n  digitalWrite(LED_BUILTIN, LOW);\n\n  //register the throttle channel\n  mySimpit.registerChannel(THROTTLE_MESSAGE);\n}\n\nvoid loop() {\n  // Read the state of the poti into a local variable.\n  int reading = analogRead(potiThrottle);\n\n  //map it to a range KSP likes\n  reading = map(reading, 23, 1017, 0, 32767);\n\n  //sending it to the plugin\n  mySimpit.send(THROTTLE_MESSAGE, (unsigned char*) \u0026amp;reading, 2);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"funkheld","CreatedById":174450,"CreatedDateTime":"2019-02-02T13:37:34Z","Content":"\n\u003Cp\u003E\nhello thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nis\u00A0\u00A0ok.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ngreeting\n\u003C/p\u003E\n"},{"CreatedByName":"YuppeeMusings","CreatedById":195191,"CreatedDateTime":"2019-02-03T20:39:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223533448\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549095691\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/2/2019 at 3:21 AM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy deadband-applying-code looks like this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n#define DEADBAND 1500\n\u003C/p\u003E\n\u003Cp\u003E\nif(abs(pitchR) - DEADBAND \u0026lt; 0)\u003Cbr\u003E\n\u00A0\u00A0\u00A0 pitchR = 0;\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t be alarmed by the \u0022large\u0022 number. 1500 is about 5%. You can put right after mapping.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you! Popping this in and playing around with the deadband figure worked beautifully.\n\u003C/p\u003E\n"},{"CreatedByName":"Wurmi","CreatedById":103740,"CreatedDateTime":"2019-02-05T18:55:31Z","Content":"\n\u003Cp\u003E\nI tried to rebuild my working controller to this simpit plugin.\u00A0\u00A0\u003Ca href=\u0022https://www.reddit.com/r/KerbalControllers/comments/ai1gyw/finally_my_controller_is_done/\u0022 rel=\u0022external nofollow\u0022\u003ELink to my controller\u003C/a\u003E\u003Cbr\u003E\nAll the controlls work well so far. I just dont get the displays to work well. Seems they just start to crash and get crazy and i don\u00B4t know why.\n\u003C/p\u003E\n\u003Cp\u003E\nFor someone who need a bit code example on how to use controlls, I\u00A0uploaded the code here.\u003Cbr\u003E\u003Ca href=\u0022https://github.com/Richi0D/KerbalController-Simpit\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Richi0D/KerbalController-Simpit\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2019-02-21T14:36:53Z","Content":"\n\u003Cp\u003E\nI\u0027m still in the process of working out who I want to implement my console and comparing the two options of SimPit and KSPSerialIO.\u003Cbr\u003E\u003Cbr\u003E\nI\u0027ve tested and\u00A0\u0027get\u0027 the\u00A0KSPSerialIO process and think I understand it\u0027s pros and cons. I can see how I can take a fork, rewrite the protocol for what I want on my console and what I\u0027d need to grab the data. It is a firehose solution though, in that you\u0027re sending the data all the time in that main packet to the microcontroller. I very much like the idea proposed by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003Eand was keen to test it out.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still in the process of reading through the details of this thread (page 5 at the moment) So far I\u0027m liking what I\u0027m reading. I\u0027m going for an analog cockpit so having the ability to just the activate and deactivate actions is great.\n\u003C/p\u003E\n\u003Cp\u003E\nI recently tried the Simpit helloworld script and installed on a Teensy3.6 and I can\u0027t get it past the \u0022 while (!mySimpit.init());\u0022 handshake step.I had to dump everything in the loop due to various errors regarding type conversion with byte \u0026amp; char, but that\u0027s all fixable later. I just wanted to test the connection.\u003Cbr\u003E\nI know the Wiki says it\u0027s not working for a Teensy 3.2 on MacOS, but is this likely a similar problem? For reference, I\u0027m on Win10 Home, TeensyDuino 1.44, Arduino 1.87,\u00A0 - Teensy 3.6 Hardware.\n\u003C/p\u003E\n\u003Cp\u003E\nSeparate related request. In setting up the Teensy, I had an issue where the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E port would disappear. Now this was the Teensyduino software 1.41 fault, not KSP,. So no need to troubleshoot. I updated to 1.44 and that problem went away,\u00A0but it occurred to me to suggest\u00A0adding\u00A0error detection when Simpit looses the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E port. In the current version, when the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E port disappears, after about 10 seconds of log spam the Simpit mod dies hard and KSP crashes in sympathy. ie \u0022KSP is not responding\u0022 windows dialog box.\n\u003C/p\u003E\n\u003Cp\u003E\nNote: I\u0027m happy to debug / test options if there is any interest in another tester \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-22T02:59:46Z\u0022 title=\u002202/22/2019 02:59  AM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 22, 2019\u003C/time\u003E by wile1411\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2019-02-22T14:05:14Z","Content":"\n\u003Cp\u003E\nWow - that was some testing. Had\u00A0good long two attempts at over the last few days and was rewarded with this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/12QJMvq.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u002212QJMvql.png\u0022 class=\u0022ipsImage\u0022 height=\u0022400\u0022 src=\u0022https://i.imgur.com/12QJMvql.png\u0022 width=\u0022640\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022https://i.imgur.com/9sfGMlf.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00229sfGMlfl.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022360\u0022 src=\u0022https://i.imgur.com/9sfGMlfl.jpg\u0022 width=\u0022640\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve managed to get blinking LED13\u00A0on both an Arduino Uno and Teensy 3.6 using the helloworld test script. Couple of caveats I had to do to work around some ..issues.\n\u003C/p\u003E\n\u003Cp\u003E\nI still can\u0027t get either board to handshake with KSP. I commented out the below line just to see if it would still connect (it was a long shot, but reading the code it\u0027s seemed good odds to work for the test) This allowed the board to move to the loop and keep sending the high/low char string every 100ms.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ewhile (!mySimpit.init())\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nNot sure what\u0027s up with my setup that forced this (it might be to do with the Teensyduino I have installed...) Anyway, I had to recast the low/high message as\u00A0 (byte*)\u00A0to get these lines not to error in the compiler. The compiler kept giving the error:\u00A0\u003Cbr\u003E\u003Cstrong\u003Eno matching function for call to \u0027KerbalSimpit::send(CommonPackets, const char [4], int)\u0027.\u003C/strong\u003E\u003Cbr\u003E\nChecking KerbalSimpit.h I see the send function declared as:\u00A0\u003Cstrong\u003Evoid send(byte messageType, byte msg[], byte msgSize);\u003C/strong\u003E\u003Cbr\u003E\nShould the type conversion from char to byte happen automatically and it\u0027s just not for me? Below was my work around.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E    if (state) {\n      mySimpit.send(ECHO_REQ_MESSAGE, (byte*)\u0022low\u0022, 4);\n    } else {\n      mySimpit.send(ECHO_REQ_MESSAGE, (byte*)\u0022high\u0022, 5);\n    }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe other data type issue that was stopping the helloworld script from compiling was an if statement in the\u00A0messageHandler function. The msg[] variable is set to type \u0022\u003Cstrong\u003Ebyte msg[]\u003C/strong\u003E\u0022 This wasn\u0027t being allowed as the strcmp function expects two (char*) variables to be passed.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EWithin helloworld function messageHandler: \n  void messageHandler(byte messageType, byte msg[], byte msgSize) {\n    if (messageType == ECHO_RESP_MESSAGE) {\n\t  if (strcmp(msg, \u0022low\u0022)) {\n\nWithin string.h that came with the Teensyduino software:\n  int _EXFUN(strncmp,(const char *, const char *, size_t));\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBelow is my workaround to get that past the compiler.\u003Cbr\u003E\nif (strcmp((char*)msg, \u0022low\u0022)) {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCompiler threw a warning regarding \u003Cstrong\u003EKerbalSimpit.cpp\u003C/strong\u003E: In member function \u0027bool KerbalSimpit::init()\u0027:\u00A0Comparison between signed and unsigned integer expressions [-Wsign-compare]\u003Cbr\u003E\n\u00A0 \u00A0for (i=0;\u003Cstrong\u003E i\u0026lt;sizeof(KERBALSIMPIT_VERSION)\u003C/strong\u003E; i\u002B\u002B) {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis one is more for my understanding of the code - so excuse me if it\u0027s a stupid question: Under the \u003Cstrong\u003EKerbalSimpit.cpp\u003C/strong\u003E and then function\u00A0\u003Cstrong\u003Evoid KerbalSimpit::send(byte messageType, byte msg[], byte msgSize)\u00A0\u003C/strong\u003E\u003Cbr\u003E\nThere is this for loop.\u003Cbr\u003E\n\u00A0 for (int x=0; x\u0026lt;msgSize; x\u002B\u002B) {\u003Cbr\u003E\n\u00A0 \u00A0 _serial-\u0026gt;write(*(msg\u002Bx));\u003Cbr\u003E\n\u00A0 }\u003Cbr\u003E\nIf the \u0027bytesize\u0027 variable is passed as a byte, does the \u0027x\u0027 counter var need to be an int? Wouldn\u0027t that also be a byte so the loop evaluation of\u00A0\u0022x\u0026lt;msgSize\u0022 is the same type?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs mentioned in the above post, adding some code to handle the loss of a \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E port (for whatever reason - but usually it seem to be the Microcontroller resetting itself) Maybe when seeing the loss of the object, stop using it in the queue to send messages and still it in a side queue to check for a pulse every 5secs or so. If starts responding again, it can go can be allow to send message in the normal queue. This would go a great way to keeping the game running regardless of what bit of code on the Arduino might cause a dropped connection. The mod already handles reconnect awesomely, but this is only when the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E port hasn\u0027t been dropped.\n\u003C/p\u003E\n\u003Cp\u003E\nTo replicate:\u00A0have a device\u00A0connected (even with just the hellowworld script)\u00A0and then pull the USB out. I\u0027ve seen similar log files already posted on the thread so far, but here\u0027 my screenshot if it helps.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/zL2AzgY.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022zL2AzgYl.png\u0022 class=\u0022ipsImage\u0022 height=\u0022400\u0022 src=\u0022https://i.imgur.com/zL2AzgYl.png\u0022 width=\u0022640\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAll up, glad I got it somewhat working. I need to dig into why it\u0027s not getting through the init function.\n\u003C/p\u003E\n\u003Cp\u003E\nHas anyone done any functions or have a methodology\u00A0to keep an eye on the board buffer being overwhelmed when the speed has been set too fast? I really want to know where my limits are for sending information, whether it be per device, or from KSP in general as I plan to push\u00A0the code as far \u0026amp;\u00A0as fast as I can.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-02-22T14:08:59Z\u0022 title=\u002202/22/2019 02:08  PM\u0022 data-short=\u00225 yr\u0022\u003EFebruary 22, 2019\u003C/time\u003E by wile1411\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"YuppeeMusings","CreatedById":195191,"CreatedDateTime":"2019-03-16T19:24:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223535422\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221549392931\u0022 data-ipsquote-userid=\u0022103740\u0022 data-ipsquote-username=\u0022Wurmi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/5/2019 at 1:55 PM, Wurmi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried to rebuild my working controller to this simpit plugin.\u00A0\u00A0\u003Ca href=\u0022https://www.reddit.com/r/KerbalControllers/comments/ai1gyw/finally_my_controller_is_done/\u0022 rel=\u0022external nofollow\u0022\u003ELink to my controller\u003C/a\u003E\u003Cbr\u003E\nAll the controlls work well so far. I just dont get the displays to work well. Seems they just start to crash and get crazy and i don\u00B4t know why.\n\u003C/p\u003E\n\u003Cp\u003E\nFor someone who need a bit code example on how to use controlls, I\u00A0uploaded the code here.\u003Cbr\u003E\u003Ca href=\u0022https://github.com/Richi0D/KerbalController-Simpit\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Richi0D/KerbalController-Simpit\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103740-wurmi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103740\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103740-wurmi/\u0022 rel=\u0022\u0022\u003E@Wurmi\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003ELove your controller! Saw it on Reddit a few weeks back before you transitioned over to SimPit. Question for you, how did you incorporate\u00A0your arm switch as a function in Simpit? It\u0027s something I ordered the part to do before realizing there wasn\u0027t any obvious way to include the function.\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003ECongrats again on a wicked looking controller!\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Wurmi","CreatedById":103740,"CreatedDateTime":"2019-03-16T22:49:51Z","Content":"\n\u003Cp\u003E\n@\u003Ca data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195191-yuppeemusings/\u0026amp;do=hovercard\u0026amp;referrer=https%253A%252F%252Fforum.kerbalspaceprogram.com%252Findex.php%253F%252Ftopic%252F155796-ksp-151-kerbal-simpit-a-new-ksp-serial-mod-for-hardware-controllers-130%252F%2526page%253D10%2526tab%253Dcomments\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/195191-yuppeemusings/\u0022 style=\u0022background-color:transparent;color:inherit;\u0022 title=\u0022Go to YuppeeMusings\u0027s profile\u0022 rel=\u0022\u0022\u003EYuppeeMusings\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nthanks, i did it inside the arduino code. It is just a simple check. If the arm Switch is on then it will send the stage signal if stage button is pressed, else it will do nothing and ignore the stage button.\n\u003C/p\u003E\n\u003Cp\u003E\nBut i moved forward again to another plugin. Right now i try to do it with KRPC and Python. It\u00A0have much more functionality. I will try to make some touch buttons with the nextion displays, but first i need to get all the controls working.\n\u003C/p\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2019-03-20T16:09:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223561071\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221552764267\u0022 data-ipsquote-userid=\u0022195191\u0022 data-ipsquote-username=\u0022YuppeeMusings\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/17/2019 at 3:24 AM, YuppeeMusings said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103740-wurmi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103740\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103740-wurmi/\u0022 rel=\u0022\u0022\u003E@Wurmi\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003ELove your controller! Saw it on Reddit a few weeks back before you transitioned over to SimPit. Question for you, how did you incorporate\u00A0your arm switch as a function in Simpit? It\u0027s something I ordered the part to do before realizing there wasn\u0027t any obvious way to include the function.\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003ECongrats again on a wicked looking controller!\u00A0\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot sure why you would spend time coding the arm switch when you can just do it mechanically. Just have both the switch and the button complete the same circuit. Like VCC \u0026gt; switch \u0026gt; button \u0026gt; Arduino input pin, with a pull down resistor in there.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can do the same with the precision controls switch by turning it into a voltage divider, as SimPit doesn\u0027t have that functionality either.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-03-20T16:10:42Z\u0022 title=\u002203/20/2019 04:10  PM\u0022 data-short=\u00225 yr\u0022\u003EMarch 20, 2019\u003C/time\u003E by Codapop\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Calyhre","CreatedById":198177,"CreatedDateTime":"2019-06-13T17:46:38Z","Content":"\n\u003Cp\u003E\nDid anyone managed to make it work with 1.7.x? I can\u0027t make any of the examples on my Leonardo connect with Kerbal\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2019-06-14T02:23:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223618122\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221560447998\u0022 data-ipsquote-userid=\u0022198177\u0022 data-ipsquote-username=\u0022Calyhre\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Calyhre said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDid anyone managed to make it work with 1.7.x? I can\u0027t make any of the examples on my Leonardo connect with Kerbal\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t know when the last time any dev work on this was done? I submitted a pull request a while back and am not sure if that has been pulled in yet. I may have a look at this in a week or two when I have some spare time, and see about getting the mod updated.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Inferi101","CreatedById":198263,"CreatedDateTime":"2019-06-17T07:42:30Z","Content":"\n\u003Cp\u003E\nHello fellow Kerbonauts,\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to build a custom controller for ksp\u00A0and found this mod, so i got started.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks to this awesome mod the coding went smooth and really fast i was able to get some action custom action groups, staging, abort, \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E etc. working. so i turned my attention tto controlling the S.A.S. autopilot (prograde, retrograde, target, ...).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo just like in the documentation (\u003Ca href=\u0022https://kerbalsimpit-arduino.readthedocs.io/en/stable/kerbalsimpit.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalsimpit-arduino.readthedocs.io/en/stable/kerbalsimpit.html\u003C/a\u003E) in the case of a button press i wanted to execute this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 mySimpit.setSASMode(AP_PROGRADE);\n\u003C/p\u003E\n\u003Cp\u003E\nwhich gave me compiler errors like theses:\u00A0\u0027class KerbalSimpit\u0027 has no member named \u0027setSASMode\u0027\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAfter searching for a solution i read through the comments here and found the posts\n\u003C/p\u003E\n\u003Cp\u003E\nof benji:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529406\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548536632\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/26/2019 at 10:03 PM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nRegarding \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Modes. I do this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0 mySimpit.registerChannel(SAS_MODE_MESSAGE);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nmySimpit.send(SAS_MODE_MESSAGE, AP_RADIALIN);\n\u003C/p\u003E\n\u003Cp\u003E\nmySimpit.setSASMode(AP_RADIALIN);\n\u003C/p\u003E\n\u003Cp\u003E\n...both ways don\u0027t work for me. Obviously I\u0027m missing something there. Anyone have an idea?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223530202\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548670382\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/28/2019 at 11:13 AM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAaaaand Arduino library is at 1.1.5 using the IDE. But here (\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit-arduino/commits/all\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit-arduino/commits/all\u003C/a\u003E) the latest version is 1.2.1\n\u003C/p\u003E\n\u003Cp\u003E\nSo I downloaded the library here (\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit-arduino/downloads/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit-arduino/downloads/)\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut the arduino IDE still thinks Simpit is at 1.1.5 and there\u0027s no possibility to upgrade to 1.2.1\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E, do you have a clue what\u0027s happening there?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo i checked the lib version and\u00A0saw, that in the arduino IDE the version is still on 1.1.5 and on bitbucket 1.1.3 is available.\n\u003C/p\u003E\n\u003Cp\u003E\nAccording to the commits\u00A0on Bitbucket \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E modes were implemented after 1.1.5, which explaines the compiler error, and there is also versions of 2.0 and 2.1.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo are these versions availeble to download?\n\u003C/p\u003E\n\u003Cp\u003E\nand if i change the code manually according to the commits,\u00A0will this be still compatible to the mod\u00A0downloaded via \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003EcKan\u003C/abbr\u003E?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}