{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":86,"Articles":[{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-29T22:00:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003ESorry if this has already been asked but what does the \u0022^\u0022 symbol mean? I\u0027ve seen it in a few example scripts and have no idea.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is a mathematical operator, meaning the \u003Cem\u003Eexponent\u003C/em\u003E or \u003Cem\u003Eraised to the power of\u003C/em\u003E. See the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Exponentiation\u0022 rel=\u0022external nofollow\u0022\u003EWikipedia article here\u003C/a\u003E. In normal math it would be written as a number with a superscript smaller number next to it, but as not all computers/fonts can do this, the ^ is used instead. \u003C/p\u003E\u003Cp\u003ENormally 2^2 is written as (I hope the picture shows): \u003Cimg src=\u0022http://www4c.wolframalpha.com/Calculate/MSP/MSP1511h59aac15cc1if2h000066d7g8e55iba21f3?MSPStoreType=image/gif\u0026amp;s=53\u0026amp;w=15.\u0026amp;h=18.\u0022 alt=\u0022gif\u0026amp;s=53\u0026amp;w=15.\u0026amp;h=18.\u0022\u003E\u003C/p\u003E\u003Cp\u003E9,81^2 means 9,81 x 9,81 or 96,2361.\u003C/p\u003E\u003Cp\u003E3^3 means \u003Cem\u003E3 raised to the power of 3\u003C/em\u003E, which means 3 x 3 x 3, which equals 27.\u003C/p\u003E\u003Cp\u003E2^8 = 2 x 2 x 2 x 2 x 2 x 2 x 2 x 2 = 256.\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-11-29T22:39:46Z","Content":"\n\u003Cp\u003EThanks Camacha for the great answer, \u002B rep for you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. I\u0027d seen the raised to the power stuff in other scripts but never realised these were one and the same. Hopefully some of these equations will make more sense to me now.\u003C/p\u003E\u003Cp\u003EI\u0027d never realised how maths heavy coding could be. Definitely looking at the whole area of computer coding with a new found level of respect.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-29T22:51:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kass\u0022 data-cite=\u0022Kass\u0022\u003E\u003Cdiv\u003EThanks Camacha\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are welcome. I do my best to help people with the little knowledge I have.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI\u0027d never realised how maths heavy coding could be. Definitely looking at the whole area of computer coding with a new found level of respect.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, math and coding are interwoven, especially when you are coding for something that has to operate according to the laws of physics (which is just applied math). I have picked up my math books again too, as my math was getting a bit rusty and it is a great tool to have, both for fancy kOS projects and in real life. If you understand the fundamentals it is easily applied to pretty much every aspect of life, whether that is engineering, business, personal budgeting or anything else. And I would never have thought I would say this ten years ago, but if you truly engage in it instead of trying to understand the least necessary you can actually have quite some fun with it too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-29T23:00:19Z\u0022 title=\u002211/29/2013 11:00  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 29, 2013\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-30T00:27:41Z","Content":"\n\u003Cp\u003EReally cool plugin: I can\u0027t stop myself from making small programs(for learning the KOS language).\u003C/p\u003E\u003Cp\u003EThe best I have done yet: a rocket that goes up,full throttle, until it reach 3000 meter, after it has reached that altitude, it head to the north(45 degrees above horizon) and cut the engine after 5 seconds.\u003C/p\u003E\u003Cp\u003EI may need to work a little before going in space \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-30T02:15:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022goldenpeach\u0022 data-cite=\u0022goldenpeach\u0022\u003E\u003Cdiv\u003EReally cool plugin: I can\u0027t stop myself from making small programs(for learning the KOS language).\u003Cp\u003EThe best I have done yet: a rocket that goes up,full throttle, until it reach 3000 meter, after it has reached that altitude, it head to the north(45 degrees above horizon) and cut the engine after 5 seconds.\u003C/p\u003E\u003Cp\u003EI may need to work a little before going in space \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt may be better(fuel wise) to wait until 10,000m to start your turn to 45. Though you could start turning in smaller amounts starting at 3000 or so, like 80, 70, 60 etc until 45. \u003C/p\u003E\u003Cp\u003EIt is pretty fun exploring the programming possibilities. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EYou could even write a program to track fuel use and different gravity turns. You could use the log function to record the amount of fuel left at a certain altitude, or how long the fuel lasts and at what altitude it runs out, if your rocket isn\u0027t able to reach full orbit. I forget exactly how it works, but I believe\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elog altitude to fueltrack.\u003Cbr\u003Elog stage:liquidfuel to fueltrack.\u003Cbr\u003Elog missiontime to fueltrack. //I dont think missiontime is the actual variable, I don\u0027t have KSP running atm and I haven\u0027t really checked mission time before so I don\u0027t know if that\u0027s it or not.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBest bet is to check the \u003Ca href=\u0022http://kos.wikia.com/wiki/KOS_Wiki\u0022 rel=\u0022external nofollow\u0022\u003EkOS wiki \u003C/a\u003E and see if you can find something there to help.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T02:26:51Z\u0022 title=\u002211/30/2013 02:26  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-30T02:25:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EIt may be better to wait until 10,000m to start your turn to 45. Though you could start turning in smaller amounts starting at 3000 or so, like 80, 70, 60 etc until 45. \u003Cp\u003EIt is pretty fun exploring the programming possibilities. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt depends on whether you are using FAR or not \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E However, try to make launch programs that do not so much depend on set commands at certain set points, but make them variable according to parameters. That way it is easier to adapt your script to different bodies.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-30T02:31:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EIt depends on whether you are using FAR or not \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E However, try to make launch programs that do not so much depend on set commands at certain set points, but make them variable according to parameters. That way it is easier to adapt your script to different bodies.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is true, about FAR \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E I just assumed starting out and using small programs FAR might not be in play. Same with using the set amounts at certain set points, though yeah, I guess it would be better to do it as you mentioned. I was just going with whats easier for someone starting to learn the ropes so to speak.\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-30T03:27:20Z","Content":"\n\u003Cp\u003EHow can I make an input for the user?\u003C/p\u003E\u003Cp\u003EIs there a way to make that the value of a variable is set by the user without having to edit the program?\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-30T03:33:37Z","Content":"\n\u003Cp\u003Ewith declare parameter you can, but any other user input needs to be done with action groups\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-30T03:37:50Z","Content":"\n\u003Cp\u003EWhat do I have to do?\u003C/p\u003E\u003Cp\u003Edeclare x. ?\u003C/p\u003E\n"},{"CreatedByName":"Draft","CreatedById":72633,"CreatedDateTime":"2013-11-30T04:01:02Z","Content":"\n\u003Cp\u003Ethe command includes the \u0027parameter\u0027. So a file named test with\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EDECLARE PARAMETER X.\u003Cbr\u003EPRINT X.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E, if called with RUN test(5). would then print 5.\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-30T04:04:25Z","Content":"\n\u003Cp\u003EOk,tank you!\u003C/p\u003E\u003Cp\u003EI will try that when I will be able to make code that do what I want the to do(I have done a few, but as soon as i try a more complex code(like making a code that keep a rocekt at a constant speed(assuming that the rocket stay vertical)) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-30T04:21:20Z","Content":"\n\u003Cp\u003Econstant velocity is really tricky! you need to mess with drag, gravity and thrust, and if you\u0027re using FAR it\u0027s even harder \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003ENot sure why you would want constant vel though, unless you are in space (which means a circular orbit)\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-11-30T10:13:26Z","Content":"\n\u003Cp\u003EI\u0027ve found that constant velocity can be achieved on of two ways.\u003C/p\u003E\u003Cp\u003EMethod A is quite simple and is simply based on reading a variable as being true or not then assigning an output. For example:\u003C/p\u003E\u003Cp\u003E(Please comment if this is wrong at all. I\u0027m literally learning coding as I go along just to play with this mod so any input will be gratefully and gracefully received)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset g to 9.81. //gravity in m/s//\u003Cbr\u003Eset TWR to (g*mass)/maxthrust. //this should set up the throttle so that it achieves just enough force to counter gravity and scales as fuel is burnt//\u003Cbr\u003E\u003Cbr\u003Euntil ship:liquidfuel \u0026gt; 15 // The stage:liquid fuel doesn\u0027t seem to work for me, don\u0027t know why.  Tried testing it with print and everything lol.//\u003Cbr\u003E     {\u003Cbr\u003E     if vertical speed \u0026lt; 130\u003Cbr\u003E         { lock throttle to 2*TWR. //for a 2g burn. change the (changing the multiplication factor should change the g at which the burn is performed)//\u003Cbr\u003E         }.\u003Cbr\u003E\u003Cbr\u003E    if vertical speed \u0026gt; 150\u003Cbr\u003E        { lock throttle to 0.\u003Cbr\u003E        }.\u003Cbr\u003Estage.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf I\u0027m right this means the throttle will bounce up and down within the selected speeds. It doesn\u0027t account for drag but on streamlined rockets vertical drag should be minimal anyway. There will be some overshoot but it\u0027s quick and easy to program. Should work for almost anything and takes 2 seconds to change for all ship types. However it\u0027s not good enough for what I\u0027m trying to do so I\u0027ve moved onto method B.\u003C/p\u003E\n"},{"CreatedByName":"Kass","CreatedById":91615,"CreatedDateTime":"2013-11-30T10:18:38Z","Content":"\n\u003Cp\u003EMethod B is by using a PID controller type algorithm. This is a considerably more difficult and I haven\u0027t yet figured it out.\u003C/p\u003E\u003Cp\u003EUnlike method A it allows an analogue input on the throttle that scales to the speed required as opposed to the digital input of method A, ie, instead of the throttle simply being on or off it will increase or decrease the throttle by the exact amount required (when tuned) to achieve whatever variable you set in the program.\u003C/p\u003E\u003Cp\u003ENow I\u0027ve started writing on of my own but I need a couple of pointers from those who know what they\u0027re doing (please \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\u003Cp\u003EBasically I\u0027ve wrote a program with a section that basically says\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock throttle to P.\u003Cbr\u003Euntil ship:liquidfuel \u0026gt; 15\u003Cbr\u003E\u003Cbr\u003E\tif setpoint \u0026lt; alt:radar \u002B verticalspeed {\u003Cbr\u003E\t\tset error to (setpoint - alt:radar)*1.\u003Cbr\u003E\t}.\u003Cbr\u003E\tif setpoint \u0026gt; alt:radar \u002B verticalspeed {\u003Cbr\u003E\t\tset error to (setpoint - alt:radar)*-1.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tset P to error*TWR.\u003Cbr\u003E\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow my problem is I think I only half understand what I\u0027m trying to do here and if someone could explain this to me I\u0027d be very grateful. \u003C/p\u003E\u003Cp\u003EBasically I\u0027m doing \u003Cem\u003EP = Setpoint - error*gain\u003C/em\u003E. Through trial and error and debugging I realised that one of the gains needs to be a negative number to turn it back into a positive for input to the throttle while the other needs to remain as a negative as I don\u0027t need the input as it would be above the setpoint. My problems are I don\u0027t understand what the rest is trying to achieve. The gain I\u0027ve set at 1 just because I don\u0027t understand it and therefore I change the input to a positive from a negative without affecting the output of \u003Cem\u003Esetpoint - error.\u003C/em\u003E. I also put a gain on the other half of the algorithm just to keep things equal.\u003C/p\u003E\u003Cp\u003EWhat is this number doing please and why?\u003C/p\u003E\u003Cp\u003ENow where I\u0027ve\u003Cem\u003E set P to error *TWR\u003C/em\u003E I\u0027ve only done that so it scales with the vehicles mass, but I know it isn\u0027t right. What this is doing is applying way to much thrust and my debugging console is giving my a result of infinity. in the picture below you can see that the P number is infinity. Where am I going wrong here please and most importantly, why? What am I trying to achieve here?\u003C/p\u003E\u003Cp\u003EI really want to understand this and I feel I\u0027m almost there (otherwise I\u0027d just use mechjeb or copy and paste someone else\u0027s script).\u003C/p\u003E\u003Cp\u003EThank you in advance \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/mQWmW9o.png\u0022 alt=\u0022mQWmW9o.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit to explain values.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Evertical speed\u003C/strong\u003E = \u003Cem\u003Everticalspeed\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Ehover timer\u003C/strong\u003E =1 cycle of the until statement \u002B1 to a value I set to make sure it\u0027s cycling\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Ecurrent error\u003C/strong\u003E = \u003Cem\u003Esetpoint - alt:radar*1\u003C/em\u003E or \u003Cem\u003Esetpoint - alt:radar*-1\u003C/em\u003E depending if if above or below the setpoint.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eprevious error\u003C/strong\u003E is the \u003Cem\u003Eerror\u003C/em\u003E previous to this that is set to \u003Cem\u003Eperror\u003C/em\u003E at the end of each cycle\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eerror difference\u003C/strong\u003E = \u003Cem\u003Eerror - perror\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EProportional\u003C/strong\u003E = \u003Cem\u003Eerror*TWR\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EThrottle\u003C/strong\u003E = \u003Cem\u003Ethrottle\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EHeight offset\u003C/strong\u003E = \u003Cem\u003Esetpoint - alt:radar\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EEdit 2: wtf is wrong with me? Writing scripts is fun!!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T12:07:32Z\u0022 title=\u002211/30/2013 12:07  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by Kass\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ouch","CreatedById":76361,"CreatedDateTime":"2013-11-30T12:41:25Z","Content":"\n\u003Cp\u003Eso I have a rover that follows another one, but whenever the rovers are not on flat land they veer wildly off course... (seems the angle of the rover running the script is the determining factor)\u003C/p\u003E\u003Cp\u003Emy steering code looks like this:\u003C/p\u003E\u003Cp\u003Elock ts to vessel(\u0022battery\u0022).\u003C/p\u003E\u003Cp\u003Elock wheelsteering to ts.\u003C/p\u003E\u003Cp\u003Ebattery is the name of the rover I\u0027m following. (ultimately I would to get them to dock at some point but I can\u0027t even try if they go in random directions when on a hill because wheelsteering told them too...)\u003C/p\u003E\u003Cp\u003Ealso how do you get the position of an object? I was going to try to specify the of the location of the other rover directly and hope that fixes it.\u003C/p\u003E\n"},{"CreatedByName":"CrAzY GeNiUs","CreatedById":93837,"CreatedDateTime":"2013-11-30T16:08:02Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Euntil 0 {\u003Cbr\u003E     if altitude \u0026gt; 10000 {set p to -1.}.\u003Cbr\u003E     if altitude \u0026lt; 10000 {set p to 8.}.\u003Cbr\u003E     if target:distance \u0026lt; 300000 {run l.}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENeed HELP ! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2013-11-30T16:16:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CrAzY GeNiUs\u0022 data-cite=\u0022CrAzY GeNiUs\u0022\u003E\u003Cdiv\u003ENeed HELP ! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA. What do you want to do?\u003C/p\u003E\u003Cp\u003EB. What have you tried?\u003C/p\u003E\u003Cp\u003EC. What happened?\u003C/p\u003E\u003Cp\u003ED. What didn\u0027t happen that should have happened?\u003C/p\u003E\u003Cp\u003EE. We don\u0027t read minds.\u003C/p\u003E\u003Cp\u003EF. \u0022There was an error.\u0022 is a useless bug report.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T16:59:05Z\u0022 title=\u002211/30/2013 04:59  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by razark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-30T16:45:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EI get the feeling this naming thing is important to you, possibly too important. In itself it is no reason to remove the variable from the system.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t been arguing for removing it. I\u0027ve been arguing for making it correct. It is incorrect to claim it\u0027s positive when it is in fact not because the simulation doesn\u0027t match reality. In the game if your apoapsis is higher than SOI then it\u0027s not honest to report it as if it\u0027s not infinity. As far as the GAME cares, it\u0027s infinity. You\u0027re not coming back down.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-30T17:00:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI haven\u0027t been arguing for removing it. I\u0027ve been arguing for making it correct. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrue, but in correcting it you are removing functionality. Like I said before, I feel the way things are named is important to you and while it would be nice to have things labeled correctly, functionality is more important than nomenclature. You really should not remove functionality until there is a viable alternative that does the same.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-30T17:00:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EYes, right. I don\u0027t see the discrepancy between two models in KSP (patched conics, Kepler orbits) as a problem but as a feature. That\u0027s why it is really hard for me to follow your reasoning. The problem does not go away as long as KSP is based on those models to build its universe. And while you are within the SOI everything matches.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI guess the reason we\u0027re arguing is that the manner in which the current system is broken is useful for you and broken for me. It is currently impossible to detect whether or not I\u0027ve been captured. Getting to where it reports the bogus negative value for apoapsis does not imply I\u0027m captured. Because of the game\u0027s SOI radius issue you can have a positive apopasis and yet still escape and not come back. That\u0027s rather important when you want your autopilot to burn retro long enough to get captured but not long enough to circularize, as that\u0027s wasteful to do. As it is I have to make a pure guess and say if I\u0027ve gotten it down to about 60% of escape velocity that\u0027s probably small enough to be within the SOI of things in the KSP simulation - maybe. But those sorts of guesses often turn out to be wrong, as it\u0027s not the same for every body. the SOI radius is an arbitrary decision that doesn\u0027t seem to follow a pattern. It doesn\u0027t seem to be based on a calculatable thing but rather is an arbitrary decision SQUAD made for each body. In some cases, like Ike around Duna, the SOI is a lot smaller than you\u0027d think, apparently because Ike\u0027s closeness to Duna would make it interfere with Duna orbits if it had too large of an SOI.\u003C/p\u003E\u003Cp\u003EThe problem is that you\u0027re basically saying your problem is important and mine is irrelevant when you qualify the current behavior as \u0022correct\u0022 and claim it should be left in place in favor of a nebulous non-existent solution.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-30T17:08:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003ETrue, but in correcting it you are removing functionality. Like I said before, I feel the way things are named is important to you and while it would be nice to have things labeled correctly, functionality is more important than nomenclature. You really should not remove functionality until there is a viable alternative that does the same.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am NOT arguing for removing functionality. Being able to detect if you\u0027re going to escape the body or not *is functionality*, and it\u0027s functionality that you\u0027re ignoring when you decide to mislabel wanting to have that functionality as \u0022removing\u0022 functionality.\u003C/p\u003E\u003Cp\u003E(EDIT: OR to be more generous to your position, I\u0027m swapping one functionality for another, which is at worst a null effect on total functionality, not a drop in functionality).\u003C/p\u003E\u003Cp\u003EAnd while you *can* calculate things like eccentricity from a negative apoapsis, it\u0027s not the ONLY way to do it. So the functionality you\u0027re talking about isn\u0027t gone, just more ugly to get. Compare that to the functionality you\u0027re arguing I shouldn\u0027t have. It\u0027s not derivable mathematically. There\u0027s no alternate recourse for it. Given your current position and velocity and the planet\u0027s mass is enough on its own to derive everything else. It might not be pretty but at least it\u0027s actually *possible* to calculate with what\u0027s there now, unlike the problem I\u0027m talking about where no amount of math will help learn what SQUAD set the SOI to for each body.\u003C/p\u003E\u003Cp\u003ESo I\u0027d be fine with restoring the broken definition of apaopsis to allow it to be negative if it coincided with also being able to get SOI data about the bodies *at the same time in the same release*. But what you and boalan have been arguing for is to fix the ability to calculate using a negative apoapsis FIRST and then eventually later on, if time permits, get around to fixing the apparently less important problem about how you can\u0027t get correct (\u0022correct\u0022 meaning \u0022works for the purpose of flying a craft in this simulation\u0022, meaning \u0022takes into account the simulation\u0027s SOI feature\u0022) escape information.\u003C/p\u003E\u003Cp\u003EAnd if one problem can be fixed with a workaround and the other can\u0027t, the one that can\u0027t is more important.\u003C/p\u003E\u003Cp\u003ESo to summarize my position:\u003C/p\u003E\u003Cp\u003EFix the SOI problem first and restore negative apaopsis later. - I\u0027m fine with this.\u003C/p\u003E\u003Cp\u003EFix the SOI problem and restore negative apoapsis in the same reliease - I\u0027m fine with this too.\u003C/p\u003E\u003Cp\u003EFix the SOI problem later and restore negative apoapsis now - I\u0027m not fine with this for the reasons stated above. The SOI problem *requires* getting information from KOS as there\u0027s no alternative way to calculate escape mathematically right now. There *is no* workaround right now. There are, however, workarounds to not being able to see a negative \u0022apoapsis\u0022.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T17:32:48Z\u0022 title=\u002211/30/2013 05:32  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-30T17:09:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CrAzY GeNiUs\u0022 data-cite=\u0022CrAzY GeNiUs\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Euntil 0 {\u003Cbr\u003E     if altitude \u0026gt; 10000 {set p to -1.}.\u003Cbr\u003E     if altitude \u0026lt; 10000 {set p to 8.}.\u003Cbr\u003E     if target:distance \u0026lt; 300000 {run l.}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENeed HELP ! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis post contains no useful information.\u003C/p\u003E\n"},{"CreatedByName":"goldenpeach","CreatedById":34566,"CreatedDateTime":"2013-11-30T18:48:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003Econstant velocity is really tricky! you need to mess with drag, gravity and thrust, and if you\u0027re using FAR it\u0027s even harder \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003ENot sure why you would want constant vel though, unless you are in space (which means a circular orbit)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I saw that achieving a constant velocity is harder than I though.\u003C/p\u003E\u003Cp\u003ETo answer your question: I don\u0027t to keep a constant speed, I want to make a script that will keep the rocket to a given speed(I will use that to limit the speed to terminal velocity).\u003C/p\u003E\u003Cp\u003EFor now, I try to keep a constant speed because, if I can\u0027t do that, I don\u0027t see how I could make the rocket to go at a given speed!\u003C/p\u003E\u003Cp\u003EEDIT: for now, the way my script work, is simple: if the rocket is below the required speed, it throttle up and if it\u0027s above, it throttle down.\u003C/p\u003E\u003Cp\u003EThe problem is that the rocket will throttle up/down all the time all the time it\u0027s not at the correct speed. That mean that it will accelerate too quickly and overshoot, then it will throttle down too much and get too slow, throttle to much and do the same thing until there is no fuel left.\u003C/p\u003E\u003Cp\u003EWill have to work on that a little!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T18:53:03Z\u0022 title=\u002211/30/2013 06:53  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by goldenpeach\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-30T18:57:04Z","Content":"\n\u003Cp\u003EA simplistic way that works is:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESet PM to 5.2915793*(10^22). // Planet Mass (Stock Kerbin)\u003Cbr\u003ESet PR to 600000. // Planet Radius (Stock Kerbin)\u003Cbr\u003E\u003Cbr\u003Eset e to 2.71828. // constant \u0027e\u0027\u003Cbr\u003Eset G to 6.67384*(10^-11). // Gravitational Constant\u003Cbr\u003E\u003Cbr\u003Euntil altitude \u0026gt; 35000 {\u003Cbr\u003E\tSet m to mass.\u003Cbr\u003E\tSet r to PR \u002B altitude.\u003Cbr\u003E\tset FG to m*G*PM*(r^-2). // Gravity Force\u003Cbr\u003E\u003Cbr\u003E\tset p to (e^((0-altitude)/5000)).\u003Cbr\u003E\tset rho to 1.2230948554874*p.\u003Cbr\u003E\tset v to velocity:surface:mag.\u003Cbr\u003E\tset FD to rho*v*v*0.0008*m. //Drag Force (without FAR!!)\u003Cbr\u003E\u003Cbr\u003E\tif FD \u0026gt; FG and t\u0026gt;0 {set t to t-0.05.}.\u003Cbr\u003E\tif FD \u0026lt; FG and t\u0026lt;1 {set t to t\u002B0.05.}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T19:00:11Z\u0022 title=\u002211/30/2013 07:00  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by AbeS\u003C/strong\u003E\n\u003C/span\u003E\n"}]}