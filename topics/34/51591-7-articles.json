{"TopicId":51591,"ForumId":34,"TopicTitle":"[1.1.3] AntennaRange 1.11.4 - Enforce and Encourage Antenna Diversity","CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-11-02T19:37:49Z","PageNum":7,"Articles":[{"CreatedByName":"Sarayakat","CreatedById":116487,"CreatedDateTime":"2014-07-23T14:16:40Z","Content":"\n\u003Cp\u003EMy animation was slowed when I turned on the probe comms dependancy option from the spaceport screen. When I turned it off, the problem went away. Also, I hadn\u0027t noticed the issue in the Kerbin system, only once I got far away from home (Duna as it happens). Thx for the mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-23T15:31:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sarayakat\u0022 data-cite=\u0022Sarayakat\u0022\u003E\u003Cdiv\u003EMy animation was slowed when I turned on the probe comms dependancy option from the spaceport screen. When I turned it off, the problem went away. Also, I hadn\u0027t noticed the issue in the Kerbin system, only once I got far away from home (Duna as it happens). Thx for the mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes it consistently recur when you turn probe dependency back on? Because, honestly, turning the probe comms dependency on does \u003Cem\u003Ealmost nothing\u003C/em\u003E to the otherall functionality of the mod. The mod checks for connection every few seconds anyway when there\u0027s an icon to draw; all the probe comms dependency does is lock the controls when that check fails. Is it just your antenna animation, or does KSP slow down in general?\u003C/p\u003E\n"},{"CreatedByName":"Sarayakat","CreatedById":116487,"CreatedDateTime":"2014-07-23T16:35:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EDoes it consistently recur when you turn probe dependency back on? Because, honestly, turning the probe comms dependency on does \u003Cem\u003Ealmost nothing\u003C/em\u003E to the otherall functionality of the mod. The mod checks for connection every few seconds anyway when there\u0027s an icon to draw; all the probe comms dependency does is lock the controls when that check fails. Is it just your antenna animation, or does KSP slow down in general?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI will check on that. Going back to Duna soon. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sarayakat","CreatedById":116487,"CreatedDateTime":"2014-07-23T20:30:37Z","Content":"\n\u003Cp\u003EaFAIK, it was just the animation though the $%^%^*# right-click bug was going nuts too.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-23T23:59:33Z","Content":"\n\u003Cp\u003EProbe dependency on (LoS and transmission): physical timewarp speeds up animation, rails timewarp has no visible effect. FRAPS recorded a steady 35-40 FPS during the entire video.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/RXjQ9KuHf0A?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/8rJZMVBw\u0022 rel=\u0022external nofollow\u0022\u003ERelevant output log from this\u003C/a\u003E - there\u0027s a few errors from Engineer so ignore those but otherwise, there\u0027s nothing that seems to affect antenna animation.. hmm...\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-24T04:05:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EProbe dependency on (LoS and transmission): physical timewarp speeds up animation, rails timewarp has no visible effect. FRAPS recorded a steady 35-40 FPS during the entire video.\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/8rJZMVBw\u0022 rel=\u0022external nofollow\u0022\u003ERelevant output log from this\u003C/a\u003E - there\u0027s a few errors from Engineer so ignore those but otherwise, there\u0027s nothing that seems to affect antenna animation.. hmm...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I\u0027m pretty sure the relevant lines in that log are specificaly the \u0022Setting FX Modules to [01]\u0022. That\u0027s Squad\u0027s antenna module manipulating the animation directly, IIRC. When I get a chance, I\u0027ll fire up my \u00C3\u0192\u00C2\u00BCber logging and see if AntennaRange is doing anything in between \u0022Settings FX Modules...\u0022 and \u0022FX Module set\u0022... but again, I\u0027m pretty sure that I don\u0027t actually have anything to do with it. I just call ModuleDataTransmitter.TransmitData() and let it do its thing.\u003C/p\u003E\u003Cp\u003EThat said, I\u0027m vacationing for a few days: starting this Saturday, I\u0027ll be out of contact until Wednesday, so there\u0027ll be no support during that period. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sarayakat","CreatedById":116487,"CreatedDateTime":"2014-07-24T12:28:45Z","Content":"\n\u003Cp\u003ERegarding animation bug, I have had it return once or twice now having changed no settings. As far as I can tell it has nothing to do with AR settings and just sorta comes and goes with no effect other than slowed animation and thus, delayed transmission.\u003C/p\u003E\u003Cp\u003E Enjoy your vacation. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-07-27T01:41:44Z","Content":"\n\u003Cp\u003EIs there a config for SXT?\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-30T22:01:09Z","Content":"\n\u003Cp\u003EHaving trouble, I\u0027d like some help.\u003C/p\u003E\u003Cp\u003EI landed a rover on the Mun for a contract. Its delivery module/ground station has a Comms 88 and a good connection to Kerbin (\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/lWixelX.png\u0022 alt=\u0022lWixelX.png\u0022\u003E\u003C/blockquote\u003E\u003Cblockquote\u003E). But the actual rover, with a Comms 16 that is parked right next to it has no connection (\u003C/blockquote\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/XOAiE3b.png\u0022 alt=\u0022XOAiE3b.png\u0022\u003E\u003C/blockquote\u003E\u003Cblockquote\u003E). \u003C/blockquote\u003E\u003Cp\u003EAs per the OP, \u0022if your ship has a short range antenna, but is in range of a longer range antenna that can communicate back to Kerbin, it will do so\u0022, but this doesn\u0027t appear to be happening. Any ideas/thoughts/suggestions? This is the second time I\u0027ve done this contract thanks to me forgetting the actual part the first time round, I\u0027m not really in the mood to repeat it a third time..\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-31T01:54:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EIs there a config for SXT?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI haven\u0027t written configs for any non-stock parts, and AFAIK only MeCripp has published any others: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php?p=1157251#post1157251\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php?p=1157251#post1157251\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf SXT isn\u0027t in there, you\u0027d probably need to build one yourself. If you do, be sure to share! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EHaving trouble, I\u0027d like some help.\u003Cp\u003EI landed a rover on the Mun for a contract. Its delivery module/ground station has a Comms 88 and a good connection to Kerbin (\u003C/p\u003E\u003Cblockquote\u003E\u003Ca href=\u0022http://i.imgur.com/lWixelX.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/lWixelX.png\u003C/a\u003E\u003C/blockquote\u003E\u003Cblockquote\u003E). But the actual rover, with a Comms 16 that is parked right next to it has no connection (\u003C/blockquote\u003E\u003Cblockquote\u003E\u003Ca href=\u0022http://i.imgur.com/XOAiE3b.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/XOAiE3b.png\u003C/a\u003E\u003C/blockquote\u003E\u003Cblockquote\u003E). \u003C/blockquote\u003E\u003Cp\u003EAs per the OP, \u0022if your ship has a short range antenna, but is in range of a longer range antenna that can communicate back to Kerbin, it will do so\u0022, but this doesn\u0027t appear to be happening. Any ideas/thoughts/suggestions? This is the second time I\u0027ve done this contract thanks to me forgetting the actual part the first time round, I\u0027m not really in the mood to repeat it a third time..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs there anything interesting in the log when you\u0027re switched to the other vessel? Does it change at all if you change the LOS fudge factor? Does the 16 on the rover say anything like \u0022blocked by the Mun\u0022 in its context tip? I\u0027ll try to duplicate, but we\u0027ll get there faster if you\u0027ve got more info. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-31T22:50:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EIs there anything interesting in the log when you\u0027re switched to the other vessel? Does it change at all if you change the LOS fudge factor? Does the 16 on the rover say anything like \u0022blocked by the Mun\u0022 in its context tip? I\u0027ll try to duplicate, but we\u0027ll get there faster if you\u0027ve got more info. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, so I tried again. These are my findings (still not working):\u003C/p\u003E\u003Cp\u003EBefore decoupling, Comms 16 is out of range. Expected, since it\u0027s the Mun and I have an in-range antenna onboard. No screenshot, but that\u0027s what it says in the right click GUI. Anyway, \u003Ca href=\u0022http://i.imgur.com/YS5yQoz.png\u0022 rel=\u0022external nofollow\u0022\u003Ethis is the state of affairs before decoupling\u003C/a\u003E. \u003Ca href=\u0022http://i.imgur.com/RObVArh.png\u0022 rel=\u0022external nofollow\u0022\u003EI decouple and loads of things are activated\u003C/a\u003E, nothing in the logs to do with AR though. I switch back to the fairing base and, \u003Ca href=\u0022http://i.imgur.com/opMAVl7.png\u0022 rel=\u0022external nofollow\u0022\u003Ealthough I have a connection, I can\u0027t retract the antenna or transmit data etc\u003C/a\u003E. Also, it should be noted that I can\u0027t deactivate the engines etc - in short, it\u0027s acting as though I have no connection when I clearly should have (\u003Ca href=\u0022http://i.imgur.com/JLNtnuo.png\u0022 rel=\u0022external nofollow\u0022\u003Esorry for dark pic, but its the Poles and that\u0027s Kerbin on the horizon. Pic taken before settling and decoupling\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EFew things - vessel root was the probe core on the rover, perhaps AR is assuming active vessel = one with root part or something? Nothing in the log said anything about AR (\u003Ca href=\u0022http://pastebin.com/YjRbamEN\u0022 rel=\u0022external nofollow\u0022\u003Esnippet of log from when the transfer stage has Munrover on a suborbital trajectory, has been decoupled and has crashed into the Mun\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EI believe AR is carrying on the characteristics of the original root part (no connection) to all decoupled modules (like the ground station). If needed, I\u0027ll try and replicate in stock but it should be easily reproducible.\u003C/p\u003E\u003Cp\u003EThanks and I hope you enjoyed your holiday! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-01T04:30:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EOk, so I tried again. These are my findings (still not working):\u003Cp\u003EBefore decoupling, Comms 16 is out of range. Expected, since it\u0027s the Mun and I have an in-range antenna onboard. No screenshot, but that\u0027s what it says in the right click GUI. Anyway, \u003Ca href=\u0022http://i.imgur.com/YS5yQoz.png\u0022 rel=\u0022external nofollow\u0022\u003Ethis is the state of affairs before decoupling\u003C/a\u003E. \u003Ca href=\u0022http://i.imgur.com/RObVArh.png\u0022 rel=\u0022external nofollow\u0022\u003EI decouple and loads of things are activated\u003C/a\u003E, nothing in the logs to do with AR though. I switch back to the fairing base and, \u003Ca href=\u0022http://i.imgur.com/opMAVl7.png\u0022 rel=\u0022external nofollow\u0022\u003Ealthough I have a connection, I can\u0027t retract the antenna or transmit data etc\u003C/a\u003E. Also, it should be noted that I can\u0027t deactivate the engines etc - in short, it\u0027s acting as though I have no connection when I clearly should have (\u003Ca href=\u0022http://i.imgur.com/JLNtnuo.png\u0022 rel=\u0022external nofollow\u0022\u003Esorry for dark pic, but its the Poles and that\u0027s Kerbin on the horizon. Pic taken before settling and decoupling\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EFew things - vessel root was the probe core on the rover, perhaps AR is assuming active vessel = one with root part or something? Nothing in the log said anything about AR (\u003Ca href=\u0022http://pastebin.com/YjRbamEN\u0022 rel=\u0022external nofollow\u0022\u003Esnippet of log from when the transfer stage has Munrover on a suborbital trajectory, has been decoupled and has crashed into the Mun\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003EI believe AR is carrying on the characteristics of the original root part (no connection) to all decoupled modules (like the ground station). If needed, I\u0027ll try and replicate in stock but it should be easily reproducible.\u003C/p\u003E\u003Cp\u003EThanks and I hope you enjoyed your holiday! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny chance the ground station was flagged as Debris? AntennaRange ignores vessels flagged as debris to keep performance up on late saves with bad cases of Kessler syndrome. From the log, which called what I believe to be your ground station \u0022Munrover Debris\u0022, I\u0027m guessing it is flagged as debris. Change the vessel type to \u0022base\u0022 or \u0022rover\u0022 or \u0022probe\u0022 or \u0022anything but debris\u0022 and you should get a connection through it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"mecki","CreatedById":116929,"CreatedDateTime":"2014-08-01T06:23:26Z","Content":"\n\u003Cp\u003EI don\u0027t know if this is a known phenomenon but after I uninstalled AntennaRange, all the vessels that hat antennas installed with the mod installed now weren\u0027t able to transmit any science any more. There was just a message like \u0022No Transmitter on board\u0022 (or something like it) displayed.\u003C/p\u003E\u003Cp\u003EAfter I reinstalled AntennaRange everything went back to normal.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-08-01T06:47:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EChange the vessel type to \u0022base\u0022 or \u0022rover\u0022 or \u0022probe\u0022 or \u0022anything but debris\u0022 and you should get a connection through it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll try that - it was indeed debris. Thanks for the speedy response! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-01T15:52:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mecki\u0022 data-cite=\u0022mecki\u0022\u003E\u003Cdiv\u003EI don\u0027t know if this is a known phenomenon but after I uninstalled AntennaRange, all the vessels that hat antennas installed with the mod installed now weren\u0027t able to transmit any science any more. There was just a message like \u0022No Transmitter on board\u0022 (or something like it) displayed.\u003Cp\u003EAfter I reinstalled AntennaRange everything went back to normal.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would bet money that\u0027s to do with KSP\u0027s new PartLoader system. AntennaRange replaces Squad\u0027s ModuleDataTransmitter on all of the stock antennas (and any others you have patches for, e.g. MeCripp\u0027s patch pack), so in your .craft files and save game files, all of your antennas are saved with AntennaRange\u0027s ModuleLimitedDataTransmitter in lieu of Squad\u0027s ModuleDataTransmitter. Previously, KSP\u0027s default behaviour would clone the prefab part and then try to load from persistence, so when you removed mods you\u0027d always get Squad\u0027s modules back. That doesn\u0027t seem to happen anymore; if there\u0027s nothing in persistence, Squad doesn\u0027t load a module for it at all. This seems like a major regression but at this point it\u0027s not one I can do anything about.\u003C/p\u003E\u003Cp\u003ESo, my advice at this point is:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EIf you\u0027re \u0022just trying out\u0022 a mod, do it in another KSP installation dedicated to sandboxing and testing.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIf that\u0027s untenable for whatever reason, always back up your saves before installing a mod, so that you can revert to your previously-healthy save if you decide not to use a mod.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAs a very last resort, scavenge your broken save files and revert changes from mod patches manually. In this case, remove all MODULE { name = ModuleLimitedDataTransmitter // ... } blocks and replace them with MODULE { name = ModuleDataTransmitter } blocks.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENone of this should be necessary, and it\u0027s a big burden on mod users and developers alike. I\u0027ll be watching the ModuleManager thread for a while to see if there\u0027s anything we can do to ameliorate the situation.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EI\u0027ll try that - it was indeed debris. Thanks for the speedy response! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo that\u0027s fixed it then? Happy to help out. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"mecki","CreatedById":116929,"CreatedDateTime":"2014-08-01T16:01:40Z","Content":"\n\u003Cp\u003EToadicus, thank you for the answer!\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-08-01T18:22:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EI would bet money that\u0027s to do with KSP\u0027s new PartLoader system.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWasn\u0027t that fixed in 0.24.1?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E* Fixed a relatively serious issue with module loading which could result in missing modules if loading old craft.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-02T03:47:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EWasn\u0027t that fixed in 0.24.1?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0022Fixed\u0022. I haven\u0027t looked into it in depth since 0.24.1 was released, but based on mecki\u0027s report I feel very confident in my answer. At any rate, since the issue happens after AntennaRange is no longer installed, it is certainly not something I can hope to fix, unless ModuleManager can address it.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-08-07T21:28:54Z","Content":"\n\u003Cp\u003ESo more problems..\u003C/p\u003E\u003Cp\u003EMade a base in the SPH, SelectRoot broke things when trying to make it a subassembly. Fine, whatever, I\u0027ll put the root (cupola) on in the VAB. I do so and thank to it\u0027s design (\u003Ca href=\u0022http://i.imgur.com/5HGuzss.jpg\u0022 rel=\u0022external nofollow\u0022\u003Eon its side\u003C/a\u003E), I need a probe core pointing up. Put a probe core on the bottom, Hyperedit it into LKO and all is going well. Munar insertion burn going well, Cupola is still the root, but controlling from the secondary probe core. Land the base ok, decouple the landing engines (thanks to TweakableEverything), focus switches to them but because they\u0027re activated and burning, I can\u0027t switch back to the base. It crashes, then KSP runs out of memory and crashes. I load up the game and everything, fly the Base and am met with this in the log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AntennaRange.ModuleLimitedDataTransmitter.CanTransmit () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.ARFlightController.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich, fair enough I may be out of LoS of Kerbin to transmit, but I have a \u003Ca href=\u0022http://i.imgur.com/bMrl9rA.png\u0022 rel=\u0022external nofollow\u0022\u003Ekerbal in the cupola\u003C/a\u003E and because AR is saying the thing is non-functional, I can\u0027t get him out or anything. \u003C/p\u003E\u003Cp\u003EIf you want, \u003Ca href=\u0022https://www.dropbox.com/s/wgz1zqu7boohrhf/persistent.sfs\u0022 rel=\u0022external nofollow\u0022\u003Ehere is the persistent file\u003C/a\u003E (you\u0027ll need B9 (or at least, the Parts/Adapter_M2 from it), SurfaceLights, TweakScale and TweakableEverything to load the base, and depending on when the last autosave was, KWRocketry too and if that\u0027s the case, you\u0027ll need to land the base somehwere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E) and \u003Ca href=\u0022https://www.dropbox.com/s/d4bznpsilta35t5/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u0027s the output log\u003C/a\u003E (it\u0027s a big one..).\u003C/p\u003E\u003Cp\u003ELet me know if I can be of any help or have missed something... But FWIW, doing this completed the \u0027land a base on the Mun\u0027 contract, so yeah, silver lining and all...\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-08T05:42:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ESo more problems..\u003Cp\u003EMade a base in the SPH, SelectRoot broke things when trying to make it a subassembly. Fine, whatever, I\u0027ll put the root (cupola) on in the VAB. I do so and thank to it\u0027s design (\u003Ca href=\u0022http://i.imgur.com/5HGuzss.jpg\u0022 rel=\u0022external nofollow\u0022\u003Eon its side\u003C/a\u003E), I need a probe core pointing up. Put a probe core on the bottom, Hyperedit it into LKO and all is going well. Munar insertion burn going well, Cupola is still the root, but controlling from the secondary probe core. Land the base ok, decouple the landing engines (thanks to TweakableEverything), focus switches to them but because they\u0027re activated and burning, I can\u0027t switch back to the base. It crashes, then KSP runs out of memory and crashes. I load up the game and everything, fly the Base and am met with this in the log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AntennaRange.ModuleLimitedDataTransmitter.CanTransmit () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.ARFlightController.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich, fair enough I may be out of LoS of Kerbin to transmit, but I have a \u003Ca href=\u0022http://i.imgur.com/bMrl9rA.png\u0022 rel=\u0022external nofollow\u0022\u003Ekerbal in the cupola\u003C/a\u003E and because AR is saying the thing is non-functional, I can\u0027t get him out or anything. \u003C/p\u003E\u003Cp\u003EIf you want, \u003Ca href=\u0022https://www.dropbox.com/s/wgz1zqu7boohrhf/persistent.sfs\u0022 rel=\u0022external nofollow\u0022\u003Ehere is the persistent file\u003C/a\u003E (you\u0027ll need B9 (or at least, the Parts/Adapter_M2 from it), SurfaceLights, TweakScale and TweakableEverything to load the base, and depending on when the last autosave was, KWRocketry too and if that\u0027s the case, you\u0027ll need to land the base somehwere \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E) and \u003Ca href=\u0022https://www.dropbox.com/s/d4bznpsilta35t5/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u0027s the output log\u003C/a\u003E (it\u0027s a big one..).\u003C/p\u003E\u003Cp\u003ELet me know if I can be of any help or have missed something... But FWIW, doing this completed the \u0027land a base on the Mun\u0027 contract, so yeah, silver lining and all...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, there\u0027s a lot going on in that log; enough that I\u0027d need to sit down and spend a bit of time studying it to comment on what\u0027s really going on.\u003C/p\u003E\u003Cp\u003EWhat I \u003Cem\u003Ecan\u003C/em\u003E tell you is that you\u0027ve got some mods somewhere causing some Big Kerfuffles. There are exceptions during startup, the usual OmgExceptionSpam from E.V.E., and then a bunch more about docking nodes and mechjeb and even TweakableDockingNode making noise from then on, which at the very least implies you\u0027ve got a mod somewhere doing something that TweakableEverything does not expect (or stopping something that TweakableEverything expects to happen first). The AntennaRange exception you got, I suspect, is actually not related to your problem at all. It only fires once, and it\u0027s during a ship load/unload or vessel switch; it\u0027s probably a race condition of some kind and generally harmless.\u003C/p\u003E\u003Cp\u003EThat said, you definitely do have an issue during FixedUpdate runs that is preventing AntennaRange\u0027s \u0022do I have control?\u0022 check from running. There are complaints from EnhancedNavball and Clouds in particular, but I use both of those and don\u0027t have this problem so your issue probably lies elsewhere.\u003C/p\u003E\u003Cp\u003EI don\u0027t have time right now to build an install to load up your persistence file, but if I do over the weekend I\u0027ll let you know what I see. In the meantime, though, I\u0027m going to reiterate my suggestion that you look elsewhere for your solution; I don\u0027t think AntennaRange is causing it.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-08-09T11:24:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003E\u0026lt;snip\u0026gt;\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, so this whole thing bugs me, my save borking out. I\u0027ve tried to replicate it on a new install with minimum mods and I couldn\u0027t - the network setup went without a hitch. So yes, AR wasn\u0027t to blame for that and my apologies for thinking it was. Thanks for your patience and a wonderful mod \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHowever, an error still exists, even with this new save. It\u0027s the only Exception present and AFAIK, none of the mods installed would interfere with AR.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AntennaRange.ModuleLimitedDataTransmitter.CanTransmit () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.RelayExtensions.HasConnectedRelay (.Vessel vessel) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.ARFlightController.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESituation: Comms 16 (short range) on the ground. Comms 88 (long range) in the air. I can control the vessels with Comms 88s on board fine, but the surface Comms 16 is uncontrollable. It\u0027s either \u0027Blocked by Duna\u0027 or \u0027Out of range\u0027. Which is odd, as the closest satellite is 807,446m away right now according to KER, and the Comms 16 has a range of 1,500,000. It should be able to reach it, no? At closest approach, the relay is 660,000m away. I\u0027ve brought down the outer satellite as they are a touch beyond the nominal Comms 16 range, but still, no dice.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/5DF6IJH.png\u0022 alt=\u00225DF6IJH.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf you need to, I could upload this save for you to try out? \u003Ca href=\u0022http://pastebin.com/e85NrWx6\u0022 rel=\u0022external nofollow\u0022\u003EHere is an abridged output log\u003C/a\u003E (deleted entire contents of it, quicksaved then quickloaded) Thanks again for your help and patience \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-10T14:45:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EOk, so this whole thing bugs me, my save borking out. I\u0027ve tried to replicate it on a new install with minimum mods and I couldn\u0027t - the network setup went without a hitch. So yes, AR wasn\u0027t to blame for that and my apologies for thinking it was. Thanks for your patience and a wonderful mod \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re welcome! Thanks for helping me make it better. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EHowever, an error still exists, even with this new save. It\u0027s the only Exception present and AFAIK, none of the mods installed would interfere with AR.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AntennaRange.ModuleLimitedDataTransmitter.CanTransmit () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.RelayExtensions.HasConnectedRelay (.Vessel vessel) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at AntennaRange.ARFlightController.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESituation: Comms 16 (short range) on the ground. Comms 88 (long range) in the air. I can control the vessels with Comms 88s on board fine, but the surface Comms 16 is uncontrollable. It\u0027s either \u0027Blocked by Duna\u0027 or \u0027Out of range\u0027. Which is odd, as the closest satellite is 807,446m away right now according to KER, and the Comms 16 has a range of 1,500,000. It should be able to reach it, no? At closest approach, the relay is 660,000m away. I\u0027ve brought down the outer satellite as they are a touch beyond the nominal Comms 16 range, but still, no dice.\u003C/p\u003E\u003Cp\u003EIf you need to, I could upload this save for you to try out? \u003Ca href=\u0022http://pastebin.com/e85NrWx6\u0022 rel=\u0022external nofollow\u0022\u003EHere is an abridged output log\u003C/a\u003E (deleted entire contents of it, quicksaved then quickloaded) Thanks again for your help and patience \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, I\u0027ve finally had a chance to sit down and look at this. Unfortunately the news isn\u0027t great; there\u0027s nothing obvious going on here. The Exception there is the result of a race condition; in large, heavily-modded saves when load times are very long, Unity starts firing FixedUpdate events before everything is started up. ARFlightController is in charge of changing the icon color and locking the controls; it\u0027s trying to do its thing but the ModuleLimitedDataTransmitter in your antenna isn\u0027t set up yet, and chokes. I\u0027m not \u003Cem\u003Eentirely\u003C/em\u003E sure that\u0027s causing the issue you\u0027re having... but it might be. So, I\u0027ve added a null check to CanTransmit, which should allow that process to run as anticipated.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp.hawkbats.com/dev/AntennaRange.dll\u0022 rel=\u0022external nofollow\u0022\u003EThis dll\u003C/a\u003E has that change, and is compiled with debug logging enabled, so it\u0027ll make tons and tons of noise in your game and log. Give it a shot; if it fixes the issue let me know and I\u0027ll push the fix into a release. If it doesn\u0027t, get me the resulting log; maybe it\u0027ll have more info for me. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-08-10T15:46:27Z","Content":"\n\u003Cp\u003EAwesome! Thanks for looking, I\u0027ll try the dll out tonight and let you know.\u003C/p\u003E\n"},{"CreatedByName":"hjrrockies","CreatedById":106027,"CreatedDateTime":"2014-08-14T00:02:41Z","Content":"\n\u003Cp\u003EI am having a few issues with LoS - namely, LoS not having any effect on vessels. I have a single satellite in LKO with several Com16, and it receives a signal even when opposite KSC. I have double-checked my settings, and I can\u0027t seem to figure out why. I have no craft on the ground that might be relaying the signal somehow. Has this issue been reported before? I am running 32 bit .24.2 on Windows. I have a pretty heavy mod list, including Dmagic, TAC LS, RealChute, FAR, KER, and KW.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-08-14T04:28:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hjrrockies\u0022 data-cite=\u0022hjrrockies\u0022\u003E\u003Cdiv\u003EI am having a few issues with LoS - namely, LoS not having any effect on vessels. I have a single satellite in LKO with several Com16, and it receives a signal even when opposite KSC. I have double-checked my settings, and I can\u0027t seem to figure out why. I have no craft on the ground that might be relaying the signal somehow. Has this issue been reported before? I am running 32 bit .24.2 on Windows. I have a pretty heavy mod list, including Dmagic, TAC LS, RealChute, FAR, KER, and KW.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWelcome! AntennaRange does not require transmission to any specific point on Kerbin: a signal that gets to Kerbin is good enough. I \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56440-0-24-AntennaRange-1-4-Enforce-and-Encourage-Antenna-Diversity?p=1151641\u0026amp;viewfull=1#post1151641\u0022 rel=\u0022external nofollow\u0022\u003Esummarized my thoughts on this\u003C/a\u003E quite a while ago, and my feelings still stand.\u003C/p\u003E\u003Cp\u003ESo, that\u0027s not a bug, it\u0027s a feature! If you can talk to Kerbin from the far side of the Mun, we\u0027ve got a problem. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}