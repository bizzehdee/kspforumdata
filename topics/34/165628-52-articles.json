{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":52,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-01T22:13:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947226\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617177577\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/31/2021 at 2:59 AM, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can test it out yourself with this save I\u0027ve made:\u00A0\u003Ca href=\u0022https://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://mega.nz/file/eyJ2mBIY#iblUThD75r7nQX98JbwNurpCRT0RUX11uQU_OAjhPrY\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMods used: kOS (v1.3.2), ReStock, ReStock\u002B, Module Manager. KSP 1.11.1.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI had a brief window of time to test this today but this information wasn\u0027t true.\u00A0 The save file is for KSP 1.11.2, not 1.11.1 so I have to re-download a fresh copy to perform the test on KSP 1.11.2, and that means I\u0027ll try tomorrow.\u00A0 (I barely had an open window of time today and having to prep a different install of the game with the right mods etc pushes me over the time limit.)\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2021-04-02T06:44:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223947951\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617315231\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Dunbaratu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Dunbaratu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI had a brief window of time to test this today but this information wasn\u0027t true.\u00A0 The save file is for KSP 1.11.2, not 1.11.1 so I have to re-download a fresh copy to perform the test on KSP 1.11.2, and that means I\u0027ll try tomorrow.\u00A0 (I barely had an open window of time today and having to prep a different install of the game with the right mods etc pushes me over the time limit.)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry about that. I haven\u0027t played KSP for a few months, so I forgot it got updated meanwhile.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-02T20:42:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948065\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617345847\u0022 data-ipsquote-userid=\u0022141813\u0022 data-ipsquote-username=\u0022garwel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, garwel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry about that. I haven\u0027t played KSP for a few months, so I forgot it got updated meanwhile.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay I had a look at this today.\u00A0 First I started by recreating your vessel in pure stock without Restock, to see if Restock was doing anything funny to it.\u00A0 I got the same thing in pure stock that you were getting.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, you didn\u0027t tell me the reason it was taking 40 seconds was because it overshot the setpoint and kept oscillating back and forth across it.\u00A0 That\u0027s relevant.\u00A0 The picture I had in my head was that it was taking 40 seconds to turn agonizingly slowly toward the target, not a mere 3\u00A0 seconds plus another 37 seconds wavering around before settling down.\u00A0 That\u0027s a very different kind of problem, generally caused by kOS thinking there\u0027s way more torque available than there really is.\u00A0 (So it thinks it can stop in an instant when it can\u0027t.)\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know yet why the torque values being reported are clearly weird, and I\u0027ll have to examine that in detail, but for the time being this seems to really help with that design, as a workaround:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nset steeringmanager:pitchtorquefactor to 0.25.\nset steeringmanager:yawtorquefactor to 0.25.\nset steeringmanager:rolltorquefactor to 0.25.\u003C/pre\u003E\n\u003Cp\u003E\nThis tells kOS \u0022pretend the vessel\u0027s torque capability is only 1/4 as big as it\u0027s being reported to be, and act accordingly.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nHow I know the values are bogus - the R1-IX thruster should be doing 0.1 kN of thrust.\u00A0 In any one rotation axis the best case is having 4 of them helping push that rotation (i.e. pitch by having two at the bottom push one way and two at the top push the other way).\u00A0 The entire vessel is only about 5 meters long, so if we assume a Center of Mass halfway between one end and the other, that\u0027s a torque of 4 * 0.1kN * 2.5m or about 1Kn*m.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the torque it was *claiming* was about 2.5to 3 Kn*m.\u00A0 So something is probably wrong with the kOS TorqueProvider replacement code, and I\u0027ll have to look into that.\u00A0 But that\u0027s a long term thing.\u00A0 In the mean time, try the 3 lines above (put them somewhere temporary you can remove later if a future release of kOS fixes this).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"UltraJohn","CreatedById":15008,"CreatedDateTime":"2021-04-07T14:10:39Z","Content":"\n\u003Cp\u003E\nI\u0027m getting a bunch of errors in the ksp.log\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n[EXC 15:22:26.836] ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.\nParameter name: index\n\tSystem.ThrowHelper.ThrowArgumentOutOfRangeException (System.ExceptionArgument argument, System.ExceptionResource resource) (at \u0026lt;ad04dee02e7e4a85a1299c7ee81c79f6\u0026gt;:0)\n\tSystem.ThrowHelper.ThrowArgumentOutOfRangeException () (at \u0026lt;ad04dee02e7e4a85a1299c7ee81c79f6\u0026gt;:0)\n\tkOS.Screen.Interpreter.IsWaitingForCommand () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tkOS.Screen.TermWindow.ProcessUnconsumedInput () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tkOS.Screen.TermWindow.Update () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tUnityEngine.DebugLogHandler:LogException(Exception, Object)\n\tModuleManager.UnityLogHandle.InterceptLogHandler:LogException(Exception, Object)\n\tUnityEngine.Debug:CallOverridenDebugHandler(Exception, Object)\u003C/pre\u003E\n\u003Cp\u003E\nLog:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/cgysg9a20jdxzug/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/cgysg9a20jdxzug/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-07T23:55:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223950454\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617804639\u0022 data-ipsquote-userid=\u002215008\u0022 data-ipsquote-username=\u0022John007qwe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, John007qwe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m getting a bunch of errors in the ksp.log\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n\n[EXC 15:22:26.836] ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.\nParameter name: index\n\tSystem.ThrowHelper.ThrowArgumentOutOfRangeException (System.ExceptionArgument argument, System.ExceptionResource resource) (at \u0026lt;ad04dee02e7e4a85a1299c7ee81c79f6\u0026gt;:0)\n\tSystem.ThrowHelper.ThrowArgumentOutOfRangeException () (at \u0026lt;ad04dee02e7e4a85a1299c7ee81c79f6\u0026gt;:0)\n\tkOS.Screen.Interpreter.IsWaitingForCommand () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tkOS.Screen.TermWindow.ProcessUnconsumedInput () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tkOS.Screen.TermWindow.Update () (at \u0026lt;3ccb18ebae2a49929054690a1a176760\u0026gt;:0)\n\tUnityEngine.DebugLogHandler:LogException(Exception, Object)\n\tModuleManager.UnityLogHandle.InterceptLogHandler:LogException(Exception, Object)\n\tUnityEngine.Debug:CallOverridenDebugHandler(Exception, Object)\u003C/pre\u003E\n\u003Cp\u003E\nLog:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/cgysg9a20jdxzug/KSP.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/cgysg9a20jdxzug/KSP.log?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis seems to be only happening during scene setup, and only with people who have lots of mods.\u00A0 Once scene setup is done the messages stop.\u00A0 I don\u0027t know the cause but it is harmless at the moment.\u00A0 It seems kOS is being told to start running FixedUpdate() before the scene is done being set up, so kOS hasn\u0027t initialized everything yet. It may be a race condition that only occurs when there\u0027s a lot of mods so scene setup takes longer than normal.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-04-07T23:56:49Z\u0022 title=\u002204/07/2021 11:56  PM\u0022 data-short=\u00223 yr\u0022\u003EApril 7, 2021\u003C/time\u003E by Dunbaratu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-12T18:31:04Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223948357\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221617396171\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Dunbaratu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 4/2/2021 at 3:42 PM, Dunbaratu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know yet why the torque values being reported are clearly weird, and I\u0027ll have to examine that in detail, but for the time being this seems to really help with that design, as a workaround:\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nset steeringmanager:pitchtorquefactor to 0.25.\nset steeringmanager:yawtorquefactor to 0.25.\nset steeringmanager:rolltorquefactor to 0.25.\u003C/pre\u003E\n\u003Cspan style=\u0022background:rgba(220,220,220,.5) url(\u0026quot;//forum.kerbalspaceprogram.com/applications/core/interface/ckeditor/ckeditor/plugins/widget/images/handle.png\u0026quot;) repeat scroll 0% 0%;\u0022\u003E\u003C/span\u003E\n\u003C/div\u003E\n\u003Cspan style=\u0022background:rgba(220,220,220,.5) url(\u0026quot;//forum.kerbalspaceprogram.com/applications/core/interface/ckeditor/ckeditor/plugins/widget/images/handle.png\u0026quot;) repeat scroll 0% 0%;\u0022\u003E\u003C/span\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/141813-garwel/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022141813\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/141813-garwel/\u0022 rel=\u0022\u0022\u003E@garwel\u003C/a\u003E I had some time today to look at the problem and I think I know what\u0027s wrong.\u00A0 I don\u0027t know how to fix it yet, but I know the cause of the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem also occurs in stock, not just restock, BUT\u00A0 it is slightly exacerbated by restock.\u003Cbr\u003E\u003Cbr\u003E\nBut what *is* relevant is that the problem is caused by changes in KSP 1.11.x versus KSP 1.10.x.\u00A0 It was correct before KSP 1.11.0.\u00A0 Specifically it did this:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nKSP \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E part modules have an array of all the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E thruster transforms (position plus orientation) for the part.\u00A0 i.e. the one-nozzle \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thruster has just one thrust transform for the one nozzle, but the 4-way block has 4 thrust directions one for each nozzle.\n\u003C/li\u003E\n\u003Cli\u003E\nkOS calculated the torque capability of the \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E part by iterating over these thruster directions and summing up the torque they can give based on where they are relative to center of mass\n\u003C/li\u003E\n\u003Cli\u003E\nKSP 1.11 introduced the new feature that \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E parts have variants.\u00A0 For example you can use the version of \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E block that angles the nozzles slightly out, or the variant that has them straight.\n\u003C/li\u003E\n\u003Cli\u003E\nTo implement the variants in KSP 1.11, the superset of *all* possible nozzles across all variants are defined in the array mentioned in bullet point (1) above.\u00A0 Presumably there exists a place where it\u0027s specified which of them are actually present.\n\u003C/li\u003E\n\u003Cli\u003E\nkOS didn\u0027t \u003Cspan\u003E\u0022know\u0022 about this change\u00A0 so it was still assuming all the \u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E nozzle definitions in the array are all present at once.\u00A0 So it was calculating torque as if all the nozzles for variants other than the current variant will be thrusting too, and thus getting values much too high.\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EIt\u0027s a bit worse with Restock because it apparently defined more variants.\u00A0 (There are 9 variant nozzle positions in KSP 1.11 stock \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E 4-way blocks\u003C/span\u003E, and 18 variant positions in restock \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E 4-way blocks).\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nThe fix will have to involve me finding out where in KSP it defines which of the variant rcsTransforms are the ones currently actually existing in the part, and ignoring the ones for other variants.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-04-12T19:59:02Z","Content":"\n\u003Cp\u003E\nUpdate: I found a way to identify which of the thrusterTransforms are actually present in the current part variant and which are not, so I made a PR about it.\n\u003C/p\u003E\n"},{"CreatedByName":"garwel","CreatedById":141813,"CreatedDateTime":"2021-04-12T20:13:56Z","Content":"\n\u003Cp\u003E\nGreat to hear you got to the root of the problem. Must be very frustrating having to fix something you didn\u0027t break.\n\u003C/p\u003E\n"},{"CreatedByName":"minerbat","CreatedById":201971,"CreatedDateTime":"2021-04-26T15:41:00Z","Content":"\n\u003Cp\u003E\nhi! i\u0027m new to this mod and i\u0027m wondering if it\u0027s possible to run commands/scripts using an action group?\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2021-04-26T17:05:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223961145\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221619451660\u0022 data-ipsquote-userid=\u0022201971\u0022 data-ipsquote-username=\u0022minerbat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, minerbat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhi! i\u0027m new to this mod and i\u0027m wondering if it\u0027s possible to run commands/scripts using an action group?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. There is example in kOS documentation about it. Trick is to create endless script that react on events or triggers, like action groups. For example:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022com\u0022\u003E// showing GUI on demand by pressing action group\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\non AG4 \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAircraft_GUI\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eshow\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E().\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    preserve\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// ensurance that AG is triggered again on demand\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNote that is just small snipset from larger piece of code. Without it it does not make much sense, but good enough for example. When showing GUI become available in kOS, I prefer to use events on GUI buttons pressed, released, etc. Using only one action group to toggle GUI window. Rest of AGs are used for other craft controls. You can use those events as you see how it fits your purpose, though.\n\u003C/p\u003E\n"},{"CreatedByName":"Janus92","CreatedById":192355,"CreatedDateTime":"2021-05-22T20:11:06Z","Content":"\n\u003Cp\u003E\nkOS is awesome!! Thanks for the hard work! I\u0027ve been having a blast!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI couldn\u0027t help posting these gifs to show the progress I\u0027m making thanks to kOS:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022NOV10JX.gif\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002266.67\u0022 height=\u0022640\u0022 width=\u0022960\u0022 src=\u0022https://i.imgur.com/NOV10JX.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nReturning from a Retrograde orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022uIF1Jd6.gif\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002266.67\u0022 height=\u0022640\u0022 width=\u0022960\u0022 src=\u0022https://i.imgur.com/uIF1Jd6.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd coming back from a Polar orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Nyc29hE.gif\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002266.67\u0022 height=\u0022640\u0022 width=\u0022960\u0022 src=\u0022https://i.imgur.com/Nyc29hE.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBill Kerman also says thanks! He lost his sandwich during the landing though. Must have fallen somewhere under the seat..\n\u003C/p\u003E\n"},{"CreatedByName":"New Horizons","CreatedById":133013,"CreatedDateTime":"2021-05-24T18:48:32Z","Content":"\n\u003Cp\u003E\nI have one simple question to file format of global files in drive 0. Docs mentions the suffix \u0022.ks\u0022, but I get files without any ending when saving them in drive 0.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2021-05-24T21:14:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223978121\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221621882112\u0022 data-ipsquote-userid=\u0022133013\u0022 data-ipsquote-username=\u0022New Horizons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, New Horizons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have one simple question to file format of global files in drive 0. Docs mentions the suffix \u0022.ks\u0022, but I get files without any ending when saving them in drive 0.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u0022When saving them in drive 0\u0022 from kOS or from outside the game in some file manager or text editor?\u00A0\u00A0 I believe when kOS *reads* the files it can accept them without mentioning the .ks but when *writing* them you need to explicitly include it.\u00A0 When in doubt just state it explicitly.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if you are on Windows, be aware of the secret trap where the default settings for its file manager window actively lie to you about the filename by hiding the extension portion of the filename.\u00A0 If you are on Windows, then in Windows Explorer (the file browsing window), open the folder Ships/Script and click folder options in the top of the window and then \u0022view\u0022 and there should be a checkbox that hides extensions.\u00A0 It\u0027s turned on by default and you need to change that so it will stop hiding the true filenames.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-05-24T21:14:37Z\u0022 title=\u002205/24/2021 09:14  PM\u0022 data-short=\u00223 yr\u0022\u003EMay 24, 2021\u003C/time\u003E by Dunbaratu\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"New Horizons","CreatedById":133013,"CreatedDateTime":"2021-05-24T21:24:09Z","Content":"\n\u003Cp\u003E\nI actually activated file extension in Windows Explorer. I will try creating a file with \u0022.ks\u0022 ending iin my external editor. But saving files ingame does create them without any ending and running them works fine.\n\u003C/p\u003E\n"},{"CreatedByName":"JebIsDeadBaby","CreatedById":185823,"CreatedDateTime":"2021-06-03T08:29:25Z","Content":"\n\u003Cp\u003E\nQuestion about creating directions by adding rotations to predefined directions, like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ELOCK STEERING TO SHIP:PROGRADE \u002B R(90,0,0).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhere components of R are (pitch, yaw, roll). This should in effect point the ship to Radial Out. And it works like this while in Kerbin\u00A0orbit. However, in Mun orbit, R seems to be build like this\u00A0(yaw, pitch, roll). The same command will point the ship in the Normal direction.\u00A0This was confusing me for quite some time but since I use rotations rarely, whenever this happened to me I thought I forgot something about coordinate systems again. But today I decided to check it out on two vessels (one orbiting Kerbin and one orbiting Mun in the same game session) and I\u0027m positively 100% sure - the same command gives different results in different\u00A0\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u0027s. Why is that?\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2021-06-04T00:56:46Z","Content":"\n\u003Cp\u003E\nDirections represent rotations, which should be multiplied. The addition of directions is supported but not well behaved as explained in the docs here \u003Ca href=\u0022https://ksp-kos.github.io/KOS_DOC/math/direction.html#operations-and-methods\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS_DOC/math/direction.html#operations-and-methods\u003C/a\u003E .\n\u003C/p\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2021-06-06T22:53:36Z","Content":"\n\u003Cp\u003E\n...it\u0027s more likely you want R * V, rather than the more logical V *R... because that\u0027s the way matrices in maths work \u003Cspan\u003E\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOn another topic, if someone wants to\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eset DEBUG to True.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand take a look at:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://sourceforge.net/p/obtlib/code/HEAD/tree/head/Ships/Script/obtlib/lib/obtlib_mission.ks\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sourceforge.net/p/obtlib/code/HEAD/tree/head/Ships/Script/obtlib/lib/obtlib_mission.ks\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/z6uQoxk\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/z6uQoxk\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(slightly more advanced, working copy - also points out another error in kOS\n\u003C/p\u003E\n\u003Cp\u003E\ncaused by \u0022peeklog()\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been warned off trying to use the normal file access in kOS before, but for this case, JSON is far overdoing it and entirely unnecessary. All I need is a simple line by line access to files.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso there\u0027s that \u0022Contact the developers\u0022 thing. Normally I\u0027d put this on github, but with the forced password changes a while back, I\u0027ve lost access to my github account and I have little reason or desire to make a new one.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers. (no, i\u0027m not called Kevin \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-06T23:09:01Z\u0022 title=\u002206/06/2021 11:09  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 6, 2021\u003C/time\u003E by surge\u003C/strong\u003E\n\u003Cbr\u003Ebit of comedy, why not\n\u003C/span\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2021-06-06T23:14:13Z","Content":"\n\u003Cp\u003E\n...just noticed i gave the head revision, you\u0027ll want r83 if you are looking at that URL in the future. \u0022ooo time travel! magical\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2021-06-07T02:04:36Z","Content":"\n\u003Cp\u003E\nJanus92,\n\u003C/p\u003E\n\u003Cp\u003E\nDo you plan to release your work? Those images are quite impressive. I\u0027ve nearly perfected the same thing for bodies which have no atmosphere. Available at \u003Ca href=\u0022http://obtlib.sourceforge.net\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://obtlib.sourceforge.net\u003C/a\u003E mentioned above - file landnatm.ks. I won\u0027t link to the direct file because it depends on a few other parts of the system.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve had a go at atmospheric versions, but never really nailed it. A long time ago a guy made a similar thing:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022111881\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed8083256855\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/151600-2mf-kos-autopiloted-return-to-launch-site-development-project/\u0026amp;ct=1567829574\u0026amp;do=embed\u0022 style=\u0022height:249px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nHis relied heavily on \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E and B.R.A.K.E.S. (or whatever they\u0027re called now) and quite a few fudge factors from memory. but he had some innovative vector calculations in there. I am too dumb to understand them, but seeing your cute little targeting triangles, I figure you might be interested.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-07T02:13:25Z\u0022 title=\u002206/07/2021 02:13  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 7, 2021\u003C/time\u003E by surge\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"surge","CreatedById":136150,"CreatedDateTime":"2021-06-15T11:52:39Z","Content":"\n\u003Cp\u003E\nAfter careful reading, I notice that the file descriptor iterators need a :next after opening a file. Sorry about that, problem solved.\n\u003C/p\u003E\n\u003Cp\u003E\nThe developers might want to change that error message to something less panicky, like \u0022invalid iterator\u0022, though.\n\u003C/p\u003E\n\u003Cp\u003E\nDuring my fiddling, I did notice that :atend does not work at all. Nothing in the docs about it, it *always* returns \u0022False\u0022. \u003Cspan\u003EThe docs mention that :reset no longer works, I wonder if :atend lost its functionality in the process. C\u003C/span\u003Eertainly worth a look.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"StarkRG","CreatedById":95420,"CreatedDateTime":"2021-08-16T17:03:37Z","Content":"\n\u003Cp\u003E\nIt seems like in 1.12 the accelerometer sensor is giving an acceleration not including\u00A0the gravity vector, so sitting still on a launch pad it returns approximately 0, but when falling on kerbin it will show approximately 9.8-ish, this is contrary to what\u0027s in the documentation, assuming I\u0027m reading it correctly. Similarly the Grav sensor provides its reading in m/s (shows 9.8-ish on\u00A0kerbin), not in terms of g as the documetnation states. Is anyone else getting this or is it just some weird mod interference\u00A0on my install?\n\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2021-09-19T21:26:48Z","Content":"\n\u003Cp\u003E\nHas anyone tried to change the appearance of scrollbars? I can\u0027t get the \u0022thumb\u0022 to change appearance, despite getting everything else to change. Buttons, labels, textfields, boxes, even the scrollbar background all work, but not the thumbs.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried setting all the different states :bg suffixes (eg. normal, normal_on, ... , focused_on) to no avail.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-09-19T21:28:38Z\u0022 title=\u002209/19/2021 09:28  PM\u0022 data-short=\u00222 yr\u0022\u003ESeptember 19, 2021\u003C/time\u003E by Wercho\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Staticalliam7","CreatedById":216180,"CreatedDateTime":"2021-10-06T22:31:41Z","Content":"\n\u003Cp\u003E\nIs the docs in a pdf form that i can read offline? thanks\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2021-10-10T19:21:28Z","Content":"\n\u003Cp\u003E\nNext stop... Mun via the pole.\u003Cimg alt=\u0022:lol:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_laugh.png\u0022 title=\u0022:lol:\u0022\u003E\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/KAF2n9Ol9Q4?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://youtu.be/KAF2n9Ol9Q4\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://youtu.be/KAF2n9Ol9Q4\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-10T19:25:08Z\u0022 title=\u002210/10/2021 07:25  PM\u0022 data-short=\u00222 yr\u0022\u003EOctober 10, 2021\u003C/time\u003E by ColKlonk2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-11T13:14:12Z","Content":"\n\u003Cp\u003E\nIt seems that kOS only recognises a part as belonging to the action group it is first assigned to. Hopefully this will explain what i mean:\n\u003C/p\u003E\n\u003Cp\u003E\nExample 1: In \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, part x is assigned to action group 1 followed by action group abort. This \u003Cstrong\u003Ewill not\u003C/strong\u003E show when running print\u00A0Ship:partsingroup(\u0022abort\u0022).\n\u003C/p\u003E\n\u003Cp\u003E\nExample 2: In \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, part x is assigned to action group abort followed by action group 1.\u00A0This \u003Cstrong\u003Ewill \u003C/strong\u003Eshow when running print\u00A0Ship:partsingroup(\u0022abort\u0022).\n\u003C/p\u003E\n\u003Cp\u003E\nIs this intentional behaviour for kOS? Is there a workaround?\n\u003C/p\u003E\n"}]}