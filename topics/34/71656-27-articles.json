{"TopicId":71656,"ForumId":34,"TopicTitle":"DarkMultiPlayer 0.3.8.0 [KSP 1.12.0]","CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-05-07T13:17:56Z","PageNum":27,"Articles":[{"CreatedByName":"Spacepigu","CreatedById":111430,"CreatedDateTime":"2014-09-14T17:11:32Z","Content":"\n\u003Cp\u003EJust asking, i can\u0027t find out what ip i need to connect to a server i have setup on the same wifi as the computer i am trying to connect with. Please help!\u003C/p\u003E\n"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2014-09-14T17:57:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Spacepigu\u0022 data-cite=\u0022Spacepigu\u0022\u003E\u003Cdiv\u003EJust asking, i can\u0027t find out what ip i need to connect to a server i have setup on the same wifi as the computer i am trying to connect with. Please help!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou need the local ip.\u003C/p\u003E\u003Cp\u003EOr you can try putting localhost as the ip.\u003C/p\u003E\n"},{"CreatedByName":"Tery215","CreatedById":89094,"CreatedDateTime":"2014-09-14T18:08:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RockyTV\u0022 data-cite=\u0022RockyTV\u0022\u003E\u003Cdiv\u003EWhat other plugins are you running?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI tried it with no other plugins, it still gave me that.\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-15T09:29:33Z","Content":"\n\u003Cp\u003E@StarDrive85: About the server list, I\u0027ll have to check over it, I knew proper XHTML would bite me when I decided to use it, but I haven\u0027t heard any reports suggesting it was broken for a while :-/\u003C/p\u003E\u003Cp\u003E@Rabidsimon/Terry: I\u0027ve bumped the window ID\u0027s, hopefully this gets it out of the range where it would react with KSP or other mods. Try installing dev to see if it\u0027s fixed (I haven\u0027t run into the problem personally, but I\u0027ve heard many reports of it breaking that way)\u003C/p\u003E\u003Cp\u003E@Treki26: Now that you have mono installed, you should be able to open the terminal and type: \u0022mono DMPServer.exe\u0022 after changing to that directory. You\u0027ll likely need a tutorial on the mac terminal, but as I don\u0027t have mac I\u0027m likely not the person to help with that. I would have thought you guys had the equivalent of \u0022Open with\u0022, if that\u0027s the case, open DMPServer.exe with \u0022mono\u0022.\u003C/p\u003E\u003Cp\u003E@Spacepigu: There\u0027s a good reason 127.0.0.1 is the default in the \u0022Add Server\u0022 menu. 127.0.0.1 means the computer you are on already, commonly called \u0022localhost\u0022.\u003C/p\u003E\u003Cp\u003EYour other option is to connect to your network address (usually in the form of 192.168.0.x).\u003C/p\u003E\u003Cp\u003EPeople connecting from outside your network will need to connect to your public IP address, and you\u0027ll have to port forward. You can find out your public IP and test portforwarding with \u003Ca href=\u0022www.canyouseeme.org\u0022 rel=\u0022external nofollow\u0022\u003Ewww.canyouseeme.org\u003C/a\u003E, port 6702.\u003C/p\u003E\u003Cp\u003E@Everyone: Reverting has now been disabled in dev due to the massive problems it causes - It will be gone in dev until I either:\u003C/p\u003E\u003Cp\u003Ea) Trick KSP into not doing the revert when pressing the revert button; or\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E Keep all the vessel update messages around, causing a slow memory leak.\u003C/p\u003E\u003Cp\u003Ea Is likely impossible, b is relatively easy to do, but I\u0027d still like to throw away updates from before the revert universe save time.\u003C/p\u003E\u003Cp\u003EI\u0027ll release one more version on the 0.1.5.x series and then move on to 0.1.6.0, The 0.1.6.0 branch will be the last branch until KSP 0.25 comes out, and will also mark feature completion, so it\u0027s going to take a while (1-2 months) \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAfter that, I\u0027ll pull off some refactoring, squash whatever bugs I can and drop this silly alpha tag with 0.2.0.0 - I don\u0027t feel like counting to 7 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-15T09:42:28Z","Content":"\n\u003Cp\u003EEdit: Can we use mods on the servers? If so, what mods?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-15T09:57:25Z\u0022 title=\u002209/15/2014 09:57  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 15, 2014\u003C/time\u003E by Kerbin, We have a problem\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-15T10:32:21Z","Content":"\n\u003Cp\u003E@Kerbin, We have a problem: \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/blob/master/README.md#mods-1\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/godarklight/DarkMultiPlayer/blob/master/README.md#mods-1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EMost mods will Just Work , but remember scenario data is per-player, so for example, different players would see different kethane maps.\u003C/p\u003E\u003Cp\u003EThings that modify the time will generally conflict with DMP, also mods that are time dependent also act weird (like TAC-LS)\u003C/p\u003E\n"},{"CreatedByName":"Soundwave__007","CreatedById":73578,"CreatedDateTime":"2014-09-15T18:00:47Z","Content":"\n\u003Cp\u003EMy game crashes every time after the launchloadingscreen if i launch ksp with DMP and B9 Aerospace.\u003C/p\u003E\u003Cp\u003EBut if i have only one mod installed it works.\u003C/p\u003E\u003Cp\u003EDMP version: 0.1.5.5\u003C/p\u003E\u003Cp\u003EB9_Aerospace version: R5.2.1\u003C/p\u003E\u003Cp\u003EThis is the errorlog:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://puu.sh/bAgq3/e37b35d13c.7z\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://puu.sh/bAgq3/e37b35d13c.7z\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"inigma","CreatedById":69310,"CreatedDateTime":"2014-09-15T22:01:56Z","Content":"\n\u003Cp\u003EAwesome project so far. Did you fix the kill vessel bug? I took SSI down to work on server issues on my end again. Hopefully back up soon this week. I\u0027ve not run DMP in .24 yet.\u003C/p\u003E\n"},{"CreatedByName":"uncle natzer","CreatedById":97775,"CreatedDateTime":"2014-09-16T03:38:50Z","Content":"\n\u003Cp\u003EMy buddy and I are trying to play through LogMeIn Hamachi. I can connect but he cannot. He puts in the same ip and port that I put in but he cannot connect. He either get a time out error or just cannot connect altogether. Any help would be awesome!\u003C/p\u003E\n"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2014-09-16T09:45:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022uncle natzer\u0022 data-cite=\u0022uncle natzer\u0022\u003E\u003Cdiv\u003EMy buddy and I are trying to play through LogMeIn Hamachi. I can connect but he cannot. He puts in the same ip and port that I put in but he cannot connect. He either get a time out error or just cannot connect altogether. Any help would be awesome!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom what you said, I suppose that the issue is that he is putting his own IP.\u003C/p\u003E\u003Cp\u003EWhen he should be actually putting yours.\u003C/p\u003E\n"},{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-16T13:28:10Z","Content":"\n\u003Cp\u003EYou should make an official server \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Miner459","CreatedById":122305,"CreatedDateTime":"2014-09-16T13:52:43Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EHello I\u0027m having a problem connecting to servers i get this error \u0027error handling vessel proto messeage\u0027 Can anyone help?\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003E\u003Cspan style=\u0022font-family:sans-serif;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EEdit was able to fix it myself\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E \u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-16T19:09:57Z\u0022 title=\u002209/16/2014 07:09  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 16, 2014\u003C/time\u003E by Miner459\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-17T01:53:55Z","Content":"\n\u003Cp\u003EI\u0027m no C# programmer, but isn\u0027t it a little inefficient to have to re-instantiate the message writer every time you want to sent a message?\u003C/p\u003E\u003Cp\u003EHonestly, I\u0027m surprised you\u0027ve rolled your own message system; it seems quite daunting to use, especially in a \u0022safe\u0022 manner.\u003C/p\u003E\u003Cp\u003EOn another note, is it just me or is the \u0022lag\u0022 on the ships \u0022not really happening\u0022? From the way the camera reacts, it looks like the vessel is physically moving fluidly, but the model is lagging behind it or updating roughly. Could just be my imagination.\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-17T10:23:19Z","Content":"\n\u003Cp\u003E@Soundwave__007: KSP64 appears to be incredibly unstable on windows, can I get you to try it on 32bit with Active Texture Manager?. What\u0027s odd is that it crashed straight after:\u003C/p\u003E\u003Cp\u003EAddonLoader: Instantiating addon \u0027PersistentEmitterManager\u0027 from assembly \u0027SmokeScreen\u0027 - I guess that\u0027s part of B9.\u003C/p\u003E\u003Cp\u003E@inigma: It wasn\u0027t actually a KillVessel bug I think, it was a paradoxical bug that I never thought about. When a part breaks off a ship, it actually creates a new vessel. The client will then sync the debris back to the server, even if it didn\u0027t break off for the other player.\u003C/p\u003E\u003Cp\u003EI fixed it by deleting new crafts that break off other vessels if they are controlled by other players.\u003C/p\u003E\u003Cp\u003E@uncle natzer: To date, everyone that has gotten hamachi working has never actually told me how. I can\u0027t (or maybe won\u0027t) run hamachi on linux.\u003C/p\u003E\u003Cp\u003EGenerally, you shouldn\u0027t need to bind DMPServer to your network address, 0.0.0.0 means \u0022Listen on everything\u0022. Perhaps drop into IRC one day, I\u0027d like to see a few screenshots if you figure it out.\u003C/p\u003E\u003Cp\u003EAlso I should mention to try port forwarding unless it\u0027s simply not possible (either you don\u0027t have access to your modem or \u003Ca href=\u0022https://en.wikipedia.org/wiki/Carrier-grade_NAT\u0022 rel=\u0022external nofollow\u0022\u003Eyour ISP is *insert expletives here* bad at being an ISP, and doesn\u0027t give you a public IP address in the first place\u003C/a\u003E, which is often the case with mobile internet and wireless broadband).\u003C/p\u003E\u003Cp\u003E@tetryds: I need to find a link to explain how TCP/IP works with pretty pictures, it might explain the need to port forward and what address to type when\u003C/p\u003E\u003Cp\u003E@Kerbin, We have a problem: Back in the good old days (~0.1.0.0 to maybe 0.1.2.0) I did actually run a DMPServer, the bad news is \u003Ca href=\u0022http://godarklight.info.tm/usage/\u0022 rel=\u0022external nofollow\u0022\u003EAustralia has metered internet\u003C/a\u003E, and because DMPServer is a message relay, the bandwidth usage is nearly exponential with players, so I had to take it down to avoid getting \u003Ca href=\u0022https://en.wikipedia.org/wiki/Traffic_shaping\u0022 rel=\u0022external nofollow\u0022\u003Eshaped\u003C/a\u003E every month \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E.\u003C/p\u003E\u003Cp\u003E@Miner459: That problem should be fixed in the development version - Vessels that fail to save don\u0027t get loaded into the game and PM\u0027s the server about bad vessels, I\u0027ll figure out the actual cause sooner or later when I start gathering bad vessels of the server admins (DMPServer doesn\u0027t call home or anything, there\u0027s just quite a few server admins in #DMP, it\u0027s a place for players too though!).\u003C/p\u003E\u003Cp\u003E@dsonbill: MessageWriter is a thin wrapper around MemoryStream - so hopefully it\u0027s not too expensive or hurts GC too much, but I haven\u0027t done any profiling on it. DMPServer uses MessageWriter/Reader and seems perfectly fine running on potato hardware \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EThe reason MessageWriter exists is because I *hate* BinaryFormatter with a passion, and it abstracts \u003Ca href=\u0022https://github.com/godarklight/KerbalMultiPlayer/blob/master/KMPServer/Server.cs#L2743-L2771\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E away, so I\u0027m not as likely to create bugs in the bitstream. The equivalent in DMP is \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/blob/master/Server/ClientHandler.cs#L2420-L2437\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EThe only thing I don\u0027t like about it is \u003Ca href=\u0022https://github.com/godarklight/BinarySerialiser/blob/master/MessageStream/MessageWriter.cs#L52-L136\u0022 rel=\u0022external nofollow\u0022\u003Eyou can\u0027t switch on type in C#\u003C/a\u003E, but if it annoys me enough I might replace it with a Dictionary\u0026lt;Type, Delegate\u0026gt;. That\u0027s not very likely though - as MessageWriter doesn\u0027t correct for edianness either. Perhaps I\u0027ll take care of that in 0.2.0.0 (It\u0027s not too big a problem as KSP can only run on little endian and I\u0027m unsure about big endian machines that can run mono for DMPServer).\u003C/p\u003E\u003Cp\u003EThe lag is likely real unless you\u0027re spectating updates from the future. The vessel \u0022kick\u0022 is caused by incorrect angular velocity or rotation, but I can\u0027t fix those until I break the network protocol and go for 0.1.6. The vessel replacement to update the parts is expensive though, as it kills the vessel and replaces it with a new copy every 30 seconds.\u003C/p\u003E\n"},{"CreatedByName":"doug4664","CreatedById":33837,"CreatedDateTime":"2014-09-18T07:25:44Z","Content":"\n\u003Cp\u003EI am getting some...odd behavior. When I am running a server locally I am able to connect to it no problem. However when I disconnect, the server log shows:\u003C/p\u003E\u003Cp\u003E[02:51:44][iNFO] : Client ***** disconnected in ReceiveCallback, endpoint 127.0.0.1:49672, error: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. (An existing connection was forcibly closed by the remote host)\u003C/p\u003E\u003Cp\u003E[02:51:44][DEBUG] : Error closing client connection: The operation is not allowed on non-connected sockets.\u003C/p\u003E\u003Cp\u003EI will get these messages regardless of game mode setting or KSP architecture (x86 or 64bit). I bring up the game mode thing because the main problem I am having has to do with disconnecting on the client side in career. I am able to disconnect the first time, however, if I reconnect WITHOUT RESTARTING KSP I can get onto the server but start getting the odd behavior. If I then try to disconnect again, the server still has the same log messages as above. However, on the client side, the DMP windows disappear, but I remain at the launch complex. When I try to go back to the main menu, it will not respond and the game is stuck in the launch complex, unable to get to any other screen.\u003C/p\u003E\u003Cp\u003EThis behavior DOES NOT repeat for other game mode settings (Science or Sandbox). The server log stays the same, but I am able to connect/disconnect as often as desired.\u003C/p\u003E\n"},{"CreatedByName":"PaidLeber","CreatedById":114277,"CreatedDateTime":"2014-09-18T13:47:26Z","Content":"\n\u003Cp\u003ELog Spam Issue In VAB:\u003C/p\u003E\u003Cp\u003EHi. I\u0027m getting :\u003C/p\u003E\u003Cp\u003EDarkMultiPlayer: Resetting warp rate back to 0\u003C/p\u003E\u003Cp\u003Espammed in the VAB. Warpmode on the server is set at 5\u003C/p\u003E\u003Cp\u003Ewarpmode,5\u003C/p\u003E\u003Cp\u003EIt\u0027s creating a bit of lag on the client. If you cannot reproduce it, I\u0027ll send both logs.\u003C/p\u003E\u003Cp\u003ERegards.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-18T13:51:55Z\u0022 title=\u002209/18/2014 01:51  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 18, 2014\u003C/time\u003E by PaidLeber\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-19T07:29:28Z","Content":"\n\u003Cp\u003E@Godark I see. I\u0027ve just recently installed Visual Studio again so I\u0027ve been taking a look at the sauce. Personally, I\u0027m too specialized in python to be of any help with this (my latest trend when it comes to servers is websockets, and my message system are almost always just concatenated strings \u002B rex. nuff said.). Honestly, I\u0027ve looked through too much code that I don\u0027t exactly understand the purpose or impact so it\u0027s unlikely I can help with the programming side of this beast.\u003C/p\u003E\u003Cp\u003E I do want to make some of my own commands and functionality. Any tips on getting an environment ready to compile a plugin dll? I can gather how to register the command from command handler, and that I have to extend from the plugin interface, but I\u0027m not exactly sure how to do that... Might just look for some generic C# guides.\u003C/p\u003E\u003Cp\u003EEDIT: Nevermind, I feel like such a boss. The knowledge just came flooding back to me from my early days (...and I poked around a bit).\u003C/p\u003E\u003Cp\u003EHere\u0027s something actually worth looking at.\u003C/p\u003E\u003Cp\u003EYour first command:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing DarkMultiPlayerServer;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace PluginDLLName\u003Cbr\u003E{\u003Cbr\u003E    public class ActualPluginNameOrWhatever : DMPPlugin\u003Cbr\u003E    {\u003Cbr\u003E        public ActualPluginNameOrWhatever()\u003Cbr\u003E        {\u003Cbr\u003E            DarkLog.Normal(\u0022Debug Playground has mother-blanking initialized.\u0022);\u003Cbr\u003E            CommandHandler.RegisterCommand(\u0022firebob\u0022, FireBobKerman, \u0022Fires Bob Kerman.\u0022);\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E        static int bobCount = 0;\u003Cbr\u003E\u003Cbr\u003E        // Command method MUST take a string.\u003Cbr\u003E        private static void FireBobKerman(string fooBar)\u003Cbr\u003E        {\u003Cbr\u003E            bobCount\u002B\u002B;\u003Cbr\u003E\u003Cbr\u003E            DarkLog.Normal(\u0022Fired Bob Kerman\u0022);\u003Cbr\u003E            ClientHandler.SendChatMessageToAll(\u0022WARNING: Bob Kerman has been fired.\u0022);\u003Cbr\u003E            ClientHandler.SendChatMessageToAll(\u0022Bob has been fired \u0022 \u002B bobCount \u002B \u0022 times.\u0022);\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow all I need is a way to send commands to MechJeb or something... I\u0027m guessing this is beyond the boundaries of a plugin at this moment?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E*Cleaned up the language a bit for the forums... it was pretty expletive \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EEDIT2: Holy $#!! IronPython Works with mono. I\u0027m getting some ideas....\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-20T05:43:02Z\u0022 title=\u002209/20/2014 05:43  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 20, 2014\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003Cbr\u003EEdited to reflect suggestions below; it makes a nice little example now, I think :P\n\u003C/span\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-19T10:15:10Z","Content":"\n\u003Cp\u003E@doug4664: As far as DMPServer is concerned, that message is *pretty* normal, Apparently my code closes the socket even if it\u0027s already closed. I\u0027ll fix / silence that error in 0.1.6.\u003C/p\u003E\u003Cp\u003EAs for the going back into the game thing when pressing \u0027disconnect\u0027, (/me pokes finger) squad did it. There\u0027s methods for starting games, but I haven\u0027t quite figured out what code that red exit to main menu button is hooked up to. I originally run into that all the time when I was trying to port to 0.24, then it went away, but only most of the time :-/. I might have to poke that kraken a little more - it\u0027s safer to use the red \u0022Exit to main menu\u0022 button on the space center screen for now, that does seem to work correctly.\u003C/p\u003E\u003Cp\u003E@PaidLeber: I haven\u0027t ran the other warp modes since before DMP v0.1.0.0, they\u0027ve been a bit neglected since then. The warp system will get a little bit of love for 0.1.6.0, I\u0027ll nail that bug then, along with the vote system port to LockSystem, Ignoring MCW votes for inactive players, and removing the \u0022Kicked for creating existing subspace\u0022 bug.\u003C/p\u003E\u003Cp\u003E@dsonbill: Simplifing a little here, but DMP\u0027s \u0022packets\u0022 in the TCP stream roughy looks like this (In little endian though, because of my lameness \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E):\u003C/p\u003E\u003Cp\u003E| integer (4 byte) type header | integer (4 byte payload length) | payload. Obviously in the tcp stream you\u0027ll have |packet|packet|packet all right next to each other, the payload length specifies how much longer to read before you know you have the full message (\u003Ca href=\u0022http://blog.stephencleary.com/2009/04/message-framing.html\u0022 rel=\u0022external nofollow\u0022\u003ETCP Length Prefixing\u003C/a\u003E). \u003Ca href=\u0022https://github.com/godarklight/KerbalMultiPlayer/commit/a758080850fd8bce2d75f702c8002f9ab8f5eb00\u0022 rel=\u0022external nofollow\u0022\u003EMy very first commit to KMP that took me a week to figure out actually fixed that very exact receive bug\u003C/a\u003E, I\u0027ve come a long way since that very first commit \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. EDIT: Sorry, that was because we were playing with sockets. Similar-ish problem though.\u003C/p\u003E\u003Cp\u003Epayload is a byte array that uses my MessageWriter thing, it basically bit-packs the type converted to byte[], unless it\u0027s a string, in which case it adds another length prefix for the UTF8 encoded string, and if it\u0027s an array of any of the standard types it also adds *another* length prefix for the number of elements.\u003C/p\u003E\u003Cp\u003EPlugins will be able to interact with the network over my \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/tree/mod-support\u0022 rel=\u0022external nofollow\u0022\u003Emod-support\u003C/a\u003E branch, I\u0027ve only got the basics down and given it a quick little test with an \u003Ca href=\u0022https://github.com/godarklight/DMPExampleNetworkPlugin\u0022 rel=\u0022external nofollow\u0022\u003Eexample plugin\u003C/a\u003E, It will likely be fleshed out more and improved for 0.1.6 (for example, I don\u0027t have OnConnect or OnDisconnect events in the plugin handler client side.\u003C/p\u003E\u003Cp\u003EAlso you might want to move command registration to the constructor, OnServerStart is called during a restart as well (but registered commands are ignored, so it\u0027s probably fine). base.OnServerStart is empty as well, you can remove that line \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd just a heads up, There\u0027s no function calls to remove kerbals from a game - KSP will have kittens even if you did manage it, as \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/blob/master/Client/ScenarioWorker.cs#L145-L177\u0022 rel=\u0022external nofollow\u0022\u003EKerbalRescue contracts completely bug out the game if the kerbal is missing\u003C/a\u003E (I promise to fix this properly in 0.1.6).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-19T10:17:26Z\u0022 title=\u002209/19/2014 10:17  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 19, 2014\u003C/time\u003E by godarklight\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-20T02:08:14Z","Content":"\n\u003Cp\u003EI really like the mod message system; string comparison and concatenation really is the simplest method there is afaik. I like how everything is clearly separated; It\u0027s certainly more straight-forward than some of the monstrosities I\u0027ve created in the past.\u003C/p\u003E\u003Cp\u003EAlso, I cannot thank you enough for the templates; I don\u0027t know that I ever would have gotten a ksp plugin working with my current level of knowledge with C#. I\u0027m currently working on an intuitive way I can script portions of the plugins with ironpython (might be a viable choice for a few of the ideas I have; python is pretty straight-forward if beginners want to make small changes in functionality; and no re-compile).\u003C/p\u003E\u003Cp\u003EAlso, I fixed the above example in case someone comes across it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-20T07:38:20Z\u0022 title=\u002209/20/2014 07:38  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 20, 2014\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"inigma","CreatedById":69310,"CreatedDateTime":"2014-09-21T04:42:26Z","Content":"\n\u003Cp\u003EHello!\u003C/p\u003E\u003Cp\u003EI wanted to invite you godarklight to a discussion on a mod list I\u0027m testing. Let me know in that thread if you would be interested in helping test other listed mods with yours, or if you already have.\u003C/p\u003E\u003Cp\u003EInigma\u0027s KSP Essentials Mod List\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/94353-WIP-Inigma-s-KSP-Essentials-Mod-List-%28in-Testing%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/94353-WIP-Inigma-s-KSP-Essentials-Mod-List-%28in-Testing%29\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-09-21T08:37:54Z","Content":"\n\u003Cp\u003ECan anything be done about these keyboard focus issues with the chat window? \u003C/p\u003E\u003Cp\u003E1: You can\u0027t focus on the chat by clicking on just the chat window- you have to click on the specific narrow chat input line. Is there a way to send focus to the chat line upon any click on the entire chat window?\u003C/p\u003E\u003Cp\u003E2: When typing a line in the chat window, if a player connects or disconnects, the message that appears in the chat window to tell you that they have joined (or left) the server causes the keyboard focus to shift away from the input line while you were in the middle of typing. I\u0027ve lost lots of craft that way because of how often you type \u0022spacebar\u0022 when typing text words. When the focus is taken away in the middle of typing text, I end up activating a stage with the spacebar because I type too fast to stop myself upon seeing the message appear.\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-21T10:42:49Z","Content":"\n\u003Cp\u003E@Steven Mading:\u003C/p\u003E\u003Cp\u003E1) Sounds like a good idea, but I\u0027d preserve the player name click -\u0026gt; PM functionality. I\u0027ll clean up the GUI\u0027s for 0.1.6 too I guess. I\u0027d also like to implement the flightgear style chat while the window is minimized (basically press ~ and what you type will come up in the yellow text).\u003C/p\u003E\u003Cp\u003E2) Hadn\u0027t noticed this one, thanks for letting me know \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EAlso, I will also save the window positions and also make sure they can\u0027t be dragged off screen, some people have ran into that one before.\u003C/p\u003E\u003Cp\u003E@Everyone, 0.1.6.0 is going to take me a while, I basically want to get \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer/issues/207\u0022 rel=\u0022external nofollow\u0022\u003EDMP feature complete and kind of go into bugfix only mode\u003C/a\u003E. but I\u0027ve still got my seasonal job which is why \u003Ca href=\u0022https://github.com/godarklight/\u0022 rel=\u0022external nofollow\u0022\u003Emy github history has taken a massive nose-dive\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EIt seems to be a constant month or two away at the moment \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E. After 0.1.6 comes to life and proves stable, DMP 0.2.0.0 (I can\u0027t count to 7) will be a re-factor / cleanup and will be tagged as \u0027beta\u0027.\u003C/p\u003E\u003Cp\u003EAfter that, I\u0027ll update DMP for new versions of KSP until squad releases KSPM \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EEDIT: \u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E0.1.5.6 is available\u003C/span\u003E\u003C/strong\u003E, I\u0027m tagging this now so I can make a real start on 0.1.6.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-21T11:02:29Z\u0022 title=\u002209/21/2014 11:02  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 21, 2014\u003C/time\u003E by godarklight\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-21T19:03:23Z","Content":"\n\u003Cp\u003EI\u0027ve been looking for where to start on this one:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EHook up the server admin console to the client so you can /pm the server console commands. Player names are authenticated.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhere is chat from the client handled server-side? It should be easy enough to implement if I can find the time.\u003C/p\u003E\u003Cp\u003EEDIT: Started reading the documentation like a good boy, lol; also scanned through ClientHandler again and found it right away. I\u0027ll work on it a bit later tonight.\u003C/p\u003E\u003Cp\u003EHere\u0027s a much better question: is there currently a way to authenticate admins?\u003C/p\u003E\u003Cp\u003EE2: Well I\u0027ve found what I need after looking around. The code is written very well! This should be very, very easy.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-22T05:06:49Z\u0022 title=\u002209/22/2014 05:06  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 22, 2014\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Korkin","CreatedById":122691,"CreatedDateTime":"2014-09-21T21:13:44Z","Content":"\n\u003Cp\u003Eguys can you please to setup home server. is there any instruction? Client works great. i want to try to set up the server. where do i put the DMPserver folder.\u003C/p\u003E\n"},{"CreatedByName":"longbyte1","CreatedById":17521,"CreatedDateTime":"2014-09-21T21:45:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Korkin\u0022 data-cite=\u0022Korkin\u0022\u003E\u003Cdiv\u003Eguys can you please to setup home server. is there any instruction? Client works great. i want to try to set up the server. where do i put the DMPserver folder.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can put it anywhere \u003Cem\u003Ebut\u003C/em\u003E the KSP folder. See \u003Ca href=\u0022https://github.com/godarklight/DarkMultiPlayer#server\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/godarklight/DarkMultiPlayer#server\u003C/a\u003E for instructions.\u003C/p\u003E\n"}]}