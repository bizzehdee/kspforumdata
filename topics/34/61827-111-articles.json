{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":111,"Articles":[{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-26T19:25:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ELIST TARGETS is all craft. Adding a \u0022LOADED\u0022 suffix to each vessel wouldnt be hard.\u003C/p\u003E\u003Cp\u003EThe boot stuff has no documentation because we added it before we required docs for PRs and Steven and I dont use it so it has kinda languished.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you. I think the way that LIST TARGETS works (e.g. returns list of all vessels) should be clarified in documentation.\u003C/p\u003E\u003Cp\u003ETo Dr. Goddard:\u003C/p\u003E\u003Cp\u003EI remember you were struggling with getting different boot scripts to work. I sketched a quick solution, but it requires some workarounds (e.g. tagging parts). See a rough example of the universal boot.ks script below.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E//bootloader\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eprint \u0022BOOT.KS: Checking for rootpart tag for boot script\u0022.\u003Cbr\u003Eset bootLoaderFilename to SHIP:ROOTPART:TAG.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eif bootLoaderFilename \u0026lt;\u0026gt; 0\u003Cbr\u003E{\u003Cbr\u003E    list files in fileList.\u003Cbr\u003E    for i in fileList\u003Cbr\u003E    {\u003Cbr\u003E        if i = bootLoaderFilename\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022Running bootloader: \u0022 \u002B bootLoaderFilename.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            delete \u0022dummy.ks\u0022 from 0.\u003Cbr\u003E\u003Cbr\u003E            log \u0022run \u0022 \u002B bootLoaderFilename \u002B \u0022.\u0022 to \u0022dummy.ks\u0022.\u003Cbr\u003E\u003Cbr\u003E            run dummy.\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETo Developers:\u003C/p\u003E\u003Cp\u003EI was really surprised by this career limits change below, I had to spend extra 2mils in my career save in order to get my robotic scripts to work (because InfernalRobotics utilizes DOACTION for part movement) Althought I understand your intentions, I find it a bit unfair as IR does not require you to have custom actiongroups unlocked to function.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003EIn order to be allowed to execute the \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structures/vessels/partmodule.html#structure:PARTMODULE\u0022 rel=\u0022external nofollow\u0022\u003EPartModule\u003C/a\u003E :\u003Cstrong\u003EDOACTION\u003C/strong\u003E method, either your VAB or your SPH must be upgraded to the point where it will allow access to custom action groups. This is because otherwise the :DOACTION method would be a backdoor \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201Ccheat\u00C3\u00A2\u00E2\u201A\u00AC\u00C2 past the restricted access to the action group feaures of various PartModules that the game is meant to have.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-26T19:44:00Z\u0022 title=\u002202/26/2015 07:44  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 26, 2015\u003C/time\u003E by Ziw\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-02-26T20:07:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EAre you also getting unbound too? or are you just seeing bind,bind,bind?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI get \u0022unbound\u0022 if I do something like \u0022SET ship:control:neutralize to true.\u0022 but since my PID loop just updates the control every round, that is showing up many times. It only puts unbound into the log when the script stops controlling things.\u003C/p\u003E\u003Cp\u003EPseudocode:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EUNTIL end {\u003Cbr\u003EWAIT 0.001.\u003Cbr\u003ECalculate PID control.\u003Cbr\u003ESET ship:control:pitch TO x. //adds \u0022binding\u0022 note to log every time the loop cycles.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E//control done\u003Cbr\u003ESET ship:control:neutralize TO true. //adds unbound to log\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-26T21:35:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003Ethere\u0027s a workaround where you can attach engines without symmetry turned on and it won\u0027t cross feed their air intakes together then, provided you can be exact enough to make them have symmetry by hand, and that\u0027s hard.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not quite as bad: you can place whole units of (intake\u002Bengine) with symmetry and things will work out nicely. Or prepare one wing, then (re)place it with symmetry and you have two symmetric wings with identical air distribution.\u003C/p\u003E\u003Cp\u003EBut yes; people are *very* interested in squeezing the most out of their engines. If the MJ/KER figures are to be trusted, jets will work nicely until they\u0027re down to pretty exactly 10% of what they\u0027d like to have. There\u0027s a design school that mandates an odd number of engines, with one dead center. When all others are out and that last engine gets air from all intakes, it can/will still produce meaningful thrust at 60km. If you can set the throttle just right, that is: settings of 0.1-0.05 are hard to do for keyboard users.\u003C/p\u003E\u003Cp\u003EI\u0027ve devised all kinds of functions that approximate the perfect throttle setting, but they\u0027re rather arbitrary affairs.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-27T03:24:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ziw\u0022 data-cite=\u0022Ziw\u0022\u003E\u003Cdiv\u003EThank you. I think the way that LIST TARGETS works (e.g. returns list of all vessels) should be clarified in documentation.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI personally hate the name of it. It\u0027s a naming choice going back all the way to Nivekk. The name implies that:\u003C/p\u003E\u003Cp\u003E(A) The only reason for getting a list of vessels is for the sake of setting a target (which is false), and\u003C/p\u003E\u003Cp\u003E(\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E The only things you can target are vessels (which is false - there\u0027s bodies and docking ports).\u003C/p\u003E\u003Cp\u003EIt\u0027s just a list of all the vessels in the campaign save. That\u0027s all. The name of it is terribly misleading.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI was really surprised by this career limits change below, I had to spend extra 2mils in my career save in order to get my robotic scripts to work (because InfernalRobotics utilizes DOACTION for part movement) Althought I understand your intentions, I find it a bit unfair as IR does not require you to have custom actiongroups unlocked to function.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003EIn order to be allowed to execute the \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structures/vessels/partmodule.html#structure:PARTMODULE\u0022 rel=\u0022external nofollow\u0022\u003EPartModule\u003C/a\u003E :\u003Cstrong\u003EDOACTION\u003C/strong\u003E method, either your VAB or your SPH must be upgraded to the point where it will allow access to custom action groups. This is because otherwise the :DOACTION method would be a backdoor \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201Ccheat\u00C3\u00A2\u00E2\u201A\u00AC\u00C2 past the restricted access to the action group feaures of various PartModules that the game is meant to have.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t actually like this rule either and I\u0027m the one that implemented it. I just don\u0027t like it when mods make things easier than stock in ways that aren\u0027t just fixing stock bugs or stock annoying missing bits (i.e. alarm clock, for example, makes things easier than stock, but by basically fixing a missing feature that stock needs. kerbal engineer makes things easier, but by un-hiding information that stock has no right to be hiding from the player. In-flight waypoints just un-hides information that stock has no right to be hiding from the player, and so on.)\u003C/p\u003E\u003Cp\u003EBut this is different. Allowing a back-door way to enable a feature that stock is *deliberately disabling* is something else entirely, and I don\u0027t feel comfortable doing it. Ideally, what I\u0027d like to see is to make the stock game stop using this silly feature. The custom action groups are not in any way related to how nice your VAB is, thematically. They\u0027re part of how your flight controls can pilot the ship, not part of how you engineer building it.\u003C/p\u003E\u003Cp\u003EBut nevertheless I\u0027m reluctant to change it unless stock is changed, even though I think the change would make perfect sense, the change should happen in STOCK, not in a mod.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIncidentally, the claim that IR allows you to call its action groups without an upgraded VAB isn\u0027t *quite* true. It\u0027s more accurate to say that IR has two different user interfaces to access the part movement, ONE of which is the action groups and THAT interface is still restricted by VAB level just like in kOS. \u003C/p\u003E\u003Cp\u003EIt\u0027s just that IR also provides a second way to move the parts that kOS can\u0027t see, using IR\u0027s own GUI window that is entirely outside the action group system altogether.\u003C/p\u003E\u003Cp\u003EI\u0027m waffling on this, however, because really you still *CAN* use the IR action groups from the stock action groups, its just stupid and weird (i.e. turn the brakes on to slide the slider up, and turn the lights on to slide the slider down.) So the dividing line isn\u0027t \u0022can you call the action\u0022 but rather \u0022can you call it from Ag1, ag2, ag3, etc.\u0022)\u003C/p\u003E\u003Cp\u003EAnd come to think of it.... I don\u0027t think we use the VAB level as a restriction against using AG1, AG2, AG3, etc. We just rely on the fact that you can\u0027t BUILD anything into those action groups anyway without the VAB interface allowing it.\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-27T09:28:30Z","Content":"\n\u003Cp\u003EAs I said, I understand your intentions and mostly agree. Just a little but frustrated that IR\u0027s mechanics are not accessible outside of their GUI without action groups. But the same goes for RT antenna targeting for example - you cannot target the RT antennas via KOS script (as discovered by someone earlier in the thread), best you can do is open the GUI.\u003C/p\u003E\u003Cp\u003EOnly hope for early robotics would be asking sirkut to add KSPEvents to robotic parts mimicking \u0022move \u002B\u0022 and \u0022move -\u0022 actions. Or even implement proper iterative movements - eg \u0022move \u002B\u0022 button to move for 1 unit set in Min Increment field.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-27T13:01:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003E(querying intake air)\u003Cp\u003EEdit: Have you tried looking at the intake fields? it looks like airflow, intake drag, air speed and status should be available.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHuh? I just tried part:airflow and so on, to no avail. How do I get a list of everything that might be queryable about a given part?\u003C/p\u003E\u003Cp\u003ERight now I only know about :intakeair, which only shows the stored amount and as such isn\u0027t really helping.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003Ealso, may I inquire about issues #549/#550? If these are non-issues, I\u0027d like to know what I fail to grasp.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-27T13:04:55Z\u0022 title=\u002202/27/2015 01:04  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-02-27T17:54:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EHuh? I just tried part:airflow and so on, to no avail. How do I get a list of everything that might be queryable about a given part?\u003Cp\u003ERight now I only know about :intakeair, which only shows the stored amount and as such isn\u0027t really helping.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003Ealso, may I inquire about issues #549/#550? If these are non-issues, I\u0027d like to know what I fail to grasp.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyou can directly interrogate any part for the contents of the right click menu. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/general/parts_and_partmodules.html#exploring-what-s-there-to-find-field-event-action-names\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/general/parts_and_partmodules.html#exploring-what-s-there-to-find-field-event-action-names\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI believe there is more available for intakes if you use this.\u003C/p\u003E\u003Cp\u003E* Flow\u003C/p\u003E\u003Cp\u003E* Drag\u003C/p\u003E\u003Cp\u003E* Air Speed\u003C/p\u003E\u003Cp\u003E#549/#550 are features that have been asked for. I dont know if there is a simple work around for them and I have been thinking about how to best resolve the request.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-27T17:57:43Z\u0022 title=\u002202/27/2015 05:57  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-27T22:16:43Z","Content":"\n\u003Cp\u003EI am experimenting with running multiple cores on one ship and trying to find a way, apart from obvious tagging, from within a script to locate a part of the ship that is the \u003Cstrong\u003Eactive \u003C/strong\u003Ecore itself? I want to use this to save bootloader script name in the each core\u0027s tag to be executed on this core whenever the ship loads from rails.\u003C/p\u003E\u003Cp\u003EAll I can think of requires some basic string operations, which are not yet present in KOS.\u003C/p\u003E\u003Cp\u003EMaybe something like \u0022list cpu\u0022 command which behaves like \u0022list parts\u0022 command, but returns the list of all cores in physics range with some indication of active cores (almost the same functionality you get on a welcome screen of a telnet terminal).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-27T22:23:27Z\u0022 title=\u002202/27/2015 10:23  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by Ziw\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-02-27T23:52:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI personally hate the name of it. It\u0027s a naming choice going back all the way to Nivekk. The name implies that:\u003Cp\u003E(A) The only reason for getting a list of vessels is for the sake of setting a target (which is false), and\u003C/p\u003E\u003Cp\u003E(\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E The only things you can target are vessels (which is false - there\u0027s bodies and docking ports).\u003C/p\u003E\u003Cp\u003EIt\u0027s just a list of all the vessels in the campaign save. That\u0027s all. The name of it is terribly misleading.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELets change it then, im sure we will get some grumbling but if we deprecate it and remove it a few releases later im sure we can come up with better names.\u003C/p\u003E\u003Cp\u003Esounds like we have two pieces of state we are trying to get. \u003C/p\u003E\u003Cp\u003EAll of the \u0022craft\u0022 ( currently TARGETS )\u003C/p\u003E\u003Cp\u003E * TRACKABLES ( meaning its in the tracking station list )\u003C/p\u003E\u003Cp\u003E * CONTACTS ( Like Radar contacts? )\u003C/p\u003E\u003Cp\u003E * .... crap this list is crappy to name\u003C/p\u003E\u003Cp\u003EThe ability to query a craft to see if its loaded or not\u003C/p\u003E\u003Cp\u003E* TARGET:LOADED\u003C/p\u003E\u003Cp\u003E* TARGET:INRANGE\u003C/p\u003E\u003Cp\u003E* TARGET:???????\u003C/p\u003E\u003Cp\u003EHelp us out people \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E i am having a lack of imagination\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ziw\u0022 data-cite=\u0022Ziw\u0022\u003E\u003Cdiv\u003EI am experimenting with running multiple cores on one ship and trying to find a way, apart from obvious tagging, from within a script to locate a part of the ship that is the \u003Cstrong\u003Eactive \u003C/strong\u003Ecore itself? I want to use this to save bootloader script name in the each core\u0027s tag to be executed on this core whenever the ship loads from rails.\u003Cp\u003EAll I can think of requires some basic string operations, which are not yet present in KOS.\u003C/p\u003E\u003Cp\u003EMaybe something like \u0022list cpu\u0022 command which behaves like \u0022list parts\u0022 command, but returns the list of all cores in physics range with some indication of active cores (almost the same functionality you get on a welcome screen of a telnet terminal).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe were just talking about this earlier in the week. would you mind adding this as a Github issue? This makes sense as something you should be able to do.\u003C/p\u003E\n"},{"CreatedByName":"Sirplentifus","CreatedById":124479,"CreatedDateTime":"2015-02-28T02:30:51Z","Content":"\n\u003Cp\u003EAwesome mod!\u003C/p\u003E\u003Cp\u003EI\u0027ve been using it mostly to make controllers. My latest is an attitude hold controller, and it works quite nicelly.\u003C/p\u003E\u003Cp\u003EHowever, I\u0027ve been wanting to make a wing leveler, but I can\u0027t find out how to get my roll angle. The values given by SHIP:FACING are obtained using a weird, barelly explained reference frame which uses propper euler angles. This two situations together make it almost impossible for me to figure out the roll angle of my aircraft.\u003C/p\u003E\u003Cp\u003EI wish there was an angle system like (heading, pitch, bank), aka nautical angles. It would be awesome if it was impelemented. Does anyone know a workaround this problem? I would appreciate it a lot.\u003C/p\u003E\u003Cp\u003EThanks for this cool mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-28T06:50:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sirplentifus\u0022 data-cite=\u0022Sirplentifus\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHowever, I\u0027ve been wanting to make a wing leveler, but I can\u0027t find out how to get my roll angle. The values given by SHIP:FACING are obtained using a weird, barelly explained reference frame which uses propper euler angles. This two situations together make it almost impossible for me to figure out the roll angle of my aircraft.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is my really long explanation of the angles system. I turned on he microphone and just started talking through stuff. An example of bank angle happens towards the end about 22-23 minutes in, but it wont make much sense if you skip ahead to it without watching the earlier bits.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/7byYiZZBBVc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-28T08:37:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003ELets change it then, im sure we will get some grumbling but if we deprecate it and remove it a few releases later im sure we can come up with better names.\u003Cp\u003Esounds like we have two pieces of state we are trying to get. \u003C/p\u003E\u003Cp\u003EAll of the \u0022craft\u0022 ( currently TARGETS )\u003C/p\u003E\u003Cp\u003E * TRACKABLES ( meaning its in the tracking station list )\u003C/p\u003E\u003Cp\u003E * CONTACTS ( Like Radar contacts? )\u003C/p\u003E\u003Cp\u003E * .... crap this list is crappy to name\u003C/p\u003E\u003Cp\u003EThe ability to query a craft to see if its loaded or not\u003C/p\u003E\u003Cp\u003E* TARGET:LOADED\u003C/p\u003E\u003Cp\u003E* TARGET:INRANGE\u003C/p\u003E\u003Cp\u003E* TARGET:???????\u003C/p\u003E\u003Cp\u003EHelp us out people \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E i am having a lack of imagination\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf we are discussing the change of the name only (without changing how it works), then why not just LIST VESSELS? It makes sense as it returns a list of elements of type Vessel.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EWe were just talking about this earlier in the week. would you mind adding this as a Github issue? This makes sense as something you should be able to do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDone, issue #623\u003C/p\u003E\n"},{"CreatedByName":"Sirplentifus","CreatedById":124479,"CreatedDateTime":"2015-02-28T20:51:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThis is my really long explanation of the angles system. I turned on he microphone and just started talking through stuff. An example of bank angle happens towards the end about 22-23 minutes in, but it wont make much sense if you skip ahead to it without watching the earlier bits.\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/7byYiZZBBVc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for that video. With what I learned from your video, I managed to calculare the vector which always points to the right of the projection of SHIP:FOREVECTOR onto the horizon plane. Here it is in the pictures (Called Right). Its angle with SHIP:STARVECTOR (called Right wing in the pictures) is the bank angle!\u003C/p\u003E\u003Cp\u003EYou can see in the pictures the math I used to calculate it. A side effect of the method used to calculate it is that the Right vector becomes smaller as pitch angle increases. And unfortunately, the kOS function for angles between vectors makes no distinction between positive and negative vectors, so I\u0027m going to use the arcsin of the magnitude of the cross product between those vectors divided by their respective magnitudes.\u003C/p\u003E\u003Cp\u003EThank you for helping! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: I forgot to actually post the image: \u003Ca href=\u0022http://imgur.com/RAPhfxu\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/RAPhfxu\u003C/a\u003E , \u003Ca href=\u0022http://imgur.com/B4x0Taf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/B4x0Taf\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAnd here are some pictures showing that I did manage to calculate the bank angle from these vectors: \u003Ca href=\u0022http://imgur.com/a/TkmY5#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/TkmY5#0\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-28T21:49:34Z\u0022 title=\u002202/28/2015 09:49  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 28, 2015\u003C/time\u003E by Sirplentifus\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-02-28T23:20:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wercho\u0022 data-cite=\u0022Wercho\u0022\u003E\u003Cdiv\u003EThe addition of rotations is pretty confusing to me, but with the inversion it sounds like you are running into a problem with order of operations for the rotation. You could try switching the \u0027\u002B\u0027 to \u0027*\u0027 (which AFAIK perform the same operation on directions). Check out the \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/math/direction.html\u0022 rel=\u0022external nofollow\u0022\u003Edocumentation \u003C/a\u003Eon directions and maybe you\u0027ll understand order of operations better than I do.\u003Cp\u003EFor these situations, I use the heading function instead because I understand it, and combine it with lookdirup if needed. So I would write your code as :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 100.\u003Cbr\u003Elock steering to heading(90,90). //90 heading is east, 90 pitch is up\u003Cbr\u003Eprint \u0022Beginning roll program.\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 500.\u003Cbr\u003Elock steering to heading(90,70). //still east, now 70deg above horizon\u003Cbr\u003E...\u003Cbr\u003Eetc.\u003Cbr\u003E...\u003Cbr\u003E\u003Cbr\u003Ewait until altitude \u0026gt; 55000.\u003Cbr\u003Elock steering to lookdirup(heading(90,15):forevector, (-1)*ship:up:forevector). //gets the \u0022point at\u0022 direction as east \u002B 15deg above horizon, and points the top of the ship at the opposite of the up vector\u003Cbr\u003E...\u003C/pre\u003E\u003Cp\u003E(Code may have typos)\u003C/p\u003E\u003Cp\u003EYou can totally do things the way you are doing them, I just don\u0027t understand direction math well enough to do it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi Wercho, I tried using this with a basic setup of Mk1-2 pod and a fuel tank with engine, and with the \u0022lock steering to lookdirup(heading(90,15):forevector, (-1)*ship:up:forevector).\u0022 it would roll wildly from one extreme to the other.\u003C/p\u003E\u003Cp\u003EIs there any other way I can manage a roll from inverted to heads up position?\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-03-01T04:43:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003EHi Wercho, I tried using this with a basic setup of Mk1-2 pod and a fuel tank with engine, and with the \u0022lock steering to lookdirup(heading(90,15):forevector, (-1)*ship:up:forevector).\u0022 it would roll wildly from one extreme to the other.\u003Cp\u003EIs there any other way I can manage a roll from inverted to heads up position?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, after I wrote the code above it occured to me that the heading function might work straight, using the opposite heading and a pitch \u0026gt; 90 degrees. I just tried it (though not in atmo). This produced a smooth roll, with only a couple of degrees of wobble:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ELOCK steering to heading(90,15). //east, 15 deg above horizon\u003Cbr\u003EWAIT 10.\u003Cbr\u003ELOCK steering to heading(270,165). //west, pitched all the way past vertical to inverted 15 deg above horizon\u003Cbr\u003EWAIT 5.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-03-01T09:32:23Z","Content":"\n\u003Cp\u003EI tried this with a line of code to fly straight up to 10k before a turn. The entire way up it rotates left to right constantly.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ELOCK steering to heading(90,90).\u003Cp\u003Ewait until altitude \u0026gt; 10000.\u003C/p\u003E\u003Cp\u003ELOCK steering to heading(90,15). //east, 15 deg above horizon\u003C/p\u003E\u003Cp\u003EWAIT 10.\u003C/p\u003E\u003Cp\u003ELOCK steering to heading(270,165). //west, pitched all the way past vertical to inverted 15 deg above horizon\u003C/p\u003E\u003Cp\u003EWAIT 5.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ee: I am using FAR if that could be causing issues.\u003C/p\u003E\u003Cp\u003Ee2: I think the reason the original kos code of \u0022lock steering to up \u002B R(0,-75,270).\u0022 is that it is just like pressing Q or E on the keyboard. This would be fine for a conventional rocket, but as a shuttle is largely assymetrical, the pitch is not compensated for, so I need to figure out a different way to do this.\u003C/p\u003E\u003Cp\u003EI can however set MJ\u0027s SMART ASS SURF mode to 90head, 7 pitch, 0 roll prior to launch and have the program end at 55000m, and MJ would take over and complete the roll for me. Cheaty? Yes, but it gets the job done.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-01T10:04:45Z\u0022 title=\u002203/01/2015 10:04  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 1, 2015\u003C/time\u003E by falken\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2015-03-01T10:09:12Z","Content":"\n\u003Cp\u003EIf your plane is rolling unstable (check FAR graph and analysis) then kOS should have trouble to maintain stability.\u003C/p\u003E\u003Cp\u003EAt 10km you need to go above 1Mach to maintain craft stability and in transition area almost all craft will have some kind of problems.\u003C/p\u003E\u003Cp\u003ETry with slightly dehadrial wings, small vertical surfaces on wingtips and larger vertical surface on tail and/or vertical surfaces further back from main wing helps with roll stability. Check links in signature, but keep in mind that those examples were for researching craft limits. In most cases you will not need such high wingspan, but I have researching possibilities with those designs.\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-03-01T14:51:21Z","Content":"\n\u003Cp\u003Ekcs123, it\u0027s because it\u0027s a space shuttle with external tank on the belly, it rolls a bit funny. MJ\u0027s smart ass surf mode compensates well enough, kOS less so.\u003C/p\u003E\u003Cp\u003EA quick question, what command would I use to activate an action group? I want my program to unfurl solar panels and antennae at set times.\u003C/p\u003E\u003Cp\u003Ee: Also, someone tell me I\u0027m not crazy. I made a conventional rocket, and it stages when I still have a third of the liquid fuel left in the 1st stage tank. I have no idea why.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Ewait until altitude \u0026gt; 8500.\u003Cp\u003Elock steering to up \u002B R(0,-55,90).\u003C/p\u003E\u003Cp\u003EWHEN STAGE:LIQUIDFUEL \u0026lt; 0.001 THEN {\u003C/p\u003E\u003Cp\u003ESTAGE.\u003C/p\u003E\u003Cp\u003Eprint \u0022FIRST STAGE SEPARATION.\u0022.\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-01T15:16:34Z\u0022 title=\u002203/01/2015 03:16  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 1, 2015\u003C/time\u003E by falken\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-03-02T10:42:08Z","Content":"\n\u003Cp\u003EI just realised that RequiredPower consumed by CPU depends on whether or not you are using Archive\u003C/p\u003E\u003Cp\u003EIf you switch to Archive CPU consumes 0.2 EC/sec, if you switch to local volume it consumes 0.02 or 0.04 depending on CPU size. Is that an intended behaviour?\u003C/p\u003E\u003Cp\u003EAlso please see issue #632\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/632\u0022 rel=\u0022external nofollow\u0022\u003E Boot file selection bug (simple fix inside). \u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-02T10:51:51Z\u0022 title=\u002203/02/2015 10:51  AM\u0022 data-short=\u00229 yr\u0022\u003EMarch 2, 2015\u003C/time\u003E by Ziw\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-03-02T19:55:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ziw\u0022 data-cite=\u0022Ziw\u0022\u003E\u003Cdiv\u003EI just realised that RequiredPower consumed by CPU depends on whether or not you are using Archive\u003Cp\u003EIf you switch to Archive CPU consumes 0.2 EC/sec, if you switch to local volume it consumes 0.02 or 0.04 depending on CPU size. Is that an intended behaviour?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is intended, the idea being that it should take more power to communicate to the archive back @KSC then it does to pull files off of the local volume.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003Ekcs123, it\u0027s because it\u0027s a space shuttle with external tank on the belly, it rolls a bit funny. MJ\u0027s smart ass surf mode compensates well enough, kOS less so.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOur LOCK STEERING is for basic craft. More advanced craft should use the raw controls. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/commands/flight/raw.html?highlight=raw\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/commands/flight/raw.html?highlight=raw\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003EA quick question, what command would I use to activate an action group? I want my program to unfurl solar panels and antennae at set times.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/bindings.html?highlight=ag1#boolean-toggle-fields\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/bindings.html?highlight=ag1#boolean-toggle-fields\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003Ee: Also, someone tell me I\u0027m not crazy. I made a conventional rocket, and it stages when I still have a third of the liquid fuel left in the 1st stage tank. I have no idea why.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewe currently are tracking down a bug in the new way we are aggregating resources. \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/513.\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/513.\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2015-03-03T09:25:46Z","Content":"\n\u003Cp\u003EThanks, I will look into that. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Alturen","CreatedById":138984,"CreatedDateTime":"2015-03-04T08:23:24Z","Content":"\n\u003Cp\u003EThis is an excellent mod, and in keeping with the spirit of the game. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-03-04T10:29:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Alturen\u0022 data-cite=\u0022Alturen\u0022\u003E\u003Cdiv\u003EThis is an excellent mod, and in keeping with the spirit of the game. Thanks!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d say that trio of RemoteTech \u002B IR \u002B KOS mods make the game so much deeper. It\u0027s like a sandbox within a sandbox.\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-03-05T22:12:32Z","Content":"\n\u003Cp\u003EShould the OP and Kerbalstuff (and therefore CKAN) be updated to 0.16.2? I just saw that there were updates on Github, but not on those two spots.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-03-05T22:48:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wercho\u0022 data-cite=\u0022Wercho\u0022\u003E\u003Cdiv\u003EShould the OP and Kerbalstuff (and therefore CKAN) be updated to 0.16.2? I just saw that there were updates on Github, but not on those two spots.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit should be, I totally forgot about it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E my bad\u003C/p\u003E\n"}]}