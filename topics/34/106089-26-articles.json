{"TopicId":106089,"ForumId":34,"TopicTitle":"[1.12.x] Cryogenic Engines: Liquid Hydrogen and Methane Rockets! (Jan 22, 2022)","CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-04-29T20:06:57Z","PageNum":26,"Articles":[{"CreatedByName":"nerf_hurrdurr","CreatedById":132797,"CreatedDateTime":"2016-07-15T14:44:40Z","Content":"In the newer releases of Ven\u0027s Stock Part Revamp (I\u0027ve noticed them since 1.9.2, don\u0027t know if they predate that), Ven released some softshell tanks. It appears that these new parts are being exempted from the stock tank fuel switch config bundled in CryoEngines.\n\nI\u0027d like to find a way to apply that switch to the tanks to add the option for \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u0026O/\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O. I was thinking some sample code I could adapt or write to make a simple \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E .cfg patch to add that functionality to these parts. I\u0027m not much of a programmer and what I do know is pretty base, but if someone could point me in the right direction, I\u0027m confident I\u0027d be able to figure out a fix with a little effort."},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-07-15T15:28:30Z","Content":"\u003E \n\u003E \n\u003E 43 minutes ago, nerf\\_hurrdurr said:\n\u003E \n\u003E \n\u003E In the newer releases of Ven\u0027s Stock Part Revamp (I\u0027ve noticed them since 1.9.2, don\u0027t know if they predate that), Ven released some softshell tanks. It appears that these new parts are being exempted from the stock tank fuel switch config bundled in CryoEngines.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027d like to find a way to apply that switch to the tanks to add the option for \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E\u0026O/\u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E/O. I was thinking some sample code I could adapt or write to make a simple \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E .cfg patch to add that functionality to these parts. I\u0027m not much of a programmer and what I do know is pretty base, but if someone could point me in the right direction, I\u0027m confident I\u0027d be able to figure out a fix with a little effort.\n\u003E \n\nAre those tanks \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E only? That might be why they\u0027re not targeted."},{"CreatedByName":"nerf_hurrdurr","CreatedById":132797,"CreatedDateTime":"2016-07-15T15:54:42Z","Content":"\u003E \n\u003E \n\u003E 13 minutes ago, Nertea said:\n\u003E \n\u003E \n\u003E Are those tanks \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E only? That might be why they\u0027re not targeted.\n\u003E \n\nThey are. Is there a way I can easily negate that?\n\nI like that your tanks provide additional benefits by slowing LH boil-off, but I thought having some cheaper, lightweight softshell tanks for deep space missions/fuel stations would be useful. Obviously there are some real-life limitations that don\u0027t exist in KSP and I\u0027m not by any means knowledgeable to how fuel is stored in vacuum IRL (I imagine KSP\u0027s fuel tanks are very dumbed down), but perhaps what I\u0027m trying to do isn\u0027t \u0022in the spirit\u0022 of the part\u0027s usage?"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-07-15T16:05:25Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, nerf\\_hurrdurr said:\n\u003E \n\u003E \n\u003E They are. Is there a way I can easily negate that?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I like that your tanks provide additional benefits by slowing LH boil-off, but I thought having some cheaper, lightweight softshell tanks for deep space missions/fuel stations would be useful. Obviously there are some real-life limitations that don\u0027t exist in KSP and I\u0027m not by any means knowledgeable to how fuel is stored in vacuum IRL (I imagine KSP\u0027s fuel tanks are very dumbed down), but perhaps what I\u0027m trying to do isn\u0027t \u0022in the spirit\u0022 of the part\u0027s usage?\n\u003E \n\nThe issue with targeting \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E-only tanks is that you collaterally target spaceplane tanks, which have different mass/cost/toughness ratios than lifter tanks. I haven\u0027t come up with a great solution for this. \n\nIf you want to try to do something, look at CryoTanksFuelTankSwitcher.cfg. It handles all the switching - you could try to copy the general idea and create a proper @PART[\\*]:HAS[]... expression to only target lifter fuel tanks."},{"CreatedByName":"Diche Bach","CreatedById":76097,"CreatedDateTime":"2016-07-17T17:11:32Z","Content":"Any idea what this could be about?\n\n![m7zBw.gif](http://tw.greywool.com/i/m7zBw.gif)\n\nI\u0027ve got that file installed like this:\n\nC:\\Steam\\steamapps\\common\\Kerbal Space Program\\Mod Downloads\\Cryogenic\\_Engines-0.3.5\\Cryogenic\\_Engines-0.3.5\\GameData\\CryoTanks\\Patches\\CryoTanksFuelTankSwitcher.cfg\n\nThe nearby directories look like this:\n\n![o4tNc.gif](http://tw.greywool.com/i/o4tNc.gif)"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-07-18T17:43:22Z","Content":"\u003E \n\u003E \n\u003E On 7/17/2016 at 10:11 AM, Diche Bach said:\n\u003E \n\u003E \n\u003E Any idea what this could be about?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027ve got that file installed like this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E C:\\Steam\\steamapps\\common\\Kerbal Space Program\\Mod Downloads\\Cryogenic\\_Engines-0.3.5\\Cryogenic\\_Engines-0.3.5\\GameData\\CryoTanks\\Patches\\CryoTanksFuelTankSwitcher.cfg\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The nearby directories look like this:\n\u003E \n\nThat looks very wrong. The mod should go in your GameData folder. Should look like this:\n\nC:\\Steam\\steamapps\\common\\Kerbal Space Program\\GameData\\CryoTanks\\Patches\\CryoTanksFuelTankSwitcher.cfg"},{"CreatedByName":"Diche Bach","CreatedById":76097,"CreatedDateTime":"2016-07-18T17:44:52Z","Content":"Thanks Nertea. I shoul\u0027ve come back and commented out that post. I seem to have everything running well now!\n\n![0v8CV.gif](http://tw.greywool.com/i/0v8CV.gif)\n\nWell, it initializes fine but I have yet to play test it."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-07-18T17:46:10Z","Content":"\u003E \n\u003E \n\u003E On 7/17/2016 at 10:11 AM, Diche Bach said:\n\u003E \n\u003E \n\u003E C:\\Steam\\steamapps\\common\\Kerbal Space Program\\Mod Downloads\\Cryogenic\\_Engines-0.3.5\\Cryogenic\\_Engines-0.3.5\\GameData\\CryoTanks\\Patches\\CryoTanksFuelTankSwitcher.cfg\n\u003E \n\nNot related to your issue, but it\u0027s generally a bad idea to mod your Steam install.  Steam can update KSP automatically even when incompatible mods are installed and break your entire install.  It\u0027s best to copy the entire game folder (C:\\Steam\\steamapps\\common\\Kerbal Space Program) someplace else and mod there."},{"CreatedByName":"Diche Bach","CreatedById":76097,"CreatedDateTime":"2016-07-18T18:09:21Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, blowfish said:\n\u003E \n\u003E \n\u003E Not related to your issue, but it\u0027s generally a bad idea to mod your Steam install.  Steam can update KSP automatically even when incompatible mods are installed and break your entire install.  It\u0027s best to copy the entire game folder (C:\\Steam\\steamapps\\common\\Kerbal Space Program) someplace else and mod there.\n\u003E \n\nAh, that is a great suggestion. I keep Steam on a very short leash (he only gets access to the Internet on special occasions) but that is a great suggestion anyway. Some games don\u0027t seem to like being copy-pasted and run from a second copy, but good to know it is something like best-practice for KSP.\n\nBTW, would love it if either of you gentlefolk would respond to my [most recent post over in the Community Tech Tree thread.](https://forum.kerbalspaceprogram.com/index.php?/topic/90530-113-community-tech-tree-24-last-updated-180416/\u0026page=28#comment-2680522)\n\n**Edited \u003Ctime datetime=\u00222016-07-18T18:10:21Z\u0022 title=\u002207/18/2016 06:10  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 18, 2016\u003C/time\u003E by Diche Bach**"},{"CreatedByName":"mixalios","CreatedById":162307,"CreatedDateTime":"2016-07-19T14:04:58Z","Content":"Just wanted to point out that the largest hydrogen tank, the HI-530, weighs 360 tons (instead of 36 tons like it says in its description), thereby negating its usability entirely for both atomic age and cryogenic engines mods.\n\nIt\u0027s funny because in its description it says \u0022it\u0027s actually pretty light for its size\u0022 ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-07-25T00:41:09Z","Content":"\u003E \n\u003E \n\u003E On 7/19/2016 at 7:04 AM, mixalios said:\n\u003E \n\u003E \n\u003E Just wanted to point out that the largest hydrogen tank, the HI-530, weighs 360 tons (instead of 36 tons like it says in its description), thereby negating its usability entirely for both atomic age and cryogenic engines mods.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0027s funny because in its description it says \u0022it\u0027s actually pretty light for its size\u0022 ![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)\n\u003E \n\nI can\u0027t repro this, could you provide more information? In LH2O mode, it weighs 326 tons... because it has 280 tons of fuel in it. In LH2 mode it weighs 36 tons with 80 tons of fuel, for a total of 116ish tons."},{"CreatedByName":"RzTen1","CreatedById":159570,"CreatedDateTime":"2016-07-29T08:29:11Z","Content":"Hi.  I think I may have found a bug in SimpleBoiloff in the CryoTanks part of the mod.  It looks like whenever a tank stops cooling when it\u0027s re-enabled (or re-powered) it never stops boiling off.  It persists across scene changes as well.  The GUI shows that the tanks are insulated but there is still a drain shown in the resource panel equal to when the tank was uninsulated.\n\nBoiloffOccuring appears to be getting set when cooling stops and then never getting unset. I poked around the repo to try and pin it down but I can\u0027t find the \u0027BoiloffOccuring\u0027 string anywhere.  I\u0027m using 0.3.5."},{"CreatedByName":"RzTen1","CreatedById":159570,"CreatedDateTime":"2016-07-30T20:39:09Z","Content":"One other thing I noticed.  It looks like SimpleBoiloff should be calculating the amount of fuel and adding that to the EC usage, but that\u0027s not what I\u0027m seeing in game:![20160730142651_1.jpg](http://www.powercpu.net/ksp-testing/20160730142651_1.jpg)"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-08-01T06:20:58Z","Content":"\u003E \n\u003E \n\u003E On 7/29/2016 at 1:29 AM, RzTen1 said:\n\u003E \n\u003E \n\u003E Hi.  I think I may have found a bug in SimpleBoiloff in the CryoTanks part of the mod.  It looks like whenever a tank stops cooling when it\u0027s re-enabled (or re-powered) it never stops boiling off.  It persists across scene changes as well.  The GUI shows that the tanks are insulated but there is still a drain shown in the resource panel equal to when the tank was uninsulated.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E BoiloffOccuring appears to be getting set when cooling stops and then never getting unset. I poked around the repo to try and pin it down but I can\u0027t find the \u0027BoiloffOccuring\u0027 string anywhere.  I\u0027m using 0.3.5.\n\u003E \n\nI discovered this one the other day while cannibalizing some code for the other day. I\u0027ll put it in the to-fix list. \n\n\u003E \n\u003E \n\u003E On 7/30/2016 at 1:39 PM, RzTen1 said:\n\u003E \n\u003E \n\u003E One other thing I noticed.  It looks like SimpleBoiloff should be calculating the amount of fuel and adding that to the EC usage, but that\u0027s not what I\u0027m seeing in game:[![20160730142651_1.jpg](http://www.powercpu.net/ksp-testing/20160730142651_1.jpg)](http://www.powercpu.net/ksp-testing/20160730142651_1.jpg \u0022Enlarge image\u0022)\n\u003E \n\nEc usage is constant no matter what the amount in the tank is, so that\u0027s not a problem if I\u0027m understanding you right. \n\nAdded as an issue so I remember: [https://github.com/ChrisAdderley/CryoTanks/issues/9](https://github.com/ChrisAdderley/CryoTanks/issues/9)\n\n**Edited \u003Ctime datetime=\u00222016-08-01T18:11:14Z\u0022 title=\u002208/01/2016 06:11  PM\u0022 data-short=\u00227 yr\u0022\u003EAugust 1, 2016\u003C/time\u003E by Nertea**\n  \nAdded Git issue."},{"CreatedByName":"RzTen1","CreatedById":159570,"CreatedDateTime":"2016-08-01T22:20:03Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, Nertea said:\n\u003E \n\u003E \n\u003E Ec usage is constant no matter what the amount in the tank is, so that\u0027s not a problem if I\u0027m understanding you right.\n\u003E \n\nShouldn\u0027t this code segment cause the EC usage to vary depending on tank volume?  \n[https://github.com/ChrisAdderley/CryoTanks/blob/master/Source/ModuleSimpleBoiloff.cs#L86](https://github.com/ChrisAdderley/CryoTanks/blob/master/Source/ModuleSimpleBoiloff.cs#L86)  \n\ncoolingCost = fuelAmount/1000.0 \\* CoolingCost;\n\nI don\u0027t see it getting redefined anywhere but I could be reading it wrong."},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-08-02T19:12:30Z","Content":"\u003E \n\u003E \n\u003E 20 hours ago, RzTen1 said:\n\u003E \n\u003E \n\u003E Shouldn\u0027t this code segment cause the EC usage to vary depending on tank volume?  \n\u003E [https://github.com/ChrisAdderley/CryoTanks/blob/master/Source/ModuleSimpleBoiloff.cs#L86](https://github.com/ChrisAdderley/CryoTanks/blob/master/Source/ModuleSimpleBoiloff.cs#L86)  \n\u003E \n\u003E coolingCost = fuelAmount/1000.0 \\* CoolingCost;\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I don\u0027t see it getting redefined anywhere but I could be reading it wrong.\n\u003E \n\nThat does seem to reveal a bug - that code is supposed to only run on OnStart to configure the total energy use. However it\u0027s supposed to operate on max fuel amount, not fuel amount. Good find."},{"CreatedByName":"Tyko","CreatedById":164179,"CreatedDateTime":"2016-08-04T15:28:21Z","Content":"I have a long term mission ship that\u0027s experiencing boil-off despite having powered cryo-tanks. Sounds like it\u0027s the bug mentioned above. Is there some way I can turn that off at least until you fix the Mod? I\u0027d hate to have my team stranded in deep space. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nThanks"},{"CreatedByName":"RzTen1","CreatedById":159570,"CreatedDateTime":"2016-08-05T00:02:01Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, tjt said:\n\u003E \n\u003E \n\u003E I have a long term mission ship that\u0027s experiencing boil-off despite having powered cryo-tanks. Sounds like it\u0027s the bug mentioned above. Is there some way I can turn that off at least until you fix the Mod? I\u0027d hate to have my team stranded in deep space. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E Thanks\n\u003E \n\nIf you don\u0027t mind editing your save file, you can change all the occurrences of \u0027BoiloffOccuring = True\u0027 to \u0027BoiloffOccuring = False\u0027 to stop it from happening.\n\nYou\u0027ll need to do that again if you lose and regain power though.  Make sure you make a copy of the file before changing it.\n\n**Edited \u003Ctime datetime=\u00222016-08-05T00:02:55Z\u0022 title=\u002208/05/2016 12:02  AM\u0022 data-short=\u00227 yr\u0022\u003EAugust 5, 2016\u003C/time\u003E by RzTen1**\n  \nadded making a backup"},{"CreatedByName":"Ant432","CreatedById":178021,"CreatedDateTime":"2016-08-05T17:37:42Z","Content":"So, can someone explain me how to use this mod ? So apparently these engines have amazing \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E but I need giant fuel tanks to make them have as much Delta V as having a Poodle or Terrier engines, and it weighs the rocket down i use Procedural Parts tanks so is there aproblem with that mod ?"},{"CreatedByName":"Diche Bach","CreatedById":76097,"CreatedDateTime":"2016-08-08T18:43:25Z","Content":"\u003E \n\u003E \n\u003E On 8/5/2016 at 1:37 PM, Antonio432 said:\n\u003E \n\u003E \n\u003E So, can someone explain me how to use this mod ? So apparently these engines have amazing \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003E\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E\u003C/abbr\u003E but I need giant fuel tanks to make them have as much Delta V as having a Poodle or Terrier engines, and it weighs the rocket down i use Procedural Parts tanks so is there aproblem with that mod ?\n\u003E \n\nMe TOO!\n\nI have it installed, mainly just because anything with the word \u0022cryo\u0022 in it sounds cool and Nertea\u0027s other stuff is so demonstrably awesome . . . not very far into my career play and only one or two of the engines unlocked but haven\u0027t really examined how they are to be used . . ."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-08-08T19:01:31Z","Content":"\u003E \n\u003E \n\u003E On 8/5/2016 at 10:37 AM, Antonio432 said:\n\u003E \n\u003E \n\u003E So, can someone explain me how to use this mod ? So apparently these engines have amazing \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003E\u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E\u003C/abbr\u003E but I need giant fuel tanks to make them have as much Delta V as having a Poodle or Terrier engines, and it weighs the rocket down i use Procedural Parts tanks so is there aproblem with that mod ?\n\u003E \n\nDon\u0027t focus on the size of the tanks.  Liquid hydrogen isn\u0027t nearly as dense as LiquidFuel or Oxidizer.  Focus on total mass, delta-v, and cost.  Maybe there is a problem with the procedural parts patches though ... you could verify by comparing to stock tanks."},{"CreatedByName":"Ant432","CreatedById":178021,"CreatedDateTime":"2016-08-09T08:45:22Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, blowfish said:\n\u003E \n\u003E \n\u003E Don\u0027t focus on the size of the tanks.  Liquid hydrogen isn\u0027t nearly as dense as LiquidFuel or Oxidizer.  Focus on total mass, delta-v, and cost.  Maybe there is a problem with the procedural parts patches though ... you could verify by comparing to stock tanks.\n\u003E \n\nIt must be because of procedural tanks because I get the same tank mas with hydrogen \u002B oxidizer as with \u003Cabbr title=\u0022Liquid Fuel and Oxidizer\u0022\u003ELFO\u003C/abbr\u003E , maybe because it doesn\u0027t model the lesser density of liquid hydrogen. So I can\u0027t make liquid hydrogen tanks that are big enough without getting 0.17 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E in space. I\u0027ll check out the configs but I don\u0027t know what to specifically look for."},{"CreatedByName":"ruiluth","CreatedById":60427,"CreatedDateTime":"2016-08-09T18:42:48Z","Content":"![de3PhKU.png](http://i.imgur.com/de3PhKU.png)\n\nI\u0027m just gonna put this here to say thank you for giving us the option to not have mounting rings. A cluster of four of these Tunkuskas is enough to get a full orange tank to my station and the flames look awesome! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"MaxL_1023","CreatedById":152317,"CreatedDateTime":"2016-08-14T23:36:06Z","Content":"Hello,\n\nI am trying to use the cryogenic tanks for long-duration interplanetary missions. However, I am not getting the boiloff control option for any cryogenic tank, even with hundreds of thousands of EC available. Boiloff happens, but it simply can\u0027t be mitigated.\n\nI am using real-fuels  (6.4x scale setup - I needed the engine improvements) - does this conflict with cryo tanks?"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-08-15T01:56:15Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, MaxL\\_1023 said:\n\u003E \n\u003E \n\u003E Hello,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am trying to use the cryogenic tanks for long-duration interplanetary missions. However, I am not getting the boiloff control option for any cryogenic tank, even with hundreds of thousands of EC available. Boiloff happens, but it simply can\u0027t be mitigated.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am using real-fuels  (6.4x scale setup - I needed the engine improvements) - does this conflict with cryo tanks?\n\u003E \n\nWith RF installed, RF handles boiloff, not CryoTanks.  I don\u0027t think RF supports any sort of active cooling."}]}