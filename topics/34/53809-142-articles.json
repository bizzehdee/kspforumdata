{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":142,"Articles":[{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-03-14T00:40:00Z","Content":"\n\u003Cp\u003EThats a KSP issue, not an ATM one. Those plugins probably load their icon textures in a way ATM can\u0027t touch them (I know realchute does).\u003C/p\u003E\u003Cp\u003EThe only fix is to not have KSP downscale textures\u003C/p\u003E\n"},{"CreatedByName":"MrWizerd","CreatedById":106063,"CreatedDateTime":"2015-03-14T04:29:06Z","Content":"\n\u003Cp\u003EOh, thank god, I had been beating my head against it for like an hour trying to figure out my error. Thanks for letting me know. I am actually happy to have the vast majority of the buttons clear again. And now that I know how to form these I can go in and exclude some of the textures that are so badly distorted that they are almost unidentifiable.\u003C/p\u003E\n"},{"CreatedByName":"Ricardo79","CreatedById":128863,"CreatedDateTime":"2015-03-14T11:20:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Elick320\u0022 data-cite=\u0022Elick320\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cblockquote\u003E\u003Cdiv\u003E Hah, I cant figure out how to post images, so here they are on \u003C/div\u003E\u003Ca href=\u0022https://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Edropbox\u003C/a\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/blockquote\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can use the 4th icon from the right between unlink and insert video and type in the \u003Ca href=\u0022https://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u003C/a\u003E for the url on the upcoming window.\u003C/p\u003E\u003Cp\u003EBy the way This was my problem too, with the .25 version of the game. after using ATM. Without astronomers pack. I do had that cloud and citylights mod I can\u0027t remember it\u0027s name sorry.\u003C/p\u003E\u003Cp\u003EAt the main screen I had little triangles they was green even after I get rid of ATM directory. \u003C/p\u003E\u003Cp\u003ESo this error should be something leftover from the old days.\u003C/p\u003E\n"},{"CreatedByName":"Joshwoo70","CreatedById":111345,"CreatedDateTime":"2015-03-18T00:58:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ricardo79\u0022 data-cite=\u0022Ricardo79\u0022\u003E\u003Cdiv\u003EYou can use the 4th icon from the right between unlink and insert video and type in the \u003Ca href=\u0022https://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u003C/a\u003E for the url on the upcoming window.\u003Cp\u003EBy the way This was my problem too, with the .25 version of the game. after using ATM. Without astronomers pack. I do had that cloud and citylights mod I can\u0027t remember it\u0027s name sorry.\u003C/p\u003E\u003Cp\u003EAt the main screen I had little triangles they was green even after I get rid of ATM directory. \u003C/p\u003E\u003Cp\u003ESo this error should be something leftover from the old days.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eit is environmental visual enhancements\u003C/p\u003E\n"},{"CreatedByName":"Ricardo79","CreatedById":128863,"CreatedDateTime":"2015-03-18T10:37:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Joshwoo69\u0022 data-cite=\u0022Joshwoo69\u0022\u003E\u003Cdiv\u003Eit is environmental visual enhancements\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn this forum \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E When you edit your post or create it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe fourth button is \u0022Insert Image\u0022 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor me the forth ingame toolbar icon is the realchutes. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sabor","CreatedById":59932,"CreatedDateTime":"2015-03-19T04:11:50Z","Content":"\n\u003Cp\u003EEvery time I launch kerbal, it goes through the loading of files and it hangs and locks up at Squad/Strategies/Icons/UnpaidResearchprogram. if I delete that icon, it hangs on the next one in that folder.\u003C/p\u003E\u003Cp\u003Ehas anyone found a fix for this?\u003C/p\u003E\u003Cp\u003EFound the problem. The folder after that is TextureReplacer, and I\u0027m rocking EvE. It locks up while converting those textures and just does it very, very slowly. Way slower than it should if I\u0027m honest. I\u0027ve used the same textures before and used ATM on them in the past and they flew by, maybe 2 to 5 seconds were spent on them each, even the big 6k ones, now it\u0027s taking 3-5 minutes a texture, what\u0027s the deal\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-19T14:14:19Z\u0022 title=\u002203/19/2015 02:14  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 19, 2015\u003C/time\u003E by Sabor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarcasmrules","CreatedById":139812,"CreatedDateTime":"2015-03-21T12:43:27Z","Content":"\n\u003Cp\u003EHi, I receive an out of memory issue when running the basic version from a CKAN install.\u003C/p\u003E\u003Cp\u003EKSP 0.90 32-bit (latest release), Windows 8.1 (64-bit OS)\u003C/p\u003E\u003Cp\u003E8GB RAM\u003C/p\u003E\u003Cp\u003EOutput_log.txt: \u003Ca href=\u0022http://pastebin.com/DV1Tf2wR\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/DV1Tf2wR\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2015-03-22T00:06:58Z","Content":"\n\u003Cp\u003EHi.\u003C/p\u003E\u003Cp\u003EThere\u0027s this option in the config file:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E### Generate mipmaps. Mipmaps add smaller, filtered versions### of the texture for use at a distance. Adds ~30% more \u003Cp\u003E### memory. Well worth it on visual textures. \u003C/p\u003E\u003Cp\u003E mipmaps = true\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWith the mipmaps on \u0027true\u0027, do I use LESS or MORE memory? If I set this option to \u0027false\u0027, what effects will it have on the game and my RAM usage?\u003C/p\u003E\n"},{"CreatedByName":"alexman142","CreatedById":134322,"CreatedDateTime":"2015-03-22T02:26:46Z","Content":"\n\u003Cp\u003EI have 32 bit KSP. What is the difference between the x86 and 64? I am using x64 and I am crashing due to memory. Will the x86 compress further?\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-03-22T02:35:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022alexman142\u0022 data-cite=\u0022alexman142\u0022\u003E\u003Cdiv\u003EI have 32 bit KSP. What is the difference between the x86 and 64? I am using x64 and I am crashing due to memory. Will the x86 compress further?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou need to use the x86. 64 is only for KSP 64 bit windows and Linux\u003C/p\u003E\n"},{"CreatedByName":"alexman142","CreatedById":134322,"CreatedDateTime":"2015-03-22T02:36:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022 data-cite=\u0022linuxgurugamer\u0022\u003E\u003Cdiv\u003EYou need to use the x86. 64 is only for KSP 64 bit windows and Linux\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat might be why my stuff is crashing so often. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-03-22T15:12:41Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI\u0027\u0027ve created a new mod for the Contractconfigurator, and created my own agency with a flag \u0026amp; thumbnail. How can I prevent this from compressing them, the compression looks awful and they aren\u0027t that big to begin with.\u003C/p\u003E\u003Cp\u003EThey are both PNG files if that helps.\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\n"},{"CreatedByName":"sp1989","CreatedById":105359,"CreatedDateTime":"2015-03-24T19:06:55Z","Content":"\n\u003Cp\u003EI having a new issue with FASA that just popped up in the last day. My loading screen get stuck on the same gemini part. \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/alEJgSA.png\u0022 alt=\u0022alEJgSA.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIts an easy fix I just have to delete the the gemini folder from the ATM texture cache and the game loads works perfectly fine with no issue. However if I try to load it again the game will hang on that same piece. So the last 3 or four times I have loaded ksp I just delete the gemini folder from the ATM texture cache and it loads fine. I figure this is an ATM issue but I have never had this problem before it just started happening. Also here is my log if it helps. \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/j9pm1i59c04ycoi/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/j9pm1i59c04ycoi/Player.log?dl=0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-03-24T23:35:58Z","Content":"\n\u003Cp\u003ESo what happens if I uninstall a mod whose textures ATM was caching? Is it still loading the cache files? Should I be deleting those?\u003C/p\u003E\n"},{"CreatedByName":"uglyduckling81","CreatedById":129740,"CreatedDateTime":"2015-03-25T12:30:01Z","Content":"\n\u003Cp\u003EAm I missing something or is this mod increasing the size of the files not reducing them? All the files are coming out the same size.\u003C/p\u003E\u003Cp\u003Eedit: I deleted everything and started again to check. It\u0027s doing the exact same thing again. All the files the same size as this picture shows.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/S7PFTJB.jpg\u0022 alt=\u0022S7PFTJB.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-25T12:51:34Z\u0022 title=\u002203/25/2015 12:51  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 25, 2015\u003C/time\u003E by uglyduckling81\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-03-25T12:32:53Z","Content":"\n\u003Cp\u003EThe size of a png has nothing do do with the size in memory. Unity converts the png in the same way when KSP loads the files but since it is done in memory you don\u0027t see it.\u003C/p\u003E\n"},{"CreatedByName":"uglyduckling81","CreatedById":129740,"CreatedDateTime":"2015-03-25T15:00:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe size of a png has nothing do do with the size in memory. Unity converts the png in the same way when KSP loads the files but since it is done in memory you don\u0027t see it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFair enough.\u003C/p\u003E\n"},{"CreatedByName":"willshmo258","CreatedById":122304,"CreatedDateTime":"2015-03-26T21:42:31Z","Content":"\n\u003Cp\u003EHow do I know if it is working?\u003C/p\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2015-03-27T00:15:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022willshmo258\u0022 data-cite=\u0022willshmo258\u0022\u003E\u003Cdiv\u003EHow do I know if it is working?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESee how much RAM KSP is using before and after installing it.\u003C/p\u003E\n"},{"CreatedByName":"Coga19000","CreatedById":125394,"CreatedDateTime":"2015-03-28T16:02:57Z","Content":"\n\u003Cp\u003EFor some weird reaosn, a lot of my mods are unable to load thir textures unless I have ATM installed...\u003C/p\u003E\u003Cp\u003EIs this supposed to happen, or only my computer does it for some reason?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2015-03-28T18:17:19Z","Content":"\n\u003Cp\u003EOS version? RAM size? Unable to load == crash?\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2015-03-31T03:15:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Elick320\u0022 data-cite=\u0022Elick320\u0022\u003E\u003Cdiv\u003EI finally got this mod working by combining it with the OpenGL mode.\u003Cp\u003Ecurrently, all is well, except the fact that Astronomers Visual Pack is having errors with it (I think)\u003C/p\u003E\u003Cp\u003EThe current error is that there are pink splotches on all the atmospheric planets, there are also noticeable question marks on Eve, and a weird field around Moho (as you can see in the images)\u003C/p\u003E\u003Cp\u003EHere are the pictures: Hah, I cant figure out how to post images, so here they are on \u003Ca href=\u0022https://www.dropbox.com/sh/91rsfxnka2ds6qx/AADCWyQMEVtR7R7Xip1qNZeFa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Edropbox\u003C/a\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EMy output_log is right \u003Ca href=\u0022https://www.dropbox.com/sh/xsqdbxtyvbppt73/AAB245l0QUCqFJ5qfY7o3Scka?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, also Dropbox\u003C/p\u003E\u003Cp\u003EMy KSP version is 0.90\u003C/p\u003E\u003Cp\u003EWindows 8.1, using 32x KSP \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E(the first half of this is specific to Astronomer\u0027s \u0022Interstellar\u0022 Visual Pack but at the bottom of this long post I get to some juicy ATM stuff... sorry for the long pre-amble)\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E I have been using Astronomer\u0027s \u0022Interstellar\u0022 Visual Pack for awhile - but lots of things have eluded me:\u003C/strong\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EThe clouds load as red blotches? Or only sometimes they do? Only when images are scaled? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIt uses SOOO much memory - and doesn\u0027t respond well to ATM - does it really have to? Why does ATM hate it? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe most effective advice is to use the supplied ATM config which is set to not scale any of the 8k images - Why are they un-scalable? \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E I dug into this and learned a few things worth sharing:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EAstronomer - in what I believe was an effort to save in game memory use - noted this in the Interstellar forum post: \u0022Reformatted all B/W textures from RGB to Greyscale\u0022\u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI\u0027m not sure this actually saved any memory in the game - or perhaps it increased quality? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThis definitely doesn\u0027t play nice with ATM - I\u0027m far from an expert in this area but I believe the Greyscale with Alpha channel png (16 bit per pixel) is being treated by ATM as a lower bit rate png without an alpha channel - or something like that - the result is it loads these bits into a different format that expected causing a bit-shift in the colors. This results in red? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWhat I can say for sure is that re-encoding these greyscale w/ alpha .pngs to color w/ alpha at 8 bits / channel causes them to load without this red-ness \u003Cbr\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThere was a belief posted somewhere about the Interstellar images not using image sizes that were nicely divisible by 2 (or 4 as sarbian notes in post above) - and that by re-encoding them to more standard sizes could improve performance or compatibility.\u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EI tried this and all I can say for sure is that the format change was more critical than moving to a more divisible size. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAt some point in the testing of all this I was able to improve the game from experiencing 6 frames per second to 15 frames per second. That was using 8k clouds textures prior to any memory management (but nothing but a few test parts and Astronomer\u0027s clouds running with OpenGL). \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThis could\u0027ve been from format changes OR from moving to standard texture sizes as during that test both were enabled. I may get a chance to retest this. \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]Bug #1 in ATM - 16 bit, B/W with Alpha Chanel PNGs don\u0027t load into ATM the same way the game loads them - the colors shift\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ENot sure this is a big deal - doesn\u0027t seem like 16 bit, B/W with Alpha, PNGs should be used with the game as I doubt there are benefits other than disk space utilized? But it\u0027s there and it is impacting people who try to use ATM with Astronomer\u0027s Pack \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]Bug #2 in ATM - 2048x512 textures, downscaled with ATM while using a minimum of 512 for example, results in a 512x512 sized image.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EThis is smaller and uses less memory...but it\u0027s also distorted. I know square textures are recommended for KSP (much like image sizes which are divisible by 4 are recommended) so maybe this isn\u0027t ATM\u0027s fault. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EBut from my perspective, ATM should respect the original textures aspect ration when scaling the image \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E[*]Bug #3 in ATM - As sarbian notes in a previous recent post, when ATM rescales images it doesn\u0027t ensure that the resulting image is divisible by 4 which may have negative impacts on the game\u0027s ability to load/use the image.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ENot even sure ATM should worry about this case but if it doesn\u0027t then ... bad things for difficult to explain reasons? \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIt\u0027s unfortunate, as I think it\u0027s of no fault of rbray\u0027s work, but ATM has already prove itself difficult for the masses to adopt. The forum seems filled with people who have barely read much about how to make it work much less the attention to detail required to make it work well for your needs/mods. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EIs this bug another case of that? Is there a reasonable way to protect against it? \u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo after finding the texture loading I started by just re-encoding Astronomer\u0027s black \u0026amp; white cloud images and then using ATM to scale them to more reasonable sizes based on the load out of mods I wanted to use on that game. Nice! Huge win! In fact, with my test setup I dropped from 2.9 GB of memory to 1.3 GBs. This enabled me to consider using DirectX again which improved my frame rate to 55 FPS with amazing clouds for the first time ever!\u003C/p\u003E\u003Cp\u003EBut then I saw how the textures were becoming squares as Astronomer uses a lot of 2:1 and 16:9 sized images. I had a few drinks and next thing I knew I was looking at ATM\u0027s source code and the resize function. Yup...that\u0027s the trouble right there I thought...\u003C/p\u003E\u003Cp\u003ETo my surprise \u003Cstrong\u003EI rewrote the resize code to some success - enough so that it certainly preserves aspect ratios now.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBut then I got fancy and thought to address the textures should be \u0022divisible by 4\u0022 issue that sarbian mentioned (as it seemed plausible to handle it in the same spot). I was able to solve that but it *sometimes* (for some of the weird sized textures used by Astronomer\u0027s for example) it comes at the cost of *slightly* modifying the aspect ratio - not sure if this will result in bad things. Seems to work in my testing thus far...more to come I suppose (maybe I\u0027ll even play the game!).\u003C/p\u003E\u003Cp\u003ESo that\u0027s my super long story - here\u0027s my inebriated chicken scratch - \u003Cstrong\u003Eanyone want to code review?\u003C/strong\u003E - is this worth proposing to the repository?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E public void SetScalingParams(int scale, int maxSize, int minSize)\u003Cbr\u003E {\u003Cbr\u003E this.scale = scale;\u003Cbr\u003E this.maxSize = maxSize;\u003Cbr\u003E this.minSize = minSize; // The Max and Min size might as well be divisible by 4 as the game (due to unity bug) won\u0027t reliably load the texture\u003Cbr\u003E if (maxSize % 4 != 0)\u003Cbr\u003E {\u003Cbr\u003E this.maxSize = 4 * (int)Math.Round((double)maxSize / 4);\u003Cbr\u003E }\u003Cbr\u003E if (minSize % 4 != 0)\u003Cbr\u003E {\u003Cbr\u003E this.minSize = 4 * (int)Math.Round((double)minSize / 4);\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E..... .....\u003Cbr\u003E public void Resize()\u003Cbr\u003E {\u003Cbr\u003E double newScale = scale;\u003Cbr\u003E int largestSideDimention = Math.Max(width, height);\u003Cbr\u003E int resizedMax = largestSideDimention / scale;\u003Cbr\u003E // Does the new size exceed the maximum size - adjust scale to compensate - scale both dimentions equally\u003Cbr\u003E if ((maxSize != 0) \u0026amp;\u0026amp; (resizedMax \u0026gt; maxSize))\u003Cbr\u003E {\u003Cbr\u003E newScale = (double)largestSideDimention / maxSize;\u003Cbr\u003E }\u003Cbr\u003E int smallestSideDimention = Math.Min(width, height);\u003Cbr\u003E int resizedMin = smallestSideDimention / scale;\u003Cbr\u003E // Does the new size exceed the minimum size - adjust scale to compensate - scale both dimentions equally\u003Cbr\u003E if ((minSize != 0) \u0026amp;\u0026amp; (smallestSideDimention \u0026gt; minSize) \u0026amp;\u0026amp; (resizedMin \u0026lt; minSize))\u003Cbr\u003E {\u003Cbr\u003E newScale = (double)smallestSideDimention / minSize;\u003Cbr\u003E }\u003Cbr\u003E needsResize = ( (1 != (int)newScale) \u0026amp;\u0026amp; (smallestSideDimention \u0026gt; minSize) );\u003Cbr\u003E // If the image is going to be resized, it mights as well be resized to have dimentions that are divisible by 4\u003Cbr\u003E // the game (due to unity bug) won\u0027t reliablely load textures that are not divisible by 4 \u003Cbr\u003E // [URL]http://forum.kerbalspaceprogram.com/threads/59005-0-90-Release-4-3-Dec-16-2014-Active-Texture-Management-Save-RAM%21?p=1779257\u0026amp;viewfull=1#post1779257[/URL]\u003Cbr\u003E if (needsResize)\u003Cbr\u003E {\u003Cbr\u003E resizeWidth = 4 * (int)Math.Round((width / newScale) / 4.0);\u003Cbr\u003E resizeHeight = 4 * (int)Math.Round((height / newScale) / 4.0);\u003Cbr\u003E }\u003Cbr\u003E else\u003Cbr\u003E {\u003Cbr\u003E resizeWidth = width;\u003Cbr\u003E resizeHeight = height;\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Cdr_Zeta","CreatedById":59015,"CreatedDateTime":"2015-03-31T15:27:17Z","Content":"\n\u003Cp\u003EHello,\u003C/p\u003E\u003Cp\u003ESo I am on my next to last to-do list...ATM.\u003C/p\u003E\u003Cp\u003ESo I thught I would load up my MODS and get them done; so far so good and I have 2.4 Gigs...\u003C/p\u003E\u003Cp\u003EAs a side note before I continue...I DO NOT USE OpenGL; I know it reduces memory but in my opinion this is what would cause issues with ATM not the other way around, and I wouldnt think you could do anything to make OGL happy anyways; except maybe for the few tricks mentioned above.\u003C/p\u003E\u003Cp\u003EATM has to do it\u0027s thing and can only do so much; just my thinking...Now I am adding AVP and the Atmosphere Enhancements (E.V.E.); this has also been tested on my game loads and works fine; it does have a MEMORY OVERHEAD; I plan on 1 Gig of MEMORY OVERHEAD for AVP to load; it is taking about 800-900megs (then it drops by almost 500 MEGS after the game loads; this seems to work fine.\u003C/p\u003E\u003Cp\u003EMy problem is this: I want certain folders NOT TO HAVE TEXTURES MESSED WITH:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E folder = OPM\u003C/p\u003E\u003Cp\u003E enabled = true\u003C/p\u003E\u003Cp\u003E OVERRIDES\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E OPM/.*\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E compress = false //\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;??\u003C/p\u003E\u003Cp\u003E mipmaps = false\u003C/p\u003E\u003Cp\u003E scale = 1\u003C/p\u003E\u003Cp\u003E max_size = 0\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEither way I am getting BIOMES compressed; maybe thats not a problem.\u003C/p\u003E\u003Cp\u003EMechjeb2 Icons are still being processed? I have 2 or 3 cfgs to not have this happen and even changed the main ATM cfg...:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EACTIVE_TEXTURE_MANAGER_CONFIG\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EOVERRIDES\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E .*/.*[i|i]con.*/.*\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E compress = false \u0026lt;\u0026lt;\u0026lt;??\u003C/p\u003E\u003Cp\u003E mipmaps = false\u003C/p\u003E\u003Cp\u003E scale = 1\u003C/p\u003E\u003Cp\u003E max_size = 0\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003EOVERRIDES\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E .*/Icons/.*\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E compress = false \u0026lt;\u0026lt;\u0026lt;??\u003C/p\u003E\u003Cp\u003E mipmaps = false\u003C/p\u003E\u003Cp\u003E scale = 1\u003C/p\u003E\u003Cp\u003E max_size = 0\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan I use the above CFG for all Icons folders?\u003C/p\u003E\u003Cp\u003ENo matter what I use for \u0027compress\u0027 the imagecache files still show up in the folder...please explain if this is actually happning in game/or memory whether or not the files are created.\u003C/p\u003E\u003Cp\u003EI am checking things out in game right now...and will edit this post...I am also trying to add AVP/E.V.E. and I may have issues here as well with ATM and am hoping the correct cfg is needed NOT to allow AVP files to be processed; thank you !\u003C/p\u003E\u003Cp\u003E(EDIT:GADS this is not good....Outer Planets and ATM dont seem to like each other......any thoughts while I start to cry (!) and work on this??? Right now I only have ATM and OPM with all the goodies; I will drop the goodies and just leave OPM and see what transpires; it could be Kittopia but I am using that for rings on my planets so I hope not.)\u003C/p\u003E\u003Cp\u003E(EIDT2: I might as well ask: If I cant get this to work with OPM, does \u0022Texture Replacer\u0022 do what ATM does? I have use BOTH before but not with OPM; I think ATM is a better program as it is more configurable; I havent a clue what TR does as far as reducing game memory on MODS; I guess I am back and forth on this all day today...I use TR to PIMP (!) my Kerbals and their SUITS (that file is 200 Megs and takes years to load) ! I looked over there so it does reduce some \u0027VRAM\u0027...guess I have to try it because as it stands OPM is dead with ATM...not good for me).\u003C/p\u003E\u003Cp\u003E(EDIT3: I think Kerbin is gone in OPM...I am going over to their thread and hash some stuff out; maybe in the Kopernicus CFG...I understand and have used ATM and TR together before but not with OPM.)\u003C/p\u003E\u003Cp\u003E(Edit4: Both ATM and TR make Kerbin dissappear and no sunlight etc...NO OPM with either ATM or TR; I know Kopernicus takes a copy of the Kerbol System and in the TR thread the author said some portions of ATM were used in his MOD; just thought I would pass this on that there is a common issue (with OPM working). TR was supposed to have worked with OPM so I am goin over there...).\u003C/p\u003E\u003Cp\u003EEdit5: Minmus was on top of my ship (reason for no Kerbin)...WARP Timer is broke...yes these problems are part of OPM...I probly go over there and talk about this as well...)\u003C/p\u003E\u003Cp\u003EEDIT6: Found the problem with TR/OPM etc...I used my own cfg files so OPM would not load; using ORIGINAL OPM files (and Trans-Kept) all is good; tried to re-add ATM - still a NO-GO. Hyperedit may have something to do with it; I am trying another combination with OPM etc and not having Hyperedit installed...back in a few and I will read the posts...\u003C/p\u003E\u003Cp\u003EEdit-Final: So looks like ATM breaks Outer Planets \u0027however\u0027 it is possible that Outer Planets MOD may have an easier fix to get ATM to work; this is only a guess; I will hop on over there and tell \u0027em the good news. Sorry about ATM here and I dont even know if Texture Replacer is gonna save me memory we shall see. ATM saves me 800 Megs of RAM right off the top; but I want Outer Planets so I may have to pull off some other MODS...sorry to be a bother...\u003C/p\u003E\u003Cp\u003ECmdr Zeta\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T19:24:27Z\u0022 title=\u002203/31/2015 07:24  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by Cdr_Zeta\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpaceLaunchSystem","CreatedById":125698,"CreatedDateTime":"2015-03-31T16:27:26Z","Content":"\n\u003Cp\u003EI know this will sound dumb, but which one do I install? x86 or x64?\u003C/p\u003E\n"},{"CreatedByName":"somnambulist","CreatedById":62108,"CreatedDateTime":"2015-03-31T16:57:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpaceLaunchSystem\u0022 data-cite=\u0022SpaceLaunchSystem\u0022\u003E\u003Cdiv\u003EI know this will sound dumb, but which one do I install? x86 or x64?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ex86 if running the 32-bit version on Windows or OS X. x64 if 64-bit on Linux. We don\u0027t talk about x64 Windows.\u003C/p\u003E\n"}]}