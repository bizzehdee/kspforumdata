{"TopicId":192212,"ForumId":34,"TopicTitle":"[1.9.x] TUFX - Post Processing","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-07T19:01:18Z","PageNum":2,"Articles":[{"CreatedByName":"Remkeau","CreatedById":106783,"CreatedDateTime":"2020-03-09T21:49:30Z","Content":"\n\u003Cp\u003E\nCheers \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E, I\u0027ve been mucking around to reliably use KS3P lately, so this is great!\u003C/span\u003E\u003Cbr\u003E\u003Cspan\u003EUsing forced DX12 for scatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and no problems running TUFX \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E (now just need to tweak settings I guess)\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nNo:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Cimg alt=\u0022ln7CE67.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/ln7CE67.jpg\u0022\u003E\u003Cbr\u003E\nYes:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Cimg alt=\u0022fqURQvV.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/fqURQvV.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-09T21:50:00Z\u0022 title=\u002203/09/2020 09:50  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 9, 2020\u003C/time\u003E by Remkeau\u003C/strong\u003E\n\u003Cbr\u003ELayout\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-09T21:59:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223754305\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221583790570\u0022 data-ipsquote-userid=\u0022106783\u0022 data-ipsquote-username=\u0022Remkeau\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Remkeau said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nUsing forced DX12 for scatterer, \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and no problems running TUFX \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E (now just need to tweak settings I guess)\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGlad to see the DX12 shaders/etc are actually working.\u00A0 I included them (along with the OpenGL versions) in case anyone wanted to give it a try...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHappy to hear you are enjoying it; feel free to post up any glamour shots or customized profiles if you desire \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-12T01:06:26Z","Content":"\n\u003Cp\u003E\nBeen \u0027playing\u0027 with something the past week:\u00A0 porting \u0027Bruneton\u0027s Improved Scattering\u0027 (\u00A0\u003Ca href=\u0022https://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering\u003C/a\u003E ), rewriting it in HLSL to be compatible with the PostProcessPackage v2 (used by TUFX), rewriting the C# code to work with he PPPv2, and finally, toying around with KSP to get it working there (not as simple as it sounds).\u00A0 The source that I was working from was more of a \u0027proof of concept\u0027 than a full-blown functional implementation (it \u003Cem\u003Eworked\u003C/em\u003E but was very much hard-coded for the single included demo scene), so there was quite a bit of hacking to do to get it all working (and a fair amount of learning along the way)... but...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022CdxEIu0.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/CdxEIu0.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Z2HwC6d.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/Z2HwC6d.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022BX03BB3.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/BX03BB3.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNote, it still looks quite \u0027bad\u0027, mostly because I\u0027m still working on hacking all of the usability into the shader -- a ton of depth-buffer related work to do, some aliasing to clean up on the horizons, and need to figure out the math for how much the scatter occludes objects viewed through the atmosphere (the depth-based fog effects).\u00A0 Also the setup is just slapped in there as far as brightness/exposure, and it is using the stock Earth scale-heights and other values (but on a Kerbin sized atmosphere...).\u00A0 Quite a bit of the depth-sampling stuff is is already (more-or-less) working in my editor versions of the shader, but these screenshots were taken with a slightly older version of the shader.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, this is \u003Cu\u003E\u003Cstrong\u003Enot\u003C/strong\u003E\u003C/u\u003E going to be a replacement for Scatterer or \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E.\u00A0 I have no intention of putting the kind of effort into it that it would require, and those mods are perfectly functional already (well, as soon as they are updated to 1.9).\u00A0 This is intended to be a quick and \u0027much better than Stock\u0027 post-process effect for the atmosphere (possibly on Kerbin only), and also (its \u003Cem\u003Emain\u003C/em\u003E \u003Cem\u003Eintention\u003C/em\u003E) to serve as a \u0027proof-of-concept\u0027 of utilizing the scattering effects from within the Post Process Package pipeline (which is integrated into Unity and optimized as much as it can be).\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Brought in the updated shaders, tweaked a few settings...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022e1ILwlz.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/e1ILwlz.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022wms7qNu.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/wms7qNu.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ePDIqVp.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/ePDIqVp.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022fNyxToB.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/fNyxToB.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nkpexeS.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/nkpexeS.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIts still not \u0027right\u0027, needs some further tweaking to the actual scatering parameters to rescale a \u0027earth-like\u0027 atmosphere to Kerbin (real science makes that hard to do in a physically-based setup like this... but can likely find something workable).\n\u003C/p\u003E\n\u003Cp\u003E\nGetting there...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-12T05:12:38Z\u0022 title=\u002203/12/2020 05:12  AM\u0022 data-short=\u00224 yr\u0022\u003EMarch 12, 2020\u003C/time\u003E by Shadowmage\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jrodriguez","CreatedById":130617,"CreatedDateTime":"2020-03-16T07:45:42Z","Content":"\n\u003Cp\u003E\nI have spent most part of the weekend creating a profile for \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E/Earth. This is the result \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0.(DX 12) Thanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cimg alt=\u0022vrcwnQI.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002241.76\u0022 height=\u0022427\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/vrcwnQI.jpg\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022ABgxcx2.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002241.83\u0022 height=\u0022428\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/ABgxcx2.jpg\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022ne8sFgu.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002241.83\u0022 height=\u0022428\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/ne8sFgu.jpg\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-03-16T14:17:41Z\u0022 title=\u002203/16/2020 02:17  PM\u0022 data-short=\u00224 yr\u0022\u003EMarch 16, 2020\u003C/time\u003E by jrodriguez\u003C/strong\u003E\n\u003Cbr\u003Emore screenshots\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-16T19:03:11Z","Content":"\n\u003Cp\u003E\nMore work over the weekend, still just doing research, playing with things, and learning some new techniques...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00225QaRbLv.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/5QaRbLv.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(lighter and darker areas are \u0027higher and lower\u0027 in the heightmap;\u00A0 blue highlighting is from specular lighting, showing bumpmap application; background is random colors based on view-direction...)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022GhKH38g.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/GhKH38g.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(this is the same scene, but rendering the world-space normals)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022xn34nbI.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/xn34nbI.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n(same scene again, showing just the generated height-map... which is little more than simplex noise at this point)\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a \u0027screen-space bump-mapping\u0027 technique (there is no geometry being rendered...); the entire thing exists only in the shader code / parameters fed to the shader.\u00A0 Bunch of trig to determine where the sphere should be drawn based on the input values for size and location.\u00A0 Use the world-space position on the surface of the sphere to sample a 3d noise function to generate a \u003Cem\u003E\u003Cstrong\u003Eseamless\u003C/strong\u003E\u003C/em\u003E height-map (no distortions, no pinching, no stretching, no weird stuff at the poles).\u00A0 Calculate a tangent-frame for the world-space position on the sphere, and use that to derive a \u0027sphere-surface tangent-space normal\u0027 value from the sampled noise point and its neighboring points.\u00A0 Transform the tangent-space-normal value back into world-space, and manipulate/adjust the existing analytically derived surface normal accordingly.\u00A0 Finally, use the combined world-space surface normal to calculate diffuse and specular lighting for the sphere based on the primary light in the scene.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOne of the best parts is that it can all have dynamic LOD applied based on view depth;\u00A0 surfaces can appear smooth from a distance, with the details manifesting (smoothly, without pop-in) as the zoom level increases, with no maximum zoom level defined.\u00A0 You want sub-mm resolution of details? Fine.\u00A0 \u003Cem\u003EThe noise sampling point-distance actually decreases as the camera nears the surface, enabling per-pixel sampling at all zoom levels, maintaining a very smooth look all the way down to the finest detail levels visible in a KSP camera based on its near-clip distance.\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhy would I do such a crazy thing you might ask?\u00A0 Ocean/water rendering.... specifically, rendering of the ocean surface and the optical effects of waves and surface distortions.\u00A0 Originally I had intended to \u003Cem\u003Enot\u003C/em\u003E do anything with oceans, but after realizing that it is the stock KSP oceans that cause the issues with HDR, I figured it might be worthwhile to include something quick-and-functional (as HDR can make the rest of the effects so.. much.. better..).\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently it is using a quick and dirty \u0027shader based simplex noise\u0027 implementation for generation of the height-map, but all of the functionality is in-place to enable use of FFTs or other more realistic water surface calculation methods, merely need to get to a point where it would be practical to implement them.\u00A0 Furthermore, as it is all just a screen-space effect, it will likely be more efficient than KSPs existing \u0027mesh based\u0027 solutions \u003Cem\u003Efor specific hardware\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m planning on joining the screen-space water-surface effect with a volumetric-water-lighting shader; basically atmospheric scattering, but for water (possibly even just adapting the scattering system to do oceans as well...).\u00A0 Will handle the optical effects of underwater fog, light-color-extinction / light extinction based on depth and distance the rays travel through the medium.\u00A0 Should all be very \u0027physically based\u0027 when it is done, but should also be configurable to allow for non-realistic uses (e.g. \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E... why is it purple?).\u00A0 So far I\u0027m not planning on implementing any complex reflection or refraction setups, nor caustics or anything special in regards to lighting (no volumetric shadows...yet).\u00A0 Want to get the basic effect setup and working before I try to add in the more complex functions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYes, I\u0027m also still working on the scattering shader.\u00A0 It functions, but with caveats and issues I\u0027d like to track down before I release anything.\u00A0 Need to implement a full config-file based system to specify the bodies on which to use the effect, and the settings for each of those bodies.\u00A0 Need to do further cleanup and validation of the loading code and the configuration functions, and give the entire thing a good pass over to look for source-code issues in the shaders (was a \u003Cem\u003Every\u003C/em\u003E hacky port to PPPv2; much stuff commented out, done terribly inefficiently, or simply incorrect and not yet updated).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso still working on the configuration UI in regards to adding the \u0027spline parameter\u0027 editing functionality.\u00A0 Might still take a while to get this in place, as I\u0027ve yet to find a workable system that can be done under the Unity IMGUI system.\u00A0 Likely though I will have this finished for the next major / \u0027feature\u0027 release (excluding any bugfix release that may happen before then).\n\u003C/p\u003E\n"},{"CreatedByName":"jrodriguez","CreatedById":130617,"CreatedDateTime":"2020-03-17T21:35:27Z","Content":"\n\u003Cp\u003E\nThis is all thanks to\u00A0TUFX power \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 width=\u0022480\u0022 data-embed-src=\u0022https://www.youtube.com/embed/NPiwzGU3riU?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-18T14:11:28Z","Content":"\n\u003Cp\u003E\nMore fun with rendering post-process rendering; this time...something different (but still a bunch of spheres...).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022I8zhHbj.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002262.50\u0022 height=\u0022640\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/I8zhHbj.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWhat is being rendered there is a \u0027shadow depth\u0027 value, from the perspective of the light.\u00A0 The \u0027standard\u0027 view of the scene can be seen below:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022g0BMOhk.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002262.50\u0022 height=\u0022640\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/g0BMOhk.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis is actually driven by a secondary camera that renders high-precision floating point depth (from the light\u0027s perspective) to a render-texture, which is dynamically positioned, ranged, and configured to keep the \u0027planet\u0027 skybox in its view.\u00A0 From there, the world-space rendered position is basically raycast into this depth texture, to tell how far the surface is \u003Cem\u003Efrom the nearest object to the light\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe process I\u0027ve best seen explained here (quite a good read actually):\u00A0\u003Ca href=\u0022https://medium.com/@shahriyarshahrabi/custom-shadow-mapping-in-unity-c42a81e1bbf8\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://medium.com/@shahriyarshahrabi/custom-shadow-mapping-in-unity-c42a81e1bbf8\u003C/a\u003E ,\u00A0 though I\u0027m doing things quite a bit different than that implementation.\n\u003C/p\u003E\n\u003Cp\u003E\nThe question again on all of this might be \u0027why?\u0027\u00A0 Well, more cool effects, of course.\u00A0 This one is what is needed for volumetric shadows, part of the volumetric lighting implemented in the scattering shader: \u003Ca href=\u0022https://en.wikipedia.org/wiki/Volumetric_lighting\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://en.wikipedia.org/wiki/Volumetric_lighting\u003C/a\u003E.\u00A0 Again, I was originally intending to \u003Cem\u003Enot\u003C/em\u003E do any such work, but realized that many of the artifacts currently seen in the scattering implementation are due to lack of shadow depth information being fed into it, so it is illuminating things improperly in some cases.\u00A0 Can/will also be used for the ocean rendering, to likely very good effect.\n\u003C/p\u003E\n\u003Cp\u003E\nStill just playing around at this point, haven\u0027t started creating anything \u0027usable\u0027 out of all of this.\u00A0 Exploring the concepts, developing some code, learning some techniques and learning a ton about Unity rendering pipeline and shaders/graphics in general.\u00A0 Fun stuff...\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Morningrise","CreatedById":203472,"CreatedDateTime":"2020-03-23T19:44:30Z","Content":"\n\u003Cp\u003E\nHi all! First time using this kind of mod and I have a\u00A0quick newb question! Where do I find\u00A0exported data or log file used for making new config files? I Don\u0027t see it in KSP.txt\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cp\u003E\nDavid\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-24T16:35:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223760151\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221584992670\u0022 data-ipsquote-userid=\u0022203472\u0022 data-ipsquote-username=\u0022Morningrise\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Morningrise said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi all! First time using this kind of mod and I have a\u00A0quick newb question! Where do I find\u00A0exported data or log file used for making new config files? I Don\u0027t see it in KSP.txt\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cp\u003E\nDavid\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou are looking for the KSP.log file, which should be located in the same directory as the KSP executable/binary (at least on Windows).\n\u003C/p\u003E\n\u003Cp\u003E\nThen, in the log file, your exported profile should be near the bottom of the log.\u00A0 Copy the profile config node out, and save it into a new text-file located somewhere in your KSP/GameData directory.\u00A0 Change the \u0027name=\u0027 line in the config to give it a new and unique name, and then launch KSP.\u00A0 Your newly created profile should show up in the profile selection list.\n\u003C/p\u003E\n"},{"CreatedByName":"jrodriguez","CreatedById":130617,"CreatedDateTime":"2020-03-25T10:09:47Z","Content":"\n\u003Cp\u003E\nHi all,\n\u003C/p\u003E\n\u003Cp\u003E\nThis is the current profile I\u0027m using for a realistic Earth view in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E. I still doing changes because at the end is always a\u00A0trade-off specially regarding light intensity (Autoexposure/PostExposure are the key values here). This profile is specially tailored for earth-orbit view and ground view.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, other celestial bodies like Moon are a bit darker or brighter depending on its \u0022albedo\u0022. Also the Earth view from Moon is much more brighter than in reality but as I said before, it is a trade-off.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-lua prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ETUFX_PROFILE\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E Default\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E-\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EFlight \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E//\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E Current profile name\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u00A0Please make copies of the default profiles \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eand\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E specify new names \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E you wish to change settings\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0hdr \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E False\n\u00A0\u00A0 \u00A0antialiasing \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E FastApproximateAntialiasing\n\u00A0\u00A0 \u00A0EFFECT\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E AmbientOcclusion\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Intensity \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E4\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0NoiseFilterTolerance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-5.38364744\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0BlurTolerance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-5.02830172\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0UpsampleTolerance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-5.63522005\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ThicknessModifier \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.00999999978\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Radius \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0EFFECT\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E AutoExposure\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Filtering \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E82.5999985\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0MinLuminance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-3.36037779\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0MaxLuminance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-5.7\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0KeyValue \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.02\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0EyeAdaption \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E Progressive\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0EFFECT\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E Bloom\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Intensity \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.200000003\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Threshold \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1.5\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SoftKnee \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.709999979\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0DirtIntensity \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E5\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0EFFECT\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E ColorGrading\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0GradingMode \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E HighDefinitionRange\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Tonemapper \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E ACES\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ToneCurveToeStrength \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Temperature \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E6\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0HueShift \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-6\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Saturation \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E2.8499999\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0PostExposure \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E4\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Contrast \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E6\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Gain \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E-0.5\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0EFFECT\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E ChromaticAberration\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Intensity \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0.0299999993\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0SpectralLut \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E KS3P\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003ETextures\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E/\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003ESpectralLut_RedBlue\n\u00A0\u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0I\u0027m using a spectralLut from KS3P but I\u0027m not completely sure if this feature is currently supported. I can\u0027t see on the UI if the defined spectrallut is being used (I have created a Fork and I\u0027ll investigate it)\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-03-25T18:52:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223760946\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585130987\u0022 data-ipsquote-userid=\u0022130617\u0022 data-ipsquote-username=\u0022jrodriguez\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, jrodriguez said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m using a spectralLut from KS3P but I\u0027m not completely sure if this feature is currently supported. I can\u0027t see on the UI if the defined spectrallut is being used (I have created a Fork and I\u0027ll investigate it)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe the config you posted should be valid/usable, but the texture-use side of the effects was mostly untested; as I was unsure what they should actually \u003Cem\u003Edo\u003C/em\u003E, I had no way to know if it was functioning correctly.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to make the texture available for selection from the in-game UI, you would need to define a config node for it, such as can be seen here for the bloom lens-dirt textures:\u00A0 \u003Ca href=\u0022https://github.com/shadowmage45/TUFX/blob/master/GameData/TUFX/Textures/BuiltinTextures.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/TUFX/blob/master/GameData/TUFX/Textures/BuiltinTextures.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know what/if anything you find in your investigations; will be glad to fix up anything that might need some attention code-wise.\n\u003C/p\u003E\n"},{"CreatedByName":"clusta","CreatedById":200167,"CreatedDateTime":"2020-04-03T19:54:31Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E (At last!) Someone implements v2 shaders! Honestly, Im implements it in KSP too, but not released yet \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E I tried to support KS3P, but later decide to make mod from scratch. No details, but there is not about simply apply v2 PP Unity package. So, maybe sometime this will be a challenge? \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Fringified","CreatedById":203801,"CreatedDateTime":"2020-04-05T17:56:12Z","Content":"\n\u003Cp\u003E\nHas anyone noticed any issues with Ambient Occlusion? It\u0027s been the one thing bothering me and I was curious if anyone is experiencing the same issues. I\u0027m getting these weird banding effects the closer you get to an object. It\u0027s subtle but you can also notice it on the ground as well.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried tweaking all the available options but none seem to be effecting it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Z5ubIya.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/Z5ubIya.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLooks pretty fine here.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00227DaDowc.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/7DaDowc.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou can start to see it near the cockpit here, and the fuel tank and forward wing section.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Yf2znjq.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/Yf2znjq.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnother shot from the rear. In a second I\u0027ll switch to the HDR-Flight profile. This is the default flight profile.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022bDP6duE.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/bDP6duE.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd this is with the HDR-Flight profile, with the AO more intense. You can really notice it here.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI hope this doesn\u0027t come off as nit-picky. This mod is fantastic and served as a replacement of\u00A0KS3P for me after I recently updated from 1.7.3 to 1.9.1. This is literally the only thing bugging me.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-06T04:56:18Z","Content":"\n\u003Cp\u003E\nOver at the Unity forums, they chalk the banding up to the near and far clip planes on the camera:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#fafafa;color:#333333;font-size:14.6667px;text-align:left;\u0022\u003EThis looks like banding artifact caused by near/far plane setting in the camera.\u003C/span\u003E\u003Cbr style=\u0022background-color:#fafafa;color:#333333;font-size:14.6667px;padding:0px;text-align:left;\u0022\u003E\u003Cbr style=\u0022background-color:#fafafa;color:#333333;font-size:14.6667px;padding:0px;text-align:left;\u0022\u003E\u003Cspan style=\u0022background-color:#fafafa;color:#333333;font-size:14.6667px;text-align:left;\u0022\u003ETry setting near plane further from camera and far plane closer. This should reduce the banding. Also when you turn on the setting \u0022GBuffer Depth\u0026amp;Normals\u0022, this might also help.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nShadow might need to allow these setting tweaks via config.\n\u003C/p\u003E\n\u003Cp\u003E\nOtherwise, perhaps setup the near/far clip to be dependent on zoom level?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-06T04:57:01Z\u0022 title=\u002204/06/2020 04:57  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 6, 2020\u003C/time\u003E by Electrocutor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"badwolf90","CreatedById":152578,"CreatedDateTime":"2020-04-07T16:26:37Z","Content":"\n\u003Cp\u003E\nI\u0027ve been playing around with motion blur and captured a really cool shot \u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/a/qmeuqbA\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/qmeuqbA\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAlso noticed that wheels are being blurred \u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00223ClxTFI.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/3ClxTFI.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-09T14:37:34Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0It\u0027s been mentioned to me that the most likely reason for banding is if the color precision\u00A0is\u00A0off, for example blending the depth (16-bits per pixel) into a normal texture (8\u00A0bits per pixel).\n\u003C/p\u003E\n"},{"CreatedByName":"Arco123","CreatedById":201477,"CreatedDateTime":"2020-04-14T22:15:00Z","Content":"\n\u003Cp\u003E\nNVM\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-14T22:15:51Z\u0022 title=\u002204/14/2020 10:15  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 14, 2020\u003C/time\u003E by Arco123\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2020-04-16T10:32:00Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0this looks totally awesome what great scenery\u00A0shots cant wait for everything else to catch up with it Scatterer and Eve\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-16T10:32:40Z\u0022 title=\u002204/16/2020 10:32  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 16, 2020\u003C/time\u003E by Virtualgenius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Zorg","CreatedById":188015,"CreatedDateTime":"2020-04-17T06:59:18Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0Been using TUFX for a little while and just wanted to drop in to say how impressed I\u0027ve been. TUFX has lived up to all of the promise KS3P teased at.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf I might ask for small quality of life feature, a configurable hotkey to bring up the GUI might be a nice option to have, would enable much quicker profile switching on the fly in the midst of flight. No big deal but worth considering?\n\u003C/p\u003E\n\u003Cp\u003E\nSigning off with some screenshots featuring WIP profiles I\u0027ve been using in KSP 1.8.1 \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot196.png?width=1500\u0026amp;height=844\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.27\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://media.discordapp.net/attachments/690553577524953158/700340254388912178/screenshot196.png?width=1500\u0026amp;height=844\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot1547.png?width=1500\u0026amp;height=844\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.27\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://media.discordapp.net/attachments/683658081007435807/700599019835097098/screenshot1547.png?width=1500\u0026amp;height=844\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot1325.png?width=1500\u0026amp;height=844\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.27\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://media.discordapp.net/attachments/683658081007435807/700611167466553374/screenshot1325.png?width=1500\u0026amp;height=844\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot126.png?width=1500\u0026amp;height=844\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.27\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://media.discordapp.net/attachments/683658081007435807/700600091974696971/screenshot126.png?width=1500\u0026amp;height=844\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot34.png?width=1500\u0026amp;height=844\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.27\u0022 height=\u0022576\u0022 width=\u00221024\u0022 src=\u0022https://media.discordapp.net/attachments/683658081007435807/700608718018052127/screenshot34.png?width=1500\u0026amp;height=844\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-17T07:40:16Z\u0022 title=\u002204/17/2020 07:40  AM\u0022 data-short=\u00224 yr\u0022\u003EApril 17, 2020\u003C/time\u003E by Zorg\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CDSlice","CreatedById":201993,"CreatedDateTime":"2020-04-17T12:20:17Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188015-zorg/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022188015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188015-zorg/\u0022 rel=\u0022\u0022\u003E@Zorg\u003C/a\u003E those are amazing! Would you mind sharing your configs? Even if they are rough they would make a great starting point for people to base their own configs on.\n\u003C/p\u003E\n"},{"CreatedByName":"Zorg","CreatedById":188015,"CreatedDateTime":"2020-04-17T12:38:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223772210\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587126017\u0022 data-ipsquote-userid=\u0022201993\u0022 data-ipsquote-username=\u0022CDSlice\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 minutes ago, CDSlice said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188015-zorg/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022188015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188015-zorg/\u0022 rel=\u0022\u0022\u003E@Zorg\u003C/a\u003E those are amazing! Would you mind sharing your configs? Even if they are rough they would make a great starting point for people to base their own configs on.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve posted them here now, Imo the main colour profile can be a bit dark on the night side (pitch black really), you probably need to tweak your ambient light and or planetshine settings until you can just about see enough to click on things. I\u0027m not using eye adaptation on the main colour profile as I cant seem to consistently create the look I want. Its actually quite basic, just AA, a small amount of bloom and some tone mapping stuff.\n\u003C/p\u003E\n\u003Cp\u003E\nI will be working on some vintage colour film inspired profiles at some point and will post it up there when I do.\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022188015\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6671340067\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/188816-zorgs-screenshots-and-customised-visual-set-up/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-17T12:40:01Z\u0022 title=\u002204/17/2020 12:40  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 17, 2020\u003C/time\u003E by Zorg\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-04-18T23:43:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223755391\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221583975186\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/12/2020 at 2:06 AM, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBeen \u0027playing\u0027 with something the past week:\u00A0 porting \u0027Bruneton\u0027s Improved Scattering\u0027 (\u00A0\u003Ca href=\u0022https://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering\u003C/a\u003E ), rewriting it in HLSL to be compatible with the PostProcessPackage v2 (used by TUFX), rewriting the C# code to work with he PPPv2, and finally, toying around with KSP to get it working there (not as simple as it sounds).\u00A0 The source that I was working from was more of a \u0027proof of concept\u0027 than a full-blown functional implementation (it \u003Cem\u003Eworked\u003C/em\u003E but was very much hard-coded for the single included demo scene), so there was quite a bit of hacking to do to get it all working (and a fair amount of learning along the way)... but...\n\u003C/p\u003E\n\u003Cp\u003E\nNote, it still looks quite \u0027bad\u0027, mostly because I\u0027m still working on hacking all of the usability into the shader -- a ton of depth-buffer related work to do, some aliasing to clean up on the horizons, and need to figure out the math for how much the scatter occludes objects viewed through the atmosphere (the depth-based fog effects).\u00A0 Also the setup is just slapped in there as far as brightness/exposure, and it is using the stock Earth scale-heights and other values (but on a Kerbin sized atmosphere...).\u00A0 Quite a bit of the depth-sampling stuff is is already (more-or-less) working in my editor versions of the shader, but these screenshots were taken with a slightly older version of the shader.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, this is \u003Cu\u003E\u003Cstrong\u003Enot\u003C/strong\u003E\u003C/u\u003E going to be a replacement for Scatterer or \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E.\u00A0 I have no intention of putting the kind of effort into it that it would require, and those mods are perfectly functional already (well, as soon as they are updated to 1.9).\u00A0 This is intended to be a quick and \u0027much better than Stock\u0027 post-process effect for the atmosphere (possibly on Kerbin only), and also (its \u003Cem\u003Emain\u003C/em\u003E \u003Cem\u003Eintention\u003C/em\u003E) to serve as a \u0027proof-of-concept\u0027 of utilizing the scattering effects from within the Post Process Package pipeline (which is integrated into Unity and optimized as much as it can be).\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Brought in the updated shaders, tweaked a few settings...\n\u003C/p\u003E\n\u003Cp\u003E\ns still not \u0027right\u0027, needs some further tweaking to the actual scatering parameters to rescale a \u0027earth-like\u0027 atmosphere to Kerbin (real science makes that hard to do in a physically-based setup like this... but can likely find something workable).\n\u003C/p\u003E\n\u003Cp\u003E\nGetting there...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI personally completely gave up on using a depth buffer for scattering effects and went with the nuclear option instead a few versions ago (re-render all geometry with a scattering shader using a projector) for a few reasons:\n\u003C/p\u003E\n\u003Cp\u003E\n1) KSP is forward rendered so MSAA is very cheap and everyone uses it. The unity provided depth buffers aren\u0027t multisampled so the edges of objects never match the scattering for them and you get annoying aliasing around objects and horizon. Also, multisampling or supersampling a depth buffer doesn\u0027t make any sense: you get wrong depths which are an average, however calculating scattering and extinction for that depth won\u0027t give you the same average color as the average color obtained from scattering for all the samples, so edges always look weird, if this makes any sense.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever you could get around this by using only TAA or FXAA, like a deferred renderer.\n\u003C/p\u003E\n\u003Cp\u003E\n2) Precision issues with the depth buffer: No matter what, if the farClipPlane is 750000 and the nearClipPlane is 0.21, reconstructing position from depth can be somewhat inaccurate, and requires all kinds of hacks and tricks to work around and hide artifacts and all kinds of crap.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you find some solutions for these issues however I\u0027d be interested in how you solve them.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso are you generating the precomputed scattering textures ingame or just loading them?\n\u003C/p\u003E\n\u003Cp\u003E\nBack then for scatterer I had to be compatible with directx9 which had no support for 3D textures. Knowing that Bruneton\u0027s scattering uses a 4D texture, stored in a 3D texture with interpolation done manually on the 4th dimension, I had to store the 4D texture in a 2D texture and do the interpolation manually for the remaining 2 dimensions... It gave me headaches, luckily code from Scrawk saved me.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, what you call \u0022the math for how much the scatter occludes objects viewed through the atmosphere\u0022 is extinction, it should be computed by the same functions that compute the scattering.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-19T12:32:16Z\u0022 title=\u002204/19/2020 12:32  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 19, 2020\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2020-04-19T15:42:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223772912\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587253429\u0022 data-ipsquote-userid=\u0022104258\u0022 data-ipsquote-username=\u0022blackrack\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, blackrack said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso are you generating the precomputed scattering textures ingame or just loading them?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGenerating them in-game / at runtime.\u00A0 I took the entire Improved Scatterer project, and shoehorned it into the Unity Post Process stack, mostly unaltered.\u00A0 Still mostly an academic project, to learn the ins and outs of the scattering system, volumetric effects, and how to work with the post-process stack.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223772912\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587253429\u0022 data-ipsquote-userid=\u0022104258\u0022 data-ipsquote-username=\u0022blackrack\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, blackrack said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI personally completely gave up on using a depth buffer for scattering effects and went with the nuclear option instead a few versions ago (re-render all geometry with a scattering shader using a projector) for a few reasons:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, the more I play with the depth buffer, the more I run into these limitations.\u00A0 Trying to do planetary scale volumetric shadows, with anything less than a 8k shadow map, was full of terrible artifacts.\n\u003C/p\u003E\n\u003Cp\u003E\nThe basic scattering effect was \u003Cem\u003Eworkable\u003C/em\u003E from depth buffer alone, but getting all of the rest of the pieces working was not going well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-04-19T17:12:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223773159\u0022 data-ipsquote-contentid=\u0022192212\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587310972\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, the more I play with the depth buffer, the more I run into these limitations.\u00A0 Trying to do planetary scale volumetric shadows, with anything less than a 8k shadow map, was full of terrible artifacts.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you have any screenshots? I\u0027m curious what volumetric shadows derived from shadowMaps look like in KSP, I\u0027m also thinking about 8k shadow maps and some careful tuning to cover 50km\u002B shadows.\n\u003C/p\u003E\n"},{"CreatedByName":"Electrocutor","CreatedById":109593,"CreatedDateTime":"2020-04-20T12:02:38Z","Content":"\n\u003Cp\u003E\nWould there be a way to arbitrarily set the depth buffer to a much nearer far plane, while still only using a single camera? Or have it prioritize precision nearby? I also wonder if\u00A0allowDynamicResolution would help.\n\u003C/p\u003E\n\u003Cp\u003E\nI see that\u00A0DepthTextureMode.MotionVectors holds 4 times more data than the other modes, but I\u0027m not sure the resultant depth texture would be useful to what needs it.\n\u003C/p\u003E\n"}]}