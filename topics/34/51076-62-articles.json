{"TopicId":51076,"ForumId":34,"TopicTitle":"KMP v0.1.5.1 [0.23] [alpha] [inactive]","CreatedByName":"TehGimp666","CreatedById":61424,"CreatedDateTime":"2013-10-29T16:27:34Z","PageNum":62,"Articles":[{"CreatedByName":"chfhimself","CreatedById":101816,"CreatedDateTime":"2014-02-02T18:48:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022godarklight\u0022 data-cite=\u0022godarklight\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E@Rob2222: \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/563\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TehGimp/KerbalMultiPlayer/issues/563\u003C/a\u003E. It\u0027s been around for a while, we believe it\u0027s a KSP bug, but I\u0027m unsure how to avoid it. Once you hit the bug the ships are locked together forever.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve run into this several times recently. Symptoms are very similar to the reported KSP bug, but it\u0027s impossible for me to tell for sure as I would need to edit the save game files. KMP stores them in the DB, which is abit out of my understanding to look at. \u003C/p\u003E\u003Cp\u003EI\u0027d never run into this before in over 200hrs of playing solo KSP, but after just a few hours of KMP I hit it several times. I can only assume that something in KMP is aggravating the underlying issue in KSP.\u003C/p\u003E\u003Cp\u003EAs far as fixing the problem, I\u0027ve not found a solution. But, I have figured out a few things:\u003C/p\u003E\u003Cp\u003E1) I\u0027ve never had it happen to ships that were docked in the VAB (built docked)\u003C/p\u003E\u003Cp\u003E2) It seems more likely to happen after a time warp or a disconnect (I believe when you disconnect, your subspace is \u0022time warped\u0022 to server latest?)\u003C/p\u003E\u003Cp\u003E3) After docking, undock and redock a few times seems to prevent it.\u003C/p\u003E\u003Cp\u003E4) Having some sort of command module on items docked helps prevent it (I was trying to dock a fuel tank, then decouple the command module/rcs/batteries/motor to leave only the tank. It failed every time until I left one of the small probe modules on the fuel tank.)\u003C/p\u003E\u003Cp\u003E5) Attach every docking port with a decoupler. At least if it bugs, you can separate it the ships still.\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-02-03T05:22:36Z","Content":"\n\u003Cp\u003E2) Close, When you time warp, you stop sending vessel updates and the server ignores you completely. When you come out of warp the server allocates you a new subspace. When you reconnect, the client asks for the latest subspace.\u003C/p\u003E\u003Cp\u003EThe local save can still be found in saves/KMP/persistent.sfs, but KMP loads from start.sfs and pulls all the ships in. I\u0027m wondering if it\u0027s possible to check for bad dockings (like how they are different from ok docked vessels), and see if it\u0027s possible to detect and fix.\u003C/p\u003E\u003Cp\u003E3) Docking in KMP actually destroys the other vessel and reupdates one of the old ones, so I can see that helping, but it\u0027s probably a random chance thing\u003C/p\u003E\u003Cp\u003E4) I put probes on \u003Cem\u003Eeverything\u003C/em\u003E and I still hit this, so it doesn\u0027t fix it.\u003C/p\u003E\u003Cp\u003E5) That\u0027s clever. I tried to make a blowtorch to explode the docking port off, the first one ended up basically a mass driver, but it doesn\u0027t stay still for long enough, then I tried to invent one with a hook to wrap around a 2.5m part. I failed with that one too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Hayden06","CreatedById":102549,"CreatedDateTime":"2014-02-03T06:03:05Z","Content":"\n\u003Cp\u003ESorry if this has been answered already, but I\u0027m just wondering:\u003C/p\u003E\u003Cp\u003EIf I run my own server for me and my friends, can I disable time warping?\u003C/p\u003E\n"},{"CreatedByName":"Hayden06","CreatedById":102549,"CreatedDateTime":"2014-02-03T06:18:06Z","Content":"\n\u003Cp\u003EI love this idea so much!\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-02-03T09:06:41Z","Content":"\n\u003Cp\u003E@Hayden06: At the moment it\u0027s not currently possible to disable time warping, Keep in mind it takes half an hour to orbit kerbin and (I think) 18 hours to get to the mun. Space is big...\u003C/p\u003E\u003Cp\u003ESubspaces are a really nice way to solve the multiplayer warping problem - I\u0027m not sure how gimp come up with the idea, but it does make things easier. I initially thought the first multiplayer mod would have been master controlled warp (everyone warps at once), but here we are \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"JohannesMP","CreatedById":95391,"CreatedDateTime":"2014-02-03T12:59:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hayden06\u0022 data-cite=\u0022Hayden06\u0022\u003E\u003Cdiv\u003ESorry if this has been answered already, but I\u0027m just wondering:\u003Cp\u003EIf I run my own server for me and my friends, can I disable time warping?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m assuming you don\u0027t mean simply \u0027remove time warp\u0027 since that would mean flying to Eve would require you to wait over a year for your ship to arrive (and anyways to do that all you need to do is just agree with your friends to never to use the warp button, by for example just unbinding the keys), and I\u0027m assuming instead you mean remove the need I to sync when someone warps. As in, if they warp on their trajectory to the moon, then you would just see them on the moon in your time.\u003C/p\u003E\u003Cp\u003EThe problem is that in KSP, planets and moons are not stationary. Even if the mod made the player appear to be in their relative place around a celestial body, it still would have the potential to cause massive issues. \u003C/p\u003E\u003Cp\u003ELet\u0027s say you are orbiting Kermin and on their screen they just landed on minmus. And let\u0027s assume on your map you would see the moon and minus on opposite sides of kerbin, and on their screen, since they warped time, the moon and minmus are close together. If the mod was designed to just always show them where they are in their universe but \u0027projected\u0027 onto your universe, what would happen if they suddenly launch from minmus and do a quick transfer to the moon. Since on your screen the moon is on the opposite side of kerbin, would you see their ship suddenly fly through kerbin to reach the moon on the other side? It would just cause a huge amount of confusion and issues. For example what if you now wanted to rendezvous with them as they (on your screen) pass thorough kerbin. They wouldn\u0027t actually be there. \u003C/p\u003E\u003Cp\u003EIt may be a roundabout way of saying it, but the current syncing/time warp system is absolutely necessary. The only way you could otherwise avoid the problem is by locking the universe, forcing all planets to be stationary. That way regardless of how you warped, your position would still make sense for everyone, but that would take all the fun out of transferring between orbits.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-03T13:09:41Z\u0022 title=\u002202/03/2014 01:09  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 3, 2014\u003C/time\u003E by JohannesMP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hayden06","CreatedById":102549,"CreatedDateTime":"2014-02-03T20:41:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022godarklight\u0022 data-cite=\u0022godarklight\u0022\u003E\u003Cdiv\u003ESubspaces are a really nice way to solve the multiplayer warping problem - I\u0027m not sure how gimp come up with the idea, but it does make things easier. I initially thought the first multiplayer mod would have been master controlled warp (everyone warps at once), but here we are \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree, I just thought it would be fun to have a server aimed at a collaborative space station among friends all working in the same subspace. I just got my KMP going so I have yet to play with the warping, I might like it after all, I\u0027ll see what happens. I suppose it depends how easy it is to meet up with people in orbit after warps.\u003C/p\u003E\n"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2014-02-03T20:58:39Z","Content":"\n\u003Cp\u003E@JohannesMP:\u003C/p\u003E\u003Cp\u003EOr make each SOI a timespace, but I\u0027m not sure it\u0027s big deal, considering that the current method already works.\u003C/p\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-03T22:28:18Z","Content":"\n\u003Cp\u003EI just wanted to mention that I got KMP Server 0.1.5.1 working on a Raspberry Pi.\u003C/p\u003E\u003Cp\u003ETook a little bit of work to get mono and mysql running, but it seems quite stable and takes not too much CPU (not stress tested it yet). \u003C/p\u003E\u003Cp\u003EThanks for the hard work on KMP :-)\u003C/p\u003E\n"},{"CreatedByName":"tetryds","CreatedById":50204,"CreatedDateTime":"2014-02-03T22:54:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Coda\u0022 data-cite=\u0022Coda\u0022\u003E\u003Cdiv\u003EI just wanted to mention that I got KMP Server 0.1.5.1 working on a Raspberry Pi.\u003Cp\u003ETook a little bit of work to get mono and mysql running, but it seems quite stable and takes not too much CPU (not stress tested it yet). \u003C/p\u003E\u003Cp\u003EThanks for the hard work on KMP :-)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice, how many players can it handle?\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-02-04T04:04:47Z","Content":"\n\u003Cp\u003E@Hayden06: After someone warps, everyone from the past can press the sync button next to that player, which basically warps you to their time. So easy \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E@Coda: If you use sqlite, You might get away with 1 or 2 players *maybe*. There\u0027s still a few database issues, if you have ever noticed chat lag on public servers, that\u0027s due to the server falling behind (usually followed by kicking everyone but the leading player from a subspace).\u003C/p\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-04T05:12:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tetryds\u0022 data-cite=\u0022tetryds\u0022\u003E\u003Cdiv\u003ENice, how many players can it handle?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know, I haven\u0027t tested it properly yet. \u003C/p\u003E\u003Cp\u003EEdit: Initial sync for me takes most of the CPU, after that, usage drops to ~5% (the mono process). Other syncs (like when you come out of warp) raise the cpu usage to ~6-10%. That\u0027s just one player, still waiting for a friend to join up and test with me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-04T05:31:40Z\u0022 title=\u002202/04/2014 05:31  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 4, 2014\u003C/time\u003E by Coda\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-04T05:21:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022godarklight\u0022 data-cite=\u0022godarklight\u0022\u003E\u003Cdiv\u003E@Coda: If you use sqlite, You might get away with 1 or 2 players *maybe*. There\u0027s still a few database issues, if you have ever noticed chat lag on public servers, that\u0027s due to the server falling behind (usually followed by kicking everyone but the leading player from a subspace).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPrior to the Pi, I was playing with the server on another Mac, using sqlite3 that comes installed in MacOSX. It seemed fine for a while but I had a problem with the server crashing because of sqllite - whenever I came within ~20m of another craft to dock. I could reproduce it every time. I installed mySQL and the problem went away.\u003C/p\u003E\n"},{"CreatedByName":"JohannesMP","CreatedById":95391,"CreatedDateTime":"2014-02-04T11:16:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Coda\u0022 data-cite=\u0022Coda\u0022\u003E\u003Cdiv\u003EPrior to the Pi, I was playing with the server on another Mac, using sqlite3 that comes installed in MacOSX. It seemed fine for a while but I had a problem with the server crashing because of sqllite - whenever I came within ~20m of another craft to dock. I could reproduce it every time. I installed mySQL and the problem went away.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, as another Mac user I can confirm that this is a \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/638\u0022 rel=\u0022external nofollow\u0022\u003Eknow Issue\u003C/a\u003E on the bug tracker and unfortunately MySQL is the only currently proposed workaround, which \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/666\u0022 rel=\u0022external nofollow\u0022\u003Ecomes with its own set of issues\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-04T12:02:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JohannesMP\u0022 data-cite=\u0022JohannesMP\u0022\u003E\u003Cdiv\u003EYep, as another Mac user I can confirm that this is a \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/638\u0022 rel=\u0022external nofollow\u0022\u003Eknow Issue\u003C/a\u003E on the bug tracker and unfortunately MySQL is the only currently proposed workaround, which \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/666\u0022 rel=\u0022external nofollow\u0022\u003Ecomes with its own set of issues\u003C/a\u003E.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight. Although the mySQL process isn\u0027t using a huge amount of CPU (3-4% max) I\u0027m wondering if I can get sqlite on the Pi and see if I experience the same issues as on my Mac (my mac is on 10.8.4 btw), and also see if mono reduces its cpu usage too...\u003C/p\u003E\n"},{"CreatedByName":"JohannesMP","CreatedById":95391,"CreatedDateTime":"2014-02-04T21:36:11Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003E\u003Cstrong\u003EMy Previous 0.1.5.1 Tests \u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55835-KMP-v0-1-5-1-0-23-wip-alpha?p=910958\u0026amp;viewfull=1#post910958\u0022 rel=\u0022external nofollow\u0022\u003ERover Docking test 1\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55835-KMP-v0-1-5-1-0-23-wip-alpha?p=912941\u0026amp;viewfull=1#post912941\u0022 rel=\u0022external nofollow\u0022\u003EOrbit Test 1 - Setup\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55835-KMP-v0-1-5-1-0-23-wip-alpha?p=913569\u0026amp;viewfull=1#post913569\u0022 rel=\u0022external nofollow\u0022\u003EOrbit Test 1 - Further Testing\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55835-KMP-v0-1-5-1-0-23-wip-alpha?p=918595\u0026amp;viewfull=1#post918595\u0022 rel=\u0022external nofollow\u0022\u003EDocking Test - Attempt 1\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55835-KMP-v0-1-5-1-0-23-wip-alpha?p=926509\u0026amp;viewfull=1#post926509\u0022 rel=\u0022external nofollow\u0022\u003EOrbit Test 2\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ERover test 2\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Chr\u003E\u003Cp\u003EAfter a good bit of work with godarklight we were able to compile a working 32bit sqlite3 mac library, and I wanted to test if it fixed some of the issues that sqlite3 had for mac in the past.\u003C/p\u003E\u003Cp\u003EIt should be noted that while I am using devbuild 7d95942, in addition to the extra libsqlite3.0.dylib file I was also using Mono.Data.Sqlite.dll and a modified KMPServer.exe and KerbalMultiPlayer.dll (as modified by godarklight on his test server).\u003C/p\u003E\u003Cp\u003EAs such some of the issues below may not be directly reproducible with the immediate dev build, but probably will be in future builds, once these changes are merged.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESetup\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EServer was configured Similar to previous attempts (default except 1750m bubble) although this time we\u0027re using sqlite3 and so useMySQL is set to False.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EEverything is running on the same machine, two clients, the top-left is called \u0027client_1\u0027, bottom-right \u0027client_2\u0027.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVideo\u003C/strong\u003E \u003Cem\u003E(please watch in full 1080p)\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\n\u003C/div\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/wK9KbRYomMA?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003ENote: Unfortunately I did not have time to edit this video, but a detailed analysis with timestamps can be found below\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EKey Issue Summary\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cstrong\u003E[New]\u003C/strong\u003E When launching at the same time, both clients will suddenly not be able to see the other one on their respective user lists while inside the bubble. Despite this however the users can still receive chat messages from each other. When either of the clients exits the bubble they will immediately appear on the other client\u0027s user list. It seems the change of state causes the update to sync, while the client did not receive the original \u0027change in user\u0027s state\u0027 message while they were in the process of loading the world/vehicle before launch. Similarly at other times a client will not see a connected user, but then changing their state, such as switching from the space center to the tracking station, will fix it.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[Known]\u003C/strong\u003E As in my previous tests, two clients leaving the bubble in atmosphere next to each other will not be able to see each other\u0027s vessels until they completely disconnect and reconnect.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[Known]\u003C/strong\u003E When another user is connected, one user will repeatedly fail to connect, instantly being listed as \u0022Player #\u0026lt;num\u0026gt; \u0026lt;name\u0026gt; has disconnected: Connection lost\u0022. This seems random and randomly fixes itself, but as you can see in the video below, sometimes it takes over a minute of consecutive tries for it to work.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[New]\u003C/strong\u003E When disconnecting and reconnecting soon after the initial sync out of the bubble (to fix issue 2 above), weird stuff happens with the vehicles: \u003Cbr\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003EI\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E. The original movement that the vehicle made seems to not have saved and the vehicle is reset to the edge of the bubble where it was first synced to the server - in the example below both rovers drove 200-300 meters away from the bubble and locked their breaks. upon logging in again both vehicles were on the edge of the bubble with their breaks unlocked\u003C/div\u003E\u003Cbr\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003EII\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E. One vehicle is changed to the other vehicle\u0027s model and name, but retains its original position (so it\u0027s not a case of ship duplication where you just have two copies of the same vessel in one spot).\u003C/div\u003E\u003Cbr\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003E-\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E I\u0027ve been able to reliably reproduce both \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003EI\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E and \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003EII\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E, following the same order of operations as described by the video.\u003C/div\u003E\u003Cp\u003E\u003Cbr\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[Known]\u003C/strong\u003E 45 second vehicle updates still do not happen, for several minutes after opening the parachutes on both vehicles, the other client would still see the parachutes as closed\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[New]\u003C/strong\u003E Although early in my test the movement seemed much smoother than in my previous tests, at a very slow speeds movement is not correctly synced and the other client, instead of seeing a slow steady movement, will see the vehicle jumping forward in little hops every few seconds. It seems as if either movement data is capped to only be sent if the velocity exceeds a certain speed, or if a vehicle has moved more than a predetermined distance. While this might save bandwidth, it looks really bad.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E[New]\u003C/strong\u003E After running for a few minutes the server begins to struggle and messages are delayed, only a few seconds at first, but ultimately one vessel\u0027s movement can take up to 80 seconds to even begin to appear on the other client. This also affects chat messages, which don\u0027t even show up in the server\u0027s own log until much later after they are sent, which seems to indicate an underlying congestion issue in the server itself.\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVideo Analysis\u003C/strong\u003E \u003Cem\u003E(bold timestamps indicate a possible issue)\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E0:06 - As a baseline, showing that both clients can send and receive chat messages from one another\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E0:40 - \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003ENote\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E: client_1 has loaded Rover1, client_2 has loaded Rover 2. Rover1 has orange parachutes, Rover2 has blue. This is important later on.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E1:05 - Both client_1 and client_2 launch as close together as possible. This might be relevant for the issue that follows at 1:18 below.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E1:12 - For the first ~5 seconds both clients can see the other in the user list\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E1:18\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Suddenly both clients disappear from the other\u0027s user list. However neither have been disconnected, and indeed both can still receive chat messages from the other one (1:25).\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E1:45\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - The moment client_1 leaves the bubble client_2 suddenly sees them again, listed as \u0027Prelaunch at Kerbin\u0027. However client_1 still cannot see client_2 on their user list. When client_2 then leaves the bubble (2:08) they also appear on client_1\u0027s userlist.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E2:12\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - As has been the case in all my previous tests, once both clients have left the bubble and synced their vehicles to the server, neither can see the other. \u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E2:20 - \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003ENote\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E: Rover1 and Rover2 are both about 200-300 meters away from the edge of the runway, and both have their breaks on, so cannot move anywhere. Keep this in mind for later.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E2:28 - Both clients disconnect, as is necessary for them to be able to see the other vessel.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E2:43\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - I first click connect on client-1, then a splitsecond later click connect on client_2. While client_2 reconnects instantly, client_1 is stuck on the map screen. Almost instantly after attempting to connect the server log states: \u0022Player #1 client_1 has disconnected: Connection lost\u0022. This continues to happen several times:\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E2:58\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 2 - failed\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E3:14\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 3 - failed\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E3:24\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 4 - failed\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E3:37\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 5 - failed\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E3:44\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 6 - failed\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E3:53\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - client_1 Connection attempt 7 - success! notice how you can immediately tell from the atmospheric reentry sound effect that plays during the loading screen.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E4:05\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Despite having now connected, client_2 still is not seeing client_1 on their player list. Only once both players switch locations, to the tracking station, does client_2 see client_1 again.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E4:15 - Remember how I made absolutely sure that the two rovers had different names, Rover1 and Rover2? Well the tracking station now only shows two \u0027Rover2\u0027 entries\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E4:32 - client_1 resumes the flight of the top rover and client 2 resumes the bottom one.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E4:37\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Now, if Rover2 was just duplicated you would expect the two duplicates to be in the same spot, but they\u0027re not. In fact they\u0027re both on the same path that the previous two rovers took when they left the bubble, not on the same path as you would expect if it was somehow a duplicate of Rover2. What seems to have happened here is that, somehow, Rover1 was simply replaced by Rover2. What the heck?\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E4:42\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Remember where the rovers stopped at 2:20, each rover was 200-300 meters away from the runway with their breaks on. However when client_1 and client_2 logged on just now, the rovers were just barely on the edge of the runway, basically exactly where the edge of the bubble is. It\u0027s almost as if their position was not saved on the server after the clients disconnected, and reverted back to the place where Rover1 and Rover2 first spawned into the server when leaving the bubble.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E4:53 - Time to test how good the syncing is now. If you\u0027ll recall in my previous tests, this was always really jittery, with a strange 1-2, 1-2, 1-2 kind of movement.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E5:12\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Just to verify that they are indeed the same vehicle, both have the blue parachutes that Rover2 used, not the orange ones that Rover1 had attached.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E5:37 - At this point, comparing the movement on client_1 and client_2 it actually looks -really- good. The movement is smooth and almost 1-1. Much better than in previous tests!\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E7:14\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - To test if periodic updates work now, I deployed the two parachutes on client_1. The ship should re-sync completely every 45 seconds, so at the very least in 45 seconds client_2 should see the open parachutes.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E7:37\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Switching to client_2, I decide to also deploy its parachutes. However when I do so notice that the parachute model does not open up and change to show the \u0027parachute deployed\u0027 model. when I did so with the two client_1 parachutes this happened instantly.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E8:00\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - On client_1\u0027s rover is rolling at a constant, very slow speed. It seems that unlike the previous smooth movement, client_2 is not interpolating the movement correctly and so is seeing client_1\u0027s rover do little \u0027hops\u0027 every few seconds. It\u0027s almost as if movement is not synced unless the position changes more than a given value, at which point the position is synced again.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E8:16\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - On client_2\u0027s chat, I enter a chat message \u0022bounce, bounce, bounce\u0022. However this chat message does not appear instantly on client_2\u0027s screen, nor does it appear on the server\u0027s log. In fact there seems to currently be a MASSIVE delay in server packets, and the initial \u0027bounce, bounce, bounce\u0027 does not appear until 8:37, so 11 seconds later. subsequent chat messages sent by either client seem to take longer and longer each time.\u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E8:51\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E - Thinking back to 7:37 when I opened client_2\u0027s parachutes and the model did not update. Right at this moment the model suddenly updates, a whopping 74 seconds after the initial command. This further confirms that something is -really- clogging up the server right now.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E9:00 - I begin to drive around on client_2\u0027s screen to see how long it would take for client_1 to see the movement. \u003C/div\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E9:28\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E It takes about 30 seconds for the movement from client_2 to be visible to client_1. And the resulting movement is not very pretty anymore. It\u0027s very jittery, as if the client keeps receiving old data that resets the rover back and trying to re-interpret the path according to that. Something is clearly very wrong with the data being sent from the server to the client. It seems almost like the server is insisting on sending all the built up data that it has instead of just sending the client the most recent data, and as a result there\u0027s a huge amount of congestion.\u003C/div\u003E\u003Cp\u003E\u003Cem\u003E\u003C/em\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cem\u003E- Remember this is all running on the same machine, latency or packet bandwidth should not be an issue whatsoever.\u003C/em\u003E\u003C/div\u003E\u003Cem\u003E\u003C/em\u003E\u003Cp\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cstrong\u003E10:00\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E Now client_1 drives around a bit and then waits until client_2 receives this data. It ends up taking until 11:23, or over 80 seconds for client_2 to see client_1\u0027s rover even begin to move.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EDownloads\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ERover Craft Files: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/3718471/misc/KMP/2014-02-04_2/Rovers.zip\u0022 rel=\u0022external nofollow\u0022\u003Elink\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ELog Files: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/3718471/misc/KMP/2014-02-04_2/logs.zip\u0022 rel=\u0022external nofollow\u0022\u003Elink\u003C/a\u003E (I\u0027m unsure which order I launched the clients in, so don\u0027t know which client Player.log corresponds to. I also forgot to run KSP with the KMPdebug flag)\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-10T07:53:38Z\u0022 title=\u002202/10/2014 07:53  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 10, 2014\u003C/time\u003E by JohannesMP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainAviation","CreatedById":102679,"CreatedDateTime":"2014-02-04T23:30:29Z","Content":"\n\u003Cp\u003ESorry if this has been answered before, couldn\u0027t find the question. I installed KMP and made my server but now I get an error stating Start Save Missing. Very client installation. How do I fix this? The KMPsave is in the saves folder.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-05T00:04:36Z\u0022 title=\u002202/05/2014 12:04  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 5, 2014\u003C/time\u003E by CaptainAviation\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bcspazer","CreatedById":92847,"CreatedDateTime":"2014-02-05T00:36:35Z","Content":"\n\u003Cp\u003EAlright Kerbalnauts!\u003C/p\u003E\u003Cp\u003EThe Spazer.net Battle Server is now live!\u003C/p\u003E\u003Cp\u003EPlease visit my forum thread (link in my signature) for rules and required mods.\u003C/p\u003E\u003Cp\u003EENJOY!\u003C/p\u003E\u003Cp\u003E-BC\u003C/p\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-02-05T07:02:36Z","Content":"\n\u003Cp\u003E@JohannesMP: It might be worth checking the normal dev build with your build of sqlite in the server folder. I think the port to mono is unlikely to be merged, because I\u0027ve made everything use the disk database and not the memory database.\u003C/p\u003E\u003Cp\u003EThe server lag is another problem I\u0027d like to tackle one day, \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/555\u0022 rel=\u0022external nofollow\u0022\u003E#555\u003C/a\u003E, and the devils bug \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/666\u0022 rel=\u0022external nofollow\u0022\u003E#666\u003C/a\u003E. The server is building up messages in its queue and it can\u0027t process them fast enough (or doesn\u0027t want to - I\u0027ve noticed that CPU usage can be low but the server can still lag). It is worse in MySQL, but you may be experiencing similar results because it\u0027s using the disk database.\u003C/p\u003E\u003Cp\u003E@CaptainAviation: It means that KSP_folder/saves/KMP/start.sfs is missing, which means it wasn\u0027t installed properly.\u003C/p\u003E\u003Cp\u003E@bcspazer: Kerbal the mass drivers!\u003C/p\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-05T10:12:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Coda\u0022 data-cite=\u0022Coda\u0022\u003E\u003Cdiv\u003ERight. Although the mySQL process isn\u0027t using a huge amount of CPU (3-4% max) I\u0027m wondering if I can get sqlite on the Pi and see if I experience the same issues as on my Mac (my mac is on 10.8.4 btw), and also see if mono reduces its cpu usage too...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve tested further using sqlite on the Pi, and have no crashing issues so far. I\u0027ve copied the db from the mac which was crashing when trying to dock in LKO, and on the Pi it doesn\u0027t crash at all, I can dock successfully. \u003C/p\u003E\u003Cp\u003EOn the mac, I\u0027ve also tried linking to the native sqllib (/usr/lib/libsqlite3.dylib) but the crash still happens when I get close (~20m) to the other craft.\u003C/p\u003E\u003Cp\u003EHere\u0027s a stacktrace if anyone is interested:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E  at \u0026lt;unknown\u0026gt; \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at (wrapper managed-to-native) System.Data.SQLite.UnsafeNativeMethods.sqlite3_prepare_v2 (intptr,intptr,int,intptr\u0026amp;,intptr\u0026amp;) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLite3.Prepare (System.Data.SQLite.SQLiteConnection,string,System.Data.SQLite.SQLiteStatement,uint,string\u0026amp;) \u0026lt;0x003f3\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.BuildNextCommand () \u0026lt;0x001eb\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.GetStatement (int) \u0026lt;0x0006b\u0026gt;\u003Cbr\u003E  at (wrapper remoting-invoke-with-check) System.Data.SQLite.SQLiteCommand.GetStatement (int) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteDataReader.NextResult () \u0026lt;0x0031f\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteDataReader..ctor (System.Data.SQLite.SQLiteCommand,System.Data.CommandBehavior) \u0026lt;0x00177\u0026gt;\u003Cbr\u003E  at (wrapper remoting-invoke-with-check) System.Data.SQLite.SQLiteDataReader..ctor (System.Data.SQLite.SQLiteCommand,System.Data.CommandBehavior) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.ExecuteReader (System.Data.CommandBehavior) \u0026lt;0x00047\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery () \u0026lt;0x00027\u0026gt;\u003Cbr\u003E  at KMPServer.Server.storeVesselUpdate (byte[],KMPServer.Client,System.Guid,double,bool) \u0026lt;0x001da\u0026gt;\u003Cbr\u003E  at KMPServer.Server.sendPluginUpdateToAll (byte[],bool,KMPServer.Client) \u0026lt;0x027a3\u0026gt;\u003Cbr\u003E  at KMPServer.Server.HandlePluginUpdate (KMPServer.Client,KMPCommon/ClientMessageID,byte[]) \u0026lt;0x0003b\u0026gt;\u003Cbr\u003E  at KMPServer.Server.handleMessage (KMPServer.Client,KMPCommon/ClientMessageID,byte[]) \u0026lt;0x00147\u0026gt;\u003Cbr\u003E  at KMPServer.Server.handleConnections () \u0026lt;0x0015b\u0026gt;\u003Cbr\u003E  at System.Threading.Thread.StartInternal () \u0026lt;0x00057\u0026gt;\u003Cbr\u003E  at (wrapper runtime-invoke) object.runtime_invoke_void__this__ (object,intptr,intptr,intptr) \u0026lt;0xffffffff\u0026gt;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m still experimenting with the Pi: a friend tried to join last night (Pi was using mySQL) and he had several connection fails before I decided to change the port forward to the mac server instead (we just wanted to play! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E). However I\u0027m going to try sqlite on the Pi when he has time to see if it reduces the CPU usage enough for a Raspberry Pi to be useful in this application. At the moment, with mySQL I don\u0027t think so but I\u0027m not 100% certain.\u003C/p\u003E\n"},{"CreatedByName":"JohannesMP","CreatedById":95391,"CreatedDateTime":"2014-02-05T11:01:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Coda\u0022 data-cite=\u0022Coda\u0022\u003E\u003Cdiv\u003EI\u0027ve tested further using sqlite on the Pi, and have no crashing issues so far. I\u0027ve copied the db from the mac which was crashing when trying to dock in LKO, and on the Pi it doesn\u0027t crash at all, I can dock successfully. \u003Cp\u003EOn the mac, I\u0027ve also tried linking to the native sqllib (/usr/lib/libsqlite3.dylib) but the crash still happens when I get close (~20m) to the other craft.\u003C/p\u003E\u003Cp\u003EHere\u0027s a stacktrace if anyone is interested:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E  at \u0026lt;unknown\u0026gt; \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at (wrapper managed-to-native) System.Data.SQLite.UnsafeNativeMethods.sqlite3_prepare_v2 (intptr,intptr,int,intptr\u0026amp;,intptr\u0026amp;) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLite3.Prepare (System.Data.SQLite.SQLiteConnection,string,System.Data.SQLite.SQLiteStatement,uint,string\u0026amp;) \u0026lt;0x003f3\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.BuildNextCommand () \u0026lt;0x001eb\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.GetStatement (int) \u0026lt;0x0006b\u0026gt;\u003Cbr\u003E  at (wrapper remoting-invoke-with-check) System.Data.SQLite.SQLiteCommand.GetStatement (int) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteDataReader.NextResult () \u0026lt;0x0031f\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteDataReader..ctor (System.Data.SQLite.SQLiteCommand,System.Data.CommandBehavior) \u0026lt;0x00177\u0026gt;\u003Cbr\u003E  at (wrapper remoting-invoke-with-check) System.Data.SQLite.SQLiteDataReader..ctor (System.Data.SQLite.SQLiteCommand,System.Data.CommandBehavior) \u0026lt;0xffffffff\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.ExecuteReader (System.Data.CommandBehavior) \u0026lt;0x00047\u0026gt;\u003Cbr\u003E  at System.Data.SQLite.SQLiteCommand.ExecuteNonQuery () \u0026lt;0x00027\u0026gt;\u003Cbr\u003E  at KMPServer.Server.storeVesselUpdate (byte[],KMPServer.Client,System.Guid,double,bool) \u0026lt;0x001da\u0026gt;\u003Cbr\u003E  at KMPServer.Server.sendPluginUpdateToAll (byte[],bool,KMPServer.Client) \u0026lt;0x027a3\u0026gt;\u003Cbr\u003E  at KMPServer.Server.HandlePluginUpdate (KMPServer.Client,KMPCommon/ClientMessageID,byte[]) \u0026lt;0x0003b\u0026gt;\u003Cbr\u003E  at KMPServer.Server.handleMessage (KMPServer.Client,KMPCommon/ClientMessageID,byte[]) \u0026lt;0x00147\u0026gt;\u003Cbr\u003E  at KMPServer.Server.handleConnections () \u0026lt;0x0015b\u0026gt;\u003Cbr\u003E  at System.Threading.Thread.StartInternal () \u0026lt;0x00057\u0026gt;\u003Cbr\u003E  at (wrapper runtime-invoke) object.runtime_invoke_void__this__ (object,intptr,intptr,intptr) \u0026lt;0xffffffff\u0026gt;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m still experimenting with the Pi: a friend tried to join last night (Pi was using mySQL) and he had several connection fails before I decided to change the port forward to the mac server instead (we just wanted to play! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E). However I\u0027m going to try sqlite on the Pi when he has time to see if it reduces the CPU usage enough for a Raspberry Pi to be useful in this application. At the moment, with mySQL I don\u0027t think so but I\u0027m not 100% certain.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhile this was a known \u0022won\u0027t fix\u0022 issue for the past few months just yesterday godarklight and I managed to compile a proper 32bit mac dylib. The one comes included in /usr/lib is the one causing the issues. Once \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/pull/679\u0022 rel=\u0022external nofollow\u0022\u003E#679\u003C/a\u003E is merged this should work. From my tests so far it does not crash anymore (as you can see in the rover test I posted above)\u003C/p\u003E\u003Cp\u003EIf you want you can already manually \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/3718471/misc/KMP/2014-02-04_2/sqlite_mac_lib.zip\u0022 rel=\u0022external nofollow\u0022\u003Edownload the dylib here\u003C/a\u003E, then unzip and drop it in a clean instal of the current server devbuild.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-05T11:05:01Z\u0022 title=\u002202/05/2014 11:05  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 5, 2014\u003C/time\u003E by JohannesMP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Coda","CreatedById":54648,"CreatedDateTime":"2014-02-05T11:23:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JohannesMP\u0022 data-cite=\u0022JohannesMP\u0022\u003E\u003Cdiv\u003EWhile this was a known \u0022won\u0027t fix\u0022 issue for the past few months just yesterday godarklight and I managed to compile a proper 32bit mac dylib. The one comes included in /usr/lib is the one causing the issues. Once \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/pull/679\u0022 rel=\u0022external nofollow\u0022\u003E#679\u003C/a\u003E is merged this should work. From my tests so far it does not crash anymore (as you can see in the rover test I posted above)\u003Cp\u003EIf you want you can already manually \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/3718471/misc/KMP/2014-02-04_2/sqlite_mac_lib.zip\u0022 rel=\u0022external nofollow\u0022\u003Edownload the dylib here\u003C/a\u003E, then unzip and drop it in a clean instal of the current server devbuild.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, that explains the identical crashes after symlinking the lib. For now, I won\u0027t bother pursuing sqlite on the mac, I\u0027ll wait until the next server release. Until then, I\u0027ll continue to test KMP/sqlite/mysql on the Pi, to see if it can be stable, and how many clients it will handle.\u003C/p\u003E\n"},{"CreatedByName":"adamos42","CreatedById":83634,"CreatedDateTime":"2014-02-05T13:25:37Z","Content":"\n\u003Cp\u003EHi, I started a new server: kerbalspace.eu[:2076], can I ask some features? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E- Teams (Companies, where can we choose a logo, maybe private chatroom)\u003C/p\u003E\u003Cp\u003E- Shared Science points (with everybody, with company members)\u003C/p\u003E\u003Cp\u003E- Maybe Science \u0022tax\u0022 if the shared science points work, server can take x% science to everybody and maybe the teamleader can take tax from members.\u003C/p\u003E\u003Cp\u003E- Science stole: If one company have a station and other team member go there and go EVE they can stole the science trught the devices, maybe with com devices can crack into the other company system and stole datas. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E- HTTP Server status information in JSON format and maybe get the server settings too in JSON.\u003C/p\u003E\u003Cp\u003E- In HTTP server status show the connected player names and status.\u003C/p\u003E\u003Cp\u003E- FallbackURL if server is down (stored in client side this url after once connected)\u003C/p\u003E\u003Cp\u003E- FallbackURL if client need mods (stored in client side this url after once connected)\u003C/p\u003E\u003Cp\u003E- RemoteTech Statelit share settings (companyes and player can privatize their satelites or share with the others, but only 1 comlink per antenna)\u003C/p\u003E\u003Cp\u003E- Mapsat and GPS satelit share settings (Spy satelit)\u003C/p\u003E\u003Cp\u003E- Players, satelites, bases etc hide if it is not share everybody, the hidden things only shows when visible (for mapsat satelite too)\u003C/p\u003E\n"},{"CreatedByName":"JohannesMP","CreatedById":95391,"CreatedDateTime":"2014-02-05T14:18:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adamos42\u0022 data-cite=\u0022adamos42\u0022\u003E\u003Cdiv\u003EHi, I started a new server: kerbalspace.eu[:2076], can I ask some features? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003Cp\u003E...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re welcome to add these as individual suggestions in the bug tracker: \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/TehGimp/KerbalMultiPlayer/issues\u003C/a\u003E. Try seperating them as multiple issue posts, to make tracking them easier in the future, although you can probably group the features pertaining to teams as one issue for the time being.\u003C/p\u003E\u003Cp\u003EHowever most of these are probably still multiple versions away, simply because the core fundamentals are still not done yet. There\u0027s still plenty of desyncing and simple issues that need to be addressed and ironed out before most of the features you suggested are even ready to be considered. You\u0027ve got some good ideas, but I\u0027d be surprised if any of them will make it in before 0.1.8\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-05T14:21:26Z\u0022 title=\u002202/05/2014 02:21  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 5, 2014\u003C/time\u003E by JohannesMP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-02-05T16:12:15Z","Content":"\n\u003Cp\u003E@Coda: The good news is we didn\u0027t have to change anything, putting the library in the current KMPServer folder for mac is all that\u0027s required. You can actually download it straight from my branch, but it\u0027s the same one Jo linked: \u003Ca href=\u0022https://github.com/godarklight/KerbalMultiPlayer/raw/native-sqlite-library/KMPServer/libsqlite3.0.dylib\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/godarklight/KerbalMultiPlayer/raw/native-sqlite-library/KMPServer/libsqlite3.0.dylib\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E@adamos42:\u003C/p\u003E\u003Cp\u003ETeams) I\u0027d speculate that this would only be good on war servers, the last thing you want to do in a multiplayer game of (by default 8) people is split people apart again :-/. However, I do see it being handy one day.\u003C/p\u003E\u003Cp\u003EShared Science points) Related to \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/548\u0022 rel=\u0022external nofollow\u0022\u003E548\u003C/a\u003E, \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/556\u0022 rel=\u0022external nofollow\u0022\u003E556\u003C/a\u003E and \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/667\u0022 rel=\u0022external nofollow\u0022\u003E667\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EScience stealing) You can kinda already do that, not by stealing the science, but by recovering landed probes and things.\u003C/p\u003E\u003Cp\u003EHTTP Json) Something we should probably look into, My server list grabs things using \u003Ca href=\u0022http://www.regular-expressions.info/\u0022 rel=\u0022external nofollow\u0022\u003Eregular expressions\u003C/a\u003E which look kind of weird.\u003C/p\u003E\u003Cp\u003EHTTP Players) Already exists, they show up with (for example) sed -n \u0027s/^Players: (\\.*\\)$/\\1/p\u0027\u003C/p\u003E\u003Cp\u003EFallbackURL) You might want to explain that one a bit more, but my KMPModClient program (which admittedly needs love for the next version of KMPModControl) might handle the mod issue.\u003C/p\u003E\u003Cp\u003ERemoteTech, mapsat, GPS) Same as above with the kethane report.\u003C/p\u003E\u003Cp\u003EVessel hiding) Sounds one step further then making it private. That\u0027s something to think about. One the other hand we should probably fix \u003Ca href=\u0022https://github.com/TehGimp/KerbalMultiPlayer/issues/605\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E first, as it looks like it\u0027s already happening \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"}]}