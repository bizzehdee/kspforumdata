{"TopicId":47648,"ForumId":34,"TopicTitle":"[0.25] Engine Ignitor (Workaround for some bugs V3.4.1: Aug.31)","CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-07T16:52:49Z","PageNum":5,"Articles":[{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-18T08:49:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EWell honestly I would, but unfortunately I don\u0027t use any of those part packs so I wouldn\u0027t really even know where to begin with assigning numbers to those engines.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlright, i\u0027m just trying to avoid reduntant/duplicated work. it would be a little bit waste of time if several people create different configs for one same mod pack. (there\u0027s one exception: they provide configs of various difficulties for people to choose)\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-18T10:47:43Z","Content":"\n\u003Cp\u003EHey again, so I was thinking about it and I decided that with my Configs using an additional resource, there should probably be a way to store extra of that resource... So I went ahead and re-textured the Radial Xenon tank and gave it some HypergolicFluid! In addition to that I also doubled the density of the HypergolicFluid because previously it was only half as dense as LiquidFuel, which didn\u0027t make much sense.\u003C/p\u003E\u003Cp\u003ESo anyways here\u0027s version 3 of my Configs, plus the HypergolicFluid storage part: - Link Removed (Check Post #96 on Page 10 of this thread) -\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-18T19:33:15Z\u0022 title=\u002210/18/2013 07:33  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 18, 2013\u003C/time\u003E by CoriW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-18T17:26:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EHey again, so I was thinking about it and I decided that with my Configs using an additional resource, there should probably be a way to store extra of that resource... So I went ahead and re-textured the Radial Xenon tank and gave it some HypergolicFluid! In addition to that I also doubled the density of the HypergolicFluid because previously it was only half as dense as LiquidFuel, which didn\u0027t make much sense.\u003Cp\u003ESo anyways here\u0027s version 3 of my Configs, plus the HypergolicFluid storage part: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/74725194/EngineIgnitorConfigs%20%28v3%20%2B%20part%29.rar\u0022 rel=\u0022external nofollow\u0022\u003EEngineIgnitorConfigs (v3 \u002B part)\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve just written NP/KW/KOSMOS/AIES\u0027s configs... need some time to tweak them... And then publish that onto this thread. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso, I used your config and changed something, like NERVA not needing any resource to ignite, and almost all engines have device limitation (depreciation) so that even if you have sufficient HypergolicFluid, the engine cannot ignite unless you use the IgnitorUnit to replace/reload it.\u003C/p\u003E\u003Cp\u003EThe idea of a HypergolicFluid radial tank is good. I\u0027m planning to modify one of the AIES\u0027s RCS tank for this, too. That tank is a tiny sphere tank, quite suitable for such job.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-18T17:29:46Z\u0022 title=\u002210/18/2013 05:29  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 18, 2013\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-18T19:23:07Z","Content":"\n\u003Cp\u003EAlright so based on what you\u0027ve said, I decided to go ahead and change my config to include what you\u0027ve said. NERVA no longer required HypergolicFluid, and all engines now have a limited number of ignitions. I also went ahead and changed the ignitorType\u0027s from \u0022type0\u0022 and \u0022type1\u0022 to something more readable, \u0022External\u0022, \u0022Internal_Small\u0022, \u0022Internal_Medium\u0022, \u0022Internal_Large\u0022, and \u0022Electric\u0022.\u003C/p\u003E\u003Cp\u003EI\u0027ve gone back and updated my original post with v4. (Post #96 on Page 10)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-18T19:32:37Z\u0022 title=\u002210/18/2013 07:32  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 18, 2013\u003C/time\u003E by CoriW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-19T19:49:47Z","Content":"\n\u003Cp\u003E\u003Cem\u003ESince it\u0027s been a day with no posts I\u0027m going to assume it\u0027s alright for me to post here again rather than edit my last post.\u003C/em\u003E\u003C/p\u003E\u003Cp\u003EI noticed a bug? At least what I think is a bug. Which is that if I have 20 ignitions available, but only enough HypergolicFluid for 15 ignitions, once the HypergolicFluid runs out and I try to throttle up again, it immediately consumes the last 5 ignitions available.\u003C/p\u003E\u003Cp\u003EAnother bug I\u0027ve seen that I believe is more of a KSP bug than a mod bug, is that if you have no HypergolicFluid, and you start to throttle up and it cuts your engine, there is still a visible flame / smoketrail behind the rocket.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-20T03:06:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003E\u003Cem\u003ESince it\u0027s been a day with no posts I\u0027m going to assume it\u0027s alright for me to post here again rather than edit my last post.\u003C/em\u003E\u003Cp\u003EI noticed a bug? At least what I think is a bug. Which is that if I have 20 ignitions available, but only enough HypergolicFluid for 15 ignitions, once the HypergolicFluid runs out and I try to throttle up again, it immediately consumes the last 5 ignitions available.\u003C/p\u003E\u003Cp\u003EAnother bug I\u0027ve seen that I believe is more of a KSP bug than a mod bug, is that if you have no HypergolicFluid, and you start to throttle up and it cuts your engine, there is still a visible flame / smoketrail behind the rocket.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve published my config pack onto OP. the pack also contains your stock config with some small edits.\u003C/p\u003E\u003Cp\u003EFor the first bug, i need to check it. I remember that i have some codes to deal with it, but it seems to be broken again.\u003C/p\u003E\u003Cp\u003EFor the second bug, well that should be one of KSP bugs.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-20T15:53:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003E\u003Cem\u003ESince it\u0027s been a day with no posts I\u0027m going to assume it\u0027s alright for me to post here again rather than edit my last post.\u003C/em\u003E\u003Cp\u003EI noticed a bug? At least what I think is a bug. Which is that if I have 20 ignitions available, but only enough HypergolicFluid for 15 ignitions, once the HypergolicFluid runs out and I try to throttle up again, it immediately consumes the last 5 ignitions available.\u003C/p\u003E\u003Cp\u003EAnother bug I\u0027ve seen that I believe is more of a KSP bug than a mod bug, is that if you have no HypergolicFluid, and you start to throttle up and it cuts your engine, there is still a visible flame / smoketrail behind the rocket.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s kind of weird... by design, once the plugin detects that the engine is short of ignitor resources, it will reduce ignitor by 1 and then shutdown the engine. Can you reproduce the bug and see if the engine is still activated by right clicking on the engine and see if there is \u0022Activate Engine\u0022 or \u0022Shutdown Engine\u0022 button in the context menu? or perhaps your engine cannot shutdown once ignited like solid booster?\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-21T00:42:08Z","Content":"\n\u003Cp\u003EAlright so here\u0027s the code for the LV-T45 engine, which is the one I chose to replicate the bug on.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// LV-T45 Engine\u003Cbr\u003E@PART[liquidEngine2]\u003Cbr\u003E{\u003Cbr\u003E    RESOURCE\u003Cbr\u003E    {\u003Cbr\u003E        name = HypergolicFluid\u003Cbr\u003E        amount = 6\u003Cbr\u003E        maxAmount = 6\u003Cbr\u003E    }\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEngineIgnitor\u003Cbr\u003E        ignitionsAvailable = 20\u003Cbr\u003E        autoIgnitionTemperature = 800\u003Cbr\u003E        ignitorType = Internal_Medium\u003Cbr\u003E        IGNITOR_RESOURCE\u003Cbr\u003E        {\u003Cbr\u003E            name = HypergolicFluid\u003Cbr\u003E            amount = 0.4\u003Cbr\u003E            // 15 Ignitions (Using HypergolicFluid)\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd here is a video illustrating the bug. (Also showing the KSP bug of the engine still being visually active while the engine is not.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/RZTW5Sk3Vq0?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAs you can see, once all the HypergolicFluid is used, and I try to throttle up, it immediately depletes all remaining ignitions available.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-21T00:44:21Z\u0022 title=\u002210/21/2013 12:44  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 21, 2013\u003C/time\u003E by CoriW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-21T02:01:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EAlright so here\u0027s the code for the LV-T45 engine, which is the one I chose to replicate the bug on.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// LV-T45 Engine\u003Cbr\u003E@PART[liquidEngine2]\u003Cbr\u003E{\u003Cbr\u003E    RESOURCE\u003Cbr\u003E    {\u003Cbr\u003E        name = HypergolicFluid\u003Cbr\u003E        amount = 6\u003Cbr\u003E        maxAmount = 6\u003Cbr\u003E    }\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEngineIgnitor\u003Cbr\u003E        ignitionsAvailable = 20\u003Cbr\u003E        autoIgnitionTemperature = 800\u003Cbr\u003E        ignitorType = Internal_Medium\u003Cbr\u003E        IGNITOR_RESOURCE\u003Cbr\u003E        {\u003Cbr\u003E            name = HypergolicFluid\u003Cbr\u003E            amount = 0.4\u003Cbr\u003E            // 15 Ignitions (Using HypergolicFluid)\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd here is a video illustrating the bug. (Also showing the KSP bug of the engine still being visually active while the engine is not.)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/RZTW5Sk3Vq0?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAs you can see, once all the HypergolicFluid is used, and I try to throttle up, it immediately depletes all remaining ignitions available.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood video. I can even see the ignition count decreasing one by one during the final ignition (which should fail) is commencing.\u003C/p\u003E\u003Cp\u003EA strange thing i noticed in this video is: the Active Engine button replaced the Shutdown Engine button, which indicates the engine should have been shutdown already. That\u0027s correct, it should be shutdown by plugin. but for the ignition count decreasing, the logic should only run when the engine is activated... That is very strange, i even wonder that this bug has some relationship with the KSP bug.\u003C/p\u003E\u003Cp\u003ECould you try another test in which you push your throttle more (like 25%) instead of just a little, and check if both bugs disappear. I cannot access my home computer right now, so my local tests have to be postponed for several hours.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-21T02:17:40Z\u0022 title=\u002210/21/2013 02:17  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 21, 2013\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-21T05:01:15Z","Content":"\n\u003Cp\u003EAlright so as per your request I\u0027ve re-done the test, this time throttling up to 100% before cutting the engine each time. Here is the test video.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/_Wrn_6hCxrM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAs you can see, both bugs still persist.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-21T05:58:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EAlright so as per your request I\u0027ve re-done the test, this time throttling up to 100% before cutting the engine each time. Here is the test video.\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/_Wrn_6hCxrM?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EAs you can see, both bugs still persist.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the new test video. I\u0027ll try to fix this bug once i get back to my home computer.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-21T13:36:48Z","Content":"\n\u003Cp\u003EOk... I did some tests and reproduced the bug also.\u003C/p\u003E\u003Cp\u003EBy some further debugging, it seems to be quite related to KSP bug though:\u003C/p\u003E\u003Cp\u003EThe plugin will detect if we have sufficient resources to ignite the engine, and it will then call \u0022Shutdown Engine\u0022 event of the engine if we don\u0027t, just like if you click it in the context menu / via predefined action group.\u003C/p\u003E\u003Cp\u003EHowever, the engine\u0027s \u0022engineShutdown\u0022 parameter is still false, leading my plugin to judge that the user is still trying to ignite the engine, thus it keeps checking and decreases the ignition count repeatedly.\u003C/p\u003E\u003Cp\u003EI may need to find another way to judge whether the engine is activated or not, probably by judging the Activate Engine/Shutdown Engine events themselves... which one of them is visible while the other one is not...\u003C/p\u003E\u003Cp\u003EHope that this solution can solve the issue.\u003C/p\u003E\u003Cp\u003EEDIT: OK. finally got it fixed. The solution of checking whether shutdown event is active or not finally works.\u003C/p\u003E\u003Cp\u003EAnd head back to ullage simulation, I\u0027ve got some issue of collecting vessel.acceleration, it seems like it will frequently return (0,0,0) to me instead of correct values, and the correct values jump frequently as well. I guess i need to add some simple logic to interlope/filter the noise to get some steady reading of the acceleration.\u003C/p\u003E\u003Cp\u003EEDIT2: Ok, turn out that i didn\u0027t consider other vessels near the KSC, that\u0027s why i get (0,0,0) reading because they are stationary. Now the ullage simulation is under way and looking good.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-22T15:31:15Z\u0022 title=\u002210/22/2013 03:31  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 22, 2013\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-22T21:50:26Z","Content":"\n\u003Cp\u003EAlright cool, will be watching this thread for updates, let me know if you need help with anything else.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-23T01:57:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EAlright cool, will be watching this thread for updates, let me know if you need help with anything else.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell talking about that bug, the plugin logic is now working but the engine\u0027s fx is still out there due to KSP bugs. I don\u0027t know how to disable that though... It will really confuse people a lot. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-23T02:00:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HoneyFox\u0022 data-cite=\u0022HoneyFox\u0022\u003E\u003Cdiv\u003EWell talking about that bug, the plugin logic is now working but the engine\u0027s fx is still out there due to KSP bugs. I don\u0027t know how to disable that though... It will really confuse people a lot. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah well, I\u0027ve seen that issue with another plugin too, (can\u0027t remember which one) and unfortunately there doesn\u0027t seem to be any easy fix (if any) for it. Personally I would just recommend stating in the OP that it\u0027s a known bug, and that it\u0027s caused by KSP and not the plugin.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-24T02:43:03Z","Content":"\n\u003Cp\u003EOk, I\u0027d like to give some update info in case any of you are expecting...\u003C/p\u003E\u003Cp\u003EThe ullage simulation is under way, right now the vessel can read acceleration correctly in its local transform\u0027s space. it can also handle time-warp correctly now when landed/splashed or coasting on orbits.\u003C/p\u003E\u003Cp\u003EThe simulation is nearly finished, and some parameters are being tweaked. The fuel flow will become stable when we have sufficient acceleration while it will go bad when you roll the rocket too much or after you coast the rocket for quite a while.\u003C/p\u003E\u003Cp\u003EI\u0027m still finding a way to show the fuel flow stability to players... probably i will show it also on the engine\u0027s context menu so players can watch that during ullage motor burning and judge if the main engine can be started.\u003C/p\u003E\u003Cp\u003EFor the ullage motor, there are several ideas:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E1. just use the small solid \u0022separatron\u0022 boosters, but it can be used only once, which may only be suitable for LKO/KTO/TMO rocket\u0027s upper stage. The upper stage can use the first stage\u0027s acceleration to start its first burn to complete the circularization and the separatron ullage motor can be used to start the GTO/TMO transfer burn. The GEO or MOI burn will then be executed by the payload\u0027s own engines...\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E2. use a small engine to consume the propellant (same as the main engine) and exhaust with a low thrust \u0026amp; low Isp to simulate venting boiled propellant, may only suitable for light payload, otherwise the thrust may not be enough to generate sufficient acceleration, but it consume the same propellant which means no extra resource tanks are needed.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E3. use a small engine which uses MonoPropellant or HypergolicFluid as propellant with higher thrust \u0026amp; medium Isp, suitable for heavier payload, but has limited times of burn due to limited resource. (it can actually be replaced by some specialized linear RCS ports, but it may be quite uncomfortable to control these ullage motors with RCS controls, right? or maybe not?)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-24T02:51:33Z\u0022 title=\u002210/24/2013 02:51  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 24, 2013\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-10-24T21:02:12Z","Content":"\n\u003Cp\u003E4. stack separators\u003C/p\u003E\u003Cp\u003E5. spin on the pitch/yaw axes\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-24T21:07:35Z","Content":"\n\u003Cp\u003EThis sounds great!\u003C/p\u003E\u003Cp\u003EHoneyFox, when you\u0027re checking acceleration, are you doing special handling for when landed and under G? (and when flying free and under G but not under local acceleration, the opposite corner case)\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-10-24T21:16:52Z","Content":"\n\u003Cp\u003EHow about making prop venting work by just opening the throttle with engine off? That would provide a nice emergency measure at the cost of a large amount of fuel. It should probably only work well with cryogenic fuel, as other types expand much less. You could try it with other types as long as the ship isn\u0027t too heavy (and you\u0027re not facing drag), but fuel loses would be much higher.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-25T02:47:43Z","Content":"\n\u003Cp\u003Estack separators may not be enough... it only gives a push when separating, can push most of fuel to the bottom of the tank, but may not be enough to remove gas bubbles in the fuel completely i guess...\u003C/p\u003E\u003Cp\u003Espin on pitch/yaw axis already works. And is usually used as an emergency procedure. (I\u0027ve just done that once yesterday night when my craft had been coasting towards Mun for several hours, and i forgot that the ullage would fail the lander engine ignition... oh that was a real busy moment, luckily i made it by pitching quickly (i didn\u0027t bring RCS so that\u0027s the last resort) and successfully ignited the engine before it\u0027s been too late.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-25T02:53:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThis sounds great!\u003Cp\u003EHoneyFox, when you\u0027re checking acceleration, are you doing special handling for when landed and under G? (and when flying free and under G but not under local acceleration, the opposite corner case)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe vessel.acceleration\u0027s magnitude will be nearly 0 when the rocket is landed, and will be 9.8 when orbiting, so all i need to get the correct reading is to use vessel.acceleration - FlightGlobals.getGeeAtPosition(vessel.GetWorldPos()). Note that the getGeeAtPosition will get a negative direction so i need to reverse it. After that it will be converted into engine\u0027s local transform. This will work for all situations except 5x\u002B time-warping.\u003C/p\u003E\u003Cp\u003EFor 5x\u002B time-warping, the vessel.acceleration reading is quite strange, so i changed to use either 0 when orbiting or -FlightGlobals.getGeeAtPosition(...) when landed/splashed.\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-25T04:07:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dragon01\u0022 data-cite=\u0022Dragon01\u0022\u003E\u003Cdiv\u003EHow about making prop venting work by just opening the throttle with engine off? That would provide a nice emergency measure at the cost of a large amount of fuel. It should probably only work well with cryogenic fuel, as other types expand much less. You could try it with other types as long as the ship isn\u0027t too heavy (and you\u0027re not facing drag), but fuel loses would be much higher.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is doable by:\u003C/p\u003E\u003Cp\u003E1. Create a small engine which doesn\u0027t simulate ullage to emulate a venting device. (I may need to add an option for this later, by default the option will enable the ullage simulation)\u003C/p\u003E\u003Cp\u003E2. Install several of them around the main engine, You\u0027d better use an action group to toggle both the venting devices and the main engine.\u003C/p\u003E\u003Cp\u003E3. Setup staging so that they will be activated before the main engine.\u003C/p\u003E\u003Cp\u003E4. Increase throttle to execute venting for several seconds.\u003C/p\u003E\u003Cp\u003E5. Use action group to shutdown the venting devices and starting the main engine at the same time.\u003C/p\u003E\u003Cp\u003E6. If we need to re-ignite later, simply use that action group to shutdown main engine and activate venting devices, and then go back to Step 4.\u003C/p\u003E\u003Cp\u003EEDIT: Ah, i read your post again... you want a module installed in engine to be able to generate small thrust even when the engine is not activated right? Well...that maybe doable, but IMHO it\u0027s not very necessary if we can take the measure above. but... i will think about it later.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-25T05:14:04Z\u0022 title=\u002210/25/2013 05:14  AM\u0022 data-short=\u002210 yr\u0022\u003EOctober 25, 2013\u003C/time\u003E by HoneyFox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-26T06:18:34Z","Content":"\n\u003Cp\u003EEngine Ignitor V3.0 has just been published! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESee \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51880-0-22-Engine-Ignitor-(V3-0-0-Released-Oct-26-2013)\u0022 rel=\u0022external nofollow\u0022\u003EOP\u003C/a\u003E for full introduction and download links.\u003C/p\u003E\u003Cp\u003EChange-log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E1. ModuleExternalIgnitor can have IgnitionsAvailable \u0026amp; IGNITOR_RESOURCE limitations too, similar to ModuleEngineIgnitor.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E2. Simple ullage simulation implemented. You need to take care of this before you want to ignite your engine especially after you have coasted for quite a while or you have adjusted attitude of vessel a lot. Several measures can be taken to solve the ullage issue. Fuel flow state will be displayed in the engine\u0027s context menu.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E3. Several bug-fixes. Including the engine flame keeping displayed after a failed ignition, ignitor count quickly decrease to zero when IGNITOR_RESOURCE are depleted, etc...\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-10-26T06:29:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HoneyFox\u0022 data-cite=\u0022HoneyFox\u0022\u003E\u003Cdiv\u003EEngine Ignitor V3.0 has just been published! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003ESee \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51880-0-22-Engine-Ignitor-(V3-0-0-Released-Oct-26-2013)\u0022 rel=\u0022external nofollow\u0022\u003EOP\u003C/a\u003E for full introduction and download links.\u003C/p\u003E\u003Cp\u003EChange-log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E1. ModuleExternalIgnitor can have IgnitionsAvailable \u0026amp; IGNITOR_RESOURCE limitations too, similar to ModuleEngineIgnitor.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E2. Simple ullage simulation implemented. You need to take care of this before you want to ignite your engine especially after you have coasted for quite a while or you have adjusted attitude of vessel a lot. Several measures can be taken to solve the ullage issue. Fuel flow state will be displayed in the engine\u0027s context menu.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E3. Several bug-fixes. Including the engine flame keeping displayed after a failed ignition, ignitor count quickly decrease to zero when IGNITOR_RESOURCE are depleted, etc...\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow\u0027d you fix the Engine FX showing after a failed ignition?\u003C/p\u003E\n"},{"CreatedByName":"HoneyFox","CreatedById":19237,"CreatedDateTime":"2013-10-26T06:40:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EHow\u0027d you fix the Engine FX showing after a failed ignition?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBy this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eengine.SetRunningGroupsActive(false);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThough i don\u0027t know if any side-effect will be brought in, till now it seems working quite well.\u003C/p\u003E\n"}]}