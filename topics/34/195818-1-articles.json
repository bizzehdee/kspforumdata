{"TopicId":195818,"ForumId":34,"TopicTitle":"[1.8.1 - 1.12.5] RSVP - kOS library for scripted interplanetary transfers and vessel rendezvous","CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-07-23T16:55:56Z","PageNum":1,"Articles":[{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-07-23T16:55:56Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cstrong\u003ERSVP\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRSVP is a kOS library that finds orbital launch windows then creates maneuver nodes to make the transfer. The acronym stands for \u0022Rendezvous s\u2019il vous pla\u00EEt\u0022, a playful pun on the regular meaning of the phrase.\n\u003C/p\u003E\n\u003Cp\u003E\nThis library enables players to make automated low delta-v transfers between two planets or vessels in-game, either directly from their own kOS scripts or from the kOS console. It provides a script-able alternative to existing tools, such as the excellent web based \u003Ca href=\u0022https://alexmoon.github.io/ksp/\u0022 rel=\u0022external nofollow\u0022\u003ELaunch Window Planner\u003C/a\u003E or the snazzy \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/wiki/Maneuver-Planner\u0022 rel=\u0022external nofollow\u0022\u003EMechJeb Maneuver Planner\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EFeatures\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nIntegrates with your kOS scripts.\n\u003C/li\u003E\n\u003Cli\u003E\nCreates departure and arrival maneuver nodes.\n\u003C/li\u003E\n\u003Cli\u003E\nSupports rendezvous between vessels, planets, moons, asteroids and comets.\n\u003C/li\u003E\n\u003Cli\u003E\nAdapts to planetary packs such as \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/152136-ksp-181-galileos-planet-pack-v164-01-july-2020/\u0022 rel=\u0022\u0022\u003EGalileo\u0027s Planet Pack\u003C/a\u003E, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/184789-131-18x-outer-planets-mod-v226-4th-feb-2020/\u0022 rel=\u0022\u0022\u003EOuter Planets Mods\u003C/a\u003E and \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/184880-181-jnsq-090-03-feb-2020/\u0022 rel=\u0022\u0022\u003EJNSQ\u003C/a\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nSee these features in action:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022240\u0022 src=\u0022https://player.vimeo.com/video/442344803?app_id=122963\u0022 title=\u0022RSVP Demo\u0022 width=\u0022426\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELinks\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases\u0022 rel=\u0022external nofollow\u0022\u003EDownload\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/maneatingape/rsvp\u0022 rel=\u0022external nofollow\u0022\u003EDocumentation\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/165628-181-kos-v1210-kos-scriptable-autopilot-system/\u0026amp;tab=comments#comment-3175111\u0022 rel=\u0022\u0022\u003EDependency: kOS 1.2.0 or greater\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/maneatingape/rsvp/tree/master/src\u0022 rel=\u0022external nofollow\u0022\u003ESource Code\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/maneatingape/rsvp/blob/master/LICENSE.md\u0022 rel=\u0022external nofollow\u0022\u003EGPL-3.0 License\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EQuickstart\u003C/strong\u003E\n\u003C/p\u003E\n\u003Col\u003E\n\u003Cli\u003E\nAcquire latest version of \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ersvp.zip\u003C/span\u003E from \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases\u0022 rel=\u0022external nofollow\u0022\u003Edownload link\u003C/a\u003E.\n\u003C/li\u003E\n\u003Cli\u003E\nUnzip into \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u0026lt;KSP install location\u0026gt;/Ships/Script \u003C/span\u003Edirectory. This step adds the library to the kOS archive volume, making it available to all vessels.\n\u003C/li\u003E\n\u003Cli\u003E\nLaunch a craft into a stable orbit of Kerbin.\n\u003C/li\u003E\n\u003Cli\u003E\nRun this script from the craft:\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003Eset config:ipu to 2000.\nrunoncepath(\u00220:/rsvp/main.ks\u0022).\nlocal options is lexicon(\u0022create_maneuver_nodes\u0022, \u0022both\u0022, \u0022verbose\u0022, true).\nrsvp:goto(duna, options).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis will find the next transfer window from Kerbin to Duna then create the corresponding maneuver nodes necessary to make the journey.\u003Cbr\u003E\nAdditionally it will print details to the console during the search.\n\u003C/p\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-02-18T19:04:59Z\u0022 title=\u002202/18/2023 07:04  PM\u0022 data-short=\u00221 yr\u0022\u003EFebruary 18, 2023\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JPmAn","CreatedById":121564,"CreatedDateTime":"2020-07-23T18:15:05Z","Content":"\n\u003Cp\u003E\nNicely done!\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2020-07-23T19:07:23Z","Content":"\n\u003Cp\u003E\nThis is great.\u00A0 I love that you\u0027ve got so many options for vessel, asteroids and comets too.\n\u003C/p\u003E\n\u003Cp\u003E\nPeace.\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-07-25T18:37:31Z","Content":"\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v2\u0022 rel=\u0022external nofollow\u0022\u003EVersion 2\u003C/a\u003E. First bugfix, first new feature and first technical improvement.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENew Features\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdd \u003Ccode\u003Ecleanup_maneuver_nodes\u003C/code\u003E option. Enabled by default, this will delete any maneuver nodes created if any problem occurs when creating the transfer, in order to leave a clean slate for the next attempt.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003EBug Fixes\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFix issue \u003Ca href=\u0022https://github.com/maneatingape/rsvp/issues/4\u0022 rel=\u0022external nofollow\u0022\u003E\u003Ccode\u003Esearch.ks fails when time:seconds \u0026gt; 2^31\u003C/code\u003E\u003C/a\u003E. The kOS \u003Ccode\u003Erange\u003C/code\u003E expression expects values to fit within a signed 32 bit integer. This caused the script to break when run on save games with a universal time greater than 2\u00B3\u00B9 seconds or about 233 years. Replaced the \u003Ccode\u003Erange\u003C/code\u003E expression with a \u003Ccode\u003Efrom\u003C/code\u003E loop as a straightforward workaround.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003ETechnical Improvements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCalculate the time at destination periapsis (used when creating the arrival node) directly from Keplerian orbital parameters of the intercept patch. This is more efficient and accurate than the previous approach, which used a line search to find the closest approach distance by trying different times.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-31T07:49:39Z\u0022 title=\u002207/31/2020 07:49  AM\u0022 data-short=\u00223 yr\u0022\u003EJuly 31, 2020\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-07-27T22:31:32Z","Content":"\n\u003Cdiv\u003E\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v3\u0022 rel=\u0022external nofollow\u0022\u003EVersion 3\u003C/a\u003E. Improve handling of objects on hyperbolic orbits.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETechnical Improvements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nUse different strategy when calculating default \u003Ccode\u003Esearch_duration\u003C/code\u003E, \u003Ccode\u003Emax_time_of_flight\u003C/code\u003E and \u003Ccode\u003Esearch_interval\u003C/code\u003E values for a destination with a hyperbolic orbit, for example an asteroid or comet. This change prevents a \u003Ccode\u003ETried to push Infinity onto the stack\u003C/code\u003E error that occurred because the approach used for planets assumes an elliptical orbit with a finite orbital period.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-31T07:50:13Z\u0022 title=\u002207/31/2020 07:50  AM\u0022 data-short=\u00223 yr\u0022\u003EJuly 31, 2020\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-07-31T07:51:37Z","Content":"\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v4\u0022 rel=\u0022external nofollow\u0022\u003EVersion 4\u003C/a\u003E. Support \u003Ccode\u003E.ksm\u003C/code\u003E compiled files.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENew Features\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cul\u003E\u003Cli\u003E\nImplement issue \u003Ca href=\u0022https://github.com/maneatingape/rsvp/issues/5\u0022 rel=\u0022external nofollow\u0022\u003E\u003Ccode\u003ERunning other files should not include extension\u003C/code\u003E\u003C/a\u003E. Add ability to use more compact compiled version of the source on craft that have limited volume space. Compiled files take about 20% of the space of the raw source, resulting in a significant space savings.\n\u003C/li\u003E\n\u003Cli\u003E\nAdd \u003Ccode\u003Ecompile_to\u003C/code\u003E convenience function that compiles the source to a user-specified destination, for example a kOS processor hard drive.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-07-31T07:56:57Z\u0022 title=\u002207/31/2020 07:56  AM\u0022 data-short=\u00223 yr\u0022\u003EJuly 31, 2020\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Muetdhiver","CreatedById":187253,"CreatedDateTime":"2020-08-01T09:12:44Z","Content":"\n\u003Cp\u003E\nThis is\u00A0impressive work.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny chance to couple such a thing to a python based flyby sequence finder or triple impulse transfer solver ?\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-08-01T10:37:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223829603\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221596273164\u0022 data-ipsquote-userid=\u0022187253\u0022 data-ipsquote-username=\u0022Muetdhiver\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n43 minutes ago, Muetdhiver said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny chance to couple such a thing to a python based flyby sequence finder or triple impulse transfer solver ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThose are some interesting use-cases! If all you need is a Lambert solver, then the code in \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elambert.ks\u003C/span\u003E is completely general and has no KSP/kOS specifics, so it should be relatively straightforward to port to Python.\n\u003C/p\u003E\n\u003Cp\u003E\nHow wedded are you to Python? The reason I ask is that\u0027s there are some advantages to staying within the kOS ecosystem. Kerboscript is a neat flexible functional language.\n\u003C/p\u003E\n\u003Cp\u003E\nKerboscript pros:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLeverage existing RSVP code\n\u003C/li\u003E\n\u003Cli\u003E\nUse built-in kOS functions for vessel and celestial body position and velocity\u003Cbr\u003E\n(no need to copy orbital parameters back and forth, then use an external Kepler solver)\u003Cbr\u003E\nWould also adapt to any planet pack mods \u0022for free\u0022 with no extra effort, for example GPP, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, JNSQ.\n\u003C/li\u003E\n\u003Cli\u003E\nUsers have access to the tool \u0022in-game\u0022 as they fly missions.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPython pros:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFaster execution\n\u003C/li\u003E\n\u003Cli\u003E\nAccess to the entire Python library ecosystem\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Muetdhiver","CreatedById":187253,"CreatedDateTime":"2020-08-01T15:55:07Z","Content":"\n\u003Cp\u003E\nI\u0027m using the the pygmo library from ESA to tackle problems beyond the scope of lambert. For example finding moho transfers with multiple assists, which is immensly expensive w.o. high quality search algorithms.\n\u003C/p\u003E\n\u003Cp\u003E\nI will meditate on it for a few days. I might come up with some ideas.\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-08-04T15:55:44Z","Content":"\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v5\u0022 rel=\u0022external nofollow\u0022\u003EVersion 5\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBug Fixes\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cul\u003E\u003Cli\u003E\nFix issue \u003Ca href=\u0022https://github.com/maneatingape/rsvp/issues/6\u0022 rel=\u0022external nofollow\u0022\u003E\u003Ccode\u003ETried to push NAN into the stack when attempting an intercept from a nearly-approaching orbit\u003C/code\u003E\u003C/a\u003E. This was preventing a craft that had just missed an intercept from correcting its orbit. The root cause was slight numeric inaccuracies in the Lambert solver for certain time of flight calculations resulting in an attempt to take the log of a negative number. Added a guard to protect against this edge case.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003ETechnical Improvements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdd \u003Ccode\u003Ebuild_documentation\u003C/code\u003E \u003Ca href=\u0022https://github.com/features/actions\u0022 rel=\u0022external nofollow\u0022\u003EGithub Action\u003C/a\u003E that creates documentation in the same format as kOS. On any change to the \u003Ccode\u003Edoc\u003C/code\u003E folder, this action will automatically run the \u003Ca href=\u0022https://www.sphinx-doc.org/en/master/\u0022 rel=\u0022external nofollow\u0022\u003ESphinx generator\u003C/a\u003E to convert raw \u003Ccode\u003E.rst\u003C/code\u003E text files to HTML, then publish the changes to Github Pages. This keeps a clean separation in the repository between the raw source files and the generated output.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2020-08-23T16:30:14Z","Content":"\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v6\u0022 rel=\u0022external nofollow\u0022\u003EVersion 6\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENew Features\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cp\u003E\nThis release adds a new mathematical approach to refining transfers when the ratio of the destination \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E to Periapsis exceeds a threshold. This fixes 2 issues:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nTransfers to larger moons (especially in the Jool system) are much less likely to go astray.\n\u003C/li\u003E\n\u003Cli\u003E\nPolar orbit orientation when travelling to Mun or Ike no longer results in huge delta-v values.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThe new approach is based on the paper \u003Ca href=\u0022https://doi.org/10.1016/j.ijleo.2017.10.153\u0022 rel=\u0022external nofollow\u0022\u003EA new method of patched-conic for interplanetary orbit\u003C/a\u003E by Jin Li, Jianhui Zhao and Fan Li.\n\u003C/p\u003E\n\u003Cp\u003E\nGiven a velocity vector at \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E boundary, periapsis altitude and inclination, this approach calculates the position vector that satisifies these contraints. This position vector is combined in a feedback loop with the Lambert solver to refine the initial estimate from one that only considers planets as points to one that takes the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E spheres into account. This removes the need both for the \u003Ccode\u003Eimpact_parameter\u003C/code\u003E function and the line search algorithm simplifying the vessel-to-body case. The body-to-body case also simplifies into a single step instead of two.\n\u003C/p\u003E\n\u003Cp\u003E\nFor vessels and planets with a \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E to Periapsis ratio of less than 1% the existing strategy is used. This strategy considers the planets as a zero-width point on the assumption that over large distance only small adjustments will be need to the predicted transfer.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever some bodies in KSP have extremely large \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E to Periapsis ratios, for example Ike (38%), Mun (23%) and Tylo (17%). For transfers to and from these bodies, the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E sphere needs to be taken into account when finding the lowest cost transfer. The \u003Ccode\u003Eoffset_from_soi_edge\u003C/code\u003E and \u003Ccode\u003Eduration_from_soi_edge\u003C/code\u003E function in \u003Ccode\u003Eorbit.ks\u003C/code\u003E predict the time and position where a craft will exit/enter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nInterestingly another challenge with very large \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E to Periapsis ratios is that the minimum escape velocity can be higher than the desired transfer. For example a direct Hohmann transfer from Laythe to Vall is impossible, as the minmum escape velocity from Laythe is \u003Cem\u003Ehigher\u003C/em\u003E than the velocity required. The search algorithm now supports a minimum value for deltav, making this type of transfer possible.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBug Fixes\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFix calculation of periapis time when insertion orbit is mathematically elliptical. Insertion manuever node will now be placed in the correct location.\n\u003C/li\u003E\n\u003Cli\u003E\nFix bug in a guard clause in the Lambert solver that was throwing \u003Ccode\u003ENaN\u003C/code\u003E exception is certain situations.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003ETechnical Improvements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdd validation check to \u003Ccode\u003Efinal_orbit_periapsis\u003C/code\u003E option to ensure that supplied value is within \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E radius of destination.\n\u003C/li\u003E\n\u003Cli\u003E\nRefactor maneuver related code from \u003Ccode\u003Eorbit.ks\u003C/code\u003E to \u003Ccode\u003Emaneuver.ks\u003C/code\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-11-15T16:11:15Z","Content":"\n\u003Cp\u003E\nHello! I\u0027ve been using RSVP in stock KSP for a while now and it\u0027s been working great. However, I recently switched over to Galileo\u0027s Planet Pack and now RSVP is running much, much faster when searching for interplanetary transfer windows, but it finds a lot fewer of those windows. I wasn\u0027t really expecting a search with a maximum duration of 500 days to find fewer than 10 transfer windows to certain planets in the outskirts of the solar system as in stock similar searches would not only take a lot long (tens instead of single-digit minutes) and I\u0027m curious if you can think of why this would be the case.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe it\u0027s just the layout of the solar system (I\u0027ve tried JNSQ but can\u0027t remember noticing this), but I just wanted to make sure. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-16T01:16:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224055370\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221636992675\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello! I\u0027ve been using RSVP in stock KSP for a while now and it\u0027s been working great.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDelighted to hear it!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224055370\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221636992675\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHowever, I recently switched over to Galileo\u0027s Planet Pack and now RSVP is running much, much faster when searching for interplanetary transfer windows, but it finds a lot fewer of those windows. I wasn\u0027t really expecting a search with a maximum duration of 500 days to find fewer than 10 transfer windows to certain planets in the outskirts of the solar system as in stock similar searches would not only take a lot long (tens instead of single-digit minutes) and I\u0027m curious if you can think of why this would be the case.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe it\u0027s just the layout of the solar system (I\u0027ve tried JNSQ but can\u0027t remember noticing this), but I just wanted to make sure. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm...the default search parameters could need tweaking to better suit GPP. If you upload a copy of your save file and the transfer(s) you\u0027re attempting,\u00A0 I can take a look.\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-11-17T14:10:08Z","Content":"\n\u003Cp\u003E\nRight, so I think I have everything set up. There are two test vessels orbiting Gael. Test-1 is in a 100x100km orbit with an inclination of 8.3 degrees. A pretty standard launch orbit for GPP. Test-0 is in a 500x500km orbit with no inclination. I launched this after just to be absolutely sure inclination wasn\u0027t an issue.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tested Iota, Niven and Tellumo. Iota is the closest moon, and Niven and Tellumo are the nearest planets inside and outside Gael\u0027s orbit respectively. For reference, current date is year 9, day 92. Here are some trials runs I ran just to make sure.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003ETest-0 Iota: Starts slowly (doesn\u0027t anything for some seconds), then seems normal, stops at day 115 which corresponds with Iota\u0027s orbital period.\nTest-0 Niven: Finishes completely in a few seconds, and only prints out six times at day 92, 230, 368, (new year,) 81, 219, 358. It does find a very good transfer though.\nTest-0 Tellumo: Takes a few seconds to start, but is faster than Iota. It\u0027s then pretty similar to Niven.\n\nTest-1 Iota: Runs very quickly, to the point where I went back to Test-0 to see if it was still slow (it was). The final maneuver is not very good though, as it has rather substantial radial and normal values, and it drops the periapsis into the atmosphere.\nTest-1 Niven: Again, runs very quickly, and again only prints six times. The maneuver is worse, but this is probably due to the inclined orbit.\nTest-1 Tellumo: Runs slower than the other two, but is other than that very similar to the Niven run with few prints and a pretty bad maneuver.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe Iota tests are pretty much what I\u0027m used to from stock (lots of prints, sometimes faster or slower) but the Niven and Tellumo ones are the ones I wondering about. Here\u0027s the save file: \u003Ca href=\u0022https://www.dropbox.com/s/0vjeatjv397pntt/GPPrsvptest.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/0vjeatjv397pntt/GPPrsvptest.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the code, just in case the script isn\u0027t saved. I use a different script when actually playing, but it\u0027s really just this plus a nifty little way to input a new maximum search duration in the terminal. Both scripts have the same issue. Config:ipu is 2000.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003Eparameter dest.\n\nrunoncepath(\u00220:/rsvp/main\u0022).\nlocal options is lexicon(\u0022create_maneuver_nodes\u0022, \u0022first\u0022, \u0022verbose\u0022, true).\nrsvp:goto(dest, options).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nEdit: I don\u0027t use part mods other than kOS but let me know if you need a modlist as well. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-17T14:11:42Z\u0022 title=\u002211/17/2021 02:11  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 17, 2021\u003C/time\u003E by Black-Two-\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-18T21:46:46Z","Content":"\n\u003Cp\u003E\nHey \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177626\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0022 rel=\u0022\u0022\u003E@Black-Two-\u003C/a\u003E thanks for the save file.\u003C/span\u003E\u003Cspan\u003E I have setup:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan\u003EClean install of KSP 1.12.2\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EGPP 1.6.7\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EkOS 1.3.2\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003ERSVP v6\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nYour save file \u0022Abyss of the Void\u0022 (love the name!)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nReading your post, looks like the items to investigate are:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nDiscrepancy in search duration when searching transfer from Test-0 to Iota (takes a while) vs searching for a transfer to Niven/Tellumo (quick)\n\u003C/li\u003E\n\u003Cli\u003E\nLong pause between starting script and seeing any output.\n\u003C/li\u003E\n\u003Cli\u003E\nBad transfer from Test-1 to Iota\n\u003C/li\u003E\n\u003Cli\u003E\nHigher delta-v from Test-1 to Niven/Tellumo than with Test-0\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-18T22:58:40Z","Content":"\n\u003Cp\u003E\nLet\u0027s start with item 1:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224056945\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637272006\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDiscrepancy in search duration when searching transfer from Test-0 to Iota (takes a while) vs searching for a transfer to Niven/Tellumo (quick)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRSVP\u0027s default search parameters are very conservative. The intention is to always find the best (lowest \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E) transfer with the tradeoff of using extra time when performing the search.\u003Cbr\u003E\u003Cbr\u003E\nThe default search period is the maximum of either the synodic period between the two bodies or the sidereal orbital period . The synodic period is defined as the period for the phase angle between the 2 bodies to repeat. This period covers every possible relative orientation of the 2 bodies. Here\u0027s the relevant code line:\u003Cbr\u003E\u003Ca href=\u0022https://github.com/maneatingape/rsvp/blob/master/src/search.ks#L36\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/blob/master/src/search.ks#L36\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nThe search interval is smaller than the search period and is how often RSVP begins a new search using its hill climbing algorithm. The default search interval is half of the minimum orbital period. Relevant code line:\u003Cbr\u003E\u003Ca href=\u0022https://github.com/maneatingape/rsvp/blob/master/src/search.ks#L59\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/blob/master/src/search.ks#L59\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nHere\u0027s a table of the 3 transfers from Test-0\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cstrong\u003EDestination\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cstrong\u003ESearch Period (s)\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cstrong\u003ESearch Interval (s)\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cstrong\u003ERatio\u003C/strong\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nTellumo\n\u003C/td\u003E\n\u003Ctd\u003E\n18625942\n\u003C/td\u003E\n\u003Ctd\u003E\n4600800\n\u003C/td\u003E\n\u003Ctd\u003E\n4\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nNiven\n\u003C/td\u003E\n\u003Ctd\u003E\n17061136\n\u003C/td\u003E\n\u003Ctd\u003E\n2988830\n\u003C/td\u003E\n\u003Ctd\u003E\n5.7\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nIota\n\u003C/td\u003E\n\u003Ctd\u003E\n495456\n\u003C/td\u003E\n\u003Ctd\u003E\n1792\n\u003C/td\u003E\n\u003Ctd\u003E\n276\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\nNote that the search interval used is half the orbital period of \u003Cem\u003EGael \u003C/em\u003Ewhen going to Tellumo/Niven, but half the orbital period of Test-0 when going to Iota. The default parameters work well for the planet to planet case and I was able to reproduce the decent transfers that you found.\n\u003C/p\u003E\n\u003Cp\u003E\nNow we can see why the Iota transfer search is so much slower than the others. So the question isn\u0027t why the Niven/Tellumo transfers are so fast (they seem fine) but what can we do to speed up the transfer search between Test-0 and Iota.\u003Cbr\u003E\u003Cbr\u003E\nOne suggestion is to use the knowledge that Test-0 and Iota are in co-planar orbits. So a single orbit of Test-0 will cover all possible scenarios. Test-0 has an orbital period of ~30 min, so I changed the parameters to\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Elocal options is lexicon(\u003Cbr\u003E\n\u00A0 \u0022search_duration\u0022, 30 * 60,\u003Cbr\u003E\n\u00A0 \u0022search_interval\u0022, 0.25 * 30 * 60,\u003Cbr\u003E\n\u00A0 \u0022create_maneuver_nodes\u0022, \u0022first\u0022,\u003Cbr\u003E\n\u00A0 \u0022verbose\u0022, true).\u003C/span\u003E\u003Cbr\u003E\u003Cbr\u003E\nThis found a decent transfer in a fraction of the time.\u003Cbr\u003E\u003Cbr\u003E\nI\u0027ll investigate item 2 next.\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-22T13:48:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224056945\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637272006\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/18/2021 at 9:46 PM, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n2. Long pause between starting script and seeing any output.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177626\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0022 rel=\u0022\u0022\u003E@Black-Two-\u003C/a\u003E Nice find, this was an interesting issue to investigate! The long pause was caused by the very first pork chop search taking many more iterations than subsequent searches. The root cause was that the search period was very much less than the time of flight. RSVP uses the search period to determine the size of the \u0022step\u0022 used when searching.\n\u003C/p\u003E\n\u003Cp\u003E\nA visual example should help. The search period is on the x-axis and the time of flight is on the y-axis.\u00A0 A planet to planet transfer (for example Gael to Niven) has a reasonably square aspect ratio. As width and height are matched, the step size is a good choice for both horizontal and vertical steps.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YJt4Psu.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022105.67\u0022 height=\u0022800\u0022 style=\u0022width:300px;height:auto;\u0022 width=\u0022758\u0022 src=\u0022https://imgur.com/YJt4Psu.png\u0022\u003E\u003Cbr\u003E\nHere\u0027s an example with a more skewed 1:3 ratio. (the actual ratio of Test-0 to Iota was even more extreme at 103). We can see that the step size is still fine in the horizontal direction but too small in the vertical direction, resulting in extra steps.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022RWYLwq8.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022305.67\u0022 height=\u00221200\u0022 style=\u0022width:300px;height:auto;\u0022 width=\u0022654\u0022 src=\u0022https://imgur.com/RWYLwq8.png\u0022\u003E\u003Cbr\u003E\nNow that the problem is clear the fix is straightforward - scale the horizontal and vertical steps independently. With a larger vertical step the ratio is effectively square once again and the search time improves.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FiyjeOw.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022305.67\u0022 height=\u00221200\u0022 style=\u0022width:300px;height:auto;\u0022 width=\u0022654\u0022 src=\u0022https://imgur.com/FiyjeOw.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the details from your provided save:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022c2DfqF0.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002214.93\u0022 height=\u0022149\u0022 width=\u0022998\u0022 src=\u0022https://imgur.com/c2DfqF0.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe Test-0/Iota case is 55% faster. The Niven/Tellumo duration remained around the same. Delta-V was the same except for 2 cases that were a bit higher.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-22T14:03:36Z\u0022 title=\u002211/22/2021 02:03  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 22, 2021\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-11-22T19:34:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058122\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637588938\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177626\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0022 rel=\u0022\u0022\u003E@Black-Two-\u003C/a\u003E Nice find, this was an interesting issue to investigate!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re welcome! \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI really enjoy these detailed write-ups, by the way! I hadn\u0027t even thought of messing with search_interval before, but it makes a big difference.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-11-23T18:27:12Z","Content":"\n\u003Cp\u003E\nHey there,\u00A0 I ran into a different problem.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/a/jvbkGbK\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/jvbkGbK\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have a craft in a very eccentric orbit of Gratian, wanting to get to Geminus, Gratian\u0027s moon. Ten days (day 78 is today) into a search I get the error above. It looks like cos_E is greater than 1 and sin_E then tries to get the square root of a negative number. Here\u0027s a save: \u003Ca href=\u0022https://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-23T18:36:25Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022177626\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/177626-black-two/\u0022 rel=\u0022\u0022\u003E@Black-Two-\u003C/a\u003E Let\u0027s take a look at the next two issues.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224056945\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637272006\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/18/2021 at 9:46 PM, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n3. Bad transfer from Test-1 to Iota\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTest-1 is in an inclined orbit around Gael. By default RVSP assumes that you want to inject into a prograde orbit at 0\u00B0\u00A0 inclination.\u003Cbr\u003E\nThis is causing it to \u0022force\u0022 the 1st node at the cost of extra delta-v, essentially trying to hammer a square peg into a round hole.\n\u003C/p\u003E\n\u003Cp\u003E\nThe tweak is to change the desired final orbit type to polar. Relaxing this constraint allows RSVP to find a much better transfer. Here\u0027s a table of results:\n\u003C/p\u003E\n\u003Ctable border=\u00221\u0022 cellpadding=\u00221\u0022 cellspacing=\u00221\u0022 style=\u0022width:500px;\u0022\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u003Cstrong\u003ESettings\u003C/strong\u003E\n\u003C/td\u003E\n\u003Ctd\u003E\n\u003Cstrong\u003EDelta-V\u003C/strong\u003E\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nManual testing (not using RSVP)\n\u003C/td\u003E\n\u003Ctd\u003E\n888 m/s\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\nDefault RSVP settings\n\u003C/td\u003E\n\u003Ctd\u003E\n1184 m/s\n\u003C/td\u003E\n\u003C/tr\u003E\u003Ctr\u003E\u003Ctd\u003E\n\u0022final_orbit_orientation\u0022, \u0022polar\u0022\n\u003C/td\u003E\n\u003Ctd\u003E\n902 m/s\n\u003C/td\u003E\n\u003C/tr\u003E\u003C/tbody\u003E\u003C/table\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224056945\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637272006\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/18/2021 at 9:46 PM, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n4. Higher delta-v from Test-1 to Niven/Tellumo than with Test-0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn general, transferring from an inclined orbit around one planet to another is going to cost more delta-v than launching from an equatorial orbit at 0\u00B0\u00A0 inclination.\u003Cbr\u003E\nRSVP usually finds the transfer that intersects the destination planet at its ascending/descending node which tends to be optimal.\u003Cbr\u003E\u003Cbr\u003E\nUsing the velocity in the inclined orbit required precise timing on the maneuver node to depart at exactly the right time. Any offset from this time is harmful, as the manuever node delta-v is fighting against the inclination velocity.\u003Cbr\u003E\u003Cbr\u003E\nThat said, RSVP doesn\u0027t blindly create maneuver nodes at the exact time returned by the hill climb search. It adjusts them based on the ship\u0027s orbit to find the very best time possible. You can see the implementation in the \u0022create_maneuver_node_in_correct_location\u0022 function (no prizes for guessing what that does \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E)\u003Cbr\u003E\u003Ca href=\u0022https://github.com/maneatingape/rsvp/blob/master/src/transfer.ks#L285\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/blob/master/src/transfer.ks#L285\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(Interesting implementation detail: This uses the same code as the 2 dimensional pork chop hill climb, but restricted to 1 dimenstion).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-23T18:48:08Z\u0022 title=\u002211/23/2021 06:48  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 23, 2021\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-24T00:18:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058564\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637692032\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey there,\u00A0 I ran into a different problem.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a craft in a very eccentric orbit of Gratian, wanting to get to Geminus, Gratian\u0027s moon. Ten days (day 78 is today) into a search I get the error above. It looks like cos_E is greater than 1 and sin_E then tries to get the square root of a negative number. Here\u0027s a save: \u003Ca href=\u0022https://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, that\u0027s a good one!\u003Cbr\u003E\u003Cbr\u003E\nI tried the save file but could find no craft in orbit of Gratian. There\u0027s also a bunch of missing part errors (I don\u0027t have the same mods)\u003Cbr\u003E\u003Cbr\u003E\nWould you mind uploading the save again - with only the craft in question, with only stock parts (you can use the debug menu to rendezvous a dummy craft to the same orbit).\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Two-","CreatedById":177626,"CreatedDateTime":"2021-11-24T12:53:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058645\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637713104\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried the save file but could find no craft in orbit of Gratian. There\u0027s also a bunch of missing part errors (I don\u0027t have the same mods)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s really weird. Pod-R at the bottom of the list in the tracking station shows up for me. When or where are you getting these part errors? I\u0027m asking because the only part mod I use is kOS which presumably you also use.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058567\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637692585\u0022 data-ipsquote-userid=\u0022151354\u0022 data-ipsquote-username=\u0022ManEatingApe\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, ManEatingApe said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe tweak is to change the desired final orbit type to polar. Relaxing this constraint allows RSVP to find a much better transfer.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLet me try to understand this. \u0022Circular\u0022 means that RSVP really, really wants the final orbit to have 0\u00B0 inclination, but \u0022polar\u0022 means inclination it isn\u0027t particularly concerned with inclination, is that right?\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-24T14:59:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058804\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637758405\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s really weird. Pod-R at the bottom of the list in the tracking station shows up for me. When or where are you getting these part errors? I\u0027m asking because the only part mod I use is kOS which presumably you also use.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was missing Breaking Ground/Making History DLCs. When I added them, then restored a fresh copy of the save file I could see the craft and reproduce the error successfully.\u003Cbr\u003E\nPreviously I was getting a popup dialog error about unknown parts and it looks like KSP deletes a craft from the save if it has parts it can\u0027t load.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058804\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637758405\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLet me try to understand this. \u0022Circular\u0022 means that RSVP really, really wants the final orbit to have 0\u00B0 inclination, but \u0022polar\u0022 means inclination it isn\u0027t particularly concerned with inclination, is that right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDepending of the value of the \u0022final_orbit_orientation\u0022\u003Cbr\u003E\u003Ca href=\u0022https://github.com/maneatingape/rsvp/#final-orbit-orientation\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/#final-orbit-orientation\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRSVP tries to achieve a destination orbit of:\u003Cbr\u003E\n\u0022prograde\u0022 =\u0026gt; 0\u00B0\u003Cbr\u003E\n\u0022polar\u0022 =\u0026gt; 90\u00B0\u003Cbr\u003E\n\u0022retrograde\u0022 =\u0026gt; 180\u00B0\n\u003C/p\u003E\n\u003Cp\u003E\nIn this case the polar orbit was a closer match to the craft\u0027s existing orbit.\u003Cbr\u003E\u003Cbr\u003E\n(\u0022circular\u0022 is an option for the eccentricity of the final orbit, which is a different unrelated option \u0022final_orbit_type\u0022 \u003Ca href=\u0022https://github.com/maneatingape/rsvp/#final-orbit-type\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/#final-orbit-type\u003C/a\u003E )\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-24T15:00:57Z\u0022 title=\u002211/24/2021 03:00  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 24, 2021\u003C/time\u003E by ManEatingApe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-25T16:47:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224058564\u0022 data-ipsquote-contentid=\u0022195818\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637692032\u0022 data-ipsquote-userid=\u0022177626\u0022 data-ipsquote-username=\u0022Black-Two-\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/23/2021 at 6:27 PM, Black-Two- said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey there,\u00A0 I ran into a different problem.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/a/jvbkGbK\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/jvbkGbK\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have a craft in a very eccentric orbit of Gratian, wanting to get to Geminus, Gratian\u0027s moon. Ten days (day 78 is today) into a search I get the error above. It looks like cos_E is greater than 1 and sin_E then tries to get the square root of a negative number. Here\u0027s a save: \u003Ca href=\u0022https://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/8x14sqaz1ug8t7n/GPPrsvpgratian.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUpdate on what\u0027s going wrong...\u003Cbr\u003E\u003Cbr\u003E\nI originally thought it was due to the fact that the craft intercepts Geminus (no fewer than 3 times in a row!) within the search period, but after some investigation kOS doesn\u0027t track future intercepts until the game shows them in the UI so that was ruled out.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis extremely polished graphic will help illustrate:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u0022100.00\u0022 height=\u0022800\u0022 style=\u0022width:300px;height:auto;\u0022 width=\u0022800\u0022 alt=\u0022Row97qN.png\u0022 src=\u0022https://imgur.com/Row97qN.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nKSP uses patched conics, where each body has a finite \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E (sphere of influence). Within each \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E only the central body gravity is considered, reducing orbital equation to readily solvable 2 body forms. This means that at the boundary of the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E there is a \u003Cem\u003Eminimum \u003C/em\u003Epossible velocity. This is given by the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Vis-viva_equation\u0022 rel=\u0022external nofollow\u0022\u003Evis-viva equation\u003C/a\u003E and is 83 m/s for Geminus with a PE of 100km and AP at \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E boundary.\u003Cbr\u003E\u003Cbr\u003E\nRSVP uses a \u003Ca href=\u0022https://en.wikipedia.org/wiki/Spherical_cow\u0022 rel=\u0022external nofollow\u0022\u003Espherical cow\u003C/a\u003E approximation for the initial transfer returned by the Lambert solver. This assumes the origin, destination and craft are all zero dimensional points. RSVP then refines this raw initial transfer, using an iterative process that takes into account the finite SOIs of the origin and destination when applicable:\u003Cbr\u003E\u003Ca href=\u0022https://github.com/maneatingape/rsvp/blob/master/src/refine.ks#L203\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/maneatingape/rsvp/blob/master/src/refine.ks#L203\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFor one particular iteration the intercept is returning 28 m/s as the relative velocity of the craft and Geminus. As this is below the minimum possible, it mucks up the math and results in the stack trace you reported.\u003Cbr\u003E\u003Cbr\u003E\nThat\u0027s the background...so how do we fix it?\u003Cbr\u003E\nI\u0027m not sure yet. One solution might be to force a minimum floor on the intercept velocity. Another may be to better mirror how KSP translates velocity when transitioning SOIs.\n\u003C/p\u003E\n"},{"CreatedByName":"ManEatingApe","CreatedById":151354,"CreatedDateTime":"2021-11-26T11:37:20Z","Content":"\n\u003Cp\u003E\nReleased \u003Ca href=\u0022https://github.com/maneatingape/rsvp/releases/tag/v7\u0022 rel=\u0022external nofollow\u0022\u003EVersion 7\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENew Features\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis release increases the speed of the hill climbing algorithm when searching the pork chop plot in certain scenarios. The larger the relative difference between the origin and destination orbits, the more benefit this provides. The eventual transfer found and delta-v needed is the same as before but takes less time to find.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example a transfer search from Kerbin to Duna takes the same time. A transfer search from Moho to Eeloo takes 15% of the previous time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETechnical Improvements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen verbose mode is enabled, print details if a problem occurs during a transfer search.\n\u003C/li\u003E\n\u003Cli\u003E\nAdd CPU speed boost to quickstart code snippet\n\u003C/li\u003E\n\u003C/ul\u003E\n"}]}