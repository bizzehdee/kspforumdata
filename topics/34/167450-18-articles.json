{"TopicId":167450,"ForumId":34,"TopicTitle":"[1.9.x] Textures Unlimited - PBR-Shader, Texture Set, and Model Loading API","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-11-11T20:18:14Z","PageNum":18,"Articles":[{"CreatedByName":"Ger_space","CreatedById":167349,"CreatedDateTime":"2018-02-07T17:27:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288469\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518011288\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0 I\u0027ve just discovered this mod and I must say it look really impressive \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m seriously thinking about making a big rewrite of TRR, more focused on the kerbal side and I\u0027ve some question about TU, especially because we have big difficulties with the shader for our reflections.\n\u003C/p\u003E\n\u003Cp\u003E\n- Is the actual version of TRR (5.4) working with TU or does it make conflict ? If yes, where ?\n\u003C/p\u003E\n\u003Cp\u003E\n- Does it work on our kerbals or only on vessel part ?\n\u003C/p\u003E\n\u003Cp\u003E\n- Are the reflections \u0022real\u0022 or is it just the environment ?\u00A0 I mean , in TRR, we make another camera view at each refresh interval and we create an image and this image is projected on the surface we want the reflection. This way we can see our kerbal and crafts in real time but as you know, this is not really good for the performance.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthe main problem is probably that the current textures would be needed to be replaced. All windowshine textures use the MainTex Alpha channel as the store for the reflective value, while the PBR shaders use a own texture map for it. (same with other things like transparency and more advanced things), but the idea of modifieing the static parts withing the GameDatabase is pretty neat, because it needs only done once.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo handover the part-reflections (windowshine) to TU, TRR must get a new shader, which supports the new U5 PBR reflection probes, but uses the alpha channel from the main texture as the smoothness source (and at some point metallic) . Thats not difficult to write and would require only a few hours of testing.\u00A0\u003Cbr\u003E\nThe visor Shaders are up to you if you want them also changed. The new shader-model open ups new fancy possibilities, (like blue transparency with yellow reflections), but the missing vehicles and other kerbals might be an issue.\u003Cbr\u003E\nConverting the stock textures to PBR might be a bit painful, even with tools like substance painter it would take a few weeks to get through it. (but the effect would be amazing)\u003Cbr\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0026amp;do=hovercard\u0022 data-mentionid=\u002280363\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0022 rel=\u0022\u0022\u003E@Avera9eJoe\u003C/a\u003E\u00A0what is your opinion?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0I really like your work.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHow could I access your shaders from within an other mod? I gues it would be \u003Cspan style=\u0022background-color:#ffffff;color:#6f42c1;font-size:12px;\u0022\u003EKSPShaderLoader\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(255,255,255);font-size:12px;\u0022\u003E\u003Cfont color=\u0022#24292e\u0022\u003E.INSTANCE.loadedShaders\u00A0 \u00A0\u003C/font\u003E\u003C/span\u003E\u003Cbr\u003E\nKerbalKonstructs cannot use ModuleManager, so I must use most of the code on my own, but I don\u0027t want to handle the reflections probe nightmare by my self, so it would be cool to use TU as an optional improvement.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Have you seen any effects on the memory usage?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-07T18:41:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288660\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024389\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe shader and reflection is not a part I totally control/understand yet\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe good thing is -- I have a very good grasp of the shader and reflection stuff.\u00A0 At least the writing and loading of the shaders.\u00A0 So if you handed that end of things off to TU, you wouldn\u0027t need to worry about it anymore.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288660\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024389\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can already tell you that a option to be able to choose if we want to reflect our kerbals and vessels (and be performance consuming) or not is definitively something that \u0022need\u0022 to be looked at.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, I\u0027m willing to look into implementing it at least as an \u0027option\u0027.\u00A0 Kerbals reflections are much easier to justify as they would be very cheap, and including them could be part of the default setup.\u00A0 Non-active Vessels could also be done without \u0027too much\u0027 overhead, but I\u0027de probably leave that as \u0027default = disabled\u0027.\u00A0 Active vessel-self-reflections are mostly off the table though (unless a better way to do them can be found) -- doing a per-part-cubemap is simply not feasible, and kills performance quickly even on smaller vessels (e.g. the active vessel could reflect other vessels in the scene, but would not reflect parts of itself).\n\u003C/p\u003E\n\u003Cp\u003E\nStill, something we can discuss/work out.\u00A0 As long as the features are optional, I really don\u0027t mind having additional options for visual enhancements at the cost of performance (even the per-part reflections could be an option, though I\u0027d prefer to devote dev time to other things first).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288660\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024389\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe more it goes, the more I\u0027m interested in the customization of our kerbals and I\u0027ll be grateful if you can save me from the shader/reflection nightmare. I\u0027ve open the body swapping Pandora\u0027s box and now I\u0027m really focus on this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIndeed.\u00A0 I think the specialization of the mods is a good point.\u00A0 TU can do what it is good at (shaders, reflection probe stuff), and TRR can focus on what it is good at (texture replacement).\u00A0 I wouldn\u0027t mind handing -all- texture switching / texture set functionality off to another mod; no reason to duplicate the functions (the only gotcha would be to somehow still allow for recoloring support in texture-switch equipped parts when recoloring shaders are used, but some sort of interface/generic system could likely be developed for this purpose).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288660\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024389\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, I don\u0027t know if this is in your domain, but I\u0027m also interested in adding a glow layer on our kerbal so we could have suits with glowing part. This and why not a metallic shader could allow us to make wonderful and crazy suits\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTotally doable.\u00A0 In fact I believe that the shader that I\u0027ve linked below (stock metallic bumped) already has emissive support.\u00A0 And as they are PBR shaders, they come with reflection/metallic support by default.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288660\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024389\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think we can discuss this in more detail in PM.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSounds good.\u00A0 I would say that we aim for a combined release of the rewritten versions to coincide with KSP 1.4; but that is because I\u0027m already planning on a few other potentially \u0027breaking\u0027 changes at the time in my various mods.\u00A0 Would also give us a decent amount of time to work out the problems and do some thorough testing.\u00A0 Anyhow, if I don\u0027t hear from you by the weekend, I\u0027ll probably reach out to get things rolling.\u00A0 I\u0027m not in any huge rush on any of it, but would like to get things started sooner rather than later so that good plans can be drawn out.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288662\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024468\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow could I access your shaders from within an other mod? I gues it would be \u003Cspan style=\u0022background-color:#ffffff;color:#6f42c1;font-size:12px;\u0022\u003EKSPShaderLoader\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(255,255,255);font-size:12px;\u0022\u003E\u003Cfont color=\u0022#24292e\u0022\u003E.INSTANCE.loadedShaders\u00A0 \u00A0\u003C/font\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can actually do it without a compile-time dependency on TU by using the stock KSP\u00A0 GameDatabase.loadedShaders\u00A0 list of shaders (or whatever it is named).\u00A0 Pretty sure I add them to that list after TU loads.\u00A0 And as TU loads close to first in the plugin list, the shaders should be available for most other mods during loading (more work can be done on this aspect if needed).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288662\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024468\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAll windowshine textures use the MainTex Alpha channel as the store for the reflective value,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere are multiple PBR shaders included with TU.\u00A0 One of them explicitly pulls its alpha/transparency/specular value from the diffuse.alpha channel --\u00A0 \u003Ca href=\u0022https://github.com/shadowmage45/TexturesUnlimited/blob/master/CustomShaders/SSTU-PBR-StockMetallicBumped.shader\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/TexturesUnlimited/blob/master/CustomShaders/SSTU-PBR-StockMetallicBumped.shader\u003C/a\u003E\u00A0 (metallic value still needs a new texture provided though; there is no way to extract metallic values from the existing stock textures, the data simply doesn\u0027t exist; you can set the \u0027metal\u0027 property in such a way as to disable the metallic effects though, turning it into nothing more than a specular shader with reflections).\n\u003C/p\u003E\n\u003Cp\u003E\nSo... nothing new should be needed shader wise.\u00A0 Just need to supply either a metallic texture, and/or set the metallic (\u0027metal\u0027) property in the shader appropriately for your use.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288662\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024468\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo handover the part-reflections (windowshine) to TU, TRR must get a new shader, which supports the new U5 PBR reflection probes\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSee the above; no new shaders should be needed, they already exist, and should be able to be easily used by external mods \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn regards to window reflections -- you might want to check out the patch sets by \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022109593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/109593-electrocutor/\u0022 rel=\u0022\u0022\u003E@Electrocutor\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117203\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117203-manwith-noname/\u0022 rel=\u0022\u0022\u003E@Manwith Noname\u003C/a\u003E -- they have not only window reflections working, but often full conversions of parts (both stock \u002B other mods).\n\u003C/p\u003E\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2018-02-07T19:00:44Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167349\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0022 rel=\u0022\u0022\u003E@Ger_space\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m kinda glad you showed up, heh. I had a thought a week ago of trying to target \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E with these shaders and went on a bit of a search that left me feeling it\u0027s a lot of digging in to asset bundles which I\u0027ve never done and not really equiped to do but I had a side thought of KerbalKonstructs and messed about a bit.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022D513EA7A9D20F7DF8CC1AED582EB16E00918067A\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/932678595875444114/D513EA7A9D20F7DF8CC1AED582EB16E00918067A/\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI\u0027ve not done anything serious or got very far with completing the idea, it was just a proof of concept to see if it was possible. I used the model shader available to target the door mesh...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EKSP_MODEL_SHADER\n{\n\tname = KSide_Hangars\n\n\tmodel = KerbinSide/CoreAssets/ksidehangars1\n\n\tTEXTURE\n\t{\n\t\tshader = SSTU/PBR/Metallic\n\n\t\tmesh = doors\n\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Metal\n\t\t\tfloat = 0.75\n\t\t}\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Smoothness\n\t\t\tfloat = 1.0\n\t\t}\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Color\n\t\t\tcolor = 1.3,1.3,1.3\n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI wouldn\u0027t use that as a final config (I was just messing around)\u00A0but it might help you understand how you can apply the shaders to Kerbal Konstruct structures. I didn\u0027t get round to trying the other shaders or fine tuning parameters.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-07T19:02:39Z\u0022 title=\u002202/07/2018 07:02  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 7, 2018\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2018-02-07T19:42:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288662\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518024468\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthe main problem is probably that the current textures would be needed to be replaced. All windowshine textures use the MainTex Alpha channel as the store for the reflective value, while the PBR shaders use a own texture map for it. (same with other things like transparency and more advanced things), but the idea of modifieing the static parts withing the GameDatabase is pretty neat, because it needs only done once.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTo handover the part-reflections (windowshine) to TU, TRR must get a new shader, which supports the new U5 PBR reflection probes, but uses the alpha channel from the main texture as the smoothness source (and at some point metallic) . Thats not difficult to write and would require only a few hours of testing.\u00A0\u003Cbr\u003E\nThe visor Shaders are up to you if you want them also changed. The new shader-model open ups new fancy possibilities, (like blue transparency with yellow reflections), but the missing vehicles and other kerbals might be an issue.\u003Cbr\u003E\nConverting the stock textures to PBR might be a bit painful, even with tools like substance painter it would take a few weeks to get through it. (but the effect would be amazing)\u003Cbr\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0026amp;do=hovercard\u0022 data-mentionid=\u002280363\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0022 rel=\u0022\u0022\u003E@Avera9eJoe\u003C/a\u003E\u00A0what is your opinion?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0I really like your work.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHow could I access your shaders from within an other mod? I gues it would be \u003Cspan style=\u0022background-color:#ffffff;color:#6f42c1;font-size:12px;\u0022\u003EKSPShaderLoader\u003C/span\u003E\u003Cspan style=\u0022background-color:rgb(255,255,255);font-size:12px;\u0022\u003E\u003Cfont color=\u0022#24292e\u0022\u003E.INSTANCE.loadedShaders\u00A0 \u00A0\u003C/font\u003E\u003C/span\u003E\u003Cbr\u003E\nKerbalKonstructs cannot use ModuleManager, so I must use most of the code on my own, but I don\u0027t want to handle the reflections probe nightmare by my self, so it would be cool to use TU as an optional improvement.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Have you seen any effects on the memory usage?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHm, It would look really cool and I\u0027d be happy to use it in WindowShine\u00A0but I don\u0027t think I have the skill/motivation\u00A0to do a good enough job at re-editing the textures. Seriously all I did for WindowShine was fade the transparency\u00A0of certain parts of the textures.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-07T19:44:25Z\u0022 title=\u002202/07/2018 07:44  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 7, 2018\u003C/time\u003E by Avera9eJoe\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ger_space","CreatedById":167349,"CreatedDateTime":"2018-02-07T21:30:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288777\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518030044\u0022 data-ipsquote-userid=\u0022117203\u0022 data-ipsquote-username=\u0022Manwith Noname\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Manwith Noname said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167349\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167349-ger_space/\u0022 rel=\u0022\u0022\u003E@Ger_space\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m kinda glad you showed up, heh. I had a thought a week ago of trying to target \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E with these shaders and went on a bit of a search that left me feeling it\u0027s a lot of digging in to asset bundles which I\u0027ve never done and not really equiped to do but I had a side thought of KerbalKonstructs and messed about a bit.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://steamuserimages-a.akamaihd.net/ugc/932678595875444114/D513EA7A9D20F7DF8CC1AED582EB16E00918067A/\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022D513EA7A9D20F7DF8CC1AED582EB16E00918067A\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022576\u0022 src=\u0022https://steamuserimages-a.akamaihd.net/ugc/932678595875444114/D513EA7A9D20F7DF8CC1AED582EB16E00918067A/\u0022 width=\u00221024\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI\u0027ve not done anything serious or got very far with completing the idea, it was just a proof of concept to see if it was possible. I used the model shader available to target the door mesh...\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EHide contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\n\u003Cspan class=\u0022pln\u0022\u003EKSP_MODEL_SHADER\n{\n\tname = KSide_Hangars\n\n\tmodel = KerbinSide/CoreAssets/ksidehangars1\n\n\tTEXTURE\n\t{\n\t\tshader = SSTU/PBR/Metallic\n\n\t\tmesh = doors\n\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Metal\n\t\t\tfloat = 0.75\n\t\t}\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Smoothness\n\t\t\tfloat = 1.0\n\t\t}\n\t\tPROPERTY\n\t\t{\n\t\t\tname = _Color\n\t\t\tcolor = 1.3,1.3,1.3\n\t\t}\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI wouldn\u0027t use that as a final config (I was just messing around)\u00A0but it might help you understand how you can apply the shaders to Kerbal Konstruct structures. I didn\u0027t get round to trying the other shaders or fine tuning parameters.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat was easier than I expected. That way I could provide normal textures for distribution and pbr on new assets I\u0027ll create over time.\n\u003C/p\u003E\n\u003Cp\u003E\nI use substance painter, so it\u0027s easy for me to provide multiple texture formats for \u00A0a single object. All I have\u00A0to do is to create the cfg file and export everything.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can target the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003Eksc\u003C/abbr\u003E structures In ksp.\u00A0They are all accessible in game, but only slightly hidden. They don\u0027t show up as normal object assets, but\u00A0I already cloned\u00A0them within kk, so they can be used to create new bases.\n\u003C/p\u003E\n\u003Cp\u003E\nI was able to extract every single mesh of the bases and all the anomalies.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo either I commit a patch to TU for accessing them or I add a cfg interface into KK.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to look, check the\u00A0\u003Cspan style=\u0022background-color:#ffffff;color:#6f42c1;font-size:14px;\u0022\u003ELoadSquadKSCModels\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#ffffff;color:#6f42c1;font-size:14px;\u0022\u003ELoadSquadmodels\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFunctions\u00A0in the \u003Ca href=\u0022https://github.com/GER-Space/Kerbal-Konstructs/blob/master/src/KerbalKonstructs.cs\u0022 rel=\u0022external nofollow\u0022\u003Ekerbalkonstructs.cs\u003C/a\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe .prefab is the model you want to modify.\n\u003C/p\u003E\n\u003Cp\u003E\n( Sorry I\u0027m only on my mobile phone, so it\u0027s hard to type better instructions.)\n\u003C/p\u003E\n"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-02-07T22:20:58Z","Content":"\n\u003Cp\u003E\nAwesome to seethis catching on!\n\u003C/p\u003E\n"},{"CreatedByName":"Nils277","CreatedById":122414,"CreatedDateTime":"2018-02-08T08:31:55Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0While adding TU support to the FUR rover mod i also played around with the Masked shaders but the results didn\u0027t really satisfy me (at least the results in unity). Then i read that you want to replace them, so i played around a bit with the \u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0shader in unity and i think a came up with a quite usable adaption of this shader for recoloring:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022uwtEq0z.png\u0022 class=\u0022ipsImage\u0022 height=\u0022722\u0022 src=\u0022https://i.imgur.com/uwtEq0z.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt allows a quite high saturation of the colors and also allows to lighten/darken via the alpha channel of the each of the three colors (0.5 being the defaullt). To make it usable one only needs one mask texture that is simular to the ones currently used (or at least i think so)\u003Cbr\u003E\nThe only one restriction for the mask textures would be that the sum of R\u002BG\u002BB of each pixel should not exceed 255 or else the mask itself will darken the textues. Sums lower than\u00A0255 will lower the intensity of the recoloration (e.g. a sum of 128 will only recolor the part by 50%)\n\u003C/p\u003E\n\u003Cp\u003E\nThe code is only a very small adaption of your\u00A0\u00A0\u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0version and should also be usable the same way in a masked version of the \u003Cem\u003ESSTU-PBR-Metallic\u003C/em\u003E shader:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EShader \u0022SSTU/PBR/StockMetallicBumpedMasked\u0022\n{\n    Properties \n    {\n        _MainTex(\u0022_MainTex (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _MaskColor1 (\u0022Mask Color 1\u0022, Color) = (1,1,1,0.5)\n        _MaskColor2 (\u0022Mask Color 2\u0022, Color) = (1,1,1,0.5)\n        _MaskColor3 (\u0022Mask Color 3\u0022, Color) = (1,1,1,0.5)\n        _MaskTex(\u0022_MaskTex (Grayscale)\u0022, 2D) = \u0022black\u0022 {}\n        _MetallicGlossMap(\u0022_MetallicGlossMap (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _BumpMap(\u0022_BumpMap (NRM)\u0022, 2D) = \u0022bump\u0022 {}\n        _AOMap(\u0022_AOMap (Grayscale)\u0022, 2D) = \u0022white\u0022 {}\n        _Metal(\u0022_Metal\u0022, Range(0,1)) = 1\n        _Smoothness(\u0022_Smoothness\u0022, Range(0,1)) = 1\n        _Emissive(\u0022Emission\u0022, 2D) = \u0022white\u0022 {}\n        _EmissiveColor(\u0022EmissionColor\u0022, Color) = (0,0,0)\n        _Opacity(\u0022Emission Opacity\u0022, Range(0,1) ) = 1\n        _RimFalloff(\u0022_RimFalloff\u0022, Range(0.01,5) ) = 0.1\n        _RimColor(\u0022_RimColor\u0022, Color) = (0,0,0,0)\n        _TemperatureColor(\u0022_TemperatureColor\u0022, Color) = (0,0,0,0)\n        _BurnColor (\u0022Burn Color\u0022, Color) = (1,1,1,1)\n    }\n    \n    SubShader\n    {\n        Tags {\u0022RenderType\u0022=\u0022Opaque\u0022}\n        ZWrite On\n        ZTest LEqual\n        Blend SrcAlpha OneMinusSrcAlpha\n\n        CGPROGRAM\n\n        #pragma surface surf Standard keepalpha\n        #pragma target 3.0\n        #pragma multi_compile __ ALBEDOALPHA_INVERT\n        #include \u0022SSTUShaders.cginc\u0022\n                \n        sampler2D _MainTex;\n        sampler2D _Emissive;\n        sampler2D _MaskTex;\n        sampler2D _MetallicGlossMap;\n        sampler2D _BumpMap;     \n        sampler2D _AOMap;\n\n        float _Metal;\n        float _Smoothness;\n        float _Opacity;\n        float _MaskBase;\n        float4 _MaskColor1;\n        float4 _MaskColor2;\n        float4 _MaskColor3;\n        float4 _EmissiveColor;\n        float4 _TemperatureColor;\n        float4 _RimColor;\n        float _RimFalloff;\n        \n        struct Input\n        {\n            float2 uv_MainTex;\n            float3 viewDir;\n        };\n        \n        void surf (Input IN, inout SurfaceOutputStandard o)\n        {\n            fixed4 color = tex2D(_MainTex,(IN.uv_MainTex));\n            float4 mask = tex2D(_MaskTex, (IN.uv_MainTex));\n            fixed4 spec = tex2D(_MetallicGlossMap, (IN.uv_MainTex));\n            fixed3 normal = UnpackNormal(tex2D(_BumpMap, IN.uv_MainTex));\n            fixed4 ao = tex2D(_AOMap, (IN.uv_MainTex));\n            fixed4 glow = tex2D(_Emissive, (IN.uv_MainTex));\n            #if ALBEDOALPHA_INVERT\n                color.a = 1 - color.a;\n            #endif\n            \n            float color1Mult = _MaskColor1.a*2;\n            float color2Mult = _MaskColor2.a*2;\n            float color3Mult = _MaskColor3.a*2;\n            \n            \n            float3 userColor = mask.rrr*_MaskColor1.rgb*color1Mult \u002B mask.ggg*_MaskColor2.rgb*color2Mult \u002B mask.bbb*_MaskColor3.rgb*color3Mult;\n            fixed m = 1 - (mask.r \u002B mask.g \u002B mask.b);\n            \n            o.Albedo = saturate(color.rgb * (userColor \u002B m));\n            o.Normal = normal;\n            o.Emission = glow.rgb * glow.aaa * _EmissiveColor.rgb *_EmissiveColor.aaa \u002B stockEmit(IN.viewDir, normal, _RimColor, _RimFalloff, _TemperatureColor) * _Opacity;\n            o.Metallic = spec.r * _Metal;\n            o.Smoothness = color.a * _Smoothness;\n            o.Occlusion = ao.r;\n            o.Alpha = _Opacity;\n        }\n        ENDCG\n    }\n    Fallback \u0022Bumped Specular\u0022\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EEdit\u003C/strong\u003E\u003C/span\u003E: corrected small error in shader\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-08T09:04:33Z\u0022 title=\u002202/08/2018 09:04  AM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 8, 2018\u003C/time\u003E by Nils277\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2018-02-08T09:46:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289260\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518078715\u0022 data-ipsquote-userid=\u0022122414\u0022 data-ipsquote-username=\u0022Nils277\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Nils277 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0While adding TU support to the FUR rover mod i also played around with the Masked shaders but the results didn\u0027t really satisfy me (at least the results in unity). Then i read that you want to replace them, so i played around a bit with the \u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0shader in unity and i think a came up with a quite usable adaption of this shader for recoloring:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/uwtEq0z.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022uwtEq0z.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022722\u0022 src=\u0022https://i.imgur.com/uwtEq0z.png\u0022 width=\u00221024\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIt allows a quite high saturation of the colors and also allows to lighten/darken via the alpha channel of the each of the three colors (0.5 being the defaullt). To make it usable one only needs one mask texture that is simular to the ones currently used (or at least i think so)\u003Cbr\u003E\nThe only one restriction for the mask textures would be that the sum of R\u002BG\u002BB of each pixel should not exceed 255 or else the mask itself will darken the textues. Sums lower than\u00A0255 will lower the intensity of the recoloration (e.g. a sum of 128 will only recolor the part by 50%)\n\u003C/p\u003E\n\u003Cp\u003E\nThe code is only a very small adaption of your\u00A0\u00A0\u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0version and should also be usable the same way in a masked version of the \u003Cem\u003ESSTU-PBR-Metallic\u003C/em\u003E shader:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EShader \u0022SSTU/PBR/StockMetallicBumpedMasked\u0022\n{\n    Properties \n    {\n        _MainTex(\u0022_MainTex (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _MaskColor1 (\u0022Mask Color 1\u0022, Color) = (1,1,1,0.5)\n        _MaskColor2 (\u0022Mask Color 2\u0022, Color) = (1,1,1,0.5)\n        _MaskColor3 (\u0022Mask Color 3\u0022, Color) = (1,1,1,0.5)\n        _MaskTex(\u0022_MaskTex (Grayscale)\u0022, 2D) = \u0022black\u0022 {}\n        _MetallicGlossMap(\u0022_MetallicGlossMap (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _BumpMap(\u0022_BumpMap (NRM)\u0022, 2D) = \u0022bump\u0022 {}\n        _AOMap(\u0022_AOMap (Grayscale)\u0022, 2D) = \u0022white\u0022 {}\n        _Metal(\u0022_Metal\u0022, Range(0,1)) = 1\n        _Smoothness(\u0022_Smoothness\u0022, Range(0,1)) = 1\n        _Emissive(\u0022Emission\u0022, 2D) = \u0022white\u0022 {}\n        _EmissiveColor(\u0022EmissionColor\u0022, Color) = (0,0,0)\n        _Opacity(\u0022Emission Opacity\u0022, Range(0,1) ) = 1\n        _RimFalloff(\u0022_RimFalloff\u0022, Range(0.01,5) ) = 0.1\n        _RimColor(\u0022_RimColor\u0022, Color) = (0,0,0,0)\n        _TemperatureColor(\u0022_TemperatureColor\u0022, Color) = (0,0,0,0)\n        _BurnColor (\u0022Burn Color\u0022, Color) = (1,1,1,1)\n    }\n    \n    SubShader\n    {\n        Tags {\u0022RenderType\u0022=\u0022Opaque\u0022}\n        ZWrite On\n        ZTest LEqual\n        Blend SrcAlpha OneMinusSrcAlpha\n\n        CGPROGRAM\n\n        #pragma surface surf Standard keepalpha\n        #pragma target 3.0\n        #pragma multi_compile __ ALBEDOALPHA_INVERT\n        #include \u0022SSTUShaders.cginc\u0022\n                \n        sampler2D _MainTex;\n        sampler2D _Emissive;\n        sampler2D _MaskTex;\n        sampler2D _MetallicGlossMap;\n        sampler2D _BumpMap;     \n        sampler2D _AOMap;\n\n        float _Metal;\n        float _Smoothness;\n        float _Opacity;\n        float _MaskBase;\n        float4 _MaskColor1;\n        float4 _MaskColor2;\n        float4 _MaskColor3;\n        float4 _EmissiveColor;\n        float4 _TemperatureColor;\n        float4 _RimColor;\n        float _RimFalloff;\n        \n        struct Input\n        {\n            float2 uv_MainTex;\n            float3 viewDir;\n        };\n        \n        void surf (Input IN, inout SurfaceOutputStandard o)\n        {\n            fixed4 color = tex2D(_MainTex,(IN.uv_MainTex));\n            float4 mask = tex2D(_MaskTex, (IN.uv_MainTex));\n            fixed4 spec = tex2D(_MetallicGlossMap, (IN.uv_MainTex));\n            fixed3 normal = UnpackNormal(tex2D(_BumpMap, IN.uv_MainTex));\n            fixed4 ao = tex2D(_AOMap, (IN.uv_MainTex));\n            fixed4 glow = tex2D(_Emissive, (IN.uv_MainTex));\n            #if ALBEDOALPHA_INVERT\n                color.a = 1 - color.a;\n            #endif\n            \n            float color1Mult = _MaskColor1.a*2;\n            float color2Mult = _MaskColor2.a*2;\n            float color3Mult = _MaskColor3.a*2;\n            \n            \n            float3 userColor = mask.rrr*_MaskColor1.rgb*color1Mult \u002B mask.ggg*_MaskColor2.rgb*color2Mult \u002B mask.bbb*_MaskColor3.rgb*color3Mult;\n            fixed m = 1 - (mask.r \u002B mask.g \u002B mask.b);\n            \n            o.Albedo = saturate(color.rgb * (userColor \u002B m));\n            o.Normal = normal;\n            o.Emission = glow.rgb * glow.aaa * _EmissiveColor.rgb *_EmissiveColor.aaa \u002B stockEmit(IN.viewDir, normal, _RimColor, _RimFalloff, _TemperatureColor) * _Opacity;\n            o.Metallic = spec.r * _Metal;\n            o.Smoothness = color.a * _Smoothness;\n            o.Occlusion = ao.r;\n            o.Alpha = _Opacity;\n        }\n        ENDCG\n    }\n    Fallback \u0022Bumped Specular\u0022\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EEdit\u003C/strong\u003E\u003C/span\u003E: corrected small error in shader\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI saw that Homeworld logo and immediately had to comment on it \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0Nice pick! Did you play the original release or was it the remastered version that hooked you? Sorry to be off topic \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nils277","CreatedById":122414,"CreatedDateTime":"2018-02-08T09:52:06Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0026amp;do=hovercard\u0022 data-mentionid=\u002280363\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/80363-avera9ejoe/\u0022 rel=\u0022\u0022\u003E@Avera9eJoe\u003C/a\u003E\u00A0Played the original HW2 back in 2004 and just recently started playing them in\u00A0chronological order: HW\u00A0Deserts of Kharak -\u0026gt; HW1 Remastered -\u0026gt; HW2 Remastered.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-08T09:52:51Z\u0022 title=\u002202/08/2018 09:52  AM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 8, 2018\u003C/time\u003E by Nils277\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Nils277","CreatedById":122414,"CreatedDateTime":"2018-02-08T10:18:58Z","Content":"\n\u003Cp\u003E\nSmall addition to the shader: It retains the brightness of the default texture even when colored with a Colormask that is full 255 on all pixels for one channel:\u003Cbr\u003E\u003Cimg alt=\u0022jvjoXyP.png\u0022 src=\u0022https://i.imgur.com/jvjoXyP.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-08T13:54:57Z\u0022 title=\u002202/08/2018 01:54  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 8, 2018\u003C/time\u003E by Nils277\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-08T19:23:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289260\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518078715\u0022 data-ipsquote-userid=\u0022122414\u0022 data-ipsquote-username=\u0022Nils277\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Nils277 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0While adding TU support to the FUR rover mod i also played around with the Masked shaders but the results didn\u0027t really satisfy me (at least the results in unity). Then i read that you want to replace them, so i played around a bit with the \u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0shader in unity and i think a came up with a quite usable adaption of this shader for recoloring:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt allows a quite high saturation of the colors and also allows to lighten/darken via the alpha channel of the each of the three colors (0.5 being the defaullt). To make it usable one only needs one mask texture that is simular to the ones currently used (or at least i think so)\u003Cbr\u003E\nThe only one restriction for the mask textures would be that the sum of R\u002BG\u002BB of each pixel should not exceed 255 or else the mask itself will darken the textues. Sums lower than\u00A0255 will lower the intensity of the recoloration (e.g. a sum of 128 will only recolor the part by 50%)\n\u003C/p\u003E\n\u003Cp\u003E\nThe code is only a very small adaption of your\u00A0\u00A0\u003Cem\u003ESSTU-PBR-StockMetallicBumped\u003C/em\u003E\u00A0version and should also be usable the same way in a masked version of the \u003Cem\u003ESSTU-PBR-Metallic\u003C/em\u003E shader:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cstrong\u003EEdit\u003C/strong\u003E\u003C/span\u003E: corrected small error in shader\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVery interesting.\u00A0 Will have to play around with this shader a bit to see how well it compares with the other recoloring options.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes it solve the issue of recoloring of existing textures that already have a (non-white) base color?\u00A0 E.g.\u00A0 Turning an existing \u0027black\u0027 portion of a texture to \u0027white\u0027 or \u0027red\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou \u003Cem\u003Eshould\u003C/em\u003E be able to compile that shader into an asset bundle and get it loading into KSP if you wanted to try things out in-game.\u00A0 TU includes code to load any asset bundle with a file extension of .ssf, and load any shaders it finds in those bundles.\n\u003C/p\u003E\n\u003Cp\u003E\nAdd this script somewhere to your Unity Editor assets folder (it will add an \u0027build asset bundle\u0027 option to the Assets menu):\u00A0 \u003Ca href=\u0022https://github.com/shadowmage45/TexturesUnlimited/blob/master/CustomShaders/AssetBundleCompiler.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/TexturesUnlimited/blob/master/CustomShaders/AssetBundleCompiler.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFrom there you should be able to highlight your new shader file, use the Assets menu option -\u0026gt; \u0027 \u003Cspan\u003EAssets/Build Selected AssetBundle Win64\u003C/span\u003E \u0027, give it a name ending with \u0027.ssf\u0027, and copy that asset bundle into your KSP GameData folder somewhere.\u00A0 The TU loading code \u003Cem\u003Eshould\u003C/em\u003E automatically find that asset bundle, load the shader, and make it available for use through any of the existing TU material/texture manipulation methods.\n\u003C/p\u003E\n\u003Cp\u003E\nThe one bit that I\u0027m slightly unsure of, is if you would need to include the SSTUShaders.cginc file in your bundle, or if it will properly compile the shader to use the one in the existing TU shader bundles.\u00A0 Might not hurt to include both your custom shader and that .cginc file when you build the asset bundle.\n\u003C/p\u003E\n\u003Cp\u003E\n(if you give that a try and it doesn\u0027t work, please let me know and I\u0027ll look into finding/writing better instructions;\u00A0 seems that I\u0027m missing one of my UnityEditor asset bundle build scripts in the repo that would make the process a bit easier; you may or may not need to assign the shader files to an asset bundle for the linked compile script to actually work.\u00A0 If/when I find my updated script I\u0027ll link/post it, as it greatly simplifies the entire process.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223288899\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518039020\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo either I commit a patch to TU for accessing them or I add a cfg interface into KK.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m a bit curious as to how this would function (and could use similar features for adjusting other stock \u0027hidden\u0027 meshes/materials).\u00A0 Is there a way to access the KSP assets that are loaded from asset bundles, in such a manner as to \u0027fix\u0027 them at a prefab level?\u00A0 (trying to avoid having to adjust materials on scene changes/etc; much prefer \u0027fixing\u0027 it once at the lowest level)\n\u003C/p\u003E\n"},{"CreatedByName":"HaArLiNsH","CreatedById":162384,"CreatedDateTime":"2018-02-08T19:47:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289666\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518117826\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m a bit curious as to how this would function (and could use similar features for adjusting other stock \u0027hidden\u0027 meshes/materials).\u00A0 Is there a way to access the KSP assets that are loaded from asset bundles, in such a manner as to \u0027fix\u0027 them at a prefab level?\u00A0 (trying to avoid having to adjust materials on scene changes/etc; much prefer \u0027fixing\u0027 it once at the lowest level)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWe definitively can access the KSP assets (sharedassets) but the problem is that we can only access them when the scene is loaded. So for example you can\u0027t access the kerbal mechanics on the flight scene, only in the editor scene (so the 2 hangars).\u00A0 I think you can either maybe fix them directly or you have to make another gameObject and clone the asset in this gameObject and then you destroy the base one. I\u0027m looking into this to access to the other kerbal bodies.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a \u0022proof of concept\u0022 (unfortunately, here the bones seems to be different and I still have a lot of digging to do to fix it)\u003Cbr\u003E\u003Cimg alt=\u0022gqYRy4d.png\u0022 class=\u0022ipsImage\u0022 height=\u0022653\u0022 src=\u0022https://i.imgur.com/gqYRy4d.png\u0022 width=\u00221024\u0022\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Ger_space","CreatedById":167349,"CreatedDateTime":"2018-02-08T20:28:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289666\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518117826\u0022 data-ipsquote-userid=\u0022138730\u0022 data-ipsquote-username=\u0022Shadowmage\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, Shadowmage said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m a bit curious as to how this would function (and could use similar features for adjusting other stock \u0027hidden\u0027 meshes/materials).\u00A0 Is there a way to access the KSP assets that are loaded from asset bundles, in such a manner as to \u0027fix\u0027 them at a prefab level?\u00A0 (trying to avoid having to adjust materials on scene changes/etc; much prefer \u0027fixing\u0027 it once at the lowest level)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI got at the meshes through the upgradeableFacilities structure, but they only\u00A0need to be edited once. After that they stay the same.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOthers I haven\u0027t searched for, but a component search should be able\u00A0bring them up. ( Kerbals have the kerbaleva component) of just search for all game objects which have the renderer component and filter out\u00A0for the once you want to modify.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Ger_space","CreatedById":167349,"CreatedDateTime":"2018-02-08T20:53:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289693\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518119234\u0022 data-ipsquote-userid=\u0022162384\u0022 data-ipsquote-username=\u0022HaArLiNsH\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, HaArLiNsH said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWe definitively can access the KSP assets (sharedassets) but the problem is that we can only access them when the scene is loaded. So for example you can\u0027t access the kerbal mechanics on the flight scene, only in the editor scene (so the 2 hangars).\u00A0 I think you can either maybe fix them directly or you have to make another gameObject and clone the asset in this gameObject and then you destroy the base one. I\u0027m looking into this to access to the other kerbal bodies.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a \u0022proof of concept\u0022 (unfortunately, here the bones seems to be different and I still have a lot of digging to do to fix it)\u003Cbr\u003E\u003Ca href=\u0022https://i.imgur.com/gqYRy4d.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022gqYRy4d.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022653\u0022 src=\u0022https://i.imgur.com/gqYRy4d.png\u0022 width=\u00221024\u0022\u003E\u003C/a\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAte you very sure that kerbal prefabs cannot be accessed?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/GER-Space/kOS-EVA/blob/7ca8a25a762f68f4e3071a2913dcfe66a74c6400/KerbalBot/KerbalEVAUtility.cs\u0022 rel=\u0022external nofollow\u0022\u003ELook here\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI used this code a few versions ago to add part modules to the kerbal prefabs.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe trick is to access the parts.prefab extension from the partlist. I don\u0027t know if it\u0027s still possible to use it, but I think it was possible to do this at least in the spacecenter scene.\n\u003C/p\u003E\n"},{"CreatedByName":"HaArLiNsH","CreatedById":162384,"CreatedDateTime":"2018-02-08T21:05:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223289763\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518123208\u0022 data-ipsquote-userid=\u0022167349\u0022 data-ipsquote-username=\u0022Ger_space\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Ger_space said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAte you very sure that kerbal prefabs cannot be accessed?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/GER-Space/kOS-EVA/blob/7ca8a25a762f68f4e3071a2913dcfe66a74c6400/KerbalBot/KerbalEVAUtility.cs\u0022 rel=\u0022external nofollow\u0022\u003ELook here\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI used this code a few versions ago to add part modules to the kerbal prefabs.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe trick is to access the parts.prefab extension from the partlist. I don\u0027t know if it\u0027s still possible to use it, but I think it was possible to do this at least in the spacecenter scene.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m saying that they CAN be accessed \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E. the hard is to find the hierarchy of all the things.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut you can only access the sharedasset that is loaded in the scene, and we can access all the part that are in the Gamedata folder without any problem too. I\u0027m sure if we can change them permanently (I mean for the entire play session, even if we change scene)\n\u003C/p\u003E\n\u003Cp\u003E\nIf I\u0027ve understand how unity works, you can change/copy the shader and materials of all the gameobject but you can\u0027t just copy the mesh, you need to make another game object and \u0022clone\u0022 the mesh in it. Otherwise it will be destroyed. But I think I\u0027m digressing from the main question \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nils277","CreatedById":122414,"CreatedDateTime":"2018-02-09T08:03:51Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0will try to make the shader run in KSP to see its results in \u0022reality\u0022. Thanks for the help and explanation on how to do this.\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding your question for coloring completely black parts, the shader above does not, but i made a small change to the code and it now can:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00221KXnTs3.png\u0022 class=\u0022ipsImage\u0022 height=\u0022342\u0022 src=\u0022https://i.imgur.com/1KXnTs3.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0The red on the dark and bright parts originate from the same Mask Color\n\u003C/p\u003E\n\u003Cp\u003E\nThe mask textures now uses\u00A0its alpha channel to determine how much a certain part of the masked texture is brightened before recoloring it. A value of 255 keeps the texures as is, all values below brighten it. The inverse usage of the alpha channel\u00A0makes sure that all previously created mask textures behave the same as before. The brightening is weighted for each RGB channel with the formula for luminance to keep the perceived brightness for the human eye level and also to retain the structure of the textures.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA proper use of the alpha channel might make the usage of\u00A0 the alpha channel for the 3 mask colors\u00A0superfluous because the color will have the same brightness regardless of the underlying texture.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EShader \u0022SSTU/PBR/StockMetallicBumpedMasked\u0022\n{\n    Properties \n    {\n        _MainTex(\u0022_MainTex (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _MaskColor1 (\u0022Mask Color 1\u0022, Color) = (1,1,1,1)\n        _MaskColor2 (\u0022Mask Color 2\u0022, Color) = (1,1,1,1)\n        _MaskColor3 (\u0022Mask Color 3\u0022, Color) = (1,1,1,1)\n        _MaskTex(\u0022_MaskTex (Grayscale)\u0022, 2D) = \u0022black\u0022 {}\n        _MetallicGlossMap(\u0022_MetallicGlossMap (RGB)\u0022, 2D) = \u0022white\u0022 {}\n        _BumpMap(\u0022_BumpMap (NRM)\u0022, 2D) = \u0022bump\u0022 {}\n        _AOMap(\u0022_AOMap (Grayscale)\u0022, 2D) = \u0022white\u0022 {}\n        _Metal(\u0022_Metal\u0022, Range(0,1)) = 1\n        _Smoothness(\u0022_Smoothness\u0022, Range(0,1)) = 1\n        _Emissive(\u0022Emission\u0022, 2D) = \u0022white\u0022 {}\n        _EmissiveColor(\u0022EmissionColor\u0022, Color) = (0,0,0)\n        _Opacity(\u0022Emission Opacity\u0022, Range(0,1) ) = 1\n        _RimFalloff(\u0022_RimFalloff\u0022, Range(0.01,5) ) = 0.1\n        _RimColor(\u0022_RimColor\u0022, Color) = (0,0,0,0)\n        _TemperatureColor(\u0022_TemperatureColor\u0022, Color) = (0,0,0,0)\n        _BurnColor (\u0022Burn Color\u0022, Color) = (1,1,1,1)\n    }\n    \n    SubShader\n    {\n        Tags {\u0022RenderType\u0022=\u0022Opaque\u0022}\n        ZWrite On\n        ZTest LEqual\n        Blend SrcAlpha OneMinusSrcAlpha\n\n        CGPROGRAM\n\n        #pragma surface surf Standard keepalpha\n        #pragma target 3.0\n        #pragma multi_compile __ ALBEDOALPHA_INVERT\n        #include \u0022SSTUShaders.cginc\u0022\n                \n        sampler2D _MainTex;\n        sampler2D _Emissive;\n        sampler2D _MaskTex;\n        sampler2D _MetallicGlossMap;\n        sampler2D _BumpMap;     \n        sampler2D _AOMap;\n\n        float _Metal;\n        float _Smoothness;\n        float _Opacity;\n        float _MaskBase;\n        float4 _MaskColor1;\n        float4 _MaskColor2;\n        float4 _MaskColor3;\n        float4 _EmissiveColor;\n        float4 _TemperatureColor;\n        float4 _RimColor;\n        float _RimFalloff;\n        \n        struct Input\n        {\n            float2 uv_MainTex;\n            float3 viewDir;\n        };\n        \n        void surf (Input IN, inout SurfaceOutputStandard o)\n        {\n            fixed4 color = tex2D(_MainTex,(IN.uv_MainTex));\n            float4 mask = tex2D(_MaskTex, (IN.uv_MainTex));\n            fixed4 spec = tex2D(_MetallicGlossMap, (IN.uv_MainTex));\n            fixed3 normal = UnpackNormal(tex2D(_BumpMap, IN.uv_MainTex));\n            fixed4 ao = tex2D(_AOMap, (IN.uv_MainTex));\n            fixed4 glow = tex2D(_Emissive, (IN.uv_MainTex));\n            #if ALBEDOALPHA_INVERT\n                color.a = 1 - color.a;\n            #endif\n            \n            //get the luminance of the color\n            float luma = 0.2126*color.r \u002B 0.7172*color.g \u002B 0.0722*color.b;\n            \n            //get the color for the mask\n            float3 userColor = mask.rrr*_MaskColor1.rgb*_MaskColor1.aaa \u002B mask.ggg*_MaskColor2.rgb*_MaskColor2.aaa \u002B mask.bbb*_MaskColor3.rgb*_MaskColor3.aaa;\n            \n            //get the luminance value for the color\n            float3 userColorLuma = userColor*(1-mask.a);\n            \n            //factor to interpolate between masked and non masked colors\n            float maskFactor = (mask.r*_MaskColor1.a \u002B mask.g*_MaskColor2.a \u002B mask.b*_MaskColor3.a);\n            float colorFactor = 1 - maskFactor;\n            \n            o.Albedo = saturate(maskFactor*luma*(userColor \u002B colorFactor) \u002B userColorLuma \u002B colorFactor*color);\n            o.Normal = normal;\n            o.Emission = glow.rgb * glow.aaa * _EmissiveColor.rgb *_EmissiveColor.aaa \u002B stockEmit(IN.viewDir, normal, _RimColor, _RimFalloff, _TemperatureColor) * _Opacity;\n            o.Metallic = spec.r * _Metal;\n            o.Smoothness = color.a * _Smoothness;\n            o.Occlusion = ao.r;\n            o.Alpha = _Opacity;\n        }\n        ENDCG\n    }\n    Fallback \u0022Bumped Specular\u0022\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI can send you the used textures/masks if you want to experiment with them \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit\u003C/strong\u003E: Making the the alpha channel for the Mask texture is actually quite easy because the pixels should have the average brightness of the texture they are coloring. E.g. when the base color has a brightness of around 128, then the alpha channel for that part should also have 128.\u003Cbr\u003E\u003Cs\u003EThe last remaining problem is that it does not work that perfect for parts that are already colored.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit 2: \u003C/strong\u003EDone, color and brigthness of the base texture don\u0027t\u00A0matter now (while retaining the brightness details):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022gquqYzV.png\u0022 class=\u0022ipsImage\u0022 height=\u0022418\u0022 src=\u0022https://i.imgur.com/gquqYzV.png\u0022 width=\u0022382\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn this image, the base color is by default colored green instead of dark gray/black in the middle part\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit 3:\u003C/strong\u003E Sorry for spamming, changed the code again slightly. The alpha channel of the user defined colors is now used to set the intensity of the coloration. So if a user wants one channel to not effect the part (that much), they can reduce the value of the alpha channel.\n\u003C/p\u003E\n\u003Cp\u003E\nThe updated code is in the above code box\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-02-09T13:15:25Z\u0022 title=\u002202/09/2018 01:15  PM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 9, 2018\u003C/time\u003E by Nils277\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2018-02-09T14:04:56Z","Content":"\n\u003Cp\u003E\nOkay, so I\u0027m not doing anything near as fancy as the rest of you, but I have to say, this mod breathes some new life into some really old parts.\u00A0 Anyone remember the JARFR Tri-Hexagonal trusses from 5 years ago?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022kCP6Df.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022438\u0022 src=\u0022https://imageshack.com/a/img923/2820/kCP6Df.jpg\u0022 width=\u0022405\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nJust adding the metallic finish takes them from \u0022meh\u0022 (like the plain gray part right below the probe core above) to \u0022that looks cool\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nNow I\u00A0need to figure out how to do something more advanced.\u00A0 If I understand the documentation for the shaders on GitHub, I should be able to make my own metallic gloss map and retrofit it to an existing older part, right? (not these things - their textures are trivial)\u00A0 That would allow me to control which regions of a part would be metallic, and how mirror-shiny regions would be.\u00A0 My first attempt didn\u0027t work, but that may be because I didn\u0027t do it right.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-09T15:07:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223290221\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518163431\u0022 data-ipsquote-userid=\u0022122414\u0022 data-ipsquote-username=\u0022Nils277\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Nils277 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E\u00A0will try to make the shader run in KSP to see its results in \u0022reality\u0022. Thanks for the help and explanation on how to do this.\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding your question for coloring completely black parts, the shader above does not, but i made a small change to the code and it now can:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/1KXnTs3.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00221KXnTs3.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 height=\u0022342\u0022 src=\u0022https://i.imgur.com/1KXnTs3.png\u0022 width=\u00221024\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0The red on the dark and bright parts originate from the same Mask Color\n\u003C/p\u003E\n\u003Cp\u003E\nThe mask textures now uses\u00A0its alpha channel to determine how much a certain part of the masked texture is brightened before recoloring it. A value of 255 keeps the texures as is, all values below brighten it. The inverse usage of the alpha channel\u00A0makes sure that all previously created mask textures behave the same as before. The brightening is weighted for each RGB channel with the formula for luminance to keep the perceived brightness for the human eye level and also to retain the structure of the textures.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA proper use of the alpha channel might make the usage of\u00A0 the alpha channel for the 3 mask colors\u00A0superfluous because the color will have the same brightness regardless of the underlying texture.\n\u003C/p\u003E\n\u003Cp\u003E\nI can send you the used textures/masks if you want to experiment with them \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit\u003C/strong\u003E: Making the the alpha channel for the Mask texture is actually quite easy because the pixels should have the average brightness of the texture they are coloring. E.g. when the base color has a brightness of around 128, then the alpha channel for that part should also have 128.\u003Cbr\u003E\u003Cs\u003EThe last remaining problem is that it does not work that perfect for parts that are already colored.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit 2: \u003C/strong\u003EDone, color and brigthness of the base texture don\u0027t\u00A0matter now (while retaining the brightness details):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022gquqYzV.png\u0022 class=\u0022ipsImage\u0022 height=\u0022418\u0022 src=\u0022https://i.imgur.com/gquqYzV.png\u0022 width=\u0022382\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn this image, the base color is by default colored green instead of dark gray/black in the middle part\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEdit 3:\u003C/strong\u003E Sorry for spamming, changed the code again slightly. The alpha channel of the user defined colors is now used to set the intensity of the coloration. So if a user wants one channel to not effect the part (that much), they can reduce the value of the alpha channel.\n\u003C/p\u003E\n\u003Cp\u003E\nThe updated code is in the above code box\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, if this works out... I may have to send you some cookies, or coffee, or strong drinks (whatever your preference is...).\u00A0 Have been trying to find a good method for recoloring of existing (non-white) parts, and it sounds like this might be some major steps in that direction.\u00A0 Sounds like this is doing mostly what I had wanted to do with the \u0027value masked\u0027 shader, but using a much simpler input texture scheme for extracting of existing details.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223290221\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518163431\u0022 data-ipsquote-userid=\u0022122414\u0022 data-ipsquote-username=\u0022Nils277\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Nils277 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can send you the used textures/masks if you want to experiment with them \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, please.\u00A0 Would love to take a look at them (from a technical perspective).\u00A0 Those \u002B the shader code (and images you\u0027ve linked above), should give me tons of info on exactly how the adjusted shader is working.\u00A0 Hopefully I\u0027ll get a few hours over the weekend to play with it, and if it all works out I\u0027ll see about merging it (or similar) for the next releases.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223290395\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518185096\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n53 minutes ago, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I understand the documentation for the shaders on GitHub, I should be able to make my own metallic gloss map and retrofit it to an existing older part, right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, exactly.\u00A0 In your metallic mask white = metal, black = non-metal.\u00A0 Generally you want to stick close to those, as not much in the real world exhibits mixed properties.\u00A0 A few points away from black/white is okay (0-15 for black, 230\u002B for white), but not too much, and generally only used in places where there is non-metallic \u0027stuff\u0027 overlaid on top of metals (grunge) or a non-metallic coating has been scratched/buffed to reveal some of the metallic base (scratches/edge damage on painted parts).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223290395\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518185096\u0022 data-ipsquote-userid=\u002260950\u0022 data-ipsquote-username=\u0022MOARdV\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, MOARdV said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat would allow me to control which regions of a part would be metallic, and how mirror-shiny regions would be.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn order to control how reflective the part is you also need to provide a gloss map (specular map).\u00A0 Either in the alpha channel of the diffuse texture (e.g. stock specular texture setup), or in the alpha channel of the metallic texture (Unity standard setup).\u00A0 Some stock parts already have specular maps, many do not (same with mods, its hit and miss).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Barar","CreatedById":184076,"CreatedDateTime":"2018-02-11T02:59:05Z","Content":"\n\u003Cp\u003E\nJust to note, it seems you can only apply this to a certain amout of parts before KSP becomes unstable and you will start crashing when you load a save or open mab/\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E. I am not sure if its system specs, programming limitation, mod conflicts, a textures unlimited problem, or the way I am applying the shaders. So this is why I am putting out my configs. So someone with more knowledge can maybe fix this issue. *Note I am applying\u00A0over a 1000 parts on 63 different mods, would do more but it crashes.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo I was messing around with this shader and realized I could apply each property and\u00A0shaders separately. So I made a config file which you could select metals, Smoothness, Brightness/Shader color, and shaders. Just place the part in MAB/\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E and right click on it.\n\u003C/p\u003E\n\u003Cp\u003E\nBrightness goes from 0-50,Default is 10, 51-100 is a bunch of random tint colors I put in to play around, feel free to change anything you see fit.\n\u003C/p\u003E\n\u003Cp\u003E\nMetal goes from _metal Float = 0-100\n\u003C/p\u003E\n\u003Cp\u003E\nSmoothness goes from _Smoothness Float = 0-100\n\u003C/p\u003E\n\u003Cp\u003E\nShaders file only has these three shaders in it right now.\u003Cbr\u003E\nshader = SSTU/PBR/Metallic\u003Cbr\u003E\nshader = SSTU/PBR/StockMetallicBumped\u003Cbr\u003E\nshader = SSTU/PBR/MetallicTransparent\n\u003C/p\u003E\n\u003Cp\u003E\nYou can add the other shaders in but they require more advance configs, additional masks, files \u00A0to work, and I have not done anything with them yet so I was keeping it simple.\u003Cbr\u003E\nSSTU/PBR/StockMetallicSpecular\u003Cbr\u003E\nSSTU/PBR/Masked\u003Cbr\u003E\nSSTU/PBR/Solar\u003Cbr\u003E\nSSTU/Masked\u003Cbr\u003E\nSSTU/SolarShader\n\u003C/p\u003E\n\u003Cp\u003E\nThe asset folder contains the four files listed below.\u00A0\u003Cbr\u003E\nThingsmadeshinyBrightness.cfg\u003Cbr\u003E\nThingsmadeshinyMetal.cfg\u003Cbr\u003E\nThingsmadeshinyShaders.cfg\u003Cbr\u003E\nThingsmadeshinySmoothness.cfg\n\u003C/p\u003E\n\u003Cp\u003E\nThe only file that you need to modify is the main file, I was naming after the installed mod I was changing. So for example, Open Mk2Expansion and look at the first line, you will see what is listed just below. Put the parts you want in the brackets where M2x_* is located. Then put the mod folder name in place of the Mk2Expansion. Also rename the file to the specific mod if you want. Dont worry about everything below unless you are going to tinker.\n\u003C/p\u003E\n\u003Cp\u003E\n@PART[M2X_*]:NEEDS[TexturesUnlimited\u0026amp;Mk2Expansion]\n\u003C/p\u003E\n\u003Cp\u003E\nI have included the following files to get people started, easy enough to add other mods.\n\u003C/p\u003E\n\u003Cp\u003E\nChopShop.cfg\u003Cbr\u003E\nHeatControl.cfg\u003Cbr\u003E\nKerbalReusabilityExpansion.cfg\u003Cbr\u003E\nMarkIVSystem.cfg\u003Cbr\u003E\nMk2Expansion.cfg\u003Cbr\u003E\nMk3Expansion.cfg\u003Cbr\u003E\nMk3HypersonicSystems.cfg\u003Cbr\u003E\nModRocketSys.cfg\u003Cbr\u003E\nNearFutureConstruction.cfg\u003Cbr\u003E\nNearFutureElectrical.cfg\u003Cbr\u003E\nNearFutureLaunchVehicles.cfg\u003Cbr\u003E\nNearFuturePropulsion.cfg\u003Cbr\u003E\nNearFutureSolar.cfg\u003Cbr\u003E\nNearFutureSpacecraft.cfg\u003Cbr\u003E\nQuizTechAeroContinued.cfg\u003Cbr\u003E\nSquad.cfg\u003Cbr\u003E\nStationPartsExpansionRedux.cfg Excluded the two hydroponics modules as I can\u0027t the glass to work.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nJust made this dropbox account today, so I apologize if I made a mistake.\n\u003C/p\u003E\n\u003Cp\u003E\nDownload\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://db.tt/rICr8tXQBX\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://db.tt/rICr8tXQBX\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nYou will need Textures Unlimited by shadowmage45 installed and associated mod.\u003Cbr\u003E\nJust unzip the Thingdmadeshiny.zip and place it in your GameData folder. Delete what you dont want, but it shouldn\u0027t load it if you dont.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs I said, I hope someone can help out with this and maybe make something great. Feel free to use any part of these config files and modify/distribute as you like.\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-11T17:28:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223291796\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518317945\u0022 data-ipsquote-userid=\u0022184076\u0022 data-ipsquote-username=\u0022Barar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Barar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust to note, it seems you can only apply this to a certain amout of parts before KSP becomes unstable and you will start crashing when you load a save or open mab/\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E. I am not sure if its system specs, programming limitation, mod conflicts, a textures unlimited problem, or the way I am applying the shaders. So this is why I am putting out my configs. So someone with more knowledge can maybe fix this issue. *Note I am applying\u00A0over a 1000 parts on 63 different mods, would do more but it crashes.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInteresting; can\u0027t say that I\u0027ve seen that behavior before, but I\u0027ve also generally not been patching it onto that many parts.\n\u003C/p\u003E\n\u003Cp\u003E\nAny way I could have you upload a KSP.log file for one of the times where it crashes?\u00A0 (located in the same folder as the KSP executables)\u00A0 That log file should give me some hints as to why it is crashing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223291796\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518317945\u0022 data-ipsquote-userid=\u0022184076\u0022 data-ipsquote-username=\u0022Barar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Barar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs I said, I hope someone can help out with this and maybe make something great. Feel free to use any part of these config files and modify/distribute as you like.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI hope so too \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u00A0 I appreciate the work it takes to put the configs together, and hope we can get it all sorted out and working for you.\n\u003C/p\u003E\n\u003Cp\u003E\nGreat first (second?) post, and welcome to the forums \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Barar","CreatedById":184076,"CreatedDateTime":"2018-02-11T22:43:46Z","Content":"\n\u003Cp\u003E\nHi Shadowmage,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI made 4 crash reports and one that wouldn\u0027t crash moving through multiple screens, launchpads\u00A0and reloads.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDownload\u00A0\u003Ca href=\u0022https://db.tt/xGUQvu3ThD\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://db.tt/xGUQvu3ThD\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nJust so you know, my usual procedure for trouble shooting, aside from first looking at the logs. Is that I have an untouched KSP install, My test KSP install, and my playing KSP install. I put any new mods into my test KSP install, which usually has the minimum mods installed. Start up KSP test, since it\u00A0boots in 20seconds or so, confirm everything is working. Then put it into my main install. So playing with the configs above, I am able to load up every mod individually on my test KSP and play with no crashes. Then I put the mod into my playing KSP install with a config for each mod installed. Then it would just crash. So I\u00A0deleted one\u00A0config at a time until it started working, as I deleted more, it became increasingly stable, till no more\u00A0crashes. I\u00A0reinstalled all my mods from fresh\u00A0downloads into a fresh install and tested it before I made the above post and had the same effect.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I notify the mod maker on github, it is usually with the mod installed on my\u00A0fresh install. So\u00A0as to show it is not a mod conflict. I could not do that with this one since it varies depending on how many parts and possibly other reasons stated above.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo two crash reports from my new fresh install, two from my main install. Also\u00A0a report from the fresh install(reduced config\u00A0installs),\u00A0with\u00A0no crashes,\u00A0trying to make it crash.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-12T19:48:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223292507\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518389026\u0022 data-ipsquote-userid=\u0022184076\u0022 data-ipsquote-username=\u0022Barar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Barar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo two crash reports from my new fresh install, two from my main install. Also\u00A0a report from the fresh install(reduced config\u00A0installs),\u00A0with\u00A0no crashes,\u00A0trying to make it crash.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nStrangely, I\u0027m not actually seeing any crash-related information in those logs.\u00A0 They all seem to end with this line:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E2/11/2018 1:47:50 PM,KerbalAlarmClock,Loaded Textures\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nwhich is.... not that helpful as you might imagine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCould you try uploading the KSP.log file from your main KSP directory (it should be in the same folder as the executables)?\u00A0 The regular output_log.txt files are...well... mostly useless with KSP (though are usable for most other Unity games).\u00A0 Also the actual crash-log file that is generated might be useful, as it includes a bit more stack/heap information (should be in a separate folder in your main KSP folder).\n\u003C/p\u003E\n\u003Cp\u003E\nAnd are you sure you aren\u0027t simply running out of RAM when using that many mods?\u00A0 I\u0027m not able to see your amount of RAM from those log files, but I would guess you would need at least 8g for that many mods, possibly 12-16g.\u00A0 Out-of-ram crashes generally happen during scene-changes or when launching craft, but really could happen anywhere that memory is allocated (so, like anywhere in the KSP or mod codes, as it is nearly impossible to entirely avoid memory allocation in C#).\n\u003C/p\u003E\n"},{"CreatedByName":"Barar","CreatedById":184076,"CreatedDateTime":"2018-02-12T20:46:08Z","Content":"\n\u003Cp\u003E\nI have 32G of ram,\u00A0M2 ssd drives, the game is fully playable and does not crash for me. When I first load in game, I sit at about 10.5G. Every time I switch between \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E,MAB, launch and vessels, I get about 200-300mb added to my memory. Only when the memory leaks bring me up to 22\u002BG that it may crash, but that is after many screen changes and I usually finish playing before getting to that memory usage.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI did just run the crash scenario, I added about 100 parts in the config and can make it crash consistently. I generated a new ksp.log with the crash since I was playing. It is also not generating a crash log(would look like a folder labelled\u00A02018-02-12_XXXXXX). When it does crash, the screen will be blank and give\u00A0a \u0022KSP_x64.exe has stopped working\u0022 error and you can only select close program. Then it closes KSP.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u003Ca href=\u0022https://db.tt/Nbiwxs17mS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://db.tt/Nbiwxs17mS\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI could go through all the configs and try to find the number of parts is needs to start crashing, I just used * and several mods like this, SYadapter*,SYplate*,SYserviceBay* so would need to tally it all up. But not sure if it would help.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I was first playing with this I was using\u00A0@PART[*] with just one config. This worked on my test KSP game, but would crash on my main modded KSP game. That is when I broke it all out into separate configurations for each specific mod. I was thinking it was applying it to some part in a mod\u00A0that it was conflicting with and crashing. But it would become unstable and crash\u00A0when I seem to hit a part threshold. Just to note, I have tried swapping\u00A0out different configuration files and mixing it up with different high part count mods, Also removed\u00A0other mods that had this shader like SSTU and Lonesome robot mods just in case.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for taking the time to look at this issue.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-02-12T22:54:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223293426\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518468368\u0022 data-ipsquote-userid=\u0022184076\u0022 data-ipsquote-username=\u0022Barar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Barar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have 32G of ram,\u00A0M2 ssd drives, the game is fully playable and does not crash for me. When I first load in game, I sit at about 10.5G.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n32g should be plenty of ram, but ouch... 10g idle?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223293426\u0022 data-ipsquote-contentid=\u0022167450\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221518468368\u0022 data-ipsquote-userid=\u0022184076\u0022 data-ipsquote-username=\u0022Barar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Barar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhen it does crash, the screen will be blank and give\u00A0a \u0022KSP_x64.exe has stopped working\u0022 error and you can only select close program. Then it closes KSP.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat -really- sounds like the out-of-memory crash to me.\u00A0 Other crashes will (almost always, like 99.5%) generate the crashlog folder \u002B actual crash log.\u00A0 OOM will just dump you to the desktop with the little popup-window stating that KSP has stopped working.\n\u003C/p\u003E\n\u003Cp\u003E\nIIRC, Unity engine has some errors where it will OOM crash at around 16g regardless of how much RAM you actually have.\u00A0 Heck might be a limitation with their Mono runtime, or even some compilation flag in KSP itself.\u00A0 Honestly though I\u0027ve never even come close to that (I think I\u0027ve maybe seen ~6g of ram used by my setups... and that is only after an all-day play session).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for taking the time to upload that KSP.log file.\u00A0 Sadly, I\u0027m really not seeing anything in there that would point towards the cause.\u00A0 The log simply stops shortly after the change from main-menu to space-center.\u00A0 One other thing that might be able to help in tracking down the cause -- if you enable \u0027flush log to disk immediately\u0027 (or w/e it is called) from the stock debug-menu, it can sometimes catch a few more lines in the log.\u00A0 When KSP crashes, it will fail to log the last few lines to the log due to how everything is processed.\u00A0 Enabling the immediate-flush setting forces it to write things to the file -as they are logged-.\u00A0 It can/will cause lag though if lots of things are logging errors, so would suggest only enabling it for specific debugging use.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m really thinking that this is caused by memory use.\u00A0 Either regular system RAM, or perhaps even excessive use of VRAM.\u00A0 Especially telling is your statement that the problem goes away after you remove a few arbitrary/random mods.\u00A0 If it is not being caused by a \u003Cem\u003Especific\u003C/em\u003E mod, then it must be being caused by the \u003Cem\u003Enumber\u003C/em\u003E of mods in stalled (which again, points to RAM of one sort or another).\n\u003C/p\u003E\n\u003Cp\u003E\nSadly I don\u0027t really have many ideas beyond that.\u00A0 If you can point me to a \u003Cem\u003Especific\u003C/em\u003E config file that is causing the crashes, I will gladly investigate further (or somehow otherwise manage to get the KSP.log file to contain information relevant to the crash).\u00A0 But there is not much more I can do with the information that I currently have.\u00A0 (I often wish it was legal to share complete KSP installs... would make my life so much easier trying to debug highly-modded setups like this; sadly, it is not legal, and I don\u0027t have the time, patience, or motivation, to go and find, download, and install dozens/hundreds of mods \u002B whatever other customizations are in play)\n\u003C/p\u003E\n\u003Cp\u003E\nIf you can find a bit more information on the problem please let me know.\u00A0 Will gladly dig in further if more info comes up.\u00A0 You might also consider opening an issue ticket on the TU repository (here -\u0026gt;\u00A0\u00A0\u003Ca href=\u0022https://github.com/shadowmage45/TexturesUnlimited/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/TexturesUnlimited/issues\u003C/a\u003E ) to officially make note of the problem, and keep all of the information organized.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Barar","CreatedById":184076,"CreatedDateTime":"2018-02-13T05:04:14Z","Content":"\n\u003Cp\u003E\nI got to thinking\u00A0when you talked about memory but we did not define where I am getting that information. I am currently using GCmonitor. Other sources I am now including.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EGCMonitor\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n10626MB (VSZ)\n\u003C/p\u003E\n\u003Cp\u003E\n6538MB \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n10661MB Peak\n\u003C/p\u003E\n\u003Cp\u003E\n798MB\u00A0 GPU\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n60 FPS -Capped to reduce garbage collection.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EIn KSP alt-F12 debug menu.\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAllocated 2812.38mb\n\u003C/p\u003E\n\u003Cp\u003E\nReserved 3144.54mb\n\u003C/p\u003E\n\u003Cp\u003E\nUnused Reserve 322.20mb\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EUnder Windows\u00A0Task\u00A0manager\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nProcesses\u00A0 KSP_x64.exe\u00A0 6373MB\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EUnder Windows Resource Monitor\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nKSP_x64.exe Commit 10366345KB Working Set 6933394KB\n\u003C/p\u003E\n\u003Cp\u003E\nThese were taken\u00A0all on the same game load.\n\u003C/p\u003E\n\u003Cp\u003E\nTo note, I was not removing any installed mods in my game. The only change I made was move a few config files that applied the TextureUnlimited to about 100 more parts.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo did some testing today. Made an @PART[*] mod to apply it to everything.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EOriginal\u00A0Setup\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n3 shader\u00A0switches\n\u003C/p\u003E\n\u003Cp\u003E\nBrightness 0-100\n\u003C/p\u003E\n\u003Cp\u003E\nMetal 0-100\n\u003C/p\u003E\n\u003Cp\u003E\nSmoothness 0-100\n\u003C/p\u003E\n\u003Cp\u003E\nPossible combinations - 3x101x101x101= 3,090,903 x 1600 parts = 4,945,444,800 - Seemingly stable.\n\u003C/p\u003E\n\u003Cp\u003E\nPossible combinations - 3x101x101x101= 3,090,903 x 1700 parts = 5,254,535,100 - Crashing.\n\u003C/p\u003E\n\u003Cp\u003E\nDifference of 309,090,300 between when I was crashing and not crashing. But my modified setup is not even a 1/10 of the difference between those first two setups.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EModified setup\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n2 shaders\n\u003C/p\u003E\n\u003Cp\u003E\nBrightness 0-30, 51-100\n\u003C/p\u003E\n\u003Cp\u003E\nMetal 0,25,50,70,75,80-100\n\u003C/p\u003E\n\u003Cp\u003E\nSmoothness 0,25,50,70,75,80-100\n\u003C/p\u003E\n\u003Cp\u003E\nPossible Combinations 2x81x26x26=109,512 x 2131 parts = 23,370,072\n\u003C/p\u003E\n\u003Cp\u003E\nThis modified setup looks to be working for me just fine, no crashes so far.\u00A0I am not a programmer but I think it might be hitting a max integer\u00A0or something somewhere in Unity.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI put a new download link with the altered files if anyone wants to experiment. Also don\u0027t know how this will affect any mod\u00A0that is using\u00A0TexturesUnlimited already. Will need\u00A0to DL one and try sometime.\n\u003C/p\u003E\n\u003Cp\u003E\nDownload for Thingsmadeshiny below.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://db.tt/ZGv7tGTaPt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://db.tt/ZGv7tGTaPt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAlso Shadowmage, thanks for the replies.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI just wanted to say I\u00A0love the Anti-Grav Repulsors.\u00A0Splashing down in a Jet and then needing to take off again, very useful.\u00A0Also is it possible to mod them to have a\u00A010m, 20m\u002B height to them, so I could build some roaming bases\u00A0construction tools, with maybe a faux land carrier not hugging the ground. Maybe some sleek heat resistant/ablative ones too that don\u0027t burn up on my \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E\u0027s re-entry, But\u00A0I can always mod the\u00A0maxTemp on the part myself, this is probably not the correct forum to discuss it, so I digress.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}