{"TopicId":107661,"ForumId":34,"TopicTitle":"[KSP 1.4.5] [x] Science! - KSP Science report and checklist (V5.17)","CreatedByName":"Z-Key Aerospace","CreatedById":138926,"CreatedDateTime":"2015-05-05T15:32:04Z","PageNum":28,"Articles":[{"CreatedByName":"iprdn","CreatedById":179895,"CreatedDateTime":"2018-03-31T22:06:57Z","Content":"I\u0027ve found, that this mod is one of the most unfriendly to memory usage. It causes very often tho fire garbage collector. I\u0027ve got a lot of data on this subject, I also have a temporary solution. Anybody concerned about it?"},{"CreatedByName":"maja","CreatedById":168379,"CreatedDateTime":"2018-04-01T06:29:53Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, iprdn said:\n\u003E \n\u003E \n\u003E I\u0027ve found, that this mod is one of the most unfriendly to memory usage. It causes very often tho fire garbage collector. I\u0027ve got a lot of data on this subject, I also have a temporary solution. Anybody concerned about it?\n\u003E \n\nRead through this thread..."},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2018-04-01T09:24:35Z","Content":"\u003E \n\u003E \n\u003E On 27/9/2017 at 12:46 PM, John007qwe said:\n\u003E \n\u003E \n\u003E [https://www.dropbox.com/s/fhvpbmngu3t7kkm/KSP-X-Science modified.zip?dl=0](https://www.dropbox.com/s/fhvpbmngu3t7kkm/KSP-X-Science%20modified.zip?dl=0)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I added a couple lines in ScienceContext.cs\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E line 385, 386 and 390\n\u003E \n\n[@Z-Key Aerospace](https://forum.kerbalspaceprogram.com/index.php?/profile/138926-z-key-aerospace/) I have been looking for causes for bad performance on my KSP install, and came across the above old posting from [@John007qwe](https://forum.kerbalspaceprogram.com/index.php?/profile/15008-john007qwe/) seemingly having found a simple change to do to x-science to increase performance.\n\nI don\u0027t know if you have seen it?\n\nI looked through the code in the source, just to see if this was already implemented, but it does not seem to be. If you did see it, did you consider this small change? It seems to make sense to me, not looping through all experiments for all planet on every refresh.\n\n    private void RefreshExperimentCache( )\n    {//... some codevar _vessel = FlightGlobals.ActiveVessel;\t//NEWvar _planet = FlightGlobals.currentMainBody;\t//NEW// Check this experiment in all biomes on all bodiesfor ( int body_index = 0; body_index \u003C bodies.Count; body_index\u002B\u002B ){\t// Only load current celestial body\tif(_vessel != null \u0026\u0026 _planet != null) if (bodies[body_index].CelestialBody != FlightGlobals.currentMainBody) continue; \t//NEW\t//... some code}//... some code\n    }\n\nAlso if the code runs often (like Update() or FixedUpdate()), please consider having reference variables created outside the method, as to create less garbage."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-01T20:27:07Z","Content":"Oh for real! This should be fixed officially when it\u0027s so easy to be fixed."},{"CreatedByName":"tocken","CreatedById":182692,"CreatedDateTime":"2018-04-02T00:39:05Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, Warezcrawler said:\n\u003E \n\u003E \n\u003E [@Z-Key Aerospace](https://forum.kerbalspaceprogram.com/index.php?/profile/138926-z-key-aerospace/) I have been looking for causes for bad performance on my KSP install, and came across the above old posting from [@John007qwe](https://forum.kerbalspaceprogram.com/index.php?/profile/15008-john007qwe/) seemingly having found a simple change to do to x-science to increase performance.\n\u003E \n\nSubmit a pull request on GitHub."},{"CreatedByName":"UltraJohn","CreatedById":15008,"CreatedDateTime":"2018-04-02T12:26:39Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, tocken said:\n\u003E \n\u003E \n\u003E Submit a pull request on GitHub.\n\u003E \n\nProbably not a good idea, as the change I did disables some of the functionality to reduce lag.\n\nThe problem is that x science loads every type of science from all possible planets, situations, types of instruments, etc. and that in return results in, if i can remember correctly, over 800 different objects to keep track of (increased even more by mods = possibly more lag). From what I could understand from the source code, it loads all of them and creates objects to store in an array, which is to avoid having to run the code every frame, but instead every time your situation changes. My change makes the code skip everything that is not currently the planet you\u0027re on, reducing the amount of objects needed to be created to much less. I don\u0027t know why it even recreates them every time, as I\u0027d imagine just updating the ones that actually changed would remove lag completely. But that\u0027s up to [@Z-Key Aerospace](https://forum.kerbalspaceprogram.com/index.php?/profile/138926-z-key-aerospace/) to figure out. There could be a reason why he made it this way.\n\n**Edited \u003Ctime datetime=\u00222018-04-02T12:35:17Z\u0022 title=\u002204/02/2018 12:35  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 2, 2018\u003C/time\u003E by John007qwe**"},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2018-04-02T12:46:25Z","Content":"\u003E \n\u003E \n\u003E 18 minutes ago, John007qwe said:\n\u003E \n\u003E \n\u003E disables some of the functionality\n\u003E \n\nNow I\u0027m curious. I didn\u0027t notice anything, works fine for me."},{"CreatedByName":"leatherneck6017","CreatedById":178617,"CreatedDateTime":"2018-04-02T14:38:02Z","Content":"I\u0027m genuinely curious, why use this versus [ScienceAlert](https://forum.kerbalspaceprogram.com/index.php?/topic/170748-131-sciencealert-191-experiment-availability-feedback-10feb18)? Sure it\u0027s been abandoned by [@DennyTX](https://forum.kerbalspaceprogram.com/index.php?/profile/92389-dennytx/), but [@jefftimlin](https://forum.kerbalspaceprogram.com/index.php?/profile/179278-jefftimlin/) forked it ([here](https://github.com/jefftimlin/ScienceAlert-Updated/releases)) and fixed the scene change lag and the problem of not being able to save config files from the GUI. I don\u0027t see any reason to use this one, anymore."},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2018-04-02T15:03:08Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, leatherneck6017 said:\n\u003E \n\u003E \n\u003E I\u0027m genuinely curious, why use this versus [ScienceAlert](https://forum.kerbalspaceprogram.com/index.php?/topic/170748-131-sciencealert-191-experiment-availability-feedback-10feb18)? Sure it\u0027s been abandoned by [@DennyTX](https://forum.kerbalspaceprogram.com/index.php?/profile/92389-dennytx/), but [@jefftimlin](https://forum.kerbalspaceprogram.com/index.php?/profile/179278-jefftimlin/) forked it ([here](https://github.com/jefftimlin/ScienceAlert-Updated/releases)) and fixed the scene change lag and the problem of not being able to save config files from the GUI. I don\u0027t see any reason to use this one, anymore.\n\u003E \n\nYou could read the description to begin with. It\u0027S not just alerting you, it also let\u0027s you browse a list and search with parameters to plan ahead, check, compare etc."},{"CreatedByName":"leatherneck6017","CreatedById":178617,"CreatedDateTime":"2018-04-02T15:34:59Z","Content":"\u003E \n\u003E \n\u003E 28 minutes ago, maculator said:\n\u003E \n\u003E \n\u003E You could read the description to begin with. It\u0027S not just alerting you, it also let\u0027s you browse a list and search with parameters to plan ahead, check, compare etc.\n\u003E \n\nOh so you think I\u0027m one of those players that makes uneducated/un-researched comments? I asked a genuine question (ref: \u0022I\u0027m genuinely curious\u0022) knowing full well what this mod does. I used this exclusively before finding ScienceAlert. And you give me this snarky response? Mmk."},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2018-04-02T16:10:13Z","Content":"If you know full well what this mod does and you\u0027re not uneducated and you also researched for your comment you could\u0027ve come to the conclusion that this mod offers a list with filters to the various szenes. In case you totally missed it I shortend the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E for you to show what the list does:\n\n\u003E \n\u003E \n\u003E - list and a textbox filter\n\u003E - Available from anywhere\n\u003E - It reports on all science\n\u003E - It reports on all vehicles\n\u003E - Report on anywhere\n\u003E - Automatically updates\n\u003E - Filter\n\u003E - Keyword search\n\u003E - View amount of science any experiment has lefton\n\u003E"},{"CreatedByName":"leatherneck6017","CreatedById":178617,"CreatedDateTime":"2018-04-02T17:40:40Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, maculator said:\n\u003E \n\u003E \n\u003E If you know full well what this mod does and you\u0027re not uneducated and you also researched for your comment you could\u0027ve come to the conclusion that this mod offers a list with filters to the various szenes. In case you totally missed it I shortend the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E for you to show what the list does:\n\u003E \n\nUnlike you, I don\u0027t make ASSumptions about people and their intentions. My inquiry was based on the lag/stutter frustrations that have been voiced here, and experienced by myself. And also to offer up an alternative."},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2018-04-02T18:32:16Z","Content":"You wanted to know:\n\n\u003E \n\u003E \n\u003E 3 hours ago, leatherneck6017 said:\n\u003E \n\u003E \n\u003E why use this versus [ScienceAlert](https://forum.kerbalspaceprogram.com/index.php?/topic/170748-131-sciencealert-191-experiment-availability-feedback-10feb18)?\n\u003E \n\nI told you. Good day."},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2018-04-03T13:18:25Z","Content":""},{"CreatedByName":"Nowater","CreatedById":115217,"CreatedDateTime":"2018-04-04T16:15:39Z","Content":"XScience was running lag free, now i installed it via \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E and the LAG is back. Also the helpfull DLL is gone. Are thee any easy solutions now\u0060Thank you\n\n**Edited \u003Ctime datetime=\u00222018-04-04T16:18:11Z\u0022 title=\u002204/04/2018 04:18  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 4, 2018\u003C/time\u003E by Nowater**"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-04T17:14:45Z","Content":"\u003E \n\u003E \n\u003E 58 minutes ago, Nowater said:\n\u003E \n\u003E \n\u003E Are thee any easy solutions now\n\u003E \n\nDon\u0027t use \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-05T21:21:45Z","Content":"[@Warezcrawler](https://forum.kerbalspaceprogram.com/index.php?/profile/145377-warezcrawler/) generally your .dll makes the mod run better, but when this \u0022\u002Bx (Science Transmission)\u0022 messages float over the screen it still lags.\n\n[@N70](https://forum.kerbalspaceprogram.com/index.php?/profile/165182-n70/) Actually I\u0027m not sure if these \u0022floating messages\u0022 are a feature of Kerbalism - but if yes, that doesn\u0027t mean Kerbalism is the issue, because it just shows an information about a transmission occured and science points rewarded.  \n\nThis could still be an issue of [x] Science! because it also recognizes this information.\n\nPerhaps the floating of the messages itself is the issue.\n\n**Edited \u003Ctime datetime=\u00222018-04-05T21:22:36Z\u0022 title=\u002204/05/2018 09:22  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 5, 2018\u003C/time\u003E by Gordon Dry**"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2018-04-05T21:25:33Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Gordon Dry said:\n\u003E \n\u003E \n\u003E but when this \u0022\u002Bx (Science Transmission)\u0022 messages float over the screen it still lags.\n\u003E \n\nWhat are you referring to? I\u0027m not sure I follow. Is it Kerbalism related? I\u0027ve never tried Kerbalism, so might not have experienced what you are referring to.\n\nAny screen shots?"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-05T21:27:39Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Warezcrawler said:\n\u003E \n\u003E \n\u003E Any screen shots?\n\u003E \n\nWhen I\u0027m quick enough I will do a screen shot next time ..."},{"CreatedByName":"LatiMacciato","CreatedById":165597,"CreatedDateTime":"2018-04-06T01:34:06Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Gordon Dry said:\n\u003E \n\u003E \n\u003E When I\u0027m quick enough I will do a screen shot next time ...\n\u003E \n\nyou possibly could make a quick video too ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-06T15:23:49Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, LatiMacciato said:\n\u003E \n\u003E \n\u003E you possibly could make a quick video too\n\u003E \n\nBecause I started a new career last night the intervals of science transmission are low actually ... tbd next session I guess ... ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif \u0022:confused:\u0022)"},{"CreatedByName":"maculator","CreatedById":122127,"CreatedDateTime":"2018-04-06T15:48:39Z","Content":"\u003E \n\u003E \n\u003E 23 minutes ago, Gordon Dry said:\n\u003E \n\u003E \n\u003E Because I started a new career last night the intervals of science transmission are low actually ... tbd next session I guess ... ![:confused:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif \u0022:confused:\u0022)\n\u003E \n\nErm.. you can just create a new career, use the console to unlock the techtree, warp a craft with all the science parts in orbit of eeloo and transmitt everyting. Should give you enough oportunities to record a video or screenshot of the problem..."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-06T16:11:47Z","Content":"[@maculator](https://forum.kerbalspaceprogram.com/index.php?/profile/122127-maculator/) yeah, of course. Perhaps this didn\u0027t come to my mind because I\u0027m the \u0022immersion kinda guy\u0022 ... sounds weak, but makes sense somehow I guess..."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2018-04-06T17:37:04Z","Content":"[@Warezcrawler](https://forum.kerbalspaceprogram.com/index.php?/profile/145377-warezcrawler/) [@N70](https://forum.kerbalspaceprogram.com/index.php?/profile/165182-n70/) [@maculator](https://forum.kerbalspaceprogram.com/index.php?/profile/122127-maculator/)\n\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/ZqIiLzgICkk?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\nYou can see a lag when doing the EVA report at the beginning, but let\u0027s go to nearly the end where the transmission of the EVA report is finished:  \n\nShortly before the transmission is done there is a GC allocation, ignore that  \n\nDirectly after the end of the transmission there is a much longer lag, that is the issue I\u0027m talking about\n\n**Edited \u003Ctime datetime=\u00222018-04-06T17:37:52Z\u0022 title=\u002204/06/2018 05:37  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 6, 2018\u003C/time\u003E by Gordon Dry**"},{"CreatedByName":"Warezcrawler","CreatedById":145377,"CreatedDateTime":"2018-04-06T18:27:46Z","Content":"\u003E \n\u003E \n\u003E 41 minutes ago, Gordon Dry said:\n\u003E \n\u003E \n\u003E You can see a lag when doing the EVA report at the beginning, but let\u0027s go to nearly the end where the transmission of the EVA report is finished:  \n\u003E \n\u003E Shortly before the transmission is done there is a GC allocation, ignore that  \n\u003E \n\u003E Directly after the end of the transmission there is a much longer lag, that is the issue I\u0027m talking about\n\u003E \n\nI have noticed that X-Science does a lot of recalculations when you hit those buttons. The does give lag. My latest build of X-Science does reduce that, in my experience. Try it out here.\n\n[https://drive.google.com/open?id=1tKivW4S7YTOeMRHRTU7tm0oB1FNSKHnN](https://drive.google.com/open?id=1tKivW4S7YTOeMRHRTU7tm0oB1FNSKHnN)\n\nBased on your video (nice demo by the way), I\u0027m guessing the the \u0022floating of the messages\u0022 are the message regarding the science having been sent and received, stating how much science you got. If that is the case, I\u0027m 99% sure that has nothing to do with X-Science. That is stock. However, X-Science might be doing a reset at that point (I think it does).... If that is the case, the above build might reduce the lag. Please try it out."}]}