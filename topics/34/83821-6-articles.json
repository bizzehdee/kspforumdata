{"TopicId":83821,"ForumId":34,"TopicTitle":"[1.4.0] GCMonitor 1.4.8.0 - A graphic Memory monitor (Marsh 9th 2018)","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-09-04T20:27:33Z","PageNum":6,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-22T19:38:11Z","Content":"\n\u003Cp\u003EHere is an experimental build : \u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/GCMonitor/27/artifact/GCMonitor-1.2.8.0.zip\u0022 rel=\u0022external nofollow\u0022\u003EGCMonitor-1.2.8.0.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt removes all the custom lib call and replace them with direct calls to get the memory. It should work for Windows, Linux and OSX. \u003C/p\u003E\u003Cp\u003EDelete the content of the GCMonitor folder before install (except the PluginData to keep your config).\u003C/p\u003E\u003Cp\u003ECan I have some feedback from the Linux and OSX players ?\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-08-23T02:01:39Z","Content":"\n\u003Cp\u003E1.2.8 looks like it is working great for me (to remind others, I\u0027m on Windows Vista).\u003C/p\u003E\u003Cp\u003EThanks sarbian!\u003C/p\u003E\n"},{"CreatedByName":"xepls","CreatedById":151163,"CreatedDateTime":"2015-09-15T16:28:33Z","Content":"\n\u003Cp\u003Eto me too. I can show the memory usege work. On Ubuntu 14.03.\u003C/p\u003E\u003Cp\u003EI have one question, what is memory (RSS)? in this I see zero\u003C/p\u003E\n"},{"CreatedByName":"baldamundo","CreatedById":138417,"CreatedDateTime":"2015-09-23T23:17:17Z","Content":"\n\u003Cp\u003EI\u0027ve been having a (to my mind at least) strange issue with this mod on my Windows laptop. The memory monitor seems to work fine, but the numbers the FPS display seems to have no relation whatsoever to what the screen is actually showing. The FPS count is pretty much constantly between about 20-25fps, regardless of what the game\u0027s doing. So it\u0027ll say 20-25 when it\u0027s running fairly smoothly, and show the same range with no visible difference when I can plainly see massive lag spikes sometimes dropping it to close to 1fps at times.\u003C/p\u003E\u003Cp\u003EI am running a bunch of mods and having a bunch of issues (currently trying to isolate which mods are doing it), but this just struck me as a particularly odd issue - I\u0027d sort of assumed an FPS counter would be the last mod to break \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-09-24T12:36:53Z","Content":"\n\u003Cp\u003EAre you sure you are running the last version?\u003C/p\u003E\n"},{"CreatedByName":"CrashTestDanny","CreatedById":151030,"CreatedDateTime":"2015-11-08T21:18:02Z","Content":"\n\u003Cp\u003EI recently began trying to run KSP under Ubuntu 15.10 and was finding that the memory always displayed as 0 until I got the 1.2.8 build. That fixed the issue completely. Thanks!\u003C/p\u003E\u003Cp\u003EI was surprised to see that under Linux, KSP was starting out at 6G\u002B even though my windows installation with the same set of mods seems to run just under 3G at startup. But I have a lot of work to do on my linux installation before I\u0027m ready to draw any conclusions...\u003C/p\u003E\u003Cp\u003EDanny\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2015-11-18T07:33:35Z","Content":"\n[quote name=\u0027sarbian\u0027]Here is an experimental build : [URL=\u0022https://ksp.sarbian.com/jenkins/job/GCMonitor/27/artifact/GCMonitor-1.2.8.0.zip\u0022]GCMonitor-1.2.8.0.zip[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nIt removes all the custom lib call and replace them with direct calls to get the memory. It should work for Windows, Linux and OSX. \u003Cbr\u003E\nDelete the content of the GCMonitor folder before install (except the PluginData to keep your config).\u003Cbr\u003E\n\u003Cbr\u003E\nCan I have some feedback from the Linux and OSX players ?[/QUOTE]\u003Cbr\u003E\nThis experimental build seems to be getting good feedback. Will it be released as \u0022Stable\u0022 soon? Any plans to edit the .version file to accept KSP 1.0.5?\u003Cbr\u003E\n\u003Cbr\u003E\nAlso is there any way to suppress the minor logfile spam resulting from KSP trying to load the two non-C# DLL\u0026#39;s (getRSS_x64.dll and getRSS_x86.dll)?\u003Cbr\u003E\n\u003Cbr\u003E\n[I]Failed to load assembly C:\u0026#092;Program Files (x86)\u0026#092;Games\u0026#092;Kerbal Space Program\u0026#092;GameData\u0026#092;GCMonitor\u0026#092;getRSS_x64.dll:[/I]\u003Cbr\u003E\n[I]System.BadImageFormatException: Format of the executable (.exe) or library (.dll) is invalid.\u003Cbr\u003E\n[/I]\u003Cbr\u003E\n\u003Cbr\u003E\nCheers!\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-18T16:33:43Z\u0022 title=\u002211/18/2015 04:33  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 18, 2015\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2015-11-24T05:29:38Z","Content":"\nGot a minor bug to report - When you hit Alt\u002B12 and \u0022Database\u0022 | \u0022Reload All\u0022, you end up with an extra copy of GCMonitor running (and multiple of its Applauncher icons / onscreen mem/FPS readings).\u003Cbr\u003E\n\u003Cbr\u003E\n(ps. Incidentally I\u0026#39;ve also been using this as a \u0022feature\u0022 to remember when I\u0026#39;ve used Rebuild All too many times and ought to Reload KSP)\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-12-02T08:11:51Z","Content":"\n\u003Cp\u003E\nNow, I know I said \u0022No more forums until mess fixed\u0022, but I figure bug reports are exempt \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nHaving finally upgraded to v1.2.8 of this excellent tooI I must admit I\u0027m seeing some rather odd numbers:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022screenshot1_crop.png\u0022 class=\u0022ipsImage\u0022 src=\u0022http://s7.postimg.org/gqw9v8wvf/screenshot1_crop.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nActual memory details re. KSP.x86_64 process:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nVmSize:  6024600 kB\nVmRSS:   2979024 kB\u003C/pre\u003E\n\u003Cp\u003E\nDebian GNU/Linux v8.2\u003Cbr\u003E\nKSP v1.0.5\n\u003C/p\u003E\n\u003Cp\u003E\nMostly stock-ish install, logs and mod-list available on request (though I figure other mods probably irrelevant here)\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-02T08:15:16Z\u0022 title=\u002212/02/2015 08:15  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 2, 2015\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-12-02T08:30:06Z","Content":"\n\u003Cp\u003E\nOh FFS. This editor is appalling. Sorry \u0027bout the doubles, guess this will have to do since apparently I can\u0027t delete a post.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-02T08:32:24Z\u0022 title=\u002212/02/2015 08:32  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 2, 2015\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003Cbr\u003EScrew this IPS malarkey.\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-02T13:06:22Z","Content":"\n\u003Cp\u003E\nWhat do you find strange ? 16EB sounds like the\u00A0good limit for a 64bit arch \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, the last version had some change to have more meaningful\u00A0numbers for windows x86 but it is strange for Linux. I ll see what I can do for the next version. Would you rather see the vmSize or the RSS\u00A0? Both have their use, but I guess RSS is better for performance ...\n\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-12-02T13:27:58Z","Content":"\n\u003Cp\u003E\nI\u0027d say RSS is the more important of the two, vmSize doesn\u0027t mean much in the context. But whatever floats your boat, on KSP/x64 the whole memory thing isn\u0027t so important anyway, more a \u0027nice to know\u0027.\n\u003C/p\u003E\n\u003Cp\u003E\nOTOH, those numbers were funny enough to confidently say \u0022not working as intended\u0022 \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-30T21:35:43Z","Content":"\n\u003Cp\u003E\nI had some \u0022fun\u0022 with native calls on windows.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is 1.2.9 that can also track your GPU memory use on Windows. It\u00A0may require Win 8\u002B for the API I use, feedback welcome.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/GCMonitor/32/artifact/GCMonitor-1.2.9.0.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp.sarbian.com/jenkins/job/GCMonitor/32/artifact/GCMonitor-1.2.9.0.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot updating the OP since that one is a bit experimental.\n\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-12-30T21:40:06Z","Content":"\n\u003Cp\u003E\nCool, checking it out soon.\n\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-12-31T00:44:25Z","Content":"\n\u003Cp\u003E\nWhat is RSS memory? Also, the GPU memory isn\u0027t showing the data. The option is on and it\u0027s displaying, just showing as 0mb. I\u0027m using windows 8.1 and the GPU is an NVIDIA Geforce GTX 765m\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-31T09:19:50Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://stackoverflow.com/questions/7880784/what-is-rss-and-vsz-in-linux-memory-management\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://stackoverflow.com/questions/7880784/what-is-rss-and-vsz-in-linux-memory-management\u003C/a\u003E\u00A0It is the same for WIndows. To make it short RSS is the memory actually used by the process and VSZ is that memory allocated to the process including the shared memory\u00A0(this one is the one limited to 4GB on 32bit and this is why I show it)\n\u003C/p\u003E\n\u003Cp\u003E\nI ll push an other version with more debug info tonight. I won\u0027t spend much time on it however. It was fun too look into but it got complex fast and I don\u0027t see myself doing the Linux/OSX support after looking into the requirement.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso GCMonitor code is a mess... It was a prototype that turned into a hellish piece of code \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-31T09:24:08Z\u0022 title=\u002212/31/2015 09:24  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 31, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-12-31T13:20:20Z","Content":"\n\u003Cp\u003E\nSarbian,\n\u003C/p\u003E\n\u003Cp\u003E\nJust installed your latest version, and am comparing it to what GPU-Z is showing me\n\u003C/p\u003E\n\u003Cp\u003E\nFor some reason, GCMonitor is consistently underreporting the usage as compared to GPUZ, although, after thinking about it, I wonder if the discrepency is due to other stuff on the system (non-ksp) putting some stuff into the memory.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, when I loaded KSP with openGL, I saw the following:\n\u003C/p\u003E\n\u003Cp\u003E\nGPU-Z \u00A0 1800Mb\u003Cbr\u003E\nGCMon \u00A01200MB\n\u003C/p\u003E\n\u003Cp\u003E\nand, a simple startup:\n\u003C/p\u003E\n\u003Cp\u003E\nGPU-Z 836Mb\u003Cbr\u003E\nGC \u00A0 \u00A0 \u00A0636Mb\n\u003C/p\u003E\n\u003Cp\u003E\nSo the discrepency seems to get larger the more memory is used.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-12-31T13:47:08Z","Content":"\n\u003Cp\u003E\nok, I ll do more test tonight so see what\u00A0is off. The API also gives a shared\u00A0memory info that I did not add to the result so that may be it. If I can\u0027t make it work properly I won\u0027t insist and I\u0027ll remove it. The GPU info can easily be seen with an overlay like Afterburner unlike the process memory size.\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2015-12-31T21:21:43Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222342487\u0022 data-ipsquote-contentid=\u002283821\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451511343\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere is 1.2.9 that can also track your GPU memory use on Windows. It\u00A0may require Win 8\u002B for the API I use\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI can confirm that I do not see GPU memory use on Windows 7. This isn\u0027t a complaint, just confirming your *may require Win 8\u002B* statement.\n\u003C/p\u003E\n\u003Cp\u003E\nI have to say that the memory monitor is much more useful than expected, I wish I\u0027d tried it sooner! Thanks for making it!\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Black-Talon","CreatedById":57463,"CreatedDateTime":"2016-01-02T04:01:55Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022\u003E@sarbian\u003C/a\u003E\u00A0Small feature request based on something I find useful in the windows task manager\u0027s memory monitor.\u00A0Can you display the peak memory used (optionally shown in the overlay text as well would be nice)? I find this particularly nice with Kerbal since the big hits to memory happen on scene change. Thus being hard to catch with the memory monitor on screen. By tracking the peak, we get to see just how close we\u0027re getting to the limit on scene change and thus why we\u0027re too close to the memory limit. I do this by watching\u00A0Peak Working Set in Task Manager and find it interesting that between two scenes memory use has hardly changed BUT that during the scene change I actually hit an new all time high memory utilization. It would be wonderful to see this in game.\n\u003C/p\u003E\n\u003Cp\u003E\nPS - Upgraded to Windows 10 and I now have the GPU memory display option! Very nice! Although it shows about 200 MB less than GPU-Z I would still say it is a really nice feature!\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-01-02T14:22:32Z","Content":"\n\u003Cp\u003E\nDone, \u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/GCMonitor/\u0022 rel=\u0022external nofollow\u0022\u003Eget 1.30\u003C/a\u003E. I also fixed a bug with the GPU for those with more than 1 GPU (all those with an integrated intel...). Now people can run around and shout \u0022memory leak\u0022 with numbers.\n\u003C/p\u003E\n\u003Cp\u003E\nI looked into the delta with GPU-Z and I won\u0027t fix it. I would need to access native DLL that are annoying to call from Unity mono version (broken ComImport for those who care).\n\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2016-01-03T22:33:31Z","Content":"\n\u003Cp\u003E\nFor those not seeing the GPU numbers, you may need to update the video card. I just updated mine to try and fix some crashing it was having with OpenGL and the GPU numbers are showing up after the update.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for why it worked, I have absolutely no idea.\n\u003C/p\u003E\n"},{"CreatedByName":"Shaggygoblin","CreatedById":138214,"CreatedDateTime":"2016-01-11T20:25:20Z","Content":"\n\u003Cp\u003E\nso... last \u0027complaint\u0027 was, by my local time, 7 days ago... and a solution in the same rendering it not a fault of the \u0027mod/plugin\u0027...\u00A0 I call that a success and worthy of a .version to 1.0.5.\n\u003C/p\u003E\n\u003Cp\u003E\nGratz again, Sarbian!\n\u003C/p\u003E\n"},{"CreatedByName":"lodestar","CreatedById":101720,"CreatedDateTime":"2016-01-14T21:07:26Z","Content":"\n\u003Cp\u003E\nI have the plugin loaded but I\u0027m having trouble getting the key bindings to work on Linux. I already disabled all OS key bindings to Alt\u002BF1 and Alt\u002BF but nothing works. Any ideas?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Figured it out. The plugin actually uses KSP modifier key, not necessarily Alt, and I had it changed to the right Shift long ago because of the bug with keys triggering commands when typing in UI.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-15T01:31:48Z\u0022 title=\u002201/15/2016 01:31  AM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 15, 2016\u003C/time\u003E by lodestar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Proteus","CreatedById":140980,"CreatedDateTime":"2016-01-15T12:49:56Z","Content":"\n\u003Cp\u003E\ncan some one please tell me how come when i use\u00A0gc monitor the ram usage that shown is different than ram usage that shown on task manager,task manager shows lower ram usage by 450-300\n\u003C/p\u003E\n"}]}