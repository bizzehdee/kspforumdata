{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":126,"Articles":[{"CreatedByName":"sojourner","CreatedById":65674,"CreatedDateTime":"2013-09-17T15:02:38Z","Content":"\n\u003Cp\u003EYou guys are in the wrong thread.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/47317-MechJeb-2-Patch-test-bed-release-%28September-9%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/47317-MechJeb-2-Patch-test-bed-release-%28September-9%29\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Toyotawolf","CreatedById":75259,"CreatedDateTime":"2013-09-17T16:00:31Z","Content":"\n\u003Cp\u003E^ yeah this thread is pretty much abandoned\u003C/p\u003E\n"},{"CreatedByName":"m2ger8","CreatedById":62153,"CreatedDateTime":"2013-09-26T09:35:38Z","Content":"\n\u003Cp\u003EI don\u0027t know about others, but i miss one feature that was in mj1, that was the launch timing. so you could time your launch to instantly end up near your target in orbit\u003C/p\u003E\u003Cp\u003Eok, it was nicely hidden, now i found it and at the moment i am trying it, Thanks\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-26T19:32:29Z\u0022 title=\u002209/26/2013 07:32  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 26, 2013\u003C/time\u003E by m2ger8\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BloodyRain2k","CreatedById":50835,"CreatedDateTime":"2013-09-26T09:49:23Z","Content":"\n\u003Cp\u003EEver tried selecting a Target and looking into the Launch Guidance AP?\u003C/p\u003E\n"},{"CreatedByName":"Jasmir","CreatedById":76744,"CreatedDateTime":"2013-09-26T11:14:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BloodyRain2k\u0022 data-cite=\u0022BloodyRain2k\u0022\u003E\u003Cdiv\u003EEver tried selecting a Target and looking into the Launch Guidance AP?\u003C/div\u003E\u003C/blockquote\u003EI did. Neither \u0022start into targetplane\u0022 nor \u0022launch to target\u0022 works. Instead, it does some really weird stuff that i can\u0027t comprehend.\u003Cp\u003ESo, adding such features would be nice \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-09-26T11:38:57Z","Content":"\n\u003Cp\u003EI have used \u0022launch to target\u0022 many times. It does in fact work. It requires you to do a practice launch first so that MJ2 can establish a file for that particular vessel. Once that file has been established, it will launch your vessel at the appropriate time to rendevous with the target.\u003C/p\u003E\n"},{"CreatedByName":"sojourner","CreatedById":65674,"CreatedDateTime":"2013-09-26T17:42:27Z","Content":"\n\u003Cp\u003EHeck, it works pretty good for me without practice launches. Oh, and another reminder, ongoing Mechjeb thread is here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/47317-MechJeb-2-Patch-test-bed-release-%28September-9%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/47317-MechJeb-2-Patch-test-bed-release-%28September-9%29\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis thread is dead.\u003C/p\u003E\n"},{"CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2013-09-26T17:51:23Z","Content":"\n\u003Cp\u003ESarbian is taking care of MJ2 while I am awayish, but this is still the official thread.\u003C/p\u003E\n"},{"CreatedByName":"m2ger8","CreatedById":62153,"CreatedDateTime":"2013-09-26T19:39:42Z","Content":"\n\u003Cp\u003Ei was a fool not to find it, my bad, i\u0027m sorry.\u003C/p\u003E\n"},{"CreatedByName":"viperwolf","CreatedById":66190,"CreatedDateTime":"2013-09-30T00:52:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022r4m0n\u0022 data-cite=\u0022r4m0n\u0022\u003E\u003Cdiv\u003ESarbian is taking care of MJ2 while I am awayish, but this is still the official thread.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you for allowing him to continue with this while your away. Hope all is good.\u003C/p\u003E\n"},{"CreatedByName":"sojourner","CreatedById":65674,"CreatedDateTime":"2013-10-02T22:07:45Z","Content":"\n\u003Cp\u003EWoot! this thread may be returning to life soon!\u003C/p\u003E\n"},{"CreatedByName":"Toyotawolf","CreatedById":75259,"CreatedDateTime":"2013-10-03T04:00:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022r4m0n\u0022 data-cite=\u0022r4m0n\u0022\u003E\u003Cdiv\u003ESarbian is taking care of MJ2 while I am awayish, but this is still the official thread.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAHHH!!!!!!! ITS A GHOST!!!!!......hmmm just in time for Halloween, well played\u003C/p\u003E\n"},{"CreatedByName":"mrsloan","CreatedById":83220,"CreatedDateTime":"2013-10-03T05:40:38Z","Content":"\n\u003Cp\u003EHello there everyone, I\u0027m a teacher looking to utilize Mechjeb in the classroom, but I have an issue with the part of Mechjeb that is named \u0022Smart A.S.S.\u0022 there is no way I would ever (in a billion years) be allowed to run such an unfortunately named program when kids would be able to see it or even stumble on it accidentally when they are given the ability to build their own ships. \u003C/p\u003E\u003Cp\u003EThat being said, is there any way to modify the mechjeb file to remove or rename that particular phrase?\u003C/p\u003E\u003Cp\u003EAny help would be immensely appreciated.\u003C/p\u003E\u003Cp\u003EThanks in advance \u0026amp; God bless!\u003C/p\u003E\u003Cp\u003E- Mr. S\u003C/p\u003E\n"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2013-10-03T05:43:45Z","Content":"\n\u003Cp\u003ECan you just pronounce it as \u0022Smart Attitude Stabilization System\u0022?\u003C/p\u003E\n"},{"CreatedByName":"mrsloan","CreatedById":83220,"CreatedDateTime":"2013-10-03T05:53:53Z","Content":"\n\u003Cp\u003EThere is nothing I could do or say that would convince parents and my administration that it is acceptable to display in front of 5th graders. I realize it may be meant as a joke, but it doesn\u0027t fit the requirements of an educational environment.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-03T06:32:16Z","Content":"\n\u003Cp\u003Emrsloan, AFAIK there are no textures for MJ, so all it would take would by doing a search/replace in for all entries of that phrase in the source and changing them to SAS System, say. Then recompiling.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2013-10-03T14:53:19Z","Content":"\n\u003Cp\u003EI have been having a problem with MechJeb 2.0.9 - let me explain:\u003C/p\u003E\u003Cp\u003EI have a craft that uses checmical rockets to get into orbit, electric propulsion to travel to a celestial body with an atmosphere (ie laythe), enter the atmosphere, decend (fast) on parachutes and then just before impact fire final stage of 2 seperatons to slow for impact. The electric propulsion is built into the craft that will decend. Here is the \u003Ca href=\u0022http://pastebin.com/RF2TXW8f\u0022 rel=\u0022external nofollow\u0022\u003Ecraft file\u003C/a\u003E. And here is a close up picture:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s2.postimg.org/hmjrncvmh/screenshot45.png\u0022 alt=\u0022screenshot45.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe problem is that when I come to execute manuover nodes (which with the ion engine will take a long time) rather than starting at -10m as I would have expected, mechjeb starts the manuover at -2s. I looked into it and believe that this problem could be overcome with a change in FuelFlowSimulation::AllowedToStage. There is an assumption that if a stage is not being removed from the craft, then it is OK to stage even if it has not spent all its fuel. (as a side issue this has always annoyed me as it means that if I have a stage for seperating fairings, and another for releasing the cargo, the fairings will get released as soon as the previous stage is active). In this scenario the problem that it causes is that the fuel flow simulation fires the seperatrons as soon as the electric engine becomes active. As a consequence it considers that the craft is going to have a much higher TWR than it will with just the ion engine, and so it does not start the manuover until it is too late.\u003C/p\u003E\u003Cp\u003EYou can see what it is thinking by looking at the delta-v table that it comes up with for the whole craft. I wouls have expected the ion delta-v to show up in stage 2, but it as all been moved to to stage0. See below:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s2.postimg.org/ato04tu6x/screenshot46.png\u0022 alt=\u0022screenshot46.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI believe that I can fix the problem by changing the method to be:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E        //Whether we\u0027ve used up the current stage\u003Cbr\u003E        public bool AllowedToStage()\u003Cbr\u003E        {\u003Cbr\u003E            List\u0026lt;FuelNode\u0026gt; activeEngines = FindActiveEngines();\u003Cbr\u003E\u003Cbr\u003E            Debug.Log(\u0022Checking whether allowed to stage at t = \u0022 \u002B t \u002B \u0022 SimStage = \u0022 \u002B simStage);\u003Cbr\u003E            Debug.Log(\u0022  activeEngines.Count = \u0022 \u002B activeEngines.Count);\u003Cbr\u003E\u003Cbr\u003E            //if no engines are active, we can always stage\u003Cbr\u003E            if (activeEngines.Count == 0)\u003Cbr\u003E            {\u003Cbr\u003E                Debug.Log(\u0022Allowed to stage because no active engines\u0022);\u003Cbr\u003E                return true;\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            var burnedResources = activeEngines.SelectMany(eng =\u0026gt; eng.BurnedResources()).Distinct();\u003Cbr\u003E\u003Cbr\u003E            //if staging would decouple an active engine or non-empty fuel tank, we\u0027re not allowed to stage\u003Cbr\u003E            foreach (FuelNode n in nodes)\u003Cbr\u003E            {\u003Cbr\u003E                if (n.decoupledInStage == (simStage - 1) \u0026amp;\u0026amp; !n.isSepratron)\u003Cbr\u003E                {\u003Cbr\u003E                    if (activeEngines.Contains(n) || n.ContainsResources(burnedResources))\u003Cbr\u003E                    {\u003Cbr\u003E                        Debug.Log(\u0022Not allowed to stage because \u0022 \u002B n.partName \u002B \u0022 either contains resources or is an active engine\u0022);\u003Cbr\u003E                        return false;\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            // We are not allowed to stage if there is an active engine that still has access to resources\u003Cbr\u003E            foreach (FuelNode n in nodes)\u003Cbr\u003E            {\u003Cbr\u003E                if (activeEngines.Contains(n))\u003Cbr\u003E                {\u003Cbr\u003E                    if (n.CanDrawNeededResources(nodes))\u003Cbr\u003E                    {\u003Cbr\u003E                        Debug.Log(\u0022Not allowed to stage because \u0022 \u002B n.partName \u002B \u0022 is an active engine that still has resources to draw on.\u0022);\u003Cbr\u003E                        return false;\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            //if this isn\u0027t the last stage, we\u0027re allowed to stage because doing so wouldn\u0027t drop anything important\u003Cbr\u003E            if (simStage \u0026gt; 0)\u003Cbr\u003E            {\u003Cbr\u003E                Debug.Log(\u0022Allowed to stage because this isn\u0027t the last stage\u0022);\u003Cbr\u003E                return true;\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            Debug.Log(\u0022Not allowed to stage because there are active engines and this is the last stage\u0022);\u003Cbr\u003E\u003Cbr\u003E            //if this is the last stage, we\u0027re not allowed to stage while there are still active engines\u003Cbr\u003E            return false;\u003Cbr\u003E        }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis also resolves the delta-v table not being dispkayed correctly. (see below (I have been hacking around with different mechjeb forks - I dunno why the gui is broken on this build, but you can still read the table!)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s21.postimg.org/r0rl5qjaf/screenshot43.png\u0022 alt=\u0022screenshot43.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo I suppose I have a few questions:\u003C/p\u003E\u003Cp\u003E1) Is my thinking about the staging logic fair or does the current more aggressive staging strategy help in some way (personally I have only ever noticed it not doing what I want)\u003C/p\u003E\u003Cp\u003E2) Should I raise this as a bug in github, and if so which github? I see that there are several forks now. Where should I raise this?\u003C/p\u003E\u003Cp\u003E3) I see one of the forks is drawing various patches together. Is there a way that I can package a fix for this up as a patch and have it rolled into a maintained release?\u003C/p\u003E\u003Cp\u003EAt the moment I have not tested this change thourghly as I am not really sure which codebase to work from - I could really just use some advise on how best of offer this to the community if it is desireable.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-03T15:01:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsloan\u0022 data-cite=\u0022mrsloan\u0022\u003E\u003Cdiv\u003EHello there everyone, I\u0027m a teacher looking to utilize Mechjeb in the classroom, but I have an issue with the part of Mechjeb that is named \u0022Smart A.S.S.\u0022 there is no way I would ever (in a billion years) be allowed to run such an unfortunately named program when kids would be able to see it or even stumble on it accidentally when they are given the ability to build their own ships. \u003Cp\u003EThat being said, is there any way to modify the mechjeb file to remove or rename that particular phrase?\u003C/p\u003E\u003Cp\u003EAny help would be immensely appreciated.\u003C/p\u003E\u003Cp\u003EThanks in advance \u0026amp; God bless!\u003C/p\u003E\u003Cp\u003E- Mr. S\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes it is technically possible. It requires editing the source code to remove the offending code and then compiling it.\u003C/p\u003E\u003Cp\u003EThe file that needs editing is MechJebModuleSmartASS.cs\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        public override string getName()\u003Cbr\u003E        {\u003Cbr\u003E            return \u0022Smart A.S.S.\u0022;\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EChange that to return something different (Attitude Control or whatever else you want)\u003C/p\u003E\u003Cp\u003EAre you capable of doing that or do you have anyone who can do that?\u003C/p\u003E\n"},{"CreatedByName":"mrsloan","CreatedById":83220,"CreatedDateTime":"2013-10-03T23:59:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EYes it is technically possible. It requires editing the source code to remove the offending code and then compiling it.\u003Cp\u003EThe file that needs editing is MechJebModuleSmartASS.cs\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        public override string getName()\u003Cbr\u003E        {\u003Cbr\u003E            return \u0022Smart A.S.S.\u0022;\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EChange that to return something different (Attitude Control or whatever else you want)\u003C/p\u003E\u003Cp\u003EAre you capable of doing that or do you have anyone who can do that?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStarwaster \u0026amp; Nathan - thank you so much for your responses, I am happy to here there is a potential solution for me. \u003C/p\u003E\u003Cp\u003EI do not know how to do what you are suggesting off the top of my head, and I\u0027m not sure how I would go about doing it, but I have used Hex type editors before to change things in my registry by searching for a term then replacing it. \u003C/p\u003E\u003Cp\u003EI would just need to know how to open the file and search and replace the offending items. (In the past I have followed a walkthrough with screengrabs and that was fairly straightforward without the potential for any mistakes.\u003C/p\u003E\u003Cp\u003EPlease let me know what your advice is - It means a lot to me!\u003C/p\u003E\n"},{"CreatedByName":"mrsloan","CreatedById":83220,"CreatedDateTime":"2013-10-04T00:02:32Z","Content":"\n\u003Cp\u003EI ran a search for \u0022MechJebModuleSmartASS.cs\u0022 from my computer (within the KSP_Win directory) but did not come up with any results.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-04T00:53:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsloan\u0022 data-cite=\u0022mrsloan\u0022\u003E\u003Cdiv\u003EI ran a search for \u0022MechJebModuleSmartASS.cs\u0022 from my computer (within the KSP_Win directory) but did not come up with any results.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, let me clarify. I\u0027m referring to source code (which is linked to on the first page....) You would have to download the source, make the changes there and recompile it into a new mechjeb2.dll file\u003C/p\u003E\n"},{"CreatedByName":"mrsloan","CreatedById":83220,"CreatedDateTime":"2013-10-04T01:23:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003ESorry, let me clarify. I\u0027m referring to source code (which is linked to on the first page....) You would have to download the source, make the changes there and recompile it into a new mechjeb2.dll file\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk... I certainly do not know how to do that, maybe I can find someone who does. Thank you for the help and advice.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-04T07:10:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsloan\u0022 data-cite=\u0022mrsloan\u0022\u003E\u003Cdiv\u003EOk... I certainly do not know how to do that, maybe I can find someone who does. Thank you for the help and advice.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMr. Sloan, check your private messages \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2013-10-04T19:58:01Z","Content":"\n\u003Cp\u003EI asked on a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51583-Mechjeb-landing-guidance-with-parachutes?p=676271#post676271\u0022 rel=\u0022external nofollow\u0022\u003Eseperate thread\u003C/a\u003E, but others suggested I ask here - has anyone tried to add support to mechjeb landing guidance for parachutes? I am about to start hacking up some suppoprt for it, but did not want to if others already have, and I also wondered if there were ideas for features in this areas before I start.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-04T20:57:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003EI asked on a \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/51583-Mechjeb-landing-guidance-with-parachutes?p=676271#post676271\u0022 rel=\u0022external nofollow\u0022\u003Eseperate thread\u003C/a\u003E, but others suggested I ask here - has anyone tried to add support to mechjeb landing guidance for parachutes? I am about to start hacking up some suppoprt for it, but did not want to if others already have, and I also wondered if there were ideas for features in this areas before I start.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Enot sure... I dont \u003Cem\u003ETHINK\u003C/em\u003E so but on the other hand I would swear parachutes deployed once for me on an autopilot landing. maybe that was a bug. maybe I hallucinated it. ohnoes ima hallucinating again...\u003C/p\u003E\n"}]}