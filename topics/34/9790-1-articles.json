{"TopicId":9790,"ForumId":34,"TopicTitle":"[Plugin 0.14.4] Part gravity - v1.0","CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-22T07:05:09Z","PageNum":1,"Articles":[{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-22T07:05:09Z","Content":"\n\u003Cp\u003EThis plugin lets parts have their own gravitational fields:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/xaqxY.png\u0022 alt=\u0022xaqxY.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIt comes with three gravitating parts: the above-pictured munlet by NovaSilisko, the 500m asteroid by JellyCubes, and a black hole. The munlet has weak gravity and you can land on it. The 500m asteroid has somewhat stronger (but still weak) gravity (the asteroid it seems to have some collider problems or something, so you explode if you try to land on it). The black hole has lethally strong gravity if you get too close. \u003C/p\u003E\u003Cp\u003EThanks to NovaSilisko and JellyCubes for allowing their parts to be packaged with this plugin.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/yG3Zr.png\u0022 alt=\u0022yG3Zr.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/VCpyT.png\u0022 alt=\u0022VCpyT.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EIn addition to these three parts, it\\\u0027s easy to create new gravitating parts or edit part.cfg to give existing parts gravitational fields.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www./download.php?z3q458mr6lzm1r9\u0022 rel=\u0022external nofollow\u0022\u003EDownload here\u003C/a\u003E (source included). Unzip in your main KSP folder to install.\u003C/p\u003E\u003Cp\u003EBonus: An \u003Ca href=\u0022http://www./download.php?x9gz4yg3rug5sx2\u0022 rel=\u0022external nofollow\u0022\u003Eempty save file\u003C/a\u003E with some of these gravitating objects already scattered around the Kerbin system.\u003C/p\u003E\u003Cp\u003EOne limitation is that the gravity only works while the part is off-rails, which means it has to be within around 2.5km of the active ship. As a consequence, if e.g. you leave a ship in orbit around a black hole, it will drift away from the black hole if you switch away and do something else. However, within 2.5km there is true n-body gravity, with everything nearby feeling simultaneously the gravity of the dominant body in the SOI and any gravitating parts nearby. Plus, gravity acts on each part of your ship separately, which means that tidal effects are possible. This is particularly noticeable when you swing close to a black hole.\u003C/p\u003E\u003Cp\u003ETo actually play with these parts you need to rendezvous with them in orbit; I\\\u0027ve found \u003Ca href=\u0022http://kerbalspaceprogram.com/forum/index.php?topic=8524.0\u0022 rel=\u0022external nofollow\u0022\u003ERinComp\u003C/a\u003E a particularly useful tool for this.\u003C/p\u003E\u003Cp\u003EHere\\\u0027s how to edit these gravitating parts or create new ones: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003ETo give any part a gravitational field, find the line in part.cfg that starts \u0027module = \u0027 and change it to \u0027module = ARGravitatingPart\u0027. Then a few cfg parameters determine the gravitational behavior of the part:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eradius\u003C/strong\u003E - Ideally this is equal to the radius of the part (in meters), if the part is approximately spherical. The gravity of the part is that of a uniform density sphere with this radius.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EgeesAtRadius\u003C/strong\u003E - The gravitational acceleration in gees at the above radius (i.e., the surface gravity in gees if the part is a sphere of that radius). Kerbin surface gravity = 1 gee = 9.81 m/s^2. The gravitational acceleration at a distance r from the center of the part is (9.81 m/s^2) * geesAtRadius * (radius / r)^2 - the inverse square law. But inside the radius (if it\\\u0027s possible to get inside the radius) the gravitational acceleration is given by (9.81 m/s^2) * geesAtRadius * (r / radius) - increasing linearly with radius.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EdeployedMass\u003C/strong\u003E - The part mass will be increased to this value once the part is detached from a commandable ship. This should probably be much larger than the typical mass of a ship. If not, gravity between this part and a ship will mainly pull this part around instead pulling the ship around. This parameter exists so that part can have a small regular mass (under \u0027standard part parameters\u0027) and be launched into orbit on a rocket, but then gain a more realistic large mass once it\\\u0027s deployed. If you don\\\u0027t set this parameter, the part mass will just stay at the regular mass.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EgravitateWhileCommandable\u003C/strong\u003E - Whether the part\\\u0027s gravitational field exists while the part is part of a commandable vessel. Default value is true. One reason to set this to false is to prevent a part with powerful gravity from sucking up spent stages if it is launched on a rocket. If this is false, the part will only start to gravitate once it is detached from a commandable ship.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"FourTee2","CreatedById":17900,"CreatedDateTime":"2012-04-22T07:08:12Z","Content":"\n\u003Cp\u003EMy god, I never thought anyone would get around to doing this! I can\\\u0027t wait to try, though I probably should.. It\\\u0027s rather late...\u003C/p\u003E\n"},{"CreatedByName":"scratch","CreatedById":228,"CreatedDateTime":"2012-04-22T07:41:25Z","Content":"\n\u003Cp\u003EWow, that first image really got me confused \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Emilio","CreatedById":12359,"CreatedDateTime":"2012-04-22T07:43:14Z","Content":"\n\u003Cp\u003EThat was my idea \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E looks great anyway !\u003C/p\u003E\n"},{"CreatedByName":"LaydeeDem","CreatedById":5984,"CreatedDateTime":"2012-04-22T12:53:14Z","Content":"\n\u003Cp\u003Ebrb making solar system and planets\u003C/p\u003E\n"},{"CreatedByName":"Nibb31","CreatedById":7272,"CreatedDateTime":"2012-04-22T13:06:30Z","Content":"\n\u003Cp\u003ECan you orbit them ?\u003C/p\u003E\n"},{"CreatedByName":"Kryten","CreatedById":348,"CreatedDateTime":"2012-04-22T13:10:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nibb31\u0022 data-cite=\u0022Nibb31\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ECan you orbit them ?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot on rails, but otherwise you should be able to.\u003C/p\u003E\n"},{"CreatedByName":"MedwedianPresident","CreatedById":12212,"CreatedDateTime":"2012-04-22T15:12:49Z","Content":"\n\u003Cp\u003ECan someone provide a Save File with Spaceships that are near/landed on Asteroids?\u003C/p\u003E\n"},{"CreatedByName":"Nibb31","CreatedById":7272,"CreatedDateTime":"2012-04-22T16:29:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kryten\u0022 data-cite=\u0022Kryten\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENot on rails, but otherwise you should be able to.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I\\\u0027m saying is, does the game support drawing orbits around \u0027ships\u0027 ?\u003C/p\u003E\u003Cp\u003EI gave it a try, rendez-vous\\\u0027d with the asteroid, but it disappeared as soon as I touched it. I couldn\\\u0027t feel much gravity, but it was probably too small to have much of an effect.\u003C/p\u003E\n"},{"CreatedByName":"Kryten","CreatedById":348,"CreatedDateTime":"2012-04-22T16:35:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nibb31\u0022 data-cite=\u0022Nibb31\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhat I\\\u0027m saying is, does the game support drawing orbits around \u0027ships\u0027 ?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENope.\u003C/p\u003E\n"},{"CreatedByName":"Cooly568","CreatedById":17763,"CreatedDateTime":"2012-04-22T16:46:18Z","Content":"\n\u003Cp\u003ETotally downloading this when my computer gets fixed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"deadshot462","CreatedById":13659,"CreatedDateTime":"2012-04-22T18:46:43Z","Content":"\n\u003Cp\u003EIs it possible to create a 2 km object with gravity similar to the Jupiter that was released a while ago? Is there a limit to the size of a part?\u003C/p\u003E\n"},{"CreatedByName":"Blinkin","CreatedById":6248,"CreatedDateTime":"2012-04-22T20:23:57Z","Content":"\n\u003Cp\u003E*Imagines the Death Star that some one created on these forums \u002B this mod* 8)\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2012-04-22T22:39:41Z","Content":"\n\u003Cp\u003Eamagenes orbiting two of them around each other... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Lazurkri","CreatedById":16624,"CreatedDateTime":"2012-04-23T05:10:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Blinkin\u0022 data-cite=\u0022Blinkin\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E*Imagines the Death Star that some one created on these forums \u002B this mod* 8)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EShit son, me too! or that rather bad copy of the Galactica that was up a while ago...\u003C/p\u003E\n"},{"CreatedByName":"deadshot462","CreatedById":13659,"CreatedDateTime":"2012-04-24T01:54:19Z","Content":"\n\u003Cp\u003ESo far I have only set up the little mun on a high kerbin orbit (beyond the real Mun), and experienced a lot of lag when my ship approached within 2.5km of the little mun. \u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-24T12:20:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022deadshot462\u0022 data-cite=\u0022deadshot462\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESo far I have only set up the little mun on a high kerbin orbit (beyond the real Mun), and experienced a lot of lag when my ship approached within 2.5km of the little mun. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat sounds like the debug log might be getting flooded with messages, causing lag. If it happens again, can you press Alt-F2 to bring up the debug console and report what\\\u0027s being printed there, if anything?\u003C/p\u003E\n"},{"CreatedByName":"Lunniy Korabl","CreatedById":10897,"CreatedDateTime":"2012-04-25T05:00:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The_Duck\u0022 data-cite=\u0022The_Duck\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThat sounds like the debug log might be getting flooded with messages, causing lag. If it happens again, can you press Alt-F2 to bring up the debug console and report what\\\u0027s being printed there, if anything?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHere\\\u0027s your debug console. Pretty much the same story, got close to the munlet and it totally lagged out. Was within 800m but it was uncontrollable due to lag. KSP crashed shortly after the screenshot. Hope it helps!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i855.photobucket.com/albums/ab118/Leon_Walras/screenshot59.png\u0022 alt=\u0022screenshot59.png\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tosh","CreatedById":11055,"CreatedDateTime":"2012-04-25T06:45:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EHere\\\u0027s your debug console. Pretty much the same story, got close to the munlet and it totally lagged out. Was within 800m but it was uncontrollable due to lag. KSP crashed shortly after the screenshot. Hope it helps!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EAh, an old familiar \u0027can\\\u0027t add component\u0027 :\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EThe_Duck, I\\\u0027m not sure this is \u003Cem\u003Eyour \u003C/em\u003Ecase -- but here\\\u0027s how I got rid of that message in the cart plugin:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eprotected override void onPack() {\u003Cbr\u003E   // Here destroy EVERY rigidbody and joint you\\\u0027ve added to the part. Colliders \u003Cbr\u003E   // may stay (if they\\\u0027re not attached to the manually created rigidbody).\u003Cbr\u003E   base.onPack();\u003Cbr\u003E}\u003Cbr\u003Eprotected override void onPartFixedUpdate() {\u003Cbr\u003E  if( ( rigidbody != null ) \u0026amp;\u0026amp; \u003Cbr\u003E    ( !rigidbody.isKinematic ) ) {\u003Cbr\u003E    // Here create rigidbodies and joints again.\u003Cbr\u003E  }\u003Cbr\u003E  base.onPartFixedUpdate();\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"GabrielG.A.B.Fonseca","CreatedById":13436,"CreatedDateTime":"2012-04-26T17:45:30Z","Content":"\n\u003Cp\u003EYou should fix the asteroid... So we can make mineral extraction bases or mimic the Star Trek: Enterprise episode \u0027Breaking the ice\u0027 :\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-27T03:54:54Z","Content":"\n\u003Cp\u003EWell, I managed to get the console errors here too, and I\\\u0027m not sure, but I think they may be because the .sfs file is messed up, as opposed to being caused by the plugin code itself. The game seems to be repeatedly trying to load the vessel that you are approaching, and repeatedly failing. I\\\u0027ll remove the \u0027bonus\u0027 save file download from the first post and see if I can\\\u0027t put together one that doesn\\\u0027t cause these errors.\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-28T01:21:19Z","Content":"\n\u003Cp\u003EAll right, after a fair amount of experimentation it seemed like there was some problem with the Munlet vessels in the save file I was providing. I\\\u0027ve re-done the save file and I seem to have gotten rid of the errors. Try out the new save file and let me know if that\\\u0027s not the case! You can find the download in the first post. \u003C/p\u003E\n"},{"CreatedByName":"deadshot462","CreatedById":13659,"CreatedDateTime":"2012-04-28T01:29:16Z","Content":"\n\u003Cp\u003EI just downloaded it again but it\\\u0027s a V10, is it supposed to be named the same version? I\\\u0027ll give it a try tonight!\u003C/p\u003E\u003Cp\u003EEdit: I have not downloaded any save files, only the part/plugins themselves, are these updated? If they are I\\\u0027ll test them and post results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The_Duck","CreatedById":1156,"CreatedDateTime":"2012-04-28T05:19:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022deadshot462\u0022 data-cite=\u0022deadshot462\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI just downloaded it again but it\\\u0027s a V10, is it supposed to be named the same version? I\\\u0027ll give it a try tonight!\u003C/p\u003E\u003Cp\u003EEdit: I have not downloaded any save files, only the part/plugins themselves, are these updated? If they are I\\\u0027ll test them and post results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe code hasn\\\u0027t changed, only the save file I provided. But did you use some sort of manual or automatic save editor to set up the munlet you experienced lag with earlier? I am not 100% sure of this, but my current best hypothesis is that this lag is caused by a bad save file and not the plugin code. As an alternative to save file editing, it\\\u0027s possible to launch the munlet or black hole on ships. You might try this and if a launched munlet worked without lag, that would be evidence that the problem is from the edited save file and not the plugin code.\u003C/p\u003E\n"},{"CreatedByName":"Nibb31","CreatedById":7272,"CreatedDateTime":"2012-04-28T16:46:10Z","Content":"\n\u003Cp\u003EI was able to land on the Munlet, or more exactly \u0027gently stick\u0027 to it. On my next mission, I\\\u0027m going to try to deorbit it.\u003C/p\u003E\u003Cp\u003EHowever, I hardly feel any pull when I approach the Asteroid and when I touched it (very gently) my ship exploded.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imageshack.us/photo/my-images/205/screenshot26d.png/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://img205.imageshack.us/img205/8486/screenshot26d.png\u0022 alt=\u0022screenshot26d.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"}]}