{"TopicId":67235,"ForumId":34,"TopicTitle":"[1.2.2](Dec10/16) Action Groups Extended: 250 Action Groups, in-flight editing. Now kOS/RemoteTech","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-03-30T15:52:01Z","PageNum":18,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-24T16:23:43Z","Content":"\n\u003Cp\u003EHmm. I will admit I had not considered RPM support before, mostly because I rarely use IVA myself.\u003C/p\u003E\u003Cp\u003EIt is one of those things that I should support I think though, I\u0027ll add it to the list of desired features.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Errol","CreatedById":118622,"CreatedDateTime":"2014-09-24T16:51:41Z","Content":"\n\u003Cp\u003EEven if it were just an adaptation of the screens from your mod that could be loaded into RPM....somehow? With code-magic?\u003C/p\u003E\n"},{"CreatedByName":"CCraigen","CreatedById":11947,"CreatedDateTime":"2014-09-24T22:44:11Z","Content":"\n\u003Cp\u003EGot a few new ones for ya. Firstly, \u0022Return to SPH\u0022 doesn\u0027t bring the actions with it or load the saved version\u0027s actions, although reloading the ship file loads them properly. Haven\u0027t checked the VAB yet.\u003C/p\u003E\u003Cp\u003EThe second bug is more involved.\u003C/p\u003E\u003Cp\u003E(1) Large aircraft with belly cranes and extendable stilts\u003C/p\u003E\u003Cp\u003E - action groups 1-10 dealing with engine management and cranes\u003C/p\u003E\u003Cp\u003E - action groups 20-24 dealing with stilt operation\u003C/p\u003E\u003Cp\u003E(2) EVA kerbal from (1)\u003C/p\u003E\u003Cp\u003E(3) Small kethane mining rig\u003C/p\u003E\u003Cp\u003EAll groups labeled, action groups persisted from SPH to runway for (1). EVA\u0027d (2) and moved him out of the way, switch to (3) and drove it underneath (1). Switched back to (1), actions still good. Switched to (2) and grabbed KAS attachment nodes from containers on (1). Began switching between all 3 repeatedly since it was hard to tell which I was in control of. Bug occurred at this point.\u003C/p\u003E\u003Cp\u003EAt some point during this quick switching, (1)\u0027s actions in group 1-10 had been cleared of names, but all actions were still present. Actions in groups 20-24, however, were cleared completely. No trace of them. Reloading the saved ship in SPH did not restore the original actions, and it appears they are gone permanently. Log file is \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/5889104/ksp/KSP-agext1.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Ship in question is \u0022Packmule\u0022.\u003C/p\u003E\u003Cp\u003E---\u003C/p\u003E\u003Cp\u003EJust did it again, names cleared again. Didn\u0027t map the 20-24 groups this time so not sure if that behavior would have been the same. Might have something to do with Kerbal Attachment System changing the part count of vessels on-the-fly.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-25T07:35:13Z\u0022 title=\u002209/25/2014 07:35  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 25, 2014\u003C/time\u003E by CCraigen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-25T03:01:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CCraigen\u0022 data-cite=\u0022CCraigen\u0022\u003E\u003Cdiv\u003EFirstly, \u0022Return to SPH\u0022 doesn\u0027t bring the actions with it or load the saved version\u0027s actions, although reloading the ship file loads them properly. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan confirm having seen this with the latest version, but not consistently. I think it happened when I first assigned the actions and reverted. Regardless the last time I ran the game, loaded the saved craft and reverted to the VAB the actions were still there. So the issue might go away after the craft has been saved and reloaded\u003C/p\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2014-09-25T03:11:54Z","Content":"\n\u003Cp\u003EDiazo, thanks for all your attention. I agree with Pecan that you may want to rest up prior to KSP v0.25 becoming live. (I\u0027ve already backed up KSP v0.24.2.559 from Steam to a separate directory and am running on it so I don\u0027t get hit with an unwelcome change before major mods are migrated. It\u0027s wonderful you can do that with KSP. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E)\u003C/p\u003E\u003Cp\u003EHowever, I though I should let you know I\u0027ve found that the method you suggested for transferring AGExt info for copied .craft files between savegames doesn\u0027t quite work, at least for moving between a sandbox game and a full-career game. I don\u0027t know if this is related to the Action ambiguous report I PM\u0027ed to you earlier.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E@Jacke: To transfer a craft file, you do need to move the ConfigNode relating to that ship as-well. In the AGExtEditor.cfg in the save game you are moving a craft from, find the correct node and then copy that node to the AGExtEdtior.cfg file in your new game.\u003C/p\u003E\u003Cp\u003EIf you are starting a new game, you can just copy the AGExtEditor.cfg file over in its entirety.\u003C/p\u003E\u003Cp\u003EWhen you open the AGExtEditor file, the node for a craft is as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003EVAB123456789123456798465 //first line to copy\u003Cbr\u003E{\u003Cbr\u003Ename={ship name}\u003Cbr\u003E//node data here\u003Cbr\u003E}//last line to copy, the close bracket\u003Cbr\u003EVAB222222222222//first line of the next vessel, do not copy\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe amount of lines between the two brackets will vary depending on how many actions you have assigned, the easiest way is to find the next vessel identifier line and the close bracket just above it will be the last line you need to copy.\u003C/p\u003E\u003Cp\u003EI am planning to merge this data into the .craft file itself at a future date, I will need to do so to support sub-assemblies. (At the moment, AGX can not save actions to sub-assemblies.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom monitoring the AGExtEditor.cfg file, after copying the stanza for a rocket from the sandbox game to the full-career game while neither are loaded, going back into the full-career game and loading the copied rocket leads to the AGExt stanza being deleted for it, leaving the action names being blanked but the actions being present (at least the 2 I\u0027d set in the first 2 slots). Fairly easy to fix this manually with just a few actions for now.\u003C/p\u003E\u003Cp\u003EAs far as I can tell, for the same design with the same AGExt settings, the only difference in the AGExtEditor.cfg file stanza is the VAB# and the value groupVisibility, which differs between the sandbox game and the full-career game.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003EVAB494565458749327510111498105110326587\u003Cbr\u003E{\u003Cbr\u003E name = 1-A-W1 Kerbin W\u003Cbr\u003E currentKeyset = 1\u003Cbr\u003E groupNames = \u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3001Temperature\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3002Pressure\u003Cbr\u003E groupVisibility = 1011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111\u003Cbr\u003E groupVisibilityNames = Group1\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group2\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group3\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group4\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group5\u003Cbr\u003E PART\u003Cbr\u003E {\u003Cbr\u003E name = sensorThermometer\u003Cbr\u003E vesselID = 0\u003Cbr\u003E relLocX = -1.889666E-08\u003Cbr\u003E relLocY = 0.5908403\u003Cbr\u003E relLocZ = -0.2161526\u003Cbr\u003E ACTION\u003Cbr\u003E {\u003Cbr\u003E group = 1\u003Cbr\u003E activated = 0\u003Cbr\u003E partModule = BTSMModuleScienceExperiment\u003Cbr\u003E actionGuiName = Log Temperature\u003Cbr\u003E actionName = BTSMDeployExperimentAction\u003Cbr\u003E custom1 = Log Temperature\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E PART\u003Cbr\u003E {\u003Cbr\u003E name = sensorBarometer\u003Cbr\u003E vesselID = 0\u003Cbr\u003E relLocX = -0.4441701\u003Cbr\u003E relLocY = 0\u003Cbr\u003E relLocZ = 2.64746E-08\u003Cbr\u003E ACTION\u003Cbr\u003E {\u003Cbr\u003E group = 2\u003Cbr\u003E activated = 0\u003Cbr\u003E partModule = BTSMModuleScienceExperiment\u003Cbr\u003E actionGuiName = Log Pressure Data\u003Cbr\u003E actionName = BTSMDeployExperimentAction\u003Cbr\u003E custom1 = Log Pressure Data\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003EVAB4945654587493275101114981051103287\u003Cbr\u003E{\u003Cbr\u003E name = 1-A-W1 Kerbin W\u003Cbr\u003E currentKeyset = 1\u003Cbr\u003E groupNames = \u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3001Temperature\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3002Pressure\u003Cbr\u003E groupVisibility = 1011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111011111\u003Cbr\u003E groupVisibilityNames = Group1\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group2\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group3\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group4\u00C3\u0192\u00C2\u00A2\u00C3\u00A2\u00E2\u20AC\u0161\u00C2\u00AC\u00C3\u201A\u00C2\u00A3Group5\u003Cbr\u003E PART\u003Cbr\u003E {\u003Cbr\u003E name = sensorThermometer\u003Cbr\u003E vesselID = 0\u003Cbr\u003E relLocX = -1.889666E-08\u003Cbr\u003E relLocY = 0.5908403\u003Cbr\u003E relLocZ = -0.2161526\u003Cbr\u003E ACTION\u003Cbr\u003E {\u003Cbr\u003E group = 1\u003Cbr\u003E activated = 0\u003Cbr\u003E partModule = BTSMModuleScienceExperiment\u003Cbr\u003E actionGuiName = Log Temperature\u003Cbr\u003E actionName = BTSMDeployExperimentAction\u003Cbr\u003E custom1 = Log Temperature\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E PART\u003Cbr\u003E {\u003Cbr\u003E name = sensorBarometer\u003Cbr\u003E vesselID = 0\u003Cbr\u003E relLocX = -0.4441701\u003Cbr\u003E relLocY = 0\u003Cbr\u003E relLocZ = 2.64746E-08\u003Cbr\u003E ACTION\u003Cbr\u003E {\u003Cbr\u003E group = 2\u003Cbr\u003E activated = 0\u003Cbr\u003E partModule = BTSMModuleScienceExperiment\u003Cbr\u003E actionGuiName = Log Pressure Data\u003Cbr\u003E actionName = BTSMDeployExperimentAction\u003Cbr\u003E custom1 = Log Pressure Data\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-25T13:59:38Z","Content":"\n\u003Cp\u003EOkay, it looks like the auto-save on leaving editor is botched so I\u0027m pulling version 1.17.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7bZkZNRXV0QVJ2NUk/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EPlease use my latest 1.16 dev version for now.\u003C/a\u003E I should have the next version out tonight.\u003C/p\u003E\u003Cp\u003E@CCraigen: I\u0027ll parse the log file you provided tonight when I\u0027m working on this, but from your post it sounds like AGX could not keep up with the fast vessel switching. Every time you switch a vessel it has to save the current vessel and the load the new one. I guess if you go fast enough it could be trying to save at the same time it was loading?\u003C/p\u003E\u003Cp\u003EThe actions being lost would be the editor saving problem I pulled 1.17 because of I expect.\u003C/p\u003E\u003Cp\u003E@Jacke: Looking at your post, your actions sound correct. The issue is that the VAB# is different. The VAB# is a hash of the ship name so the longer VAB# with the additional \u002765\u0027 number near the end is a ship named: \u00221-A-W1 Kerbin AW\u0022 (Character code 65 being the letter A).\u003C/p\u003E\u003Cp\u003ESo the clean up code deletes the stanza because you have a craft file named \u00221-A-W1 Kerbin W\u0022 but the AGX Stanza is named \u00221-A-W1 Kerbin AW\u0022\u003C/p\u003E\u003Cp\u003EI\u0027ll double check that there is nothing in the code that change this, it is supposed to generate the VAB# number fresh each time it saves so it is always using the most recent name.\u003C/p\u003E\u003Cp\u003ELots of things to look into now, I\u0027ll see what I can get to you guys tonight.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2014-09-25T17:04:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E@Jacke: Looking at your post, your actions sound correct. The issue is that the VAB# is different. The VAB# is a hash of the ship name so the longer VAB# with the additional \u002765\u0027 number near the end is a ship named: \u00221-A-W1 Kerbin AW\u0022 (Character code 65 being the letter A).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ED\u0027oh! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027d changed the name of a .craft outside of KSP, to the filename and the internal \u0027ship\u0027 parameter, from \u00221-A-W1 Kerbin AW\u0022 to \u00221-A-W1 Kerbin W\u0022. I will have to do that inside the game to get it right. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-25T23:49:19Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EDev Version Release: Version 1.17a\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.17\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17 full .zip download (Install first.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7bV2JYZ1hZVnJfZDQ/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17a .dll file only, fix for Editor often not saving actions when you leave it. (Install second.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EVersion 1.17a Changelog:\u003C/p\u003E\u003Cp\u003E-Rework auto-save on leaving editor so it is no longer as aggressive.\u003C/p\u003E\u003Cp\u003EShould still save when mods allow leaving via a non-standard method (although a really strange method may now circumvent AGX\u0027s auto-save).\u003C/p\u003E\u003Cp\u003EHowever, as is it now less aggressive it will no longer try to save when the data is in an invalid state and there should no longer be any loss of actions when returning to the editor after leaving it.\u003C/p\u003E\u003Cp\u003E-Add ability to disable cleanup of old saves. (All the AGExt00000.cfg files in the save game directory.)\u003C/p\u003E\u003Cp\u003EApparently due to how KSP processes .sfs files (game saves), it can take up to a second per file to process. For people with many quicksaves this can lead to a delay reaching in to the minutes range when trying to load into the space center.\u003C/p\u003E\u003Cp\u003ETo enable, find the KSP_Install\\GameData\\Diazo\\AGExt\\AGExt.cfg file and add the following line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EDeleteOldSaves = 0\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(Set to 0 to \u003Cem\u003Enot\u003C/em\u003E run the clean up routine, set to 1 (or leave line out) to run the clean up routine.)\u003C/p\u003E\u003Cp\u003EIf you do not wish to enable this, do nothing. AGX will run fine with that line missing from the AGExt.cfg file. This option does not disable the clean up of old .craft files in the editor, only the AGExt00000.cfg files.\u003C/p\u003E\u003Cp\u003ETo help you decide if you should run the clean up routine or not, a start and end time is now printed to the Alt-F2 log when the clean up routine runs so you can tell how much of the delay you are seeing upon loading the Space Center is from this and how much is from other sources.\u003C/p\u003E\u003Cp\u003EWork continues.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-26T15:59:50Z\u0022 title=\u002209/26/2014 03:59  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 26, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2014-09-26T00:48:57Z","Content":"\n\u003Cp\u003EAppreciate your quick patch releases, Diazo. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"cttw","CreatedById":2670,"CreatedDateTime":"2014-09-26T14:27:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E Can you remember which part it was?\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirespitter\u0027s Parts\u0027 Folding Propeller.\u003C/p\u003E\n"},{"CreatedByName":"SaintWacko","CreatedById":113172,"CreatedDateTime":"2014-09-26T15:43:25Z","Content":"\n\u003Cp\u003EIs the only file I need the dll? The installation instructions mention a zip file, but the only downloads I\u0027m finding are dll-only.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-26T15:46:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SaintWacko\u0022 data-cite=\u0022SaintWacko\u0022\u003E\u003Cdiv\u003EIs the only file I need the dll? The installation instructions mention a zip file, but the only downloads I\u0027m finding are dll-only.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe full download available is Version 1.17 which is a .zip file as there is a .cfg and some.png files that are required.\u003C/p\u003E\u003Cp\u003EHowever, 1.17a fixes a rather nasty bug that would lose actions when you left the editor and it is only a .dll that gets put in the folder created when you extract the .zip file.\u003C/p\u003E\u003Cp\u003EI meant to do a full .zip release last night but was not able to as I got side-tracked after supper, I\u0027ll go tweak my links to clarify this.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"SaintWacko","CreatedById":113172,"CreatedDateTime":"2014-09-26T16:59:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EThe full download available is Version 1.17 which is a .zip file as there is a .cfg and some.png files that are required.\u003Cp\u003EHowever, 1.17a fixes a rather nasty bug that would lose actions when you left the editor and it is only a .dll that gets put in the folder created when you extract the .zip file.\u003C/p\u003E\u003Cp\u003EI meant to do a full .zip release last night but was not able to as I got side-tracked after supper, I\u0027ll go tweak my links to clarify this.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI found my way to your git releases page and found the 1.17 full download. Great mod, very useful! It\u0027s so nice to not have to revert to VAB when I realize I\u0027ve forgotten to set an action group. Is there any way to make it so action groups set mid-flight persist back in the VAB, and in future launches of the same craft?\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-26T17:11:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SaintWacko\u0022 data-cite=\u0022SaintWacko\u0022\u003E\u003Cdiv\u003EI found my way to your git releases page and found the 1.17 full download. Great mod, very useful! It\u0027s so nice to not have to revert to VAB when I realize I\u0027ve forgotten to set an action group. Is there any way to make it so action groups set mid-flight persist back in the VAB, and in future launches of the same craft?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately there is not. Due to how the Editor and Flight modes are separated the actions only go from the editor to flight. \u003C/p\u003E\u003Cp\u003EThere is actually noticeable differences in how the data is stored and that is before we get into issues with staging. (How would actions on parts that have separated be handled?)\u003C/p\u003E\u003Cp\u003EI did consider adding that functionality but it would turn into a huge hassle that isn\u0027t worth the effort. One of the biggest hassles would be that if rename you ship you can\u0027t import back to the Editor anyway as AGX uses ship names to identify vessels. I can\u0027t exactly ask people to not rename their ships, that would be unpopular to say the least.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2014-09-27T17:58:44Z","Content":"\n\u003Cp\u003EI discovered another bug (couldn\u0027t find it in a search of the thread). The VAB editor Undo function (Ctrl-Z on PC) wipes all AGExt actions. Also, more BTSM \u0022AGX Load Action ambiguous. Count: 0 Module: BTSMModuleScienceExperiment BTSMDeployExperimentAction\u0022 and inability to save BTSM Goo experiment actions to slots 11 and higher (some of these may be duplicates you already know about, Diazo).\u003C/p\u003E\u003Cp\u003EOutput_log.txt is \u003Ca href=\u0022http://www.cuug.ab.ca/jacke/KSP/v0.24.2/_logs/20140927a-AGExt-BTSM-Undo-bug.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Steps I did during this log:\u003C/p\u003E\u003Cp\u003E1. Starte KSP, load BTSM sandbox game, enter VAB.\u003C/p\u003E\u003Cp\u003E2. Load small .craft with AGExt actions. Got \u0022AGX Load Action ambiguous. Count: 0 Module: BTSMModuleScienceExperiment BTSMDeployExperimentAction\u0022\u003C/p\u003E\u003Cp\u003E3. Note that AGExt slots 12, 13, and 14 have labels but no actions. Correct each of them to Expose 1 of the 3 Goo experiments. Save the file.\u003C/p\u003E\u003Cp\u003E4. Reload same small .craft file. Again got \u0022AGX Load Action ambiguous. Count: 0 Module: BTSMModuleScienceExperiment BTSMDeployExperimentAction\u0022\u003C/p\u003E\u003Cp\u003E5. Note that AGExt slots 12, 13, and 14 still have labels but no actions.\u003C/p\u003E\u003Cp\u003E6. Note that AGExt slots 1, 2, 3, 10, and 11 have labels and actions.\u003C/p\u003E\u003Cp\u003E7. Make a \u0022mistake\u0022 and accidentally pick off a landing leg. \u0022Realise my mistake\u0022, discard the landing leg I\u0027m holding, and type Ctrl-Z for Undo. Landing leg is back.\u003C/p\u003E\u003Cp\u003E8. Note that all previously assigned AGExt slots, 1, 2, 3, 10, and 11, now only have labels, no actions.\u003C/p\u003E\u003Cp\u003E9. Typing Ctrl-Y Redo removes the landing leg but those AGExt slots still only have labels, no actions.\u003C/p\u003E\u003Cp\u003E10. Reload same small .craft file. Was distracted and didn\u0027t note if there was an \u0022AGX Load Action ambiguous\u0022 message.\u003C/p\u003E\u003Cp\u003E11. Reload same small .craft file. Again got \u0022AGX Load Action ambiguous. Count: 0 Module: BTSMModuleScienceExperiment BTSMDeployExperimentAction\u0022\u003C/p\u003E\u003Cp\u003E12. Changed mode to Action Group. Type Ctrl-Y and then Ctrl-Z. No apparent change.\u003C/p\u003E\u003Cp\u003E13. Changed mode to Parts. Type Ctrl-Y and then Ctrl-Z. No apparent change in AGExt information.\u003C/p\u003E\u003Cp\u003E14. Removed bottom LV-420 engine and then replaced it. Type Ctrl-Y. No apparent change in AGExt information.\u003C/p\u003E\u003Cp\u003E15. Type Ctrl-Z. AGExt information all blanked except labels.\u003C/p\u003E\u003Cp\u003E16. Exit VAB, game, and KSP.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-28T00:02:44Z\u0022 title=\u002209/28/2014 12:02  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 28, 2014\u003C/time\u003E by Jacke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-27T23:30:18Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 1.17b\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E-Add BTSM actions support.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.17\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17 full .zip download (Install first.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7bWlBsQkxsUzF2REU/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17bb .dll file only, fix for Editor often not saving actions when you leave it. (Install second.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E@Jacke: This version will make it so the BTSM stuff works.\u003C/p\u003E\u003Cp\u003EThe undo stuff is new however, I can confirm that it is not working correctly and will look into it.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2014-09-28T01:05:13Z","Content":"\n\u003Cp\u003EGreat mod.\u003C/p\u003E\u003Cp\u003EI ran into a problem when I switched to 1.17. kOS no longer recognizes action group activation. I uninstalled this mod and kOS started recognizing them again, and I didn\u0027t have this problem before 1.17. Do you know why this might have happened with the latest update?\u003C/p\u003E\u003Cp\u003EBetter description: In kOS, I have a program with responses set up to activate on action group toggles using groups 1-10. When AGX 1.17 is installed, kOS never triggers any of those responses. When AGX 1.17 is uninstalled, kOS triggers them all just fine.\u003C/p\u003E\u003Cp\u003EBTW, I\u0027m using kOS 13.1 since 14 has problems with deleting half of my ships sometimes.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-28T01:31:59Z","Content":"\n\u003Cp\u003E@Wercho: AGX is an action group manager and so replaces the default KSP action groups and manages the actions directly. At the moment that means the KSP default groups never change state as AGX is taking care of it. Do you know which variable kOS is looking at? I can probably go ahead and set that for compatibility.\u003C/p\u003E\u003Cp\u003ENote that a major update to support kOS is coming in the next version or two. At the moment any kOS support is more due to luck then anything.\u003C/p\u003E\u003Cp\u003EAlso, I can\u0027t parse what this means:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EBTW, I\u0027m using kOS 13.1 since 14 has problems with deleting half of my ships sometimes. \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou mean half your assigned actions are lost?\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-28T01:44:59Z\u0022 title=\u002209/28/2014 01:44  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 28, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2014-09-28T01:43:20Z","Content":"\n\u003Cp\u003ENo, I don\u0027t know what variable kOS looks at, and I don\u0027t know C# so I don\u0027t know if I can be much help finding it myself.\u003C/p\u003E\u003Cp\u003EIt sounds like the fact that AGX is preventing the default KSP groups from toggling is the issue. I don\u0027t know if this is an easy fix or if it makes sense to just wait for the big compatibility update. You\u0027ve been doing a lot of work getting the save and load functionality of this working, so I don\u0027t want to put pressure on you. I\u0027ll ask over in the kOS thread and see if I can get some info about the variables it uses.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EYou mean half your assigned actions are lost?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I mean half the ship disappears. It a kOS / KSP load/save system issue, not a AGX issue. They\u0027re aware of it over on the kOS side.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-09-28T03:09:02Z","Content":"\n\u003Cp\u003E@Diazo the code we have for binding to action groups in kOS is here \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Binding/ActionGroups.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Binding/ActionGroups.cs\u003C/a\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    Vessel.ActionGroups.SetGroup(KSPActionGroup.Abort, true)\u003Cbr\u003E    Vessel.ActionGroups.SetGroup(KSPActionGroup.Custom01, true)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe code for this hasnt changed in quite some time so i cannot see it being a problem on our end.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-28T03:13:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003E@Diazo the code we have for binding to action groups in kOS is here \u003Cp\u003E\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Binding/ActionGroups.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/blob/develop/src/kOS/Binding/ActionGroups.cs\u003C/a\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    Vessel.ActionGroups.SetGroup(KSPActionGroup.Abort, true)\u003Cbr\u003E    Vessel.ActionGroups.SetGroup(KSPActionGroup.Custom01, true)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe code for this hasnt changed in quite some time so i cannot see it being a problem on our end.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was afraid of that. That is the code to activate groups via KSP\u0027s group manager and so KSP toggles the group state when that command is used. If I add that to AGX, actions will activate twice, once through KSP, once through AGX. \u003C/p\u003E\u003Cp\u003EI\u0027m pretty sure I need to set the Vessel.ActionsGroups enum directly, just have to remember the bit-wise logic to do that.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-28T03:49:22Z\u0022 title=\u002209/28/2014 03:49  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 28, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2014-09-28T03:25:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EVersion 1.17b\u003C/strong\u003E\u003Cp\u003E-Add BTSM actions support.\u003C/p\u003E\u003Cp\u003E@Jacke: This version will make it so the BTSM stuff works.\u003C/p\u003E\u003Cp\u003EThe undo stuff is new however, I can confirm that it is not working correctly and will look into it.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETested it out and indeed BTSM actions now saved. Thanks, Diazo.\u003C/p\u003E\u003Cp\u003EAt least with the Undo bug, if people are aware of it they may not suffer a gotcha from it.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-28T03:49:25Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 1.17c\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.17\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17 full .zip download (Install first.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7bU3FZMW8tdk5Nem8/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EVersion 1.17c .dll file only, kOS will now show state of groups 1-10 correctly. (Install second.)\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAdd Toggling of default KSP actions groups for compatability.\u003C/p\u003E\u003Cp\u003EThis is for the request from kOS as seen.\u003C/p\u003E\u003Cp\u003E@Jacke: Good to hear it. I know what is going on with the Undo, I just have to figure out a solution.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2014-09-28T04:46:48Z","Content":"\n\u003Cp\u003EWow, quick work.\u003C/p\u003E\u003Cp\u003EThis got me one step closer, but it is still missing something. If the action group isn\u0027t set to do anything (AGX has no actions tied to it), then the keypress still doesn\u0027t pass to kOS. If I set the action group to toggle something, then the keypress will pass to kOS. I\u0027m trying to use the action groups to pass info to kOS, because it doesn\u0027t have another form of active input currently, but I don\u0027t actually want to activate anything.\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003EAction group 1 - no actions set:\u003C/p\u003E\u003Cp\u003E1. Print ag1 in koS -\u0026gt; true\u003C/p\u003E\u003Cp\u003E2. Press \u00271\u0027\u003C/p\u003E\u003Cp\u003E3. Print ag1 in kOS -\u0026gt; true\u003C/p\u003E\u003Cp\u003EBut, action group 1 set to toggle a solar panel:\u003C/p\u003E\u003Cp\u003E1. print ag1 in kOS -\u0026gt; true\u003C/p\u003E\u003Cp\u003E2. press \u00271\u0027\u003C/p\u003E\u003Cp\u003E3. print ag1 in kOS -\u0026gt; false\u003C/p\u003E\u003Cp\u003EIt toggles correctly.\u003C/p\u003E\u003Cp\u003EIt works oddly if the action group is set to a non-toggle action, such as \u0027extend panel\u0027. Also you need to wait for the panel to fully extend or retract for the state change to go through correctly. For now, I can get around this by setting action groups 1-10 to an action that executes very quickly and isn\u0027t meaningful to the program I\u0027m running (like toggling temperature display).\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-09-28T13:49:20Z","Content":"\n\u003Cp\u003EHmm, that\u0027s a bigger deal. You are correct that if the group has no actions in AGX, AGX does not trigger that group state.\u003C/p\u003E\u003Cp\u003EIf there are no actions assigned to a group, I can\u0027t set that group state in KSP as that group does not exist in AGX. (In the code I work with actions as my basic unit of data, so a group does not exist until an action is assigned to it.)\u003C/p\u003E\u003Cp\u003EAt this point I\u0027ll have to ask you to wait until I do the kOS rewrite. I was able to get the previous tweak out so quickly because it was a single line of code I had to add, this is more complicated.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003EEditor UNDO Status Update:\u003C/p\u003E\u003Cp\u003EDefault behavior on the editor undo is that when a part is recreated via undo it is a fresh part with assigned actions lost (actions in the default 10 KSP groups). AGX currently mimics this behavior and any AGX actions on a part deleted and reset with undo has its actions lost. I will investigate this but will not promise anything.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-28T14:11:30Z\u0022 title=\u002209/28/2014 02:11  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 28, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"}]}