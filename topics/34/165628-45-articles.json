{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":45,"Articles":[{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2020-03-14T16:26:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223756527\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221584200658\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe way kOS handles it, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Evessel:position \u003C/span\u003Ereturns the center of mass. And the coordinate system is ship-centered, so for current vessel\u00A0 \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eship:position=v(0,0,0)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot the most obvious thing, but that\u0027s how it works\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you.\n\u003C/p\u003E\n\u003Cp\u003E\nInspired by your reply, I find\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EShip:Body:Position:Mag-Ship:Body:Radius\u003C/span\u003E can tell me the\u00A0altitude of mass center.\n\u003C/p\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2020-03-18T08:46:46Z","Content":"\n\u003Cp\u003E\nHas anyone know how to get moment of inertia about vessel? Thanks.\u003Cbr\u003E\nI find SHIP:ANGULARMOMENTUM and SHIP:ANGULARVEL but I get a strange results if I divide ANGULARMOMENTUM by ANGULARVEL.\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2020-03-22T05:14:40Z","Content":"\n\u003Cp\u003E\nI don\u0027t think there is any way of getting moment of inertia other than actually going through the calculation yourself.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for why dividing angular momentum and angular velocity doesn\u0027t work: Well, two reasons.\n\u003C/p\u003E\n\u003Cp\u003E\n1. Both of them are vectors, so the division operation doesn\u0027t make much sense unless they are collinear.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Moment of inertia is \u003Cem\u003Enot \u003C/em\u003Eactually a single value, it is a tensor. Basically a 3 x 3 symmetric matrix. The matrix is diagonalisable, but that still leaves you with potentially 3 different values.\n\u003C/p\u003E\n\u003Cp\u003E\nThe formula for calculating the tensor is simple enough. The problem is we (at least I) don\u0027t know how KSP models the distribution of mass. Whether you need to calculate a sum or an integration depends on that.\n\u003C/p\u003E\n"},{"CreatedByName":"Sebra","CreatedById":174461,"CreatedDateTime":"2020-03-29T09:37:26Z","Content":"\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI understand kOs made for 1.8.1 now. (1.8.9 in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nIn my 1.9.1 \u002B MH \u002B BG it works. But I have MADLAD message each start:\n\u003C/p\u003E\n\u003Cp\u003E\nMatched CC_RemoteTech to the whitelist. Suppressing error\u003Cbr\u003E\nMatched KerKonConConExt to the whitelist. Suppressing error\u003Cbr\u003E\n[ERR 12:08:16.011] kOS: Exception loading telnet config options: Root element is missing.\u003Cbr\u003E\n[ERR 12:08:16.016] kOS: Exception loading telnet config options: Root element is missing.\n\u003C/p\u003E\n\u003Cp\u003E\nI do not use telnet. Is it safe to just ignore message?\n\u003C/p\u003E\n\u003Cp\u003E\nWill this beautiful mod updated to 1.9.1 ?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks and best wishes!\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-03-29T17:34:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223762939\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585474646\u0022 data-ipsquote-userid=\u0022174461\u0022 data-ipsquote-username=\u0022Sebra\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Sebra said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI understand kOs made for 1.8.1 now. (1.8.9 in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nIn my 1.9.1 \u002B MH \u002B BG it works. But I have MADLAD message each start:\n\u003C/p\u003E\n\u003Cp\u003E\nMatched CC_RemoteTech to the whitelist. Suppressing error\u003Cbr\u003E\nMatched KerKonConConExt to the whitelist. Suppressing error\u003Cbr\u003E\n[ERR 12:08:16.011] kOS: Exception loading telnet config options: Root element is missing.\u003Cbr\u003E\n[ERR 12:08:16.016] kOS: Exception loading telnet config options: Root element is missing.\n\u003C/p\u003E\n\u003Cp\u003E\nI do not use telnet. Is it safe to just ignore message?\n\u003C/p\u003E\n\u003Cp\u003E\nWill this beautiful mod updated to 1.9.1 ?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks and best wishes!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe kOS DLL that was compiled for 1.8.1 also works fine with 1.9.1.\u00A0 SQUAD didn\u0027t make any changes that affected kOS between those version.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Telnet warnings are actually while trying to read the config file for kOS, and the config options related to telnet aren\u0027t being loaded right.\u00A0 Even if you don\u0027t use telnet, a failure to read one part of the config file correctly can still possibly break other config options that were meant to be loaded afterward.\u00A0 I suggest you remove kOS entirely and re-install it.\u00A0 This will lose your config options and you\u0027ll have to set them again, but should (I hope) get rid of that message.\n\u003C/p\u003E\n"},{"CreatedByName":"Sebra","CreatedById":174461,"CreatedDateTime":"2020-03-29T18:42:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223763079\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221585503284\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI suggest you remove kOS entirely and re-install it.\u00A0 This will lose your config options and you\u0027ll have to set them again, but should (I hope) get rid of that message.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for answer.\n\u003C/p\u003E\n\u003Cp\u003E\nIt is strange. I\u0027m sure reinstalled mod with many others before so was sure it will not help me. But message disappears mysteriously.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for support! I hope kOS will get KSP version updated here and in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2020-04-07T07:41:13Z","Content":"\n\u003Cp\u003E\nHi everyone,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIs it possible to use kOS to apply keyboard inputs into the flight screen?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 What I mean by this, is that I can set get kOS to set a manoeuvre node at say an AP after reaching a target apoapsis, but normally, instead of calculating it in kOS, I use Precise Manoeuvrer\u0027s hotkey function with * mapped to circularise.\u00A0 What I\u0027d like to do is get kOS to press the * for me, rather than scripting a calculation for the node.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks and Peace.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-04-08T00:45:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767326\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586245273\u0022 data-ipsquote-userid=\u0022122369\u0022 data-ipsquote-username=\u0022theJesuit\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, theJesuit said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIs it possible to use kOS to apply keyboard inputs into the flight screen?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 What I mean by this, is that I can set get kOS to set a manoeuvre node at say an AP after reaching a target apoapsis, but normally, instead of calculating it in kOS, I use Precise Manoeuvrer\u0027s hotkey function with * mapped to circularise.\u00A0 What I\u0027d like to do is get kOS to press the * for me, rather than scripting a calculation for the node.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks and Peace.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat doesn\u0027t exist, no.\u00A0 In fact it takes a lot of work to make kOS *not* send its keypresses to other mods.\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2020-04-08T01:06:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767719\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586306705\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat doesn\u0027t exist, no.\u00A0 In fact it takes a lot of work to make kOS *not* send its keypresses to other mods.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks.\n\u003C/p\u003E\n\u003Cp\u003E\nPeace.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-04-08T02:25:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767732\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586307995\u0022 data-ipsquote-userid=\u0022122369\u0022 data-ipsquote-username=\u0022theJesuit\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, theJesuit said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks.\n\u003C/p\u003E\n\u003Cp\u003E\nPeace.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just took a look at Unity\u0027s forums to see if this is even possible to implement and it doesn\u0027t look like it is.\u00A0 For Unity programs trying to stick to the cross-platform APIs, only Unity\u0027s underlying proprietary code is allowed to generate Unity keypress events.\u00A0 Apps written on top of Unity can only treat keyboard events as read-only, as far as I can tell.\u00A0 (The exception being if you\u0027re willing to violate the cross-platform environment by directly calling the OS-specific routines that slip underneath Unity, and basically making it an OS-specific mod, or maybe having to make several variants of the mod to install depending on OS.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2020-04-08T04:09:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223767760\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221586312736\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just took a look at Unity\u0027s forums to see if this is even possible to implement and it doesn\u0027t look like it is.\u00A0 For Unity programs trying to stick to the cross-platform APIs, only Unity\u0027s underlying proprietary code is allowed to generate Unity keypress events.\u00A0 Apps written on top of Unity can only treat keyboard events as read-only, as far as I can tell.\u00A0 (The exception being if you\u0027re willing to violate the cross-platform environment by directly calling the OS-specific routines that slip underneath Unity, and basically making it an OS-specific mod, or maybe having to make several variants of the mod to install depending on OS.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh well!\u003Cbr\u003E\u003Cbr\u003E\nI\u0027ve also had some fun adding a little piece of kOS coding to my launch and engine burn scripts with the 3.1\u002B versions of kerbalism which have engine failures.\u00A0 You learn to use launch clamps obviously but needing to add a powerdown sequence if things go awry.\u00A0 I has trying to do it manually, but kOS scripting is so much better!\n\u003C/p\u003E\n\u003Cp\u003E\nPeace.\n\u003C/p\u003E\n"},{"CreatedByName":"shibles","CreatedById":203869,"CreatedDateTime":"2020-04-09T04:50:24Z","Content":"\n\u003Cp\u003E\nNot sure if this has been talked about but I can\u0027t get the mod to work. I\u0027m not sure if its conflicting with current mods, but KSP won\u0027t load (it stays on loading screen saying \u0022Loading Expansions\u0022). I\u0027m running latest version (v1.9.1), and I have Infernal Robotics Next, Solaris Hypernautics, Near Future Propulsion, Near Future Solar, Near Future Launch Vehicle, Community Tech Tree, Kerbal Attachment System, Kerbal Inventory System, OPT, Kerbal Planetary Base Systems, SCANsat, and Tweakscale (sorry for the long list). Any known issues with any of these mods?\n\u003C/p\u003E\n\u003Cp\u003E\nThank you! I really hope I can get this mod working!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-09T19:39:15Z\u0022 title=\u002204/09/2020 07:39  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 9, 2020\u003C/time\u003E by shibles\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2020-04-17T16:49:55Z","Content":"\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EI found:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E// kOS 1.2.1 in KSP 1.9.1\u003Cbr\u003E\nLocal Function ppp {\u003Cbr\u003E\n\u00A0 \u00A0 Parameter a.\u003Cbr\u003E\n\u00A0 \u00A0 Set b to a\u002B5.\u003Cbr\u003E\n\u00A0 \u00A0 Local c to a\u002B6.\u003Cbr\u003E\n\u00A0 \u00A0 Print \u0022a is \u0022\u002Ba. //show: a is 10\u003Cbr\u003E\n\u00A0 \u00A0 Print \u0022b is \u0022\u002Bb. //show: b is 15\u003Cbr\u003E\n\u00A0 \u00A0 Print \u0022c is \u0022\u002Bc. //show: c is 30\u003Cbr\u003E\n\u00A0 \u00A0 Return True.\u003Cbr\u003E\n}\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003ELock a to 10.\u003Cbr\u003E\nLock b to 20.\u003Cbr\u003E\nLock c to 30.\u003Cbr\u003E\nppp( 40 ).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:Arial, Helvetica, sans-serif;\u0022\u003EIt looks that the LOCKED variable have priority over function PARAMETER and Local variable.\u003Cbr\u003E\nIs it bug? Thanks.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-17T16:55:39Z\u0022 title=\u002204/17/2020 04:55  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 17, 2020\u003C/time\u003E by Lookerksy\u003C/strong\u003E\n\u003Cbr\u003Ecorrect\n\u003C/span\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2020-04-22T21:26:11Z","Content":"\n\u003Cp\u003E\nGot a little time to waste so back to automatic station building.\n\u003C/p\u003E\n\u003Cp\u003E\nJust using stock with a few mods as I\u0027m using a weak laptop - so a simplified control system (no PID).\n\u003C/p\u003E\n\u003Cp\u003E\nOff with the first rocket.\n\u003C/p\u003E\n\u003Cp\u003E\nRecorded at 2 fps, replay at 60fps (I think)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://youtu.be/DnlGIPJBUAI\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://youtu.be/DnlGIPJBUAI\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-04-22T21:33:23Z\u0022 title=\u002204/22/2020 09:33  PM\u0022 data-short=\u00224 yr\u0022\u003EApril 22, 2020\u003C/time\u003E by ColKlonk2\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"theJesuit","CreatedById":122369,"CreatedDateTime":"2020-04-23T05:02:59Z","Content":"\n\u003Cp\u003E\nA question\u00A0on the string for the\u00A0KUniverse:QUICKSAVETO(name) where the name is the string.\n\u003C/p\u003E\n\u003Cp\u003E\nCan I set name to whatever I want like a combination of date and name of the craft? Or would I put SHIPNAME instead of the name it he quicksave function?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks,\n\u003C/p\u003E\n\u003Cp\u003E\nPeace.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-04-23T19:06:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223774710\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221587618179\u0022 data-ipsquote-userid=\u0022122369\u0022 data-ipsquote-username=\u0022theJesuit\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, theJesuit said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOr would I put SHIPNAME instead of the name it he quicksave function?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have read this sentence about 5 times and still can\u0027t understand what you were trying to ask.\u00A0 Can you phrase it differently?\n\u003C/p\u003E\n"},{"CreatedByName":"ColKlonk2","CreatedById":167493,"CreatedDateTime":"2020-04-26T18:28:37Z","Content":"\n\u003Cp\u003ESorry Steven,\u003Cbr\u003E\nWhat was the format of the DDS images again... Saw it somewhere but cannot find it again.\u003Cbr\u003E\u003Cbr\u003E\nThanks/\u003C/p\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2020-05-02T08:05:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223759542\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221584854080\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 3/22/2020 at 1:14 PM, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t think there is any way of getting moment of inertia other than actually going through the calculation yourself.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for why dividing angular momentum and angular velocity doesn\u0027t work: Well, two reasons.\n\u003C/p\u003E\n\u003Cp\u003E\n1. Both of them are vectors, so the division operation doesn\u0027t make much sense unless they are collinear.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Moment of inertia is \u003Cem\u003Enot \u003C/em\u003Eactually a single value, it is a tensor. Basically a 3 x 3 symmetric matrix. The matrix is diagonalisable, but that still leaves you with potentially 3 different values.\n\u003C/p\u003E\n\u003Cp\u003E\nThe formula for calculating the tensor is simple enough. The problem is we (at least I) don\u0027t know how KSP models the distribution of mass. Whether you need to calculate a sum or an integration depends on that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI find there has \u0022MOMENT_OF_INERTIA\u0022 (unit: kg*m^2) in kRPC Documentation.\u003Cbr\u003E\n(http://krpc.github.io/krpc/python/api/space-center/vessel.html)\u003Cbr\u003E\nIt means API including it.\u003Cbr\u003E\nMaybe it can be added into the next version kOS ?\u00A0(unit: ton*m^2)\n\u003C/p\u003E\n\u003Cp\u003E\nI admit it\u0027s difficult to calculate the moment of inertia of the vessel.\u003Cbr\u003E\nI designed experiment to measure different parts, but I can\u0027t explain all the result by formulas in physics textbook.\n\u003C/p\u003E\n\u003Cp\u003E\nIf there is a way to get the moment of inertia directly, there won\u0027t be so much trouble.\n\u003C/p\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-13T11:45:06Z","Content":"\n\u003Cp\u003E\nI found What I believe an errata in the github kOS doc site:\n\u003C/p\u003E\n\u003Cp\u003E\n(\u003Cspan style=\u0022font-size:10px;\u0022\u003Enot a problem for me... but then I eat c\u002B\u002B etc for breakfast, and know what a recursive descent parser and LL(1) is\u003C/span\u003E. \u003Cspan style=\u0022font-size:10px;\u0022\u003EOwn the dragon book etc.\u003C/span\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/collections/iterator.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/structures/collections/iterator.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe first code example sets\u00A0\n\u003C/p\u003E\n\u003Cpre style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan\u003ESET\u003C/span\u003E \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#1abc9c;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003E\u003Cspan\u003EMyCurrent\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E \u003Cspan\u003ETO\u003C/span\u003E \u003Cspan\u003EMyList\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EITERATOR\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut then in the print references to non existent variable \u003Cspan style=\u0022color:#c0392b;\u0022\u003EMyIter\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre style=\u0022margin-left:40px;\u0022\u003E\n\u003Cspan\u003EPRINT  \u0026lt;..elided..\u0026gt; \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003EMyIter\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EINDEX  \u0026lt;..\u0026gt; \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003EMyIter\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EVALUE .\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt appears to be a refactoring error.\n\u003C/p\u003E\n\u003Cp\u003E\nIts fine for people who already knew what iterators were,\u00A0 but newbs might cry a bit.\n\u003C/p\u003E\n\u003Cp\u003E\nI guess this is where they learn coding is like playing kerbals, explosions (during testing) are fine.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it don\u0027t make sense poke it.\n\u003C/p\u003E\n\u003Cp\u003E\nSorry if you\u0027d prefer this logged through github (I lost my login in the dark ages)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-05-13T16:57:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223784602\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221589370306\u0022 data-ipsquote-userid=\u0022204413\u0022 data-ipsquote-username=\u0022AxleGreaser\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, AxleGreaser said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI found What I believe an errata in the github kOS doc site:\n\u003C/p\u003E\n\u003Cp\u003E\n(\u003Cspan style=\u0022font-size:10px;\u0022\u003Enot a problem for me... but then I eat c\u002B\u002B etc for breakfast, and know what a recursive descent parser and LL(1) is\u003C/span\u003E. \u003Cspan style=\u0022font-size:10px;\u0022\u003EOwn the dragon book etc.\u003C/span\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/collections/iterator.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp-kos.github.io/KOS/structures/collections/iterator.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe first code example sets\u00A0\n\u003C/p\u003E\n\u003Cpre style=\u0022margin-left:40px;\u0022\u003E\n\n\u003Cspan\u003ESET\u003C/span\u003E \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#1abc9c;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003E\u003Cspan\u003EMyCurrent\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E \u003Cspan\u003ETO\u003C/span\u003E \u003Cspan\u003EMyList\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EITERATOR\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut then in the print references to non existent variable \u003Cspan style=\u0022color:#c0392b;\u0022\u003EMyIter\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre style=\u0022margin-left:40px;\u0022\u003E\n\n\u003Cspan\u003EPRINT  \u0026lt;..elided..\u0026gt; \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003EMyIter\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EINDEX  \u0026lt;..\u0026gt; \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u003Cem\u003E\u003Cstrong\u003EMyIter\u003C/strong\u003E\u003C/em\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan\u003E:\u003C/span\u003E\u003Cspan\u003EVALUE .\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt appears to be a refactoring error.\n\u003C/p\u003E\n\u003Cp\u003E\nIts fine for people who already knew what iterators were,\u00A0 but newbs might cry a bit.\n\u003C/p\u003E\n\u003Cp\u003E\nI guess this is where they learn coding is like playing kerbals, explosions (during testing) are fine.\n\u003C/p\u003E\n\u003Cp\u003E\nIf it don\u0027t make sense poke it.\n\u003C/p\u003E\n\u003Cp\u003E\nSorry if you\u0027d prefer this logged through github (I lost my login in the dark ages)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just made this an issue in github - thanks for bringing it to my attention.\n\u003C/p\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-14T01:23:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223779376\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221588406722\u0022 data-ipsquote-userid=\u0022117170\u0022 data-ipsquote-username=\u0022Lookerksy\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/2/2020 at 6:05 PM, Lookerksy said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI admit it\u0027s difficult to calculate the moment of inertia of the vessel.\u003Cbr\u003E\nI designed experiment to measure different parts, but I can\u0027t explain all the result by formulas in physics textbook.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIm curious, (AKA want to save myself repeating anything you\u0027ve done)\n\u003C/p\u003E\n\u003Cp\u003E\nWhat experiment?\n\u003C/p\u003E\n\u003Cp\u003E\n--------\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMy thinking\u003C/strong\u003E ....\n\u003C/p\u003E\n\u003Cp\u003E\nIf I consider an FLT800 tank (longest little one 360Liq/440Oxy) it has 3 axis of rotation that formulas about cylinders (of uniform? density) in physics text book might tell me about.\n\u003C/p\u003E\n\u003Cp\u003E\nabout its long axis, where its inertia should be (and by observation in the game) is lower.\u00A0 (as evidenced by 1 tank rockets spin faster/easier on their long axis.)\n\u003C/p\u003E\n\u003Cp\u003E\nabout either cross axis (pitch or yaw for std long rocket) that tank has more inertia.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd at that point text book formulas cease telling me anything (much)(as I really shouldn\u0027t assume uniform density?).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEgs: of things the formulas dont, and cant say. (\u003C/strong\u003Egiven the observable facts/measurements that we do have\u003Cstrong\u003E)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe tank when empty weighs less than when full, but its quite likely (IRL/TextBook) its inertia wont in any way be proportional to the decrease as the non fuel part of the mass is more likely skin of the tank and has more angular inertia per unit of mass as it is further from the center.\n\u003C/p\u003E\n\u003Cp\u003E\nIn general in KSP as we dont really know how the mass of any part is internally distributed we cant form firm conclusions about what inertia we expect it to have. (see unity and colliders below)\n\u003C/p\u003E\n\u003Cp\u003E\nWe do have general ones that are visually true such as tanks spin easier on the long rather than short axis. But TBMK thats it.\n\u003C/p\u003E\n\u003Cp\u003E\nWell that and they are 100% fully baffled and the fuel never runs to one end when part way full. (tanks float flat) (but for ang/inertia when say 10% Full, we dont know if the 5% is all at either end, all near the mid point or spread out such that each extra 10% of fuel adds the same amount of inertia on all three axis as the last. Lots of stuff is likely for simulation simplicity, none match what would be text book reality.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EEgs of things physics formulas (one of them) can say. \u003C/strong\u003E(and IMO is likely to be true in game)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022color:#2ecc71;\u0022\u003EThe parallel axis theorem tells us things\u003C/span\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://hyperphysics.phy-astr.gsu.edu/hbase/parax.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://hyperphysics.phy-astr.gsu.edu/hbase/parax.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWe (I) could even conceivably test if a reaction wheel actually generates the torgue it says is its max when I give it an input command (WASDQE),\n\u003C/p\u003E\n\u003Cp\u003E\nOR\n\u003C/p\u003E\n\u003Cp\u003E\nwhether even that is mediated by some PID somewhere meaning I don\u0027t always get max torque the KSP doc says can exist. (do they ease in?)(When i dont know stuff anything is possible)\n\u003C/p\u003E\n\u003Cp\u003E\nI can do that by constructing two ships with identical parts and then positioning the parts on one ship so the parts distance from the axis of rotation is different.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen i do that I get a known change in moment of inertia (according to theorem above), based only on knowing mass of part and distance of the parts \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E from the axis of rotation.\n\u003C/p\u003E\n\u003Cp\u003E\nBy adjusting that to a range of values I will get a range of in game measured inertias and a range of expected changes in inertia. The gradient of how much known numerical changes in inertia effected angular acceleration ought to agree with the torque we thought we (the part) applied. Also the Y intercept with zero offset will be the angular inertia of the parts around their own axis.\n\u003C/p\u003E\n\u003Cp\u003E\n(and just because kerbals... and rockets explode, we could put rockets (of known thrust) on pinwheel arms and apply known force F and radius R. Although we might find we rapidly needed to know Young\u0027s modulus of the parts/connections as well. And wouldn\u0027t that be a shame.)\n\u003C/p\u003E\n\u003Cp\u003E\nand note how that does not rely on me assuming the torque parts do what the torque parts say they can do. As I don\u0027t know for sure if they always do that.\n\u003C/p\u003E\n\u003Cp\u003E\nIn my observation, \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E for instance appears (to my eyes) to have the torque parts exert variable torque depending on its internal PIDs logic state. I might be imagining the last part Ive never measured the angular acceleration of a ship \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is controlling.\n\u003C/p\u003E\n\u003Cp\u003E\n------\n\u003C/p\u003E\n\u003Cp\u003E\nlastly an Idea Ive just been having, 3 parallel FLT800 tanks with only enough fuel for 1. By transferring fuel from middle tank to both outrigger tanks at a known from precise edit distance from the central tank that gives me known variable amount of extra inertia. I could then measure how much extra inertia in kgm I need in order to compensate for removing the part I wanted to measure the axial inertia of.\n\u003C/p\u003E\n\u003Cp\u003E\nThat there are shed load of parts. Everyone of which would require (3 axis *) 1 \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E and 1 hyper edit 1 spin it up measurement, 1 exit ship and disassemble part, a new spin it up and measure how much fuel needs to be transferred to get the same moment of inertia. Seems like a huge grind, more than when I made ground relay token ring network. (with 100.00% occlusion by sea level)(relay networks see through mountains and terrain.)\n\u003C/p\u003E\n\u003Cp\u003E\nApproaching it as an IT problem rather than kerbal science.\n\u003C/p\u003E\n\u003Cp\u003E\nId be guessing underlying unity stuff like this\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://docs.unity3d.com/ScriptReference/Rigidbody.ResetInertiaTensor.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://docs.unity3d.com/ScriptReference/Rigidbody.ResetInertiaTensor.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nis where it all comes from, so it \u0026gt;may\u0026lt; be feasible kOS could be changed to ask unity what the inertia tensor of a part is...\u003Cbr\u003E\nphysics-less parts and perhaps the MKS one that can even out lopsided attached loads, might/likely do weird stuff.\n\u003C/p\u003E\n\u003Cp\u003E\n(edit as per previous post, \u003Ca href=\u0022https://krpc.github.io/krpc/python/api/space-center/vessel.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://krpc.github.io/krpc/python/api/space-center/vessel.html is where KSP exposes such a thing.) \u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMy conclusion\u003C/strong\u003E.....\n\u003C/p\u003E\n\u003Cp\u003E\nMoar torque, have enough torque that i don\u0027t need to think too much about predicting how long a vessel will take to rotate. (ignore that i don\u0027t know ang inertia, fix that in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E.)\u003Cbr\u003E\nAKA flight plans don\u0027t.... horizontal suicide burn (zero out horizontal surface V) @ 20m height/periapsis off the ground then try to rotate and suicide burn the 20m fall.\u00A0 or whatever height makes that \u0022practical\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nalthough .... Jeb has twinkling in his eye now. 5g single engine Suicide burn landing.... under the mun arch..... probably needs vernor engines to rotate fast enough(no \u003Cabbr title=\u0022Vertical Take-Off and Landing\u0022\u003EVTOL\u003C/abbr\u003E).\n\u003C/p\u003E\n\u003Cp\u003E\n\u0027Bill\u0027 on the other hand wants to \u0027land\u0027 on the under surface of the arch.\n\u003C/p\u003E\n\u003Cp\u003E\nme: Bloody kerbals.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-14T02:56:13Z\u0022 title=\u002205/14/2020 02:56  AM\u0022 data-short=\u00224 yr\u0022\u003EMay 14, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-19T09:44:54Z","Content":"\n\u003Cp\u003E\nI have a weird vecDraw problem. \u00A0 (and its one that i perhaps have a \u003Cstrong\u003EKludge\u003C/strong\u003E to get past?)\n\u003C/p\u003E\n\u003Cp\u003E\nAnd second as I am using\u00A0 KSP 1.9.1, that may be the entire problem...\n\u003C/p\u003E\n\u003Cp\u003E\nbut what Id like is any clues on anything else that might be a bug of mine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eor\u003C/strong\u003E advice on what a patterns of writing code make reliable persistent thunks for vecDraws.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003Eor\u003C/strong\u003E if my problem is there what can make the Vecdraws themselves robustly persistent.\n\u003C/p\u003E\n\u003Cp\u003E\n======================\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EKludge:\u003C/strong\u003E See the code snippet below....\u00A0 If instead of creating the VecDraws in the process of adding them to the list...\n\u003C/p\u003E\n\u003Cp\u003E\n(copied as a technique from the bounding box example off the doc website)\n\u003C/p\u003E\n\u003Cp\u003E\nIf I first assign them to a local variables (v1 \u0026amp; v2) then listVecs:add(v1), listVecs:add(v1) them to the list it all works fine again...\n\u003C/p\u003E\n\u003Cp\u003E\nGoing via a local variable of limited scope \u0027ought to\u0027 make no difference. but one \u0027works\u0027 and one doesn\u0027t.\n\u003C/p\u003E\n\u003Cp\u003E\n(im expecting that i hate intelligent garbage collection, and yearn for my c\u002B\u002B levels of control.)\n\u003C/p\u003E\n\u003Cp\u003E\n=======================\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EWhere the problem is NOT\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAll the math/geometery is fine, when It draws the vectors they are in the right places. but after number of seconds they tend to just disappear. And whichever one i construct first seems flakier than the last one.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIts like something it is doing a garbage cleanup and taking my vect draws. (sometimes after 8 or even more seconds of stability)\n\u003C/p\u003E\n\u003Cp\u003E\nEither that or me using Geocoordinates:AltitudePosition(0) in the call backs (thunks) is naughty?\n\u003C/p\u003E\n\u003Cp\u003E\n========\n\u003C/p\u003E\n\u003Cp\u003E\nWhat Im doing\n\u003C/p\u003E\n\u003Cp\u003E\nGoal/use case.\n\u003C/p\u003E\n\u003Cp\u003E\nI am drawing some very long vectors (\u0026gt;20000m) (I am using them to show the limits of where in space can be accessed by coms from ground based relay landed on a mountain. (note 1) hence I am drawing a line tangent to the 600km sea level kerbin Ball. And doing so in the navigation direction of the \u0022ship:position\u0022, but starting at the mountain top relay.\n\u003C/p\u003E\n\u003Cp\u003E\nlots of vector math yadda yadda. Then I store the geocoordinate of the tangent point in the global variable\u00A0 TangMid (as it stores lat long) I can recover position vectors later in the VecDraw call back.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the code snippet below\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EGlobal Tanglen\u003C/strong\u003E is how long a vec to drawn in green before the tangent, and then red vector is drawn after the tangent. In the use case story, if the red Vec intersects a second mountain then I can put relay up there and the two ground stations can see one another.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy code looks in part like this\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 ListVecs:Add( VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangMid:AltitudePosition(0) - Tanglen * (TangMid:AltitudePosition(0) - Relaybeacon:position):normalized. }, {return Tanglen * (TangMid:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(0,1,0), \u0022TangVec G\u0022, 1, true, 12,false,false)).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add( VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangMid:AltitudePosition(0).}, {return 40000 * ( TangMid:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(1,0,0), \u0022TangVec R\u0022, 1, true, 12,false,false)).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003ERelayBeacon\u003C/em\u003E is Global was set to a named\u00A0\u00A0 \u003Cstrong\u003E\u003Cem\u003Evessel(\u0022nameOfMoutainTopRelay\u0022)\u003C/em\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nListVecs is a global list() where I keep the vecDraws and then can later go through and show or not show them.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI also have code so i can turn the vecs on and off slaved to Lights = on/off.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I go through and set Show=true on every Vec in the ListVecs\u00A0 (both vecs) only the last one actually seems to appear.\n\u003C/p\u003E\n\u003Cp\u003E\nif I cause a recalc of the vectors (toggle \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to do so) Then both appear intially. But if I turn the show off on both and back on only the second one comes back.\n\u003C/p\u003E\n\u003Cp\u003E\nI print out the label of each vecDraw as I set show to true, so I know, \u003Cu\u003Efor sure\u003C/u\u003E that, I turned them on.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSometimes the one that does display simply blinks out. if it does and I turn show =false then show = true again , I can usually get it to come back.\n\u003C/p\u003E\n\u003Cp\u003E\nThus It still exists, but something just forgot(?) about it.\n\u003C/p\u003E\n\u003Cp\u003E\nNote the vecs I am drawing do start and end kms away from where the ship is... so if there is some scoping algorithm to decide whats irrelvant, perhaps Im falling foul of that. (but all effects described are visible when zoomed way way out. And the kludge effect of inserting the local variables seems very weird.\n\u003C/p\u003E\n\u003Cp\u003E\n============================\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(note 1) Don\u0027t ask why for ground relays? I know the game is about space. I am building token ring (full loop) ground relay network around the equator because i can....\u00A0 Id did it once cave man (orienteering and dead reckoning to place the relays). Now I am trying it again but using KOS as a surveying tool.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2020-05-19T18:56:32Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022204413\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0022 rel=\u0022\u0022\u003E@AxleGreaser\u003C/a\u003EThere\u0027s just not enough information to know what you\u0027re talking about.\u00A0 Too much guesswork about what the rest of your code is doing that isn\u0027t shown.\n\u003C/p\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-20T00:43:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223787802\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221589914592\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022204413\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/204413-axlegreaser/\u0022 rel=\u0022\u0022\u003E@AxleGreaser\u003C/a\u003EThere\u0027s just not enough information to know what you\u0027re talking about.\u00A0 Too much guesswork about what the rest of your code is doing that isn\u0027t shown.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlso ... if there is no help with what I can get as clarity of my issue so far, that is fine. My Kludge works. (no kerbals died relays got surveyed \u0026amp;\u0026amp; laid). Eventually I will get it tracked down and better isolated (smaller kOS program), or I will read the kOS source code, or kOS will get updated to certainly work with 1.9.1 an any changes to GC and then my Kludge problems will go away.\n\u003C/p\u003E\n\u003Cp\u003E\n==============\n\u003C/p\u003E\n\u003Cp\u003E\nAs all the vector computations are valid and work and produce the right result. (when my ought to do nothing local variable kludge is present)\n\u003C/p\u003E\n\u003Cp\u003E\nId have thought that The VecDraw (as described) call back getting it ALL data from global variables holding geoccordinates, a ship:position vector and other global variables holding scalar/float constants. (EG length)\n\u003C/p\u003E\n\u003Cp\u003E\nEspecially when coupled with the fact that the vectors sometimes just blink out. (and the implied: no my code doesn\u0027t have other rogue loops/triggers turning say visibility on and off, (don\u0027t exist) and that I made sure the only code that ever messed with vectDraw:Show was paired with code printing what it did.\u003Cbr\u003E\nAlso coupled with the knowledge that my kludge (assigning the vecDraw to local variable makes it work) whereas putting it directly into the List:Add( ) makes it not. Which pretty much means the rest of my code is valid? And there must be something about assigning to local variable before the putting it in list that is different to just putting it in the list directly.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso as stated that modifying code so that it stores vecDraws in (otherwise unused) local variables or not makes the bug appear or disappear, would i thought be rather characterising of whats going on.\n\u003C/p\u003E\n\u003Cp\u003E\nAKA I thought Id covered the rest of my code with where the problem is not. And that it does draw the vecs in the right places, when it does draw them and that sometimes even though theyd been put there then they just blinked out.\n\u003C/p\u003E\n\u003Cp\u003E\n============================\n\u003C/p\u003E\n\u003Cp\u003E\nbut sure if it would make it easier, and\u00A0 youd like to see more of it its here.\n\u003C/p\u003E\n\u003Cp\u003E\nBut note even that not quite all of it is as I also use a debug boot loader to load this pop open a terminal and run this script, so that\u00A0 revert to launch reloads edits made on my hard disk.\n\u003C/p\u003E\n\u003Cp\u003E\nI am not against also uploading those but they seem too far.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThis comment was added to the code in the spoiler. (not compiled or run)\n\u003C/p\u003E\n\u003Cp\u003E\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\u003C/p\u003E\n\u003Cp\u003E\n// This is my kludge version that works.\u00A0 (removing variable v1 ... v6 and assigning VecDraws diretcly to List() does not.\n\u003C/p\u003E\n\u003Cp\u003E\n// When i change it and dont store the VecDraws in local variables first it fails to display all the VecDraws.\n\u003C/p\u003E\n\u003Cp\u003E\n// TBMK it \u0022ought to\u0022 be 100% true that using or not using lcoal vars should make no difference at all.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:983.1px;height:4670.4px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022height:5664px;width:2351px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:53.5px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:30.6667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:76.8333px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:41.7667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:89.5px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:43.4167px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:31.4833px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:28.6667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:28.6667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:51.95px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:29.9667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:28.6667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:24.65px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:48.4667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:36.8167px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:10.3333px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:28.1667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:42.8667px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:29.7333px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:25.2333px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:10.3333px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv style=\u0022width:45.95px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:983.1px;height:4670.4px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv style=\u0022width:auto;height:auto;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv title=\u0022Found 22 errors in text\u0022\u003E\n22\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n// This code assists Planes laying Ground Relays\n\u003C/p\u003E\n\u003Cp\u003E\n/////////////////////\u003Cbr\u003E\n// Draws vectors from selected Craft as if it is a ground Relay.\u003Cbr\u003E\n// Green no more than last 20 km From craft to ITS spherical horizon, Then Red past that point for 20 more km.\u003Cbr\u003E\n// Darker colors for another Vect 1km left and right\u003Cbr\u003E\n//\u003Cbr\u003E\n// When Lights are on Vec Draws are displayed\u003Cbr\u003E\n// When \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E is switched on curent plane position is set as the direction.\u003Cbr\u003E\n// and the complex reclacs are done once.\u003Cbr\u003E\n//\n\u003C/p\u003E\n\u003Cp\u003E\nrunoncepath( \u00220:/lib/IPUSpeedStack.ks\u0022 ).\u00A0\u00A0 // Libary code for Sets UP Speed higher.\u003Cbr\u003E\n// Called with PushUpIPU(500).\n\u003C/p\u003E\n\u003Cp\u003E\nglobal Done is false.\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal RelayName is \u0022Wizz\u0022.\u003Cbr\u003E\nGlobal RelayBeacon is 0.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nfunction GetRelay {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0if HasTarget {\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set RelayBeacon to Target.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set RelayName to Target:Name.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u00A0 else {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set RelayBeacon to Vessel(RelayName).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0return Relaybeacon.\u003Cbr\u003E\n}\u003Cbr\u003E\nGetRelay().\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal SurfaceTangentTolerance is 0.1.\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal ListVecParams is list().\u003Cbr\u003E\nGlobal ListVecs is list().\u003Cbr\u003E\nGlobal VecsShown is false.\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal Recalc is true.\n\u003C/p\u003E\n\u003Cp\u003E\nfunction ShowVecs {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0return lights = true AND ListVecs:length \u0026gt; 1.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n///////////////////////////////////////\u003Cbr\u003E\n//\u00A0 Find geoloc in direction of pos on Horizon\u003Cbr\u003E\n//\u003Cbr\u003E\nfunction FindTangent {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0declare parameter\u00A0 Tpos.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 global RBpos is RelayBeacon:position.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0global DirVec is Tpos-RBPos.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// vector towards Tpos that is paralle to ground at Relay.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local hVec is VECTOREXCLUDE(Relaybeacon:Up:FOREVECTOR,DirVec).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local RR is\u00A0 (RBpos - ship:Body:position):mag.\u00A0 // distance of relay to COPlanet\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local CosAng is (Ship:Body:radius \u002B SurfaceTangentTolerance ) / RR. // cos of angle to Tangent point.\n\u003C/p\u003E\n\u003Cp\u003E\n//\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0print \u0022RalyR\u0022 \u002B RR \u002B \u0022CosAng \u0022 \u002B CosAng.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local TanAng is sqrt(1-CosAng*CosAng) / CosAng.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local DistToTangentHigh is TanAng * RR.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// Should be position on Body at zero alt.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local PosTang is\u00A0 RBpos \u002B DistToTangentHigh * hVec:normalized.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// PosTang is UP High but it is Over The target\n\u003C/p\u003E\n\u003Cp\u003E\n//\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Print \u0022DTTH \u0022 \u002B DistToTangentHigh.\u003Cbr\u003E\n//\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0Print \u0022sanity check\u00A0 0 =\u00A0 \u0022 \u002B ((PosTang- ship:Body:position):mag - Ship:Body:radius).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0global TangCoord is Ship:Body:GEOPOSITIONOF(PosTang).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0return TangCoord.\u00A0 // This geo position of Comms tangent\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nfunction vecListFlip {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0parameter L.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0parameter Shown.\n\u003C/p\u003E\n\u003Cp\u003E\n// These two prints make sure none of my code was actually due to a my bug turning the vecs on and off in way I didnt notice\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0Print \u0022vecs shown \u0022 \u002B Shown.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0local Vcs is 0.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0for Vcs in L {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Vcs:show to Shown.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 print \u0022vecs\u0022 \u002B Vcs:label \u002B \u0022 = \u0022 \u002B Vcs:show.\n\u003C/p\u003E\n\u003Cp\u003E\n// When the vecdraw blinks off this line of code DID not just execute.\u003Cbr\u003E\n// This line of code ONLY excutes and prints when i mean it to, and it si not causing the lack of visibile vetcors\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nglobal TangMid is kerbin:GEOPOSITIONLATLNG(0,0).\u003Cbr\u003E\nGlobal TangLen is 0.\u003Cbr\u003E\nglobal TangLeft is kerbin:GEOPOSITIONLATLNG(0,0).\u003Cbr\u003E\nglobal TangRight is kerbin:GEOPOSITIONLATLNG(0,0).\n\u003C/p\u003E\n\u003Cp\u003E\nfunction MakeLabel {\u003Cbr\u003E\n\u00A0\u00A0 parameter Which.\u003Cbr\u003E\n\u00A0\u00A0 return \u0022\u0022.\u00A0\u00A0 // This line of code Can have label name in\u00A0 returning \u0022vector \u0022 \u002B Which when iwant to see the labels.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 // Ive also tested the code with string literals as the label for each vector.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nfunction RecalcVecs {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set TangMid to FindTangent(Ship:position).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local TangDir is (TangMid:AltitudePosition(0) - Relaybeacon:position).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local TangDist is TangDir:mag.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0// length of vector before tangent (not long than actual dist to tangent.)\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set Tanglen to min( TangDist, 60000).\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local uTangUpV is (TangMid:position - Relaybeacon:Body:position):normalized.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local uRV is vcrs(uTangUpV,TangDir):normalized.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0// Put the lines 1km apart unless we are quite close to the Relay as is super low.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local tangWidth is max( 500, TangDist/10).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local tangpos is TangMid:AltitudePosition(0).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set TangRight to FindTangent(tangpos \u002B tangWidth * uRV).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set Tangleft to FindTangent(tangpos - tangWidth * uRV).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0vecListFlip(ListVecs, false). //turn them off and wipe therm\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:clear().\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0//make new ones\u003Cbr\u003E\n\u00A0\u00A0 \u00A0//Print \u0022Adding vecDraws\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\u003C/p\u003E\n\u003Cp\u003E\n// This is my kludge version that works.\n\u003C/p\u003E\n\u003Cp\u003E\n// When i change it and dont store the VecDraws in local variables first it fails to display all the VecDraws.\n\u003C/p\u003E\n\u003Cp\u003E\n// TBMK it \u0022ought to\u0022 be 100% true that using or not using lcoal vars should make no difference at all.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0local v1 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangMid:AltitudePosition(0).}, {return 140000 * ( TangMid:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(1,0,0), MakeLabel(\u0022MR\u0022) , 1, true, 4,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0 local v2 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangMid:AltitudePosition(0) - Tanglen * (TangMid:AltitudePosition(0) - Relaybeacon:position):normalized. }, {return Tanglen * (TangMid:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(0,1,0), MakeLabel(\u0022MR\u0022), 1, true, 4,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v1).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v2).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 local Colr is 0.6.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local Bl is 0.5.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0local v3 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangLeft:AltitudePosition(0).}, {return 120000 * ( TangLeft:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(Colr,0,Bl), MakeLabel(\u0022LR\u0022), 1, true, 2.0,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0 local v4 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangLeft:AltitudePosition(0) - Tanglen * (TangLeft:AltitudePosition(0) - Relaybeacon:position):normalized. }, {return Tanglen * (TangLeft:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(0,Colr,Bl), MakeLabel(\u0022LG\u0022), 1, true, 2.0,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v3).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v4).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0local v5 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangRight:AltitudePosition(0).}, {return 120000 * ( TangRight:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(Colr,0,Bl), MakeLabel(\u0022RR\u0022), 1, true, 2.0,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0 local v6 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0 {return TangRight:AltitudePosition(0) - Tanglen * (TangRight:AltitudePosition(0) - Relaybeacon:position):normalized. }, {return Tanglen * (TangRight:AltitudePosition(0) - Relaybeacon:position):normalized.}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0,\u00A0\u00A0 \u00A0RGB(0,Colr,Bl), MakeLabel(\u0022RG\u0022), 1, true, 2.0,false,false).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v5).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0ListVecs:Add(v6).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0//vecListFlip(ListVecs, true).\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nset lights to true.\u003Cbr\u003E\nset \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E to true.\u003Cbr\u003E\nset brakes to true.\u003Cbr\u003E\nPushUpIPU(500).\n\u003C/p\u003E\n\u003Cp\u003E\nuntil Done {\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 if ( lights = true) {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E = true {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if recalc = true {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // Print \u0022doing recalc\u0022.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0GetRelay().\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0RecalcVecs().\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set recalc to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if VecsShown = false {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0vecListFlip(ListVecs, true). //turn them off and wipe therm\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set VecsShown to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0else {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0 if VecsShown = true {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0vecListFlip(ListVecs, false). //turn them off and wipe therm\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set VecsShown to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0if \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E = true {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0//\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0print \u0022recalc Is true\u0022.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set recalc to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0}\n\u003C/p\u003E\n\u003Cp\u003E\n//\u00A0\u00A0 \u00A0Print TangMid \u002B \u0022/\u0022 \u002B Tanglen.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0// print ListVecs.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0wait 1.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nclearvecdraws().\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-20T02:25:52Z\u0022 title=\u002205/20/2020 02:25  AM\u0022 data-short=\u00224 yr\u0022\u003EMay 20, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003Cbr\u003Eclarity\n\u003C/span\u003E\n"},{"CreatedByName":"AxleGreaser","CreatedById":204413,"CreatedDateTime":"2020-05-22T08:35:20Z","Content":"\n\u003Cp\u003E\nSo My VecDraw code got refined. (and works reliably)\n\u003C/p\u003E\n\u003Cp\u003E\nI only use this design pattern now.\n\u003C/p\u003E\n\u003Cp\u003E\nPattern: Vectors are only ever created as Globals and they are only done so once. If i want them not visible for now I set show=false.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I might well put all the individually named Global VecDraws in a list so I can find all the Shows to set to false. But the vec Draws were made and assigned Globally.\n\u003C/p\u003E\n\u003Cp\u003E\nThe anonymous call Backs { } in them refer to Global variables that define what I want drawn in terms of whatever frame of reference I want them to be stationary in. hence in my ground station relay surveying code I use geocoordinates to say where on the planet (lat long) to draw the vectors. And the Globally defined VecDraws know how to do that starting from the \u0027cached\u0027 geocoordinates (\u002Blimited (hence fast)math).\n\u003C/p\u003E\n\u003Cp\u003E\nmeanwhile.... I have this essential Program (in the spoiler below), probably most useful for submarines and they all obviously require \u0022Frickin lasers\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd Jeb insists all the Rockets he flies has one out the front. He claims it makes them aerodynamicky, Bill thinks he just wants reminder which way hes going.)\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough Bill does insist it useful and is a Ruler and useful for guiding base construction and layout.\n\u003C/p\u003E\n\u003Cp\u003E\nAlthough he does warn that utlizing \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E, \u002B MKS FlexoTubes to build Reeeeeeeeally tall Coms towers (to see over ocean straits) with their \u003Cabbr title=\u0022Center of Mass\u0022\u003ECOM\u003C/abbr\u003E \u0026gt; 100m\u00A0 above ground/sea level summons *lots* of krakens. And that once yet get one upright Flying within physics load distance ever again is perhaps unwise. Get it landed and on rails and then never touch it again.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Addendum: A somewhat improved multifunction ruler. It can now auto redock pipes in bases is they get unglued by \u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E operations.\n\u003C/p\u003E\n\u003Cp\u003E\nThere exist large physical designs where undocking thing turns off auto struts and everything goes bang, hence the need for instant auto redocking.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen building more than say 100m tall on kerbin these things become critical....\u00A0 \u003Cspan\u003E:O\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1489.8px;height:260.4px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022height:1356px;width:3426px;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:50.0167px;height:17px;\u0022\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv style=\u0022width:1489.8px;height:260.4px;border:0px none;padding:0px;margin:0px;\u0022\u003E\n\u003Cdiv style=\u0022width:auto;height:auto;\u0022\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv\u003E\n\u003Cdiv title=\u0022Found 1 error in text\u0022\u003E\n1\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n// Making sure the boot loading code localised this on the HD is highly advised if useing it to build \u0022Coms towers\u0022 out of contact with \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nClearvecDraws().\u00A0 //does this mess up multiple rulers?\u003Cbr\u003E\nset CONFIG:IPU to 500.\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal TagName is \u0022Plumb\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n// TAGBits is global set up by the bootloading code that parsed the processors tag with _ seperators.\u003Cbr\u003E\n// These later tag bits let the ruler be controlled.\u003Cbr\u003E\n// The earlier tag bits defined that the ruler code ought to get loaded \u00A0\u003Cbr\u003E\nif TagBits:length \u0026gt; 3 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set TagName to TagBits[3].\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal DocStuff is false.\u003Cbr\u003E\nGlobal DocName is \u0022Dont\u0022.\u003Cbr\u003E\nif TagBits:length \u0026gt; 4 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set DocName to TagBits[4].\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set DocStuff to true.\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal PlumbPart is core:part.\u003Cbr\u003E\nlocal MyPartList to SHIP:PARTSDUBBED(TagName).\u003Cbr\u003E\nif MyPartList:length \u0026gt;0 {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0set PlumbPart to MyPartList[0].\u003Cbr\u003E\n}\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nGlobal RulerLength is 50.\u003Cbr\u003E\nGlobal RulerLabel is \u002250m\u0022.\u003Cbr\u003E\nGlobal Rulervec1 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 { return PlumbPart:position - PlumbPart:facing:forevector * RulerLength. }, { return PlumbPart:facing:forevector * 2*RulerLength.\u00A0 }\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 ,\u00A0\u00A0\u00A0 RGB(1,0,0), RulerLabel , 1, true, 0.05,false,false).\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal Rulervec2 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 { return PlumbPart:position - PlumbPart:facing:starvector * RulerLength.. }, { return PlumbPart:facing:starvector * 2*RulerLength.\u00A0 }\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 ,\u00A0\u00A0\u00A0 RGB(1,0.5,0), RulerLabel , 1, true, 0.05,false,false).\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal Rulervec3 is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 { return PlumbPart:position - PlumbPart:facing:topvector * RulerLength.. }, { return PlumbPart:facing:topvector * 2*RulerLength.\u00A0 }\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 ,\u00A0\u00A0\u00A0 RGB(1,0,0.5), RulerLabel , 1, true, 0.05,false,false).\n\u003C/p\u003E\n\u003Cp\u003E\nGlobal PlumbLength is 200.\u003Cbr\u003E\nGlobal RulerLabel is \u002250m\u0022.\u003Cbr\u003E\nGlobal Plumbvec is VecDraw (\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 { return PlumbPart:position -Ship:Up:forevector * PlumbLength \u002B (Ship:North:forevector * 0.05). }, { return Ship:Up:forevector * PlumbLength * 2.\u00A0 }\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 ,\u00A0\u00A0\u00A0 RGB(0,1,0), RulerLabel , 1, true, 0.05,false,false).\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\nGlobal Done is false.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\nlocal waitTime is 0.1.\n\u003C/p\u003E\n\u003Cp\u003E\nlocal mods is 0.\u003Cbr\u003E\nlocal MyPartsList is 0.\u003Cbr\u003E\nlocal AMods is 0.\u003Cbr\u003E\nlocal pts is 0.\u003Cbr\u003E\nuntil Done {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set WaitTime to 0.1 .\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E = false {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec1:show to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec2:show to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec3:show to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Plumbvec:show to false.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0} else {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec1:show to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec2:show to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Rulervec3:show to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set Plumbvec:show to true.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if DocStuff {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set MyPartList to SHIP:PARTSTAGGEDPATTERN(DocName).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0for pts in MyPartList { //These parts are probablystill in the ships part list....\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set AMods to pts:Modules.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// wait 0.5.\u00A0\u00A0 \u00A0// This when uncommented helps find race condtions on parts going phooey.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if pts:hasModule(\u0022KASLinkSourceInteractive\u0022) {\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0PRINT \u0022TEST Source \u0022 \u002B pts:tag.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set mods to pts:getmodule(\u0022KASLinkSourceInteractive\u0022).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if mods:hasEvent(\u0022link mode: undocked\u0022) {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if pts:Ship = Ship {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0mods:doEvent(\u0022link mode: undocked\u0022).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0// wait 0.1.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0HUDTEXT(Ship:Name\u00A0 \u002B \u0022Src Link = \u0022 \u002B pts:tag,\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A05, 2, 12, magenta, true).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0 // else { \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0HUDTEXT(Ship:Name\u00A0 \u002B \u0022barf \u0022,\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A05, 2, 12, magenta, true). }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0 set waitTime to 0.1 . //shorten wait time to 1 tick?\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0 // do I I should I wait even after the dock?\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0 // Where be the most Krakens\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if pts:hasModule(\u0022KASLinkTargetBase\u0022) {\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0PRINT \u0022TEST Target \u0022 \u002B pts:tag.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set mods to pts:getmodule(\u0022KASLinkTargetBase\u0022).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if mods:hasEvent(\u0022link mode: undocked\u0022) {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0if pts:Ship = Ship {\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0mods:doEvent(\u0022link mode: undocked\u0022).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0//wait 0.1.\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0HUDTEXT(Ship:Name\u00A0 \u002B \u0022 Targ Link = \u0022 \u002B pts:tag,\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A05, 2, 12, magenta, true).\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0} // else { \u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0HUDTEXT(Ship:Name\u00A0 \u002B \u0022barf \u0022,\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A05, 2, 12, magenta, true). }\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0set waitTime to 0.1 . //shorten wait time to 1 tick?\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0 // do I I should I wait even after the dock?\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0 // Where be the most Krakens\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u003Cbr\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\u00A0\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0//print \u0022tick\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 wait waitTime.\u003Cbr\u003E\n}\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0 \u00A0\u00A0\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-05-26T07:28:38Z\u0022 title=\u002205/26/2020 07:28  AM\u0022 data-short=\u00224 yr\u0022\u003EMay 26, 2020\u003C/time\u003E by AxleGreaser\u003C/strong\u003E\n\u003Cbr\u003Egave more useful fuller version fo the Engineers ruler code.\n\u003C/span\u003E\n"}]}