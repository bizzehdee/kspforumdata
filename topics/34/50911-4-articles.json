{"TopicId":50911,"ForumId":34,"TopicTitle":"[1.3] Kerbal Joint Reinforcement v3.3.3 7/24/17","CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T08:04:32Z","PageNum":4,"Articles":[{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T21:18:07Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@ANWRocketMan: \u003C/strong\u003EWhat G-Forces are you hitting? You are using the decoupler stiffening option, right? Can you provide a craft? Go into the config.xml and change \u0022debug\u0022 to 1, reproduce the issue and then post the log here.\u003C/p\u003E\u003Cp\u003EIt might just be that you\u0027re asking far too much of the joints; it\u0027s not like they\u0027re supposed to be indestructible, though they should fail long before that happens.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@Surefoot: \u003C/strong\u003EThat\u0027s an error that pops up with pretty much all landing gear; it\u0027s safe to ignore it.\u003C/p\u003E\n"},{"CreatedByName":"Surefoot","CreatedById":89084,"CreatedDateTime":"2013-10-28T21:23:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EAh, I see what\u0027s happening. Since the plugin can\u0027t load the mesh for whatever reason,(...)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust looked at the log again: the warning i quoted above is happening before i see this: \u0022ground contact!\u0022, \u0022Unpacking (plane name)\u0022, \u0022[Proceduralwing2]: Activated\u0022, etc. Are the procedural parts meshes loaded only upon activation maybe ?\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2013-10-28T21:24:42Z","Content":"\n\u003Cp\u003E@ferram4: I\u0027m pulling max about 2G\u0027s. I\u0027ll quickly quickly enabled debug mode. The decoupler stiffenening option is set to 1. So I assume that is on?\u003C/p\u003E\u003Cp\u003ETo be fair, that is a 65 ton payload though... But on another point, I once built a 180-ton payload launcher that worked fine(with KW Rocketry and FAR)... but that was in 0.18.4.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T21:28:23Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Surefoot: \u003C/strong\u003EThat might be something to look into. I\u0027ll try it out.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@ANWRocketMan: \u003C/strong\u003EYep that\u0027s activated... try increasing angularMaxForce to something unreasonable and see what happens. It might just be that the angular stiffness is being overloaded and it\u0027s falling apart that way.\u003C/p\u003E\n"},{"CreatedByName":"Surefoot","CreatedById":89084,"CreatedDateTime":"2013-10-28T21:30:23Z","Content":"\n\u003Cp\u003EI guess you still have to be careful with AoA on ascent with a long rocket / top heavy load and sideways forces, which makes sense.\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2013-10-28T21:42:07Z","Content":"\n\u003Cp\u003E@ferram4:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[LOG 23:28:24.732] Updated joint from 3.75m Stack Decoupler to KW Rocketry Wildcat-XR\u003Cp\u003EStd. Joint Parameters\u003C/p\u003E\u003Cp\u003EConnected Body: KW3mengineWildcarXR (UnityEngine.Rigidbody)\u003C/p\u003E\u003Cp\u003EAnchor: (0.0, 0.0, 0.0)\u003C/p\u003E\u003Cp\u003EAxis: (1.0, 0.0, 0.0)\u003C/p\u003E\u003Cp\u003ESec Axis: (0.0, 0.0, 1.0)\u003C/p\u003E\u003Cp\u003EBreak Force: 200\u003C/p\u003E\u003Cp\u003EBreak Torque: 200\u003C/p\u003E\u003Cp\u003ELinear Drive\u003C/p\u003E\u003Cp\u003EPosition Spring: 11044.69\u003C/p\u003E\u003Cp\u003EPosition Damper: 441.7874\u003C/p\u003E\u003Cp\u003EMax Force: 200000\u003C/p\u003E\u003Cp\u003EMode: PositionAndVelocity\u003C/p\u003E\u003Cp\u003EAngular Drive\u003C/p\u003E\u003Cp\u003EPosition Spring: 174730.8\u003C/p\u003E\u003Cp\u003EPosition Damper: 2329.743\u003C/p\u003E\u003Cp\u003EMax Force: 20000\u003C/p\u003E\u003Cp\u003EMode: PositionAndVelocity\u003C/p\u003E\u003Cp\u003ECross Section Properties\u003C/p\u003E\u003Cp\u003ERadius: 2.651653\u003C/p\u003E\u003Cp\u003EArea: 22.08937\u003C/p\u003E\u003Cp\u003EMoment of Inertia: 38.82906\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s the log for the 3.75m decoupler. Most of the other joints seem to have \u0027Break force\u0027 and \u0027Break Torque\u0027 values of like 100000. I see their part.cfg files have those values. I\u0027ll try setting that up too, see if that fixes it.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T21:45:56Z","Content":"\n\u003Cp\u003EBreak force and Break torque don\u0027t do anything to affect stiffness. Try increasing angularMaxForceFactor in the config.xml file, which will increase the max force that the angular drive setting can output. That will likely help.\u003C/p\u003E\u003Cp\u003EHow do the drive settings compare between the decoupler and the other KW parts?\u003C/p\u003E\n"},{"CreatedByName":"spudcosmic","CreatedById":64598,"CreatedDateTime":"2013-10-28T21:57:50Z","Content":"\n\u003Cp\u003Eferram this is one of the most amazing mods I have ever seen!\u003C/p\u003E\n"},{"CreatedByName":"ANWRocketMan","CreatedById":65251,"CreatedDateTime":"2013-10-28T22:04:52Z","Content":"\n\u003Cp\u003EI have to agree with @spudcosmic!\u003C/p\u003E\u003Cp\u003EI\u0027ll do some more testing and get back to you tomorrow. I have to get to bed. Not even Jeb himself could keep a mere mortal such as myself from my sleep.\u003C/p\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2013-10-28T22:05:07Z","Content":"\n\u003Cp\u003EYou sir just fixed the biggest problem that the very basic concept of KSP has standing in it\u0027s way.\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2013-10-28T22:10:08Z","Content":"\n\u003Cp\u003EBoth of these rockets would have lost their nozzles within a few seconds of start up before this mod.\u003C/p\u003E\u003Cp\u003E180 ton rocket with SRB producing 2.3 kN of thrust (through 5 fuel segments) flies impeccably\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/B28fg8vl.png\u0022 alt=\u0022B28fg8vl.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E280 ton rocket with SRB producing 4.9 kN of thrust (through 8 fuel segments) flies not so great. Same rocket with 4 2x size segments is working great.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RcQZIBLl.png\u0022 alt=\u0022RcQZIBLl.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks Ferram!\u003C/p\u003E\n"},{"CreatedByName":"pantheis","CreatedById":57108,"CreatedDateTime":"2013-10-28T22:10:10Z","Content":"\n\u003Cp\u003EJust a little something I\u0027ve noticed but I\u0027ve always avoided the KW decouplers because they always caused issues with flexing and breaking where using a stock decoupler would behave fine.\u003C/p\u003E\n"},{"CreatedByName":"Tiberion","CreatedById":8356,"CreatedDateTime":"2013-10-28T22:11:58Z","Content":"\n\u003Cp\u003EThis.. yes.\u003C/p\u003E\u003Cp\u003EYes.\u003C/p\u003E\u003Cp\u003E5-meter rockets are no longer annoying. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"p3asant","CreatedById":83235,"CreatedDateTime":"2013-10-28T22:13:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EBreak force and Break torque don\u0027t do anything to affect stiffness. Try increasing angularMaxForceFactor in the config.xml file, which will increase the max force that the angular drive setting can output. That will likely help.\u003Cp\u003EHow do the drive settings compare between the decoupler and the other KW parts?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat do the angularMaxForceFactor and the linearMaxForceFactor effect?\u003C/p\u003E\u003Cp\u003EI boosted both and something magic seemed to happen.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T22:20:37Z","Content":"\n\u003Cp\u003EThey control the maximum force that the \u0022drives\u0022 can apply; the drives are essentially spring-damper combos that keep the parts where they should be, linear controlling how far it can move in any direction, angular controlling how much it can twist.\u003C/p\u003E\u003Cp\u003EThe max force would be set to infinity, but then if the simulation hiccups or you\u0027re dealing with a particularly large rocket on load the force can become incredibly large and tear the rocket apart, so I set it slightly low. I\u0027m thinking I should have set it higher by default now.\u003C/p\u003E\n"},{"CreatedByName":"p3asant","CreatedById":83235,"CreatedDateTime":"2013-10-28T22:36:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EThey control the maximum force that the \u0022drives\u0022 can apply; the drives are essentially spring-damper combos that keep the parts where they should be, linear controlling how far it can move in any direction, angular controlling how much it can twist.\u003Cp\u003EThe max force would be set to infinity, but then if the simulation hiccups or you\u0027re dealing with a particularly large rocket on load the force can become incredibly large and tear the rocket apart, so I set it slightly low. I\u0027m thinking I should have set it higher by default now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI added a zero to both and now my 11m diameter test monstrosity ( Jeb is in love) can get to orbit.\u003C/p\u003E\u003Cp\u003EBefore it would either spin to it\u0027s ass or the bottom engines would fall off, or the top part would fall off the booster.\u003C/p\u003E\u003Cp\u003EIt seems pretty hard to make realistic-ish bottom heavy rockets in ksp.\u003C/p\u003E\u003Cp\u003EI\u0027m thinking Saturn V had 2300t in first stage of 2800t. Try that in ksp \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-10-28T22:38:41Z\u0022 title=\u002210/28/2013 10:38  PM\u0022 data-short=\u002210 yr\u0022\u003EOctober 28, 2013\u003C/time\u003E by p3asant\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T22:54:15Z","Content":"\n\u003Cp\u003EOK then, the next release will have both increased by a factor of 10.\u003C/p\u003E\u003Cp\u003EThe real issue in KSP with building these gigantic rockets is that you\u0027re connecting a massive tank (100 tons) to a decoupler (1 ton) to an engine (10 tons) to another massive tank (50 tons) and such disparate masses connected together plays havoc with rigid body physics simulations. On the other hand, connecting lighter tanks to the decoupler and engine combo results in more joints closer together, which leads to more opportunities for flexing. It\u0027s kind of a terrible situation all around, and it would be better if we could choose to apply a decoupler PartModule to the top of a fuel tank, and then directly attach the tank to the engine, and not bother with the separate lightweight and problematic decoupler part. But that would probably be confusing for players, new and old.\u003C/p\u003E\n"},{"CreatedByName":"p3asant","CreatedById":83235,"CreatedDateTime":"2013-10-28T23:15:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EOK then, the next release will have both increased by a factor of 10.\u003Cp\u003EThe real issue in KSP with building these gigantic rockets is that you\u0027re connecting a massive tank (100 tons) to a decoupler (1 ton) to an engine (10 tons) to another massive tank (50 tons) and such disparate masses connected together plays havoc with rigid body physics simulations. On the other hand, connecting lighter tanks to the decoupler and engine combo results in more joints closer together, which leads to more opportunities for flexing. It\u0027s kind of a terrible situation all around, and it would be better if we could choose to apply a decoupler PartModule to the top of a fuel tank, and then directly attach the tank to the engine, and not bother with the separate lightweight and problematic decoupler part. But that would probably be confusing for players, new and old.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfaik there already are upper stages which function as engines tanks and decouplers at the same time.\u003C/p\u003E\u003Cp\u003EIt would be kinda cool to have an stretchable, universal part which includes tank,engine and decoupler.\u003C/p\u003E\n"},{"CreatedByName":"Psycix","CreatedById":76916,"CreatedDateTime":"2013-10-28T23:33:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003Eand it would be better if we could choose to apply a decoupler PartModule to the top of a fuel tank, and then directly attach the tank to the engine, and not bother with the separate lightweight and problematic decoupler part.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI say: welding!\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-28T23:45:35Z","Content":"\n\u003Cp\u003EWow, this looks great Ferram!\u003C/p\u003E\u003Cp\u003EBut I have a concern. I glanced through the source and noticed a few places where it\u0027s multiplying existing parts breakingForce \u0026amp; breakingTorque \u003C/p\u003E\u003Cp\u003EMy concern is that a lot of parts do not define breakingForce OR breakingTorque in their part config files. Surprisingly, the main offender is Squad themselves. Several engines (*cough*nuclear*cough*) and pretty much all probe and command pods.\u003C/p\u003E\u003Cp\u003EI didn\u0027t look through the entire source, so apologies if this is already done in there somewhere, but could you check parts to see if those properties are absent and set them first instead of just \u0027breakingForce *= 1000\u0027 \u003C/p\u003E\u003Cp\u003EOr do you know if those properties have a non-zero default value? (which would probably make this a non-relevant point)\u003C/p\u003E\n"},{"CreatedByName":"Gaius","CreatedById":66495,"CreatedDateTime":"2013-10-28T23:48:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EOr do you know if those properties have a non-zero default value? (which would probably make this a non-relevant point)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy understanding was that the default value is 20, but I can\u0027t find a source for that now, so consider that hear-say...\u003C/p\u003E\n"},{"CreatedByName":"Supernovy","CreatedById":29617,"CreatedDateTime":"2013-10-28T23:51:03Z","Content":"\n\u003Cp\u003EI have thought about adding decoupler modules to engines, just setting the decouple node to bottom. That way when you press space, it\u0027ll decouple the tank and activate the engine at the same time.\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-10-28T23:57:43Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@StarWaster: \u003C/strong\u003EThe only time \u0022breakForce *= 1000\u0022 is called is for launch clamps; otherwise it changes nothing about the default breakForce or breakTorque other than to multiply by universal constants, which are set to 1 by default.\u003C/p\u003E\u003Cp\u003EIn the other situations if a breakForce or BreakTorque was equal to zero the parts would separate instantly, because it would mean that the part joints could not take any force before failing, so I\u0027m fairly certain it is non-zero.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-29T00:00:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaius\u0022 data-cite=\u0022Gaius\u0022\u003E\u003Cdiv\u003EMy understanding was that the default value is 20, but I can\u0027t find a source for that now, so consider that hear-say...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EProblem is that you would think that any non-zero value would show up in the debug page for those parts. I\u0027ll check that again after installing this mod. I\u0027ll also try taking a ship into deep space with this mod running. With a nuclear engine on it unstrutted. (They tend to fall off spontaneously. Even on stationary ships)\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-10-29T00:02:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@StarWaster: \u003C/strong\u003EThe only time \u0022breakForce *= 1000\u0022 is called is for launch clamps; otherwise it changes nothing about the default breakForce or breakTorque other than to multiply by universal constants, which are set to 1 by default.\u003Cp\u003EIn the other situations if a breakForce or BreakTorque was equal to zero the parts would separate instantly, because it would mean that the part joints could not take any force before failing, so I\u0027m fairly certain it is non-zero.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk thx for the reply\u003C/p\u003E\n"}]}