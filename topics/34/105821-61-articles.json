{"TopicId":105821,"ForumId":34,"TopicTitle":"[1.6.x] RasterPropMonitor - Development Stopped (v0.30.6, 29 December 2018)","CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2015-04-28T23:11:44Z","PageNum":61,"Articles":[{"CreatedByName":"Krakatoa","CreatedById":175313,"CreatedDateTime":"2017-04-18T06:36:27Z","Content":"![HuMjaoS.png](http://i.imgur.com/HuMjaoS.png)  \n![mmrbfYy.png?1](http://i.imgur.com/mmrbfYy.png?1)  \n\nI have a question about the intended amount of transparency on these pods.  Stock internal view doesn\u0027t let you see through the back of the pod and leaves the frame on the front of the cupola module.  Currently have just stock game plus \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E and this mod for testing purposes on a clean install.  If you notice in the first picture, it also lets you see through whatever may be in front of a given IVA to that one unless another IVA is also in the way.  Thank you for any insight.\n\n**Edited \u003Ctime datetime=\u00222017-04-23T07:04:42Z\u0022 title=\u002204/23/2017 07:04  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 23, 2017\u003C/time\u003E by Krakatoa**\n  \nfixing image links"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-18T12:10:15Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Krakatoa said:\n\u003E \n\u003E \n\u003E I have a question about the intended amount of transparency on these pods.  Stock internal view doesn\u0027t let you see through the back of the pod and leaves the frame on the front of the cupola module.  Currently have just stock game plus \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E and this mod for testing purposes on a clean install.  If you notice in the first picture, it also lets you see through whatever may be in front of a given IVA to that one unless another IVA is also in the way.  Thank you for any insight.\n\u003E \n\nRPM has nothing to do with pod transparency.  That functionality was removed a few versions ago when JPLRepo split it off into JSITransparentPods."},{"CreatedByName":"Krakatoa","CreatedById":175313,"CreatedDateTime":"2017-04-18T15:11:57Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, MOARdV said:\n\u003E \n\u003E \n\u003E RPM has nothing to do with pod transparency.  That functionality was removed a few versions ago when JPLRepo split it off into JSITransparentPods.\n\u003E \n\nCurious.  Stock game leaves the window frame around the cupola, and installing only RPM straight from the download gives me that result.  That picture was with only RPM, module manager, and the game itself, tried the exact same setup to check occlusion with stock only before quitting out of the game and installing RPM and it looked appropriate.  The result in game is that it seems there\u0027s a bubble around the Kerbal that makes invisible any craft textures that it touches, or that are between it and the \u0022camera\u0022 of our viewpoint.  If I turn the camera, the dissolved part of the craft moves with me.  Should I try downloading the mod again?\n\n**Edited \u003Ctime datetime=\u00222017-04-18T15:15:03Z\u0022 title=\u002204/18/2017 03:15  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 18, 2017\u003C/time\u003E by Krakatoa**\n  \nAdding details"},{"CreatedByName":"Kerbinchaser","CreatedById":160817,"CreatedDateTime":"2017-04-21T03:49:11Z","Content":"So.... I have a problem. I have literally downloaded and re-downloaded this mod ***FIVE*** times. Every time, I get this message:\n\n[![Screen Shot 2017-04-20 at 11.45.05 PM](https://farm3.staticflickr.com/2854/34129621746_f7222768f7_b.jpg)](https://www.flickr.com/photos/georgejean/34129621746/in/dateposted-public/)\n\nI read it completely, then I go and check the game data setup. Sure enough, it looks like this:\n\n[![Screen Shot 2017-04-20 at 11.45.15 PM](https://farm3.staticflickr.com/2908/34129621836_f19891aa54_b.jpg)](https://www.flickr.com/photos/georgejean/34129621836/in/dateposted-public/)\n\nExactly what it is supposed to look like. \n\nHELP!!!!!\n\n**Edited \u003Ctime datetime=\u00222017-04-21T03:49:26Z\u0022 title=\u002204/21/2017 03:49  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 21, 2017\u003C/time\u003E by Lo Var Lachland**"},{"CreatedByName":"Brigadier","CreatedById":147109,"CreatedDateTime":"2017-04-21T06:37:37Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Lo Var Lachland said:\n\u003E \n\u003E \n\u003E So.... I have a problem. I have literally downloaded and re-downloaded this mod ***FIVE*** times. Every time, I get this message:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Screen Shot 2017-04-20 at 11.45.05 PM](https://farm3.staticflickr.com/2854/34129621746_f7222768f7_b.jpg)](https://www.flickr.com/photos/georgejean/34129621746/in/dateposted-public/)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I read it completely, then I go and check the game data setup. Sure enough, it looks like this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Exactly what it is supposed to look like. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E HELP!!!!!\n\u003E \n\nIt\u0027s obviously in the correct path but do you also have one in GameData by accident?"},{"CreatedByName":"Kerbinchaser","CreatedById":160817,"CreatedDateTime":"2017-04-22T00:00:44Z","Content":"\u003E \n\u003E \n\u003E 17 hours ago, Brigadier said:\n\u003E \n\u003E \n\u003E It\u0027s obviously in the correct path but do you also have one in GameData by accident?\n\u003E \n\nI\u0027ve already deleted all the previous install files."},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-23T02:38:38Z","Content":"[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) What would you recommend I do with kOSPropMonitor? I always kind of wanted it to have a lot of interface into RPM - the variable system, buttons, and MFD. Right now, it\u0027s a nice MFD page that gives the ability to read all the buttons in kOS and display and capture input from IVA. Now that you\u0027re moving on to MAS though, I\u0027m not sure where this all fits in.\n\nMaybe I\u0027ll just start ripping RPM apart or something.\n\nEdit: Currently reading documentation for MAS\n\nEdit 2:\n\n![76186ec93be35c9569ad4092b8a25d92.png](https://i.gyazo.com/76186ec93be35c9569ad4092b8a25d92.png)\n\nAnd it works too. What have I done.\n\n![07fb8e638cf41efa507e8b895136aa39.png](https://i.gyazo.com/07fb8e638cf41efa507e8b895136aa39.png)\n\nWhat a sight! Here\u0027s the repo - [https://github.com/dsonbill/SimpleMFD](https://github.com/dsonbill/SimpleMFD)\n\nTake a look at this too, if you get the chance: [https://github.com/dsonbill/SimpleMFD/commit/aec84a6689c43a379a7be1fd9c180712af03a8c1](https://github.com/dsonbill/SimpleMFD/commit/aec84a6689c43a379a7be1fd9c180712af03a8c1)\n\n**Edited \u003Ctime datetime=\u00222017-04-23T08:15:02Z\u0022 title=\u002204/23/2017 08:15  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 23, 2017\u003C/time\u003E by dsonbill**"},{"CreatedByName":"theonegalen","CreatedById":71012,"CreatedDateTime":"2017-04-23T03:51:36Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, dsonbill said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) What would you recommend I do with kOSPropMonitor? I always kind of wanted it to have a lot of interface into RPM - the variable system, buttons, and MFD. Right now, it\u0027s a nice MFD page that gives the ability to read all the buttons in kOS and display and capture input from IVA. Now that you\u0027re moving on to MAS though, I\u0027m not sure where this all fits in.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe I\u0027ll just start ripping RPM apart or something.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit: Currently reading documentation for MAS\n\u003E \n\nIf you know how to code and decide to rip RPM apart, could you give me a hint on how to code a plugin to hook into RPM that lets me use a button to turn off and on active radiators the way RPM lets me use a button to deploy and retract solar panels? I am just starting out with coding and am rather code dumb."},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-23T03:58:25Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, theonegalen said:\n\u003E \n\u003E \n\u003E If you know how to code and decide to rip RPM apart, could you give me a hint on how to code a plugin to hook into RPM that lets me use a button to turn off and on active radiators the way RPM lets me use a button to deploy and retract solar panels? I am just starting out with coding and am rather code dumb.\n\u003E \n\nThis is a somewhat hard one to do if you aren\u0027t experienced. There\u0027s 3 or 4 files and like 10 functions you need to write to do this, though it\u0027s mostly copy-pasting and adjusting for radiator rather than solar panel. Then you have to make the props and add them to IVA.\n\nI might do this. I already see a lot of what needs to be changed."},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-23T14:03:25Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, dsonbill said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) What would you recommend I do with kOSPropMonitor? I always kind of wanted it to have a lot of interface into RPM - the variable system, buttons, and MFD. Right now, it\u0027s a nice MFD page that gives the ability to read all the buttons in kOS and display and capture input from IVA. Now that you\u0027re moving on to MAS though, I\u0027m not sure where this all fits in.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe I\u0027ll just start ripping RPM apart or something.\n\u003E \n\nMihara designed RPM to support \u0022plugins\u0022 - DLLs that are tightly coupled to both RPM and another mod.  SCANsat and VesselViewer both use this capability to allow RPM to display information on the MFDs, and allow the MFD to talk to the other mod (by sending button presses).  This approach is easier to code, since the bridge DLL can have hard dependencies on both RPM and kOS.  It also doesn\u0027t require code changes to RPM (or kOS).\n\nThe second option is to make the interface to kOS via reflection within RPM - that\u0027s how RPM interacts with Chatterer, \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, MechJeb, \u003Cabbr title=\u0022Kerbal Alarm Clock (mod)\u0022\u003EKAC\u003C/abbr\u003E, Pilot Assistant, and RealChute.  This is a bit more effort to code, but it allows a fairly seamless integration afterwards.  It requires changes to RPM, and it means someone (other than me ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) ) would need to own testing / fixing that code in RPM.\n\nThe third option would be a standalone plugin that provides RPM-style functionality to the MFD, but is stripped down to just the features you want (which is what you\u0027re doing).  The only issue I see with that is that the monitor that it is attached to would be usable only for the kOS interface - it wouldn\u0027t have camera views, or navball views, or whatever, without having to duplicate a bunch of extra code from RPM.  Actually, that\u0027s probably what you\u0027d want, anyway.  I would recommend changing the names of some of the classes, so if an error pops up, there\u0027s no confusion when looking in the error log.\n\n\u003E \n\u003E \n\u003E 10 hours ago, theonegalen said:\n\u003E \n\u003E \n\u003E If you know how to code and decide to rip RPM apart, could you give me a hint on how to code a plugin to hook into RPM that lets me use a button to turn off and on active radiators the way RPM lets me use a button to deploy and retract solar panels? I am just starting out with coding and am rather code dumb.\n\u003E \n\nRadiators would be pretty easy to do - MAS already supports it in the dev version on GitHub.  Porting that code back into RPM wouldn\u0027t be terribly difficult, and if someone wants to do it, I\u0027ll accept a pull request.  I\u0027ve just got lots of other things I\u0027m doing, and RPM features are not a priority at the moment."},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-23T20:34:42Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, MOARdV said:\n\u003E \n\u003E \n\u003E The third option would be a standalone plugin that provides RPM-style functionality to the MFD, but is stripped down to just the features you want (which is what you\u0027re doing).  The only issue I see with that is that the monitor that it is attached to would be usable only for the kOS interface - it wouldn\u0027t have camera views, or navball views, or whatever, without having to duplicate a bunch of extra code from RPM.  Actually, that\u0027s probably what you\u0027d want, anyway.  I would recommend changing the names of some of the classes, so if an error pops up, there\u0027s no confusion when looking in the error log.\n\u003E \n\nWell, the background handler still works, and the monitor still works as usual - I kept the PFD in there just for fun:\n\n![8751b238a606dcfb12ce041cb2d18577.png](https://i.gyazo.com/8751b238a606dcfb12ce041cb2d18577.png)\n\nThe data from the pages obviously can\u0027t be displayed as it\u0027s been stripped down to nothing - only the content processor can write to the console now. kOSPropMonitor already exists [here](https://forum.kerbalspaceprogram.com/index.php?/topic/98801-release-kospropmonitor-iva-kos-monitor) - that\u0027s what\u0027s being overlaid onto the PFD above. (The labels are off because I just learned about [hw], somehow). The only functionality that\u0027s really broken is page switching, which isn\u0027t that big of a deal.\n\nIt wouldn\u0027t be too hard to rebuild a lot of what RPM does with kPM for the MFDs, but it would be a lot of work. I\u0027m not really sure how far I want to take this. It might be time to pick through MAS instead of RPM. I really need to decide if it makes any sense to integrate kOS into it, or go for a standalone prop."},{"CreatedByName":"theonegalen","CreatedById":71012,"CreatedDateTime":"2017-04-23T20:45:13Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, MOARdV said:\n\u003E \n\u003E \n\u003E Radiators would be pretty easy to do - MAS already supports it in the dev version on GitHub.  Porting that code back into RPM wouldn\u0027t be terribly difficult, and if someone wants to do it, I\u0027ll accept a pull request.  I\u0027ve just got lots of other things I\u0027m doing, and RPM features are not a priority at the moment.\n\u003E \n\nI don\u0027t suppose a copy / paste would work, eh?"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-24T13:09:18Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, dsonbill said:\n\u003E \n\u003E \n\u003E It wouldn\u0027t be too hard to rebuild a lot of what RPM does with kPM for the MFDs, but it would be a lot of work. I\u0027m not really sure how far I want to take this. It might be time to pick through MAS instead of RPM. I really need to decide if it makes any sense to integrate kOS into it, or go for a standalone prop.\n\u003E \n\nOn the other hand, duplicating that code means two mods doing the same work.  RasterPropMonitor\u0027s variable evaluation methods are public, so you can use either reflection or a hard dependency on RPM to access them.  That would let RPM do all the computation work, all you would have to do is pass it variable requests.  OTOH, you would still have to do screen layout.\n\n\u003E \n\u003E \n\u003E 16 hours ago, theonegalen said:\n\u003E \n\u003E \n\u003E I don\u0027t suppose a copy / paste would work, eh?\n\u003E \n\nIt would be close to a copy / paste.  It would need someone to verify it works as intended, too.  The reason why I\u0027m not adding significant features myself is that I don\u0027t have a \u0022complex\u0022 RPM cockpit to work with.  I converted my main development IVA to MAS last summer.  I use alexustas\u0027 RPM IVAs to check things over, but I\u0027m not set up to do serious RPM feature development."},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-26T19:39:00Z","Content":"What\u0027s the timetable feel like for MAS? I know this is an awful question to ask. If you foresee it taking long enough, I might just play around with this a whole lot more."},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-27T12:16:27Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, dsonbill said:\n\u003E \n\u003E \n\u003E What\u0027s the timetable feel like for MAS? I know this is an awful question to ask. If you foresee it taking long enough, I might just play around with this a whole lot more.\n\u003E \n\nIn this case, not an awful question.\n\nMAS as it stands is operational, but MFDs are not fully implemented.  Mainly because I don\u0027t use MFDs when I play, so I am not motivated to code them.  The MFDs can display text, and they have a couple of other features that I wrote early on.  I still need (want) to get cameras working, but I wanted to take a break from coding / modding KSP so I can spend some time playing it.  And so I can think of how I want to implement cameras - the big problem with RPM\u0027s cameras is that all of the camera functionality is in the MFD (zoom levels, pan limits), but I want to move that configuration into the module that goes in the camera.  The other hangup is performance - MAS uses a Lua interpreter to provide flexibility (as in, you can write Lua functions that MAS executes), but the interpreter is S-L-O-W, and it does a lot of allocations, so the Unity garbage collector gets hammered pretty hard.  It was bad enough that I implemented a rudimentary parser that converts simple MAS commands into C# delegates that execute 10x-20x faster.  As long as an IVA isn\u0027t using too many Lua functions, it is comparable to RPM, performance-wise.\n\nAlthough I guess that doesn\u0027t actually answer the question, does it?  I think the short answer is \u0022not soon\u0022.  I\u0027ve dusted off a couple of old parts mods, and I\u0027ve been getting them working with KSP 1.2.2, and one of them has a sweet IVA layout, so I may be getting back into developing MAS this spring, but I don\u0027t want to make a commitment on a timeline just yet."},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-28T05:00:56Z","Content":"\u003E \n\u003E \n\u003E On 4/27/2017 at 5:16 AM, MOARdV said:\n\u003E \n\u003E \n\u003E The other hangup is performance - MAS uses a Lua interpreter to provide flexibility (as in, you can write Lua functions that MAS executes), but the interpreter is S-L-O-W, and it does a lot of allocations, so the Unity garbage collector gets hammered pretty hard.  It was bad enough that I implemented a rudimentary parser that converts simple MAS commands into C# delegates that execute 10x-20x faster.  As long as an IVA isn\u0027t using too many Lua functions, it is comparable to RPM, performance-wise.\n\u003E \n\nI\u0027m incredibly familiar with Moonsharp, as I\u0027m using it extensively for a personal project. I\u0027ve created a system that runs lots of scripts all in different threads - I have no simple interlink to unity values, but that\u0027s not too hard to bridge over, as I did it with this for a small project for another game that I ended up not releasing.\n\nMore on the system mentioned:\n\nSpoiler\n\nIt\u0027s built to be like a computer - CPU, memory, hard drive, network card, and motherboard are all different components (I\u0027ve gone slightly insane, yes). It has two different script environments - kernel, and user. Kernel is a continuous script environment that has access to the memory and other components directly, and can set user globals to allow access to these components and other features in the user space. User space scripts are run in their own script environments, so variables are not carried over, etc. You can schedule script execution to a processor, which handles these environments and running them in a stand-alone thread. Only one user \u002B kernel script can be running on a CPU at once, so it\u0027s expected you either build systems that need a dedicated loop which will run on their own CPU (and therefore in their own thread), or your scripts should run quickly, store things in memory, and then schedule themselves to run again to continue a loop.\n\nWhile I never intended for this stuff to make its way into KSP, I might think about building a new mod with that instead which integrates with MAS. It could bring good research for its eventual use in its intended home.\n\nI\u0027ve also been forced to modify Moonsharp to allow for some dirty execution, so I may need to find a way to consolidate the fact that I need that version loaded, while you are probably using another version of Moonsharp. I may just rename everything to Moonderp.\n\n**Edited \u003Ctime datetime=\u00222017-04-28T18:17:24Z\u0022 title=\u002204/28/2017 06:17  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 28, 2017\u003C/time\u003E by dsonbill**"},{"CreatedByName":"adsii1970","CreatedById":89014,"CreatedDateTime":"2017-04-28T16:25:41Z","Content":"[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) -\n\nI hate to bother you but I am at the end of my knowledge of how to even begin to understand the errors being generated.\n\nI am having an issue with RPM that just started two weeks ago. During that time, I\u0027ve only updated the ASET mod that\u0027s a required mod for [@Angel-125](https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/)\u0027s mods. I;ve attempted everything I know to do - restoring the previous versions of ASET and RPM, stripping mods, one at a time to see if they are causing the issues, etc. This morning he recommended I approach you with the problem I am having. He has given me permission to share the contents of the private message AND be tagged so he can figure out if the problem is something he coded in his mods. In a private message, he shared the stuff in the spoiler and said this is what is causing the crash, but he does not know why it is happening:\n\nSpoiler\n\n[ERR 07:50:12.782] [JSILabel]: Start failed in prop 79 (switchRotary_StageLock) with exception System.NullReferenceException: Object reference not set to an instance of an object\n      at JSI.RPMVesselComputer.Instance (.Vessel v) [0x00000] in :0 \n      at JSI.RasterPropMonitorComputer.AddVariable (System.String variableName) [0x00000] in :0 \n      at JSI.RasterPropMonitorComputer.InstantiateVariableOrNumber (System.String variableName) [0x00000] in :0 \n      at JSI.VariableOrNumberRange..ctor (JSI.RasterPropMonitorComputer rpmComp, System.String sourceVariable, System.String range1, System.String range2, System.String moduloVariable) [0x00000] in :0 \n      at JSI.CustomVariable.ProcessSourceNode (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp, System.Boolean\u0026 reverse) [0x00000] in :0 \n      at JSI.CustomVariable..ctor (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp) [0x00000] in :0 \n      at JSI.JUtil.InstantiateComplexVariable (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp) [0x00000] in :0 \n      at JSI.RasterPropMonitorComputer.GetEvaluator (System.String input, System.Boolean\u0026 cacheable) [0x00000] in :0 \n      at JSI.RasterPropMonitorComputer.AddVariable (System.String variableName) [0x00000] in :0 \n      at JSI.RasterPropMonitorComputer.RegisterVariableCallback (System.String variableName, System.Action\u00601 cb) [0x00000] in :0 \n      at JSI.JSILabel.Start () [0x00000] in :0\n\nHere\u0027s a link to the error files and the KSP log: [HOSTED ON DROPBOX](https://www.dropbox.com/sh/w0hz5cvt1qmx7m0/AADnhvC9QcwvsAS5Aur5mJ3Ma?dl=0)\n\nHere\u0027s the contents of my GameData folder, completely compressed: [HOSTED ON DROPBOX](https://www.dropbox.com/s/57bhbmk6a6fuuwn/GameData.zip?dl=0)\n\nI have tried updating both ASET and RPM, updating Module Manager, and even deleting the old \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E chache file after the changes. I also reduced my mod count, and am now running fewer than fifty mods, believing that maybe the crashes were being caused because of memory issues. Any help you can provide is great.\n\nI also am sure, after reading through the thread, I\u0027ve included everything you\u0027ve requested be included in a request for assistance. If I am wrong, please let me know.\n\n**Edited \u003Ctime datetime=\u00222017-04-28T16:31:10Z\u0022 title=\u002204/28/2017 04:31  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 28, 2017\u003C/time\u003E by adsii1970**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-28T17:32:51Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, dsonbill said:\n\u003E \n\u003E \n\u003E I\u0027m incredibly familiar with Moonsharp, as I\u0027m using it extensively for a personal project. I\u0027ve created a system that runs lots of scripts all in different threads - I have no simple interlink to unity values, but that\u0027s not too hard to bridge over, as I did it with this for a small project for another game that I ended up not releasing.\n\u003E \n\nI\u0027ve been using the plain-vanilla Moonsharp 2.0.0 release.  I know it\u0027s not ideal for my application due to the memory churn, but I\u0027m not in a position to tear it apart and clean it up (I don\u0027t speak C# natively, and I can\u0027t justify the time sink of learning my way around Moonsharp sufficiently to identify and fix the issues).\n\n\u003E \n\u003E \n\u003E 1 hour ago, adsii1970 said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) -\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I am having an issue with RPM that just started two weeks ago. During that time, I\u0027ve only updated the ASET mod that\u0027s a required mod for [@Angel-125](https://forum.kerbalspaceprogram.com/index.php?/profile/106975-angel-125/)\u0027s mods. I;ve attempted everything I know to do - restoring the previous versions of ASET and RPM, stripping mods, one at a time to see if they are causing the issues, etc. This morning he recommended I approach you with the problem I am having. He has given me permission to share the contents of the private message AND be tagged so he can figure out if the problem is something he coded in his mods. In a private message, he shared the stuff in the spoiler and said this is what is causing the crash, but he does not know why it is happening:\n\u003E \n\u003E \n\u003E \n\u003E Reveal hidden contents\n\u003E \n\u003E \n\u003E [ERR 07:50:12.782] [JSILabel]: Start failed in prop 79 (switchRotary_StageLock) with exception System.NullReferenceException: Object reference not set to an instance of an object\n\u003E       at JSI.RPMVesselComputer.Instance (.Vessel v) [0x00000] in :0 \n\u003E       at JSI.RasterPropMonitorComputer.AddVariable (System.String variableName) [0x00000] in :0 \n\u003E       at JSI.RasterPropMonitorComputer.InstantiateVariableOrNumber (System.String variableName) [0x00000] in :0 \n\u003E       at JSI.VariableOrNumberRange..ctor (JSI.RasterPropMonitorComputer rpmComp, System.String sourceVariable, System.String range1, System.String range2, System.String moduloVariable) [0x00000] in :0 \n\u003E       at JSI.CustomVariable.ProcessSourceNode (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp, System.Boolean\u0026 reverse) [0x00000] in :0 \n\u003E       at JSI.CustomVariable..ctor (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp) [0x00000] in :0 \n\u003E       at JSI.JUtil.InstantiateComplexVariable (.ConfigNode node, JSI.RasterPropMonitorComputer rpmComp) [0x00000] in :0 \n\u003E       at JSI.RasterPropMonitorComputer.GetEvaluator (System.String input, System.Boolean\u0026 cacheable) [0x00000] in :0 \n\u003E       at JSI.RasterPropMonitorComputer.AddVariable (System.String variableName) [0x00000] in :0 \n\u003E       at JSI.RasterPropMonitorComputer.RegisterVariableCallback (System.String variableName, System.Action\u00601 cb) [0x00000] in :0 \n\u003E       at JSI.JSILabel.Start () [0x00000] in :0\n\u003E \n\nOkay.  I see what\u0027s going on.  A couple of modules are flipping out because they\u0027re being instantiated in the editor.  Some of the prop modules have a guard against that, but not all of them do.  I\u0027ll see what I can do about getting a fix out \u0022soon\u0022."},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-28T18:23:05Z","Content":"... And, fixed (hopefully I found all of the problem modules).\n\nRasterPropMonitor v0.28.1 for KSP 1.2.2 is now available on [GitHub](https://github.com/Mihara/RasterPropMonitor/releases).  Mostly NRE fixes, although Virinidi-AC provided some integration with CommNet, and hidude398 tweaked the cockpit hatch position in the mk1 demo cockpit."},{"CreatedByName":"adsii1970","CreatedById":89014,"CreatedDateTime":"2017-04-28T19:01:52Z","Content":"\u003E \n\u003E \n\u003E 42 minutes ago, MOARdV said:\n\u003E \n\u003E \n\u003E ... And, fixed (hopefully I found all of the problem modules).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E RasterPropMonitor v0.28.1 for KSP 1.2.2 is now available on [GitHub](https://github.com/Mihara/RasterPropMonitor/releases).  Mostly NRE fixes, although Virinidi-AC provided some integration with CommNet, and hidude398 tweaked the cockpit hatch position in the mk1 demo cockpit.\n\u003E \n\n[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/): ~~Is this the fix I need?~~ As I was downloading it, I read your description on GitHub. Although I will not be able to try it until later this evening, I do thank you for your help.\n\n**Edited \u003Ctime datetime=\u00222017-04-28T19:06:03Z\u0022 title=\u002204/28/2017 07:06  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 28, 2017\u003C/time\u003E by adsii1970**"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2017-04-29T00:32:34Z","Content":"[@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) Is there any intended path for external libraries to write page components in MAS? I modified MASPage to load components dynamically by class name so I can mess with things a little bit in the mean time. Here\u0027s the commit: [https://github.com/dsonbill/AvionicsSystems/commit/bdfaa2c367609b865c7f8aa6443dd74e4ea4bcd2](https://github.com/dsonbill/AvionicsSystems/commit/bdfaa2c367609b865c7f8aa6443dd74e4ea4bcd2)\n\nAre you planning on building a public API for basically everything or something?\n\n**Edited \u003Ctime datetime=\u00222017-04-29T00:56:57Z\u0022 title=\u002204/29/2017 12:56  AM\u0022 data-short=\u00227 yr\u0022\u003EApril 29, 2017\u003C/time\u003E by dsonbill**"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-04-29T12:31:06Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, dsonbill said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/) Is there any intended path for external libraries to write page components in MAS? I modified MASPage to load components dynamically by class name so I can mess with things a little bit in the mean time. Here\u0027s the commit: [https://github.com/dsonbill/AvionicsSystems/commit/bdfaa2c367609b865c7f8aa6443dd74e4ea4bcd2](https://github.com/dsonbill/AvionicsSystems/commit/bdfaa2c367609b865c7f8aa6443dd74e4ea4bcd2)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Are you planning on building a public API for basically everything or something?\n\u003E \n\nI haven\u0027t gotten that far in the design, to be honest.  My first goal was seeing how a Lua interpreter performed within the MAS context.  Once I figured out that was not great, I spent a lot of time working on the parser to generate native C# delegates.  By the time I got that working to my satisfaction, and I had converted a lot of props so I can exercise the code, I was ready to take a break.\n\n(I haven\u0027t looked at your commit yet, since I haven\u0027t had enough coffee, so sorry if this overlaps it) As for a public API, I think having the variable callback registration / deregistration as part of a public API makes sense.  I think maybe allowing external classes to register a \u0022namespace\u0022 like I\u0027m doing with \u0060fc\u0060, \u0060mechjeb\u0060, etc, would be the cleanest way to tie in to external mods.  I don\u0027t know how I would integrate that with MoonSharp\u0027s automatic generation of function tables, but if it\u0027s not currently possible, I should be able to emulate it.  If you have suggestions for what\u0027d help, please let me know - like I mentioned, C# isn\u0027t my native programming tongue, so I don\u0027t know how best to exploit its capabilities.\n\nIt\u0027d probably make sense to move this talk to a PM, so we\u0027re not cluttering the RPM thread with talk of another mod.\n\n\u003E \n\u003E \n\u003E 17 hours ago, adsii1970 said:\n\u003E \n\u003E \n\u003E [@MOARdV](https://forum.kerbalspaceprogram.com/index.php?/profile/60950-moardv/): ~~Is this the fix I need?~~ As I was downloading it, I read your description on GitHub. Although I will not be able to try it until later this evening, I do thank you for your help.\n\u003E \n\nI believe my fixes should cover the problems you saw.  There\u0027s a chance that I missed some stuff, but I definitely got all of the NREs I saw in your log, and a some others I spotted on the way."},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2017-04-30T18:11:53Z","Content":"Just downloaded the latest release and ran into two small issues.\n\nThe change log says: \u0022The mk1 demo cockpit has had its hatch rotated 90 degrees so it doesn\u0027t look so odd, thanks to hidude398. Issue #619.\u0022 However in game for me, it\u0027s most certainly rotated the wrong way (Horizontally instead of vertically if you understand my meaning), leaving a giant gaping whole in the side of the cockpit where the closed door should be.\n\nThe Mk1 inline cockpit changes seem to be missing as well as it\u0027s completely stock with no MFD\u0027s. The presence of .cfg files for it in the folders seems to imply it\u0027s supposed to exist. However it\u0027s .cfg files were named as .nocfg files, taking the \u0022no\u0022 out did not make the changes appear though.\n\n**Edited \u003Ctime datetime=\u00222017-04-30T18:12:54Z\u0022 title=\u002204/30/2017 06:12  PM\u0022 data-short=\u00227 yr\u0022\u003EApril 30, 2017\u003C/time\u003E by Rocket In My Pocket**"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2017-04-30T18:59:27Z","Content":"\u003E \n\u003E \n\u003E On 4/29/2017 at 8:31 AM, MOARdV said:\n\u003E \n\u003E \n\u003E It\u0027d probably make sense to move this talk to a PM, so we\u0027re not cluttering the RPM thread with talk of another mod.\n\u003E \n\nIs MAS far enough in development, and have you considered maybe starting a [WIP] development thread for MAS, where public discussion on it could happen?  \n\nIf you\u0027re not ready for that, thats kewl... ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2017-05-01T12:27:20Z","Content":"\u003E \n\u003E \n\u003E 17 hours ago, Stone Blue said:\n\u003E \n\u003E \n\u003E Is MAS far enough in development, and have you considered maybe starting a [WIP] development thread for MAS, where public discussion on it could happen?  \n\u003E   \n\u003E \n\u003E If you\u0027re not ready for that, thats kewl... ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nIt\u0027s looking like I should, doesn\u0027t it? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  I\u0027m not actively developing it right now, since I\u0027m taking a break from writing mods, but there is enough functionality to tinker with it and garner feedback."}]}