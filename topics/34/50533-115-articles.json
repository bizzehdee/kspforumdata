{"TopicId":50533,"ForumId":34,"TopicTitle":"[1.8.x-1.12.x] Module Manager 4.2.3 (July 03th 2023) - Fireworks season","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-10-25T13:01:36Z","PageNum":115,"Articles":[{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-07-30T11:57:39Z","Content":"\n\u003Cp\u003Eyet another question about MM syntax \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Ethis is the situation:\u003C/p\u003E\u003Cp\u003EI have a part named \u0022A\u0022, there might be also a part named \u0022B\u0022 but I can\u0027t know.\u003C/p\u003E\u003Cp\u003EI would like to add a resource to part \u0022B\u0022 if it exists, if not I want to add it to part \u0022A\u0022\u003C/p\u003E\u003Cp\u003E(\u003Cstrong\u003Epart A \u003C/strong\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003Emust NOT have that resource\u003C/span\u003E\u003C/strong\u003E\u003Cstrong\u003E if part B exists\u003C/strong\u003E)\u003C/p\u003E\u003Cp\u003Ecould this work?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[A]\u003Cbr\u003E{\u003Cbr\u003E    RESOURCE\u003Cbr\u003E    {\u003Cbr\u003E        name = ElectricCharge\u003Cbr\u003E        amount = 100\u003Cbr\u003E        maxAmount = 100\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E@PART[B]\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003E[COLOR=#ff0000]    !../PART[A]/Resource[ElectricCharge] // This part is supposed to delete the ElectricCharge from Part[A] only if Part[B] exists[/COLOR]\u003Cbr\u003E\u003Cbr\u003E    RESOURCE\u003Cbr\u003E    {\u003Cbr\u003E        name = ElectricCharge\u003Cbr\u003E        amount = 100\u003Cbr\u003E        maxAmount = 100\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not sure about the red bit, if that works then the patch should do what I want, right?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-07-31T04:47:59Z","Content":"\n\u003Cp\u003ENo. But consider:\u003C/p\u003E\u003Cp\u003E@PART[A]\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Eflag = #$/PART\u003Cstrong\u003E/name$ //or whatever the syntax is to get a key from a root node\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E}\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@PART[A]:HAS[~flag[]]\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E{\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E// do stuff here for the case where B doesn\u0027t exist.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E}\u003C/strong\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-07-31T07:11:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003ENo. But consider:\u003Cp\u003E@PART[A]\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Eflag = #$/PART\u003Cstrong\u003E/name$ //or whatever the syntax is to get a key from a root node\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E}\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E@PART[A]:HAS[~flag[]]\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E{\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E// do stuff here for the case where B doesn\u0027t exist.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E}\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EI thought the root node was the PART. That\u0027s why I asked, because I need a way to go back a step further\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EI actually managed to get a result that *should* work, I needed this to set up a cloud config.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELet me just say that the way every clouds pack handles configs is really a nightmare.\u003C/strong\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-31T08:36:05Z\u0022 title=\u002207/31/2015 08:36  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 31, 2015\u003C/time\u003E by Sigma88\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"anxcon","CreatedById":148336,"CreatedDateTime":"2015-08-03T21:39:21Z","Content":"\n\u003Cp\u003Ebug?\u003C/p\u003E\u003Cp\u003E@PART\u003C/p\u003E\u003Cp\u003E[*]:HAS[@MODULE[ModuleLandingGear]|@MODULE[ModuleLandingGearFixed]|@MODULE[ModuleWheel]|@MODULE[bDAdjustableLandingGear]]\u003C/p\u003E\u003Cp\u003Eapplies to all parts that have modules 1 2 or 4, but not 3 (ModuleWheel)\u003C/p\u003E\u003Cp\u003E@PART\u003C/p\u003E\u003Cp\u003E[*]:HAS[@MODULE[ModuleWheel]|@MODULE[ModuleLandingGear]|@MODULE[ModuleLandingGearFixed]|@MODULE[bDAdjustableLandingGear]]\u003C/p\u003E\u003Cp\u003EModuleWheel moved to 1st slot, works for all parts with ModuleWheel, not 2 3 or 4th module\u003C/p\u003E\u003Cp\u003Ei\u0027m a bit confused, i\u0027ve wrote tons of MM scripts and haven\u0027t ran into that issue\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-04T08:25:16Z","Content":"\n\u003Cp\u003EWould it be possible to implement a system for other addons to register callback functions with MM to be called with the database is reloaded? It would be great to be able to reload custom data without having to reload the entire game.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-04T19:14:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022anxcon\u0022 data-cite=\u0022anxcon\u0022\u003E\u003Cdiv\u003Ebug?\u003Cp\u003E@PART\u003C/p\u003E\u003Cp\u003E[*]:HAS[@MODULE[ModuleLandingGear]|@MODULE[ModuleLandingGearFixed]|@MODULE[ModuleWheel]|@MODULE[bDAdjustableLandingGear]]\u003C/p\u003E\u003Cp\u003Eapplies to all parts that have modules 1 2 or 4, but not 3 (ModuleWheel)\u003C/p\u003E\u003Cp\u003E@PART\u003C/p\u003E\u003Cp\u003E[*]:HAS[@MODULE[ModuleWheel]|@MODULE[ModuleLandingGear]|@MODULE[ModuleLandingGearFixed]|@MODULE[bDAdjustableLandingGear]]\u003C/p\u003E\u003Cp\u003EModuleWheel moved to 1st slot, works for all parts with ModuleWheel, not 2 3 or 4th module\u003C/p\u003E\u003Cp\u003Ei\u0027m a bit confused, i\u0027ve wrote tons of MM scripts and haven\u0027t ran into that issue\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is no \u0027|\u0027 operator at that level. \u0027|\u0027 works inside a node name ( ie NODE[ThisName|ThatName] ) or NEEDS ( :NEED[ModA|ModB] ) but not in the HAS level. If it partially works then it is by pure luck (and bad quality of my parsing)\u003C/p\u003E\u003Cp\u003ESo \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleLandingGear|ModuleLandingGearFixed|ModuleWheel|BDAdjustableLandingGear]]\u003Cbr\u003E{\u003Cbr\u003E//stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eblowfish : yep, there was one in the past but it was more or less unusable with multiple MM and each version requiring a new compile. I need to find a new system that does not require as much hard linking (annotation and/or reflection ?). \u003C/p\u003E\u003Cp\u003EI was considering it since I also want to write something that needs to run after MM, but I don\u0027t want to package it into MM since it is not config related.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-04T19:35:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blowfish\u0022 data-cite=\u0022blowfish\u0022\u003E\u003Cdiv\u003EWould it be possible to implement a system for other addons to register callback functions with MM to be called with the database is reloaded? It would be great to be able to reload custom data without having to reload the entire game.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d probably consider using this too if it came to pass - for Contract Configurator I ended up creating my own reload button in my debug GUI that does a database reload \u002B module manager reload \u002B contract configurator reload.\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-04T19:48:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003Eblowfish : yep, there was one in the past but it was more or less unusable with multiple MM and each version requiring a new compile. I need to find a new system that does not require as much hard linking (annotation and/or reflection ?). \u003Cp\u003EI was considering it since I also want to write something that needs to run after MM, but I don\u0027t want to package it into MM since it is not config related.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, the system I was thinking of involved registering events, but that of course requires hard linking and thus recompiling on MM version changes, which is reasonable to want to avoid. Reflection might be work - one option might be to look through all LoadingSytem -derived types for a static method with a particular signature (e.g. MMOnReload()) or something like that, though LoadingSystem might be a bit heavy for some of the things people might be doing with this (and looking through all types seems excessive). Another option is the route blizzy78\u0027s toolbar takes, which is to have a bit of code that you copy into your project.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-08-04T21:53:46Z","Content":"\n\u003Cp\u003EVersion 2.6.7 is out\u003C/p\u003E\u003Cp\u003E - log now displays the SHA256 of all loaded dll and the KSP exe\u003C/p\u003E\u003Cp\u003E - at the end of the patching MM will call other mods that implement a specific method.\u003C/p\u003E\u003Cp\u003EModule Manager will \u003C/p\u003E\u003Cp\u003E- call a public static method named ModuleManagerPostLoad in any class that implements it\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic static void ModuleManagerPostLoad()\u003Cbr\u003E{\u003Cbr\u003E\t// do stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E - call the public method named ModuleManagerPostLoad in all the active instance of a class that inherit MonoBehaviour that implements it\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic void ModuleManagerPostLoad()\u003Cbr\u003E{\u003Cbr\u003E\t// do stuff\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBoth method must have no parameters.\u003C/p\u003E\u003Cp\u003EDownloads : \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/ModuleManager/94/artifact/ModuleManager-2.6.7.dll\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager.2.6.7.dll\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/ModuleManager/94/artifact/ModuleManager-2.6.7.zip\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager-2.6.7.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESHA256 : 98471342be4f4dd13c2562c96b78c23f2ba741070b5fdcdb5d1cdd5bf63ecaf3\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-04T21:56:20Z\u0022 title=\u002208/04/2015 09:56  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 4, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-04T22:06:43Z","Content":"\n\u003Cp\u003EWow, quick turnaround. Thanks so much!\u003C/p\u003E\n"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2015-08-04T22:42:43Z","Content":"\n\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E an update!\n"},{"CreatedByName":"ctbram","CreatedById":99635,"CreatedDateTime":"2015-08-04T23:12:47Z","Content":"\n\u003Cp\u003ECan you add to the first node something about under what conditions you should delete the cache files (I believe there are four now that get created). I just pulled my hair out for two days because I could not get a couple mods to install. For example Active Texture Management was not compressing files and was actually causing my game to crash. I was getting numerous crashes and odd glitches during game play. As an after thought I deleted all four of the cache file and the first thing I noticed was ATM was clearing compressing mods as the load time went way up as it normally does the first time you launch using ATM. The game has worked fine sine. Now I am super paranoid and with every new mod I install or even updates I wipe the MM cache files. But I would like to know if this is really necessary?\u003C/p\u003E\n"},{"CreatedByName":"tkw","CreatedById":142638,"CreatedDateTime":"2015-08-04T23:42:02Z","Content":"\n\u003Cp\u003E[h=2]HTTP ERROR 404[/h]\u003Cspan style=\u0022font-family:\u0027Times New Roman\u0027;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003EProblem accessing /jenkins/job/ModuleManager/94/artifact/ModuleManager-2.6.7.dll. Reason:\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E Not Found\u003C/p\u003E\u003Cp\u003Ei see this error download the .dii[h=2][/h]\u003C/p\u003E\n"},{"CreatedByName":"FlexGunship","CreatedById":32705,"CreatedDateTime":"2015-08-05T01:27:17Z","Content":"\n\u003Cp\u003EOkay, I did my best to hunt this down. I\u0027ve read the ModuleManager handbook and syntax guides, I\u0027ve reviewed all of the examples that are linked in there, and I just finished searching this thread.\u003C/p\u003E\u003Cp\u003EI know there are similar questions, but I haven\u0027t seen this one.\u003C/p\u003E\u003Cp\u003EI want to perform arithmetic on the second entry of each index of atmosphereCurve while leaving the first in tact. (This is to make 64k somewhat easier from a delta-v stance, but not a thrust/construction stance.) I\u0027ve tried the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 *= 1 *= 1.33\u003Cbr\u003E @key,1 *= 1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 = 0\u003Cbr\u003E @key,0 *= 1.33\u003Cbr\u003E @key,1 = 1\u003Cbr\u003E @key,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,*,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI usually tackle these things on my own, but this one is besting me. Any thoughts?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-05T04:20:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlexGunship\u0022 data-cite=\u0022FlexGunship\u0022\u003E\u003Cdiv\u003EOkay, I did my best to hunt this down. I\u0027ve read the ModuleManager handbook and syntax guides, I\u0027ve reviewed all of the examples that are linked in there, and I just finished searching this thread.\u003Cp\u003EI know there are similar questions, but I haven\u0027t seen this one.\u003C/p\u003E\u003Cp\u003EI want to perform arithmetic on the second entry of each index of atmosphereCurve while leaving the first in tact. (This is to make 64k somewhat easier from a delta-v stance, but not a thrust/construction stance.) I\u0027ve tried the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 *= 1 *= 1.33\u003Cbr\u003E @key,1 *= 1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 = 0\u003Cbr\u003E @key,0 *= 1.33\u003Cbr\u003E @key,1 = 1\u003Cbr\u003E @key,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,*,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI usually tackle these things on my own, but this one is besting me. Any thoughts?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think you\u0027re going to be able to do that the way you want. You might have to use variables instead as detailed here: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219-Module-Manager-2-3-5-%28Sept-14%29-Loading-Speed-Fix?p=1416253\u0026amp;viewfull=1#post1416253\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/55219-Module-Manager-2-3-5-%28Sept-14%29-Loading-Speed-Fix?p=1416253\u0026amp;viewfull=1#post1416253\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-05T05:25:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FlexGunship\u0022 data-cite=\u0022FlexGunship\u0022\u003E\u003Cdiv\u003EOkay, I did my best to hunt this down. I\u0027ve read the ModuleManager handbook and syntax guides, I\u0027ve reviewed all of the examples that are linked in there, and I just finished searching this thread.\u003Cp\u003EI know there are similar questions, but I haven\u0027t seen this one.\u003C/p\u003E\u003Cp\u003EI want to perform arithmetic on the second entry of each index of atmosphereCurve while leaving the first in tact. (This is to make 64k somewhat easier from a delta-v stance, but not a thrust/construction stance.) I\u0027ve tried the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 *= 1 *= 1.33\u003Cbr\u003E @key,1 *= 1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,0 = 0\u003Cbr\u003E @key,0 *= 1.33\u003Cbr\u003E @key,1 = 1\u003Cbr\u003E @key,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleEngines*]]\u003Cbr\u003E{ \u003Cbr\u003E @MODULE[ModuleEngines*]\u003Cbr\u003E {\u003Cbr\u003E @heatProduction *= 0.66\u003Cbr\u003E\u003Cbr\u003E @atmosphereCurve\u003Cbr\u003E {\u003Cbr\u003E @key,*,1 *= 1.33 \u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI usually tackle these things on my own, but this one is besting me. Any thoughts?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think FloatCurve values can be edited with simple math. It\u0027s two or four numbers separated by spaces, and I don\u0027t believe MM knows what to do with that. As Starwaster mentioned, you might be able to do something with variables, though I don\u0027t know how you\u0027d isolate the individual values in the first place.\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-08-05T08:07:07Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@sarbian \u003C/strong\u003E(mainly)\u003C/p\u003E\u003Cp\u003EI was hitting a wall lately with a config I\u0027m writing and I was almost ready to give up when this morning at 3.00 AM, I had the intuition that made me crack the issue.\u003C/p\u003E\u003Cp\u003Enow, I\u0027m assuming this behaviour is a bit strange, if it\u0027s normal it means that I\u0027m missing something.\u003C/p\u003E\u003Cp\u003Eif anyone can point it out for me I\u0027d be grateful \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eis there any reason why this patch \u003C/strong\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E{\u003Cbr\u003E// stuff\u003Cbr\u003E}[/COLOR]\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]@CLOUD_LAYER_PACK:HAS[@CLOUD_LAYER:HAS[@DEFAULTS:HAS[#body[[/COLOR][B][COLOR=#0000cd]Laythe[/COLOR][/B]],#altitude[[B][COLOR=#0000cd]6000[/COLOR][/B][COLOR=#333333]]]]]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E \u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003Eworks only if I target the first \u003C/span\u003E\u003C/strong\u003E\u003Cem\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ECLOUD_LAYER\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E node, but not if I try to target any other?\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EI\u0027ve checked and double-checked this, and it only works when the #body and #altitude values are those from the first CLOUD_LAYER node, and not from any of the others.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EIn the log there is no error, MM simply never applies the patch since (I assume) it doesn\u0027t find anything after the :HAS search\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-11T12:01:07Z\u0022 title=\u002208/11/2015 12:01  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 11, 2015\u003C/time\u003E by Sigma88\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2015-08-05T11:58:18Z","Content":"\n\u003Cp\u003EHi, i need some help, too. I tried to make better configs for RealChuteLite bundled with FAR.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EREALCHUTELITECONFIGS\u003Cbr\u003E{\u003Cbr\u003E    massOfMk1ParachuteInv = #$@PART[parachuteSingle]/mass$\u003Cbr\u003E    @massOfMk1ParachuteInv != -1  // 1 over ...\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleParachute]]:NEEDS[!RealChute]:FOR[FerramAerospaceResearch]\u003Cbr\u003E{\u003Cbr\u003E        //Copies ModuleParachute to transform it into RealChute\u003Cbr\u003E        \u002BMODULE[ModuleParachute]\u003Cbr\u003E        {\u003Cbr\u003E            @name = RealChuteFAR\u003Cbr\u003E\u003Cbr\u003E            // mass = area * some-fixed-area-density\u003Cbr\u003E            // -\u0026gt; mass0 / area0 = mass1 / area1\u003Cbr\u003E            // -\u0026gt; area1 = area0 (mass1/mass0)\u003Cbr\u003E            // -\u0026gt; diameter1 = diameter0 (mass1/mass0)^(1/2)\u003Cbr\u003E            multiplier = #$../mass$\u003Cbr\u003E            @multiplier *= 10  // WORKS\u003Cbr\u003E            //@multiplier *= #$@REALCHUTELITECONFIGS/massOfMk1ParachuteInv$ // ERROR\u003Cbr\u003E            @multiplier != 0.5 // multiplier = sqrt(multiplier)\u003Cbr\u003E            %deployedDiameter = 25 // default\u003Cbr\u003E            @deployedDiameter *=  #$multiplier$\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis line \u0022@multiplier *= #$@REALCHUTELITECONFIGS/massOfMk1ParachuteInv$\u0022 generates an error.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[ModuleManager] Error - Failed to do a maths replacement: \u002BMODULE[ModuleParachute] : original value=\u00220.1\u0022 operator=* mod value=\u0022#$@PART[parachuteSingle]/mass$\u0022\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI cannot figure it out. Even the error report seems wrong since it should be one over the mass of the Mk1 Parachute. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-08-05T12:25:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DaMichel\u0022 data-cite=\u0022DaMichel\u0022\u003E\u003Cdiv\u003EHi, i need some help, too. I tried to make better configs for RealChuteLite bundled with FAR.\u003Cp\u003EI cannot figure it out. Even the error report seems wrong since it should be one over the mass of the Mk1 Parachute. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ehave you considered doing this?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleParachute]]:NEEDS[!RealChute]:FOR[FerramAerospaceResearch]\u003Cbr\u003E{\u003Cbr\u003E        \u002BMODULE[ModuleParachute]\u003Cbr\u003E        {\u003Cbr\u003E            @name = RealChuteFAR\u003Cbr\u003E            %deployedDiameter = #$@PART[parachuteSingle]/mass$\u003Cbr\u003E            @deployedDiameter != -1\u003Cbr\u003E            @deployedDiameter *= #$../mass$\u003Cbr\u003E            @deployedDiameter *= 10\u003Cbr\u003E            @deployedDiameter != 0.5\u003Cbr\u003E            @deployedDiameter *= 25\u003Cbr\u003E        }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-05T12:34:34Z","Content":"\n\u003Cp\u003EIIRC MM doesn\u0027t apply patches inside top level nodes. So if you had REALCHUTELITECONFIGS:BEFORE[FerramAerospaceResearch] it should work.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-05T12:44:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blowfish\u0022 data-cite=\u0022blowfish\u0022\u003E\u003Cdiv\u003EIIRC MM doesn\u0027t apply patches inside top level nodes. So if you had REALCHUTELITECONFIGS:BEFORE[FerramAerospaceResearch] it should work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo longer true; top level nodes are patched the same as anything else now. What\u0027s not patched are things that were originally configured in the PluginData folder......\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-08-05T13:06:00Z","Content":"\n\u003Cp\u003Eon a side note:\u003C/p\u003E\u003Cp\u003Eare you sure you can use \u0022\u002B\u0022 ?\u003C/p\u003E\u003Cp\u003Ehere it sais to use \u0022#\u0022\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E- # operator to copy-paste whole node from anywhere. The syntax look like the one for the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219-Module-Manager-2-3-5-%28Sept-14%29-Loading-Speed-Fix?p=1416253\u0026amp;viewfull=1#post1416253\u0022 rel=\u0022external nofollow\u0022\u003Evariables\u003C/a\u003E. I hope the example make the syntax clear :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003EMY_NODE_LIBRARY\u003Cbr\u003E{\u003Cbr\u003E MODULE\u003Cbr\u003E {\u003Cbr\u003E name = MechJebCore \u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleCommand],!MODULE[MechJebCore]]\u003Cbr\u003E{ \u003Cbr\u003E #@MY_NODE_LIBRARY/MODULE[MechJebCore] { }\u003Cbr\u003E\u003Cbr\u003E MODULE \u003Cbr\u003E {\u003Cbr\u003E name = tobepasted\u003Cbr\u003E } \u003Cbr\u003E\u003Cbr\u003E OTHER\u003Cbr\u003E {\u003Cbr\u003E fun = 9001\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E OTHER2\u003Cbr\u003E {\u003Cbr\u003E fun = 9001\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E MODULE\u003Cbr\u003E {\u003Cbr\u003E #../MODULE[tobepasted] { }\u003Cbr\u003E\u003Cbr\u003E #../OTHER { }\u003Cbr\u003E\u003Cbr\u003E #/OTHER2 { }\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E[/spoiler]\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve always used \u0022\u002B\u0022 only for PARTs and never for sub-nodes. but it may work anyways\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"DaMichel","CreatedById":93697,"CreatedDateTime":"2015-08-05T13:44:13Z","Content":"\n\u003Cp\u003EThanks. This worked\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[*]:HAS[@MODULE[ModuleParachute]]:NEEDS[!RealChute]:FOR[FerramAerospaceResearch]\u003Cbr\u003E{\u003Cbr\u003E        //Copies ModuleParachute to transform it into RealChute\u003Cbr\u003E        \u002BMODULE[ModuleParachute]\u003Cbr\u003E        {\u003Cbr\u003E            @name = RealChuteFAR\u003Cbr\u003E\u003Cbr\u003E            sizeMultiplier = #$@PART[parachuteSingle]/mass$\u003Cbr\u003E            @sizeMultiplier != -1  // 1 over ...\u003Cbr\u003E            @sizeMultiplier *= #$../mass$\u003Cbr\u003E            @sizeMultiplier != 0.5 // multiplier = sqrt(multiplier)\u003Cbr\u003E\u003Cbr\u003E            %deployedDiameter = 25 // default\u003Cbr\u003E            @deployedDiameter *=  #$sizeMultiplier$\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EIIRC MM doesn\u0027t apply patches inside top level nodes. So if you had REALCHUTELITECONFIGS:BEFORE[FerramAerospaceResearch] it should work. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis didn\u0027t.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eare you sure you can use \u0022\u002B\u0022 ?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know. It was this way before \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EBy the way, 2.6.7 of ModuleManager is apparently not in CKAN. I didn\u0027t notice, so i\u0027ve actually been using the previous version 2.6.6.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-08-05T14:55:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DaMichel\u0022 data-cite=\u0022DaMichel\u0022\u003E\u003Cdiv\u003EThanks. This worked\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleParachute]]:NEEDS[!RealChute]:FOR[FerramAerospaceResearch]\u003Cbr\u003E{\u003Cbr\u003E        //Copies ModuleParachute to transform it into RealChute\u003Cbr\u003E        \u002BMODULE[ModuleParachute]\u003Cbr\u003E        {\u003Cbr\u003E            @name = RealChuteFAR\u003Cbr\u003E\u003Cbr\u003E            sizeMultiplier = #$@PART[parachuteSingle]/mass$\u003Cbr\u003E            @sizeMultiplier != -1  // 1 over ...\u003Cbr\u003E            @sizeMultiplier *= #$../mass$\u003Cbr\u003E            @sizeMultiplier != 0.5 // multiplier = sqrt(multiplier)\u003Cbr\u003E\u003Cbr\u003E            %deployedDiameter = 25 // default\u003Cbr\u003E            @deployedDiameter *=  #$sizeMultiplier$\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis didn\u0027t.\u003C/p\u003E\u003Cp\u003EI don\u0027t know. It was this way before \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003EBy the way, 2.6.7 of ModuleManager is apparently not in CKAN. I didn\u0027t notice, so i\u0027ve actually been using the previous version 2.6.6.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk, no, you don\u0027t want to do that. You will literally copy the node and end up with 1 ModuleParachute and 1 RealChuteFAR on the same part.\u003C/p\u003E\u003Cp\u003EChange that \u002B to a @\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleParachute]]:NEEDS[!RealChute]:FOR[FerramAerospaceResearch]\u003Cbr\u003E{\u003Cbr\u003E        //Edit the node with ModuleParachute to transform it into RealChute\u003Cbr\u003E        @MODULE[ModuleParachute]\u003Cbr\u003E        {\u003Cbr\u003E            @name = RealChuteFAR\u003Cbr\u003E\u003Cbr\u003E            sizeMultiplier = #$@PART[parachuteSingle]/mass$\u003Cbr\u003E            @sizeMultiplier != -1  // 1 over ...\u003Cbr\u003E            @sizeMultiplier *= #$../mass$\u003Cbr\u003E            @sizeMultiplier != 0.5 // multiplier = sqrt(multiplier)\u003Cbr\u003E\u003Cbr\u003E            %deployedDiameter = 25 // default\u003Cbr\u003E            @deployedDiameter *=  #$sizeMultiplier$\u003Cbr\u003E        }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sigma88\u0022 data-cite=\u0022Sigma88\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@sarbian \u003C/strong\u003E(mainly)\u003Cp\u003EI was hitting a wall lately with a config I\u0027m writing and I was almost ready to give up when this morning at 3.00 AM, I had the intuition that made me crack the issue.\u003C/p\u003E\u003Cp\u003Enow, I\u0027m assuming this behaviour is a bit strange, if it\u0027s normal it means that I\u0027m missing something.\u003C/p\u003E\u003Cp\u003Eif anyone can point it out for me I\u0027d be grateful \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eis there any reason why this patch \u003C/strong\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E{\u003Cbr\u003E// stuff\u003Cbr\u003E}[/COLOR]\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]@CLOUD_LAYER_PACK:HAS[@CLOUD_LAYER:HAS[@DEFAULTS:HAS[#body[[/COLOR][B][COLOR=#0000cd]Laythe[/COLOR][/B]],#altitude[[B][COLOR=#0000cd]6000[/COLOR][/B][COLOR=#333333]]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E \u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003Eworks only if I target the first \u003C/span\u003E\u003C/strong\u003E\u003Cem\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003ECLOUD_LAYER\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E node, but not if I try to target any other?\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EI\u0027ve checked and double-checked this, and it only works when the #body and #altitude values are those from the first CLOUD_LAYER node, and not from any of the others.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EIn the log there is no error, MM simply never applies the patch since (I assume) it doesn\u0027t find anything after the :HAS search\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is problematic given the lack of named nodes.\u003C/p\u003E\u003Cp\u003EAnd your code example is missing about 3 brackets.\u003C/p\u003E\u003Cp\u003EAs for your \u0027stuff\u0027 you probably want to put your #body and #altitude checks in whatever is going in the \u0027stuff\u0027 to target individual layers\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@CLOUD_LAYER_PACK\u003Cbr\u003E{\u003Cbr\u003E    @CLOUD_LAYER:HAS[#body[Laythe]]\u003Cbr\u003E    {\u003Cbr\u003E        @DEFAULTS // Only has one DEFAULTS per CLOUD_LAYER so don\u0027t do any targeting here\u003Cbr\u003E        {\u003Cbr\u003E            // your stuff\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sigma88","CreatedById":113260,"CreatedDateTime":"2015-08-05T15:05:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003Eyour code example is missing about 3 brackets.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eyup, my fault... just a copy paste error on the forum tho. the cfg is fine\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAs for your \u0027stuff\u0027 you probably want to put your #body and #altitude checks in whatever is going in the \u0027stuff\u0027 to target individual layers\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@CLOUD_LAYER_PACK\u003Cbr\u003E{\u003Cbr\u003E    @CLOUD_LAYER:HAS[#body[Laythe]]\u003Cbr\u003E    {\u003Cbr\u003E        @DEFAULTS // Only has one DEFAULTS per CLOUD_LAYER so don\u0027t do any targeting here\u003Cbr\u003E        {\u003Cbr\u003E            // your stuff\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethe \u0022stuff\u0022 is supposed to be in \u0022CLOUD_LAYER_PACK\u0022, the :HAS is just a check to target the correct \u0022CLOUD_LAYER_PACK\u0022\u003C/p\u003E\u003Cp\u003Ebasically this is the concept of how it works:\u003C/p\u003E\u003Cp\u003E1- every clouds pack (EVE, KSPRC, AVP) has an unique CLOUD_LAYER_PACK\u003C/p\u003E\u003Cp\u003E2- if I find that unique CLOUD_LAYER_PACK then I know which mod the player is using\u003C/p\u003E\u003Cp\u003E3- if I know which mod the player is using I can activate the correct .cfg for adding clouds (in this case to OPM)\u003C/p\u003E\u003Cp\u003E4- the \u0022stuff\u0022 is basically just adding a name and variable to that CLOUD_LAYER_PACK \u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E%name = MainCloudPack\u003C/p\u003E\u003Cp\u003E%CloudsMod = 1 // example: 1 for EVE, 2 for KSPRC, 3 for AVP\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E5- After I have defined it, I can check it\u0027s value to know which mod is installed\u003C/p\u003E\u003Cp\u003Ethis is actually working. it just seems strange that it doesn\u0027t look for those :HAS in the whole \u0022CLOUD_LAYER_PACK\u0022 but just in the first node.\u003C/p\u003E\n"}]}