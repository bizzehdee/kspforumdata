{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":371,"Articles":[{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-29T17:19:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ManuxKerb\u0022 data-cite=\u0022ManuxKerb\u0022\u003E\u003Cdiv\u003EHi Guys,\u003Cp\u003EI installed machjeb a while ago and used it to learn how to do the stuff in real. \u003C/p\u003E\u003Cp\u003ESo now im getting into rovers and i got the rover autopilot working (speed and direction) but when i exit the scene, to the space center or to another ship, the rover stops and does not follow its route like it should. Also time warp is not posibble while moving so essentially i neet to watch the autopilot so it works....\u003C/p\u003E\u003Cp\u003EHow can i time warp with the rover autopilot active so things progress ?\u003C/p\u003E\u003Cp\u003EThanks\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can\u0027t, outside of Kerbin anyway (not too sure about Duna, Laythe, and Eve), it\u0027s a hardcoded limitation of KSP.\u003C/p\u003E\n"},{"CreatedByName":"ManuxKerb","CreatedById":139441,"CreatedDateTime":"2015-03-29T18:45:39Z","Content":"\n\u003Cp\u003EHi James,\u003C/p\u003E\u003Cp\u003EIts on the mun, but its not my problem that i can not time accelarate while im at the scene, the promlem is, that the rover autopilot forgets to move the rover when im not at the scene. So when i switch back to the Space Center the rover stops but it should continue on its way to the waypoint (at least i hope this is intended!) In Space Center i could tan time exalerate. Also on Kerbin 5x times warp is possible seems not so on the mun.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-29T18:51:01Z\u0022 title=\u002203/29/2015 06:51  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 29, 2015\u003C/time\u003E by ManuxKerb\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-03-29T22:21:38Z","Content":"\n\u003Cp\u003EYou can\u0027t control vessel (so rover too) when they are not in focus or less than 2.5 km.\u003C/p\u003E\n"},{"CreatedByName":"ManuxKerb","CreatedById":139441,"CreatedDateTime":"2015-03-29T23:53:51Z","Content":"\n\u003Cp\u003EGrr, so we stuck with it then how it is right ?\u003C/p\u003E\u003Cp\u003EA suggestion tho, could you make it so, that we can use the waypoints without having this big waypoint window open? So we can manually drive the rover and follw the waypoint ?\u003C/p\u003E\u003Cp\u003EThis would be awesome.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-03-29T23:55:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ManuxKerb\u0022 data-cite=\u0022ManuxKerb\u0022\u003E\u003Cdiv\u003EA suggestion tho, could you make it so ... we can manually drive the rover and follw the waypoint ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/104758-0-90-Waypoint-Manager-v2-1-6-2015-03-24-%28Formerly-In-Flight-Waypoints%29\u0022 rel=\u0022external nofollow\u0022\u003EWaypoint Manager?\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Blue5","CreatedById":140101,"CreatedDateTime":"2015-03-30T04:32:45Z","Content":"\n\u003Cp\u003ESarbian and all, \u003C/p\u003E\u003Cp\u003EThanks! that worked. \u003C/p\u003E\u003Cp\u003ELooking forward in learning and using MechJeb. \u003C/p\u003E\u003Cp\u003ERed5 (I will be changing my name - please stand by)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EDo you have the game (or steam) install in C:\\Program Files ? Windows protection may stop the game from loading the mod. You need to move the game elsewhere if this is the case.\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-30T21:02:24Z","Content":"\n\u003Cp\u003EI was chute testing a return probe when mechjeb decided to be temporarily confused about math after I had landed and the orbital resource scanner (telescope looking scanner, SCANsat, or maybe MKS) got temporarily pushed into the radial chutes (novapunch I think) and the soil moisture scanner (Dmagic science) when it tipped over. I didn\u0027t have anything \u0027active\u0027 going, the only mechjeb thing I had open was the surface info window, also with dev build 414.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EArithmeticException: NAN\u003Cbr\u003Eat System.Math.Sign (double) \u0026lt;0x00087\u0026gt;\u003Cbr\u003Eat Orbit.solveEccentricAnomalyExtremeEcc (double,double,int) \u0026lt;0x00061\u0026gt;\u003Cbr\u003Eat Orbit.getRelativePositionAtT (double) \u0026lt;0x00135\u0026gt;\u003Cbr\u003Eat Orbit.getRelativePositionAtUT (double) \u0026lt;0x00039\u0026gt;\u003Cbr\u003Eat MuMech.OrbitExtensions.SwappedRelativePositionAtUT (Orbit,double) \u0026lt;0x0001f\u0026gt;\u003Cbr\u003Eat MuMech.OrbitExtensions.SwappedAbsolutePositionAtUT (Orbit,double) \u0026lt;0x0003c\u0026gt;\u003Cbr\u003Eat MuMech.MechJebModuleInfoItems.TimeToImpact () \u0026lt;0x0009a\u0026gt;\u003Cbr\u003Eat (wrapper dynamic-method) System.Runtime.CompilerServices.ExecutionScope.lambda_method (System.Runtime.CompilerServices.ExecutionScope,object) \u0026lt;0x0002b\u0026gt;\u003Cbr\u003Eat MuMech.ValueInfoItem/\u0026lt;ValueInfoItem\u0026gt;c__AnonStoreyA.\u0026lt;\u0026gt;m__40 () \u0026lt;0x00019\u0026gt;\u003Cbr\u003Eat MuMech.ValueInfoItem.DrawItem () \u0026lt;0x00015\u0026gt;\u003Cbr\u003Eat MuMech.MechJebModuleCustomInfoWindow.WindowGUI (int) \u0026lt;0x000a6\u0026gt;\u003Cbr\u003Eat UnityEngine.GUILayout/LayoutedWindow.DoWindow (int) \u0026lt;0x000bb\u0026gt;\u003Cbr\u003Eat UnityEngine.GUI.CallWindowDelegate (UnityEngine.GUI/WindowFunction,int,UnityEngine.GUISkin,int,single,single,UnityEngine.GUIStyle) \u0026lt;0x00107\u0026gt;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"SaintWacko","CreatedById":113172,"CreatedDateTime":"2015-03-31T03:21:24Z","Content":"\n\u003Cp\u003EWhile I can\u0027t speak to what\u0027s causing the heading issues, or how to reproduce it, I \u003Cem\u003Ecan\u003C/em\u003E say that every single time it happens (and it happens a lot) it can be fixed by simply tapping \u0027f\u0027, which turns SAS on and back off.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-31T03:34:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SaintWacko\u0022 data-cite=\u0022SaintWacko\u0022\u003E\u003Cdiv\u003EWhile I can\u0027t speak to what\u0027s causing the heading issues, or how to reproduce it, I \u003Cem\u003Ecan\u003C/em\u003E say that every single time it happens (and it happens a lot) it can be fixed by simply tapping \u0027f\u0027, which turns SAS on and back off.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you talking about the rover? the rover AP has problems with overcorrecting since it likes to be REALLY REALLY precise. Turning on stability control helps, as does switching to docking mode.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-03-31T16:49:28Z","Content":"\n\u003Cp\u003EI reverted a change I made 2 weeks ago that may be why you get those Control Freeze/SAS problems. Get the newest MJ dev and tell me if you still get it...\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-31T20:53:13Z","Content":"\n\u003Cp\u003EIs there a way to get MechJeb to understand that craft like this example, have the bottom of the craft on the actual bottom? Other than placing a control module somewhere and then orienting it the correct way. Because it behaves like the top is actually forward of the probe pod rather than above it.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/oCKUttF\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/oCKUttF.png\u0022 alt=\u0022oCKUttF.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-03-31T20:57:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EIs there a way to get MechJeb to understand ... craft like this example ... Other than placing a control module somewhere and then orienting it the correct way?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo.\u003C/p\u003E\u003Cp\u003ETo expand: whatever is controlling the navball orientation is what MJ uses for control as well. Docking ports, seats, probe cores, capsules etc. It can\u0027t use a control source that doesn\u0027t exist (one that faces up).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T21:00:56Z\u0022 title=\u002203/31/2015 09:00  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-31T20:59:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ENo. \u003Cspan style=\u0022color:#FFFFFF;\u0022\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E10 Chars.\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh well.\u003C/p\u003E\u003Cp\u003EWhat about spaceplanes and planes in general, how does it fly those?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-03-31T21:01:49Z\u0022 title=\u002203/31/2015 09:01  PM\u0022 data-short=\u00229 yr\u0022\u003EMarch 31, 2015\u003C/time\u003E by smjjames\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-03-31T21:01:57Z","Content":"\n\u003Cp\u003EYou could put a docking port on it facing in the direction you want to be up and control from there. Or the AR202 case MechJeb module mounted with its antenna facing upward and controlling from there would work, too.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2015-03-31T21:06:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EOh well.\u003Cp\u003EWhat about spaceplanes and planes in general, how does it fly those?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThose control sources are pretty much always facing forwards (like your example) and most if not all movement is done in that direction as well (forward through the air rather than up).\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-03-31T21:11:12Z","Content":"\n\u003Cp\u003EOkay. I was just wondering if there was another way to do it without switching probe pods.\u003C/p\u003E\n"},{"CreatedByName":"SilverlightPony","CreatedById":79637,"CreatedDateTime":"2015-03-31T23:32:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EOkay. I was just wondering if there was another way to do it without switching probe pods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELike Red Iron Crown said, anything that you can right-click and press \u0022control from here\u0022 could be placed on the top of the vehicle/side of the cylinder, oriented correctly, and set as the control point. You\u0027d just have to remember to set \u0022control from here\u0022 before launching every time you wheel it out to the pad/runway.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-03-31T23:53:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EOkay. I was just wondering if there was another way to do it without switching probe pods.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, submitting me a patch that changes the many line of code that this would require. I considered it before but I find the utility/timeToPatch ratio not that great.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-01T13:32:24Z","Content":"\n\u003Cp\u003EA few update on what I am currently working on. Some of you may have noticed my thread in the \u0022Plugin Development\u0022 forum and the fact that we now have proper debugging for KSP mods. I stumbled upon that while searching for a way to profile mods and improve MJ perf. So with that and some other tricks I can now profile MJ.\u003C/p\u003E\u003Cp\u003EI am now fixing some easy performance problem (some those patch are already in dev) and will work on the more complex one. \u003C/p\u003E\u003Cp\u003EWhile doing that I identified 2 main source of slow down : \u003C/p\u003E\u003Cp\u003E - the way the custom window info works use a bit too much CPU. That one I was expecting since the legacy Unity UI we use and the way the code is made has MJ do some math twice per frame, which is not exactly smart. I am looking into a way to cache the result each frame without changing too much code. A longer plan would be to use the new Unity UI we will have with KSP 1.0 but that will require even larger code change and I want to experiment with that in a smaller mod than MJ.\u003C/p\u003E\u003Cp\u003E - the fuel/deltav simulation eats a lot of memory weach time it runs. That memory is cleaned up by the garbage collector periodically and induce the small stutter you most likely noticed when using MJ. \u003C/p\u003E\u003Cp\u003EI started working on a way to fix the simulation memory use and while re-reading the code I stumbled upon a bunch of TODO comment left there. That reminded me that the fuel sim needs some work to fix remaining bugs and add compatibility with a few more mods. And then I was also reminded on IRC that I talked about using KER code in MJ a while back. KER simulation is well maintained by padishar and that would save me a lot of time.\u003C/p\u003E\u003Cp\u003ESo I now have a working version of MJ that uses the KER simulation code. It does not mean that when you have both MJ and KER running you will only run 1 simulation (but that may be the case in the future). However you get all the nice KER goodies like support for KIDS and RealFuels. And it will most likely save me some time with the 1.0 change to ISP/Thrust.\u003C/p\u003E\u003Cp\u003EIt does not resolve the memory use problem yet (actually KER code is slightly worse on that point). But I have a solution for that and once I have it working I will submit the change back to KER.\u003C/p\u003E\u003Cp\u003ETLDR : I will most likely push a MJ dev version that uses KER Fuel Sim later today\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2015-04-01T15:01:06Z","Content":"\n\u003Cp\u003ESarbian: When Disable SmartRcs is placed into a menu, it shows up in that menu as Disable SmartASS. (lesser nitpick: It should be smartRCS)\u003C/p\u003E\n"},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-04-02T10:56:40Z","Content":"\n\u003Cp\u003ELittle confused by power requirements. \u003C/p\u003E\u003Cp\u003EI have this simple test ship in orbit. It has just what you see here...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/55y0XUY.png\u0022 alt=\u002255y0XUY.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf I use stock SAS or Smart ASS and make attitude changes or kill rotation then there is enough power for the Probodyne QBE and Advanced Reaction Wheel Module from the two PB-NUKs. They need 37.7/min and the PB-NUKs supply 90/min. So really one should be enough. \u003C/p\u003E\u003Cp\u003EHowever, if I create a node with, say, Maneuver Planner to change the Ap and execute, then the power quickly disappears. The reaction wheel says it doesn\u0027t have enough power and the ship is dead in space until I kill the node. If I use three PB-NUKs then all is good. \u003C/p\u003E\u003Cp\u003EI wouldn\u0027t have thought its the AR202 as it only needs 18/hour. \u003C/p\u003E\u003Cp\u003EAnyone know what\u0027s going on?\u003C/p\u003E\u003Cp\u003EUpdate...\u003C/p\u003E\u003Cp\u003ESeems there is a difference between SAS and Smart ASS useage too. If, after creating a node and executing it until the craft starts to spin for alignment, I then delete the node and use Smart ASS to kill rotation then the power disappears. If I use stock ASS then it doesn\u0027t do this.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-02T11:47:25Z\u0022 title=\u002204/02/2015 11:47  AM\u0022 data-short=\u00229 yr\u0022\u003EApril 2, 2015\u003C/time\u003E by Foxster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-04-02T12:09:59Z","Content":"\n\u003Cp\u003EIt is really strange that you have a power usage diff between the SAS and SASS. I ll have a look later.\u003C/p\u003E\u003Cp\u003EI pushed a bunch of performance related update and the patch that move the fuel sim to KER code. Not sure you will see the perf improvement now (since the KER code offset the gain) but I started working on KER code and divided the memory usage by 3 so far (and found some trick that would work for the rest of MJ code)\u003C/p\u003E\n"},{"CreatedByName":"Climberfx","CreatedById":57126,"CreatedDateTime":"2015-04-02T13:26:23Z","Content":"\n\u003Cp\u003EMech Jeb is already a marvelous equipment, and you are perfecting it?\u003C/p\u003E\u003Cp\u003EWonderful!\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-04-02T13:34:21Z","Content":"\n\u003Cp\u003EI\u0027m just noticing that the pages for dev builds 420 and 421 broke a little because instead of the main stuff being to the right of that sidebar, it\u0027s below it. It\u0027s still downloadable, so, it\u0027s more of a formatting type issue.\u003C/p\u003E\n"},{"CreatedByName":"futrtrubl","CreatedById":77310,"CreatedDateTime":"2015-04-02T17:47:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Foxster\u0022 data-cite=\u0022Foxster\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESeems there is a difference between SAS and Smart ASS useage too. If, after creating a node and executing it until the craft starts to spin for alignment, I then delete the node and use Smart ASS to kill rotation then the power disappears. If I use stock ASS then it doesn\u0027t do this.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMechjeb tends to be more aggressive and controlled in stopping rotation and locking on a heading than stock SAS. Also the power usage numbers for reaction wheels are for a single axis maxed I believe, and mechjeb frequently drives all three, especially if you have force roll selected.\u003C/p\u003E\n"}]}