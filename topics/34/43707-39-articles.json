{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":39,"Articles":[{"CreatedByName":"Gaius","CreatedById":66495,"CreatedDateTime":"2013-09-18T04:46:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003ECould always go the basic route and not have line terminators, or....ye olde school route...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E10 PRINT \u0022Nooooooooooo!\u0022\u003C/p\u003E\u003Cp\u003E20 GOTO 10\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-18T04:57:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaius\u0022 data-cite=\u0022Gaius\u0022\u003E\u003Cdiv\u003E10 PRINT \u0022Nooooooooooo!\u0022\u003Cp\u003E20 GOTO 10\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E lol\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2013-09-18T05:20:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EI haven\u0027t tried this yet (It\u0027s \u0022late\u0022 here and I was moving 12gb of video off of my phone to my computer, through kies air, then to the backup drive. Phone memory card is full and angry birds starwars 2 comes out soon), but Bizz dug up \u0022node\u0022 and \u0022eta:node\u0022 from the source code (oh and I also noticed it on the git hub readme). You could try printing those and see what happens. For eta:node I would imagine this could work:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset tNode to eta:node.\u003Cbr\u003Eset atNode to 0. // once node is complete set to 1 to make sure it doesn\u0027t keep looping. Also could set it to 1 if mag:node is increasing.\u003Cbr\u003Euntil atNode = 1 {\u003Cbr\u003E   if eta:node \u0026lt; tNode / 2 {\u003Cbr\u003E      lock steering to node. //Not sure if this is how this works, assuming it\u0027s even implemented yet...it is on the git hub readme though\u003Cbr\u003E      lock throttle to 1.\u003Cbr\u003E   }.\u003Cbr\u003E   if mag:node \u0026lt; 10 { lock throttle to 0. set atNode to 1. }. //mag:node is the amount of deltaV needed to complete the maneuver. \u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s just a \u0022simple\u0022 way that MIGHT work, again as I haven\u0027t tested it my self I can\u0027t say for sure. To get more complicated you could have it crunch some numbers on how much fuel you have left, mass of your vessel and the amount of thrust you have (to find out how much deltaV you have) and compare that to mag:node to see if you have enough fuel to complete the burn.\u003C/p\u003E\u003Cp\u003EAlso you could add a check to make sure that the deltaV doesn\u0027t increase. You could either put mag:node in a variable before you start the burn and just check that the current deltaV doesn\u0027t go over the original deltaV. Of course in that case you dV could be going down then start to go back up again, but at least the engines would cut off before you ended up with an orbit going somewhere you didn\u0027t want, or at least if it was it\u0027d be to the point that it could be corrected easy enough. I guess you could also dynamically check it too, at the beginning of the until loop you would set it to a variable, wait a second or two to give it a chance to burn a little then run an if statement to compare actual dV to the variable. If actual dV is higher than the variable then you...err...the program knows something is wrong and cuts throttle.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks ill give that a try.\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-18T06:21:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003EYo, \u003Cp\u003EI have stopped whining and had a look into the source code myself.\u003C/p\u003E\u003Cp\u003ESince I haven\u0027t found the Q() and R() expression I am sure that have overseen something.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ECan someone have a look \u003C/span\u003E\u003Ca href=\u0022http://kos.wikia.com/wiki/List_of_all_Commands\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003Ehere\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E tell me if its complete or how many are missing?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EIts still WIP though...\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAwesome. Any idea what FACING or AV do??\u003C/p\u003E\n"},{"CreatedByName":"MP X10L","CreatedById":83046,"CreatedDateTime":"2013-09-18T08:00:06Z","Content":"\n\u003Cp\u003ENot sure if its intended to work this way:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://abload.de/image.php?img=kos0.61bugkjqlt.jpg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://abload.de/img/kos0.61bugkjqlt.jpg\u0022 alt=\u0022kos0.61bugkjqlt.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETook some time until I found what makes my warp-calculation useless. ^^\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-18T08:05:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003EAwesome. Any idea what FACING or AV do??\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Esince AV give back 3 floates I assume it has something to do with Navigation.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EFacing (as I understand this) should give back the current R() in which the ship is facing.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBut I still have to confirm that.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003Eedit: av is the rotation speed. and facing is odd (can\u0027t figure it out)...\u003C/p\u003E\u003Cp\u003Eedit 2: gee ... v() might be fixed, but R() seems broken.\u003C/p\u003E\u003Cp\u003E0.60: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E made my ship flying toward 90 by 45 without rotating.\u003C/p\u003E\u003Cp\u003E0.61:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E still no rotating, but the angles seem random. Worst case so far: real heading 270 by 30.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T09:58:35Z\u0022 title=\u002209/18/2013 09:58  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Bizz Keryear\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-18T11:23:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E0.60: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E made my ship flying toward 90 by 45 without rotating.\u003C/p\u003E\u003Cp\u003E0.61:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E still no rotating, but the angles seem random. Worst case so far: real heading 270 by 30.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm Not sure what is going on there. I was thinking about switching over but for now I\u0027ve been using the V() system with R() to set roll. It\u0027s dead on every time.\u003C/p\u003E\u003Cp\u003EEDIT: Have you tried setting the rotations first? \u003Cstrong\u003Elock steering to R(0,0,180) \u002B heading X by Y.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EOn a side note, I\u0027ve been doing diversion testing. So I have some info to share with you all.\u003C/p\u003E\u003Cp\u003ESetting your steering to the retrograde surface vector is dead easy. \u003Cstrong\u003Elock steering to velocity:surface \u002B V(1,0,0).\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EYou can use just surface speed as a check for re-orientation. \u003Cstrong\u003Ewhen surfacespeed \u0026lt; .001 then lock steering to heading 0 by 90.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EYou will need some kind of accurate hover script. I guess you could wing it if you really wanted.\u003C/p\u003E\u003Cp\u003EWhen you setup your hover script, make sure you set a variable to mission time at the beginning of your loop and set another variable to mission time at the end. You will need to add the loop time into your TWR calc our you will always be over 1.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T12:02:02Z\u0022 title=\u002209/18/2013 12:02  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Payload\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zoranbrasnjo","CreatedById":50952,"CreatedDateTime":"2013-09-18T12:15:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIn general whenever you have a lockup of the entire KSP game from running your KOS code the first culprit to look for is paired open/close syntax markers in which there is a mismatch of opens to closes. (more opens than closes). That locks it up every time I\u0027ve done it, reliably, repeatedly.\u003Cp\u003Ee.g.:\u003C/p\u003E\u003Cp\u003E// no close quote:\u003C/p\u003E\u003Cp\u003Eprint \u0022blah .\u003C/p\u003E\u003Cp\u003E// no close parenthesis:\u003C/p\u003E\u003Cp\u003Eset x to ( y \u002B z .\u003C/p\u003E\u003Cp\u003E// no close braces:\u003C/p\u003E\u003Cp\u003Eif x = 1 { print \u0022x is one\u0022.\u003C/p\u003E\u003Cp\u003Eif x = 0 { print \u0022x is zero\u0022.\u003C/p\u003E\u003Cp\u003EAny of those will make it hang forever.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks guys, you made my life easier, it works! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-18T12:29:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Esince AV give back 3 floates I assume it has something to do with Navigation.\u003C/span\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EFacing (as I understand this) should give back the current R() in which the ship is facing.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EBut I still have to confirm that.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003Eedit: av is the rotation speed. and facing is odd (can\u0027t figure it out)...\u003C/p\u003E\u003Cp\u003Eedit 2: gee ... v() might be fixed, but R() seems broken.\u003C/p\u003E\u003Cp\u003E0.60: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E made my ship flying toward 90 by 45 without rotating.\u003C/p\u003E\u003Cp\u003E0.61:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading 90 by 45 \u002B R(0,0,180).\u003C/pre\u003E\u003Cp\u003E still no rotating, but the angles seem random. Worst case so far: real heading 270 by 30.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure you really need R() in combination with using heading, well...I guess for roll maybe, though I don\u0027t really see why, except maybe for planes. Or maybe I\u0027m just not getting it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I assume Kevin will eventually get roll added to heading some how. I\u0027ll try putting R() first though and see how that goes.\u003C/p\u003E\u003Cp\u003EIsn\u0027t this fun? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow that I\u0027ve got a relatively ok orbit script, I think for my next trick I\u0027m going to make a geosync orbit script. Particularly one that is capable of putting a number of sats in geosync, or is it kerbosync?\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-18T12:34:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003ESetting your steering to the retrograde surface vector is dead easy. \u003Cstrong\u003Elock steering to velocity:surface \u002B V(1,0,0).\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETried that. Does not work.\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-18T12:43:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003ETried that. Does not work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWorks just fine here. Been using it all day! I have diverted every direction under the sun too. You sure you don\u0027t have a control authority problem? I noticed when you do that, the control is really slow to respond compared to just setting the direction in a normal way. It does get there though. I guarantee it. Add some reaction wheels to your craft or maybe some RCS and try again.\u003C/p\u003E\u003Cp\u003EHmm maybe my craft was just wind veining? I\u0027ll screw with it some more.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T12:55:21Z\u0022 title=\u002209/18/2013 12:55  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Payload\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-18T12:46:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EWorks just fine here. Been using it all day! I have diverted every direction under the sun too. You sure you don\u0027t have a control authority problem? I noticed when you do that, the control is really slow to respond compared to just setting the direction in a normal way. It does get there though. I guarantee it. Add some reaction wheels to your craft or maybe some RCS and try again.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have react wheels on it. It steers fine. That code line does nothing. Does not divert the craft. Does not even make it wiggle a bit.\u003C/p\u003E\n"},{"CreatedByName":"Secret Squirrel","CreatedById":69453,"CreatedDateTime":"2013-09-18T12:54:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003EI have react wheels on it. It steers fine. That code line does nothing. Does not divert the craft. Does not even make it wiggle a bit.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust an idea and sorry if its already been suggested, but is your SAS on? If SAS is on and you have a script to lock steering to anything it wont move.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-18T12:55:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Secret Squirrel\u0022 data-cite=\u0022Secret Squirrel\u0022\u003E\u003Cdiv\u003EJust an idea and sorry if its already been suggested, but is your SAS on? If SAS is on and you have a script to lock steering to anything it wont move.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESas never gets touched.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-18T12:56:21Z","Content":"\n\u003Cp\u003EHere is the program I am running:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003Elock steering to heading 0 by 90.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Ewait 5.\u003Cbr\u003Elock steering to heading 0 by 30.\u003Cbr\u003Elock throttle to 0.8.\u003Cbr\u003E\u003Cbr\u003Ewait until stage:liquidfuel \u0026lt; 300.\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Ewait until stage:liquidfuel \u0026lt; 1.\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Elock throttle to 0.\u003Cbr\u003Euntil alt:radar \u0026gt; 0 {\u003Cbr\u003Ewait 1.\u003Cbr\u003Eprint \u0022Radar Altitude:\u0022 \u002B alt:radar.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Euntil alt:radar \u0026lt; 5000 {\u003Cbr\u003Ewait 1.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Elock steering to velocity:surface \u002B V(1,0,0).\u003Cbr\u003E\u003Cbr\u003Euntil verticalspeed \u0026lt; 10 {\u003Cbr\u003Eprint \u0022Radar Altitude:\u0022 \u002B alt:radar.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eset VSC to 0.\u003Cbr\u003Elock throttle to VSC.\u003Cbr\u003E\u003Cbr\u003EUntil alt:radar \u0026lt; 5 {\u003Cbr\u003Eif verticalspeed \u0026gt; 4 { set VSC to VSC \u002B 0.02. }.\u003Cbr\u003Eif verticalspeed \u0026lt; 2 { set VSC to VSC - 0.02. }.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-18T13:04:08Z","Content":"\n\u003Cp\u003EOh no he is right LOL. My craft was just wind veining. HAHA I guess it\u0027s good to know that works! It works too well at that. I must have done 100 plus diversion tests!\u003C/p\u003E\u003Cp\u003EEDIT: OK I\u0027m pretty sure I have it working now. Just give me a second to make sure I\u0027m not trippin.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T13:11:09Z\u0022 title=\u002209/18/2013 01:11  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Payload\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-18T13:05:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EOh no he is right LOL. My craft was just wind veining. HAHA I guess it\u0027s good to know that works! It works too well at that. I must have done 100 plus diversion tests!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHuh? Who was right?\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-18T13:21:33Z","Content":"\n\u003Cp\u003EGotta love being about 500 meters up and getting \u0022unknown term\u0022. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2013-09-18T14:30:12Z","Content":"\n\u003Cp\u003EIs anyone getting latent spinning even when the terminal is off? My crafts are acting as if someone is holding down the \u0027q\u0027 button.\u003C/p\u003E\u003Cp\u003ENever mind, I think it\u0027s something else. Grr.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T15:01:44Z\u0022 title=\u002209/18/2013 03:01  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by GavinZac\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-18T14:36:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003ETried that. Does not work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis does: \u003C/p\u003E\u003Cp\u003E// For prograde. The system insists on only\u003C/p\u003E\u003Cp\u003E// understanding steering by R()\u0027s and not by V()\u0027s.\u003C/p\u003E\u003Cp\u003E// So you turn a V() into an R() by just multiplying\u003C/p\u003E\u003Cp\u003E// it by the no-rotation rotation operator R(0,0,0)\u003C/p\u003E\u003Cp\u003E// to force the system to cast it to an R().\u003C/p\u003E\u003Cp\u003Eset mySteer to R(0,0,0) * velocity:surface.\u003C/p\u003E\u003Cp\u003Elock steering to mySteer.\u003C/p\u003E\u003Cp\u003E//for retrograde, multiply vector by -1 :\u003C/p\u003E\u003Cp\u003Eset vs to velocity:surface.\u003C/p\u003E\u003Cp\u003Eset vsx to 0 - vs:x.\u003C/p\u003E\u003Cp\u003Eset vsy to 0 - vs:y.\u003C/p\u003E\u003Cp\u003Evst vsz to 0 - vs:z.\u003C/p\u003E\u003Cp\u003Eset mySteer to R(0,0,0) * V(vsx, vsy, vsz).\u003C/p\u003E\u003Cp\u003Elock steering to mySteer.\u003C/p\u003E\u003Cp\u003EUsing R(0,0,0) * V(x,y,z) allows me to live entirely in the sensible world of vectors and 3D space and not use Euler rotations. The only hard part is finding the zero point of the \u0022universe\u0022 when I don\u0027t have access to the positional numbers, only the velocity. I\u0027ve been asking mod makers in the development forum how the game\u0027s coordinate system is laid out and it\u0027s messy. I\u0027ve got it worked out that the zero point of the universe is the center of your SOI planetary body, and that the universe\u0027s coordinates rotate with your SOI body, but only if you\u0027re lower than N (N changes depending on body), but when you\u0027re higher up than that, then the frame of reference changes such that the universe stays put and the planet starts rotating. All of that I can get, but then it turns out that for whatever strange reason SQUAD decided to make the axes of the system NOT extend through the prime meridian but at some oddball canted angle at about 100 degrees longitude or so... no idea why or how to query for \u0022where is the x axis on this planet?\u0022.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T14:48:25Z\u0022 title=\u002209/18/2013 02:48  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-18T14:57:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EHmm Not sure what is going on there. I was thinking about switching over but for now I\u0027ve been using the V() system with R() to set roll. It\u0027s dead on every time.\u003Cp\u003EEDIT: Have you tried setting the rotations first? \u003Cstrong\u003Elock steering to R(0,0,180) \u002B heading X by Y.\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI tried that just now and all it did was give me problems. Same with putting R() after heading. The problem, I think, is that R(0,0,180) on the navball is the horizon, and I would end up somewhere between 45 and 0. I tried it with \u0022up\u0022 and my direction never changed. For now I\u0027m ok with it rotating so that north is on the top left of the navball as opposed to the bottom left. I wouldn\u0027t be surprised if in the next update or 2 roll will be a part of heading.\u003C/p\u003E\u003Cp\u003EDidn\u0027t try lock steering to R(0,0,180) * heading X by Y though.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate\u003C/strong\u003E Yeah, that didn\u0027t work out so well either lol, it flipped upside down before settling between 45 and 0, upside down too. Was interesting to watch though lol. \u003C/p\u003E\u003Cp\u003EAlso I\u0027ve found when using \u003Cem\u003Elock steering to heading 90 by 90\u003C/em\u003E it\u0027s best to do it either before releasing the clamps or just after. If you wait too long it\u0027s the same thing as turning SAS on after your rocket starts to tip over. I\u0027m actually going to have it wait until altitude is around \u0026gt; 120, to give it a chance to \u0022clear the tower\u0022 before it rotates around. Not likely to be a problem later on I guess.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T15:13:27Z\u0022 title=\u002209/18/2013 03:13  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dappa","CreatedById":63274,"CreatedDateTime":"2013-09-18T15:11:46Z","Content":"\n\u003Cp\u003EI posted the following on Github as a bug report, but it\u0027ll probably be read by some additional people here, for whom might clear up some confusion about the surface velocity vector. It seems to be flawed at the moment.\u003C/p\u003E\u003Cp\u003EThe orientation of the velocity:surface vector seems somehow fixed to the planet, and not to the local horizon. This becomes especially clear in a circular equatorial orbit, when the surface velocity vector should remain constant (in direction and magnitude). Instead, it varies wildly, depending on your longitude.\u003C/p\u003E\u003Cp\u003ESo while the length of the vector is correct, its direction isn\u0027t.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-18T15:15:04Z\u0022 title=\u002209/18/2013 03:15  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 18, 2013\u003C/time\u003E by Dappa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-18T15:32:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dappa\u0022 data-cite=\u0022Dappa\u0022\u003E\u003Cdiv\u003EI posted the following on Github as a bug report, but it\u0027ll probably be read by some additional people here, for whom might clear up some confusion about the surface velocity vector. It seems to be flawed at the moment.\u003Cp\u003EThe orientation of the velocity:surface vector seems somehow fixed to the planet, and not to the local horizon. This becomes especially clear in a circular equatorial orbit, when the surface velocity vector should remain constant (in direction and magnitude). Instead, it varies wildly, depending on your longitude.\u003C/p\u003E\u003Cp\u003ESo while the length of the vector is correct, its direction isn\u0027t.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease read this thread through to the end: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/50274-I-can-t-understand-the-coordinate-system-why-am-I-moving-vertically-when-on-ground\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/50274-I-can-t-understand-the-coordinate-system-why-am-I-moving-vertically-when-on-ground\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI had the same problem and read the code on github and saw that all it\u0027s doing is exposing us to the native API\u0027s concept of velocity, so I figured whatever weridness was going on must be coming from the underlying mod API. So I asked over there if other mod makers could tell me how the native coordinate system is meant to work.\u003C/p\u003E\u003Cp\u003EI think I can work out from the second number of the \u0022UP\u0022 tuple what the REAL longitude is relative to the planetary axis and work it out from there. (Squad chose to make the reported longitude to the user not match the coordinate grid underneath for ... uh... no apparent reason. The real zero point seems to be around about 100 degrees longitude for some reason).\u003C/p\u003E\n"},{"CreatedByName":"czokletmuss","CreatedById":28063,"CreatedDateTime":"2013-09-18T15:39:55Z","Content":"\n\u003Cp\u003EMaybe it\u0027s a silly question, but is adding this line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = kOSProcessor\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto other parts (command pods) sufficient to make them work as a vanilla kOS processor?\u003C/p\u003E\n"},{"CreatedByName":"GavinZac","CreatedById":68719,"CreatedDateTime":"2013-09-18T15:45:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022czokletmuss\u0022 data-cite=\u0022czokletmuss\u0022\u003E\u003Cdiv\u003EMaybe it\u0027s a silly question, but is adding this line:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = kOSProcessor\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto other parts (command pods) sufficient to make them work as a vanilla kOS processor?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can use Module Manager and Sarbian\u0027s Module Manager Extensions to put kOS into everything that can command a ship, even future-proof if you add mods or Squad makes new parts, by installing them and placing a text file with this in it in your GameData folder:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E@PART[*]:HAS[@MODULE[ModuleCommand]:HAS[!MODULE[kOSProcessor]]]\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E MODULE\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E name = kOSProcessor\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you just put it in by hand into every original part, the next time you update you\u0027ll have to do it again.\u003C/p\u003E\n"}]}