{"TopicId":48436,"ForumId":34,"TopicTitle":"Modular Fuel System Continued v3.3 (OBSOLETE)","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-15T03:22:57Z","PageNum":11,"Articles":[{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-06T15:55:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022soverign\u0022 data-cite=\u0022soverign\u0022\u003E\u003Cdiv\u003EDoes this modify the Tiberdyne Shuttle System parts?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo. Don\u0027t think so, it would need some config files written up for it; Not sure if anyone who contributes uses that parts pack.\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-11-06T21:02:37Z","Content":"\n\u003Cp\u003ESquad is talking about tweakables and secondary fuels now. Wish they\u0027d lay out the specifics so we\u0027d know how to prepare.\u003C/p\u003E\n"},{"CreatedByName":"Razorcane","CreatedById":66919,"CreatedDateTime":"2013-11-07T00:16:09Z","Content":"\n\u003Cp\u003EIs it possible to make UDMH a separate fuel? Since it\u0027s used in hypergolic rocket engines with N2O4, it would be useful for rocket launches. Now I know that monopropellant is considered UDMH, but when using it as rocket fuel, it drains from all stages, instead of just the one, so it\u0027s quite a problem when launching a rocket. Of course if there is a way to prevent monopropellant from being crossfed, that would be fine too.\u003C/p\u003E\n"},{"CreatedByName":"gm537","CreatedById":66746,"CreatedDateTime":"2013-11-07T07:36:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Razorcane\u0022 data-cite=\u0022Razorcane\u0022\u003E\u003Cdiv\u003EIs it possible to make UDMH a separate fuel? Since it\u0027s used in hypergolic rocket engines with N2O4, it would be useful for rocket launches. Now I know that monopropellant is considered UDMH, but when using it as rocket fuel, it drains from all stages, instead of just the one, so it\u0027s quite a problem when launching a rocket. Of course if there is a way to prevent monopropellant from being crossfed, that would be fine too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo if you just want to make monoprop like a standard fuel you should be able to go into the RealFuels/Resources folder and open the ResourcesFuel.cfg and in the monoprop definition section add the line: \u0022@flowMode = STACK_PRIORITY_SEARCH\u0022 that will cause the monoprop to act like a normal fuel. The problem may be that I don\u0027t know how that will affect actual RCS use, see currently RCS isn\u0027t \u0022crossfeeding\u0022 it is being drawn equally from all tanks in the craft regardless of location or even if crossfeed is possible. Alternatively you can add this to a new cfg document (or at the end of the existing aforementioned resources one):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ERESOURCE_DEFINITION\u003Cbr\u003E{\u003Cbr\u003E  name = UDMH\u003Cbr\u003E  density = 0.004\u003Cbr\u003E  flowMode = STACK_PRIORITY_SEARCH\u003Cbr\u003E  transfer = PUMP\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat will create a new resource called UDMH which you can then burn in standard rockets to your heart\u0027s content without changing how Monoprop works. That\u0027s probably what I would do.\u003C/p\u003E\n"},{"CreatedByName":"gm537","CreatedById":66746,"CreatedDateTime":"2013-11-07T07:53:12Z","Content":"\n\u003Cp\u003EOkay guys I am back with another fun question which is I am trying to make a configurable jet engine from the standard jet engine in KSP. I\u0027ve got it mostly figured out but the atmosphere curve isn\u0027t working quite right. Basically I have it holding a fairly high Isp through 0.2atm but in game it is just a \u0027linear\u0027 drop from sea level to vacuum. I suspect it\u0027s related to trying to use tech levels which specify SL and Vac isp multiplier.\u003C/p\u003E\u003Cp\u003EAt the top of the new engine config I do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\t@atmosphereCurve\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t @key,0 = 0 1250\u003Cbr\u003E\t\t @key,1 = 0.2 2050\u003Cbr\u003E\t\t @key,2 = 1 2400 \u003Cbr\u003E\t\t}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd then in the specific config for LiquidFuel I do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\t\tatmosphereCurve\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t \t\tkey = 0 1250\u003Cbr\u003E\t\t \t\tkey = 0.2 2050\u003Cbr\u003E\t\t \t\tkey = 1 2400 \u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tvelocityCurve\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tkey = 900 0 0 0\u003Cbr\u003E\t\t\t\tkey = 750 0.8 0 0\u003Cbr\u003E\t\t\t\tkey = 0 1 0 0\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\tIspSL = 1.2\u003Cbr\u003E\t\t\tIspV = 1.25\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd finally I have modified Real settings to include:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EENGINETYPE\u003Cbr\u003E  {\u003Cbr\u003E   name = J\u003Cbr\u003E   TLISP0\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1000\u003Cbr\u003E    key = 0.2 1500\u003Cbr\u003E    key = 1 2000\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR0 = 35\u003Cbr\u003E   TLISP1\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1000\u003Cbr\u003E    key = 0.2 1500\u003Cbr\u003E    key = 1 2000\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR1 = 43\u003Cbr\u003E   TLISP2\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1020\u003Cbr\u003E    key = 0.2 1530\u003Cbr\u003E    key = 1 2040\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR2 = 54\u003Cbr\u003E   TLISP3\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1040\u003Cbr\u003E    key = 0.2 1561\u003Cbr\u003E    key = 1 2081\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR3 = 63\u003Cbr\u003E   TLISP4\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1061\u003Cbr\u003E    key = 0.2 1592\u003Cbr\u003E    key = 1 2122\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR4 = 69\u003Cbr\u003E   TLISP5\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1082\u003Cbr\u003E    key = 0.2 1624\u003Cbr\u003E    key = 1 2165\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR5 = 73\u003Cbr\u003E   TLISP6\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1104\u003Cbr\u003E    key = 0.2 1656\u003Cbr\u003E    key = 1 2208\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR6 = 76\u003Cbr\u003E   TLISP7\u003Cbr\u003E   {\u003Cbr\u003E    key = 0 1126\u003Cbr\u003E    key = 0.2 1689\u003Cbr\u003E    key = 1 2252\u003Cbr\u003E   }\u003Cbr\u003E   TLTWR7 = 79\u003Cbr\u003E  }\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe problem is that the \u0027middle\u0027 key doesn\u0027t seem to be doing anything. So I am wondering what you guys thoughts are or if you\u0027ve seen / tried to do this before? I\u0027ve also double checked my braces this time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAlso do you know if it\u0027s accurate for a Jet engine\u0027s thrust to scale off Isp? And would there be a way to make SL Isp be used as the base for thrust rather than Vac\u0027s?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-07T20:29:23Z","Content":"\n\u003Cp\u003EApologies, I don\u0027t yet support non-twin-key atmo curves in the TechLevel system.* In the next major release, I plan to do so, and to support per-engine techlevel data. But RSS is taking up all my time; I\u0027m just going to push 3.1 with some fixes and improved ST support shortly.\u003C/p\u003E\u003Cp\u003E*So you need to delete IspSL and IspV, and it will use the atmo curve you specify in the CONFIG. Also don\u0027t specify any techlevel stuff in the main MEC module. No techlevels, but you can have multiple configurations.\u003C/p\u003E\u003Cp\u003EI don\u0027t offhand recall whether it\u0027s accurate that thrust scales; I\u0027ll add a variable to disable it per engine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-07T20:32:01Z\u0022 title=\u002211/07/2013 08:32  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 7, 2013\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"gm537","CreatedById":66746,"CreatedDateTime":"2013-11-07T21:40:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EApologies, I don\u0027t yet support non-twin-key atmo curves in the TechLevel system.* In the next major release, I plan to do so, and to support per-engine techlevel data. But RSS is taking up all my time; I\u0027m just going to push 3.1 with some fixes and improved ST support shortly.\u003Cp\u003E*So you need to delete IspSL and IspV, and it will use the atmo curve you specify in the CONFIG. Also don\u0027t specify any techlevel stuff in the main MEC module. No techlevels, but you can have multiple configurations.\u003C/p\u003E\u003Cp\u003EI don\u0027t offhand recall whether it\u0027s accurate that thrust scales; I\u0027ll add a variable to disable it per engine.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOkay thanks! That\u0027s pretty much what I figured.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-11-07T22:02:32Z","Content":"\n\u003Cp\u003EPlease keep in mind that FloatCurve can use 4-floats keys (two additional values being in- and out-tangents)\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-07T22:07:48Z","Content":"\n\u003Cp\u003EOh, absolutely. The original techlevels just evaluates at 0 and 1 atmosphere, multiplies, and creates a new curve. The new one actually saves the curve to a node, lerps the multipliers into the isps for all k/v pairs, and reloads the curve; that leaves tangents untouched. Might get slightly undesired results since I really don\u0027t want to try recomputing tangents--but if the multipliers are relatively constant, it shouldn\u0027t be a big deal IIRC.\u003C/p\u003E\n"},{"CreatedByName":"dimovski","CreatedById":53976,"CreatedDateTime":"2013-11-08T11:14:31Z","Content":"\n\u003Cp\u003EI was kinda absent... but in the meantime I managed to get some good info on N-III and N-II... so thats something... I think I should be done with Soviet pack at the weekend (might take a bit longer if I dont find a lot of info on Soyuz capsule propellant mass etc.... btw the atlernate fuel was N2O4 with Kerosene... 315seconds vacuum Isp)\u003C/p\u003E\n"},{"CreatedByName":"Miller","CreatedById":64691,"CreatedDateTime":"2013-11-08T13:38:53Z","Content":"\n\u003Cp\u003EI am experiencing a weird bug which doesn\u0027t allow me to select any parts in the action group tab. This MIGHT be happening after i return to the VAB from a flight.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-08T13:53:56Z","Content":"\n\u003Cp\u003EAre you using DREc? I THINK this happens when DREc destroys your vessel and you revert to VAB, I\u0027m not sure though, but I have experienced that bug too\u003C/p\u003E\n"},{"CreatedByName":"Miller","CreatedById":64691,"CreatedDateTime":"2013-11-08T14:21:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003EAre you using DREc? I THINK this happens when DREc destroys your vessel and you revert to VAB, I\u0027m not sure though, but I have experienced that bug too\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is highly possible. I had this issue after my probe burnt up.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-08T16:43:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Miller\u0022 data-cite=\u0022Miller\u0022\u003E\u003Cdiv\u003EI am experiencing a weird bug which doesn\u0027t allow me to select any parts in the action group tab. This MIGHT be happening after i return to the VAB from a flight.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhat does the debug screen say? (or output_log.txt)\u003C/p\u003E\n"},{"CreatedByName":"Miller","CreatedById":64691,"CreatedDateTime":"2013-11-08T18:54:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003Ewhat does the debug screen say? (or output_log.txt)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am new to the debug screen. Are the messages on the top the most recent ones? I am having a problem as they scroll through very fast.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-08T20:32:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Miller\u0022 data-cite=\u0022Miller\u0022\u003E\u003Cdiv\u003EI am new to the debug screen. Are the messages on the top the most recent ones? I am having a problem as they scroll through very fast.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBottom is most recent and if they\u0027re too fast to read then that\u0027s a bad sign. Probably they are null object errors.\u003C/p\u003E\u003Cp\u003EIn your install directory, look for a folder called ksp_data and find the file named output_log.txt in there. If you have a dropbox, put that file there and tell us the link. If you\u0027re not able to do that then paste just a part of it that has the errors. (go in vab, long enough for the errors to start then exit the game and grab the errors from the end)\u003C/p\u003E\u003Cp\u003EIf you dont have that file at all (Mac or Linux) then get the ksp.log from the install directory but it\u0027s not as informative as an output_log.txt is\u003C/p\u003E\n"},{"CreatedByName":"Miller","CreatedById":64691,"CreatedDateTime":"2013-11-08T21:11:22Z","Content":"\n\u003Cp\u003EHere you go : \u003Ca href=\u0022https://www.dropbox.com/s/yrryyuscesbbti9/output_log.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/yrryyuscesbbti9/output_log.txt\u003C/a\u003E .\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-08T21:22:55Z","Content":"\n\u003Cp\u003ENathan, I\u0027ve been doing some experiments involving adding the thermometer module directly to radiators and fuel tanks (insert some KSP science joke about research values here)\u003C/p\u003E\u003Cp\u003EI need to play with it more but it\u0027s looking like it\u0027s a bad idea to actually increase the radiator temperature. It might be realistic but it\u0027s looking like it\u0027s doing bad things to tank temperature because of KSP\u0027s wonky heat system.\u003C/p\u003E\u003Cp\u003EOn a big tank (KWR 3.75, the longest one) I stuck 24 radiators and played with them a bit in action groups so I can control how many are active. They rapidly accumulate enough heat to counteract the cooling effects. KSP wants to transfer that heat right back to the tank and it can do it faster than MFT can move it out again. \u003C/p\u003E\u003Cp\u003Ejust to give you an idea of just how screwed up KSP\u0027s model is: temperatures fluctuate wildly in orbit around a planet. the midnight position is worst because it suddenly and rapidly heats everything up. Noon actually gets pretty cold but only briefly.\u003C/p\u003E\u003Cp\u003Esome of the radiators btw get up into the 200K range and they\u0027re all fighting to dump that back into the tanks.\u003C/p\u003E\n"},{"CreatedByName":"Chimer4","CreatedById":58864,"CreatedDateTime":"2013-11-08T21:40:49Z","Content":"\n\u003Cp\u003EJust a quick question. I seem to remember back on the original thread of this, chestburster (I think) was working on setting it up so that thrust changed with atmospheric pressure, not ISP. Is this something that will/has been implemented in this version? Could be a good addition to real mode if it is \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Chestburster","CreatedById":69476,"CreatedDateTime":"2013-11-08T21:53:19Z","Content":"\n\u003Cp\u003EI\u0027m just doing the config stuff. Nathan is handling the code. But yes, the thrust correction is implemented and working for our currently supported engines.\u003C/p\u003E\n"},{"CreatedByName":"Chimer4","CreatedById":58864,"CreatedDateTime":"2013-11-08T22:13:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chestburster\u0022 data-cite=\u0022Chestburster\u0022\u003E\u003Cdiv\u003EI\u0027m just doing the config stuff. Nathan is handling the code. But yes, the thrust correction is implemented and working for our currently supported engines.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh ok, thAts good to know. Thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-11-08T22:41:39Z","Content":"\n\u003Cp\u003EI\u0027ve got a problem. Launch clamp fuelling towers don\u0027t seem to work. I\u0027m using plenty of mods (see Realism Overhaul thread and my Soyuz plugin list), but the only one that also modifies the clamps is Ioncross Crew Support. Could anyone check this combination?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-11-09T01:25:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dragon01\u0022 data-cite=\u0022Dragon01\u0022\u003E\u003Cdiv\u003EI\u0027ve got a problem. Launch clamp fuelling towers don\u0027t seem to work. I\u0027m using plenty of mods (see Realism Overhaul thread and my Soyuz plugin list), but the only one that also modifies the clamps is Ioncross Crew Support. Could anyone check this combination?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can, I\u0027ll post in an hour or so.\u003C/p\u003E\n"},{"CreatedByName":"asmi","CreatedById":59068,"CreatedDateTime":"2013-11-09T04:52:21Z","Content":"\n\u003Cp\u003EFound a bug - if you surface-attach fuel tanks (I used Stretchy tanks) to existing tank (that is in stack), you can\u0027t change any fuel or anything else in those surface-attached tanks.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-11-09T06:16:05Z","Content":"\n\u003Cp\u003EHuh. I\u0027ll check it out. Guess v3.1 is delayed again. :\\\u003C/p\u003E\u003Cp\u003EStarwaster: I don\u0027t have IonCross handy; did it replicate for you?\u003C/p\u003E\n"}]}