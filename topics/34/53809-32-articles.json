{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":32,"Articles":[{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T18:00:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003ESaves me about 1700mb (saves me from crashing, it runs at about 2.5 Gb and 3.5 without it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E )\u003Cp\u003EEdit: just updated my texture compresser and it now hangs on the squad parts (Can\u0027t actually load ksp now), it takes like 10x more time to load as well, i think i\u0027m gonna go back to the last update, It worked fine, I was using version 1-1 (i think, it may have been later)\u003C/p\u003E\u003Cp\u003EEdit2: I use this mod:\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/65754-HotRockets%21-Particle-FX-Replacement\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/65754-HotRockets%21-Particle-FX-Replacement\u003C/a\u003E could this cause the hangs?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPossibly, Could you please post your KSP.log file?\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-01-16T18:01:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EPossibly, Could you please post your KSP.log file?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EXD let me just see if it loads this last time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: OK i don\u0027t need to load my log, it just wouldn\u0027t load for like uum 2 times in a row : 3rd time\u0027s the charm It loaded now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit 3: ok It loaded but some of the parts look very odd, like they\u0027re shaded differently ,here\u0027s a screenshot of the novapunch parts (sorry if i\u0027m being a pain in the butt)\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Lrn2Wex.jpg?1\u0022 alt=\u0022Lrn2Wex.jpg?1\u0022\u003E\u003C/p\u003E\u003Cp\u003EIs this on purpose?\u003C/p\u003E\u003Cp\u003E(I am using a texture reduction pack, and basic compressor, also the orbital orb looks funny as well)\u003C/p\u003E\u003Cp\u003EHere\u0027s my output log \u003Ca href=\u0022http://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: sorry for this post being incredibly long winded, i\u0027m a bit confused\u003C/p\u003E\u003Cp\u003EOh lordy there\u0027s a lot of things going wrong, this service module is playing the decoupling animation, while in the VAB!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/gd2ZjtO\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/gd2ZjtO\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-16T18:55:09Z\u0022 title=\u002201/16/2014 06:55  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 16, 2014\u003C/time\u003E by Boamere\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2014-01-16T18:59:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ENew update, should resolve most people\u0027s issues. See update log in OP for more details.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExcellent stuff, tyvm \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhile I was waiting for the warp fix I did a little poking around. \u003C/p\u003E\u003Cp\u003EMy test system was taking 2:30 to load:\u003C/p\u003E\u003Cp\u003EA small change to the way you do some of your calculations reduced this to 2:25 - lol. \u003C/p\u003E\u003Cp\u003ESplitting the GetPixel calls across two threads reduced the load time to around 2:08 - not bad I guess.\u003C/p\u003E\u003Cp\u003EAdding a simple cache mechanism (GameData/BoulderCo/Cache) reduced second and subsequent load times to 1:27 - now we are talking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E But I don\u0027t know if writing to the KSP data directories is generally \u0027a good idea\u0027 or if it will work on linux/Mac or even a standard ProgramFiles/Steam install.\u003C/p\u003E\u003Cp\u003EThe changes are trivial but let me know if you\u0027d like the code, it may save you some development time.\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-01-16T19:29:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003EExcellent stuff, tyvm \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EWhile I was waiting for the warp fix I did a little poking around. \u003C/p\u003E\u003Cp\u003EAdding a simple cache mechanism (GameData/BoulderCo/Cache) \u003Cstrong\u003Ereduced second and subsequent load times to 1:27 \u003C/strong\u003E- now we are talking \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E But I don\u0027t know if writing to the KSP data directories is generally \u0027a good idea\u0027 or if it will work on linux/Mac or even a standard ProgramFiles/Steam install.\u003C/p\u003E\u003Cp\u003EThe changes are trivial but let me know if you\u0027d like the code, it may save you some development time.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat sounds interesting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E interesting enough to send to squad, if it doesn\u0027t cause problems\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-01-16T19:40:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ENew update, should resolve most people\u0027s issues. See update log in OP for more details.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m sad to report I\u0027m still seeing only about half the memory savings in Aggressive 2-14, as I saw in Aggressive 2-12 -- 714MB vs. 1.5GB. Load time is also still much higher in the latest version compared to 2-12 -- 7m 7s vs. ~5m.\u003C/p\u003E\u003Cp\u003ENo crashing though, loaded fine, no errors in the log.\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2014-01-16T19:45:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003EThat sounds interesting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E interesting enough to send to squad, if it doesn\u0027t cause problems\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf all you are doing is loading files, which is mostly what Squad do, then adding a cache just means the files are loaded from a different location - no big saving. This mod does a lot of processing on some of the texture data. How much? If I comment out the data processing \u0027GetPixel\u0027 routine my load time goes from 2:30 all the way down to 1:15! That is a lot of time which can be saved, if it works on other systems.\u003C/p\u003E\n"},{"CreatedByName":"team.leit","CreatedById":68347,"CreatedDateTime":"2014-01-16T19:45:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003ESaves me about 1700mb (saves me from crashing, it runs at about 2.5 Gb and 3.5 without it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E )\u003Cp\u003EEdit: just updated my texture compresser and it now hangs on the squad parts (Can\u0027t actually load ksp now), it takes like 10x more time to load as well, i think i\u0027m gonna go back to the last update, It worked fine, I was using version 1-1 (i think, it may have been later)\u003C/p\u003E\u003Cp\u003EEdit2: \u003Cstrong\u003EI use this mod:\u003C/strong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/65754-HotRockets%21-Particle-FX-Replacement\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003Ehttp://forum.kerbalspaceprogram.com/threads/65754-HotRockets%21-Particle-FX-Replacement\u003C/strong\u003E\u003C/a\u003E could this cause the hangs?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, that wouldn\u0027t cause hangs. I am using it and I am loading fine in the latest version of the aggressive\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T20:03:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003EIf all you are doing is loading files, which is mostly what Squad do, then adding a cache just means the files are loaded from a different location - no big saving. This mod does a lot of processing on some of the texture data. How much? If I comment out the data processing \u0027GetPixel\u0027 routine my load time goes from 2:30 all the way down to 1:15! That is a lot of time which can be saved, if it works on other systems.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe problem then becomes saving it where KSP won\u0027t load it into memory. That is the tricky part, unless I make some special non-standard-image type cache. Hmmm... that could work.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T20:06:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI\u0027m sad to report I\u0027m still seeing only about half the memory savings in Aggressive 2-14, as I saw in Aggressive 2-12 -- 714MB vs. 1.5GB. Load time is also still much higher in the latest version compared to 2-12 -- 7m 7s vs. ~5m.\u003Cp\u003ENo crashing though, loaded fine, no errors in the log.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... did you modify any configs? The format changed, so if there were any configs that you added, they may have to be modified. Aggresive 2-14 should be REALLY aggressive. In my full mod configuration I was saving nearly 3GB of memory. Are those values the saved memory or the config reporting? Could you please post your KSP.log file?\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T20:08:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003EXD let me just see if it loads this last time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EEdit: OK i don\u0027t need to load my log, it just wouldn\u0027t load for like uum 2 times in a row : 3rd time\u0027s the charm It loaded now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit 3: ok It loaded but some of the parts look very odd, like they\u0027re shaded differently ,here\u0027s a screenshot of the novapunch parts (sorry if i\u0027m being a pain in the butt)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/Lrn2Wex.jpg?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/Lrn2Wex.jpg?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs this on purpose?\u003C/p\u003E\u003Cp\u003E(I am using a texture reduction pack, and basic compressor, also the orbital orb looks funny as well)\u003C/p\u003E\u003Cp\u003EHere\u0027s my output log \u003Ca href=\u0022http://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: sorry for this post being incredibly long winded, i\u0027m a bit confused\u003C/p\u003E\u003Cp\u003EOh lordy there\u0027s a lot of things going wrong, this service module is playing the decoupling animation, while in the VAB!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/gd2ZjtO\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/gd2ZjtO\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo you have an old version of the mod still around? try deleting the plugin and all the old config files. (if you don\u0027t have visual enhancements you can just delete BoulderCo.\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-01-16T20:42:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EDo you have an old version of the mod still around? try deleting the plugin and all the old config files. (if you don\u0027t have visual enhancements you can just delete BoulderCo.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENah i don\u0027t have the old boulder co. I deleted it, i think I\u0027m going to go back to my previous version, this version has caused me lots of wierd bugs (like engine effects not showing up and phantom forces) I don\u0027t have visual enhancements either i\u0027m using it because i have 37 mods, but thanks anyway \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T20:43:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003EXD let me just see if it loads this last time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EEdit: OK i don\u0027t need to load my log, it just wouldn\u0027t load for like uum 2 times in a row : 3rd time\u0027s the charm It loaded now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit 3: ok It loaded but some of the parts look very odd, like they\u0027re shaded differently ,here\u0027s a screenshot of the novapunch parts (sorry if i\u0027m being a pain in the butt)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/Lrn2Wex.jpg?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/Lrn2Wex.jpg?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs this on purpose?\u003C/p\u003E\u003Cp\u003E(I am using a texture reduction pack, and basic compressor, also the orbital orb looks funny as well)\u003C/p\u003E\u003Cp\u003EHere\u0027s my output log \u003Ca href=\u0022http://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: sorry for this post being incredibly long winded, i\u0027m a bit confused\u003C/p\u003E\u003Cp\u003EOh lordy there\u0027s a lot of things going wrong, this service module is playing the decoupling animation, while in the VAB!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/gd2ZjtO\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/gd2ZjtO\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Elooks like you have issues with other plugins... \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFailed to load assembly C:\\Program Files (x86)\\Steam\\steamapps\\common\\Kerbal Space Program\\GameData\\ExtraplanetaryLaunchpads\\Launchpad.dll:\u003Cbr\u003ESystem.BadImageFormatException: Format of the executable (.exe) or library (.dll) is invalid.\u003Cbr\u003E...\u003Cbr\u003EFailed to load assembly C:\\Program Files (x86)\\Steam\\steamapps\\common\\Kerbal Space Program\\GameData\\Kethane\\Plugins\\MMI_Kethane.dll:\u003Cbr\u003ESystem.BadImageFormatException: Format of the executable (.exe) or library (.dll) is invalid.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ELooks like I\u0027ll have to double check I got all the normal maps. Looks like some NP2 parts might not have been created correctly.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T20:44:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003EXD let me just see if it loads this last time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EEdit: OK i don\u0027t need to load my log, it just wouldn\u0027t load for like uum 2 times in a row : 3rd time\u0027s the charm It loaded now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit 3: ok It loaded but some of the parts look very odd, like they\u0027re shaded differently ,here\u0027s a screenshot of the novapunch parts (sorry if i\u0027m being a pain in the butt)\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/Lrn2Wex.jpg?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/Lrn2Wex.jpg?1\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIs this on purpose?\u003C/p\u003E\u003Cp\u003E(I am using a texture reduction pack, and basic compressor, also the orbital orb looks funny as well)\u003C/p\u003E\u003Cp\u003EHere\u0027s my output log \u003Ca href=\u0022http://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www./download/bnmxcdk34mbmvzv/output_log.zip.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit: sorry for this post being incredibly long winded, i\u0027m a bit confused\u003C/p\u003E\u003Cp\u003EOh lordy there\u0027s a lot of things going wrong, this service module is playing the decoupling animation, while in the VAB!\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/gd2ZjtO\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/gd2ZjtO\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you post a picture of the orbital orb?\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-01-16T20:44:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI\u0027m sad to report I\u0027m still seeing only about half the memory savings in Aggressive 2-14, as I saw in Aggressive 2-12 -- 714MB vs. 1.5GB. Load time is also still much higher in the latest version compared to 2-12 -- 7m 7s vs. ~5m.\u003Cp\u003ENo crashing though, loaded fine, no errors in the log.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESame here \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E weird\u003C/p\u003E\n"},{"CreatedByName":"Boamere","CreatedById":68058,"CreatedDateTime":"2014-01-16T20:51:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003ECan you post a picture of the orbital orb?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure; basically a lot of parts are loading as if they where in shade, like chequerboard shading. Let me get an album. \u003C/p\u003E\u003Cp\u003EEdit:Here you go:\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/OA86g\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-16T21:08:35Z\u0022 title=\u002201/16/2014 09:08  PM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 16, 2014\u003C/time\u003E by Boamere\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2014-01-16T21:35:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EThe problem then becomes saving it where KSP won\u0027t load it into memory. That is the tricky part, unless I make some special non-standard-image type cache. Hmmm... that could work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHumm. I can think of reasons for loading all files from all directories under GameData, I can also think of reasons for being more selective. If you say all files under GameData are loaded I\u0027ll take you at your word but after a few quick tests I can find no trace of my 390MB of cache data when I run KSP.\u003C/p\u003E\u003Cp\u003EI\u0027m using GameData/BoulderCo/Cache as my cache directory, no other sub directories, the file names have no extension, eg \u0027KWRocketry\u002BParts\u002BEngines\u002B3mTitanI\u002BKW3mengineTitan1F1Emiss8bit\u0027\u003C/p\u003E\u003Cp\u003E\u0027Squad\u002BParts\u002BAero\u002BadvancedCanard\u002Bmodel000\u0027\u003C/p\u003E\u003Cp\u003EThe data in the files would look like garbage to any self respecting image file loader, they contain a 32bit CRC (used to detected changes in the original unprocessed texture file) and a binary dump of the relevant newPixels[] array. I like to keep things simple, especially when I have no idea what I\u0027m doing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T21:49:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003EHumm. I can think of reasons for loading all files from all directories under GameData, I can also think of reasons for being more selective. If you say all files under GameData are loaded I\u0027ll take you at your word but after a few quick tests I can find no trace of my 390MB of cache data when I run KSP.\u003Cp\u003EI\u0027m using GameData/BoulderCo/Cache as my cache directory, no other sub directories, the file names have no extension, eg \u0027KWRocketry\u002BParts\u002BEngines\u002B3mTitanI\u002BKW3mengineTitan1F1Emiss8bit\u0027\u003C/p\u003E\u003Cp\u003E\u0027Squad\u002BParts\u002BAero\u002BadvancedCanard\u002Bmodel000\u0027\u003C/p\u003E\u003Cp\u003EThe data in the files would look like garbage to any self respecting image file loader, they contain a 32bit CRC (used to detected changes in the original unprocessed texture file) and a binary dump of the relevant newPixels[] array. I like to keep things simple, especially when I have no idea what I\u0027m doing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaha, that would work. I was referring to the fact that KSP loads everything with an extension it recognizes, so I wouldn\u0027t be able to store it as a \u0022regular image file\u0022 (with extension). I really like the idea of a CRC. I could also do the normal map conversion there too. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Boamere\u0022 data-cite=\u0022Boamere\u0022\u003E\u003Cdiv\u003ESure; basically a lot of parts are loading as if they where in shade, like chequerboard shading. Let me get an album. \u003Cp\u003EEdit:Here you go:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/OA86g\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/OA86g\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think I may have stumbled upon how to fix the normalmap issue. KSP/Unity normalmap handling is WEIRD.\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2014-01-16T22:39:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EHaha, that would work. I was referring to the fact that KSP loads everything with an extension it recognizes, so I wouldn\u0027t be able to store it as a \u0022regular image file\u0022 (with extension). I really like the idea of a CRC. I could also do the normal map conversion there too. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool.\u003C/p\u003E\u003Cp\u003EHere\u0027s some code you can play with \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        static UInt32[] CRCTable = {\u003Cbr\u003E            0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\u003Cbr\u003E            0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\u003Cbr\u003E            0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\u003Cbr\u003E            0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\u003Cbr\u003E            0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\u003Cbr\u003E            0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\u003Cbr\u003E            0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\u003Cbr\u003E            0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\u003Cbr\u003E            0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\u003Cbr\u003E            0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\u003Cbr\u003E            0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\u003Cbr\u003E            0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\u003Cbr\u003E            0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\u003Cbr\u003E            0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\u003Cbr\u003E            0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\u003Cbr\u003E            0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\u003Cbr\u003E            0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\u003Cbr\u003E            0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\u003Cbr\u003E            0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\u003Cbr\u003E            0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\u003Cbr\u003E            0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\u003Cbr\u003E            0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\u003Cbr\u003E            0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\u003Cbr\u003E            0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\u003Cbr\u003E            0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\u003Cbr\u003E            0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\u003Cbr\u003E            0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\u003Cbr\u003E            0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\u003Cbr\u003E            0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\u003Cbr\u003E            0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\u003Cbr\u003E            0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\u003Cbr\u003E            0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\u003Cbr\u003E            0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\u003Cbr\u003E            0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\u003Cbr\u003E            0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\u003Cbr\u003E            0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\u003Cbr\u003E            0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\u003Cbr\u003E            0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\u003Cbr\u003E            0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\u003Cbr\u003E            0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\u003Cbr\u003E            0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\u003Cbr\u003E            0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\u003Cbr\u003E            0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\u003Cbr\u003E            0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\u003Cbr\u003E            0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\u003Cbr\u003E            0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\u003Cbr\u003E            0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\u003Cbr\u003E            0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\u003Cbr\u003E            0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\u003Cbr\u003E            0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\u003Cbr\u003E            0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\u003Cbr\u003E            0x2d02ef8d\u003Cbr\u003E        };\u003Cbr\u003E\u003Cbr\u003E        public static void Resize(GameDatabase.TextureInfo texture, int width, int height, TextureFormat format, bool mipmaps)\u003Cbr\u003E        {\u003Cbr\u003E            Texture2D tex = texture.texture;\u003Cbr\u003E            Color32[] pixels = tex.GetPixels32();\u003Cbr\u003E            Color32[] newPixels = new Color32[width * height];\u003Cbr\u003E            int index = 0;\u003Cbr\u003E\u003Cbr\u003E            bool readFromCache = false;\u003Cbr\u003E            UInt32 origDataChkSum = 0;\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat\u003Cbr\u003E            // MD5 may be faster but the builtin accepts byte[] so the pixels array would need an additional conversion pass\u003Cbr\u003E            //\u003Cbr\u003E            foreach (Color32 pixel in pixels)\u003Cbr\u003E            {\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.r)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.g)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.a)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat\u003Cbr\u003E            // for now you MUST MANUALLY CREATE the Cache dir\u003Cbr\u003E            //\u003Cbr\u003E            String fileName = texture.name.Replace(\u0027/\u0027, \u0027\u002B\u0027);\u003Cbr\u003E            String pathStart = (KSPUtil.ApplicationRootPath \u002B \u0022GameData/BoulderCo/Cache/\u0022).Replace(\u0027\\\\\u0027, \u0027/\u0027);\u003Cbr\u003E\u003Cbr\u003E//            UnityEngine.Debug.Log(\u0022ecat name \u0022 \u002B fileName);\u003Cbr\u003E//            UnityEngine.Debug.Log(\u0022ecat path \u0022 \u002B pathStart);\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat, load the texture from cache if available and has a matching checksum\u003Cbr\u003E            //\u003Cbr\u003E\u003Cbr\u003E            if (File.Exists(pathStart \u002B fileName))\u003Cbr\u003E            {\u003Cbr\u003E                try\u003Cbr\u003E                {\u003Cbr\u003E                    using (FileStream fs = new FileStream(pathStart \u002B fileName, FileMode.Open, FileAccess.Read))\u003Cbr\u003E                    {\u003Cbr\u003E                        using (BinaryReader br = new BinaryReader(fs))\u003Cbr\u003E                        {\u003Cbr\u003E                            index = 0;\u003Cbr\u003E                            UInt32 storedChkSum = br.ReadUInt32();\u003Cbr\u003E//                            UnityEngine.Debug.Log(\u0022ecat Cache O S \u0022 \u002B origDataChkSum.ToString() \u002B \u0022 \u0022 \u002B storedChkSum.ToString());\u003Cbr\u003E                            if (storedChkSum == origDataChkSum)\u003Cbr\u003E                            {\u003Cbr\u003E                                for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                                {\u003Cbr\u003E                                    for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                                    {\u003Cbr\u003E                                        Color32 c32;\u003Cbr\u003E                                        c32.r = br.ReadByte();\u003Cbr\u003E                                        c32.g = br.ReadByte();\u003Cbr\u003E                                        c32.b = br.ReadByte();\u003Cbr\u003E                                        c32.a = br.ReadByte();\u003Cbr\u003E                                        newPixels[index\u002B\u002B] = c32;\u003Cbr\u003E                                    }\u003Cbr\u003E                                }\u003Cbr\u003E                                readFromCache = true;\u003Cbr\u003E                            }\u003Cbr\u003E//                            else\u003Cbr\u003E//                                UnityEngine.Debug.Log(\u0022ecat Cache Missmatch\u0022);  // this may happen when a file is \u0027OUT OF DATE\u0027, whatever that may mean\u003Cbr\u003E                         }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E                catch {\u003Cbr\u003E                    readFromCache = false;      // in case of error force a rebuild\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            if (!readFromCache)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                if (texture.isNormalMap)\u003Cbr\u003E                {\u003Cbr\u003E                    ConvertToUnityNormalMap(pixels);\u003Cbr\u003E                }\u003Cbr\u003E                int origWidth = tex.width;\u003Cbr\u003E                int origHeight = tex.height;\u003Cbr\u003E                for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                {\u003Cbr\u003E                    for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                    {\u003Cbr\u003E                        newPixels[index\u002B\u002B] = GetPixel(pixels, tex, ((float)w) / width, ((float)h) / height, width, height);\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003E                //\u003Cbr\u003E                // ecat, save the texture to file\u003Cbr\u003E                //\u003Cbr\u003E                using (FileStream fs = new FileStream(pathStart \u002B fileName, FileMode.Create))   // force create of new file\u003Cbr\u003E                {\u003Cbr\u003E                    using (BinaryWriter bw = new BinaryWriter(fs))\u003Cbr\u003E                    {\u003Cbr\u003E                        index = 0;\u003Cbr\u003E                        bw.Write(origDataChkSum);               // save checksum of origonal data so we can detect updated textures\u003Cbr\u003E\u003Cbr\u003E                        for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                        {\u003Cbr\u003E                            for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                            {\u003Cbr\u003E                                Color32 c32 = newPixels[index\u002B\u002B];\u003Cbr\u003E                                bw.Write(c32.r);\u003Cbr\u003E                                bw.Write(c32.g);\u003Cbr\u003E                                bw.Write(c32.;\u003Cbr\u003E                                bw.Write(c32.a);\u003Cbr\u003E                            }\u003Cbr\u003E                        }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E            tex.Resize(width, height, format, mipmaps);\u003Cbr\u003E            tex.SetPixels32(newPixels);\u003Cbr\u003E            tex.Apply(mipmaps);\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T23:23:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ecat\u0022 data-cite=\u0022ecat\u0022\u003E\u003Cdiv\u003ECool.\u003Cp\u003EHere\u0027s some code you can play with \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E        static UInt32[] CRCTable = {\u003Cbr\u003E            0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419,\u003Cbr\u003E            0x706af48f, 0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4,\u003Cbr\u003E            0xe0d5e91e, 0x97d2d988, 0x09b64c2b, 0x7eb17cbd, 0xe7b82d07,\u003Cbr\u003E            0x90bf1d91, 0x1db71064, 0x6ab020f2, 0xf3b97148, 0x84be41de,\u003Cbr\u003E            0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7, 0x136c9856,\u003Cbr\u003E            0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\u003Cbr\u003E            0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4,\u003Cbr\u003E            0xa2677172, 0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b,\u003Cbr\u003E            0x35b5a8fa, 0x42b2986c, 0xdbbbc9d6, 0xacbcf940, 0x32d86ce3,\u003Cbr\u003E            0x45df5c75, 0xdcd60dcf, 0xabd13d59, 0x26d930ac, 0x51de003a,\u003Cbr\u003E            0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423, 0xcfba9599,\u003Cbr\u003E            0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\u003Cbr\u003E            0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190,\u003Cbr\u003E            0x01db7106, 0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f,\u003Cbr\u003E            0x9fbfe4a5, 0xe8b8d433, 0x7807c9a2, 0x0f00f934, 0x9609a88e,\u003Cbr\u003E            0xe10e9818, 0x7f6a0dbb, 0x086d3d2d, 0x91646c97, 0xe6635c01,\u003Cbr\u003E            0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e, 0x6c0695ed,\u003Cbr\u003E            0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\u003Cbr\u003E            0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3,\u003Cbr\u003E            0xfbd44c65, 0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2,\u003Cbr\u003E            0x4adfa541, 0x3dd895d7, 0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a,\u003Cbr\u003E            0x346ed9fc, 0xad678846, 0xda60b8d0, 0x44042d73, 0x33031de5,\u003Cbr\u003E            0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa, 0xbe0b1010,\u003Cbr\u003E            0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\u003Cbr\u003E            0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17,\u003Cbr\u003E            0x2eb40d81, 0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6,\u003Cbr\u003E            0x03b6e20c, 0x74b1d29a, 0xead54739, 0x9dd277af, 0x04db2615,\u003Cbr\u003E            0x73dc1683, 0xe3630b12, 0x94643b84, 0x0d6d6a3e, 0x7a6a5aa8,\u003Cbr\u003E            0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1, 0xf00f9344,\u003Cbr\u003E            0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\u003Cbr\u003E            0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a,\u003Cbr\u003E            0x67dd4acc, 0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5,\u003Cbr\u003E            0xd6d6a3e8, 0xa1d1937e, 0x38d8c2c4, 0x4fdff252, 0xd1bb67f1,\u003Cbr\u003E            0xa6bc5767, 0x3fb506dd, 0x48b2364b, 0xd80d2bda, 0xaf0a1b4c,\u003Cbr\u003E            0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55, 0x316e8eef,\u003Cbr\u003E            0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\u003Cbr\u003E            0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe,\u003Cbr\u003E            0xb2bd0b28, 0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31,\u003Cbr\u003E            0x2cd99e8b, 0x5bdeae1d, 0x9b64c2b0, 0xec63f226, 0x756aa39c,\u003Cbr\u003E            0x026d930a, 0x9c0906a9, 0xeb0e363f, 0x72076785, 0x05005713,\u003Cbr\u003E            0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38, 0x92d28e9b,\u003Cbr\u003E            0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\u003Cbr\u003E            0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1,\u003Cbr\u003E            0x18b74777, 0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c,\u003Cbr\u003E            0x8f659eff, 0xf862ae69, 0x616bffd3, 0x166ccf45, 0xa00ae278,\u003Cbr\u003E            0xd70dd2ee, 0x4e048354, 0x3903b3c2, 0xa7672661, 0xd06016f7,\u003Cbr\u003E            0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc, 0x40df0b66,\u003Cbr\u003E            0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\u003Cbr\u003E            0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605,\u003Cbr\u003E            0xcdd70693, 0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8,\u003Cbr\u003E            0x5d681b02, 0x2a6f2b94, 0xb40bbe37, 0xc30c8ea1, 0x5a05df1b,\u003Cbr\u003E            0x2d02ef8d\u003Cbr\u003E        };\u003Cbr\u003E\u003Cbr\u003E        public static void Resize(GameDatabase.TextureInfo texture, int width, int height, TextureFormat format, bool mipmaps)\u003Cbr\u003E        {\u003Cbr\u003E            Texture2D tex = texture.texture;\u003Cbr\u003E            Color32[] pixels = tex.GetPixels32();\u003Cbr\u003E            Color32[] newPixels = new Color32[width * height];\u003Cbr\u003E            int index = 0;\u003Cbr\u003E\u003Cbr\u003E            bool readFromCache = false;\u003Cbr\u003E            UInt32 origDataChkSum = 0;\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat\u003Cbr\u003E            // MD5 may be faster but the builtin accepts byte[] so the pixels array would need an additional conversion pass\u003Cbr\u003E            //\u003Cbr\u003E            foreach (Color32 pixel in pixels)\u003Cbr\u003E            {\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.r)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.g)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E                origDataChkSum = CRCTable[(origDataChkSum ^ (pixel.a)) \u0026amp; 0xff] ^ (origDataChkSum \u0026gt;\u0026gt; 8);\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat\u003Cbr\u003E            // for now you MUST MANUALLY CREATE the Cache dir\u003Cbr\u003E            //\u003Cbr\u003E            String fileName = texture.name.Replace(\u0027/\u0027, \u0027\u002B\u0027);\u003Cbr\u003E            String pathStart = (KSPUtil.ApplicationRootPath \u002B \u0022GameData/BoulderCo/Cache/\u0022).Replace(\u0027\\\\\u0027, \u0027/\u0027);\u003Cbr\u003E\u003Cbr\u003E//            UnityEngine.Debug.Log(\u0022ecat name \u0022 \u002B fileName);\u003Cbr\u003E//            UnityEngine.Debug.Log(\u0022ecat path \u0022 \u002B pathStart);\u003Cbr\u003E\u003Cbr\u003E            //\u003Cbr\u003E            // ecat, load the texture from cache if available and has a matching checksum\u003Cbr\u003E            //\u003Cbr\u003E\u003Cbr\u003E            if (File.Exists(pathStart \u002B fileName))\u003Cbr\u003E            {\u003Cbr\u003E                try\u003Cbr\u003E                {\u003Cbr\u003E                    using (FileStream fs = new FileStream(pathStart \u002B fileName, FileMode.Open, FileAccess.Read))\u003Cbr\u003E                    {\u003Cbr\u003E                        using (BinaryReader br = new BinaryReader(fs))\u003Cbr\u003E                        {\u003Cbr\u003E                            index = 0;\u003Cbr\u003E                            UInt32 storedChkSum = br.ReadUInt32();\u003Cbr\u003E//                            UnityEngine.Debug.Log(\u0022ecat Cache O S \u0022 \u002B origDataChkSum.ToString() \u002B \u0022 \u0022 \u002B storedChkSum.ToString());\u003Cbr\u003E                            if (storedChkSum == origDataChkSum)\u003Cbr\u003E                            {\u003Cbr\u003E                                for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                                {\u003Cbr\u003E                                    for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                                    {\u003Cbr\u003E                                        Color32 c32;\u003Cbr\u003E                                        c32.r = br.ReadByte();\u003Cbr\u003E                                        c32.g = br.ReadByte();\u003Cbr\u003E                                        c32.b = br.ReadByte();\u003Cbr\u003E                                        c32.a = br.ReadByte();\u003Cbr\u003E                                        newPixels[index\u002B\u002B] = c32;\u003Cbr\u003E                                    }\u003Cbr\u003E                                }\u003Cbr\u003E                                readFromCache = true;\u003Cbr\u003E                            }\u003Cbr\u003E//                            else\u003Cbr\u003E//                                UnityEngine.Debug.Log(\u0022ecat Cache Missmatch\u0022);  // this may happen when a file is \u0027OUT OF DATE\u0027, whatever that may mean\u003Cbr\u003E                         }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E                catch {\u003Cbr\u003E                    readFromCache = false;      // in case of error force a rebuild\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E            if (!readFromCache)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                if (texture.isNormalMap)\u003Cbr\u003E                {\u003Cbr\u003E                    ConvertToUnityNormalMap(pixels);\u003Cbr\u003E                }\u003Cbr\u003E                int origWidth = tex.width;\u003Cbr\u003E                int origHeight = tex.height;\u003Cbr\u003E                for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                {\u003Cbr\u003E                    for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                    {\u003Cbr\u003E                        newPixels[index\u002B\u002B] = GetPixel(pixels, tex, ((float)w) / width, ((float)h) / height, width, height);\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003E                //\u003Cbr\u003E                // ecat, save the texture to file\u003Cbr\u003E                //\u003Cbr\u003E                using (FileStream fs = new FileStream(pathStart \u002B fileName, FileMode.Create))   // force create of new file\u003Cbr\u003E                {\u003Cbr\u003E                    using (BinaryWriter bw = new BinaryWriter(fs))\u003Cbr\u003E                    {\u003Cbr\u003E                        index = 0;\u003Cbr\u003E                        bw.Write(origDataChkSum);               // save checksum of origonal data so we can detect updated textures\u003Cbr\u003E\u003Cbr\u003E                        for (int h = 0; h \u0026lt; height; h\u002B\u002B)\u003Cbr\u003E                        {\u003Cbr\u003E                            for (int w = 0; w \u0026lt; width; w\u002B\u002B)\u003Cbr\u003E                            {\u003Cbr\u003E                                Color32 c32 = newPixels[index\u002B\u002B];\u003Cbr\u003E                                bw.Write(c32.r);\u003Cbr\u003E                                bw.Write(c32.g);\u003Cbr\u003E                                bw.Write(c32.;\u003Cbr\u003E                                bw.Write(c32.a);\u003Cbr\u003E                            }\u003Cbr\u003E                        }\u003Cbr\u003E                    }\u003Cbr\u003E                }\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E            tex.Resize(width, height, format, mipmaps);\u003Cbr\u003E            tex.SetPixels32(newPixels);\u003Cbr\u003E            tex.Apply(mipmaps);\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... I was thinking of just performing it against the texture file itself (as MBMs can\u0027t be read anyways) and comparing the width and height separately and add any more non-data fields to the comparison if anything else is updated (eg. format). I will probably end up creating a format similar to MBM. A flag to indicate Normal or Not, a width and height field, MD5 hash, and of course, data. I was also thinking of just cloning the directory structure, so that it is easier to navigate in case you wanted to take a look. The last thing I was starting to think about, was to encode the files as pngs so that they could be viewed by changing the extension and take up less storage, then store the CRC, normal map flag in a paired config.\u003C/p\u003E\u003Cp\u003EI have to give you major props for this. Excellent, excellent idea. Much better than my initial attempt by overwriting all the original textures on the file system.\u003C/p\u003E\n"},{"CreatedByName":"gath875","CreatedById":95540,"CreatedDateTime":"2014-01-16T23:27:18Z","Content":"\n\u003Cp\u003EDecided to try Interstellar. I saw a post a few pages back regarding the resource data, and I see where the config was updated, but I\u0027m still having an issue.\u003C/p\u003E\u003Cp\u003EThis is what the spectrometer shows with only Interstellar:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/PqddVQK.jpghttp://\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/PqddVQK.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWhen I add the BoulderCo folder, I get this:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/8g01bx8.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/8g01bx8.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis is with 2-14 aggressive, but I tried basic as well. I started to try and mess with the config file myself, but I figured I\u0027d post it here first. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-01-16T23:35:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gath875\u0022 data-cite=\u0022gath875\u0022\u003E\u003Cdiv\u003EDecided to try Interstellar. I saw a post a few pages back regarding the resource data, and I see where the config was updated, but I\u0027m still having an issue.\u003Cp\u003EThis is what the spectrometer shows with only Interstellar:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/PqddVQK.jpghttp://\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/PqddVQK.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EWhen I add the BoulderCo folder, I get this:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/8g01bx8.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/8g01bx8.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis is with 2-14 aggressive, but I tried basic as well. I started to try and mess with the config file myself, but I figured I\u0027d post it here first. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat...? Could you please post your ksp.log file? The config should be updated to handle this, but the log file will tell me for sure.\u003C/p\u003E\n"},{"CreatedByName":"gath875","CreatedById":95540,"CreatedDateTime":"2014-01-16T23:51:58Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/rhp0r389irm7ix2/KSP.log\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/rhp0r389irm7ix2/KSP.log\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks for the quick reply! I\u0027ve been messing with quite a few new mods lately, so there\u0027s no telling what I might have screwed up, hehe.\u003C/p\u003E\n"},{"CreatedByName":"ecat","CreatedById":68747,"CreatedDateTime":"2014-01-17T00:14:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EHmmm... I was thinking of just performing it against the texture file itself (as MBMs can\u0027t be read anyways) and comparing the width and height separately and add any more non-data fields to the comparison if anything else is updated (eg. format). I will probably end up creating a format similar to MBM. A flag to indicate Normal or Not, a width and height field, MD5 hash, and of course, data. I was also thinking of just cloning the directory structure, so that it is easier to navigate in case you wanted to take a look. The last thing I was starting to think about, was to encode the files as pngs so that they could be viewed by changing the extension and take up less storage, then store the CRC, normal map flag in a paired config.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHaha! \u003C/p\u003E\u003Cp\u003ESee, you know what you are doing. I was just out to see how much time I could knock off the startup, while butchering as little of your code as possible . Either way, if my tests hold true, reducing the overhead by 80% has got to be worth the effort... I\u0027d still like access rights confirmation on Linux/Mac and Win \u0027program files\u0027 directory.\u003C/p\u003E\n"},{"CreatedByName":"gath875","CreatedById":95540,"CreatedDateTime":"2014-01-17T00:28:30Z","Content":"\n\u003Cp\u003EDouble post!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-17T05:23:54Z\u0022 title=\u002201/17/2014 05:23  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 17, 2014\u003C/time\u003E by gath875\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RatchetTheGamer(RSC)","CreatedById":99115,"CreatedDateTime":"2014-01-17T00:59:31Z","Content":"\n\u003Cp\u003EHey Rbray89 what is the diffenters with the two versions ples tell me I what to know. also witch one is the better one to use?\u003C/p\u003E\n"}]}