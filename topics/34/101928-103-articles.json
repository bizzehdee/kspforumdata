{"TopicId":101928,"ForumId":34,"TopicTitle":"[1.1.2] Kerbal Inventory System (KIS) 1.2.12","CreatedByName":"KospY","CreatedById":33868,"CreatedDateTime":"2015-03-14T11:46:37Z","PageNum":103,"Articles":[{"CreatedByName":"monstah","CreatedById":95210,"CreatedDateTime":"2016-05-29T18:19:07Z","Content":"Hey, something I noticed today: you can drag a part to a pod\u0027s inventory even though you haven\u0027t bought it on R\u0026D yet ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-05-29T21:40:20Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, monstah said:\n\u003E \n\u003E \n\u003E Hey, something I noticed today: you can drag a part to a pod\u0027s inventory even though you haven\u0027t bought it on R\u0026D yet ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nCould you please give more details. What part? Where and how you grab it?"},{"CreatedByName":"swjr-swis","CreatedById":152460,"CreatedDateTime":"2016-05-29T22:02:57Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, monstah said:\n\u003E \n\u003E \n\u003E Hey, something I noticed today: you can drag a part to a pod\u0027s inventory even though you haven\u0027t bought it on R\u0026D yet\n\u003E \n\nDid this happen to be a part that you had a test contract for?"},{"CreatedByName":"Obsidian_mc","CreatedById":156968,"CreatedDateTime":"2016-05-29T23:45:05Z","Content":"Does anyone know how to put a part into a container? I haven\u0027t been able to find a guide on how to work the mod."},{"CreatedByName":"goldenpsp","CreatedById":113874,"CreatedDateTime":"2016-05-29T23:56:52Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, Obsidian\\_mc said:\n\u003E \n\u003E \n\u003E Does anyone know how to put a part into a container? I haven\u0027t been able to find a guide on how to work the mod.\n\u003E \n\nThere is a very good manual that is even available in game."},{"CreatedByName":"Obsidian_mc","CreatedById":156968,"CreatedDateTime":"2016-05-30T16:40:20Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, goldenpsp said:\n\u003E \n\u003E \n\u003E There is a very good manual that is even available in game.\n\u003E \n\nI found it, it took me a while, but I found it."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-01T16:44:43Z","Content":"(Hopefully) quick question regarding mod compatibility:\n\nIs the ModuleKISItem added to -all- parts, or is it only used for the few parts that are defined by KIS?\n\nSecond; is the \u0027volumeOverride\u0027 from ModuleKISItem handed on a per-part-instance basis, or is only the module from the prefab part used?\n\nI\u0027m the developer of SSTU, and a user pointed out that the KIS-volume for my modular/semi-procedural parts are not being updated properly on geometry changes (KIS uses volume calculated from whatever models were in the prefab, and **not** the current live part geometry volume).  A quick glance through the source indicates that in ModuleKISItem there is a \u0027volumeOverride\u0027 which would appear to do what I need (specifying custom volumes for each part); however I\u0027m not finding any code or patches that adds the ModuleKISItem to all parts.  Which is fine, I can add them to my own parts through a patch if needed.  From there run-time modification of the \u0027volumeOverride\u0027 would be handled by a bit of reflection if/when KIS was found to be installed, so as to update the volume whenever the geometry changes.\n\nThanks,\n\nShadowmage"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-06-02T06:13:59Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Is the ModuleKISItem added to -all- parts, or is it only used for the few parts that are defined by KIS?\n\u003E \n\nThis module is only added to the parts that need it. For now KIS explicitly adds it to the stock drills only for the purpose of volume override.\n\n\u003E \n\u003E \n\u003E 13 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Second; is the \u0027volumeOverride\u0027 from ModuleKISItem handed on a per-part-instance basis, or is only the module from the prefab part used?\n\u003E \n\nAll info is *always* fetched from prefab. If there is override then it will be used. If there is no override then volume is calculated from the prefab meshes.\n\n\u003E \n\u003E \n\u003E 13 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E I\u0027m the developer of SSTU, and a user pointed out that the KIS-volume for my modular/semi-procedural parts are not being updated properly on geometry changes\n\u003E \n\nIt\u0027s *assumed* that part in the inventory is stored in its most compact form regardless to the actual state in the scene. That said, for the purpose of storing in the inventory the volume *must not* change. You have two options in your case:\n\n1. Set initial states of all the meshes in the model to the form you consider \u0022compact\u0022. KIS will calculate the smallest box to fit all the meshes, and this will be the volume.\n2. Set desired volume via \u0060ModuleKISItem.volumeOverride\u0060 and don\u0027t care about modifying the model.\n\nNote, that #1 is more preferable because KIS always uses *prefab meshes* to create a holo pointer. I have a plan to make it more smart but there are too many caveats so, for now I don\u0027t have a solution ready for release.\n\n**Edited \u003Ctime datetime=\u00222016-06-02T06:14:47Z\u0022 title=\u002206/02/2016 06:14  AM\u0022 data-short=\u00228 yr\u0022\u003EJune 2, 2016\u003C/time\u003E by IgorZ**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-02T15:09:07Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, IgorZ said:\n\u003E \n\u003E \n\u003E This module is only added to the parts that need it. For now KIS explicitly adds it to the stock drills only for the purpose of volume override.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E All info is *always* fetched from prefab. If there is override then it will be used. If there is no override then volume is calculated from the prefab meshes.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0027s *assumed* that part in the inventory is stored in its most compact form regardless to the actual state in the scene. That said, for the purpose of storing in the inventory the volume *must not* change. You have two options in your case:\n\u003E \n\u003E \n\u003E \n\u003E 1. Set initial states of all the meshes in the model to the form you consider \u0022compact\u0022. KIS will calculate the smallest box to fit all the meshes, and this will be the volume.\n\u003E 2. Set desired volume via \u0060ModuleKISItem.volumeOverride\u0060 and don\u0027t care about modifying the model.\n\u003E \n\u003E \n\u003E \n\u003E Note, that #1 is more preferable because KIS always uses *prefab meshes* to create a holo pointer. I have a plan to make it more smart but there are too many caveats so, for now I don\u0027t have a solution ready for release.\n\u003E \n\nThanks for the reply and information.  Sadly that was not the answer I was hoping for (re: pre-fab stat use...), as my parts volumes\u0027 can change dramatically depending on user configuration (think procedural parts), and a single volume specification would only be applicable to a single configuration for that part (e.g. the tanks can go from 0.625m and a few liters volume, up to 20m\u002B and several million liters, further complicated by various mount/nose model options).\n\nBut.. thanks anyhow, your time is appreciated ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nI\u0027ll give some thoughts as to the best override volume amount for these parts (as modifying the prefab model is not really an option), or find some way to disable their storage in KIS containers entirely (if possible)."},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-06-02T18:01:15Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Thanks for the reply and information.  Sadly that was not the answer I was hoping for (re: pre-fab stat use...), as my parts volumes\u0027 can change dramatically depending on user configuration (think procedural parts), and a single volume specification would only be applicable to a single configuration for that part (e.g. the tanks can go from 0.625m and a few liters volume, up to 20m\u002B and several million liters, further complicated by various mount/nose model options).\n\u003E \n\nAh! So, you modify the prefab in runtime? That\u0027s different. In this case setting volume override is the only option. Though, if your initial part\u0027s meshes are set in the code (e.g. in OnSetup or Awake methods) then there will be troubles with the pointer. It will only reflect what\u0027s stored in the prefab model.\n\n**Edited \u003Ctime datetime=\u00222016-06-02T18:16:59Z\u0022 title=\u002206/02/2016 06:16  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 2, 2016\u003C/time\u003E by IgorZ**"},{"CreatedByName":"charliepryor","CreatedById":163624,"CreatedDateTime":"2016-06-02T19:06:12Z","Content":"\u003E \n\u003E \n\u003E On 5/25/2016 at 6:16 PM, Checker\\_guy said:\n\u003E \n\u003E \n\u003E I have been getting NRE every time I try to put parts in inventory (not NRE spam), just one at a time. Happening since the update. [![qxE2Gz3.png](http://i.imgur.com/qxE2Gz3.png)](http://i.imgur.com/qxE2Gz3.png \u0022Enlarge image\u0022)\n\u003E \n\nExactly the same happening to me. It\u0027s putting my surface station plans on hold for now. Huge number of mods though... Mod list: [http://hottipscentral.com/ksp-mods](http://hottipscentral.com/ksp-mods)\n\nPrevious version works just fine, although I\u0027ll probably be susceptible to the bugs this latest version claims to have fixed (never noticed them myself yet, but I\u0027m not exactly playing every day or anything)\n\n**Edited \u003Ctime datetime=\u00222016-06-02T20:43:02Z\u0022 title=\u002206/02/2016 08:43  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 2, 2016\u003C/time\u003E by charliepryor**\n  \nAdditional context related to versions"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-02T19:11:29Z","Content":"\u003E \n\u003E \n\u003E 42 minutes ago, IgorZ said:\n\u003E \n\u003E \n\u003E Ah! So, you modify the prefab in runtime? That\u0027s different. In this case setting volume override is the only option. Though, if your initial part\u0027s meshes are set in the code (e.g. in OnSetup or Awake methods) then there will be troubles with the pointer. It will only reflect what\u0027s stored in the prefab model.\n\u003E \n\nNo, I don\u0027t touch the prefab at runtime;  its just that the prefab only represents one out of hundreds of possible geometry variations for the part, which combined with scaling means it most often does not represent the final user-configured part very well (if at all).\n\nTaking the fuel tank parts as an example; the prefab uses a 2.5m w \\* 7.5m h tank model.  The main tank model can be changed out for various other models (ranging from 2.5mx1.25m to 2.5m \\* 20m), and have scaling applied to it (for final diameter between 0.625m and ~20m, heights between 0.3125m and ~160m, scaling upper-bound is config defined), and there are additional options for nosecone and mount/adapter that further complicate the process/alter the geometry further from the prefab.  The shortest base tank at 0.625m diameter (without nose/mount/adapter) would have a volume of 96l, while the shortest tank model at 20m diameter has a volume of 3,141,590l (and the longest tank model at 20m diameter is 50,265,440l); several orders of magnitude in difference.  Those are without taking into account any adapters/nosecones/mounts/etc (which also modify the geometry/volume of the part).  With such a wide range of volumes for the part a single value from the prefab would work very well.\n\nNot trying to get on your case about this, merely trying to explain the situation a bit better.  I understand the reasons the values from the prefab are used, and I also understand that a dynamic solution would not be simple to implement (and possibly bad for performance).  Will give it a bit more thought and if I come up with something clever I\u0027ll see about throwing together a PR; no guarantees though as I\u0027m not too familiar with the KIS code base and it\u0027ll take me awhile to get up to speed.\n\nOn a related note, is there a way to completely disallow a part from being stored in a KIS container? (config or plugin based, can work with either if it is available)"},{"CreatedByName":"mitiya","CreatedById":100934,"CreatedDateTime":"2016-06-02T21:50:15Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, charliepryor said:\n\u003E \n\u003E \n\u003E Exactly the same happening to me. It\u0027s putting my surface station plans on hold for now. Huge number of mods though... Mod list: [http://hottipscentral.com/ksp-mods](http://hottipscentral.com/ksp-mods)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Previous version works just fine, although I\u0027ll probably be susceptible to the bugs this latest version claims to have fixed (never noticed them myself yet, but I\u0027m not exactly playing every day or anything)\n\u003E \n\nit is DeadlyReentry"},{"CreatedByName":"IgorZ","CreatedById":155445,"CreatedDateTime":"2016-06-03T00:34:43Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, charliepryor said:\n\u003E \n\u003E \n\u003E Exactly the same happening to me. It\u0027s putting my surface station plans on hold for now. Huge number of mods though... Mod list: [http://hottipscentral.com/ksp-mods](http://hottipscentral.com/ksp-mods)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Previous version works just fine, although I\u0027ll probably be susceptible to the bugs this latest version claims to have fixed (never noticed them myself yet, but I\u0027m not exactly playing every day or anything)\n\u003E \n\nSee [bug](https://github.com/KospY/KIS/issues/151).\n\n\u003E \n\u003E \n\u003E 5 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E On a related note, is there a way to completely disallow a part from being stored in a KIS container? (config or plugin based, can work with either if it is available)\n\u003E \n\nThere is no such way. You may workaround it by overriding volume to some large yet reasonable size, e.g. 65,000L. It\u0027s an ugly solution but your parts won\u0027t fit any stock container. Though, parts still can be moved around via KIS, and the next problem will be holo-pointer. Given what you\u0027ve explained prefab model may look very different from the actual part shape. I\u0027d say that for now the only working solution is suggesting people not to use KIS for parts from your mod. IR is another example of such mod, it\u0027s incompatible with KIS too."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-06-03T16:35:53Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, IgorZ said:\n\u003E \n\u003E \n\u003E There is no such way. You may workaround it by overriding volume to some large yet reasonable size, e.g. 65,000L. It\u0027s an ugly solution but your parts won\u0027t fit any stock container. Though, parts still can be moved around via KIS, and the next problem will be holo-pointer. Given what you\u0027ve explained prefab model may look very different from the actual part shape. I\u0027d say that for now the only working solution is suggesting people not to use KIS for parts from your mod. IR is another example of such mod, it\u0027s incompatible with KIS too.\n\u003E \n\nNoted, and thanks for the response ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nIndeed, I was considering adding an override for those parts with an insane volume; this should keep them from being stored in most containers.\n\nIts truly unfortunate that those parts cannot be moved via KIS as well, but I understand the reasoning behind the current system/setup.  I\u0027ll see if I can come up with any solutions to that problem; may take a few weeks though as I\u0027m already i the middle of a few other projects ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"dalgo86","CreatedById":18289,"CreatedDateTime":"2016-06-05T13:26:43Z","Content":"Hi, I\u0027m starting using KIS (for time 400) I\u0027m always drop of the wagon because I\u0027m not able to understand how is suppose to be used. I\u0027ve read the user guide and I understand the base concepts, BUT always I\u0027m finish blocked in to do what I want to do.\n\nI want to build a simple thing, I want to be able to build a radio tower. For that, what I\u0027m trying to do is attach a ground base to the floor, then attach using the srfAttach node a struts (the ones that look like a radio tower). Then I would like to attach another of those struts to the previous one using the normal attach nodes (in this case KIS reports to have bottom and top) BUT when I try to do that (using the key R) the part appears in RED, also the nodes aren\u0027t visible in game either (in the guide seems to be shown)\n\nIs this a bug?, is KIS supposed to be used in this way? to build a structure from scratch I mean.\n\nI\u0027m using the Ven\u0027s Stock Part Revamp, can this create the issue itself?\n\nHere some captures![KSP-KIS-AttachProblem-01.png](https://dl.dropboxusercontent.com/u/4303972/KSP-KIS-AttachProblem-01.png)"},{"CreatedByName":"Space Cat","CreatedById":162563,"CreatedDateTime":"2016-06-05T14:29:02Z","Content":"I assume that you guys have realized that this mod corrupts saves if you ever eva already. Any progress on fixing this? Its rather frustrating to be unable to eva."},{"CreatedByName":"goldenpsp","CreatedById":113874,"CreatedDateTime":"2016-06-05T14:37:02Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, Space Cat said:\n\u003E \n\u003E \n\u003E I assume that you guys have realized that this mod corrupts saves if you ever eva already. Any progress on fixing this? Its rather frustrating to be unable to eva.\n\u003E \n\nMy saves have been fine. You are going to have to bring more information to the table for this one."},{"CreatedByName":"Rob2222","CreatedById":102318,"CreatedDateTime":"2016-06-05T15:09:35Z","Content":"@dalgo86: Us the screwdriver (not the wrench) for node attachment."},{"CreatedByName":"dalgo86","CreatedById":18289,"CreatedDateTime":"2016-06-05T16:13:16Z","Content":"@Rob2222 Thanks, I was doing this in career mode I don\u0027t have it yet. But it tested on sandbox mode and works fine, thanks."},{"CreatedByName":"Space Cat","CreatedById":162563,"CreatedDateTime":"2016-06-05T16:41:16Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, goldenpsp said:\n\u003E \n\u003E \n\u003E My saves have been fine. You are going to have to bring more information to the table for this one.\n\u003E \n\nIt corrupts the save in such a way that even if you uninstall the mod, evaed Kerbals cant ever be recovered, no matter what. Even if you go back into a vessel with them. The only solution is to make a new save without the mod installed. Even running loading a save and not doing anything with this mod installed will corrupt it."},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2016-06-05T16:46:37Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, Space Cat said:\n\u003E \n\u003E \n\u003E It corrupts the save in such a way that even if you uninstall the mod, evaed Kerbals cant ever be recovered, no matter what. Even if you go back into a vessel with them. The only solution is to make a new save without the mod installed. Even running loading a save and not doing anything with this mod installed will corrupt it.\n\u003E \n\nYou\u0027re going to need to tell us what you did to prove it\u0027s this mod, and probably log files - I and probably a lot of others regularly EVA Kerbals and regularly recover them without issue, so something\u0027s going on differently in your install."},{"CreatedByName":"SciMan","CreatedById":12748,"CreatedDateTime":"2016-06-05T16:48:36Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, Space Cat said:\n\u003E \n\u003E \n\u003E It corrupts the save in such a way that even if you uninstall the mod, evaed Kerbals cant ever be recovered, no matter what. Even if you go back into a vessel with them. The only solution is to make a new save without the mod installed. Even running loading a save and not doing anything with this mod installed will corrupt it.\n\u003E \n\nThat has not been my experience.  \n\nI\u0027m able to have Kerbals EVA and re-enter crew capsules with no issues, and I\u0027m able to recover those same Kerbals back at the KSC, again without any hassle.  \n\nEven after capsules have come back to Kerbin, I\u0027m able to have the Kerbals do an EVA to get surface samples and EVA reports from where they land, then recover the Kerbal and the capsule separately.\n\nIf I had to guess, I\u0027d say you have a crew capsule mod that\u0027s outdated.  \n\nI remember something about a Near Future Spacecraft changelog entry that mentioned something like this as one of the things that was fixed.\n\nAs said by 3 others now, we need logs to help you.  \n\nYou\u0027ve gotta help us help you, because without them, we\u0027re reduced to guesswork and blind speculation.\n\nLogs can be found in 2 locations, with one of them changing if you\u0027re using 32 or 64 bit KSP.  \n\n/ksp/ksp.log  \n\n(if using 32 bit) /ksp/ksp\\_data/output\\_log.txt  \n\n(if using 64 bit) /ksp/ksp\\_x64\\_data/output\\_log.txt\n\n**Edited \u003Ctime datetime=\u00222016-06-05T16:53:33Z\u0022 title=\u002206/05/2016 04:53  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 5, 2016\u003C/time\u003E by SciMan**"},{"CreatedByName":"Space Cat","CreatedById":162563,"CreatedDateTime":"2016-06-05T16:51:03Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, SciMan said:\n\u003E \n\u003E \n\u003E -snip-\n\u003E \n\nIf it helps, I have Rp-0 installed. Other people have had this problem, and they claim that uninstalling KIS and KAS fixes it. It does for me as long as I make a new save, but that still means that I loose so much progress. To the point that I am just going to play vanillaish now."},{"CreatedByName":"SciMan","CreatedById":12748,"CreatedDateTime":"2016-06-05T17:01:41Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Space Cat said:\n\u003E \n\u003E \n\u003E If it helps, I have Rp-0 installed. Other people have had this problem, and they claim that uninstalling KIS and KAS fixes it. It does for me as long as I make a new save, but that still means that I loose so much progress. To the point that I am just going to play vanillaish now.\n\u003E \n\nOkay, here\u0027s what we really need:\n\nKSP.log and output\\_log.txt are the files we need. A photo or list of your GameData folder will also help out quite a bit (or just list all installed mods).\n\nLogs can be found in 2 locations, with one of them changing if you\u0027re using 32 or 64 bit KSP.  \n\n/ksp/ksp.log  \n\n(if using 32 bit) /ksp/ksp\\_data/output\\_log.txt  \n\n(if using 64 bit) /ksp/ksp\\_x64\\_data/output\\_log.txt \n\nFirst, delete KSP.log and output\\_log.txt. (this clears the logs, KSP will automatically re-create the files).  \n\nThen, start up KSP (with all your regular mods installed), and load a \u0022throwaway\u0022 save (or a copy of an existing \u0022corrupted\u0022 save).  \n\nDo the thing that corrupts your save.  \n\nImmediately exit KSP (via normal \u0022quit\u0022 method, not Alt\u002BF4).  \n\nUpload the 2 log files to Pastebin or a similar site.  \n\nPost the links to those two files.\n\nWe\u0027ll be able to help you better if you do that.\n\nIf it\u0027s really a bug in KIS/KAS, it needs to be fixed, but to fix it we need to figure out the cause.  \n\nLogs are what allow us to figure out the cause, otherwise we\u0027re left with guesswork and blind speculation."}]}