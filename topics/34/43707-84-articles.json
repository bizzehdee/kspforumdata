{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":84,"Articles":[{"CreatedByName":"Amloris","CreatedById":32411,"CreatedDateTime":"2013-11-26T16:28:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Amloris\u0022 data-cite=\u0022Amloris\u0022\u003E\u003Cdiv\u003EPost #2047\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EOne simple thing that it might be is just this: Where was the keyboard focus when you pressed ALT-1? The trick of using action groups as a roundabout way to get live key input requires that you are in the camera view (not map view) and that the terminal window NOT be focused. It has to be \u0022greyed out\u0022 because unless your kepressess are passing through to the KSP game, hitting ALT-1 doesn\u0027t trigger action group 1.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately, none of those suggestions manage to get the code to work. When the KOS window is unfocused and the game is in camera view the code will not recognize any actionkey input.\u003C/p\u003E\u003Cp\u003EEven using the coding directly supplied by the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/48428-Space-Computer-Brought-to-you-by-kOS-and-hopefully-many-nerds\u0022 rel=\u0022external nofollow\u0022\u003EKOS Space Computer\u003C/a\u003E yields similar results.\u003C/p\u003E\u003Cp\u003EI suppose I can get my code to respond to external input by using the landing gear, brakes, rcs and sas keys to act as external input during the prelaunch sequence, but I would much rather get it to work by using the action keys. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EAny suggestions?\u003C/p\u003E\n"},{"CreatedByName":"wingnut","CreatedById":57702,"CreatedDateTime":"2013-11-26T16:37:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EMaybe there are more, but I am sure they will be of the same type. kOS does not like unmatched quotation marks at all. Leaving any in your code is bound to result in a lock-up. Your code should be:\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ED\u0027oh. Thanks. I already figured it had something to do with the print or log statements but I did not spot the incorrect strings.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-26T16:52:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Amloris\u0022 data-cite=\u0022Amloris\u0022\u003E\u003Cdiv\u003EUnfortunately, none of those suggestions manage to get the code to work. When the KOS window is unfocused and the game is in camera view the code will not recognize any actionkey input.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is weird. In a very broken bit of test code I wrote earlier this week, kOS will only respond to unfocussed commands. I have not gone any further with it and is \u003Cem\u003Enot\u003C/em\u003E how you should write something like this, but maybe it is of some help. This is tested with the most recent official version of kOS.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Euntil ship:liquidfuel \u0026lt; 20 {\u003Cbr\u003E  if altitude \u0026lt; altset {run ascscript.}.\u003Cbr\u003E  if altitude \u0026gt; altset {run descscript.}.\u003Cbr\u003E  if ag2 = \u0022True\u0022 {set altset to altset - 10. ag2 off.}.\u003Cbr\u003E  if ag3 = \u0022True\u0022 {set altset to altset \u002B 10. ag3 off.}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022wingnut\u0022 data-cite=\u0022wingnut\u0022\u003E\u003Cdiv\u003ED\u0027oh. Thanks. I already figured it had something to do with the print or log statements but I did not spot the incorrect strings.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey can be pretty hard to spot \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-26T17:59:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AeroEngy\u0022 data-cite=\u0022AeroEngy\u0022\u003E\u003Cdiv\u003EI did read that but there are a couple of missing pieces that are still throwing me off:\u003Cp\u003E1) As you said when I query Duna:position the vector\u0027s origin is my craft and not the Kerbin centered XYZ described in the Wiki. The wiki page explain the XYZ system when Kerbin is the origin but not when the the craft is the origin. I would need to transform Duna:position into a common coordinate system before doing any vector math. I am not sure how to do this since I don\u0027t know their systems orientation wrt each other.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt appears to be in the same orientation. A different origin point, but the same orientation. So the only operation needed is a translation, not a rotation. I\u0027ve had success getting the Mun\u0027s position relative to Kerbin by just doing simple vector tip to tail addition - adding (my position from Kerbin) to (Mun\u0027s position from me) to get (Mun\u0027s position from Kerbin).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E2) Kerbin:BODY:position seems to give me my position with respect to a Sun centered origin. However, again this seems to have a different origin I would need some information to transform the coordinates.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKerbin:BODY:position does not give you YOUR position at all, in ANY frame of reference. Period. It gives you The Sun\u0027s position. Because \u003Cem\u003EKerbin:BODY\u003C/em\u003E means \u0022The body that Kerbin orbits\u0022, i.e. \u0022the sun\u0022.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EHowever, I can\u0027t add the vectors until they are all in the same coordinate system with the same origin.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s not true. They have to be in coordinate systems that have the same orientation, but don\u0027t need the same origin to add them together. In fact that\u0027s pretty much the definition of vector addition of vector A to vector B. You\u0027re making vector B be \u0022origined\u0022 at the tip of vector A.\u003C/p\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-11-26T18:54:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIt appears to be in the same orientation. A different origin point, but the same orientation. So the only operation needed is a translation, not a rotation. I\u0027ve had success getting the Mun\u0027s position relative to Kerbin by just doing simple vector tip to tail addition - adding (my position from Kerbin) to (Mun\u0027s position from me) to get (Mun\u0027s position from Kerbin).\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EKerbin:BODY:position does not give you YOUR position at all, in ANY frame of reference. Period. It gives you The Sun\u0027s position. Because \u003Cem\u003EKerbin:BODY\u003C/em\u003E means \u0022The body that Kerbin orbits\u0022, i.e. \u0022the sun\u0022.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E \u003Cp\u003EPerhaps, but it is just semantics whether it points from craft \u0026gt; sun or sun \u0026lt; craft as that is just the difference in A vs -A in my crappy drawing. I originally thought it would points from sun\u0026gt;kerbin or vise versa. But since it has a oscillating non-zero value for the y-component that corresponded to me cross the equator this is certainly not the case. If this XYZ system is in the same orientation as the craft and Kerbin then it because trivial to calculate phase angle.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThat\u0027s not true. They have to be in coordinate systems that have the same orientation, but don\u0027t need the same origin to add them together. In fact that\u0027s pretty much the definition of vector addition of vector A to vector B. You\u0027re making vector B be \u0022origined\u0022 at the tip of vector A.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are correct and that is what I meant. It seemed from the vector components coming back from Duna:position that the orientation was not the same between Kerbin center and craft centered coordinates. Maybe I am making this more complicated than it needs to be. In my real job I am used to having to transform from ECEF, ECI, NED, and other vehicle centric systems.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-26T19:23:59Z\u0022 title=\u002211/26/2013 07:23  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 26, 2013\u003C/time\u003E by AeroEngy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-11-26T19:27:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AeroEngy\u0022 data-cite=\u0022AeroEngy\u0022\u003E\u003Cdiv\u003EI did read that but there are a couple of missing pieces that are still throwing me off:\u003Cp\u003E1) As you said when I query Duna:position the vector\u0027s origin is my craft and not the Kerbin centered XYZ described in the Wiki. The wiki page explain the XYZ system when Kerbin is the origin but not when the the craft is the origin. I would need to transform Duna:position into a common coordinate system before doing any vector math. I am not sure how to do this since I don\u0027t know their systems orientation wrt each other.\u003C/p\u003E\u003Cp\u003E2) Kerbin:BODY:position seems to give me my position with respect to a Sun centered origin. However, again this seems to have a different origin I would need some information to transform the coordinates.\u003C/p\u003E\u003Cp\u003EHere is a crappy sketch of my thought process, what I believe each position vector represents and my issues,\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://oi43.tinypic.com/334kuj4.png\u0022 alt=\u0022334kuj4.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EA = Kerbin:BODY:position (origin at sun ?, xyz system unknown)\u003C/p\u003E\u003Cp\u003EB = Kerbin:position (origin at craft, xyz system unknown)\u003C/p\u003E\u003Cp\u003EC = Duna:position (origin at craft, xyz system unknown)\u003C/p\u003E\u003Cp\u003EGoal determine vectors A\u002BC and A\u002BB (dashed lines) via simple vector addition. Calculate angle between using dot products. \u003C/p\u003E\u003Cp\u003EHowever, I can\u0027t add the vectors until they are all in the same coordinate system with the same origin.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003EThis might be of how KSP functions internally. Because Unity does not deal well with the vast scale of the Kerbin system, some trickery is involved where you do not move as much as you would think and the universe actually scales and moves around you. There are some interesting video\u0027s Squad made on this subject.\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESee here:\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/mXTxQko-JH0?start=222\u0026amp;feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E and\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/mXTxQko-JH0?start=878\u0026amp;feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E... I know nobody really wants to watch it, cause its freaking long and takes some time to get to the (floating) point (pun intended). I have set up the starting points... there might be more but I am also too lazy to watch it again (also on \u003Ca href=\u0022http://kos.wikia.com/wiki/XYZ_system_of_KSP\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kos.wikia.com/wiki/XYZ_system_of_KSP\u003C/a\u003E [at the very bottom])\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Amloris\u0022 data-cite=\u0022Amloris\u0022\u003E\u003Cdiv\u003EUnfortunately, none of those suggestions manage to get the code to work. When the KOS window is unfocused and the game is in camera view the code will not recognize any actionkey input.\u003Cp\u003EEven using the coding directly supplied by the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/48428-Space-Computer-Brought-to-you-by-kOS-and-hopefully-many-nerds\u0022 rel=\u0022external nofollow\u0022\u003EKOS Space Computer\u003C/a\u003E yields similar results.\u003C/p\u003E\u003Cp\u003EI suppose I can get my code to respond to external input by using the landing gear, brakes, rcs and sas keys to act as external input during the prelaunch sequence, but I would much rather get it to work by using the action keys. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EAny suggestions?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003E\u003Cdiv\u003EThat is weird. In a very broken bit of test code I wrote earlier this week, kOS will only respond to unfocussed commands. I have not gone any further with it and is \u003C/div\u003E\u003Cem\u003E\u003C/em\u003E\u003Cdiv\u003E\u003Cem\u003Enot\u003C/em\u003E\u003C/div\u003E\u003Cem\u003E\u003C/em\u003E\u003Cdiv\u003E how you should write something like this, but maybe it is of some help. This is tested with the most recent official version of kOS.\u003C/div\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs Camcha said: No one before ever reported this. I myself hadn\u0027t this problem in any version I ever used.\u003C/p\u003E\u003Cp\u003EOne wild guess: Did you have installed any other mod?\u003C/p\u003E\u003Cp\u003EIf not try to post the code and a HD! video (Its important that it is HD or else we can\u0027t see what is going on, do not use a low bit rate either.)\u003C/p\u003E\u003Cp\u003EAlso important set a trigger indicator to the action groups you want to use ... I suggest lamps ... (since we can\u0027t see your fingers/ keyboard and the game screen at same time ... while writing this, this popped also in mind: Do not use a cell phone but a screen capture software to record. Even in HD the quality might be to low to see whats going on)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EAttach lamps on the vessel (do not use symmetry mode!) in front so they can all be seen at the same time. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENow assign one lamp to each action group you want to use (use toggle).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Estart at least recording now.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWhile on the launch pad each action group (up to all 9 but you do really only need as much as you use in the demonstration ... while thinking about two or three should be enough in your case) should turn on one lamp. (and off if they are on already)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAfter checking this: \u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen the kOS window\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStart the program in question\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EUnfocus the kOS window through clicking somewhere (except kOS window)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHit any action group.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E ????? \u003C/li\u003E\u003Cli\u003E Profit!\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-26T19:30:51Z\u0022 title=\u002211/26/2013 07:30  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 26, 2013\u003C/time\u003E by Bizz Keryear\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-26T19:45:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AeroEngy\u0022 data-cite=\u0022AeroEngy\u0022\u003E\u003Cdiv\u003EPerhaps, but it is just semantics whether it points from craft \u0026gt; sun or sun \u0026lt; craft as that is just the difference in A vs -A in my crappy drawing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt is not trivial that you had the meaning of adding the suffix \u0022:BODY\u0022 misunderstood. That will mess up everything else you try to do. In this *one* example case, all it does is change the sign, but in the general case, believing that Kerbin:BODY is Kerbin, when it\u0027s in fact the sun, will mess up lots of math you try to do.\u003C/p\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-11-26T20:33:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIt is not trivial that you had the meaning of adding the suffix \u0022:BODY\u0022 misunderstood. That will mess up everything else you try to do. In this *one* example case, all it does is change the sign, but in the general case, believing that Kerbin:BODY is Kerbin, when it\u0027s in fact the sun, will mess up lots of math you try to do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote sure where you got that I thought Kerbin:BODY was Kerbin. By my second post I had figured that out although the direction was backwards. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AeroEngy\u0022 data-cite=\u0022AeroEngy\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI got the magnitude of both Kerbin:BODY:pOSITION and DUNA:BODY:pOSITION. Both vectors looked almost the same with magnitudes of 1.36x10^10 [V(-7.4x10^9, -1.0x10^3, 1.1x10^10)] ... which made me guess this is my craft\u0027s position with respect to Kerbol. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnyway, crappy sketch 2.0 below. If what you are saying is correct and X || X\u0027 || X\u0027\u0027 \u0026amp; Y || Y\u0027 || Y\u0027\u0027 \u0026amp; Z || Z\u0027 || Z\u0027\u0027 Then the following should be true.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EVector K to from Kerbol to Kerbin is : kerbin:position - kerbin:body:position\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EVector D from Kerbol to Duna is: Duna:position - kerbin:body:position\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EPhase angle between them is acos( K*D / ( ||D|| ||K|| ) {where * is the dot product.}\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe main reason I originally doubted that Duna:position was in the same orientation was when I queried Duna:position I got V(3.5*10^9, \u003Cstrong\u003E-1.2x10^7\u003C/strong\u003E,-5.1x10^9) That seemed high given the low inclination of Duna\u0027s orbit. (0.06 degrees) but doing some back of the napkin math that is in the range of possibility. I will do some more testing tonight and build a phase angle calculator assuming all of this and see what it spits out.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://oi39.tinypic.com/29feasl.jpg\u0022 alt=\u002229feasl.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Amloris","CreatedById":32411,"CreatedDateTime":"2013-11-27T03:25:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EThat is weird. In a very broken bit of test code I wrote earlier this week, kOS will only respond to unfocussed commands. I have not gone any further with it and is \u003Cem\u003Enot\u003C/em\u003E how you should write something like this, but maybe it is of some help. This is tested with the most recent official version of kOS.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Esnip\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI tried your code that you provided and I still can\u0027t get it to recognize key input. I feel like I\u0027m running into a brick wall here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003EAs Camcha said: No one before ever reported this. I myself hadn\u0027t this problem in any version I ever used.\u003Cp\u003EOne wild guess: Did you have installed any other mod?\u003C/p\u003E\u003Cp\u003EIf not try to post the code and a HD! video (Its important that it is HD or else we can\u0027t see what is going on, do not use a low bit rate either.)\u003C/p\u003E\u003Cp\u003EAlso important set a trigger indicator to the action groups you want to use ... I suggest lamps ... (since we can\u0027t see your fingers/ keyboard and the game screen at same time ... while writing this, this popped also in mind: Do not use a cell phone but a screen capture software to record. Even in HD the quality might be to low to see whats going on)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EAttach lamps on the vessel (do not use symmetry mode!) in front so they can all be seen at the same time. \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENow assign one lamp to each action group you want to use (use toggle).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Estart at least recording now.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWhile on the launch pad each action group (up to all 9 but you do really only need as much as you use in the demonstration ... while thinking about two or three should be enough in your case) should turn on one lamp. (and off if they are on already)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAfter checking this: \u003Cbr\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOpen the kOS window\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EStart the program in question\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EUnfocus the kOS window through clicking somewhere (except kOS window)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHit any action group.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E ????? \u003C/li\u003E\u003Cli\u003E Profit!\u003Cbr\u003E\u003Cbr\u003EI currently have no mods besides KOS installed on this version of KSP. The KOS version I am using is v0.9.1, but I suspect it is the v0.9.2 version.\u003Cbr\u003EWhen it gets a little more quiet around here I\u0027ll record a video of my dilemma; I have recording software and video editing software (I just need a brief refresher on how to use them!). I followed your suggestions with the lights as well as your testing suggestions, but sadly returned no positive results. I\u0027ll see if I can record that video later tonight. \u003Cbr\u003EIn the meantime, I have another problem that I have noticed in how KOS deals with trigonometric values that returns mathematically erroneous results that will be addressed in my next post.\u003C/li\u003E\u003C/ol\u003E\u003C/li\u003E\u003C/ol\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-27T03:52:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Amloris\u0022 data-cite=\u0022Amloris\u0022\u003E\u003Cdiv\u003EI tried your code that you provided and I still can\u0027t get it to recognize key input. I feel like I\u0027m running into a brick wall here. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESince you are the only user reporting fundamentally different behaviour, it is starting to look like it has something to do with your setup. I would suggest trying a fresh copy of KSP and/or kOS.\u003C/p\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-11-27T04:22:27Z","Content":"\n\u003Cp\u003EIn case anyone was interested I made the following to calculate the phase angles between any 2 planets orbiting the Sun/Kerbol\u003C/p\u003E\u003Cp\u003EYou just pass it the name of the current body and target body as a string\u003Cem\u003E run phaseAngle(\u0022Kerbin\u0022,\u0022Duna\u0022) \u003C/em\u003Efor example. currentBodyStr doesn\u0027t actually have to be your \u0022current\u0022 body but I didn\u0027t feel like renaming the parameters. Currently this just spams the angle to the terminal forever (ctrl\u002BC to stop) but it could be modified to return the angle or setup to wait for an optimal angle for transfer.\u003C/p\u003E\u003Cp\u003ENotes:\u003C/p\u003E\u003Cp\u003EI also switched form using the BODY:BODY:POSITION vectors to SUN:POSITION. I didn\u0027t know that actually existed as I was trying Kerbol before ... oh well live and learn. This is a 2-D approach using arctan with quadrant based corrections instead of dot products. I thought it would be easier but after applying all the fixes ... it probably wasn\u0027t. Also there is probably a better way to assign bodies besides my big block of repetitive IF statements ... but I got lazy with the copy and paste.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//Calculate how many degrees ahead target is from current body\u003Cbr\u003E// pass in current and target bodies as strings\u003Cbr\u003Edeclare parameter currentBodyStr. \u003Cbr\u003Edeclare parameter targetBodyStr.\u003Cbr\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eif currentBodyStr = \u0022Moho\u0022 {set Cbody to Moho.}.\u003Cbr\u003Eif currentBodyStr = \u0022Eve\u0022 {set Cbody to Eve.}.\u003Cbr\u003Eif currentBodyStr = \u0022Kerbin\u0022 {set Cbody to Kerbin.}.\u003Cbr\u003Eif currentBodyStr = \u0022Duna\u0022 {set Cbody to Duna.}.\u003Cbr\u003Eif currentBodyStr = \u0022Dres\u0022 {set Cbody to Dres.}.\u003Cbr\u003Eif currentBodyStr = \u0022Jool\u0022 {set Cbody to Jool.}.\u003Cbr\u003Eif currentBodyStr = \u0022Eeloo\u0022 {set Cbody to Eeloo.}.\u003Cbr\u003EPrint \u0022Current Body Set to: \u0022 \u002B cbody:name.\u003Cbr\u003E\u003Cbr\u003Eif targetBodyStr = \u0022Moho\u0022 {set Tbody to Moho.}.\u003Cbr\u003Eif targetBodyStr = \u0022Eve\u0022 {set Tbody to Eve.}.\u003Cbr\u003Eif targetBodyStr = \u0022Kerbin\u0022 {set Tbody to Kerbin.}.\u003Cbr\u003Eif targetBodyStr = \u0022Duna\u0022 {set Tbody to Duna.}.\u003Cbr\u003Eif targetBodyStr = \u0022Dres\u0022 {set Tbody to Dres.}.\u003Cbr\u003Eif targetBodyStr = \u0022Jool\u0022 {set Tbody to Jool.}.\u003Cbr\u003Eif targetBodyStr = \u0022Eeloo\u0022 {set Tbody to Eeloo.}.\u003Cbr\u003EPrint \u0022target Body Set to: \u0022 \u002B Tbody:name.\u003Cbr\u003E\u003Cbr\u003EUntil 0 {\u003Cbr\u003ESET C to cBody:POSITION - SUN:POSITION.\u003Cbr\u003ESET T to Tbody:POSITION - SUN:POSITION.\u003Cbr\u003E\u003Cbr\u003E//Just use 2-D case and skip dot products\u003Cbr\u003ESET CAngle2d to arctan(C:x/C:z).\u003Cbr\u003ESet TAngle2d to arctan(T:x/T:z).\u003Cbr\u003E\u003Cbr\u003E//Fix when z = 0 leading to undefined arctan\u003Cbr\u003Eif C:z = 0 AND C:x \u0026gt; 0 {SET CAngle2d to 90.}.\u003Cbr\u003Eif C:z = 0 AND C:x \u0026lt; 0 {SET CAngle2d to 270.}.\u003Cbr\u003Eif T:z = 0 AND T:x \u0026gt; 0 {SET TAngle2d to 90.}.\u003Cbr\u003Eif T:z = 0 AND T:x \u0026lt; 0 {SET TAngle2d to 270.}.\u003Cbr\u003E\u003Cbr\u003E//fix quadrant 2 \u0026amp; 3 to get correct angle due to sign issues.\u003Cbr\u003Eif C:z \u0026lt; 0 {SET CAngle2d to CAngle2d \u002B 180.}.\u003Cbr\u003Eif T:z \u0026lt; 0 {SET TAngle2d to TAngle2d \u002B 180.}.\u003Cbr\u003E//fix quadrant 4\u003Cbr\u003Eif C:x \u0026lt; 0 AND C:z \u0026gt; 0  {SET CAngle2d to CAngle2d \u002B 360.}.\u003Cbr\u003Eif T:x \u0026lt; 0 AND T:z \u0026gt; 0  {SET TAngle2d to TAngle2d \u002B 360.}.\u003Cbr\u003E\u003Cbr\u003Eset phaseAngle to CAngle2d - TAngle2d.\u003Cbr\u003Eif phaseAngle \u0026lt; 0 {SET phaseAngle to phaseAngle \u002B360.}.  //I don\u0027t like negative angles\u003Cbr\u003EPRINT \u0022Phase Angle: \u0022 \u002B round(phaseAngle,1) at (0,2).\u003Cbr\u003Ewait 1.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"adammada","CreatedById":29884,"CreatedDateTime":"2013-11-27T08:23:08Z","Content":"\n\u003Cp\u003E@AeroEngy\u003C/p\u003E\u003Cp\u003EOh my, you complcated this SOOOO MUCH, when you could do it that way:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EDECLARE PARAMETER body1.\u003Cbr\u003EDECLARE PARAMETER body2.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET body1p TO body1:position - body1:body:position.\u003Cbr\u003ESET body2p TO body2:position - body1:body:position.\t\u003Cbr\u003ESET phaseangle TO ARCTAN2(body1p:x,body1p:z) - ARCTAN2(body2p:x,body2p:z).\u003Cbr\u003Eif phaseangle \u0026lt; -180 {\u003Cbr\u003E\tSET phaseangle TO phaseangle \u002B 360.\u003Cbr\u003E}.\t\u003Cbr\u003Eif phaseangle \u0026gt; 180 {\u003Cbr\u003E\tSET phaseangle TO phaseangle - 360.\u003Cbr\u003E}.\t\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd if you want arguments to be body names not bodies istelf, just do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Edeclare parameter currentBodyStr. \u003Cbr\u003Edeclare parameter targetBodyStr.\u003Cbr\u003E\u003Cbr\u003Eset Cbody to BODY(currentBodyStr).\u003Cbr\u003Eset Tbody to BODY(targetBodyStr).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat way you can get phase angle between moons, not just planets (if for example you want to go from Mun to Minmus).\u003C/p\u003E\n"},{"CreatedByName":"AeroEngy","CreatedById":92772,"CreatedDateTime":"2013-11-27T12:34:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022adammada\u0022 data-cite=\u0022adammada\u0022\u003E\u003Cdiv\u003E@AeroEngy\u003Cp\u003EOh my, you complcated this SOOOO MUCH, when you could do it that way:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EDECLARE PARAMETER body1.\u003Cbr\u003EDECLARE PARAMETER body2.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESET body1p TO body1:position - body1:body:position.\u003Cbr\u003ESET body2p TO body2:position - body1:body:position.\t\u003Cbr\u003ESET phaseangle TO ARCTAN2(body1p:x,body1p:z) - ARCTAN2(body2p:x,body2p:z).\u003Cbr\u003Eif phaseangle \u0026lt; -180 {\u003Cbr\u003E\tSET phaseangle TO phaseangle \u002B 360.\u003Cbr\u003E}.\t\u003Cbr\u003Eif phaseangle \u0026gt; 180 {\u003Cbr\u003E\tSET phaseangle TO phaseangle - 360.\u003Cbr\u003E}.\t\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd if you want arguments to be body names not bodies istelf, just do:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Edeclare parameter currentBodyStr. \u003Cbr\u003Edeclare parameter targetBodyStr.\u003Cbr\u003E\u003Cbr\u003Eset Cbody to BODY(currentBodyStr).\u003Cbr\u003Eset Tbody to BODY(targetBodyStr).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat way you can get phase angle between moons, not just planets (if for example you want to go from Mun to Minmus).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks! I am quite good at making things complicated. I completely missed the existence of arctan2 when reviewing the available trig functions. I also didn\u0027t know you could call BODY(\u0022name\u0022) that way. Since the readme just said \u0022 BODY // The current celelestial body whose influence you are under\u0022.\u003C/p\u003E\u003Cp\u003ERegarding moons I wanted to add something to prevent targeting bodies that had different parents. So I will probably use something like tbody:BODY:NAME to make sure it matches the same thing as the cBody\u0027s. \u003C/p\u003E\u003Cp\u003EWhich leads me to a question. Is there a way to list the elements of Structure. I feel like I am working in the dark not knowing all the elements of BODY or TARGET etc. The only reason I know of half of them is because I saw someone else use it somewhere.\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-27T12:52:51Z","Content":"\n\u003Cp\u003EWe are looking into an issue using apoapsis in escape trajectories. Dunbaratu has found random apoapsis numbers while coasting in an escape trajectory. I cannot reproduce this behaviour. On the contrary I have found reproducably and mathmatically sound apoaspis figures (\u003Ca href=\u0022https://github.com/Nivekk/KOS/issues/248\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E). Anyone having the same problem with random apoapsis numbers? We are looking for a way to reproduce this issue. If you can, please let us know.\u003C/p\u003E\u003Cp\u003EHow to find out you are in a escape trajectory?\u003C/p\u003E\u003Cp\u003E1. print status -\u0026gt; \u0022ESCAPING\u0022, or check apoapsis \u0026gt; body\u0027s soi (soi numbers taken from the \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Kerbin\u0022 rel=\u0022external nofollow\u0022\u003Ewiki\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003E2. Report orbital parameters\u003C/p\u003E\u003Cp\u003Eprint body. // and \u003C/p\u003E\u003Cp\u003Eprint periapsis. // for reference.\u003C/p\u003E\u003Cp\u003E3. and then \u003C/p\u003E\u003Cp\u003Eprint apoapsis \u003C/p\u003E\u003Cp\u003Erepeatedly. Please report if the numbers fluctuate between positive and negative numbers.\u003C/p\u003E\u003Cp\u003EApoapsis carries information about orbital energy both for elliptic orbits and hyperbolic (escape) trajectories. A pull request based on \u003Ca href=\u0022https://github.com/Nivekk/KOS/issues/248\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Nivekk/KOS/issues/248\u003C/a\u003E removes apoapsis information for hyperbolic orbits for future kOS versions. It deprives kOS scripts of the ability to calculate deltav for injection burn maneuvers (for example, \u003Ca href=\u0022http://ksp.baldev.de/kos/mtkv2/perinode.txt\u0022 rel=\u0022external nofollow\u0022\u003Eperinode(alt)\u003C/a\u003E will calculate injection burns out of the box with kOS 0.9.2)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T12:56:18Z\u0022 title=\u002211/27/2013 12:56  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"adammada","CreatedById":29884,"CreatedDateTime":"2013-11-27T13:45:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EWe are looking into an issue using apoapsis in escape trajectories. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt pretty much depends on \u0022apoapsis from where\u0022. For example, when i was going from Mun to Kerbin, (change SOI, but no encounter), ship:apoapsis was apoapsis from MUN which WOULD BE if not SOI change.\u003C/p\u003E\n"},{"CreatedByName":"mordieth","CreatedById":94668,"CreatedDateTime":"2013-11-27T15:27:58Z","Content":"\n\u003Cp\u003EIs there a way to keep a key pressed for a set amount of time? For instance the keys for action groups 1 and 2? Need to rotate parts for a certain time with infernal robotics\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-27T16:52:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mordieth\u0022 data-cite=\u0022mordieth\u0022\u003E\u003Cdiv\u003EIs there a way to keep a key pressed for a set amount of time? For instance the keys for action groups 1 and 2? Need to rotate parts for a certain time with infernal robotics\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems that the Infernal Robotics way of intercepting keypresses messes with the normal action groups. However, if you set the action groups in the editor (\u003Cem\u003Emove -\u003C/em\u003E to ag1 and \u003Cem\u003Emove \u002B\u003C/em\u003E to ag2) it is possible to use them through kOS.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eag1 off.\u003Cbr\u003Eag2 off.\u003Cbr\u003Eag9 off.\u003Cbr\u003E\u003Cbr\u003Euntil ag9 = \u0022True\u0022 {\u003Cbr\u003E  if ag1 = \u0022True\u0022 {wait 2. ag1 off.}.\u003Cbr\u003E  if ag2 = \u0022True\u0022 {wait 2. ag2 off.}.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EDownside when using this method is that the timing in kOS is not highly accurate, so when you press 4 and 5 a number of times, the neutral position might be different than the starting position. The same goes for when your hinge meets an end stop. Until we get real IR support that is how it is.\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-27T18:21:45Z","Content":"\n\u003Cp\u003EA little countdown display and a better way to run through checklists =)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/a0_FsJCh0uU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-27T21:09:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003E A pull request based on \u003Ca href=\u0022https://github.com/Nivekk/KOS/issues/248\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Nivekk/KOS/issues/248\u003C/a\u003E removes apoapsis information for hyperbolic orbits for future kOS versions.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow can a pull request \u0022remove\u0022 information that is already physically impossible? A hyperbolic orbit is one that by definition does not HAVE an apoapsis because it doesn\u0027t curve back and fall in again, and therefore there\u0027s no such thing as the \u0022highest\u0022 altitude it will achieve. What I was asking for was a way to detect this scenario and stop returning bogus false numbers for apoapsis in this scenario like it does now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T21:12:14Z\u0022 title=\u002211/27/2013 09:12  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-27T21:16:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EWhat I was asking for was a way to detect this scenario and stop returning bogus false numbers for apoapsis in this scenario like it does now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think you would have to take advantage of the random nature of these bogus numbers. It might be possible to do this by monitoring the progression of the number for a while. When it varies too wildly within a certain period of time, it should be considered hyperbolic. Another method could be that the movement apoapsis should always have a certain direction .ie up or down. When it goes up and down a number of times you are on a hyperbolic trajectory.\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-27T21:23:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EHow can a pull request \u0022remove\u0022 information that is already physically impossible? A hyperbolic orbit is one that by definition does not HAVE an apoapsis because it doesn\u0027t curve back and fall in again, and therefore there\u0027s no such thing as the \u0022highest\u0022 altitude it will achieve. What I was asking for was a way to detect this scenario and stop returning bogus false numbers for apoapsis in this scenario like it does now.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI agree, it does not make sense as \u0022highest altitude of an orbit\u0022, BUT\u003C/p\u003E\u003Cp\u003Ethe apoapsis variable carries information about orbital energy both for elliptic orbits and hyperbolic (escape) trajectories. Removing apoapsis information for hyperbolic trajectories removes information about the specific orbital energy which is required to calculate deltav for injection burn maneuvers (for example, perinode(alt) will calculate injection burns out of the box with kOS 0.9.2).\u003C/p\u003E\u003Cp\u003EIf you have fluctuating numbers in a hyperbolic orbit I\u0027d like to reproduce those - it might be a bug. Please provide information on how to reproduce. I don\u0027t see random apoapsis numbers. If you provide apoapsis, periapsis, velocity:orbit:mag, body and altitude we can calculate the specific orbital energy to check those numbers make sense.\u003C/p\u003E\u003Cp\u003EI\u0027m referring to this \u003Ca href=\u0022https://github.com/Nivekk/KOS/pull/253/files\u0022 rel=\u0022external nofollow\u0022\u003Echange\u003C/a\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T21:37:13Z\u0022 title=\u002211/27/2013 09:37  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-27T21:44:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EIf you have fluctuating numbers in a hyperbolic orbit I\u0027d like to reproduce those - it might be a bug. Please provide information on how to reproduce\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EApparently providing that information once isn\u0027t enough. I already described it in the github issue.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-27T21:47:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Ethe apoapsis variable carries information about orbital energy both for elliptic orbits and hyperbolic (escape) trajectories. Removing apoapsis information for hyperbolic trajectories removes information about the specific orbital energy which is required to calculate deltav for injection burn maneuvers (for example, perinode(alt) will calculate injection burns out of the box with kOS 0.9.2).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEven if it did consistently return a negative number that you can plug into the equation to get your eccentricity, it still wouldn\u0027t be correct to call that negative number an apoapsis.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-27T21:51:03Z\u0022 title=\u002211/27/2013 09:51  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 27, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-27T21:53:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EEven if it did consistently return a negative number that you can plug into the equation to get your eccentricity, it still wouldn\u0027t be correct to call that negative number an apoapsis.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOn the other hand, it is better to have an incorrectly named but useful number than no number at all.\u003C/p\u003E\n"},{"CreatedByName":"aNewHope","CreatedById":76088,"CreatedDateTime":"2013-11-27T22:17:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EOn the other hand, it is better to have an incorrectly named but useful number than no number at all.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can only agree with you, Camacha, only because the \u0022apoapsis\u0022 is coded like this, my \u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u00A0V calculations work right out of the box.\u003C/p\u003E\u003Cp\u003EEven on a hyperbolic trajectory I can e.g calculate the \u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u00A0V for a circularization burn.\u003C/p\u003E\u003Cp\u003EKevin (Laity), please don\u0027t remove this bug/feature/useful stuff.\u003C/p\u003E\n"}]}