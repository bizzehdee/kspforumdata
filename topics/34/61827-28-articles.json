{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":28,"Articles":[{"CreatedByName":"Berengal","CreatedById":110325,"CreatedDateTime":"2014-05-05T12:27:45Z","Content":"\n\u003Cp\u003ESo after updated to 0.12 today I found some of my older programs completely froze KSP when I ran them. I managed to reduce it to a minimal test case:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Will always freeze KSP in kOS v0.12\u003Cbr\u003Eset x to false.\u003Cbr\u003E\u003Cbr\u003Ewhen x then {\u003Cbr\u003E  until false {\u003Cbr\u003E    print \u0022hello\u0022.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eset x to true.\u003Cbr\u003Ewait 1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-05T15:04:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Berengal\u0022 data-cite=\u0022Berengal\u0022\u003E\u003Cdiv\u003ESo after updated to 0.12 today I found some of my older programs completely froze KSP when I ran them. I managed to reduce it to a minimal test case:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Will always freeze KSP in kOS v0.12\u003Cbr\u003Eset x to false.\u003Cbr\u003E\u003Cbr\u003Ewhen x then {\u003Cbr\u003E  until false {\u003Cbr\u003E    print \u0022hello\u0022.\u003Cbr\u003E  }.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Eset x to true.\u003Cbr\u003Ewait 1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just tested and verified the bug. It happens when I do it to - it froze KSP so hard I couldn\u0027t even CTRL-ALT-DEL to kill KSP and had to do a hard poweroff.\u003C/p\u003E\u003Cp\u003EI have no idea what\u0027s going on. I\u0027d suspect it\u0027s got something to do with leaving a THEN clause still running when the program ends.\u003C/p\u003E\u003Cp\u003EI made an issue for it on the development site, and you can track its progress at this link:\u003C/p\u003E\u003Cp\u003E \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/81\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/81\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Berengal","CreatedById":110325,"CreatedDateTime":"2014-05-05T15:56:38Z","Content":"\n\u003Cp\u003EI found another bug with when statements.\u003C/p\u003E\u003Cp\u003EIf you have waits in a when statement they will be skipped. If your main program is waiting, its waiting condition will be replaced by the condition in the last of the wait statement in the when statement.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Waits for 4 seconds\u003Cbr\u003E\u003Cbr\u003Ewhen true then {\u003Cbr\u003E  print \u00221: \u0022 \u002B time.\u003Cbr\u003E  wait 2.\u003Cbr\u003E  print \u00222: \u0022 \u002B time.\u003Cbr\u003E  wait 4.\u003Cbr\u003E  print \u00223: \u0022 \u002B time.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003Ewait until false.\u003Cbr\u003Eprint \u0022done: \u0022 \u002B time.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Morgantao","CreatedById":55001,"CreatedDateTime":"2014-05-05T18:54:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ECTRL\u002BC is supposed to work, but if it doesn\u0027t then that could be a bug. Have you tried it and it didn\u0027t work?\u003Cp\u003EIt just occurred to me what the problem might be - are you aware of the keyboard focus issue with using action groups as a means of input?\u003C/p\u003E\u003Cp\u003EWhen you say \u0022ON AG5 ... \u0022 What you are saying is\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Enot this\u003C/strong\u003E -\u0026gt; \u0022respond to somebody pressing ALT\u002B5\u0022.\u003C/p\u003E\u003Cp\u003EWhat you are saying\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eis this\u003C/strong\u003E -\u0026gt; \u0022respond to Action Group 5 happening.\u0022.\u003C/p\u003E\u003Cp\u003EThe difference is subtle but very important. In order for Action Group 5 to happen, Kerbal Space Program needs to see your ALT\u002B5 keypress. Note, that\u0027s Kerbal Space Program, NOT kOS. In other words, you have to make sure that kOS\u0027s terminal window is *NOT* focussed. It needs to be greyed out and un-highlighted (click outside the window on the screen) in order for ALT\u002B5 to be seen by KSP and turned into an action group.\u003C/p\u003E\u003Cp\u003EIs that the problem? This also needs better documenting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECtrl\u002BC didn\u0027t work. It\u0027s the first thing I tried (being an old fart that\u0027s my default \u0022Oh crap, what did I do now?\u0022 key). In fact, all I could do was Ctrl\u002BAlt\u002BDel and close KSP from the task manager, as it was completely frozen.\u003C/p\u003E\u003Cp\u003EI know about the de-focusing KOS for action groups to work. I don\u0027t know where, but I remember reading that.\u003C/p\u003E\u003Cp\u003EWhat I don\u0027t know is what Alt\u002B5 is... Is that an alternate way to toggle an action group in KSP?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-05T19:41:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Morgantao\u0022 data-cite=\u0022Morgantao\u0022\u003E\u003Cdiv\u003ECtrl\u002BC didn\u0027t work. It\u0027s the first thing I tried (being an old fart that\u0027s my default \u0022Oh crap, what did I do now?\u0022 key). In fact, all I could do was Ctrl\u002BAlt\u002BDel and close KSP from the task manager, as it was completely frozen.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell that\u0027s unexpected. Was that the entire program you posted or was there more to it? I can\u0027t get it to freeze running what you posted.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI know about the de-focusing KOS for action groups to work. I don\u0027t know where, but I remember reading that.\u003C/p\u003E\u003Cp\u003EWhat I don\u0027t know is what Alt\u002B5 is... Is that an alternate way to toggle an action group in KSP?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUhmmm... alternate way? It\u0027s the only way I was aware of. What way were you using?\u003C/p\u003E\n"},{"CreatedByName":"Cakeofruit","CreatedById":73238,"CreatedDateTime":"2014-05-05T20:40:25Z","Content":"\n\u003Cp\u003Ecan we get data from FAR or KER ? or other mod ? \u003C/p\u003E\u003Cp\u003Egreat mod that put your head on books of orbital mechanics like FAR !! Thx\u003C/p\u003E\n"},{"CreatedByName":"Morgantao","CreatedById":55001,"CreatedDateTime":"2014-05-05T22:23:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EUhmmm... alternate way? It\u0027s the only way I was aware of. What way were you using?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI just press 5. No Alt involved. Worked for me so far.\u003C/p\u003E\u003Cp\u003EAnyway, here\u0027s my script:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset x to 1.\u003Cbr\u003Eon ag5 {\u003Cbr\u003E  set x to 1.\u003Cbr\u003E  until x\u0026gt;1 {\u003Cbr\u003E    toggle ag3.\u003Cbr\u003E    wait 1.4.\u003Cbr\u003E    toggle ag3.\u003Cbr\u003E    wait 0.3.\u003Cbr\u003E  }\u003Cbr\u003E}\u003Cbr\u003Eon ag6 {\u003Cbr\u003E  set x to 2.\u003Cbr\u003E}\u003Cbr\u003Ewait 10. \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAll ag3 does is toggle the landing legs.\u003C/p\u003E\u003Cp\u003EThe second I hit 5, KSP freezes.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-05T23:48:28Z","Content":"\n\u003Cp\u003EIn a few back and forth comments on github something came up that should probably be made into a public announcement.\u003C/p\u003E\u003Cp\u003ELots of people are reporting in this forum the same problem with using WHEN/THEN and ON trigger code, and it can all be traced to the same cause: The behavior of these things has been altered in an important but subtle way when marianoapp re-implemented the kOS language from the ground up, and the change was never mentioned publicly. I only just found out about it an hour ago or so.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EThe old way it used to work:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe body of a THEN clause is a bit like a clunky blocky thread - it runs in the background, but an entire statement at a time. It\u0027s not quite a thread but it\u0027s close, in that you can interleave the execution of the THEN clause with the execution of the main program.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EThe new way it works:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWhenever the WHEN/THEN or ON trigger condition happens, the main program \u003Cstrong\u003Epauses and waits for\u003C/strong\u003E the body of the THEN to finish before it will continue. Effectively, kOS is a lot faster now, but single-threaded. (Granted what there was before wasn\u0027t *quite* a thread, but you get what I mean). Also, the entire body of a WHEN/THEN or ON command must be designed to execute fully, all the way to the ending squiggle-brace, rather fast, because all of KSP (not just kOS) is paused until it finishes.\u003C/p\u003E\u003Cp\u003EThe WAIT no longer works inside WHEN/THEN or ON bodies because of this - those parts of the program don\u0027t run in the same interruptable few-instructions-per-update-tick sort of way that the rest of the code does.\u003C/p\u003E\u003Cp\u003ETherefore any algorithm designed like some of the ones posted here, where there\u0027s a loop inside the body of the WHEN/THEN, that\u0027s expecting to see a change to a variable caused by the main body, will not work anymore, as the main body isn\u0027t running while the WHEN/THEN is running.\u003C/p\u003E\u003Cp\u003EThe reason this change was not mentioned was that it wasn\u0027t obvious that it even WAS a change, as marianoapp thought the way he implemented it *was* the way it originally worked. Let\u0027s be fair, the original specifications were unclear, the C# code itself was mostly undocumented, and of course Kevin Laity was impossible to reach to answer any questions so it\u0027s not like anyone could ask for clarifications to the spec to figure out what was intended behavior of kOS versus what was buggy behavior. So yes, it\u0027s a change to the spec, but its an understandable one (the old way was really messy how it was implemented under the hood).\u003C/p\u003E\u003Cp\u003EThere should be a way to make a repeating WHEN/THEN that doesn\u0027t delete itself after the first execution, such that you can \u0022loop\u0022 by letting the kOS computer re-run the WHEN/THEN for you again and again. Right now the syntax doesn\u0027t support it, but it\u0027s a thing people have mentioned as possible future pie-in-the-sky ideas.\u003C/p\u003E\u003Cp\u003EI have to hurry up and go edit some of the documentation I wrote on the site, which claims this method is supposed to work. In the past, it did.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-05T23:52:16Z\u0022 title=\u002205/05/2014 11:52  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 5, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Korb Biakustra","CreatedById":53854,"CreatedDateTime":"2014-05-06T01:06:38Z","Content":"\n\u003Cp\u003EThanks for that awesome mod. I have been following it since a long time, but I\u0027ve never managed to use it so far due to lack of time and another programming language to focus on for work (when you\u0027re not a programmer, you may very quickly mix up languages \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E).\u003C/p\u003E\u003Cp\u003EI am wondering whether there is a Toolbar implementation for kOS. The kOS part can be very hard to select to open the terminal \u003Cem\u003Evia\u003C/em\u003E the right-click menu, especially if you have a large ships where the part is far from the center of mass (where the view is centered), or even worse, if you use fairings. A Toolbar button would solve such issues.\u003C/p\u003E\u003Cp\u003EAdditionally, are there any plans for adding a radially-mountable kOS part?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-06T01:14:37Z\u0022 title=\u002205/06/2014 01:14  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 6, 2014\u003C/time\u003E by Korb Biakustra\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Izandral","CreatedById":70762,"CreatedDateTime":"2014-05-06T02:34:04Z","Content":"\n\u003Cp\u003EJust downloaded the latest version on spaceport. When i put a KOS module on a ship i can no longer control it manually. I don\u0027t program anything i don\u0027t even open the terminal. Just having the part on the ship prevents throttle and steering from working at all. What should i do ?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-06T03:18:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Izandral\u0022 data-cite=\u0022Izandral\u0022\u003E\u003Cdiv\u003EJust downloaded the latest version on spaceport. When i put a KOS module on a ship i can no longer control it manually. I don\u0027t program anything i don\u0027t even open the terminal. Just having the part on the ship prevents throttle and steering from working at all. What should i do ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWait for 0.12.1\u003C/p\u003E\u003Cp\u003E(It\u0027s a bug that is being worked on by erendrake at the moment. Not everyone experiences the bug as it seems to have something to do with exact timings in a finicky way.)\u003C/p\u003E\n"},{"CreatedByName":"Morgantao","CreatedById":55001,"CreatedDateTime":"2014-05-06T08:36:28Z","Content":"\n\u003Cp\u003ESteven, thanks for finding out why we couldn\u0027t get the loop to work. It all makes sense now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2014-05-06T13:56:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Korb Biakustra\u0022 data-cite=\u0022Korb Biakustra\u0022\u003E\u003Cdiv\u003EAdditionally, are there any plans for adding a radially-mountable kOS part?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s certainly a possibility, though honestly I didn\u0027t even think of a that. \u0022Currently\u0022 (pending R/L and playing KSP for Science!) I\u0027m working on a \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E2.5m\u003C/span\u003E3.75m part, \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eand would like to also get a 3.75m one out as well,\u003C/span\u003E and eventually may replace the original one too.\u003C/p\u003E\u003Cp\u003EThis is my first time making parts for KSP, or any game really (can you tell? lol), but it is pretty fun. I don\u0027t consider my self to be much of a graphic artist but I do enjoy creating something with Blender/GIMP and then having it in the game.\u003C/p\u003E\u003Cp\u003EAt any rate, here is a mock up of what I\u0027m \u0022currently\u0022 working on. The actual in game model looks little better than this currently, but I\u0027m not that familiar with the sketchfab process so I may be missing something.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Ciframe width=\u0022640\u0022 height=\u0022480\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022\u0022\u003E\u003C/iframe\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EWith the 0.625 part, before the update, the built in light was green, but with the change to the lighting system it now defaults to white. I haven\u0027t taken the time yet to figure out how to fix it just yet. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf anyone has ideas/suggestions for the parts, let me know either by replying and/or PM (though PM maybe best so it doesn\u0027t get lost in the forum). Can\u0027t guarantee that I\u0027ll like them or that they\u0027ll make it in, but you never know. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEdit:\u003C/strong\u003E It seems the small part is slightly smaller than it should be. I don\u0027t remember if this is how it was originally or not though lol. I\u0027ll get that fixed when I fix the light. Also just checked, the 3.75m part I\u0027m working on is in the update, so you can check out where it was when I last sent it to erendrake.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-06T15:04:38Z\u0022 title=\u002205/06/2014 03:04  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 6, 2014\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-06T14:32:40Z","Content":"\n\u003Cp\u003EIf there was a radially-mounted kOS computer part, which of these would be the preferred behavior, I wonder:\u003C/p\u003E\u003Cp\u003E1. Steering controls use the computer part\u0027s own orientation to decide which way is which. If the part is facing sideways, and you tell it to LOCK STEERING TO UP, it will face the PART\u0027s top toward up, not the ship\u0027s top toward up.\u003C/p\u003E\u003Cp\u003E2. Steering controls use the Vessel\u0027s idea of up and down and left and right. The command LOCK STEERING TO UP would point the nose of the ship up, even if it was executed from a radially mounted computer part.\u003C/p\u003E\u003Cp\u003EAlong similar lines I was contemplating if it would be possible to create a tiny part along the lines of the little science sensors, called a Telemetry Sensor, the purpose of which is to be nothing more than a thing that kOS scripts can use to issue a command that says \u0022THIS is where I want my measurements taken from, rather than from the center of the ship.\u0022 For the purpose of things like POSITION vectors, or altitude queries. It would allow people to place a sensor at the bottom of the ship and use that for the landing altitude, instead of having to have the software hardcode the knowledge of how far the center of mass is from the bottom of the ship.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-06T14:41:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Morgantao\u0022 data-cite=\u0022Morgantao\u0022\u003E\u003Cdiv\u003ESteven, thanks for finding out why we couldn\u0027t get the loop to work. It all makes sense now \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not entirely happy with the change because while I can understand the need to make it cleaner, there currently isn\u0027t anything else to replace it with, so algorithmic possibilities have been taken away. (Which is a much bigger deal than removing the text editor). If there was a way to specify that a WHEN/THEN shouldn\u0027t be removed after it executes once, and should remain in place, then that would provide an alternate way - you\u0027d just put the body of your loop flat in the THEN body without the loop wrapper, tell kOS to preserve the hook and not delete it, and then kOS will keep re-triggering it each time KSP tells the mod to update itself. It would then behave sort of like a loop but slower, only executing once per game update tick. For most of the uses I\u0027m seeing people put it to, that would be plenty fast enough.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2014-05-06T14:59:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIf there was a radially-mounted kOS computer part, which of these would be the preferred behavior, I wonder:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood point, I like the 2nd behavior you mentioned, likely wouldn\u0027t have any additional programming. Also the idea of having a sensor for telemetry sounds interesting. Not sure what it\u0027d take on the code side, but I\u0027ll keep it in mind once I get around to working on other parts.\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-05-06T15:00:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIf there was a radially-mounted kOS computer part, which of these would be the preferred behavior, I wonder:\u003Cp\u003E1. Steering controls use the computer part\u0027s own orientation to decide which way is which. If the part is facing sideways, and you tell it to LOCK STEERING TO UP, it will face the PART\u0027s top toward up, not the ship\u0027s top toward up.\u003C/p\u003E\u003Cp\u003E2. Steering controls use the Vessel\u0027s idea of up and down and left and right. The command LOCK STEERING TO UP would point the nose of the ship up, even if it was executed from a radially mounted computer part.\u003C/p\u003E\u003Cp\u003EAlong similar lines I was contemplating if it would be possible to create a tiny part along the lines of the little science sensors, called a Telemetry Sensor, the purpose of which is to be nothing more than a thing that kOS scripts can use to issue a command that says \u0022THIS is where I want my measurements taken from, rather than from the center of the ship.\u0022 For the purpose of things like POSITION vectors, or altitude queries. It would allow people to place a sensor at the bottom of the ship and use that for the landing altitude, instead of having to have the software hardcode the knowledge of how far the center of mass is from the bottom of the ship.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EVessel would be more intuitive. If you lock your steering to 30 by 45 you\u0027re going to be pretty confused as a new player when it starts to point at the horizon because the kOS core is mounted on an angle. If you want you could give the kOS parts the same \u0022Control from here\u0022 feature that docking ports have. That way you can adjust the vessel orientation to match kOS part orientation.\u003C/p\u003E\n"},{"CreatedByName":"Korb Biakustra","CreatedById":53854,"CreatedDateTime":"2014-05-06T17:45:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EIt\u0027s certainly a possibility, though honestly I didn\u0027t even think of a that. \u0022Currently\u0022 (pending R/L and playing KSP for Science!) I\u0027m working on a \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E2.5m\u003C/span\u003E3.75m part, \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Eand would like to also get a 3.75m one out as well,\u003C/span\u003E and eventually may replace the original one too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for your answer! The idea behind a radially-mountable part is basically that I think a \u0022terminal\u0022 would realistically be included in any manned or unmanned pod, and radially-mounted parts usually impose less constraints on how to design your ship than stackable parts, at least on pods. For instance I have a pod with 1.25 m stuff and docking ports on both ends, and adding a layer for the \u0022computer\u0022 of this pod seems weird and will make it even taller.\u003C/p\u003E\u003Cp\u003EOf course this is not a very important issue (is it an issue anyway?) and attaching radial parts is not always easy either, but I thought I\u0027d ask!\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2014-05-06T22:07:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Korb Biakustra\u0022 data-cite=\u0022Korb Biakustra\u0022\u003E\u003Cdiv\u003EThanks for your answer! The idea behind a radially-mountable part is basically that I think a \u0022terminal\u0022 would realistically be included in any manned or unmanned pod, and radially-mounted parts usually impose less constraints on how to design your ship than stackable parts, at least on pods. For instance I have a pod with 1.25 m stuff and docking ports on both ends, and adding a layer for the \u0022computer\u0022 of this pod seems weird and will make it even taller.\u003Cp\u003EOf course this is not a very important issue (is it an issue anyway?) and attaching radial parts is not always easy either, but I thought I\u0027d ask!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes not hurt to ask, usually...lol\u003C/p\u003E\u003Cp\u003EThat is true, about making a stack taller, though in the past I just planned for this from the start and/or worked around it, not always successfully though lol. Another thought I had was radially attached parts to add certain features, like more storage space, different functions and/or faster processing. Although most of that will be on the code side which is something I don\u0027t do (although I do web programming, mostly PHP...I guess it might be handy to add another one to the list, if I had the time to learn it lol).\u003C/p\u003E\n"},{"CreatedByName":"Cakeofruit","CreatedById":73238,"CreatedDateTime":"2014-05-06T22:22:03Z","Content":"\n\u003Cp\u003Ethe command print engine:thrust. don\u0027t work for me in kos 0.12 \u003C/p\u003E\u003Cp\u003EDid i write it wrong ?\u003C/p\u003E\u003Cp\u003EFor the docs we really need to see the output of the kos console for each command.\u003C/p\u003E\u003Cp\u003Estill no way to get data from Ferram mod ?\u003C/p\u003E\n"},{"CreatedByName":"Dexter9313","CreatedById":84598,"CreatedDateTime":"2014-05-07T21:14:30Z","Content":"\n\u003Cp\u003EHi everyone !\u003C/p\u003E\u003Cp\u003EI have been using kOS for a long time now (since 0.7 approximatly). I updated to 0.9 a few months ago then I modified it to add some features that are now almost all in 0.12 so I finally decided to give your new version a try.\u003C/p\u003E\u003Cp\u003ELong story short, my RT2/kOS compatibility is broken in a strange way. I tried to narrow down the problem so I will give as much information as I can :\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E1\u003C/strong\u003E First of all I use RemoteTech 1.3.3 and installed the second fix from madadam and JDMJ here :\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/56399-0-23-RemoteTech-2-v1-3-3-Late-Christmas-Edition?p=901076\u0026amp;viewfull=1#post901076\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/56399-0-23-RemoteTech-2-v1-3-3-Late-Christmas-Edition?p=901076\u0026amp;viewfull=1#post901076\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t know which version is actually supported by kOS but since 1.3.3 was unplayable for a lot of us, I\u0027ll guess it used 1.3.3 fix 2.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E2\u003C/strong\u003E Here is the bug :\u003C/p\u003E\u003Cp\u003EI launched a ship using kOS in a 80k circular orbit, left the game, reloaded the save and loaded the spacecraft from the tracking station.\u003C/p\u003E\u003Cp\u003EThe game remains \u0022frozen\u0022 like this. I can move the camera so the executable isn\u0027t frozen but time doesn\u0027t pass (hanged at 9:20 here). I also can use the GUI to go back to the Space Center or bring the debug console to the screen. Which leads me to the next point.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vCB1sCr.jpg\u0022 alt=\u0022vCB1sCr.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E3\u003C/strong\u003E Here are my logs :\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/RsKyjYbs\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/RsKyjYbs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E4\u003C/strong\u003E I figured out it only occures when kOS Module data has already been stored in the persistent file. Whenever I launch a ship for the first time, the bug doesn\u0027t show up, but whenever I reload the save file it does. The KSC is clean, it only appears when a vessel is being loaded and doesn\u0027t seem to influence the game so much. I know saved data should be the problem because whenever I edit the \u003C/p\u003E\u003Cp\u003E\u0022PART\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Ename = kOSMachine1m\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E}\u0022\u003C/p\u003E\u003Cp\u003E in the persistent.sfs file and remove the\u003C/p\u003E\u003Cp\u003E\u0022MODULE\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003Ename = kOSProcessor\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003E}\u0022\u003C/p\u003E\u003Cp\u003Efrom it, loading the vessel is normal.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E5\u003C/strong\u003E I know RT2/kOS are the problem because I tried a dummy game with those installed only. Here it is :\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/vegcckscce3qd5j/kosTracker.rar\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/vegcckscce3qd5j/kosTracker.rar\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EGo in Tracking Station and load the only vessel orbiting.\u003C/p\u003E\u003Cp\u003EI know both my logs and savegame contain traces from other mods but they where not installed when I ran this test (GameData folder only containing Squad \u0022NASAsomething\u0022 kOS and Remotetech2). I tested things with other mods on just before so they leaved trash at some places but they don\u0027t interfere in any way.\u003C/p\u003E\u003Cp\u003EAnyway, thank you for your help, those mods are almost my only reason to play KSP so much !\u003C/p\u003E\u003Cp\u003E[EDIT] When I disable Remotech Integration in the kOS congif.xml file, the two dlls can coexist within the game without leading to the bug so I think kOS doesn\u0027t handle something quite as it should when creating the RT \u0022environment\u0022.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-07T21:34:38Z\u0022 title=\u002205/07/2014 09:34  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 7, 2014\u003C/time\u003E by Dexter9313\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-08T17:09:48Z","Content":"\n\u003Cp\u003EWhenever I\u0027m building a rocket with an up-side-down payload (with multi-engine ends), kOS doesn\u0027t lock it\u0027s steering correctly. It just makes the rocket spin like a maniac. \u0022Control from here\u0022 makes no difference. Is there a workaround?\u003C/p\u003E\u003Cp\u003E----------------------------------\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dexter9313\u0022 data-cite=\u0022Dexter9313\u0022\u003E\u003Cdiv\u003EHi everyone !\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dexter9313\u0022 data-cite=\u0022Dexter9313\u0022\u003E\u003Cdiv\u003EHere is the bug :\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you add the kOS module to your probe cores and pods?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-05-08T17:36:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EWhenever I\u0027m building a rocket with an up-side-down payload (with multi-engine ends), kOS doesn\u0027t lock it\u0027s steering correctly. It just makes the rocket spin like a maniac. \u0022Control from here\u0022 makes no difference. Is there a workaround?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan you give an example .craft file?\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-05-08T17:44:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ECan you give an example .craft file?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll get a stock one together. One thing I should have also said. The root part is a Science Jr. The payload probe core is surface attached and pointing down. The rocket probe core is also surface attached, and is pointing up. Both cores are custom made for the Open Mod competition by me. Would you download it? It would make your test more relevant.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-08T17:46:39Z\u0022 title=\u002205/08/2014 05:46  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 8, 2014\u003C/time\u003E by Cpt. Kipard\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dexter9313","CreatedById":84598,"CreatedDateTime":"2014-05-08T17:47:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EDid you add the kOS module to your probe cores and pods?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m afraid I did not. There are no modification from stock in my KSP directory other than adding the \u0022official\u0022 RemoteTech and kOS, and one IVA mod which should be outside GameData so I forgot to mention it. It\u0027s for the stock mk2/mk3 plane cockpits but I didn\u0027t load them in my test and they are in the directory for a very long time and never interfered with anything. I modified kOS a little so that it computes eta_ascendingnode for exemple a bit later but I already had the exact same bug before I did. Now you know everything. If nobody can see what is happening I could check the source code myself but I\u0027d rather know that the main developers have checked that before for an obvious fix. If I am the only one to experience this I should try to reinstall a fresh KSP.\u003C/p\u003E\u003Cp\u003EAnyway, I have another wonder : have steering been heavily modified in .12 ? My probes don\u0027t handle good at all and my old \u0022executenode\u0022 script which relies on a very stable vessel is of no use anymore. The spacecraft keeps trying to steer towards the node but it results in an \u0022artificial wobble\u0022 which doesn\u0027t come from the structure but from the craft moving \u0022around the vector\u0022 for 3\u00C3\u201A\u00C2\u00B0/4\u00C3\u201A\u00C2\u00B0, not being able to hold itself stricly along it. That is surely more \u0022realistic\u0022 but I find it very annoying for maneuvers which require precision (I can\u0027t do better than 2 or 3 m/s precision now, I could do 0.1 before, no rcs required). It behaves almost like if the reaction wheel was not used.\u003C/p\u003E\n"}]}