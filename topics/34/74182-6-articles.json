{"TopicId":74182,"ForumId":34,"TopicTitle":"[1.2.2] Ioncross Crew Support v1.26.0 (Starwaster\u0026#039;s branch) - Jul 7, 2016","CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-06-05T06:23:31Z","PageNum":6,"Articles":[{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-07T17:47:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EOk. I can see the point of having an electrical cost for general life support. You do have to heat the capsule to a minimal degree and Kerbals do need their snacks. But it would be nice if we could get the current general cost lowered. At present, the default electrical charge for general life support means a standard Mk1 capsule has only enough electricity for about 10 hours assuming no other power usage or generation. I\u0027d like to see that at least doubled. I know that part I can do myself by editing my config file but along with the reduced electrical cost for general life support, I\u0027d like to see an extra electrical cost when scrubbers are activated. Not sure if that\u0027s something I can do myself by editing the config or if it\u0027s even possible with the current system.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll look into it for the next update. \u003C/p\u003E\u003Cp\u003EAs to what\u0027s possible, of course electric charge can be added to scrubbers. Very little of that stuff is hard coded. The only thing that is is stuff that depends on knowing if atmosphere for the current body has oxygen or not.\u003C/p\u003E\u003Cp\u003Eedit: btw, I\u0027m surprised nobody commented on the implication that Kerbals run the microwave oven around the clock \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EEdit #2 \u003C/span\u003E\u003C/strong\u003E\u003Cem\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:18px;\u0022\u003EPROGRESS!\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have the toolbar working and I have per save game persistence working.\u003C/p\u003E\u003Cp\u003EFor right now that\u0027s going to be limited to enabling/disabling the mod per save game. It\u0027s open to expansion though but right now I don\u0027t know what might go in there.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-07T18:14:13Z\u0022 title=\u002208/07/2014 06:14  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 7, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-07T19:34:23Z","Content":"\n\u003Cp\u003ECurrent display code\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[COLOR=#009695][FONT=Menlo]if[/FONT][/COLOR][COLOR=#444444][FONT=Menlo] ([/FONT][/COLOR][COLOR=#444444][FONT=Menlo]Math[/FONT][/COLOR][COLOR=#444444][FONT=Menlo].[/FONT][/COLOR][COLOR=#444444][FONT=Menlo]Abs[/FONT][/COLOR][COLOR=#444444][FONT=Menlo]([/FONT][/COLOR][COLOR=#444444][FONT=Menlo]rate[/FONT][/COLOR][COLOR=#444444][FONT=Menlo]) \u0026lt; [/FONT][/COLOR][COLOR=#444444][FONT=Menlo]minValue[/FONT][/COLOR][COLOR=#444444][FONT=Menlo])[/FONT][/COLOR]\u003Cbr\u003E[COLOR=#444444][FONT=Menlo]{[/FONT][/COLOR]\u003Cbr\u003E[FONT=Menlo][COLOR=#444444]    rate[/COLOR][COLOR=#444444] *= [/COLOR][/FONT][FONT=Menlo][COLOR=#f57c00]24.0f[/COLOR][/FONT][FONT=Menlo][COLOR=#444444];[/COLOR]\u003Cbr\u003E[COLOR=#444444]    units[/COLOR][COLOR=#444444] = [/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#f57c00]day[/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#444444];[/COLOR]\u003Cbr\u003E[COLOR=#444444]}[/COLOR]\u003Cbr\u003E[/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESee what I did there?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[FONT=Menlo][COLOR=#009695]if[/COLOR][COLOR=#444444] ([/COLOR][COLOR=#444444]Math[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]Abs[/COLOR][COLOR=#444444]([/COLOR][COLOR=#444444]rate[/COLOR][COLOR=#444444]) \u0026lt; [/COLOR][COLOR=#444444]minValue[/COLOR][COLOR=#444444])[/COLOR]\u003Cbr\u003E[COLOR=#444444]{[/COLOR]\u003Cbr\u003E[COLOR=#444444]    rate[/COLOR][COLOR=#444444] *= ([/COLOR][COLOR=#3363a4]float[/COLOR][COLOR=#444444])([/COLOR][/FONT][FONT=Menlo][COLOR=#444444]([/COLOR][COLOR=#444444]KSPUtil[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]Day[/COLOR][COLOR=#444444]/[/COLOR][COLOR=#f57c00]3600[/COLOR][/FONT][FONT=Menlo][COLOR=#444444])[/COLOR][COLOR=#444444];[/COLOR]\u003Cbr\u003E[COLOR=#444444]    units[/COLOR][COLOR=#444444] = [/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#f57c00]day[/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#444444];[/COLOR]\u003Cbr\u003E[COLOR=#444444]}[/COLOR]\u003Cbr\u003E[/FONT] \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEdit: The Results.\u003C/p\u003E\u003Cp\u003EKerbin Time vs Earth Time\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/qF2jWRJ\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/qF2jWRJ.png?1\u0022 alt=\u0022qF2jWRJ.png?1\u0022\u003E\u003C/a\u003E\u003Ca href=\u0022http://imgur.com/jz7RPDT\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/jz7RPDT.png?2\u0022 alt=\u0022jz7RPDT.png?2\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-08T01:25:20Z\u0022 title=\u002208/08/2014 01:25  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 8, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-09T03:56:52Z","Content":"\n\u003Cp\u003EOpinion request time\u003C/p\u003E\u003Cp\u003ECurrently I\u0027m working on the part of the code that will disable the mod if the mod has been turned off from the Space Center via the new control button.\u003C/p\u003E\u003Cp\u003EAt this time it suspends updating for things like generators, collectors and all life support checks including death checks. I went that route instead of removing the actual modules from the parts because that would break a player\u0027s existing settings. And generally wreak havoc with persistence. What else should it do? hide the GUI? Hide GUI buttons? Anything else I\u0027m not thinking of?\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-09T19:19:07Z","Content":"\n\u003Cp\u003EGreat news about the time display thing.\u003C/p\u003E\u003Cp\u003EYes, if you turn off the mod, the modules should remain but the information and buttons should all disappear.\u003C/p\u003E\u003Cp\u003ESo I\u0027ve been trying to tweek the O2 consumption rates, CO2 generation rates, ElectricCharge Rate (ECR) in general and add an ECR specifically for activating the scrubber. In he process of doing all that I\u0027ve noticed some strange things with the default settings. By default there is a general life support ECR of 0.00138889 which equates to 5/hr per allowable occupant. Also by default there appears to be an Air Vent ECR of -0.00005787041 which should equate to 0.208/hr per kerbal. So in space a Mk1 Command Pod should list an ECR of 5/hr and on the ground it should show 5.208/hr. That isn\u0027t the case. On the ground, every one-kerbal module shows an ECR of 5.028/hour and you get the same reading in space. So it doesn\u0027t appear that the AirVent ECR is being included. Not sure but could this be because of the automatic system? I can\u0027t test this since there isn\u0027t a way for me to manually turn the air vent on/off while in an atmosphere. Also it seems there is some phantom 0.028/hr ECR that I can\u0027t seem to trace to anywhere.\u003C/p\u003E\u003Cp\u003EPossible oddity number two, a 2-kerbal module requires double the base ECR even if only a single Kerbal is present. This is true whether in space or in an atmosphere. So a Mk2 Lander Can uses 10.028/hr with one or two kerbals. A Mk1-2 Command Pod uses 15.028/hr with one, two or three kerbals. And a Hitchhiker Storage Container uses 20.028/hr with one, two, three or four kerbals. I\u0027m not sure if that was intentional or not.\u003C/p\u003E\u003Cp\u003EAnd oddity number three, CO2 scrubbers are turned on by default even when you\u0027re in an atmosphere. Is it possible to have them try to turn off when the air vents activate? I\u0027d still like the ability to manually turn the scrubbers on/off, even when in an atmosphere, but if they can also automatically turn on/off based on the air vents, that would be really nice.\u003C/p\u003E\u003Cp\u003EAll that leads to the tweeks I have been trying to make. For starters, I wanted to increase O2 consumption, increase CO2 generation and reduce general ECR. I therefore changed my O2 rate to 0.0000462962 (1/6hr), my CO2 rate to -0.000324075 (7/6hr) and my ECR to 0.000231482 (5/6hr or 0.8333352/hr). I also changed the scrubber CO2 value to 10.5/6hr, the AirVent O2 rate to 1/hr, the AirVent CO2 rate to 7/hr but left the AirVent ECR at the 0.208/hr rate is uses by default. My resulting O2 consumption and CO2 generation rates appear to work just fine. And the general ECR changes seem to be working as well. My modules are using 0.833/hr per potential occupant, plus the phantom 0.028/hr. So a Mk1 cockpit uses 0.861, a Mk2 Lander Can uses 1.694, a Mk1-2 Command Pod uses 2.528 and a Hitchhiker module uses 3.361. And just like the default, this is true whether on the ground with the air vents running or in space with the air vents turned off.\u003C/p\u003E\u003Cp\u003ESo, with the above basically working (at least with all the oddities that the default settings give), I added one more tweek to my config file. I want CO2 scrubbers to use electricity so I tried adding the following code to the \u0022ION_POD_GENERATOR\u0022 section that deals with the CO2Scrubber:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.000462964 //set to 10/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis addition sort of works. When you turn the CO2 scrubbers on, the ElectricCharge Rate for a module changes. But the change isn\u0027t the value I intended. The ratePerCapacity I set should result in an ECR cost of 1.6666704/hr\u003C/p\u003E\u003Cp\u003EExample 1: Mk1 Cockpit on landing pad. One kerbal capacity and occupancy. Scrubber turned off, ECR = 0.861/hr. Scrubber turned on, ECR = 1.602/hr. That means the scrubber is only costing 0.741/hr.\u003C/p\u003E\u003Cp\u003EExample 2: Mk2 Lander Can on landing pad. Two kerbal capacity with one occupant. Scrubber turned off, ECR = 1.694/hr. Scrubber turned on, ECR = 2.065/hr. If I add a second kerbal, the ECR goes up to 3.176/hr. That\u0027s a 0.371 increase for 1 kerbal and 1.482 increase for 2 kerbals.\u003C/p\u003E\u003Cp\u003EExample 3: Mk1-2 Command Pod on landing pad. Three kerbal capacity with one occupant. Scrubber turned off, ECR = 2.528/hr. Scrubber turned on, ECR = 2.775/hr. Add a 2nd kerbal and ECR goes up to 3.515/hr. Add a third and it\u0027s up to 4.75/hr. That means increases of 0.247, 0.987 and 2.222 respectively.\u003C/p\u003E\u003Cp\u003EExample 4: Hitchhiker Module on landing pad. Four kerbal capacity with one occupant. Scrubber turned off, ECR = 3.361/hr. Scrubber turned on, ECR = 3.546/hr. Add a second kerbal and ECR goes up to 4.102/hr. Add a third and its up to 5.028/hr. Add a fourth and you get 6.324/hr. That means increases of 0.185, 0.741, 1.667, and 2.963 respectively.\u003C/p\u003E\u003Cp\u003EThe above are all on the landing pad so they are in an atmosphere. So technically we don\u0027t need the scrubbers in the first place. But still, I\u0027d have expected at least a uniform increase in the ECR value. How it\u0027s calculating the ECR changes is a complete mystery to me. Though, of course, it may simply be that the mod can\u0027t currently support an electric charge associated with the scrubber. Or maybe it has something to do with how the scrubbers work in an atmosphere with the air vents running. One thing I did notice is that with or without the scrubbers going, the CarbonDioxide Rate was always 0.000/day while on the ground (which is actually to be expected).\u003C/p\u003E\u003Cp\u003EIn space it\u0027s a different matter. As soon as the air vents close, while the scrubber is running, the ECR and CO2 rates start acting eratically. What I discovered after much trial and error is, when the CO2 storage drops to 0.00 (or lower?) the CO2 rate and ECR indicators start fluctuating all over the place. But once the CO2 storage is 0.01 or higher, CO2 rate and ECR both give correct values. This only happens when there is an ECR associated with the CO2 scrubbers. Now, I know the code wasn\u0027t originally intending for a seperate scrubber electriccharge so the fluctuating ECR makes a certain kind of sense. But could you check out the scrubber portion of the code and make sure it\u0027s working as though there is always at least a tiny fraction of CO2 (say 0.001 minimum) in the tanks so that the values don\u0027t bounce around like they currently do.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-09T22:28:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EGreat news about the time display thing.\u003Cp\u003EYes, if you turn off the mod, the modules should remain but the information and buttons should all disappear.\u003C/p\u003E\u003Cp\u003ESo I\u0027ve been trying to tweek the O2 consumption rates, CO2 generation rates, ElectricCharge Rate (ECR) in general and add an ECR specifically for activating the scrubber. In he process of doing all that I\u0027ve noticed some strange things with the default settings. By default there is a general life support ECR of 0.00138889 which equates to 5/hr per allowable occupant. Also by default there appears to be an Air Vent ECR of -0.00005787041 which should equate to 0.208/hr per kerbal. So in space a Mk1 Command Pod should list an ECR of 5/hr and on the ground it should show 5.208/hr. That isn\u0027t the case. On the ground, every one-kerbal module shows an ECR of 5.028/hour and you get the same reading in space. So it doesn\u0027t appear that the AirVent ECR is being included. Not sure but could this be because of the automatic system? I can\u0027t test this since there isn\u0027t a way for me to manually turn the air vent on/off while in an atmosphere. Also it seems there is some phantom 0.028/hr ECR that I can\u0027t seem to trace to anywhere.\u003C/p\u003E\u003Cp\u003EPossible oddity number two, a 2-kerbal module requires double the base ECR even if only a single Kerbal is present. This is true whether in space or in an atmosphere. So a Mk2 Lander Can uses 10.028/hr with one or two kerbals. A Mk1-2 Command Pod uses 15.028/hr with one, two or three kerbals. And a Hitchhiker Storage Container uses 20.028/hr with one, two, three or four kerbals. I\u0027m not sure if that was intentional or not.\u003C/p\u003E\u003Cp\u003EAnd oddity number three, CO2 scrubbers are turned on by default even when you\u0027re in an atmosphere. Is it possible to have them try to turn off when the air vents activate? I\u0027d still like the ability to manually turn the scrubbers on/off, even when in an atmosphere, but if they can also automatically turn on/off based on the air vents, that would be really nice.\u003C/p\u003E\u003Cp\u003EAll that leads to the tweeks I have been trying to make. For starters, I wanted to increase O2 consumption, increase CO2 generation and reduce general ECR. I therefore changed my O2 rate to 0.0000462962 (1/6hr), my CO2 rate to -0.000324075 (7/6hr) and my ECR to 0.000231482 (5/6hr or 0.8333352/hr). I also changed the scrubber CO2 value to 10.5/6hr, the AirVent O2 rate to 1/hr, the AirVent CO2 rate to 7/hr but left the AirVent ECR at the 0.208/hr rate is uses by default. My resulting O2 consumption and CO2 generation rates appear to work just fine. And the general ECR changes seem to be working as well. My modules are using 0.833/hr per potential occupant, plus the phantom 0.028/hr. So a Mk1 cockpit uses 0.861, a Mk2 Lander Can uses 1.694, a Mk1-2 Command Pod uses 2.528 and a Hitchhiker module uses 3.361. And just like the default, this is true whether on the ground with the air vents running or in space with the air vents turned off.\u003C/p\u003E\u003Cp\u003ESo, with the above basically working (at least with all the oddities that the default settings give), I added one more tweek to my config file. I want CO2 scrubbers to use electricity so I tried adding the following code to the \u0022ION_POD_GENERATOR\u0022 section that deals with the CO2Scrubber:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.000462964 //set to 10/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis addition sort of works. When you turn the CO2 scrubbers on, the ElectricCharge Rate for a module changes. But the change isn\u0027t the value I intended. The ratePerCapacity I set should result in an ECR cost of 1.6666704/hr\u003C/p\u003E\u003Cp\u003EExample 1: Mk1 Cockpit on landing pad. One kerbal capacity and occupancy. Scrubber turned off, ECR = 0.861/hr. Scrubber turned on, ECR = 1.602/hr. That means the scrubber is only costing 0.741/hr.\u003C/p\u003E\u003Cp\u003EExample 2: Mk2 Lander Can on landing pad. Two kerbal capacity with one occupant. Scrubber turned off, ECR = 1.694/hr. Scrubber turned on, ECR = 2.065/hr. If I add a second kerbal, the ECR goes up to 3.176/hr. That\u0027s a 0.371 increase for 1 kerbal and 1.482 increase for 2 kerbals.\u003C/p\u003E\u003Cp\u003EExample 3: Mk1-2 Command Pod on landing pad. Three kerbal capacity with one occupant. Scrubber turned off, ECR = 2.528/hr. Scrubber turned on, ECR = 2.775/hr. Add a 2nd kerbal and ECR goes up to 3.515/hr. Add a third and it\u0027s up to 4.75/hr. That means increases of 0.247, 0.987 and 2.222 respectively.\u003C/p\u003E\u003Cp\u003EExample 4: Hitchhiker Module on landing pad. Four kerbal capacity with one occupant. Scrubber turned off, ECR = 3.361/hr. Scrubber turned on, ECR = 3.546/hr. Add a second kerbal and ECR goes up to 4.102/hr. Add a third and its up to 5.028/hr. Add a fourth and you get 6.324/hr. That means increases of 0.185, 0.741, 1.667, and 2.963 respectively.\u003C/p\u003E\u003Cp\u003EThe above are all on the landing pad so they are in an atmosphere. So technically we don\u0027t need the scrubbers in the first place. But still, I\u0027d have expected at least a uniform increase in the ECR value. How it\u0027s calculating the ECR changes is a complete mystery to me. Though, of course, it may simply be that the mod can\u0027t currently support an electric charge associated with the scrubber. Or maybe it has something to do with how the scrubbers work in an atmosphere with the air vents running. One thing I did notice is that with or without the scrubbers going, the CarbonDioxide Rate was always 0.000/day while on the ground (which is actually to be expected).\u003C/p\u003E\u003Cp\u003EIn space it\u0027s a different matter. As soon as the air vents close, while the scrubber is running, the ECR and CO2 rates start acting eratically. What I discovered after much trial and error is, when the CO2 storage drops to 0.00 (or lower?) the CO2 rate and ECR indicators start fluctuating all over the place. But once the CO2 storage is 0.01 or higher, CO2 rate and ECR both give correct values. This only happens when there is an ECR associated with the CO2 scrubbers. Now, I know the code wasn\u0027t originally intending for a seperate scrubber electriccharge so the fluctuating ECR makes a certain kind of sense. But could you check out the scrubber portion of the code and make sure it\u0027s working as though there is always at least a tiny fraction of CO2 (say 0.001 minimum) in the tanks so that the values don\u0027t bounce around like they currently do.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEek ok lots of stuff here. I\u0027ll go over it more thoroughly in a bit but I\u0027ll address one thing now. ratePerCapacity is independent of how many Kerbals there are. It\u0027s based on how many Kerbals the part can hold. If the part has a capacity of 4 then the resource drain is always x4 even if only one Kerbal is there.\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-10T07:37:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EEek ok lots of stuff here. I\u0027ll go over it more thoroughly in a bit but I\u0027ll address one thing now. ratePerCapacity is independent of how many Kerbals there are. It\u0027s based on how many Kerbals the part can hold. If the part has a capacity of 4 then the resource drain is always x4 even if only one Kerbal is there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, I figured that was why the Hitchhiker (for example) used 20.028 even with only a single kerbal. My point was, I wasn\u0027t sure if that was the intended result. I.E., should a 4-kerbal module really use the same amount of power to run the life support for a single kerbal as it uses for four kerbals? If so, then that part is fine. I just thought it was a bit weird that we\u0027d be running circulation pumps and air scrubbers, and heaters/coolers (and the microwave for snacks, of course) at the same rate when only a single kerbal was present. Especially when you start building larger ships or stations with multiple crew modules. I could see building a ship with a Command Pod, MPL and a hitchhiker module but only intending to ever have 4 kerbals on board. Seems like a waste to power life support for 7 kerbals when only 4 are present. That said, I\u0027m not complaining about it. I just thought it was weird and wanted to make sure it was intended. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I can always use ratePerKerbal for the scrubbers and leave general life support with ratePerCapacity.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-10T08:53:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EOh, I figured that was why the Hitchhiker (for example) used 20.028 even with only a single kerbal. My point was, I wasn\u0027t sure if that was the intended result. I.E., should a 4-kerbal module really use the same amount of power to run the life support for a single kerbal as it uses for four kerbals? If so, then that part is fine. I just thought it was a bit weird that we\u0027d be running circulation pumps and air scrubbers, and heaters/coolers (and the microwave for snacks, of course) at the same rate when only a single kerbal was present. Especially when you start building larger ships or stations with multiple crew modules. I could see building a ship with a Command Pod, MPL and a hitchhiker module but only intending to ever have 4 kerbals on board. Seems like a waste to power life support for 7 kerbals when only 4 are present. That said, I\u0027m not complaining about it. I just thought it was weird and wanted to make sure it was intended. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I can always use ratePerKerbal for the scrubbers and leave general life support with ratePerCapacity.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it should, because heating, air circulation, etc depend on volume of the crew area.\u003C/p\u003E\u003Cp\u003EAnd of course, a lone Kerbal will increase snack consumption in the absence of his comrades so the microwave usage remains constant as well \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs for scrubbers, you could argue it either way\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EThe fans have to run at the same capacity even not all crew slots are manned - use ratePerCapacity\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EThe fans are run at reduced capacity to save power - use ratePerKerbal\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI think I lean towards the latter and if I give scrubbers an EC cost then I\u0027ll likely use ratePerKerbal - The scrubber system could easily be smart enough to increase / decrease fan speed and duty cycle based on the amount of detected CO2. Yeah, I\u0027d buy that.\u003C/p\u003E\u003Cp\u003EIn other news, slow progress on the update today as I am looking at adding another feature to this update and am having to muddle through some unknown territory in the KSP API. If I can get it in then it should be pretty cool...\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-11T23:39:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EEek ok lots of stuff here. I\u0027ll go over it more thoroughly in a bit but I\u0027ll address one thing now. ratePerCapacity is independent of how many Kerbals there are. It\u0027s based on how many Kerbals the part can hold. If the part has a capacity of 4 then the resource drain is always x4 even if only one Kerbal is there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI do tend to provide a lot of detail. Let me see if I can explain my huge post in fewer words.\u003C/p\u003E\u003Cp\u003E1) There is an extra 0.28/hr ElectricCharge that doesn\u0027t seem to be related to anything in IonCross.\u003C/p\u003E\u003Cp\u003E2) The ElectricCharge for operating the Air Vents is not being applied.\u003C/p\u003E\u003Cp\u003E3) ratePerCapacity vs ratePerKerbal, which you\u0027ve already explained\u003C/p\u003E\u003Cp\u003E4) Can the scrubbers be set to default on/off based on the air vents?\u003C/p\u003E\u003Cp\u003E5) If you add an ElectricCharge to the scrubbers, you get some odd results while in an atmosphere. Any clue as to why?\u003C/p\u003E\u003Cp\u003E6) If you add an ElectricCharge to the scrubbers, when you\u0027re in space the ECR and CO2 display values go nuts when the available CO2 is 0.00 or less. Can that be fixed?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-12T04:19:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EI do tend to provide a lot of detail. Let me see if I can explain my huge post in fewer words.\u003Cp\u003E1) There is an extra 0.28/hr ElectricCharge that doesn\u0027t seem to be related to anything in IonCross.\u003C/p\u003E\u003Cp\u003E2) The ElectricCharge for operating the Air Vents is not being applied.\u003C/p\u003E\u003Cp\u003E3) ratePerCapacity vs ratePerKerbal, which you\u0027ve already explained\u003C/p\u003E\u003Cp\u003E4) Can the scrubbers be set to default on/off based on the air vents?\u003C/p\u003E\u003Cp\u003E5) If you add an ElectricCharge to the scrubbers, you get some odd results while in an atmosphere. Any clue as to why?\u003C/p\u003E\u003Cp\u003E6) If you add an ElectricCharge to the scrubbers, when you\u0027re in space the ECR and CO2 display values go nuts when the available CO2 is 0.00 or less. Can that be fixed?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EYou\u0027re probably seeing rateBase = 0.00277778. All resource modifications are rateBase \u002B (ratePerKerbal * number of kerbals) \u002B (ratePerCapacity * number of available crew slots). For a given part\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI\u0027ll look into it; last time I checked it was being applied...\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E...\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI don\u0027t think so currently; I\u0027ll have to look at the resource logic and see how and where that could get implemented. Probably not going to happen this round of updates. (unless I look at it and say \u0022Oh of course, that\u0027s easy\u0022)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENeed to see your config and need more explanation of \u0027odd results\u0027\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESame. Can\u0027t answer until I know how they\u0027re going nuts. Your configs would be useful to look at\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDoes Tim Roth \u003Cem\u003EEVER\u003C/em\u003E play a nice / good guy?\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-12T14:32:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EYou\u0027re probably seeing rateBase = 0.00277778. All resource modifications are rateBase \u002B (ratePerKerbal * number of kerbals) \u002B (ratePerCapacity * number of available crew slots). For a given part\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI\u0027ll look into it; last time I checked it was being applied...\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E...\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI don\u0027t think so currently; I\u0027ll have to look at the resource logic and see how and where that could get implemented. Probably not going to happen this round of updates. (unless I look at it and say \u0022Oh of course, that\u0027s easy\u0022)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENeed to see your config and need more explanation of \u0027odd results\u0027\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESame. Can\u0027t answer until I know how they\u0027re going nuts. Your configs would be useful to look at\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDoes Tim Roth \u003Cem\u003EEVER\u003C/em\u003E play a nice / good guy?\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E1. Sorry. I meant 0.028/hr. And yeah, it is rateBase. Tried removing that line and the 0.028 charge was gone. Not exactly sure how 0.00277778 (which should work out to 10/h) is adding up to .028, though. It\u0027s like rateBase is only counted 10 times per hour (0.00277778 * 10 = 0.0277778 which rounds to 0.028).\u003C/p\u003E\u003Cp\u003E5. \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000462962 //set to 1/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.000324075 //set to 7/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E ratePerCapacity = 0.000231482 //set to 5/6h\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003Cbr\u003EION_POD_GENERATOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = CO2Scrubber\u003Cbr\u003E generatorGUIName = Scrubber\u003Cbr\u003E\u003Cbr\u003E startOn = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.000486111 //set to 10.5/6h\u003Cbr\u003E  effectOnEfficency = 1\u003Cbr\u003E } \u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.000462964 //set to 10/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003EION_POD_COLLECTOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = AtmoVents\u003Cbr\u003E generatorGUIName = Air Vents\u003Cbr\u003E\u003Cbr\u003E minAtmosphere = 0.5\u003Cbr\u003E isAutomaticOxygen = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E hideAtmoContents = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = Oxygen\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.000277778 //set to 1/h\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.001944444 //set to 7/h\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.00005787041 //set to 1.75/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E As for an explanation of \u0022odd results\u0022, look at the four examples I included in my post from August 9th. I\u0027ll repost example 3 here.\u003C/p\u003E\u003Cp\u003EExample 3: Mk1-2 Command Pod on landing pad. Three kerbal capacity with one occupant. Scrubber turned off, ECR = 2.528/hr. Scrubber turned on, ECR = 2.775/hr. Add a 2nd kerbal and ECR goes up to 3.515/hr. Add a third and it\u0027s up to 4.75/hr. That means increases of 0.247, 0.987 and 2.222 respectively.\u003C/p\u003E\u003Cp\u003EBasically, instead of charging 1.667/occupant (so 5.0 in the above example) regardless of number of occupants (since I used ratePerCapacity), it\u0027s charging based on the number of kerbals present. And the amount charged per kerbal is odd..... 0.247 for one kerbal, \u002B0.74 for the second and \u002B1.235 for the third. And at no point is the full, expected 5.0 every charged. This may well be because of the 0.00 CO2 in storage, but it still seemed strange that more kerbals meant more electric charge when I\u0027m using ratePerCapacity in my test config.\u003C/p\u003E\u003Cp\u003E6. Going nuts as in fluctuating so much that I can\u0027t tell you exactly what value is being used. The fluctuation stops once CO2 in the tank goes above 0.01 so I know it\u0027s a calculation issue. I\u0027ll try to upload some screen shot fragments later if that would help.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-12T17:20:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003E1. Sorry. I meant 0.028/hr. And yeah, it is rateBase. Tried removing that line and the 0.028 charge was gone. Not exactly sure how 0.00277778 (which should work out to 10/h) is adding up to .028, though. It\u0027s like rateBase is only counted 10 times per hour (0.00277778 * 10 = 0.0277778 which rounds to 0.028).\u003Cp\u003E5. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000462962 //set to 1/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.000324075 //set to 7/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E ratePerCapacity = 0.000231482 //set to 5/6h\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003Cbr\u003EION_POD_GENERATOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = CO2Scrubber\u003Cbr\u003E generatorGUIName = Scrubber\u003Cbr\u003E\u003Cbr\u003E startOn = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E rateBase = 0\u003Cbr\u003E ratePerCapacity = -0.000486111 //set to 10.5/6h\u003Cbr\u003E effectOnEfficency = 1\u003Cbr\u003E } \u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E rateBase = 0\u003Cbr\u003E ratePerCapacity = -0.000462964 //set to 10/6h\u003Cbr\u003E effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003EION_POD_COLLECTOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = AtmoVents\u003Cbr\u003E generatorGUIName = Air Vents\u003Cbr\u003E\u003Cbr\u003E minAtmosphere = 0.5\u003Cbr\u003E isAutomaticOxygen = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E hideAtmoContents = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E name = Oxygen\u003Cbr\u003E rateBase = 0\u003Cbr\u003E ratePerCapacity = 0.000277778 //set to 1/h\u003Cbr\u003E effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E rateBase = 0\u003Cbr\u003E ratePerCapacity = -0.001944444 //set to 7/h\u003Cbr\u003E effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E rateBase = 0\u003Cbr\u003E ratePerCapacity = -0.00005787041 //set to 1.75/6h\u003Cbr\u003E effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003C/pre\u003E\u003Cp\u003E \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EAs for an explanation of \u0022odd results\u0022, look at the four examples I included in my post from August 9th. I\u0027ll repost example 3 here.\u003C/p\u003E\u003Cp\u003EExample 3: Mk1-2 Command Pod on landing pad. Three kerbal capacity with one occupant. Scrubber turned off, ECR = 2.528/hr. Scrubber turned on, ECR = 2.775/hr. Add a 2nd kerbal and ECR goes up to 3.515/hr. Add a third and it\u0027s up to 4.75/hr. That means increases of 0.247, 0.987 and 2.222 respectively.\u003C/p\u003E\u003Cp\u003EBasically, instead of charging 1.667/occupant (so 5.0 in the above example) regardless of number of occupants (since I used ratePerCapacity), it\u0027s charging based on the number of kerbals present. And the amount charged per kerbal is odd..... 0.247 for one kerbal, \u002B0.74 for the second and \u002B1.235 for the third. And at no point is the full, expected 5.0 every charged. This may well be because of the 0.00 CO2 in storage, but it still seemed strange that more kerbals meant more electric charge when I\u0027m using ratePerCapacity in my test config.\u003C/p\u003E\u003Cp\u003E6. Going nuts as in fluctuating so much that I can\u0027t tell you exactly what value is being used. The fluctuation stops once CO2 in the tank goes above 0.01 so I know it\u0027s a calculation issue. I\u0027ll try to upload some screen shot fragments later if that would help.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not really seeing how, but it\u0027s possible that positive amounts of ElectricCharge are being generated. If that\u0027s so then the actual drain would be less than the expected drain. But that\u0027s an awful lot of net positive generation for that to be the case.\u003C/p\u003E\u003Cp\u003EIn general I\u0027m thinking the behavior you\u0027re seeing is interaction with the atmospheric vents and some of it is probably natural but there\u0027s too much that\u0027s unnatural in what you\u0027re describing. I\u0027m going to plug that config in and see what I get.\u003C/p\u003E\u003Cp\u003ESome other general thoughts: ION_SUPPORT_RESOURCE nodes are ALWAYS inputs so to have drains there has to be negative values, so that\u0027s natural there. But the generators and collectors also accept INPUT_RESOURCE and I\u0027m not sure why they were originally set up as OUTPUT_RESOURCE, all of them. To my way of thinking, CO2 should have been set up as an input, but it wasn\u0027t, and when I added the electric charge to the atmo vents, I just followed the example before me, and I\u0027m not sure that was good. \u003C/p\u003E\u003Cp\u003EI should have looked into doing CO2 as an input and I should have investigated the full effect of \u0027effectOnEfficency\u0027. Looking at the code, having CO2 with a value of 0 for that field on an OUTPUT_RESOURCE should kill \u003Cem\u003Eall\u003C/em\u003E OUTPUT_RESOURCE for that generator.\u003C/p\u003E\u003Cp\u003EIt should be 1 and probably should also be an INPUT (with a positive value instead of negative). So I\u0027m going to try changing those and see what it does but I won\u0027t be able to for awhile, later today.\u003C/p\u003E\u003Cp\u003EEdit: Oh, also, make sure you only have one file with any of those configs in. For instance, either edit the original or delete it and replace with something else, but don\u0027t have two config files with the base settings in it because it will apply them all.\u003C/p\u003E\u003Cp\u003EEdit #2: Also, about the \u0027per Kerbal\u0027 charge; it\u0027s not that it\u0027s literally applying the charge per Kerbal because there is no such charge defined. It\u0027s what I mentioned above that the lack of CO2 is halting (or slowing) generation\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-12T17:30:01Z\u0022 title=\u002208/12/2014 05:30  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 12, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-13T00:10:02Z","Content":"\n\u003Cp\u003EYeah, I only have the one config. I have notes on the various changes I\u0027m playing with and I just put those changes in effect, try them out, then revert back to the original file when I\u0027m done testing.\u003C/p\u003E\u003Cp\u003EI noticed that the ION_POD_COLLECTOR section, we\u0027ve got \u0022OUTPUT_RESOURCE_OXYGEN\u0022 for both O2 and CO2. Should they be the same for those two resources and what\u0027s the difference between \u0022OUTPUT_RESOURCE\u0022 and \u0022OUTPUT_RESOURCE_OXYGEN\u0022?\u003C/p\u003E\u003Cp\u003EAnyway, I\u0027ve been running some tests:\u003C/p\u003E\u003Cp\u003Ewith regards to effectOnEfficency in the air vents section-\u003C/p\u003E\u003Cp\u003EWhen set to 0, the air vents will continue to run even after all electricity is gone. Also, the O2 and CO2 values don\u0027t constantly change. O2 will slowly increase to max based on the ratePerCapacity value that\u0027s been set. And CO2 will slowly decrease to 0, again based on the ratePerCapacity setting. As far as I can tell, you\u0027re still using O2 and generating CO2, but both are being cleaned to the point where no change is made to the storage tanks.\u003C/p\u003E\u003Cp\u003EWhen set to 1, the air vents will stop working when you run out of electricity. However, O2 and CO2 fluctuate constantly. Both the rate that is displayed in game and what\u0027s actually stored in the tanks according to the savegame file. O2 will use the ratePerCapacity value to increase up to just shy of storage capacity, but it will never reach full capacity. It\u0027s always something like 0.000001 shy and is always in flux. In fact, it almost seems as though you use O2 until it\u0027s dropped to a certain level (something like 19.999990 with mk1 command pod), then the air vents increase what\u0027s in the tank (possible to full 20.0) and then you start using it again. Same with CO2 (in reverse, of course). The amounts are miniscule so you don\u0027t really see them in game but it explains why the O2 and CO2 rate values are constantly in flux.\u003C/p\u003E\u003Cp\u003EFor giggles, I tried setting effectOnEfficency = 0.1 but got the same basic results that effectOnEfficency = 0 give.\u003C/p\u003E\u003Cp\u003ENext, I tried a bunch of different things and was in the process or writting a book again but then things just started to gell for me and I figured it would just be easier if I posted the config file I ended up with and noted the various changes.\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E \u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000462962 //set to 1/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.000324075 //set to 7/6h\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E ratePerCapacity = 0.000231482 //set to 5/6h\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003Cbr\u003EION_POD_GENERATOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = CO2Scrubber\u003Cbr\u003E generatorGUIName = Scrubber\u003Cbr\u003E\u003Cbr\u003E startOn = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E\u003Cbr\u003E INPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerKerbal = 0.000486111 //set to 10.5/6h\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E } \u003Cbr\u003E INPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerKerbal = 0.000462964 //set to 10/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003EION_POD_COLLECTOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = AtmoVents\u003Cbr\u003E generatorGUIName = Air Vents\u003Cbr\u003E\u003Cbr\u003E minAtmosphere = 0.5\u003Cbr\u003E isAutomaticOxygen = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E hideAtmoContents = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = Oxygen\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.000277778 //set to 1/h\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E INPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.001944444 //set to 7/h\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E INPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.00005787041 //set to 1.75/6h\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EObviously the numbers used are based on the usage rates I\u0027ve been aiming for so disregard them. What important about this is:\u003C/p\u003E\u003Cp\u003EChanging the ECR of the air vents to a INPUT_RESOURCE results in the electricCharge for air vents being displayed and applied. Now if I run the capsule out of power, the air vents stop working.\u003C/p\u003E\u003Cp\u003ESetting the effectOnEfficency = 0 for CO2 on the scrubbers stops the wildely fluctuating CO2 and ECR rates I was seeing before.\u003C/p\u003E\u003Cp\u003EI\u0027m stilling seeing the \u0022phantom\u0022 0.028/hour electricCharge. I know it\u0027s from the rateBase but I still can\u0027t figure out how \u0022rateBase = 0.00277778\u0022 works out to 0.028/hour of ECR.\u003C/p\u003E\u003Cp\u003EChanging CO2 and EC on both the scrubber and air vents into INPUT_RESOURCE seems to have resolved the strange math I was seeing when air vents were running. THough maybe that is becuase I\u0027m using ratePerKerbal for scrubbers. But either way, I\u0027m seeing good numbers now.\u003C/p\u003E\u003Cp\u003EWith air vents, without air vents, with scrubbers, without scrubbers, with \u0022full\u0022 tanks and without, all my expected numbers are lining up with what I am expecting. Still have a bit more testing to do, but this is a good step in the right direction. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-13T01:44:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EYeah, I only have the one config. I have notes on the various changes I\u0027m playing with and I just put those changes in effect, try them out, then revert back to the original file when I\u0027m done testing.\u003Cp\u003EI noticed that the ION_POD_COLLECTOR section, we\u0027ve got \u0022OUTPUT_RESOURCE_OXYGEN\u0022 for both O2 and CO2. Should they be the same for those two resources and what\u0027s the difference between \u0022OUTPUT_RESOURCE\u0022 and \u0022OUTPUT_RESOURCE_OXYGEN\u0022?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOUTPUT_RESOURCE_OXYGEN (Kerbin / Laythe) is used when the part is in an oxygen atmosphere. You can also use OUTPUT_RESOURCE_NO_OXYGEN (Duna, Eve, etc) for planets with no oxygen (or low oxygen. KSP has fields for the planets that determine whether they have oxygen or not.\u003C/p\u003E\u003Cp\u003EThe collector extends Ioncross\u0027s version of the generator.\u003C/p\u003E\u003Cp\u003EThere are other fields it has like requiresWater / requiresLand.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnyway, I\u0027ve been running some tests:\u003C/p\u003E\u003Cp\u003Ewith regards to effectOnEfficency in the air vents section-\u003C/p\u003E\u003Cp\u003EWhen set to 0, the air vents will continue to run even after all electricity is gone. Also, the O2 and CO2 values don\u0027t constantly change. O2 will slowly increase to max based on the ratePerCapacity value that\u0027s been set. And CO2 will slowly decrease to 0, again based on the ratePerCapacity setting. As far as I can tell, you\u0027re still using O2 and generating CO2, but both are being cleaned to the point where no change is made to the storage tanks.\u003C/p\u003E\u003Cp\u003EWhen set to 1, the air vents will stop working when you run out of electricity. However, O2 and CO2 fluctuate constantly. Both the rate that is displayed in game and what\u0027s actually stored in the tanks according to the savegame file. O2 will use the ratePerCapacity value to increase up to just shy of storage capacity, but it will never reach full capacity. It\u0027s always something like 0.000001 shy and is always in flux. In fact, it almost seems as though you use O2 until it\u0027s dropped to a certain level (something like 19.999990 with mk1 command pod), then the air vents increase what\u0027s in the tank (possible to full 20.0) and then you start using it again. Same with CO2 (in reverse, of course). The amounts are miniscule so you don\u0027t really see them in game but it explains why the O2 and CO2 rate values are constantly in flux.\u003C/p\u003E\u003Cp\u003EFor giggles, I tried setting effectOnEfficency = 0.1 but got the same basic results that effectOnEfficency = 0 give.\u003C/p\u003E\u003Cp\u003ENext, I tried a bunch of different things and was in the process or writting a book again but then things just started to gell for me and I figured it would just be easier if I posted the config file I ended up with and noted the various changes.\u003C/p\u003E\u003Cp\u003EObviously the numbers used are based on the usage rates I\u0027ve been aiming for so disregard them. What important about this is:\u003C/p\u003E\u003Cp\u003EChanging the ECR of the air vents to a INPUT_RESOURCE results in the electricCharge for air vents being displayed and applied. Now if I run the capsule out of power, the air vents stop working.\u003C/p\u003E\u003Cp\u003ESetting the effectOnEfficency = 0 for CO2 on the scrubbers stops the wildely fluctuating CO2 and ECR rates I was seeing before.\u003C/p\u003E\u003Cp\u003EI\u0027m stilling seeing the \u0022phantom\u0022 0.028/hour electricCharge. I know it\u0027s from the rateBase but I still can\u0027t figure out how \u0022rateBase = 0.00277778\u0022 works out to 0.028/hour of ECR.\u003C/p\u003E\u003Cp\u003EChanging CO2 and EC on both the scrubber and air vents into INPUT_RESOURCE seems to have resolved the strange math I was seeing when air vents were running. THough maybe that is becuase I\u0027m using ratePerKerbal for scrubbers. But either way, I\u0027m seeing good numbers now.\u003C/p\u003E\u003Cp\u003EWith air vents, without air vents, with scrubbers, without scrubbers, with \u0022full\u0022 tanks and without, all my expected numbers are lining up with what I am expecting. Still have a bit more testing to do, but this is a good step in the right direction. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI likewise had better results testing with INPUT_RESOURCE instead of OUTPUT_RESOURCE for things that were logically INPUTs. One difference between the two is that setting effectOnEfficency on an input affects the outputs which is as it should be. The problems seem to start because setting the same on an output affects ALL outputs which can effectively stop the generator from generating. effectOnEfficency is a multiplier for the generator when it can\u0027t process an input/output resource. It should probably not be less than 1 for an output. And it probably also adds up if it comes into play on multiple inputs. And, this next part would be really bad, but I think it might be cumulative between frames. \u003C/p\u003E\u003Cp\u003EOne thing that you aren\u0027t seeing in your tests is the effect on the efficiency rating (hideEfficency = true). What I saw when I disabled that was that efficiency on the scrubbers never rose above 78% and was usually lower. Something similar might be happening on the base LSS section which might be why rateBase is so unusually low. I still don\u0027t know what the actual cause is though.\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-13T02:09:52Z","Content":"\n\u003Cp\u003EWill the fact that I replaced an OUTPUT_RESOURCE_OXYGEN value in the air vents section with an INPUT_RESOURCE (specifically the section for CO2) have an impact that I\u0027m not able to see yet? Like if I landed on a planet with an atmosphere but not oxygen? Is there an \u0022INPUT_RESOURCE_OXYGEN\u0022 tag I should use instead?\u003C/p\u003E\u003Cp\u003EAs for effectOnefficency, that\u0027s probably why O2 and CO2 both have values of 0 but things still work. They would function less effeciently when power was low, but high O2/CO2 wouldn\u0027t really effect the other. And it also explains my fluctuating values since a low CO2 for the scrubbers was trying to make the system use less power.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-13T04:03:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EWill the fact that I replaced an OUTPUT_RESOURCE_OXYGEN value in the air vents section with an INPUT_RESOURCE (specifically the section for CO2) have an impact that I\u0027m not able to see yet? Like if I landed on a planet with an atmosphere but not oxygen? Is there an \u0022INPUT_RESOURCE_OXYGEN\u0022 tag I should use instead?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is no equivalent for inputs. The impact is that your vents will suck CO2 out even if the outside air is full of CO2. (well not literally; KSP only knows oxygen or no oxygen. But the intent of the original configuration is that air vents are only useful on a planet that is moderately like Kerbin.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAs for effectOnefficency, that\u0027s probably why O2 and CO2 both have values of 0 but things still work. They would function less effeciently when power was low, but high O2/CO2 wouldn\u0027t really effect the other. And it also explains my fluctuating values since a low CO2 for the scrubbers was trying to make the system use less power.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMost likely, yes.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-13T09:44:17Z","Content":"\n\u003Cp\u003ERunning various tests with different rate values on ION_SUPPORT_RESOURCE \u003C/p\u003E\u003Cp\u003Ewith no other EC set anywhere, I set rateBase to 1 (1 per second) and got exactly the results that I should have got.\u003C/p\u003E\u003Cp\u003E1 per sec\u003C/p\u003E\u003Cp\u003E60 per min\u003C/p\u003E\u003Cp\u003E3600 per hour\u003C/p\u003E\u003Cp\u003EThen set\u003C/p\u003E\u003Cp\u003ErateBase = 1\u003C/p\u003E\u003Cp\u003EratePerKerbal = 1\u003C/p\u003E\u003Cp\u003EratePerCapacity = 1\u003C/p\u003E\u003Cp\u003Eresulting in triple the above reported rates.\u003C/p\u003E\u003Cp\u003EWill try tomorrow sticking some EC back in other areas\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-13T16:25:40Z","Content":"\n\u003Cp\u003EClosing the books on any resource display issues. Maybe I can go back and improve things later, but I have to conclude right now that anything chrisl was seeing was just a display issue. Crewed (and other Ioncross parts) are consuming the correct amounts. However, the resource display can reflect net changes no matter what the source, including external non-Ioncross sources. It might not do it for all displayed data but it definitely does it for the base LSS modules (that is, non-generator / non-collector).\u003C/p\u003E\u003Cp\u003EI\u0027ll change the base configuration to use INPUT* where it makes sense instead of OUTPUT*\u003C/p\u003E\u003Cp\u003ETime to get back to actual development.\u003C/p\u003E\u003Cp\u003E(Clarification Edit: I shouldn\u0027t say it\u0027s just a display issue since it does reflect actual resource changes, but it doesn\u0027t represent incorrect resource drain/generation in the mod)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-13T16:40:29Z\u0022 title=\u002208/13/2014 04:40  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 13, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-14T19:31:53Z","Content":"\n\u003Cp\u003EI\u0027m not trying to be argumentative here, and I appologize for all the screen shots and the length of this post, but this is definitely not a display issue. Just to be absolutely sure, I removed all the mods I have and just installed a clean copy of ioncross 1.16.3. Here is the config file I\u0027m using:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000028935\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.0000021039\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E ratePerCapacity = 0.00138889\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003Cbr\u003EION_POD_GENERATOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = CO2Scrubber\u003Cbr\u003E generatorGUIName = Scrubber\u003Cbr\u003E\u003Cbr\u003E startOn = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.0000031558\u003Cbr\u003E  effectOnEfficency = 1\u003Cbr\u003E } \u003Cbr\u003E}\u003Cbr\u003EION_POD_COLLECTOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = AtmoVents\u003Cbr\u003E generatorGUIName = Air Vents\u003Cbr\u003E\u003Cbr\u003E minAtmosphere = 0.5\u003Cbr\u003E isAutomaticOxygen = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E hideAtmoContents = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = Oxygen\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.000069444\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.0000504936\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.00005787041\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003ENotice that this is the default config file that comes with the 1.16.3 download. According to it, there is a base electricCharge of \u0022rateBase = 0.00277778\u0022 (which is 10.000/hour), a per capacity electricCharge of \u0022ratePerCapacity = 0.00138889\u0022 (which is 5.000/hour/capacity) and a per capacity electricCharge for running the air vents of \u0022ratePerCapacity = -0.00005787041\u0022 (which is .208/hour/capacity). Put that altogether and a Mk1 Command Pod (capacity 1, occupancy 1), sitting on the launch pad, should have an electric charge of 15.208/hour. \u003C/p\u003E\u003Cp\u003EAs you can see in the following screen shot, I\u0027ve put together a very simple ship with a Mk1 Command Pod and just enough fuel/engine to get into orbit. There\u0027s no extra battery or solar panels included. Notice that the displayed information says I\u0027m going to be charged 5.028/hr.\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130808878806/9A120857A6D057FC3FDD8881A0391E95BA8FBAF3/\u0022 alt=\u00229A120857A6D057FC3FDD8881A0391E95BA8FBAF3\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow, from this one screen shot, it\u0027s possible that all I\u0027m seeing is a display issue. Maybe it sayd 5.028/hour but it\u0027s really gong to charge me the correct 15.208 for an hour. Unfortunately, if I advance time by one hour, you can see that isn\u0027t the case:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130809018321/1CAE67708630A9205674EDC04E40FB3C14C79D73/\u0022 alt=\u00221CAE67708630A9205674EDC04E40FB3C14C79D73\u0022\u003E\u003C/p\u003E\u003Cp\u003EPlease notice that the time in the first screen shot is \u0022Y1, D01, 0:00:10\u0022 and I\u0027m showing 49.99 of 50.42 available electrical charge. In the second screen shot the time is \u0022Y1, D01, 1:00:18\u0022 and I\u0027m showing 44.95 of 50.42 available electrical charge. That means in 1 hour, 8 seconds of time, I used 5.04ec which is basically what the information panel is saying I\u0027m going to use in that amount of time. So I\u0027m charged exactly what the display says I should be charged, so it\u0027s definitely not a display problem. But according to the config file, I should have been charged about three times as much.\u003C/p\u003E\u003Cp\u003ENow, from previoud tests, I know three things for certain:\u003C/p\u003E\u003Cp\u003E1) The displayed electricCharge rate of 5.028/hour does not include the electricCharge for the air vents and, in fact, air vents are not costing electricity to run\u003C/p\u003E\u003Cp\u003E2) Of the displayed electricCharge Rate of 5.028/hour, the .028 is from the \u0022rateBase = 0.00277778\u0022\u003C/p\u003E\u003Cp\u003E3) Of the displayed electricCharge Rate of 5.028/hour, the 5 is from the \u0022ratePerCapacity = 0.00138889\u0022 line and if you use a larger command module, this cose will increase correctly\u003C/p\u003E\u003Cp\u003EI know the above are facts from all the tests I\u0027ve run in the past, but I can easily prove it. The first fact is simply to prove with the default config. As you can see in both of the above screen shots, the air vents are running. If an electricCharge was being applied, then advancing the clock by 26 kerbal days should result in either Jeb dying from lack of oxygen or (at the very least) the available O2 being reduced by at least 25 kerbal days (8.25 real days). Instead, as this third screen shot shows, no Oxygen was used and Jeb is alive and well.\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130809481827/A3720BE3B62A5D111822C210ED259A0B318F67D0/\u0022 alt=\u0022A3720BE3B62A5D111822C210ED259A0B318F67D0\u0022\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s one other way you can prove that the air vents are running even without electricity. Create the ship I have and put it on the launch pad. Hit F5 to create a quicksave, then tab out of he game and edit that quicksave file. Find the Oxygen and CarbonDioxide resources for your command pod and change the \u0022amount = \u0022 value to 5 for each. Tab back into the game and hold F9 to load your quicksave game. You\u0027ll notice that the O2 and CO2 tanks should now have 5 units in each. Now, advance time to day 26 and notice that the entire time you\u0027ll be losing CO2 and gaining O2.\u003C/p\u003E\u003Cp\u003EAs for fact 2, that I can only prove by editing the config file. If I edit the config file and remove the \u0022rateBase = 0.00277778\u0022, when I go back into the game it will display \u0022ElectricCharge Rate: 5.000/hour\u0022.\u003C/p\u003E\u003Cp\u003EFact 3 is easily proved by using a larger command module. If you use a Mk1-2 Coomand Pod (capacity 3) the display will show 15.028/hour (with the default config).\u003C/p\u003E\u003Cp\u003ENow, fact 1 I can easily fix. If I change the air vent electicCharge to an INPUT_RESOURCE (with a positive ratePerCapacity), the air vents will start using ec. Here is the edited config I\u0027m using to correct the issue seen in fact 1:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000028935\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.0000021039\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E ratePerCapacity = 0.00138889\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003Cbr\u003EION_POD_GENERATOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = CO2Scrubber\u003Cbr\u003E generatorGUIName = Scrubber\u003Cbr\u003E\u003Cbr\u003E startOn = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.0000031558\u003Cbr\u003E  effectOnEfficency = 1\u003Cbr\u003E } \u003Cbr\u003E}\u003Cbr\u003EION_POD_COLLECTOR\u003Cbr\u003E{\u003Cbr\u003E generatorName = AtmoVents\u003Cbr\u003E generatorGUIName = Air Vents\u003Cbr\u003E\u003Cbr\u003E minAtmosphere = 0.5\u003Cbr\u003E isAutomaticOxygen = True\u003Cbr\u003E\u003Cbr\u003E hideStatusL2 = True\u003Cbr\u003E hideEfficency = True\u003Cbr\u003E hideOutputControls = True\u003Cbr\u003E hideAtmoContents = True\u003Cbr\u003E\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = Oxygen\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.000069444\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E OUTPUT_RESOURCE_OXYGEN\u003Cbr\u003E {\u003Cbr\u003E  name = CarbonDioxide\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = -0.0000504936\u003Cbr\u003E  effectOnEfficency = 0\u003Cbr\u003E }\u003Cbr\u003E INPUT_RESOURCE\u003Cbr\u003E {\u003Cbr\u003E  name = ElectricCharge\u003Cbr\u003E  rateBase = 0\u003Cbr\u003E  ratePerCapacity = 0.00005787041\u003Cbr\u003E  effectOnEfficiency = 0.9\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s the first screen shot using the updated config file. Notice that ECR is now showing 5.236/hour which is 5.000 for the \u0022ratePerCapacity = 0.00138889\u0022 line, 0.028 for the \u0022rateBase = 0.00277778\u0022 line (which is still inaccurate but this first fix isn\u0027t meant to address that problem) and .208 for the corrected \u0022ratePerCapacity = 0.00005787041\u0022 line found in the air vents section.\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130810205487/2F914B193ACD6E0AED668337BC14703FFFFC105B/\u0022 alt=\u00222F914B193ACD6E0AED668337BC14703FFFFC105B\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis second screen shot is after I\u0027ve advanced time by about 1 hour to show that the displayed 5.236 is actually what is being charged:\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130810208765/DB79C8FEF8EAC1DFF104E41643B28DC07CB116A0/\u0022 alt=\u0022DB79C8FEF8EAC1DFF104E41643B28DC07CB116A0\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnd this third screen shot is after advancing to day 27 to show that the air vents do eventually stop working (notice that O2 in storage is down to 18.44):\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130810210586/A253281D9311DD7B38D50B07DB055F0449461864/\u0022 alt=\u0022A253281D9311DD7B38D50B07DB055F0449461864\u0022\u003E\u003C/p\u003E\u003Cp\u003EObviously, Jeb is still alive after 27 days stuck in a capsule with no power, so internal life support is still working to some degree. I\u0027m not hugely worried about that since, technically, getting air into the capsule from the LSS would simply involve opening a valve. Also notice that there is no CO2 in the tanks because the scrubbers don\u0027t actually use electricity with the default config and they remained online the whole time. And since we\u0027re sitting on the launch pad on Kerbin, the inside of the capsule never would have gotten overly hot or cold. Obviously, it would be better if there was some sort of death chance if the LSS stopped working due to lack of electricity since the capsule would turn into a meat locker, but I don\u0027t think that was built into the default config. It looks like death can only occur if you get too much CO2 or run out of O2.\u003C/p\u003E\u003Cp\u003EAs for the problem shown with fact 2, I\u0027m not sure why \u0022rateBase = 0.00277778\u0022 is only counting at .028/hour of electrical charge instead of the 10/hour it should be. I tried taking out the ratePerCapacity, plus all the scrubber and air vent information, leaving me with the following config file:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = Oxygen\u003Cbr\u003E GUIName = 02\u003Cbr\u003E ratePerKerbal = 0.0000028935\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 3600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E\u003Cbr\u003E evaAmount = 1\u003Cbr\u003E evaMaxAmount = 1\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = CarbonDioxide\u003Cbr\u003E GUIName = CO2\u003Cbr\u003E ratePerKerbal = -0.0000021039\u003Cbr\u003E\u003Cbr\u003E causeDeath = True\u003Cbr\u003E killRollInterval = 600\u003Cbr\u003E killChance = 0.1\u003Cbr\u003E}\u003Cbr\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003EWhen I get onto the launch pad with my test ship and that config, I get the following screen shot:\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130812726234/1DFEA9E3C22308DA48DBB7B8BCD4C5040C669DE4/\u0022 alt=\u00221DFEA9E3C22308DA48DBB7B8BCD4C5040C669DE4\u0022\u003E\u003C/p\u003E\u003Cp\u003ENow ElectricCharge Rate is 0.667/day which is more like the 4 minute cost (0.00277778 * 60 * 4 = 0.6666672). Definitely not the \u0022/day\u0022 which is really \u0022/24 hours\u0022. And just so we are clear, this is definitely not just displaying wrong as you can see in this next screen shot which is taken one hour later and where I\u0027ve only used 49.97 of 50.42. I am assuming that the .42 is not appearing on the resource list which is not an ioncross issue.\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130812730195/75E6ABAB301D1A4454C849294B2FC7968DBDC3E1/\u0022 alt=\u002275E6ABAB301D1A4454C849294B2FC7968DBDC3E1\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs a matter of fact, I tried one more test where I removed the O2 and CO2 portions from the config file leaving me with just the following:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EION_SUPPORT_RESOURCE\u003Cbr\u003E{\u003Cbr\u003E name = ElectricCharge\u003Cbr\u003E GUIName = Electricity\u003Cbr\u003E rateBase = 0.00277778\u003Cbr\u003E\u003Cbr\u003E causeLock = True\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003EThis next screen shots show the result which is still a 0.667/day ElectricCharge Rate.\u003Cimg src=\u0022http://cloud-4.steampowered.com/ugc/67872130812981359/D231C87AF2AC82024A3B9D4A55DC0F6BB9CFC7EF/\u0022 alt=\u0022D231C87AF2AC82024A3B9D4A55DC0F6BB9CFC7EF\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo I\u0027ve got no idea why \u0022rateBase = 0.00277778\u0022 isn\u0027t apparently being charged correctly. Though perhaps I should state that I am making an assumption. In the case of ratePerCapacity and ratePerKerbal, the value listed in the amount per second that is being changed. So \u0022ratePerCapacity = 0.00138889\u0022 is 0.08333334/minute and 5.000004/hour. I\u0027m assuming that \u0022rateBase = 0.00277778\u0022 is also the base ec rate per second. Maybe it\u0027s not? If it\u0027s not, I\u0027m not sure what it is but still, it could be a bad assumption on my part.\u003C/p\u003E\u003Cp\u003EOne last thing I should note. The displayed 0.667/day (24 hours, remember) and the earlier displayed 5.028/hour doesn\u0027t mean the rateBase is being calculated doubly wrong. .028*24 = 0.672 so my guess is this is just rounding. In all of the tests I\u0027ve included in this post, rateBase was only ever being charged at a rate of .028/hour (or likely closer to 0.0277778/hour or ten times what the listed rateBase should be).\u003C/p\u003E\u003Cp\u003EOh, and yes, I did try setting \u0022rateBase = 1\u0022 and, yes, that did charge 1ec/second. Why did setting it to 1 have it charge correctly while setting it to 0.00277778 not? No idea. I tried several other values and got the following results:\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.5\u0022 resulted in an ElectricCharge Rate: 15.000/min. 0.5*60=30 so that\u0027s only half the value it should be.\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.25\u0022 resulted in an ElectricCharge Rate: 3.750/min. That\u0027s 1/4 what it should be with that value.\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.01\u0022 resulted in an ElectricCharge Rate: 8.640/day. That\u0027s 1/100th what it should be.\u003C/p\u003E\u003Cp\u003EAnd with the above three, I can now see where we\u0027re getting 0.028/hr from the default \u0022rateBase = 0.00277778\u0022 setting. It seems as though the code is using rateBase*rateBase*timeFrame to calculate the electricCharge. I.E., 0.00277778 * 0.00277778 * 60 * 60 = 0.02777782222224 which would display as 0.028. So, again, maybe it\u0027s just a bad assumption on my part. Maybe rateBase is supposed to multiply itself to determine that actual per second charge. Though why that one rate is calculating differently then the others is beyond me.\u003C/p\u003E\u003Cp\u003EAnyway, for all those that made it to the end of this post, again I want to state that I\u0027m not trying to be argumentative or make waves or anything. But I do want it clear that I really am seeing two bugs (or at least what seem like bugs to me) in the default config. One is easily fixed. The other is likely as issue in the code itself.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-14T22:47:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EThis next screen shots show the result which is still a 0.667/day ElectricCharge Rate.\u003Ca href=\u0022http://cloud-4.steampowered.com/ugc/67872130812981359/D231C87AF2AC82024A3B9D4A55DC0F6BB9CFC7EF/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://cloud-4.steampowered.com/ugc/67872130812981359/D231C87AF2AC82024A3B9D4A55DC0F6BB9CFC7EF/\u003C/a\u003E\u003Cp\u003ESo I\u0027ve got no idea why \u0022rateBase = 0.00277778\u0022 isn\u0027t apparently being charged correctly. Though perhaps I should state that I am making an assumption. In the case of ratePerCapacity and ratePerKerbal, the value listed in the amount per second that is being changed. So \u0022ratePerCapacity = 0.00138889\u0022 is 0.08333334/minute and 5.000004/hour. I\u0027m assuming that \u0022rateBase = 0.00277778\u0022 is also the base ec rate per second. Maybe it\u0027s not? If it\u0027s not, I\u0027m not sure what it is but still, it could be a bad assumption on my part.\u003C/p\u003E\u003Cp\u003EOne last thing I should note. The displayed 0.667/day (24 hours, remember) and the earlier displayed 5.028/hour doesn\u0027t mean the rateBase is being calculated doubly wrong. .028*24 = 0.672 so my guess is this is just rounding. In all of the tests I\u0027ve included in this post, rateBase was only ever being charged at a rate of .028/hour (or likely closer to 0.0277778/hour or ten times what the listed rateBase should be).\u003C/p\u003E\u003Cp\u003EOh, and yes, I did try setting \u0022rateBase = 1\u0022 and, yes, that did charge 1ec/second. Why did setting it to 1 have it charge correctly while setting it to 0.00277778 not? No idea. I tried several other values and got the following results:\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.5\u0022 resulted in an ElectricCharge Rate: 15.000/min. 0.5*60=30 so that\u0027s only half the value it should be.\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.25\u0022 resulted in an ElectricCharge Rate: 3.750/min. That\u0027s 1/4 what it should be with that value.\u003C/p\u003E\u003Cp\u003E\u0022rateBase = 0.01\u0022 resulted in an ElectricCharge Rate: 8.640/day. That\u0027s 1/100th what it should be.\u003C/p\u003E\u003Cp\u003EAnd with the above three, I can now see where we\u0027re getting 0.028/hr from the default \u0022rateBase = 0.00277778\u0022 setting. It seems as though the code is using rateBase*rateBase*timeFrame to calculate the electricCharge. I.E., 0.00277778 * 0.00277778 * 60 * 60 = 0.02777782222224 which would display as 0.028. So, again, maybe it\u0027s just a bad assumption on my part. Maybe rateBase is supposed to multiply itself to determine that actual per second charge. Though why that one rate is calculating differently then the others is beyond me.\u003C/p\u003E\u003Cp\u003EAnyway, for all those that made it to the end of this post, again I want to state that I\u0027m not trying to be argumentative or make waves or anything. But I do want it clear that I really am seeing two bugs (or at least what seem like bugs to me) in the default config. One is easily fixed. The other is likely as issue in the code itself.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirstly, don\u0027t you dare apologize. I\u0027d rather get bug reports and feedback then no bug reports and no feedback. Otherwise I\u0027d only be doing this for myself and be less likely to expand it and work on it.\u003C/p\u003E\u003Cp\u003EOk, cutting to the last few paragraphs here because we\u0027ve got some math that looks interesting.\u003C/p\u003E\u003Cp\u003EThis is the actual code that handles resource charges. (this is only for the part in the base config file we\u0027re talking about and only for the ION_SUPPORT_RESOURCE sections. The others are handled by collectors and generators which is separate code.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[FONT=Menlo][COLOR=#444444]resourceRequest[/COLOR][COLOR=#444444] = ([/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RateBase[/COLOR][COLOR=#444444] * [/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RateBaseMod[/COLOR][COLOR=#444444] \u002B [/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RatePerKerbal[/COLOR][COLOR=#444444] * [/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RatePerKerbalMod[/COLOR][COLOR=#444444] * [/COLOR][COLOR=#444444]crew[/COLOR][COLOR=#444444] \u002B [/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RatePerCapacity[/COLOR][COLOR=#444444] * [/COLOR][COLOR=#444444]supportResource[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]RatePerCapacityMod[/COLOR][COLOR=#444444] * [/COLOR][COLOR=#444444]crewCapacity[/COLOR][COLOR=#444444]) * [/COLOR][COLOR=#444444]deltaTime[/COLOR][COLOR=#444444];[/COLOR]\u003Cbr\u003E[/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ErateBase is consolidated with ratePerCapacity and ratePerKerbal (*Mod defaults to 1 and is unused in most parts. I think the hitchhiker pod uses 0.5 as do a few others but the Mk1 Pod defaults to full rate on everything). Standard rules of precedence are followed: multiplication first then addition. deltaTime is Timewarp.deltaTime and is the amount of time in seconds that has passed between frames. (it can be less than 1 second and will be when not timewarping.)\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:Menlo;\u0022\u003EAnd.... here is the problem...\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[FONT=Menlo][COLOR=#009695]protected [/COLOR][COLOR=#3363a4]double [/COLOR][COLOR=#444444]rateBaseMod[/COLOR][COLOR=#444444];[/COLOR]\u003Cbr\u003E[COLOR=#009695]public [/COLOR][COLOR=#3363a4]double [/COLOR][COLOR=#444444]RateBaseMod[/COLOR][COLOR=#444444] { [/COLOR][COLOR=#009695]get[/COLOR][COLOR=#444444] { [/COLOR][COLOR=#009695]return [/COLOR][COLOR=#444444]rateBase[/COLOR][COLOR=#444444]; } }[/COLOR]\u003Cbr\u003E[/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf you don\u0027t understand programming, that says not to return the variables directly but instead to wrap them in a publicly accessible function that only gets and not sets.\u003C/p\u003E\u003Cp\u003EAnd instead of returning rateBaseMod it\u0027s returning rateBase. Do you see that?\u003C/p\u003E\u003Cp\u003Egorramit.\u003C/p\u003E\u003Cp\u003ESimple enough, I\u0027ll do a hot fix on it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-14T22:57:16Z\u0022 title=\u002208/14/2014 10:57  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 14, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-14T23:26:28Z","Content":"\n\u003Cp\u003EUploading new file. You can grab it here \u003Ca href=\u0022https://kerbal.curseforge.com/ksp-mods/221054-ioncross-crew-support-sw/files/2211669/download\u0022 rel=\u0022external nofollow\u0022\u003EIoncrossCrewSupport-1.16.4.zip\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-14T23:44:41Z\u0022 title=\u002208/14/2014 11:44  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 14, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-14T23:57:19Z","Content":"\n\u003Cp\u003EA simple fix for something that took a hell of alot of digging to find. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Dontcha just love that?\u003C/p\u003E\u003Cp\u003ESo now you can work on fine tuning cause I have to say, with rateBase working and drawing 10/hour PLUS the 5/hour/capacity, that\u0027s going to make the life support system heavily power hunger compared to everything else. Especially if you\u0027ve got more then 1 crew module on your ship. Or does rateBase only get counted once regardless of the number of modules on a ship? I\u0027ll have to test that later. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-15T00:49:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EA simple fix for something that took a hell of alot of digging to find. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Dontcha just love that?\u003Cp\u003ESo now you can work on fine tuning cause I have to say, with rateBase working and drawing 10/hour PLUS the 5/hour/capacity, that\u0027s going to make the life support system heavily power hunger compared to everything else. Especially if you\u0027ve got more then 1 crew module on your ship. Or does rateBase only get counted once regardless of the number of modules on a ship? I\u0027ll have to test that later. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt gets counted for each crewed part, so if you have a Mk1-2 pod and a Hitchhiker\u0027s pod then you\u0027re getting charged for both of them.\u003C/p\u003E\u003Cp\u003EMight have to lower power consumption a bit... I\u0027d like to base it off real life, but ElectricCharge is harder than anything else to peg down as to what it represents. Realism Overhaul has a good redefinition where each EC is 1 KWh and things that add EC do so in joules. (or was it kilojoules?). So batteries tend to have high capacity ratings but generators and panels replenish it more slowly. Works reasonably well although batteries have no concept of max power output\u003C/p\u003E\n"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2014-08-15T17:25:37Z","Content":"\n\u003Cp\u003EI\u0027ve read the same thing about Ec in a few places so that\u0027s more or less how I\u0027ve been thinking about it recently. I came across a document with average power requirements for an ECLSS (Environmental Control and Life Support System) that is intended for a Mars mission (\u003Ca href=\u0022http://www.colorado.edu/ASEN/project/mob/MOBFinalReport.5.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.colorado.edu/ASEN/project/mob/MOBFinalReport.5.pdf\u003C/a\u003E). Can\u0027t say how accurate the numbers would be for the types of modules we have in Kerbal, but I figured it might be a place to start. 10.64Kw (per hour, presuamably) doesn\u0027t seem outrageous if 1 Kw = 1Ec, though I can\u0027t tell how large an area (or how many crew members) this system is intended for. You\u0027ll probably manage to find better details elsewhere, but figured I\u0027d pass along what I\u0027d come across after a breif search.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-08-15T18:48:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022chrisl\u0022 data-cite=\u0022chrisl\u0022\u003E\u003Cdiv\u003EI\u0027ve read the same thing about Ec in a few places so that\u0027s more or less how I\u0027ve been thinking about it recently. I came across a document with average power requirements for an ECLSS (Environmental Control and Life Support System) that is intended for a Mars mission (\u003Ca href=\u0022http://www.colorado.edu/ASEN/project/mob/MOBFinalReport.5.pdf\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.colorado.edu/ASEN/project/mob/MOBFinalReport.5.pdf\u003C/a\u003E). Can\u0027t say how accurate the numbers would be for the types of modules we have in Kerbal, but I figured it might be a place to start. 10.64Kw (per hour, presuamably) doesn\u0027t seem outrageous if 1 Kw = 1Ec, though I can\u0027t tell how large an area (or how many crew members) this system is intended for. You\u0027ll probably manage to find better details elsewhere, but figured I\u0027d pass along what I\u0027d come across after a breif search.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, I\u0027ll give that a look.\u003C/p\u003E\u003Cp\u003EEdit: Actually it does give the volume covered by those power requirements as 27.186 m3\u003C/p\u003E\u003Cp\u003EAnd if I\u0027m reading that right it\u0027s the 5th document in the set so maybe the amount of crew is given on the preceding pages. I\u0027m thinking 4-6 crew.... it mentions a \u0027standard habitat\u0027 so hopefully they actually defined what they considered standard somewhere else.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-15T18:52:10Z\u0022 title=\u002208/15/2014 06:52  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 15, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-09-01T15:30:02Z","Content":"\n\u003Cp\u003EAfter some distractions (Reflection Mod, others) working on update for Ioncross again\u003C/p\u003E\u003Cp\u003EHere\u0027s some numbers I\u0027m looking at for refactoring of resource volumes. Parts aren\u0027t the given part names, just my description of them. Volume is the total volume of compressed O2x200 in liters, based on similar parts as defined in Real Fuels. So, the small radial has a dimensional volume of 200, multiplied by a 200 compression factor for a total of 40,000 liters of pure O2. For reference, a scuba tank can have a compression factor of 250. The numbers I was getting were pretty large as is so I decided that the safety minded(!) Kerbal Engineers aren\u0027t filling the tanks to full capacity.\u003C/p\u003E\u003Cp\u003EDays worth of oxygen are based on the assumption that Kerbals need about 80% of what humans need. (initially 75%, but bumped up a bit). I\u0027ve hesitated on these numbers a bit because it seemed like not enough of an improvement where life support barely has meaning with a tank allowing durations of a year or more. But I\u0027ve run and re-run these numbers over and over again and if you look at what a tank of pure O2 contains versus what a human actually needs in terms of O2 mass, they seem reasonable.\u003C/p\u003E\u003Cp\u003EExample: A 200 liter tank at 250 atm = \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv style=\u0022text-align:right;\u0022\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E71.45kg of O2. NASA says that a person performing typical astronaut duties requires 0.8 kg of O2 per day. That should last a single person \u003C/span\u003E\u003C/span\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022color:#000000;\u0022\u003E89.3125 days. Note that that doesn\u0027t count losses due to EVA, which typically vents atmosphere to space seeing as how it costs less to just send up more compressed air rather than install bulky equipment capable of recovering airlock air (I think the ISS does try to recover as much as possible though...). Nor does it count any other losses that I might not be thinking of right now.\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo, here are the numbers by part. EVA resource usage isn\u0027t listed here (and is handled a little differently) but I think it should be bumped up a bit to reflect increased Kerbal activity.\u003C/p\u003E\u003Cp\u003E[TABLE]\u003C/p\u003E\u003Cp\u003E[TR]\u003C/p\u003E\u003Cp\u003E[TD]Size[/TD]\u003C/p\u003E\u003Cp\u003E[TD]Volume (liters, compressedx200)[/TD]\u003C/p\u003E\u003Cp\u003E[TD]Days/1 Kerbal[/TD]\u003C/p\u003E\u003Cp\u003E[TD]Days/3 Kerbals[/TD]\u003C/p\u003E\u003Cp\u003E[/TR]\u003C/p\u003E\u003Cp\u003E[TR]\u003C/p\u003E\u003Cp\u003E[TD]Small Stack Tank[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]100000[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]238.10[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]79.37[/TD]\u003C/p\u003E\u003Cp\u003E[/TR]\u003C/p\u003E\u003Cp\u003E[TR]\u003C/p\u003E\u003Cp\u003E[TD]Large Stack Tank[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]940000[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]2238.10[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]746.03[/TD]\u003C/p\u003E\u003Cp\u003E[/TR]\u003C/p\u003E\u003Cp\u003E[TR]\u003C/p\u003E\u003Cp\u003E[TD]Small Radial[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]40000[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]95.24[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]31.75[/TD]\u003C/p\u003E\u003Cp\u003E[/TR]\u003C/p\u003E\u003Cp\u003E[TR]\u003C/p\u003E\u003Cp\u003E[TD]Large Radial[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]150000[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]357.14[/TD]\u003C/p\u003E\u003Cp\u003E[TD=align: right]119.05[/TD]\u003C/p\u003E\u003Cp\u003E[/TR]\u003C/p\u003E\u003Cp\u003E[/TABLE]\u003C/p\u003E\n"}]}