{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":193,"Articles":[{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2017-01-18T10:28:06Z","Content":"\n\u003Cp\u003E\nMy code calculates the available delta-v for the current stage prior to each manoeuvre, so as to determine if it needs to stage, which affects the burn time estimate. When I recently started testing against KSP v1.2.2/kOS v1.0.3, I noticed I was getting 0m/s printed out a lot indicating STAGE:LIQUIDFUEL/OXIDIZER were both zero. Toggling stage view in the KSP resources tab showed the same data: no fuel. Yet the engine was active and had fuel (and the engine part gauge in the staging list in the bottom left showed access to liquid fuel).\n\u003C/p\u003E\n\u003Cp\u003E\nI had a bit of a play, and got the impression that staging and stage (re-)ordering seemed to matter. KSP didn\u0027t seem to like me firing the next stage at the same time as triggering the decoupler. Separating those into two steps seemed to help. I say \u0022seem\u0022 because my testing was definitely not rigourous.\n\u003C/p\u003E\n\u003Cp\u003E\nOne example that stuck in my mind was when my upper stage was reported as having no resources except for 16 units of solid fuel; that fuel was in two sepratrons mounted on the stage to deorbit it, but naturally they weren\u0027t activated at the time (they were set-up to activate along with the decoupler above). This is fairly common in my designs, and may be the reason why I\u0027m suddenly seeing this with almost everything I launch (compared to launching the same craft in KSP v1.1.3/kOS v1.0.1).\n\u003C/p\u003E\n\u003Cp\u003E\nAnother example was a ship that docked to another craft, then undocked. On undocking, KSP reported it no longer had any fuel in the stage. I added an empty stage below the current one and triggered it. Then the stage fuel numbers appeared. In this example, I think I was using my docking tester, which has a single stage once in orbit, but it\u0027s possible that I was using my crew shuttle that has extra stages (decoupler, chutes, heat shield jettison if I\u0027d forgotten to remove it) to confuse matters.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m sorry I don\u0027t have any concrete examples; I don\u0027t get much time to play the game itself.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I should point out that none of my current designs use fuel pipes so that\u0027s not a factor in these examples. I know the kOS v1.0.2 release notes explicitly mentioned asparagus staging as an area where you\u0027d expect to see changes in behaviour.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-18T13:49:42Z\u0022 title=\u002201/18/2017 01:49  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 18, 2017\u003C/time\u003E by ElWanderer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-01-18T14:31:02Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/124987-hvacengi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022124987\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/124987-hvacengi/\u0022 rel=\u0022\u0022\u003E@hvacengi\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/61827-122-kos-scriptable-autopilot-system-v103-20161207/\u0026amp;page=190#comment-2916771\u0022 rel=\u0022\u0022\u003Ethis NRE\u003C/a\u003E, it happens on KSP load even before save game loading. So it seems to want to access the useblizzy option from the save game while the save game isn\u0027t loaded, yet. Hope this helps. o/\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-01-18T16:06:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222925940\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484749862\u0022 data-ipsquote-userid=\u0022169510\u0022 data-ipsquote-username=\u0022Jebs_SY\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Jebs_SY said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/124987-hvacengi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022124987\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/124987-hvacengi/\u0022 rel=\u0022\u0022\u003E@hvacengi\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/61827-122-kos-scriptable-autopilot-system-v103-20161207/\u0026amp;page=190#comment-2916771\u0022 rel=\u0022\u0022\u003Ethis NRE\u003C/a\u003E, it happens on KSP load even before save game loading. So it seems to want to access the useblizzy option from the save game while the save game isn\u0027t loaded, yet. Hope this helps. o/\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBe patient until fix is merged with official release. As \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/61827-122-kos-scriptable-autopilot-system-v103-20161207/\u0026amp;do=findComment\u0026amp;comment=2887047\u0022 rel=\u0022\u0022\u003Enoted in this post\u003C/a\u003E , private build was send to MaxRebo and me for testing. It worked properly for me, feedback provided by MaxRebo is probably same.\n\u003C/p\u003E\n"},{"CreatedByName":"Jebs_SY","CreatedById":169510,"CreatedDateTime":"2017-01-18T16:08:39Z","Content":"\n\u003Cp\u003E\nWould be happy to test it, also. \u00A0Some less NRE in the log of the highly modded install. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"meyerweb","CreatedById":135212,"CreatedDateTime":"2017-01-18T18:30:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222925419\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221484699435\u0022 data-ipsquote-userid=\u0022124987\u0022 data-ipsquote-username=\u0022hvacengi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, hvacengi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, I forgot the phrasing and didn\u0027t open KSP to check. \u00A0\u0022Stage View\u0022 is the correct option.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, cool.\u00A0 I just tested this with the GDLV3 stock craft.\u00A0 My only change to the stock craft was to slap a KAL-9000 on the side of the OKTO probe core, so I could run my test programs.\u00A0 On the pad, the Rockomax 64 fuel tank shows as being in stage -1 when I use kOS to crawl the part tree.\u00A0 The Skipper engine is in stage 2, as the stock staging has it.\u00A0 The Rockomax never leaves -1, and the \u201CStage View\u201D Resources view never shows any resources, even while the craft is in flight and clearly burning fuel.\n\u003C/p\u003E\n\u003Cp\u003E\nI then tried recreating the GDLV3 in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, and got similar results.\u00A0 In most arrangements, I got a stage of -1 for the R64, and in a few I managed to get it into stage 0.\u00A0 In no case did its resources show up in \u201CStage View\u201D while in flight (and while its fuel was being drained by the Skipper).\u00A0 This was true whether or not I left the FL-T800 tank on top of the structure, or removed it.\n\u003C/p\u003E\n\u003Cp\u003E\nSo this definitely seems to be a problem with KSP, not kOS.\u00A0 Annoying, but unless the devs are interested in implementing their own tree-traversal resource calculations (and I can\u2019t imagine why they would) it\u2019s just something we\u2019ll have to deal with.\n\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2017-01-21T19:34:50Z","Content":"\n\u003Cp\u003E\nGreetings Earthlings,\n\u003C/p\u003E\n\u003Cp\u003E\nI had not updated my KSP installation in quite some time, and I reinstalled kOS to do some coding with my son... Unfortunately, many of my scripts are now broken. That\u0027s to be expected...\n\u003C/p\u003E\n\u003Cp\u003E\nOne of my issues right now is that strings seem to be no longer iterable, despite the fact that the documentation says so... I\u0027ve looked at the forums and it seems this has been the case for a year.\n\u003C/p\u003E\n\u003Cp\u003E\nSo how do we now parse a string to get individual characters?\n\u003C/p\u003E\n\u003Cp\u003E\nUPDATE:\n\u003C/p\u003E\n\u003Cp\u003E\nWell after poking around I used this method, but if there is a cleaner way to do it in kOS nowadays, please, enlighten me! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E  FROM {local strpos IS 0.} UNTIL strpos = str:LENGTH STEP {set strpos TO strpos\u002B1.} DO { \n    some_function(str[strpos], ...).\n  }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-21T19:58:07Z\u0022 title=\u002201/21/2017 07:58  PM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 21, 2017\u003C/time\u003E by Cairan\u003C/strong\u003E\n\u003Cbr\u003EFigured a way...\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-21T23:22:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222929748\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485027290\u0022 data-ipsquote-userid=\u002285361\u0022 data-ipsquote-username=\u0022Cairan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Cairan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne of my issues right now is that strings seem to be no longer iterable, despite the fact that the documentation says so.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you mean using a for loop like this used to work but now doesn\u0027t?\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nfor ch in \u0022ABCD\u0022 {\n  print  ch.\n}\nA\nB\nC\nD\u003C/pre\u003E\n\u003Cp\u003E\n(It\u0027s not a feature I\u0027ve ever used before.\u00A0 I\u0027m just used to thinking of getting characters by index numbers.)\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2017-01-22T05:16:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222929978\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485040951\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDo you mean using a for loop like this used to work but now doesn\u0027t?\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nfor ch in \u0022ABCD\u0022 {\n  print  ch.\n}\nA\nB\nC\nD\u003C/pre\u003E\n\u003Cp\u003E\n(It\u0027s not a feature I\u0027ve ever used before.\u00A0 I\u0027m just used to thinking of getting characters by index numbers.)\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPrecisely. Using this method, which is in the \u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/misc/string.html\u0022 rel=\u0022external nofollow\u0022\u003Edocumentation\u003C/a\u003E,\u00A0puts out a kOS \u0022Iterator\u0022 exception and crashes the script... \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ESET str TO \u0022abcde\u0022.\n\nFOR c IN str {\n  PRINT c.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-01-22T16:17:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222930220\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485062176\u0022 data-ipsquote-userid=\u002285361\u0022 data-ipsquote-username=\u0022Cairan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, Cairan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPrecisely. Using this method, which is in the \u003Ca href=\u0022https://ksp-kos.github.io/KOS/structures/misc/string.html\u0022 rel=\u0022external nofollow\u0022\u003Edocumentation\u003C/a\u003E,\u00A0puts out a kOS \u0022Iterator\u0022 exception and crashes the script... \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003ESET str TO \u0022abcde\u0022.\n\nFOR c IN str {\n  PRINT c.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was just working on this tonight.\u00A0 There\u0027s a PR ready for it (but of course that doesn\u0027t mean it will be in public release soon, unless you compile kOS from the github source yourself).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-KOS/KOS/pull/1938\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/pull/1938\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2017-01-27T11:40:55Z","Content":"\n\u003Cp\u003E\nI have a little issue. I use RT and when launching my vessel kOS says \u0022signal lost. waiting to re-aquire signal\u0022. There is a RT-Connection and I choose the RT-profile of kOS.\n\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2017-01-27T18:15:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222936029\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221485517255\u0022 data-ipsquote-userid=\u0022138400\u0022 data-ipsquote-username=\u0022Cheesecake\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Cheesecake said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have a little issue. I use RT and when launching my vessel kOS says \u0022signal lost. waiting to re-aquire signal\u0022. There is a RT-Connection and I choose the RT-profile of kOS.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDo you have a probe core on the ship? \u00A0RT doesn\u0027t know to tell us that a vessel is connected if there isn\u0027t a probe core, even though the connection lines will still work and you can control the vessel manually.\n\u003C/p\u003E\n"},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2017-01-27T20:11:51Z","Content":"\n\u003Cp\u003E\nYes, there is a probe core, an antenna and I can fly the Launcher manually.\n\u003C/p\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2017-01-29T16:13:07Z","Content":"\n\u003Cp\u003E\nHow can I get the Drag of my vessel when moving vertically?\u003Cbr\u003E\nNow I calculate the drag value by Acceleration, Mass and Gravity.\u003Cbr\u003E\nHas any other way more simple?\u003Cbr\u003E\nThanks.\n\u003C/p\u003E\n"},{"CreatedByName":"Lookerksy","CreatedById":117170,"CreatedDateTime":"2017-01-30T16:40:57Z","Content":"\n\u003Cp\u003E\nI find I can get the position of BDA missile by the order \u0022list targets.\u0022.\u003Cbr\u003E\nBut I don\u0027t know how to get the position of BDA bullets.\u003Cbr\u003E\nAnyone know something about this? Thanks.\n\u003C/p\u003E\n"},{"CreatedByName":"Redshift OTF","CreatedById":78679,"CreatedDateTime":"2017-02-03T19:54:36Z","Content":"\n\u003Cp\u003E\nHello, I am a KOS noob, but I love it! I need some help though.\n\u003C/p\u003E\n\u003Cp\u003E\nScenario is: I have a submarine with detachable torpedoes. I have written a script for the torpedoes to home in to a selected target and explode near it at a set range. How do I get the script to run automatically on the torpedoes when I stage them from the submarine? I don\u0027t mind having a script running on the submarine if needed, I just don\u0027t want the same script as I don\u0027t want the submarine to start homing in on the target too. The torpedo will remain in physics range of the submarine.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"MalevolentNinja","CreatedById":150038,"CreatedDateTime":"2017-02-03T20:15:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222943749\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486151676\u0022 data-ipsquote-userid=\u002278679\u0022 data-ipsquote-username=\u0022Redshift OTF\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, Redshift OTF said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello, I am a KOS noob, but I love it! I need some help though.\n\u003C/p\u003E\n\u003Cp\u003E\nScenario is: I have a submarine with detachable torpedoes. I have written a script for the torpedoes to home in to a selected target and explode near it at a set range. How do I get the script to run automatically on the torpedoes when I stage them from the submarine? I don\u0027t mind having a script running on the submarine if needed, I just don\u0027t want the same script as I don\u0027t want the submarine to start homing in on the target too. The torpedo will remain in physics range of the submarine.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOff the top of my head I would add a kOS part on each torpedo with a boot script defined. The boot script would need to check if the torpedo was still attached to the sub and if so, quit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Redshift OTF","CreatedById":78679,"CreatedDateTime":"2017-02-04T15:33:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222943767\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486152905\u0022 data-ipsquote-userid=\u0022150038\u0022 data-ipsquote-username=\u0022MalevolentNinja\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, MalevolentNinja said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOff the top of my head I would add a kOS part on each torpedo with a boot script defined. The boot script would need to check if the torpedo was still attached to the sub and if so, quit.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for this. It mostly works however I have hit a snag. As soon as the torpedo has decoupled I can\u0027t get it to set a target as apparently you can only set a target for the active vessel. I think the only way around this is to run the script from the submarine and change all my commands to affect the detached vessel by name if that makes sense.\n\u003C/p\u003E\n"},{"CreatedByName":"Redshift OTF","CreatedById":78679,"CreatedDateTime":"2017-02-06T21:34:35Z","Content":"\n\u003Cp\u003E\nOK, I\u0027m making headway. Does anyone know how to use the Part:controlfrom() function? When I stage a torpedo it is being controlled from the cpu part and doesn\u0027t use the control surfaces so I want to switch to the probe core on the torpedo. But I don\u0027t really understand the syntax of this command.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-02-06T22:04:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222947087\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486416875\u0022 data-ipsquote-userid=\u002278679\u0022 data-ipsquote-username=\u0022Redshift OTF\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 minutes ago, Redshift OTF said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOK, I\u0027m making headway. Does anyone know how to use the Part:controlfrom() function? When I stage a torpedo it is being controlled from the cpu part and doesn\u0027t use the control surfaces so I want to switch to the probe core on the torpedo. But I don\u0027t really understand the syntax of this command.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not realy sure if I understand question properly, but I will try to answer. \u003Cstrong\u003EPart:controlfrom()\u003C/strong\u003E\u00A0 should give you same result as if you right clicked on dock port or another probe on vessel. You still control same vesel, but navbal is oriented in different way\u00A0 - changing left/right up/down reference points. Craft still respond on control input sending values to control surfaces and/or engine gimbals. Take this info with a grain of salt, as I can\u0027t actualy check in game this right now and it is being a while since I have messed with those.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I only assume that, when you have staged, you have released torpedo and it is no longer part of your main ship, but you still want to control torpedo and somehow guide it to target. For that kind of purposes, you might need that your torpedo contains some battery, control probe and another kOS CPU.\n\u003C/p\u003E\n\u003Cp\u003E\nkOS CPU on torpedo should have software capable to listen mesages send to it and respond to those messages. Check out \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/commands/communication.html\u0022 rel=\u0022external nofollow\u0022\u003Ecommunication chapter\u003C/a\u003E of kOS documentation. So, you need to programm some AGs on main craft/CPU to send some messages, like go UP/DOWN or just send bearing/velocity where torpedo should lock their steering to. I think it should be possible to read heading from some camera somehow and send that info to torpedo/rocket to lock on.\n\u003C/p\u003E\n\u003Cp\u003E\nOr you can track bearing/distance from main craft and targeted craft, do some calculation and simply send heading/pitch info where torpedo should lock on.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat should work, in theory, but I didn\u0027t have chance to try something like this in game, it is on my \u0022to do in KSP\u0022 list, but real life issues put me away from playing KSP for a while, right now.\n\u003C/p\u003E\n"},{"CreatedByName":"Redshift OTF","CreatedById":78679,"CreatedDateTime":"2017-02-06T22:35:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222947107\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221486418652\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m not realy sure if I understand question properly, but I will try to answer. \u003Cstrong\u003EPart:controlfrom()\u003C/strong\u003E\u00A0 should give you same result as if you right clicked on dock port or another probe on vessel. You still control same vesel, but navbal is oriented in different way\u00A0 - changing left/right up/down reference points. Craft still respond on control input sending values to control surfaces and/or engine gimbals. Take this info with a grain of salt, as I can\u0027t actualy check in game this right now and it is being a while since I have messed with those.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I only assume that, when you have staged, you have released torpedo and it is no longer part of your main ship, but you still want to control torpedo and somehow guide it to target. For that kind of purposes, you might need that your torpedo contains some battery, control probe and another kOS CPU.\n\u003C/p\u003E\n\u003Cp\u003E\nkOS CPU on torpedo should have software capable to listen mesages send to it and respond to those messages. Check out \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/commands/communication.html\u0022 rel=\u0022external nofollow\u0022\u003Ecommunication chapter\u003C/a\u003E of kOS documentation. So, you need to programm some AGs on main craft/CPU to send some messages, like go UP/DOWN or just send bearing/velocity where torpedo should lock their steering to. I think it should be possible to read heading from some camera somehow and send that info to torpedo/rocket to lock on.\n\u003C/p\u003E\n\u003Cp\u003E\nOr you can track bearing/distance from main craft and targeted craft, do some calculation and simply send heading/pitch info where torpedo should lock on.\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThat should work, in theory, but I didn\u0027t have chance to try something like this in game, it is on my \u0022to do in KSP\u0022 list, but real life issues put me away from playing KSP for a while, right now.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you very much for the help! However, I have managed to work it out. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe torpedoes have a cpu part on them but not the main ship. The torpedoes have a probe core on them as well as everything needed to power them. You select a target in the ship and this is stored as a variable, myTarget, so that when the torpedo is decoupled it steers towards the target using the - lock steering to myTarget:position - option. I printed the output of ship:controlpart and found that the torpedoes control part was actually the radial decoupler when the torpedo is decoupled so it was no wonder it didn\u0027t steer much.\n\u003C/p\u003E\n\u003Cp\u003E\nMy trouble was understanding how to implement the part:controlfrom() function in code but I worked it out. Part is replaced by a variable, in this case cp, and it is important to get the name right or the code doesn\u0027t run. I managed to get the part name by using - for cp in ship:partsnamed(\u0022probeCoreOcto2\u0022) - and then adding - {cp:controlfrom().} - after it.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, I might do a video on it a post the whole code as it is quite fun watching air dropped torpedoes chase a moving sub. \u003Cimg alt=\u0022:cool:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 title=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sebra","CreatedById":174461,"CreatedDateTime":"2017-02-11T08:48:16Z","Content":"\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m new here and was not able to read the whole thread. But I have a little problem with kOS.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I tune my action groups, I see some strange thing: I can Open, Close or Toggle Terminal (or Light), but only Toggle Power of kOS script controller whole. Why there are no On and Off options? Of course kOS can toggle itself off by proper script. So absence of turn off is minor. But how can I turn kOS on but not to interrupt it if was on already?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso cannot filter kOS parts by manufacturer, But that is also minor.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"APlayer","CreatedById":171406,"CreatedDateTime":"2017-02-19T15:55:44Z","Content":"\n\u003Cp\u003E\nI am having trouble with a script...\n\u003C/p\u003E\n\u003Cp\u003E\nI am trying to get a certain module of a part with --\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ESHIP:PARTSDUBBED(\u0022\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;name\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022)[0]:GETMODULE(\u0022\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;name\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n-- but there is more than one module with this name. How would I get the second, third, ... module with the same name as the preceding ones?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: ve2dmn on the IRC Channel found an issue raised on GitHub which described exactly this problem, and apparently there is an undocumented\u00A0workaround, \u0022GETMODULEBYINDEX(\u0026lt;integer\u0026gt;)\u0022 which gets a (you guessed it) module, by its index.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-02-19T17:35:21Z\u0022 title=\u002202/19/2017 05:35  PM\u0022 data-short=\u00227 yr\u0022\u003EFebruary 19, 2017\u003C/time\u003E by APlayer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FXgamer247","CreatedById":175124,"CreatedDateTime":"2017-02-20T06:26:49Z","Content":"\n\u003Cp\u003E\nHi! I\u0027m new here but I\u0027ve been trying to connect remotely with telnet from my android phone but honestly am stuck now. When I turn loopback off it shows this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022http://i.imgur.com/uXMv3U4.jpg\u0022 src=\u0022http://i.imgur.com/uXMv3U4.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t find anything explaining what to do, would really appreciate a simple how to on this.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2017-02-20T15:54:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222961408\u0022 data-ipsquote-contentid=\u002261827\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221487572009\u0022 data-ipsquote-userid=\u0022175124\u0022 data-ipsquote-username=\u0022FXgamer247\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, FXgamer247 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi! I\u0027m new here but I\u0027ve been trying to connect remotely with telnet from my android phone but honestly am stuck now. When I turn loopback off it shows this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022http://i.imgur.com/uXMv3U4.jpg\u0022 src=\u0022http://i.imgur.com/uXMv3U4.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI can\u0027t find anything explaining what to do, would really appreciate a simple how to on this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nReason for this is that telnet show IPV6 instead of IPV4 as local adress. IIRC it is already raised issue about it on github, some time ago. In theory, if your telnet client on android phone is capable to connect on IPV6 adress and port 5410 it can work, but it can\u0027t work if your telnet client on phone can only work with old IPV4 protocol.\n\u003C/p\u003E\n"},{"CreatedByName":"podbaydoor","CreatedById":170346,"CreatedDateTime":"2017-02-22T22:00:43Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to call the trajectory prediction functions (\u0060positionat\u0060 and \u0060velocityat\u0060) on a landed vessel to do some precision landings. I was hoping this would be a clean way to account the changing absolute position of the landed vessel as the parent body rotates. However I just get NaN vectors back. Am I doing something wrong or does \u0060positionat\u0060 not work on unloaded or landed vessels?\n\u003C/p\u003E\n\u003Cp\u003E\nIf trajectory prediction won\u0027t work here, does anyone have code for computing the position of a landed vessel in the future, accounting for rotation speed, elevation, latitude, etc?\n\u003C/p\u003E\n"}]}