{"TopicId":90246,"ForumId":34,"TopicTitle":"The Comprehensive Kerbal Archive Network (CKAN) Package Manager; v1.18.0 [19 June 2016]","CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-11-14T07:02:38Z","PageNum":83,"Articles":[{"CreatedByName":"Olympic1","CreatedById":79730,"CreatedDateTime":"2015-11-02T13:50:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gustavo6046\u0022 data-cite=\u0022Gustavo6046\u0022\u003E\u003Cdiv\u003EMaybe I am drunk, but AutoAsparagus don\u0027t show in my CKAN.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s in there\u003C/p\u003E\n"},{"CreatedByName":"hab136","CreatedById":75997,"CreatedDateTime":"2015-11-02T14:06:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Olympic1\u0022 data-cite=\u0022Olympic1\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gustavo6046\u0022 data-cite=\u0022Gustavo6046\u0022\u003E\u003Cdiv\u003EMaybe I am drunk, but AutoAsparagus don\u0027t show in my CKAN.\u003C/div\u003E\u003C/blockquote\u003EIt\u0027s in there\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that there\u0027s a major release pending which greatly expands the type of ships it can handle. See \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/61238-1-0-4-AutoAsparagus-v1-0?p=2271621\u0026amp;viewfull=1#post2271621\u0022 rel=\u0022external nofollow\u0022\u003Ethis lin\u003C/a\u003Ek if you want to beta test it; release will probably be right after 1.0.5 hits and I verify everything works.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-11-03T01:06:55Z","Content":"\n\u003Cp\u003EDoes CKAN allow me to override the silly \u0022WILL NOT DELETE\u0022 safety mechanism via command line or option? I often run HEAD on RSS, RO, and RP-0 long before an update and it\u0027d be nice if I could update to the latest without having to remember to manually delete directories and such.\u003C/p\u003E\u003Cp\u003EE: You know what else would be cool is the ability to blacklist a KSP directory from mod installs. For instance, the root ships directory. I hate it when mods install their own \u0022stock\u0022 craft to clutter up my interface. With a manual install I can control that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-03T01:23:18Z\u0022 title=\u002211/03/2015 01:23  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 3, 2015\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-11-03T04:39:41Z","Content":"\n\u003Cp\u003ECKAN is \u003Cem\u003E\u003Cstrong\u003Estill\u003C/strong\u003E\u003C/em\u003E buggering up my desktop (KDE) service registry:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ekbuildsycoca4(6188)/kdecore (services) KServicePrivate::init: The desktop entry file  \u0022/home/steve/.local/share/applications/ckan-handler.desktop\u0022  has Type= \u0022 Application\u0022  instead of \u0022Application\u0022 or \u0022Service\u0022\u003Cbr\u003Ekbuildsycoca4(6188) KBuildServiceFactory::createEntry: Invalid Service :  \u0022/home/steve/.local/share/applications/ckan-handler.desktop\u0022\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EDeleting this file returns normal operation, but subsequent launches of ckan put it right back.\u003C/p\u003E\u003Cp\u003EThis is interfering with normal operation of my DE (changes to default application / mimetype registry do not stick).\u003C/p\u003E\u003Cp\u003ENo notification or \u0022install handler Yes/No\u0022 dialog is presented, or ever has been to my knowledge.\u003C/p\u003E\u003Cp\u003EI do not see any way do disable this behaviour, in either the CLI or the GUI.\u003C/p\u003E\u003Cp\u003EHow do I prevent CKAN from lousing up my desktop every time I start it?\u003C/p\u003E\u003Cp\u003EFor reference, the \u003Ca href=\u0022http://standards.freedesktop.org/desktop-entry-spec/latest/ar01s02.html\u0022 rel=\u0022external nofollow\u0022\u003Efreedesktop standard\u003C/a\u003E. The file ckan generates is incorrect, note the \u003Cem\u003Elack of whitespace\u003C/em\u003E between \u0027key=value\u0027 pairs in the official spec.\u003C/p\u003E\u003Cp\u003EHere\u0027s a .desktop file that works:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[Desktop Entry]\u003Cbr\u003EEncoding=UTF-8\u003Cbr\u003EValue=1.0\u003Cbr\u003EType=Application\u003Cbr\u003EName=Pillars of Eternity\u003Cbr\u003EGenericName=Pillars of Eternity\u003Cbr\u003EComment=Pillars of Eternity\u003Cbr\u003EIcon=/home/steve/Games/Pillars of Eternity/support/icon.png\u003Cbr\u003EExec=\u0022/home/steve/Games/Pillars of Eternity/start.sh\u0022 \u0022\u0022\u003Cbr\u003ECategories=Game;\u003Cbr\u003EPath=/home/steve/Games/Pillars of Eternity\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd here\u0027s what ckan is generating:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[Desktop Entry]\u003Cbr\u003EVersion = 1.0\u003Cbr\u003EType = Application\u003Cbr\u003EExec = mono /home/steve/Games/KSP_linux-1004/ckan.exe gui %u\u003Cbr\u003EIcon = ckan\u003Cbr\u003EStartupNotify = true\u003Cbr\u003ETerminal = false\u003Cbr\u003ECategories = Utility\u003Cbr\u003EMimeType = x-scheme-handler/ckan\u003Cbr\u003EName = CKAN Launcher\u003Cbr\u003EComment = Launch CKAN\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, it\u0027s full of \u0027key = value\u0027. This breaks the KDE mime configuration parser and resets all file associations to defaults.\u003C/p\u003E\u003Cp\u003EI\u0027ll just leave this here and hope someone spots it, as I got no feedback whatsoever the last time I attempted to call attention to this irritating bug.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-03T04:42:52Z\u0022 title=\u002211/03/2015 04:42  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 3, 2015\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-03T21:48:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003EAnd here\u0027s what ckan is generating:\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[Desktop Entry]\u003Cbr\u003EVersion = 1.0\u003Cbr\u003EType = Application\u003Cbr\u003EExec = mono /home/steve/Games/KSP_linux-1004/ckan.exe gui %u\u003Cbr\u003EIcon = ckan\u003Cbr\u003EStartupNotify = true\u003Cbr\u003ETerminal = false\u003Cbr\u003ECategories = Utility\u003Cbr\u003EMimeType = x-scheme-handler/ckan\u003Cbr\u003EName = CKAN Launcher\u003Cbr\u003EComment = Launch CKAN\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, it\u0027s full of \u0027key = value\u0027. This breaks the KDE mime configuration parser and resets all file associations to defaults.\u003C/p\u003E\u003Cp\u003EI\u0027ll just leave this here and hope someone spots it, as I got no feedback whatsoever the last time I attempted to call attention to this irritating bug.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003ECKAN generates a .desktop file? I\u0027ve never noticed that. Oh, there it is in Applications. And yes, mine is the same as yours, and it doesn\u0027t work under Ubuntu\u0027s Unity Desktop either. There\u0027s no ckan icon, too.\u003Cp\u003EI have a script that I double-click on to launch CKAN. But taking that file and modifying it to this works perfectly:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[Desktop Entry]\u003Cbr\u003EVersion=1.0\u003Cbr\u003EType=Application\u003Cbr\u003EExec=mono /home/me/Desktop/KSP/ckan/ckan.exe\u003Cbr\u003EIcon=/home/me/Desktop/KSP/ckan/ckan.png\u003Cbr\u003EStartupNotify=true\u003Cbr\u003ETerminal=false\u003Cbr\u003ECategories=Game\u003Cbr\u003EMimeType=x-scheme-handler/ckan\u003Cbr\u003EName=CKAN\u003Cbr\u003EComment=Comprehensive Kerbal Archive Network\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI created ckan.png from the CKAN logo, resized appropriately, and saved that as a new file ckan.desktop. Note that I have taken out the parameters; they aren\u0027t required.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022theersink\u0022 data-cite=\u0022theersink\u0022\u003E\u003Cdiv\u003ENo the KSP folder which was in /home.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat happens if you run these from a command line ?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emono /path/to/ckan/ckan.exe version\u003Cbr\u003Emono /path/to/ckan/ckan.exe --help\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf they return expected results, try running this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emono /path/to/ckan/ckan.exe ksp forget\u003C/pre\u003E\u003Cp\u003Eto make CKAN forget what it thinks your current installation has and where it is.\u003C/p\u003E\n"},{"CreatedByName":"theersink","CreatedById":130163,"CreatedDateTime":"2015-11-04T02:14:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhat happens if you run these from a command line ?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emono /path/to/ckan/ckan.exe version\u003Cbr\u003Emono /path/to/ckan/ckan.exe --help\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf they return expected results, try running this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emono /path/to/ckan/ckan.exe ksp forget\u003C/pre\u003E\u003Cp\u003Eto make CKAN forget what it thinks your current installation has and where it is.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo dice. Same error.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2015-11-04T02:52:58Z","Content":"\n\u003Cp\u003EI\u0027m having issues with mono, which I have installed. I go into terminal, type mono ckan.exe, but it says that the command mono can\u0027t be found.\u003C/p\u003E\n"},{"CreatedByName":"xspotatoes","CreatedById":148356,"CreatedDateTime":"2015-11-04T04:40:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CliftonM\u0022 data-cite=\u0022CliftonM\u0022\u003E\u003Cdiv\u003EI\u0027m having issues with mono, which I have installed. I go into terminal, type mono ckan.exe, but it says that the command mono can\u0027t be found.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMake sure that ckan.exe is in the correct folder. If you\u0027re just booting up terminal and you haven\u0027t moved ckan from where it normally ends up (probably downloads), you either need to move it to your user directory, or change the directory you\u0027re on to the one that ckan is in. \u003C/p\u003E\u003Cp\u003EThis can be done with the cd command. All you need to do is type in cd downloads (assuming ckan is in downloads) and then mono ckan.exe\u003C/p\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-04T05:10:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022theersink\u0022 data-cite=\u0022theersink\u0022\u003E\u003Cdiv\u003ENo dice. Same error.\u003C/div\u003E\u003C/blockquote\u003EOk, so it\u0027s nothing to do with anything in your KSP directory. What do you get from \u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Emono --version\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECliftonM, can you post the results of this, too, and the exact error message you get when trying to run CKAN?\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-11-04T16:01:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EDoes CKAN allow me to override the silly \u0022WILL NOT DELETE\u0022 safety mechanism via command line or option? I often run HEAD on RSS, RO, and RP-0 long before an update and it\u0027d be nice if I could update to the latest without having to remember to manually delete directories and such.\u003C/div\u003E\u003C/blockquote\u003ENot empty quoting myself.\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-11-05T04:34:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003ECKAN generates a .desktop file? I\u0027ve never noticed that. Oh, there it is in Applications. And yes, mine is the same as yours, and it doesn\u0027t work under Ubuntu\u0027s Unity Desktop either. There\u0027s no ckan icon, too.\u003Cp\u003EI have a script that I double-click on to launch CKAN. But taking that file and modifying it to this works perfectly.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI too have fixed the file for my own purposes, and set it immutable so ckan can\u0027t overwrite it with garbage every startup. It\u0027d be real nice if this could be fixed in \u003Cem\u003Eckan\u003C/em\u003E though, it should be pretty easy to do.\u003C/p\u003E\u003Cp\u003EWhoever added that \u0027feature\u0027 clearly didn\u0027t test it very well, it can\u0027t have worked on day 1. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 alt=\u0022:huh:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EDoes CKAN allow me to override the silly \u0022WILL NOT DELETE\u0022 safety mechanism via command line or option? I often run HEAD on RSS, RO, and RP-0 long before an update and it\u0027d be nice if I could update to the latest without having to remember to manually delete directories and such.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u002B1\u003C/p\u003E\u003Cp\u003ESome \u0027--force\u0027 command-line switch would be real nice.\u003C/p\u003E\u003Cp\u003EWhile on the topic, how about some \u0027--verbose\u0027 too? and some history so I can see what (files) have been updated and when? ATM I\u0027m relying on filesystem snapshots to see what ckan changed, but it\u0027s not ideal.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-11-05T09:57:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003EFor reference, the \u003Ca href=\u0022http://standards.freedesktop.org/desktop-entry-spec/latest/ar01s02.html\u0022 rel=\u0022external nofollow\u0022\u003Efreedesktop standard\u003C/a\u003E. The file ckan generates is incorrect, note the \u003Cem\u003Elack of whitespace\u003C/em\u003E between \u0027key=value\u0027 pairs in the official spec.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe spec in that link says\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ESpace before and after the equals sign should be ignored; the = sign is the actual delimiter.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe file CKAN is generating is correct. Your problem seems to be this part of your error log:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EThe desktop entry file \u0022/home/steve/.local/share/applications/ckan-handler.desktop\u0022 has Type= \u0022 Application\u0022 instead of \u0022Application\u0022 or \u0022Service\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhich seems to line up with the behaviour described in \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN/issues/1498\u0022 rel=\u0022external nofollow\u0022\u003Eissue 1498\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-06T09:54:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003EI too have fixed the file for my own purposes, and set it immutable so ckan can\u0027t overwrite it with garbage every startup. \u003C/div\u003E\u003C/blockquote\u003EI\u0027m pretty sure it only rewrites those on every CKAN update, not every startup.\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-11-06T21:42:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EDoes CKAN allow me to override the silly \u0022WILL NOT DELETE\u0022 safety mechanism via command line or option? I often run HEAD on RSS, RO, and RP-0 long before an update and it\u0027d be nice if I could update to the latest without having to remember to manually delete directories and such.\u003C/div\u003E\u003C/blockquote\u003EIs this like one of those issues that someone somewhere discussed in depth to death and everyone is just expected to know why it\u0027s done the way it\u0027s done and that\u0027s why no one\u0027s even bothered to acknowledge the question?\u003Cp\u003EI\u0027ll just ping pjf on IRC or something, clearly it\u0027s too much trouble to even throw me a link to an old conversation. Thanks.\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-11-07T04:25:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003EI\u0027m pretty sure it only rewrites those on every CKAN update, not every startup.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, it\u0027s writing to both ~/.local/share/applications/ckan-handler.desktop \u0026amp; ~/.local/share/applications/mimeapps.list every time \u003Cem\u003EI\u003C/em\u003E start it - so say both filesystem timestamps and strace.\u003C/p\u003E\u003Cp\u003EA cursory look at the code sees a remove \u0026amp; recreate in RegisterURLHandler_Linux but I don\u0027t see the conditional for the dialog check in Main... or know C# \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E. \u003C/p\u003E\u003Cp\u003ERemoving GUIConfig.xml gives me \u0022allow autoupdates\u0022(Y) and \u0022update on startup\u0022(N) confirmation dialogs, but that\u0027s all. - ckan-handler.desktop is simply written again without prompting.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EThe file CKAN is generating is correct.\u003C/div\u003E\u003C/blockquote\u003EGiven that no other .desktop file on my system has the formatting ckan-handler.desktop has, I\u0027d say it\u0027s a good bet that ckan is wrong - which explains why its file doesn\u0027t work on KDE, Gnome, or Unity. \u003Cp\u003EIt also explains why removing those spaces makes it work, but the irritating bonus is that ckan overwrites the file on startup.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-07T04:38:16Z\u0022 title=\u002211/07/2015 04:38  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 7, 2015\u003C/time\u003E by steve_v\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-08T03:08:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EIs this like one of those issues that someone somewhere discussed in depth to death and everyone is just expected to know why it\u0027s done the way it\u0027s done and that\u0027s why no one\u0027s even bothered to acknowledge the question?\u003Cp\u003EI\u0027ll just ping pjf on IRC or something, clearly it\u0027s too much trouble to even throw me a link to an old conversation. Thanks.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003ESorry, I\u0027d have answered, but I really don\u0027t know why the decision was made, or where the discussion is. I\u0027m also not entirely sure what you meant about what you were doing with your mods. It may be that the philosophy behind CKAN just isn\u0027t suited to what you want to do.\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003EWell, it\u0027s writing to both ~/.local/share/applications/ckan-handler.desktop \u0026amp; ~/.local/share/applications/mimeapps.list every time \u003Cem\u003EI\u003C/em\u003E start it - so say both filesystem timestamps and strace.\u003Cp\u003EA cursory look at the code sees a remove \u0026amp; recreate in RegisterURLHandler_Linux but I don\u0027t see the conditional for the dialog check in Main... or know C# \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E. \u003C/p\u003E\u003Cp\u003ERemoving GUIConfig.xml gives me \u0022allow autoupdates\u0022(Y) and \u0022update on startup\u0022(N) confirmation dialogs, but that\u0027s all. - ckan-handler.desktop is simply written again without prompting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EThat\u0027s odd. The timestamps on my files match with the last new CKAN version I installed. I\u0027ve made a new ckan.desktop file, so it won\u0027t be overwritten. You could chown ckan-handler.desktop to another userid to prevent ckan over-writing it, I suppose.\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003EGiven that no other .desktop file on my system has the formatting ckan-handler.desktop has, I\u0027d say it\u0027s a good bet that ckan is wrong - which explains why its file doesn\u0027t work on KDE, Gnome, or Unity. \u003Cp\u003EIt also explains why removing those spaces makes it work, but the irritating bonus is that ckan overwrites the file on startup.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EI think the upshot of that issue is that it will be fixed. It might be more correct to say that both our desktop environments are ignoring that part of the freedesktop spec, but there\u0027s a point where you have to stop denying reality, and accept that specs aren\u0027t always perfect.\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-11-08T07:07:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003EThe timestamps on my files match with the last new CKAN version I installed. I\u0027ve made a new ckan.desktop file, so it won\u0027t be overwritten. You could chown ckan-handler.desktop to another userid to prevent ckan over-writing it, I suppose.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure what\u0027s going on here, it\u0027s most definitely writing those files at every startup... and overwriting my changes. \u003C/p\u003E\u003Cp\u003EUsing filesystem permissions to make the files un-writeable by ckan is a short-term solution at best - other things may need to write mimeapps.list, and it\u0027ll cause grief later on when I forget what I did.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EI think the upshot of that issue is that it will be fixed.\u003C/div\u003E\u003C/blockquote\u003EExcellent.\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-08T09:28:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steve_v\u0022 data-cite=\u0022steve_v\u0022\u003E\u003Cdiv\u003ENot sure what\u0027s going on here, it\u0027s most definitely writing those files at every startup... and overwriting my changes. \u003Cp\u003EUsing filesystem permissions to make the files un-writeable by ckan is a short-term solution at best - other things may need to write mimeapps.list, and it\u0027ll cause grief later on when I forget what I did.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EYou could create a dummy user and group that the CKAN executable is setuid/setgid for, and then chown the CKAN directory to that group? I think that\u0027d work.\u003Cp\u003EEDIT: Sorry, I meant chown the KSP directory to the group.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-09T09:05:23Z\u0022 title=\u002211/09/2015 09:05  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 9, 2015\u003C/time\u003E by politas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2015-11-08T18:47:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003ESorry, I\u0027d have answered, but I really don\u0027t know why the decision was made, or where the discussion is. I\u0027m also not entirely sure what you meant about what you were doing with your mods. It may be that the philosophy behind CKAN just isn\u0027t suited to what you want to do.\u003C/div\u003E\u003C/blockquote\u003ECKAN never deletes files within GameData so, if I\u0027m running Realism Overhaul off of Github HEAD (that is, the development version, which I do sometimes for several reasons including making patches), I can\u0027t update using CKAN when the latest version is released because files that CKAN doesn\u0027t know about may still be in GameData. Therefore, I have to manually delete the RO directory before updating using CKAN. It\u0027s a bit annoying.\u003Cp\u003EAnother thing that would be nice, especially for those of us who actively test and mod, is to allow removal of a mod without removing the mods that it depends on. For instance, I manually downgraded Real Fuels to 10.6.1 but on refresh CKAN still thinks we\u0027re on 10.7.1. I unchecked it from the list and went to remove it and CKAN wanted to remove half of my install. That\u0027s a ... kind of mean thing to do to someone who might just want to reinstall an update.\u003C/p\u003E\n"},{"CreatedByName":"Sophistry","CreatedById":106653,"CreatedDateTime":"2015-11-08T21:23:51Z","Content":"\n\u003Cp\u003EHi, I\u0027ve just done a clean KSP install and a clean CKAN install. However I get an error message when I open up CKAN: \u0022Error in autoupdate: Unable to connect to the remote server\u0022.\u003C/p\u003E\u003Cp\u003EIt seems to be a bit more than the CKAN autoupdate, as I don\u0027t seem to get a modlist either. This has persisted after several reinstalls and restarts of both the program and my computer. Hopefully I\u0027m just doing something daft.\u003C/p\u003E\u003Cp\u003EThanks for any help\u003C/p\u003E\u003Cp\u003EEDIT: Fixed by moving CKAN into the KSP directory. Sorry, I didn\u0027t find the troubleshooting page until after this post! I wonder why that works.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-08T22:04:30Z\u0022 title=\u002211/08/2015 10:04  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 8, 2015\u003C/time\u003E by Sophistry\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2015-11-09T09:01:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003ECKAN never deletes files within GameData so, if I\u0027m running Realism Overhaul off of Github HEAD (that is, the development version, which I do sometimes for several reasons including making patches), I can\u0027t update using CKAN when the latest version is released because files that CKAN doesn\u0027t know about may still be in GameData. Therefore, I have to manually delete the RO directory before updating using CKAN. It\u0027s a bit annoying.\u003C/div\u003E\u003C/blockquote\u003EAh, ok, that\u0027s what you meant by running them in HEAD. Wouldn\u0027t it be easier to have a development KSP install and a gameplay KSP install, and only use CKAN for the gameplay install? I would think you\u0027re courting problems in your savegames with advancing and reverting versions. CKAN really isn\u0027t aimed at developer use, or for bleeding-edge users. That would seem to be the kind of edge case that should be worked on after the basics of dealing with ordinary users with little computing knowledge is really rock-solid, which it really isn\u0027t, yet.\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EAnother thing that would be nice, especially for those of us who actively test and mod, is to allow removal of a mod without removing the mods that it depends on. For instance, I manually downgraded Real Fuels to 10.6.1 but on refresh CKAN still thinks we\u0027re on 10.7.1. I unchecked it from the list and went to remove it and CKAN wanted to remove half of my install. That\u0027s a ... kind of mean thing to do to someone who might just want to reinstall an update.\u003C/div\u003E\u003C/blockquote\u003EYou can manually deselect and reselect mods, which will then put them into \u0022selected by user\u0022 mode rather than \u0022installed as a dependency\u0022 when you update. It\u0027ll still remove RO if you remove RealFuels, but all the other mods RO depends on won\u0027t get removed.\n"},{"CreatedByName":"inigma","CreatedById":69310,"CreatedDateTime":"2015-11-09T15:55:50Z","Content":"\n\u003Cp\u003EIs there a place to publish one\u0027s ckan export meta file for others to enjoy (as sort of like a well played and tested mod list?)\u003C/p\u003E\n"},{"CreatedByName":"kendoka15","CreatedById":85678,"CreatedDateTime":"2015-11-10T00:50:12Z","Content":"\n\u003Cp\u003EWith 1.0.5, half if not more of the modlist isn\u0027t showing up. Is this normal behavior? I started using CKAN with 1.0.4 so have never had to deal with a new version.\u003C/p\u003E\u003Cp\u003E(If so, it\u0027s weird considering many 1.0.4 mods are in fact showing up)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-10T00:54:08Z\u0022 title=\u002211/10/2015 12:54  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 10, 2015\u003C/time\u003E by kendoka15\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"flyfire29","CreatedById":152620,"CreatedDateTime":"2015-11-10T01:14:03Z","Content":"\n\u003Cp\u003EI just downloaded CKAN and am getting the error message \u0022Failed to download [file name], could not establish trust relationship for SSL/TSL secure channel\u0022. I\u0027m on windows, and not having any trouble going in and manually downloading mods. What\u0027s the workaround/solution for this?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-10T01:43:59Z\u0022 title=\u002211/10/2015 01:43  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 10, 2015\u003C/time\u003E by flyfire29\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"krmcginnis","CreatedById":111134,"CreatedDateTime":"2015-11-10T02:36:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kendoka15\u0022 data-cite=\u0022kendoka15\u0022\u003E\u003Cdiv\u003EWith 1.0.5, half if not more of the modlist isn\u0027t showing up. Is this normal behavior? I started using CKAN with 1.0.4 so have never had to deal with a new version.\u003Cp\u003E(If so, it\u0027s weird considering many 1.0.4 mods are in fact showing up)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou have to click where it says, \u0022Filter\u0022 and select \u0022All\u0022 instead of \u0022Compatible\u0022.\u003C/p\u003E\n"}]}