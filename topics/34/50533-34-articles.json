{"TopicId":50533,"ForumId":34,"TopicTitle":"[1.8.x-1.12.x] Module Manager 4.2.3 (July 03th 2023) - Fireworks season","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2013-10-25T13:01:36Z","PageNum":34,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-05-10T00:55:08Z","Content":"\n\u003Cp\u003EStarwaster : \u003C/p\u003E\u003Cp\u003EIf you want it to apply the patch only if FAR is here then you need both the AFTER and NEED\u003C/p\u003E\u003Cp\u003EIt you use only after then the patch will apply even if FAR is not here ( but after FAR patch if it\u0027s here)\u003C/p\u003E\u003Cp\u003EIf you use only NEED the patch will apply only if FAR is here but not not after FAR\u003C/p\u003E\u003Cp\u003E----------------------------------------------------------------------------------------------------------\u003C/p\u003E\u003Cp\u003ESwamp_ig finished the last batch of change to MM and 2.1.1 is ready. I need volunteers to test it before we release it.\u003C/p\u003E\u003Cp\u003EFirst a short version of what change in this : \u003C/p\u003E\u003Cp\u003E - the code that make sure the module order stays the same after MM applied its patch is still in\u003C/p\u003E\u003Cp\u003E - a new Savegame fixed was added. it makes sure that your module order in the save game is the same as the one in the game memory\u003C/p\u003E\u003Cp\u003E - more, but it\u0027s 2:39 AM here, and it\u0027s the short version.\u003C/p\u003E\u003Cp\u003EJust before you get to KSP main menu MM will check all you saves and \u0022fix\u0022 them. Since we are careful all file that are changed by that process are backuped before in the KSP\\saves_backup\\xxxxxxxx-xxxxxx directory. With the x being the date and time. \u003C/p\u003E\u003Cp\u003Ewe need some to test that and make sure MM does not mess up thing (I did some testing myself and some bug were fixed, I am quite sure it works fine now).\u003C/p\u003E\u003Cp\u003EIf you want to test, and feel up to it please : \u003C/p\u003E\u003Cp\u003E - BACKUP your saves. MM does it too, but it\u0027s better to do it since you may find a nasty bug related to the save process. ( I am quite sure the backup works fine )\u003C/p\u003E\u003Cp\u003E - get version 2.1.1 here : \u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/ModuleManager/lastSuccessfulBuild/artifact/jenkins-ModuleManager-26/ModuleManager.2.1.1.dll\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager.2.1.1.dll\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E - play the game\u003C/p\u003E\u003Cp\u003E - come back to us if you find a bug you think is related to the new MM\u003C/p\u003E\u003Cp\u003EOnce more : \u003C/p\u003E\u003Cp\u003E A) This is a test version\u003C/p\u003E\u003Cp\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E Backup yours saves\u003C/p\u003E\u003Cp\u003E C) Don\u0027t expect me to shed a tear if you found a bug and did not backup your game.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-10T10:51:08Z\u0022 title=\u002205/10/2014 10:51  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 10, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Woopert","CreatedById":84274,"CreatedDateTime":"2014-05-10T00:57:50Z","Content":"\n\u003Cp\u003Esarbian: If I\u0027m seeing no visible \u0022symptoms\u0022 of save corruption does that mean it\u0027s not corrupted? I have a backup from a week ago but the current save that I had going, and installed 2.1.0 on, is that corrupted?\u003C/p\u003E\u003Cp\u003EHow will you know when a save is corrupted?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-05-10T04:00:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Woopert\u0022 data-cite=\u0022Woopert\u0022\u003E\u003Cdiv\u003Esarbian: If I\u0027m seeing no visible \u0022symptoms\u0022 of save corruption does that mean it\u0027s not corrupted? I have a backup from a week ago but the current save that I had going, and installed 2.1.0 on, is that corrupted?\u003Cp\u003EHow will you know when a save is corrupted?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOoooooh, you\u0027ll know.\u003C/p\u003E\u003Cp\u003EYou\u0027ll know when you try to switch to a craft and it apparently explodes for no reason at all. (but probably didn\u0027t really explode because if you switch away and then back it\u0027s still intact)\u003C/p\u003E\u003Cp\u003EYou\u0027ll know if time freezes. The planet no longer passes by beneath the ship.\u003C/p\u003E\u003Cp\u003EYou\u0027ll know when you\u0027re not able to get a context menu from any part of the ship.\u003C/p\u003E\u003Cp\u003EWhen dogs and cats are living together. \u003C/p\u003E\u003Cp\u003E\u003Cem\u003EMass hysteria!\u003C/em\u003E\u003C/p\u003E\u003Cp\u003E(although we say the save is corrupted, the damage is generally confined to specific affected craft. Destruct them from the Space Center)\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-05-10T06:14:49Z","Content":"\n\u003Cp\u003ECan someone give me a hand with these configs? I\u0027m trying to remove the Oxidizer propellant from my nuclear engines:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[ltby5000]:Final\u003Cbr\u003E{\u003Cbr\u003E    @MODULE[ModuleEngines]\u003Cbr\u003E    {\u003Cbr\u003E\t@PROPELLANT[LiquidFuel]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@ratio = 1.0\u003Cbr\u003E\t}\u003Cbr\u003E\t!PROPELLANT[Oxidizer] {}\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m using 2.0.8, should I upgrade to fix or just because? TIA\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-10T06:36:10Z","Content":"\n\u003Cp\u003EIs it possible to use a logical OR function in dependency checking? I\u0027d like to apply a FusTek station parts patch that adds RocketParts to the warehouse (for some reason, it doesn\u0027t contain them by default). Doing that for myself is fine, but to share it, it would need to do a check for one of two possible loaded dlls, OrbitalConstruction OR Launchpad. Having only one or both should apply the patch, having neither shouldn\u0027t.\u003C/p\u003E\u003Cp\u003EAs I understand it, the \u0022,\u0022 character denotes an AND. Perhaps using \u0022|\u0022 (borrowed from POSIX regex) would be useful for an OR. Preferably globally for all things, so we could do something like say, \u0022@MODULE[ModuleEngines|ModuleEnginesFX]\u0022 and the like.\u003C/p\u003E\u003Cp\u003EOr just allow for regular expressions for everything and be done with it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-10T07:08:52Z\u0022 title=\u002205/10/2014 07:08  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 10, 2014\u003C/time\u003E by phoenix_ca\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-05-10T10:36:50Z","Content":"\n\u003Cp\u003EWoopert : as Starwaster explained corruption can be quite visible, or quite subtle. On my save I have lander unable to undock from their base. While searching for a (fixed) bug in this version I had my station cut it self at each docking port on load. The less mod that adds module you use the less chance anything was corrupted. Using tweakable everything or a mechanic is jeb increase stakes a bit \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (let me repeat that it is a bug with MM and not with those mod)\u003C/p\u003E\u003Cp\u003EI hope your save is fine anyway. \u003C/p\u003E\u003Cp\u003Eregex : the @ratio is not working here too. Looking into it.\u003C/p\u003E\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003ERegex : it\u0027s was a bug. Either revert to \u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/ModuleManager/lastSuccessfulBuild/artifact/jenkins-ModuleManager-6/ModuleManager-2.0.7.zip\u0022 rel=\u0022external nofollow\u0022\u003E2.0.7\u003C/a\u003E (bug free) or get the newest 2.1.1.\u003C/p\u003E\u003Cp\u003EAn new version of 2.1.1 is out, without that bug : \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://ksp.sarbian.com/jenkins/job/ModuleManager/lastSuccessfulBuild/artifact/jenkins-ModuleManager-26/ModuleManager.2.1.1.dll\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://ksp.sarbian.com/jenkins/job/ModuleManager/lastSuccessfulBuild/artifact/jenkins-ModuleManager-26/ModuleManager.2.1.1.dll\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-10T10:50:10Z\u0022 title=\u002205/10/2014 10:50  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 10, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-05-10T11:02:50Z","Content":"\n\u003Cp\u003ELooks like some real hard work with the new version, the dll size increased by 50%.\u003C/p\u003E\u003Cp\u003EHope you got some spare time in between, and Thanks for the new version.\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-10T14:48:11Z","Content":"\n\u003Cp\u003EDon\u0027t rush out and get 2.1.1 because I\u0027ve done a fair few improvements and bug fixes for:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/releases/download/v2.1.2/ModuleManager.2.1.2.dll\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ERelease 2.1.2\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis has some major new features that you\u0027ll never want to be without \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. \u003C/p\u003E\u003Cp\u003EI\u0027ll post something more detailed up tomorrow after I\u0027ve slept.\u003C/p\u003E\u003Cp\u003EI\u0027d appreciate anyone willing to take it for a spin and see \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003Ehow badly it crashes\u003C/span\u003E how amazingly well it works.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EWARNING\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis version will mess with your save files - that\u0027s saved craft and save games.\u003C/p\u003E\u003Cp\u003EIt does take backups of everything that it touches, but you might be well advised to keep your own backup too.\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-10T14:52:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022phoenix_ca\u0022 data-cite=\u0022phoenix_ca\u0022\u003E\u003Cdiv\u003EIs it possible to use a logical OR function in dependency checking? I\u0027d like to apply a FusTek station parts patch that adds RocketParts to the warehouse (for some reason, it doesn\u0027t contain them by default). Doing that for myself is fine, but to share it, it would need to do a check for one of two possible loaded dlls, OrbitalConstruction OR Launchpad. Having only one or both should apply the patch, having neither shouldn\u0027t.\u003Cp\u003EAs I understand it, the \u0022,\u0022 character denotes an AND. Perhaps using \u0022|\u0022 (borrowed from POSIX regex) would be useful for an OR. Preferably globally for all things, so we could do something like say, \u0022@MODULE[ModuleEngines|ModuleEnginesFX]\u0022 and the like.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is indeed implemented, but only for dependencies (NEEDS) You can use either , (comma) or \u0026amp; for and, and | for or. Note that \u0026amp; has lower precedence, so:\u003C/p\u003E\u003Cp\u003EMod1|Mod2\u0026amp;Mod3|Mod4 =\u0026gt; ( Mod1 OR Mod2) AND ( Mod3 OR Mod4 )\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-10T14:56:03Z\u0022 title=\u002205/10/2014 02:56  PM\u0022 data-short=\u002210 yr\u0022\u003EMay 10, 2014\u003C/time\u003E by swamp_ig\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-05-10T15:06:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022swamp_ig\u0022 data-cite=\u0022swamp_ig\u0022\u003E\u003Cdiv\u003EDon\u0027t rush out and get 2.1.1 because I\u0027ve done a fair few improvements and bug fixes for:\u003Cp\u003E\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/releases/download/v2.1.2/ModuleManager.2.1.2.dll\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ERelease 2.1.2\u003C/span\u003E\u003C/strong\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EWARNING\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis version will mess with your save files - that\u0027s saved craft and save games.\u003C/p\u003E\u003Cp\u003EIt does take backups of everything that it touches, but you might be well advised to keep your own backup too.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs it a feature of a bug?\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-10T15:06:02Z","Content":"\n\u003Cp\u003ENo way of reversing that priority? Just curious. I can\u0027t think of a use-case now for such logic being necessary and I doubt it\u0027d ever happen but still. When you have the chance it\u0027d be helpful to add that information about the \u0026amp; and | operators for dependency checks to the second post. It\u0027s rather conspicuously missing. \u0026gt;.\u0026gt;\u003C/p\u003E\u003Cp\u003EOn another note, are you saying that 2.1.2 will mess-up save files started with say, 2.1.1 or 2.1.0? (And how long is this savegame killing going to last? \u0026gt;.\u0026lt; )\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-05-10T16:42:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022swamp_ig\u0022 data-cite=\u0022swamp_ig\u0022\u003E\u003Cdiv\u003EThis version will mess with your save files - that\u0027s saved craft and save games.\u003Cp\u003EIt does take backups of everything that it touches, but you might be well advised to keep your own backup too.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes \u0022mess with\u0022 mean \u0022break forever\u0022 or \u0022do changes to avoid breaking forever, but might not be working at 100% yet so be careful because forever-breaking remains within the realm of possibility until suitable testing has occured\u0022? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-05-10T20:03:43Z","Content":"\n\u003Cp\u003EHe did not mean \u0022mess\u0022 in a bad way. It\u0027s the same as my previous post : this version edits your save files so they work properly even when you add/remove/\u0022oh crap I started without\u0022 a mod.\u003C/p\u003E\n"},{"CreatedByName":"SnappingTurtle","CreatedById":69795,"CreatedDateTime":"2014-05-10T21:14:24Z","Content":"\n\u003Cp\u003E\u00220 unsatisfied needs\u0022? Is MM taunting me now?\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-10T21:46:26Z","Content":"\n\u003Cp\u003EOk, so here\u0027s to put some words behind what the \u0027messing up saves\u0027 is all about.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EThe Problem\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESpaceship parts are built up of multiple modules in KSP. Each module is a unit of functionality - for example an engine has a module to manage thrusting and using fuel, one to manage generation of power, and another to throw off the engine fairing when it\u0027s stack attached. The way to add functionality to different parts is to add new modules that do whatever it is you\u0027re trying to do - so real fuels for example will add its own engine logic to all engines in the game, and some other engine modifying mod may well do the same.\u003C/p\u003E\u003Cp\u003EWhen you load up or save a part, each module gets saved to the save file (that\u0027s a .craft for the VAB, and an .sft file for launched ships) in a particular order. This order is expected to remain constant \u003Cstrong\u003Eforever\u003C/strong\u003E by KSP. If you add a module to this list, then not only will that module not reload from the save file, but all the modules after it won\u0027t load up correctly either. Not only does it break existing saves, but it breaks them in a way that if you load up the ship, realize you\u0027ve stuffed up, and then try and reinstall or uninstall the mod you were using, the save is broken permanently and can\u0027t be repaired (unless you happened to keep your own backup).\u003C/p\u003E\u003Cp\u003EBecause the whole purpose of MM is to mess with existing parts, any mod that adds its own module through MM will potentially mess up the save games, which isn\u0027t ideal. Obviously this is a bug in KSP, and really would ideally get fixed, but we won\u0027t get into that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EThe Fix\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EMM now contains code to stop this problem from happening. What happens is that after you load up KSP, but before it gets a chance to break all your save games, MM runs through all the existing save files and reorders the modules within them to match whatever order they\u0027ve been set up as in memory (post MM usual editing steps). This will prevent the issue from happening completely, so you can add mods and remove them at any time, safe in the knowledge that you won\u0027t be breaking the save games.\u003C/p\u003E\u003Cp\u003EWhenever it does this, MM will store a backup of the .craft or .sfs file that has been touched, along with a log of what it has done to the part. This is saved in the root of your KSP install, under saves_backup/YYYYMMDD-HHMMSS/ (dates and times as of the time of loading KSP). It\u0027s pretty aggressive about creating this backup at the moment, but we may be able to back-off on some of the backing up for changes that just reorder things rather than removing stuff in the future. \u003C/p\u003E\u003Cp\u003EThis backup is also created whenever you have a missing part on a ship. Normally KSP would just destroy the ship and it would be gone forever, so that is handy too.\u003C/p\u003E\u003Cp\u003EAnother feature of this is that if you ever uninstall a mod that adds modules to parts, the save fixer will store the saved state from that module with the part. If you decide you want to reinstall the mod again, the backup of the config will be restored automatically. This is handy if say you\u0027re a mod developer and you like to swap real fuels in and out.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EThe other problem\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EBecause the old version of MM didn\u0027t have this behaviour, it\u0027s possible that there might be a bit of weirdness when you first load up your saves. Because there\u0027s a huge number of mods out there, we can\u0027t possibly test everything. This phase of experimental release is really about seeing what happens. \u003C/p\u003E\u003Cp\u003EThis functionality is really here to stay, and will be an important feature of MM ongoing. Please let me know if you have any issues.\u003C/p\u003E\n"},{"CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-05-10T22:39:35Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EA primer on how KSP configures itself\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EKSP uses ConfigNodes extensively for all aspects of configuration. The main way in which modders interact with these is in the configuration of parts. \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/User:Greys\u0022 rel=\u0022external nofollow\u0022\u003EThere\u0027s a fair bit of documentation about this elsewhere\u003C/a\u003E, but for the purposes of this document I\u0027ll define a few things:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// This is a top level node. Note the name with curly brackets afterwards.\u003Cbr\u003EPART\u003Cbr\u003E{\u003Cbr\u003E    // This is the name value. It\u0027s just a standard name/value pair, but any of these named \u0027name\u0027 \u003Cbr\u003E    // is treated a bit special by MM\u003Cbr\u003E    name = myPart\u003Cbr\u003E\u003Cbr\u003E    // This is another value. Note name = value . You can\u0027t have a name without a value, \u003Cbr\u003E    // but you can have a value without a name (treated as the empty string for name )\u003Cbr\u003E    module = Part\u003Cbr\u003E\u003Cbr\u003E    // This is a node named \u0027MODULE\u0027. It\u0027s a collection of further values and modules\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEngines\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E// This is a patch. Note the prefix - this will be one of  \u0027@\u0027 for edit, \u0027\u002B\u0027 or \u0027$\u0027 for copy, \u003Cbr\u003E// \u0027-\u0027 or \u0027!\u0027 for delete, \u0027%\u0027 for replace. A patch takes some pre-existing top level node, and modifies it\u003Cbr\u003E@PART[myPart]\u003Cbr\u003E{\u003Cbr\u003E    // Edit the value with name \u0027module\u0027\u003Cbr\u003E    @module = PartEnhanced\u003Cbr\u003E\u003Cbr\u003E    // Delete all \u0027MODULE\u0027 nodes.\u003Cbr\u003E    -MODULE,* { }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EMod dependency checking\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EYou can now put a NEEDS section on any section of your file. This isn\u0027t just MM patches, it can be literally anywhere - on values, on nodes, on patches, wherever you like. (this enhanced behaviour is new)\u003C/p\u003E\u003Cp\u003EAn example:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPART:NEEDS[RealFuels|ModularFuelSystem]\u003Cbr\u003E{\u003Cbr\u003E    name = myPartName\u003Cbr\u003E\u003Cbr\u003E    description:NEEDS[RealFuels] = This part is used in real fuels\u003Cbr\u003E    description:NEEDS[ModularFuelSystem] = This part is used in modular fuel system\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo what this means is the part will only be defined if RealFuels OR ModularFuelSystem is present.\u003C/p\u003E\u003Cp\u003EThere\u0027s two alternatives for the description field, based on what\u0027s present.\u003C/p\u003E\u003Cp\u003EThis is handy if you\u0027re a mod developer and you want to create parts that vary a bit depending on what\u0027s installed.\u003C/p\u003E\u003Cp\u003EThe stuff within the needs section is based on either: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EA plugin .dll with the same name (not including dotted extensions) so you\u0027d always get ModuleManager.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EA FOR[blah] defined would allow NEEDS[blah]\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe old , listed operator is still supported, and is treated as an alias for \u0026amp; (AND). If you combine several | and \u0026amp;, eg NEEDS[Mod1|Mod2\u0026amp;Mod3|Mod4] this is treated as ( Mod1 OR Mod2 ) AND ( Mod3 OR Mod4 ). I won\u0027t be implementing brackets, it would make the parser far too complicated. There\u0027s always a way to represent what you want in this form, although it might need a few repeated terms, but I\u0027m not sure I can truly see much of a use case for anything super complex.\u003C/p\u003E\u003Cp\u003EIn the below stuff, I\u0027ve not put in the NEEDS section for clarity, however you can use it wherever you like.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EOperators available in patches - and their ordering\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe general form of a patch for values is:\u003C/p\u003E\u003Cp\u003E\u0026lt;Op\u0026gt;\u0026lt;Name-With-Wildcards\u0026gt;(,\u0026lt;index\u0026gt;)?\u003C/p\u003E\u003Cp\u003ESo breaking this down:\u003C/p\u003E\u003Cp\u003E\u0026lt;Op\u0026gt; : One of: nothing for insert, \u0027@\u0027 for edit, \u0027\u002B\u0027 or \u0027$\u0027 for copy, \u0027-\u0027 or \u0027!\u0027 for delete, \u0027%\u0027 for replace.\u003C/p\u003E\u003Cp\u003E\u0026lt;Name-With-Wildcards\u0026gt; : The name of the value you\u0027ll be messing with. Wildcards are not always available for every Op. \u003C/p\u003E\u003Cp\u003E(,\u0026lt;index\u0026gt;)? : Optional index. Again, not available with every option. Not that these indexes are \u003Cem\u003Ewith respect to all name matches\u003C/em\u003E not the total index in the node. I will support negative indexes for running backwards through the list soon. Also * is not yet supported.\u003C/p\u003E\u003Cp\u003EWildcards include ? for any character, and * for any number of chars. Note that \u003Cem\u003Eonly alphanumeric chars\u003C/em\u003E are allowed in value names for patches. If you have spaces or any other char, use a ? to match it. \u003C/p\u003E\u003Cp\u003EThe general form for nodes is:\u003C/p\u003E\u003Cp\u003E\u0026lt;Op\u0026gt;\u0026lt;NodeType\u0026gt;([\u0026lt;NodeNameWithWildcards\u0026gt;])?(:HAS[\u0026lt;has block\u0026gt;])?(,\u0026lt;index-or-*\u0026gt;)?\u003C/p\u003E\u003Cp\u003E\u0026lt;Op\u0026gt; : Operator, as above\u003C/p\u003E\u003Cp\u003E\u0026lt;NodeType\u0026gt; : typically MODULE or something like it. Wildcards not allowed (I can\u0027t imagine you\u0027d need them)\u003C/p\u003E\u003Cp\u003E([\u0026lt;NodeNameWithWildcards\u0026gt;])? : This is a wildcard match for the name = \u0026lt;name\u0026gt; value within the node. Optional.\u003C/p\u003E\u003Cp\u003E(:HAS[\u0026lt;has block\u0026gt;])? : Optional has block. You can\u0027t (currently) use indexes with HAS. This has been described previously. If this is present then all matches will be matched, there\u0027s no indexing available currently.\u003C/p\u003E\u003Cp\u003E(,\u0026lt;index-or-*\u0026gt;)? : Index to select particular match zero based. 0 is the first node, -1 is last node. Values \u0027off the end\u0027 will match the end, so large positive matches the end and large negative matches the beginning. Again this matches \u003Cem\u003Eagainst everything the wildcard selects in order\u003C/em\u003E. * here will match everything.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EInsert\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EInsert is the default operator - it\u0027s what you get if you don\u0027t specify anything. You can now specify the index at which you\u0027d like to insert your bit of config, otherwise it defaults to the end of the list\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[partName] \u003Cbr\u003E{\u003Cbr\u003E    node_stack_atend = 0.0, 7.21461, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E    node_stack_atstart,0 =0.0, -7.21461, 0.0, 0.0, -1.0, 0.0  \u003Cbr\u003E    MODULE,0 \u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleSomething\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will add an extra value called node_stack_atend at the end of the list, another value node_stack_atstart at the start, and insert a new module first in the list. \u003C/p\u003E\u003Cp\u003EObviously wildcards, * indexes, and other stuff isn\u0027t available. Just the value or node name.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EEdit - @\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EEdits the node or value in place. The order \u003Cem\u003Ewill not change\u003C/em\u003E (new since 2.0.9 ish). \u003C/p\u003E\u003Cp\u003EFor nodes, all options are available to select the node, including indexes, * index, HAS, and wildcards in the name. If there are multiple matches and the index is not supplied, this will default editing all matches. \u003C/p\u003E\u003Cp\u003EExample\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@MMTEST[nodeEdit]\u003Cbr\u003E{\u003Cbr\u003E\t// edit by name, will select the first one if multiple nodes with same name\u003Cbr\u003E\t@MODULE[module2]\t{ ... }\u003Cbr\u003E\t// edit by index - will edit the second module (0 based indexing )\u003Cbr\u003E\t@MODULE,1 { ... }\u003Cbr\u003E\t// edit by name and index - will edit the second module with name=module2\u003Cbr\u003E\t@MODULE[module2],1 { ... }\u003Cbr\u003E\t// edit by wildcard and index - will edit the sixth module with name ending with 2. If there\u0027s no fifth, edit the last one defined\u003Cbr\u003E\t@MODULE[*2],5 { ... }\u003Cbr\u003E\t// edit by wildcard and index - edit the last module with three letter name starting with c\u003Cbr\u003E\t@MODULE[c??],-1 { ... }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor values you additionally have the option of a replacement based on the existing node value, including standard arithmetic operators plus regular expressions for strings. Note: \u003Cem\u003Eif no index is specified, only the first match will be edited\u003C/em\u003E. Once ,* is implemented, then this behaviour should really change to all matches by default, so maybe would be a good idea for patch maintainers to move to using ,0 explicitly.\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[somePart1]\u003Cbr\u003E{\u003Cbr\u003E\t// Unindexed - edits the first\u003Cbr\u003E\t@name = somePart2\u003Cbr\u003E\t// Arithmetic - add 5 and multiply by 20. Unindexed so edits the first one.\u003Cbr\u003E\t@numeric \u002B= 5\u003Cbr\u003E\t@numeric *= 20\u003Cbr\u003E\t// Regexp expression. Replaces any instance of \u0022tw\u0022 with \u0022mo\u0022, so would turn \u0022twotwo\u0022 into \u0022moomoo\u0022\u003Cbr\u003E        // Note also the index.\u003Cbr\u003E\t@multiVal,1 ^= :tw:mo:\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor regexp, the first character in the list is used as the separator. You can use whatever you like, but : is often a good choice. Obviously ensure that this isn\u0027t present in the regexp expression.\u003C/p\u003E\u003Cp\u003EPlease note \u003Cem\u003EI will not support questions about regexps on this thread!\u003C/em\u003E I assume if you want to use this feature you\u0027re well versed with how regexps work, including the various variants. Please refer to the .net \u003Ca href=\u0022http://msdn.microsoft.com/en-us/library/az24scfc(v=vs.110).aspx\u0022 rel=\u0022external nofollow\u0022\u003Edocumentaton\u003C/a\u003E and/or copious other documentation available on the Internet.\u003C/p\u003E\u003Cp\u003EAnyhow, here\u0027s some useful regexps:\u003C/p\u003E\u003Cp\u003E\u0022:$: Some Extra Stuff:\u0022 $ matches the end of the string, so this is an easy way to add suffixes.\u003C/p\u003E\u003Cp\u003E\u0022:^: Preamble :\u0022 Similar to above. ^ matches the start of a string\u003C/p\u003E\u003Cp\u003E\u0022:^.*$: Preamble $0 Some extra stuff:\u0022 Combining the above. ^.*$ matches the entire input, and $0 will stick it in in the output.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EDelete - ! or -\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDelete a node or value. The order of everything afterwards will obviously drop back one step.\u003C/p\u003E\u003Cp\u003EFor nodes, all options are available to select the node, including indexes, * index, HAS, and wildcards in the name. If there are multiple matches and the index is not supplied, this will default to again to all nodes. \u003C/p\u003E\u003Cp\u003EFor values, again all options available. If no index is specified then all matching values are deleted - \u003Cem\u003EThis differs in behaviour to edit\u003C/em\u003E. I will likely change edit to doing this in the future.\u003C/p\u003E\u003Cp\u003EExample:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@PART[nodeDelete]\u003Cbr\u003E{\u003Cbr\u003E\t// Delete the first copy\u003Cbr\u003E\t-MODULE[module2] {}\u003Cbr\u003E\t// Indexed delete\u003Cbr\u003E\t-MODULE,2 { }\t\u003Cbr\u003E\t// Indexed delete from end\u003Cbr\u003E\t-MODULE,-2 { }\u003Cbr\u003E\t// Indexed delete off end\u003Cbr\u003E\t-MODULE,9999 { }\u003Cbr\u003E\t@MODULE[module1]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t// Unindexed (remove all)\u003Cbr\u003E\t\t-multiVal = dummy\u003Cbr\u003E\t\t// Indexed\u003Cbr\u003E\t\t-multiVal2,0 = dummy\u003Cbr\u003E\t\t// Wildcard\u003Cbr\u003E\t\t-num*ic = dummy\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENote that you still need to use { and } for nodes, and a dummy value for values. If you don\u0027t do this then the parser doesn\u0027t know what it\u0027s dealing with.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ECopy - \u002B or $\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ECopy behaves identically to Edit, however rather than editing the node or value it copies it. It will always put the copy at the end of the list.\u003C/p\u003E\u003Cp\u003ENote that for parts, you must always give a new name or it\u0027s a bit pointless:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u002BPART[myPartName] \u003Cbr\u003E{\u003Cbr\u003E    @name = myNewPartCopy\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EReplace - %\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EThis will edit the value it it exists, otherwise it will create a new value as though this was an insert.\u003C/p\u003E\u003Cp\u003EFor existing nodes this will be identical to edit if the node exists, otherwise it will create an empty node, named as per the node name, and run it through the patch. Obviously because of the insert part, wildcards aren\u0027t allowed because the result wouldn\u0027t make sense. (although this is not flagged as an error in the current build for nodes)\u003C/p\u003E\u003Cp\u003EFor values this is identical to doing a delete and then an insert. Wildcards and indexes are not supported. The delete will delete all matches. This command has quite limited functionality, but it\u0027s there.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003ETest cases / examples\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve created some automated test cases for this build, \u003Ca href=\u0022https://github.com/sarbian/ModuleManager/tree/master/Tests\u0022 rel=\u0022external nofollow\u0022\u003Ethey\u0027re here\u003C/a\u003E. These also double as good examples of how it works.\u003C/p\u003E\u003Cp\u003ELater on I\u0027ll put up another post targeted really towards modders, so they can get the most out of dynamic module adding and removing, but that will do for now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-12T03:56:04Z\u0022 title=\u002205/12/2014 03:56  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 12, 2014\u003C/time\u003E by swamp_ig\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-05-11T10:05:23Z","Content":"\n\u003Cp\u003EAnd to the normal guys that have no clue about coding \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E it means 2.1.1 is now safe to use with any mod, and in the unlikly case something breaks it makes a backup and logs the stuff, yeah Need it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut why isn\u0027t 2.1.1 then the download in the first post and in the title?\u003C/p\u003E\n"},{"CreatedByName":"phoenix_ca","CreatedById":50380,"CreatedDateTime":"2014-05-11T10:31:06Z","Content":"\n\u003Cp\u003EProbably because it still breaks things.\u003C/p\u003E\u003Cp\u003EWhat I really want to know is if I\u0027m starting a new game, should I use 2.1.2? Or should I expect more changes to be made that\u0027ll break things? I assume the answer is no but still...\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-05-11T15:00:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022swamp_ig\u0022 data-cite=\u0022swamp_ig\u0022\u003E\u003Cdiv\u003EThe general form of a patch for values is:\u003Cp\u003E\u0026lt;Op\u0026gt;\u0026lt;Name-With-Wildcards\u0026gt;(,\u0026lt;index\u0026gt;)?\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003Cp\u003EThe general form for nodes is:\u003C/p\u003E\u003Cp\u003E...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the detailed post, it\u0027s much clearer than the original MM instructions. However, do you think you could define (possibly with examples) what you mean by patch and node? This part is pretty confusing to me, and I imagine it would be worse for people who are just starting with MM and aren\u0027t familiar with the file structure.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-05-11T15:51:19Z","Content":"\n\u003Cp\u003EI think my mind is blown now...\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2014-05-11T16:15:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022swamp_ig\u0022 data-cite=\u0022swamp_ig\u0022\u003E\u003Cdiv\u003E...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell dayam. \u003Cem\u003ESalutes swamp_ig.\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-11T18:31:50Z","Content":"\n\u003Cp\u003EHol-eee smokes. Very nice!\u003C/p\u003E\u003Cp\u003EQuick question: you have\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    node_stack_atend = 0.0, 7.21461, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E    node_stack_atstart =0.0, -7.21461, 0.0, 0.0, -1.0, 0.0  \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow does MM know to place one at the end and one at the start? Is the example missing something, or am I?\u003C/p\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-05-11T18:52:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EHol-eee smokes. Very nice!\u003Cp\u003EQuick question: you have\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    node_stack_atend = 0.0, 7.21461, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E    node_stack_atstart =0.0, -7.21461, 0.0, 0.0, -1.0, 0.0  \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow does MM know to place one at the end and one at the start? Is the example missing something, or am I?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat are the attachment nodes and not modules, MM won\u0027t touch them as far as I understood it.\u003C/p\u003E\n"},{"CreatedByName":"ialdabaoth","CreatedById":57270,"CreatedDateTime":"2014-05-11T20:28:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EHol-eee smokes. Very nice!\u003Cp\u003EQuick question: you have\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    node_stack_atend = 0.0, 7.21461, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E    node_stack_atstart =0.0, -7.21461, 0.0, 0.0, -1.0, 0.0  \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHow does MM know to place one at the end and one at the start? Is the example missing something, or am I?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m pretty sure his example is missing; it should look like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E    node_stack_atend = 0.0, 7.21461, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E    node_stack_atstart,0 =0.0, -7.21461, 0.0, 0.0, -1.0, 0.0  \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-05-11T21:14:33Z","Content":"\n\u003Cp\u003EThat\u0027s what I thought. Just wanted confirmation.\u003C/p\u003E\n"}]}