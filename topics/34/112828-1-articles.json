{"TopicId":112828,"ForumId":34,"TopicTitle":"[1.0.2] Solar Panel Action Group!","CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-13T11:08:45Z","PageNum":1,"Articles":[{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-13T11:08:45Z","Content":"Press \u0027P\u0027 to toggle all solar panels on the active ship.\n\nVery simple plugin but saves you from having to manually add them all to an action group.\n\nIdea from [/u/jansenart](http://www.reddit.com/r/KerbalSpaceProgram/comments/39mcmm/suggestion_power_button/) on reddit\n\n* * *\n[Download](http://kerbal.curseforge.com/ksp-mods/231568-solar-panel-action-group)\n[Source](http://pastebin.com/GWQTPXXx)\n\n*All rights Reserved*\n\n**Edited \u003Ctime datetime=\u00222015-06-13T11:12:20Z\u0022 title=\u002206/13/2015 11:12  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 13, 2015\u003C/time\u003E by JoePatrick1**"},{"CreatedByName":"LGRMEP","CreatedById":140803,"CreatedDateTime":"2015-06-13T12:29:21Z","Content":"Awesome! Downloaded."},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-06-13T12:51:02Z","Content":"Get this to work with the module SSTUSolarPanel and I will download."},{"CreatedByName":"Urgante","CreatedById":120746,"CreatedDateTime":"2015-06-13T13:03:06Z","Content":"Simple, yet effective and very welcome.\n\nThanks ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-13T13:04:10Z","Content":"\u003E \n\u003E Get this to work with the module SSTUSolarPanel and I will download.\n\nSSTU? link me to the mod and I can probably get it working"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-06-13T13:10:24Z","Content":"\u003E \n\u003E SSTU? link me to the mod and I can probably get it working\n\n It\u0027s Bacon Labs, and the plugin isn\u0027t available to the public yet. Wait till the next BL update comes out ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"rabidninjawombat","CreatedById":108889,"CreatedDateTime":"2015-06-13T13:16:55Z","Content":"\u003E \n\u003E It\u0027s Bacon Labs, and the plugin isn\u0027t available to the public yet. Wait till the next BL update comes out ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nWell hows he supposed to get it to work with a plugin he cant access ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\nBut awesome little quality of life mod JoePatrick! If i had a nickel for everytime i forgot to put the panels on an action group.....well id be able to at least buy myself a nice steak dinner ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)"},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-13T13:25:07Z","Content":"\u003E \n\u003E It\u0027s Bacon Labs, and the plugin isn\u0027t available to the public yet. Wait till the next BL update comes out ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\n\u003E \n\u003E Well hows he supposed to get it to work with a plugin he cant access \n\u003E But awesome little quality of life mod JoePatrick! If i had a nickel for everytime i forgot to put the panels on an action group.....well id be able to at least buy myself a nice steak dinner\n\nAll I need to get it to work is the name of the module, and the name of the function to extend/retract (assuming it isn\u0027t just Extend() and Retract() like in the stock module)\n\nAlthough I will wait until your mod is released then I will add compatibility - just send me a message or something when it\u0027s released.\n\nThanks for the feedback ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"TheGuguz","CreatedById":109433,"CreatedDateTime":"2015-06-13T14:46:57Z","Content":"I love this little mod !\n\nI request the same thing for RemoteTech antennas (antennae? I\u0027m french so I don\u0027t know if I have to use the american or the british way...), the module name is : ModuleRTAntenna but I think the animation is the stock one (ModuleAnimateGeneric).\n\n**Edited \u003Ctime datetime=\u00222015-06-13T14:51:42Z\u0022 title=\u002206/13/2015 02:51  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 13, 2015\u003C/time\u003E by TheGuguz**"},{"CreatedByName":"jul3q","CreatedById":141642,"CreatedDateTime":"2015-06-13T17:28:38Z","Content":"Please, try to put this to CKAN. It would be greatly appreciated ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-06-13T17:37:49Z","Content":"Downloaded, I\u0027ve suggested something similar in the past here on the forums, glad to finally not have to burn an action group on every vessel for panels."},{"CreatedByName":"BinaryBad","CreatedById":117229,"CreatedDateTime":"2015-06-13T21:23:42Z","Content":"This is one of those tiny mods that\u0027s entirely brilliant. Echo the CKAN comment above. Deserves a permanent place on the roster."},{"CreatedByName":"curtquarquesso","CreatedById":42872,"CreatedDateTime":"2015-06-13T22:01:24Z","Content":"Perfect. Hope this gets picked up and made stock like Floor-It did. It\u0027s perfect."},{"CreatedByName":"Fraz86","CreatedById":90101,"CreatedDateTime":"2015-06-13T22:05:21Z","Content":"Please add ModuleCurvedSolarPanel from Near Future Solar. Thank you!"},{"CreatedByName":"taylornate","CreatedById":33202,"CreatedDateTime":"2015-06-13T23:16:28Z","Content":"\u003E \n\u003E Please, try to put this to CKAN. It would be greatly appreciated ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nEchoing this, with a link: [http://forum.kerbalspaceprogram.com/threads/100067-The-Comprehensive-Kerbal-Archive-Network-(CKAN)-Package-Manager-v1-6-22-9-Jun-2015](https://forum.kerbalspaceprogram.com/threads/100067-The-Comprehensive-Kerbal-Archive-Network-%28CKAN%29-Package-Manager-v1-6-22-9-Jun-2015)"},{"CreatedByName":"Gribbleshnibit8","CreatedById":113278,"CreatedDateTime":"2015-06-13T23:23:59Z","Content":"What about some kind of check to make sure the panel isn\u0027t blocked or would clip when deployed? I like to build satellite buses with multiple satellites side by side, and if all the solar panels deployed they would clip into each other (mechjeb did this to me). No problem while attached, but separate one for its mission and BOOM, there goes half my power for that satellite. An upward check for current stage or a decoupler between parts with panels attached would be good. Perhaps each subsequent press of the hotkey would deploy the next stage\u0027s panels. So press 1 is active stage, press 2 is stage above that, etc."},{"CreatedByName":"callmewoof","CreatedById":145280,"CreatedDateTime":"2015-06-13T23:41:09Z","Content":"This mod is wonderful. Why isn\u0027t this in the stock game? This thing is like a windshield on a car - should come on all models ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) THANK YOU"},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-14T07:49:37Z","Content":"\u003E \n\u003E What about some kind of check to make sure the panel isn\u0027t blocked or would clip when deployed? I like to build satellite buses with multiple satellites side by side, and if all the solar panels deployed they would clip into each other (mechjeb did this to me). No problem while attached, but separate one for its mission and BOOM, there goes half my power for that satellite. An upward check for current stage or a decoupler between parts with panels attached would be good. Perhaps each subsequent press of the hotkey would deploy the next stage\u0027s panels. So press 1 is active stage, press 2 is stage above that, etc.\n\nWell the whole point of this is to bind all solar panels to one key. If you want them to be activated in stages, well that\u0027s what action groups are for. They shouldn\u0027t open when in a fairing or cargo bay because stock handles that for me."},{"CreatedByName":"Skalou","CreatedById":133496,"CreatedDateTime":"2015-06-14T09:00:41Z","Content":"great mode, my suggestion for improve it:\n\n-compatibilty with AVC-checker and C-KAN\n\n-the plugin is actually a toggle, so it retract manually opened panels,...: maybe change it to switch alternatively to \u0022retract all\u0022/\u0022open all\u0022\n\n-show the state of the switch: opened/closed, maybe a in game button like those for gear or lights/an icon for tool bar mod.\n\n-configurable keybinding (in a settings.cfg) to easily solve conflict with other mod (precise node in map view for example),\n\n -disable the function in map view\n\nmaybe you want to keep it simple (as you said there is action group/other mod like ship manifest/action group extended for more complexe operations) but that is what i would like to complete them,\n\n i need your plugin mostly for:\n\n -testing ship and dont assign all those news panels each time, i\u0027m lazy ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) , (tweakable everthing is great for this too but need more clicks)\n\n -open them all while in space(exept those covered of course)\n\n -retract them all for reentry/docking/landing/emergency/...,reset the mess when docking a ship with panels opened to an other with them closed\n\nthank you for sharing your work\n\n**Edited \u003Ctime datetime=\u00222015-06-14T09:14:06Z\u0022 title=\u002206/14/2015 09:14  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 14, 2015\u003C/time\u003E by Skalou**"},{"CreatedByName":"Fleb","CreatedById":63851,"CreatedDateTime":"2015-06-14T14:12:08Z","Content":"Sweet! I didn\u0027t know I needed this untill I tried it. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"fatjoe2015","CreatedById":126558,"CreatedDateTime":"2015-06-14T14:29:27Z","Content":"This should be in the Stock Bug Fix thread.\n\nIts a must have\n\nlove it"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-06-14T15:09:31Z","Content":"Interesting.\n\nCan I recommend one change though?\n\n    foreach (Part shipPart in FlightGlobals.ActiveVessel.parts) //unchanged{foreach(PartModule pm in shipPart.Modules) //cycle through all partModules on the part{ if(typeof(ModuleDeployableSolarPanel).IsAssignableFrom(pm.GetType())) //the trick, see comment below{ModuleDeployableSolarPanel panel = (ModuleDeployableSolarPanel)pm; //this is true, the if statement the previous line ensures itif (panel.status == \u0022Retracted\u0022 \u0026\u0026 panel.sunTracking) {panel.Extend();} //unchangedelse if (panel.sunTracking \u0026\u0026 panel.retractable){panel.Retract();} //unchanged}}}\n\nThe trick is the if(typeof(ModuleDeployableSolarPanel).IsAssignableFrom(pm.GetType())) line. What this does is check if that partmodule is, or inherits, ModuleDeployableSolarPanel.\n\nSo a 3rd party mod partModule as follows:\n\n     class 3rdPartySolarPanel : ModuleDeployableSolarPanel{//stuff}\n\nwould be caught by the above code without needed to specifically add it. The one catch is that the part has to use the default Extend and Retract events still. If it does not it will need to be added individually, but there is no way around that because you can\u0027t get the name of the new extend/retract actions via code, you have to manually add it.\n\nHope that makes sense.\n\nD.\n\nPS: I release this code into the public domain. It is part of a larger mod I have under development so to avoid any future license issues (I see you licensed as ARR), I am establishing this fact for when I release my mod."},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-06-14T20:49:34Z","Content":"\u003E \n\u003E great mode, my suggestion for improve it:\n\u003E -compatibilty with AVC-checker and C-KAN\n\u003E \n\u003E -the plugin is actually a toggle, so it retract manually opened panels,...: maybe change it to switch alternatively to \u0022retract all\u0022/\u0022open all\u0022\n\u003E \n\u003E -show the state of the switch: opened/closed, maybe a in game button like those for gear or lights/an icon for tool bar mod.\n\u003E \n\u003E -configurable keybinding (in a settings.cfg) to easily solve conflict with other mod (precise node in map view for example),\n\u003E \n\u003E  -disable the function in map view\n\u003E \n\u003E maybe you want to keep it simple (as you said there is action group/other mod like ship manifest/action group extended for more complexe operations) but that is what i would like to complete them,\n\u003E \n\u003E  i need your plugin mostly for:\n\u003E \n\u003E  -testing ship and dont assign all those news panels each time, i\u0027m lazy ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif) , (tweakable everthing is great for this too but need more clicks)\n\u003E \n\u003E  -open them all while in space(exept those covered of course)\n\u003E \n\u003E  -retract them all for reentry/docking/landing/emergency/...,reset the mess when docking a ship with panels opened to an other with them closed\n\u003E \n\u003E thank you for sharing your work\n\n\u003E \n\u003E Interesting.\n\u003E Can I recommend one change though?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     foreach (Part shipPart in FlightGlobals.ActiveVessel.parts) //unchanged{foreach(PartModule pm in shipPart.Modules) //cycle through all partModules on the part{ if(typeof(ModuleDeployableSolarPanel).IsAssignableFrom(pm.GetType())) //the trick, see comment below{ModuleDeployableSolarPanel panel = (ModuleDeployableSolarPanel)pm; //this is true, the if statement the previous line ensures itif (panel.status == \u0022Retracted\u0022 \u0026\u0026 panel.sunTracking) {panel.Extend();} //unchangedelse if (panel.sunTracking \u0026\u0026 panel.retractable){panel.Retract();} //unchanged}}}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The trick is the if(typeof(ModuleDeployableSolarPanel).IsAssignableFrom(pm.GetType())) line. What this does is check if that partmodule is, or inherits, ModuleDeployableSolarPanel.\n\u003E \n\u003E So a 3rd party mod partModule as follows:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E      class 3rdPartySolarPanel : ModuleDeployableSolarPanel{//stuff}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E would be caught by the above code without needed to specifically add it. The one catch is that the part has to use the default Extend and Retract events still. If it does not it will need to be added individually, but there is no way around that because you can\u0027t get the name of the new extend/retract actions via code, you have to manually add it.\n\u003E \n\u003E Hope that makes sense.\n\u003E \n\u003E D.\n\u003E \n\u003E PS: I release this code into the public domain. It is part of a larger mod I have under development so to avoid any future license issues (I see you licensed as ARR), I am establishing this fact for when I release my mod.\n\nThanks for all the useful feedback. I should have some free time tomorrow where I can make these changes."},{"CreatedByName":"meyerweb","CreatedById":135212,"CreatedDateTime":"2015-07-03T03:18:58Z","Content":"This is one of my favorite additions to the game. Any progress on CKAN and other updates?"},{"CreatedByName":"Hypnonymoose","CreatedById":145553,"CreatedDateTime":"2015-08-06T08:54:43Z","Content":"Doubling this. Yes please."}]}