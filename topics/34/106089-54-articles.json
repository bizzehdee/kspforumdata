{"TopicId":106089,"ForumId":34,"TopicTitle":"[1.12.x] Cryogenic Engines: Liquid Hydrogen and Methane Rockets! (Jan 22, 2022)","CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2015-04-29T20:06:57Z","PageNum":54,"Articles":[{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-05-04T16:50:58Z","Content":"Hmm, quick thoughts:\n\n    MODULE\n    {\n            name = MultiModeEngine\n            primaryEngineID = LH2\n            secondaryEngineID = LCH4\n            primaryEngineModeDisplayName = Hydrolox\n            secondaryEngineModeDisplayName = Methalox\n    }\n\nAs I recall, this is bugged in KSP, the ID and the DisplayNames should be the same (see the KA patch which localizes them as the same as the IDs)."},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2020-05-04T18:32:28Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Nertea said:\n\u003E \n\u003E \n\u003E Hmm, quick thoughts:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     MODULE\n\u003E     {\n\u003E             name = MultiModeEngine\n\u003E             primaryEngineID = LH2\n\u003E             secondaryEngineID = LCH4\n\u003E             primaryEngineModeDisplayName = Hydrolox\n\u003E             secondaryEngineModeDisplayName = Methalox\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E As I recall, this is bugged in KSP, the ID and the DisplayNames should be the same (see the KA patch which localizes them as the same as the IDs).\n\u003E \n\nI tried making the DisplayNames the same as the EngineIDs but all that did was remove the methalox option entirely. Various tweaks using AFTER/FOR/NEEDS didn\u0027t fix it either, this has gone beyond my C# abilities so I might just stick with the blanket switch to methalox or ~~blatantly steal~~ borrow someone else\u0027s idea of duplicating the parts and altering the stats that way, which would result in two copies of each engine using one fuel each. It\u0027s less elegant, but I might be able to make that work.\n\n**Edited \u003Ctime datetime=\u00222020-05-04T18:33:10Z\u0022 title=\u002205/04/2020 06:33  PM\u0022 data-short=\u00224 yr\u0022\u003EMay 4, 2020\u003C/time\u003E by jimmymcgoochie**"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-05-04T19:22:40Z","Content":"I would go look at the ConfigCache to see what your patch actually resulted in next."},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2020-05-04T20:41:47Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Nertea said:\n\u003E \n\u003E \n\u003E I would go look at the ConfigCache to see what your patch actually resulted in next.\n\u003E \n\nI found the problem- changing engineID = LH2 to %engineID = LH2 has done the trick, the engine can now be toggled between the two fuel modes at will. Interestingly, it still works even though the DisplayNames don\u0027t match the engineIDs.\n\nThe only problem now is that the plume and sound effects don\u0027t work when it\u0027s in hydrolox mode, only methalox; everything else in the two ModuleEngineFX-es is the same so I\u0027m at a loss to explain why this is happening. There are also two toggle/activate/shutdown engine options when assigning action groups but that\u0027s something I\u0027ve seen before with other switchable engines."},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-05-04T21:05:39Z","Content":"\u003E \n\u003E \n\u003E 24 minutes ago, jimmymcgoochie said:\n\u003E \n\u003E \n\u003E I found the problem- changing engineID = LH2 to %engineID = LH2 has done the trick, the engine can now be toggled between the two fuel modes at will. Interestingly, it still works even though the DisplayNames don\u0027t match the engineIDs.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The only problem now is that the plume and sound effects don\u0027t work when it\u0027s in hydrolox mode, only methalox; everything else in the two ModuleEngineFX-es is the same so I\u0027m at a loss to explain why this is happening. There are also two toggle/activate/shutdown engine options when assigning action groups but that\u0027s something I\u0027ve seen before with other switchable engines.\n\u003E \n\nCool, maybe Squad actually fixed something in the last couple patches lol.\n\nI believe (not totally sure) that you need to copy the effects block for the other mod to make all the effects (including sound) work. So adding a new fx-lch4 block, then changing the effect in your newly added LCH4 ModuleEnginesFX. \n\n**Edited \u003Ctime datetime=\u00222020-05-04T21:07:41Z\u0022 title=\u002205/04/2020 09:07  PM\u0022 data-short=\u00224 yr\u0022\u003EMay 4, 2020\u003C/time\u003E by Nertea**"},{"CreatedByName":"Wyzard","CreatedById":162363,"CreatedDateTime":"2020-05-04T21:52:19Z","Content":"\u003E \n\u003E \n\u003E 33 minutes ago, Nertea said:\n\u003E \n\u003E \n\u003E I believe (not totally sure) that you need to copy the effects block for the other mod to make all the effects (including sound) work.\n\u003E \n\nYep.  For reference, the initial fix for that in KA was [pull #44](https://github.com/ChrisAdderley/KerbalAtomics/pull/44), with followup discussion in [bug #74](https://github.com/ChrisAdderley/KerbalAtomics/issues/74) when the earlier fix interacted badly with RealPlume.  ([@jimmymcgoochie](https://forum.kerbalspaceprogram.com/index.php?/profile/199902-jimmymcgoochie/), the info in those links should be helpful to you.)"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2020-05-07T20:35:36Z","Content":"Thanks for your help [@Nertea](https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/) and [@Wyzard](https://forum.kerbalspaceprogram.com/index.php?/profile/162363-wyzard/), I\u0027ve almost got it working now- the sound and plume effects are working in both modes and the switching is working as expected. Now all I have to do is figure out why the engine bell glows blue in hydrogen mode but not methane mode (not sure what module to duplicate for that) and also why it seems to be using ~30 methane per oxidizer rather than 3 as intended.\n\nA patch that duplicates the parts and fixes them to methalox instead of hydrolox was much easier to do, but mode-switching is a much more elegant way of doing it."},{"CreatedByName":"cornelius_4","CreatedById":204605,"CreatedDateTime":"2020-05-13T11:33:09Z","Content":"I updated Cryo Tanks to 1.5 and the \u0022Enable Cooling\u0022 option was missing from regular tanks. After reverting to 1.4.2, the option was available again."},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2020-05-13T13:15:42Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, cornelius\\_4 said:\n\u003E \n\u003E \n\u003E I updated Cryo Tanks to 1.5 and the \u0022Enable Cooling\u0022 option was missing from regular tanks. After reverting to 1.4.2, the option was available again.\n\u003E \n\nI\u2019ve seen the same thing in a modded 1.8.1 game, the cryo tanks themselves work fine but all other tanks do not have cooling enabled- [@Nertea](https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/) was this a deliberate design choice or is it a bug?"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-05-13T16:32:47Z","Content":"I left the testing flag for banning cooling on in that patch. Goddamit."},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-05-13T16:55:58Z","Content":"I just released CryoTanks 1.5.1 with the one-line fix for this."},{"CreatedByName":"Regor","CreatedById":175796,"CreatedDateTime":"2020-05-27T10:56:35Z","Content":"\u003E \n\u003E \n\u003E On 5/14/2020 at 2:55 AM, Nertea said:\n\u003E \n\u003E \n\u003E I just released CryoTanks 1.5.1 with the one-line fix for this.\n\u003E \n\nI thought that was just a feature lol.\n\nMy mantra: It\u0027s not a bug, it\u0027s a feature!\n\n**Edited \u003Ctime datetime=\u00222020-05-27T10:56:55Z\u0022 title=\u002205/27/2020 10:56  AM\u0022 data-short=\u00224 yr\u0022\u003EMay 27, 2020\u003C/time\u003E by mabdi36**"},{"CreatedByName":"Unixsystem","CreatedById":200429,"CreatedDateTime":"2020-05-28T19:23:08Z","Content":"This mod seems extremely well made. The engines and tanks both look great, the engines all seem relatively well balanced to one another and the addition of boil off is a neat feature to take into consideration in ship design.\n\nAll that said, I can\u0027t for the life of me find a scenario where the added \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E outweighs the added engine/tankage weight needed to take advantage of it. I\u0027m still relatively early in my campaign, so is it just a matter of the benefits becoming more noticeable as the ships get bigger and bigger? Even getting into 2.5m\u002B parts it still seems like its always easier and more effective to just strap a traditional LOX engine on and get basically the same delta-V.\n\nI know that this is an issue IRL as well so I know it\u0027s less of a mod problem and more of a physics problem, but from a pure gameplay perspective where are the actual use cases where it definitely makes sense to load up a bigger H2 rocket over a smaller LOX one?"},{"CreatedByName":"sturmhauke","CreatedById":190611,"CreatedDateTime":"2020-05-28T20:26:21Z","Content":"I actually made a comparison between Cryo engines and stock engines. This was from a few versions ago, so it\u0027s a bit out of date, but the principles should still hold. Basically, for sufficiently large rockets with similar \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E values, an LH rocket will be lighter and longer than an equivalent \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E rocket.\n\n[https://imgur.com/a/U33rjq6](https://imgur.com/a/U33rjq6)"},{"CreatedByName":"enewmen","CreatedById":178327,"CreatedDateTime":"2020-06-08T12:20:15Z","Content":"Hi all.\n\nAfter playing again after a few months, most of my rockets stopped working.  Missing Cryoengine-125-1 and cryoengine-125-2.\n\nIs there an update to fix this or a text file change I can do to replace old engines with correct engines?  I did try to update to the newest cryogenic engines and have the same problem.  Some of my rockets are very complex and difficult to re-create.\n\nOne difference I notice is there is no more LH2/OX option on stock(ish) engines - even with all mods installed. So I can\u0027t use a Hecate engine unless I get real (orange tin foil) cryogenic fuel tanks with LH2.\n\nAfter I\u0027m at least able to load the old rockets, then I can fix the fuel tanks used if needed.\n\nthanks!\n\n**Edited \u003Ctime datetime=\u00222020-06-08T12:24:06Z\u0022 title=\u002206/08/2020 12:24  PM\u0022 data-short=\u00224 yr\u0022\u003EJune 8, 2020\u003C/time\u003E by enewmen**"},{"CreatedByName":"Sqeep91","CreatedById":205125,"CreatedDateTime":"2020-06-08T21:02:37Z","Content":"\u003E \n\u003E \n\u003E On 4/29/2015 at 10:06 PM, Nertea said:\n\u003E \n\u003E \n\u003E To store your liquid hydrogen fuels, I\u0027ve provided ModuleManager/B9PartSwitch configs that allow you to change the contents of stock tanks between \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O, LH2/O, \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E, O and LH2\n\u003E \n\nHey,\n\ndo I have to move these configs?  I can\u0027t get the stock tanks to run with LH2 / O  \n\ngreetings"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-06-08T21:08:06Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, enewmen said:\n\u003E \n\u003E \n\u003E Hi all.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E After playing again after a few months, most of my rockets stopped working.  Missing Cryoengine-125-1 and cryoengine-125-2.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Is there an update to fix this or a text file change I can do to replace old engines with correct engines?  I did try to update to the newest cryogenic engines and have the same problem.  Some of my rockets are very complex and difficult to re-create.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E One difference I notice is there is no more LH2/OX option on stock(ish) engines - even with all mods installed. So I can\u0027t use a Hecate engine unless I get real (orange tin foil) cryogenic fuel tanks with LH2.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E After I\u0027m at least able to load the old rockets, then I can fix the fuel tanks used if needed.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E thanks!\n\u003E \n\nModels were changed some time ago, new models have different dimensions. You can download an older version of the mod (check the changelogs for which one), install it, and use that to remove the old engines. \n\n\u003E \n\u003E \n\u003E 2 minutes ago, Sqeep91 said:\n\u003E \n\u003E \n\u003E Hey,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E do I have to move these configs?  I can\u0027t get the stock tanks to run with LH2 / O  \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E greetings\n\u003E \n\nEnsure you have installed the CryoTanks addon (packaged with the mod)."},{"CreatedByName":"rebel-1","CreatedById":170896,"CreatedDateTime":"2020-06-08T21:14:01Z","Content":"\u003E \n\u003E \n\u003E 14 minutes ago, Sqeep91 said:\n\u003E \n\u003E \n\u003E Hey,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E do I have to move these configs?  I can\u0027t get the stock tanks to run with LH2 / O  \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E greetings\n\u003E \n\nYou mean the boiling of fuel in the drain tanks? Edited in the config.\n\n[@Nertea](https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/) I don\u0027t think I should have made such drastic changes to the inter-patch version of the game. With all due respect, this is true. I had to edit the files myself after the update and start with the old saves. \u041D\u0435 \u043D\u0430\u0434\u043E \u0442\u0430\u043A!\n\n![nendotak.jpg](https://gettingclose.ru/wp-content/uploads/2019/03/nendotak.jpg)\n\n**Edited \u003Ctime datetime=\u00222020-06-08T21:17:59Z\u0022 title=\u002206/08/2020 09:17  PM\u0022 data-short=\u00224 yr\u0022\u003EJune 8, 2020\u003C/time\u003E by rebel-1**"},{"CreatedByName":"Sqeep91","CreatedById":205125,"CreatedDateTime":"2020-06-08T21:27:48Z","Content":"Yes i have all installed: Cryo Core, Tanks and Engine. But i cant change the Stock Tanks to lh2/0. the rest runs perfectly.  thought the configs should move.  B9PartSwitch is also installed"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-06-08T22:14:49Z","Content":"\u003E \n\u003E \n\u003E 44 minutes ago, Sqeep91 said:\n\u003E \n\u003E \n\u003E Yes i have all installed: Cryo Core, Tanks and Engine. But i cant change the Stock Tanks to lh2/0. the rest runs perfectly.  thought the configs should move.  B9PartSwitch is also installed\n\u003E \n\nDo you have something else that conflicts? This mod disables itself if you have some kind of other fuel switcher running, like IFS or similar. \n\n\u003E \n\u003E \n\u003E 58 minutes ago, rebel-1 said:\n\u003E \n\u003E \n\u003E You mean the boiling of fuel in the drain tanks? Edited in the config.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [@Nertea](https://forum.kerbalspaceprogram.com/index.php?/profile/83952-nertea/) I don\u0027t think I should have made such drastic changes to the inter-patch version of the game. With all due respect, this is true. I had to edit the files myself after the update and start with the old saves. \u041D\u0435 \u043D\u0430\u0434\u043E \u0442\u0430\u043A!\n\u003E \n\nI\u0027m not 100% sure what you mean. If you mean \u0027you shouldn\u0027t have deleted the old parts\u0027, I gave people several months before I removed them. I\u0027m not keeping garbage floating around in mods, particularly ones that are RAM-constrained."},{"CreatedByName":"rebel-1","CreatedById":170896,"CreatedDateTime":"2020-06-08T23:36:18Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Nertea said:\n\u003E \n\u003E \n\u003E I\u0027m not 100% sure what you mean. If you mean \u0027you shouldn\u0027t have deleted the old parts\u0027, I gave people several months before I removed them. I\u0027m not keeping garbage floating around in mods, particularly ones that are RAM-constrained.\n\u003E \n\nI mean the item \u0022CoolingAllowed = false\u0022.(((((( ![:unsure:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_unsure.png \u0022:unsure:\u0022)\n\nThis leads to the fact that it is desirable to release critical mod changes with new versions of the game\n\n**Edited \u003Ctime datetime=\u00222020-06-08T23:39:08Z\u0022 title=\u002206/08/2020 11:39  PM\u0022 data-short=\u00224 yr\u0022\u003EJune 8, 2020\u003C/time\u003E by rebel-1**"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2020-06-09T00:07:30Z","Content":"\u003E \n\u003E \n\u003E 30 minutes ago, rebel-1 said:\n\u003E \n\u003E \n\u003E I mean the item \u0022CoolingAllowed = false\u0022.(((((( ![:unsure:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_unsure.png \u0022:unsure:\u0022)\n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This leads to the fact that it is desirable to release critical mod changes with new versions of the game\n\u003E \n\nThat was a bug and was fixed less than a day after release."},{"CreatedByName":"Marschig","CreatedById":167206,"CreatedDateTime":"2020-06-09T08:21:29Z","Content":"atmosphereCurve ends at 4 atm. on most (possibly all) engines. On some engines it ends with a significant value. Example: \n\n    \tname = cryoengine-vesuvius-1 \n    ...\tatmosphereCurve\t{\t\tkey = 0 425\t\tkey = 1 376\t\tkey = 4 305\t} \n\nSo, cryoengine-vesuvius-1 has Isp 305 even at 15 atm. on Jool.  \n\nIs this planned?"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2020-06-14T04:10:16Z","Content":"@Nertea I\u0027m trying to create an MFT config for LqdMethane, and I noticed that the LqdHydrogen tank definition has a mass of -0.00033386364, Do you know why it was set as negative?\n\n**Edited \u003Ctime datetime=\u00222020-06-14T05:51:19Z\u0022 title=\u002206/14/2020 05:51  AM\u0022 data-short=\u00224 yr\u0022\u003EJune 14, 2020\u003C/time\u003E by dlrk**"},{"CreatedByName":"dlrk","CreatedById":60033,"CreatedDateTime":"2020-06-14T05:59:42Z","Content":"[https://www.dropbox.com/s/vp57cz0omevoqyb/CryoTanksBoiloff.cfg?dl=0](https://www.dropbox.com/s/vp57cz0omevoqyb/CryoTanksBoiloff.cfg?dl=0)\n\nFor anyone else using Modular Fuel Tanks, this is a quick \u002B dirty modified version of the FuelTanksSwitcherCfg to add boiloff/cooling to tanks that don\u0027t have MFT configs, like the CryoTanks included LH2 tanks. It doesn\u0027t add Methane to cryotanks, but I\u0027m going to make a patch for that and PR it once I find out why LqdHydrogen was set in that patch to a negative mass.\n\n**Edited \u003Ctime datetime=\u00222020-06-14T20:33:32Z\u0022 title=\u002206/14/2020 08:33  PM\u0022 data-short=\u00224 yr\u0022\u003EJune 14, 2020\u003C/time\u003E by dlrk**"}]}