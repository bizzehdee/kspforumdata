{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":327,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-07T18:43:42Z","Content":"\n\u003Cp\u003EI just tested with jmanidb example. Copied it in a landing.cfg in GameData\\MechJeb2 and I have the landing site on the landing guidance windows.\u003C/p\u003E\n"},{"CreatedByName":"Dante Montana","CreatedById":120824,"CreatedDateTime":"2014-11-07T19:14:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI just tested with jmanidb example. Copied it in a landing.cfg in GameData\\MechJeb2 and I have the landing site on the landing guidance windows.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, I\u00C3\u201A\u00C2\u00B4m so sorry. \u003C/p\u003E\u003Cp\u003EThe feature is that they appear in the landing guidance window. That is working fine.\u003C/p\u003E\u003Cp\u003E I thought that the runways are added to the spaceplane guidance for landing.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-07T19:33:55Z","Content":"\n\u003Cp\u003EThere is 2 part in the file, one for landing sites (Lading Guidance) and the other for Runways (Space Plane)\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-11-07T19:38:08Z","Content":"\n\u003Cp\u003ERCS units that are destroyed in flight seem to result in nullref errors in the RCS balancer later:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EKWrcsQuad Exploded!! - blast awesomeness: 0.5\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[KWrcsQuad]: Deactivated\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EMechJeb module MechJebModuleRCSBalancer threw an exception in OnUpdate: System.NullReferenceException: \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at (wrapper managed-to-native) UnityEngine.ParticleEmitter:set_maxSize (single)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at FXGroup.SetPower (Single pwr) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at FXGroup.set_Power (Single value) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleRCSBalancer.OnUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebCore.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E1 explosions created.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EShortly after, the world went black, gone, vanished, navball disappears, void, anguish, etc. Could be total coincidence, not sure. \u0026lt;---- (could also be an issue in Deadly Reentry which also threw some errors, though they were pretty benign, but I\u0027ll be looking at that as well since DRE is my responsibility now and the error was linked to new code)\u003C/p\u003E\n"},{"CreatedByName":"junkie_business","CreatedById":100299,"CreatedDateTime":"2014-11-08T02:59:41Z","Content":"\n\u003Cp\u003EI\u0027m getting the same problem, in the in-game log it looks like something with Mechjeb. I\u0027ve had a look at the output log but I\u0027m not really sure what I\u0027m looking for, any ideas anyone?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/urzh6u0ltv53gqv/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/urzh6u0ltv53gqv/output_log.txt?dl=0\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dante Montana","CreatedById":120824,"CreatedDateTime":"2014-11-08T07:27:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI just tested with jmanidb example. Copied it in a landing.cfg in GameData\\MechJeb2 and I have the landing site on the landing guidance windows.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Esarbian thanks for all your kindness and patience with this. After some tests with jmanidb example, plug is running as it should. I think I found out what my problem was. On github the first line of the example file is \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMechJeb2\u003C/pre\u003E\u003Cp\u003E and I used this.\u003C/p\u003E\u003Cp\u003Ejmanidb example file has in its first line \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMechJeb2Landing\u003C/pre\u003E\u003Cp\u003E and with this its working for me now. Could this be possible or am I only too tired.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-08T09:56:51Z","Content":"\n\u003Cp\u003EErr, I m seeing MechJeb2Landing on github : \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/LandingSites.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/master/LandingSites.cfg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI changed it in a commit just after the one where I added the file, that may be why you saw that.\u003C/p\u003E\n"},{"CreatedByName":"ArcFurnace","CreatedById":109240,"CreatedDateTime":"2014-11-08T22:53:35Z","Content":"\n\u003Cp\u003EBug report: MechJeb is reading incorrect values for thrust from engines that have \u0026lt;100% values for the throttle limiter tweakable and a non-zero minThrust value in their engine config. This doesn\u0027t matter in many cases, as almost all engines have minThrust = 0, and the throttle limiter tweakable isn\u0027t used all that often. However, KW Rocketry solid boosters are an easy way to experience this bug- they have a minThrust of half of their maxThrust, and tweaking the throttle limiter lets you adjust the thrust of otherwise uncontrollable SRBs. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/79op7HN.png?1\u0022 alt=\u002279op7HN.png?1\u0022\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EThis Globe X-10L \u0022Thor II\u0022 SRB from KW Rocketry had the throttle limiter tweaked to 15% (0.15). It has a maxThrust of 3015 kN and minThrust of 1507.5 kN. The thrust according to MechJeb is maxThrust*throttleLimiter = 3015*0.15 = 452 kN. The actual thrust is minThrust \u002B (maxThrust - minThrust)*throttleLimiter = 1507.5 \u002B (3015 - 1507.5)*0.15 = 1733.6 kN.\u003C/p\u003E\u003Cp\u003EIf the throttle limiter is pulled all the way down to 0%, MechJeb will believe that this engine cannot produce thrust, despite it actually still producing 50% thrust at 0% throttle limiter.\u003C/p\u003E\u003Cp\u003EThis testing was done with the latest dev build of MechJeb (#343).\u003C/p\u003E\n"},{"CreatedByName":"The Pink Ranger","CreatedById":116650,"CreatedDateTime":"2014-11-09T01:47:01Z","Content":"\n\u003Cp\u003EHey can someone tell me what data mechjeb uses to launch into the plane of a target? I\u0027m trying to make a custom window so that I can do it manually but I\u0027m not sure what data I should be looking at. Should be the target\u0027s longitude of the ascending node right?\u003C/p\u003E\u003Cp\u003EI\u0027m looking at this diagram and I\u0027m guessing that the \u0022Target LAN\u0022 field uses the direction from the center of the body you\u0027re on to your position over that body as the reference direction? I\u0027m guessing I need to launch when \u0022Target LAN\u0022 says either 0 or 180. Am I on the right track or do I have this totally wrong?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://upload.wikimedia.org/wikipedia/commons/e/eb/Orbit1.svg\u0022 alt=\u0022Orbit1.svg\u0022\u003E\u003C/p\u003E\u003Cp\u003Eedit: I know that AN and DN work for bodies within the same SOI but they don\u0027t work when you\u0027re trying to launch into the plane of another planet. The autopilot seems to handle it just fine though so I\u0027m wondering what data it\u0027s going off of.\u003C/p\u003E\u003Cp\u003Eedit 2: Okay well I\u0027m still not sure what the reference direction is but after messing around for a bit it seems that my craft always crosses the target\u0027s plane when LAN = targetLAN \u002B/- 90deg. Not sure but it looks like the reference direction for a planetary SOI is the parent planet\u0027s prograde direction on its orbit?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-09T02:20:53Z\u0022 title=\u002211/09/2014 02:20  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 9, 2014\u003C/time\u003E by The Pink Ranger\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mekan1k","CreatedById":48750,"CreatedDateTime":"2014-11-09T05:52:57Z","Content":"\n\u003Cp\u003ECan you add a module for mechjeb that allows us to slow down the Mechjeb reaction time? \u003C/p\u003E\u003Cp\u003EI think that factor may be why mechjeb occasionally shakes one of my planes to pieces. *OFTEN\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-09T11:23:39Z","Content":"\n\u003Cp\u003EArcFurnace : should be fixed in last dev. Thanks for the detailed report. Hopefully I did not break anything \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EMekan1k : there is a whole window for that already (Attitude Adjustment). Do you use FAR ? If so do you use the optional module ?\u003C/p\u003E\u003Cp\u003EI m a bit busy IRL atm, so don\u0027t expect much for now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-09T11:26:56Z\u0022 title=\u002211/09/2014 11:26  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 9, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"reavertm","CreatedById":128692,"CreatedDateTime":"2014-11-09T14:59:06Z","Content":"\n\u003Cp\u003EHello, I have a problem. Mechjeb UI does not show any text (links and buttons are clickable). Am I missing some specific fonts or sth?\u003C/p\u003E\u003Cp\u003EKSP.log does not indicated any related issues. Image:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://s29.postimg.org/reqhu5imv/snapshot1.png\u0022 alt=\u0022snapshot1.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EKSP 0.25, Mechjeb 2.4.0 (no other mods), Fedora Linux x86_64, integrated Intel HD Graphics 4400 (my work laptop \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E)\u003C/p\u003E\u003Cp\u003EAny idea what would be the reason?\u003C/p\u003E\u003Cp\u003EI know that out of better ideas you will start with \u0022your gfx card is too slow\u0022 and truth is on my other PC (Gentoo x86_64, Nvidia 570) KSP works perfectly with Mechjeb.\u003C/p\u003E\u003Cp\u003EBut vanilla KSP alone works pretty well and without technical issues on that laptop so I would expect nothing else from Mechjeb being \u0022merely\u0022 A.I a mod.\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-09T19:10:56Z","Content":"\n\u003Cp\u003EI\u0027m trying to figure out why MechJeb consistently overcorrects roll and yaw on my aircraft (stock KSP aero). Yaw tends to stay fairly OK, but roll grows from perfectly OK on takeoff to \u002B/- 30 degrees by 5km, sometimes earlier. It doesn\u0027t get worse than that, and by 15km the problem resolves itself, but that still means I\u0027m doing S turns through the lower atmosphere.\u003C/p\u003E\u003Cp\u003EI\u0027m highly suspicious of this code: \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/dev/MechJeb2/VesselState.cs#L455\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/dev/MechJeb2/VesselState.cs#L455\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// TODO : Tweakable for ignorePitch / ignoreYaw  / ignoreRoll \u003Cbr\u003EModuleControlSurface cs = (pm as ModuleControlSurface);\u003Cbr\u003EVector3d partPosition = p.Rigidbody.worldCenterOfMass - CoM;\u003Cbr\u003E\u003Cbr\u003EVector3d airSpeed = vessel.srf_velocity \u002B Vector3.Cross(cs.part.Rigidbody.angularVelocity, cs.transform.position - cs.part.Rigidbody.position);\u003Cbr\u003E\u003Cbr\u003EQuaternion airSpeedRot = Quaternion.AngleAxis(cs.ctrlSurfaceRange * cs.ctrlSurfaceArea, cs.transform.rotation * Vector3.right);\u003Cbr\u003E\u003Cbr\u003EVector3 ctrlTroquePos = vessel.GetTransform().InverseTransformDirection(Vector3.Cross(partPosition, cs.getLiftVector(airSpeedRot * airSpeed)));\u003Cbr\u003EVector3 ctrlTroqueNeg = vessel.GetTransform().InverseTransformDirection(Vector3.Cross(partPosition, cs.getLiftVector(Quaternion.Inverse(airSpeedRot) * airSpeed)));\u003Cbr\u003EctrlTorqueAvailable.Add(ctrlTroquePos);\u003Cbr\u003EctrlTorqueAvailable.Add(ctrlTroqueNeg);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFirst off, that TODO is an issue with my planes: every single one of my control surfaces is limited.\u003C/p\u003E\u003Cp\u003ESecondly, the \u0022ctrlTroquePos\u0022 that\u0027s calculated implicitly is assuming that the control surface produces no lift if there\u0027s no control input. Not true unless you\u0027re flying at zero angle of attack.\u003C/p\u003E\u003Cp\u003EThirdly, adding together the ctrlTorquePos and ctrlTorqueNeg is going to do particularly funny things.\u003C/p\u003E\u003Cp\u003EAt zero angle of attack, the \u002B vector is mostly up and a bit forward, the - vector is mostly down and a bit forward. Adding them together gets you a vector that\u0027s perfectly zero in the direction you\u0027re controlling, but twice as long in the forward direction. In other words, MechJeb is assuming that the rudder of a plane flying perfectly straight can produce pitch (because it\u0027s above the center of mass) but neither yaw nor roll (because those are canceled out when you calculate all \u002B and all - input and add them together). Similarly, elevators and ailerons are predicted to produce yaw but neither pitch nor roll.\u003C/p\u003E\u003Cp\u003ESeems like there\u0027s many more than one thing that needs to be calculated:\u003C/p\u003E\u003Cp\u003E(1) the forces acting on this part with no control input\u003C/p\u003E\u003Cp\u003E(2) the forces acting on this part with a pitch=1 control input\u003C/p\u003E\u003Cp\u003E(3) the forces acting on this part with a pitch=-1 control input\u003C/p\u003E\u003Cp\u003E(4) ... \u002B/-yaw, \u002B/-roll\u003C/p\u003E\u003Cp\u003EThen we can maybe interpolate.\u003C/p\u003E\u003Cp\u003EI remember trying to figure out what the @#$ was wrong with the controller a year ago, and finding the code that the calculated ctrlTorqueAvailable to be 192% inscrutable, so even if I fixed the calculation, I couldn\u0027t fix the controller.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-11-09T20:22:05Z","Content":"\n\u003Cp\u003Ereavertm : yes, that may be font related. Have a look at the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92231-The-Linux-Thread\u0022 rel=\u0022external nofollow\u0022\u003ELinux thread\u003C/a\u003E to see the common linux problem. If it\u0027s not that then you\u0027ll have to post a log (see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u0022 rel=\u0022external nofollow\u0022\u003Ethere\u003C/a\u003E to find it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EFirst off, that TODO is an issue with my planes: every single one of my control surfaces is limited.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m glad that you offer to fix it then\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESecondly, the \u0022ctrlTroquePos\u0022 that\u0027s calculated implicitly is assuming that the control surface produces no lift if there\u0027s no control input. Not true unless you\u0027re flying at zero angle of attack.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it is a problem but not one as easily solved as you think\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThirdly, adding together the ctrlTorquePos and ctrlTorqueNeg is going to do particularly funny things.\u003C/p\u003E\u003Cp\u003EAt zero angle of attack, the \u002B vector is mostly up and a bit forward, the - vector is mostly down and a bit forward. Adding them together gets you a vector that\u0027s perfectly zero in the direction you\u0027re controlling, but twice as long in the forward direction. In other words, MechJeb is assuming that the rudder of a plane flying perfectly straight can produce pitch (because it\u0027s above the center of mass) but neither yaw nor roll (because those are canceled out when you calculate all \u002B and all - input and add them together). Similarly, elevators and ailerons are predicted to produce yaw but neither pitch nor roll.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou may want to look at ctrlTorqueAvailable type before saying that. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESeems like there\u0027s many more than one thing that needs to be calculated:\u003C/p\u003E\u003Cp\u003E(1) the forces acting on this part with no control input\u003C/p\u003E\u003Cp\u003E(2) the forces acting on this part with a pitch=1 control input\u003C/p\u003E\u003Cp\u003E(3) the forces acting on this part with a pitch=-1 control input\u003C/p\u003E\u003Cp\u003E(4) ... \u002B/-yaw, \u002B/-roll\u003C/p\u003E\u003Cp\u003EThen we can maybe interpolate.\u003C/p\u003E\u003Cp\u003EI remember trying to figure out what the @#$ was wrong with the controller a year ago, and finding the code that the calculated ctrlTorqueAvailable to be 192% inscrutable, so even if I fixed the calculation, I couldn\u0027t fix the controller.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry for writing inscrutable code. I\u0027ll wait for your glorious fix.\u003C/p\u003E\u003Cp\u003EI m tired of people complaining but never doing much more. Most of those who complain about their plane stability don\u0027t post their craft. How am I supposed to fix anything out of thin air ? Have a look at Mekan1k post and see how you can make MJ work better.\u003C/p\u003E\u003Cp\u003EEdit : I can\u0027t even swear anymore. I may have to switch to French.\u003C/p\u003E\n"},{"CreatedByName":"Catullus","CreatedById":51486,"CreatedDateTime":"2014-11-09T21:14:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EArcFurnace : should be fixed in last dev. Thanks for the detailed report. Hopefully I did not break anything \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFixed it for me, thanks!\u003C/p\u003E\n"},{"CreatedByName":"starkline","CreatedById":120280,"CreatedDateTime":"2014-11-09T21:30:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EEdit : I can\u0027t even swear anymore. I may have to switch to French.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrench really is such a beautiful language when used to cuss. I strongly encourage you to make it so!\u003C/p\u003E\n"},{"CreatedByName":"numerobis","CreatedById":62016,"CreatedDateTime":"2014-11-09T22:25:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027m glad that you offer to fix it then\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was thinking of it, but given your response I think maybe I have better things to work on.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-11-09T22:45:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022starkline\u0022 data-cite=\u0022starkline\u0022\u003E\u003Cdiv\u003EFrench really is such a beautiful language when used to cuss. I strongly encourage you to make it so!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0022I love French wine, like I love the French language. I have sampled every language, French is my favorite. Fantastic language. Especially to curse with. Esp\u00C3\u0192\u00C2\u00A8ce de loup-garou \u00C3\u0192\u00C2\u00A0 la graisse de renoncule de mille sabords. It\u0027s like wiping your behind with silk. I love it. \u0022\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-09T23:21:06Z\u0022 title=\u002211/09/2014 11:21  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 9, 2014\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003Cbr\u003EReplaced profanity with Haddock\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-11-09T23:30:07Z","Content":"\n\u003Cp\u003ESwearing in French is no more permissible than any other language. Sorry. Thus you have been Haddocked. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-11-09T23:37:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EThus you have been Haddocked. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-09T23:55:09Z\u0022 title=\u002211/09/2014 11:55  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 9, 2014\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"King Arthur","CreatedById":73849,"CreatedDateTime":"2014-11-09T23:41:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI m tired of people complaining but never doing much more. Most of those who complain about their plane stability don\u0027t post their craft. How am I supposed to fix anything out of thin air ? Have a look at Mekan1k post and see how you can make MJ work better.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI may not speak for everyone, but I\u0027d just like to say that I for one greatly appreciate the work that you and all the other contributers have done for MechJeb. I wouldn\u0027t be able to enjoy KSP nearly as much as I do right now without MJ.\u003C/p\u003E\u003Cp\u003ESo again, thank you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ArcFurnace","CreatedById":109240,"CreatedDateTime":"2014-11-10T05:24:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EArcFurnace : should be fixed in last dev. Thanks for the detailed report. Hopefully I did not break anything \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeems to be working just fine. Thanks for the quick fix! I don\u0027t quite feel up to fixing these sorts of things myself, so the least I can do is make your life as easy as possible \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mekan1k","CreatedById":48750,"CreatedDateTime":"2014-11-10T05:44:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EArcFurnace : should be fixed in last dev. Thanks for the detailed report. Hopefully I did not break anything \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003Cp\u003EMekan1k : there is a whole window for that already (Attitude Adjustment). Do you use FAR ? If so do you use the optional module ?\u003C/p\u003E\u003Cp\u003EI m a bit busy IRL atm, so don\u0027t expect much for now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use NEAR, with the optional Module. I try not to use NEAR, but this problem occurs with almost every craft.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022numerobis\u0022 data-cite=\u0022numerobis\u0022\u003E\u003Cdiv\u003EI\u0027m trying to figure out why MechJeb consistently overcorrects roll and yaw on my aircraft (stock KSP aero). Yaw tends to stay fairly OK, but roll grows from perfectly OK on takeoff to \u002B/- 30 degrees by 5km, sometimes earlier. It doesn\u0027t get worse than that, and by 15km the problem resolves itself, but that still means I\u0027m doing S turns through the lower atmosphere.\u003Cp\u003EI\u0027m highly suspicious of this code: \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/dev/MechJeb2/VesselState.cs#L455\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/dev/MechJeb2/VesselState.cs#L455\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// TODO : Tweakable for ignorePitch / ignoreYaw  / ignoreRoll \u003Cbr\u003EModuleControlSurface cs = (pm as ModuleControlSurface);\u003Cbr\u003EVector3d partPosition = p.Rigidbody.worldCenterOfMass - CoM;\u003Cbr\u003E\u003Cbr\u003EVector3d airSpeed = vessel.srf_velocity \u002B Vector3.Cross(cs.part.Rigidbody.angularVelocity, cs.transform.position - cs.part.Rigidbody.position);\u003Cbr\u003E\u003Cbr\u003EQuaternion airSpeedRot = Quaternion.AngleAxis(cs.ctrlSurfaceRange * cs.ctrlSurfaceArea, cs.transform.rotation * Vector3.right);\u003Cbr\u003E\u003Cbr\u003EVector3 ctrlTroquePos = vessel.GetTransform().InverseTransformDirection(Vector3.Cross(partPosition, cs.getLiftVector(airSpeedRot * airSpeed)));\u003Cbr\u003EVector3 ctrlTroqueNeg = vessel.GetTransform().InverseTransformDirection(Vector3.Cross(partPosition, cs.getLiftVector(Quaternion.Inverse(airSpeedRot) * airSpeed)));\u003Cbr\u003EctrlTorqueAvailable.Add(ctrlTroquePos);\u003Cbr\u003EctrlTorqueAvailable.Add(ctrlTroqueNeg);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFirst off, that TODO is an issue with my planes: every single one of my control surfaces is limited.\u003C/p\u003E\u003Cp\u003ESecondly, the \u0022ctrlTroquePos\u0022 that\u0027s calculated implicitly is assuming that the control surface produces no lift if there\u0027s no control input. Not true unless you\u0027re flying at zero angle of attack.\u003C/p\u003E\u003Cp\u003EThirdly, adding together the ctrlTorquePos and ctrlTorqueNeg is going to do particularly funny things.\u003C/p\u003E\u003Cp\u003EAt zero angle of attack, the \u002B vector is mostly up and a bit forward, the - vector is mostly down and a bit forward. Adding them together gets you a vector that\u0027s perfectly zero in the direction you\u0027re controlling, but twice as long in the forward direction. In other words, MechJeb is assuming that the rudder of a plane flying perfectly straight can produce pitch (because it\u0027s above the center of mass) but neither yaw nor roll (because those are canceled out when you calculate all \u002B and all - input and add them together). Similarly, elevators and ailerons are predicted to produce yaw but neither pitch nor roll.\u003C/p\u003E\u003Cp\u003ESeems like there\u0027s many more than one thing that needs to be calculated:\u003C/p\u003E\u003Cp\u003E(1) the forces acting on this part with no control input\u003C/p\u003E\u003Cp\u003E(2) the forces acting on this part with a pitch=1 control input\u003C/p\u003E\u003Cp\u003E(3) the forces acting on this part with a pitch=-1 control input\u003C/p\u003E\u003Cp\u003E(4) ... \u002B/-yaw, \u002B/-roll\u003C/p\u003E\u003Cp\u003EThen we can maybe interpolate.\u003C/p\u003E\u003Cp\u003EI remember trying to figure out what the @#$ was wrong with the controller a year ago, and finding the code that the calculated ctrlTorqueAvailable to be 192% inscrutable, so even if I fixed the calculation, I couldn\u0027t fix the controller.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI want to see this applied- just so I can yell GENIUS at the top of my lungs. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003Ereavertm : yes, that may be font related. Have a look at the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92231-The-Linux-Thread\u0022 rel=\u0022external nofollow\u0022\u003ELinux thread\u003C/a\u003E to see the common linux problem. If it\u0027s not that then you\u0027ll have to post a log (see \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/92229-How-To-Get-Support-%28READ-FIRST%29\u0022 rel=\u0022external nofollow\u0022\u003Ethere\u003C/a\u003E to find it.\u003Cp\u003EI\u0027m glad that you offer to fix it then\u003C/p\u003E\u003Cp\u003EYes, it is a problem but not one as easily solved as you think\u003C/p\u003E\u003Cp\u003EYou may want to look at ctrlTorqueAvailable type before saying that. \u003C/p\u003E\u003Cp\u003ESorry for writing inscrutable code. I\u0027ll wait for your glorious fix.\u003C/p\u003E\u003Cp\u003EI m tired of people complaining but never doing much more. Most of those who complain about their plane stability don\u0027t post their craft. How am I supposed to fix anything out of thin air ? Have a look at Mekan1k post and see how you can make MJ work better.\u003C/p\u003E\u003Cp\u003EEdit : I can\u0027t even swear anymore. I may have to switch to French.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks Sarbian!\u003C/p\u003E\n"},{"CreatedByName":"JedTech","CreatedById":104003,"CreatedDateTime":"2014-11-10T05:55:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI just tested with jmanidb example. Copied it in a landing.cfg in GameData\\MechJeb2 and I have the landing site on the landing guidance windows.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen I moved landingsites.cfg into the MechJeb2 folder and renamed it to \u0022landing.cfg\u0022 as you said you have, I was able to get it working.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-11-10T08:48:50Z","Content":"\n\u003Cp\u003EIt\u0027s pretty sad that people can\u0027t offer feedback or report bugs without it getting under other people\u0027s skin. There was really nothing in Numerobis post that warranted that kind of hostility, Sarbian.\u003C/p\u003E\n"}]}