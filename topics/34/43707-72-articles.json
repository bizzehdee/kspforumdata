{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":72,"Articles":[{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-10T23:25:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bsalis\u0022 data-cite=\u0022bsalis\u0022\u003E\u003Cdiv\u003ELiking this mod. Thought I would post here my K-prize qualifying run, done completely under kOS control.\u003Cp\u003EIt\u0027s on SkyDrive - clicky pic below to play.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://skydrive.live.com/?cid=49158b6f83f01ff0\u0026amp;id=49158B6F83F01FF0%21105#cid=49158B6F83F01FF0\u0026amp;id=49158B6F83F01FF0%21112\u0026amp;v=3\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://farm4.staticflickr.com/3684/10771511616_d3cfd4d8bb_o.png\u0022 alt=\u002210771511616_d3cfd4d8bb_o.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s an impressive feat but I can\u0027t read any of the text in the terminal in the video. The game was running at high-res, but the video was being captured at low-res, which makes all the writing small and blurred out.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-11T03:55:39Z","Content":"\n\u003Cp\u003EIf anyone is playing with Real Solar System Mod (and FAR obviously) here is an ascent profile I made based on one of asmi\u0027s posts! Could be tweaked for Stock Kerbin too \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tset Final to 300000.      //Target Orbit\u003Cbr\u003E\tset t to 0.\u003Cbr\u003E\tLock throttle to t.\u003Cbr\u003E\tset Mach to 343.2.\u003Cbr\u003E\u003Cbr\u003E// Converting from Vector to \u0027NavBall\u0027\u003Cbr\u003E\tlock tfv to velocity:surface.\u003Cbr\u003E\u003Cbr\u003E\tlock tfA to latitude.\u003Cbr\u003E\u003Cbr\u003E\tlock tfuy to up:yaw.\u003Cbr\u003E\tlock tfB to 0 - tfuy.\u003Cbr\u003E\u003Cbr\u003E\tlock tfW to tfv:x*cos(tfB) \u002B 0 \u002B tfv:z*sin(tfB).\u003Cbr\u003E\tlock tfN to tfv:x*sin(tfA)*sin(tfB) \u002B tfv:y*cos(tfA) \u002B tfv:z*(0-sin(tfA)*cos(tfB)).\u003Cbr\u003E\tlock tfU to tfv:x*(0-cos(tfA)*sin(tfB)) \u002B tfv:y*sin(tfA) \u002B tfv:z*cos(tfA)*cos(tfB).\u003Cbr\u003E\u003Cbr\u003E\tlock tfE to 0 - tfW.\u003Cbr\u003E\u003Cbr\u003E\tlock tfradius to (tfe^2 \u002B tfn^2 \u002B tfu^2)^0.5.\u003Cbr\u003E\u003Cbr\u003E\tlock incl to arcsin(tfu/tfradius).\u003Cbr\u003E\u003Cbr\u003E// End of conversion, didn\u0027t include azimuth because it isn\u0027t needed in this program\u003Cbr\u003E\u003Cbr\u003E\tset flag to 0.      //You\u0027ll know what this is for later\u003Cbr\u003E\u003Cbr\u003E\tstage.      // Can be removed, depends on staging, like turning engines on before launchclamps\u003Cbr\u003E\tset pVal to 90.      //pitch value\u003Cbr\u003E\tlock steering to heading 90 by pVal.      //90 means East, 0 means North, if you want a different angle change that 90\u003Cbr\u003E\tPrint 3. wait 1.      //Countdown\u003Cbr\u003E\tPrint 2. wait 1.\u003Cbr\u003E\tPrint 1. wait 1.\u003Cbr\u003E\tset t to 1.\u003Cbr\u003E\tstage.\u003Cbr\u003E\tPrint \u0022Launch!\u0022.\u003Cbr\u003E\u003Cbr\u003E\twhen tfv:mag \u0026gt;= 60 then {Print \u0022Gravity Turn.\u0022. set pVal to 85.}.      //tfv = surface velocity vector\u003Cbr\u003E\twhen tfv:mag \u0026gt;= 160 then {set pVal to 80.}.\u003Cbr\u003E\twhen tfv:mag \u0026gt;= 0.8*Mach then {set pVal to 70.}.\u003Cbr\u003E\twhen tfv:mag \u0026gt;= 1.2*Mach then {\u003Cbr\u003E\t\tuntil incl\u0026lt;=50 {      //Incl obtained from the conversion\u003Cbr\u003E\t\t\tset pVal to incl-5.\u003Cbr\u003E\t\t}. \u003Cbr\u003E\t}.\u003Cbr\u003E\twhen tfv:mag \u0026gt;=4.5*Mach then {\u003Cbr\u003E\t\tuntil apoapsis \u0026gt;= Final*0.85 {\u003Cbr\u003E\t\t\tset pVal to incl-10.\u003Cbr\u003E\t\t\tif incl\u0026lt;=0 {break.}.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t\tlock steering to prograde.\u003Cbr\u003E\t\tset t to 0.5.\u003Cbr\u003E\t\tset flag to 1.\u003Cbr\u003E\t}.\u003Cbr\u003E\twhen flag = 1 then {      //Here is the flag\u0027s purpose\u003Cbr\u003E\t\twait until apoapsis \u0026gt;= Final.\u003Cbr\u003E\t\tset t to 0.\u003Cbr\u003E\t\tset flag to 2.\u003Cbr\u003E\t}.\u003Cbr\u003E\twhen flag = 2 then {\u003Cbr\u003E\t\t// Insert Circularization Program Here\u003Cbr\u003E\t\tset flag to 3.\u003Cbr\u003E\t}.\u003Cbr\u003E\twait until flag = 3.      // This needs to be here or the program ends in like a second \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe program does not include staging, because there are many different combinations! Make sure to add that or do it manually!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-11T03:59:42Z\u0022 title=\u002211/11/2013 03:59  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 11, 2013\u003C/time\u003E by AbeS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-11T04:28:51Z","Content":"\n\u003Cp\u003EA part of the code looked like this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tlock tfW to tfv:x*cos(tfB) \u002B 0 \u002B tfv:z*sin(tfB).\u003Cbr\u003E\tlock tfN to tfv:x*sin(tfA)*sin(tfB) \u002B tfv:y*cos(tfA) \u002B tfv:z*(0-sin(tfA)*cos(tfB)).\u003Cbr\u003E\tlock tfU to tfv:x*(0-cos(tfA)*sin(tfB)) \u002B tfv:y*sin(tfA) \u002B tfv:z*cos(tfA)*cos(tfB).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHas the bug fix for the problem where you couldn\u0027t lock variables that contain capital letters been released on Spaceport yet? Kevin said on github it was fixed but I don\u0027t remember there being a Spaceport update since then.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-11T04:33:17Z","Content":"\n\u003Cp\u003EI didn\u0027t really know about that issue, it works perfectly fine and I have the spaceport version \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"bsalis","CreatedById":32928,"CreatedDateTime":"2013-11-11T10:07:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIt\u0027s an impressive feat but I can\u0027t read any of the text in the terminal in the video. The game was running at high-res, but the video was being captured at low-res, which makes all the writing small and blurred out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. It\u0027s all blurry from the video compression. I wanted to make sure the video was not too large in size.\u003C/p\u003E\u003Cp\u003EIf anyone is interested you can \u003Ca href=\u0022http://users.on.net/~bsalis/kOsKprize.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehave a look at the script here.\u003C/a\u003E It\u0027s not pretty, but it works fine and can be adapted to other SSTO Spaceplanes. In summary, the sequences are as follows...\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELaunch and initial Ascent:\u003C/strong\u003E Launch was just a simple timed sequence. Jet ascent was another simple sequence of small pitch changes based on altitude.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EJet Acceleration:\u003C/strong\u003E Now things get interesting. From 12Km to the operational ceiling of 24Km, I scaled the pitch to a SIN curve, with an additional 12 degrees. Such that at 24Km, the peak of the curve, I would have 12 degree pitch to hold altitude.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERocket Ascent and Circularization:\u003C/strong\u003E This is triggered by fuel quantity. Then some more pitch changes by fuel quantity. Thrust cut when Ap hits 100Km. Circularization burn is triggered by ETA to Ap. Ends when Pe above 99.9Km. Once in orbit I start printing out the distance to KSC each second.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ERe-entry:\u003C/strong\u003E This is triggered upon a certain distance to KSC, but a longitude trigger would have worked just as well. Re-entry burn ends at a specific Pe. I just used a fixed pitch for re-entry, with a small change at 20Km.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EGlide Descent:\u003C/strong\u003E This was the hardest part for me. Beginning at 18Km, i used trigonometry to figure out a glide slope to the KSC runway threshold. Imagine a Right Triangle with the Hypotenuse a direct line from craft to runway. By running this algorithm over and over again, I could work out my deviation above or below the glide slope. I then used a linear scale of the deviation to set pitch (with some other tweaks), so as to hold the craft close to the slope.\u003C/p\u003E\u003Cp\u003EAs for (yaw) steering to make sure I was lined up with the runway. I just used a linear scale of latitude deviation to set yaw, with a max of 10 degrees and min of 0.1 degrees.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ELanding:\u003C/strong\u003E This sequence starts at 300m, with just holding current pitch, cancelling yaw, and lowering landing gear. At 100m another fixed pitch is used to start slowing vertical descent. Switching to radar altitude, at 20m i used a fixed pitch up to flare for a second. Then used a linear scale to set pitch based upon altitude between 20m and 3.5m. At 3.5m steering was unlocked and brakes turned on.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-11T12:50:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bsalis\u0022 data-cite=\u0022bsalis\u0022\u003E\u003Cdiv\u003EThanks. It\u0027s all blurry from the video compression. I wanted to make sure the video was not too large in size.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m hitting the same problem right now. I\u0027m trying to edit a narration audio track on top of the video and the cruddy freebie Windows Movie Maker keeps insisting on knocking down the input video quality from 1280x800 to 640x480 regardless of what settings I use.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-11T14:17:17Z","Content":"\n\u003Cp\u003EAn update to my skycrane/lander from before, this time using KOS 0.92:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/lJ9TwPL1CLQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003ENew things since last time:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EAir pressure and drag taken into account\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EParachute database (for air drag calculation)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ESpeedier loop by moving some things out to lock variables (now that I finally found why locks weren\u0027t working before was uppercase letters).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EParanoid behavior that assumes a mountain might spring up in front of it.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ETested on Kerbin, Mun, Duna, Minmus, and Ike with some highTWR craft and some low TWR craft.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThings that could be made better using new features of KOS but I haven\u0027t done it yet:\u003C/p\u003E\u003Cp\u003E(My first goal was just to get it to work and run at all under 0.92 even if it\u0027s using methods that 0.92 made obsolete and redundant).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ESample the air pressure using instruments (right now it calculates it from wiki database information).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EChange tfXYZtoENU into a lock expression instead of a subprogram to run each loop iteration.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdd better prediction to the PID control of the throttle so it truly is a real PID controller. (Right now it has problems trying to micro-control the movement of massive landers with low torque that cannot rotate very quickly, as they are always behind in their reactions).\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut those will probably wait because the next project I\u0027m interested in is a target interceptor. (Select a target craft in orbit around the same SOI body and say \u0022Please park yourself within a distance of X meters from that.\u0022 and have it fix inclinations, adjust orbit until there\u0027s a catch-up, and then match velocities when getting near.) I figure eventually we might have RCS translation thrust available and when we finally do, such a script would be a necessary first step toward docking.\u003C/p\u003E\n"},{"CreatedByName":"thox","CreatedById":64908,"CreatedDateTime":"2013-11-11T18:28:46Z","Content":"\n\u003Cp\u003EI am currently experiencing this:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i1301.photobucket.com/albums/ag109/XthoxX/koserror_zps4a33c9ff.jpg\u0022 alt=\u0022koserror_zps4a33c9ff.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t know if that is a bug or if I\u0027m doing something wrong, but if it is a bug then can it please be fixed soon? And if it isn\u0027t can somebody explain how to do it instead?\u003C/p\u003E\u003Cp\u003Eedit: The print command is only there to demonstrate that \u0027time \u002B 30\u0027 is actually a number, the problem is that the plugin doesn\u0027t seem to get that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-11T20:35:14Z\u0022 title=\u002211/11/2013 08:35  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 11, 2013\u003C/time\u003E by thox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"RabbiT_CZ","CreatedById":92523,"CreatedDateTime":"2013-11-11T19:05:22Z","Content":"\n\u003Cp\u003EUse time:seconds \u002B 30\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-11T19:27:37Z","Content":"\n\u003Cp\u003ESteven how did you get 0.92?\u003C/p\u003E\n"},{"CreatedByName":"aNewHope","CreatedById":76088,"CreatedDateTime":"2013-11-11T19:35:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003ESteven how did you get 0.92?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s out! There\u0027s a changelog where you can see the changes. Simply click download from spaceport.\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-11T19:35:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAn update to my skycrane/lander from before, this time using KOS 0.92\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI like the video. \u003C/p\u003E\u003Cp\u003EThe altitude issue seems to be a little fuzzy. To make sure the script could orbit over the landing site defined by longitude and latitude and record altitude and alt:radar. Deorbit burn and landing to be done on the next pass - now ground level altitude is known as a fact. This adds aiming for a landing site as a complication, especially if the landing site is not at the equator, though.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-11T19:56:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EI like the video. \u003Cp\u003EThe altitude issue seems to be a little fuzzy. To make sure the script could orbit over the landing site defined by longitude and latitude and record altitude and alt:radar. Deorbit burn and landing to be done on the next pass - now ground level altitude is known as a fact. This adds aiming for a landing site as a complication, especially if the landing site is not at the equator, though.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat would be a good idea except that you can\u0027t read radar altitude above about 10,000 m or so. so you can\u0027t do it on a world with atmosphere. You\u0027d just get captured on the first pass for being too low.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-11T22:09:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAn update to my skycrane/lander from before, this time using KOS 0.92:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGreat video! Shows the potential awesomeness that kOS has. Imagine expanding this just a little more...with a kethane mining rig/convertor. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBTW I like the end of your video. I did something similar when I was in middle school. Got an old camcorder that plugged into a vhs machine, and made a semi stopmotion animation using star trek action figures and a velociraptor toy from Jurassic Park. I think we also had the transport play set, though I thought it lacked special effects so I got an empty jar and put in water and gold glitter, like they apparently did in the Original series. Anyway at the end I added credits that I created using it was either an Atari 1200xl or a C64, cant remember which. I was sad when the rubber drive belt broke on one of them. Was able to switch to a tape drive but that didn\u0027t work well either...oh well. I think im done now...before I get even more off topic.\u003C/p\u003E\n"},{"CreatedByName":"rpayne88","CreatedById":58336,"CreatedDateTime":"2013-11-12T03:06:29Z","Content":"\n\u003Cp\u003EI\u0027ve got a problem. My coding won\u0027t save. I\u0027ll type and save it, then go into the VAB to tweak the design. When I go back to the launchpad and try to execute the program, it doesn\u0027t exist. I wind up having to recode the ship. Right now, I have about 100 lines for each manned ship in three programs: launch to orbit, EDL, and abort. I don\u0027t want to be retyping that constantly. Is there any way I could fix this?\u003C/p\u003E\n"},{"CreatedByName":"woodywood245","CreatedById":72562,"CreatedDateTime":"2013-11-12T03:25:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rpayne88\u0022 data-cite=\u0022rpayne88\u0022\u003E\u003Cdiv\u003EI\u0027ve got a problem. My coding won\u0027t save. I\u0027ll type and save it, then go into the VAB to tweak the design. When I go back to the launchpad and try to execute the program, it doesn\u0027t exist. I wind up having to recode the ship. Right now, I have about 100 lines for each manned ship in three programs: launch to orbit, EDL, and abort. I don\u0027t want to be retyping that constantly. Is there any way I could fix this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaybe this is a stupid question, but have you tried saving your files to the archive?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Esave filename to archive.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"a1270","CreatedById":92031,"CreatedDateTime":"2013-11-12T03:25:51Z","Content":"\n\u003Cp\u003E@rpayne88 you\u0027ll want to save files to the archive as going back to the VAB creates a new vessel. This also allows you to edit in notepad(\u002B\u002B). The archive is located in the Plugins\\PluginsData\\Archive directory in the main KSP directory. Save scripts as txt files. To switch to the archive you execute \u0022switch to 0.\u0022 and to switch back to local run \u0022switch to 1.\u0022. You can copy files from archive to local by running \u0022copy filename to 1.\u0022 while on the archive and \u0022copy filename from 0.\u0022 if you\u0027re on the local storage.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-12T09:38:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003EGreat video! Shows the potential awesomeness that kOS has. Imagine expanding this just a little more...with a kethane mining rig/convertor. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EBTW I like the end of your video. I did something similar when I was in middle school. Got an old camcorder that plugged into a vhs machine, and made a semi stopmotion animation using star trek action figures and a velociraptor toy from Jurassic Park. I think we also had the transport play set, though I thought it lacked special effects so I got an empty jar and put in water and gold glitter, like they apparently did in the Original series. Anyway at the end I added credits that I created using it was either an Atari 1200xl or a C64, cant remember which. I was sad when the rubber drive belt broke on one of them. Was able to switch to a tape drive but that didn\u0027t work well either...oh well. I think im done now...before I get even more off topic.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI cheated. I just found a truetype font that looks like a commodore 64, and just used it to mock up that screen in Gimp.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-12T09:43:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AbeS\u0022 data-cite=\u0022AbeS\u0022\u003E\u003Cdiv\u003ESteven how did you get 0.92?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe version on Spaceport is 0.92, but the string inside the C# program that reports the version number on the screen didn\u0027t get updated and so the terminal window in the game still shows 0.91. This has happened a lot before with KOS mod - with the string showing in the game being behind the version it says it is in spaceport.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-12T14:17:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rpayne88\u0022 data-cite=\u0022rpayne88\u0022\u003E\u003Cdiv\u003EI\u0027ve got a problem. My coding won\u0027t save. I\u0027ll type and save it, then go into the VAB to tweak the design. When I go back to the launchpad and try to execute the program, it doesn\u0027t exist. I wind up having to recode the ship. Right now, I have about 100 lines for each manned ship in three programs: launch to orbit, EDL, and abort. I don\u0027t want to be retyping that constantly. Is there any way I could fix this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs others have said, save to the archive, or, as I do, use an external editor (kOS Win-IDE (for windows) which is syntax highlighted for kOS) and save them to the archive folder (Kerbal Space Program\\Plugins\\PluginData\\Archive).\u003C/p\u003E\u003Cp\u003EThen when you get your rocket on the launch pad:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ecopy *programname from archive.\u003Cbr\u003Erun *programname.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E*programname obviously is whatever name you used for your program.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI cheated. I just found a truetype font that looks like a commodore 64, and just used it to mock up that screen in Gimp.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELol i guess that works . Not many people still have a c64 laying around. I\u0027m sure if I looked at my parents I could find either the one they had or the one they got me at a garage sale 15-20 years ago (wow...i guess it has almost been that long ago). Who knows if they\u0027d still work though, plus I bet the drive belt in the 1541\u0027s has fallen apart by now. I know thats what happened to the atari 1050 drive I had. Even back in the early to mid 90\u0027s you couldn\u0027t find a replacement belt for it.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-11-12T14:54:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ELol i guess that works . Not many people still have a c64 laying around. I\u0027m sure if I looked at my parents I could find either the one they had or the one they got me at a garage sale 15-20 years ago (wow...i guess it has almost been that long ago). Who knows if they\u0027d still work though, plus I bet the drive belt in the 1541\u0027s has fallen apart by now. I know thats what happened to the atari 1050 drive I had. Even back in the early to mid 90\u0027s you couldn\u0027t find a replacement belt for it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you feel a hankerin\u0027 for old c64 stuff, these days there are emulators that will run everything on a modern computer.\u003C/p\u003E\u003Cp\u003EAnd yeah the 1541 drive is probably the weakest point in the C64 and most likely to break first. They were considered pretty low quality even back when they came out.\u003C/p\u003E\u003Cp\u003E\u003Cem\u003EDestroy Him, My Robots\u003C/em\u003E.\u003C/p\u003E\u003Cp\u003EAnyway, enough old computer nostalgia, back to KOS.\u003C/p\u003E\n"},{"CreatedByName":"AbeS","CreatedById":80644,"CreatedDateTime":"2013-11-12T17:25:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThe version on Spaceport is 0.92, but the string inside the C# program that reports the version number on the screen didn\u0027t get updated and so the terminal window in the game still shows 0.91. This has happened a lot before with KOS mod - with the string showing in the game being behind the version it says it is in spaceport.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was confused because it still says 0.9 in the thread title, didn\u0027t know about the updates\u003C/p\u003E\n"},{"CreatedByName":"baloan","CreatedById":91670,"CreatedDateTime":"2013-11-12T21:05:53Z","Content":"\n\u003Cp\u003EI have upgraded the warp script but found something strange. When assigning warp to a variable oldwp and later comparing warp to oldwp kOS throws an error. Not all warp levels are allowed according to \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Kerbin/RefFrame\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E table. You can find out when checking \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Ewarp\u003C/span\u003E which shows the actual warp level. So if you run this script in a 200km orbit you should see level 4 instead of level 6.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter t1.\u003Cbr\u003E// warp    (0:1) (1:5) (2:10) (3:50) (4:100) (5:1000) (6:10000) (7:100000)\u003Cbr\u003E// min alt        atmo   atmo   atmo    120k     240k      480k       600k\u003Cbr\u003Eset dt to t1 - time:seconds.\u003Cbr\u003Eif dt \u0026lt; 0 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warning: wait time \u0022 \u002B round(dt) \u002B \u0022 is in the past.\u0022.\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt;= 21600 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Waiting for \u0022 \u002B round(dt/21600) \u002B \u0022d\u0022 \u002B mod(round(dt),21600) \u002B \u0022s\u0022.\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Wait start @ \u0022 \u002B time:calendar \u002B \u0022, \u0022 \u002B time:clock.\u003Cbr\u003E}\u003Cbr\u003Eset oldwp to \u00220\u0022.\u003Cbr\u003Euntil time:seconds \u0026gt;= t1 {\u003Cbr\u003E    set rt to t1 - time:seconds.       // remaining time\u003Cbr\u003E    set wp to 0.\u003Cbr\u003E    if rt \u0026gt; 5      { set wp to 1. }\u003Cbr\u003E    if rt \u0026gt; 30     { set wp to 2. }\u003Cbr\u003E    if rt \u0026gt; 300    { set wp to 3. }\u003Cbr\u003E    if rt \u0026gt; 600    { set wp to 4. }\u003Cbr\u003E    if rt \u0026gt; 6000   { set wp to 5. }\u003Cbr\u003E    if rt \u0026gt; 60000  { set wp to 6. }\u003Cbr\u003E    if rt \u0026gt; 600000 { set wp to 7. }\u003Cbr\u003E    set warp to wp.\u003Cbr\u003E    if warp != oldwp {\u003Cbr\u003E        print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warp \u0022 \u002B warp \u002B \u0022, remaining wait \u0022 \u002B round(rt) \u002B \u0022s\u0022.\u003Cbr\u003E        set oldwp to warp.\u003Cbr\u003E    }\u003Cbr\u003E    wait 0.5.\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt;= 21600 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Wait complete @ \u0022 \u002B time:calendar \u002B \u0022, \u0022 \u002B time:clock.\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFirst time into the loop warp is compared to \u00220\u0022 -\u0026gt; works fine.\u003C/p\u003E\u003Cp\u003ESecond time into the loop warp is compated to oldpw -\u0026gt; error.\u003C/p\u003E\u003Cp\u003EI\u0027d expect to be able to compare oldwp to warp.\u003C/p\u003E\u003Cp\u003EBug or am I missing something?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.baldev.de/kos/screenshots/warpbug.PNG\u0022 alt=\u0022warpbug.PNG\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote: warpfor calls warpto.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-12T21:10:59Z\u0022 title=\u002211/12/2013 09:10  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 12, 2013\u003C/time\u003E by baloan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-11-12T22:21:11Z","Content":"\n\u003Cp\u003EI\u0027ve had problems, similar but not exactly....or not at all similar LOL.\u003C/p\u003E\u003Cp\u003EI have a formula for figuring out the orbital period. Originally I was using it to tell if node had a specific orbital period, and if not add/subtract from the node to change it. This doesn\u0027t work exactly (it kept bouncing back and forth) so I figured out I could work the formula backwards and find out what the Pe needed to be (keeping a relatively static Ap). I got it working but there were a few times (maybe still is i don\u0027t remember I was working on it late last night) where it was telling me that I can\u0027t subtract a string from a number (well duh) except both variables were created from a formula so they should both be numbers. Or maybe it was from a parameter or previously defined variable. At any rate it was used previously in the formula with out a problem. I fixed it at one point and then it came back again and I don\u0027t remember what I did to fix it. I\u0027ll work on it later tonight if I get a chance.\u003C/p\u003E\u003Cp\u003ESo long as it works and I can get the Pe for a 4hr orbital period I should be able to feed the \u0022mostly static\u0022 Ap and the future Pe (along with the current Ap/Pe) into the formula you provided a few days ago to get the deltav needed, which I can then plug into a node and I should be good to go. It\u0027s amazing how \u0022simply complex\u0022 this stuff can be, and how \u0022powerful\u0022 it is once you get an understanding of it.\u003C/p\u003E\u003Cp\u003EIt\u0027s been kind of fun, and sort of a little easier than I expect when I was working the orbital period formula backwards. Was pretty proud of my self when I printed out each step and it duplicated the numbers that were put into the formula originally. Once I get that part of it working I think I\u0027m going to break it out into reusable parts for future programs. \u003C/p\u003E\u003Cp\u003EOn another note, I didn\u0027t think \u0026gt;= and != were working yet. Last I knew they weren\u0027t implemented, unless I missed that part, wouldn\u0027t be the first time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022baloan\u0022 data-cite=\u0022baloan\u0022\u003E\u003Cdiv\u003EI have upgraded the warp script but found something strange. When assigning warp to a variable oldwp and later comparing warp to oldwp kOS throws an error. Not all warp levels are allowed according to \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/Kerbin/RefFrame\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E table. You can find out when checking \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Ewarp\u003C/span\u003E which shows the actual warp level. So if you run this script in a 200km orbit you should see level 4 instead of level 6.\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edeclare parameter t1.\u003Cbr\u003E// warp    (0:1) (1:5) (2:10) (3:50) (4:100) (5:1000) (6:10000) (7:100000)\u003Cbr\u003E// min alt        atmo   atmo   atmo    120k     240k      480k       600k\u003Cbr\u003Eset dt to t1 - time:seconds.\u003Cbr\u003Eif dt \u0026lt; 0 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warning: wait time \u0022 \u002B round(dt) \u002B \u0022 is in the past.\u0022.\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt;= 21600 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Waiting for \u0022 \u002B round(dt/21600) \u002B \u0022d\u0022 \u002B mod(round(dt),21600) \u002B \u0022s\u0022.\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Wait start @ \u0022 \u002B time:calendar \u002B \u0022, \u0022 \u002B time:clock.\u003Cbr\u003E}\u003Cbr\u003Eset oldwp to \u00220\u0022.\u003Cbr\u003Euntil time:seconds \u0026gt;= t1 {\u003Cbr\u003E    set rt to t1 - time:seconds.       // remaining time\u003Cbr\u003E    set wp to 0.\u003Cbr\u003E    if rt \u0026gt; 5      { set wp to 1. }\u003Cbr\u003E    if rt \u0026gt; 30     { set wp to 2. }\u003Cbr\u003E    if rt \u0026gt; 300    { set wp to 3. }\u003Cbr\u003E    if rt \u0026gt; 600    { set wp to 4. }\u003Cbr\u003E    if rt \u0026gt; 6000   { set wp to 5. }\u003Cbr\u003E    if rt \u0026gt; 60000  { set wp to 6. }\u003Cbr\u003E    if rt \u0026gt; 600000 { set wp to 7. }\u003Cbr\u003E    set warp to wp.\u003Cbr\u003E    if warp != oldwp {\u003Cbr\u003E        print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Warp \u0022 \u002B warp \u002B \u0022, remaining wait \u0022 \u002B round(rt) \u002B \u0022s\u0022.\u003Cbr\u003E        set oldwp to warp.\u003Cbr\u003E    }\u003Cbr\u003E    wait 0.5.\u003Cbr\u003E}\u003Cbr\u003Eif dt \u0026gt;= 21600 {\u003Cbr\u003E    print \u0022T\u002B\u0022 \u002B round(missiontime) \u002B \u0022 Wait complete @ \u0022 \u002B time:calendar \u002B \u0022, \u0022 \u002B time:clock.\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFirst time into the loop warp is compared to \u00220\u0022 -\u0026gt; works fine.\u003C/p\u003E\u003Cp\u003ESecond time into the loop warp is compated to oldpw -\u0026gt; error.\u003C/p\u003E\u003Cp\u003EI\u0027d expect to be able to compare oldwp to warp.\u003C/p\u003E\u003Cp\u003EBug or am I missing something?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.baldev.de/kos/screenshots/warpbug.PNG\u0022 alt=\u0022warpbug.PNG\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote: warpfor calls warpto.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-12T22:24:33Z\u0022 title=\u002211/12/2013 10:24  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 12, 2013\u003C/time\u003E by Sma\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"a1270","CreatedById":92031,"CreatedDateTime":"2013-11-12T22:24:52Z","Content":"\n\u003Cp\u003E@baloan I sent in a pull request to fix this. Very simple fix, I see no reason why it won\u0027t be merged in once Nivekk sees it.\u003C/p\u003E\n"}]}