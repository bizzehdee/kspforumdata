{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":84,"Articles":[{"CreatedByName":"Pure_Diamond","CreatedById":100558,"CreatedDateTime":"2014-11-20T00:17:22Z","Content":"\n\u003Cp\u003EHow does this interact with Remotech?\u003C/p\u003E\n"},{"CreatedByName":"steddyj","CreatedById":80288,"CreatedDateTime":"2014-11-20T01:55:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sinza\u0022 data-cite=\u0022Sinza\u0022\u003E\u003Cdiv\u003EOk, back again I just downloaded the latest Version of kOS but the problem still exsists.\u003Cp\u003EI tried to following with a new \u0022clean\u0022 install of KSP 32-bit.:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET shipsparts TO SHIP:PARTS.\u003Cbr\u003EPRINT shipsparts.\u003Cbr\u003ESET mainengine TO SHIP:PARTSDUBBED(\u0022liquidEngine2\u0022).\u003Cbr\u003EPRINT mainengine.\u003Cbr\u003ESET enginemodule TO mainengine:MODULES.\u003Cbr\u003EPRINT enginemodule.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ebut it still returns the problem I reported in my first post \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-25-kOS-Scriptable-Autopilot-System-v0-15-0-2014-11-16?p=1547961\u0026amp;viewfull=1#post1547961\u0022 rel=\u0022external nofollow\u0022\u003E http://forum.kerbalspaceprogram.com/threads/68089-0-25-kOS-Scriptable-Autopilot-System-v0-15-0-2014-11-16?p=1547961\u0026amp;viewfull=1#post1547961\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESinza -\u003C/p\u003E\u003Cp\u003EI ran into this the other day. The issue is that you\u0027re assuming (as I was the other day) that SHIP:PARTSDUBBED(\u0022liquidEngine2\u0022) will return an instance of a Part structure, when instead it\u0027s a List structure. You\u0027ll see this when you PRINT mainengine., it will say it\u0027s a LIST of (probably) one item. If you only expect one return from that output, you can set main engine to the first output of the PARTSDUBBED command like like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESET mainengine TO SHIP:PARTSDUBBED(\u0022liquidEngine2\u0022)[0].\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI swear there\u0027s also example code in the documentation that shows this including how to add error checking, but I\u0027ll be damned if I can find it right now. Here\u0027s what I used in my satellite deployment script.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EIF ship:partstagged(\u0022payload_dcplr\u0022):LENGTH = 0 {\u003Cbr\u003E\tPRINT \u0022Payload decoupler could not be identified.  Manual abort required\u0022.\u003Cbr\u003E\tPrint \u0022Hit CTRL\u002BC to abort deployment\u0022.\u003Cbr\u003E\tset x to 1.\u003Cbr\u003E\tWait until x = 0.\u003Cbr\u003E} ELSE IF ship:partstagged(\u0022payload_dcplr\u0022):LENGTH \u0026gt; 1 {\u003Cbr\u003E\tPRINT \u0022Multiple Payload decouplers identified.  Manual abort required\u0022.\u003Cbr\u003E\tPrint \u0022Hit CTRL\u002BC to abort deployment\u0022.\u003Cbr\u003E\tset x to 1.\u003Cbr\u003E\tWait until x = 0.\u003Cbr\u003E} ELSE set deploy_device to ship:partstagged(\u0022payload_dcplr\u0022)[0].\u003Cbr\u003Eset deploy_ctrl to deploy_device:getmodule(\u0022ModuleDecouple\u0022).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESince I\u0027m tossing this code up anyway, does anyone know of a command to abort an executing script? The only thing documented in the Flow COntrol section of the docs is BREAK, which only works in loops. EXIT and ABORT didn\u0027t seem to do anything, so I set up the infinite loops prompting a manual abort shown.\u003C/p\u003E\u003Cp\u003EEDIT: I found the doc I was looking for, it\u0027s the Ship Parts and Modules doc: \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/summary_topics/ship_parts_and_modules/index.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/summary_topics/ship_parts_and_modules/index.html\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-20T02:39:15Z\u0022 title=\u002211/20/2014 02:39  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 20, 2014\u003C/time\u003E by steddyj\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-20T03:48:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022steddy\u0022 data-cite=\u0022steddy\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EIF ship:partstagged(\u0022payload_dcplr\u0022):LENGTH = 0 {\u003Cbr\u003E\tPRINT \u0022Payload decoupler could not be identified.  Manual abort required\u0022.\u003Cbr\u003E\tPrint \u0022Hit CTRL\u002BC to abort deployment\u0022.\u003Cbr\u003E\tset x to 1.\u003Cbr\u003E\tWait until x = 0.\u003Cbr\u003E} ELSE IF ship:partstagged(\u0022payload_dcplr\u0022):LENGTH \u0026gt; 1 {\u003Cbr\u003E\tPRINT \u0022Multiple Payload decouplers identified.  Manual abort required\u0022.\u003Cbr\u003E\tPrint \u0022Hit CTRL\u002BC to abort deployment\u0022.\u003Cbr\u003E\tset x to 1.\u003Cbr\u003E\tWait until x = 0.\u003Cbr\u003E} ELSE set deploy_device to ship:partstagged(\u0022payload_dcplr\u0022)[0].\u003Cbr\u003Eset deploy_ctrl to deploy_device:getmodule(\u0022ModuleDecouple\u0022).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPro tip: the queries performed by these can be expensive at times depending on your ship\u0027s part count. If re-using the same query multiple times, store it in a variable first for faster execution, like so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset decouplers to ship:partstagged(\u0022payload_dcplr\u0022).\u003Cbr\u003Eif decouplers:length = 0 { \u003Cbr\u003E  stuff\u003Cbr\u003E} else if decouplers:length \u0026gt; 0 {\u003Cbr\u003E  stuff\u003Cbr\u003E} else {\u003Cbr\u003E  set deploy_device to decouplers[0].\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ESince I\u0027m tossing this code up anyway, does anyone know of a command to abort an executing script? \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t exist yet. You\u0027ll have to wrap things in if checks and set flags to descend to the bottom of the program. Part of the problem is that we don\u0027t yet know how functions or procdures will be incorporated into the language, which sort of affects what the right way to implement such a thing would be (there being more than one kind of premature exit - full exit, function return with value, etc - not knowing how that will look in the end is making us not want to make any early commitments to one way over another.)\u003C/p\u003E\n"},{"CreatedByName":"politas","CreatedById":119649,"CreatedDateTime":"2014-11-20T08:52:10Z","Content":"\n\u003Cp\u003EI\u0027m getting these messages in my ksp.log (tracking down what I think is an unrealated issue.) I\u0027m running on Linux, kOS 0.15.2\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 19:31:39.463] KOSToolBarWindow: Now making instance number 2 of KOSToolBarWindow\u003Cbr\u003E[WRN 19:31:39.465] UnityEngine.GUISkin must be instantiated using the ScriptableObject.CreateInstance method instead of new GUISkin.\u003Cbr\u003E[LOG 19:31:39.465] custom styles is null\u003Cbr\u003E[LOG 19:31:39.540] The SpaceNavigator driver is a Windows-Only feature at the moment.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-20T09:33:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022politas\u0022 data-cite=\u0022politas\u0022\u003E\u003Cdiv\u003EI\u0027m getting these messages in my ksp.log (tracking down what I think is an unrealated issue.) I\u0027m running on Linux, kOS 0.15.2\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 19:31:39.463] KOSToolBarWindow: Now making instance number 2 of KOSToolBarWindow\u003Cbr\u003E[WRN 19:31:39.465] UnityEngine.GUISkin must be instantiated using the ScriptableObject.CreateInstance method instead of new GUISkin.\u003Cbr\u003E[LOG 19:31:39.465] custom styles is null\u003Cbr\u003E[LOG 19:31:39.540] The SpaceNavigator driver is a Windows-Only feature at the moment.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually that\u0027s quite useful. I was annoyed at the fact that there\u0027s no proper copy constructor for UnityEngine.GUISkin. The documentation for Unity (which is just about as bad as the documentation for KSP) didn\u0027t make a mention anywhere on the page for GUISkin of the fact that the reason there\u0027s no copy constructor is because there\u0027s a factory method instead for creating GUISkins.... That one piece of the log said a mouthful there.\u003C/p\u003E\n"},{"CreatedByName":"Sinza","CreatedById":117356,"CreatedDateTime":"2014-11-20T17:27:22Z","Content":"\n\u003Cp\u003EHello steddyi,\u003C/p\u003E\u003Cp\u003Ethank you for your \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-25-kOS-Scriptable-Autopilot-System-v0-15-2-2014-11-19?p=1551508\u0026amp;viewfull=1#post1551508\u0022 rel=\u0022external nofollow\u0022\u003Eresponse\u003C/a\u003E. After some fiddling around on yesterdays evening I finally found out how to work with it.\u003C/p\u003E\u003Cp\u003ESo if someone is interestet in my first \u0022complete\u0022 (regarding to launching and landing) script, here you can find the script and the craft:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/sh/ln3g3o2l1k3krwr/AAABpRkNyyMdC4kGFRRTSnKWa?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/ln3g3o2l1k3krwr/AAABpRkNyyMdC4kGFRRTSnKWa?dl=0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAny comments are welcome, I would really like to know if I could make something better.\u003C/p\u003E\u003Cp\u003EPS: Instead of \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E LOCK THROTTLE TO 1. \u003C/pre\u003E\u003Cp\u003E I also tried \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E SET control TO SHIP:CONTROL. SET control:MAINTHRUST TO 1. \u003C/pre\u003E\u003Cp\u003E but this method only worked by executing it directly inside the kOS window and not when being embebbed into the script I wrote. Was that my fault or a error in kOS?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eclearscreen.\u003Cbr\u003EPRINT \u0022Starting ILL - Ignition, Launch and Landing program.\u0022.\u003Cbr\u003ELOCK THROTTLE TO 0.\u003Cbr\u003EWAIT 2.\u003Cbr\u003ELOCK STEERING TO UP.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003EPRINT \u0022                                                                       \u0022.\u003Cbr\u003ESET x TO 0.\u003Cbr\u003EUNTIL  x = 5 { PRINT \u0022Loading program...\u0022 AT (0,2). WAIT 1. PRINT  \u0022                          \u0022 AT (0,2). WAIT 1. SET x TO x \u002B 1. }.\u003Cbr\u003EWAIT 1.\u003Cbr\u003EPRINT \u0022Program loaded.              \u0022 AT (0,2).\u003Cbr\u003EWAIT 2.\u003Cbr\u003EPRINT \u0022Starting Engine...\u0022 AT (0,4).\u003Cbr\u003EWAIT 2.\u003Cbr\u003ESET engine TO SHIP:PARTSDUBBED(\u0022liquidengine\u0022).\u003Cbr\u003ESET enginemodule TO LIST().\u003Cbr\u003EFOR eng IN engine { enginemodule:ADD(eng:GETMODULE(\u0022ModuleEngines\u0022)). }.\u003Cbr\u003EFOR eng IN enginemodule { eng:DOEVENT(\u0022Activate Engine\u0022). }.\u003Cbr\u003EPRINT \u0022Engine Running!\u0022 AT (0,6).\u003Cbr\u003EWAIT 1.5.\u003Cbr\u003EPRINT \u0022Throttle up and release at Countdown = 0!\u0022 AT (0,8).\u003Cbr\u003EWAIT 2.\u003Cbr\u003EPRINT \u0022Countdown:\u0022 AT (0,10).\u003Cbr\u003EWAIT 2.\u003Cbr\u003ESET x TO 10.\u003Cbr\u003EUNTIL  x = 0 { PRINT x AT (11,10). SET x TO x - 1. WHEN x \u0026lt; 5 THEN { LOCK  THROTTLE TO 0.2. }. WAIT 1. PRINT \u0022        \u0022 AT (11,10). WAIT 0.5. }.\u003Cbr\u003EPRINT \u00220\u0022 AT (11,10).\u003Cbr\u003EWAIT 0.1.\u003Cbr\u003ELOCK THROTTLE TO 0.5.\u003Cbr\u003EWAIT 0.8.\u003Cbr\u003ESET clamps TO SHIP:PARTSDUBBED(\u0022launchClamp1\u0022).\u003Cbr\u003ESET clampmod TO LIST().\u003Cbr\u003EFOR c IN clamps { clampmod:ADD(c:GETMODULE(\u0022LaunchClamp\u0022)). }.\u003Cbr\u003EFOR c IN clampmod { c:DOEVENT(\u0022Release Clamp\u0022). }.\u003Cbr\u003EPRINT \u0022Liftoff!\u0022 AT (0,12).\u003Cbr\u003EWAIT 2.\u003Cbr\u003ELOCK THROTTLE TO 1.\u003Cbr\u003EWAIT 3.\u003Cbr\u003ECLEARSCREEN.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022 \u0022.\u003Cbr\u003EPRINT \u0022Status:\u0022 \u002B STATUS AT (0,0).\u003Cbr\u003EWAIT UNTIL ALTITUDE \u0026gt; 2000.\u003Cbr\u003ELOCK THROTTLE TO 0.\u003Cbr\u003EWAIT 0.8.\u003Cbr\u003ESET pchutes TO SHIP:PARTSDUBBED(\u0022parachuteRadial\u0022).\u003Cbr\u003ESET chutesmod TO LIST().\u003Cbr\u003EFOR p IN pchutes { chutesmod:ADD(p:GETMODULE(\u0022ModuleParachute\u0022)). }.\u003Cbr\u003ESET landinglegs TO SHIP:PARTSDUBBED(\u0022landingLeg1-2\u0022).\u003Cbr\u003ESET legsmod TO LIST().\u003Cbr\u003EFOR l IN landinglegs { legsmod:ADD(l:GETMODULE(\u0022ModuleLandingLeg\u0022)). }.\u003Cbr\u003EWHEN ALTITUDE \u0026lt; 1700 THEN { PRINT \u0022Starting landing sequence\u0022 AT (0,2). }.\u003Cbr\u003EWHEN ALTITUDE \u0026lt; 1500 THEN { PRINT \u0022Lowering Landing Legs\u0022 AT (0,4). FOR l IN legsmod { l:DOEVENT(\u0022Lower Legs\u0022). }. }.\u003Cbr\u003EWHEN ALTITUDE \u0026lt; 1080 THEN { PRINT \u0022Firing Parachutes!\u0022 AT (0,6). }.\u003Cbr\u003EWHEN ALTITUDE \u0026lt; 1000 THEN { FOR p IN chutesmod { p:DOEVENT(\u0022Deploy Chute\u0022). }. }.\u003Cbr\u003EWHEN  ALTITUDE \u0026lt; 500 THEN { PRINT \u0022Shutting down the engine.\u0022 AT (0,8).  FOR eng IN enginemodule { eng:DOEVENT(\u0022Shutdown Engine\u0022). }. }.\u003Cbr\u003EWAIT UNTIL STATUS = \u0022LANDED\u0022.\u003Cbr\u003EWHEN STATUS = \u0022LANDED\u0022 THEN { PRINT STATUS AT (7,0). }.\u003Cbr\u003EWAIT 2.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EGreetings.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-20T19:35:35Z\u0022 title=\u002211/20/2014 07:35  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 20, 2014\u003C/time\u003E by Sinza\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2014-11-20T18:23:57Z","Content":"\n\u003Cp\u003EIn relation to my \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68089-0-25-kOS-Scriptable-Autopilot-System-v0-15-2-2014-11-19?p=1548099\u0026amp;viewfull=1#post1548099\u0022 rel=\u0022external nofollow\u0022\u003Eprevious post\u003C/a\u003E and a related \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/389\u0022 rel=\u0022external nofollow\u0022\u003Eissue 389\u003C/a\u003E. I have found the same strange response to steering attempt in a craft that could only use control surfaces and engine gimbal to maneuver - rapid wiggling of the control elements, also visible on the GUI indicator (see the video I attached to the post mentioned). Thus, the rocket fails to align with the given yaw angle.\u003C/p\u003E\u003Cp\u003EReproduction steps on the 32-bit KSP v0.25.0.642 \u0026amp; kOS v0.15.1: build a 3.75m rocket with the KR-2L and two large tanks, some winglets at the bottom, but no reaction wheel modules (or get the said rocket \u003Ca href=\u0022https://www.dropbox.com/s/dyuswjrvqviv0dx/kOS%20issue%202%20test.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Efrom here\u003C/a\u003E). Launch it and run the following script (or \u003Ca href=\u0022https://www.dropbox.com/s/3gpn6n12eu7ywe9/kt2.ks?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Edownload it\u003C/a\u003E):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET c_pitch TO 0.\u003Cbr\u003ESET c_throttle TO 1.\u003Cbr\u003ERCS OFF.\u003Cbr\u003ESAS OFF.\u003Cbr\u003ELOCK c_steering TO UP\u002BR(0,0,180)\u002BR(0,-c_pitch,0).\u003Cbr\u003ELOCK STEERING TO c_steering.\u003Cbr\u003ELOCK THROTTLE TO c_throttle.\u003Cbr\u003ESTAGE.\u003Cbr\u003E\u003Cbr\u003EUNTIL SHIP:ALTITUDE \u0026gt;= 2000 { WAIT 0.1. }.\u003Cbr\u003ELOCK THROTTLE TO 0.8.\u003Cbr\u003EUNTIL SHIP:APOAPSIS \u0026gt; 100000 {\u003Cbr\u003E    //    should smoothly pitch the craft from 0 degrees on 2km altitude to 90 degrees on 36.5km\u003Cbr\u003E    SET c_pitch TO 0.002727*SHIP:ALTITUDE-8.18182.\u003Cbr\u003E    IF c_pitch \u0026lt; 0 SET c_pitch TO 0.\u003Cbr\u003E    IF c_pitch \u0026gt;90 SET c_pitch TO 90.\u003Cbr\u003E\u003Cbr\u003E    CLEARSCREEN.\u003Cbr\u003E    PRINT \u0022Rocket now pitched \u0022 \u002B ROUND((UP\u002BR(0,0,180)):YAW-SHIP:FACING:YAW,1).\u003Cbr\u003E    PRINT \u0022Should instead be  \u0022 \u002B ROUND(c_pitch,1).\u003Cbr\u003E    WAIT 0.5.\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E//The code uses the word \u0022pitch\u0022 for the variable, though we\u0027ll actually observe yaw being changed.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EA similar effect to the one displayed on my\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/AAE8ofFepro?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E should be observed. The script will also continuously notify on the difference between the given pitch and the observed.\u003Cp\u003E@Steven: I feel this is strongly related, and if I\u0027m right it would prove that not only the RCS auto steering is broken, but all other means except for the reaction wheels as well.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-21T06:49:50Z\u0022 title=\u002211/21/2014 06:49  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 21, 2014\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003Cbr\u003Eterminology: SAS vs. reaction wheels\n\u003C/span\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2014-11-20T18:49:51Z","Content":"\n\u003Cp\u003EHas anyone else had an issue with getting boot files to work after the update to 15.x? I had been using a boot.txt file before the update without any issue. Now, boot.ks doesn\u0027t seem to launch or get copied to the local volume. I have run a simple script of just\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ewait 10.\u003Cbr\u003Eclearscreen.\u003Cbr\u003Etoggle ag10.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ewhere ag10 opens the console. I wait and nothing happens. If I open the console manually, the standard boot text is there (though it identifies as v0.15.1 even though I\u0027ve confirmed it is v0.15.2), and the clearscreen command has obviously not cleared anything. Listing files shows a single boot file on the local volume, but attempts to edit, copy, or rename all return that the file doesn\u0027t exist (edit displays [New File] on the terminal). The file size is pretty close to the actual size of the boot file (using the windows file properties dialog). My first thought was that it was complication due to me storing all of the scripts in dropbox and a directory link to point the script folder there, but the same holds true if I use a normal folder. I have also tried it both with compression turned on and without. If I switch to the archive and then \u0022run boot.\u0022 the boot script executes fine.\u003C/p\u003E\u003Cp\u003EI wanted to check and see if any one else has had this issue, or if I\u0027m just completely crazy, before issuing an issue on the github page. \u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-11-20T20:44:57Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E hvacengi\u003C/strong\u003E there was some issues with boot files in v0.15 but as far as i know they was due to changes, not bugs. The problem You described allow happened tu me but only on loading existing ship. After i recopied the files from archive to ship and quicksaved, the problem was gone. So that is more of a inconvenience than a bug.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E Reddy\u003C/strong\u003E This wiggling of the flaps etc. is kinda normal, the script is pointing the vessel in a very and i mean VERY specific position that is changing very fats with almost 0 margin for error, i remember MJ had the same issue( i don\u0027t know if it still have it).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-20T20:54:42Z\u0022 title=\u002211/20/2014 08:54  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 20, 2014\u003C/time\u003E by Trewor007\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Cairan","CreatedById":85361,"CreatedDateTime":"2014-11-20T20:50:18Z","Content":"\n\u003Cp\u003EI\u0027ve experienced an issue with \u0022boot.ks\u0022 being copied to Volume 1, but without the \u0022.ks\u0022 extension... I\u0027ll look into it, probably something related to the new file extension system.\u003C/p\u003E\n"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2014-11-20T22:08:20Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003Ecould anyone tell me why the following ascent program will not run?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[FONT=Courier]SET countdown TO 10.[/FONT]\u003Cbr\u003E[FONT=Courier]PRINT \u0022COUNTING DOWN:\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]UNTIL countdown = 0 {[/FONT]\u003Cbr\u003E[FONT=Courier]    PRINT \u0022...\u0022 \u002B countdown.[/FONT]\u003Cbr\u003E[FONT=Courier]    SET countdown TO countdown - 1.[/FONT]\u003Cbr\u003E[FONT=Courier]    WAIT 1.[/FONT]\u003Cbr\u003E[FONT=Courier]}.[/FONT]\u003Cbr\u003E[FONT=Courier]PRINT \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201CLOCKING STEERING TO UP. 1 SECOND TO STABILIZE.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]LOCK STEERING TO UP.[/FONT]\u003Cbr\u003E[FONT=Courier]WAIT 1.[/FONT]\u003Cbr\u003E[FONT=Courier]PRINT \u0022MAIN THROTTLE UP.  2 SECONDS TO STABILIZE.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]LOCK THROTTLE TO 1.0.[/FONT]\u003Cbr\u003E[FONT=Courier]WAIT 2.[/FONT]\u003Cbr\u003E[FONT=Courier]UNTIL SHIP:MAXTHRUST \u0026gt; 0 {[/FONT]\u003Cbr\u003E[FONT=Courier]    WAIT 0.5.[/FONT]\u003Cbr\u003E[FONT=Courier]    PRINT \u0022STAGE ACTIVATED.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]    STAGE.[/FONT]\u003Cbr\u003E[FONT=Courier]}.[/FONT]\u003Cbr\u003E[FONT=Courier]WHEN STAGE:LIQUIDFUEL \u0026lt; 0.001 THEN {[/FONT]\u003Cbr\u003E[FONT=Courier]    PRINT \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201CSTAGE EMPTY. STAGING.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]    STAGE.[/FONT]\u003Cbr\u003E[FONT=Courier]    PRESERVE.[/FONT]\u003Cbr\u003E[FONT=Courier]}.[/FONT]\u003Cbr\u003E[FONT=Courier]WHEN STAGE:SOLIDFUEL \u0026lt; 0.001 THEN {[/FONT]\u003Cbr\u003E[FONT=Courier]    PRINT \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201CSTAGE EMPTY. STAGING.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]    STAGE.[/FONT]\u003Cbr\u003E[FONT=Courier]    PRESERVE.[/FONT]\u003Cbr\u003E[FONT=Courier]}.[/FONT]\u003Cbr\u003E[FONT=Courier]WHEN ALTITUDE = 10000 THEN {[/FONT]\u003Cbr\u003E[FONT=Courier]    PRINT \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201CSTARTING ROLL PROGRAM.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]    LOCK STEERING TO HEADING(90,45).[/FONT]\u003Cbr\u003E[FONT=Courier]    WHEN HEADING = (90,45) THEN {[/FONT]\u003Cbr\u003E[FONT=Courier]        PRINT \u00C3\u00A2\u00E2\u201A\u00AC\u00C5\u201CROLL PROGRAM COMPLETE.\u00C3\u00A2\u00E2\u201A\u00AC\u00C2.[/FONT]\u003Cbr\u003E[FONT=Courier]    }.[/FONT]\u003Cbr\u003E[FONT=Courier]}.\u003Cbr\u003E[/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-family:Courier;\u0022\u003Elike it\u0027s not even malfunctioning during execution, it just doesn\u0027t run\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2014-11-20T23:47:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gkorgood\u0022 data-cite=\u0022gkorgood\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cspan style=\u0022font-family:arial;\u0022\u003E\u003Cspan style=\u0022font-family:Courier;\u0022\u003Elike it\u0027s not even malfunctioning during execution, it just doesn\u0027t run\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes it stage the one time? Because it looks like you\u0027re code is missing a closing delay. As long as it stages, adding \u0022wait until altitude \u0026gt; 70000.\u0022 (not a good choice of altitude permanently, but OK for proof of concept) should keep the script running. But the way you have it written, the when triggers get unloaded because there is no wait.\u003C/p\u003E\n"},{"CreatedByName":"steddyj","CreatedById":80288,"CreatedDateTime":"2014-11-21T03:25:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EPro tip: the queries performed by these can be expensive at times depending on your ship\u0027s part count. If re-using the same query multiple times, store it in a variable first for faster execution\u003C/div\u003E\u003C/blockquote\u003E \u003Cp\u003EYeah, I was being lazy. For some reason I\u0027ve never like using throwaway vars, probably an old happen from learning in C when they had to be declared at the top of your function. \u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EPart of the problem is that we don\u0027t yet know how functions or procdures will be incorporated into the language, which sort of affects what the right way to implement such a thing would be (there being more than one kind of premature exit - full exit, function return with value, etc - not knowing how that will look in the end is making us not want to make any early commitments to one way over another.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHonestly you\u0027re probably going to have to add in both a full stop and an exit with a return code. Sometimes an error will just need to terminate its own instance, and sometimes it\u0027ll be a fatal error requiring everything to halt. I would recommend adding both, or a method which could handle either case.\u003C/p\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2014-11-21T04:17:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EThis wiggling of the flaps etc. is kinda normal, the script is pointing the vessel in a very and i mean VERY specific position that is changing very fats with almost 0 margin for error, i remember MJ had the same issue( i don\u0027t know if it still have it).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETurns out you\u0027re wrong \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E Running the exact same script on the same rocket, but with 5 additional large reaction wheel modules between the tanks gives optimal performance.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/WU7DVM2.png\u0022 alt=\u0022WU7DVM2.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo I\u0027m still going to say that LOCK STEERING is broken on anything that has no RW torque.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-21T06:51:06Z\u0022 title=\u002211/21/2014 06:51  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 21, 2014\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003Cbr\u003Eterminology: SAS vs. reaction wheels\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-21T06:27:17Z","Content":"\n\u003Cp\u003ETerminology error: You\u0027re not using the word SAS correctly. Not only does LOCK STEERING not require SAS, but rather just the opposite. It doesn\u0027t even work *at all* with SAS. \u003C/p\u003E\u003Cp\u003EYou say \u0022SAS\u0022 when I think you mean \u0022torque wheels\u0022. They are not the same thing because SAS is still called SAS regardless of the mechanism it uses. It\u0027s still called SAS even when it\u0027s using monopropellant fuel to accomplish it.\u003C/p\u003E\u003Cp\u003E\u0022SAS\u0022 refers to the *mode* you toggle with the \u0022T\u0022 key, not the hardware that mode makes use of.\u003C/p\u003E\u003Cp\u003EIt could be the case that LOCK STEERING doesn\u0027t work properly without torque wheels, but if so it\u0027s very very weird that it doesn\u0027t, because all LOCK searing does is take control over the \u0022stick and rudder\u0022, overriding the player\u0027s WASDQE controls with its own. In other words when LOCK steering wants to pull up a bit, all LOCK STEERING DOES is tell KSP \u0022set the yoke to 50% back\u0022 and leaves it up to KSP to decide whether that means to use torque wheels or RCS or both. I haven\u0027t had my hands down in that code for a while. I didn\u0027t write it and have pretty much left it alone as a black box.\u003C/p\u003E\u003Cp\u003EThe only thing I think it might be is that in order to decide how to set the controls it seems to be asking the KSP API for some information about the vessel\u0027s rotational forces and that API might be only taking into account torque wheels. If so, the math would get very wonky indeed as it would end up dividing things by nearly zero values.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-21T06:38:30Z\u0022 title=\u002211/21/2014 06:38  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 21, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Reddy","CreatedById":124298,"CreatedDateTime":"2014-11-21T06:37:32Z","Content":"\n\u003Cp\u003EEDIT: You were right, I had the two confused. The posts are corrected now, should be legible for everyone.\u003C/p\u003E\u003Cp\u003EI don\u0027t know how does the LOCK STEERING work, under the hood. I have no experience in Unity, no knowledge of KSP code, and an aversion to C# - looked into the source anyways and only found that comment line in Utilities/SteeringHelper.cs:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// I take no credit for this, this is a stripped down, rearranged version of MechJeb\u0027s attitude control system\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003EAlthough, there is a good chance I wasn\u0027t even looking into the right file.\u003C/span\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-21T06:56:47Z\u0022 title=\u002211/21/2014 06:56  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 21, 2014\u003C/time\u003E by Reddy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kertherina","CreatedById":109293,"CreatedDateTime":"2014-11-21T14:16:40Z","Content":"\n\u003Cp\u003EHello again. I recently finally figured out how to also get roll of the ship, now i can start to write my own PID controller \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Many thanks to all who helped me in the past!\u003C/p\u003E\u003Cp\u003EI did run into a bug after updating to the current version. I have a cfg that adds the kOS module to every command part to avoid having to add the physical kOS processors with this code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART\u003Cbr\u003E[*]:HAS[@MODULE[ModuleCommand]]:Final{\u003Cbr\u003E\tMODULE\u003Cbr\u003E\t{\u003Cbr\u003E\t\tname = kOSProcessor\u003Cbr\u003E\t\tdiskSpace = 10000\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIt used to work perfectly. After updating kOS, when i try to launch something with a probe core i get a weird bug: After getting something to the launchpad (even only a probe core) my orbital velocity is 0 and instead i start with surface velocity of 400 m/s (Realism Overhaul). It doesn\u0027t move, but the Navball shows these velocities. If i activate an engine the craft accelerates as if there was no gravity holding it back, also heating acts as if i was really going at the 400\u002B m/s, so all kinds of strange stuff happening.\u003C/p\u003E\u003Cp\u003EHaving a probe core without using the cfg that adds the kOS module to every command part and a separate kOS processor part works. Also, command capsules don\u0027t produce this bug which is what confuses me even more.\u003C/p\u003E\u003Cp\u003EObviously, this is not the end of the world, i am mainly curious how something like this can cause a bug and want to let you all know. And for the record, i am using a lot of mods, list \u003Ca href=\u0022https://docs.google.com/document/d/16uzCv5pnRLLw-3RWNfduO9nBC9x2ozMkddww5YSmUXE/pub\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2014-11-21T15:20:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022hvacengi\u0022 data-cite=\u0022hvacengi\u0022\u003E\u003Cdiv\u003EDoes it stage the one time? Because it looks like you\u0027re code is missing a closing delay. As long as it stages, adding \u0022wait until altitude \u0026gt; 70000.\u0022 (not a good choice of altitude permanently, but OK for proof of concept) should keep the script running. But the way you have it written, the when triggers get unloaded because there is no wait.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t even think of that, thank you. going to test rn\u003C/p\u003E\u003Cp\u003EEDIT: that worked beautifully, the code runs now. however, i\u0027ve encountered an issue I\u0027m sure has been brought up before; how does one get the program to stage only once? i tried adding wait commands at each instance of stage, but kOS won\u0027t let me because some staging occurs in \u0022WHEN\u0022 clauses\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-21T16:04:53Z\u0022 title=\u002211/21/2014 04:04  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 21, 2014\u003C/time\u003E by gkorgood\u003C/strong\u003E\n\u003Cbr\u003EUpdate\n\u003C/span\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-11-21T16:43:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gkorgood\u0022 data-cite=\u0022gkorgood\u0022\u003E\u003Cdiv\u003EI didn\u0027t even think of that, thank you. going to test rn\u003Cp\u003EEDIT: that worked beautifully, the code runs now. however, i\u0027ve encountered an issue I\u0027m sure has been brought up before; how does one get the program to stage only once? i tried adding wait commands at each instance of stage, but kOS won\u0027t let me because some staging occurs in \u0022WHEN\u0022 clauses\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour problem may be that you\u0027re testing STAGE:SOLIDFUEL and STAGE:LIQUIDFUEL in separate WHEN triggers. Meaning that as soon as your last SRB burns out, SOLIDFUEL will remain zero and that trigger will keep triggering until you\u0027re out of stages. If you want ship-agnostic auto-staging code, testing for whether any engines are flamed out is probably the most general approach.\u003C/p\u003E\n"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2014-11-21T19:03:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022undercoveryankee\u0022 data-cite=\u0022undercoveryankee\u0022\u003E\u003Cdiv\u003EYour problem may be that you\u0027re testing STAGE:SOLIDFUEL and STAGE:LIQUIDFUEL in separate WHEN triggers. Meaning that as soon as your last SRB burns out, SOLIDFUEL will remain zero and that trigger will keep triggering until you\u0027re out of stages. If you want ship-agnostic auto-staging code, testing for whether any engines are flamed out is probably the most general approach.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethat is exactly what happens. my first instinct was to add a delay after each trigger, but the only thing i could think of was WAIT commands, and kOS gives me an error for having \u0022WAIT\u0022s in \u0022WHEN\u0022s\u003C/p\u003E\n"},{"CreatedByName":"hvacengi","CreatedById":124987,"CreatedDateTime":"2014-11-21T19:30:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gkorgood\u0022 data-cite=\u0022gkorgood\u0022\u003E\u003Cdiv\u003Ethat is exactly what happens. my first instinct was to add a delay after each trigger, but the only thing i could think of was WAIT commands, and kOS gives me an error for having \u0022WAIT\u0022s in \u0022WHEN\u0022s\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it was Steven who posted this fun little code block that I now use for staging. It\u0027s much more generic, and doesn\u0027t care which fuel you ran out of. It will also work with asparagus staging, assuming you have everything in the right order.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset stagemaxthrust to ship:maxthrust.\u003Cbr\u003Ewhen (ship:maxthrust\u0026lt;stagemaxthrust or ship:maxthrust\u0026lt;1) then {\u003Cbr\u003E    print \u0022Stage!\u0022.\u003Cbr\u003E    stage.\u003Cbr\u003E    set stagemaxthrust to ship:maxthrust.\u003Cbr\u003E    preserve.\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou could also add a check in the when...then code for each fuel \u0022if not stage:liquidfuel \u0026lt; 0.001 { stage. }\u0022 in the solid fuel loop, and vice versa in the liquid fuel loop. I also like to add a counter to my staging. So that it stops the preserve command if you stage more than a given number of times (say 20, since I can\u0027t recall having a rocket with that many stages).\u003C/p\u003E\u003Cp\u003EWait\u0027s in when...then code don\u0027t work because that code is executed outside of the timer execution. You also cannot use \u0022run\u0022 from within when...then.\u003C/p\u003E\n"},{"CreatedByName":"howkong","CreatedById":127511,"CreatedDateTime":"2014-11-22T04:44:33Z","Content":"\n\u003Cp\u003EIs there a way to preserve a \u0022when\u0022 trigger in a few seconds after activating the trigger?\u003C/p\u003E\u003Cp\u003E An immediate preserve sometimes causes trouble, but the \u0022wait\u0022 method cannot be used in a \u0022when\u0022 trigger...\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-22T12:53:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022howkong\u0022 data-cite=\u0022howkong\u0022\u003E\u003Cdiv\u003EIs there a way to preserve a \u0022when\u0022 trigger in a few seconds after activating the trigger?\u003Cp\u003E An immediate preserve sometimes causes trouble, but the \u0022wait\u0022 method cannot be used in a \u0022when\u0022 trigger...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELet\u0027s say you have this when-trigger right now:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ewhen whateverCondition then {\u003Cbr\u003E  dostuff.\u003Cbr\u003E  PRESERVE.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd you\u0027d like to change it into one in which it has a 3 second cooldown time before it can trigger again.\u003C/p\u003E\u003Cp\u003EThen edit it to be this instead:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset coolDownMark to 0.\u003Cbr\u003E\u003Cbr\u003Ewhen TIME:SECONDS \u0026gt; coolDownMark and whateverCondition then {\u003Cbr\u003E  set coolDownMark to TIME:SECONDS \u002B 3.\u003Cbr\u003E\u003Cbr\u003E  dostuff.\u003Cbr\u003E  PRESERVE.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Gfurst","CreatedById":126201,"CreatedDateTime":"2014-11-22T17:55:23Z","Content":"\n\u003Cp\u003EFinally gathering enough courage to delve into this type of automated flight.\u003C/p\u003E\u003Cp\u003EOne quick question: \u003C/p\u003E\u003Cp\u003EDoes SHIP:TERMVELOCITY actually gathers out terminal velocity, as in FAR flightdata, or does it calculate in a stock way? In other words, does it show a FAR compatible value?\u003C/p\u003E\u003Cp\u003EAnd one quick suggestion:\u003C/p\u003E\u003Cp\u003EMaybe you could think of linking up with the Kerbal Engineer mod , if its enabled, and use some of its reading data and stuff. After all it can require a part as simulation of the data being processed.\u003C/p\u003E\u003Cp\u003EThis could reduce the same data being processed in two different mods, but the main advantage is to make kOS a whole lot more intuitive to use.\u003C/p\u003E\u003Cp\u003EReduce the need of the user on burning his brain trying to come up with even simplest stuff. And potentially be more welcoming to lot of new users.\u003C/p\u003E\u003Cp\u003ELastly, how updated is the doc stuff?\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-11-22T18:40:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gfurst\u0022 data-cite=\u0022Gfurst\u0022\u003E\u003Cdiv\u003EFinally gathering enough courage to delve into this type of automated flight.\u003Cp\u003EOne quick question: \u003C/p\u003E\u003Cp\u003EDoes SHIP:TERMVELOCITY actually gathers out terminal velocity, as in FAR flightdata, or does it calculate in a stock way? In other words, does it show a FAR compatible value?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EkOS doesn\u0027t have any special cases to handle the fact that FAR breaks parts of the KSP API. kOS is just currently returning the stock game\u0027s notion of terminal velocity.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAnd one quick suggestion:\u003C/p\u003E\u003Cp\u003EMaybe you could think of linking up with the Kerbal Engineer mod , if its enabled, and use some of its reading data and stuff. After all it can require a part as simulation of the data being processed.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn general there should be external chunks of code to make kOS work with other mods that can be updated by other modders easily enough. I.E. a way to let other modders write kOS function calls that kOS scripts can use. In the meantime there is the ability to read things on a PartModule\u0027s fields, but not necessarily everything every other\u003C/p\u003E\u003Cp\u003Emod calculates.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThis could reduce the same data being processed in two different mods, but the main advantage is to make kOS a whole lot more intuitive to use.\u003C/p\u003E\u003Cp\u003EReduce the need of the user on burning his brain trying to come up with even simplest stuff. And potentially be more welcoming to lot of new users.\u003C/p\u003E\u003Cp\u003ELastly, how updated is the doc stuff?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s accurate as of kOS 0.15.2, just a week ago.\u003C/p\u003E\n"}]}