{"TopicId":64140,"ForumId":34,"TopicTitle":"[0.90WIP] Procedural Parts - Parts the way you want \u0026#039;em 0.9.21, Dec 19","CreatedByName":"swamp_ig","CreatedById":97983,"CreatedDateTime":"2014-02-24T06:17:22Z","PageNum":51,"Articles":[{"CreatedByName":"DIREWOLF20.","CreatedById":126505,"CreatedDateTime":"2014-10-19T17:16:27Z","Content":"\n\u003Cp\u003Emake procudaral engine\u0027s with liquid fuel engine jet engine\u0027s ion engine\u0027s and nuclear(more effecient but less power) solar panels and wheels and rover wheels and intake\u0027s pods make it awesome with a ton of items this would make this the best mod EVER\u003C/p\u003E\n"},{"CreatedByName":"coldblade2000","CreatedById":104385,"CreatedDateTime":"2014-10-19T20:15:02Z","Content":"\n\u003Cp\u003EIt says right in the OP that procedural engines are NOT planned.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-19T23:18:42Z","Content":"\n\u003Cp\u003EI said by Meta Materials, you will not have limits; that is not the same thing as saying, *until then* in the tech tree you won\u0027t have limits. My assumption (perhaps invalid) was that the screenshots were from earlier on in the tech tree, where things are limited.\u003C/p\u003E\u003Cp\u003ERegarding procedural engines: not happening any time soon. At *best* I will keep this mod *working*, which I stepped up to do because no one else had forked by then. I am not in a position to code gigantic new features, sorry. (Although, as always, pull requests are very welcome!)\u003C/p\u003E\n"},{"CreatedByName":"GiantTank","CreatedById":113180,"CreatedDateTime":"2014-10-22T21:10:05Z","Content":"\n\u003Cp\u003EI would just like to say thanks for making the best mod for your computer ever!\u003C/p\u003E\u003Cp\u003ESeriously. You can make your own everything. You dont need to keep so many parts in those mods, which kill your RAM. I just keep engines. It reduces part count so much too! Thanks so much!\u003C/p\u003E\u003Cp\u003EEDIT: How would I change the Srbbell size at the start? When you first add the SRB, I wanna have a bigger bell because I changed the start size to the booster size I always use, thrust too, but the bell is still starter size.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-24T20:46:50Z\u0022 title=\u002210/24/2014 08:46  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 24, 2014\u003C/time\u003E by GiantTank\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"GiantTank","CreatedById":113180,"CreatedDateTime":"2014-10-25T19:58:26Z","Content":"\n\u003Cp\u003E(Sorry for dbl post, edit button won\u0027t work). \u003C/p\u003E\u003Cp\u003EIt appears it is a bug. Bell size does not increase as thrust increases. Should I reinstall?\u003C/p\u003E\n"},{"CreatedByName":"SlickyNick","CreatedById":89576,"CreatedDateTime":"2014-10-27T15:09:28Z","Content":"\n\u003Cp\u003EI\u0027ve an issue with tanks. For some reason fuel tanks don\u0027t contain any fuel and cost is 0. Any idea what could be the issue?\u003C/p\u003E\u003Cp\u003EPossible conflict with some other mod?\u003C/p\u003E\n"},{"CreatedByName":"Noio","CreatedById":119519,"CreatedDateTime":"2014-10-27T15:58:02Z","Content":"\n\u003Cp\u003EI found an *excellent* bug this weekend - ships containing the procedural tanks will, after a few SOI changes, start logging errors about zero-mass parts, and will begin to \u0027accordion\u0027 slowly - imagine a bunch of small weights connected in a row by weak springs (so, weight - spring - weight -spring - weight ...), and then pushing on the one \u0027in back\u0027 to make the whole thing kind of inchworm along the long axis. It\u0027s very excellent looking but hard on the SAS. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI will poke through the code tonight and see if I can\u0027t make sense of it unless somebody else is already looking at this one.\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-10-27T22:12:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SlickyNick\u0022 data-cite=\u0022SlickyNick\u0022\u003E\u003Cdiv\u003EI\u0027ve an issue with tanks. For some reason fuel tanks don\u0027t contain any fuel and cost is 0. Any idea what could be the issue?\u003Cp\u003EPossible conflict with some other mod?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you at all install Real Fuels? Real Fuels will force you to pick your propellant (easiest way is to slap an engine underneath, toggle the engine to the desired fuel, right-click the fuel tank, and press a button to automatically fill it with the appropriate propellant mix). It\u0027ll also reduce the costs of fuel enormously to be more in line with reality, where fuel costs are basically pennies compared to the hardware.\u003C/p\u003E\u003Cp\u003EThat said, the cost for procedural fuel tanks seems way out of proportion with other tanks: KW tanks and stock tanks are costing ~40x more per volume than procedural fuel tanks.\u003C/p\u003E\n"},{"CreatedByName":"SlickyNick","CreatedById":89576,"CreatedDateTime":"2014-10-27T23:26:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starman4308\u0022 data-cite=\u0022Starman4308\u0022\u003E\u003Cdiv\u003EDid you at all install Real Fuels? Real Fuels will force you to pick your propellant (easiest way is to slap an engine underneath, toggle the engine to the desired fuel, right-click the fuel tank, and press a button to automatically fill it with the appropriate propellant mix). It\u0027ll also reduce the costs of fuel enormously to be more in line with reality, where fuel costs are basically pennies compared to the hardware.\u003Cp\u003EThat said, the cost for procedural fuel tanks seems way out of proportion with other tanks: KW tanks and stock tanks are costing ~40x more per volume than procedural fuel tanks.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, Real fuels isn\u0027t installed. Shouldn\u0027t this work without any mods installed?\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-10-28T00:00:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SlickyNick\u0022 data-cite=\u0022SlickyNick\u0022\u003E\u003Cdiv\u003ENo, Real fuels isn\u0027t installed. Shouldn\u0027t this work without any mods installed?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt should work without other mods. I was just trying to eliminate a possibility.\u003C/p\u003E\u003Cp\u003EAnd point out that procedural fuel tanks cost way less than they should.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-28T03:15:08Z","Content":"\n\u003Cp\u003EI enabled procedural cost support. I did not, however, balance it against stock, sorry. Partly because I don\u0027t know how, because I don\u0027t play stock. Any and all feedback on costs greatly appreciated (and has been requested before too).\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-10-28T03:24:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI enabled procedural cost support. I did not, however, balance it against stock, sorry. Partly because I don\u0027t know how, because I don\u0027t play stock. Any and all feedback on costs greatly appreciated (and has been requested before too).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen I\u0027ve got a spot of time in the next few days, I\u0027ll try to whip up a table of fuel mass/cost ratio, probably ordered by rank of tank size (small ones are probably more expensive), but a procedural fuel tank with the approximate volume of a Rockomax Jumbo-64 cost about 1/40 of a Jumbo-64 tank. If so desired, I\u0027ll also include KW Rocketry tanks, which appear to be in the same ballpark as stock tanks.\u003C/p\u003E\u003Cp\u003EYou might then add multipliers for tank type: relatively cheap default-type tanks, and expensive specialized tanks (particularly the balloon tanks*).\u003C/p\u003E\u003Cp\u003E*God bless balloon tanks for their almost ridiculously lightweight construction.\u003C/p\u003E\n"},{"CreatedByName":"RadarManFromTheMoon","CreatedById":98095,"CreatedDateTime":"2014-10-28T04:45:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI enabled procedural cost support. I did not, however, balance it against stock, sorry. Partly because I don\u0027t know how, because I don\u0027t play stock. Any and all feedback on costs greatly appreciated (and has been requested before too).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust found a bug in the procedural costs implementation. IPartCostModifier.GetModuleCost() always awaits a price for the full tank.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eforeach (PartResource r in part.Resources)\u003Cbr\u003E{\u003Cbr\u003E    PartResourceDefinition d = PartResourceLibrary.Instance.GetDefinition(r.resourceName);\u003Cbr\u003E    if((object)d != null)\u003Cbr\u003E        cost \u002B= (float)(r.amount * d.unitCost);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Emust be:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eforeach (PartResource r in part.Resources)\u003Cbr\u003E{\u003Cbr\u003E    PartResourceDefinition d = PartResourceLibrary.Instance.GetDefinition(r.resourceName);\u003Cbr\u003E    if((object)d != null)\u003Cbr\u003E        cost \u002B= (float)(r.[B]max[/B]Amount * d.unitCost);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is a bit strange, but I think it\u0027s from the time when it was not possible to tweak the fuel of a tank. I made the same mistake with Procedural Airships.\u003C/p\u003E\u003Cp\u003EYou can easily see the error when tweaking a tank until it\u0027s empty. The costs will go negative.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-28T05:00:49Z","Content":"\n\u003Cp\u003EEdit:\u003C/p\u003E\u003Cp\u003EYeah, quite right. The subtraction based on resource amount is done by KSP, so yeah it should be what you wrote. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"SlickyNick","CreatedById":89576,"CreatedDateTime":"2014-10-28T18:17:48Z","Content":"\n\u003Cp\u003EAlriight finally figured out what was causing the problem. I\u0027ve multiple Module Manager ddls and cleaning up the older ones solved the problem.\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-10-28T23:30:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI enabled procedural cost support. I did not, however, balance it against stock, sorry. Partly because I don\u0027t know how, because I don\u0027t play stock. Any and all feedback on costs greatly appreciated (and has been requested before too).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhipped up a \u003Ca href=\u0022https://www.dropbox.com/s/vo2ghksih9yplf3/KSP%20Tanks.xlsx?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Espreadsheet\u003C/a\u003E. Stock KSP values are on the left, values for my usual configuration (Real Fuels w/ stockalike config) on the right. The summary is that, in stock, for typical tanks, it costs 1.541 funds per unit liquid fuel \u002B oxidizer capacity*. Fuselages are a little bit all over the place, but generally cheaper. The smallest 1.25m tanks, the Round-8, and the Oscar-B all cost more (sort of to be expected). For Real Fuels, similar patterns apply, with 0.41 funds per liter capacity.\u003C/p\u003E\u003Cp\u003E I also suspect somebody at Squad might\u0027ve made a typo entering in the cost for the Kerbodyne S3-14400 (given the pattern, I suspect it was supposed to cost 28,800, not 22,800).\u003C/p\u003E\u003Cp\u003EEDIT: Made a goof: 1.541 funds/L is the figure \u003Cem\u003Ewith\u003C/em\u003E accounting for oxidizer volume. It\u0027s 4.44 funds/volume LF in stock.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T23:41:03Z\u0022 title=\u002210/28/2014 11:41  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by Starman4308\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-28T23:50:06Z","Content":"\n\u003Cp\u003EAh, RealFuels! Those have resource prices based on the 1965 US dollar cost of the resource, so don\u0027t expect any balance with KSP. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Starman4308","CreatedById":122674,"CreatedDateTime":"2014-10-29T00:08:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EAh, RealFuels! Those have resource prices based on the 1965 US dollar cost of the resource, so don\u0027t expect any balance with KSP. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEh, even in stock KSP, fuel costs are still a relatively small fraction*. The use of FAR/NEAR alone is going to do far more to unbalance KSP\u0027s career mode than a drop in fuel prices.\u003C/p\u003E\u003Cp\u003E*The only major concern would probably be SSTO spacecraft, which go from \u0022ludicrously efficient\u0022 to \u0022plaid efficient\u0022. Unless, of course, you neglect the rearwards shift of CoM, and it lawndarts on reentry, in which case your recovery is approximately 0% of value.\u003C/p\u003E\u003Cp\u003EMight I suggest the formula for procedural fuel tank costs be (tank type modifier) * (1.5 * volume \u002B 200)? I\u0027m not sure if the config for RealFuels should be part of that mod or part of Procedural Parts, but for that, just swap out 1.5 * volume with 0.4 * volume. That should approximately get the costs of large fuel tanks right, while still adding a penalty for dinky tanks.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-29T01:30:14Z","Content":"\n\u003Cp\u003EAt least on the RealFuels side (and across RO), costs are going to be in 1965 US dollars all around (or reverse-inflation-adjusted for modern components, I think). As for Procedural Parts, I will try to use the same costing Squad does for the non-NASA parts.\u003C/p\u003E\n"},{"CreatedByName":"TK421d","CreatedById":104476,"CreatedDateTime":"2014-10-30T15:28:00Z","Content":"\n\u003Cp\u003Ehas anyone else had a problem when using a tweaked engine (usually to a smaller size) at the bottom of a procedural tank, works fine, but when loading a craft the engine will be about 1/2 meter below the tank. obviously causes explosions when loading craft in orbit... lol.\u003C/p\u003E\u003Cp\u003Ei\u0027ve found myself trying to find filler pieces to put in between the tanks and engines now\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-30T21:22:31Z","Content":"\n\u003Cp\u003EYes, there\u0027s an interaction issue between a proc part and a tweakscaled part. Problem is both change their shape and then move the other part to the new attach node position...but since *both* of them change, the moves conflict.\u003C/p\u003E\n"},{"CreatedByName":"PhaserArray","CreatedById":85824,"CreatedDateTime":"2014-11-02T10:59:16Z","Content":"\n\u003Cp\u003EDo you have any plans for hexagonal, octagonal, rectangular and whatever-the-SPP-shape-is-called shapes for pieces (pieces that would fit nicely with the stock probe cores and the Mk2 parts)?\u003C/p\u003E\n"},{"CreatedByName":"cipherpunks","CreatedById":114858,"CreatedDateTime":"2014-11-02T13:19:16Z","Content":"\n\u003Cp\u003EI\u0027d like to see the possibility of creating Soyuz-like side tanks (slanted cone) - should also be useful when doing spaceplane tail (I mean like in B9 one can change to straight-top or conical tail).\u003C/p\u003E\u003Cp\u003EAlso, adding RSS config to balance the mass (and Isp etc for SRB) of everything like it is IRL (hint: use that \u003Ca href=\u0022https://en.wikipedia.org/wiki/Nickel_hydrogen_battery\u0022 rel=\u0022external nofollow\u0022\u003ENi-H2 battery\u003C/a\u003E as batt.weight) would be great too - I\u0027m kinda tired editing it by myself.\u003C/p\u003E\u003Cp\u003ESpeaking of tanks, however, changing the structure weight in accordance to, say, H2/LOX or RP1/LOX requirements is something to think of. Especially in light of low-pressure H2 tank proposal for SKYLON.\u003C/p\u003E\u003Cp\u003E(no, no RF here yet, just saying)\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-11-02T20:34:47Z","Content":"\n\u003Cp\u003EPhaserArray: I have no plans for this at all, other than fixing bugs. I would, in fact, be extremely happy if someone were willing to add that stuff (or anything else) but I\u0027m *way* overstretched myself.\u003C/p\u003E\u003Cp\u003Ecipherpunks: use Realism Overhaul and Real Fuels. Everything will be as correct as we can make it. Do you have stats on Ni-H2? I couldn\u0027t find any in the wiki; RF battery mass and volume is based on my best guesses....\u003C/p\u003E\n"},{"CreatedByName":"smartdummies","CreatedById":112718,"CreatedDateTime":"2014-11-02T23:34:34Z","Content":"\n\u003Cp\u003EJust a quick note on the sizes for the real fuel tanks. There is no entry for the 3.75/5m tanks. You are stuck with a 3m diameter until metamaterials. I assume that there souls be a maxDiameter entry of 5m at heavyRocketry (?).\u003C/p\u003E\n"}]}