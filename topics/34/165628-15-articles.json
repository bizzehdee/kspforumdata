{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":15,"Articles":[{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-06T09:07:46Z","Content":"\n\u003Cp\u003E\nAh, I hadn\u0027t realised you could SET a variable in a PARAMETER line of a function like that.\n\u003C/p\u003E\n\u003Cp\u003E\nThat tutorial example is using the node:DeltaV continuously in the loop, on a long burn (I tend to use nukes for interplanetary and\u00A0sometimes do\u00A0the burn in 2 or 3 stages)\u00A0wouldn\u0027t the rotating co-ordinate system still bring an error in?\u00A0\u00A0 Ideally I want to reach the point of not using nodes, I calculate a vector and time for my burn instead.\u00A0 At the moment I\u0027m cheating somewhat and using the node system iteratively to find the most efficient burn to the Mun.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223344495\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522830554\u0022 data-ipsquote-userid=\u0022172084\u0022 data-ipsquote-username=\u0022Pand5461\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn \u200E04\u200E/\u200E04\u200E/\u200E2018 at 10:29 AM, Pand5461 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Efunction toIRF {\n// changes to inertial right-handed coordinate system where ix = SPV, iy = vcrs(SPV, V(0, 1, 0)), iz = V(0, 1, 0)\n  parameter oldVec, SPV to SolarPrimeVector.\n  return V( oldVec:x * SPV:x \u002B oldVec:z * SPV:z, oldVec:z * SPV:x - oldVec:x * SPV:z, oldVec:y).\n}\n\nfunction fromIRF {\n// changes from inertial right-handed coordinate system where ix = SPV, iy = vcrs(SPV, V(0, 1, 0)), iz = V(0, 1, 0)\n  parameter irfVec, SPV to SolarPrimeVector.\n  return V( irfVec:x * SPV:x - irfVec:y * SPV:z, irfVec:z, irfVec:x * SPV:z \u002B irfVec:y * SPV:x ).\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m still struggling to get my head around this to be honest.\u00A0 If I convert to a different frame of reference\u00A0presumably the idea is I convert the vector back at the time I use it so it\u0027s in the current frame of reference, so to get my Mun ejection burn\u00A0I calculate it in my current frame of reference, but immediately convert it to the SPV frame of reference:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ESet IRF MunVector to ToIRF(VelocityAt(Ship,Node:ETA)\u002B node:DeltaV).\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThen as I\u0027m burning I convert that back to the local frame of reference within my loop, so my required acceleration vector would be:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ESet CurrentDV to FromIRF(MunVector)-ship:velocity:orbit.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n(I know this is slightly over complicated as I could just use the node:deltaV vector but my long term goal is to calculate the ejection burn without using a node, plus I want to be able to split burns across 2 or 3 orbits)\n\u003C/p\u003E\n\u003Cp\u003E\nIs that right?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy understanding of it based on the posts so far:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nBelow 100km the ship\u0027s frame of reference is rotating, meaning that if I get a vector now for some point further down my path, it will have rotated relative to my ship.\u00A0 Does the frame of reference rotate with the planets orbit (ie 360 degrees per year), or the planets rotation (360 degrees per 6 hours)?\n\u003C/li\u003E\n\u003Cli\u003E\nOnce above 100km the frame of reference switches to something that doesn\u0027t rotate.\u00A0 Presumably this is based on the Solar Prime Vector, so anything I convert\u00A0in to a left hand SPV\u00A0frame of reference can be used above 100km without converting back?\n\u003C/li\u003E\n\u003Cli\u003E\nIs it always 100km from any body\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E or does it vary for different bodies?\n\u003C/li\u003E\n\u003Cli\u003E\nV(0,1,0) is the same across all frames of reference, presumably the line through the planets poles?\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny chance of a simple explanation of ...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EV( oldVec:x * SPV:x \u002B oldVec:z * SPV:z, oldVec:z * SPV:x - oldVec:x * SPV:z, oldVec:y)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n...for the hard of thinking.?\n\u003C/p\u003E\n\u003Cp\u003E\nApologies for the amount of questions but my engineering degree was a long time ago and my maths teacher wife lost interest in explaining this stuff when she realised I was doing it for a computer game rather than for work \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-07T16:28:40Z","Content":"\n\u003Cp\u003E\nMe again.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes the Steering parameter somehow try and steer the ship differently than the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to steer a re-entering ship, but is seems like the controls aren\u0027t strong enough.\u00A0 If I take out my steering parameters so\u00A0my loop is basically setting a variable to the retrograde\u00A0vector (and I\u0027m plotting this parameter on the screen so I know it\u0027s working ok), and have already got Steering locked\u00A0to\u00A0that variable, it starts to loose control\u00A0at around 20km\u00A0and swings 30 or so degrees around the prograde marker.\u00A0 However if I switch \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on and set it to retrograde it\u0027s perfectly stable on the retrograde marker.\n\u003C/p\u003E\n\u003Cp\u003E\n(From the bottom, the ship\u0027s a Mk1 capsule, an\u00A0upside down Mk1 capsule, a \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E module, and another Mk1 capsule with a Mk16 and Mk2t parachute.\u00A0 This isn\u0027t completely stable in re-entry and will flap around the retrograde marker a bit if there isn\u0027t any steering/\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E input)\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-04-07T17:08:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223347934\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523118520\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes the Steering parameter somehow try and steer the ship differently than the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes. kOS\u0027s steering manager is a separate steering mechanism, implemented differently to KSP\u0027s \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E. For certain designs, one or the other may steer \u0022better\u0022 because of this.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, are you steering to RETROGRADE or to SRFRETROGRADE? The former would differ from the latter more and more as you slow during descent. \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E steers to the surface or orbital retrograde according to the navball, which automatically switches to surface mode during descent.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-07T17:21:40Z","Content":"\n\u003Cp\u003E\nIt\u0027s surface retrograde\u00A0but via\u00A0a function that gives me the bearing and heading of the ship:velocity:surface, so it\u0027s actually\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eset shipheading to heading(CurrentBearing-180,Attitude-90). \u00A0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWhere CurrentBearing is the angle of the horizontal surface velocity vector from North and Attitude is the angle of the surface velocity from Up.\n\u003C/p\u003E\n\u003Cp\u003E\nThe idea being I can then steer by changing the Bearing while keeping the Attitude at Prograde.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe roll/yaw/pitch markers don\u0027t look like they\u0027re reaching their stops.\u00A0 Looks like it\u0027s possible to up the torque applied with the SteeringManager so I guess that might help if applies more torque for a smaller deflection setting.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-04-07T17:32:20Z","Content":"\n\u003Cp\u003E\nAre you locking the steering outside the loop or inside? From what you\u0027re saying, I think you\u0027re doing it outside, but if you were to lock it inside the loop, it\u0027d reset all the terms of the PID loop each tick, which would not help the steering settle.\n\u003C/p\u003E\n\u003Cp\u003E\nIt may be just that you have a lot more torque (from all those pods) than kOS\u0027s steering manager is expecting/optimised for.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-08T07:38:18Z","Content":"\n\u003Cp\u003E\nSteering is locked to the variable Shipheading before the loop, and then Shipheading updated in the loop.\n\u003C/p\u003E\n\u003Cp\u003E\nHadn\u0027t thought about the possibility of too much torque, I\u0027ll try it with a Pod/Tank/Terrier craft and see if that\u0027s any different.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s my usual early game tourist orbiter that can re-renter without any steering input if the pilot\u0027s inexperienced.\u00A0 After playing with kOS in a 1.3.1 Sandbox game I\u0027ve started a 1.4.2 career game trying to use it as much as I can, the lack of parts makes it more of a challenge \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-04-08T17:16:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223348553\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523173098\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHadn\u0027t thought about the possibility of too much torque, I\u0027ll try it with a Pod/Tank/Terrier craft and see if that\u0027s any different.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou could disable the reaction wheels in some of the pods, which avoids needing a new design. If kOS is not expecting so much torque, then playing with the steering manager settings would be one solution for that vessel.\n\u003C/p\u003E\n\u003Cp\u003E\nUsually, though, kOS is confused by ultra-low-torque designs (e.g. realism overhaul rockets and plane designs), so it\u0027s a bit of a punt on my side that it is not working well with lots of wheel torque.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-09T09:29:33Z","Content":"\n\u003Cp\u003E\nYeah, disabling reaction wheels would have been a simpler option, I didn\u0027t think of that \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0 I had a quick test with a Mk1 pod/FL-T200/Terrier upper stage and it suffered the same problem (until the Terrier exploded, need to experiment to re-rentry profiles it seems)\n\u003C/p\u003E\n\u003Cp\u003E\nI then tried the original craft but with the steering manager torque factors set to 2, and then again at 3.\u00A0 Both these still flapped about but only up and down in pitch (looked like it had a stable position 20 or so\u00A0degrees above and below the retrograde but couldn\u0027t react fast enough to hold retrograde),\u00A0and held stable in roll/yaw.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m guessing maybe the extra torque\u00A0means it overcompensates as\u00A0it nears the retrograde and so carries on past it, or possibly it reacts slower than \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI know however that this craft isn\u0027t stable in retrograde, but will want to sit 20 or so degrees off, so the obvious way to fix this is to design a ship that\u0027s stable in retrograde, kind of a shame though as this is a useful early career ship and \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E can overcome its stability issue.\u00A0\u00A0No that I really need to steer this one anyway as it still comes down pretty close to the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E without aerodynamic steering, but I was just using it as a test bed.\u00A0 \u00A0My usual later game \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E designs that I\u0027m really working towards have a significant proportion of the mass in the engines by the time they re-renter, so should be pretty stable.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I might park this one and go back to developing my Mun script.\n\u003C/p\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2018-04-09T17:27:32Z","Content":"\n\u003Cp\u003E\nIs there any way to get the correct roll angle of an airplane (relative to the surface)? I really am starting to give up on this, the only thing I want is the (relative) roll of the aircraft around its longitudinal axis.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00223-60.gif\u0022 class=\u0022ipsImage\u0022 height=\u0022304\u0022 src=\u0022http://www.flight-mechanic.com/wp-content/uploads/2013/09/3-60.gif\u0022 width=\u0022362\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Alchemist","CreatedById":8825,"CreatedDateTime":"2018-04-09T17:55:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223349892\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523294852\u0022 data-ipsquote-userid=\u0022108501\u0022 data-ipsquote-username=\u0022Kartoffelkuchen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 minutes ago, Kartoffelkuchen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there any way to get the correct roll angle of an airplane (relative to the surface)? I really am starting to give up on this, the only thing I want is the (relative) roll of the aircraft around its longitudinal axis.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI use this code\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Edeclare function find_angle\n{\ndeclare parameter v.\ndeclare parameter v0.\ndeclare parameter v90.\n\nreturn arctan2(v:normalized*vxcl(v0,v90):normalized, v:normalized*v0:normalized).\n}\n\ndeclare function get_roll\n{\nlocal shipup is ship:facing:upvector.\nlocal ax is ship:facing:vector.\nlocal u is vxcl(ax, ship:up:vector):normalized.\nlocal r is vcrs(u, ax).\n\nreturn find_angle(shipup, u, r).\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNote that \u003Cem\u003Efind_angle\u003C/em\u003E is made to distinguish left and right by also using a \u002B90 degrees vector\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nalso, you may be interested in roll-included version of \u003Cem\u003Eheading\u003C/em\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Edeclare function heading2\n{\ndeclare parameter az.\ndeclare parameter ptc.\ndeclare parameter rll. //positive = right\n\nlocal d1 is heading(az,ptc).\nreturn angleaxis(-rll, d1:vector)*d1.\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kartoffelkuchen","CreatedById":108501,"CreatedDateTime":"2018-04-09T18:00:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223349917\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523296550\u0022 data-ipsquote-userid=\u00228825\u0022 data-ipsquote-username=\u0022Alchemist\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, Alchemist said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI use this code\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Edeclare function find_angle\n{\ndeclare parameter v.\ndeclare parameter v0.\ndeclare parameter v90.\n\nreturn arctan2(v:normalized*vxcl(v0,v90):normalized, v:normalized*v0:normalized).\n}\n\ndeclare function get_roll\n{\nlocal shipup is ship:facing:upvector.\nlocal ax is ship:facing:vector.\nlocal u is vxcl(ax, ship:up:vector):normalized.\nlocal r is vcrs(u, ax).\n\nreturn find_angle(shipup, u, r).\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNote that \u003Cem\u003Efind_angle\u003C/em\u003E is made to distinguish left and right by also using a \u002B90 degrees vector\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nalso, you may be interested in roll-included version of \u003Cem\u003Eheading\u003C/em\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Edeclare function heading2\n{\ndeclare parameter az.\ndeclare parameter ptc.\ndeclare parameter rll. //positive = right\n\nlocal d1 is heading(az,ptc).\nreturn angleaxis(-rll, d1:vector)*d1.\n\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBeautiful, thank you so much!\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-04-11T10:47:11Z","Content":"\n\u003Cp\u003E\nIs there any equivalent of \u0022continue\u0022 (as in C\u002B\u002B or python, skip the rest of the loop and start the next iteration) in kOS? I couldn\u0027t find it in the wiki.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-04-11T11:11:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351456\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523443631\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI couldn\u0027t find it in the wiki.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou mean the docs? Or is there actually a wiki that might be outdated? Anyways, the term you were looking for was \u003Cem\u003Ebreak\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/language/flow.html?highlight=break\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/language/flow.html?highlight=break\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-04-11T11:26:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351467\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523445105\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou mean the docs? Or is there actually a wiki that might be outdated? Anyways, the term you were looking for was \u003Cem\u003Ebreak\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/language/flow.html?highlight=break\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp-kos.github.io/KOS_DOC/language/flow.html?highlight=break\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ebreak\u003C/span\u003E is not a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Econtinue\u003C/span\u003E.\u00A0 They\u0027re different things.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178087-scimas/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022178087\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178087-scimas/\u0022 rel=\u0022\u0022\u003E@scimas\u003C/a\u003E\u003C/span\u003E- kerboscript does not have a continue.\u00A0 Perhaps it should and it could be added.\u00A0 Although I never liked the name \u0022continue\u0022 because it\u0027s a misleading name for it (it\u0027s the exact opposite of \u0022continuing\u0022 given that what it does is abort the current iteration and skip to the next.\u00A0 In my mind, the word \u0022continue\u0022 implies doing what always happens anyway - going on to the next line of code like normal.)\n\u003C/p\u003E\n\u003Cp\u003E\nIf I added it I\u0027d pick some other name for it - maybe \u0022next\u0022 or \u0022skip\u0022, as that\u0027s more indicative of what it actually does.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-11T11:27:44Z\u0022 title=\u002204/11/2018 11:27  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 11, 2018\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003Cbr\u003Ethe @scimas was misspelled so the notification wouldn\u0026#039;t have been made\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-04-11T11:30:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351476\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523445970\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNo, \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ebreak\u003C/span\u003E is not a \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Econtinue\u003C/span\u003E.\u00A0 They\u0027re different things.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re correct. When I skimmed the post I thought he wanted to continue to the next line of code outside the loop, not the next iteration of the loop as he \u003Cem\u003Eliterally so clearly states\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI should probably move \u0022checking KSP forums\u0022 further down my ToDo list in the morning so I\u0027m more awake \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-04-11T14:50:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351467\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523445105\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou mean the docs?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I meant the docs, \u0027wiki\u0027 was just a slip.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351476\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523445970\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I added it I\u0027d pick some other name for it - maybe \u0022next\u0022 or \u0022skip\u0022, as that\u0027s more indicative of what it actually does.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThough I agree that \u0022skip\u0022 might be more intuitive, wouldn\u0027t it be better to stick to convention? If people have been using \u0027skip\u0027 as a variable name, it might break (no pun intended, though it is a nice one \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E) their scripts. The same case can be made for \u0027continue\u0027 too, but I think those familiar with programming wouldn\u0027t use it as a variable name - leading to perhaps less number of broken scripts?\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-04-11T16:56:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351607\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523458218\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThough I agree that \u0022skip\u0022 might be more intuitive, wouldn\u0027t it be better to stick to convention?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBoth\u003C/strong\u003E are conventions.\u00A0 C isn\u0027t the only language in the world.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-04-11T17:43:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223351710\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523465792\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBoth\u003C/strong\u003E are conventions.\u00A0 C isn\u0027t the only language in the world.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, I\u0027m not a professional programmer and all of the languages I\u0027ve encountered use continue.\n\u003C/p\u003E\n"},{"CreatedByName":"Pand5461","CreatedById":172084,"CreatedDateTime":"2018-04-11T20:06:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223346618\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523005666\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 06.04.2018 at 12:07 PM, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat tutorial example is using the node:DeltaV continuously in the loop, on a long burn (I tend to use nukes for interplanetary and\u00A0sometimes do\u00A0the burn in 2 or 3 stages)\u00A0wouldn\u0027t the rotating co-ordinate system still bring an error in?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe good thing about the in-game node:deltav is that it\u0027s adjusted accordingly by the game engine, so rotating frame does not matter. The game also updates node:deltav with the progress of the burn\n\u003C/p\u003E\n\u003Cp\u003E\nYour code for calculation of the remaining \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for ejection seems sane. For a \u0022node without a node\u0022, might be an easy-to-implement solution.\n\u003C/p\u003E\n\u003Cp\u003E\nThere is also a solution used on shuttles as \u0022external Lambert DeltaV routine\u0022 - constantly recalculate a trajectory that starts at current vessel position and intercepts the target object, obtain \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E to change to that trajectory and steer to that \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E vector. This is obviously more complicated but quite doable if you can implement an intercept solver (Lambert\u0027s problem, one of the solver algorithms is described on the \u003Ca href=\u0022http://www.braeunig.us/space/interpl.htm#gauss\u0022 rel=\u0022external nofollow\u0022\u003EBraeunig\u0027s page\u003C/a\u003E).\n\u003C/p\u003E\n\u003Cp\u003E\nOn the rotational speed: the frame does 360 degrees in the sidereal period of body (5h 50-something min for Kerbin). This means, if you have a fixed object on surface of planet, then (ship:body:position - object:position) will always output the same vector. This also means that the rate of change of ship:body:position is consistent with ship:velocity:surface in the rotating frame and ship:velocity:orbit in the inertial frame.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen the ship gets above the rotating-to-inertial transition altitude, ship:body:position remains continuous, as far as I can tell. That means, coordinate axes do not suddenly align with the SolarPrimeVector on the transition. If you get a ship to a high altitude and query SolarPrimeVector from kOS, you will most likely see it\u0027s not V(1,0,0) but more like V(cos(a),0,sin(a)). It\u0027s just that it does not change in time at high altitudes at appears rotating (in fact, it\u0027s coordinate axes that are rotating) at low altitudes. So, if you have a vector in SolarPrimeVector frame, you still need to convert it to the kOS frame, but then you can use the converted vector indefinitely without worrying that it stops representing the correct direction.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure whether transition altitude is the same for all bodies or not. Most likely, it\u0027s different. I know for sure the transition altitude is not 100 km on the parent body in scaled systems.\n\u003C/p\u003E\n\u003Cp\u003E\nV(0, 1, 0) is universal, that is correct, just note that ecliptical plane in modded systems is not necessarily normal to this vector (most notable example is \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E). Kopernicus devs can probably better comment on this topic, if you are really interested.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223346618\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523005666\u0022 data-ipsquote-userid=\u0022123362\u0022 data-ipsquote-username=\u0022RizzoTheRat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 06.04.2018 at 12:07 PM, RizzoTheRat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny chance of a simple explanation of ...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EV( oldVec:x * SPV:x \u002B oldVec:z * SPV:z, oldVec:z * SPV:x - oldVec:x * SPV:z, oldVec:y)\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n...for the hard of thinking.?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJust the orthogonal projections to the newly chosen coordinate axes.\n\u003C/p\u003E\n\u003Cp\u003E\nWe know that SPV = V(SPV:x, SPV:y, SPV:z) by definition, we also assume that SPV:y = 0, meaning SPV lies in the equatorial plane, and SPV:x^2 \u002B SPV:z^2 = 1, meaning SPV is a unit vector.\n\u003C/p\u003E\n\u003Cp\u003E\nGiven that assumptions, the projection of any vector onto SPV is VDOT(oldVec, SPV) = oldVec:x * SPV:x \u002B oldVec:z * SPV:z. This is exactly the X component of the return vector in question.\n\u003C/p\u003E\n\u003Cp\u003E\nThe direction SPV2 orthogonal to the SPV in the XZ plane may be either V(-SPV:z, 0, SPV:x) or V(SPV:z, 0, -SPV:x). I opted to make [SPV, SPV2, V(0,1,0)] a right-handed triplet, so I chose SPV2 = V(-SPV:z, 0, SPV:x), another option will give a left-handed triplet. VDOT(SPV2, oldVec) is the Y component of the return vector.\n\u003C/p\u003E\n"},{"CreatedByName":"RizzoTheRat","CreatedById":123362,"CreatedDateTime":"2018-04-12T07:50:39Z","Content":"\n\u003Cp\u003E\nThanks, I\u0027ll have a play with changing vector in to SPV and back.\n\u003C/p\u003E\n\u003Cp\u003E\nI think it should be pretty simple to implement something similar to the Lambert approach.\u00A0 Currently I\u0027m working out the required \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E for a Mun shot using the Vis-viva equation for an orbit with my Kerbin altitude (plus kerbin radius) as the periapsis and the Mun altitude for Apoapsis to give the velocity needed at perispsis.\u00A0 I If I were to keep recalculating this to get the remaining \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u00A0it should\u00A0sort out errors\u00A0caused by the duration of the\u00A0burn.\n\u003C/p\u003E\n\u003Cp\u003E\nAt the moment I\u0027m using this calculated\u00A0\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E to put a node in, and then burning node:deltaV until I get the required Mun periapsis, but the vector translation stuff should let me do away with the node completely but getting a tangential vector at the right time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"daniel.hamel","CreatedById":187965,"CreatedDateTime":"2018-04-12T13:35:51Z","Content":"\n\u003Cp\u003E\nIs kIPC still working for you guys in 1.4.1? I would like to brige kOS and kRPC (kRPC is easier to do Math in and it feels more \u0022SPACY\u0022 to use KOS for actual control / execution)\n\u003C/p\u003E\n"},{"CreatedByName":"scimas","CreatedById":178087,"CreatedDateTime":"2018-04-13T17:29:48Z","Content":"\n\u003Cp\u003E\nWhat is a good way of dealing with divisions by zero in kos? To be specific, sometimes I want to lock burntime calculation, which has a division by ship:availablethrust. The availablethrust is of course not guaranteed to be non zero at all times.\n\u003C/p\u003E\n\u003Cp\u003E\nI could limit the value by something like min(calculation_that_has_division_by_zero, ridiculously_large_number).\n\u003C/p\u003E\n\u003Cp\u003E\nSo that it\u0027s unrealistically large, but still not infinite. But I would prefer to not have to do that if there are other more elegant ways to deal with it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-13T18:02:07Z\u0022 title=\u002204/13/2018 06:02  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 13, 2018\u003C/time\u003E by scimas\u003C/strong\u003E\n\u003Cbr\u003Ewas using wrong example to demonstrate\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-04-13T18:08:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223353542\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523640588\u0022 data-ipsquote-userid=\u0022178087\u0022 data-ipsquote-username=\u0022scimas\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, scimas said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0min(calculation_that_has_division_by_zero, ridiculously_large_number).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat would still error out when calculating the division by zero, before it got to doing the min().\n\u003C/p\u003E\n\u003Cp\u003E\nA better approach might be this:\n\u003C/p\u003E\n\u003Cp\u003E\nIf you think that X / Y might fail because Y might be zero, and you\u0027d like a bignumber result when Y is zero, try maybe doing this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Ex / max(y, 0.0001)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn other words, limit how close to zero the denominator is allowed to become.\u00A0 The example shown wouldn\u0027t let it get closer to zero than 0.0001.\n\u003C/p\u003E\n\u003Cp\u003E\n- Warning: the above example presumes Y is something that isn\u0027t expected to become negative.\u00A0 Because max(-900, 0.0001) would return 0.0001.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Hyperlynx","CreatedById":90829,"CreatedDateTime":"2018-04-14T02:30:19Z","Content":"\n\u003Cp\u003E\nHey, I\u0027ve just started playing KSP again after a long hiatus. kOS doesn\u0027t seem to be working for me any more. Are you all playing on KSP v1.4.1? I\u0027m on 1.4.2 due to Steam patching my game whether I like it or not. Am I missing something about how to get it working, or do I just need to wait for an update?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-14T02:30:33Z\u0022 title=\u002204/14/2018 02:30  AM\u0022 data-short=\u00226 yr\u0022\u003EApril 14, 2018\u003C/time\u003E by Hyperlynx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-04-14T06:03:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223353949\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221523673019\u0022 data-ipsquote-userid=\u002290829\u0022 data-ipsquote-username=\u0022Hyperlynx\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Hyperlynx said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey, I\u0027ve just started playing KSP again after a long hiatus. kOS doesn\u0027t seem to be working for me any more. Are you all playing on KSP v1.4.1? I\u0027m on 1.4.2 due to Steam patching my game whether I like it or not. Am I missing something about how to get it working, or do I just need to wait for an update?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJust get the kOS version for KSP 1.4.1.\u00A0 It works on KSP 1.4.2 just fine - it\u0027s just that \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E and Spacedock and Curse don\u0027t know that.\u00A0 If you ask them to allow you to install \u0022incompatible\u0022 versions so it will list it, it works.\n\u003C/p\u003E\n"}]}