{"TopicId":130742,"ForumId":34,"TopicTitle":"[1.12.x] kRPC: Control the game using C#, C\u002B\u002B, Java, Lua, Python, Ruby, Haskell, C (Arduino)... (v0.5.4)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-01-26T08:47:48Z","PageNum":8,"Articles":[{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-08-25T11:03:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222728892\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221472097264\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThat\u0027s odd... stream.remove() definitely doesn\u0027t have a parameter called x! The code is here: \u003Ca href=\u0022https://github.com/krpc/krpc/blob/master/client/python/krpc/stream.py#L52\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/blob/master/client/python/krpc/stream.py#L52\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, its a liveware problem! I followed it back to the declaration and for some reason its picking up the remove method from builtins, not the remove method for the stream object.\n\u003C/p\u003E\n\u003Cp\u003E\nIt only happens where i have a list of streams i am trying to iterate through. If I work on a stream object directly, even if it is an element of a list, no warning appears!\n\u003C/p\u003E\n\u003Cp\u003E\nIn the code the first part gives a warning, the second doesn\u0027t. However i think the warning is false as the code correctly closes the stream so its all good.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Efor x in list_of_streams:\n\tx.remove()\n\n\nlist_of_streams[0].remove()\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"gowthamn","CreatedById":167509,"CreatedDateTime":"2016-09-06T23:20:14Z","Content":"\n\u003Cp\u003E\nCan I get a quick comparison with KOS? Other than the language flexibility and the ability to run outside the game what are the other advantages? Does it obey the rules of\u00A0remote tech and does it need a electricity to run or is it independent of the game?\n\u003C/p\u003E\n"},{"CreatedByName":"Sonny_Jim","CreatedById":103060,"CreatedDateTime":"2016-09-07T01:02:19Z","Content":"\n\u003Cp\u003E\nKOS is more like BASIC running on a 8-bit computer, it\u0027s extremely limited in comparison, but it\u0027s barrier for entry is much lower. \u00A0Because krpc allows you to extract and input data to and from the game from other languages and hardware platforms, it\u0027s possibilities are nearly limitless. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSay you want to hook up a smoke machine to a Raspberry Pi\u00A0that fires when using your engines in KSP, you can do that with KRPC.\n\u003C/p\u003E\n\u003Cp\u003E\nSay you had a 6 degree of motion\u00A0freedom platform ripped from a plane flight simulator, you could hook it into KSP with KRPC.\n\u003C/p\u003E\n\u003Cp\u003E\nSay you had a load of old nixie tubes and wanted to build a hardware readout panel, with speed, apoapsis etc, you can do that with KRPC.\n\u003C/p\u003E\n\u003Cp\u003E\nSay you wanted to hook up an emulator of the Apollo computer and you wanted to fly your craft in KSP using it, you can do that with KRPC.\n\u003C/p\u003E\n\u003Cp\u003E\nKOS is great at what it does, but this is in another league as to what you can achieve with it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222744900\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473204014\u0022 data-ipsquote-userid=\u0022167509\u0022 data-ipsquote-username=\u0022gowthamn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, gowthamn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDoes it obey the rules of\u00A0remote tech\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can access the RemoteTech API, so you can write your code to follow the RT rules if you so wish.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://krpc.github.io/krpc/cpp/api/remote-tech/comms.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/cpp/api/remote-tech/comms.html\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-07T01:18:56Z\u0022 title=\u002209/07/2016 01:18  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 7, 2016\u003C/time\u003E by Sonny_Jim\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"gowthamn","CreatedById":167509,"CreatedDateTime":"2016-09-07T01:49:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222744999\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473210139\u0022 data-ipsquote-userid=\u0022103060\u0022 data-ipsquote-username=\u0022Sonny_Jim\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n43 minutes ago, Sonny_Jim said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKOS is more like BASIC running on a 8-bit computer, it\u0027s extremely limited in comparison, but it\u0027s barrier for entry is much lower. \u00A0Because krpc allows you to extract and input data to and from the game from other languages and hardware platforms, it\u0027s possibilities are nearly limitless. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks. I like its flexibility. I will take a look at this. I always dreamt of building a aircraft or chopper which learns to fly using ML. Especially Reinforcement Learning using Deep Learning. May be I can build a model in Java and run it on KSP using this mod.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-09-07T05:16:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222744900\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473204014\u0022 data-ipsquote-userid=\u0022167509\u0022 data-ipsquote-username=\u0022gowthamn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, gowthamn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ndoes it need a electricity to run or is it independent of the game?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, electricity is not required, nor is it consumed. It\u0027s pretty much independent of the game -\u00A0except the current scene that is loaded. Most functionality is only available in the flight scene.\n\u003C/p\u003E\n\u003Cp\u003E\nOne thing to point out is that there is a price for kRPC\u0027s flexibility - latency. Each remote procedure call (RPC) is\u00A0sent from your script\u00A0to the game over a network socket, which introduces some overhead. When run locally, this is pretty fast (on the order of thousands of RPCs per second, depending on your machine).\u00A0kOS executes code within the game, so it completely\u00A0avoids this overhead.\n\u003C/p\u003E\n\u003Cp\u003E\nThe latency\u00A0becomes\u00A0really painful for some use cases:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen you are wanting\u00A0repeated\u00A0updates of the game state\u00A0(for example getting the vessel altitude once per physics tick).\u00A0Using kRPC \u0022streams\u0022 helps reduce this overhead.\n\u003C/li\u003E\n\u003Cli\u003E\nWaiting on an event (for example, the vessel reaching a chosen altitude) currently\u00A0has to be done using a spin wait.\u00A0I\u0027m working on adding a more efficient events mechanism, based on streams, to make this use case better.\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Diche Bach","CreatedById":76097,"CreatedDateTime":"2016-09-07T06:13:17Z","Content":"\n\u003Cp\u003E\nImpressive. Most impressive.\n\u003C/p\u003E\n"},{"CreatedByName":"gowthamn","CreatedById":167509,"CreatedDateTime":"2016-09-08T05:56:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222745269\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473225376\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/6/2016 at 10:16 PM, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOne thing to point out is that there is a price for kRPC\u0027s flexibility - latency. Each remote procedure call (RPC) is\u00A0sent from your script\u00A0to the game over a network socket, which introduces some overhead. When run locally, this is pretty fast (on the order of thousands of RPCs per second, depending on your machine).\u00A0kOS executes code within the game, so it completely\u00A0avoids this overhead.\n\u003C/p\u003E\n\u003Cp\u003E\nThe latency\u00A0becomes\u00A0really painful for some use cases:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen you are wanting\u00A0repeated\u00A0updates of the game state\u00A0(for example getting the vessel altitude once per physics tick).\u00A0Using kRPC \u0022streams\u0022 helps reduce this overhead.\n\u003C/li\u003E\n\u003Cli\u003E\nWaiting on an event (for example, the vessel reaching a chosen altitude) currently\u00A0has to be done using a spin wait.\u00A0I\u0027m working on adding a more efficient events mechanism, based on streams, to make this use case better.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n10 - 20 or so flight corrections per second should be ok I guess? It would be good to access all the metrics I want from the game with just 1 call and make it return an object. Is that possible? Or should I write a mod which runs in game to collect the information and make 1 RPC to get all the info?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, will this mod work with parts from other mods like DMagic orbital science?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-08T06:03:33Z\u0022 title=\u002209/08/2016 06:03  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 8, 2016\u003C/time\u003E by gowthamn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-09-08T06:02:38Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EkRPC 0.3.6 has been released!\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere are lots of bug fixes in this release. Apart from that, here are the salient features:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nPart tagging is now possible, via the \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.Part.Tag\u0022 rel=\u0022external nofollow\u0022\u003EPart.Tag property\u003C/a\u003E. This requires \u003Cstrong\u003Eeither\u003C/strong\u003E kOS or the \u003Ca href=\u0022https://github.com/krpc/NameTag/releases\u0022 rel=\u0022external nofollow\u0022\u003ENameTag\u003C/a\u003E mod to be installed alongside kRPC.\n\u003C/li\u003E\n\u003Cli\u003E\nMore aerodynamic data is accessible (such as mach speed)\u00A0when \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is installed\n\u003C/li\u003E\n\u003Cli\u003E\nArbitrary forces can be applied to parts via \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#method-KRPC.Client.Services.SpaceCenter.Part.AddForce\u0022 rel=\u0022external nofollow\u0022\u003EPart.AddForce\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSupport for biomes - you can now get all the biomes for a planet, and an experiment\u0027s\u00A0current biome\n\u003C/li\u003E\n\u003Cli\u003E\nInteraction with waypoints (list, edit and delete them)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nA full change list is \u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.3.6\u0022 rel=\u0022external nofollow\u0022\u003Eavailable here\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"gowthamn","CreatedById":167509,"CreatedDateTime":"2016-09-08T06:15:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222746577\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473314558\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EkRPC 0.3.6 has been released!\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere are lots of bug fixes in this release. Apart from that, here are the salient features:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nPart tagging is now possible, via the \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#property-KRPC.Client.Services.SpaceCenter.Part.Tag\u0022 rel=\u0022external nofollow\u0022\u003EPart.Tag property\u003C/a\u003E. This requires \u003Cstrong\u003Eeither\u003C/strong\u003E kOS or the \u003Ca href=\u0022https://github.com/krpc/NameTag/releases\u0022 rel=\u0022external nofollow\u0022\u003ENameTag\u003C/a\u003E mod to be installed alongside kRPC.\n\u003C/li\u003E\n\u003Cli\u003E\nMore aerodynamic data is accessible (such as mach speed)\u00A0when \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is installed\n\u003C/li\u003E\n\u003Cli\u003E\nArbitrary forces can be applied to parts via \u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#method-KRPC.Client.Services.SpaceCenter.Part.AddForce\u0022 rel=\u0022external nofollow\u0022\u003EPart.AddForce\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSupport for biomes - you can now get all the biomes for a planet, and an experiment\u0027s\u00A0current biome\n\u003C/li\u003E\n\u003Cli\u003E\nInteraction with waypoints (list, edit and delete them)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nA full change list is \u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.3.6\u0022 rel=\u0022external nofollow\u0022\u003Eavailable here\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNice. One question. Does experimentation work with Dmagic? Or just stock parts for now?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-08T06:18:30Z\u0022 title=\u002209/08/2016 06:18  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 8, 2016\u003C/time\u003E by gowthamn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-09-08T06:18:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222746589\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473315323\u0022 data-ipsquote-userid=\u0022167509\u0022 data-ipsquote-username=\u0022gowthamn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, gowthamn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNice. One question. Does experimentation with with Dmagic? Or just stock parts for now?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve not tested it, and I\u0027m not familiar with dmagic.\u00A0Depends what PartModule\u00A0it uses. If it\u0027s\u00A0ModuleScienceExperiment then it should work fine.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222746573\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473314219\u0022 data-ipsquote-userid=\u0022167509\u0022 data-ipsquote-username=\u0022gowthamn\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, gowthamn said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n10 - 20 or so flight corrections per second should be ok I guess? It would be good to access all the metrics I want from the game with just 1 call and make it return an object. Is that possible? Or should I write a mod which runs in game to collect the information and make 1 RPC to get all the info?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve written scripts with update rates of about 10Hz, and that\u00A0was sufficient for precise rocket control.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for a single call to get lots of data - these are coming soon! I\u0027m working on a protocol overhaul in\u00A0v0.4.0 which will add the ability to do \u0022batched\u0022 RPCs. I.e. send multiple calls in a single network message and get all the results back in a single message.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, if you just want to get data out, and do it repeatedly, then you should use streams. Internally, stream update messages are batched together, so one message is sent per physics tick regardless of how many streams you create.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-09-08T06:23:47Z\u0022 title=\u002209/08/2016 06:23  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 8, 2016\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-09-08T06:30:09Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167509-gowthamn/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022167509\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/167509-gowthamn/\u0022 rel=\u0022\u0022\u003E@gowthamn\u003C/a\u003E\u00A0Also, regarding parts from other mods, if the part isn\u0027t directly\u00A0supported by kRPC, you can manually\u00A0access a PartModule\u0027s actions, events and fields. See this:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/parts.html#module\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/parts.html#module\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-09-18T05:30:03Z","Content":"\n\u003Cp\u003E\nA kRPC pre-release for KSP 1.3\u00A0is available here:\u00A0\u003Ca href=\u0022https://krpc.s3.amazonaws.com/deploy/feature/ksp-1.2/687.1/krpc-0.3.6-16-g7940236.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://krpc.s3.amazonaws.com/deploy/feature/ksp-1.2/687.1/krpc-0.3.6-16-g7940236.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nExpect bugs! Also note, this doesn\u0027t add support for any of the new features in KSP 1.3 (such as the comms network). It\u0027s just a build of kRPC v0.3.6 that is compatible with the KSP pre-release.\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-10-06T12:20:36Z","Content":"\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have been playing with the Autopilot now that I have a nice hardware panel for it, and I have a few ideas, suggestions, misunderstandings and general mayhem type things that mostly come from me being rather ambitious \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n1. Is it possible to separate the lateral and longitudinal modes?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 I went for a typical A/C setup and its normal to have Lateral, Longitudinal and Speed as 3 separate modes. So for example you can enable \u0027Pitch hold\u0027 but heading / roll is still free for manual control. In the current KRPC implementation it can only be on or off for both Pitch and Heading.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Would it be possible to allow the use of the roll target without heading?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 This enables a typical \u0027hold bank angle\u0027 mode of A/C and you can fly visually just change bank set. Currently you have to set a heading I think, but I want to have no heading target, just hold bank.\n\u003C/p\u003E\n\u003Cp\u003E\n3. Any thoughts of adding an auto-throttle controller? I imagine the same PID approach should work but may require different tunings to respond to different engine spool up times. If you could also specify a velocity vector for it to target, and you give it vertical we now have hover hold and gentle landings too!\n\u003C/p\u003E\n\u003Cp\u003E\n4. Any thoughts of adding higher level modes? Altitude hold, Rate of Climb hold, ILS maybe (glideslope and localiser), waypoint guidance etc. I know some of these, in fact all of these, could be done by driving pitch and heading, but if that is in a slow python module then i suspect osculations of two controllers talking to each other.\n\u003C/p\u003E\n\u003Cp\u003E\n5. The autopilot, at first test really didnt like my high manoeuvrability fighter \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Massive overcontrol but it seemed the autotune didnt dial it out? it was persistent. Only reducing the control authority of the surfaces stabilised it. Would like to know your thoughts on limits of autotune, or if that really is the case could we have a control scaling factor? Say i let the AP have 25% of the control authority so I can still fly like a nutcase if I like?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cp\u003E\nPete\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-10-07T04:25:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222790168\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221475756436\u0022 data-ipsquote-userid=\u0022161550\u0022 data-ipsquote-username=\u0022PeteWasEre\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, PeteWasEre said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI have been playing with the Autopilot now that I have a nice hardware panel for it, and I have a few ideas, suggestions, misunderstandings and general mayhem type things that mostly come from me being rather ambitious \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi!\u00A0The autopilot is intentionally quite simple.\u00A0It just provides the\u00A0functionality to\u00A0point the rocket in a chosen direction,\u00A0as this is a basic requirement for writing your first\u00A0launch script. I consider anything more than that\u00A0to be beyond the scope of the SpaceCenter service. This is because a more complex autopilot\u00A0could\u00A0be implemented as a client program, and\u00A0my time is limited\u00A0and I\u0027d prefer\u00A0to focus on other aspects of the mod such as\u00A0exposing more of KSPs API (lots of new things to add for\u00A01.2!!!), fixing bugs\u00A0and adding support for more languages - gRPC coming \u0022soon\u0022..... hopefully!). Of course if someone else fancies writing a more complex AP a pull request on github would be welcome!\n\u003C/p\u003E\n\u003Cp\u003E\nRe. your specific questions:\n\u003C/p\u003E\n\u003Cp\u003E\n1 and 2:\u00A0I\u0027m happy to make small changes like this, as these changes are just modifications to the interface used to configure the autopilot, not actually changes to the autopilot itself.\n\u003C/p\u003E\n\u003Cp\u003E\n3. An auto-throttle controller is pretty easy to do client side using a simple PID loop, so I won\u0027t be adding this to the server. For example in my python toolkit I wrote such a thing:\u00A0\u003Ca href=\u0022https://github.com/djungelorm/krpc-toolkit/blob/master/krpctoolkit/throttle.py\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc-toolkit/blob/master/krpctoolkit/throttle.py\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n4. I don\u0027t plan to add these. Sorry! But it should be possible to do these from a client script.\n\u003C/p\u003E\n\u003Cp\u003E\n5. There are some issues with the math behind the current tuning approach, although it\u0027s a bit over my head. There is more discussion of this here:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/issues/310\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/310\u003C/a\u003E\u00A0Have you tried tweaking the stopping time and deceleration time parameters? A combination of them should reduce the APs \u0022control authority\u0022.\n\u003C/p\u003E\n"},{"CreatedByName":"PeteWasEre","CreatedById":161550,"CreatedDateTime":"2016-10-07T10:53:01Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E Thanks \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n1 and 2 sound nice as they would give user flexibility to configure as they like. If it\u0027s not too much to ask that would be a nice help.\n\u003C/p\u003E\n\u003Cp\u003E\nFor 3 and 4 I completely understand, no need for sorry! It makes way more sense for you to work on things we cant do on the client side (like more API interfaces, oh what goodies will that bring!) than things we can. I only wish I was skilled enough to make that pull request! I am already thinking of ideas to get faster response, a seperate python AP process or maybe the KOS bridge. It will be a nice challenge for me.\n\u003C/p\u003E\n\u003Cp\u003E\nFor 5 i haven\u0027t played with the parameters yet, but will do. I did read #310 and got confused very quickly... my control theory classes were almost 20 years ago... I will see how I go with those. However my thinking came from real A/C autopilots that generally dont have full control range. In RL this is more to do with safety, so the pilot can always pull up more than George pushes down, but it might help here. Will let you know how I go.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again!\n\u003C/p\u003E\n\u003Cp\u003E\nPete\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ThomasD","CreatedById":169915,"CreatedDateTime":"2016-10-07T20:22:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222745269\u0022 data-ipsquote-contentid=\u0022130742\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221473225376\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/7/2016 at 6:16 AM, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe latency\u00A0becomes\u00A0really painful for some use cases:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWhen you are wanting\u00A0repeated\u00A0updates of the game state\u00A0(for example getting the vessel altitude once per physics tick).\u00A0Using kRPC \u0022streams\u0022 helps reduce this overhead.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EWaiting on an event (for example, the vessel reaching a chosen altitude) currently\u00A0has to be done using a spin wait.\u00A0I\u0027m working on adding a more efficient events mechanism, based on streams, to make this use case better.\u003C/strong\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi djungleorm,\n\u003C/p\u003E\n\u003Cp\u003E\nFirstly a huge thank you for creating and maintiaining this mod. It is really a fantastic thing - and I imagine will quickly\u00A0become my favourite KSP mod!\u00A0I\u0027ve just \u0022finished\u0022 the stock tech tree with a \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003EISRU\u003C/abbr\u003E mining SSTE and wanted a new challenge so I think I\u0027ll try to play through career again (on Interstellar perhaps)\u00A0but this time\u00A0using only (well mostly) python .. Can\u0027t be that hard right?\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway after catching up with this thread, and in particular this\u00A0comment above (bold) I wondered whether you actually need to consider a new\u00A0events mechanism at all - can\u0027t this already be done fairly straightforwardly on the client side?\n\u003C/p\u003E\n\u003Cp\u003E\nFor python at least, the \u003Cstrong\u003Easyncio\u00A0\u003C/strong\u003Emodule allows you to create and run tasks as cooperatively scheduled\u00A0co-routines, so you can create asychronous flight plans based on some simple event handling with coroutines monitoring the streams that you\u0027ve already implemented in the KRPC client library.\n\u003C/p\u003E\n\u003Cp\u003E\nI threw together a quick example below that will monitor altitude and speed and handle triggered events in either order.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n#!/usr/bin/python3\nimport asyncio\nimport krpc\n\nclass KspSession(object):\n    def __init__ (self):\n        self.conn = krpc.connect(name=\u0022stream_test\u0022)\n        self.msg(\u0022KRPC client Connected!\u0022)\n\n        # Set up a queue for tasks to communicate\n        self.event_queue = asyncio.Queue()\n        self.vessel = self.conn.space_center.active_vessel\n\n        # Get the event loop and add some tasks\n        self.loop = asyncio.get_event_loop()\n        self.loop.create_task(\n            self.listen_flight_attr(self.vessel.surface_reference_frame,\n                                    \u0022mean_altitude\u0022,\n                                    3000, 8000))\n        self.loop.create_task(\n            self.listen_flight_attr(self.vessel.orbit.body.reference_frame,\n                                    \u0022speed\u0022,\n                                    170, 240))\n\n        # Finally add a task to handle all the flight events\n        self.loop.create_task(self.handle_flight_events())\n\n    def msg(self, s, duration=5.0):\n        self.conn.ui.message(s, duration=duration)\n\n    @asyncio.coroutine\n    def handle_flight_events (self):\n        while True:\n            # Wait until an item is put on the queue before dequeuing\n            data = yield from self.event_queue.get()\n            self.msg(\u0027Flight event: {} at {}\u0027.format(data[0], data[1]))\n            # Process event here..\n            # Test part, adjust course, deploy chutes, suicide burn etc..\n \n    @asyncio.coroutine\n    def listen_flight_attr(self, ref, attr, minimum, maximum):\n        self.msg(\u0022Listening for \u0027{}\u0027 events between {} and {}\u0022.format(attr, minimum, maximum))\n        with self.conn.stream(self.vessel.flight, ref) as flight:\n            while True:\n                yield # Let the CPU do other work\n                val = getattr(flight(), attr)\n                if val \u0026gt; minimum and val \u0026lt; maximum:\n                    # Put the flight data on the queue\n                    data = ( attr, val )\n                    asyncio.async(self.event_queue.put(data))\n                    return\n                 \n    def run(self):\n        # Run all tasks in an event loop, and don\u0027t stop\n        self.loop.run_forever()\n\nsess = KspSession()\nsess.run()\n\u003C/pre\u003E\n\u003Cp\u003E\nHope this is helpful!\n\u003C/p\u003E\n\u003Cp\u003E\nBest regards,\n\u003C/p\u003E\n\u003Cp\u003E\nTom.\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-10-14T04:56:31Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/169915-thomasd/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022169915\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/169915-thomasd/\u0022 rel=\u0022\u0022\u003E@ThomasD\u003C/a\u003E! I\u0027m planning to add something exactly like this in the python client library.\n\u003C/p\u003E\n\u003Cp\u003E\nWhile your code improves things on the client side, it doesn\u0027t address the issue that you have to constantly pull data from the server to check for the event. I plan\u00A0to add a bit of logic to the server so that we can effectively have the \u0060listen_flight_attr\u0060 code run on the server. The client will subscribe to a stream of boolean values, for which it will only receive an update message when the event occurs.\n\u003C/p\u003E\n"},{"CreatedByName":"Jovus","CreatedById":117163,"CreatedDateTime":"2016-10-14T21:55:30Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E I\u0027ve praised you earlier in the thread, but I feel like I have to do it again. I knew Python before I started hacking together a play-\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E-for-me suite, but this has really stretched my knowledge and made me much more familiar with the language and with programming in general, to my benefit. Thanks a ton.\n\u003C/p\u003E\n\u003Cp\u003E\nGeneral question to anyone who feels like answering:\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to create a simple script that will take a target orbit and a pre-launch active vessel and warp time until the active vessel is under the target orbit. (Specifically, I\u0027m going to the Moon in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, but I plan on making it much more general - fulfilling contract orbits, setting up orbital rendezvous from launch, etc.)\n\u003C/p\u003E\n\u003Cp\u003E\nAt first I thought this would be simple: take the longitude of the launch site, compare to the longitude of the ascending (or descending) node of the orbit, get the vessel\u0027s angular velocity, and calculate how long it will take from that for the vessel to rotate under the orbit. (Naturally taking into account the latitude offset.) Do all these calculations in the inertial reference frame of the body the vessel is currently landed on.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe I\u0027m missing something, but it looks like it\u0027s not that simple? The non-rotating reference frame (and indeed, all reference frames) uses x,y,z coordinates instead of r,theta,phi coordinates? Is there some easy way to get spherical (or even cylindrical) coordinates, or do I have to convert them myself?\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone wants to post some sample code or sample pseudo-code I\u0027ll love you forever, but that\u0027d just be icing on the cake.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nETA: Would it be better to be using vessel.orbit? Could I even do so when I\u0027m landed or pre-launch? Would that even be accurate?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-14T21:56:54Z\u0022 title=\u002210/14/2016 09:56  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 14, 2016\u003C/time\u003E by Jovus\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Phineas Freak","CreatedById":146521,"CreatedDateTime":"2016-10-15T08:21:55Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117163-jovus/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022117163\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/117163-jovus/\u0022 rel=\u0022\u0022\u003E@Jovus\u003C/a\u003E IIRC \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77242-bevolj/\u0026amp;do=hovercard\u0022 data-mentionid=\u002277242\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77242-bevolj/\u0022 rel=\u0022\u0022\u003E@BevoLJ\u003C/a\u003E has done that in his YouTube \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E series. You can fetch the KRPC scripts from \u003Ca href=\u0022https://github.com/BevoLJ/KRPC\u0022 rel=\u0022external nofollow\u0022\u003Ehis GitHub repository\u003C/a\u003E as a starting point.\n\u003C/p\u003E\n"},{"CreatedByName":"BevoLJ","CreatedById":77242,"CreatedDateTime":"2016-10-15T18:15:04Z","Content":"\n\u003Cp\u003E\nJust looked to find the function I used for that, but looks like I didn\u0027t upload any of my pre-launch code. \u00A0=(\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nA couple things I remember is that one of the hardest things about that module was the warp-to part in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E. \u00A0Due to latency and how fast the time-warping is in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, it was a challenge, and a robust \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E time warp function was essential part of my libs. \u00A0Especially for that particular pre-launch function.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the launch time part, I will poke around some of my archives to see if I can dig my py script up. \u00A0But for now you can just check how sarbian\u00A0does it: \u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/dev/MechJeb2/MechJebModuleAscentAutopilot.cs#L572\u0022 rel=\u0022external nofollow\u0022\u003EMechJeb\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-15T18:18:06Z\u0022 title=\u002210/15/2016 06:18  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 15, 2016\u003C/time\u003E by BevoLJ\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ThomasD","CreatedById":169915,"CreatedDateTime":"2016-10-17T23:49:00Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u00A0An event system sounds great, but please do preserve the streams! It would be nice to build client side\u00A0AIs on top of this thing, and streaming telemetry is a\u00A0good/valid way to go,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nJust for my own pleasure/fun, \u00A0I\u0027m working on a very simple Kivy based console that allows you to queue up sequences of maneuvers (launch, orbit, transfer, deorbit, etc) whilst also allowing background events/triggers (test part, autostage, deploy chutes), and also displaying flight data \u0026amp; a very simple 2d orbital \u0022view\u0022.\u00A0Using a GUI slightly complicates things in that I\u0027ve needed to use a separate thread, with messages queued between the GUI side and the KRPC/asyncio coroutine side.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll try to post/share something on github in a week or two, perhaps it can be added as an example somewhere if deemed worthy \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nRegards,\n\u003C/p\u003E\n\u003Cp\u003E\nTom.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2016-10-18T04:07:21Z","Content":"\n\u003Cp\u003E\nDon\u0027t worry - streams aren\u0027t going change! I just meant that I\u0027m going\u00A0to build an efficient event system on top of them\n\u003C/p\u003E\n"},{"CreatedByName":"ytmytm","CreatedById":162944,"CreatedDateTime":"2016-10-22T19:22:45Z","Content":"\n\u003Cp\u003E\nHello\n\u003C/p\u003E\n\u003Cp\u003E\nI just wanted to let you know that I managed to connect to kRPC using a low cost WeMos D1 Mini board with\u00A0ESP8266 WiFi chip.\n\u003C/p\u003E\n\u003Cp\u003E\nThe code is an ESP8266 core Arduino project and\u00A0github repository is here:\u00A0\u003Ca href=\u0022https://github.com/ytmytm/espkrpc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ytmytm/espkrpc\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe platform has 4MB of flash and there is about 80KB or RAM available for application so it\u0027s not possible to use C\u002B\u002B client provided by kRPC. I use only 20% of the flash but already 40% of RAM, without counting the dynamically allocated objects.\n\u003C/p\u003E\n\u003Cp\u003E\nInstead of Google protobuf I used Nanopb - a library with low RAM usage,\u00A0aimed for microcontrollers. Because of this I had to reimplement the services too.\n\u003C/p\u003E\n\u003Cp\u003E\nAt the moment the code in the \u003Ca href=\u0022https://github.com/ytmytm/espkrpc\u0022 rel=\u0022external nofollow\u0022\u003Erepository\u003C/a\u003E reimplements the script from kRPC\u00A0tutorial.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I have a device that I can just connect to a powerbank and\u00A0it will automatically sends a rocket up, to 100km apoapsis using autopilot and brings the Kerbals safely back. I don\u0027t know why, but having this as a physical thing that I can hold makes me more happy than using MechJeb :). In both cases my input is minimal.\n\u003C/p\u003E\n\u003Cp\u003E\nThe real reason I had in mind while playing with this was to use it in custom control/display designs.\n\u003C/p\u003E\n\u003Cp\u003E\nIn my \u003Ca href=\u0022https://hackaday.io/project/8891-ksp-gegi\u0022 rel=\u0022external nofollow\u0022\u003EKSP Gegi\u003C/a\u003E\u00A0project I used a Python script running on the game host to act\u00A0as an interface between simple serial commands sent over USB to Arduinos to display something (LEDs, LCD) and back to react on button presses.\u00A0Using this approach I can get rid of this dependency and keep whole control panel as a\u00A0one box that only needs power.\n\u003C/p\u003E\n\u003Cp\u003E\nFor current Arduino users - you can also think about it as a KSP Serial IO on steroids. The ESP8266 chip will connect over WiFi to the game and send back any information transcribed to data packet according to your needs.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-23T16:38:05Z\u0022 title=\u002210/23/2016 04:38  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 23, 2016\u003C/time\u003E by ytmytm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"xrayfishx","CreatedById":76147,"CreatedDateTime":"2016-11-16T01:45:01Z","Content":"\n\u003Cp\u003E\nI\u0027m using this thing for the first time (with Python if it matters)\u00A0and I\u0027m trying to figure out this: is there a way to measure in-game time rather than real time for my scripts? Basically something similar to time.sleep except based on in-game time? What I\u0027m trying to use so far is a custom sleep function using vessel.met, but would it work if the vessel is still on the launchpad and MET timer hasn\u0027t started?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: Well I got the time measurement to work as I want it with vessel.met, so it works under time acceleration, but I\u0027m still wondering if it works for something that\u0027s on a launchpad and if not, then whether there\u0027s a better way.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-11-16T13:08:50Z\u0022 title=\u002211/16/2016 01:08  PM\u0022 data-short=\u00227 yr\u0022\u003ENovember 16, 2016\u003C/time\u003E by xrayfishx\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TheKraken2000","CreatedById":170884,"CreatedDateTime":"2016-11-18T17:58:29Z","Content":"\n\u003Cp\u003E\nHi, I want to thank you for this great mod.\n\u003C/p\u003E\n\u003Cp\u003E\nCurrently I am learning Java at school so most of the time my programming is based of trial and error.\n\u003C/p\u003E\n\u003Cp\u003E\nBut even after a lot of testing I don\u0027t seem to get the output for the vessel speed working: no matter when I check it, it always gives \u00220.0\u0022 back.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is the part of my code:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0 public double getVerticalSpeed() throws IOException, RPCException, StreamException\u003Cbr\u003E\n\u00A0\u00A0\u00A0 {\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 this.surfaceReferenceFrame = vessel.getSurfaceReferenceFrame();\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 return flight.getVerticalSpeed();\u00A0 \u00A0\u003Cbr\u003E\n\u00A0\u00A0\u00A0 }\n\u003C/p\u003E\n\u003Cp\u003E\nThe methods getSpeed,getVerticalSpeed and\u00A0getHorizontalSpeed are not working. Any clue what my failure could be?\n\u003C/p\u003E\n\u003Cp\u003E\nHowever the method\u00A0getTrueAirSpeed() is working for me.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance.\n\u003C/p\u003E\n"}]}