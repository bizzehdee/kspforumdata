{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":28,"Articles":[{"CreatedByName":"xZise","CreatedById":59798,"CreatedDateTime":"2013-09-12T15:41:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThe problem is that for all intents and purposes, \u0022steering\u0022 appears to be a write-only variable. You can \u0022LOCK steering to BLAH\u0022 but you can\u0027t \u0022PRINT steering\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t test it now, but I\u0027m able to print steering. Or at least it works for the different axes (like \u003Cem\u003EPRINT steering:pitch\u003C/em\u003E), although I\u0027m not sure if this actually the correct value.\u003C/p\u003E\u003Cp\u003EFabian\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-12T15:55:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EHello, so I\u0027ve been having a problem recently with a script, every time try to run it my KSP will crash and I have to use the task manager to end the process. Pretty much what I\u0027m trying to do with the script is make something that will give me basic heading control for prograde, retrograde, normal \u002B, normal -, radial \u002B, and radial -.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a very common problem I\u0027ve run into as well with kOS.\u003C/p\u003E\u003Cp\u003EIn your code I think the problem is here:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tPRINT \u0022RETROGRADE.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere\u0027s no close quote mark.\u003C/p\u003E\u003Cp\u003EIn general, whenever you edit your code, run it, and kOS causes KSP to freeze entirely, look through what you just edited for paired delimiters like (..) or {...} or \u0022...\u0022 in which you are missing the closing part. I can pretty repeatably make kOS crash KSP by typing that.\u003C/p\u003E\u003Cp\u003EAn interpreter should react to mismatched parentheses and the like with a graceful syntax complaint rather than by crashing. I suspect that what\u0027s happening is that it\u0027s trying to read through the program file to find the closing thing, and getting all the way to the end without finding it, and then one of the following two things is happening:\u003C/p\u003E\u003Cp\u003E1 - The interpreter didn\u0027t check for End of File while scanning for the closing thingy so when it gets to the end it just bumps against the EOF forever, continually trying to read the next character that isn\u0027t there.\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E2 - The interpreter is operating on some sort of processed \u0022cooked\u0022 stream input that masks off the end of file so it never generates an EOF for the interpreter to detect even if it is trying to detect it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-12T16:21:07Z\u0022 title=\u002209/12/2013 04:21  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 12, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-12T18:58:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xZise\u0022 data-cite=\u0022xZise\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI personally would say stuff like this should be reported there: \u003Ca href=\u0022https://github.com/Nivekk/KOS/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Nivekk/KOS/issues\u003C/a\u003E As it seems it is KSP\u0027s failure but I don\u0027t see why kOS simply but it into a (-360;\u002B360) or [0;\u002B360) interval prior to giving it to your script.\u003C/p\u003E\u003Cp\u003EFabian\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks. I\u0027ll take my concerns there.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-12T19:03:39Z\u0022 title=\u002209/12/2013 07:03  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 12, 2013\u003C/time\u003E by check\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"G0DZKILLA","CreatedById":82392,"CreatedDateTime":"2013-09-12T20:49:06Z","Content":"\n\u003Cp\u003EWould it be possible to make a radial version of the part (eg for probes) please?\u003C/p\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-09-12T21:50:12Z","Content":"\n\u003Cp\u003EIs there a way to invoke RCS translation?\u003C/p\u003E\n"},{"CreatedByName":"schoff123","CreatedById":71389,"CreatedDateTime":"2013-09-12T22:19:10Z","Content":"\n\u003Cp\u003Eis there a possibility of signal lag? like it would take \u0022n\u0022 amount of time for your signal to reach a probe orbiting duna? it would be similar to RemoteTech, but without all the hassle of a comm\u0027s network.\u003C/p\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2013-09-12T23:29:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022G0DZKILLA\u0022 data-cite=\u0022G0DZKILLA\u0022\u003E\u003Cdiv\u003EWould it be possible to make a radial version of the part (eg for probes) please?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes it would. Try around post #662.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/47399-kOS-Scriptable-Autopilot-System-0-5?p=645614\u0026amp;viewfull=1#post645614\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/47399-kOS-Scriptable-Autopilot-System-0-5?p=645614\u0026amp;viewfull=1#post645614\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-09-13T02:11:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThis is a very common problem I\u0027ve run into as well with kOS.\u003Cp\u003EIn your code I think the problem is here:\u003C/p\u003E\u003Cp\u003ECode:\u003C/p\u003E\u003Cp\u003E PRINT \u0022RETROGRADE.\u003C/p\u003E\u003Cp\u003EThere\u0027s no close quote mark.\u003C/p\u003E\u003Cp\u003EIn general, whenever you edit your code, run it, and kOS causes KSP to freeze entirely, look through what you just edited for paired delimiters like (..) or {...} or \u0022...\u0022 in which you are missing the closing part. I can pretty repeatably make kOS crash KSP by typing that.\u003C/p\u003E\u003Cp\u003EAn interpreter should react to mismatched parentheses and the like with a graceful syntax complaint rather than by crashing. I suspect that what\u0027s happening is that it\u0027s trying to read through the program file to find the closing thing, and getting all the way to the end without finding it, and then one of the following two things is happening:\u003C/p\u003E\u003Cp\u003E1 - The interpreter didn\u0027t check for End of File while scanning for the closing thingy so when it gets to the end it just bumps against the EOF forever, continually trying to read the next character that isn\u0027t there.\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E2 - The interpreter is operating on some sort of processed \u0022cooked\u0022 stream input that masks off the end of file so it never generates an EOF for the interpreter to detect even if it is trying to detect it.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you so much, last night I was really tired so I can see how I easily missed that, especially with KSP taking 10 minutes to load every time I wanted to test it.\u003C/p\u003E\u003Cp\u003EOn another note, is there anywhere that people have been sharing scripts for kOS? Like a thread that was made specifically for sharing them? Because I have a really nice launch sequence script that I spent 10 hours last night working on.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-13T02:13:34Z","Content":"\n\u003Cp\u003E[edit: deleted my post. I thought I\u0027d found a good solution to a problem but I hadn\u0027t.]\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-13T02:40:18Z\u0022 title=\u002209/13/2013 02:40  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 13, 2013\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-13T02:59:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022schoff123\u0022 data-cite=\u0022schoff123\u0022\u003E\u003Cdiv\u003Eis there a possibility of signal lag? like it would take \u0022n\u0022 amount of time for your signal to reach a probe orbiting duna? it would be similar to RemoteTech, but without all the hassle of a comm\u0027s network.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou could implement a \u0022delay\u0022 of sorts in the program. Detect what body you\u0027re in the gravity sphere of and/or use the distance away from Kerbin and add a \u0022wait\u0022 time for how ever long the delay would be. If I\u0027m not mistaken, as it is if you\u0027re not in range of KSC and/or have a dish on you can\u0027t load a program, well not from archive anyway. My plan is when I start actually using KSP (when ever remotech 2 is offical), so long as KOS doesn\u0027t have any problems working with remotech2, im gonna build my comm network. I\u0027d imagine, even with whatever part lag I\u0027d have, kOS would help in that it\u0027ll still run the same, so that should be interesting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E and fun. Now...of course if remotech2 isn\u0027t official before KSP 0.22 is released, then maybe partlag wont be so bad, depending on what this optimization is they\u0027re talking about.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-13T03:01:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E[edit: deleted my post. I thought I\u0027d found a good solution to a problem but I hadn\u0027t.]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELol, don\u0027t you hate when that happens? Wish I understood the math better (cos, tan, sin, etc) and what they\u0027d be good for.\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-09-13T03:29:21Z","Content":"\n\u003Cp\u003EDoes anybody know how to use ON AGX without having the script end immediately afterwards? I\u0027m trying to make a basic heading control script that waits for an actiongrounp to be triggered and when it is it\u0027s supposed to cycle through the 6 relative directions of prograde, retrograde, normal \u002B, normal -, radial \u002B, and radial -.\u003C/p\u003E\u003Cp\u003EI\u0027ve been trying to use an UNTIL loop to make sure that the script doesn\u0027t end and can continue to wait for the actiongrounp to be triggered, however it seems that no matter where I put ON AGX it automatically ends the script afterwards.\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-13T03:32:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EDoes anybody know how to use ON AGX without having the script end immediately afterwards? I\u0027m trying to make a basic heading control script that waits for an actiongrounp to be triggered and when it is it\u0027s supposed to cycle through the 6 relative directions of prograde, retrograde, normal \u002B, normal -, radial \u002B, and radial -.\u003Cp\u003EI\u0027ve been trying to use an UNTIL loop to make sure that the script doesn\u0027t end and can continue to wait for the actiongrounp to be triggered, however if seems that no matter where I put ON AGX it automatically ends the script afterwards.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe would have to look. There is something obviously triggering your loop end condition. I have plenty of scripts that use action groups for user input. It\u0027s not a problem with the action groups that I know of.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-13T03:44:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sma\u0022 data-cite=\u0022Sma\u0022\u003E\u003Cdiv\u003ELol, don\u0027t you hate when that happens? Wish I understood the math better (cos, tan, sin, etc) and what they\u0027d be good for.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI do now have a solution of sorts but I need to work out how to explain it in as few words as possible so I don\u0027t do a giant wall of a post. I\u0027ll want to post code with it.\u003C/p\u003E\n"},{"CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-09-13T03:45:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rhoark\u0022 data-cite=\u0022rhoark\u0022\u003E\u003Cdiv\u003EIs there a way to invoke RCS translation?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot yet but there will be\u003C/p\u003E\n"},{"CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-09-13T03:47:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022schoff123\u0022 data-cite=\u0022schoff123\u0022\u003E\u003Cdiv\u003Eis there a possibility of signal lag? like it would take \u0022n\u0022 amount of time for your signal to reach a probe orbiting duna? it would be similar to RemoteTech, but without all the hassle of a comm\u0027s network.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think I\u0027ll implement that. It may be realistic, but I would get bug reports from people saying \u0022copying files to duna lags like 90 seconds!\u0022\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-09-13T03:50:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EWe would have to look. There is something obviously triggering your loop end condition. I have plenty of scripts that use action groups for user input. It\u0027s not a problem with the action groups that I know of.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think I\u0027ve just figured out what might of been the problem, although I\u0027ll need to test it more it appears that the actiongrounps didn\u0027t work how I expected. Initially I thought it worked like a button, you press it and it automatically \u0022un-presses\u0022 so to speak, however after a bit of testing I\u0027ve found that it seems to actually work more like a switch, you can switch it on with the actiongroup button, but you then have to immediately use TOGGLE AGX to switch it back off or else it will remain \u0022on\u0022.\u003C/p\u003E\u003Cp\u003EI figured this out by writing this simple little script...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING TO PROGRADE.\u003Cbr\u003EWAIT UNTIL AG1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever when I ran this, it would only work the first time and any further attempts to run the script again would be greeted by it being immediately ended, since AG1 was technically still \u0022on\u0022.\u003C/p\u003E\u003Cp\u003EThe solution was the following.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING TO PROGRADE.\u003Cbr\u003EWAIT UNTIL AG1.\u003Cbr\u003ETOGGLE AG1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd with that, it will work over and over again as intended.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-13T03:52:32Z\u0022 title=\u002209/13/2013 03:52  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 13, 2013\u003C/time\u003E by CoriW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rhoark","CreatedById":57151,"CreatedDateTime":"2013-09-13T03:51:28Z","Content":"\n\u003Cp\u003EI just got my launch program in a state I\u0027m reasonably happy with. It controls pitch and throttle with a PID watching eta:apoapsis, and stages based on discontinuities in acceleration.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset targetapo to 90000.\u003Cbr\u003Eset atmo_top to 68000.\u003Cbr\u003Eset limitG to 1.5.\u003Cbr\u003E\u003Cbr\u003Emode_pad on.\u003Cbr\u003Emode_stage off.\u003Cbr\u003Emode_launch off.\u003Cbr\u003Emode_limitG off.\u003Cbr\u003Emode_turn off.\u003Cbr\u003Emode_coast off.\u003Cbr\u003Emode_raise_ap off.\u003Cbr\u003Emode_raise_pe off.\u003Cbr\u003Emode_finish off.\u003Cbr\u003E\u003Cbr\u003Eset roll to 0-90.\u003Cbr\u003Eset yaw to 0.\u003Cbr\u003Eset pitch to 0.\u003Cbr\u003Eset pitchmaxlimit to 0.1.\u003Cbr\u003E\u003Cbr\u003Eset tlimit to 1.\u003Cbr\u003Eset Pthrottle to 0.01.\u003Cbr\u003Eset Dthrottle to 0.\u003Cbr\u003Eset errorT to 0.\u003Cbr\u003Eset errorTD to 0.\u003Cbr\u003E\u003Cbr\u003Eset bstartalt to 1000.\u003Cbr\u003Eset bendalt to 9000.\u003Cbr\u003Eset bendpitch to (0-bendalt)/atmo_top.\u003Cbr\u003E\u003Cbr\u003Eset P to 0.01.\u003Cbr\u003Eset I to 0.001.\u003Cbr\u003Eset D to 0.1.\u003Cbr\u003E\u003Cbr\u003Eset error to 0.\u003Cbr\u003Eset errorprev to 0.\u003Cbr\u003Eset errorI to 0.\u003Cbr\u003Eset errorD to 0.\u003Cbr\u003E\u003Cbr\u003Eset scalarvelocity to 0.\u003Cbr\u003Eset prevV to 0.\u003Cbr\u003Eset accel to 0.\u003Cbr\u003Eset prevAccel to 0.\u003Cbr\u003Eset jerk to 0.\u003Cbr\u003Eset prev_throttle to 1.\u003Cbr\u003Eset prev_epsilon to 0.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Liftoff\u0022.\u003Cbr\u003Eset clock to 0.\u003Cbr\u003Elock steering to up.\u003Cbr\u003Esas on.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Estage.\u003Cbr\u003Emode_pad off.\u003Cbr\u003Emode_launch on.\u003Cbr\u003Emode_limitG on.\u003Cbr\u003Ewait until missiontime \u0026gt; 0.\u003Cbr\u003E\u003Cbr\u003Euntil mode_finish {\u003Cbr\u003E\tset deltatime to missiontime - clock.\u003Cbr\u003E\tset clock to missiontime.\u003Cbr\u003E\tset prevV to scalarvelocity.\u003Cbr\u003E\tset prevAccel to accel.\u003Cbr\u003E\tset scalarvelocity to (surfacespeed^2 \u002B verticalspeed^2)^(0.5).\u003Cbr\u003E\tset accel to (scalarvelocity - prevV) / deltatime.\u003Cbr\u003E\tset jerk to (accel - prevAccel) / deltatime.\u003Cbr\u003E\tset pitchlimit to (0-1) * (altitude/atmo_top).\u003Cbr\u003E\tif pitchlimit \u0026lt; (0-1) { set pitchlimit to (0-1). }.\u003Cbr\u003E\u003Cbr\u003E\tif mode_launch {\u003Cbr\u003E\t\tmode_stage on.\u003Cbr\u003E\t\tif altitude \u0026gt; bstartalt {\u003Cbr\u003E\t\t\tprint \u0022Static turn\u0022.\u003Cbr\u003E\t\t\tmode_launch off.\u003Cbr\u003E\t\t\tmode_turn on.\u003Cbr\u003E\t\t\tsas off.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_stage {\u003Cbr\u003E\t\tset accel_theoretical to ((maxthrust/mass)*throttle).\u003Cbr\u003E\t\tset epsilon to accel_theoretical - accel.\u003Cbr\u003E\t\tset throttlechange to accel * (throttle - prev_throttle).\u003Cbr\u003E\t\tif (missiontime \u0026gt; 10) and (throttle \u0026gt; 0) and (throttlechange \u0026gt; -3) and (epsilon - prev_epsilon \u0026gt; 2.5) {\u003Cbr\u003E\t\t\tprint \u0022Staging\u0022.\u003Cbr\u003E\t\t\tstage.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t\tset prev_epsilon to epsilon.\u003Cbr\u003E\t\tset prev_throttle to throttle.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_turn {\u003Cbr\u003E\t\tset pitch to bendpitch * ((altitude-bstartalt)/(bendalt-bstartalt)).\u003Cbr\u003E\t\tlock steering to up \u002B r(yaw, 90*pitch, roll).\u003Cbr\u003E\t\tif altitude \u0026gt; bendalt {\u003Cbr\u003E\t\t\tprint \u0022Dynamic turn\u0022.\u003Cbr\u003E\t\t\tmode_turn off.\u003Cbr\u003E\t\t\tmode_coast on.\u003Cbr\u003E\t\t\tmode_raise_ap on.\u003Cbr\u003E\t\t\tmode_limitG off.\u003Cbr\u003E\t\t\tlock throttle to 1.\u003Cbr\u003E\t\t\tset startapo to apoapsis.\u003Cbr\u003E\t\t\tset starteta to eta:apoapsis.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_limitG {\u003Cbr\u003E\t\tset errorTprev to errorT.\u003Cbr\u003E\t\tset errorT to (limitG*9.8) - (tlimit*accel).\u003Cbr\u003E\t\tset errorTD to (errorT - errorTprev) / deltatime.\u003Cbr\u003E\t\tset tlimit to tlimit \u002B (Pthrottle*errorT) \u002B (Dthrottle * errorTD).\u003Cbr\u003E\t\tif tlimit \u0026gt; 1 { set tlimit to 1. }.\u003Cbr\u003E\t\tlock throttle to tlimit.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_raise_ap {\u003Cbr\u003E\t\tset etamargin to 15.\u003Cbr\u003E\t\tset minthrust to 0.5.\u003Cbr\u003E\t\tset tfudge to 0.1.\u003Cbr\u003E\t\tif apoapsis \u0026gt; targetapo {\u003Cbr\u003E\t\t\tprint \u0022Circularizing\u0022.\u003Cbr\u003E\t\t\tmode_raise_ap off.\u003Cbr\u003E\t\t\tmode_raise_pe on.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_raise_pe {\u003Cbr\u003E\t\tset etamargin to 10.\u003Cbr\u003E\t\tset minthrust to 0.\u003Cbr\u003E\t\tset pitchmaxlimit to -1.\u003Cbr\u003E\t\tset tfudge to 0.\u003Cbr\u003E\t\tset I to 0.\u003Cbr\u003E\t\tif periapsis \u0026gt; targetapo {\u003Cbr\u003E\t\t\tmode_raise_pe off.\u003Cbr\u003E\t\t\tmode_coast off.\u003Cbr\u003E\t\t\tmode_finish on.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t}.\u003Cbr\u003E\u003Cbr\u003E\tif mode_coast {\u003Cbr\u003E\t\tset targeteta to ((targetapo-apoapsis)/(targetapo-startapo)) * starteta.\u003Cbr\u003E\t\tif targeteta \u0026lt; etamargin { set targeteta to etamargin. }.\u003Cbr\u003E\t\tset eta to eta:apoapsis.\u003Cbr\u003E\t\tif eta:periapsis \u0026lt; eta:apoapsis { set eta to 0. }.\u003Cbr\u003E\t\tset errorprev to error.\u003Cbr\u003E\t\tset error to targeteta - eta.\u003Cbr\u003E\t\tset errorD to (error - errorprev) / deltatime.\u003Cbr\u003E\t\tset errorI to errorI \u002B (error * deltatime).\u003Cbr\u003E\t\tif errorI \u0026gt; error { set errorI to error. }.\u003Cbr\u003E\t\tset adjustment to (P*error) \u002B (I*errorI) \u002B (D*errorD).\u003Cbr\u003E\u003Cbr\u003E\t\tif (adjustment \u0026lt; 0) or (tlimit = 1) {\u003Cbr\u003E\t\t\tset pitch to pitch \u002B adjustment.\u003Cbr\u003E\t\t\tif pitch \u0026lt; pitchlimit { set pitch to pitchlimit.  }.\u003Cbr\u003E\t\t\tif pitch \u0026gt; pitchmaxlimit { set pitch to pitchmaxlimit. }.\u003Cbr\u003E\t\t\tlock steering to up \u002B r(yaw, 90*pitch, roll).\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t\tif (pitch - pitchlimit \u0026lt; .03) or (adjustment \u0026gt; 0) {\u003Cbr\u003E\t\t\tset tlimit to tlimit \u002B adjustment.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t\tif (pitchlimit \u0026gt; 0-1) { set tlimit to tlimit \u002B tfudge. }.\u003Cbr\u003E\t\tif tlimit \u0026lt; minthrust { set tlimit to minthrust. }.\u003Cbr\u003E\t\tif tlimit \u0026gt; 1 { set tlimit to 1. }.\u003Cbr\u003E\t\tset tfinal to tlimit.\u003Cbr\u003E\t\tlock throttle to tfinal.\u003Cbr\u003E\t}.\u003Cbr\u003E}.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-13T03:59:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EI think I\u0027ve just figured out what might of been the problem, although I\u0027ll need to test it more it appears that the actiongrounps didn\u0027t work how I expected. Initially I thought it worked like a button, you press it and it automatically \u0022un-presses\u0022 so to speak, however after a bit of testing I\u0027ve found that it seems to actually work more like a switch, you can switch it on with the actiongroup button, but you then have to immediately use TOGGLE AGX to switch it back off or else it will remain \u0022on\u0022.\u003Cp\u003EI figured this out by writing this simple little script...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING TO PROGRADE.\u003Cbr\u003EWAIT UNTIL AG1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever when I ran this, it would only work the first time and any further attempts to run the script again would be greeted by it being immediately ended, the solution was the following.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ELOCK STEERING TO PROGRADE.\u003Cbr\u003EWAIT UNTIL AG1.\u003Cbr\u003ETOGGLE AG1.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd with that, it will work over and over again as intended.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI too noticed the lack of de-bouncing. It\u0027s not a real issue as you found, if you turn it back off manually. It takes some amount of loop control to use them correctly. I think I probably do too much from what I have seen in other scripts. Just be reminded that using halts as flow control is not the greatest practice. Your computer can\u0027t do anything while it\u0027s waiting. In simple scripts it seems like a non-issue and indeed usually is. It is just something to be mindful of.\u003C/p\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-09-13T04:12:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EI too noticed the lack of de-bouncing. It\u0027s not a real issue as you found, if you turn it back off manually. It takes some amount of loop control to use them correctly. I think I probably do too much from what I have seen in other scripts. Just be reminded that using halts as flow control is not the greatest practice. Your computer can\u0027t do anything while it\u0027s waiting. In simple scripts it seems like a non-issue and indeed usually is. It is just something to be mindful of.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey I was wondering if maybe you or someone else can help me with this script I\u0027m working on, it\u0027s supposed to be able to cycle through headings using AG5, but it doesn\u0027t seem to work. Originally I tried putting \u0022ON AG5 {SET V TO V \u002B 1. TOGGLE AG5.}.\u0022 before the UNTIL loop, however using that method the script was ended immediately after I press \u00225\u0022, and then the version below that has the code inside the UNTIL loop it just doesn\u0027t register AG5 being pressed at all.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET V TO 0.\u003Cbr\u003ESET X TO 0.\u003Cbr\u003E\u003Cbr\u003EUNTIL X = 1\u003Cbr\u003E{\u003Cbr\u003E\tON AG5 {SET V TO V \u002B 1. TOGGLE AG5.}.\u003Cbr\u003E\u003Cbr\u003E\tIF V = 0\u003Cbr\u003E\t{\u003Cbr\u003E\t\tUNLOCK ALL.\u003Cbr\u003E\t\tPRINT \u0022NO VECTOR\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 1\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO PROGRADE.\u003Cbr\u003E\t\tPRINT \u0022PROGRADE\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 2\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO RETROGRADE.\u003Cbr\u003E\t\tPRINT \u0022RETROGRADE\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 3\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO PROGRADE \u002B R(-90,0,0)\u003Cbr\u003E\t\tPRINT \u0022NORMAL \u002B\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 4\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO PROGRADE \u002B R(90,0,0)\u003Cbr\u003E\t\tPRINT \u0022NORMAL -\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 5\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO PROGRADE \u002B R(0,90,0)\u003Cbr\u003E\t\tPRINT \u0022RADIAL \u002B\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 6\u003Cbr\u003E\t{\u003Cbr\u003E\t\tLOCK STEERING TO PROGRADE \u002B R(0,-90,0)\u003Cbr\u003E\t\tPRINT \u0022RADIAL -\u0022.\u003Cbr\u003E\t}.\u003Cbr\u003E\tIF V = 7\t{SET V TO 0.}.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-13T04:31:14Z","Content":"\n\u003Cp\u003EYour lock steering statements lack a terminator. There is an IDE out for this that could help with that. I haven\u0027t tried it but I\u0027m pretty sure it will highlight those kinds of errors right off the bat. Also if you want to have fun. Leave a close parenthesis off the end of one of those statements and see what happens.\u003C/p\u003E\u003Cp\u003ENo really don\u0027t do that. It will lock the game up.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-13T04:35:06Z\u0022 title=\u002209/13/2013 04:35  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 13, 2013\u003C/time\u003E by Payload\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CoriW","CreatedById":57866,"CreatedDateTime":"2013-09-13T05:03:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EYour lock steering statements lack a terminator. There is an IDE out for this that could help with that. I haven\u0027t tried it but I\u0027m pretty sure it will highlight those kinds of errors right off the bat. Also if you want to have fun. Leave a close parenthesis off the end of one of those statements and see what happens.\u003Cp\u003ENo really don\u0027t do that. It will lock the game up.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell this is strange... It will run without those terminators you mentioned but as soon as I add them the script won\u0027t run due to a \u0022Syntax Error\u0022 that only occurs after I\u0027ve added those 4 terminators.\u003C/p\u003E\u003Cp\u003EEDIT: Not sure what I did but I got it to work with the terminators... However it still won\u0027t work, if I have \u0022ON AG5 {SET V TO V \u002B 1. TOGGLE AG5.}.\u0022 inside the loop it can\u0027t be detected and if I have it before the loop it ends the script on AG5.\u003C/p\u003E\u003Cp\u003EEDIT: Alright so after much trying and failure it seems that \u0022ON AGX\u0022 isn\u0027t compatible with UNTIL loops.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-13T06:13:12Z\u0022 title=\u002209/13/2013 06:13  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 13, 2013\u003C/time\u003E by CoriW\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"razark","CreatedById":32993,"CreatedDateTime":"2013-09-13T11:05:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022CoriW\u0022 data-cite=\u0022CoriW\u0022\u003E\u003Cdiv\u003EEDIT: Alright so after much trying and failure it seems that \u0022ON AGX\u0022 isn\u0027t compatible with UNTIL loops.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust to be sure, do you have the terminal window in focus when testing this?\u003C/p\u003E\n"},{"CreatedByName":"angusmcbeth","CreatedById":42479,"CreatedDateTime":"2013-09-13T11:47:14Z","Content":"\n\u003Cp\u003EA set of programable robotic parts would be a cool addition to this mod, or a way to control the DR parts.\u003C/p\u003E\u003Cp\u003EHaving great fun with this. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Devinci","CreatedById":71469,"CreatedDateTime":"2013-09-13T11:57:56Z","Content":"\n\u003Cp\u003EI am working on a missile. It does raise up and takeoff from the vehicle but now the problem is how to lock the steering towards the target. I will have to refresh my brain a little on math and physics to figure this one out or maybe not? \u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://imageshack.us/a/img853/5990/f6jm.png\u0022 alt=\u0022f6jm.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://imageshack.us/a/img17/4947/m30f.png\u0022 alt=\u0022m30f.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://imageshack.us/a/img14/553/bcvy.png\u0022 alt=\u0022bcvy.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t have much programming experience but here is my code so far.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E print \u0022Altitude\u0022 at (20,0).\u003Cbr\u003Euntil 0\u003Cbr\u003E{\u003Cbr\u003E\tset target to \u0022tank1\u0022.\u003Cbr\u003E\tprint altitude at (20,1).\u003Cbr\u003E\ttoggle AG4.\u003Cbr\u003E\tlock throttle to 1.\u003Cbr\u003E\tset t to 10.\u003Cbr\u003E\tuntil t \u0026lt; 1 {\t\u003Cbr\u003E\tprint \u0022Lift Off in: \u0022.\u003Cbr\u003E\tprint \u0022T- \u0022 \u002B t.\u003Cbr\u003E\tset t to t - 1.\u003Cbr\u003E\twait 1.\u003Cbr\u003E\tif t = 3 { \u003Cbr\u003E\t\tlock throttle to 1.\u003Cbr\u003E\t\tprint \u0022Throttle Set\u0022.\u003Cbr\u003E\t\t}.\u003Cbr\u003E\t\t}.\t\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\tif t = 0 { \u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\tlock steering to up \u002B R(0,0,180).\u003Cbr\u003E\t\t\t\t\t\tstage.\u003Cbr\u003E\t\t\t\t\t\tprint \u0022Takeoff!\u0022.\u003Cbr\u003E\t\t\t\t\t}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\twait 10.\u003Cbr\u003E\t\t\tset x to target:distance.\t\t\t\u003Cbr\u003E\t\t\twait until altitude \u0026gt; x.\u003Cbr\u003E\u003Cbr\u003E\t\t\tprint \u0022Going to Target.\u0022.\u003Cbr\u003E\t\t\tlock steering to target.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E}.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}