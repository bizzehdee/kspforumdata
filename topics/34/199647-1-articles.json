{"TopicId":199647,"ForumId":34,"TopicTitle":"Common Launch Script (CLS) [kOS Script] v2.0.0","CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-01-16T13:11:53Z","PageNum":1,"Articles":[{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-01-16T13:11:53Z","Content":"\n\u003Cp style=\u0022text-align:center;\u0022\u003E\n\u003Cspan style=\u0022font-size:22px;\u0022\u003E\u003Cu\u003E\u003Cstrong\u003ECommon Launch Script (CLS)\u003C/strong\u003E\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EWhat is it?\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCLS is an auto-launch script that will put most rockets into a circular orbit of any desired apoapsis and inclination. It attempts to be a \u0027one-size-fits-all\u0027 script. If it takes off vertically and has more than one stage, this script can launch it (hopefully).\u00A0 I finally feel its in a state that I am confident sharing with the KSP community so that it can be enjoyed / modified / improved by the rest of this amazing community.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EDownload Link:\u00A0\u003C/strong\u003E \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/releases\u0022 rel=\u0022external nofollow\u0022\u003EGithub\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Qwarkk6/CLS/blob/main/Changelog.md\u0022 rel=\u0022external nofollow\u0022\u003EChangelog\u003C/a\u003E\u00A0\u003Cspan\u003E \u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDependencies:\u00A0 \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/165628-181-kos-v1210-kos-scriptable-autopilot-system/\u0022 rel=\u0022\u0022\u003EkOS\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EWhat can it do?\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBelow is a list of it\u0027s main features:\n\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EGeneral\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nLaunches any 2\u002B stage rocket into any circular orbit within Kerin \u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E\u003C/abbr\u003E (apoapsis \u0026amp; inclination can be configured).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nAllows a specific launch time (to the second) to be set either by inputting \u0022hh:mm:ss\u0022 or number of seconds until launch.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nCan be set to achieve the highest possible circular orbit for the vehicle\u0027s \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E and CLS\u0027s ascent trajectory.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nRestricts time warp for code stability based on ascent phase.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EStaging\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nDetailed staging logic that handles automatic staging, including those that use ullage separation.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nDetects impending staging and steers towards prograde for those Korolev style separations we all love.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nAuto jettisons \u003Cabbr title=\u0022Launch Escape System\u0022\u003E\u003Cabbr title=\u0022Launch Escape System\u0022\u003ELES\u003C/abbr\u003E\u003C/abbr\u003E or fairings on ascent based on atmospheric pressure, but not during staging.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EDisplay\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nProvides incremental readouts of vehicle altitude and speed.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nContinuous display for a range of data.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nUses scrolling print for rolling text display.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\n\u0027Immersive\u0027 readouts during countdown, ascent and circularisation.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EEngines\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nThrottles down main engines on ascent to limit \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003Etwr\u003C/abbr\u003E\u003C/abbr\u003E (configurable).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nThrottles down central booster in 3 booster lifters such as Delta Heavy. Throttles them back up on side booster separation.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nThrottles down upper stage engines to limit \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003Etwr\u003C/abbr\u003E\u003C/abbr\u003E (configurable).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nThrottles to achieve a specific \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003Etwr\u003C/abbr\u003E\u003C/abbr\u003E at liftoff (configurable).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nThrottling during ascent is gradual.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nAccounts for SRBs with thrust curves. Throttles up main engines to account for reducing \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003E\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u003C/abbr\u003E thrust and jettisons SRBs once thrust \u0026lt; 20%.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EAbort / Countdown Holding\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nContinuously checks abort conditions (RUDs, loss of steering control, insufficient thrust, loss of electrical charge) and activates abort action group if a condition is met.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nHolds launch if electric charge is low, staging is incorrect, liftoff \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E is too low, action groups are incorrect or any background script initialization is not nominal (to avoid mid-ascent errors as much as possible).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nHolds launch if user input is incorrect (eg target apoapsis within the atmosphere).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nLaunch holds give the user the option to continue the launch, scrub the launch or recycle the countdown depending on the severity of the issue. This uses pilot input (A and N) keys to determine your response. You will need to click off of the kOS terminal for this to work.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003ECircularisation\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nContinuously monitors data to calculate the best method to achieve orbit and will switch automatically to the most efficient method.\u00A0\u00A0\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nAutomatically creates, performs and removes maneuver nodes for circularisation with a high degree of accuracy.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp style=\u0022margin-left:40px;\u0022\u003E\n\u003Cu\u003EAscent Profile / Steering\u003C/u\u003E\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nLocks orientation of vehicle during ascent (aka the orientation the rocket leaves the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E in is how it will remain the entire way to space).\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nUses a standard ascent profile for consistency. Launch profile is only adjusted (automatically) for low \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003E\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u003C/abbr\u003E vehicles.\n\u003C/li\u003E\n\u003Cli style=\u0022margin-left:40px;\u0022\u003E\nContinuously monitors the vehicle\u0027s time to apoapsis and controls throttle and pitch accordingly.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EWhat can\u0027t it do?\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis script was always written for my own personal use - I have adapted it for a public release. Therefore it has not received testing using any variety of mods or vehicle designs other than my own. As people use this with weird and wonderful designs or different assortments of mods, I\u0027m sure bugs will emerge. Please refer to the bug reporting section below for what to do in this situation to help development.\n\u003C/p\u003E\n\u003Cp\u003E\nI also want to say that my kOS writing skills are self-taught and I have no background in doing anything like this. There are probably better ways to write this script, and there are absolutely better kOS writers than me. If you do have any suggestions of how to change the script, please feel free to comment on this post or open an issue on github.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EInstallation Instructions\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCopy everything from the zip into your main Kerbal Space Program folder.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EFuture Development\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI use the issue tracker on Github to document any features to be added, bugs to be fixed or other general changes to make. You can refer to it \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EUsage Instructions\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCLS can be run from the archive. If you dont have the \u0027start on the archive\u0027 setting enabled, switch to the archive with the kOS command \u0027switch to 0.\u0027 and then you will be able to run CLS.\n\u003C/p\u003E\n\u003Cp\u003E\nMore specific instructions for running CLS can be found at the top of CLS.ks.\n\u003C/p\u003E\n\u003Cp\u003E\nMany aspects of the script are configurable. Those that are can be found at the top of CLS.ks in the USER CONFIGURATION section.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003EBug Reporting\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf this script fails for you, please either comment on this post or open an issue on github in the \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/issues\u0022 rel=\u0022external nofollow\u0022\u003Eissue tracker\u003C/a\u003E. In both cases I will need to see a picture of the kOS terminal, the launch parameters inputted and when during ascent it failed. In some cases I may also need a modlist or craft file for further testing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003ELicensing\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis script is distributed under the CC-BY-SA-4.0 license, except where noted below, where those elements are distributed under their own license.\n\u003C/p\u003E\n\u003Cp\u003E\nLicense text can be found \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/blob/main/LICENSE.txt\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003ELicensing Exceptions\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nlib_navball.ks | lib_lazcalc.ks | lib_num_to_formatted_str.ks - \u003Ca href=\u0022https://github.com/KSP-KOS/KSLib\u0022 rel=\u0022external nofollow\u0022\u003EKSLib\u003C/a\u003E - \u003Ca href=\u0022https://opensource.org/licenses/MIT\u0022 rel=\u0022external nofollow\u0022\u003EMIT.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSee \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/blob/main/Licensing_Exceptions.txt\u0022 rel=\u0022external nofollow\u0022\u003Elicense_exceptions\u003C/a\u003E for more information.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:20px;\u0022\u003E\u003Cu\u003ESpecial Thanks\u003C/u\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA huge thank you to /u/only_to_downvote / mileshatem for writing and sharing his amazing \u003Ca href=\u0022https://github.com/mileshatem/launchToCirc\u0022 rel=\u0022external nofollow\u0022\u003ElaunchtoCirc \u003C/a\u003Escript. CLS is based on his work. I taught myself kOS by deconstructing launchtoCirc bit by bit to understand it and how it works. Then I set about creating my own, but some of mileshatem\u0027s original code is in CLS. When i hit a roadblock with ascent profiles, I messaged him on reddit and received some fantastic help.\n\u003C/p\u003E\n\u003Cp\u003E\nThe kOS dev team for writing their fantastic \u003Ca href=\u0022https://ksp-kos.github.io/KOS/\u0022 rel=\u0022external nofollow\u0022\u003Etutorials and documentation\u003C/a\u003E for kOS. Incredibly useful for a new kOS user and taught me a lot.\u003Cbr\u003E\nThe kOS dev team (again) for their amazing \u003Ca href=\u0022https://github.com/KSP-KOS/KSLib\u0022 rel=\u0022external nofollow\u0022\u003EKSlib \u003C/a\u003Elibraries. CLS uses them, and seeing how their libraries work taught me a lot.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fantastic kOS subreddit/community. I hit many roadblocks writing this script and I always found help there. Whether it was reading responses to other\u0027s troubles or posting myself, I always found someone with a suggestion. /u/Dunbaratu provided the compass_for_vect function.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222024-03-18T00:15:57Z\u0022 title=\u002203/18/2024 12:15  AM\u0022 data-short=\u0022Mar 18\u0022\u003EMarch 18\u003C/time\u003E by Qwarkk\u003C/strong\u003E\n\u003Cbr\u003Ev2 released\n\u003C/span\u003E\n"},{"CreatedByName":"Nnimrod","CreatedById":152586,"CreatedDateTime":"2021-01-16T16:08:15Z","Content":"\n\u003Cp\u003E\nPretty cool, I think I\u0027ll give it a try.\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-02-13T17:21:06Z","Content":"\n\u003Cp\u003E\nCLS v1.2.0 is now available to download from \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/releases/tag/v1.2.0\u0022 rel=\u0022external nofollow\u0022\u003EGithub!\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a pretty big update that I have been working on over the past few weeks. I have tested it as thoroughly as I can, but I may not have caught everything. If you do find any issues, please either comment on this post or open an issue on github in the \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/issues\u0022 rel=\u0022external nofollow\u0022\u003Eissue tracker.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003EChangeLog\u003C/strong\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cdiv\u003E\n\u003Cp\u003E\n\u003Cb\u003EMajor Changes:\u003C/b\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nNew GUI system for adjusting launch parameters, handled by a new CLS_parameters library. Instead of running \u0027CLS(250,90 etc).\u0027 all that is needed now is \u0027run cls.\u0027\n\u003C/li\u003E\n\u003Cli\u003E\nRewrote the ascent program to use the square root method. This new system improves reliability but may not be as efficient.\n\u003C/li\u003E\n\u003Cli\u003E\nIt is now recommended to avoid a target apoapsis below 100km, as an apoapsis this low is reached too early in ascent, causing the first stage to be discarded and a high \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E circularisation burn.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a new azimuth function for fine tuning inclination. Thanks to u/BriarAndRye for his Instantaneous Azimuth Function. Initial testing suggests this code can reach a target inclination to within 0.001 degrees.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded maxStages as a script parameter allowing more flexibility for SSTOs and 3\u002B stage rockets.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a logging function which can log data each 0.5 seconds to a csv file in the logs directory if the user wishes.\n\u003C/li\u003E\n\u003Cli\u003E\nRedesigned the countdown hold function to use kOS\u0027s GUI system and give the user on screen buttons rather than the improvised pilot input method.\n\u003C/li\u003E\n\u003Cli\u003E\nRewrote the Abort script steering code. The pod will now perform a slow pitch maneuver away from the rocket to ensure it is clear from any RUDs.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded pre-launch check which determines if there is crew present and holds the launch if there is nothing in the abort action group. This is configurable.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a contingency if the vehicle loses attitude control and cannot orientate itself for circularisation burn. Engines will throttle up a tiny amount and gimbal to the correct attitude prior to the burn.\n\u003C/li\u003E\n\u003Cli\u003E\nLimited CLS to a maximum apoapsis of 500km. This fixes an error where direct launches to higher orbits miscalculated the azimuth needed.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cb\u003EMinor Changes:\u003C/b\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed an error in CLS_hud which occurred when an abort was triggered.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS_hud new shows remaining fuel as seconds rather than percent.\n\u003C/li\u003E\n\u003Cli\u003E\nChanged \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003Etwr\u003C/abbr\u003E calculations during countdown/liftoff to be more accurate.\n\u003C/li\u003E\n\u003Cli\u003E\nChanged default inclination to 0 rather than 0.1.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS now automatically removes the circularisation maneuver node before the script completes.\n\u003C/li\u003E\n\u003Cli\u003E\nRewrote script initialisation to keep as many variables \u0027local\u0027 to their functions as possible. Should improve initial performance.\n\u003C/li\u003E\n\u003Cli\u003E\nMuch more robust error detection for user input. Previous script was very weak at catching incorrect user input and holding the launch.\n\u003C/li\u003E\n\u003Cli\u003E\nTidied up functions and libraries.\n\u003C/li\u003E\n\u003Cli\u003E\nChanged the method of detecting imminent staging to use fuel flow. This fixed an issue where CLS miscalculated remaining fuel in certain rocket configurations.\n\u003C/li\u003E\n\u003Cli\u003E\nVehicle will now pitch gradually to surface prograde just prior to staging. This ensures discarded stages are not subject to unpredictable aero forces.\n\u003C/li\u003E\n\u003Cli\u003E\nTuned the script to achieve target apoapsis more accurately. The script now attempts to achieve an apoapsis within 0.02% of its target.\n\u003C/li\u003E\n\u003Cli\u003E\nImplemented a control to limit upper stage engines to the same max \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E as first stage engines.\n\u003C/li\u003E\n\u003Cli\u003E\nVarious tweaks to make the launch and ascent more efficient.\n\u003C/li\u003E\n\u003Cli\u003E\nAbort action group only fires if there is crew is on the vehicle.\n\u003C/li\u003E\n\u003Cli\u003E\nMulti-stage vehicles (Not SSTOs) that reach the target apoapsis without staging will now stage at once out of the atmosphere so that upper stages handle circularisation.\n\u003C/li\u003E\n\u003Cli\u003E\nFixed an error in calculating circularisation burn time if the script is waiting to leave the atmopshere before staging (as explained above). Script will now wait until after staging before creating the maneuver node.\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved the throttle down prior to stage seperation. This was in place to limit sudden g-force spikes but interfered with other throttle up/down code in the script.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nEnjoy!\n\u003C/p\u003E\n\u003C/div\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-06-10T17:38:29Z","Content":"\n\u003Cp style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\n\u0027Under the hood\u0027 update for CLS (v1.3.0) is now available to download from\u003Cspan\u003E\u00A0\u003C/span\u003E\u003Ca href=\u0022https://github.com/Qwarkk6/CLS/releases/tag/v1.3.0\u0022 rel=\u0022external nofollow\u0022\u003EGithub!\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\nThis update changes a lot of things behind the scenes for CLS. It\u0027s two major goals were to tidy the code up in order to make it run smoother and to ensure CLS was as compatible as possible with as many mods so that it performs as expected for everyone who tries it. In terms of new features, this update really offers very little.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\n\u003Cu\u003E\u003Cstrong\u003EChangelog\u003C/strong\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nCompatibility\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCLS can now automatically determine the fuel type and mass, even for non-stock resources. This allows CLS to work (theoretically) with any resource pack such as realFuels.\n\u003C/li\u003E\n\u003Cli\u003E\nEnsured CLS is compatible with all rescale mods and planet packs by altering how it handles atmospheric calculations, gelocation and time variables\n\u003C/li\u003E\n\u003Cli\u003E\nEnsured any calls for the vessel\u0027s geolocation will be accurate across rescale mods and planet packs.\n\u003C/li\u003E\n\u003Cli\u003E\nReworked part module searches to maximise compatibility with mods that replace stock modules. This was done specifically with realFuels\u0027 moduleEnginesRF in mind.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nTidy Up\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nWidespread tidy and reformat of a lot of code. Things look tidier, are easier to understand and will hopefully run smoother.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nIncreased the use of local variables to reduce long, single line equations / calculations.\n\u003C/li\u003E\n\u003Cli\u003E\nFinally learned how to use BIDMAS to get rid of unnecessary brackets in the formulas.\n\u003C/li\u003E\n\u003Cli\u003E\nRewrite of the scrollprint function to make it concise \u0026amp; run a smoother.\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved \u2018steerto\u2019 and \u2018throt\u2019 variables for steering and throttle control (this was originally done in response to a bug in early kOS versions).\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a separate loop to handle the HUD and monitor resources in Abort script. This removed the need to call those functions multiple times throughout the script.\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved the \u2018vess\u2019 parameter from cls_nav functions.\n\u003C/li\u003E\n\u003Cli\u003E\nThe staging check during countdown is now a function instead of one line of messy code.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOverhaul of defualt \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E values (all user configurable). Mininimum take off \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E has been increased to 1.3, Upper stage \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E has been increased to 0.8 and max \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E has increased to 4. These changes were made so that CLS can function across stock and rescaled installs in its default configuration.\n\u003C/li\u003E\n\u003Cli\u003E\nThe central engine in a 3-booster configuration now throttles down to 55% slightly different. If the rocket can do this and maintain \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E (by increasing overall throttle) it will do so as early as possible. If not, it will do so when it can maintain a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E above 2.1 throughout the throttle down.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nNew Features\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCLS now gives two new hud readouts during ascent (experiencing max-q and passed through max-q). The code behind this is lightweight, \u0027hacky\u0027 and may not always show up.\n\u003C/li\u003E\n\u003Cli\u003E\nThe abort script is now activated in response to a manual abort during CLS.\n\u003C/li\u003E\n\u003Cli\u003E\nAny hold scenario that occurs during countdown now gives the option to scrub, continue to launch \u0026amp; abort. Originally it did not give the option to continue in some scenarios. This was a mistake, the player should have final say over whether the rocket launches.\u003Cbr\u003E\n\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nBug fixes\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nFixed the bug where \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and burn time calculations were inaccurate for vessels with multiple upper stage fuel tanks.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEnjoy!\n\u003C/p\u003E\n"},{"CreatedByName":"adm-frb","CreatedById":189367,"CreatedDateTime":"2021-08-13T09:18:38Z","Content":"\n\u003Cp\u003E\nNot sure what I\u0027ve got wrong with my abort procedure... During the launch readiness poll a \u0027flight controller\u0027 keeps calling a \u0027Hold Hold Hold\u0027 at 6 seconds.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIncluded craft file and output logs\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/n39b3rrry857sqz/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EOutput Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/nakvfbdkwrehnfg/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EPlayer Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/cinhgwmdimqq1m8/Page-Brimstone%20I.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003ECraft File\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"jefferyharrell","CreatedById":27205,"CreatedDateTime":"2021-08-19T17:41:28Z","Content":"\n\u003Cp\u003E\nThis script is terrific. I\u0027ve been using it constantly in my JNSQ game.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not perfect, though. I\u0027ve forked it on Github to make a few little tweaks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/jefferyharrell/CLS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/jefferyharrell/CLS\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-04T08:39:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224019163\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221628846318\u0022 data-ipsquote-userid=\u0022189367\u0022 data-ipsquote-username=\u0022adm-frb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/13/2021 at 10:18 AM, adm-frb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot sure what I\u0027ve got wrong with my abort procedure... During the launch readiness poll a \u0027flight controller\u0027 keeps calling a \u0027Hold Hold Hold\u0027 at 6 seconds.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIncluded craft file and output logs\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/n39b3rrry857sqz/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EOutput Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/nakvfbdkwrehnfg/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EPlayer Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/cinhgwmdimqq1m8/Page-Brimstone%20I.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003ECraft File\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nApologies its taken so long to get back to you, I\u0027ve had an extended break from KSP and the forums.\n\u003C/p\u003E\n\u003Cp\u003E\nAt T-6 seconds the script checks the abort procedure is suitable. Basically, it checks if there is crew on board, and if there is, it checks if you have parts in your abort action group.\n\u003C/p\u003E\n\u003Cp\u003E\nI can see from your craft file that you have parts in the abort action group so clearly something isn\u0027t working as intended. I will take a look and see what I can find.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for the info!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224021937\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221629394888\u0022 data-ipsquote-userid=\u002227205\u0022 data-ipsquote-username=\u0022jefferyharrell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/19/2021 at 6:41 PM, jefferyharrell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis script is terrific. I\u0027ve been using it constantly in my JNSQ game.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not perfect, though. I\u0027ve forked it on Github to make a few little tweaks.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/jefferyharrell/CLS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/jefferyharrell/CLS\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve been away from KSP and the forum for a while but i\u0027m so happy to hear someone getting some good use out of it!\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI have seen your tweaks, how are you finding the script handles 4x warp? The reason it was limited to 2x was that an early version of the script would struggle to execute time-critical commands if in 4x warp. Also are there any features missing from the script you\u0027d like to see added?\n\u003C/p\u003E\n\u003Cp\u003E\nQ\n\u003C/p\u003E\n"},{"CreatedByName":"jefferyharrell","CreatedById":27205,"CreatedDateTime":"2021-10-04T16:13:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224039403\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221633336746\u0022 data-ipsquote-userid=\u0022154770\u0022 data-ipsquote-username=\u0022Qwarkk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Qwarkk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have seen your tweaks, how are you finding the script handles 4x warp?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt works fine on my computer, but I\u0027ve really only used it for testing.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224039403\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221633336746\u0022 data-ipsquote-userid=\u0022154770\u0022 data-ipsquote-username=\u0022Qwarkk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Qwarkk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso are there any features missing from the script you\u0027d like to see added?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe big thing that\u0027s keeping me from using CLS right now is the fact that it can\u0027t handle a vehicle with only solids in the first stage. I have a big dumb booster with a giant inline \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E (from Bluedog) as its first stage, and CLS doesn\u0027t know what to do with that. I went back to using MechJeb\u0027s PVG ascent tool, which works well enough in JNSQ and doesn\u0027t have a problem with solid-fueled first stages.\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t mistake me, though. It\u0027s a very good script. I\u0027ve gotten a lot of use out of it.\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-04T23:21:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224039547\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221633364015\u0022 data-ipsquote-userid=\u002227205\u0022 data-ipsquote-username=\u0022jefferyharrell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, jefferyharrell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe big thing that\u0027s keeping me from using CLS right now is the fact that it can\u0027t handle a vehicle with only solids in the first stage. I have a big dumb booster with a giant inline \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003E\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u003C/abbr\u003E (from Bluedog) as its first stage, and CLS doesn\u0027t know what to do with that. I went back to using MechJeb\u0027s PVG ascent tool, which works well enough in JNSQ and doesn\u0027t have a problem with solid-fueled first stages.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis shouldnt be too hard for me to implement - I have a few other things planned for CLS but i\u0027ll definitely look into this too.\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-11T12:21:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224019163\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221628846318\u0022 data-ipsquote-userid=\u0022189367\u0022 data-ipsquote-username=\u0022adm-frb\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/13/2021 at 10:18 AM, adm-frb said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNot sure what I\u0027ve got wrong with my abort procedure... During the launch readiness poll a \u0027flight controller\u0027 keeps calling a \u0027Hold Hold Hold\u0027 at 6 seconds.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIncluded craft file and output logs\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/n39b3rrry857sqz/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EOutput Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/nakvfbdkwrehnfg/Player.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EPlayer Log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/cinhgwmdimqq1m8/Page-Brimstone%20I.craft?dl=0\u0022 rel=\u0022external nofollow\u0022\u003ECraft File\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have managed to recreate your issue and found an interesting problem with CLS. Basically the script wasn\u0027t detecting anything in the Abort Action Group, but there are parts there. The problem is that the parts in the abort action group also appear in other action groups. As soon as I removed them from the other action groups, the script works perfectly.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nKos has some strange logic here. It only recognises the part as belonging to the action group it was added to first. So in your case, the abort parts were probably in one of the other AGs first and then added to Abort afterwards, causing kos not to recognise them as belonging to the abort action group.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-11T12:29:47Z\u0022 title=\u002210/11/2021 12:29  PM\u0022 data-short=\u00222 yr\u0022\u003EOctober 11, 2021\u003C/time\u003E by Qwarkk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-10-13T17:18:42Z","Content":"\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154770\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0022 rel=\u0022\u0022\u003E@Qwarkk\u003C/a\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\nSOLVED: The problem was the absence of launch clamps.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003ETrying to use your script, and KOS, for the first time, but running into some trouble, that is probably my fault or interference with another mod.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EThe problem is that when I launch, the main engine starts to ramp up, but after a few seconds it stages the second stage. It is a simple rocket with just a main engine (Skipper) and a insertion engine (terrier).\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThx\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-13T20:39:58Z\u0022 title=\u002210/13/2021 08:39  PM\u0022 data-short=\u00222 yr\u0022\u003EOctober 13, 2021\u003C/time\u003E by Tacombel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-13T21:31:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224042672\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221634145522\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154770\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0022 rel=\u0022\u0022\u003E@Qwarkk\u003C/a\u003E:\n\u003C/p\u003E\n\u003Cp\u003E\nSOLVED: The problem was the absence of launch clamps.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003ETrying to use your script, and KOS, for the first time, but running into some trouble, that is probably my fault or interference with another mod.\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EThe problem is that when I launch, the main engine starts to ramp up, but after a few seconds it stages the second stage. It is a simple rocket with just a main engine (Skipper) and a insertion engine (terrier).\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThx\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi Tacombel - glad you sorted the issue. This is actually super useful to know, I hadn\u0027t thought of making CLS accommodate rockets without launch clamps / fail safes if people try to launch without them. This will be a feature for the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nQ\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-15T14:02:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224039547\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221633364015\u0022 data-ipsquote-userid=\u002227205\u0022 data-ipsquote-username=\u0022jefferyharrell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 10/4/2021 at 5:13 PM, jefferyharrell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe big thing that\u0027s keeping me from using CLS right now is the fact that it can\u0027t handle a vehicle with only solids in the first stage. I have a big dumb booster with a giant inline \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003E\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u003C/abbr\u003E (from Bluedog) as its first stage, and CLS doesn\u0027t know what to do with that. I went back to using MechJeb\u0027s PVG ascent tool, which works well enough in JNSQ and doesn\u0027t have a problem with solid-fueled first stages.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo I have spent many hours over the past few days looking into this. As I thought, changing CLS to launch a vehicle with a solid-fuel first stage was relatively easy. However, essentially all of the logic, calculations and script features are designed for liquid fuel stages. The script makes a few core presumptions about the launch vehicle, such as being bi-propellant and having throttling capability. I found that to fully adapt CLS to solid fuel first stages, I was essentially going through CLS\u0027s thousands of lines of script and functions and basically saying \u0022if its a solid fuel first stage, just ignore all of this and all of that\u0022.\u00A0 I found myself writing hundreds of new lines specific for this vehicle design and forking the script at almost every turn to either run solid fuel or liquid fuel modes - I didn\u0027t like the result.\u00A0The way I want CLS to function is that no matter the vehicle design the script runs through the same set of instructions and functions, and not that it runs through different instructions and functions for each vehicle design. This is hard enough with SRBs!\n\u003C/p\u003E\n\u003Cp\u003E\nI definitely want CLS to be able to handle solid rocket first stages, and it remains a feature i intend to add, but I need to find a new approach to do it.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"jefferyharrell","CreatedById":27205,"CreatedDateTime":"2021-10-15T14:20:00Z","Content":"\n\u003Cp\u003E\nDon\u0027t get it get you down, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022154770\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/154770-qwarkk/\u0022 rel=\u0022\u0022\u003E@Qwarkk\u003C/a\u003E. This stuff is rocket science.\n\u003C/p\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-10-15T14:43:17Z","Content":"\n\u003Cp\u003E\nIs it really a problem to launch to a orbit below 250km? I usually launch my rockets to 100km.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I just went to 100km without problem.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, the script stages the second stage when\u00A0 70km are reached and immediately points to the circularization node, creating a small caos. It would be more beautiful if there where some time between the two events. Staging as soon as target apoapsis is reached would be ok.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-15T14:55:08Z\u0022 title=\u002210/15/2021 02:55  PM\u0022 data-short=\u00222 yr\u0022\u003EOctober 15, 2021\u003C/time\u003E by Tacombel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-15T17:12:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224043259\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221634308997\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it really a problem to launch to a orbit below 250km? I usually launch my rockets to 100km.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I just went to 100km without problem.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, the script stages the second stage when\u00A0 70km are reached and immediately points to the circularization node, creating a small caos. It would be more beautiful if there where some time between the two events. Staging as soon as target apoapsis is reached would be ok.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt isn\u2019t a problem, earlier versions of the script just had varying results launching to lower orbits. It\u2019s more of a warning to expect results to vary, but it won\u2019t stop you launching. I can probably review how good the newer script is at hitting these orbits and remove that warning - will do that for the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nCan you elaborate more on the situation it stages in at 70km? What is the eta to apoapsis? How many stages does the vessel have in total? What is your target orbit? Is it staging from first to second stage or from second to third stage? There are numerous reasons it may be staging at that point, help me narrow it down and I\u2019ll have a look at changing it slightly \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-10-15T17:38:16Z","Content":"\n\u003Cp\u003E\nAnother try failed, this time to 75km. It reduced the throttle to 0.1twr and never reached the target altitude, finally giving a failure message.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other matter, is a two stage rocket with a target \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E of 250km. The first one is enough to reach target \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E, so the engine cuts. It keeps coasting until 70km and then stages and simultaneously turns towards the circularization node, creating some confusion.\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-15T17:46:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224043330\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221634319496\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnother try failed, this time to 75km. It reduced the throttle to 0.1twr and never reached the target altitude, finally giving a failure message.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other matter, is a two stage rocket with a target \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E of 250km. The first one is enough to reach target \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E, so the engine cuts. It keeps coasting until 70km and then stages and simultaneously turns towards the circularization node, creating some confusion.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n75km is a challenge, but I will look into improving this in the next release.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the other matter, i will look into it and get back to you.\n\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-15T20:08:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224043330\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221634319496\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnother try failed, this time to 75km. It reduced the throttle to 0.1twr and never reached the target altitude, finally giving a failure message.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the other matter, is a two stage rocket with a target \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E of 250km. The first one is enough to reach target \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E, so the engine cuts. It keeps coasting until 70km and then stages and simultaneously turns towards the circularization node, creating some confusion.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs it turns out, the first issue is already fixed in the next release of CLS. The next version drastically changes how it handles low orbits so it will definitely be able to cope with 75km orbits. Also, the throttle down when approaching target apoapsis has been scrapped.\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the second issue, I have now tweaked the procedure the rocket goes through upon achieving target apoapsis. The staging will now be a lot less chaotic but will happen as soon as target apoapsis is reached - it wont even wait until 70km.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: The next release of CLS is 1 or 2 days away. Its quite an update too.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-10-15T20:09:26Z\u0022 title=\u002210/15/2021 08:09  PM\u0022 data-short=\u00222 yr\u0022\u003EOctober 15, 2021\u003C/time\u003E by Qwarkk\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-25T00:20:34Z","Content":"\n\u003Cp\u003E\nCLS v1.4.0 is now available from\u00A0\u003Ca href=\u0022https://github.com/Qwarkk6/CLS/releases/tag/v1.4.0\u0022 rel=\u0022external nofollow\u0022\u003EGithub!\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis update has been a long time in the works and I have taken some extensive breaks from KSP which slowed its release. Every time I release a new version of CLS, I always feel like its the finished product with little left to add, and then a few weeks later, a new idea will hit me and mass changes will be made. This time though, I really do think CLS is on the home stretch to be finished. There are one or two features I want to implement, but apart from those I think most of the changes from this point onwards will be bug fixing.\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cu\u003EChangelog\u003C/u\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EAbort\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe abort procedure included in CLS v1.3.0 relied upon another script (ChuteDescent.ks) which I completely forgot to upload. Apologies!\n\u003C/li\u003E\n\u003Cli\u003E\nChuteDescent handles chute deploy on the aborted capsules descent. I split it into it\u0027s own script as it can also be used for a capsule re-entering the atmosphere.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003EMinor Changes\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nImproved CLS logic for detecting incorrect staging where SRBs are incorrectly placed in first stage.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS now has a system of excluding hullcam parts from its staging checks and part counts.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS can now detect the presence of fuel cells on the vehicle and will activate them automatically if EC is below 25%.\n\u003C/li\u003E\n\u003Cli\u003E\nI can\u0027t spell separation/separated/separate it seems. Corrected the spelling (thank you jefferyharrell)\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a check to confirm engines are throttling correctly at T-0. I found that the script was aborting some launches when it didn\u0027t need to due to throttle \u0027lag\u0027.\n\u003C/li\u003E\n\u003Cli\u003E\nThe ship will hold pitch a for 3 seconds after staging to ensure the next stage is clear of the previous stage before pitching.\n\u003C/li\u003E\n\u003Cli\u003E\nStaging will now occur when SRBs are below 25% thrust, not 20% (for SRBs with thrust curves).\n\u003C/li\u003E\n\u003Cli\u003E\nMore accurate launch throttle calculations and ascent throttling when using SRBs with thrust curves.\n\u003C/li\u003E\n\u003Cli\u003E\nWarp limit increased during coast phases. The script will also reduce the warp level progressively approaching a burn.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS will now hold the launch if launch clamps aren\u0027t detected and suggest a scrub (Thanks go to Tacombel for highlighting this issue)\n\u003C/li\u003E\n\u003Cli\u003E\nStaging at ascent completion has been adjusted to make it smoother and less chaotic.\n\u003C/li\u003E\n\u003Cli\u003E\nRemoved throttle down when approaching target apoapsis.\n\u003C/li\u003E\n\u003Cli\u003E\nGeneral script writing tweaks\n\u003C/li\u003E\n\u003Cli\u003E\nAscent profile is more aggressive resulting in improved efficiency.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS now checks if the circularising engine has an unlocked gimbal before using it for attitude control if the vessel isn\u0027t correctly orientated for circularisation burn. Also only throttles to 0.1twr rather than 10% thrust (which may have been overkill for upper stages with high thrust engines)\n\u003C/li\u003E\n\u003Cli\u003E\nPretty extensive renaming of variables and functions so that their names indicate what they do.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS logs are now named with the real world time of launch.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003EEC Consumption\u00A0\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nComplete review of the script in an attempt to reduce the amount of electrical charge CLS requires to run.\n\u003C/li\u003E\n\u003Cli\u003E\n33% reduction in EC consumption during launch and ascent.\n\u003C/li\u003E\n\u003Cli\u003E\n50% reduction in EC consumption during coast due to CLS now entering a \u0027low-power\u0027 mode.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS will now also put all control parts into hibernation mode during the coast phase.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003EHUD\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nComplete redesign of the bottom HUD elements.\n\u003C/li\u003E\n\u003Cli\u003E\nDuring pre-launch, if a scrub/hold occurs there is now a \u0027More info\u0027 button which will explain the cause of the hold to assist you in solving the issue and successfully recycling the launch sequence.\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a readout to show which runmode the script is in next to the Mission Elapsed Time on the HUD.\n\u003C/li\u003E\n\u003Cli\u003E\nThe fuel readout has been updated. It used engine fuel flow to calculate remaining fuel - accurate when the engines are burning, but inaccurate during coast phases when fuel flow is 0. So now it will show remaining fuel if engines were to burn at 100% thrust while in coast phases.\n\u003C/li\u003E\n\u003Cli\u003E\nTime to apoapsis/periapsis readout now shifts over to show minutes when it would exceed 999 seconds.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS will now detect precise moment of Max Q rather than a time frame in which it happens.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS now gathers more information for the HUD during pre-launch.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E changes on Orbit\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe concern here is that boil-off or use of fuel cells will reduce the vehicles remaining \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E which means it will not be able to complete circularisation burns.\n\u003C/li\u003E\n\u003Cli\u003E\nCLS accounts for this by ensuring the vehicle has around a 5% \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E margin for upcoming burns.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\n1.4.0 adds a fail safe so that if boil-off or fuel cell usage has reduced the vehicle\u0027s \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E to below a burn\u0027s \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E requirement, it will not cause script failure. This is done by recalculating vehicle \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E just before a burn and amending the maneuever node\u0027s properties if necessary.\n\u003C/li\u003E\n\u003Cli\u003E\nIn these scenarios, the final orbit achieved by CLS will not be circular.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003EAchieving Orbit\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThis is a major change and the code to implement this system is spread all through CLS and its libraries - I will summarise what it does below.\n\u003C/li\u003E\n\u003Cli\u003E\nPrevious versions of CLS were very basic in that the vehicle would burn until apoapsis reached a target orbit altitude, cut-off its engines and then burn at apoapsis to circularise the orbit. This presented issues with low orbit altitudes just outside the karman line or situations where it left the upper stages with unrealistic circularisation burns.\n\u003C/li\u003E\n\u003Cli\u003E\nNow, the script has multiple methods of circularising:\n\u003C/li\u003E\n\u003C/ul\u003E\u003Col style=\u0022margin-left:40px;\u0022\u003E\u003Cli\u003E\n\u00A0 \u00A0As before, circularising at apoapsis.\n\u003C/li\u003E\n\u003Cli\u003E\n\u00A0 \u00A0First burn is longer and stops when periapsis reaches the target orbit altitude. Then at periapsis, the vehicle burns retrograde to achieve a circular orbit.\n\u003C/li\u003E\n\u003Cli\u003E\n\u00A0 \u00A0Same approach as number 2, but the script sees the apoapsis is getting extremely large, so it cuts the engine, burns at apoapsis to raise the periapsis to target orbit, and then burns retrograde at periapsis to circualrise the orbit.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cul\u003E\u003Cli\u003E\nThe script continuously monitors multiple data streams to determine which approach is best.\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-10-25T09:13:48Z","Content":"\n\u003Cp\u003E\nAt the same time that I was testing, I was changing the absolute paths of your scritp to relative paths, because I prefer to have all your files in a subdirectory, so perhaps I screwed something, but I am getting this when launching the script\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022efub4pJ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022147.91\u0022 height=\u0022565\u0022 width=\u0022382\u0022 src=\u0022https://imgur.com/efub4pJ.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-10-25T13:31:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224046868\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221635153228\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAt the same time that I was testing, I was changing the absolute paths of your scritp to relative paths, because I prefer to have all your files in a subdirectory, so perhaps I screwed something, but I am getting this when launching the script\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNothing to do with the paths, just a complete oversight on my behalf. CLS presumed that all engine parts have the module \u0027ModuleEnginesFX\u0027 and this isn\u0027t the case. I\u0027ve corrected it in \u003Ca href=\u0022https://github.com/Qwarkk6/CLS/releases/tag/v1.4.1\u0022 rel=\u0022external nofollow\u0022\u003ECLS v1.4.1\u003C/a\u003E\u00A0now available to download.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you for the feedback and providing me with the screenshot.\n\u003C/p\u003E\n"},{"CreatedByName":"ruiluth","CreatedById":60427,"CreatedDateTime":"2021-11-14T12:48:55Z","Content":"\n\u003Cp\u003E\nThis doesn\u0027t appear to be working for me. I\u0027m completely new to kOS so I have no idea what\u0027s going on. I accidentally told it to launch my rocket in 10 years instead of seconds, and while trying to figure out how to kill the script, I accidentally staged and dropped my rocket on the ground. The console spit out this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022A0KoOdQ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022146.00\u0022 height=\u0022584\u0022 width=\u0022400\u0022 src=\u0022https://imgur.com/A0KoOdQ.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEDIT: by the way, this script does not play nice with the case-sensitive file system on Linux.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022lrw974C.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002265.52\u0022 height=\u002257\u0022 width=\u002287\u0022 src=\u0022https://imgur.com/lrw974C.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-11-14T12:54:30Z\u0022 title=\u002211/14/2021 12:54  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 14, 2021\u003C/time\u003E by ruiluth\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Qwarkk","CreatedById":154770,"CreatedDateTime":"2021-11-15T20:17:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224054969\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221636894135\u0022 data-ipsquote-userid=\u002260427\u0022 data-ipsquote-username=\u0022ruiluth\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/14/2021 at 12:48 PM, ruiluth said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis doesn\u0027t appear to be working for me. I\u0027m completely new to kOS so I have no idea what\u0027s going on. I accidentally told it to launch my rocket in 10 years instead of seconds, and while trying to figure out how to kill the script, I accidentally staged and dropped my rocket on the ground. The console spit out this.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/A0KoOdQ.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022A0KoOdQ.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u0022146.00\u0022 height=\u0022584\u0022 width=\u0022400\u0022 src=\u0022https://imgur.com/A0KoOdQ.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: by the way, this script does not play nice with the case-sensitive file system on Linux.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/lrw974C.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022lrw974C.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002265.52\u0022 height=\u002257\u0022 width=\u002287\u0022 src=\u0022https://imgur.com/lrw974C.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the feedback - manually staging your craft while CLS is running is a deal breaker and will always cause errors. From the kOS output, it looks like by staging the vehicle, the part CLS was monitoring fuel levels for was jettisoned and it threw an error. Is the script working as normal when you dont stage?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs for the Linux file system, im on windows so I cant test or change this - can you tell me which files Linux drops into those two folders?\n\u003C/p\u003E\n"},{"CreatedByName":"jwbrase","CreatedById":150131,"CreatedDateTime":"2021-11-16T13:19:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224055502\u0022 data-ipsquote-contentid=\u0022199647\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221637007451\u0022 data-ipsquote-userid=\u0022154770\u0022 data-ipsquote-username=\u0022Qwarkk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Qwarkk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs for the Linux file system, im on windows so I cant test or change this - can you tell me which files Linux drops into those two folders?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI looked through all the non-source releases of CLS on github, and they all have consistent capitalization of that folder name. The first thing I suspected was that maybe different versions had used different capitalizations, and he\u0027d unpacked a newer version over an older one, but that rules that out, so about the only thing I can imagine is if files are being dropped into the folder at runtime.\n\u003C/p\u003E\n\u003Cp\u003E\nWith a quick search through the folder tree, I found the following locations where files are referenced with an all-lowercase path (filename:line-number:text-of-matching-line):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003EShips/Script/Abort.ks:53:runpath(\u00220:/cls_lib/lib_num_to_formatted_str.ks\u0022).\nShips/Script/Abort.ks:54:runpath(\u00220:/cls_lib/lib_navball.ks\u0022).\nShips/Script/Abort.ks:55:runpath(\u00220:/cls_lib/CLS_nav.ks\u0022).\nShips/Script/CLS.ks:49:runpath(\u00220:/cls_lib/CLS_parameters.ks\u0022).\nShips/Script/CLS.ks:89:runpath(\u00220:/cls_lib/CLS_dv.ks\u0022). \nShips/Script/CLS.ks:90:runpath(\u00220:/cls_lib/CLS_gen.ks\u0022).\nShips/Script/CLS.ks:91:runpath(\u00220:/cls_lib/CLS_hud.ks\u0022).\nShips/Script/CLS.ks:92:runpath(\u00220:/cls_lib/CLS_nav.ks\u0022).\nShips/Script/CLS.ks:93:runpath(\u00220:/cls_lib/CLS_res.ks\u0022).\nShips/Script/CLS.ks:94:runpath(\u00220:/cls_lib/CLS_twr.ks\u0022).\nShips/Script/CLS.ks:95:runpath(\u00220:/cls_lib/CLS_ves.ks\u0022).\nShips/Script/CLS.ks:96:runpath(\u00220:/cls_lib/lib_instaz.ks\u0022).\nShips/Script/CLS.ks:97:runpath(\u00220:/cls_lib/lib_lazcalc.ks\u0022).\nShips/Script/CLS.ks:98:runpath(\u00220:/cls_lib/lib_navball.ks\u0022).\nShips/Script/CLS.ks:99:runpath(\u00220:/cls_lib/lib_num_to_formatted_str.ks\u0022).\nShips/Script/CLS.ks:100:runpath(\u00220:/cls_lib/CLS_log.ks\u0022).\nShips/Script/ChuteDescent.ks:3:runpath(\u00220:/cls_lib/lib_num_to_formatted_str.ks\u0022).\nShips/Script/ChuteDescent.ks:5:runpath(\u00220:/cls_lib/lib_navball.ks\u0022).\nShips/Script/ChuteDescent.ks:6:runpath(\u00220:/cls_lib/CLS_nav.ks\u0022).\u003C/pre\u003E\n\u003Cp\u003E\nIt\u0027s a bit odd, because it doesn\u0027t look like those files are being written to, but if they\u0027re just being read, I\u0027d expect that A) It wouldn\u0027t create the files referenced, and B) CLS would fail to find the files and wouldn\u0027t work, but it seems it\u0027s managing to use the wrong-case filename to reference the files in the right-case directory, and is then creating the wrong-case directory and copying the files to it.\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the only thing I can imagine is if something in the middleware stack between Linux and CLS (most likely Mono, maybe KSP itself) is aware that it may be run on multiple platforms and, when it doesn\u0027t find a file, is proactively looking for files that exist with mismatched case, then copying them to the path that\u0027s being referenced. I\u0027m not sure that\u0027s the best solution; what if the user unpacks a new version of CLS over the right-case folder tree? That won\u0027t update the wrong-case files, and they\u0027ll likely be referenced instead of the right-case ones, so I wish it would just choke early on the bad filename rather than saving the day now and potentially causing subtle and tricky problems later, but that\u0027s not anything you can fix. All you need to do is make sure that you\u0027re always referencing files with the same case that they have on the filesystem, and then it doesn\u0027t matter what the middleware is doing on the back end.\n\u003C/p\u003E\n"}]}