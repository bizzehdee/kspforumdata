{"TopicId":165628,"ForumId":34,"TopicTitle":"[KSP 1.12.x] kOS v1.4.0.0: kOS Scriptable Autopilot System","CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2017-09-18T16:56:54Z","PageNum":23,"Articles":[{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-03T18:00:42Z","Content":"\n\u003Cp\u003E\nMemory use has climbed again to\u00A0 11.5gb.\u00A0 I\u0027m not getting the huge disk reads this time though.\u00A0 Disk read total is still at 2.3gb and the read speed is still 0.\u00A0 I\u0027m going to leave it another hour.\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-03T18:12:54Z","Content":"\n\u003Cp\u003E\nMemory use now at 13.1gb\u00A0according to the \u0022Resources\u0022 tab I\u0027ve used 99.4% of my physical ram.\u00A0 But without kOS installed I\u0027m not getting the freezing and stuttering.\u00A0 The system is still perfectly usable so I\u0027m tentatively going to say that kOS was not responisble for the bloat, but was indeed doing\u00A0\u003Cem\u003Esomething.\u003C/em\u003E\u00A0Whups no.\u00A0 It just froze.\u00A0 I wonder what\u0027s causing it.\u00A0 It may be a launchpad thing.\u00A0 but kOS I think is off the hook.\u00A0\n\u003C/p\u003E\u003Cp\u003E\nNext test.\u00A0 Copied KSP install to home directory.\u00A0 Will point \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E at THAT and remove all mods. and see what vanilla KSP does.\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-03T19:24:51Z","Content":"\n\u003Cp\u003E\nVanilla runs fine.\u00A0 Will install kOS again, just kOS and no other mods.\u00A0 Will put a KAL9000 back on the vessel too as I want to start writing this script\u00A0 \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nOne hour of sitting on the LP with just kOS running and nothing bad happened.\u00A0 No memory bloat kOS is officially innocent.\u00A0 Sorry for the bother.\u00A0 Just bizarre coincidence.\u00A0 I will just install my \u0022must haves\u0022\u003Cbr\u003E\u003Cbr\u003E\nkOS\u00A0\u003Cbr\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003Cbr\u003E\nManeuver Node Evolved.\u003Cbr\u003E\n6 Crew Science Lab\u003Cbr\u003E\n6 Seat Mk 3 Cockpit.\u003Cbr\u003E\nBetter Time Warp\u003Cbr\u003E\nCAK\u003Cbr\u003E\nDPAI and\u003Cbr\u003E\nTAC Fuel Balancer.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-10-03T20:27:49Z\u0022 title=\u002210/03/2018 08:27  PM\u0022 data-short=\u00225 yr\u0022\u003EOctober 3, 2018\u003C/time\u003E by NewtSoup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-03T20:44:36Z","Content":"\n\u003Cp\u003E\nThere is just ONE bug in Linux with kOS.\u00A0 I have just kOS installed right now and using the internal editor for mining.ks the keys R, S and E still do not work.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s not an issue because I\u0027ll just write scripts in an external editor on my right hand monitor and copy them to the ship in game.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-04T01:41:05Z","Content":"\n\u003Cp\u003E\nWell this mostly works:\u003Cbr\u003E\u003Cbr\u003E\nThe mining is automated switching between drills and \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E.\u003Cbr\u003E\nIt monitors the electric charge because this was an issue and so if the charge drops low it will wait for the fuel cells to catch up.\u003Cbr\u003E\nHalf the time though charge is not an issue as the game glitches at warp an nothing seems to use charge so that\u0027s fine.\u003Cbr\u003E\nHowever it never reaches it\u0027s exit conditions.\u003Cbr\u003E\nThe \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E and drill both shut down because they meet their shutdown conditions but the loop which waits for \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E and OX to be full never exits even though I\u0027ve manually checked the conditions at the command line.\u003Cbr\u003E\u003Cbr\u003E\nCan anyone spot my logic error or is it just game glitchyness?\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nPrint \u0022Initialising Mining Program\u0022.\nset mIRSU to ship:partsnamed(\u0022isru (mostlyversal lander mk iv)\u0022)[0]:getmodulebyindex(1).\nmIRSU:doaction(\u0022stop isru [lf\u002Box]\u0022,true).\nset fuelcells to false.\nset RADIATORS to false.\nwait(5).\nset DEPLOYDRILLS to true.\nset FUELCELLS to true.\nset RADIATORS to true.\n//wait for drill to fully deploy\nwait(7).\n\t\nuntil ship:liquidfuel \u0026gt; 4580 and ship:oxidizer \u0026gt; 5580 {\n\u00A0 \u00A0 if ship:ore \u0026lt; 299 {\n\u00A0 \u00A0 \u00A0 \u00A0 Print \u0022Ore Not Full: \u00A0Starting Drill\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 set DRILLS to true.\n\u00A0 \u00A0 \u00A0 \u00A0 wait until ship:ore \u0026gt;299.\n\u00A0 \u00A0 \u00A0 \u00A0 Print \u0022Ore Full. \u00A0Stopping Drill\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 set DRILLS to false.\n\u00A0 \u00A0 }\n\u00A0 \u00A0 else if ship:ore \u0026gt;299 {\n\t\tPrint \u0022Ore Full: \u00A0Starting ISRU\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 mIRSU:doaction(\u0022start isru [lf\u002Box]\u0022,true).\n\t\u00A0 \u00A0 \u00A0 \u00A0 until (ship:ore \u0026lt; 1 ){\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 wait until ship:ore \u0026lt; 1 or ship:electriccharge \u0026lt;100 or (ship:liquidfuel \u0026gt;4580 and ship:oxidizer \u0026gt; 5580).\n\t\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 if ship:electriccharge \u0026lt;100 {\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 print \u0022Power Low: \u00A0Waiting on charge.\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 mIRSU:doaction(\u0022stop isru [lf\u002Box]\u0022,true).\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 wait until ship:electriccharge \u0026gt;1399.\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Print \u0022Power Restored: Restarting ISRU\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 mIRSU:doaction(\u0022start isru [lf\u002Box]\u0022,true).\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u00A0 \u00A0 \u00A0 \u00A0 if ship:ore \u0026lt; 1 {\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 Print \u0022Ore Empty: Stopping ISRU\u0022.\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 mIRSU:doaction(\u0022stop isru [lf\u002Box]\u0022,true).\n\u00A0 \u00A0 \u00A0 \u00A0 } \u00A0 \u00A0\n\u00A0 \u00A0 } \u00A0 \u00A0 \u00A0\u00A0\n}\n\nPrint \u0022Fuel Tanks Full\u0022.\nPrint \u0022Shutting Down\u0022.\nmIRSU:doaction(\u0022stop isru [lf\u002Box]\u0022,true).\nset DEPLOYDRILLS to false.\nset fuelcells to false.\nset RADIATORS to false.\nwait(7).\nPrint \u0022Mining Program Ended\u0022.\n\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\nand yet on the launch pad with full tanks the loop exits right away and the program ends as expected!.\u00A0 crazy stuff\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-10-04T01:56:16Z\u0022 title=\u002210/04/2018 01:56  AM\u0022 data-short=\u00225 yr\u0022\u003EOctober 4, 2018\u003C/time\u003E by NewtSoup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-04T02:10:50Z","Content":"\n\u003Cp\u003E\nSpotted the error.. Loop in a loop. I had the inner loop\u00A0\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELf\u003C/abbr\u003E and Ox\u00A0 leave conditions in the wrong place.\u00A0 They needed to be on the loop and\u00A0on the wait. Looks inelegant now though.\u00A0 There must be a better way of doing it.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-10-04T14:28:35Z\u0022 title=\u002210/04/2018 02:28  PM\u0022 data-short=\u00225 yr\u0022\u003EOctober 4, 2018\u003C/time\u003E by NewtSoup\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-10-04T05:05:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223461696\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221538594691\u0022 data-ipsquote-userid=\u0022178829\u0022 data-ipsquote-username=\u0022NewtSoup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, NewtSoup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVanilla runs fine.\u00A0 Will install kOS again, just kOS and no other mods.\u00A0 Will put a KAL9000 back on the vessel too as I want to start writing this script\u00A0 \u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\nOne hour of sitting on the LP with just kOS running and nothing bad happened.\u00A0 No memory bloat kOS is officially innocent.\u00A0 Sorry for the bother.\u00A0 Just bizarre coincidence.\u00A0 I will just install my \u0022must haves\u0022\u003Cbr\u003E\u003Cbr\u003E\nkOS\u00A0\u003Cbr\u003E\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E\u003Cbr\u003E\nManeuver Node Evolved.\u003Cbr\u003E\n6 Crew Science Lab\u003Cbr\u003E\n6 Seat Mk 3 Cockpit.\u003Cbr\u003E\nBetter Time Warp\u003Cbr\u003E\nCAK\u003Cbr\u003E\nDPAI and\u003Cbr\u003E\nTAC Fuel Balancer.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks.\u00A0 It\u0027s *still* possible that it\u0027s some kind of an *interaction between* mods\u00A0 where *both* have to be present for the problem to happen, but those are a *real* pain to trace down because it means trying n*(n-1) combinations to find it, and if each test takes a few hours, that\u0027s probably not worth the time.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere is just ONE bug in Linux with kOS.\u00A0 I have just kOS installed right now and using the internal editor for mining.ks the keys R, S and E still do not work.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re not the first to report this.\u00A0 It\u0027s just impossible for me to diagnose because it doesn\u0027t happen on any other platform, and I don\u0027t have a Linux install to play with it on.\u00A0 If you can compile the mod on Linux you could help track it down (?).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-04T14:15:28Z","Content":"\n\u003Cp\u003E\nKeys - ahh.. I suppose I could try.\u00A0 I used to have a head for Java programming many years ago ( computer science undergrad).\u00A0 I\u0027ve no idea what I\u0027d be looking for though but sure.\u00A0 It would actually be an interesting thing to take a look even if I can\u0027t solve anything.\u003Cbr\u003E\u003Cbr\u003E\nMemory Bloat - with my favourite functional mods installed I spent a long time on the launch pad ( more than 2 hours) and the memory never went above 4.5gb.\u00A0 The only mods missing were the prettification ones - \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, Stock Visuals, Stock Terrain, Kopernicus,\u00A0 Planetshine, Distant Objects.\u00A0 \u00A0My main suspect now\u00A0is \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E and the clouds causing the bloat.\u00A0 I don\u0027t usually sit on the Launchpad for 2 real time hours or more and I think that the clouds from SVE and \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E may have been causing the issue as one of the Logs had a ton of textures from those being dumped due to memory needs.\u00A0 I\u0027ll leave them out for now and put them back when I go to planets that would benefit from the visuals.\n\u003C/p\u003E\n"},{"CreatedByName":"Pand5461","CreatedById":172084,"CreatedDateTime":"2018-10-04T21:00:15Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178829-newtsoup/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022178829\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178829-newtsoup/\u0022 rel=\u0022\u0022\u003E@NewtSoup\u003C/a\u003E I think Steven has fixed the keys issue with \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/pull/2334\u0022 rel=\u0022external nofollow\u0022\u003Ethis PR. \u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI hope you know how to build mods from source \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf you need a livelier discussion, you can look at /r/Kos or join the Discord server.\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-04T23:53:56Z","Content":"\n\u003Cp\u003E\nI have no clue how to build a mod from scratch.\u00A0 I do want to make one though.\u00A0 I want to make some main engines that tie into Reaction Control System controls so that there\u0027s a more powerful \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELf\u003C/abbr\u003E Ox alternative for bigger heavier craft. Vernor engines are great too.. but don\u0027t really cut it for what I have in mind.\u00A0 I figured that would be a half decent foray into mod making.\u00A0 Though it does require me to make models too.\u00A0 Not my fort\u00E9.\n\u003C/p\u003E\n"},{"CreatedByName":"Pand5461","CreatedById":172084,"CreatedDateTime":"2018-10-06T22:57:24Z","Content":"\n\u003Cp\u003E\nI meant, building from the source code, not from scratch.\n\u003C/p\u003E\n\u003Cp\u003E\nYou can download the branch where the ESR issue is fixed, build the .dll using MonoDevelop and enjoy kOS experience without the editor key locks.\n\u003C/p\u003E\n"},{"CreatedByName":"MaltYebisu","CreatedById":186157,"CreatedDateTime":"2018-10-10T08:55:28Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to show how much free space is available on the hard-drive. I\u0027ve read the\u00A0\u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/structures/volumes_and_files/volume.html#structure:VOLUME\u0022 rel=\u0022external nofollow\u0022\u003EkOS Documentation: Volume\u003C/a\u003E, but I can\u0027t figure out how to print the information I want.\n\u003C/p\u003E\n\u003Cp\u003E\nI have tried different approaches to no avail.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n//Some stupid attempts:\n// 1\nprint volume:freespace.\n\n// 2\nprint kOSprocessor:volume:freespace.\n\n// 3\nset p to ship:partstagged(\u0022Telemetry\u0022)[0].\nfor f in p {\n  print f:volume:freespace.\n}\n\n// 4\nset p to ship:partstagged(\u0022Telemetry\u0022)[0].\nfor f in p {\n  print f:kosprocessor:volume:freespace.\n}\u003C/pre\u003E\n\u003Cp\u003E\nDoes anybody know how to print the free space left on the kOS hard-drive? Also, does anyone have any tips on how to read the documentation? I have a hard time figuring out how to do things on the pages without examples.\u00A0\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-10-10T10:21:41Z","Content":"\n\u003Cp\u003E\nCORE gets you the CPU module which your script is running on. Modules that are a kOS CPU have a VOLUME suffix.\n\u003C/p\u003E\n\u003Cp\u003E\nSo CORE:VOLUME:FREESPACE should get you the free space on the volume used by the CPU part module.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you want to check other volumes, it is a bit more awkward. If you have named a volume, you can use VOLUME(volume_name):FREESPACE. I think I found by default the name is unset, so my multi-CPU scripts name them all on start-up. You can loop through all volumes by looping through all the CPU part modules (e.g. LOCAL pl IS LIST(). LIST PROCESSORS IN pl.)\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-10T10:31:46Z","Content":"\n\u003Cp\u003E\nYour mistake is a KOSProcessor is not a part it\u0027s a part module\u003Cbr\u003E\u003Cbr\u003E\nif you make a simple ship\u00A0 and tag your kOS part (kal9000 in this case) with the tag \u0022brain\u0022 the following will work:\u003Cbr\u003E\u003Cbr\u003E\nprint ship:partsTagged(\u0022brain\u0022)[0]:getModuleByIndex(0):volume:freespace.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-10-10T11:44:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223465305\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539167506\u0022 data-ipsquote-userid=\u0022178829\u0022 data-ipsquote-username=\u0022NewtSoup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, NewtSoup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYour mistake is a KOSProcessor is not a part it\u0027s a part module\u003Cbr\u003E\u003Cbr\u003E\nif you make a simple ship\u00A0 and tag your kOS part (kal9000 in this case) with the tag \u0022brain\u0022 the following will work:\u003Cbr\u003E\u003Cbr\u003E\nprint ship:partsTagged(\u0022brain\u0022)[0]:getModuleByIndex(0):volume:freespace.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs it guaranteed that the kOS CPU part module will be at index 0? A safer way would be to find out what the module is called and replace getModuleByIndex(0) with getModule(\u0022module_name\u0022)\n\u003C/p\u003E\n\u003Cp\u003E\nAs to how to find out what the module is called, I would try PRINT CORE:NAME. Sometimes I just put a ship on the launchpad and run a script to print out all the part names and their modules...\n\u003C/p\u003E\n\u003Cp\u003E\nPS thanks, I had missed getting the free space with a tag/part as the starting point from my own answer.\n\u003C/p\u003E\n"},{"CreatedByName":"NewtSoup","CreatedById":178829,"CreatedDateTime":"2018-10-10T11:51:05Z","Content":"\n\u003Cp\u003E\nNo, it\u0027s not guaranteed but I didn\u0027t want to over complicate the point and stuck with a simple example.\u00A0 Took me quite a time at first working out how to turn on an \u003Cabbr title=\u0022In-Situ Resource Utilization\u0022\u003Eisru\u003C/abbr\u003E to make a specific resource.\u00A0 And yep code for one ship fell over in the same ship copied to a different save as the part and module orders changed\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-10-10T18:45:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223465303\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539166901\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you want to check other volumes, it is a bit more awkward. If you have named a volume, you can use VOLUME(volume_name):FREESPACE. I think I found by default the name is unset, so my multi-CPU scripts name them all on start-up\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nVOLUME() takes a number if you like instead of a string (it\u0027s overloaded to take either one).\n\u003C/p\u003E\n\u003Cp\u003E\nIf you give it a number, you can just use the volume number instead of the name.\u00A0 VOLUME(0) for archive and VOLUME(1) for local disk.\n\u003C/p\u003E\n"},{"CreatedByName":"MaltYebisu","CreatedById":186157,"CreatedDateTime":"2018-10-10T23:07:08Z","Content":"\n\u003Cp\u003E\nThank you for explaining\u00A0this for me\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022114015\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/114015-elwanderer/\u0022 rel=\u0022\u0022\u003E@ElWanderer\u003C/a\u003E ,\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178829-newtsoup/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022178829\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/178829-newtsoup/\u0022 rel=\u0022\u0022\u003E@NewtSoup\u003C/a\u003E, and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-steven-mading/\u0026amp;do=hovercard\u0022 data-mentionid=\u002263481\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/63481-steven-mading/\u0022 rel=\u0022\u0022\u003E@Steven Mading\u003C/a\u003E\u00A0!\u00A0\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis forum community\u00A0makes it fun to have questions. I learnt a lot from your posts.\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"infinite_monkey","CreatedById":185663,"CreatedDateTime":"2018-10-13T20:12:18Z","Content":"\n\u003Cp\u003E\nAre any mods known to interfere with kOS cooked steering? The only thing I remember installing lately was \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E. Now I have problems with kOS as well as with MechJeb Ascent Guide. It seems to want to go to some arbitrary direction.\n\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2018-10-13T22:45:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223467192\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539461538\u0022 data-ipsquote-userid=\u0022185663\u0022 data-ipsquote-username=\u0022infinite_monkey\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, infinite_monkey said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre any mods known to interfere with kOS cooked steering? The only thing I remember installing lately was \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E. Now I have problems with kOS as well as with MechJeb Ascent Guide. It seems to want to go to some arbitrary direction.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on?\u00A0 Obvious question, but I have to check.\n\u003C/p\u003E\n"},{"CreatedByName":"infinite_monkey","CreatedById":185663,"CreatedDateTime":"2018-10-13T22:50:26Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223467271\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539470713\u0022 data-ipsquote-userid=\u002263481\u0022 data-ipsquote-username=\u0022Steven Mading\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, Steven Mading said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on?\u00A0 Obvious question, but I have to check.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo. I tried turning it on as well, doesn\u0027t seem to make any difference. I uninstalled \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E now, as well as Throttle Controlled Avionics and KerbalActuators. Problem is gone. I\u0027ll reinstall them one by one and see which one is the culprit.\n\u003C/p\u003E\n\u003Cp\u003E\nNow\u00A0engine:AVAILABLETHRUST is messed up - it always reads 0. It seems some weird config is still left over.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-10-13T23:02:14Z\u0022 title=\u002210/13/2018 11:02  PM\u0022 data-short=\u00225 yr\u0022\u003EOctober 13, 2018\u003C/time\u003E by infinite_monkey\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Warp11","CreatedById":109325,"CreatedDateTime":"2018-10-14T15:26:30Z","Content":"\n\u003Cp\u003E\nI\u0027m having a problem with the \u0022lock steering to\u0022 command. Sometimes when I use it point at a maneuver node the controls for one or more axis just spasm around wildly, burning through all my precious \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel. It also does not settle down eventually, the control just keeps oscillating quickly.\u003Cbr\u003E\nI can\u0027t really tell when this happens and when not, so its really difficult to pinpoint the problem. \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is off :).\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a known issue?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m running KSP 1.2.2, RT 1.8.9, kOS 1.1.0 and Realism Overhaul v. 1.0.3.0. MechJeb is also installed.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks a lot!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-10-14T15:28:25Z\u0022 title=\u002210/14/2018 03:28  PM\u0022 data-short=\u00225 yr\u0022\u003EOctober 14, 2018\u003C/time\u003E by Warp11\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"infinite_monkey","CreatedById":185663,"CreatedDateTime":"2018-10-14T17:02:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223467549\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539530790\u0022 data-ipsquote-userid=\u0022109325\u0022 data-ipsquote-username=\u0022Warp11\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Warp11 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m having a problem with the \u0022lock steering to\u0022 command. Sometimes when I use it point at a maneuver node the controls for one or more axis just spasm around wildly, burning through all my precious \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel. It also does not settle down eventually, the control just keeps oscillating quickly.\u003Cbr\u003E\nI can\u0027t really tell when this happens and when not, so its really difficult to pinpoint the problem. \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is off :).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm, is it a heavy craft? Cooked steering has some problems with that. You might try to tweak the PID parameters. In my Falcon 9 landing script I set the values to this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nSET STEERINGMANAGER:MAXSTOPPINGTIME TO 8.\nSET STEERINGMANAGER:PITCHPID:KD TO 1.\nSET STEERINGMANAGER:YAWPID:KD TO 1.\u003C/pre\u003E\n\u003Cp\u003E\nIt kind of works, but is still pretty inefficient, so sometimes when it gets stuck to some arbitrary direction I briefly turn \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on manually, and as soon as the vehicle starts moving, I turn it off again. Vehicle mass is about 20 tons.\n\u003C/p\u003E\n"},{"CreatedByName":"ElWanderer","CreatedById":114015,"CreatedDateTime":"2018-10-14T17:49:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223467549\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539530790\u0022 data-ipsquote-userid=\u0022109325\u0022 data-ipsquote-username=\u0022Warp11\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Warp11 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m having a problem with the \u0022lock steering to\u0022 command. Sometimes when I use it point at a maneuver node the controls for one or more axis just spasm around wildly, burning through all my precious \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E fuel. It also does not settle down eventually, the control just keeps oscillating quickly.\u003Cbr\u003E\nI can\u0027t really tell when this happens and when not, so its really difficult to pinpoint the problem. \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is off :).\n\u003C/p\u003E\n\u003Cp\u003E\nIs this a known issue?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m running KSP 1.2.2, RT 1.8.9, kOS 1.1.0 and Realism Overhaul v. 1.0.3.0. MechJeb is also installed.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks a lot!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTo add to infinite_monkey\u0027s answer: if you are running Realism Overhaul then you probably have no (or practically no) reaction wheel torque. The steering manager is known to struggle under such conditions.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, are you locking to a particular vector or are you providing a direction with a sensible top vector? If you don\u0027t provide a top vector, it\u0027ll default something and quite possibly try to rotate the ship right around as well as hunt for the new forevector, which can result in a complete mess, though I think this has been improved relatively recently (only rotates once you\u0027re facing down the right vector), but I\u0027ve lost all track of kOS version numbers!\n\u003C/p\u003E\n"},{"CreatedByName":"Warp11","CreatedById":109325,"CreatedDateTime":"2018-10-14T19:36:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223467598\u0022 data-ipsquote-contentid=\u0022165628\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221539539360\u0022 data-ipsquote-userid=\u0022114015\u0022 data-ipsquote-username=\u0022ElWanderer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, ElWanderer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTo add to infinite_monkey\u0027s answer: if you are running Realism Overhaul then you probably have no (or practically no) reaction wheel torque. The steering manager is known to struggle under such conditions.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, are you locking to a particular vector or are you providing a direction with a sensible top vector? If you don\u0027t provide a top vector, it\u0027ll default something and quite possibly try to rotate the ship right around as well as hunt for the new forevector, which can result in a complete mess, though I think this has been improved relatively recently (only rotates once you\u0027re facing down the right vector), but I\u0027ve lost all track of kOS version numbers!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll have to try to mess around with the PID settings. I have a probe with only \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, but quite low \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E thrust relative to its inertia. I usually provide a top vector by doing something like: \u0022lock steering to lookdirup(nextnode:deltav,ship:facing:topvector). Most of the time it gets to its intended orientation just fine but starts going crazy when it\u0027s there. Quite often its also only one axis doing it. It also happens sometimes and sometimes not, even on the same vessel.\n\u003C/p\u003E\n"}]}