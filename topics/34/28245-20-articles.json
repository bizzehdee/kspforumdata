{"TopicId":28245,"ForumId":34,"TopicTitle":"[0.23.5] Spherical and Toroidal Tank Pack (Updated 05/02/14) (New download link)","CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-05-23T00:22:39Z","PageNum":20,"Articles":[{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-08T05:35:29Z","Content":"\n\u003Cp\u003ETalisar: I\u0027ve had a look at the torus and it\u0027s got a couple of rather large issues: the capacity is way too low, and the mass is too low.\u003C/p\u003E\u003Cp\u003EI loaded it up in blender to get the dimentions, and found that the torus has a major radius of 2.5m and a minor radius of 0.5m. After checking the config file, I found I needed to scale by 1.25, so the effective radii are 3.125m and 0.625m (no problem so far, just providing numbers).\u003C/p\u003E\u003Cp\u003ENow, the volume of a revolute (ie a solid formed by revolving a planar object around a center) is \u003Cstrong\u003E2*\u00C3\u00E2\u201A\u00AC*R*A\u003C/strong\u003E where \u003Cstrong\u003E\u00C3\u00E2\u201A\u00AC\u003C/strong\u003E is pi (just in case of font problems), \u003Cstrong\u003ER\u003C/strong\u003E is the distance from the center of revolution to the center of area of the object and \u003Cstrong\u003EA\u003C/strong\u003E is the area of the object. For a torus, this works out to \u003Cstrong\u003E2*\u00C3\u00E2\u201A\u00AC*R*\u00C3\u00E2\u201A\u00AC*r\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E (or \u003Cstrong\u003E2*\u00C3\u00E2\u201A\u00AC\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E\u003Cstrong\u003E*R*r\u003C/strong\u003E\u003Csup\u003E\u003Cstrong\u003E2\u003C/strong\u003E\u003C/sup\u003E) where \u003Cstrong\u003ER\u003C/strong\u003E is the major radius and \u003Cstrong\u003Er\u003C/strong\u003E is the minor radius.\u003C/p\u003E\u003Cp\u003EThus the volume of the torus tank is 2*3.14*3.14*3.125*0.625*0.625 = 24.0713m\u003Csup\u003E3\u003C/sup\u003E. At 200u/m\u003Csup\u003E3\u003C/sup\u003E (as has been used for the spheres), and using 24m\u003Csup\u003E3\u003C/sup\u003E for the tank, this works out to 4800u of storage rather than the current 1500u. It looks to me like you didn\u0027t square \u00C3\u00E2\u201A\u00AC when calculating the volume. However, 4800u would include the shell of the torus. 4710 (1500*3.14) is probably reasonable.\u003C/p\u003E\u003Cp\u003EThe surface area of the the torus (\u003Cstrong\u003E2*\u00C3\u00E2\u201A\u00AC*R*2*\u00C3\u00E2\u201A\u00AC*r\u003C/strong\u003E) works out to 77m\u003Csup\u003E2\u003C/sup\u003E: about 2.4 times that of a rockomax jumbo-64. This works out to a dry mass of 9.6t, but does not include the mounting plate and struts. probably 10t might be a good dry mass. This gives a pretty dismal mass ratio of 2.4:1 (for LFO tanks). The torus is one of the worst shapes for the volume to surface area ratio\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESo, my recommendations: 4710u capacity, 10t mass\u003C/strong\u003E. However, the mass can be reduced for things like the EL tanks as they might be cages rather than tanks.\u003C/p\u003E\u003Cp\u003EAs a side node: the torus did weird things to my blender import script. I got 2 mesh objects for each torus collider: one an actual collider and the other just a mesh. I suspect some breakage in my script.\u003C/p\u003E\n"},{"CreatedByName":"Mekan1k","CreatedById":48750,"CreatedDateTime":"2013-09-08T05:38:22Z","Content":"\n\u003Cp\u003ETalisar- if the part does not like spawn points far from the COM, why don\u0027t you make a deep tube that the kerbals can access that brings them to the door? Maybe with a hatch or something that can be opened, keeping the aesthetics clean.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-09-08T13:33:30Z","Content":"\n\u003Cp\u003ETaniwha - Yes, I was a bit off on the volume of the torus. I got it a bit closer in the minor update that I released, but on reading your post I realised 2 things I did wrong in my math. I used too large a value for the major radius (it should be 3.75m to the centerline ring of the tank, not the edge) and I used the pre-upscale minor radius (0.5m instead of 0.625). To be honest, for the mass I just threw out a guesstimate and was planning on asking you to figure that one out for me (that math is a bit beyond me at the moment \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E ) I knew it was going to be horribly heavy in relation to it\u0027s capacity, but it does have a definite \u0022cool factor\u0022, so I thought they may be popular\u003C/p\u003E\u003Cp\u003EIn any case, I plan on doing a separate pack of toroidal tanks in various sizes (That particular one is pretty sloppy, more of a proof that I can do it. I think I can refine the collider to play nicer with KSP as well) and if you don\u0027t mind, I\u0027ll provide you with the measurements of them before I release it so we can get all the numbers correct. It would be a HUGE help.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mekan1k\u0022 data-cite=\u0022Mekan1k\u0022\u003E\u003Cdiv\u003ETalisar- if the part does not like spawn points far from the COM, why don\u0027t you make a deep tube that the kerbals can access that brings them to the door? Maybe with a hatch or something that can be opened, keeping the aesthetics clean.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve thought about this, and the major reason I\u0027m leaning away from it is that from what I\u0027ve found out animations for parts don\u0027t play well with animations for lighting windows on the same model (still researching this part). My thought was to have an animated cargo bay that opens on the lower half with the exit hatch inside closer to the centerline. Failing that, I\u0027m thinking of just placing a mounting point where the hatch is, and have a separate surface mountable hatch piece that matches the mount. I plan on making the hatch for general use in any case. The downside to this is that you\u0027d have to use a mod like crew manifest to move kerbals from the capsule to the hatch to EVA.\u003C/p\u003E\u003Cp\u003EAnother possibility that I thought of is to use the cargo bay idea and scrap the toggleable lighted windows. Either have them always off, or to have them always on (possibly with animated blast shutters that would block them when shut. I\u0027ve made versions with each of these ideas that seem to work individually, but not in combination thus far.\u003C/p\u003E\u003Cp\u003EOf course, another option would be to move the center of my model straight up and put the hatch on the top of the sphere instead of the side. I like the current look of it though...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-08T13:37:14Z\u0022 title=\u002209/08/2013 01:37  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 8, 2013\u003C/time\u003E by Talisar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-08T13:52:57Z","Content":"\n\u003Cp\u003ETalisar: I would be glad to help. When you get the models \u0022done\u0022 let me know and we can sort out what to do.\u003C/p\u003E\u003Cp\u003EI\u0027m sorry it took so long. I was busy first with getting EL more or less working, then with getting my blender mu \u0022transporter\u0022* work.\u003C/p\u003E\u003Cp\u003E*Greys\u0027 term, but I like it: both import and export.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-09-08T14:16:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rybec\u0022 data-cite=\u0022Rybec\u0022\u003E\u003Cdiv\u003EFirst off, congrats on the texture optimization! Blue background on the normal map you output, or in unity? Your normal map SHOULD have a blue \u0022background\u0022 as Unity seems to want the full RGB style of normal map. If your bump is subtle you may not be able to easily discern the pattern in the finished map until you apply it to the model. You shouldn\u0027t need to use the nvidia plugin at all- your 3D software should be capable of baking a normal map directly to the RGB format in a variety of normal spaces. The image is in tangent-space normal coordinates, so full blue on the image means no change in the surface normal at that point. (R=x offset, G=y, B=z which is directly away from the surface-the default state for a surface normal). If you\u0027re using Blender, here\u0027s a reasonably decent tutorial for how to bake the normal map: \u003Ca href=\u0022http://cgcookie.com/blender/2010/06/30/normal_maps_blender_2_5/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://cgcookie.com/blender/2010/06/30/normal_maps_blender_2_5/\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use 3DS Max, and I\u0027m able to bake the normal map in there. It also looks good when applied to the model in 3DS, it\u0027s just using the photoshop conversion plugin to make it work for unity that is causing my issues. I think I still have the files I was working with on my home computer. If I still do have them (and if you like) I can PM you with screenshots of the workflow and results I came up with once I get home from work and maybe you can spot my error(s).\u003C/p\u003E\u003Cp\u003EI honestly just gave up on it for the time being, as adding normal maps would have made the memory footprint even larger, but I\u0027d like to learn how to get it working. Plus, with the ways I\u0027ve learned to share textures, maybe the next iteration could include normal maps without being too bloated.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-08T14:18:44Z\u0022 title=\u002209/08/2013 02:18  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 8, 2013\u003C/time\u003E by Talisar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-09-09T03:23:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talisar\u0022 data-cite=\u0022Talisar\u0022\u003E\u003Cdiv\u003EI\u0027ve thought about this, and the major reason I\u0027m leaning away from it is that from what I\u0027ve found out animations for parts don\u0027t play well with animations for lighting windows on the same model (still researching this part). \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELook into Firespitter plugin and module FSanimateGeneric, it exists precisely to work around the limitations of stock animation modules..\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-10T18:10:15Z","Content":"\n\u003Cp\u003EFound a slight issue with your tanks for the EL resources. Namely the fact that they weigh FAR too much when full! Four of the medium half spheres is 6000 parts and weighs 234t, putting the density at 0.04t/part which is 8x what should be.\u003C/p\u003E\n"},{"CreatedByName":"RabidMonkey","CreatedById":76974,"CreatedDateTime":"2013-09-10T18:13:08Z","Content":"\n\u003Cp\u003EIt\u0027s all the extra packing peanuts.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-09-10T19:20:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003EFound a slight issue with your tanks for the EL resources. Namely the fact that they weigh FAR too much when full! Four of the medium half spheres is 6000 parts and weighs 234t, putting the density at 0.04t/part which is 8x what should be.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm, I copied the values directly from the cfgs that were being used for the old tanks of the same size included in the EL thread. I haven\u0027t played with the mod and I believe the mass is handled differently than the standard fuel types due to the KethaneWetMassIndicator module that is on those tanks, so we\u0027ll have to look to Taniwha to check the numbers on this one...\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-10T19:29:14Z","Content":"\n\u003Cp\u003EIf i remember right the EL mod was changed a short while back to make the parts have a density of 200parts per ton. Right now, if my math is right, they are at 25 parts/ton.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-10T22:07:01Z","Content":"\n\u003Cp\u003EEffectively 400 parts/ton. 200u/m\u003Csup\u003E3\u003C/sup\u003E, 0.5t/m\u003Csup\u003E3\u003C/sup\u003E, 0.0025t/u.\u003C/p\u003E\u003Cp\u003EJewelShisen: where do you get 6000 parts? The half-sphere tanks hold 2400. The only 1500u tank I could find was the toroid (in the version I have, anyway).\u003C/p\u003E\u003Cp\u003E[edit]Also, Talisar has no control over the wet mass. KSP takes the resource amounts and multiplies them by the resource density to get the masses.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-10T22:20:25Z\u0022 title=\u002209/10/2013 10:20  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 10, 2013\u003C/time\u003E by taniwha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-10T22:27:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003EEffectively 400 parts/ton. 200u/m\u003Csup\u003E3\u003C/sup\u003E, 0.5t/m\u003Csup\u003E3\u003C/sup\u003E, 0.0025t/u.\u003Cp\u003EJewelShisen: where do you get 6000 parts? The half-sphere tanks hold 2400. The only 1500u tank I could find was the toroid (in the version I have, anyway).\u003C/p\u003E\u003Cp\u003E[edit]Also, Talisar has no control over the wet mass. KSP takes the resource amounts and multiplies them by the resource density to get the masses.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was testing a new Heavy Airship design. I had four half spheres but could only fill them to 1500 each: 1500 x 4 = 6000.\u003C/p\u003E\u003Cp\u003EMy Issue is that the math doesn\u0027t work out. I was going by the mass number given to me in the info panel of the map view. The weight added by 6000u of RocketParts is 234t which equals 0.039t/u , FAR more than the 0.0025t/u that it should be.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-11T06:35:09Z","Content":"\n\u003Cp\u003E0.039t/u is metal, not parts. I suggest checking your .craft file to ensure you have the tanks you think you have.\u003C/p\u003E\u003Cp\u003EOf course, it\u0027s possible there\u0027s a config bug and the RocketParts tanks hold Metal instead of RocketParts (the configs I have seem to be correct).\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-11T12:24:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003E0.039t/u is metal, not parts. I suggest checking your .craft file to ensure you have the tanks you think you have.\u003Cp\u003EOf course, it\u0027s possible there\u0027s a config bug and the RocketParts tanks hold Metal instead of RocketParts (the configs I have seem to be correct).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUsed TAC Fuel Balancer to fill them so I know it is RocketParts. Could it be a problem with having Orbital Construction installed?\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-11T12:50:08Z","Content":"\n\u003Cp\u003EAh, quite possibly. Check OC\u0027s resource definitions: there might be a conflict in the density of the rocket parts resource.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-11T12:53:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003EAh, quite possibly. Check OC\u0027s resource definitions: there might be a conflict in the density of the rocket parts resource.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow do i do that?\u003C/p\u003E\u003Cp\u003EEDIT: NVM!! O.O OCR has the density set at 1!!!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-11T12:55:05Z\u0022 title=\u002209/11/2013 12:55  PM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 11, 2013\u003C/time\u003E by JewelShisen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-11T15:29:06Z","Content":"\n\u003Cp\u003EThat\u0027ll mess things up nicely.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-11T16:29:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003EThat\u0027ll mess things up nicely.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep! But I found that I also needed to update to the new OC and that fixed it!\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-11T21:29:26Z","Content":"\n\u003Cp\u003EI\u0027m glad it\u0027s all sorted \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-11T21:37:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022taniwha\u0022 data-cite=\u0022taniwha\u0022\u003E\u003Cdiv\u003EI\u0027m glad it\u0027s all sorted \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes. In fact~~\u003C/p\u003E\u003Cp\u003EHeavy Lift Airship with 6x Medium Half-Sphere RocketPart containers\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i44.tinypic.com/33pbo7o.jpg\u0022 alt=\u002233pbo7o.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-11T21:48:02Z","Content":"\n\u003Cp\u003EEnough to build 36t of craft. Nice.\u003C/p\u003E\n"},{"CreatedByName":"JewelShisen","CreatedById":71737,"CreatedDateTime":"2013-09-11T22:14:47Z","Content":"\n\u003Cp\u003EYea... Gonna be using it to shuttle parts from my Refinery Station on Duna to my Main Base for use. \u0026gt;.\u0026gt; Gonna be a lot of trips...\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2013-09-12T09:24:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JewelShisen\u0022 data-cite=\u0022JewelShisen\u0022\u003E\u003Cdiv\u003EYea... Gonna be using it to shuttle parts from my Refinery Station on Duna to my Main Base for use. \u0026gt;.\u0026gt; Gonna be a lot of trips...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow far does it have to fly? I assume it\u0027s not leaving Duna...?\u003C/p\u003E\n"},{"CreatedByName":"Burninate","CreatedById":76632,"CreatedDateTime":"2013-09-14T21:15:23Z","Content":"\n\u003Cp\u003ESo the benefit of a sphere is that it\u0027s a compression/tension skin structure which evenly distributes loads, making it incredibly strong - strong enough that you can design it of some very lightweight material if you spread out the loads. A half sphere doesn\u0027t have this advantage, and shouldn\u0027t be particularly strong against a number of loads - just to make it hold its own form would require considerably increasing dry weight.\u003C/p\u003E\u003Cp\u003EThe half-sphere is not a thing that would be realistically used in any circumstance. A half-sphere might be used in KSP to *portray* a rounded cylinder, which is the typical real-world tank form factor.\u003C/p\u003E\n"},{"CreatedByName":"taniwha","CreatedById":57176,"CreatedDateTime":"2013-09-14T22:46:33Z","Content":"\n\u003Cp\u003EThe half-sphere is particularly useful for unpressurized stuff, though admittedly cylinders or even cubes are potentially better.\u003C/p\u003E\n"}]}