{"TopicId":74162,"ForumId":34,"TopicTitle":"[0.23.5] Patch to fix moving kerbin into a different SOI with RSS","CreatedByName":"thutmose","CreatedById":7608,"CreatedDateTime":"2014-06-05T01:12:44Z","PageNum":1,"Articles":[{"CreatedByName":"thutmose","CreatedById":7608,"CreatedDateTime":"2014-06-05T01:12:44Z","Content":"\n\u003Cp\u003EThis fixes the issue where if you move kerbin to a different SOI (say around jool) with RSS, on reloading the game, anything in orbit around kerbin is moved to orbit around the Sun.\u003C/p\u003E\u003Cp\u003ESource code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//------------------------------------------------------------------------------\u003Cbr\u003E// \u0026lt;auto-generated\u0026gt;\u003Cbr\u003E//     This code was generated by a tool.\u003Cbr\u003E//     Runtime Version:4.0.30319.18444\u003Cbr\u003E//\u003Cbr\u003E//     Changes to this file may cause incorrect behavior and will be lost if\u003Cbr\u003E//     the code is regenerated.\u003Cbr\u003E// \u0026lt;/auto-generated\u0026gt;\u003Cbr\u003E//------------------------------------------------------------------------------\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing System.Threading.Tasks;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace KerbinAsSat\u003Cbr\u003E{\u003Cbr\u003E\t[KSPAddon(KSPAddon.Startup.EveryScene, false)]\u003Cbr\u003E\tpublic class MoveVesselBack : MonoBehaviour\u003Cbr\u003E\t{\u003Cbr\u003E\t\tstatic bool check = true;\u003Cbr\u003E\t\tpublic void Start()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tif (HighLogic.LoadedScene == GameScenes.SPACECENTER \u0026amp;\u0026amp; check)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tcheck = false;\u003Cbr\u003E\t\t\t\tCelestialBody kerbin = null;\u003Cbr\u003E\t\t\t\tCelestialBody sun = null;\u003Cbr\u003E\t\t\t\tDebug.Log(\u0022Looking for Kerbin\u0022);\u003Cbr\u003E\t\t\t\tforeach (CelestialBody b in FlightGlobals.Bodies)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tif (b.GetName().Equals(\u0022Kerbin\u0022))\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tDebug.Log(\u0022Found Kerbin\u0022);\u003Cbr\u003E\t\t\t\t\t\tkerbin = b;\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t\tif (b.GetName().Equals(\u0022Sun\u0022))\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tDebug.Log(\u0022Found the Sun\u0022);\u003Cbr\u003E\t\t\t\t\t\tsun = b;\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t\tif(sun!=null)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tDebug.Log(\u0022Checking the Sun\u0027s bodies\u0022);\u003Cbr\u003E\t\t\t\t\tif(!sun.orbitingBodies.Contains(kerbin))\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tDebug.Log(\u0022re-adding Kerbin\u0022);\u003Cbr\u003E\t\t\t\t\t\tsun.orbitingBodies.Add(kerbin);\u003Cbr\u003E\t\t\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENo pictures (doesn\u0027t have anything to show)\u003C/p\u003E\u003Cp\u003EDownload:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/o2md550zj64tsra/KerbinAsSat.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/o2md550zj64tsra/KerbinAsSat.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Einstall instructions:\u003C/p\u003E\u003Cp\u003Eextract to Gamedata.\u003C/p\u003E\u003Cp\u003ELiscence:\u003C/p\u003E\u003Cp\u003Efree to do whatever with this code\u003C/p\u003E\n"}]}