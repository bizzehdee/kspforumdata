{"TopicId":53809,"ForumId":34,"TopicTitle":"[1.0][Release-5-0][April 28, 2015] Active Texture Management - Save RAM!","CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2013-11-20T19:37:35Z","PageNum":98,"Articles":[{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-20T17:59:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deflep\u0022 data-cite=\u0022Deflep\u0022\u003E\u003Cdiv\u003ELooks like there are some in the ASM texturecache, but only some 10.6Mb worth of disc space used. KW Rocketry is only 3.26Mb and Squad 6.75 Mb for instance. When I uninstalled ATM, my contract screen is fine again and so is the toolbar. I\u0027m guessing there is some kind of kind of conflict somewhere so I\u0027ll juts run without.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERunning with the current version?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-20T18:13:04Z","Content":"\n\u003Cp\u003EIs it me or all the reports of high memory usage are with ATI cards ?\u003C/p\u003E\n"},{"CreatedByName":"mitiya","CreatedById":100934,"CreatedDateTime":"2014-10-20T18:58:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EIs it me or all the reports of high memory usage are with ATI cards ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have nvidia 770\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-10-20T19:00:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deflep\u0022 data-cite=\u0022Deflep\u0022\u003E\u003Cdiv\u003ELooks like there are some in the ASM texturecache, but only some 10.6Mb worth of disc space used. KW Rocketry is only 3.26Mb and Squad 6.75 Mb for instance. When I uninstalled ATM, my contract screen is fine again and so is the toolbar. I\u0027m guessing there is some kind of kind of conflict somewhere so I\u0027ll juts run without.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s interesting. With 3-8 Aggressive, my textureCache/Squad folder has 34.2MB compared with the stock Gamedata/Squad folder at 763MB, and textureCache/NASAMission has 3.24MB and Gamedata/NASAMission at 65MB. So that\u0027s a total compression savings of about 791MB, which is roughly what I was seeing in total memory savings back in 0.24.\u003C/p\u003E\u003Cp\u003EI find it hard to believe that running stock \u002B ATM 3-8 Aggressive is clocking in at 1.3-1.6 GB (it varies) memory usage for me. Unless the stock game now uses 2.5GB memory uncompressed? That seems improbable. The destructible buildings \u002B admin building \u002B whatever code to manage it shouldn\u0027t have added *that* much to the game.\u003C/p\u003E\u003Cp\u003EBTW: I have an ASUS/AMD EAH6450 video card with 2GB of memory.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-20T20:00:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EIs it me or all the reports of high memory usage are with ATI cards ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... I run Nvidia, though I also haven\u0027t tried the opengl option yet either.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-20T20:52:45Z","Content":"\n\u003Cp\u003EI use dual 6950s, I can run tests if you like.\u003C/p\u003E\u003Cp\u003ENote that *only* textures that get resized get put in the cache. If you\u0027re running basic, this will only be a few normal maps. Also, of course, if things are resized by 1/2, they will take up 1/4 of the disk space if they are kept in the same format, or more like 1/40th if the original texture was an MBM/TGA (cache is PNG, yeah?)\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-20T20:54:53Z","Content":"\n\u003Cp\u003EI\u0027ve not tried the OGL flag either, but if the extra data will help I will\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-20T20:58:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EI use dual 6950s, I can run tests if you like.\u003Cp\u003ENote that *only* textures that get resized get put in the cache. If you\u0027re running basic, this will only be a few normal maps. Also, of course, if things are resized by 1/2, they will take up 1/4 of the disk space if they are kept in the same format, or more like 1/40th if the original texture was an MBM/TGA (cache is PNG, yeah?)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrect to all, though I think that if I can implement a good saving mechanism, we\u0027ll move to DDS to save time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Uml\u00FCx","CreatedById":69703,"CreatedDateTime":"2014-10-20T21:17:09Z","Content":"\n\u003Cp\u003Ei have an ATI card, but my run was in default DirectX\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-10-20T21:38:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EAnyway, I digress - loading with ATM takes a LOT less time than without, so what do I need to change in what config to not rescale or downsize anything, but still take advantage of the drastically decreased loading time, if possible at all?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDidn\u0027t want this to get lost and buried, is all..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI hate to quote my own post for a second time, but I would really appreciate a reply (or even an acknowledgement of some kind) to my question.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-10-20T21:42:26Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EOpen @Default.cfg. Set scaling to 1. That should do it, I think.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ESorry, was thinking Texture Replacer...\u003C/p\u003E\u003Cp\u003EIn config.cfg, set scale=1 (around line 50).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-20T21:50:15Z\u0022 title=\u002210/20/2014 09:50  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 20, 2014\u003C/time\u003E by madlemur\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-20T21:45:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EI hate to quote my own post for a second time, but I would really appreciate a reply (or even an acknowledgement of some kind) to my question.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EOpen @Default.cfg. Set scaling to 1. That should do it, I think.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, this should work. Sorry I didn\u0027t notice it earlier.\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2014-10-20T21:58:59Z","Content":"\n\u003Cp\u003EI am using opengl on a windows version of KSP using an Nvidia GTX 680 with your latest aggressive version and I dont seem to be having any issues. I have around 60 mods and memory is sitting at 2178mb in the VAB if you need my logs happy to supply\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-20T22:06:21Z\u0022 title=\u002210/20/2014 10:06  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 20, 2014\u003C/time\u003E by Virtualgenius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-20T21:59:29Z","Content":"\n\u003Cp\u003EYeah, I think Sarbian found some decent dds-saving code.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-10-20T22:03:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EOpen @Default.cfg. Set scaling to 1. That should do it, I think.\u003C/span\u003E\u003Cp\u003ESorry, was thinking Texture Replacer...\u003C/p\u003E\u003Cp\u003EIn config.cfg, set scale=1 (around line 50).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rbray89\u0022 data-cite=\u0022rbray89\u0022\u003E\u003Cdiv\u003EYes, this should work. Sorry I didn\u0027t notice it earlier.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you both, I will try this in a bit \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nanowinner","CreatedById":100275,"CreatedDateTime":"2014-10-20T22:28:13Z","Content":"\n\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EHow can I make this mod do its thing but leave Texture Replacer alone cause I\u0027ve some custom suits and it makes them...well, crappy?\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-20T23:00:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EYeah, I think Sarbian found some decent dds-saving code.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think I posted them once but the lib that give the best quality seems to be \u003Ca href=\u0022https://code.google.com/p/libsquish/\u0022 rel=\u0022external nofollow\u0022\u003Elibsquish\u003C/a\u003E (C\u002B\u002B, so some work to get C#). I had found \u003Ca href=\u0022https://code.google.com/p/openpdn/source/browse/#hg%2Fsrc%2FDdsFileType%2FDdsFileType\u0022 rel=\u0022external nofollow\u0022\u003Esome c#\u003C/a\u003E used by Paint.Net but it turns out they just pinvoque libsquish, and there an \u003Ca href=\u0022http://managedsquish.codeplex.com/\u0022 rel=\u0022external nofollow\u0022\u003Eother wrapper\u003C/a\u003E arround. But those would require a more work to get linux and OSX working.\u003C/p\u003E\u003Cp\u003ESo in the end it\u0027s a convertion of a c\u002B\u002B lib, unless rbay found something else.\u003C/p\u003E\n"},{"CreatedByName":"Sakata","CreatedById":95648,"CreatedDateTime":"2014-10-21T00:08:26Z","Content":"\n\u003Cp\u003EHey, sarbian and dbray. Been wanting to get mechjeb\u0027s (as well as some other ones) textures to not look like dirt, is there a way to do this? There are so many posts I can\u0027t find the info. Tried google but it sends me to pages that don\u0027t even have the search query\u0027s terms in em.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-21T00:17:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nanowinner\u0022 data-cite=\u0022nanowinner\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EHow can I make this mod do its thing but leave Texture Replacer alone cause I\u0027ve some custom suits and it makes them...well, crappy?\u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sakata\u0022 data-cite=\u0022Sakata\u0022\u003E\u003Cdiv\u003EHey, sarbian and dbray. Been wanting to get mechjeb\u0027s (as well as some other ones) textures to not look like dirt, is there a way to do this? There are so many posts I can\u0027t find the info. Tried google but it sends me to pages that don\u0027t even have the search query\u0027s terms in em.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirstly, make sure you have set the texture resolution to full, as I think KSP defaults to Half. If it still looks awful then you can create a config (or modify an existing config) to not rescale the texture if you are using the non-basic config.\u003C/p\u003E\n"},{"CreatedByName":"Sakata","CreatedById":95648,"CreatedDateTime":"2014-10-21T00:21:57Z","Content":"\n\u003Cp\u003EAhh that was my next question. Seems that setting the res in-game helps on memory as well, but made the situation with buttons and such much worse. Not sure why but seems that .25 has much worse memory load, so my game crashes after a few ships are loaded / some arbitrary time has passed. Seems that the in-game texture quality sames a lot of RAM but makes the game look like dirt.\u003C/p\u003E\u003Cp\u003EGetting quite irritating, and wish there was some way to save some more RAM. Wish x64 wasn\u0027t a pile of steamy poo \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EAt half-res in settings, I get: 1.567 pre MM, 1.891 after, 1.995 at loading screen, 2.063 in-game.\u003C/p\u003E\u003Cp\u003EIs there a way to get ATM to be more aggressive with normal texture size in game settings?\u003C/p\u003E\u003Cp\u003EAlso, wonder why some icons are horrible but ones like KSPi icons look fine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T00:41:02Z\u0022 title=\u002210/21/2014 12:41  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by Sakata\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LORDPrometheus","CreatedById":61414,"CreatedDateTime":"2014-10-21T00:23:55Z","Content":"\n\u003Cp\u003EI keep realizing how awesome this mod is\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-21T00:25:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sakata\u0022 data-cite=\u0022Sakata\u0022\u003E\u003Cdiv\u003EAhh that was my next question. Seems that setting the res in-game helps on memory as well, but made the situation much worse. Not sure why but seems that .25 has much worse memory load, so my game crashes after a few ships are loaded. Getting quite irritating, and wish there was some way to save some more RAM. Wish x64 wasn\u0027t a pile of steamy poo \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Elook up how to load with OpenGL. People are reporting considerable memory savings, though with this mod, there is still some work to be done with it.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-21T00:51:45Z","Content":"\n\u003Cp\u003EUm, there\u0027s *very good reason* .25 has a higher memory load than .24--it has a new building, new features, new GUI art, new destructable building art...let alone the SP\u002B parts. And note that only stuff in the GameData folder is scaled by ATM, so everything that .25 added apart from the new parts will not be touched by ATM.\u003C/p\u003E\u003Cp\u003ESetting textures to half res in the game settings does exactly what ATM aggressive does. If you\u0027re tempted to use it, just use scale = 4 instead.\u003C/p\u003E\n"},{"CreatedByName":"Sakata","CreatedById":95648,"CreatedDateTime":"2014-10-21T01:10:47Z","Content":"\n\u003Cp\u003EWOW. openGL rocks. Just hope the performance isn\u0027t crap! Mine is mostly CPU-bound so physics is probably worse for me than gfx.\u003C/p\u003E\u003Cp\u003E1.248\u0026lt;MM\u0026gt;1.619 (MM seems to take a chunk of memory)\u003C/p\u003E\u003Cp\u003E1.714 at loading screen, @KSC 1773, with normal textures.\u003C/p\u003E\u003Cp\u003ENot a HUGE saving, like some report, but still quite considerable considering I upped the textures.\u003C/p\u003E\u003Cp\u003E[edit] actually after a bit of playing, I think its FASTER than DX mode... for me at least. Probably less memory/disk operations. I\u0027m still on ddr2/800 ram and an old core2duo\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-21T06:11:08Z\u0022 title=\u002210/21/2014 06:11  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 21, 2014\u003C/time\u003E by Sakata\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-10-21T01:48:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EUm, there\u0027s *very good reason* .25 has a higher memory load than .24--it has a new building, new features, new GUI art, new destructable building art...let alone the SP\u002B parts. And note that only stuff in the GameData folder is scaled by ATM, so everything that .25 added apart from the new parts will not be touched by ATM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot sure who this was aimed at, but I\u0027m only chasing after my memory issue since Sarbian reported such a lower memory usage with an empty GameData folder. I get that .25 will have a larger memory footprint overall but the large difference in usage at the base level is a bit strange.\u003C/p\u003E\n"}]}