{"TopicId":48738,"ForumId":34,"TopicTitle":"Kerbal Attachment System (KAS) 0.4.7 - Pipes as fuel lines and even fewer explosions!","CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-10-16T22:40:39Z","PageNum":48,"Articles":[{"CreatedByName":"punchyfist","CreatedById":110356,"CreatedDateTime":"2014-06-12T02:44:27Z","Content":"\n\u003Cp\u003EEverytime I try to grab something with the current version it violently explodes or flings ship segments off at hundreds of meters per second... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Helix935","CreatedById":71312,"CreatedDateTime":"2014-06-12T03:33:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u00224nxs\u0022 data-cite=\u00224nxs\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022http://i.imgur.com/kNDSidJ.png?1\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/kNDSidJ.png?1\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewhat ae those box things under the winches\u003C/p\u003E\n"},{"CreatedByName":"4nxs","CreatedById":80680,"CreatedDateTime":"2014-06-12T05:11:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Helix935\u0022 data-cite=\u0022Helix935\u0022\u003E\u003Cdiv\u003Ewhat ae those box things under the winches\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBatteries, from the kw rocketry pack.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-12T13:03:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Myrten\u0022 data-cite=\u0022Myrten\u0022\u003E\u003Cdiv\u003EI\u0027m having serious problem with 0.4.7. Whenever I grab part from ship or take it from the container ship explodes. \u003Cp\u003EThis never happened to me in previous versions of KAS. Anyone knows how to solve this?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EExactly same problem here, renders KAS unfortunately useless. Log of this happening below:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[LOG 06:20:23.765] [KAS] Grab - Grabbing part :solarPanels4\u003Cp\u003E[WRN 06:20:23.811] [PartJoint]: None of the provided nodes was valid!\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.894] [00:00:28]: Structural failure on linkage between FL-T400 Fuel Tank and 6S 1m Service Compartment Tube.\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.899] [00:00:28]: Structural failure on linkage between Pipe end point and FL-T400 Fuel Tank.\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.902] [00:00:28]: Structural failure on linkage between OX-4L 1x6 Photovoltaic Panels and Jebediah Kerman.\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.925] [00:00:28]: Structural failure on linkage between LV-909 Liquid Fuel Engine and FL-T400 Fuel Tank.\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.963] liquidEngine3 collided into fuelTank - relative velocity: 7.842641 - impact momentum: 17.6\u003C/p\u003E\u003Cp\u003E[LOG 06:20:23.963] liquidEngine3 Exploded!! - blast awesomeness: 0.5\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlso symptomatic is the grabbing itself dont work - part is just detached from vessel and not attached to Kerbal. Help?\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003ECan confirm \u003Cstrong\u003Eit\u0027s problem with KAS and not with other mods - running stock and grabbing anything with KAS still results in same behaviour\u003C/strong\u003E - ship is flinged hundred meters away, explosions inducing, kraken inviting.\u003C/p\u003E\u003Cp\u003EEDIT2:\u003C/p\u003E\u003Cp\u003EIncompatiblity with KSP 64. See below.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-12T19:10:22Z\u0022 title=\u002206/12/2014 07:10  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 12, 2014\u003C/time\u003E by koksny\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smart013","CreatedById":106088,"CreatedDateTime":"2014-06-12T16:07:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ctbram\u0022 data-cite=\u0022ctbram\u0022\u003E\u003Cdiv\u003EHaving trouble with fuel lines. I get the two ships within 20m of each other and null out the DV. Then EVA and attach pipe ends. Prior to EVA I ensure mechjeb is turned OFF on both ships.\u003Cp\u003EThen I switch to either ship and use tac fuel balancer move the liquid and oxidizer. I have tried 0.1, 1.0, 10.0, 100.0 and the results are the same the ships start oscillating, slowly at first, but it keeps building until it\u0027s violent enough to EXPLODE the ships.\u003C/p\u003E\u003Cp\u003EOnce it reaches a point you cannot get the eva\u0027d kerbal to the pipe end to unlink it. The only way I have found to stop the bucking is switch tot he eva\u0027d kerbal, making sure he is off any ladders and quickly tap the period and comma to warp for an instant and the oscillation will instantly stop but will gradually grow again so you have to rush and unlink.\u003C/p\u003E\u003Cp\u003EWhy is this happening and how do I stop it please?\u003C/p\u003E\u003Cp\u003EI am running career mode, 0.23.5, with the latest KAS.\u003C/p\u003E\u003Cp\u003Ethanks in advance for any advice / help.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice tip with the warping, thanx. Whenever i do this myself i have to really, really make sure that the relative motion of both vessels is near zero. Even a bump from a eva kerbal can trigger this cycle of getting out of control, so these maneuvers are always very stressfull \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EBut its possible to get it done and be safe. One of my stations has a permanently connected (20m) probe now for some kerbal months, and no tendency to spin out of control there. Ok, granted that a little vessel connected to a large vessel seems to be a bit easier anyway than two mostly equal sized vessels.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-12T16:11:38Z\u0022 title=\u002206/12/2014 04:11  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 12, 2014\u003C/time\u003E by smart013\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kerbal01","CreatedById":57322,"CreatedDateTime":"2014-06-12T16:55:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DarthVader\u0022 data-cite=\u0022DarthVader\u0022\u003E\u003Cdiv\u003Eanything on this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMajir?\u003C/p\u003E\u003Cp\u003E(10 chars)\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-12T19:07:40Z","Content":"\n\u003Cp\u003EAfter some testing i have found that last version of KAS is not compatible with KSP 64bit.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EProblems with exploding parts/flinging ships and Kerbals are only present in KSP64\u003C/strong\u003E. No fork or other, older version works as well. Surface attachment node seems to work different in KSP64, or maybe it\u0027s just case of much higher floating point precision making stuff collide. \u003C/p\u003E\u003Cp\u003EOne way or the other, can we hope for 64 bit fix for KAS?\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-12T19:19:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022koksny\u0022 data-cite=\u0022koksny\u0022\u003E\u003Cdiv\u003EOne way or the other, can we hope for 64 bit fix for KAS?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot from the KAS side. The KAS plugin is fully managed code. It\u0027s agnostic to CPU word size. In other words, KAS doesn\u0027t have anything to fix; it would run just as well on a hypothetical 128-bit architecture. If 64-bit KSP is causing issues with KAS, that means there\u0027s either a bug in 64-bit KSP/Unity (highly likely) or a bug in 32-bit KSP that KAS is inadvertently depending on (less likely). If you can dig up more information that shows certain KSP/Unity functions are unreliable in 64-bit, it \u003Cem\u003Emight\u003C/em\u003E be possible to pick alternatives, but my guess is not.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-12T19:32:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003ENot from the KAS side. The KAS plugin is fully managed code. It\u0027s agnostic to CPU word size. In other words, KAS doesn\u0027t have anything to fix; it would run just as well on a hypothetical 128-bit architecture. If 64-bit KSP is causing issues with KAS, that means there\u0027s either a bug in 64-bit KSP/Unity (highly likely) or a bug in 32-bit KSP that KAS is inadvertently depending on (less likely). If you can dig up more information that shows certain KSP/Unity functions are unreliable in 64-bit, it \u003Cem\u003Emight\u003C/em\u003E be possible to pick alternatives, but my guess is not.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne more thing tho - could you please provide link to latest version source code? I tried to find it on Github but even the latest forks seem to have not updated compatiblity checker since 0.23. \u003C/p\u003E\u003Cp\u003EAs far as i can tell, KAS generally speaking works (you can move parts on vessel using \u0022attach\u0022 button), but the odity generating code seems to be:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E Transform nodeTransform = new GameObject(\u0022KASNodeTransf\u0022).transform;\u003Cp\u003E nodeTransform.parent = p.transform;\u003C/p\u003E\u003Cp\u003E nodeTransform.localPosition = attachNode.position;\u003C/p\u003E\u003Cp\u003E nodeTransform.localRotation = rotation;\u003C/p\u003E\u003Cp\u003E attachNode.nodeTransform = nodeTransform;\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOf course i can be totaly wrong, but i assume it knowing that, for example, MechJeb in KSP64 reports distance from target in pico-meters. And the part behaviour after grabbing looks like it\u0027s hitbox is spawning inside kerbal (Or just generaly bugs out, because it doesn\u0027t attach to it after all).\u003C/p\u003E\u003Cp\u003EIs there for example possibility that some variable should be defined in different way for 64bit build? Really just shooting blind here trying to pinpoint some hotfix. Maybe it\u0027s just some simple case of turning float Vector3 somewhere into double Vector3d? (Yes, i have no clue about C#, just really want to fix that god damn satelite with KAS)\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EAlso i\u0027m assuming this one is the latest code-changing fork? \u003Ca href=\u0022https://github.com/angavrilov/KAS/tree/76ca2cd2c5fae469817e17ad04538a4c1d9adc5a\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/angavrilov/KAS/tree/76ca2cd2c5fae469817e17ad04538a4c1d9adc5a\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-12T20:38:31Z\u0022 title=\u002206/12/2014 08:38  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 12, 2014\u003C/time\u003E by koksny\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2014-06-12T22:14:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022koksny\u0022 data-cite=\u0022koksny\u0022\u003E\u003Cdiv\u003EOne more thing tho - could you please provide link to latest version source code? I tried to find it on Github but even the latest forks seem to have not updated compatiblity checker since 0.23.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry about that; seems I forgot to push after the last release. My KAS repository on Github is now up-to-date.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022koksny\u0022 data-cite=\u0022koksny\u0022\u003E\u003Cdiv\u003EIs there for example possibility that some variable should be defined in different way for 64bit build? Really just shooting blind here trying to pinpoint some hotfix. Maybe it\u0027s just some simple case of turning float Vector3 somewhere into double Vector3d? (Yes, i have no clue about C#, just really want to fix that god damn satelite with KAS)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E64-bit portability usually deals with pointer types, which aren\u0027t present in fully managed code. If Unity somehow changed its geometric functions with the 64-bit version, that\u0027s a Unity bug and inconsistency that\u0027s not documented as far as I know. It\u0027s certainly not necessary for 64-bit compatibility.\u003C/p\u003E\n"},{"CreatedByName":"Myrten","CreatedById":92200,"CreatedDateTime":"2014-06-12T22:30:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022koksny\u0022 data-cite=\u0022koksny\u0022\u003E\u003Cdiv\u003EAfter some testing i have found that last version of KAS is not compatible with KSP 64bit.\u003Cp\u003E\u003Cstrong\u003EProblems with exploding parts/flinging ships and Kerbals are only present in KSP64\u003C/strong\u003E. No fork or other, older version works as well. Surface attachment node seems to work different in KSP64, or maybe it\u0027s just case of much higher floating point precision making stuff collide. \u003C/p\u003E\u003Cp\u003EOne way or the other, can we hope for 64 bit fix for KAS?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can confirm this, my explosions are in 64 bit version.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-13T00:54:04Z","Content":"\n\u003Cp\u003ESo after some testing, i can further confirm that problem is only related to event handling decoupling part from original vessel and attaching it to Kerbal. When part is grabbed, a lot of force is being applied to vessel itself, what leads to structural failure between Kerbal and part connected to him. \u003C/p\u003E\u003Cp\u003EAlso its worth noting that the part is not being attached to Kerbal correctly - it\u0027s state is set as grabbed, but it\u0027s just treated as new vessel (debris). After \u0022ungrabbing\u0022 it and grabbing again (not from vessel but from ground) no problem shows up and everything works. \u003C/p\u003E\u003Cp\u003ESo there is either different method in code for grabbing stuff from ground/vessel, or it\u0027s just case of collision boxes being miscalculated (What leads to no problem when grabbing stuff from ground). \u003C/p\u003E\u003Cp\u003EI did logged same situation on both 86 and 64 clients, but it\u0027s really not adding much, just the difference with Structural Failure being logged in 64 version. \u003C/p\u003E\u003Cp\u003EI have also succesfully achieved modyfing the code to the point where after grabbing force is being applied to Kerbal, not into vessel. It obviously cuts off explosion, but slinging someone in orbit is also a bit counterproductive. \u003C/p\u003E\u003Cp\u003EAny hints? I believe it\u0027s possible to backtrack the problem with more log messages injected into code, but maybe someone with more experience have some brilliant idea before i will start painfully spawning DebugError in every function related to EVA?\u003C/p\u003E\n"},{"CreatedByName":"mr. engino","CreatedById":84611,"CreatedDateTime":"2014-06-13T03:06:18Z","Content":"\n\u003Cp\u003Equestion: how would i be able to add other parts from mods so that they will benefit from this?\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-06-13T09:16:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mr. engino\u0022 data-cite=\u0022mr. engino\u0022\u003E\u003Cdiv\u003Equestion: how would i be able to add other parts from mods so that they will benefit from this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI presume you mean the grab and store functionality?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[partnamehere]:Final\u003Cbr\u003E{\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = KASModuleGrab\u003Cbr\u003E\tevaPartPos = (0.0, 0.0, -0.15)\u003Cbr\u003E\tevaPartDir = (0,0,-1)\u003Cbr\u003E\tstorable = true\u003Cbr\u003E\tstoredSize = 2 //change this to an appropriate number\u003Cbr\u003E\tattachOnPart = True\u003Cbr\u003E\tattachOnEva = False\u003Cbr\u003E\tattachOnStatic = False //can attach to ground\u003Cbr\u003E}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-13T23:57:11Z","Content":"\n\u003Cp\u003EAfter quite long debugging i have found out the issue causing incompatibility with 64 bit version, and explosions/big velocities on grabbing part with KAS. And in fact Majiir was totally correct, the issue is not related to KAS code in any way.\u003C/p\u003E\u003Cp\u003EThere seems to be difference in how \u003Cstrong\u003E.decouple()\u003C/strong\u003E works in 64/86. Basically, it looks like in 64 the direction vector of force after decoupling is null (or some other wonky number), following with force being applied to both parts in attachment node point. Following with explosion because of collisions. \u003C/p\u003E\u003Cp\u003EMost important fact is - same problem shows up, for example, in ProceduralFairings, because of also using the .decouple() function. \u003C/p\u003E\u003Cp\u003ESo now the question is - can we modify the .decouple()? Replace it with some custom function? Or is it just so deep in Unity we are screwed?\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003ECan it be related to \u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/2412\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/2412\u003C/a\u003E ?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-14T00:13:13Z\u0022 title=\u002206/14/2014 12:13  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 14, 2014\u003C/time\u003E by koksny\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MikeAeronautLZ","CreatedById":79751,"CreatedDateTime":"2014-06-17T12:34:00Z","Content":"\n\u003Cp\u003EI do not know if the internal API of KSP allows you to get too deep into the guts of how things work, but if the decouple() function is spitting out a bogus force vector, then the solution is to spoof it. Before KAS code calls decouple(), it stores the physical data of the vessel and all the forces acting on it. Then it calls decouple, and immediately resets all that physics data in the two vessels and reapplies the force vector as it itself calculates it. It\u0027s like fixing cusps in differential geometry: isolate the point and excise it cleverly. You\u0027d want to dump that code into a spoofed function spoof_decouple() and have everyone use that instead.\u003C/p\u003E\n"},{"CreatedByName":"koksny","CreatedById":65152,"CreatedDateTime":"2014-06-17T20:07:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MikeAeronautLZ\u0022 data-cite=\u0022MikeAeronautLZ\u0022\u003E\u003Cdiv\u003EI do not know if the internal API of KSP allows you to get too deep into the guts of how things work, but if the decouple() function is spitting out a bogus force vector, then the solution is to spoof it. Before KAS code calls decouple(), it stores the physical data of the vessel and all the forces acting on it. Then it calls decouple, and immediately resets all that physics data in the two vessels and reapplies the force vector as it itself calculates it. It\u0027s like fixing cusps in differential geometry: isolate the point and excise it cleverly. You\u0027d want to dump that code into a spoofed function spoof_decouple() and have everyone use that instead.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately i have no clue how to get to decouple() code. What i did was painfull debugging of variables being used (in KAS an ProceduralFairings) before calling decouple(), hoping to catch any difference, but to no success. And since i believe decouple() is part of CSharp Assembly, i dont really know how to proceed. Dump the bytecode from memory? It makes reverse engineering this code almost nonsense - we will probably get 0.24 before it\u0027s done.\u003C/p\u003E\u003Cp\u003EAlso there is possibility it\u0027s bug related to Unity 4.3 ( \u003Ca href=\u0022http://forum.unity3d.com/threads/hybridobbcollider-crash-issue-in-x64-standalone-player.224486/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.unity3d.com/threads/hybridobbcollider-crash-issue-in-x64-standalone-player.224486/\u003C/a\u003E ), fixed in Unity 4.5. Can\u0027t check it for obvious reasons.\u003C/p\u003E\n"},{"CreatedByName":"Chris_C","CreatedById":58544,"CreatedDateTime":"2014-06-18T14:13:36Z","Content":"\n\u003Cp\u003EI adapted the Makefile from MechJeb to work with KAS, I\u0027ll abandon it here in the hope its useful to someone...\u003C/p\u003E\u003Cp\u003EI have only tested the Makefile in Linux - it may erase you harddrive use at your own peril\u003C/p\u003E\u003Cp\u003EI notice I can\u0027t for instance switch a light on or off (no right click menu) when I\u0027m controling a craft, when there is a kerbal outside the ship, is this a known issue?\u003C/p\u003E\u003Cp\u003Ealso right alt is supposed to twist (the attachment pointer) as far as I can tell from the code, is this supposed to be the alt-gr key? - if so it does nothing in Linux...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E# Makefile for building KAS - by codifies - based on MechJeb Makefile \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eifeq ($(OS),Windows_NT)\u003Cbr\u003E\t# do \u0027Doze stuff\u003Cbr\u003Eelse\u003Cbr\u003E\tUNAME_S := $(shell uname -s)\u003Cbr\u003E\tifeq ($(UNAME_S),Linux)\u003Cbr\u003E\t\t#KSPDIR  := ${HOME}/.local/share/Steam/SteamApps/common/Kerbal\\ Space\\ Program\u003Cbr\u003E\t\tKSPDIR  := ${HOME}/.steam/SteamApps/common/Kerbal\\ Space\\ Program\u003Cbr\u003E\t\tMANAGED := ${KSPDIR}/KSP_Data/Managed/\u003Cbr\u003E\tendif\u003Cbr\u003E\tifeq ($(UNAME_S),Darwin)\u003Cbr\u003E\t\tKSPDIR  := ${HOME}/Library/Application\\ Support/Steam/SteamApps/common/Kerbal\\ Space\\ Program/\u003Cbr\u003E\t\tMANAGED := ${KSPDIR}/KSP.app/Contents/Data/Managed/\u003Cbr\u003E\tendif\u003Cbr\u003Eendif\u003Cbr\u003E\u003Cbr\u003EKASFILES := $(wildcard Plugin/*.cs) \\\u003Cbr\u003E\t$(wildcard Plugin/Properties/*.cs) \\\u003Cbr\u003E\u003Cbr\u003ERESGEN2 := resgen2\u003Cbr\u003EGMCS    := gmcs\u003Cbr\u003EGIT     := git\u003Cbr\u003ETAR     := tar\u003Cbr\u003EZIP     := zip\u003Cbr\u003E\u003Cbr\u003EVERSION := $(shell ${GIT} describe --tags --always)\u003Cbr\u003E\u003Cbr\u003Eall: build\u003Cbr\u003E\u003Cbr\u003Einfo:\u003Cbr\u003E\t@echo \u0022== KAS Build Information ==\u0022\u003Cbr\u003E\t@echo \u0022  resgen2: ${RESGEN2}\u0022\u003Cbr\u003E\t@echo \u0022  gmcs:    ${GMCS}\u0022\u003Cbr\u003E\t@echo \u0022  git:     ${GIT}\u0022\u003Cbr\u003E\t@echo \u0022  tar:     ${TAR}\u0022\u003Cbr\u003E\t@echo \u0022  zip:     ${ZIP}\u0022\u003Cbr\u003E\t@echo \u0022  KSP Data: ${KSPDIR}\u0022\u003Cbr\u003E\t@echo \u0022================================\u0022\u003Cbr\u003E\u003Cbr\u003Ebuild: build/KAS.dll\u003Cbr\u003E\u003Cbr\u003Ebuild/%.dll: ${KASFILES}\u003Cbr\u003E\tmkdir -p build\u003Cbr\u003E\t#${RESGEN2} -usesourcepath Properties/Resources.resx build/Resources.resources\u003Cbr\u003E\t${GMCS} -t:library -lib:${MANAGED} \\\u003Cbr\u003E\t\t-r:Assembly-CSharp,Assembly-CSharp-firstpass,UnityEngine \\\u003Cbr\u003E\t\t-out:$@ \\\u003Cbr\u003E\t\t${KASFILES} \u003Cbr\u003E\u003Cbr\u003Epackage: build ${KASFILES}\u003Cbr\u003E\tmkdir -p package/KAS/Plugins\u003Cbr\u003E\tcp -r Parts package/KAS/\u003Cbr\u003E\tcp build/KAS.dll package/KAS/Plugins/\u003Cbr\u003E\tcp LICENSE.md README.md package/KAS/\u003Cbr\u003E\u003Cbr\u003E%.tar.gz:\u003Cbr\u003E\t${TAR} zcf $@ package/KAS\u003Cbr\u003E\u003Cbr\u003Etar.gz: package KAS-${VERSION}.tar.gz\u003Cbr\u003E\u003Cbr\u003E%.zip:\u003Cbr\u003E\t${ZIP} -9 -r $@ package/KAS\u003Cbr\u003E\u003Cbr\u003Ezip: package KAS-${VERSION}.zip\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eclean:\u003Cbr\u003E\t@echo \u0022Cleaning up build and package directories...\u0022\u003Cbr\u003E\trm -rf build/ package/\u003Cbr\u003E\u003Cbr\u003Einstall: build\u003Cbr\u003E\tmkdir -p ${KSPDIR}/GameData/KAS/Plugins\u003Cbr\u003E\tcp -r Parts ${KSPDIR}/GameData/KAS/\u003Cbr\u003E\tcp build/KAS.dll ${KSPDIR}/GameData/KAS/Plugins/\u003Cbr\u003E\u003Cbr\u003Euninstall: info\u003Cbr\u003E\trm -rf ${KSPDIR}/GameData/KAS/Plugins\u003Cbr\u003E\trm -rf ${KSPDIR}/GameData/KAS/Parts\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E.PHONY : all info build package tar.gz zip clean install uninstall\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-06-18T14:16:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Chris_C\u0022 data-cite=\u0022Chris_C\u0022\u003E\u003Cdiv\u003EI adapted the Makefile from MechJeb to work with KAS, I\u0027ll abandon it here in the hope its useful to someone...\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs that the thing that was just reverted? \u003Ca href=\u0022http://jenkins.mumech.com/job/MechJeb2/260/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://jenkins.mumech.com/job/MechJeb2/260/\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Chris_C","CreatedById":58544,"CreatedDateTime":"2014-06-18T15:19:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BigD145\u0022 data-cite=\u0022BigD145\u0022\u003E\u003Cdiv\u003EIs that the thing that was just reverted? \u003Ca href=\u0022http://jenkins.mumech.com/job/MechJeb2/260/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://jenkins.mumech.com/job/MechJeb2/260/\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Emaybe its hard to see if that got dragged into the revert with the other code changes, the only diff is the platform IF statement if you are just using on Linux you can remove the parts for OSX and Windows\u003C/p\u003E\u003Cp\u003EIn both cases the MechJeb Makefile has incorrect paths (they were correct just after I pulled) the Makefile above has correct paths for Linux and has only been tested on Linux - where it works for KAS and no longer has anything to do with MechJeb other than its origin - it will no longer work with MechJeb because of changed various changed paths and also different resource handling\u003C/p\u003E\n"},{"CreatedByName":"BlackSoldierB","CreatedById":103414,"CreatedDateTime":"2014-06-20T18:08:12Z","Content":"\n\u003Cp\u003EIt is possible to make two strut endpoints connect in the VAB/SPH (for easy strut placement?)\u003C/p\u003E\n"},{"CreatedByName":"marce","CreatedById":110351,"CreatedDateTime":"2014-06-20T18:11:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BlackSoldierB\u0022 data-cite=\u0022BlackSoldierB\u0022\u003E\u003Cdiv\u003EIt is possible to make two strut endpoints connect in the VAB/SPH (for easy strut placement?)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t speak for KAS, but this functionality will soon be possible with my mod which does \u003Cstrong\u003Enot \u003C/strong\u003Ehave an EVA focus but allows to do many things with struts (and with \u003Cstrong\u003Estruts only\u003C/strong\u003E).\u003C/p\u003E\u003Cp\u003EIf you are interested to test, write me a PM.\u003C/p\u003E\u003Cp\u003E@Majiir: sorry for hijacking your thread a bit.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-20T18:13:23Z\u0022 title=\u002206/20/2014 06:13  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 20, 2014\u003C/time\u003E by marce\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2014-06-20T22:56:38Z","Content":"\n\u003Cp\u003EHow do I make certain items KAS \u0022grab\u0022-abble in EVA? I have some errant quantum strut guns I don\u0027t want on the exterior of my station rid of.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-06-20T23:01:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022falken\u0022 data-cite=\u0022falken\u0022\u003E\u003Cdiv\u003EHow do I make certain items KAS \u0022grab\u0022-abble in EVA? I have some errant quantum strut guns I don\u0027t want on the exterior of my station rid of.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/71030-Quantum-Struts-Continued-(2014-02-27)-Tweakables-KAS-grab-attach-tech-tree\u0022 rel=\u0022external nofollow\u0022\u003EYou should download QS Continued\u003C/a\u003E. Not only does it include KAS support, but makes them available in the tech tree and enables tweakables.\u003C/p\u003E\u003Cp\u003EEDIT: but to answer your question, a MM config containing:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@PART[blah]\u003Cbr\u003E{\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E       name = KASModuleGrab\u003Cbr\u003E       evaPartPos = (0.0, 0.0, -0.15)\u003Cbr\u003E       evaPartDir = (0,0,-1)\u003Cbr\u003E       storable = true\u003Cbr\u003E       storedSize = 5\u003Cbr\u003E       attachOnPart = True\u003Cbr\u003E       attachOnEva = False\u003Cbr\u003E       attachOnStatic = False\u003Cbr\u003E    }\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs your standard boilerplate KAS grab and store module. Feel free to change values as necessary/required.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-20T23:11:11Z\u0022 title=\u002206/20/2014 11:11  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 20, 2014\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Andrewmacor","CreatedById":82259,"CreatedDateTime":"2014-06-21T14:45:07Z","Content":"\n\u003Cp\u003EYou think it is possible to add a repair option, for like antennas or solar pannels, just like the wheels?\u003C/p\u003E\n"}]}