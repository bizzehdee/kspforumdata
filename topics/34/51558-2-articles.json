{"TopicId":51558,"ForumId":34,"TopicTitle":"[1.0.x (partial)] Atmospheric Sound Enhancement v2.2 (2015-05-05)","CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-02T15:54:59Z","PageNum":2,"Articles":[{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-04T16:32:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bobhendly\u0022 data-cite=\u0022Bobhendly\u0022\u003E\u003Cdiv\u003EThe tools to do this seems to already exist inside the game, The same Aerodynamic FX (The White shockwaves off the plane)Could be Amplified for about 3 seconds!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe in-game effects are locked so that reentry effects always occur above 12,000m and vapour cones below, but I\u0027ll see if I can change that. It would be easier than recreating them myself!\u003C/p\u003E\n"},{"CreatedByName":"BFGfreak","CreatedById":57395,"CreatedDateTime":"2013-11-04T17:10:54Z","Content":"\n\u003Cp\u003EI could have sworn that Deadly Reentry managed to get reentry/vapor cone effects to be related to speed instead of altitude.\u003C/p\u003E\n"},{"CreatedByName":"Kalista","CreatedById":67544,"CreatedDateTime":"2013-11-04T20:23:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BFGfreak\u0022 data-cite=\u0022BFGfreak\u0022\u003E\u003Cdiv\u003EI could have sworn that Deadly Reentry managed to get reentry/vapor cone effects to be related to speed instead of altitude.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt does for the most part my space plane at mach 2.5 @ 18km always has the mach effects on it till the plane starts breaking 500-700c while using DRE and FAR.\u003C/p\u003E\n"},{"CreatedByName":"JumpsterG","CreatedById":63396,"CreatedDateTime":"2013-11-05T19:21:54Z","Content":"\n\u003Cp\u003EWas playing with this mod last night, just hopping around Kerbin in a basic career plane. The sounds are very nice and feel right! Flight is more exciting with this mod. I was experiencing lag when the supersonic sound kicked in, but I see there was an update that probably fixed this already (will try updating tonight).\u003C/p\u003E\u003Cp\u003EThe reliance on the camera angle bothered me a bit, since as I panned around to look at scenery the sound would pop in and out. Any chance there could be an option to have the new sounds play at the right times without all sound being tied to the viewpoint? I understand the effect the mod is going for, but I\u0027d rather just hear the sounds outright without it going quiet when I look around. Either way, still happy with this!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-05T19:26:34Z\u0022 title=\u002211/05/2013 07:26  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 5, 2013\u003C/time\u003E by JumpsterG\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-05T20:57:47Z","Content":"\n\u003Cp\u003EHi, Pizza! Can you update the gear rumble plugin that I suggested and you made some time ago to 0.22 and include it in the pack?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/27749-Plugin-dev-needed!-Gear-runway-rumble-idea\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/27749-Plugin-dev-needed!-Gear-runway-rumble-idea\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-05T21:10:19Z\u0022 title=\u002211/05/2013 09:10  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 5, 2013\u003C/time\u003E by nothke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-05T23:26:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003EHi, Pizza! Can you update the gear rumble plugin that I suggested and you made some time ago to 0.22 and include it in the pack?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d completely forgotten about that! Thanks for the reminder! I\u0027ll add it to the \u003Ca href=\u0022wforum.kerbalspaceprogram.com/threads/55227-Kerbal-Sound-Overhaul-Project\u0022 rel=\u0022external nofollow\u0022\u003Eto-do list\u003C/a\u003E.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JumpsterG\u0022 data-cite=\u0022JumpsterG\u0022\u003E\u003Cdiv\u003EThe reliance on the camera angle bothered me a bit, since as I panned around to look at scenery the sound would pop in and out. Any chance there could be an option to have the new sounds play at the right times without all sound being tied to the viewpoint? I understand the effect the mod is going for, but I\u0027d rather just hear the sounds outright without it going quiet when I look around. Either way, still happy with this!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m planning on adding a configuration file for options in a future release. What kind of effect are you hoping to hear? The sonic boom when passing through transonic, followed by silence when supersonic?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-06T00:07:37Z\u0022 title=\u002211/06/2013 12:07  AM\u0022 data-short=\u002210 yr\u0022\u003ENovember 6, 2013\u003C/time\u003E by pizzaoverhead\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-06T01:26:20Z","Content":"\n\u003Cp\u003EThis is great, especially when it works with FAR. Multiple forms of feedback greatly enhance the experience and make wierd behaviour a lot easier to understand.\u003C/p\u003E\n"},{"CreatedByName":"localSol","CreatedById":61326,"CreatedDateTime":"2013-11-06T01:46:51Z","Content":"\n\u003Cp\u003EFantastic! KSP has a good sound system already and this is just what it needs to utilize it more. I watched the Riding the Booster with enhanced sound video also, really cool! Really excited about whatever FAR integration there might be.\u003C/p\u003E\n"},{"CreatedByName":"JumpsterG","CreatedById":63396,"CreatedDateTime":"2013-11-06T14:11:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pizzaoverhead\u0022 data-cite=\u0022pizzaoverhead\u0022\u003E\u003Cdiv\u003EI\u0027m planning on adding a configuration file for options in a future release. What kind of effect are you hoping to hear? The sonic boom when passing through transonic, followed by silence when supersonic?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, I was only talking about the sonic boom and greater speeds. Everything below supersonic speeds and the fadeout when leaving atmosphere are great just as they are.\u003C/p\u003E\u003Cp\u003EDepending on where my camera was during the transition, I wasn\u0027t sure I caught the full effect of the boom, and afterwards, I\u0027d get the roaring sound alternating with silence as I panned around. Would be nice just to have the boom on transition, followed by muted or silent sounds afterward (regardless of camera position). Maybe having a constant sonic boom sound as you maintain just above supersonic speed, becoming quieter as you transition to higher mach levels (If that\u0027s not already how you do it!).\u003C/p\u003E\u003Cp\u003EDon\u0027t let my suggestions kill your realism features though. I\u0027m sure you worked hard to get the shockwave cone working and it is very cool. Once again, thanks for making, and don\u0027t feel you need to change anything you don\u0027t want to. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"The Fleet Master","CreatedById":78352,"CreatedDateTime":"2013-11-07T22:01:57Z","Content":"\n\u003Cp\u003EOk I like this but is there that bug when you rotate the camera, Is there any way to fix this?\u003C/p\u003E\n"},{"CreatedByName":"Bobhendly","CreatedById":70841,"CreatedDateTime":"2013-11-07T22:08:31Z","Content":"\n\u003Cp\u003EIve Always used FAR And deadly reentry since Ive used mods.. I forgot this unrealistic bit for a while, actually.. Will the FAR Improvements you plan fix the shock cone sounds in the wrong places?\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-08T00:32:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bobhendly\u0022 data-cite=\u0022Bobhendly\u0022\u003E\u003Cdiv\u003EIve Always used FAR And deadly reentry since Ive used mods.. I forgot this unrealistic bit for a while, actually.. Will the FAR Improvements you plan fix the shock cone sounds in the wrong places?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, that\u0027s the main issue at the moment. I\u0027ve been trying to track it down, but I\u0027ve been a bit snowed under this week. I hope to get some time to look at it over the weekend. Lining the sounds up with FAR is looking like just tweaking a few values to match what it uses.\u003C/p\u003E\n"},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2013-11-08T00:57:53Z","Content":"\n\u003Cp\u003EJust wanted to say how great this mod is. Other mods have tried to similar things, but you\u0027ve managed to have sound where you\u0027d here and and where you wouldn\u0027t.\u003C/p\u003E\n"},{"CreatedByName":"velusip","CreatedById":60676,"CreatedDateTime":"2013-11-08T10:26:03Z","Content":"\n\u003Cp\u003EI love good sound in games. Sound mods are encouraged. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI can\u0027t figure out why the sonic boom effect doesn\u0027t always work. Sometimes nothing at all, others the sound will just go quiet outside the cone of awesome, and sometimes I hear the distortion and reverb. Does this conflict with other mods? I\u0027ll have a closer look after some sleep.\u003C/p\u003E\n"},{"CreatedByName":"nater","CreatedById":46739,"CreatedDateTime":"2013-11-08T16:04:20Z","Content":"\n\u003Cp\u003ETried this out for a few days, I like/hate how the sound is related to where your camera is, because you get the effect popping in/out a lot, but it\u0027s nice to hear it from all the different angles. Also there definitely appears to be some FPS drop during transonic flight still. Unfortunately, as this conflicts with FAR, I will be waiting for a compatibility update before I play with this all the time.\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-08T16:11:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nater\u0022 data-cite=\u0022nater\u0022\u003E\u003Cdiv\u003EUnfortunately, as this conflicts with FAR, I will be waiting for a compatibility update before I play with this all the time.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat issues are you seeing with FAR?\u003C/p\u003E\u003Cp\u003ECalculating the sonic boom is a CPU-intensive operation because it\u0027s done via filters. I could look into having the option of a pre-recorded sound effect for low-end machines if it is a serious issue.\u003C/p\u003E\n"},{"CreatedByName":"nater","CreatedById":46739,"CreatedDateTime":"2013-11-09T05:26:24Z","Content":"\n\u003Cp\u003EI have quite a few mods, all work fine, but it could possibly be conflicting with another. But basically, when I have FAR and this mod installed, this mod does absolutely nothing.\u003C/p\u003E\n"},{"CreatedByName":"Pigbear","CreatedById":68791,"CreatedDateTime":"2013-11-09T10:25:01Z","Content":"\n\u003Cp\u003EThe tiny radial engines when you have 16 of them on a landercan and they are at high power they kind of sound like Godzilla.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-09T11:52:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pizzaoverhead\u0022 data-cite=\u0022pizzaoverhead\u0022\u003E\u003Cdiv\u003EYes, that\u0027s the main issue at the moment. I\u0027ve been trying to track it down, but I\u0027ve been a bit snowed under this week. I hope to get some time to look at it over the weekend. Lining the sounds up with FAR is looking like just tweaking a few values to match what it uses.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELining up is one thing, but it the calculations could be shared it would be even better.\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-11-09T19:05:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003ELining up is one thing, but it the calculations could be shared it would be even better.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI did some performance testing, and on average it takes 0.0000004 seconds to perform them. This means there is essentially no speed benefit. It should give a similar output to FAR in the next release however.\u003C/p\u003E\n"},{"CreatedByName":"SZDarkhack","CreatedById":57439,"CreatedDateTime":"2013-11-10T15:53:58Z","Content":"\n\u003Cp\u003ESo, I\u0027ve had some time to work on this today. I implemented the transonic stuff and the shock width variation based on Mach. I have some groundwork laid out for the FAR interface, but it\u0027s not ready yet. Also I did another overhaul of the code so that now most calculations are being done once per frame (instead of once per part). I also fixed some issues with the camera angle calculation, it should be more accurate now. Btw mach is now being calculated in the same way that FAR does it (i.e. ideal gas formula), so it should be more consistent.\u003C/p\u003E\u003Cp\u003ESo, pizzaoverhead, if you\u0027re interested let me know and I\u0027ll post the code.\u003C/p\u003E\n"},{"CreatedByName":"velusip","CreatedById":60676,"CreatedDateTime":"2013-11-10T23:24:30Z","Content":"\n\u003Cp\u003Eaudio parts detection seems to grab all parts. Was that intentional? This could be troublesome with high part counts. I figure it should keep track of part count changes in lieu of game event hooks for vessel change, decoupling, damage/lost parts, but only maintain a list of parts that are making noise.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFlightGlobals.ActiveVessel.parts.FindAll(p =\u0026gt; p.audio != null)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAlso SZDarkhack. We should share code. I added some rough DRP state logic to improve performance and it works quite well, but still working on it.\u003C/p\u003E\n"},{"CreatedByName":"SZDarkhack","CreatedById":57439,"CreatedDateTime":"2013-11-11T03:40:25Z","Content":"\n\u003Cp\u003EThat line of code only grabs parts that have an audio component (notice the lambda passed into FindAll).\u003C/p\u003E\u003Cp\u003EI see that I\u0027m not the only one working on this (other than pizzaoverhead of course), which is great news. Perhaps pizza could put the project on GitHub for easier cooperation? In any case, here\u0027s my \u003Ca href=\u0022http://www./download/dkxq82q69r7lk4t/AtmosphericSoundEnhancement.cs\u0022 rel=\u0022external nofollow\u0022\u003Ecode\u003C/a\u003E. Obviously, if anything is unclear just ask, let\u0027s just say I could have been more thorough with commenting \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E(Disregard the commented out parts, it\u0027s for the FAR integration and it\u0027s not working properly yet)\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2013-11-11T03:50:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022pizzaoverhead\u0022 data-cite=\u0022pizzaoverhead\u0022\u003E\u003Cdiv\u003EI did some performance testing, and on average it takes 0.0000004 seconds to perform them. This means there is essentially no speed benefit. It should give a similar output to FAR in the next release however.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am a bit of a purist \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E But with KSP being unoptimized as it is, every bit of performance gain is welcome.\u003C/p\u003E\u003Cp\u003EThat performance testing is per what? Per frame?\u003C/p\u003E\n"},{"CreatedByName":"velusip","CreatedById":60676,"CreatedDateTime":"2013-11-11T04:18:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SZDarkhack\u0022 data-cite=\u0022SZDarkhack\u0022\u003E\u003Cdiv\u003EThat line of code only grabs parts that have an audio component (notice the lambda passed into FindAll).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrue, but since all parts have that property you just get all vessel parts in that List. Alternatively, seek out only the noisiest parts; engines. Nothing else should be heard over jets/rockets anyway, so I think this is a fair compromise. Unforunately, all my attempts at using a predicate into a List filter failed because Unity uses such an old version of Mono (lacking reflection methods and features). The following works, but it\u0027s super ugly and I\u0027m sure someone could do better.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E//Avoiding fancy reflection in a predicate and whatnot:\u003Cbr\u003Eforeach(Part part in FlightGlobals.ActiveVessel.parts)\u003Cbr\u003E{   \u003Cbr\u003E    IEnumerable\u0026lt;ModuleEngines\u0026gt; enginesList = part.Modules.OfType\u0026lt;ModuleEngines\u0026gt;();\u003Cbr\u003E    if(enginesList.Count() \u0026gt; 0)\u003Cbr\u003E        audioParts.Add(part);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}