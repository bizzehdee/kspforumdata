{"TopicId":116818,"ForumId":34,"TopicTitle":"[1.1.3] Orbital Decay v1.5.2 (17/07/2016) - Total Overhaul","CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-07-25T16:14:41Z","PageNum":2,"Articles":[{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-08-06T00:58:14Z","Content":"Awesome and congrats on the full release. I have been looking forward to this. Great work ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-08-06T02:13:22Z","Content":"Getting log spamemd with this upon adding this on a heavy modded game in progress. The part that looks strange to me is that it is referencing KSP\\_Data ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif) Wasnt anything else relevent in my logs, but I will supply them if you really want them.. This is 64 bit Linux\n\n    File \u0027/home/mcfadds2/KSP/[COLOR=#ff0000]KSP_Data/../[/COLOR]GameData/WhitecatIndustries/OrbitalDecay/VesselData.cfg\u0027 does not exist(Filename: /home/builduser/buildslave/unity/build/artifacts/LinuxStandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)NullReferenceException: Object reference not set to an instance of an object  at WhitecatIndustries.VesselData.LoadData (.Vessel vessel) [0x00000] in :0   at WhitecatIndustries.VesselData.Start () [0x00000] in :0   at WhitecatIndustries.VesselData.FixedUpdate () [0x00000] in :0"},{"CreatedByName":"CaelumEtAstra","CreatedById":109360,"CreatedDateTime":"2015-08-06T02:41:37Z","Content":"Congrats on release, I was getting worried you had abandoned this. Great mod, I\u0027ll be sure to install it as soon as I fix some problems I\u0027ve been having with my game with an uncountable amount of mods."},{"CreatedByName":"Ascraeus","CreatedById":100405,"CreatedDateTime":"2015-08-06T04:54:37Z","Content":"I think this is a new must-have mod for me! and the fact that i rushed to test it the very first day of release can show it.\n\nThank you Whitecat because this adds a lot of lacking depth and gameplay to stations, commsats, scansat and many many other aspects of the game!\n\nThat being said, i just found that repeated over and over in the KSP log:\n\n    [WRN 21:19:59.006] File \u0027C:/Users/JD/ksp/KSP_Data/../GameData/WhitecatIndustries/OrbitalDecay/VesselData.cfg\u0027 does not exist[\n\nCongratulations on release and good luck with development!"},{"CreatedByName":"Borisbee","CreatedById":91794,"CreatedDateTime":"2015-08-06T07:23:58Z","Content":"I also experience errors in the Debug that spam the window. VesselData.cfg does not exist and Null Reference Exception.\n\nI just realized why this is the case. You have a typo in your folder name. You need to rename your folder to WhiteCatIndustries. Right now it\u0027s named WhiteCatIndusties. You\u0027re missing the r.\n\n**Edited \u003Ctime datetime=\u00222015-08-06T07:34:16Z\u0022 title=\u002208/06/2015 07:34  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 6, 2015\u003C/time\u003E by Borisbee**"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-06T10:55:36Z","Content":"Sorry about that everyone! \n\nThat\u0027s what happens when I try and release at 2am... I hate zip files... I think I have renamed the folders correctly now so that the mod will actually load! \n\nIf you have not already renamed the WhitecatIndusties folder to WhitecatIndustries, you can download the latest version from Kerbal Stuff which will change the name for you! I think this will solve the issues I have seen in this thread about the mod not working with a heavily modded save since I have designed it to work when merged with an in progress game (you will just have to switch to each vessel upon the first start up so their information is updated and saved in the VesselData.cfg). \n\nSorry for the trouble! Enjoy ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2015-08-06T16:43:48Z","Content":"I think i found why your mod is acting up:\n\nyour VesselData.cfg doesn\u0027t have this written in it\n\n    Version = 0.0.1Difficulty = Normal\n\nAnd that\u0027s why it\u0027s spewing empty config file errors."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-06T17:14:16Z","Content":"\u003E \n\u003E I think i found why your mod is acting up:\n\u003E your VesselData.cfg doesn\u0027t have this written in it\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     Version = 0.0.1Difficulty = Normal\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And that\u0027s why it\u0027s spewing empty config file errors.\n\nThat would be the case but I think the issue was that the .dll could not actually find the config file due to a typo on my part, however this text isnt relevant since the dev version, the config file only needs a single letter in it to prevent errors so at the moment the release version of the mod contains the letter V in each config file which is automatically rewritten and updated every second to the correct values for each vessel. \n\nI have just downloaded the latest version to check it works and it is fine for me, I will be updating to V1.1.0 soon to provide more RSS support and add some more features. \n\nSo yeah if you are experiencing issues I would update to the latest version 1.0.2 from KerbalStuff.\n\nEnjoy! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"WildBillKerbin","CreatedById":130255,"CreatedDateTime":"2015-08-06T19:03:37Z","Content":"I may be missing something, but I can\u0027t scroll down the list in the Decay Manager. The scroll bar is there, but clicking \u0026 dragging on it has no effect.\n\nAlso, with the Decay Manager window up, my FPS drops from 60\u002B to less than 10."},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-08-06T19:32:35Z","Content":"Yep having an issue scrolling as well and I tried activating station keeping and it says vessel are not able. I am using real fuels, Pparts, and RT. The vessels definitely have hydrazine and a core with connection, so I am not sure where it is failing. I also notice a hit to FPS with the window open though not 60 to 10."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-06T21:02:03Z","Content":"\u003E \n\u003E Yep having an issue scrolling as well and I tried activating station keeping and it says vessel are not able. I am using real fuels, Pparts, and RT. The vessels definitely have hydrazine and a core with connection, so I am not sure where it is failing. I also notice a hit to FPS with the window open though not 60 to 10.\n\nHow many vessels do you have present in the game? I am worrying that it may be an issue with the amount of vessels/processing causing an FPS drop, I will look into it by adding more vessels to see my FPS drop. ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif) Is there anything in the Debug menu that might be causing it? \n\nAhh the scroll bar issue I thought I had fixed but I will look into it asap!\n\n As for vessels saying you cant activate station keeping; it is probably because these vessels do not yet have an entry in the VesselData.cfg, due to limitations with off rails resource handling I have been forced to make it so that station keeping can only become available after the vessel has been switched to at least once since the installation of Orbital Decay, this allows the amounts of Monoprop/Hydrazine to be stored in the config file since this is not accessible for non active vessels. So yes just switch through your vessels quick and everything should update correctly. \n\nI will look into FPS drops right away, Is the drop occurring with the Station Keeping tab or the Decay Estimates tab or both? It may be something updating 60 times a second compared to the planned once per second causing the problem. \n\nThe scroll bar issues is caused by a fixed value in the code rather than a variable value, sadly I havent had much luck getting the Variable container to work but I will look into it tonight!\n\nEDIT : 22:19 GMT \n\nOkay I have narrowed down the problem of FPS to be present only in the Station Keeping tab - Working on it now \n\nI have googled the Scroll bar issue and I am working on a solution now.\n\nEDIT : 22:54 GMT\n\nRight so I have been trying to fix both issues, however in doing so this seems to have surfaced more problems than solutions with the Station Keeping function breaking down entirely for some reason... Work will continue tomorrow ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif)\n\nIn the meantime Station keeping can still be managed for each vessel with the right click option on the command module and this will still be recorded and functioning in the background. If I still cannot find the issue I will temporarily remove the Station Keeping tab. The scroll bar fix still doesnt work; this is a result of how UnityGUI\u0027s are used, although a variable for the scroll position is made it is automatically reset to its default position upon each frame refresh, however C\u002B\u002B does not acknowledge Var\u0027s outside of a Void function. If anyone has any ideas on how this could be worked around please let me know ![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif)\n\n**Edited \u003Ctime datetime=\u00222015-08-06T22:00:57Z\u0022 title=\u002208/06/2015 10:00  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 6, 2015\u003C/time\u003E by Whitecat106**"},{"CreatedByName":"Fyrem","CreatedById":57131,"CreatedDateTime":"2015-08-07T00:05:32Z","Content":"this looks great! \n\nwill be adding it tonight!"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T12:07:14Z","Content":"Okay everyone, I have fixed the slider issue and I am working on the FPS drop (Still unsure what calculation is causing it). However I have discovered a new more worrying issue with the Station Keeping, here is how the system works for background vessels: \n\n- The total volume of RCS resource is reconciled every time the vessel is switched to.\n\n- This information gets stored in the VesselData.cfg \n\n- This data is decreased as it is drained. \n\n- Upon depeletion this value in the config gets set to 0 \n\n- This causes the craft to stop station keeping. \n\n- This \u0027Resource Debt\u0027 is payed off as soon as the vessel is switched to removing the required resource or setting the vessels resource count to 0. \n\nHowever, the issue is in the total volume of RCS count and how KSP\u0027s resource system manages flow modes, a long time ago RCS used to be set to a flow mode of ALL\\_VESSEL which means that resources can pass freely throughout every part without special routing criteria, however now (I believe) this has been set to STAGE\\_PRIORITY\\_FLOW which removes resources from each stage as active rather than from every stage, this causes chaos when Decouplers are involved. \n\n By luck I discovered this when trying to find the FPS drop issue by using a big multi probe of decouplers, probe cores, RCS tanks and RTGs to quickly put more vessels into orbit, as soon as the vessel is launched to the launch pad, fuel in the tanks connected to decouplers is not considered as a connected resource to the root part, as such the total amount as calculated by my station keeping code does not sum to the full amount, thus the resources are removed as my code believes there is a resource debt... I am working on a solution now but this might take some time..."},{"CreatedByName":"SebFierce","CreatedById":78259,"CreatedDateTime":"2015-08-07T14:38:24Z","Content":"Attention/Warning: Feature creep!\n\nCould the basic functionality of this mod be used in a reversed way too? I.e. to expand an orbit over time while the vessel is on rails? That would make realistic electromagnetic engines possible that don\u0027t bore people to death.\n\nAccelerate half the way to a different planet, brake the other half of the way. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T15:53:31Z","Content":"\u003E \n\u003E Attention/Warning: Feature creep!\n\u003E Could the basic functionality of this mod be used in a reversed way too? I.e. to expand an orbit over time while the vessel is on rails? That would make realistic electromagnetic engines possible that don\u0027t bore people to death.\n\u003E \n\u003E Accelerate half the way to a different planet, brake the other half of the way. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nIndeed it could, although at the moment I have no plans to make more alterations (there are enough Whitecat106 posts in the release thread already! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)) but with some changes to my source code it could very well be applied to any situation involving orbit manipulation for background (or active) vessels, this involves Lagrange Points, Solar Sails, N body Orbital Permutations (Orbit increase due to the pull of other bodies (I may dab into this for version 1.5.0 or so..)), or electromagnetic engines!\n\nTake a look at the source code if you\u0027d like, the VesselManager.cs file is the main manipulator and I have tried to make it as simple to follow as possible, once everything is smoothed out here I may contact some mod developers (e.g Interstellar or Near Future) to see if they would be interested in using my code for solar sails/ion engines etc.).\n\nBy the way everyone, I am still hard at work trying to fix this Resource Issue, I would recommend that nobody launches interplanetary probes that rely on decoupler mechanisms who do not want to loose their RCS fuel in tanks connected to decouplers. I will release version 1.0.3 this evening, it will contain the fix for the scroll view and if I find a solution in time, a fix for the station keeping FPS drop and fuel removal."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-08-07T19:17:18Z","Content":"\u003E \n\u003E Indeed it could, although at the moment I have no plans to make more alterations (there are enough Whitecat106 posts in the release thread already! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)) but with some changes to my source code it could very well be applied to any situation involving orbit manipulation for background (or active) vessels, this involves Lagrange Points, Solar Sails, N body Orbital Permutations (Orbit increase due to the pull of other bodies (I may dab into this for version 1.5.0 or so..)), or electromagnetic engines!\n\nAlso see [SolarSailNavigator](https://forum.kerbalspaceprogram.com/threads/119579-WIP-1-0-4-SolarSailNavigator-v1-0-3-alpha)"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2015-08-07T20:34:38Z","Content":"Is this a known bug?: the rcs tanks below certain number of decouplers are empty with this mod when i launch them."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T21:15:35Z","Content":"\u003E \n\u003E Is this a known bug?: the rcs tanks below certain number of decouplers are empty with this mod when i launch them.\n\nYes this is known about, been working for afew hours now to try to fix it but not much luck yet, I am about to release the version 1.0.3 which fixes the Slider in the menus though."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T22:07:01Z","Content":"Hi everyone, \n\nI have updated to 1.0.3 and fixed some resource bugs (Vessels no longer spawn on the launch pad with only 1 unit of RCS, however the decoupler issue is still prevalent), I have also fixed the UI slider. I am still working hard on the previous bugs of FPS and Decoupler issues, If anyone has any suggestions on how to fix decoupler fuel routing please let me know because this is currently derailing the entire station keeping side of the mod. ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif)"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-08-07T22:26:55Z","Content":"My understand of the problem is that since monoprop has flow rules now and may not have crossfeed through all stages your system is counting monoprop that it shouldn\u0027t? Or is it the other way around that your system wasn\u0027t counting what it should?"},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T22:35:10Z","Content":"\u003E \n\u003E My understand of the problem is that since monoprop has flow rules now and may not have crossfeed through all stages your system is counting monoprop that it shouldn\u0027t? Or is it the other way around that your system wasn\u0027t counting what it should?\n\nMy system is assuming that the RCS fuel is less than it actually is; to be precise my system will only sum the quantity of rcs in each tank from the root part up until a decoupler, as a result this lower value is stored in the VesselData.cfg, on another update cycle (per second) the RCS resources contained within the whole vessel are replaced by this VesselData value minus a small amount proportional to the decay rate, thus any RCS resources in decoupler stacks are lost completely. I\u0027m sure the issue must have been managed by TAC life support at some point so I am going to look through some code for inspiration in a moment."},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2015-08-07T23:02:21Z","Content":"Gave it a try but station keeping wouldn\u0027t work. Had a sat with 80 units of MP and RCS thrusters and only a single stage so no chance of a decoupler issue. trying to toggle station keeping by right clicking the command module gave an error of no RCS fuel. Gave some thrusts on the RCS engines manually just to make sure it was all flowing correctly and no problem with RCS working, yet OD does not recognize it as present."},{"CreatedByName":"Whitecat106","CreatedById":140086,"CreatedDateTime":"2015-08-07T23:25:55Z","Content":"\u003E \n\u003E Gave it a try but station keeping wouldn\u0027t work. Had a sat with 80 units of MP and RCS thrusters and only a single stage so no chance of a decoupler issue. trying to toggle station keeping by right clicking the command module gave an error of no RCS fuel. Gave some thrusts on the RCS engines manually just to make sure it was all flowing correctly and no problem with RCS working, yet OD does not recognize it as present.\n\nHmm that is interesting.. It may be a result of some changes I just made in V1.0.3 so resources were not depleted on the pad, landed or splashed, try hyper editing or flying this into orbit and see if the issue persists. \n\nIf that doesn\u0027t fix the issue could you please provide me with more information on your craft? What other parts were present? Was this a stock command pod/ probe core? which parts were between the core and the tank? \n\nThanks, Whitecat"},{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2015-08-07T23:39:17Z","Content":"Nice, no more NRE errors because of the menu.\n\nNow i\u0027m even more excited for the RCS bugfix version."},{"CreatedByName":"JeffreyCor","CreatedById":93167,"CreatedDateTime":"2015-08-08T01:16:33Z","Content":"\u003E \n\u003E Hmm that is interesting.. It may be a result of some changes I just made in V1.0.3 so resources were not depleted on the pad, landed or splashed, try hyper editing or flying this into orbit and see if the issue persists. \n\u003E If that doesn\u0027t fix the issue could you please provide me with more information on your craft? What other parts were present? Was this a stock command pod/ probe core? which parts were between the core and the tank? \n\u003E \n\u003E Thanks, Whitecat\n\nStock core, and the option did come up as it should which I clicked on to maintain orbit. The ship was already in orbit before installing OD. I noticed in the list of ships that the mod creates the RCS fuel was = 1 for every ship regardless if it had MP or how much was on board. No idea if that matters. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) I did also save the log from when the issue was experienced \n\n[https://www.dropbox.com/s/cfdqlh1zgsc3r5k/output_log.txt?dl=0](https://www.dropbox.com/s/cfdqlh1zgsc3r5k/output_log.txt?dl=0)\n\nEDIT: Additional testing has shown if a new vessel is built and launched after OD is installed vessels already existing will be recognized correctly that have MP so that they can enable station keeping.\n\nEDIT2: Slightly different problem, it says station keeping enabled, in the space center it show station keeping in the orbit times list, but after launching another ship it seems they are reset and no longer has station keeping.\n\n**Edited \u003Ctime datetime=\u00222015-08-08T04:00:21Z\u0022 title=\u002208/08/2015 04:00  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 8, 2015\u003C/time\u003E by JeffreyCor**"}]}