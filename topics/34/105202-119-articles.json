{"TopicId":105202,"ForumId":34,"TopicTitle":"[1.12.x] USI Life Support","CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2015-04-27T17:37:19Z","PageNum":119,"Articles":[{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2016-08-21T04:03:43Z","Content":"My guess (without looking at the log file) is that what\u0027s happened is that \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E LS has attached modules to all your existing ships to track things, and now KSP doesn\u0027t know what to do with those modules.  Two options (assuming you want to keep this save), if that\u0027s the case:\n\n- Go through and carefully edit the persistence file to remove the \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS modules.  Dangerous if you make a mistake, but the cleaner option in the long run.\n- Reinstall \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS and disable it.  (By disabling all of it\u0027s effects.)  It\u0027s a bit less clean in that you\u0027re keeping the module around, but it\u0027s safer and easier."},{"CreatedByName":"charliepryor","CreatedById":163624,"CreatedDateTime":"2016-08-21T21:34:12Z","Content":"\u003E \n\u003E \n\u003E 17 hours ago, DStaal said:\n\u003E \n\u003E \n\u003E My guess (without looking at the log file) is that what\u0027s happened is that \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E LS has attached modules to all your existing ships to track things, and now KSP doesn\u0027t know what to do with those modules.  Two options (assuming you want to keep this save), if that\u0027s the case:\n\u003E \n\u003E \n\u003E \n\u003E - Go through and carefully edit the persistence file to remove the \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E-LS modules.  Dangerous if you make a mistake, but the cleaner option in the long run.\n\u003E - Reinstall \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E-LS and disable it.  (By disabling all of it\u0027s effects.)  It\u0027s a bit less clean in that you\u0027re keeping the module around, but it\u0027s safer and easier.\n\u003E \n\nWhen you say \u0022remove the \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS modules\u0022 - exactly what does that entail? I have no idea what I\u0027m doing in there, but I\u0027m familiar enough with editing documents I couldn\u0027t write myself (I edit Wordpress themes regularly with direction, without knowing PHP). What would I be looking for? All instances of Supplies, and Mulch? I never brought any of them with me ever, becuase I didn\u0027t know the mod was installed.\n\nWhat am I looking for to edit?\n\n -- When I add \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E LS back into the game (reinstall), the NREs persist. This might suggest that this mod isn\u0027t causing it... in which case I\u0027m really stumped. The message gives no clue to what is causing the problem. \n\nSpoiler\n\nNullReferenceException: Object reference not set to an instance of an object  \n\n  at Vessel.GetUnloadedVesselMass () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n  at Vessel.GetTotalMass () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n  at Vessel.CalculatePhysicsStats () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0\u003Cbr\u003E\n  at Vessel.FixedUpdate () [0x00000] in \u003Cfilename unknown=\u0022\u0022\u003E:0 \u003Cbr\u003E\n \u003Cbr\u003E\n(Filename:  Line: -1)\n\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E\u003C/filename\u003E"},{"CreatedByName":"cantab","CreatedById":104935,"CreatedDateTime":"2016-08-22T21:55:07Z","Content":"Question, is \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS planned to have a save-breaking update like UKS is?"},{"CreatedByName":"nascarlaser1","CreatedById":166190,"CreatedDateTime":"2016-08-22T23:19:16Z","Content":"Does the current 1.1.3 also work in backward compatibility with 1.1-1.1.1? I have 1 of those two version (don\u0027t know which),I would like not to have uninstall my game to update, yet I really want to try this mod. Also, do I need the other mods in this collection for it to run properly? Or can I just use it with stock?\n\nThanks!\n\n**Edited \u003Ctime datetime=\u00222016-08-22T23:20:15Z\u0022 title=\u002208/22/2016 11:20  PM\u0022 data-short=\u00227 yr\u0022\u003EAugust 22, 2016\u003C/time\u003E by nascarlaser1**"},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2016-08-23T00:42:05Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, nascarlaser1 said:\n\u003E \n\u003E \n\u003E Does the current 1.1.3 also work in backward compatibility with 1.1-1.1.1? I have 1 of those two version (don\u0027t know which),I would like not to have uninstall my game to update, yet I really want to try this mod. Also, do I need the other mods in this collection for it to run properly? Or can I just use it with stock?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks!\n\u003E \n\nIt might, but personally I wouldn\u0027t risk it.  Go to the [releases](https://github.com/BobPalmer/USI-LS/releases) page and scroll down a bit to find an older version - v0.4.2.0 appears to be the most recent that was released specifically for 1.1.x.\n\nThis mod can be used with just stock.  UKS and MKS-Lite have some nice parts to work with it, but aren\u0027t needed.  (There are also quite a few different parts packs that have some level of integration - anywhere from Greenhouses specifically designed for \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS, to adding in a bit of habitation.)"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-08-23T03:21:07Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, cantab said:\n\u003E \n\u003E \n\u003E Question, is \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003E\u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E\u003C/abbr\u003E\u003C/abbr\u003E-LS planned to have a save-breaking update like UKS is?\n\u003E \n\nWell... yes and no ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\nThe parts are changing (rebalance, and new capabilities) but I gave them all new names so old stuff if you choose to keep it, will not break.\n\n**Edited \u003Ctime datetime=\u00222016-08-23T03:22:50Z\u0022 title=\u002208/23/2016 03:22  AM\u0022 data-short=\u00227 yr\u0022\u003EAugust 23, 2016\u003C/time\u003E by RoverDude**"},{"CreatedByName":"LordAssault","CreatedById":162727,"CreatedDateTime":"2016-08-28T15:05:01Z","Content":"\u003E \n\u003E \n\u003E On 27.04.2015 at 8:37 PM, RoverDude said:\n\u003E \n\u003E \n\u003E This is pretty much my interpretation of how, if I were to go buy Kerbal in a store, I would expect a stock-ish life support system to work.\n\u003E \n\nWill this words come true now? ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-08-28T15:23:07Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, LordAssault said:\n\u003E \n\u003E \n\u003E Will this words come true now? ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\u003E \n\n![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) I think the point really was that \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS ties into something Harvester said was a guideline - which was something like \u0022no failure after the few minutes should be unrecoverable\u0022. The point being, even running out of fuel in Eeloo orbit can be saved with a sufficiently insane rescue mission, if you had the inclination to do that.  \n\nA \u0022realistic\u0022 life support system would presumably punish you fatally with running out of supplies, whereas \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS (by default) does not. There\u0027s no coming back from that, and with the distances and timescales involved, this would usually work out as a loss of mission, regardless of how many hours you put into it. You can take exception with that concept (and alter it through mods or configuration files), but that does seem to be the core of many of the decisions in the stock game.  \n\nThe other interpretation is in defining what \u0022stock-like\u0022 means for KSP. I\u0027m usually of the opinion that \u0022stock-like\u0022 means that you still have to deal with all the same problems as in the real world, but perhaps these are abstracted or glossed over. Ion engines are sufficiently low power/high efficiency to get the point across, without requiring you to run your machine continuously for months to make use of them.  \n\nWhat I really appreciate from \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS are the habitation mechanics. Managing supplies are one thing, but ensuring that Kerbals have enough living space for transit forces you to solve a number of real-life problems with designing Duna/Mars architecture, etc."},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-08-28T16:34:54Z","Content":"And you get radiation soon... plus permanent habitation (so Kerbals born on Duna are homesick for Duna...), and ways to expand your habitation timer without building a new ship.  Tho some of these will be reliant on my other mods, the hooks will be there."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-08-28T17:49:37Z","Content":"Including gravity (or centrifuges where appropriate) either into the habitation modifier, or perhaps also LS (there are certainly health benefits vs microgravity) has an added gameplay bonus of providing a rationale for planetary vs station habitation. Free gravity, which is a health and quality of life multiplier."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2016-09-01T16:14:21Z","Content":"How does homesickness work?"},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-09-01T16:18:45Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, String Witch said:\n\u003E \n\u003E \n\u003E How does homesickness work?\n\u003E \n\nKerbals have a clock, based on the best vessel they\u0027ve ever been in, and this can never be restored (only extended by moving into a nicer ship).  \n\nIf you had two Mk1 command pods far enough apart, if you moved a kerbal from one to the other their Hab time would reset to 30 days, but the Home time would remain at 30 days minus current mission elapsed time.  \n\nThe consequences are whatever you set them to be, but they turn into a tourist by default."},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2016-09-01T16:27:21Z","Content":"\u003E \n\u003E \n\u003E 3 minutes ago, Domfluff said:\n\u003E \n\u003E \n\u003E Kerbals have a clock, based on the best vessel they\u0027ve ever been in, and this can never be restored (only extended by moving into a nicer ship).  \n\u003E   \n\u003E \n\u003E If you had two Mk1 command pods far enough apart, if you moved a kerbal from one to the other their Hab time would reset to 30 days, but the Home time would remain at 30 days minus current mission elapsed time.  \n\u003E   \n\u003E \n\u003E The consequences are whatever you set them to be, but they turn into a tourist by default.\n\u003E \n\nOkay, and the comments on the settings suggest increasing hab time is based on having spare unoccupied crew capacity. Right?"},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-09-01T16:30:10Z","Content":"Yup, each seat is 30 days per kerbal, so a four kerbal capsule with two crew = 120 days/2 = 60 days hab time (and home time).  \n\nSome craft (dedicated hab modules, like the stock Hitchhiker pod) also add bonus months on top of that.  \n\nSome parts (dedicated quality-of-life parts, like the stock Cupola module) then add a multiplier on top of *that.*  \n\nAll of the above are visible in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E."},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2016-09-01T16:30:24Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, String Witch said:\n\u003E \n\u003E \n\u003E Okay, and the comments on the settings suggest increasing hab time is based on having spare unoccupied crew capacity. Right?\n\u003E \n\nYep - as a base.  Specific parts can give extra time above that, or multiply the hab time for the entire ship by some increment."},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-09-11T00:58:05Z","Content":"How is US ILS adding/subtracting supplies from ships that are not focused?  I\u0027m trying to do something similar with Civilian Population, but for the life of me, I can\u0027t figure out how you\u0027re doing it.  Going through the API, it looks like the [ProtoPartResourceSnapshots](http://docuwiki-kspapi.rhcloud.com/#/classes/ProtoPartResourceSnapshot) properties are read only while the resourceRef field is not active when the part is not loaded.  I can\u0027t find the appropriate file/section where that is being taken care of in your mod to see how you\u0027re getting around that.\n\nThank you!"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-09-11T01:36:47Z","Content":"It just uses the stock catch-up mechanics"},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-09-11T22:50:56Z","Content":"Thank you for the quick reply.  Now that you mention it, it makes sense that stock ISRU/mining would operate in the same way (why re-invent the wheel if you\u0027re the one who invented it to start with).  But I don\u0027t understand how stock does it, either.\n\nJumping into your code a little more, it looks like the [ModuleLifeSupport class executes a supplyRecipe](https://github.com/BobPalmer/USI-LS/blob/master/Source/USILifeSupport/ModuleLifeSupport.cs#L206) that you [generated inside the class](https://github.com/BobPalmer/USI-LS/blob/master/Source/USILifeSupport/ModuleLifeSupport.cs#L336) (instead of within a part\u0027s .cfg file).  This is presumably why you don\u0027t need to use Part.RequestResource(string resourceName, float demand).  Is that correct?\n\nHowever, I would expect that to only run if the part is on the active vessel; parts (and therefore part modules) are not active for inactive vessels.\n\nMy hunch is that you are using the LifeSupportPersistance class to somehow store data between saves, and manipulating that data (which includes supplies info) while the crafts are unloaded.  Then when the player loads a previously unloaded craft, you have some code somewhere that reconciles the craft\u0027s on-board resources with those in your class.  Would that be right?"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-09-11T23:50:12Z","Content":"I don\u0027t change anything while the craft is unloaded - it all catches up once the vessel is loaded."},{"CreatedByName":"DStaal","CreatedById":155685,"CreatedDateTime":"2016-09-12T01:19:45Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Tralfagar said:\n\u003E \n\u003E \n\u003E Thank you for the quick reply.  Now that you mention it, it makes sense that stock ISRU/mining would operate in the same way (why re-invent the wheel if you\u0027re the one who invented it to start with).  But I don\u0027t understand how stock does it, either.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Jumping into your code a little more, it looks like the [ModuleLifeSupport class executes a supplyRecipe](https://github.com/BobPalmer/USI-LS/blob/master/Source/USILifeSupport/ModuleLifeSupport.cs#L206) that you [generated inside the class](https://github.com/BobPalmer/USI-LS/blob/master/Source/USILifeSupport/ModuleLifeSupport.cs#L336) (instead of within a part\u0027s .cfg file).  This is presumably why you don\u0027t need to use Part.RequestResource(string resourceName, float demand).  Is that correct?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However, I would expect that to only run if the part is on the active vessel; parts (and therefore part modules) are not active for inactive vessels.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My hunch is that you are using the LifeSupportPersistance class to somehow store data between saves, and manipulating that data (which includes supplies info) while the crafts are unloaded.  Then when the player loads a previously unloaded craft, you have some code somewhere that reconciles the craft\u0027s on-board resources with those in your class.  Would that be right?\n\u003E \n\nThe stock mechanic here has been discussed a few times - What it apparently does is once the ship is loaded it works out how long it\u0027s been since the last time the ship was loaded, breaks that into 6-hour chunks, and runs those chunks once every few frames until the ship is back to caught up.   All this is stock, and \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS just piggybacks off of it."},{"CreatedByName":"Tralfagar","CreatedById":150801,"CreatedDateTime":"2016-09-13T03:40:00Z","Content":"[@DStaal](https://forum.kerbalspaceprogram.com/index.php?/profile/155685-dstaal/) Wow all that\u0027s stock?  I\u0027ve been \u0022manually\u0022 editing the resource amounts using Part.RequestResource(string resourceName, float demand).  Do you know which class that is in and/or some keywords/what it\u0027s called so I can look it up?\n\n**Edited \u003Ctime datetime=\u00222016-09-13T03:46:01Z\u0022 title=\u002209/13/2016 03:46  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 13, 2016\u003C/time\u003E by Tralfagar**"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-09-13T08:46:39Z","Content":"Start with BaseConverter and work out from there (ModuleResourceConverter inherits from that)."},{"CreatedByName":"Space Kadet","CreatedById":166557,"CreatedDateTime":"2016-09-20T22:28:13Z","Content":"\u003E \n\u003E \n\u003E On 19 August 2016 at 8:02 AM, Merkov said:\n\u003E \n\u003E \n\u003E When you say \u0022it still says crp is 1.1.2\u0022 do you mean KSP-AVC is telling you it is out of date? Can you confirm you have CRP version 0.5.4? The latest release of CRP is [here](https://github.com/BobPalmer/CommunityResourcePack/releases) and the associated .version file should properly flag it as for KSP 1.1.3.\n\u003E \n\nYeah, ksp avc was telling me its out of date, and says opt is also out of date, but if i removed usi-ls both warnings stopped. Reinstalled and they started again. Really weird"},{"CreatedByName":"Elick320","CreatedById":134447,"CreatedDateTime":"2016-09-30T20:51:23Z","Content":"So I accidentally forgot to have my greenhouse active on my ship during a transfer to Duna, and now my Kerbals are stuck in tourist mode, even after I remembered to turn my greenhouse on. Is this supposed to happen? If so, how do I fix it?"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-09-30T21:31:29Z","Content":"Odds are they are not producing mulch... so you need to send them some supplies."}]}