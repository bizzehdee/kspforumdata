{"TopicId":87222,"ForumId":34,"TopicTitle":"[0.90] DDSLoader 1.9 (Mar 9) - Loads DDS Texture \u0026quot;Boringly fast\u0026quot; edition","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-10-13T21:08:10Z","PageNum":9,"Articles":[{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2014-10-27T01:53:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Beduino\u0022 data-cite=\u0022Beduino\u0022\u003E\u003Cdiv\u003EMaybe a good way to make DDSLoader more popular would be to write a platform independent script using something like python that uses the nvcompress and mbm tool to convert everything to dds.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think in the long term mods should just distribute textures as DDS but in the short term that might be a good idea.\u003C/p\u003E\n"},{"CreatedByName":"Beduino","CreatedById":81326,"CreatedDateTime":"2014-10-27T02:02:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blowfish\u0022 data-cite=\u0022blowfish\u0022\u003E\u003Cdiv\u003EI think in the long term mods should just distribute textures as DDS but in the short term that might be a good idea.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrue that can be done, but what about stock textures, that can be optimized as well and there\u0027s still a need to install DDSLoader since it isn\u0027t native. \u003C/p\u003E\u003Cp\u003EThere\u0027s also the possibility of leaving the modders free to choose whatever image format they are comfortable with and have the script do the not so hard work, which is a better option in my opinion.\u003C/p\u003E\u003Cp\u003EPS: I was checking that mbm2png tool and it seems so simple that it could be ported directly in python code.. \u003C/p\u003E\u003Cp\u003Eheck i\u0027ll probably write the python script myself :/ there i said.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T02:07:08Z\u0022 title=\u002210/27/2014 02:07  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by Beduino\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2014-10-27T11:37:21Z","Content":"\n\u003Cp\u003EI forked DDS converter out of my engine. Here\u0027s the standalone version:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/ducakar/img2dds/releases\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ducakar/img2dds/releases\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt can convert PNGs, JPEGs, TGAs, MBMs etc. to DDS format, supports compression of images with arbitrary dimensions, mipmap generation, and can automatically detect normal maps.\u003C/p\u003E\u003Cp\u003EThe release is compiled for Linux i686, Linux x86-64 and Win32 i686. If you don\u0027t use a very up-to-date Linux distribution, you may need to install newer libstdc\u002B\u002B from GCC 4.9 (it\u0027s probably in \u0022gcc-libs\u0022 package or something like that).\u003C/p\u003E\u003Cp\u003EFor a model texture you should run it as\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eimg2dds -vmcNs texure.png\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E-v: flip vertically\u003C/p\u003E\u003Cp\u003E-m: generate mipmaps\u003C/p\u003E\u003Cp\u003E-c: compress (DXT1 if non-transparent, DXT5 if transparent pixels are detected)\u003C/p\u003E\u003Cp\u003E-N: set normal map flag if a PNG/JPEG/TGA \u0022looks like\u0022 the \u0022blue\u0022 (RGB=XYZ) normal map\u003C/p\u003E\u003Cp\u003E-s: swap channels RGB -\u0026gt; GGGB if a normal map (as detected by -N)\u003C/p\u003E\u003Cp\u003E-N and -s flags are ignored for MBM normal maps. MBM normal map flag is preserved in the final DDS.\u003C/p\u003E\u003Cp\u003EUI textures should be compiled like\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eimg2dds -v texture.png\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eimg2dds -vc texture.png\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eif texture compression doesn\u0027t cause visible artefacts.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T11:41:20Z\u0022 title=\u002210/27/2014 11:41  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by shaw\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-27T14:26:46Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/uy0xfab5av4yiuf/DDS4KSP.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s one for windows.\u003C/a\u003E I don\u0027t release the source yet, because it\u0027s a uncommented mess and I\u0027m still working on it, if you want to take a look at them just PM me.\u003C/p\u003E\u003Cp\u003EIf it crash at opening, you\u0027ll probably need to download \u003Ca href=\u0022http://www.microsoft.com/en-US/download/details.aspx?id=35\u0022 rel=\u0022external nofollow\u0022\u003Esome DX components\u003C/a\u003E. I\u0027ve planned to switch to another library to avoid this, but some DX9 games required this to be installed, so maybe you already have it installed on your computer.\u003C/p\u003E\u003Cp\u003EPlease PM me directly for any feedbacks/suggestions/problems.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T00:53:14Z\u0022 title=\u002210/28/2014 12:53  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003Cbr\u003EUpdated link\n\u003C/span\u003E\n"},{"CreatedByName":"timmers_uk","CreatedById":97413,"CreatedDateTime":"2014-10-27T14:47:26Z","Content":"\n\u003Cp\u003EJust tried @Lilleman \u0027s exe on my dev/test install (was stripped but I haven\u0027t yet stripped it since moving to 0.25), and holy balls the game loads so much faster after conversion! So much so, that I probably won\u0027t bother stripping all the stock parts out of my dev/test install, as the bootup is so buttery smooth and fast compared to standard.\u003C/p\u003E\u003Cp\u003EThanks Muchly, all.\u003C/p\u003E\u003Cp\u003ETimmers\u003C/p\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-10-27T15:46:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lilleman\u0022 data-cite=\u0022Lilleman\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://www.dropbox.com/s/uy0xfab5av4yiuf/DDS4KSP.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s one for windows.\u003C/a\u003E I don\u0027t release the source yet, because it\u0027s a uncommented mess and I\u0027m still working on it, if you want to take a look at them just PM me.\u003Cp\u003EIf it crash at opening, you\u0027ll probably need to download \u003Ca href=\u0022http://www.microsoft.com/en-US/download/details.aspx?id=35\u0022 rel=\u0022external nofollow\u0022\u003Esome DX components\u003C/a\u003E. I\u0027ve planned to switch to another library to avoid this, but some DX9 games required this to be installed, so maybe you already have it installed on your computer.\u003C/p\u003E\u003Cp\u003EPlease PM me for directly feedbacks/suggestions/problems.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo is this dropped into KSP root and it just goes through everything?\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-27T16:03:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BigD145\u0022 data-cite=\u0022BigD145\u0022\u003E\u003Cdiv\u003ESo is this dropped into KSP root and it just goes through everything?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can extract the archive anywhere, then run the program. You can open a single file, or a whole folder (usually, a mod folder or directly the GameData folder if you like to live dangerously). It should detect automatically the best format for conversion, but it will not convert anything by magic: the program can still fail to detect the correct format (or to save in a correct format), and in this case some arguments can be setted in a external file.\u003C/p\u003E\u003Cp\u003EI already put some exceptions for kOS, Toolbar, EVE, and to avoid resizing of flags and agencies logos. (edit: also, reflections textures used by textureReplacer are skipped, because it still can\u0027t convert them properly).\u003C/p\u003E\u003Cp\u003EIt generate a log.txt file to keep track of things, so you can check what happened to your files.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T16:27:05Z\u0022 title=\u002210/27/2014 04:27  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crater","CreatedById":48907,"CreatedDateTime":"2014-10-27T16:30:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Lilleman\u0022 data-cite=\u0022Lilleman\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://www.dropbox.com/s/uy0xfab5av4yiuf/DDS4KSP.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s one for windows.\u003C/a\u003E I don\u0027t release the source yet, because it\u0027s a uncommented mess and I\u0027m still working on it, if you want to take a look at them just PM me.\u003Cp\u003EIf it crash at opening, you\u0027ll probably need to download \u003Ca href=\u0022http://www.microsoft.com/en-US/download/details.aspx?id=35\u0022 rel=\u0022external nofollow\u0022\u003Esome DX components\u003C/a\u003E. I\u0027ve planned to switch to another library to avoid this, but some DX9 games required this to be installed, so maybe you already have it installed on your computer.\u003C/p\u003E\u003Cp\u003EPlease PM me directly for any feedbacks/suggestions/problems.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry, but I have a bug report for you.\u003C/p\u003E\u003Cp\u003EEvery time it hits a .png with the format it decribes as A8L8, it crashes out with an unhandled exception.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESee the end of this message for details on invoking \u003Cbr\u003Ejust-in-time (JIT) debugging instead of this dialog box.\u003Cbr\u003E\u003Cbr\u003E************** Exception Text **************\u003Cbr\u003ESystem.Runtime.InteropServices.ExternalException: A generic error occurred in GDI\u002B.\u003Cbr\u003E   at System.Drawing.Image.Save(Stream stream, ImageCodecInfo encoder, EncoderParameters encoderParams)\u003Cbr\u003E   at System.Drawing.Image.Save(Stream stream, ImageFormat format)\u003Cbr\u003E   at DDS4KSP.IMGManager.gs_flip(GraphicsStream\u0026amp; gs)\u003Cbr\u003E   at DDS4KSP.IMGManager.convertFileToDDS(String srcFilePath, en_OutFormats format, Boolean b_DeleteOnSuccess, Boolean b_Uncompressed, Boolean b_GenerateMipmaps, Double dResizeRatio)\u003Cbr\u003E   at DDS4KSP.FolderLoader.processList(List\u00601\u0026amp; l, Boolean b_Uncompressed, String sFileFormat, Int32\u0026amp; iStep, Int32\u0026amp; FileCount, ProgressBar\u0026amp; PB, Label\u0026amp; lInfos, Double dResizeRatio)\u003Cbr\u003E   at DDS4KSP.FolderLoader.processFileLists(String sFolderPath, ProgressBar\u0026amp; PB, Label\u0026amp; lInfos, Boolean b_Uncompressed, Double dResizeRatio)\u003Cbr\u003E   at DDS4KSP.FRM_main.ExportAllToDDSToolStripMenuItem_Click(Object sender, EventArgs e)\u003Cbr\u003E   at System.Windows.Forms.ToolStripItem.RaiseEvent(Object key, EventArgs e)\u003Cbr\u003E   at System.Windows.Forms.ToolStripMenuItem.OnClick(EventArgs e)\u003Cbr\u003E   at System.Windows.Forms.ToolStripItem.HandleClick(EventArgs e)\u003Cbr\u003E   at System.Windows.Forms.ToolStripItem.HandleMouseUp(MouseEventArgs e)\u003Cbr\u003E   at System.Windows.Forms.ToolStripItem.FireEventInteractive(EventArgs e, ToolStripItemEventType met)\u003Cbr\u003E   at System.Windows.Forms.ToolStripItem.FireEvent(EventArgs e, ToolStripItemEventType met)\u003Cbr\u003E   at System.Windows.Forms.ToolStrip.OnMouseUp(MouseEventArgs mea)\u003Cbr\u003E   at System.Windows.Forms.ToolStripDropDown.OnMouseUp(MouseEventArgs mea)\u003Cbr\u003E   at System.Windows.Forms.Control.WmMouseUp(Message\u0026amp; m, MouseButtons button, Int32 clicks)\u003Cbr\u003E   at System.Windows.Forms.Control.WndProc(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.ScrollableControl.WndProc(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.ToolStrip.WndProc(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.ToolStripDropDown.WndProc(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message\u0026amp; m)\u003Cbr\u003E   at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E************** Loaded Assemblies **************\u003Cbr\u003Emscorlib\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8009 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003EDDS4KSP\u003Cbr\u003E    Assembly Version: 0.0.0.1\u003Cbr\u003E    Win32 Version: 0.0.0.1\u003Cbr\u003E    CodeBase: file:///C:/Dropbox/KSP%20DDS%20Test/GameData/DDS4KSP/DDS4KSP.exe\u003Cbr\u003E----------------------------------------\u003Cbr\u003EMicrosoft.VisualBasic\u003Cbr\u003E    Assembly Version: 8.0.0.0\u003Cbr\u003E    Win32 Version: 8.0.50727.8007 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Microsoft.VisualBasic/8.0.0.0__b03f5f7f11d50a3a/Microsoft.VisualBasic.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8009 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System/2.0.0.0__b77a5c561934e089/System.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Windows.Forms\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8008 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Windows.Forms/2.0.0.0__b77a5c561934e089/System.Windows.Forms.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Drawing\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8007 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Drawing/2.0.0.0__b03f5f7f11d50a3a/System.Drawing.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Runtime.Remoting\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8003 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Runtime.Remoting/2.0.0.0__b77a5c561934e089/System.Runtime.Remoting.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Configuration\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8007 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Configuration/2.0.0.0__b03f5f7f11d50a3a/System.Configuration.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Xml\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8009 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Xml/2.0.0.0__b77a5c561934e089/System.Xml.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003EMicrosoft.DirectX.Direct3D\u003Cbr\u003E    Assembly Version: 1.0.2902.0\u003Cbr\u003E    Win32 Version: 9.05.132.0000\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC/Microsoft.DirectX.Direct3D/1.0.2902.0__31bf3856ad364e35/Microsoft.DirectX.Direct3D.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003EMicrosoft.DirectX\u003Cbr\u003E    Assembly Version: 1.0.2902.0\u003Cbr\u003E    Win32 Version: 5.04.00.2904\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC/Microsoft.DirectX/1.0.2902.0__31bf3856ad364e35/Microsoft.DirectX.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003EAccessibility\u003Cbr\u003E    Assembly Version: 2.0.0.0\u003Cbr\u003E    Win32 Version: 2.0.50727.8007 (FX35W81RTMGDR.050727-8000)\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/Accessibility/2.0.0.0__b03f5f7f11d50a3a/Accessibility.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003ESystem.Core\u003Cbr\u003E    Assembly Version: 3.5.0.0\u003Cbr\u003E    Win32 Version: 3.5.30729.7903 built by: Win9Rel\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC_MSIL/System.Core/3.5.0.0__b77a5c561934e089/System.Core.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003EMicrosoft.DirectX.Direct3DX\u003Cbr\u003E    Assembly Version: 1.0.2902.0\u003Cbr\u003E    Win32 Version: 5.04.00.3900\u003Cbr\u003E    CodeBase: file:///C:/Windows/assembly/GAC/Microsoft.DirectX.Direct3DX/1.0.2902.0__31bf3856ad364e35/Microsoft.DirectX.Direct3DX.dll\u003Cbr\u003E----------------------------------------\u003Cbr\u003E\u003Cbr\u003E************** JIT Debugging **************\u003Cbr\u003ETo enable just-in-time (JIT) debugging, the .config file for this\u003Cbr\u003Eapplication or computer (machine.config) must have the\u003Cbr\u003EjitDebugging value set in the system.windows.forms section.\u003Cbr\u003EThe application must also be compiled with debugging\u003Cbr\u003Eenabled.\u003Cbr\u003E\u003Cbr\u003EFor example:\u003Cbr\u003E\u003Cbr\u003E\u0026lt;configuration\u0026gt;\u003Cbr\u003E    \u0026lt;system.windows.forms jitDebugging=\u0022true\u0022 /\u0026gt;\u003Cbr\u003E\u0026lt;/configuration\u0026gt;\u003Cbr\u003E\u003Cbr\u003EWhen JIT debugging is enabled, any unhandled exception\u003Cbr\u003Ewill be sent to the JIT debugger registered on the computer\u003Cbr\u003Erather than be handled by this dialog box.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe log shows all the successful ones, followed but a sudden stop, for example\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ELOG : Reading C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_M\\model_sabre_250_emissive.png, X8R8G8B8, 1024x1024\u003Cbr\u003ELOG : Converting C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_M\\model_sabre_250_emissive.png to C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_M\\model_sabre_250_emissive.dds\u003Cbr\u003E    Format : Dxt1, normalmap : False, res: 1024x1024\u003Cbr\u003ELOG : Reading C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_Intake\\model_sabre_intake_250.png, A8R8G8B8, 1024x1024\u003Cbr\u003ELOG : Converting C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_Intake\\model_sabre_intake_250.png to C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_Intake\\model_sabre_intake_250.dds\u003Cbr\u003E    Format : Dxt5, normalmap : False, res: 1024x1024\u003Cbr\u003ELOG : Reading C:\\Dropbox\\KSP DDS Test\\GameData\\B9_Aerospace\\Parts\\Engine_SABRE_Body\\model_sabre_body.png, A8L8, 1024x1024\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eand then it\u0027s all over. Program dies, I add the failing texture to the exceptions, and it carries on.\u003C/p\u003E\u003Cp\u003ESo far, I\u0027ve hit these A8L8 textures in B9, USI, MechJeb, Contracts Window, Procedural Wings, Kerbal Alarm Clock... and still processing. There are only tiny numbers of them... 20-30 out of 2500 textures converted so far.\u003C/p\u003E\u003Cp\u003ESystem is Windows 8.1 x64, KSP is 0.25 32 bit, with a LOT of mods.\u003C/p\u003E\u003Cp\u003EEdit : I\u0027m using Open Folder / Export All, with all default settings for conversion\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T16:32:50Z\u0022 title=\u002210/27/2014 04:32  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by Crater\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Telanor","CreatedById":94360,"CreatedDateTime":"2014-10-27T16:48:06Z","Content":"\n\u003Cp\u003EI had to add the following exceptions to get Lilleman\u0027s program to work without crashing:\u003C/p\u003E\u003Cp\u003EUmbraSpaceIndustries\\MKS\\Flags\u003C/p\u003E\u003Cp\u003ETriggerTech\\KerbalAlarmClock\\Textures\\img_Play.png\u003C/p\u003E\u003Cp\u003ESquad\\Parts\\FuelTank\\fuelTankX200-16\\model001.png\u003C/p\u003E\u003Cp\u003EMechJeb2\\Icons\\\u003C/p\u003E\u003Cp\u003EBoulderCo\\Clouds\\Textures\\kerbin1.png\u003C/p\u003E\u003Cp\u003EThe toolbar icon for Kerbal Engineer got corrupted in the conversion process and PartCatalog\u0027s button icons are invisible. I\u0027m also getting non-stop spam in the console of \u0022Couldn\u0027t load error Icon\u0022 with no helpful information at all about the error in the log. Startup times do seem to be significantly better, though I didn\u0027t time it.\u003C/p\u003E\u003Cp\u003EEdit: While replacing KerbalEngineer\u0027s broken texture, I did a comparison of its ToolbarBackground texture and the dds one was significantly lower quality: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/4QXY9LV\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/4QXY9LV.png\u0022 alt=\u00224QXY9LV.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI ran the same texture through nvcompress manually and it matched the png perfectly, so there seems to be a quality issue somewhere.\u003C/p\u003E\u003Cp\u003EEdit2: The console spam is gone after putting PartCatalog\u0027s icons back as pngs\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T17:14:52Z\u0022 title=\u002210/27/2014 05:14  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by Telanor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-27T16:58:43Z","Content":"\n\u003Cp\u003E@Crater: I\u0027ll download these mods and take a look at it asap. I\u0027ll update the link then.\u003C/p\u003E\u003Cp\u003EThanks for the report. You can PM them directly to me, as they\u0027re not related to DDSLoader. I should probably open new thread, I\u0027ll see after some feedbacks.\u003C/p\u003E\u003Cp\u003EI\u0027ll try to fix the A8L8 issue. I know the program has trouble with P8 image format too, you might want to be aware of that (edit: and, after a quick test, also L16...in fact, anything different from 24Bpp or 32Bpp).\u003C/p\u003E\u003Cp\u003EThe fuelTankX200-16 conversion should be working.... I\u0027ll look into this too...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-27T17:09:50Z\u0022 title=\u002210/27/2014 05:09  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 27, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-10-27T17:52:27Z","Content":"\n\u003Cp\u003EJust converting mbmm\u0027s from the Squad folder, with ATM installed, I went from 3.06GB RAM usage mbmm\u0027s on the title screen to 3.2GB with dds\u0027s from Lilleman\u0027s exe using all defaults. I think I\u0027ll stick with mbmm\u0027s as they seem to have a smaller RAM footprint.\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2014-10-27T18:41:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BigD145\u0022 data-cite=\u0022BigD145\u0022\u003E\u003Cdiv\u003EJust converting mbmm\u0027s from the Squad folder, with ATM installed, I went from 3.06GB RAM usage mbmm\u0027s on the title screen to 3.2GB with dds\u0027s from Lilleman\u0027s exe using all defaults. I think I\u0027ll stick with mbmm\u0027s as they seem to have a smaller RAM footprint.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you remember to delete the mbms afterward? If they\u0027re both present then they will both be loaded.\u003C/p\u003E\n"},{"CreatedByName":"BigD145","CreatedById":417,"CreatedDateTime":"2014-10-27T18:57:12Z","Content":"\n\u003Cp\u003EHmm. Lilleman\u0027s utility is supposed to do that by default and I did not check to make sure. Perhaps I\u0027ll try it again and see.\u003C/p\u003E\n"},{"CreatedByName":"juanml82","CreatedById":105344,"CreatedDateTime":"2014-10-27T19:13:43Z","Content":"\n\u003Cp\u003EGreat, that converter seems to work fine. Kerbal Alarm Clock and KER should be added to the exception lists, though - KER\u0027s toolbar icon doesn\u0027t work and while KAC\u0027s blizzy toolbar icon works fine, all the icons inside the KAC window do not.\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-27T19:28:26Z","Content":"\n\u003Cp\u003EFor a folder conversion, the checkbox for deleting files after conversion should be checked by default. But about memory usage, you will see better resuts if you do the other way around: keep mbm and convert TGAs/PNGs (for a vanilla install, there shouldn\u0027t be any problem for converting everything).\u003C/p\u003E\u003Cp\u003EAnd about icons quality: when the program encounter a texture with a resolution (width or height) not equal to a multiple of 4, it try to resize it and transform it into a blurry mess (from the coder POV: I can\u0027t seems to choose the compression method for DXT, only filters, so I\u0027ve got to experiment with other libraries and it might take a while)... I\u0027ll see if I can implement a workaround, but for now I recommend setting the \u0022minimal size for conversion\u0022 to 48*48, so it won\u0027t try to convert most of icons and let them to their original formats.\u003C/p\u003E\u003Cp\u003EI\u0027ve made a quick fix, so it should not crash when it encounter a unknown format and put a error in the log instead. Got some tests to do, but I\u0027ll release it later today.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T11:39:56Z\u0022 title=\u002210/28/2014 11:39  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"slumpie","CreatedById":121922,"CreatedDateTime":"2014-10-28T00:03:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Telanor\u0022 data-cite=\u0022Telanor\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEdit: While replacing KerbalEngineer\u0027s broken texture, I did a comparison of its ToolbarBackground texture and the dds one was significantly lower quality: \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/4QXY9LV.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/4QXY9LV.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI ran the same texture through nvcompress manually and it matched the png perfectly, so there seems to be a quality issue somewhere.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat on the left is a mipmap.\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-28T01:24:26Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/uy0xfab5av4yiuf/DDS4KSP.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EQuick fix available!\u003C/a\u003E (For my converter, not for DDSLoader, of course).\u003C/p\u003E\u003Cp\u003ENew, amazing features:\u003C/p\u003E\u003Cp\u003E-If it fails to load a texture, it will just skip the conversion and put a new entry in the log, instead of crashing. I\u0027m still looking for a way to convert them (all 16Bpp images fail to load).\u003C/p\u003E\u003Cp\u003E-If the resolution is lower than 64(width or height), it will always save the file in an uncompressed format. This should avoid blurry icons.\u003C/p\u003E\u003Cp\u003E...And that\u0027s it for today...\u003C/p\u003E\u003Cp\u003EI also updated the modsExceptions file, to include some new mods I\u0027ve tested:\u003C/p\u003E\u003Cp\u003EKerbalAlarmClock is not working, but I think it\u0027s looking for pngs, \u003Ca href=\u0022https://github.com/TriggerAu/KerbalAlarmClock/blob/7dfa1839d2c098abfaea1679b803567d430dfa9e/KerbalAlarmClock/Resources.cs\u0022 rel=\u0022external nofollow\u0022\u003Edirectly from the code\u003C/a\u003E.(Anyone can confirm if this is the case, or should I look into file formats?)\u003C/p\u003E\u003Cp\u003EB9 can now be processed in a single batch (instead of crashing, yay!), but lots of textures are skipped...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/TQ96RhD.jpg\u0022 rel=\u0022external nofollow\u0022\u003ENo luck \u003C/a\u003E\u003Ca href=\u0022http://i.imgur.com/QQS3fB9.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ewith RealSolarSystem\u003C/a\u003E...\u003C/p\u003E\u003Cp\u003EThough, I got most parts pack converted without errors (KAS, KWRocketry, Novapunch, InfernalsRobotics, TACLifeSupport, Karbonite, and some more).\u003C/p\u003E\u003Cp\u003EAgain, you can PM me directly your error reports and logs if you encounter any problem.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T02:19:11Z\u0022 title=\u002210/28/2014 02:19  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by Lilleman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-28T02:06:54Z","Content":"\n\u003Cp\u003EJust a friendly note: if you\u0027re releasing anything that\u0027s compiled, you do need to supply (at least a link to) source with it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E(-your friendly neighborhood mod who is *very* interested in these developments...)\u003C/p\u003E\n"},{"CreatedByName":"Lilleman","CreatedById":112321,"CreatedDateTime":"2014-10-28T02:32:10Z","Content":"\n\u003Cp\u003EI wanted to wait a while to release the source, since it\u0027s probably one of the messiest code I\u0027ve made and I\u0027m still cleaning it (I\u0027ve just some bugs with the way it handles arguments, I\u0027m rewriting that whole module, lots of old debugging function are still here, etc...)... Please don\u0027t judge me...\u003C/p\u003E\u003Cp\u003ELink updated. Licence is GNU GPL, I guess (\u0022do what you want with, don\u0027t take me for responsible if it fails you\u0022, or something like that).\u003C/p\u003E\n"},{"CreatedByName":"timmers_uk","CreatedById":97413,"CreatedDateTime":"2014-10-28T10:19:04Z","Content":"\n\u003Cp\u003EWould there be anyone able to wrap the functionality of something like lilleman\u0027s converter into a plugin which runs at startup? Whilst its really handy, it\u0027d be even handier if I didn\u0027t have to go back through and remember to re-run a converter program/script every time I muck about with my mods, update etc?\u003C/p\u003E\u003Cp\u003EIf no-one else is in a position to do that (or indeed if I don\u0027t get a \u0027dummy, that\u0027s what ATM does already\u0027 response - I don\u0027t think it does, as my DDSified install loads a lot faster than when running ATM), I could take a look at it, but I\u0027m pretty noobish on plugin development, and really ought to get KeepFit fit for purpose first.\u003C/p\u003E\u003Cp\u003ESimilarly, is it possible for ddsloader to load ddses by precedence when there is both a .dds file and a corresponding .tga/.png/.mbm file? that way ddsifying my install wouldn\u0027t require deletion of all the existing image assets which makes updating more awakward?\u003C/p\u003E\u003Cp\u003EThanks for the work on this.\u003C/p\u003E\u003Cp\u003ETimmers\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T10:19:45Z\u0022 title=\u002210/28/2014 10:19  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by timmers_uk\u003C/strong\u003E\n\u003Cbr\u003Espelling and punctuation and grammar stuff\n\u003C/span\u003E\n"},{"CreatedByName":"slumpie","CreatedById":121922,"CreatedDateTime":"2014-10-28T10:28:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022shaw\u0022 data-cite=\u0022shaw\u0022\u003E\u003Cdiv\u003EI just discovered that DDS supports normal map flag. I noticed GIMP recognises DXT5nm-saved files apart from regular DXT5. It converts DXT5nm files back to RGB=XYZ when opened.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich is incredibly annoying and probably the biggest anti-feature the dds plugin has.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022timmers_uk\u0022 data-cite=\u0022timmers_uk\u0022\u003E\u003Cdiv\u003EWould there be anyone able to wrap the functionality of something like lilleman\u0027s converter into a plugin which runs at startup? Whilst its really handy, it\u0027d be even handier if I didn\u0027t have to go back through and remember to re-run a converter program/script every time I muck about with my mods, update etc?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou mean it should convert and \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Esave\u003C/span\u003E the textures?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T10:41:02Z\u0022 title=\u002210/28/2014 10:41  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by slumpie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"timmers_uk","CreatedById":97413,"CreatedDateTime":"2014-10-28T11:39:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022slumpie\u0022 data-cite=\u0022slumpie\u0022\u003E\u003Cdiv\u003EWhich is incredibly annoying and probably the biggest anti-feature the dds plugin has.\u003Cp\u003EYou mean it should convert and \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Esave\u003C/span\u003E the textures?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOnly those which haven\u0027t already been converted, yes - feel free to point out exactly how I\u0027m a maroon for suggesting it (seriously!), but right now what I\u0027m running separately from the KSP exe converts to DDS, then blows away any textures it finds - as I understand it, if I don\u0027t blow away the pre-DDS textures, then I\u0027ll end up with the worst of both worlds, by having KSP try to load both?\u003C/p\u003E\u003Cp\u003EGiven some of the mods I use update regularly, every time I update I have to remember to re-run the convert \u002B destroy pass.\u003C/p\u003E\u003Cp\u003EClearly its not the end of the world (and I\u0027m also running some comparison boots to quantify exactly how much time I\u0027m really saving here), I\u0027m just trying to work out the most streamlined workflow, especially if I\u0027m getting back into mod dev where one thing that killed my enthusiasm for it was the debug cycle.\u003C/p\u003E\u003Cp\u003ETimmers\u003C/p\u003E\n"},{"CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2014-10-28T12:25:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022slumpie\u0022 data-cite=\u0022slumpie\u0022\u003E\u003Cdiv\u003EWhich is incredibly annoying and probably the biggest anti-feature the dds plugin has.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy? I prevents a bunch of warning messages during loading and I see no downsides in this.\u003C/p\u003E\n"},{"CreatedByName":"shaw","CreatedById":64788,"CreatedDateTime":"2014-10-28T12:32:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022timmers_uk\u0022 data-cite=\u0022timmers_uk\u0022\u003E\u003Cdiv\u003EWould there be anyone able to wrap the functionality of something like lilleman\u0027s converter into a plugin which runs at startup? Whilst its really handy, it\u0027d be even handier if I didn\u0027t have to go back through and remember to re-run a converter program/script every time I muck about with my mods, update etc?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf one wants to make (platform-independent) plugin with such functionality, one needs C# implementation of S3TC/DXTn texture compression algorithm. And that\u0027s nonexistent AFAIK. One could convert an existing C\u002B\u002B library, like squish, to C# but that\u0027s really a lot of work.\u003C/p\u003E\n"},{"CreatedByName":"Sean Mirrsen","CreatedById":3873,"CreatedDateTime":"2014-10-28T12:40:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022shaw\u0022 data-cite=\u0022shaw\u0022\u003E\u003Cdiv\u003EIf one wants to make (platform-independent) plugin with such functionality, one needs C# implementation of S3TC/DXTn texture compression algorithm. And that\u0027s nonexistent AFAIK. One could convert an existing C\u002B\u002B library, like squish, to C# but that\u0027s really a lot of work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELast time I was faced with a problem like that, I just used commandline NVidia Texture Tools. (NVidia Texture Tools 2, to be precise) Works pretty much perfectly.\u003C/p\u003E\u003Cp\u003EI had a program that needed to create a DXT-compressed texture (in XNB format, for an XNA-based game), but I had no luck finding a working compression/decompression algorithm. So instead I just had the program convert images to TGA, and then call the Texture Tools from the command line, then wrote the resulting DDS texture file and wrote the contents into the XNB. It\u0027s quite reliable, if you set it up right.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-28T12:43:39Z\u0022 title=\u002210/28/2014 12:43  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 28, 2014\u003C/time\u003E by Sean Mirrsen\u003C/strong\u003E\n\u003C/span\u003E\n"}]}