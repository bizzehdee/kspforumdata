{"TopicId":109027,"ForumId":34,"TopicTitle":"[1.8\u002B] Custom Barn Kit 1.1.20 (19 October 2019) - Parachute Included","CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-13T11:57:09Z","PageNum":5,"Articles":[{"CreatedByName":"Fluppi","CreatedById":161324,"CreatedDateTime":"2016-04-02T22:05:07Z","Content":"[@gleedadswell](https://forum.kerbalspaceprogram.com/index.php?/profile/96615-gleedadswell/) It seems like CKAN just updated CustomBarnKit to 1.0.5 which is not working with RO/RP-0 at the moment. I fixed it by downgrading CustomBarnKit to 1.0.4 again [https://ksp.sarbian.com/jenkins/job/CustomBarnKit/12/artifact/CustomBarnKit-1.1.4.0.zip](https://ksp.sarbian.com/jenkins/job/CustomBarnKit/12/artifact/CustomBarnKit-1.1.4.0.zip)\n\n**Edited \u003Ctime datetime=\u00222016-04-02T22:05:30Z\u0022 title=\u002204/02/2016 10:05  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 2, 2016\u003C/time\u003E by Fluppi**"},{"CreatedByName":"gleedadswell","CreatedById":96615,"CreatedDateTime":"2016-04-02T22:10:04Z","Content":"\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E I\u0027m playing a RP-0 game and it looks like the last update of CustomBarnKit may have broken things.  All of a sudden rockets which I\u0027ve launched before are exceeding mass/size limits of the launch pad.  The launch pad is at upgrade level 2 and the mass limit is showing up as 140 t (in RP-0 it should be 800 t.).\n\u003E \n\nI reverted to version 1.1.4 of CustomBarnKit and the problem went away.  So it looks like something in version 1.1.5 is not getting along with RP-0."},{"CreatedByName":"talpa","CreatedById":145155,"CreatedDateTime":"2016-04-03T07:14:30Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, gleedadswell said:\n\u003E \n\u003E \n\u003E I reverted to version 1.1.4 of CustomBarnKit and the problem went away.  So it looks like something in version 1.1.5 is not getting along with RP-0.\n\u003E \n\nIndeed... I initially just though that the difficulty had just been increased (to the point where it is would be very difficult for me to get small satellites into orbit due to lack funds for upgrades)"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-04-16T14:02:31Z","Content":"Hmm, a year ago I posted this idea/mod requests of making KSC upgrades more like a tech tree of sorts:\n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/103728-possible-overhaul-to-building-upgrades-in-career-or-maybe-a-mod-idea/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\nWould this mod make that possible?"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-16T22:50:21Z","Content":"This is exactly what this mod does.\n\nHere is build 1.1.6 for KSP 1.1 : [CustomBarnKit-1.1.6.0.zip](https://ksp.sarbian.com/jenkins/job/CustomBarnKit/18/artifact/CustomBarnKit-1.1.6.0.zip)\n\nChanges : \n\n- Now let you configure the number of upgrades of each buildings.\n- Allow to set the visual for each level (using the stock visual for now)\n\nWarning : the config format changed a bit. So you \u003Cu\u003Ewill\u003C/u\u003E have to update your MM patch.\n\n- The EDITOR section got divided in 4 sections, one for each building.\n- unlockedFuelTransfer moved under RESEARCH, where it should have been from the start.\n- upgradesVisual is where you set up the visual for each upgrades. each number is the visual of the orignal upgrade so you should use numbers between 1 and 3.\n\nI do not check the config for consistency. If you configure a building with 5 level then all its config should have 5 values.\n\nEdit : I just noticed the inside of the buildings do not change properly. I ll investigate later.\n\n**Edited \u003Ctime datetime=\u00222016-04-16T22:52:28Z\u0022 title=\u002204/16/2016 10:52  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 16, 2016\u003C/time\u003E by sarbian**"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2016-04-17T02:35:25Z","Content":"[@sarbian](https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/) Just poked around at the default config file to get an idea for it.  It\u0027s *close* to what I\u0027d want to see as a framework for a mod (and at least establishes that said idea is possible), but not entirely there -- it adds additional levels that I can see, but I don\u0027t see any sort of way to do the sort of \u0027branching\u0027 idea I originally had.\n\nThe ultimate end goal a year ago was to have something akin to KSP\u0027s science tree/the talent tree used in MMOs/etc -- where individual parts of a building can be improved independently from each other (but with some \u0022Option X requires both Y and Z\u0022-type things.) -- so you can make smaller incremental upgrades to the things you actually care about rather than upgrading the building as a whole.\n\nMaybe I\u0027ll eventually teach myself C# and poke at the source and dabble... but UI is my weakness in -any- language so I don\u0027t even want to imagine how that\u0027d go.\n\n**Edited \u003Ctime datetime=\u00222016-04-17T02:35:42Z\u0022 title=\u002204/17/2016 02:35  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 17, 2016\u003C/time\u003E by dewin**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-04-19T20:09:27Z","Content":"Official for 1.1 with new feature out. See OP for details\n\n\u003E \n\u003E \n\u003E On 4/17/2016 at 4:35 AM, dewin said:\n\u003E \n\u003E \n\u003E I don\u0027t see any sort of way to do the sort of \u0027branching\u0027 idea I originally had.\n\u003E \n\nI missed that part. Doable but not sure I will."},{"CreatedByName":"Gnoyze","CreatedById":148078,"CreatedDateTime":"2016-04-20T05:41:56Z","Content":"Does anyone have configs for this yet? I have yet to fully grasp what this does, but does it make it possible that I wont go from being able to use 30 parts to building up to 255 parts in one upgrade?"},{"CreatedByName":"jofwu","CreatedById":94705,"CreatedDateTime":"2016-04-29T15:48:13Z","Content":"Anyone if this can be installed mid game? And does it play well with Kerbal Construction Time?\n\nI\u0027m interested in Strategia, which depends on this."},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2016-04-30T02:07:55Z","Content":"\u003E \n\u003E \n\u003E On 4/16/2016 at 6:50 PM, sarbian said:\n\u003E \n\u003E \n\u003E Changes : \n\u003E \n\u003E \n\u003E \n\u003E - Now let you configure the number of upgrades of each buildings.\n\u003E - Allow to set the visual for each level (using the stock visual for now)\n\u003E \n\nwoah totally missed this update! Huge deal - thanks Sarbian!"},{"CreatedByName":"Kiwa","CreatedById":109641,"CreatedDateTime":"2016-05-01T17:04:53Z","Content":"\u003E \n\u003E \n\u003E On 20.4.2016 at 7:41 AM, Gnoyze said:\n\u003E \n\u003E \n\u003E Does anyone have configs for this yet? I have yet to fully grasp what this does, but does it make it possible that I wont go from being able to use 30 parts to building up to 255 parts in one upgrade?\n\u003E \n\nThat should certainly be possible. Maybe this example MM\\_CustomBarnKit.cfg can help get you started, it adds intermediate levels between each stock stage to unlock the action groups separately, and also shows how to change the part count limits:\n\nSpoiler\n\n@CUSTOMBARNKIT:Final\n    {\n        @VAB\n        {\n            @levels = 5\n            @upgradesVisual = 1, 1, 2, 2, 3\n            @upgrades = 56000, 75000, 150000, 235000, 610000\n            @actionGroupsStockUnlock = 2\n            @actionGroupsCustomUnlock = 4\n            @partCountLimit = 30, 45, 255, 400, -1\n        }\n    }"},{"CreatedByName":"Honeybadga","CreatedById":64977,"CreatedDateTime":"2016-05-01T22:11:06Z","Content":"Hey, I just discovered this gem. Exactly what I was looking for.\n\nWould it be possible to split the custom action groups into sections, so that I can for example unlock custom groups 1 through 5 at VAB lvl 2 and 6 through 0 at lvl 3?"},{"CreatedByName":"theonegalen","CreatedById":71012,"CreatedDateTime":"2016-05-03T05:29:40Z","Content":"Hello, I would like to report a bug. When CustomBarnKit and Custom Asteroids are both installed, CustomAsteroids loses functionality and no asteroids are spawned, even on a brand new sandbox save.\n\nReproduction: install CustomBarnKit and Custom Asteroids, including Custom Asteroids\u0027 config files. Start a new sandbox save. Go to the tracking station. TimeWarp forward, and observe that no unknown objects spawn."},{"CreatedByName":"gamerscircle","CreatedById":151261,"CreatedDateTime":"2016-05-03T18:14:39Z","Content":"I have recently started to use the KSP Add-On Version checker and after upgrading to 1.1.2 of KSP, I get a warning that states, that this mod was built to run on KSP 1.1.  \n\nI am assuming that since my game runs and I don\u0027t see any obvious errors, everything is okay?  \n\nI do apologize if you have seen this note before in another thread, as I do have a couple of mods I get the warning on and would just like to make sure that I haven\u0027t missed an update or anything. I mean no harm and am sorry if I have broken any rules.  \n\nThank you for the mod and the support."},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2016-05-03T18:26:53Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, theonegalen said:\n\u003E \n\u003E \n\u003E Hello, I would like to report a bug. When CustomBarnKit and Custom Asteroids are both installed, CustomAsteroids loses functionality and no asteroids are spawned, even on a brand new sandbox save.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Reproduction: install CustomBarnKit and Custom Asteroids, including Custom Asteroids\u0027 config files. Start a new sandbox save. Go to the tracking station. TimeWarp forward, and observe that no unknown objects spawn.\n\u003E \n\nThe root cause is that GameVariables.Instance appears to always be null. Sarbian, is there some alternative API we should be using to check facility levels?"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-03T18:41:15Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, Starstrider42 said:\n\u003E \n\u003E \n\u003E The root cause is that GameVariables.Instance appears to always be null. Sarbian, is there some alternative API we should be using to check facility levels?\n\u003E \n\nUh, what ? The mod would not work at all if it was the case since stock use GameVariables.Instance for all its check. The [first thing](https://github.com/sarbian/CustomBarnKit/blob/master/CustomBarnKit.cs#L18-L19) the mod does is replacing the default instance with the new version. \n\nAre you sure the problem is not that you grab the old instance of GameVariables.Instance ?"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2016-05-03T18:47:52Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, sarbian said:\n\u003E \n\u003E \n\u003E Uh, what ? The mod would not work at all if it was the case since stock use GameVariables.Instance for all its check. The [first thing](https://github.com/sarbian/CustomBarnKit/blob/master/CustomBarnKit.cs#L18-L19) the mod does is replacing the default instance with the new version. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Are you sure the problem is not that you grab the old instance of GameVariables.Instance ?\n\u003E \n\nPretty sure the reference is up-to-date, since I don\u0027t cache it or anything:\n\n    if (GameVariables.Instance == null) {#if DEBUGDebug.Log(\u0022[CustomAsteroids] GameVariables.Instance not found!\u0022);#endif// It probably means the game isn\u0027t properly loaded?return false;\n    }\n\nThis is called periodically as game time advances, so it\u0027s not a first-frame-after-scene-change bug or anything like that."},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-03T19:19:55Z","Content":"Let me rewrite that for you :\n\n    if ((object)GameVariables.Instance == null) {#if DEBUGDebug.Log(\u0022[CustomAsteroids] GameVariables.Instance not found!\u0022);#endif// It probably means the game isn\u0027t properly loaded?return false;\n    }\n\nNow it returns true.\n\nIt s a component and I did not attach it to an object so you get the strange behavior of Unity stupid override of equality. I will attach it to an object in the next version so it will be les convulsed."},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2016-05-03T19:25:59Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, sarbian said:\n\u003E \n\u003E \n\u003E Let me rewrite that for you :\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     if ((object)GameVariables.Instance == null) {#if DEBUGDebug.Log(\u0022[CustomAsteroids] GameVariables.Instance not found!\u0022);#endif// It probably means the game isn\u0027t properly loaded?return false;\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Now it returns true.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It s a component and I did not attach it to an object so you get the strange behavior of Unity stupid override of equality. I will attach it to an object in the next version so it will be les convulsed.\n\u003E \n\n![:huh:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif \u0022:huh:\u0022) I would never have guessed that casting Instance to a generic object would make a difference (heck, C# is the only language I can think of where it \\*could\\* make a difference). Thanks for the help.\n\n[@Thomas P.](https://forum.kerbalspaceprogram.com/index.php?/profile/113164-thomas-p/), I believe the same bug can appear in Kopernicus.\n\n**Edited \u003Ctime datetime=\u00222016-05-03T19:26:38Z\u0022 title=\u002205/03/2016 07:26  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 3, 2016\u003C/time\u003E by Starstrider42**"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2016-05-03T19:37:02Z","Content":"v1.1.8\n\n- Internal change to how the mod is initialized to make life easier for other mods.\n\nDownloads :\n\n[CustomBarnKit-1.1.8.0.zip](https://ksp.sarbian.com/jenkins/job/CustomBarnKit/21/artifact/CustomBarnKit-1.1.8.0.zip)"},{"CreatedByName":"MisterFister","CreatedById":85686,"CreatedDateTime":"2016-05-03T21:34:16Z","Content":"I tried reading the OP to gain a better understanding of what this mod does, but I\u0027m still rather unclear.  I glanced through a few of the pages of this thread at random, no help.  Is there a specific post that explains what this mod does?"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2016-05-03T22:33:45Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, MisterFister said:\n\u003E \n\u003E \n\u003E I tried reading the OP to gain a better understanding of what this mod does, but I\u0027m still rather unclear.  I glanced through a few of the pages of this thread at random, no help.  Is there a specific post that explains what this mod does?\n\u003E \n\nMostly, it lets you (or some other mod) configure the building upgrade progression to your liking. If you know how to make a Module Manager Config, you will be able to use this easily. If you don\u0027t, there are lots of examples for how to use that.\n\nI use this because I\u0027ve never liked the huge jumps of part limits at the VAB and SPH in the stock progression so I\u0027ve set 5 building tiers with more gradual limit increases. I also think the level 1 runway is annoying so I make it very cheap to upgrade.\n\nBtw, thank you Sarbian for making this!\n\n**Edited \u003Ctime datetime=\u00222016-05-03T22:46:22Z\u0022 title=\u002205/03/2016 10:46  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 3, 2016\u003C/time\u003E by Nightside**\n  \nsay thanks"},{"CreatedByName":"Honeybadga","CreatedById":64977,"CreatedDateTime":"2016-05-03T23:19:30Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, MisterFister said:\n\u003E \n\u003E \n\u003E I tried reading the OP to gain a better understanding of what this mod does, but I\u0027m still rather unclear.  I glanced through a few of the pages of this thread at random, no help.  Is there a specific post that explains what this mod does?\n\u003E \n\nI dislike how in career mode action groups become available only after spending hundreds of thousands of Kredits for upgrading the VAB and SPH. So, I made a very simple MM config to change that, only to give you a small example:\n\nSpoiler\n\n@CUSTOMBARNKIT:Final\n    {\n        @VAB\n        {\n            @actionGroupsStockUnlock = 1\n            @actionGroupsCustomUnlock = 2\n        }\n    \n        @SPH\n        {\n            @actionGroupsStockUnlock = 1\n            @actionGroupsCustomUnlock = 2\n        }\n    }\n\nThis config makes the basic action groups available at VAB/SPH level 1 and the custom ones at level 2 respectively. Even though I\u0027m a noob when it comes to Module Manager, this works for me. Suggestions for improvement are welcome ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Venusgate","CreatedById":125730,"CreatedDateTime":"2016-05-04T16:16:22Z","Content":"DL link dead?"},{"CreatedByName":"Hairy Al","CreatedById":112019,"CreatedDateTime":"2016-05-11T23:00:00Z","Content":"\u003E \n\u003E \n\u003E On 04/05/2016 at 5:16 PM, Venusgate said:\n\u003E \n\u003E \n\u003E DL link dead?\n\u003E \n\nWorked fine for me"}]}