{"TopicId":67235,"ForumId":34,"TopicTitle":"[1.2.2](Dec10/16) Action Groups Extended: 250 Action Groups, in-flight editing. Now kOS/RemoteTech","CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-03-30T15:52:01Z","PageNum":24,"Articles":[{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-22T23:50:56Z","Content":"\n\u003Cp\u003EAlright, I\u0027ve posted version 1.23a, linked in the previous post, to add the Toggle Monitoring support for my new Actions Everywhere mod.\u003C/p\u003E\u003Cp\u003EI\u0027ve also gotten started on the youtube videos,\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/La88MijR6pQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EUnfortunately I was unable to find a microphone and had to use the subtitles so I\u0027m hoping I got it right. The video is only 90 seconds long and I would appreciate any feedback.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-23T09:43:29Z","Content":"\n\u003Cp\u003ESo, when building a spaceplane, I added a RealChutes Radial Chute and configured it to be a drag chute. I then added an action for Cut Chute. I now see this in the log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAGX actsToCompare.count != 1 0 Part: RC.radial_4292892696 Module: RealChuteModule ActionCut\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-23T15:27:34Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 1.23b\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E-Fix RealChute AGX Ambiguous action.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7bUWdKRGJzSU1pZ28/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EDownload here.\u003C/a\u003E URL link is .dll file only, you need to install version 1.23 .zip file first.\u003C/p\u003E\u003Cp\u003E@Einarr: Thank you for the report, here is the version that fixes that error. It is only the .dll file but I expect to release a full .zip version later today after I do some more work on the mod.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-23T16:56:05Z\u0022 title=\u002211/23/2014 04:56  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 23, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-24T02:55:01Z","Content":"\n\u003Cp\u003EHmm, having an issue toggling any engine now...wonder if it\u0027s a conflict with some of the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/97285-0-25-Stock-Bug-Fix-Modules-%28Release-v0-1-5a-22-Nov-14%29\u0022 rel=\u0022external nofollow\u0022\u003EStock Fixes\u003C/a\u003E plugins...\u003C/p\u003E\u003Cp\u003EEdit: I\u0027ve removed the suspected plugins. No effect. I\u0027m going to revert to an older version of AGX to see if it\u0027s AGX.\u003C/p\u003E\u003Cp\u003EEdit 2: Reverting to 1.23a resolved the issue. So something you did for 1.23b caused Toggle Engine for all engines I\u0027ve tested (including stock ones) to stop working.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-24T03:40:25Z\u0022 title=\u002211/24/2014 03:40  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 24, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-24T04:10:57Z","Content":"\n\u003Cp\u003EWeird, I can not replicate i.t However, I\u0027m testing on my dev environment with only my mods and blizzy\u0027s toolbar installed.\u003C/p\u003E\u003Cp\u003EFor comparison, my test vessel was a simple 6 part vessel with command pod, 2 fuel tanks, the engine on the bottom and 2 clamp arms to keep me on the pad.\u003C/p\u003E\u003Cp\u003EThere are only 3 things I can think of to check however:\u003C/p\u003E\u003Cp\u003E1) Any error messages in the log?\u003C/p\u003E\u003Cp\u003E2) If you enable the toggle monitoring, does it swap between red and green when you click the action?\u003C/p\u003E\u003Cp\u003E3) Does the engine work otherwise? IE: With staging the engine turns on?\u003C/p\u003E\u003Cp\u003EI need more information at this point to try and track down what is going on as my current best guess is a conflict with another mod.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-24T05:05:15Z\u0022 title=\u002211/24/2014 05:05  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 24, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-24T09:07:21Z","Content":"\n\u003Cp\u003E1. Didn\u0027t see any, but I can check again when I have a vessel again.\u003C/p\u003E\u003Cp\u003E2. I\u0027ll have to check.\u003C/p\u003E\u003Cp\u003E3. Staging works normally, as does the right click action buttons.\u003C/p\u003E\u003Cp\u003EI\u0027ll probably end up making a test craft. Most recently I\u0027ve seen the issue with the B9 SABREs, and the Thermal Nozzle from KSPI. As I said though, reverting to the \u0027a\u0027 version resolved the issue.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-24T15:52:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Einarr\u0022 data-cite=\u0022Einarr\u0022\u003E\u003Cdiv\u003EI\u0027ll probably end up making a test craft. Most recently I\u0027ve seen the issue with the B9 SABREs, and the Thermal Nozzle from KSPI. As I said though, reverting to the \u0027a\u0027 version resolved the issue.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhich is what is really stumping me. The only difference between 1.23a and 1.23b is I added the toggle monitoring for 3 more part modules, none of which had anything to do with engines and looking through my code I can\u0027t see any possible causes between those two versions.\u003C/p\u003E\u003Cp\u003EThe bit of data I am really interested in is the Toggle state and what the text color does when you click it. Note that one possible outcome is that when the Group that has the Toggle Engine action in it is red (engine off) and you click the button it flashes green for half a second and reverts to red. \u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-24T19:51:37Z","Content":"\n\u003Cp\u003EHaven\u0027t fired up KSP yet today, and I have some stuff to deal with first. However, When I was experiencing the problem I\u0027d hear the audio associated with turning the engine on/off, but the engine state would not actually change. I\u0027ll have more data later.\u003C/p\u003E\u003Cp\u003EAdditionally, I\u0027m often found on the official KSP IRC channel.\u003C/p\u003E\u003Cp\u003EEdit: After resolving another issue I was having where I\u0027d end up in NullSpace if I tried launching a vessel, I no longer seem to be having the issue I was describing...at least with the small SABRE on the launchpad...more testing is required for the Thermal Nozzles.\u003C/p\u003E\u003Cp\u003EEdit 2: The Thermal Nozzles are now also working correctly...at least on the launchpad...\u003C/p\u003E\u003Cp\u003EI was having issues with Tweakscale, including some otherwise stock landing struts (the LT-2s) scaled to 140% having their mass change when an on orbit vessel was loaded. The mass change was a massive increase to what was reported in the VAB, caused the vessel to violently shake until one or more of the offending struts broke off. I ended up having to use Whack-A-Kerbal to remove the last one. Tweakscale was also responsible for me not being able to launch new vessels, sending me to NullSpace instead (no Kerbin, launchpad, runway, vessel, tonnes of NRE spam in the log, etc).\u003C/p\u003E\u003Cp\u003EOther people use Tweakscale and have little or no issues, but for whatever reason, I can\u0027t use it. Perhaps something to add to a list inc ase others have similar issues and aren\u0027t posting about it.\u003C/p\u003E\u003Cp\u003EEdit 3: Seems I was mistaken, at least about the small SABREs. Got a mostly B9 spaceplane of mine on the runway, and pressing the keyboard button (Alpha1, for group 1) results in the audio I was referring to earlier, but the state is not actually toggled (the group stays Red). Actually clicking the button, or the switch in the B9 cockpit does properly toggle the group. Gonna check the log now.\u003C/p\u003E\u003Cp\u003EEdit 4: Nothing from AGX in the log file once flight is loaded seems to be out of the ordinary.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-24T23:54:51Z\u0022 title=\u002211/24/2014 11:54  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 24, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-25T00:49:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Einarr\u0022 data-cite=\u0022Einarr\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EEdit 3: Seems I was mistaken, at least about the small SABREs. Got a mostly B9 spaceplane of mine on the runway, and pressing the keyboard button (Alpha1, for group 1) results in the audio I was referring to earlier, but the state is not actually toggled (the group stays Red). Actually clicking the button, or the switch in the B9 cockpit does properly toggle the group. Gonna check the log now.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis sounds like the lockout on the default groups is failing, so when you press 1, AGX toggles the engine on, then because there is no lockout, KSP also gets the 1 and also activates the action group a second time. This immediately turns the engine back off as it is a toggle action in question.\u003C/p\u003E\u003Cp\u003EYou can check if the lockout is in place by pressing ALt-F12 then checking that under the \u0022Input Lock Stack\u0022 that \u0022AGExtControlLock\u0022 is in effect. \u003C/p\u003E\u003Cp\u003EI do provide a method to disable the control lock, if you open the GameData\\Diazo\\AGExt\\AGExt.cfg file, what is the LockOutKSPManager set to? If it is set to 1 then AGX is trying to lock and failing, this is a bug I\u0027ll have to check. If set to 0 (zero), that means the lock is overridden and AGX will not try to lock out the controls.\u003C/p\u003E\u003Cp\u003EIf there is no AGExtControlLock in the Alt-F12 input stack and LockOutKSPManager is set to 1 in the .cfg file, that is an issue I will have to look into. If this is the case, the workaround is to unbind one of the keys. I would prefer that you unbound the keys from KSP\u0027s settings screen, but you can unbind them in AGX and use KSP defaults to activate groups 1 through 10.\u003C/p\u003E\u003Cp\u003EAssuming the issue is what I\u0027m thinking it is anyway. The test would be to bind the Activate Engine action instead. Two \u0022activate this engine\u0022 commands leave you with a running engine, where two \u0022toggle this engine\u0022 commands turn the engine on then right back off.\u003C/p\u003E\u003Cp\u003EHopefully this works things out, let me know how it goes.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-25T01:40:51Z","Content":"\n\u003Cp\u003EI\u0027m in the middle of a complete KSP and mod set reinstall/configure. My response may take a bit.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Diazo\u0022 data-cite=\u0022Diazo\u0022\u003E\u003Cdiv\u003EI do provide a method to disable the control lock, if you open the GameData\\Diazo\\AGExt\\AGExt.cfg file, what is the LockOutKSPManager set to? If it is set to 1 then AGX is trying to lock and failing, this is a bug I\u0027ll have to check. If set to 0 (zero), that means the lock is overridden and AGX will not try to lock out the controls.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis value is set to 1.\u003C/p\u003E\u003Cp\u003EAnd for the moment I can\u0027t reproduce it, even with the same craft I\u0027d had the issue with. *shrug*\u003C/p\u003E\u003Cp\u003EIf it rears it\u0027s ugly head again, I\u0027ll post again.\u003C/p\u003E\u003Cp\u003EEdit: About that ugly head...I think it may have something to do with KSPI\u0027s radiator code. They are supposed to glow brighter as they get hot. I have a couple of the small radial ones mounted to keep from overheating with the solar panels. However, I\u0027ve noted an excessive amount of log spam associated with the code that changes the emissive for the glow. I now have a green group with the engines not active after using the keyboard. Additionally, I can\u0027t simply bring up the Alt-F2 window in the usual way anymore. I think KSP is being overloaded by the log spam.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-25T02:34:17Z\u0022 title=\u002211/25/2014 02:34  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 25, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-25T02:45:03Z","Content":"\n\u003Cp\u003EInteresting.\u003C/p\u003E\u003Cp\u003EFor reference, the color (red/green) of actions on engines is checking the \u0027isOperational\u0027 parameter in code. All a green means is the engine is on and trying to produce thrust. If the engine is not producing thrust for some reason, such as lack of a resource, it will still show the engine as green as the engine is trying to produce thrust, it is just failing for some reason.\u003C/p\u003E\u003Cp\u003EIf the engine is showing red in the flight window of AGX, that means the engine is off and will not produce thrust under any circumstance.\u003C/p\u003E\u003Cp\u003EAt least under normal operating conditions, if you are right about KSP being overloaded with log spam, who knows what exactly is going on.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-25T03:12:19Z","Content":"\n\u003Cp\u003EIt being related to KSPI\u0027s radiators would also explain why I only had the issue on crafts utilizing them.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-27T08:44:57Z","Content":"\n\u003Cp\u003ESo after removing the solar panels and all radiators from the spaceplane I first noticed the issue on, the Issue remains. This time, I managed to record it with Fraps, with the ingame log console open.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/Ud0CaF2-V6M?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EEssentially all I\u0027m doing in the video is demonstrating that the Issue occurs when I use the keyboard, but not when I click the button. I also don\u0027t have it when I click the switch inside the B9 cockpit, though I forgot to record it. The log console shows an audio warning, but that showed up after I enabled audio capture in Fraps. It should be unrelated as I\u0027ve never seen it before.\u003C/p\u003E\u003Cp\u003EEdit: This is no longer limited to the Toggle Engine action. For a single keypress, it it activating the actions assigned to the group twice, as demonstrated in this new video.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/yAjHJWKM2ac?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EI didn\u0027t have the log console up this time for the video, but it doesn\u0027t matter as nothing shows up in the log anyway, as demonstrated by the first video.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-27T09:30:36Z\u0022 title=\u002211/27/2014 09:30  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 27, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-27T16:18:47Z","Content":"\n\u003Cp\u003EOkay, that is very helpful.\u003C/p\u003E\u003Cp\u003EI can\u0027t sit down to analyze until I get home from work but that is pretty clear what is going on.\u003C/p\u003E\u003Cp\u003EFirst, as you were able to show it happening on group 11 (and 12?) in the second video, the Input Lock is a red herring. That could only be the cause on groups 1 through 10.\u003C/p\u003E\u003Cp\u003ETherefore the most likely culprit is the new modifier keys code has a logic hole somewhere that I missed something. The only point of confusion with that is that I added that in version 1.23, not version 1.23a, so reverting from 1.23b to 1.23a would not fix the issue. Except that if this is intermittent, maybe it just did not happen when you reverted to 1.23a even though 1.23a has the potential to exhibit this behavior.\u003C/p\u003E\u003Cp\u003EMy only other question would be that this is not the first flight of the game session correct? You mentioned pulling parts off so I assume you were going back and forth to the SPH. If so, this opens up the possibility something is not resetting correctly and it is still trying to use the settings from the previous flight.\u003C/p\u003E\u003Cp\u003EAlso, so I can set up my system the same, what key was your Modifier 1 key?\u003C/p\u003E\u003Cp\u003EI\u0027ll see what I can do when I get home,\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-27T19:04:17Z","Content":"\n\u003Cp\u003EI use RAlt and RControl for Mod 1 and 2 respectively. Those videos were shots after a complete restart of KSP and were the first flight. I had previously played around with parts as noted at the top of that post, but exited KSP to ensure the behavior I was seeing was not caused by KSP or various plugins not resetting things correctly.\u003C/p\u003E\u003Cp\u003EAlso, vBulletin sucks... *glares at an expired token*\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-28T04:47:19Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003EVersion 1.23c\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.23c\u0022 rel=\u0022external nofollow\u0022\u003EDownload here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E-Fix ModuleEngines and ModuleEnginesFX to use .isIgnited instead of .getOperational\u003C/p\u003E\u003Cp\u003E@Einarr: Thank you for those youtube videos. I was able to track down what is happening with those and replicate part of the problem.\u003C/p\u003E\u003Cp\u003EAs it turns out, it looks like Squad added a new variable .getIgnited, and changed how the .getOperational variable operates. This makes my post from last page wrong where I said .getOperational is true when the engine is on even if it is out of fuel. \u003C/p\u003E\u003Cp\u003ECurrently, .getOperational is only true when the engine is actually producing thrust. Having switched ModuleEngine and ModuleEnginesFX over to using .isIgnited which in fact stays true whenever the engine is turned on, the problem should be fixed.\u003C/p\u003E\u003Cp\u003EThis does not fully explain why activating by a key gave this behavior and clicking did not, but I speculate that it was because where I tied into the code. The keypress happens inside the Update code where the updates to the vessel state happen, while clicking on the action group the action happen in the GUI code that controls what displays on screen.\u003C/p\u003E\u003Cp\u003EThis does not explain the problem with the flaps action activating twice though, I am still looking into that. It is possible this means the engines still have issues as well but I\u0027ll see once I figure out why the flaps are wonky.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-28T04:57:20Z\u0022 title=\u002211/28/2014 04:57  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 28, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-28T07:07:13Z","Content":"\n\u003Cp\u003EAlso, yes, it was affecting both groups assigned to flaps related actions. Group 11 was assigned to RAlt \u002B 1, Group 12 was assigned to RAlt \u002B2.\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-29T02:20:07Z","Content":"\n\u003Cp\u003EOkay, I was not able to replicate the flaps error. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo, I have enabled detailed logging on Version 1.24d.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/file/d/0B6-5UOjSWq7beUo1T0lZZmFEVDg/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EDownload here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThere is no functional difference between this and 1.23c, only the expanded logging.\u003C/p\u003E\u003Cp\u003ENow, when you activate an action on the keyboard it will print two messages to the log:\u003C/p\u003E\u003Cp\u003EAGX Key check for some reason 1 -\u0026gt; This means that a key assigned to a group (group 1 in this case) was pressed. Note that this step ignores modifier keys, so any group that activates on Alpha1 will show.\u003C/p\u003E\u003Cp\u003EAGX Key activate for some reason 1 -\u0026gt; This means that a key assigned to a group (group 1 in this case) was pressed. Note that this applies the modifier keys and a group that displays this will be passed to the activate actions code.\u003C/p\u003E\u003Cp\u003EAnd any time an action is activated, whether by mouse or keyboard, for each action this will show:\u003C/p\u003E\u003Cp\u003EAGX action activate FIRE! Toggle Engine -\u0026gt; This means that the Toggle Engine action was fired in the activate direction. This will appear once per action, so activating a group with 4 actions should print 4 of these lines to the log. \u003C/p\u003E\u003Cp\u003EIf you can see what this does I would really appreciate it. I\u0027ve setup my system the same as your youtube videos and the Flaps behave as expected for me so I\u0027m hoping this will tell me what is going on.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-29T05:34:02Z","Content":"\n\u003Cp\u003EWould you like me to take a screenie of my GameData folder so you can see all the mods I\u0027m cramming in?\u003C/p\u003E\u003Cp\u003EEdit: You asked for log entries, so here\u0027s a few, and erm, no, the Toggle Engine issue has not been squashed.\u003C/p\u003E\u003Cp\u003EAnyway, I deployed a sat into Polar orbit of Kerbin for a contract, and when I went to use the keyboard to shut the engines down (Group 1), I had some of your new logging things come up. Be advised I did hit the key multiple times, so the log is showing all of it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[LOG 03:03:58.594] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:58.595] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:58.596] AGX action activate FIRE!Toggle Engine\u003Cbr\u003E[LOG 03:03:58.598] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:58.599] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:58.600] AGX action deactivate FIRE! Toggle Engine\u003Cbr\u003E[LOG 03:03:59.110] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:59.111] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:59.112] AGX action activate FIRE!Toggle Engine\u003Cbr\u003E[LOG 03:03:59.114] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:59.115] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:59.116] AGX action deactivate FIRE! Toggle Engine\u003Cbr\u003E[LOG 03:03:59.827] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:59.829] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:59.830] AGX action activate FIRE!Toggle Engine\u003Cbr\u003E[LOG 03:03:59.831] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:03:59.832] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:03:59.833] AGX action deactivate FIRE! Toggle Engine\u003Cbr\u003E[LOG 03:04:14.314] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:04:14.315] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:04:14.316] AGX action activate FIRE!Toggle Engine\u003Cbr\u003E[LOG 03:04:14.317] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:04:14.318] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:04:14.320] AGX action deactivate FIRE! Toggle Engine\u003Cbr\u003E[LOG 03:04:16.658] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:04:16.659] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:04:16.660] AGX action activate FIRE!Toggle Engine\u003Cbr\u003E[LOG 03:04:16.661] AGX Key check for some reason 1\u003Cbr\u003E[LOG 03:04:16.663] AGX Key activate for some reason 1\u003Cbr\u003E[LOG 03:04:16.664] AGX action deactivate FIRE! Toggle Engine\u003Cbr\u003E[LOG 03:06:01.809] AGX Key check for some reason 1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-29T11:12:47Z\u0022 title=\u002211/29/2014 11:12  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 29, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-29T14:54:40Z","Content":"\n\u003Cp\u003EI was afraid of that.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E[LOG 03:03:58.594] AGX Key check for some reason 1\u003Cp\u003E[LOG 03:03:58.595] AGX Key activate for some reason 1\u003C/p\u003E\u003Cp\u003E[LOG 03:03:58.596] AGX action activate FIRE!Toggle Engine\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooking at the log, this is showing AGX behaving correctly and that there is only a single activation of the action per keypress. (I\u0027ve cut the log down and am showing just a single keypress.)\u003C/p\u003E\u003Cp\u003EMy only concern would be the speed of the keypresses. Can you remember the speed you pressed the 1 key? The log is showing only 4 thousands of a second between the first two keypresses. (.594 to .598)\u003C/p\u003E\u003Cp\u003EThe time between the second and third is just over one tenth of a second (58.598 to 59.110), but that\u0027s only if you were mashing the key as fast as you possibly could.\u003C/p\u003E\u003Cp\u003EI\u0027ll look into it and see if the detection of the keydown is the issue, but I\u0027m pretty much taking what KSP passes to me and there is not much I can deal with. I may simply have to add a timer that an action group can not activate again until half a second has passed or something.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\u003Cp\u003Eedit: Pretty sure that is the issue. Just ran a test mashing the 1 key as fast as I physically could and it was one tenth of a second (100 ms) between presses. No way are you pushing the key twice with only four thousands of a second (4 ms) between them.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-29T15:07:08Z\u0022 title=\u002211/29/2014 03:07  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 29, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-11-29T17:36:45Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EVersion 1.24a\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/SirDiazo/AGExt/releases/tag/1.24a\u0022 rel=\u0022external nofollow\u0022\u003EDownload here.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E-Fix issue where KSP was passing a key press twice so an action group would activate twice in the same instant. This resulted in Toggle actions doing nothing as they would activate and instantly deactivate. Toggle actions should now behave correctly.\u003C/p\u003E\u003Cp\u003E-Move toggle group check cooldown from Update to FixedUpdate.\u003C/p\u003E\u003Cp\u003E-1.24a: Force part activation so gimbals turn on correctly\u003C/p\u003E\u003Cp\u003E@Einarr: This should squash the issue you are seeing. Just in case I have left all the logging enabled from version 1.23d but there has been a new one added:\u003C/p\u003E\u003Cp\u003EAGX Action not activated, that group still in cooldown -\u0026gt; Means the action group is still on cooldown and will not trigger.\u003C/p\u003E\u003Cp\u003EAs I can\u0027t actually fix the error itself (KSP passes a keypress twice), I\u0027ve put a cooldown on how often an action group can activate. The defaults to 5 Update() frames, which is about 90 milliseconds at 60fps. If you want to change this, you can add the following line to the AGExt\\AGExt.cfg file:\u003C/p\u003E\u003Cp\u003EActivationCooldown = 5\u003C/p\u003E\u003Cp\u003EWhere the number is how many Update() frames that have to pass between group activations. A higher number is a longer cooldown. \u003C/p\u003E\u003Cp\u003ENote that this cooldown is per group, activating group 1 enforces the cooldown for group 1 only, you can activate group 2 immediately afterwards without the cooldown being a factor.\u003C/p\u003E\u003Cp\u003EFor reducing processing load, the toggle state monitoring only runs a few times a second. This used to run in the Update() frame, but as action groups actually affect things on the vessel which updates in the FixedUpdate() frame, it makes more sense that the monitoring code runs in FixedUpdate. The toggle state code should still run at about the same speed, but it now runs every 15 FixedUpdate frames instead of in the Update() frames.\u003C/p\u003E\u003Cp\u003EVersion 1.24a\u003C/p\u003E\u003Cp\u003EAdded an override so that when an engine is turned on the gimbal attached to the engine turns on also.\u003C/p\u003E\u003Cp\u003ECurrently, the ModuleEngines and ModuleEnginesFX partModules do not activate the part they are attached to when activated by an action key or the right-click menu, as opposed to being staged with the Spacebar where the part is activated. Therefore the ModuleGimbal on the same part does nothing as it detects the part is is attached to is not activated and thinks the attached engine is still off.\u003C/p\u003E\u003Cp\u003EThe override ties into the action so that when the \u0022Activate Engine\u0022 or \u0022Toggle Engine\u0022 action on the ModuleEngines or ModuleEnginesFX partModule is activated, AGX will force activate the part so the gimbal will work.\u003C/p\u003E\u003Cp\u003EThis means any builds that have added the Toggle Gimbal action to the same action group as a workaround can now remove it as this override now makes sure the gimbal is activated for you.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-29T18:45:45Z\u0022 title=\u002211/29/2014 06:45  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 29, 2014\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Einarr","CreatedById":4809,"CreatedDateTime":"2014-11-29T23:22:54Z","Content":"\n\u003Cp\u003EI\u0027ll do some more testing using only one keypress. As for the speed at which I was doing it, I rather doubt I was doing it even as fast as .1 second. I\u0027m thinking it was closer to .5 seconds between keypresses.\u003C/p\u003E\u003Cp\u003EEdit: More testing has confirmed that the issue seems to be resolved finally. I\u0027ll be sure to post again if it crops up...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-30T08:56:43Z\u0022 title=\u002211/30/2014 08:56  AM\u0022 data-short=\u00229 yr\u0022\u003ENovember 30, 2014\u003C/time\u003E by Einarr\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-05T04:19:23Z","Content":"\n\u003Cp\u003EJust a status update on a couple things.\u003C/p\u003E\u003Cp\u003EFirst, 0.90 has hit experimentals, I am expecting AGX to explode rather spectacularly when run on KSP 0.90 for the first time. Make sure you have a backup of your saves if you want to experiment. I\u0027ll have an update out ASAP but I don\u0027t get 0.90 any earlier then you guys.\u003C/p\u003E\u003Cp\u003EAs there are massive editor changes I\u0027m expecting to have to re-write a significant chunk of the editor code when it is released. To jump on it as fast as possible I\u0027m not going to touch the code for anything else as I want a stable version to start from. \u003C/p\u003E\u003Cp\u003EThis means the actions saving on sub-assemblies is going to have to wait until after AGX is stable on KSP 0.90.\u003C/p\u003E\u003Cp\u003ESecond, I\u0027ve started on a series of youtube videos to hopefully go over how AGX functions better then the first post in this thread does.\u003C/p\u003E\u003Cp\u003ENote that as I was unable to find a microphone I had to use subtitles. \u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/La88MijR6pQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/Sb00u7IemqU?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003ESeveral more videos going over Flight Mode, Keysets, Docking, etc. are planned but I\u0027ve been delayed in getting them ready so I\u0027m putting these two out there as is.\u003C/p\u003E\u003Cp\u003EIs it worth my time to complete the video set or do I need to find a working microphone to make it worth the time?\u003C/p\u003E\u003Cp\u003EHere\u0027s to 0.90\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"ctbram","CreatedById":99635,"CreatedDateTime":"2014-12-05T23:13:13Z","Content":"\n\u003Cp\u003EWhat is the difference between Toggle and Toggle Antenna???!?!?!????\u003C/p\u003E\u003Cp\u003EI have a a dts-m1 and it only opens if I choose Toggle and I have a aies commtech esc-exp omni and it only opens if I choose Toggle Antenna? What is the difference?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-07T22:41:34Z\u0022 title=\u002212/07/2014 10:41  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 7, 2014\u003C/time\u003E by ctbram\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2014-12-05T23:24:46Z","Content":"\n\u003Cp\u003EIt is an oversight on the part of the creator of the part.\u003C/p\u003E\u003Cp\u003EIf you are using the antenna I think you are, it has two animations, one for opening/closing the antenna and one for the animated blinking light when transmitting. (I\u0027m still at work and can\u0027t check the antenna names from your post.)\u003C/p\u003E\u003Cp\u003EBoth those animations use a piece of code called ModuleAnimateGeneric so there are two ModuleAnimateGeneric\u0027s on the antenna. The \u0022Toggle\u0022 action is part of ModuleAnimateGeneric and used to toggle the animation. In this case, you (the player) are not supposed to be able to trigger the light blinking animation since it does so automatically during transmission, but the creator of the part forgot to hide the Toggle action from you in the interface.\u003C/p\u003E\u003Cp\u003EThere is nothing I can do about this, AGX presents to you all the actions available to be selected on the part, it is up to the creator of the part to make sure the actions presented are correct.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"}]}