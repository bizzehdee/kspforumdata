{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":191,"Articles":[{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T00:41:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RabidMonkey\u0022 data-cite=\u0022RabidMonkey\u0022\u003E\u003Cdiv\u003EWould it be possible to add the ability to specify a particular amount of allowable error in the \u0022Land at Target\u0022 routine? It seems like if I\u0027m coming in for a landing site and the path crosses a cliff, my ship starts oscillating between \u0022correcting\u0022 for a difference of a couple hundred meters and starting its coast toward a landing within millimeters of the target location.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECliffs are really tricky - because when using parachutes, the game itself will fully deploy the parachutes when the AGL is at a certain level. However it is not possible for the simulation to simulate this because as the \u0022thread / terrain\u0022 problem that we worked around earlier in the day (#154) demonstrated, it is not possible for the simulation thread to acccess the terrain data. (well at least at the moment it does not seem to be) The best advice I can give you is either:\u003C/p\u003E\u003Cp\u003E1) land on a flat area\u003C/p\u003E\u003Cp\u003E2) land on body with a thick atmosphere so that you are not going so much horizontal at low parachute triggering altitudes.\u003C/p\u003E\u003Cp\u003E3) land at a low altitude location where the atmopshere it thicker (it makes a big difference for Duna)\u003C/p\u003E\u003Cp\u003E4) tweak your parachutes to all deploy at slightly different altitudes (with say 200m between each). That way after each semi deployment the autopilot has a chance to adjust when it will semi deploy the next one, to continue targeting.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-04T02:33:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003ESince .23 I fixed a bug with the Reaction Wheel where MJ tough they were offline from time to time (related to a KSP change in .23). And I a bug for torque from gimbal for engine with more than 1 nozzle.\u003Cp\u003ESo that may be one of those 2, more likely the first one, of an other bug. Trying the last version is the best way to see.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I keep getting on everything with reaction wheels is they flip back and forth between operational and not enough electricity, even though there\u0027s plenty of power from batteries, solar panels, RTGs or any combination.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T02:41:28Z\u0022 title=\u002201/04/2014 02:41  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DrBackjack","CreatedById":3449,"CreatedDateTime":"2014-01-04T05:25:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003EWhat I keep getting on everything with reaction wheels is they flip back and forth between operational and not enough electricity, even though there\u0027s plenty of power from batteries, solar panels, RTGs or any combination.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve noticed that too, but it doesn\u0027t actually seem to affect the use of the reaction wheels.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-01-04T06:01:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022codepoet\u0022 data-cite=\u0022codepoet\u0022\u003E\u003Cdiv\u003ECliffs are really tricky - because when using parachutes, the game itself will fully deploy the parachutes when the AGL is at a certain level. However it is not possible for the simulation to simulate this because as the \u0022thread / terrain\u0022 problem that we worked around earlier in the day (#154) demonstrated, it is not possible for the simulation thread to acccess the terrain data. (well at least at the moment it does not seem to be) The best advice I can give you is either:\u003Cp\u003E1) land on a flat area\u003C/p\u003E\u003Cp\u003E2) land on body with a thick atmosphere so that you are not going so much horizontal at low parachute triggering altitudes.\u003C/p\u003E\u003Cp\u003E3) land at a low altitude location where the atmopshere it thicker (it makes a big difference for Duna)\u003C/p\u003E\u003Cp\u003E4) tweak your parachutes to all deploy at slightly different altitudes (with say 200m between each). That way after each semi deployment the autopilot has a chance to adjust when it will semi deploy the next one, to continue targeting.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EObviously there\u0027s nothing you can do to control the game\u0027s stock behavior concerning parachutes. \u003C/p\u003E\u003Cp\u003Eon the other hand, if an elevation change from flight path is enough to force course corrections then that is something you can change. Once de-orbit burn has happened and re-entry is in progress, the AP should be reluctant to take further corrective action. Take samples over time. Average them. If the results are WAY off from the pre deorbit calculation by a TBD threshold then dont take action, wait and take samples again later in the flight path\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-01-04T06:58:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EObviously there\u0027s nothing you can do to control the game\u0027s stock behavior concerning parachutes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey\u0027re adjustable in .23, I just haven\u0027t tried adjusting them yet.\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T07:09:41Z","Content":"\n\u003Cp\u003EJust had a MJ failure using 154 that logged 50 megabytes within a couple minutes @ 150-160 faults a second (Guestimating...that\u0027s 150-160 writes to disk...every second. I\u0027d REALLY like to keep my raptors alive another couple years).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMechJeb module MechJebModuleTargetController threw an exception in OnFixedUpdate: System.NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\u003Cbr\u003E  at MuMech.CelestialBodyExtensions.TerrainAltitude (.CelestialBody body, Double latitude, Double longitude) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.PositionTarget.Update (.CelestialBody body, Double latitude, Double longitude) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.OnFixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebCore.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003EGame Paused!\u003C/pre\u003E\u003Cp\u003E multiply that by 60,000\u002B lines.\u003C/p\u003E\u003Cp\u003Ealso the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at MuMech.GLUtils.DrawMapViewGroundMarker (.CelestialBody body, Double latitude, Double longitude, Color c, Double rotation, Double radius) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DrawMapViewTarget () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DoMapView () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at RenderingManager.OnGUI () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at MuMech.GLUtils.DrawMapViewGroundMarker (.CelestialBody body, Double latitude, Double longitude, Color c, Double rotation, Double radius) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DrawMapViewTarget () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DoMapView () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at RenderingManager.OnGUI () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003EdT is NaN! tA: 1.20605957508087, E: 0, M: 0, T: NaN\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003ECamera Mode: AUTO\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003EASE -- Switching to Vacuum\u003C/pre\u003E\u003Cp\u003E by another 30-60,000 lines of code.\u003C/p\u003E\u003Cp\u003EWhat occurred prior to the errors that are destroying my hard drives with read/writes\u003C/p\u003E\u003Cp\u003EHad a double probe launch vehicle sent to the Mun\u003C/p\u003E\u003Cp\u003ESuccessfully orbited at 33 kilometers (my first mistake; what I get for using an OP injection stage @ 800\u002B kN of thrust to push an 8 ton vehicle)\u003C/p\u003E\u003Cp\u003ESuccessfully decoupled both probes from the Munar Injection stage\u003C/p\u003E\u003Cp\u003ESuccessfully renamed both probes post decouple (MJ did it\u0027s usual failure to update the probes with any vessel information; but I built \u0027em with approximately 2.3k dV each to land and return)\u003C/p\u003E\u003Cp\u003EOne set to land at the Munar Highlands 68 degrees 30 minutes south; 45 degrees 15 minutes west\u003C/p\u003E\u003Cp\u003EThe other set to land in the Highland Craters\u003C/p\u003E\u003Cp\u003EHighlands probe set to landing guidance at the coordinates posted above\u003C/p\u003E\u003Cp\u003ESuccessfully performed low-orbit plane change\u003C/p\u003E\u003Cp\u003EMJ locks at 0 m/s plane change and starts eating HDD life.\u003C/p\u003E\u003Cp\u003EGame is currently paused with a quicksave prior to the landing maneuver.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T07:20:23Z\u0022 title=\u002201/04/2014 07:20  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by Shad0wCatcher\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2014-01-04T07:21:54Z","Content":"\n\u003Cp\u003Enothing wrong with a good stress test once in a while....\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T07:34:58Z","Content":"\n\u003Cp\u003EI have other more specialized software for testing. I\u0027d like to get this fixed so I don\u0027t have to stress the hell out of parts of this computer as I currently don\u0027t have the liquid assets to replace anything.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T07:50:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EObviously there\u0027s nothing you can do to control the game\u0027s stock behavior concerning parachutes. \u003Cp\u003Eon the other hand, if an elevation change from flight path is enough to force course corrections then that is something you can change. Once de-orbit burn has happened and re-entry is in progress, the AP should be reluctant to take further corrective action. Take samples over time. Average them. If the results are WAY off from the pre deorbit calculation by a TBD threshold then dont take action, wait and take samples again later in the flight path\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the advice. I am afraid it is not so simple - the issue is not about what the strategy is for making course corrections, or for handling data samples over time*. The problem is that the flight path is influenced by something that we are not able to predict in advance. However if you think that you would be able to improve the situation, then by all means - break out the code and have a go.\u003C/p\u003E\u003Cp\u003EThere is of course another approach which is to take control of when the parachutes are deployed back from the game (by setting the deployment height to be zero under the covers, and then setting it to be the current AGL at the moment the autopilot wants to fully deploy them. However this fiddling would be visible to the user via tweakables, and they would be able to interfere with it by tweaking it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E.\u003C/p\u003E\u003Cp\u003EA further appraoch is to add support for reachchutes, and then we can ask StupidChris nicely to do whatever is required to allow MJ to have more control over when these deployments happen.\u003C/p\u003E\u003Cp\u003E* in fact this new approach to parachutes reduces the urge to make course corections by timing when to deploy the parachutes instead. On the data handling side - it is infact using a statistical analysis on the prediction results, and employing a linear regression technique (least square method) to predict when to activate the \u0027chutes. It is also running extra preditions with deliberate variations in the parachute activation time to improve the quality of the data set that is used to time the parachutes. If you are interested, then I have just committed some updates that display some of this imformation so you can see how the quality of the prediction data varies throughout the landing approach.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T07:54:04Z\u0022 title=\u002201/04/2014 07:54  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by codepoet\u003C/strong\u003E\n\u003Cbr\u003Espelling\n\u003C/span\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T07:58:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shad0wCatcher\u0022 data-cite=\u0022Shad0wCatcher\u0022\u003E\u003Cdiv\u003EJust had a MJ failure using 154 that logged 50 megabytes within a couple minutes @ 150-160 faults a second (Guestimating...that\u0027s 150-160 writes to disk...every second. I\u0027d REALLY like to keep my raptors alive another couple years).\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMechJeb module MechJebModuleTargetController threw an exception in OnFixedUpdate: System.NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\u003Cbr\u003E  at MuMech.CelestialBodyExtensions.TerrainAltitude (.CelestialBody body, Double latitude, Double longitude) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.PositionTarget.Update (.CelestialBody body, Double latitude, Double longitude) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.OnFixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebCore.FixedUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003EGame Paused!\u003C/pre\u003E\u003Cp\u003E multiply that by 60,000\u002B lines.\u003C/p\u003E\u003Cp\u003Ealso the following:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at MuMech.GLUtils.DrawMapViewGroundMarker (.CelestialBody body, Double latitude, Double longitude, Color c, Double rotation, Double radius) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DrawMapViewTarget () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DoMapView () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at RenderingManager.OnGUI () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at MuMech.GLUtils.DrawMapViewGroundMarker (.CelestialBody body, Double latitude, Double longitude, Color c, Double rotation, Double radius) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DrawMapViewTarget () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at MuMech.MechJebModuleTargetController.DoMapView () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at (wrapper delegate-invoke) Callback:invoke_void__this__ ()\u003Cbr\u003E\u003Cbr\u003E  at RenderingManager.OnGUI () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003EdT is NaN! tA: 1.20605957508087, E: 0, M: 0, T: NaN\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003ECamera Mode: AUTO\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/ea95e74f6e5f192d/Runtime/ExportGenerated/StandalonePlayer/UnityEngineDebug.cpp Line: 54)\u003Cbr\u003E\u003Cbr\u003EASE -- Switching to Vacuum\u003C/pre\u003E\u003Cp\u003E by another 30-60,000 lines of code.\u003C/p\u003E\u003Cp\u003EWhat occurred prior to the errors that are destroying my hard drives with read/writes\u003C/p\u003E\u003Cp\u003EHad a double probe launch vehicle sent to the Mun\u003C/p\u003E\u003Cp\u003ESuccessfully orbited at 33 kilometers (my first mistake; what I get for using an OP injection stage @ 800\u002B kN of thrust to push an 8 ton vehicle)\u003C/p\u003E\u003Cp\u003ESuccessfully decoupled both probes from the Munar Injection stage\u003C/p\u003E\u003Cp\u003ESuccessfully renamed both probes post decouple (MJ did it\u0027s usual failure to update the probes with any vessel information; but I built \u0027em with approximately 2.3k dV each to land and return)\u003C/p\u003E\u003Cp\u003EOne set to land at the Munar Highlands 68 degrees 30 minutes south; 45 degrees 15 minutes west\u003C/p\u003E\u003Cp\u003EThe other set to land in the Highland Craters\u003C/p\u003E\u003Cp\u003EHighlands probe set to landing guidance at the coordinates posted above\u003C/p\u003E\u003Cp\u003ESuccessfully performed low-orbit plane change\u003C/p\u003E\u003Cp\u003EMJ locks at 0 m/s plane change and starts eating HDD life.\u003C/p\u003E\u003Cp\u003EGame is currently paused with a quicksave prior to the landing maneuver.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat looks bad! The stack trace looks like it is related to drawing the target markers on the map, but there is also a stack trace that mention the dreaded TerrainAltitude \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E I am not familiar wit that area of code, but can take a look.\u003C/p\u003E\u003Cp\u003E* Were you in mapview when these logs occur?\u003C/p\u003E\u003Cp\u003E* can you reproduce the problem by reloading the save / restoring the quicksave and doing the same thing again?\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T08:00:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003EThey\u0027re adjustable in .23, I just haven\u0027t tried adjusting them yet.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI recomend you do. In fact I recommend that you set each parachute to have a slightly different deployment height. Thats way after each (semi deployment) there is a oppertunity to the landing site to be further refined by adjusting when then other parachutes are deployed. It will also reduce your max-g but not just popping everything at once.\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T09:23:13Z","Content":"\n\u003Cp\u003EI tried to reproduce but it was just a one-off. After loading the quicksave it functioned as it should have. I started in flight mode; switched to map-view to confirm the landing site; once it got close I switched back to flight-mode and counted down the last hundred or so dV (600 dV plane-change at 33 kM...almost lost that lander. go go overengineering!) Really really like that change that shows approximations of dV usage.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T09:37:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shad0wCatcher\u0022 data-cite=\u0022Shad0wCatcher\u0022\u003E\u003Cdiv\u003EI tried to reproduce but it was just a one-off. After loading the quicksave it functioned as it should have. I started in flight mode; switched to map-view to confirm the landing site; once it got close I switched back to flight-mode and counted down the last hundred or so dV (600 dV plane-change at 33 kM...almost lost that lander. go go overengineering!) Really really like that change that shows approximations of dV usage.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t suppose you saved off the log file with all the errors in did you? If so send me a PM and I will give you an email address to send it to. It sounds like that could be a hard to track down bug.\u003C/p\u003E\u003Cp\u003EOn the predicted delta-v - It is not particulatly acurate. It is the delta-v predicted to be used in the deceleration burn plus a bit. However the simulation does not simulate the final decent stage inthe way that it is performed, so there are some hacky approximations for that bit. However I do enjoy seeing it change during the course correction burn on Duna - at higher landing altitudes the delta-v is higher as the parachutes are of less use, and at lower altitudes it is lower as the atmosphere contributes more to the braking.\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T09:53:03Z","Content":"\n\u003Cp\u003EI still have the log. It\u0027s 53 megabytes though. I can see about trimming some of it if you want it. \u003C/p\u003E\u003Cp\u003EEDIT: Oh right. Plain text. Compressed to 914 KB.\u003C/p\u003E\u003Cp\u003EAlso there will be some erroneous information toward the end (namely renderer lost as I paused the game then alt-tabbed as soon as it occurred).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T09:55:05Z\u0022 title=\u002201/04/2014 09:55  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by Shad0wCatcher\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-04T10:03:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shad0wCatcher\u0022 data-cite=\u0022Shad0wCatcher\u0022\u003E\u003Cdiv\u003EJust had a MJ failure using 154 that logged 50 megabytes within a couple minutes @ 150-160 faults a second (Guestimating...that\u0027s 150-160 writes to disk...every second. I\u0027d REALLY like to keep my raptors alive another couple years).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is that little thing called cache in modern OS. It won\u0027t write to the disk 150 times per seconds and eve if it did it would not change anything to the life of a Hard Drive, and even an SSD life wouldn\u0027t change much.\u003C/p\u003E\u003Cp\u003EI\u0027ll add some NRE test to find this one...\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T10:39:41Z","Content":"\n\u003Cp\u003EOff Topic: 4 gigs of physical RAM; 2.5 gigs used by KSP. 1.2 gigs used by some of the OS (Windows Vista); most of the rest eaten up by other processes. When I can hear my Raptors\u0027 read-write heads crunching along at a rapid rate there\u0027s an issue. 4 MB cache in each. I\u0027m well aware of when and how much my system is being taxed.\u003C/p\u003E\u003Cp\u003EBack on topic; thanks much. Like I posted above, I have the full unedited log file compressed (just zip) still if you would find it helpful in any way.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-04T10:50:51Z","Content":"\n\u003Cp\u003EYes, post the ziped log somewhere please. I want to see if there is something that make all the mainbody ref null ...\u003C/p\u003E\u003Cp\u003EEdit : I re read your description of the event. Did it start to crash when the probe were getting away from each other ?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T11:03:26Z\u0022 title=\u002201/04/2014 11:03  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T11:02:27Z","Content":"\n\u003Cp\u003EKk, I took a look through and didn\u0027t see anything. Installing Dropbox.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/7n417ja2exdrp2v/output_log.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/7n417ja2exdrp2v/output_log.zip\u003C/a\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-04T11:09:10Z\u0022 title=\u002201/04/2014 11:09  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 4, 2014\u003C/time\u003E by Shad0wCatcher\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-04T11:57:09Z","Content":"\n\u003Cp\u003EThanks. With your log I have found the origin of the crash (something wrong in .23) and I\u0027am trying to fix it now ...\u003C/p\u003E\n"},{"CreatedByName":"Shad0wCatcher","CreatedById":98819,"CreatedDateTime":"2014-01-04T12:02:26Z","Content":"\n\u003Cp\u003EGood stuff. Glad to be of service in the small way I can. Apologies for sounding terse earlier. When I hear the level of HDD activity I heard with that error log I cringe (it\u0027s only happened a couple times in the past with other more demanding software). I have to say though 154 has been absolutely flawless with what I\u0027ve used apart from that one-off error. You and codepoet have been doing some solid stuff. Really appreciate it, even if I do sound like an ass from time to time.\u003C/p\u003E\n"},{"CreatedByName":"codepoet","CreatedById":73449,"CreatedDateTime":"2014-01-04T12:51:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Shad0wCatcher\u0022 data-cite=\u0022Shad0wCatcher\u0022\u003E\u003Cdiv\u003EGood stuff. Glad to be of service in the small way I can. Apologies for sounding terse earlier. When I hear the level of HDD activity I heard with that error log I cringe (it\u0027s only happened a couple times in the past with other more demanding software).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThink of this this way - your HDD was busy taking one for the team, so that we could have the data that has allowed Sarbian to diagnose the problem. A good example for others to emulate \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-01-04T13:31:17Z","Content":"\n\u003Cp\u003EI pushed a 2 new builds.\u003C/p\u003E\u003Cp\u003E155 is codepoet last set of change (info \u002B precision mostly)\u003C/p\u003E\u003Cp\u003E156 is a fix for the NRE spam on decouple/undock. \u003C/p\u003E\u003Cp\u003EShad0wCatcher it will fix your error. I am not a fan of the \u0022fix\u0022 but this will do for now. \u003C/p\u003E\u003Cp\u003EI think there was an other NRE spam related to undocking ? I need to re read the last page of the thread ...\u003C/p\u003E\u003Cp\u003EI think I take a break and play for the rest of the day. Those .23 related bugs annoys me since most of them come from bugs in KSP itself.\u003C/p\u003E\n"},{"CreatedByName":"katalex-3","CreatedById":97146,"CreatedDateTime":"2014-01-04T14:33:05Z","Content":"\n\u003Cp\u003E156 - really work version? Just after install it i have crash in angar.\u003C/p\u003E\n"},{"CreatedByName":"drtedastro","CreatedById":70911,"CreatedDateTime":"2014-01-04T14:43:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EI pushed a 2 new builds.\u003Cp\u003E155 is codepoet last set of change (info \u002B precision mostly)\u003C/p\u003E\u003Cp\u003E156 is a fix for the NRE spam on decouple/undock. \u003C/p\u003E\u003Cp\u003EShad0wCatcher it will fix your error. I am not a fan of the \u0022fix\u0022 but this will do for now. \u003C/p\u003E\u003Cp\u003EI think there was an other NRE spam related to undocking ? I need to re read the last page of the thread ...\u003C/p\u003E\u003Cp\u003EI think I take a break and play for the rest of the day. Those .23 related bugs annoys me since most of them come from bugs in KSP itself.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt seems that .23 \u0027broke\u0027 a lot of items in a lot of mods. Do the dev\u0027s release a list of what was changed, or do you have to find all of the new \u0027features\u0027 on your own...????\u003C/p\u003E\u003Cp\u003Ethanks for all of the great work and great mod....\u003C/p\u003E\n"},{"CreatedByName":"katalex-3","CreatedById":97146,"CreatedDateTime":"2014-01-04T14:50:39Z","Content":"\n\u003Cp\u003E157 - I can\u0027t see MJ in toolbar. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\n"}]}