{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":9,"Articles":[{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-17T20:02:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EIs it an editable file on the github (meaning people can try to edit it and those edits would reach you in the form of pull requests for you to accept or reject)?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EShort answer: YES! Its one of the branches of the project on Github\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/erendrake/KOS/tree/gh-pages-source/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/erendrake/KOS/tree/gh-pages-source/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ELonger answer: I wrote this site using a ruby framework called Middleman, you dont need to know/use ruby ( i dont know any ruby ) to do anything with it. As it\u0027s mainly there for the templating and compilation. The pages are written in markdown (eg \u003Ca href=\u0022https://github.com/erendrake/KOS/blob/gh-pages-source/source/structure/vessel.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/erendrake/KOS/blob/gh-pages-source/source/structure/vessel.md\u003C/a\u003E)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EFixing up documentation is one of the places where community help can really help a lot because it\u0027s far easier to tell that the documentation has a problem if you\u0027re in the process of actually trying to learn from it than if you\u0027re the person who wrote it and already knows what it was supposed to mean. \u003Cp\u003EI think the documentation being an editable github thing might be a good compromise between no user input to the documentation versus documenting by Community Wiki (Which has the problem that people can make up stuff that\u0027s wrong and not realize it\u0027s wrong because the actual author isn\u0027t involved to approve changes).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI cannot agree with you more, I welcome and encourage anyone who wants to contribute to do so, as it frees me to do more work on the next release of kOS.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EAnyway, thank you for putting documentation out.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are welcome, Proper documentation was on my list as a major blocker for new coders. I want to add some videos and examples of simple ascenders/landers/ect.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI\u0027m going through it and I noticed that you mentioned VECTOR as one of the fields of the Direction structure. What is that? Does it return a unit vector in the direction of the Direction?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat is a strange one, it appears to only be valid for \u0022non euler\u0022 Directions. All user defined R() are euler so this \u0022DIRECTION:VECTOR\u0022 property are only valid for the following built-in terms. \u003C/p\u003E\u003Cp\u003EVESSEL:FACING\u003C/p\u003E\u003Cp\u003EVESSEL:DIRECTION\u003C/p\u003E\u003Cp\u003EVESSEL:UP\u003C/p\u003E\u003Cp\u003EVESSEL:NORTH\u003C/p\u003E\u003Cp\u003EI dont know if it is terribly useful and i was thinking about taking it out because it was never advertised before and its usage will be confusing.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-17T20:11:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003EQuestion 2 - about the List documentation:\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs there some way to obtain random access to a single element from a list at its Nth position for any arbitrary N, rather than having to iterate over it sequentially in a FOR loop to get to it? Basically, is there an index operator like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022The thing at index 3 is \u0022 \u002B things[3].\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022The thing at index 3 is \u0022 \u002B things:atindex(3).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eor\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eprint \u0022The thing at index 3 is \u0022 \u002B ListElement( things, 3 ).\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf there is an operator like that, the documentation doesn\u0027t seem to mention it. (And if there isn\u0027t, it would be a really good idea to add it.)\u003C/p\u003E\u003Cp\u003EMaybe its the thing called \u0022ITERATOR\u0022 that does it, but if so it\u0027s not mentioned how to use it anywhere on the page.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI Added index grammar along with the list and it actually took quite a bit of work so of course I failed to include it in the docs \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET foo TO bar#3.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ealternatively you can use a variable to index into a list\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ESET blarg TO 3.\u003Cbr\u003ESET foo TO bar#blarg.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EUnfortunately, I don\u0027t have the following statement working yet. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESET bar#3 TO \u0022foo\u0022\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ethe ITERATOR is a structure that was built before I added the FOR command... . I ran out of time this weekend getting that doc in.\u003C/p\u003E\u003Cp\u003EEDIT: the FOR command WHICH I ALSO FORGOT TO ADD TO THE DOCS \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E :P\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-17T20:15:38Z\u0022 title=\u002202/17/2014 08:15  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 17, 2014\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LawnDartLeo","CreatedById":61230,"CreatedDateTime":"2014-02-17T21:46:49Z","Content":"\n\u003Cp\u003ERegarding R(X,Y,Z)....\u003C/p\u003E\u003Cp\u003EDocumentation suggest that X is pitch, Y is yaw and Z is roll)\u003C/p\u003E\u003Cp\u003EI am noticing that currently if, for example, I use the following...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to prograde \u002B R(90,0,0)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EMy ship spins and points its nose south.\u003C/p\u003E\u003Cp\u003Esomething I am missing in my construction, change to code or bug?\u003C/p\u003E\n"},{"CreatedByName":"LawnDartLeo","CreatedById":61230,"CreatedDateTime":"2014-02-17T22:09:34Z","Content":"\n\u003Cp\u003E...as a followup.\u003C/p\u003E\u003Cp\u003Eset x to heading (X,Y)\u003C/p\u003E\u003Cp\u003EDocumentation shows X is degrees from north and Y is pitch above horizon. My ship behaviour is reverse, X is pitch and Y is heading.\u003C/p\u003E\u003Cp\u003EIs it me/my install/ship config?\u003C/p\u003E\n"},{"CreatedByName":"togfox","CreatedById":17083,"CreatedDateTime":"2014-02-17T22:32:19Z","Content":"\n\u003Cp\u003ESo I\u0027ve not used github before. Is there a three-point set of instructions to edit/add to the documentation? If its harder than that I\u0027ll google how to use github and contribute that way.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-18T01:12:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022togfox\u0022 data-cite=\u0022togfox\u0022\u003E\u003Cdiv\u003ESo I\u0027ve not used github before. Is there a three-point set of instructions to edit/add to the documentation? If its harder than that I\u0027ll google how to use github and contribute that way.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt shouldn\u0027t be too bad. there are two tools you will need to learn a bit about\u003C/p\u003E\u003Cp\u003E* git\u003C/p\u003E\u003Cp\u003E* markdown\u003C/p\u003E\u003Cp\u003Eneither are hard \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E1. I would make a github account.\u003C/p\u003E\u003Cp\u003E2. Download the github app for your platform (win/mac)\u003C/p\u003E\u003Cp\u003E3. Fork \u003Ca href=\u0022https://github.com/erendrake/KOS\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/erendrake/KOS\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E4. Use the github app to clone KOS and switch to the gh-pages-source branch\u003C/p\u003E\u003Cp\u003E5. Make changes to any of the *.md files.\u003C/p\u003E\u003Cp\u003E6. in the github app, commit and sync your changes.\u003C/p\u003E\u003Cp\u003E7. make a pull request and ill get the changes into the documentation. \u003C/p\u003E\u003Cp\u003ESorry it was 7 steps, If you have any trouble with any of them i would be happy to help you out. PM me and we can chat about it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2014-02-18T03:34:39Z","Content":"\n\u003Cp\u003EDoes anyone know how to detect an encounter when there are no maneuver nodes?\u003C/p\u003E\u003Cp\u003EI am burning in a certain direction without using maneuver nodes at all. And even though i can see on the map ive made an encounter with the moon. When i use print encounter.\u003C/p\u003E\u003Cp\u003Eit returns none.\u003C/p\u003E\u003Cp\u003EIt seems print encounter only returns the encounter when the encounter in in an maneuver node. \u003C/p\u003E\u003Cp\u003ESo how can i detect when my flight path will encounter another planet or moon even if there are no maneuver nodes?\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-18T03:59:43Z","Content":"\n\u003Cp\u003EYou should be able to look at SHIP:OBT:PATCHES It contains a list of all of the orbit segments and how they end. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EFOR patch in SHIP:OBT:PATCHES {\u003Cbr\u003E    PRINT patch:BODY.\u003Cbr\u003E    PRINT patch:TRANSITION.\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI have tested the new patches and i have tested the FOR loop but i never tested them together, Please let me know how it goes.\u003C/p\u003E\u003Cp\u003EUpdate: Crap! Looks like i have work to do on that \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E sorry about that.\u003C/p\u003E\u003Cp\u003EUpdate2: Looks like I flubbed on an inequality. looks like we are releasing again sooner than i thought.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-18T04:07:14Z\u0022 title=\u002202/18/2014 04:07  AM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 18, 2014\u003C/time\u003E by erendrake\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Zander","CreatedById":76100,"CreatedDateTime":"2014-02-18T04:57:47Z","Content":"\n\u003Cp\u003Ehmm, well if I know the body will be the mun is there any way?\u003C/p\u003E\n"},{"CreatedByName":"kaesekuchen","CreatedById":90011,"CreatedDateTime":"2014-02-18T08:13:05Z","Content":"\n\u003Cp\u003EWithout Nodes it would be difficult. \u003C/p\u003E\u003Cp\u003EWith the help of nodes you could do something like this :\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif ship:obt:body:name = \u0022Kerbin\u0022\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003Eset target to body(\u0022mun\u0022).\u003Cbr\u003E\u003Cbr\u003Eset n to node(time:seconds\u002B300,0,0,0).\u003Cbr\u003Eadd n.\u003Cbr\u003E\u003Cbr\u003Euntil n:orbit:apoapsis \u0026gt;= target:orbit:apoapsis\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003Eset n:prograde to n:prograde\u002B( target:orbit:apoapsis - n:orbit:apoapsis ) / 100000.\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Eset encounterCondition to false.\u003Cbr\u003Euntil encounterCondition\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003Euntil encounter != \u0022None\u0022 \u003Cbr\u003E{\u003Cbr\u003E\tset n:ETA to n:ETA\u002B1.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Euntil encounter == \u0022None\u0022 OR encounterCondition\u003Cbr\u003E{\u003Cbr\u003Eset encounterCondition to encounter:periapsis \u0026lt;= 100000.\u003Cbr\u003E\tset n:ETA to n:ETA\u002B10.\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis would create a \u0022dummy\u0022 node 300seconds from now, altering the orbit altitude to match the mun\u0027s orbit altitude and then \u0022seek\u0022 for an encounter.\u003C/p\u003E\u003Cp\u003EAlthough very crude and inefficient, this worked in easily getting to the mun from kerbin.\u003C/p\u003E\u003Cp\u003EI hope that soon i\u0027ll find the time to continue writing scripts that actually leave LKO \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NeoMorph","CreatedById":58200,"CreatedDateTime":"2014-02-18T16:58:39Z","Content":"\n\u003Cp\u003EHere is a simple query... How the heck do you check to see if the engines have cut out?\u003C/p\u003E\u003Cp\u003EI\u0027m trying to figure out when the throttle cuts out to the coast to orbit section so I can dump things like shrouds so they fall back to Kerbin when the craft is in a suborbital path instead of staying in orbit if you eject them when you reach full orbit.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-02-18T17:08:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeoMorph\u0022 data-cite=\u0022NeoMorph\u0022\u003E\u003Cdiv\u003EHere is a simple query... How the heck do you check to see if the engines have cut out?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am unsure of the new direct engine queries, but simply checking the fuel left in the stage should work. If you have fuel left because you turn them off yourself you already know when they cut out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"kaesekuchen","CreatedById":90011,"CreatedDateTime":"2014-02-18T17:41:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeoMorph\u0022 data-cite=\u0022NeoMorph\u0022\u003E\u003Cdiv\u003EHere is a simple query... How the heck do you check to see if the engines have cut out?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs Camacha said, you could always check for fuel left in the current stage or the entire ship. (ship:liquidfuel / stage:liquidfuel). Keep in mind though, that checking for liquidfuel = 0 won\u0027t account the case, where you have 0.01 liquidfuel but no oxidizer left (happend to me once or twice).\u003C/p\u003E\u003Cp\u003EIf you have an accelerator sensor on your vessel, you should be able to use that as well. (ship:sensors:acc:mag).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-18T17:44:04Z\u0022 title=\u002202/18/2014 05:44  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 18, 2014\u003C/time\u003E by kaesekuchen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-18T18:03:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeoMorph\u0022 data-cite=\u0022NeoMorph\u0022\u003E\u003Cdiv\u003EHere is a simple query... How the heck do you check to see if the engines have cut out?\u003Cp\u003EI\u0027m trying to figure out when the throttle cuts out to the coast to orbit section so I can dump things like shrouds so they fall back to Kerbin when the craft is in a suborbital path instead of staying in orbit if you eject them when you reach full orbit.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you managing the throttle by hand and using KOS to just manage staging? if so you should be able to watch fuel flow by calculating the change in available fuel.\u003C/p\u003E\u003Cp\u003EIn the next release you will be able to watch the throttle directly with SHIP:CONTROL:MAINTHROTTLE.\u003C/p\u003E\n"},{"CreatedByName":"NeoMorph","CreatedById":58200,"CreatedDateTime":"2014-02-18T18:14:05Z","Content":"\n\u003Cp\u003EI\u0027m trying to make a program to handle the things that MechJeb cannot. Eventually I want to make the controls external to the game (ie hardware switches and displays) so being able to trigger sets of things like what happens in RL rockets can be done in my simulator.\u003C/p\u003E\u003Cp\u003EMaking MJ and kOS handle all eventualities can be harder than flying it all yourself. Eventually the system will be kOS, Mechjeb and Telemachus that will all work together. I do all my launches automatically and then do rendezvous and docking manually using things like the alignment guide and the Lazor docking cam.\u003C/p\u003E\u003Cp\u003EBut it was getting the shrouds to peel off before the tanks were empty (ie before the auto stage) was what was bugging me. I did figure out the fuel guestimate method but it varies. I just will have to wait until the throttle reading option in the next update I guess.\u003C/p\u003E\u003Cp\u003ELove tinkering with the programs through... Made a really nice booboo when a loop didn\u0027t break the way I expected and I ended up staging the whole of the rocket in 3 seconds. You should have seen Jeb\u0027s face heh.\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2014-02-18T18:14:08Z","Content":"\n\u003Cp\u003EThanks for continuing the project.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-18T18:44:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeoMorph\u0022 data-cite=\u0022NeoMorph\u0022\u003E\u003Cdiv\u003EHere is a simple query... How the heck do you check to see if the engines have cut out?\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know how to answer that for solid fuel boosters, but for liquid engines it\u0027s just a mater of running a loop that remembers how much total liquid fuel there was in the previous iteration of the loop, compares it to how much total liquid fuel there is now, and assumes that if the value is dropping that must mean the engines are firing. If the value is remaining constant then that means the engines aren\u0027t consuming any fuel - i.e. they\u0027ve cut out.\u003C/p\u003E\n"},{"CreatedByName":"NeoMorph","CreatedById":58200,"CreatedDateTime":"2014-02-18T20:05:40Z","Content":"\n\u003Cp\u003EActually you can\u0027t do it with SRBs because like fireworks, once you like the blue touch paper they are gonna go until they burn out (hence why you can\u0027t throttle SRB\u0027s down).\u003C/p\u003E\u003Cp\u003EI like the idea of the fuel test loop though... gonna try that in a minute. Nice one.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-18T20:27:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NeoMorph\u0022 data-cite=\u0022NeoMorph\u0022\u003E\u003Cdiv\u003EActually you can\u0027t do it with SRBs because like fireworks, once you like the blue touch paper they are gonna go until they burn out (hence why you can\u0027t throttle SRB\u0027s down).\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know that. But your question had nothing to do with asking how to control them. You were asking how to detect that engines have cut out, which would be a valid thing to ask about solid boosters. You can\u0027t affect when they\u0027ll cut out but you might want to try to detect when it has happened. So that\u0027s why I thought it necessary to point out that I was only offering a solution for liquid fuel engines. Your question could very easily have applied to SRBs, but my answer didn\u0027t so I thought I should mention that.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI like the idea of the fuel test loop though... gonna try that in a minute. Nice one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI also made an asparagus stage trigger that worked by remembering the RATE at which fuel is being consumed, so it could detect when some but not all the engines stopped firing. (i.e. if it used to be dropping at 90 units per sec and now it\u0027s dropping at 60 units per sec, and I haven\u0027t changed the throttle setting, that probably means 1/3 of the engines have just stopped and it\u0027s time to drop a stage.) The problem is that it\u0027s normal for there to be small fluctuations in measurements because the amount of time it takes to execute a kOS statement is not fixed, so I had to add some tolerance for normal small changes. (In principle the time to execute a kOS statement is fixed in the kOS mod\u0027s code, but in practice it\u0027s not quite 100% the same each time, probably because KSP itself has some slight fluctuation in the time it takes between calling the hooks into kOS.)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-18T20:34:04Z\u0022 title=\u002202/18/2014 08:34  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 18, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NeoMorph","CreatedById":58200,"CreatedDateTime":"2014-02-18T23:11:02Z","Content":"\n\u003Cp\u003EI can see how you thought that regarding my query... but I did say that I was after figuring out how to check before the fuel in the tank ran out though. \u003C/p\u003E\u003Cp\u003ESome of the stuff I am putting together means working with multiple computer languages and with all the ones already in my head it gets a bit crowded and confusing. From KSP to SQL to Arduino to VB to PIC programming it gets frustrating at the best of times so if I came off trying to teach granny to suck eggs it wasn\u0027t intentional.\u003C/p\u003E\n"},{"CreatedByName":"J.Random","CreatedById":63332,"CreatedDateTime":"2014-02-19T07:02:28Z","Content":"\n\u003Cp\u003EThis mod needs an actual documentation and consistency. e.g., velocity is a vector. Why doesn\u0027t it have usual vector suffixes? Which suffixes does it have? In which reference frame do rotational vectors (R()) operate? Where are surface-related prograde/retrograde vectors - are there any at all?\u003C/p\u003E\u003Cp\u003ETerminal window input conflicts with HullCameraVDS controls (-/=/BS).\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-19T08:13:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022J.Random\u0022 data-cite=\u0022J.Random\u0022\u003E\u003Cdiv\u003EThis mod needs an actual documentation and consistency. e.g., velocity is a vector. Why doesn\u0027t it have usual vector suffixes? Which suffixes does it have? In which reference frame do rotational vectors (R()) operate? Where are surface-related prograde/retrograde vectors - are there any at all?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWe have been talking about lately how to deal with the inconsistency in reference frame that the KSP API presents to us and how we want to abstract away the crazy from kOS scripters. Expect more of this in weeks to come.\u003C/p\u003E\u003Cp\u003EVelocity is not a vector, It is a structure with a few vectors in it \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://erendrake.github.io/KOS/structure/vessel/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://erendrake.github.io/KOS/structure/vessel/\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThis is the new documentation site that we started this weekend and will keep working on \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022J.Random\u0022 data-cite=\u0022J.Random\u0022\u003E\u003Cdiv\u003ETerminal window input conflicts with HullCameraVDS controls (-/=/BS).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat would you like us to do about this?\u003C/p\u003E\n"},{"CreatedByName":"J.Random","CreatedById":63332,"CreatedDateTime":"2014-02-19T08:54:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EWe have been talking about lately how to deal with the inconsistency in reference frame that the KSP API presents to us and how we want to abstract away the crazy from kOS scripters. Expect more of this in weeks to come.\u003Cp\u003EVelocity is not a vector, It is a structure with a few vectors in it \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://erendrake.github.io/KOS/structure/vessel/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://erendrake.github.io/KOS/structure/vessel/\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, that\u0027s what got me confused. If you type \u0060print velocity.\u0060, you will get only the first vector as output (in form of V(double,double,double), it seems), and you won\u0027t be able to do anything with it. velocity:{orbit,surface}:{x,y,z,mag} works, thanks.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EWhat would you like us to do about this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, from some early version I remember a bug when typing in terminal would stage vessel, kill throttle, etc. You can\u0027t block hooks installed by other mods from execution? If not - sorry, didn\u0027t know that.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-19T17:19:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022J.Random\u0022 data-cite=\u0022J.Random\u0022\u003E\u003Cdiv\u003EAh, that\u0027s what got me confused. If you type \u0060print velocity.\u0060, you will get only the first vector as output (in form of V(double,double,double).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou are correct, Honestly i have been thinking about taking it out because its fairly useless and confusing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022J.Random\u0022 data-cite=\u0022J.Random\u0022\u003E\u003Cdiv\u003EWell, from some early version I remember a bug when typing in terminal would stage vessel, kill throttle, etc. You can\u0027t block hooks installed by other mods from execution? If not - sorry, didn\u0027t know that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Efully trapping keys is not something I have looked at yet and should. It does look like HullCameraVDS does allow you to move its keybindings if it is really bothering you. \u003C/p\u003E\u003Cp\u003Eif you add a ticket to the github issue tracker we can try to work on it soon \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"BahamutoD","CreatedById":72433,"CreatedDateTime":"2014-02-19T19:16:03Z","Content":"\n\u003Cp\u003EI installed 0.11 to test it out, but it seems that it\u0027s not working properly for me.\u003C/p\u003E\u003Cp\u003EI have a ship where a smaller ship equipped with fuel, thruster, and KOS computer will detach and launch upwards.\u003C/p\u003E\u003Cp\u003EWith ag1 set to decouple and activate engine, I ran this script:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Etoggle ag1.\u003Cbr\u003Elock throttle to 1.\u003Cbr\u003Esas off.\u003Cbr\u003Elock steering to up.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe ship decouples and its engine activates but the throttle and steering don\u0027t get locked to their assignments.\u003C/p\u003E\u003Cp\u003EI switched to the ship that detached and tried entering some commands manually. It seems \u0022stage.\u0022 and \u0022sas off.\u0022 and simple toggles like those work, but locking steering or throttle has no effect.\u003C/p\u003E\u003Cp\u003EHow do I get this working?\u003C/p\u003E\n"}]}