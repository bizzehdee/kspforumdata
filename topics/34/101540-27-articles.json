{"TopicId":101540,"ForumId":34,"TopicTitle":"[1.4.x] TweakScale v2.3.12(Apr-16)","CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2015-03-08T17:31:16Z","PageNum":27,"Articles":[{"CreatedByName":"naidis","CreatedById":115786,"CreatedDateTime":"2016-05-06T12:38:27Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, pellinor said:\n\u003E \n\u003E \n\u003E Doesn\u0027t happen for me, and I can not install everyone\u0027s huge modlist just to see that most problems are caused by messed up installs (and therefore not reproducible with a clean install of those mods). However there have been changes in the handling of mass, so totally possible that this is a new mod interaction problem.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Could you narrow this down to fewer mods? Also, cutting away the open right click menu in the screenshot is not the best idea, you\u0027d want to show as much information as possible. It could also help if you can say that the problem appeared with a certain version of TweakScale or some other mod.\n\u003E \n\nSince only pods have this issue, I assume it\u0027s caused by mods adding functions to pods.\n\nI tried removing StockPlugins and it\u0027s working correctly now."},{"CreatedByName":"Patrykz94","CreatedById":144737,"CreatedDateTime":"2016-05-06T17:12:06Z","Content":"I can confirm that I did have an issues with resized fins, I did remove parts 1-by-1 from the craft and found that whenever I had resized fins attached, my craft would slowly raise even when attached to launch clamps, after a while it was starting to shake uncontrollably and crashed my game a few times. Didn\u0027t happen with regular non-resized fins. This was in the previous version thoug.\n\nIn the version that came out yesterday (5th of March) I noticed another bug (don\u0027t know if it was there before but I noticed it now) I installed MFT again as it says that the compatibility for it was fixed. Whenever i resize a fuel tank or any part that can store fuel with MFT, the dry mass of the parts is calculated incorrectly. It shows the correct dry mass on the right click menu in VAB (thats what MFT displays I believe) but the actual dry mass of the part is different and when parts are scaled down it can go to negative. I tested to see if it is just a bug in displaying the mass incorrectly in the VAB but on the launchpad, a craft with negative mass with slowly start raising and if there is any other part on the craft that has mass, the craft flips around so that part is on the bottom (makes sense since it\u0027s heavier). This doesn\u0027t happen when I resize a procedural tank so I\u0027m guessing it is an issue with tweak scale calculating dry mass incorrectly."},{"CreatedByName":"julijan1604","CreatedById":160770,"CreatedDateTime":"2016-05-06T17:25:28Z","Content":"it doesnt work for me anymore as of 1.1 update , when right click any part in the game and im 100% sure that the parts i have tried to right click was scaleable in 1.0.5 and whenever i see a update(i install mods with CKAN) im just crossing my fingers in hope of it might contain a fix for my problem but HELL NO IT AINT CHANGING THE SMALLEST CRAP.\n\n**Edited \u003Ctime datetime=\u00222016-05-06T18:02:32Z\u0022 title=\u002205/06/2016 06:02  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 6, 2016\u003C/time\u003E by Red Iron Crown**\n  \nEasy with the language, please."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-05-07T07:18:07Z","Content":"[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)  Please remove the following Tweakscale exponent from next version\n\n    TWEAKSCALEEXPONENTS:NEEDS[InterstellarFuelSwitch]\n    {\n        name = InterstellarFuelSwitch\n        volumeMultiplier = 3\n        massMultiplier = 3\n    }\n\nThey are obsolete and not functional for a very long time, I want to clean them up\n\n**Edited \u003Ctime datetime=\u00222016-05-11T08:14:06Z\u0022 title=\u002205/11/2016 08:14  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 11, 2016\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"Ferigad","CreatedById":67168,"CreatedDateTime":"2016-05-07T17:20:20Z","Content":"Honestly, i got a funny issue.\n\nI assume it happens because of a conflict with another mod. But i really can\u00B4t figure out witch mod at the moment.\n\nTweakscales somehow changes the atmosphere of Kerbal and the parachute is unable to create a drag. A simple capsule with the starter booster will reach a high of 34-40 km and in free fall a speed of 600 m/s and more. Even 5 chutes won\u00B4t break it down, because the atmosphere seems not thick enough to create a drag. At the moment i got it deactivated again.\n\nAnd yeah, with some cheats i was able to break the speed down to around 100 m/s at 2500 meter to the ground. The chutes did activate, but they simple didnt open. It was more like an extrem slow motion from the chute animation without getting a \u0022Fully deployed\u0022 sound at all until it hit the ground with 80 m/s\n\nMore then enough time with 5 chutes deployed.\n\n**Edited \u003Ctime datetime=\u00222016-05-07T17:28:30Z\u0022 title=\u002205/07/2016 05:28  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 7, 2016\u003C/time\u003E by Ferigad**"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2016-05-07T20:50:39Z","Content":"Tweakscale is cause a problem with the LY-01 landing gear.  In mirror symmetry the wheel does not attach properly.  It works fine without Tweakscale installed.![mVVlCLi.png](http://i.imgur.com/mVVlCLi.png)"},{"CreatedByName":"coyotepunk05","CreatedById":162258,"CreatedDateTime":"2016-05-08T05:41:27Z","Content":"So glad this is updated.![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2016-05-08T13:48:58Z","Content":"Would it be possible to enhance Tweakscale so that it not just changes the size of a single part but of a whole craft?\n\nAs example you build a satellite and then change its scale from 1.25m to 0.625m to bring it as a whole into orbit."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T16:33:18Z","Content":"\u003E \n\u003E \n\u003E On 7.5.2016 at 10:50 PM, Alshain said:\n\u003E \n\u003E \n\u003E Tweakscale is cause a problem with the LY-01 landing gear.  In mirror symmetry the wheel does not attach properly.  It works fine without Tweakscale installed.\n\u003E \n\nConfirmed, thanks for bringing this up."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T16:51:15Z","Content":"\u003E \n\u003E \n\u003E On 7.5.2016 at 7:20 PM, Ferigad said:\n\u003E \n\u003E \n\u003E Honestly, i got a funny issue.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I assume it happens because of a conflict with another mod. But i really can\u00B4t figure out witch mod at the moment.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Tweakscales somehow changes the atmosphere of Kerbal and the parachute is unable to create a drag. A simple capsule with the starter booster will reach a high of 34-40 km and in free fall a speed of 600 m/s and more. Even 5 chutes won\u00B4t break it down, because the atmosphere seems not thick enough to create a drag. At the moment i got it deactivated again.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And yeah, with some cheats i was able to break the speed down to around 100 m/s at 2500 meter to the ground. The chutes did activate, but they simple didnt open. It was more like an extrem slow motion from the chute animation without getting a \u0022Fully deployed\u0022 sound at all until it hit the ground with 80 m/s\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E More then enough time with 5 chutes deployed.\n\u003E \n\nDoesn\u0027t happen for me. Can you narrow that down some more?\n\n\u003E \n\u003E \n\u003E On 7.5.2016 at 9:18 AM, FreeThinker said:\n\u003E \n\u003E \n\u003E [@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)  Please remove the following Tweakscale exponent from next version  \n\u003E \n\u003E They obsolete and not functional for a very long time, I want to clean them up\n\u003E \n\nDone (in the current dev version)."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T17:04:18Z","Content":"\u003E \n\u003E \n\u003E On 6.5.2016 at 7:25 PM, julijan1604 said:\n\u003E \n\u003E \n\u003E it doesnt work for me anymore as of 1.1 update , when right click any part in the game and im 100% sure that the parts i have tried to right click was scaleable in 1.0.5 and whenever i see a update(i install mods with CKAN) im just crossing my fingers in hope of it might contain a fix for my problem but HELL NO IT AINT CHANGING THE SMALLEST CRAP.\n\u003E \n\nIf it works for me and for others this is more than likely a problem on your end. You could try a clean install without CKAN for example.\n\n\u003E \n\u003E \n\u003E On 6.5.2016 at 2:38 PM, naidis said:\n\u003E \n\u003E \n\u003E Since only pods have this issue, I assume it\u0027s caused by mods adding functions to pods.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I tried removing StockPlugins and it\u0027s working correctly now.\n\u003E \n\nThat is a very good start. I had a look into StockPlugins and it is just a set of configs which move part modules around. So likely one of those modules does not like TweakScale (or actively tries to adapt to it and that interaction broke). I\u0027m familiar with KER, kOS, Mechjeb. Do you use any other mod that StockPlugins affects?\n\n**Edited \u003Ctime datetime=\u00222016-05-09T17:10:43Z\u0022 title=\u002205/09/2016 05:10  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by pellinor**"},{"CreatedByName":"Ferigad","CreatedById":67168,"CreatedDateTime":"2016-05-09T17:23:50Z","Content":"\u003E \n\u003E \n\u003E 29 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E Doesn\u0027t happen for me. Can you narrow that down some more?\n\u003E \n\nWell, i really would like too. Maybe it was a file corruption. I tried another download of tweakscale, this time from another source and reinstalled KSP. Now it all works again. So i don\u00B4t think the issue was with the mod itself... had to been some data corruption or something like that. Works perfect now."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-05-09T17:27:29Z","Content":"\u003E \n\u003E \n\u003E On 5-5-2016 at 9:44 PM, pellinor said:\n\u003E \n\u003E \n\u003E [Release v2.2.10:](http://spacedock.info/mod/127/TweakScale)  \n\u003E \n\u003E \\* make sure the exponents are applied before notifying other mods through the API (needed for interaction with FAR)\n\u003E \n\nDid you know this broke all my mods?"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T17:36:56Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, FreeThinker said:\n\u003E \n\u003E \n\u003E Did you know this broke all my mods?\n\u003E \n\nThe changes in mass handling broke all sorts of interactions. So I needed to change the order of some operations. And I am totally fine with tweaking that order again if it helps. So is this meant as a request for cooperation or blame for something you already fixed?\n\nEdit: by the way those exponents were still in because you once requested them and never cleaned them up.\n\n**Edited \u003Ctime datetime=\u00222016-05-09T17:46:39Z\u0022 title=\u002205/09/2016 05:46  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by pellinor**"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-05-09T18:01:15Z","Content":"\u003E \n\u003E \n\u003E 46 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E The changes in mass handling broke all sorts of interactions. So I needed to change the order of some operations. And I am totally fine with tweaking that order again if it helps. So is this meant as a request for cooperation or blame for something you already fixed?\n\u003E \n\n~~First I notice there is actually a change between the VAB and in flight tweakscaled mass behavior, is this intentional or an oversight?~~\n\nSecond I initially received the correct initial mass, at startup from the part starting mass, which originally was set by Tweakscale, I then used this value to calculate my delta mass. Now this is no longer the case,\n\nedit: about the exponent, it can be removed, the OnRescale method handles mass and volume scaling , it allows me to be more flexible with scaling\n\n**Edited \u003Ctime datetime=\u00222016-05-09T18:23:27Z\u0022 title=\u002205/09/2016 06:23  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T18:24:15Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, FreeThinker said:\n\u003E \n\u003E \n\u003E First I notice there is actually a change between the VAB and in flight tweakscaled mass behavior, is this intentional or an oversight?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Second I initially received the correct initial mass, at startup from the part starting mass, which originally was set by Tweakscale, I then used this value to calculate my delta mass. Now this is no longer the case,\n\u003E \n\nHow did you receive that mass? part.mass should no longer be changed by mods, and TweakScale respects this with the current update. Since mass changes are supposed to happen only via getModuleMass, I now hold a field massScale, and make sure that this field is written before I notifying other modules. My getModuleMass then reports prefab.mass\\*(massScale-1).\n\nThe main difference I am aware of is that parts in the editor come to life OnStart, while scaling in flight needs to happen OnLoad. And that the editor already ignored part.mass and listened to getModuleMass before, while the flight scane changed to that behavior in 1.1. Not sure if that is what you are referring to. In both cases TweakScale is supposed to report the correct mass as soon as it knows that value."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-05-09T18:50:24Z","Content":"\u003E \n\u003E \n\u003E 33 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E How did you receive that mass? part.mass should no longer be changed by mods, and TweakScale respects this with the current update. Since mass changes are supposed to happen only via getModuleMass, I now hold a field massScale, and make sure that this field is written before I notifying other modules. My getModuleMass then reports prefab.mass\\*(massScale-1).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The main difference I am aware of is that parts in the editor come to life OnStart, while scaling in flight needs to happen OnLoad. And that the editor already ignored part.mass and listened to getModuleMass before, while the flight scane changed to that behavior in 1.1. Not sure if that is what you are referring to. In both cases TweakScale is supposed to report the correct mass as soon as it knows that value.\n\u003E \n\nI never set the part.mass, I read it out. Before the change, I simply read out  the part.mass to receive the correct mass, now I receive prefab mass, which is useless.\n\nThe problem I that I\u0027m missing the scale factor at startup (in flight). If OnRescale would be called at startup while in flight, I would know the scaling factor and I would be able to calculate the correct initial mass.\n\nOtherwise I have to someway store the scaling factor in a field which would be unreliable.\n\nEdit: or are there any other way to get the scaling factor reliably?\n\n**Edited \u003Ctime datetime=\u00222016-05-09T18:58:45Z\u0022 title=\u002205/09/2016 06:58  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-09T19:22:13Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, FreeThinker said:\n\u003E \n\u003E \n\u003E I never set the part.mass, I read it out. Before the change, I simply read out  the part.mass to receive the correct mass, now I receive prefab mass, which is useless.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The problem I that I\u0027m missing the scale factor at startup (in flight). If OnRescale would be called at startup while in flight, I would know the scaling factor and I would be able to calculate the correct initial mass.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Otherwise I have to someway store the scaling factor in a field which would be unreliable.\n\u003E \n\nI\u0027m just saying that I used to set part.mass, and the devs clearly stated that this is against the new design of mass handling. In earlier versions the writing access was still in because I didn\u0027t clean it up yet. And the value would survive for some undefined amount of time before the game overwrites it with prefab.mass.\n\nIn flight, onRescale should be called OnLoad, and with the latest changes massScale is available when that call is done. With massScale and the prefab mass you should have all the mass-related info. This is how FAR does it:  \n[https://github.com/ferram4/Ferram-Aerospace-Research/commit/5f8893b6e5d8e8444ce5679c8a284ca36481fe96](https://github.com/ferram4/Ferram-Aerospace-Research/commit/5f8893b6e5d8e8444ce5679c8a284ca36481fe96)\n\nIf you explicitly need the scaling factor at some other time, it is equal to (currentScale/defaultScale) (both are kspFields from the TweakScale module). I don\u0027t know what \u0027at startup\u0027 means, the hooks I know are OnLoad and OnStart. In flight I need to use the earlier OnLoad trigger because otherwise it would be too late to scale the colliders."},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2016-05-09T20:14:41Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E I\u0027m just saying that I used to set part.mass, and the devs clearly stated that this is against the new design of mass handling. In earlier versions the writing access was still in because I didn\u0027t clean it up yet. And the value would survive for some undefined amount of time before the game overwrites it with prefab.mass.\n\u003E \n\nWell that call ensured that I got the initial mass, even if it was overridden the next frame. There was a window of opportunity.\n\n\u003E \n\u003E \n\u003E 39 minutes ago, pellinor said:\n\u003E \n\u003E \n\u003E In flight, onRescale should be called OnLoad, and with the latest changes massScale is available when that call is done. With massScale and the prefab mass you should have all the mass-related info.\n\u003E \n\nGreat, this is what I needed. Thank you"},{"CreatedByName":"JeeF","CreatedById":143053,"CreatedDateTime":"2016-05-09T20:34:55Z","Content":"Don\u0027t know if this has been reported yet or if this is the right place, but:\n\nAtm tweakscale is causing some weird bugs when used together with Realism Overhaul.\n\nEasiest way to reproduce is to attach an AV-R8 Winglet to a rocket. On the launchpad you\u0027ll see it floating and unresponsive, regardless of actually changing the scale of the part itself.\n\nHaven\u0027t had any bugs with any other parts tested, but then again I haven\u0027t tested that many parts.\n\n**Edited \u003Ctime datetime=\u00222016-05-09T20:35:32Z\u0022 title=\u002205/09/2016 08:35  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 9, 2016\u003C/time\u003E by JeeF**"},{"CreatedByName":"charliepryor","CreatedById":163624,"CreatedDateTime":"2016-05-10T00:11:41Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, JeeF said:\n\u003E \n\u003E \n\u003E Don\u0027t know if this has been reported yet or if this is the right place, but:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Atm tweakscale is causing some weird bugs when used together with Realism Overhaul.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Easiest way to reproduce is to attach an AV-R8 Winglet to a rocket. On the launchpad you\u0027ll see it floating and unresponsive, regardless of actually changing the scale of the part itself.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Haven\u0027t had any bugs with any other parts tested, but then again I haven\u0027t tested that many parts.\n\u003E \n\nTweakscale \u002B FAR \u002B winglets = Broken. Lots have stated it here."},{"CreatedByName":"pellinor","CreatedById":85299,"CreatedDateTime":"2016-05-10T22:11:17Z","Content":"\u003E \n\u003E \n\u003E 21 hours ago, charliepryor said:\n\u003E \n\u003E \n\u003E Tweakscale \u002B FAR \u002B winglets = Broken. Lots have stated it here.\n\u003E \n\nAnd to my knowledge it should already be fixed in the current TweakScale version and the dev version of FAR.\n\n\u003E \n\u003E \n\u003E On 9.5.2016 at 10:14 PM, FreeThinker said:\n\u003E \n\u003E \n\u003E Well that call ensured that I got the initial mass, even if it was overridden the next frame. There was a window of opportunity.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Great, this is what I needed. Thank you\n\u003E \n\nYou\u0027re most welcome.\n\nThat window of opportunity was a call for trouble, so I really had to get rid of it. There is already more mass trouble appearing in the vincinity of KIS and kOS, likely also because of conflicts with part.mass (both write it)."},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2016-05-11T14:09:26Z","Content":"\u003E \n\u003E \n\u003E On May 7, 2016 at 4:50 PM, Alshain said:\n\u003E \n\u003E \n\u003E Tweakscale is cause a problem with the LY-01 landing gear.  In mirror symmetry the wheel does not attach properly.  It works fine without Tweakscale installed.[![mVVlCLi.png](http://i.imgur.com/mVVlCLi.png)](http://i.imgur.com/mVVlCLi.png \u0022Enlarge image\u0022)\n\u003E \n\n[@pellinor](https://forum.kerbalspaceprogram.com/index.php?/profile/85299-pellinor/)\n\nThis is still an issue."},{"CreatedByName":"ss8913","CreatedById":94747,"CreatedDateTime":"2016-05-12T06:14:22Z","Content":"I\u0027m having an issue scaling the stock \u0022Big S Delta Wing\u0022 part - this is a fairly core part for my spaceplane division, I use them almost exclusively and have since they were introduced back in 0.90 or whenever that was.  Before now, the scaling detentes were 100, 200, 400, and I could drag the slider to get anything in between 100 and 400 inclusive (or smaller, I suppose, but I never wanted/needed that).\n\nIn 1.1.2 \u002B Tweakscale, the detentes are 100, 200, and that\u0027s it.  However if you click the \u003E\u003E again you get the 400% size, but the slider still says 200% (!).  And there\u0027s no way to drag the slider to get values between 200 and 400 - I used to use 250% and 300% a lot, and now that\u0027s seemingly unavailable.  I can drag the slider between 100-200, but above 200 it\u0027s 400% or nothing.  Is this a bug or did something change in the expected behavior?  I\u0027m assuming that if the slider is maxed at 200% and I can click \u003E\u003E again to get a \u0022secret\u0022 scaling value that this is in fact a bug, but .. that\u0027s why I\u0027m asking here.  Again the part itself is part of the base KSP distribution."},{"CreatedByName":"casper88","CreatedById":144962,"CreatedDateTime":"2016-05-12T08:15:40Z","Content":"have an interesting bug with tweakscale...\n\nif i rescale a command part ie pod or probe. the craft starts to climb on the spot:\n\nhow to replicate...\n\nroot part mk1 cockpit \n\nplace a pod on the node and lower the scale of the pod \u003E\u003Elaunch \u003E\u003E watch it climb"}]}