{"TopicId":51591,"ForumId":34,"TopicTitle":"[1.1.3] AntennaRange 1.11.4 - Enforce and Encourage Antenna Diversity","CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-11-02T19:37:49Z","PageNum":6,"Articles":[{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2014-07-15T15:41:19Z","Content":"\n\u003Cp\u003E@toadicus here is a post from JDP the first modder of RemoteTech said ok to any of his dishs \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/83305-Development-Resumed-RemoteTech-2?p=1263700\u0026amp;viewfull=1#post1263700\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/83305-Development-Resumed-RemoteTech-2?p=1263700\u0026amp;viewfull=1#post1263700\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-16T03:23:35Z","Content":"\n\u003Cp\u003EHey all, just dropping a line to say we\u0027ll have a little quality of life update whenever 0.24 drops. It\u0027ll include configurability for the LOS \u0022fudge factor\u0022, 0.24 compatibility, and basically nothing else! Development is underway on the Big Rewrite, but not done yet.\u003C/p\u003E\n"},{"CreatedByName":"NJC2","CreatedById":83404,"CreatedDateTime":"2014-07-16T06:21:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EThe LOS code has a 5% \u0022grace\u0022 figure in it to make satellite constellations easier with stock tools. That is, line of sight will be granted when the distance from the center of a body to the line ended by both relays is greater than 95% of the radius of the body. On Mun, that should mean that two vehicles at \u0022zero\u0022 level on the surface can contact each other from about 127 km apart, or more if the antennas are raised above the surface. Also, terrain is not considered whatsoever: if one antenna is up on the highlands a few kilometers above \u0022zero\u0022 level, you\u0027ll get even more distance out of the grace number. Considering terrain is complicated and expensive from a calculations standpoint, and pretty much completely useless for orbiting vessels, so at this point I\u0027m not planning to add such a function.\u003Cp\u003EI \u003Cem\u003Ewill\u003C/em\u003E make the grace figure configurable in config.xml in the next release, though, so you can make things tougher on yourself. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI kind of figured terrain couldn\u0027t be accounted for with LOS, which is why I was OK with it relaying while I was ~20km from it. A 5% grace doesn\u0027t seem like much until you look at it on the map. I\u0027m even farther away now, nearly to the Norther Basin, ~110km away. It looks like I\u0027m almost halfway around the Mun and can still relay through that probe.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EHey all, just dropping a line to say we\u0027ll have a little quality of life update whenever 0.24 drops. It\u0027ll include configurability for the LOS \u0022fudge factor\u0022, 0.24 compatibility, and basically nothing else! Development is underway on the Big Rewrite, but not done yet.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan I make another suggestion? Can you give Kerbals a short range transmitter (1km or so) so they can relay EVA reports through their ship/lander/rover that they are standing next to? It seems odd that they have to get back in the ship/lander/rover to transmit EVA reports taken from outside.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-16T15:16:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NJC2\u0022 data-cite=\u0022NJC2\u0022\u003E\u003Cdiv\u003EI kind of figured terrain couldn\u0027t be accounted for with LOS, which is why I was OK with it relaying while I was ~20km from it. A 5% grace doesn\u0027t seem like much until you look at it on the map. I\u0027m even farther away now, nearly to the Norther Basin, ~110km away. It looks like I\u0027m almost halfway around the Mun and can still relay through that probe.\u003Cp\u003ECan I make another suggestion? Can you give Kerbals a short range transmitter (1km or so) so they can relay EVA reports through their ship/lander/rover that they are standing next to? It seems odd that they have to get back in the ship/lander/rover to transmit EVA reports taken from outside.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, the Mun\u0027s terrain is also mostly pretty high elevation, which compounds the problem. I\u0027ll be interested to hear what feels like a good \u0022fudge factor\u0022 to you once you get the new version. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ETo your other suggestion: I think I \u003Cem\u003Ecan\u003C/em\u003E do that now. Probably. I\u0027ll have to mess around and see if it works as expected. Ordinarily Kerbals don\u0027t carry ElectricCharge, so I\u0027d need to give them some of that, too; I should be able to do it in a way that synergizes with TACLS. Probably won\u0027t happen before the 0.24 refresh, but who knows!\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-17T23:28:46Z","Content":"\n\u003Cp\u003EAntennaRange has been updated to version 1.4! This version brings 0.24 compatibility and a configurable option for the \u0022fudge factor\u0022 used in LOS calculations.\u003C/p\u003E\u003Cp\u003ECHANGELOG:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ev.1.4 [2014-07-17]\u003Cbr\u003E* Updated for KSP 0.24.\u003Cbr\u003E* Made the \u0022fudge factor\u0022 used in line of sight calculations configurable.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-17T23:51:18Z","Content":"\n\u003Cp\u003EYou rock! Thanks! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NJC2","CreatedById":83404,"CreatedDateTime":"2014-07-18T01:57:56Z","Content":"\n\u003Cp\u003EI just saw the news of .24 release! Will the new version of this mod work in .23.5? I\u0027m going to keep playing the old version until all of my mods get updated and I finish current missions? If nobody replies by the time I get home and play (in just a little bit) I guess I\u0027ll find out and edit my post.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-18T02:29:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NJC2\u0022 data-cite=\u0022NJC2\u0022\u003E\u003Cdiv\u003EI just saw the news of .24 release! Will the new version of this mod work in .23.5? I\u0027m going to keep playing the old version until all of my mods get updated and I finish current missions? If nobody replies by the time I get home and play (in just a little bit) I guess I\u0027ll find out and edit my post.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m going to guess it will, but I can\u0027t guarantee it. Try it and find out! If not, let me know; there might be something I can do to help out. Also, you can always redownload the old version (\u003Ca href=\u0022http://ksp.hawkbats.com/AntennaRange/AntennaRange-1-3.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://ksp.hawkbats.com/AntennaRange/AntennaRange-1-3.zip\u003C/a\u003E).\u003C/p\u003E\u003Cp\u003EEDIT: I\u0027ve got a stock toolbar button working nicely. Now I just need my artist to get back and make a higher resolution icon so I can give you something that doesn\u0027t look awful forever. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T05:20:27Z\u0022 title=\u002207/18/2014 05:20  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by toadicus\u003C/strong\u003E\n\u003Cbr\u003EAdded info about the stock toolbar\n\u003C/span\u003E\n"},{"CreatedByName":"NJC2","CreatedById":83404,"CreatedDateTime":"2014-07-18T11:15:01Z","Content":"\n\u003Cp\u003EI didn\u0027t try the new version on .23.5. I decided to just stick with .23.5 with everything the way it is until all the mods I\u0027m using get updated to .24. I have a few things I want to finish in my current career before starting over in .24 too.\u003C/p\u003E\u003Cp\u003EWhen there are multiple antennas on, how does the mod chose which one to use? Tonight I finished up my Mun rover mission, and it returned to the orbital science station. The station itself has a Communitron 16 and a DTS-M1, the transfer ship has a DTS-M1, the rover has a Communitron 16, and there is an emergency rescue lander with another Communitron 16. After the rover docked with the station, I transmitted some science back to Kerbin, and for some odd reason it used one of the Communitron 16\u0027s and relayed it through a probe on the surface. I\u0027m assuming it used a Communitron because I could see both dishes and neither one animated. Kerbin was directly overhead, so why didn\u0027t it just use one of the DTS-M1 dishes to transmit directly back to Kerbin? Earlier when I docked the rover after shipping it from Kerbin, when I transmitted some science back and it used the DTS-M1 on the crew ship.\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-07-18T13:38:13Z","Content":"\n\u003Cp\u003EDoes this mod add anything significant if one already has Remote Tech?\u003C/p\u003E\n"},{"CreatedByName":"ModZero","CreatedById":89470,"CreatedDateTime":"2014-07-18T13:53:55Z","Content":"\n\u003Cp\u003ENot really \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC it\u0027s a much less intrusive alternative to RT2.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-18T14:06:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EDoes this mod add anything significant if one already has Remote Tech?\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ModZero\u0022 data-cite=\u0022ModZero\u0022\u003E\u003Cdiv\u003ENot really \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC it\u0027s a much less intrusive alternative to RT2.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs ModZero suggests, this is more like \u0022RT2Lite\u0022 at this point. If you already have RT2, AntennaRange may: a) not function correctly; \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E not function at all; or c) break RT2, so in general it\u0027s a one-or-the-other option.\u003C/p\u003E\u003Cp\u003EEDIT: Here\u0027s a quote from a few pages back where I go over what I think are the primary differences.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EHonestly I\u0027ve never used RemoteTech so I have no idea what the differences are. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E But, based on what I think I\u0027ve gleaned about RemoteTech from watching Scott Manley\u0027s videos, here are some guesses:\u003Cp\u003EAntennaRange...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E does not have any time delay or any facility for programming future actions.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E does not have additive ranges; everything is transmitter-side (so if you have a whip antenna out at Jool, it can\u0027t phone home even if there is a big dish around Kerbin).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E does not require antennae to target other antennae and does not have any limit to the number of relays that can be \u0022connected\u0022 at any time.\u003C/span\u003E \u003Cem\u003Enot a difference per \u003C/em\u003E\u003Cstrong\u003E\u003Cem\u003EJeffreyCor\u003C/em\u003E\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E does not have those cool lines that show you which relays are connected to each other.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E does not maintain a persistent model of the relay network; everything is calculated dynamically as contact is required (or every few seconds, when probe connectivity is enabled and you\u0027re flying a probe).\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E allows line-of-sight and connectivity requirements to be disabled.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NJC2\u0022 data-cite=\u0022NJC2\u0022\u003E\u003Cdiv\u003EI didn\u0027t try the new version on .23.5. I decided to just stick with .23.5 with everything the way it is until all the mods I\u0027m using get updated to .24. I have a few things I want to finish in my current career before starting over in .24 too.\u003Cp\u003EWhen there are multiple antennas on, how does the mod chose which one to use? Tonight I finished up my Mun rover mission, and it returned to the orbital science station. The station itself has a Communitron 16 and a DTS-M1, the transfer ship has a DTS-M1, the rover has a Communitron 16, and there is an emergency rescue lander with another Communitron 16. After the rover docked with the station, I transmitted some science back to Kerbin, and for some odd reason it used one of the Communitron 16\u0027s and relayed it through a probe on the surface. I\u0027m assuming it used a Communitron because I could see both dishes and neither one animated. Kerbin was directly overhead, so why didn\u0027t it just use one of the DTS-M1 dishes to transmit directly back to Kerbin? Earlier when I docked the rover after shipping it from Kerbin, when I transmitted some science back and it used the DTS-M1 on the crew ship.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, I don\u0027t have a super clear picture of exactly what the setup was, but here\u0027s the facts. When transmitting from an experiment dialog, Squad\u0027s code uses a utility function called GetTransmitterScore to determine the \u0022most efficient\u0022 antenna to use. Squad\u0027s method of determining that is... pretty suspect, at any rate... so I\u0027ve helped it out a little bit. Here\u0027s my rationale, straight out of the code comments:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E/*\u003Cbr\u003E * The next two functions overwrite the behavior of the stock functions and do not perform equivalently, except\u003Cbr\u003E * in that they both return floats.  Here\u0027s some quick justification:\u003Cbr\u003E * \u003Cbr\u003E * The stock implementation of GetTransmitterScore (which I cannot override) is:\u003Cbr\u003E *              Score = (1 \u002B DataResourceCost) / DataRate\u003Cbr\u003E * \u003Cbr\u003E * The stock DataRate and DataResourceCost are:\u003Cbr\u003E *              DataRate = packetSize / packetInterval (units in \u0022bytes\u0022 per second)\u003Cbr\u003E *              DataResourceCost = packetResourceCost / packetSize (units in Charge per \u0022byte\u0022)\u003Cbr\u003E * \u003Cbr\u003E * So, the resulting score is essentially in terms of joules per byte per baud.  Rearranging that a bit, it\u003Cbr\u003E * could also look like joule-seconds per byte per byte, or newton-meter-seconds per byte per byte.  Either way,\u003Cbr\u003E * that metric is not a very reasonable one.\u003Cbr\u003E * \u003Cbr\u003E * Two metrics that might make more sense are joules per byte or watts per baud.  Since both of those metrics\u003Cbr\u003E * are closely coupled in Squad\u0027s model, they wind up exactly the same once you cancel things out:\u003Cbr\u003E * \u003Cbr\u003E *              DataRate = packetSize\u003Cbr\u003E *              DataResourceCost = packetResourceCost\u003Cbr\u003E * \u003Cbr\u003E * So... hopefully that doesn\u0027t screw with anything else.\u003Cbr\u003E * */\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPut concisely, with AntennaRange installed, Squad\u0027s code picks antennas based on the most efficient transmission in terms of ElectricCharge per MiT. Then, since Squad\u0027s antennas are balanced strangely, the Communotron 16 will always win when all three antennas are performing at their best.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\tPacket Size\t  Packet Cost\t    Score\u003Cbr\u003ECommunotron 16\t\t  8\t\t 10\t   1.375\u003Cbr\u003EDTS-M1\t\t\t  8\t\t 12.5\t   1.6875\u003Cbr\u003ECommunotron 88-88\t  8\t\t 20\t   2.625\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ELowest score wins.\u003C/p\u003E\u003Cp\u003ENow, to your circumstance. From what I can glean from your description, it sounds like you\u0027ve got two ships / satellites in Munar orbit and a rover on the Munar surface. When you transmit from one of the ships in Munar orbit, it uses the rover to phone home. This is probably because all three vessels are within optimal range for all three antennas, and the rover is closer to the orbital station than the other orbital vessel. If I\u0027m misunderstanding your setup, please let me know. A ship shouldn\u0027t be able to use itself as a future relay (that is, the orbital station can\u0027t transmit through the rover unless the rover has another route back to Kerbin, e.g. another orbital vessel), and if that\u0027s happening it\u0027s a bug.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-18T15:21:48Z\u0022 title=\u002207/18/2014 03:21  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 18, 2014\u003C/time\u003E by toadicus\u003C/strong\u003E\n\u003Cbr\u003EAdded response to NJC2\n\u003C/span\u003E\n"},{"CreatedByName":"NJC2","CreatedById":83404,"CreatedDateTime":"2014-07-19T01:16:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ENow, to your circumstance. From what I can glean from your description, it sounds like you\u0027ve got two ships / satellites in Munar orbit and a rover on the Munar surface. When you transmit from one of the ships in Munar orbit, it uses the rover to phone home. This is probably because all three vessels are within optimal range for all three antennas, and the rover is closer to the orbital station than the other orbital vessel. If I\u0027m misunderstanding your setup, please let me know. A ship shouldn\u0027t be able to use itself as a future relay (that is, the orbital station can\u0027t transmit through the rover unless the rover has another route back to Kerbin, e.g. another orbital vessel), and if that\u0027s happening it\u0027s a bug.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have a science station in orbit around the Mun. I have a rover/lander that goes down, gets samples and returns to dock with the station, so I can clean the experiments and go back for more. Also docked to the station is the ship that brought the crew and a rescue lander in case I crash the rover and need to rescue the Kerbal. Each ship has its own antenna(s). The station itself has a DTS-M1 and Communitron 16, the rescue lander has a Communitron 16, the crew ship has a DTS-M1 and the rover has a Communitron 16. A \u003Ca href=\u0022http://cloud-3.steampowered.com/ugc/37469491346894194/596A4D622EDD2CB8B4EA5B5DA2E35EA0DB8B7D28/\u0022 rel=\u0022external nofollow\u0022\u003Escreen shot\u003C/a\u003E might help see the setup. Also there are various unmanned probes scattered on the surface with DTS-M1 dishes.\u003C/p\u003E\u003Cp\u003EAfter I had returned the rover and docked to the station. When I transmitted some stuff to Kerbin, I didn\u0027t see the DTS-M1 fold out and the message said it was relaying through one of the probes on the surface. I just thought that was a bit odd since Kerbin was directly overhead and earlier before I sent the rover down I did some EVA reports and transmitted them and it used the DTS-M1 on the crew ship to transmit those.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-19T01:27:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EPut concisely, with AntennaRange installed, Squad\u0027s code picks antennas based on the most efficient transmission in terms of ElectricCharge per MiT.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat actually really interesting, I\u0027ve always wondered that. As I also have Science Revisited installed, it\u0027s interesting to see what combinations of antennas are used.\u003C/p\u003E\u003Cp\u003EFor reference, SR does this:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Rebalanced the antenna in weight, interval and resource costs\u003Cbr\u003E@PART[longAntenna]\u003Cbr\u003E{\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.8\t\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[mediumDishAntenna]\u003Cbr\u003E{\u003Cbr\u003E\t@mass = 0.025\u003Cbr\u003E\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.4\t\u003Cbr\u003E\t\t@packetResourceCost = 20.0\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[commDish]\u003Cbr\u003E{\u003Cbr\u003E\t@mass = 0.05\u003Cbr\u003E\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.2\t\u003Cbr\u003E\t\t@packetResourceCost = 40.0\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"stryth","CreatedById":106544,"CreatedDateTime":"2014-07-19T10:27:56Z","Content":"\n\u003Cp\u003EPretty intresting idea for a mod, I can certainly see why people would like it. By the way toadicus, if your iffy about using curseforge you could always try \u003Ca href=\u0022http://beta.kerbalstuff.com/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://beta.kerbalstuff.com/\u003C/a\u003E this place instead.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-19T14:21:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NJC2\u0022 data-cite=\u0022NJC2\u0022\u003E\u003Cdiv\u003EI have a science station in orbit around the Mun. I have a rover/lander that goes down, gets samples and returns to dock with the station, so I can clean the experiments and go back for more. Also docked to the station is the ship that brought the crew and a rescue lander in case I crash the rover and need to rescue the Kerbal. Each ship has its own antenna(s). The station itself has a DTS-M1 and Communitron 16, the rescue lander has a Communitron 16, the crew ship has a DTS-M1 and the rover has a Communitron 16. A \u003Ca href=\u0022http://cloud-3.steampowered.com/ugc/37469491346894194/596A4D622EDD2CB8B4EA5B5DA2E35EA0DB8B7D28/\u0022 rel=\u0022external nofollow\u0022\u003Escreen shot\u003C/a\u003E might help see the setup. Also there are various unmanned probes scattered on the surface with DTS-M1 dishes.\u003Cp\u003EAfter I had returned the rover and docked to the station. When I transmitted some stuff to Kerbin, I didn\u0027t see the DTS-M1 fold out and the message said it was relaying through one of the probes on the surface. I just thought that was a bit odd since Kerbin was directly overhead and earlier before I sent the rover down I did some EVA reports and transmitted them and it used the DTS-M1 on the crew ship to transmit those.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo, I tried a quick test to duplicate what I think you\u0027re saying. I didn\u0027t build a whole station, so it\u0027s not entirely fair:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://toad.homelinux.net/pics/KSP/arRelayTest0.png\u0022 alt=\u0022arRelayTest0.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EI accidentally put a Communotron 88-88 on the lander, so I parked it on the dark side of the Mun to make sure it couldn\u0027t phone home without the relay sat. In this circumstance, the satellite\u0027s Communotron 16 does not function, and its 88-88 phones back to Kerbin directly.\u003C/p\u003E\u003Cp\u003EEDIT: It just occured to me in looking at these images that you can\u0027t tell from the image above that the second satellite shown below isn\u0027t also in orbit already. So, for the record: it\u0027s not. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo, then I put together the condition I mentioned to you before:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://toad.homelinux.net/pics/KSP/arRelayTest1.png\u0022 alt=\u0022arRelayTest1.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe two sats are 120\u00C3\u201A\u00C2\u00B0 separated; both in view of the lander. Each sat will use the lander as a relay, because it\u0027s more efficient to send data there with the 16 than to use the 88-88. The eventual costs of relaying the data two more times aren\u0027t modeled at all at this point.\u003C/p\u003E\u003Cp\u003EIn the Big AR2 Rewrite I\u0027m working on, I think this sort of behaviour will be less common. That is, it should hopefully only happen when it\u0027s actually a better route.\u003C/p\u003E\u003Cp\u003EIf you only had one vessel in orbit, and the rescue lander didn\u0027t have any long range antennas, it shouldn\u0027t have been available as a relay. But, it\u0027s possible that I missed an event and when you docked things on orbit, one of them got left in the cache as an un-docked vessel and used. Docking is weird.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stryth\u0022 data-cite=\u0022stryth\u0022\u003E\u003Cdiv\u003EPretty intresting idea for a mod, I can certainly see why people would like it. By the way toadicus, if your iffy about using curseforge you could always try \u003Ca href=\u0022http://beta.kerbalstuff.com/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://beta.kerbalstuff.com/\u003C/a\u003E this place instead.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m planning to use KerbalStuff Soon\u00C3\u00A2\u00E2\u20AC\u017E\u00C2\u00A2. There are a couple of API pieces I\u0027m hoping for / waiting patiently for that would really streamline my process. For now, I have a few terabytes of bandwidth with nothing else to do; may as well host my KSP mods. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EThat actually really interesting, I\u0027ve always wondered that. As I also have Science Revisited installed, it\u0027s interesting to see what combinations of antennas are used.\u003Cp\u003EFor reference, SR does this:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Rebalanced the antenna in weight, interval and resource costs\u003Cbr\u003E@PART[longAntenna]\u003Cbr\u003E{\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.8\t\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[mediumDishAntenna]\u003Cbr\u003E{\u003Cbr\u003E\t@mass = 0.025\u003Cbr\u003E\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.4\t\u003Cbr\u003E\t\t@packetResourceCost = 20.0\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E@PART[commDish]\u003Cbr\u003E{\u003Cbr\u003E\t@mass = 0.05\u003Cbr\u003E\u003Cbr\u003E\t@MODULE[ModuleDataTransmitter]\u003Cbr\u003E\t{\u003Cbr\u003E\t\t@packetInterval = 0.2\t\u003Cbr\u003E\t\t@packetResourceCost = 40.0\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIMO, that actually makes the situation worse. In real life, a more-directive antenna should generally cost less power to get the same bandwidth, or put differently, should get better bandwidth for the same power. Were I to rebalance the antennas using Squad\u0027s current system, I\u0027d put all the power usages the same and increase the packet sizes for the dishes, so that they could be superior choices even once in a while. In AR, and AR\u002BSR, they don\u0027t become superior choices until the next best choice gets out past optimal range and starts losing efficiency.\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2014-07-19T17:55:42Z","Content":"\n\u003Cp\u003EWould there be away to set a dish to have line of sight but a Antenna have the fudge factor ?\u003C/p\u003E\u003Cp\u003EEDIT- Maybe 2 MODULE 1 for dishes and 1 for antenna\u0027s\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-19T22:31:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MeCripp\u0022 data-cite=\u0022MeCripp\u0022\u003E\u003Cdiv\u003EWould there be away to set a dish to have line of sight but a Antenna have the fudge factor ?\u003Cp\u003EEDIT- Maybe 2 MODULE 1 for dishes and 1 for antenna\u0027s\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI could easily add a \u0022fudge factor\u0022 field for dishes and antennas, but it would not be easy for me to make it tweakable because of the way AntennaRange deals with unloaded vessels, so any changes would require a change to the cfg files. That could exist in addition to or in place of the global \u0022fudge factor\u0022 (probably the former).\u003C/p\u003E\n"},{"CreatedByName":"John Nowak","CreatedById":67890,"CreatedDateTime":"2014-07-20T00:38:19Z","Content":"\n\u003Cp\u003EI just installed this mod and tried it out, thanks. \u003C/p\u003E\u003Cp\u003EWith the Communotron 16, I wasn\u0027t able to get a signal through to KSC from a 75km orbit. It did work from the ground, however. Is there something I need to configure or do to make it work from orbit? It\u0027s also possible that I damaged the antenna during launch, but it had a status of \u0022Locked\u0022 and it extended and retracted.\u003C/p\u003E\u003Cp\u003EThanks again for providing this, and thanks for any help.\u003C/p\u003E\n"},{"CreatedByName":"tygoo7","CreatedById":57345,"CreatedDateTime":"2014-07-20T07:03:56Z","Content":"\n\u003Cp\u003EDoes this mod work with other mods that have antennas?\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-20T09:47:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tygoo7\u0022 data-cite=\u0022tygoo7\u0022\u003E\u003Cdiv\u003EDoes this mod work with other mods that have antennas?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, here:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MeCripp\u0022 data-cite=\u0022MeCripp\u0022\u003E\u003Cdiv\u003EHere is a cfg to add AntennaRange to this list of parts with RT2 you need to zip up or delete the plugin folder and the cfg\u0027s here is a list of some of the mods it covers but, I do think, I need to cut the range on them, I just haven\u0027t got around to doing it.\u003Cp\u003ERemoteTech2\u003C/p\u003E\u003Cp\u003ESquad\u003C/p\u003E\u003Cp\u003EHyomoto Aerospace\u003C/p\u003E\u003Cp\u003EDmagic\u003C/p\u003E\u003Cp\u003EDongFangHong \u003C/p\u003E\u003Cp\u003EFASA By Frizzank \u0026amp; APOLLO By DennyTX\u003C/p\u003E\u003Cp\u003ENovaPunch\u003C/p\u003E\u003Cp\u003ETelemachus\u003C/p\u003E\u003Cp\u003ELionhead\u003C/p\u003E\u003Cp\u003E AIES\u003C/p\u003E\u003Cp\u003E LLL-Lite\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/xv2153q8ybfl1s6/AntennaRange2.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/xv2153q8ybfl1s6/AntennaRange2.cfg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-20T21:02:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John Nowak\u0022 data-cite=\u0022John Nowak\u0022\u003E\u003Cdiv\u003EI just installed this mod and tried it out, thanks. \u003Cp\u003EWith the Communotron 16, I wasn\u0027t able to get a signal through to KSC from a 75km orbit. It did work from the ground, however. Is there something I need to configure or do to make it work from orbit? It\u0027s also possible that I damaged the antenna during launch, but it had a status of \u0022Locked\u0022 and it extended and retracted.\u003C/p\u003E\u003Cp\u003EThanks again for providing this, and thanks for any help.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou should definitely be able to get a connection from anywhere in low Kerbin orbit with the Ctron 16; if you\u0027re not then something\u0027s afoot. Do you have a debug log (Windows: \\path\\to\\KSP_win\\KSP_Data\\output_log.txt; Linux: ~/.config/unity3d/Squad/Kerbal\\ Space\\ Program/Player.log; Mac: ~/Library/Logs/Unity/Player.log) I could look at to see if I can tell what\u0027s going wrong?\u003C/p\u003E\u003Cp\u003EOne thing worth doing up front would be to upgrade to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55219\u0022 rel=\u0022external nofollow\u0022\u003EModuleManager 2.2\u003C/a\u003E. I updated AntennaRange because MM 2.2 came out; no idea is 2.2 fixes anything in particular, but it\u0027s a good idea anyway.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-22T12:43:16Z","Content":"\n\u003Cp\u003EIs there anything that would slow down the antenna extending animation? If I extend the antenna manually by right clicking on it, it\u0027s fine and takes about 3.5 seconds. If I transmit data and the antenna extends automatically, it takes about 10 seconds. FRAPS is saying I\u0027m getting a solid 40 odd FPS with both situations, the MET colour stays green.. :/\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-23T00:34:15Z\u0022 title=\u002207/23/2014 12:34  AM\u0022 data-short=\u00229 yr\u0022\u003EJuly 23, 2014\u003C/time\u003E by ObsessedWithKSP\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2014-07-22T16:11:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003EIs there anything that would slow down the antenna extending animation? If I extend the antenna manually by right clicking on it, it\u0027s fine and takes about 3.5 seconds. If I transmit data and the antenna extends automatically, it takes about 10 seconds. FARSP is saying I\u0027m getting a solid 40 odd FPS with both situations, the MET colour stays green.. :/\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t change anything to do with the animations. I tried that once and it ended poorly. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E What I do know is this:\u003C/p\u003E\u003Cp\u003EThe antenna animations works two different ways. First, they can be toggle directly using ModuleAnimateGeneric\u0027s Start/Stop/Toggle methods. Second, they can be moved to specific points along the animation using IScalar methods. When I looked in to tweaking them for TE, the Extend/Retract events called ModuleAnimateGeneric\u0027s methods, which just says \u0022go\u0022 and then the animation plays at 1\u00C3\u0192\u00E2\u20AC\u201D speed. The \u0022transmit\u0022 methods in ModuleDataTransmitter, however, actually move the antenna frame-by-frame using the IScalar methods rather than letting it move itself. Why? \u003Cem\u003EI have no idea.\u003C/em\u003E But they do. So, my guess is that Squad moved ModuleDataTransmitter actions from Update to FixedUpdate, or changed the Coroutine delay to depend on the physics frame time, or similar, and didn\u0027t rebalance the distance that the antenna moves per frame.\u003C/p\u003E\u003Cp\u003EThat\u0027s a guess, but it\u0027s all I\u0027ve got. Does the speed of the animation change at all if you timewarp after clicking transmit? If so, I\u0027m probably pretty close.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-22T16:19:33Z\u0022 title=\u002207/22/2014 04:19  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 22, 2014\u003C/time\u003E by toadicus\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-07-23T02:33:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EThat\u0027s a guess, but it\u0027s all I\u0027ve got. Does the speed of the animation change at all if you timewarp after clicking transmit? If so, I\u0027m probably pretty close.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAfter a quickload, things seemed to work fine. Guess it was just a one-off then.. still, glad to know that AR isn\u0027t responsible but if it happens again, I\u0027ll do some experimenting.. for SCIENCE!\u003C/p\u003E\n"}]}