{"TopicId":43707,"ForumId":34,"TopicTitle":"kOS Scriptable Autopilot System 0.9","CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-08-24T14:28:17Z","PageNum":44,"Articles":[{"CreatedByName":"inferno4200","CreatedById":83218,"CreatedDateTime":"2013-09-26T04:18:06Z","Content":"\n\u003Cp\u003ESo I have this idea in my head and I want to see what you all think. I want to create an autopilot for my SSTO shuttle. The ascent part isn\u0027t too tricky once I stop making sloppy coding errors. Landing is a bit more difficult. The current plan I have in my head is to set up a series of probe markers all in a straight line leading through the runway. There would be one at the end of the runway, one at the beginning, and then a few more out to the west of the runway. As the ship approached each marker, it would change targets to the next and continue it\u0027s descent. Does that sound like a fair way of doing it or am I missing something very simple in the coding language that would accomplish the same goal without the markers?\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-26T04:44:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003ENo it doesn\u0027t. It\u0027s identical to a program with the comments and whitespace stripped which is far smaller. Most of that 7k is legibility not algorithm (and some of it is just the fact that it was written before KOS had some of the features it has now. Like the extra PRINT lines to redraw the menu all over the place is because PRINT AT didn\u0027t exist yet when it was first started.[...]\u003C/div\u003E\u003C/blockquote\u003E That wasn\u0027t the point.\u003Cp\u003EThe point was that they should\u003C/p\u003E\u003Cp\u003Ea. add more computers if the current space isn\u0027t enough.\u003C/p\u003E\u003Cp\u003Eb. consider if they want to write a to the vessel personalized version of a program instead of a coping \u0022ready to use with fancy menus\u0022 solution.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027m editing in an external gvim window. I\u0027ve already got this feeling by setting the colors the way I want and downloading a C64 font to use in the editor.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was not speaking of the editor! I meant the in-game command line and output screen. ... of course it would also affect this last-minute-final-edit editor.\u003C/p\u003E\u003Cp\u003E(expl: I have stoped running programs from archive, and copy them before the start. like it was intended)\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-26T04:50:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bizz Keryear\u0022 data-cite=\u0022Bizz Keryear\u0022\u003E\u003Cdiv\u003EThat wasn\u0027t the point.\u003Cp\u003EThe point was that they should\u003C/p\u003E\u003Cp\u003Ea. add more computers if the current space isn\u0027t enough.\u003C/p\u003E\u003Cp\u003Eb. consider if they want to write a to the vessel personalized version of a program instead of a coping \u0022ready to use with fancy menus\u0022 solution.\u003C/p\u003E\u003Cp\u003EI was not speaking of the editor! I meant the in-game command line and output screen. ... of course it would also affect this last-minute-final-edit editor.\u003C/p\u003E\u003Cp\u003E(expl: I have stoped running programs from archive, and copy them before the start. like it was intended)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t have to run them from the archive either just because I edit them in a real editor that isn\u0027t crippled. My kerbals write the software at home and then transmit it to the craft. Nobody in their right mind would write the software by typing across a remote terminal connection to a terminal server halfway across the solar system when they could write it at home on the ground and transmit the final result to the craft, the way it was intended.\u003C/p\u003E\u003Cp\u003EAnd when doing it that way, you don\u0027t bother sending comments to the craft. The comments are for the benefit of the human - the computer doesn\u0027t care about them.\u003C/p\u003E\n"},{"CreatedByName":"inferno4200","CreatedById":83218,"CreatedDateTime":"2013-09-26T05:50:14Z","Content":"\n\u003Cp\u003ESorry to keep bugging you guys but I\u0027ve spent a few hours trying to figure this out and I\u0027ve come up with nothing. I want my space plane to take off from the runway with a 20 degree angle of attack heading west. I tried \u003Cstrong\u003Elock steering to up \u002B r(0,-70,0).\u003C/strong\u003E as well as every other possible number for the roll component and it refuses to take off. I also tried just R(0,20,0) as well as several others. Am I missing something hear? Couldn\u0027t quite figure out heading either. \u003C/p\u003E\u003Cp\u003EI\u0027m sure this has been asked before but all my searching through the thread and I couldn\u0027t find it. Sorry! It is 100 pages long after all. =)\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-26T06:07:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022inferno4200\u0022 data-cite=\u0022inferno4200\u0022\u003E\u003Cdiv\u003ESorry to keep bugging you guys but I\u0027ve spent a few hours trying to figure this out and I\u0027ve come up with nothing. I want my space plane to take off from the runway with a 20 degree angle of attack heading west. I tried \u003Cstrong\u003Elock steering to up \u002B r(0,-70,0).\u003C/strong\u003E as well as every other possible number for the roll component and it refuses to take off. I also tried just R(0,20,0) as well as several others. Am I missing something hear? Couldn\u0027t quite figure out heading either. \u003Cp\u003EI\u0027m sure this has been asked before but all my searching through the thread and I couldn\u0027t find it. Sorry! It is 100 pages long after all. =)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou want to go West right?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elock steering to heading 270 by 20.\u003Cbr\u003E\u003Cbr\u003EUsage: lock steering to heading [b]X[/b] by [b]pitch[/b].\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENot sure what that is going to do with the roll.\u003C/p\u003E\u003Cp\u003EYou may need to use the harder method.\u003C/p\u003E\u003Cp\u003EAn example of that is in this post.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/47399-kOS-Scriptable-Autopilot-System-0-65?p=650207\u0026amp;viewfull=1#post650207\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/47399-kOS-Scriptable-Autopilot-System-0-65?p=650207\u0026amp;viewfull=1#post650207\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThat example doesn\u0027t include roll but it isn\u0027t that hard to add.\u003C/p\u003E\n"},{"CreatedByName":"inferno4200","CreatedById":83218,"CreatedDateTime":"2013-09-26T06:59:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Payload\u0022 data-cite=\u0022Payload\u0022\u003E\u003Cdiv\u003EYou want to go West right?\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Elock steering to heading 270 by 20.\u003Cbr\u003E\u003Cbr\u003EUsage: lock steering to heading [b]X[/b] by [b]pitch[/b].\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENot sure what that is going to do with the roll.\u003C/p\u003E\u003Cp\u003EYou may need to use the harder method.\u003C/p\u003E\u003Cp\u003EAn example of that is in this post.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/47399-kOS-Scriptable-Autopilot-System-0-65?p=650207\u0026amp;viewfull=1#post650207\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/47399-kOS-Scriptable-Autopilot-System-0-65?p=650207\u0026amp;viewfull=1#post650207\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThat example doesn\u0027t include roll but it isn\u0027t that hard to add.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESilly me typing west. I meant east but that should just be 90. I will give that a try again but it was giving me an awful lot of trouble before. I\u0027ll give the harder method a try as well.\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-26T10:59:58Z","Content":"\n\u003Cp\u003EMade a new video for my latest kOS script--- a cruise missile!\u003C/p\u003E\u003Cp\u003ECan hit a target up to 250 km away and is able to hug the terrain at 500m if over mountains and even lover over flatter routes.\u003C/p\u003E\u003Cp\u003EEnjoy.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022459\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/gzvnDt9lywQ?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Secret Squirrel","CreatedById":69453,"CreatedDateTime":"2013-09-26T11:59:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003EMade a new video for my latest kOS script--- a cruise missile!\u003Cp\u003ECan hit a target up to 250 km away and is able to hug the terrain at 500m if over mountains and even lover over flatter routes.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ethat\u0027s cool!! If we could get integration with laser systems you could maybe use that to adjust the pitch to compensate for whats coming in the terrain, like a forward looking radar thing? I dont\u0027t know but sounds cool. lol \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"pizzaoverhead","CreatedById":26349,"CreatedDateTime":"2013-09-26T12:09:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Secret Squirrel\u0022 data-cite=\u0022Secret Squirrel\u0022\u003E\u003Cdiv\u003Ethat\u0027s cool!! If we could get integration with laser systems you could maybe use that to adjust the pitch to compensate for whats coming in the terrain, like a forward looking radar thing? I dont\u0027t know but sounds cool. lol \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can see a booming mod scene for kOS sensors approaching... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"KevinLaity","CreatedById":68050,"CreatedDateTime":"2013-09-26T14:04:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003EMade a new video for my latest kOS script--- a cruise missile!\u003Cp\u003ECan hit a target up to 250 km away and is able to hug the terrain at 500m if over mountains and even lover over flatter routes.\u003C/p\u003E\u003Cp\u003EEnjoy.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWow! Very well done!\u003C/p\u003E\u003Cp\u003EI\u0027d like to feature this video on the kOS dev blog, please let me know if that\u0027s cool with you.\u003C/p\u003E\n"},{"CreatedByName":"jarmenia","CreatedById":83343,"CreatedDateTime":"2013-09-26T16:58:55Z","Content":"\n\u003Cp\u003Ecan someone please give me an update on how steering is supposed to work for rockets? I had it working fine in 0.5 but afterwards it doesn\u0027t seem to work. If I try the new by heading that also doesn\u0027t seem to work. Should this \u0022lock steering to heading 90 by 90.\u0022 not make the rocket point straight up and face east?\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-26T18:25:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EI don\u0027t have to run them from the archive either just because I edit them in a real editor that isn\u0027t crippled. My kerbals write the software at home and then transmit it to the craft. Nobody in their right mind would write the software by typing across a remote terminal connection to a terminal server halfway across the solar system when they could write it at home on the ground and transmit the final result to the craft, the way it was intended.\u003Cp\u003EAnd when doing it that way, you don\u0027t bother sending comments to the craft. The comments are for the benefit of the human - the computer doesn\u0027t care about them.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EJeb would do that. (I am pretty sure about that)With a long cable from to of the rocket while lying under engine...\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jarmenia\u0022 data-cite=\u0022jarmenia\u0022\u003E\u003Cdiv\u003Ecan someone please give me an update on how steering is supposed to work for rockets? I had it working fine in 0.5 but afterwards it doesn\u0027t seem to work. If I try the new by heading that also doesn\u0027t seem to work. Should this \u0022lock steering to heading 90 by 90.\u0022 not make the rocket point straight up and face east?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELook at the compass the \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading XX by YY.\u003C/pre\u003E\u003Cp\u003E is exactly what is written there, but your craft will roll. Unfortunately the roll is (was?) broken. Since I was busy updating the wiki I haven\u0027t that tested yet. Anyway if roll is working then the command is \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Elock steering to heading XX by YY \u002BR(0,0,180).\u003C/pre\u003E\u003Cp\u003E. But if roll is still broken your craft will point in a random direction with that code. So better use it without.\u003C/p\u003E\u003Cp\u003Eedit lock steering to heading 90 by 90 is basicly UP. facing east and up\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-26T19:35:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022inferno4200\u0022 data-cite=\u0022inferno4200\u0022\u003E\u003Cdiv\u003ESo I have this idea in my head and I want to see what you all think. I want to create an autopilot for my SSTO shuttle. The ascent part isn\u0027t too tricky once I stop making sloppy coding errors. Landing is a bit more difficult. The current plan I have in my head is to set up a series of probe markers all in a straight line leading through the runway. There would be one at the end of the runway, one at the beginning, and then a few more out to the west of the runway. As the ship approached each marker, it would change targets to the next and continue it\u0027s descent. Does that sound like a fair way of doing it or am I missing something very simple in the coding language that would accomplish the same goal without the markers?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHave you gotten this sorted out yet, at least partially? I don\u0027t know much about targeting my self, so far all I\u0027ve done is launch a rocket and circularize with my code. I would imagine you could do it two ways...one with how you mentioned using markers (although I would think you could get by with just 2, one at each end of the runway. If you \u0027re coming in from the east you\u0027d target one of them, making sure to be at a specific speed/altitude within a certain distance of the target then adjust your pitch a certain number of degrees accordingly. You COULD possibly get away with 1 in the middle of the runway, but you would run the risk of colliding with it.\u003C/p\u003E\u003Cp\u003EAnother option would be to use the lat/long of the landing strip. For that you could, I would imagine, query the lat/long before you take off, save them in some variables, then when it comes time to land maneuver to those coordinates. Sounds easier than it really is though I\u0027m sure. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E I guess using the targets at the ends of the runway (maybe not actually on the runway) would be easier though. Could even be as simple as the small probe core with an rtg on the side, lowest profile as possible so as to not stick up over the runway burm, could even name them according to the number on the runway.\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-26T20:03:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KevinLaity\u0022 data-cite=\u0022KevinLaity\u0022\u003E\u003Cdiv\u003EWow! Very well done!\u003Cp\u003EI\u0027d like to feature this video on the kOS dev blog, please let me know if that\u0027s cool with you.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAbsolutely \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-26T20:45:16Z","Content":"\n\u003Cp\u003EPeople have had problems with the fact that the steering acts all wonky for a while before it settles down on the chosen heading the first time you activate it. The craft needs to spin a bit around all 3 axes before it \u0022learns\u0022 its controls, it seems. The problem is how to have the code wait for that initial wonky steer period to finish before doing anything else like turning on engines, when the waiting period has to be tailor-made to each craft since they don\u0027t all rotate at the same rate. Well, now that someone clued me in to the undocumented \u0022FACING\u0022 property that\u0027s in the Mod\u0027s code, I have the better solution to the problem, shown below:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E// Assume mySteer is an R() tuple of some sort.\u003Cbr\u003E// You could replace \u0022mySteer\u0022 with \u0022Up\u0022 or \u0022North\u0022\u003Cbr\u003E// or any other canonical direction.\u003Cbr\u003Elock steering to mySteer.\u003Cbr\u003E\u003Cbr\u003E// Wait until the aim has lined up before continuing:\u003Cbr\u003Eset align to 90. // anything bigger than 5 will do.\u003Cbr\u003Euntil align \u0026lt; 5 {\u003Cbr\u003E  set pDiff to facing:pitch - mySteer:pitch.\u003Cbr\u003E  set yDiff to facing:yaw - mySteer:yaw.\u003Cbr\u003E  set align to abs(pDiff) \u002B abs(yDiff).\u003Cbr\u003E}.\u003Cbr\u003E// Now do other stuff like activate the engine.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI originally tried this by just putting the entire expression together into one statement like so:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ewait until\u003Cbr\u003E    ( abs(facing:yaw-mySteer:yaw) \u002B abs(facing:pitch-mySteer:pitch) ) \u0026lt; 5 .\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBut the notoriously wonky KOS parser couldn\u0027t understand that so I had to separate it into separate statements like you see above.\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-26T21:24:06Z","Content":"\n\u003Cp\u003EHAHA I had no idea that is what FACING was for. I have just been inserting user input halts and prompting the user to select an action group when the correct attitude is achieved.\u003C/p\u003E\n"},{"CreatedByName":"Bizz Keryear","CreatedById":68896,"CreatedDateTime":"2013-09-26T22:15:36Z","Content":"\n\u003Cp\u003Elately (since 0.65) I have the problem that, while a program in kOS is running, becomes \u0022kinda\u0022 slow.\u003C/p\u003E\u003Cp\u003EI mean it runs fine with good framerate then stops completely for about half a second. Then continues for a random time and stops again. and so on.\u003C/p\u003E\u003Cp\u003EIf I stop the running program everything is fine.\u003C/p\u003E\u003Cp\u003EI also have to, each time I use the kOS computer after creating a new craft, switch the power off and on. Otherwise, while the kOS seems ok, at the first command I run it freezes. Well turning it off and on also fixes that.\u003C/p\u003E\u003Cp\u003EThe latest program I was running:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eclearscreen.\u003Cbr\u003Eset head to 270.\u003Cbr\u003Eset pich to 2.\u003Cbr\u003Elock steering to heading head by pich.\u003Cbr\u003Eset flag to 0.\u003Cbr\u003Euntil 0 {\u003Cbr\u003Eset a to ALT:RADAR.\u003Cbr\u003Eprint a at (0,15).\u003Cbr\u003Eprint \u0022heading \u0022 at (0,16).\u003Cbr\u003Eprint head \u002B \u0022    \u0022 at (8,16).\u003Cbr\u003Eprint \u0022 by pitch \u0022 at (0,17).\u003Cbr\u003Eprint pich \u002B \u0022    \u0022  at (12,17).\u003Cbr\u003E\u003Cbr\u003Eon ag4 set flag to 1.\u003Cbr\u003Eon ag5 set flag to 2.\u003Cbr\u003Eon ag6 set flag to 3.\u003Cbr\u003Eon ag7 set flag to 4.\u003Cbr\u003Eif flag = 1 {\u003Cbr\u003E set pich to pich \u002B 1.\u003Cbr\u003E set flag to 0.\u003Cbr\u003E}.\u003Cbr\u003Eif flag = 2 {\u003Cbr\u003E set pich to pich - 1.\u003Cbr\u003E set flag to 0.\u003Cbr\u003E}.\u003Cbr\u003Eif flag = 3 {\u003Cbr\u003E set head to head \u002B 5.\u003Cbr\u003E if head \u0026gt; 360 {\u003Cbr\u003E  set head to head - 360.\u003Cbr\u003E }.\u003Cbr\u003E set flag to 0.\u003Cbr\u003E}.\u003Cbr\u003Eif flag = 4 {\u003Cbr\u003E set head to head - 5.\u003Cbr\u003E if head \u0026lt; 0 {\u003Cbr\u003E  set head to 360 \u002B head.\u003Cbr\u003E }.\u003Cbr\u003E set flag to 0.\u003Cbr\u003E}.\u003Cbr\u003E}.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ehad also problems. According to the videos \u003Cem\u003Eon ag\u0026lt;1-10\u0026gt; {do_some_stuff.}. \u003C/em\u003E should be conform. but if I actual use it it does nothing. You can see my workaround above.\u003C/p\u003E\u003Cp\u003EAlso from time to time the plane pulled up or steered in wired directions... Even when no key was touched.\u003C/p\u003E\u003Cp\u003EI have the feeling after 0.5 it becomes buggier and buggier...\u003C/p\u003E\n"},{"CreatedByName":"Payload","CreatedById":4540,"CreatedDateTime":"2013-09-26T22:36:41Z","Content":"\n\u003Cp\u003EYes I noticed the new update does make my KSP chug a lot. I can tell you one thing for sure, you need to get out of the habit of using \u003Cem\u003Euntil 0.\u003C/em\u003E In lots of computing languages, that is a way that programmers use to leave comments in code. It depends on the compiler, but it generally means \u003Cstrong\u003Eignore the following\u003C/strong\u003E.\u003C/p\u003E\u003Cp\u003ESet a variable called Done or whatever to 0 and then..... until Done = 1 { Do these things. }.\u003C/p\u003E\n"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2013-09-26T22:47:05Z","Content":"\n\u003Cp\u003EWhen did \u0022log to\u0022 become a thing? Was just watching ep2 of the journey to the ~~north pole~~ south pole and he was talking about this. I guess I must have missed it some how. Dunno what I\u0027d use it for just yet, but I\u0027ll have to play around with it and figure something out.\u003C/p\u003E\n"},{"CreatedByName":"danderson","CreatedById":21416,"CreatedDateTime":"2013-09-27T04:26:18Z","Content":"\n\u003Cp\u003ESo, is vector math known to be broken? I was expecting \u0022lock x to facing - prograde\u0022 to give me a vector that I could then reason about to determine whether or not I\u0027m at the attitude I locked in, but I get back values which don\u0027t wrap correctly, e.g. R(1,361,724). As other posts in this thread seem to confirm, this makes it very hard to reason about any kind of orientation in space.\u003C/p\u003E\u003Cp\u003EOr am I just doing something wrong?\u003C/p\u003E\n"},{"CreatedByName":"check","CreatedById":71875,"CreatedDateTime":"2013-09-27T04:42:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022danderson\u0022 data-cite=\u0022danderson\u0022\u003E\u003Cdiv\u003ESo, is vector math known to be broken? I was expecting \u0022lock x to facing - prograde\u0022 to give me a vector that I could then reason about to determine whether or not I\u0027m at the attitude I locked in, but I get back values which don\u0027t wrap correctly, e.g. R(1,361,724). As other posts in this thread seem to confirm, this makes it very hard to reason about any kind of orientation in space.\u003Cp\u003EOr am I just doing something wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENope. It\u0027s totally weird. kOS looks at KSP\u0027s native coordinate system which are totally not intuitive.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T04:45:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022danderson\u0022 data-cite=\u0022danderson\u0022\u003E\u003Cdiv\u003ESo, is vector math known to be broken? I was expecting \u0022lock x to facing - prograde\u0022 to give me a vector that I could then reason about to determine whether or not I\u0027m at the attitude I locked in, but I get back values which don\u0027t wrap correctly, e.g. R(1,361,724). As other posts in this thread seem to confirm, this makes it very hard to reason about any kind of orientation in space.\u003Cp\u003EOr am I just doing something wrong?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EVector math is broken because the system keeps trying to cast all vectors into Directions. (A Direction only mentions rotation angles, not magnitude). \u003C/p\u003E\u003Cp\u003EThe only way I\u0027ve been able to use vectors correctly is to manually do all the vector math myself by getting the vector components by:\u003C/p\u003E\u003Cp\u003Eset vec to prograde.\u003C/p\u003E\u003Cp\u003Evec:x\u003C/p\u003E\u003Cp\u003Evec:y\u003C/p\u003E\u003Cp\u003Evec:z\u003C/p\u003E\u003Cp\u003EThen you can add vectors by adding their components, or perform matrix math on them or dot products and so on. But you have to do it all yourself. You can\u0027t even just do a simple scalar magnitude multiplication like:\u003C/p\u003E\u003Cp\u003Ehalfspeed = 0.5 * prograde.\u003C/p\u003E\u003Cp\u003EThere\u0027s a lot of underlying vector operations in the underlying C# api that we don\u0027t have access to.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T04:48:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022check\u0022 data-cite=\u0022check\u0022\u003E\u003Cdiv\u003ENope. It\u0027s totally weird. kOS looks at KSP\u0027s native coordinate system which are totally not intuitive.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd we\u0027re missing most of the information we could use to actually work out what the native system is. We can learn our velocity in the native system, but not the position.\u003C/p\u003E\u003Cp\u003EI wasted a lot of hours of detective work to figure out if there is any way to find the underlying system from what little data IS available and I got this sort of worked out:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://kos.wikia.com/wiki/Tutorial_-_KOS_0.61_and_above:_Finding_surface_dynamic_information\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://kos.wikia.com/wiki/Tutorial_-_KOS_0.61_and_above:_Finding_surface_dynamic_information\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2013-09-27T05:28:09Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003Ewheels just do not steer at all.\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDoes anyone know why this doesn\u0027t work?\u003C/p\u003E\u003Cp\u003E1 - Land a rover on the Mun. It has an SCS on it.\u003C/p\u003E\u003Cp\u003E2 - Make sure brakes are off.\u003C/p\u003E\u003Cp\u003E3 - Open SCS terminal window.\u003C/p\u003E\u003Cp\u003E4 - type command \u0022lock wheelthrottle to 0.3\u0022. Rover starts moving slowly in a straight line. Good.\u003C/p\u003E\u003Cp\u003E5 - type command \u0022lock wheelsteering to 60.\u0022 No change. Keeps going in straight line.\u003C/p\u003E\u003Cp\u003E6 - type command \u0022lock wheelsteering to 210.\u0022 No change. Keeps going in the same straight line.\u003C/p\u003E\u003Cp\u003E7 - type command \u0022lock steering to heading 210 by 0.\u0022 No change. Keeps going in the same straight line.\u003C/p\u003E\u003Cp\u003ENOTHING makes the wheels turn. Why?\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2013-09-27T07:33:09Z","Content":"\n\u003Cp\u003EIs there a way to lock to target?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Locking to Target.\u0022.\u003Cbr\u003E\u003Cbr\u003ELOCK STEERING TO TARGET.\u003Cbr\u003E\u003Cbr\u003Euntil 0 { wait 1. }.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E?\u003C/p\u003E\u003Cp\u003EI made a missile that I want to hit a probe with. Its a spent third stage that missed the Mun. I figure if I can lock onto the target with kOS and have an engine setup that can continually burn I can get an impact.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-09-27T07:36:04Z\u0022 title=\u002209/27/2013 07:36  AM\u0022 data-short=\u002210 yr\u0022\u003ESeptember 27, 2013\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"}]}