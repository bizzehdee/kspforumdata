{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":354,"Articles":[{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-18T16:49:59Z","Content":"\n\u003Cp\u003ECan you post the whole log ? I can\u0027t see where in the function it crashed with just that.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI just pushed #389 to dev. It adds the new Velocity calculation and the (pretty) debug arrows. You can find a bunch of check box to play with in the Attitude Adjustment windows. \u003C/p\u003E\u003Cp\u003EThis should not change much the handling of ship by MJ. The real thing that should help is the next step but I spent already too much of the weekend coding \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Esebi.zzr : I had a quick look at the Plane landing code. And I got lost. I would need a few hours to understand what is going on there and right now it\u0027s not a priority. If you are lucky someone else may look, if not I ll have a look sooner or later.\u003C/p\u003E\n"},{"CreatedByName":"sebi.zzr","CreatedById":81294,"CreatedDateTime":"2015-01-18T16:56:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003ECan you post the whole log ? I can\u0027t see where in the function it crashed with just that.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt hapends when i select cockpit or any part with MODULE[MechJebCore] in VAB or SHP.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://s000.tinyupload.com/index.php?file_id=22705194322550573081\u0022 rel=\u0022external nofollow\u0022\u003EKSP_Data/output_log.txt\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-18T17:13:15Z","Content":"\n\u003Cp\u003EFixed in dev. Thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dgdimick","CreatedById":135026,"CreatedDateTime":"2015-01-18T20:26:22Z","Content":"\n\u003Cp\u003EThat was the problem. \u003C/p\u003E\u003Cp\u003EI didn\u0027t see this documented any where, or did I just miss it in all of the documentation? Being a total newbe, I\u0027m going to say I missed it.\u003C/p\u003E\u003Cp\u003EMaybe this should be as a \u0022NOTE:\u0022 in the fist post?\u003C/p\u003E\u003Cp\u003EAnyway, Thank You! for catching this, I\u0027m now off to crash into the Sun and other fun adventures using KSP.\u003C/p\u003E\u003Cp\u003EDenis\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-18T23:28:31Z\u0022 title=\u002201/18/2015 11:28  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 18, 2015\u003C/time\u003E by dgdimick\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-18T20:32:19Z","Content":"\n\u003Cp\u003EI can view the debug arrows through attitude adjustment? After I installed Dmagic orbital science, Universal storage stuff, SCANsat, techmanager, custombiomes, and community tech tree, the landing in atmosphere is WAY more flaily than it was before. I was trying to get it to land close to an anomaly on Kerbin that the scansat found, but the landing guidance was being a complete derp, even trying to trick it into thinking parachutes aren\u0027t being used doesn\u0027t help.\u003C/p\u003E\u003Cp\u003EHaven\u0027t tried the latest dev build of MechJeb, but going to after this posting.\u003C/p\u003E\u003Cp\u003EEdit: Oh, small issue here, when I open the attitude adjustment window, the top part of it goes off the top of the screen and the \u0027use stock SAS\u0027 button is inaccessable, as is the close window button. I\u0027m using 1280x720 resolution. I can click the sidebar to close that window and I don\u0027t normally use the attitude adjustment window anyway, so it\u0027s not an issue for me, might be for others though.\u003C/p\u003E\u003Cp\u003EAlso, by freaking out and flailing, I\u0027m seeing the requested attitude blink rapidly between two different angles, and that\u0027s with the parachutes unactivated, but the moment I activate them through staging, the behavior stops.\u003C/p\u003E\u003Cp\u003EI just saw that the arrows (the red, orange, and yellow ones anyway) actually produce their own re-entry visual effect, I hope that\u0027s just purely a visual effect and doesn\u0027t indicate some other issue.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-18T21:26:53Z\u0022 title=\u002201/18/2015 09:26  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 18, 2015\u003C/time\u003E by smjjames\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-18T23:33:40Z","Content":"\n\u003Cp\u003EI forgot to handle the \u0022when warping\u0022 case for the new velocity stuff. I pushed the fix in dev just now.\u003C/p\u003E\u003Cp\u003Esmjjames : yes, that window is getting a bit long. I ll see what I can do. I ll have a look at your other issue tomorrow. it s getting late here.\u003C/p\u003E\u003Cp\u003EEdit : fixed the re entry effect on arrows too.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T00:33:10Z\u0022 title=\u002201/19/2015 12:33  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Jim Kernan","CreatedById":84207,"CreatedDateTime":"2015-01-19T01:32:01Z","Content":"\n\u003Cp\u003ESarbian - I\u0027m a Mechjeb user and also use other mods you make. Thanks!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-01-19T05:28:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022smjjames\u0022 data-cite=\u0022smjjames\u0022\u003E\u003Cdiv\u003EI can view the debug arrows through attitude adjustment? After I installed Dmagic orbital science, Universal storage stuff, SCANsat, techmanager, custombiomes, and community tech tree, the landing in atmosphere is WAY more flaily than it was before. I was trying to get it to land close to an anomaly on Kerbin that the scansat found, but the landing guidance was being a complete derp, even trying to trick it into thinking parachutes aren\u0027t being used doesn\u0027t help.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you put them all in at once or one at a time? Do a clean setup of KSP then put in Mechjeb, then your mods one at a time and try landing on Kerbin after adding each mod.\u003C/p\u003E\u003Cp\u003EI\u0027ve been too busy lately to try the last 3 or 4 MechJeb dev builds to see if any of them have fixed the issue with Stock Drag Fix. I have a clean KSP .90 setup with no mods except MechJeb and Stock Drag Fix and MechJeb cannot land on Kerbin. Works fine without SDF. Same tale with my working setup with a lot of mods. No SDF and it does the high deorbit burn and usually one correction burn then coasts down to do the final \u0022suicide burn\u0022 like it is supposed to.\u003C/p\u003E\u003Cp\u003ENothing useful shows up in the log but MechJeb just twists and turns the ship all over the place, firing off short bursts of thrust after doing the high deorbit burn. With .25 and Stock Drag Fix it would only do this some of the time. Usually reloading the quicksave would cure it but in .90 it has flipped out EVERY landing I\u0027ve tried on bodies with atmosphere.\u003C/p\u003E\u003Cp\u003EHere again is a log from my modded install \u003Ca href=\u0022http://partsbyemc.com/pub/output_log.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://partsbyemc.com/pub/output_log.zip\u003C/a\u003E I deleted the log then ran KSP. If I have time tonight I\u0027ll put in the latest dev of MechJeb and try it again with the vanilla KSP with only MechJeb and SDF then will post here if it works or not, and post another log if not.\u003C/p\u003E\n"},{"CreatedByName":"ArcFurnace","CreatedById":109240,"CreatedDateTime":"2015-01-19T05:42:34Z","Content":"\n\u003Cp\u003EHow exactly is the \u0022Launch into rendezvous\u0022 feature in the Ascent Guidance Autopilot supposed to work? I\u0027ve been messing around with the targeted launch features in the AGAP, and while \u0022Launch into plane of target\u0022 works very well, LTR doesn\u0027t seem to (I\u0027m assuming it\u0027s supposed to time your launch such that you make an immediate rendezvous with your target)- but I might just be misunderstanding what it does, or using it wrong. The online manual has no details, and I tried searching the thread but didn\u0027t find a good explanation. It\u0027s definitely doing \u003Cem\u003Esomething\u003C/em\u003E, because it calculates a launch time and will auto-warp and launch on schedule if I hit \u0022Engage autopilot\u0022, just like \u0022Launch into plane of target\u0022 does. This is on stock 0.90 with nothing but Mechjeb (dev #392) installed. I can add further details if desired.\u003C/p\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-19T05:46:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Galane\u0022 data-cite=\u0022Galane\u0022\u003E\u003Cdiv\u003EDid you put them all in at once or one at a time? Do a clean setup of KSP then put in Mechjeb, then your mods one at a time and try landing on Kerbin after adding each mod.\u003Cp\u003ENothing useful shows up in the log but MechJeb just twists and turns the ship all over the place, firing off short bursts of thrust after doing the high deorbit burn. With .25 and Stock Drag Fix it would only do this some of the time. Usually reloading the quicksave would cure it but in .90 it has flipped out EVERY landing I\u0027ve tried on bodies with atmosphere.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENone of those should affect MechJeb though.\u003C/p\u003E\u003Cp\u003EAlso, your description sounds exactly like the behavior I get. The arrows just make it easier to see what the heck is going on.\u003C/p\u003E\n"},{"CreatedByName":"Higgs","CreatedById":121852,"CreatedDateTime":"2015-01-19T06:10:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003EHow exactly is the \u0022Launch into rendezvous\u0022 feature in the Ascent Guidance Autopilot supposed to work? I\u0027ve been messing around with the targeted launch features in the AGAP, and while \u0022Launch into plane of target\u0022 works very well, LTR doesn\u0027t seem to (I\u0027m assuming it\u0027s supposed to time your launch such that you make an immediate rendezvous with your target)- but I might just be misunderstanding what it does, or using it wrong. The online manual has no details, and I tried searching the thread but didn\u0027t find a good explanation. It\u0027s definitely doing \u003Cem\u003Esomething\u003C/em\u003E, because it calculates a launch time and will auto-warp and launch on schedule if I hit \u0022Engage autopilot\u0022, just like \u0022Launch into plane of target\u0022 does. This is on stock 0.90 with nothing but Mechjeb (dev #392) installed. I can add further details if desired.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou make me glad I am not the only one seeing errors with mechjeb and a very visible function. According to some, we are doing things wrong. BUT, having used mechjeb from .21 KSP thru .25 KSP \u0026lt;6 full versions mind you\u0026gt; along with my cousin, both of us using the procedures he learned during .21 KSP, Launch to Rendezvous USED to do this after selecting a target: It would calculate your launch window, auto-warp to said window if auto-warp was turned on, then, all the while, it would then alter the inclination box as it was setting up its calculations, then, as the window showed up, it would disengage auto-warp count down the last few seconds, usually from about t minus 10 seconds or so, then hit the milliseconds, then slam on the gas and you were off to the races. \u003C/p\u003E\u003Cp\u003EI think it needs to be addressed, but again, thats just me.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T06:46:38Z\u0022 title=\u002201/19/2015 06:46  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by Higgs\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-19T09:07:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003EHow exactly is the \u0022Launch into rendezvous\u0022 feature in the Ascent Guidance Autopilot supposed to work? I\u0027ve been messing around with the targeted launch features in the AGAP, and while \u0022Launch into plane of target\u0022 works very well, LTR doesn\u0027t seem to (I\u0027m assuming it\u0027s supposed to time your launch such that you make an immediate rendezvous with your target)- but I might just be misunderstanding what it does, or using it wrong. The online manual has no details, and I tried searching the thread but didn\u0027t find a good explanation. It\u0027s definitely doing \u003Cem\u003Esomething\u003C/em\u003E, because it calculates a launch time and will auto-warp and launch on schedule if I hit \u0022Engage autopilot\u0022, just like \u0022Launch into plane of target\u0022 does. This is on stock 0.90 with nothing but Mechjeb (dev #392) installed. I can add further details if desired.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDo a first launch to rendez-vous an wait until circularization. Revert to launch and redo the launch. MJ record the angle between your launch and the circularization each time, so when you do the second launch it should get near your target.\u003C/p\u003E\u003Cp\u003EGalane : you know there is a \u003Ca href=\u0022http://jenkins.mumech.com/job/MechJeb2/changes\u0022 rel=\u0022external nofollow\u0022\u003Echange log\u003C/a\u003E right ? If I don\u0027t write that I fixed something there then I did not. Don\u0027t waste your time testing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T09:10:19Z\u0022 title=\u002201/19/2015 09:10  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by sarbian\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-01-19T10:13:24Z","Content":"\n\u003Cp\u003ESomething has logging messed up. I checked to make sure it\u0027s enabled (even though that disable option has never actually worked) but it ends after this\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EAddonLoader: Instantiating addon \u0027StockDragFix\u0027 from assembly \u0027StockDragFix\u0027\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EnoseCone switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EnoseConeAdapter switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003ErocketNoseCone switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EstandardNoseCone switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EavionicsNoseCone switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EshockConeIntake switched to CONIC Drag Model\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003Cp\u003EHighlightingSystem : Edge Highlighting requires AA to work!\u003C/p\u003E\u003Cp\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI did a run where I let it go all the way to landing. After the high deorbit, it performed a proper correction burn then suddenly it showed it needed an almost 400 m/sec \u0022correction\u0022, pivoted and popped a little burst. The correction dropped instantly to 0 then back up to almost as much as the first one. It kept flipping back and forth, each time the bogus \u0022correction\u0022 requirement kept getting smaller. Eventually it quit doing corrections and began a braking burn but instead of decreasing the target speed number was increasing and went up until it popped to 179769313486232 followed by a lot of zeros. (Got a screenshot). Instead of aborting the landing I let it go to see what would happen next. It recovered after coasting down and soft landed in the ocean.\u003C/p\u003E\u003Cp\u003EThat\u0027s one misbehavior I get. Another one is after a few flips back and forth it turns sideways to burn all the fuel doing an inclination change, with the \u0022correction\u0022 required steadily increasing. The third way it goes worng is apparently random direction thrusts that like the other ways produce very large changes in m/sec readout from tiny puffs of thrust. Sometimes that way settles down into doing the never ending inclination change. \u003C/p\u003E\u003Cp\u003EQuicksave of starting from orbit after launch. I use SASS to do NML\u002B then manually decouple the lander while it\u0027s swinging so the boosters are out of the way. \u003Ca href=\u0022http://partsbyemc.com/pub/quicksave.rar\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://partsbyemc.com/pub/quicksave.rar\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPersistent from the latest run where it landing guidance decided it had to do a huge inclination change. \u003Ca href=\u0022http://partsbyemc.com/pub/persistent.rar\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://partsbyemc.com/pub/persistent.rar\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAlbum with two shots of the one run where the target speed number went crazy and where it recovered to do the braking burn. The rest are from the other run with the initial incorrect corrections and several showing it stuck trying to change inclination. \u003Ca href=\u0022http://imgur.com/a/zwt84#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/zwt84#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESo until it\u0027s figured out what/why/how Stock Drag Fix is giving Landing Guidance fits when it\u0027s not even in atmosphere, I can\u0027t use Stock Drag Fix. Will be returning to my irregularly unscheduled attempts to design a lander and other stuff for a trip to Moho and back, with the mods I normally have installed.\u003C/p\u003E\u003Cp\u003EP.S. Putting the Abort Autoland button in a fixed location relative to the top of the window might be a good thing. When it\u0027s going wonkers like this with data above it rapidly changing, it\u0027s difficult to click on Abort as it\u0027s bouncing up and down.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-19T10:24:59Z\u0022 title=\u002201/19/2015 10:24  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 19, 2015\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"smjjames","CreatedById":134004,"CreatedDateTime":"2015-01-19T13:32:35Z","Content":"\n\u003Cp\u003EI have also seen those same behaviors as galane. However, I use FAR, so,whatever is going on, the problem is identical.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-19T15:19:00Z","Content":"\n\u003Cp\u003EThe main problem is that the landing AP simulation use the stock aero. So the AP put the vessel in a trajectory that should bring where you want according to the sim. \u003C/p\u003E\u003Cp\u003EBut when you use FAR or SDF (I am bit surprised about SDF there, I ll have to test) the vessel does not follow that simulated trajectory so the AP is confused and try to compensate. And as you get lower the difference between the sim and the reality gets even more different and harder to handle by the AP. \u003C/p\u003E\u003Cp\u003EUntil you reach the altitude where the AP switch to the final landing sequence where there no simulation and just a classic slowdown and suicide burn. If you are slow enough at that point you should land properly even with FAR, NEAR or SDF.\u003C/p\u003E\u003Cp\u003ESo you\u0027ll have to wait for me to tackle the whole \u0022alternate landing sim\u0022 problem.\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-19T17:23:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThe main problem is that the landing AP simulation use the stock aero. So the AP put the vessel in a trajectory that should bring where you want according to the sim. \u003Cp\u003EBut when you use FAR or SDF (I am bit surprised about SDF there, I ll have to test) the vessel does not follow that simulated trajectory so the AP is confused and try to compensate. And as you get lower the difference between the sim and the reality gets even more different and harder to handle by the AP. \u003C/p\u003E\u003Cp\u003EUntil you reach the altitude where the AP switch to the final landing sequence where there no simulation and just a classic slowdown and suicide burn. If you are slow enough at that point you should land properly even with FAR, NEAR or SDF.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s an excellent explanation, Sarbian. I sort of figured that out by experimentation a year or so ago when I was giving a lot of feedback regarding stock aerodynamic parachute landings on places like Laythe. The fellow (name escapes me) who was doing code pushes with that stuff really got the accuracy down well for most sane entry orbits.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003ESo you\u0027ll have to wait for me to tackle the whole \u0022alternate landing sim\u0022 problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EREALLY looking forward to this when you get a chance to work on it. FAR makes the game much more fun for me, but it would be nice to be able to get at least within a kilometer or so for Kerbin, Eve, Duna and Laythe to be able to setup multi-ship, long-term bases. \u003C/p\u003E\u003Cp\u003EI did find sort of a \u0022close enough\u0022 work around, at least for FAR and Kerbin, with the MJ landing autopilot - in the first case, I came in from about a 175 km, 45\u00C3\u201A\u00C2\u00BA orbit and landed within 2 km of the pad on a southerly trajectory using MJ. Alternately, for an equatorial 150 km orbit, I \u0022picked a target\u0022 on the map a little ways past the Island Airport and managed about the same accuracy. \u003C/p\u003E\u003Cp\u003EAnyway, thank you for as well for change to display units (pascals) on the Ascent Autopilot for dynamic pressure fadeout. Much more understandable now. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"aradapilot","CreatedById":88559,"CreatedDateTime":"2015-01-19T20:38:14Z","Content":"\n\u003Cp\u003EThere\u0027s still one critical maneuver missing from the maneuver planner - changing relative inclination. The only option is to set it to 0, via match planes, but there\u0027s no way to set that to a nonzero value. Could you add an option to input the desired relative inclination? Planning a setup for, say, two polar orbiters with perpendicular orbits, can be very frustrating...and the code is already there, just no input option.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-19T21:09:28Z","Content":"\n\u003Cp\u003EGalane : I noticed you have Stock Drag Fix enableConicDragTypes set to true. I\u0027ll repeat what the config file says : \u0022Do not enable\u0022. The conic drag model is wrong.\u003C/p\u003E\u003Cp\u003Earadapilot : hum nope. Not that easy. There is an infinite number of 2 orbit with a x degree relative inclination. for 90\u00C3\u201A\u00C2\u00B0 you could have 2 polar orbit or 1 polar and 1 equatorial. You would need to also specify the orbit inclination, or the the latitude of one of the crossing point. \u003C/p\u003E\u003Cp\u003EMath \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mystique","CreatedById":95628,"CreatedDateTime":"2015-01-19T21:33:48Z","Content":"\n\u003Cp\u003EMJ sometimes reporting wrong node burn time (while stock and Engineer\u0027s timers show correct values), any ideas?\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://postimg.org/image/ef1wmlpid/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://s18.postimg.org/ef1wmlpid/screenshot17.jpg\u0022 alt=\u0022screenshot17.jpg\u0022\u003E\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-20T00:22:54Z","Content":"\n\u003Cp\u003EMJ version ? \u003C/p\u003E\u003Cp\u003EThe code that display that value is a bit messy so it may be just that. I ll have a look later.\u003C/p\u003E\n"},{"CreatedByName":"ArcFurnace","CreatedById":109240,"CreatedDateTime":"2015-01-20T00:44:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EDo a first launch to rendez-vous an wait until circularization. Revert to launch and redo the launch. MJ record the angle between your launch and the circularization each time, so when you do the second launch it should get near your target.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell look at that.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/bGFkprL.png\u0022 alt=\u0022bGFkprL.png\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003EUnder 1km rendezvous straight from launch. Very nice. \u003C/p\u003E\u003Cp\u003EThat was for a 0\u00C3\u201A\u00C2\u00B0 inclination target orbit. A few more questions regarding LTR:\u003C/p\u003E\u003Cp\u003E1. You have to manually adjust the orbit altitude/inclination to match the target\u0027s orbit in the ascent autopilot, correct? The LTR button did not seem to ever change those. \u003C/p\u003E\u003Cp\u003E2. For inclined orbits it just goes for the first possible rendezvous, correct? Aiming at a 100 km/45\u00C3\u201A\u00C2\u00B0 inclination target orbit, it got me a ~13km intercept with a relative orbital inclination of ~24\u00C3\u201A\u00C2\u00B0 on the second try (both orbits were 45\u00C3\u201A\u00C2\u00B0 with respect to the equator, but the orbital planes were rotated with respect to one another). Image below. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cimg src=\u0022http://i.imgur.com/kpG732C.png\u0022 alt=\u0022kpG732C.png\u0022\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it does this because in order to launch into the same plane AND directly to rendezvous in a highly inclined orbit would require the target to be in exactly the right orbital position when the launch site crosses the target\u0027s orbital plane, which would happen approximately once every zillion years. For equatorial orbits you can launch to an in-plane rendezvous easily because the launch site is always in the target plane, so you just wait until the target is in the correct relative position, which should always take less than one orbit. For high-inclination rendezvous targets, you would want to use \u0022Launch into plane of target\u0022 directly into a phasing orbit and then use the Rendezvous Autopilot after circularization.\u003C/p\u003E\u003Cp\u003EAm I understanding this correctly?\u003C/p\u003E\n"},{"CreatedByName":"LameLefty","CreatedById":57336,"CreatedDateTime":"2015-01-20T00:51:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003EFor high-inclination rendezvous targets, you would want to use \u0022Launch into plane of target\u0022 directly into a phasing orbit and then use the Rendezvous Autopilot after circularization.\u003Cp\u003EAm I understanding this correctly?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot to answer for sarbian, but speaking as an honest-to-$DEITY aerospace engineer, you got it right.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2015-01-20T04:51:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EGalane : I noticed you have Stock Drag Fix enableConicDragTypes set to true. I\u0027ll repeat what the config file says : \u0022Do not enable\u0022. The conic drag model is wrong.\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t enable it or change anything in SDF, just extracted its folder to Game Data.\u003C/p\u003E\u003Cp\u003E*looks at the SDF_Settings.cfg file*\u003C/p\u003E\u003Cp\u003ESTOCK_DRAG_FIX_SETTINGS\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E dragScale = 1\u003C/p\u003E\u003Cp\u003E // Do not enable. Experimental and only partially functional.\u003C/p\u003E\u003Cp\u003E enableConicDragTypes = false\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\u003Cp\u003EWhat may be a problem is that file is not written with the line endings that are standard for Windows. Open with Notepad and it\u0027s all on one line with the inverse 0 characters where line endings should be. Open and save in Wordpad and it fixes that. I\u0027ve noticed that causing issues with other KSP text files in Windows.\u003C/p\u003E\u003Cp\u003EOddly, copying and pasting the file contents as-delivered, to here, it pastes with the appearance of being correctly formatted.\u003C/p\u003E\u003Cp\u003EI\u0027ll test this and see if that helps.\u003C/p\u003E\u003Cp\u003E*after test*\u003C/p\u003E\u003Cp\u003EWell, logging no longer stops after Stock Drag Fix loads but I still get the switched to CONIC drag lines in the log and MechJeb still can\u0027t land on Kerbin with SDF. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EI did two flights. First run it looked like it was going to work. It did the high deorbit then a proper single correction burn. Then it jumped right into braking burn with ever increasing target speed until it went to the window full of zeros and quit.\u003C/p\u003E\u003Cp\u003ESecond try I got the \u0022correcting\u0022 in random directions, rather than only in the existing orbital plane.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-20T07:19:16Z\u0022 title=\u002201/20/2015 07:19  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 20, 2015\u003C/time\u003E by Galane\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-01-20T14:43:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003EWell look at that.\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Ca href=\u0022http://i.imgur.com/bGFkprL.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/bGFkprL.png\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EUnder 1km rendezvous straight from launch. Very nice. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice to see that MJ does not work only for me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E1. You have to manually adjust the orbit altitude/inclination to match the target\u0027s orbit in the ascent autopilot, correct? The LTR button did not seem to ever change those. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInclination should update itself when the launch to xxx is pressed. There was a fix in one of the last dev version since I messed it up while cleaning that code.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ArcFurnace\u0022 data-cite=\u0022ArcFurnace\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E2. For inclined orbits it just goes for the first possible rendezvous, correct? Aiming at a 100 km/45\u00C3\u201A\u00C2\u00B0 inclination target orbit, it got me a ~13km intercept with a relative orbital inclination of ~24\u00C3\u201A\u00C2\u00B0 on the second try (both orbits were 45\u00C3\u201A\u00C2\u00B0 with respect to the equator, but the orbital planes were rotated with respect to one another). Image below. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Ca href=\u0022http://i.imgur.com/kpG732C.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/kpG732C.png\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EI think it does this because in order to launch into the same plane AND directly to rendezvous in a highly inclined orbit would require the target to be in exactly the right orbital position when the launch site crosses the target\u0027s orbital plane, which would happen approximately once every zillion years. For equatorial orbits you can launch to an in-plane rendezvous easily because the launch site is always in the target plane, so you just wait until the target is in the correct relative position, which should always take less than one orbit. For high-inclination rendezvous targets, you would want to use \u0022Launch into plane of target\u0022 directly into a phasing orbit and then use the Rendezvous Autopilot after circularization.\u003C/p\u003E\u003Cp\u003EAm I understanding this correctly?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou seems to understand it better than I do \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2015-01-20T15:30:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003ENice to see that MJ does not work only for me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s been working like a charm for me for ages, getting along nicely with SDF and DRE to boot. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}