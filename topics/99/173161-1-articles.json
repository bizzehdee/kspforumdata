{"TopicId":173161,"ForumId":99,"TopicTitle":"1.4.2 - Rockomax Jumbo-64 Offcenter","CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-28T19:01:58Z","PageNum":1,"Articles":[{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-28T19:01:58Z","Content":"\n\u003Cp\u003E\nHello,\n\u003C/p\u003E\n\u003Cp\u003E\nIt seems now the Orange variant of the Rockomax Jumbo-64 is offcenter. \u00A0 It also appears to have a seam running down the middle and z-fighting on the grey tank ends.\u00A0 I should include the black \u0026amp; white variant seems to be lined up just fine.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022eSjwlZw.png\u0022 class=\u0022ipsImage\u0022 height=\u0022496\u0022 src=\u0022https://i.imgur.com/eSjwlZw.png\u0022 width=\u0022997\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nrYOCVD.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/nrYOCVD.png\u0022 width=\u0022511\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-28T21:06:43Z\u0022 title=\u002203/28/2018 09:06  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 28, 2018\u003C/time\u003E by klesh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2018-03-29T18:30:50Z","Content":"\n\u003Cp\u003E\nAre you sure that you haven\u0027t accidentally placed two tanks inside each other? Mirror symmetry does that.\n\u003C/p\u003E\n\u003Cp\u003E\nBecause I can only recall there being a pipe on one side of the tank instead of both.\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-29T19:26:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223338790\u0022 data-ipsquote-contentid=\u0022173161\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522348250\u0022 data-ipsquote-userid=\u0022173586\u0022 data-ipsquote-username=\u0022Delay\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n56 minutes ago, Delay said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre you sure that you haven\u0027t accidentally placed two tanks inside each other? Mirror symmetry does that.\n\u003C/p\u003E\n\u003Cp\u003E\nBecause I can only recall there being a pipe on one side of the tank instead of both.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYes.\u00A0 I just checked again to be sure.\u00A0 The white and black variant is fine, and the orange variant has this issue.\u00A0 Pipes are on both sides, for sure.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nTry it yourself, use the tank as the 1st part.\u00A0 Takes 11 seconds to see this.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-29T19:27:35Z\u0022 title=\u002203/29/2018 07:27  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 29, 2018\u003C/time\u003E by klesh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hurzelgnurk","CreatedById":101818,"CreatedDateTime":"2018-03-29T19:34:14Z","Content":"\n\u003Cp\u003E\nSame effect here, 1 part, 36t. I think the tank is eccentric and offset because the edge is only on one side.\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-29T20:08:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223338850\u0022 data-ipsquote-contentid=\u0022173161\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522352054\u0022 data-ipsquote-userid=\u0022101818\u0022 data-ipsquote-username=\u0022Hurzelgnurk\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n34 minutes ago, Hurzelgnurk said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think the tank is eccentric and offset because the edge is only on one side.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIndeed.\u00A0 One side lines up great, the other is off.\n\u003C/p\u003E\n"},{"CreatedByName":"Sam Hall","CreatedById":11263,"CreatedDateTime":"2018-03-31T06:21:02Z","Content":"\n\u003Cp\u003E\nOkay I took a look and it seems like there\u0027s 3 different problems plus one peripheral sub-problem going on here:\n\u003C/p\u003E\n\u003Cp\u003E\n1. Opening up the .mu file in a 3d editor reveals that the orange tank is just not modeled very cleanly. Parts of it are subtly lopsided, there are split edge normals that were obviously split by accident and then just left that way, the whole thing is just a smidge off-center. No biggie, 10 minute cleanup job in Blender.\n\u003C/p\u003E\n\u003Cp\u003E\n2. When they converted the diffuse map from .png to .dds the export settings were set wrong, and the alpha channel was blanked. It wasn\u0027t actually deleted; there still is a alpha channel, the image is still DXT5 not DXT1. The channel is just completely full of nothing but white. Since the shader is using the alpha channel as its diffuse map, this makes every pixel on the tank\u0027s surface completely as shiny as all hell, and makes the messed-up geometry visually pop a lot more.\n\u003C/p\u003E\n\u003Cp\u003E\n2.B. Additionally, the normal map on the white tank got straight-up wrecked in the .png -\u0026gt; .dds conversion. It looks like they tried to use DXT5nm compression but got the swizzling process completely wrong. You\u0027re supposed to move the data from the red channel into the alpha channel and blank the blue and red channels, but instead they just duplicated the green channel over absolutely everything. That doesn\u0027t give you a working normal map. It gives you a gross ugly mess that doesn\u0027t make any visual sense in-engine. It\u0027s not the first time Squad\u0027s done this either but that\u0027s a topic for its own bug report.\n\u003C/p\u003E\n\u003Cp\u003E\nFortunately the .pngs in 1.4.0 are still good, so going back and re-exporting everything the right way wasn\u0027t hard.\n\u003C/p\u003E\n\u003Cp\u003E\n3. the ModulePartVariants in Rockomax64.cfg was set up all wrong. What you\u0027re seeing in Klesh\u0027s screenshot is the game loading both the orange tank\u0027s mesh AND the white tank\u0027s mesh retextured with the orange skin at the same time, and since the orange tank\u0027s mesh was modeled slightly off-center the two are clipping through each other and z-fighting like crazy. This took a little longer to figure out since ModulePartVariants is documented basically nowhere but I managed to fix it by sticking \u003Cem\u003Eboth\u003C/em\u003E meshes inside Rockomax64.mu and deleting Rockomax64_O.mu and commenting out the MODEL line referring to it in the .cfg.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m putting a zip up on dropbox that replaces all problem files; just dump its contents into the GameData\\Squad\\Parts\\FuelTank\\RockomaxTanks\\ folder, overwriting as necessary (obviously make a backup of the folder first because better safe than sorry). Let me know if this works or breaks anything, but I\u0027m not gonna reply right away cause it\u0027s waaay after sleepy-time now.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/7cbhgyosuzwq7fc/Rockofix.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/7cbhgyosuzwq7fc/Rockofix.zip?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022mez5NkL.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/mez5NkL.jpg\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-03-31T13:01:08Z","Content":"\n\u003Cp\u003E\nMy goodness. \u00A0Excellent work \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11263-sam-hall/\u0026amp;do=hovercard\u0022 data-mentionid=\u002211263\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/11263-sam-hall/\u0022 rel=\u0022\u0022\u003E@Sam Hall\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003EI\u2019ll give your solution a try this morning.\u003C/s\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI tried it, it works great.\u00A0 I\u0027ll post this to the bugtracker.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/18298\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bugs.kerbalspaceprogram.com/issues/18298\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-31T18:27:30Z\u0022 title=\u002203/31/2018 06:27  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 31, 2018\u003C/time\u003E by klesh\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2018-04-20T11:08:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223340502\u0022 data-ipsquote-contentid=\u0022173161\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221522477262\u0022 data-ipsquote-userid=\u002211263\u0022 data-ipsquote-username=\u0022Sam Hall\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 31/03/2018 at 8:21 AM, Sam Hall said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFortunately the .pngs in 1.4.0 are still good, so going back and re-exporting everything the right way wasn\u0027t hard.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell done! I hadn\u0027t thought to look into 1.4.0 and I\u0027ve build my own. If I had thought it, I would have saved my time...\n\u003C/p\u003E\n\u003Cp\u003E\nOtherwise, I wonder what the hell they could have been thinking when they decided to use two models in the same object, they don\u0027t know what we can do in cfg parts?? And, the cherry on top, they don\u0027t use the good name in game object choice by using \u0022Rockomax_64\u0022 instead of \u0022Rocko64\u0022.\u00A0 This new Jumbo was really made by throw it in (and without any test).\n\u003C/p\u003E\n\u003Cp\u003E\n(A little minor mistake has crept into your model, some names of texture in material are wrong and result some error in log)\n\u003C/p\u003E\n"},{"CreatedByName":"klesh","CreatedById":110814,"CreatedDateTime":"2018-04-26T23:29:03Z","Content":"\n\u003Cp\u003E\nLooks like they\u0027ve fixed it, hopefully it\u0027ll be included in 1.4.3!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://bugs.kerbalspaceprogram.com/issues/18298#note-4\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bugs.kerbalspaceprogram.com/issues/18298#note-4\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-04-26T23:29:31Z\u0022 title=\u002204/26/2018 11:29  PM\u0022 data-short=\u00226 yr\u0022\u003EApril 26, 2018\u003C/time\u003E by klesh\u003C/strong\u003E\n\u003C/span\u003E\n"}]}