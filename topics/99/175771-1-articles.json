{"TopicId":175771,"ForumId":99,"TopicTitle":"Using Funds and \u0022Trying Again\u0022 In the Mission Builder","CreatedByName":"ceaars","CreatedById":187530,"CreatedDateTime":"2018-06-09T20:48:39Z","PageNum":1,"Articles":[{"CreatedByName":"ceaars","CreatedById":187530,"CreatedDateTime":"2018-06-09T20:48:39Z","Content":"\n\u003Cp\u003E\nI can set both starting funds, and manipulate them (and have done so) in the mission builder.\u00A0 But building and launching a rocket has no effect on the funds level, and you can build and launch a rocket that is more expensive than whatever the current fund level is.\u00A0 Why is this?\u00A0 And is there a way to get the mission builder to actually USE the funds when letting the user build rockets?\u00A0 Or are \u0022funds\u0022 in the mission builder just for show and don\u0027t actually do anything?\n\u003C/p\u003E\n\u003Cp\u003E\nLikewise, if I want to set things up so if you fail an objective you try again, how do I do it?\u00A0 More specifically - I have a Spawn Vessel node \u0022flowing\u0022 into a \u0022get to this altitude\u0022 node and a \u0022vessel was destroyed\u0022 node.\u00A0 The \u0022vessel was destroyed\u0022 node triggers a message saying you didn\u0027t reach the needed altitude and tells you to try again.\u00A0 It then loops you back to the Spawn Vessel node.\u00A0 But nothing happens.\u00A0 The player can\u0027t build another rocket and try again - they\u0027re locked out of the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E permanently.\u00A0 Why?\n\u003C/p\u003E\n\u003Cp\u003E\nThanks in advance - I\u0027m trying to see what I can do with the builder (in fact, I\u0027m actually seeing how viable it is to make some \u0022labs\u0022 for my students to play with), but there are clearly some things that I don\u0027t understand (that aren\u0027t working the way it seems like they should)...\n\u003C/p\u003E\n"},{"CreatedByName":"ceaars","CreatedById":187530,"CreatedDateTime":"2018-06-13T23:00:13Z","Content":"\n\u003Cp\u003E\nOkay, I\u0027m going to guess that the lack of answer means nobody\u0027s really explored this functionality and doesn\u0027t really know.\u00A0 So it looks like I might be taking point on answering my own questions.\u00A0 So if you\u0027re interested, here\u0027s a first update:\n\u003C/p\u003E\n\u003Cp\u003E\nI still have no clue how \u0022funds\u0022 can actually be spent.\u00A0 You do seem to get funds by recovering vehicle components, but actually building and launching a rocket doesn\u0027t appear to affect it.\u00A0 At the moment it seems to be a de-facto \u0022score\u0022 of sorts (you can deduct funds for failure or add them for success), but isn\u0027t actually *used* (or at least I haven\u0027t found a setting that seems to \u0022use\u0022 funds).\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0022try again\u0022 problem I might have made somewhat more progress on.\u00A0 I\u0027m beginning to suspect that to \u0022reuse\u0022 a \u0022spawn vessel\u0022 node, the previous mission spawned using that node has to be \u0022recovered.\u0022\u00A0 In other words - once you \u0022go to the launch pad\u0022 (as it were) that particular instance of \u0022spawn vessel\u0022 is flagged as \u0022on\u0022 (for lack of a better word).\u00A0 And if the builder script loops back to a spawn vessel node that is \u0022on,\u0022 it just ignores it (well, I think it\u0027s technically just assuming the \u0022spawned vessel\u0022 exists, so you can\u0027t build a new version of it; so it\u0027s more like the \u0022spawn vessel\u0022 node is set to TRUE, or CURRENTLY SPAWNED, if that makes sense).\u00A0 \u003Cu\u003EAnd the only way to clear that state is to recover the vessel.\u003C/u\u003E\u00A0 If I\u0027m right about this, the complete destruction of the vessel is NOT sufficient criteria to set the node to FALSE or NOT CURRENTLY SPAWNED.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I\u0027m right, that means that to \u0022re-use\u0022 a spawn vessel node for a destroyed vessel, you\u0027ve got to somehow make a totally destroyed vessel \u0022recoverable.\u0022\u00A0 It might be as simple as spawning a \u0022part\u0022 on the launch pad (or maybe a \u0022water boy\u0022 kerbal or something) that will be flagged as part of the mission and recoverable.\u00A0 I\u0027ll have to test it out to see...\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT:\u00A0 Well, I thought I\u0027d found something - under \u0027Options\u0027 is a checkmark for \u0022only do this node once.\u0022\u00A0 I figured that\u0027s what was keeping stuff from working (i.e. since the builder had already done \u0022spawn vessel\u0022 it simply couldn\u0027t do it again from that node while that checkmark was checked).\u00A0 So I figured unchecking it might solve the \u0022can\u0027t loop back around to \u0027spawn vessel\u0027 to try again\u0022 problem.\u00A0 THAT was a big no.\u00A0 Not only do you STILL stay locked out of the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E - so far the ONLY way I\u0027ve been able to give you access again is to put in a completely new spawn vessel node - but unchecking \u0027one only\u0027 actually seems to set the node as PERMANENTLY true... so I only managed to create an infinite loop that flooded the \u0022Mission App\u0022 with more than 700 \u0022you didn\u0027t get to the correct altitude\u0022 message since the builder literally read it as:\n\u003C/p\u003E\n\u003Cp\u003E\nVESSEL IS SPAWNED (it\u0027s actually completely recovered at this point)\n\u003C/p\u003E\n\u003Cp\u003E\nSPAWNED VESSEL IS FLAGGED AS RECOVERED (but \u0022made it to 7000 m node\u0022 wasn\u0027t activated)\n\u003C/p\u003E\n\u003Cp\u003E\nDISPLAY \u0022You didn\u0027t get to 7000 m\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nSPAWN VESSEL (but VESSEL IS SPAWNED)\n\u003C/p\u003E\n\u003Cp\u003E\nVESSEL IS FLAGGED AS RECOVERED\n\u003C/p\u003E\n\u003Cp\u003E\n.... etc. etc, looping through over and over and over again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo far it is seeming very much like NO MATTER WHAT THE SPAWN VESSEL NODE CAN ONLY BE USED ONCE TO ACTUALLY BUILD SOMETHING.\u00A0 After that it is flagged as TRUE *forever.*\n\u003C/p\u003E\n\u003Cp\u003E\nSo it seems like the only way I\u0027ve found to \u0022try again\u0022 is to give the player \u0022lives\u0022 in the form of multiple spawn vessel nodes for a given mission objective.\n\u003C/p\u003E\n\u003Cp\u003E\nExample:\u00A0 You want the player to build a vessel that gets to 10,000 m.\n\u003C/p\u003E\n\u003Cp\u003E\nSpawn Vessel connected to (1) vessel gets to 10,000 m, (2) vessel is destroyed, (3) vessel is recovered, such that 2 and 3 are alternate branches from Spawn Vessel to test to see if the vessel was destroyed or recovered *before* you got to 10,000 m.\u00A0 There\u0027s also another (4) vessel is destroyed or (5) vessel is recovered AFTER (1) to test when the \u0022flight ended\u0022 if you did make it to 10,000 m.\u00A0 All of that works as expected.\n\u003C/p\u003E\n\u003Cp\u003E\nBut, if you try to connect (2) and (3) back to (1) (i.e. \u0022try again\u0022) you either get:\n\u003C/p\u003E\n\u003Cp\u003E\nA.\u00A0 A state where it is impossible to ever advance the mission, since you can\u0027t build a new vessel, but your old one was recovered or destroyed before reaching 10,000 m (and can never be triggered again).\u00A0 This is what you get when \u0022do node 1\u0022 IS checkmarked.\n\u003C/p\u003E\n\u003Cp\u003E\nB. (2) and (3) \u0022firing\u0022 eternally because EITHER \u0022recovered\u0022 or \u0022destroyed\u0022 is flagged to TRUE and the node can fire multiple times, so it just keeps firing OVER and OVER.\u00A0 And the fact it feeds into (1) is useless, because it thinks the vessel already exists (but didn\u0027t get to 10,000 m), so (1) just goes \u0022yep\u0022 you\u0027ve got a vessel, so check to see if it made it to 10,000 m (you didn\u0027t), but it WAS either (2) or (3), so cycle back to (1), but it never made it to 10,000, but is WAS either (2) or (3), so cycle back to (1), but it n... you get the idea.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the only work around that I can think of so far (my example gives you a total of 4 tries; it could be reduced to 3 or 2, or expanded to more).\u00A0 Call the first \u0022Spawn Vessel\u0022 (0).\n\u003C/p\u003E\n\u003Cp\u003E\n0) Spawn Vessel, connects to (1), (2), and (3).\n\u003C/p\u003E\n\u003Cp\u003E\n(2) and (3) connects to (5) Spawn Vessel Try #2.\u00A0 (5) connects to (1), (6) vessel destroyed, (7) vessel recovered (note these are separate copies of the original (2) and (3)).\n\u003C/p\u003E\n\u003Cp\u003E\n(6) and (7) connects to (8) Spawn Vessel Try #3.\u00A0 (8) connects to (1), (9) destroyed, and (10) recovered.\n\u003C/p\u003E\n\u003Cp\u003E\n(9) and (10) connect to (11) Spawn Vessel Try #4.\u00A0 (11) connects to (1), (12) destroyed, and (13) recovered.\n\u003C/p\u003E\n\u003Cp\u003E\n(12) and (13) connect to (14) Message: We\u0027ve given you four tries and you failed four times.\u00A0 You suck.\u00A0 Game Over (i.e. End Mission).\n\u003C/p\u003E\n\u003Cp\u003E\nIf either (0), (5), (8), (11), or (14) ever actually trigger (1), the mission actually advances to the next objective.\n\u003C/p\u003E\n\u003Cp\u003E\n... so it\u0027s possible for \u0022failure\u0022 to give you more \u0022tries\u0022 - but it is REALLY a pain to program...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-06-14T03:02:50Z\u0022 title=\u002206/14/2018 03:02  AM\u0022 data-short=\u00226 yr\u0022\u003EJune 14, 2018\u003C/time\u003E by ceaars\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Vanamonde","CreatedById":27914,"CreatedDateTime":"2018-06-17T20:01:22Z","Content":"\n\u003Cp\u003E\nThis looks like it might be a support issue. And so, moved to Support.\u00A0\n\u003C/p\u003E\n"}]}