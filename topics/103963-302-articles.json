{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":302,"Articles":[{"CreatedByName":"Pointblank66","CreatedById":152789,"CreatedDateTime":"2018-12-03T21:10:27Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Nightside said:\n\u003E \n\u003E \n\u003E Why would you release it before it was finished?\n\u003E \n\nThere are mod devs that release their mods bit by bit or in parts for redundency reasons, Just so the users can fall back on something.\n\n\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Soon (TM)\n\u003E \n\nAight, I\u0027ll sit tight for the release"},{"CreatedByName":"EdwardB3020","CreatedById":223607,"CreatedDateTime":"2018-12-08T22:53:39Z","Content":"My frame-rate decreases when I\u0027m on EVA or when a goo canister opens ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2018-12-14T18:39:23Z","Content":"Does anyone know if it is possible to get a lens flare effect on rocket engines?"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-14T20:19:45Z","Content":"\u003E \n\u003E \n\u003E On 11/17/2018 at 10:30 AM, blackrack said:\n\u003E \n\u003E \n\u003E You probably have a nullref spam. Press alt\u002BF12 and see what is going on, if it\u0027s the case make a proper bug report, check in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E for a bug report example.\n\u003E \n\nI\u0027m seeing the same issue. No nullrefs, but a huge FPS impact of scatterer\u0027s post processing. Disabling post processing in the scatterer menu immediately yields good FPS again... The issue does not exist with 0.0331b.\n\nEdit: It\u0027s certainly caused by the shaders, as running 0.0331b with the shaders file from 0.0336 also yields significantly lowered fps on Linux, while running 0.0336 with the shaders file from 0.0331b does not yield the fps drop. (Might also be hardware specific - I have an AMD card with radeonsi drivers).\n\nEdit 2: I\u0027ll try to get Unity set up on my machine. If I manage to get it working (last time I tried it was a bit a PITA on Linux), I\u0027ll try to do a git bisect this weekend, to find the offending commit.\n\n**Edited \u003Ctime datetime=\u00222018-12-14T21:05:58Z\u0022 title=\u002212/14/2018 09:05  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 14, 2018\u003C/time\u003E by soulsource**"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-14T22:22:55Z","Content":"Hmmm, it seems performance on Linux went down the drain with\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E commit ddbaecc1a751db0393701eab1699e06c8f988556  \n\u003E \n\u003E Author: [moderator snip]  \n\u003E \n\u003E Date:   Mon May 21 18:24:54 2018 \u002B0200\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     add dithering to post-processing \u002B ocean surface\n\u003E \n\nThe culprit seems to be the added dithering in atmospherePostProcessing32bitViewSpaceDepth.shader. By undoing\n\n    --- a/scatterer/Shaders/scattererShaders/Assets/shaders/atmospherePostProcessing32bitViewSpaceDepth.shader\n    \u002B\u002B\u002B b/scatterer/Shaders/scattererShaders/Assets/shaders/atmospherePostProcessing32bitViewSpaceDepth.shader\n    @@ -306,7 \u002B306,7 @@ Pass {\n     //                             inscatter*=eclipseShadow;\n     //#endif\n     \n    -                return float4(hdr(inscatter)*_global_alpha*returnPixel, 1);                                            \n    \u002B                return float4(dither(hdr(inscatter)*_global_alpha, screenPos)*returnPixel, 1);\n\nI got performance back up to acceptable levels, also with shaders from 0.0336.\n\nI\u0027ll investigate this further, because the dither function itself looks reasonably benign, so there has to be something crazy going on in either Unity\u0027s HLSL-\u003EGLSL converter, or in the AMD shader compiler...  \n\n(I originally thought that we get register spilling, but meanwhile I\u0027m rather certain that we can rule that out...)\n\n**Edited \u003Ctime datetime=\u00222018-12-15T01:20:54Z\u0022 title=\u002212/15/2018 01:20  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 15, 2018\u003C/time\u003E by Vanamonde**"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-14T22:49:35Z","Content":"I might get crazy: By just removing the dither function completely (meaning: just making it return the input value) performance drastically increased on Linux. Like, from 35 to 45 fps on my machine...\n\nEdit: It has something to do with the size of the bayerPattern.\n\nEdit 2: That gives me an idea. The matrix can be replaced with a formula ([https://en.wikipedia.org/wiki/Ordered_dithering](https://en.wikipedia.org/wiki/Ordered_dithering)). I\u0027ll try that tomorrow, and if it indeed improves performance, there will soon be a pull request. \n\n**Edited \u003Ctime datetime=\u00222018-12-14T23:27:29Z\u0022 title=\u002212/14/2018 11:27  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 14, 2018\u003C/time\u003E by soulsource**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-12-15T11:10:03Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, soulsource said:\n\u003E \n\u003E \n\u003E I might get crazy: By just removing the dither function completely (meaning: just making it return the input value) performance drastically increased on Linux. Like, from 35 to 45 fps on my machine...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit: It has something to do with the size of the bayerPattern.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit 2: That gives me an idea. The matrix can be replaced with a formula ([https://en.wikipedia.org/wiki/Ordered_dithering](https://en.wikipedia.org/wiki/Ordered_dithering)). I\u0027ll try that tomorrow, and if it indeed improves performance, there will soon be a pull request.\n\u003E \n\nLet me know how it goes, in my experience the shader compiler is full of bugs when it comes to compiling to opengl. One thing you can do is try to add the #pragma glsl directive to the shader, although I\u0027m not sure if it still does something since unity 5"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-15T18:22:22Z","Content":"What I\u0027ve found up to now is that the Bayer pattern array seems to be placed in private memory, instead of being hardcoded or stored in registers...\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E \\*\\*\\* SHADER STATS \\*\\*\\*  \n\u003E \n\u003E SGPRS: 72  \n\u003E \n\u003E VGPRS: 48  \n\u003E \n\u003E Spilled SGPRs: 0  \n\u003E \n\u003E Spilled VGPRs: 0  \n\u003E \n\u003E Private memory VGPRs: 64  \n\u003E \n\u003E Code Size: 4424 bytes  \n\u003E \n\u003E LDS: 0 blocks  \n\u003E \n\u003E Scratch: 17408 bytes per wave  \n\u003E \n\u003E Max Waves: 5  \n\u003E \n\u003E \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\n\u003E \n\nI think the following snippet compares the same shader, once with the Bayer pattern as an array (old file), and once with it computed with the formula from Wikipedia (new file): [https://pastebin.com/GAuSLWPx](https://pastebin.com/GAuSLWPx) (think, because I have no experience when it comes to reading assembly).\n\nHere\u0027s a pull request for your consideration: Edit 3: Please disregard, it\u0027s not building for Windows... ~~[https://github.com/LGhassen/Scatterer/pull/52](https://github.com/LGhassen/Scatterer/pull/52)~~\n\nAs said, this change improves performance on Linux with AMD hardware a lot, but as it does more computations (instead of using precomputed values), it might decrease performance on other platforms and should therefore be tested before merging (I would actually even consider conditional compilation, in the worst case)...\n\nEdit: The merge request requires shader model 4. I don\u0027t know if scatterer supports d3d9, but if it does, please tell me, then I\u0027ll rewrite it so it does not use any bitwise operators.\n\nEdit 2: I just saw that when building for Windows shaders for SM 3 are being built. I\u0027ll fix that.\n\nEdit 4: See post below.\n\n**Edited \u003Ctime datetime=\u00222018-12-15T21:07:33Z\u0022 title=\u002212/15/2018 09:07  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 15, 2018\u003C/time\u003E by soulsource**"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-15T20:41:05Z","Content":"So, sorry for the confusion. The pull request is open again, and should now work on shader model 3 as well.[https://github.com/LGhassen/Scatterer/pull/52](https://github.com/LGhassen/Scatterer/pull/52)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-12-16T10:41:01Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, soulsource said:\n\u003E \n\u003E \n\u003E So, sorry for the confusion. The pull request is open again, and should now work on shader model 3 as well.[https://github.com/LGhassen/Scatterer/pull/52](https://github.com/LGhassen/Scatterer/pull/52)\n\u003E \n\nIt\u0027s integrated, thanks!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-12-16T10:52:53Z","Content":"\u003E \n\u003E \n\u003E On 12/8/2018 at 11:53 PM, EdwardB3020\uFEFF said:\n\u003E \n\u003E \n\u003E My frame-rate decreases when I\u0027m on EVA or when a goo canister opens ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)\n\u003E \n\nPlease make a proper bug report (see section in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E)\n\n\u003E \n\u003E \n\u003E On 12/14/2018 at 7:39 PM, Nightside said:\n\u003E \n\u003E \n\u003E Does anyone know if it is possible to get a lens flare effect on rocket engines?\n\u003E \n\nNot possible now"},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-16T13:15:38Z","Content":"As a small sidenote: I could not stop playing with this Linux issue, and it seems that the HLSL-\u003EGLSL converter of Unity is to blame. Maybe we should file a bug report there...\n\nI\u0027ve looked at the generated GLSL code using Mesa\u0027s [shader replacement](https://www.mesa3d.org/shading.html) feature, and the generated code is everything but compiler friendly. Here\u0027s an example (one of the shaders that uses dither):  [https://pastebin.com/KUpVnT2R](https://pastebin.com/KUpVnT2R)  \n\nUnity converts the local compile time constant array into an uninitialized global array, that then is copy-initialized in the shader\u0027s main function ![:0.0:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif \u0022:0.0:\u0022). Obviously the llvm AMD shader compiler is seeing this write access happening, and decides to make it a real, in-memory array instead of compiling it in as constants. I\u0027ve made some trivial edits to the generated GLSL code, and that also brought performance up to speed (tested with Mesa\u0027s shader replacement feature again - I don\u0027t know how to make Unity do the same thing ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)): [https://pastebin.com/yCbXqHa1](https://pastebin.com/yCbXqHa1). The only difference being that the array is const again, and initialized right at declaration instead of copying the single values into it in the main function...\n\nSo at least we now know what was going on..."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-12-16T13:32:37Z","Content":"\u003E \n\u003E \n\u003E 15 minutes ago, soulsource said:\n\u003E \n\u003E \n\u003E As a small sidenote: I could not stop playing with this Linux issue, and it seems that the HLSL-\u003EGLSL converter of Unity is to blame. Maybe we should file a bug report there...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I\u0027ve looked at the generated GLSL code using Mesa\u0027s [shader replacement](https://www.mesa3d.org/shading.html) feature, and the generated code is everything but compiler friendly. Here\u0027s an example (one of the shaders that uses dither):  [https://pastebin.com/KUpVnT2R](https://pastebin.com/KUpVnT2R)  \n\u003E \n\u003E Unity converts the local compile time constant array into an uninitialized global array, that t\uFEFFhen is copy-initiali\uFEFFzed in the shader\u0027s ma\uFEFFin fu\uFEFFnction ![:0.0:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_shocked.gif \u0022:0.0:\u0022). Obviously the llvm AMD shader compiler is seeing this write access happening, and decides to make it a real, in-memory array instead of compiling it in as constants. I\u0027ve made some trivial edits to the generated GLSL code, and that also brought performance up to spee\uFEFFd (t\uFEFFested with Mesa\u0027s shader replacem\uFEFFent feature again - I don\u0027t know how\uFEFF to make Unity do the same thing ![:(](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif \u0022:(\u0022)): [https://pastebin.com/yCbXqHa1](https://pastebin.com/yCbXqHa1). The only difference being t\uFEFFhat the array is const aga\uFEFFin, and initialized right at declaration instead of copying the single values into it in the main function... \uFEFF\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So at least we now know what was going on...\n\u003E \n\nYeah, the HLSL -\u003E GLSL converter is wonky in many ways, I often had to work around unexplained bugs.\n\nIf you would like to proceed with the bug report to unity, make sure to test it against the most recent unity version as the one used in KSP is a bit dated."},{"CreatedByName":"soulsource","CreatedById":110576,"CreatedDateTime":"2018-12-16T13:35:19Z","Content":"\u003E \n\u003E \n\u003E On 12/16/2018 at 2:32 PM, blackrack said:\n\u003E \n\u003E \n\u003E Yeah, the HLSL -\u003E GLSL converter is wonky in many ways, I often had to work around unexplained bugs.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If you would like to proceed with the bug report to unity, make sure to test it against the most recent unity version as the one used in KSP is a bit dated.\n\u003E \n\nOkay, so I\u0027m going to test if the issue persists with the latest Unity version, and if yes, file a bug report.\n\nEdit: I can confirm that the same issue persists with the latest Unity build for Linux (2018.2.something). Bug report is in the process of being filed.\n\nEdit 2: Bug report has been sent using Unity\u0027s Bug Reporting tool, including a minimal project with a really minimal shader for easy reproduction. Let\u0027s see if there\u0027s an answer.\n\nEdit 3: No news from Unity yet. I should have filed the bug report at work, where we have Pro licenses, instead of home using a free license..\n\n**Edited \u003Ctime datetime=\u00222018-12-23T11:13:32Z\u0022 title=\u002212/23/2018 11:13  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 23, 2018\u003C/time\u003E by soulsource**"},{"CreatedByName":"Cataclism","CreatedById":191188,"CreatedDateTime":"2018-12-17T17:27:51Z","Content":"----(please ignore this post)\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_  \n\n**Edited \u003Ctime datetime=\u00222018-12-18T09:15:24Z\u0022 title=\u002212/18/2018 09:15  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 18, 2018\u003C/time\u003E by Cataclism**"},{"CreatedByName":"EdwardB3020","CreatedById":223607,"CreatedDateTime":"2018-12-20T18:39:42Z","Content":"\u003E \n\u003E \n\u003E On 12/16/2018 at 5:52 AM, blackrack said:\n\u003E \n\u003E \n\u003E Please make a proper bug report (see section in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Not possible now\n\u003E \n\nI think it was a memory glitch with the in game version 1.5.1. also could you update the mod to 1.6 please so I can use this mod with out having glitches from 1.5.1 in 1.6. thank you. If you watch [@ShadowZone](https://forum.kerbalspaceprogram.com/index.php?/profile/112420-shadowzone/)\u0027s video on 1.6 then you\u0027d probably know what I\u0027m talking about.\n\n**Edited \u003Ctime datetime=\u00222018-12-20T18:40:41Z\u0022 title=\u002212/20/2018 06:40  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 20, 2018\u003C/time\u003E by EdwardB3020\uFEFF**"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-12-21T01:31:49Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, EdwardB3020\uFEFF said:\n\u003E \n\u003E \n\u003E also could you update the mod to 1.6 please so I can use this mod with out having glitches from 1.5.1 in 1.6.\n\u003E \n\nDude.  KSP 1.6 was released literally *\u003Cu\u003Enot even eight hours ago\u003C/u\u003E*.  And it\u0027s the holiday season, and modders do in fact have real lives with real things to do with their time other than the long, unpaid volunteer hours that they put into their mods, in order to give us all these shiny toys for free.\n\nSo please, *\u003Cu\u003Ebe patient\u003C/u\u003E*.  Rest assured that modders *\u003Cu\u003Eknow\u003C/u\u003E* that 1.6 has released, and if you haven\u0027t seen an update yet, it\u0027s because it hasn\u0027t been convenient (or even possible) for them to do so. The modder will release an update if and when they\u0027re inclined to do so, if and when they have time.  *\u003Cu\u003ETheir\u003C/u\u003E* convenience is relevant; yours isn\u0027t.  It\u0027ll be ready whenever it\u0027s ready.\n\nPersonally, I hope they\u0027re taking a few weeks off to relax over the holiday season-- goodness knows they\u0027ve earned it!  ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"EdwardB3020","CreatedById":223607,"CreatedDateTime":"2018-12-21T14:34:24Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, Snark said:\n\u003E \n\u003E \n\u003E Dude.  KSP 1.6 was released literally *\u003Cu\u003Enot even eight hours ago\u003C/u\u003E*.  And it\u0027s the ho\uFEFFliday season, and \uFEFFmodders do\uFEFF in fact have real lives with real things to do with their time other than the long, unpaid volunteer hours that they put into their mods, in order to give us all these shiny toys f\uFEFFo\uFEFFr free.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So please, *\u003Cu\u003Ebe patient\u003C/u\u003E*.  Rest assured that modders *\u003Cu\u003Eknow\u003C/u\u003E* that 1.6 has released, and if you haven\u0027t seen an update yet, it\u0027s because it hasn\u0027t been convenient (or even possible) for them to do so. The modder will release an update if and when they\u0027re inclined to do so, if and when they have time.  *\u003Cu\u003ETheir\u003C/u\u003E* convenience is relevant; yours isn\u0027t.  It\u0027ll be ready whenever it\u0027s ready.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Personally, I hope they\u0027re taking a few weeks off to relax over the holiday season-- goodness knows they\u0027ve earned it!  ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)\n\u003E \n\nnvr mind sry. ygacuhbadidhidhiuadhdahchuahuidaiaciuchaidbhcsbadssdacdadvdghvajcdghad crash."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-12-28T12:42:38Z","Content":"Preview of next release features (incoming image wall):\n\nExtinction is now applied to the main light, this means that objects now receive a nicely tinted light at sunset/sunrise, helping with the perception of early morning/dusk\n\n![sEru0fb.jpg](https://i.imgur.com/sEru0fb.jpg)\n\nwhereas before everything remained bright white at any time:\n\n![8BcxDvO.jpg](https://i.imgur.com/8BcxDvO.jpg)\n\nComparison of \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E at sunrise\n\n![2Bg4MSm.jpg](https://i.imgur.com/2Bg4MSm.jpg)\n\nGlinted reflection and light matching the light on the clouds (here using textures unlimited for the part shaders, but stock shader will get the light tint as well):\n\n![1tAJyGh.jpg](https://i.imgur.com/1tAJyGh.jpg)\n\n![PVs3lNV.jpg](https://i.imgur.com/PVs3lNV.jpg)\n\n![2IL60gR.jpg](https://i.imgur.com/2IL60gR.jpg)\n\n![mGUb1LB.jpg](https://i.imgur.com/mGUb1LB.jpg)\n\nOn Eve this looks interesting as well, although the purple ground gets extra dark with green light\n\n![mONVszz.jpg](https://i.imgur.com/mONVszz.jpg)\n\nYou can even see this from the Mun surface if you get the planetary alignment just right:\n\n![usSGmF7.jpg](https://i.imgur.com/usSGmF7.jpg)\n\n![7oS3Byx.jpg](https://i.imgur.com/7oS3Byx.jpg)\n\nAt the moment eclipses aren\u0027t handled at PQS level however so the mun surface stays red instead of going completely black when Kerbin covers the sun, this will be handled in the future.\n\nThe same approach to changing the light is now also used underwater, to make the actual underwater surface dimmer:\n\n![CnLPrAa.jpg](https://i.imgur.com/CnLPrAa.jpg)\n\nYou can see thsi doesn\u0027t affect secondary lights and makes them more important to have underwater.\n\nMoving on, the ocean now also responds to ambient light, meaning it\u0027s no longer pitch black at night\n\n![nQrltDo.jpg](https://i.imgur.com/nQrltDo.jpg)\n\nAnd I have added shadows on the ocean surface\n\n![jCr1Uo8.jpg](https://i.imgur.com/jCr1Uo8.jpg)\n\nThis should help a lot with judging how close you are to the water surface when landing or flying really close.\n\n![3TcbkkV.jpg](https://i.imgur.com/3TcbkkV.jpg)\n\n![EuUjzkP.jpg](https://i.imgur.com/EuUjzkP.jpg)\n\n![7Vd8558.jpg](https://i.imgur.com/7Vd8558.jpg)\n\n![Pxv1j9v.jpg](https://i.imgur.com/Pxv1j9v.jpg)\n\n![SlI3euf.jpg](https://i.imgur.com/SlI3euf.jpg)\n\n\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E cloud shadows aren\u0027t handled yet but I plan to support them as well.\n\nFixed the small break in the postprocessing between the two game cameras:\n\n![8CphS2v.jpg](https://i.imgur.com/8CphS2v.jpg)\n\nFixed small aliasing at the edge of scaled space planet surface (both are with AA on, left shows aliasing anyway)\n\n![ssOpHbD.jpg](https://i.imgur.com/ssOpHbD.jpg)\n\nImproved atmosphere blending:\n\n![uVPfERG.jpg](https://i.imgur.com/uVPfERG.jpg)\n\nImprovements to shadow precision and less blobbiness:\n\n![xKjnLgR.jpg](https://i.imgur.com/xKjnLgR.jpg)\n\nThe release will as well contain a few more changes and bug fixes that I will detail later.\n\nOne of the things I want to work on before releasing as well is to fix the aliasing on the horizon.\n\n**Edited \u003Ctime datetime=\u00222018-12-28T12:45:32Z\u0022 title=\u002212/28/2018 12:45  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 28, 2018\u003C/time\u003E by blackrack**"},{"CreatedByName":"Dafni","CreatedById":149636,"CreatedDateTime":"2018-12-28T13:49:23Z","Content":"Great news [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)! thanks for all the work you put into this! I cant wait to try it out.\n\nEdit: this might finally be a real reason to leave 1.3.1 behind ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\n**Edited \u003Ctime datetime=\u00222018-12-28T13:53:12Z\u0022 title=\u002212/28/2018 01:53  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 28, 2018\u003C/time\u003E by Dafni**"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2018-12-28T17:50:02Z","Content":"Thank you for your continued efforts, Blackrack, they are truly appreciated! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022) \n\n\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E One of the things I want to work on before releasing as well is to fix the aliasing on the horizon.\n\u003E \n\nI think Scrawk\u0027s [https://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering](https://github.com/Scrawk/Brunetons-Improved-Atmospheric-Scattering) specifically fixes this issue: \n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E Improved texture coordinate mapping which removes the horizon artifact in the previous version.\n\u003E"},{"CreatedByName":"Pkmniako","CreatedById":138569,"CreatedDateTime":"2018-12-28T17:53:30Z","Content":"The hype is real"},{"CreatedByName":"Damon","CreatedById":162728,"CreatedDateTime":"2018-12-28T18:10:33Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Preview of next release features (incoming image wall):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (many many many awesome previes were listed here)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Fixed the small break in the postprocessing between the two game cameras:\uFEFF\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![8CphS2v.jpg](https://i.imgur.com/8CphS2v.jpg)](https://i.imgur.com/8CphS2v.jpg \u0022Enlarge image\u0022)\n\u003E \n\nI cannot say how thankful I am for this. I\u0027ve been promoting this bug since the 1.4 update and now the very own scatterer mod has fixed a stock bug. Amazing! Thank you!"},{"CreatedByName":"CobaltWolf","CreatedById":105588,"CreatedDateTime":"2018-12-28T19:24:01Z","Content":"Awesome!!!"},{"CreatedByName":"The Cuttlefish Empire","CreatedById":177957,"CreatedDateTime":"2018-12-28T19:24:56Z","Content":"Holy crap, this is beautiful. And I thought Scatterer could only be so pretty... ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) \n\n\u003E \n\u003E \n\u003E 5 hours ago, Dafni said:\n\u003E \n\u003E \n\u003E this might finally be a real reason to leave 1.3.1 behind\n\u003E \n\nSame...and my install is just about as unstable as possible, so that\u0027s saying something for me"}]}