{"TopicId":50471,"ForumId":34,"TopicTitle":"[1.2] Real Solar System v12.0 Dec 8","CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2013-10-25T00:56:41Z","PageNum":93,"Articles":[{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-04-13T04:13:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003ENo, I did indeed scale it to 80,000 with an offset of -5000\u003Cp\u003EPerhaps a more realistic target would be 30km, which is the maximum separation of high/low altitudes on Mars. If in fact the height field can be scaled to ensure such a separation.\u003C/p\u003E\u003Cp\u003EBut yeah, I don\u0027t think it\u0027s fair to say that the valley itself is 60km deep because not all of the surrounding terrain is that high; it varies. That just happens to be the maximum separation point across the planet.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe easy way to tell is just place yourself at the bottom of the valley and then record the altitude difference it takes to get back out. I know for a fact that scaling up by a factor of ten made the mountain in the images I linked peak over 25km.\u003C/p\u003E\u003Cp\u003EEDIT: I just spent a lot of time playing with those valleys on Duna and unless I\u0027m mistaken about the ones you\u0027re referring to (I\u0027ve yet to make it there during a game), I can say with some certainty that if you set deformity for the heightmap to 80km then the mountains on on the sides are pretty close to that number. I\u0027ve also found some interesting tricks using the real time editor and hovering over a valley. I\u0027ll get some pics together and post in the next day or so when I have time. At least with Duna, I\u0027ve been able to sharpen the valley walls to a decent degree and add plateauing tops to the cliffs above the valley walls, turning them from gentle valleys into something that looks more like proper (if wide) canyons.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T05:46:26Z\u0022 title=\u002204/13/2014 05:46  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by SpacedInvader\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-13T05:56:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpacedInvader\u0022 data-cite=\u0022SpacedInvader\u0022\u003E\u003Cdiv\u003EThe easy way to tell is just place yourself at the bottom of the valley and then record the altitude difference it takes to get back out. I know for a fact that scaling up by a factor of ten made the mountain in the images I linked peak over 25km.\u003Cp\u003EEDIT: I just spent a lot of time playing with those valleys on Duna and unless I\u0027m mistaken about the ones you\u0027re referring to (I\u0027ve yet to make it there during a game), I can say with some certainty that if you set deformity for the heightmap to 80km then the mountains on on the sides are pretty close to that number. I\u0027ve also found some interesting tricks using the real time editor and hovering over a valley. I\u0027ll get some pics together and post in the next day or so when I have time. At least with Duna, I\u0027ve been able to sharpen the valley walls to a decent degree and add plateauing tops to the cliffs above the valley walls, turning them from gentle valleys into something that looks more like proper (if wide) canyons.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow did you sharpen them?\u003C/p\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-04-13T06:50:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EHow did you sharpen them?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI started with a heightmap deformity of 30Km since that\u0027s what you described as being correct for Mars. Then I exaggerated the deformity for the first PQSMod_VertexHeightNoiseVertHeightCurve2 up to 15Km and then tweaked its values some. The most important of those, however was the simplexHeightEnd which I cut in to 2500 which drew in the walls of the canyon significantly.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/vAEu6#0\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPQSMod_VertexHeightNoiseVertHeightCurve2\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tdeformity = 15000\u003Cbr\u003E\t\t\tridgedAddSeed = 1212\u003Cbr\u003E\t\t\tridgedAddFrequency = 18\u003Cbr\u003E\t\t\tridgedAddLacunarity = 2\u003Cbr\u003E\t\t\tridgedAddOctaves = 4\u003Cbr\u003E\t\t\tridgedSubSeed = 23234424\u003Cbr\u003E\t\t\tridgedSubFrequency = 12\u003Cbr\u003E\t\t\tridgedSubLacunarity = 2\u003Cbr\u003E\t\t\tridgedSubOctaves = 4\u003Cbr\u003E\t\t\tsimplexHeightStart = 0\u003Cbr\u003E\t\t\tsimplexHeightEnd = 2500\u003Cbr\u003E\t\t\tsimplexSeed = 654786\u003Cbr\u003E\t\t\tsimplexOctaves = 4\u003Cbr\u003E\t\t\tsimplexPersistence = 0.800000011920929\u003Cbr\u003E\t\t\tsimplexFrequency = 14\u003Cbr\u003E\t\t\tmodEnabled = True\u003Cbr\u003E\t\t\torder = 13\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe walls of the canyon look to average a little more than 10km, though I\u0027m motoring out there right now just to be sure. An interesting effect that I edited back out, but might fit very well with deep surface features like canyons, is that if you set the heightmap offset too far in the negative, a lower, sheer walled second canyon opens up like a crack in the crust. It might be used for more interesting features. Will post pics in a min.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T06:55:42Z\u0022 title=\u002204/13/2014 06:55  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by SpacedInvader\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-04-13T07:25:45Z","Content":"\n\u003Cp\u003EMore pics...\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/3Qndr#0\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EAlthough I think I can manage at least part of this tweak within the current RSS parameters, I\u0027m really looking forward to getting the generic PQS loader so we can have 100% control over the mods.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T07:41:59Z\u0022 title=\u002204/13/2014 07:41  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by SpacedInvader\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-04-13T09:52:56Z","Content":"\n\u003Cp\u003EOn a separate note, now that I\u0027m getting a clear handle on how to make planetary surfaces interesting, I\u0027d like to move back into the 10x Kerbol system. I was thinking about just using \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55145-0-23-5-Real-Solar-System-v6-4-7-14?p=1058236\u0026amp;viewfull=1#post1058236\u0022 rel=\u0022external nofollow\u0022\u003EFrozenbacon\u0027s nice RSS config\u003C/a\u003E, but I would like to add the planet factory planets into it (scaled up 10x as well) and also make any changes necessary to bring it into 100% compatibility with the most recent version of RSS. Some help / guidance would be appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Dirt_Merchant","CreatedById":69465,"CreatedDateTime":"2014-04-13T12:25:30Z","Content":"\n\u003Cp\u003EIs anyone else running into a situation where the ksc is located closer to Bogota\u0060, Columbia than at the Cape? I believe it has something to do with kerbtown plugin, but on another install without kerbtown, or any related mods, the ksc is still not located at the Cape. Another idea is that it might be remote tech, but i\u0027ve not any ideas as to whats actually happening aside from the aforementioned.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-13T14:45:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SpacedInvader\u0022 data-cite=\u0022SpacedInvader\u0022\u003E\u003Cdiv\u003EMore pics...\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/3Qndr#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/3Qndr#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAlthough I think I can manage at least part of this tweak within the current RSS parameters, I\u0027m really looking forward to getting the generic PQS loader so we can have 100% control over the mods.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah I got those too at -8000. They need smoothing though.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-13T15:17:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ralathon\u0022 data-cite=\u0022Ralathon\u0022\u003E\u003Cdiv\u003EThanks that worked like a charm. I\u0027m using the Duna heightmap for now since that matches with the scaled space model. Terrain looks much better now:\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/YHnAa\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/YHnAa\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf anyone else wants to try it: Just dump \u003Ca href=\u0022https://www.dropbox.com/s/j3nicvqx5lsim8k/DunaHeight.png\u0022 rel=\u0022external nofollow\u0022\u003ETHIS\u003C/a\u003E heightmap in your RealSolarSystem\\Plugins\\PluginData folder and copy paste the following PQS code to Duna\u0027s RSS config.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E PQS\u003Cbr\u003E {\u003Cbr\u003E Duna\u003Cbr\u003E {\u003Cbr\u003E maxLevel = 14\u003Cbr\u003E maxQuadLenghtsPerFrame = 0.8 //0.03 -- and yes, typo is correct.\u003Cbr\u003E //visRadSeaLevelValue = 7.0 //5.0 // the max visRad\u003Cbr\u003E //visRadAltitudeValue = 1.7999999523162842 // the minimum visRad\u003Cbr\u003E //visRadAltitudeMax = 15000.0 //10000.0\u003Cbr\u003E\u003Cbr\u003E PQSMod_VertexSimplexHeightAbsolute // doubles\u003Cbr\u003E {\u003Cbr\u003E deformity = 900 //1000 // 485\u003Cbr\u003E persistence = 0.7 // 0.60000002384185791\u003Cbr\u003E frequency = 36 //12 // 24\u003Cbr\u003E }\u003Cbr\u003E PQSMod_VertexHeightNoiseVertHeightCurve2 // floats\u003Cbr\u003E {\u003Cbr\u003E deformity = 5000 //6000 // 4000\u003Cbr\u003E ridgedAddFrequency = 48 // 48\u003Cbr\u003E ridgedSubFrequency = 32 // 32\u003Cbr\u003E //ridgedAddOctaves = 8 // 6 INT\u003Cbr\u003E simplexHeightStart = 800 // 800\u003Cbr\u003E simplexHeightEnd = 9000 // 4600\u003Cbr\u003E\u003Cbr\u003E }\u003Cbr\u003E PQSMod_VertexRidgedAltitudeCurve // floats\u003Cbr\u003E {\u003Cbr\u003E deformity = 950 // 1800 //1100 // 750\u003Cbr\u003E ridgedAddFrequency = 140 // 25 // 140\u003Cbr\u003E //ridgedAddOctaves = 8 // 3 INT\u003Cbr\u003E simplexHeightStart = 500 // 0\u003Cbr\u003E simplexHeightEnd = 9000 // 6000\u003Cbr\u003E }\u003Cbr\u003E PQSMod_VertexHeightMap // doubles\u003Cbr\u003E {\u003Cbr\u003E heightMapOffset = -2150.0 //-2000.0\u003Cbr\u003E heightMapDeformity = 17300.0 //15600.0 //7000 // 5000\u003Cbr\u003E heightMap = GameData/RealSolarSystem/Plugins/PluginData/DunaHeight.png\u003Cbr\u003E }\u003Cbr\u003E PQSMod_AltitudeAlpha // doubles\u003Cbr\u003E {\u003Cbr\u003E atmosphereDepth = 6000 // 4000\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E KerbinOcean\u003Cbr\u003E {\u003Cbr\u003E PQSMod_AerialPerspectiveMaterial // floats\u003Cbr\u003E {\u003Cbr\u003E atmosphereDepth = 7500 // 5000, scale height in m\u003Cbr\u003E }\u003Cbr\u003E }\u003Cbr\u003E }\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI made the heightmap by simply scaling the exported heightmap of Duna to 8192x4096 and then adding some noise with this matlab code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you mean for KerbinOcean{...} to be in there? Doesn\u0027t seem like that would do anything....\u003C/p\u003E\u003Cp\u003EAlso, to do spoilers now, the spoiler tag has to be \u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E(saw this earlier and downloaded, dunno why I\u0027m only just now trying it)\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-04-13T16:34:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EDid you mean for KerbinOcean{...} to be in there? Doesn\u0027t seem like that would do anything....\u003Cp\u003EAlso, to do spoilers now, the spoiler tag has to be \u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E(saw this earlier and downloaded, dunno why I\u0027m only just now trying it)\u003C/p\u003E\u003Cp\u003EOh no, that doesn\u0027t do anything. Apparently I copy pasted too much.\u003C/p\u003E\u003Cp\u003EIt\u0027s the exact same pqs block Kerbin uses with the PQS city, landclasses en mapdecal removed. I just copy pasted it and changed the links to Duna to make sure I was seeing the effects of the altered heightmap instead of the PQS system.\u003C/p\u003E\u003Cp\u003EOh and thanks for the tip on the spoilers, I\u0027ll go fix it \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Scripto23","CreatedById":95288,"CreatedDateTime":"2014-04-13T17:30:49Z","Content":"\n\u003Cp\u003EI\u0027ve encountered a very strange error with Mars\u0027 atmosphere. I\u0027m within the SOI, about a day out from Mars (mech jeb says 570Mm, KSP\u0027s dial says 570Km altitude) and I\u0027m getting the message \u0022cannot warp faster than 1x while in atmosphere\u0022. Even though I\u0027m nowhere near Mars\u0027 atmosphere and mechjeb says 0g/m3 atmospheric density, 0atm pressure.\u003C/p\u003E\u003Cp\u003EWhat is going on here? I cannot wait an entire day in real time to get to Mars.\u003C/p\u003E\n"},{"CreatedByName":"BahamutoD","CreatedById":72433,"CreatedDateTime":"2014-04-13T17:39:33Z","Content":"\n\u003Cp\u003EI couldn\u0027t timewarp anywhere within Mars/duna\u0027s SOI either.\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-04-13T17:41:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scripto23\u0022 data-cite=\u0022Scripto23\u0022\u003E\u003Cdiv\u003EI\u0027ve encountered a very strange error with Mars\u0027 atmosphere. I\u0027m within the SOI, about a day out from Mars (mech jeb says 570Mm, KSP\u0027s dial says 570Km altitude) and I\u0027m getting the message \u0022cannot warp faster than 1x while in atmosphere\u0022. Even though I\u0027m nowhere near Mars\u0027 atmosphere and mechjeb says 0g/m3 atmospheric density, 0atm pressure.\u003Cp\u003EWhat is going on here? I cannot wait an entire day in real time to get to Mars.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHad the same bug, checking the config just now I see that the Duna atmosphere extends into infinity. I don\u0027t have time to check right now but I suspect that using the following block for Duna\u0027s atmo instead will fix it.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E pressureCurve\u003Cbr\u003E {\u003Cbr\u003E key = 0 0.00689859363633 0 -0.000593753777574\u003Cbr\u003E key = 1 0.006304839858756 -0.000593753777574 -0.000542650093698\u003Cbr\u003E key = 2 0.005762189765058 -0.000542650093698 -0.000495944843321\u003Cbr\u003E key = 3 0.005266244921737 -0.000495944843321 -0.000453259458485\u003Cbr\u003E key = 4 0.004812985463252 -0.000453259458485 -0.000414247954129\u003Cbr\u003E key = 5 0.004398737509123 -0.000414247954129 -0.000378594123713\u003Cbr\u003E key = 6 0.00402014338541 -0.000378594123713 -0.000346008976222\u003Cbr\u003E key = 7 0.003674134409188 -0.000346008976222 -0.000316228393753\u003Cbr\u003E key = 8 0.003357906015435 -0.000316228393753 -0.000289010990719\u003Cbr\u003E key = 9 0.003068895024716 -0.000289010990719 -0.000264136157304\u003Cbr\u003E key = 10 0.002804758867411 -0.000264136157304 -0.000241402271318\u003Cbr\u003E key = 11 0.002563356596093 -0.000241402271318 -0.000220625063953\u003Cbr\u003E key = 12 0.00234273153214 -0.000220625063953 -0.000201636126199\u003Cbr\u003E key = 13 0.002141095405941 -0.000201636126199 -0.000184281543811\u003Cbr\u003E key = 14 0.001956813862131 -0.000184281543811 -0.000168420649758\u003Cbr\u003E key = 15 0.001788393212372 -0.000168420649758 -0.000153924884058\u003Cbr\u003E key = 16 0.001634468328314 -0.000153924884058 -0.00014067675173\u003Cbr\u003E key = 17 0.001493791576585 -0.00014067675173 -0.000128568870448\u003Cbr\u003E key = 18 0.001365222706136 -0.000128568870448 -0.000117503100158\u003Cbr\u003E key = 19 0.001247719605978 -0.000117503100158 -0.0001073897476\u003Cbr\u003E key = 20 0.001140329858378 -0.0001073897476 -0.000082644687708\u003Cbr\u003E key = 25 0.000727106419837 -0.000082644687708 -0.000052696579465\u003Cbr\u003E key = 30 0.000463623522513 -0.000052696579465 -0.000033600822561\u003Cbr\u003E key = 35 0.000295619409708 -0.000033600822561 -0.000017542952689\u003Cbr\u003E key = 45 0.000120189882818 -0.000017542952689 -0.000007132432306\u003Cbr\u003E key = 55 0.000048865559761 -0.000007132432306 -0.000002899830576\u003Cbr\u003E key = 65 0.000019867254005 -0.000002899830576 -0.00000117898313\u003Cbr\u003E key = 75 0.000008077422701 -0.00000117898313 -0.00000047933877\u003Cbr\u003E key = 85 0.000003284034999 -0.00000047933877 -0.000000162178727\u003Cbr\u003E key = 100 0.000000851354089 -0.000000162178727 -0.000000050521935\u003Cbr\u003E key = 110 0.000000346134742 -0.000000050521935 -0.000000020540686\u003Cbr\u003E key = 120 0.000000140727884 -0.000000020540686 -0.00000000835122\u003Cbr\u003E key = 130 0.000000057215688 -0.00000000835122 -0.000000003395353\u003Cbr\u003E key = 140 0.000000023262163 -0.000000003395353 -0.000000001380447\u003Cbr\u003E key = 150 0.00000000945769 -0.000000001380447 -0.000000000561248\u003Cbr\u003E key = 160 0.00000000384521 -0.000000000561248 -0.000000000228186\u003Cbr\u003E key = 170 0.000000001563346 -0.000000000228186 -0.000000000092774\u003Cbr\u003E key = 180 0.000000000635609 -0.000000000092774 -0.000000000036175\u003Cbr\u003E key = 191.1 0.000000000234061 -0.000000000036175 -0.000000000013322\u003Cbr\u003E key = 202.2 0.000000000086193 -0.000000000013322 -0.000000000004906\u003Cbr\u003E key = 213.3 0.00000000003174 -0.000000000004906 -0.000000000018134\u003Cbr\u003E key = 180 0.000000000635609 -0.000000000018134 -0.000000000052967\u003Cbr\u003E key = 192 0 -0.000000000052967 0\u003Cbr\u003E }\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EEDIT: Do not use, use Starwashers post instead.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T17:59:24Z\u0022 title=\u002204/13/2014 05:59  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by Ralathon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-13T17:53:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scripto23\u0022 data-cite=\u0022Scripto23\u0022\u003E\u003Cdiv\u003EI\u0027ve encountered a very strange error with Mars\u0027 atmosphere. I\u0027m within the SOI, about a day out from Mars (mech jeb says 570Mm, KSP\u0027s dial says 570Km altitude) and I\u0027m getting the message \u0022cannot warp faster than 1x while in atmosphere\u0022. Even though I\u0027m nowhere near Mars\u0027 atmosphere and mechjeb says 0g/m3 atmospheric density, 0atm pressure.\u003Cp\u003EWhat is going on here? I cannot wait an entire day in real time to get to Mars.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BahamutoD\u0022 data-cite=\u0022BahamutoD\u0022\u003E\u003Cdiv\u003EI couldn\u0027t timewarp anywhere within Mars/duna\u0027s SOI either.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ralathon\u0022 data-cite=\u0022Ralathon\u0022\u003E\u003Cdiv\u003EHad the same bug, checking the config just now I see that the Duna atmosphere extends into infinity. I don\u0027t have time to check right now but I suspect that using the following block for Duna\u0027s atmo instead will fix it.\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E pressureCurve\u003Cbr\u003E {\u003Cbr\u003E key = 0 0.00689859363633 0 -0.000593753777574\u003Cbr\u003E key = 1 0.006304839858756 -0.000593753777574 -0.000542650093698\u003Cbr\u003E key = 2 0.005762189765058 -0.000542650093698 -0.000495944843321\u003Cbr\u003E key = 3 0.005266244921737 -0.000495944843321 -0.000453259458485\u003Cbr\u003E key = 4 0.004812985463252 -0.000453259458485 -0.000414247954129\u003Cbr\u003E key = 5 0.004398737509123 -0.000414247954129 -0.000378594123713\u003Cbr\u003E key = 6 0.00402014338541 -0.000378594123713 -0.000346008976222\u003Cbr\u003E key = 7 0.003674134409188 -0.000346008976222 -0.000316228393753\u003Cbr\u003E key = 8 0.003357906015435 -0.000316228393753 -0.000289010990719\u003Cbr\u003E key = 9 0.003068895024716 -0.000289010990719 -0.000264136157304\u003Cbr\u003E key = 10 0.002804758867411 -0.000264136157304 -0.000241402271318\u003Cbr\u003E key = 11 0.002563356596093 -0.000241402271318 -0.000220625063953\u003Cbr\u003E key = 12 0.00234273153214 -0.000220625063953 -0.000201636126199\u003Cbr\u003E key = 13 0.002141095405941 -0.000201636126199 -0.000184281543811\u003Cbr\u003E key = 14 0.001956813862131 -0.000184281543811 -0.000168420649758\u003Cbr\u003E key = 15 0.001788393212372 -0.000168420649758 -0.000153924884058\u003Cbr\u003E key = 16 0.001634468328314 -0.000153924884058 -0.00014067675173\u003Cbr\u003E key = 17 0.001493791576585 -0.00014067675173 -0.000128568870448\u003Cbr\u003E key = 18 0.001365222706136 -0.000128568870448 -0.000117503100158\u003Cbr\u003E key = 19 0.001247719605978 -0.000117503100158 -0.0001073897476\u003Cbr\u003E key = 20 0.001140329858378 -0.0001073897476 -0.000082644687708\u003Cbr\u003E key = 25 0.000727106419837 -0.000082644687708 -0.000052696579465\u003Cbr\u003E key = 30 0.000463623522513 -0.000052696579465 -0.000033600822561\u003Cbr\u003E key = 35 0.000295619409708 -0.000033600822561 -0.000017542952689\u003Cbr\u003E key = 45 0.000120189882818 -0.000017542952689 -0.000007132432306\u003Cbr\u003E key = 55 0.000048865559761 -0.000007132432306 -0.000002899830576\u003Cbr\u003E key = 65 0.000019867254005 -0.000002899830576 -0.00000117898313\u003Cbr\u003E key = 75 0.000008077422701 -0.00000117898313 -0.00000047933877\u003Cbr\u003E key = 85 0.000003284034999 -0.00000047933877 -0.000000162178727\u003Cbr\u003E key = 100 0.000000851354089 -0.000000162178727 -0.000000050521935\u003Cbr\u003E key = 110 0.000000346134742 -0.000000050521935 -0.000000020540686\u003Cbr\u003E key = 120 0.000000140727884 -0.000000020540686 -0.00000000835122\u003Cbr\u003E key = 130 0.000000057215688 -0.00000000835122 -0.000000003395353\u003Cbr\u003E key = 140 0.000000023262163 -0.000000003395353 -0.000000001380447\u003Cbr\u003E key = 150 0.00000000945769 -0.000000001380447 -0.000000000561248\u003Cbr\u003E key = 160 0.00000000384521 -0.000000000561248 -0.000000000228186\u003Cbr\u003E key = 170 0.000000001563346 -0.000000000228186 -0.000000000092774\u003Cbr\u003E key = 180 0.000000000635609 -0.000000000092774 -0.000000000036175\u003Cbr\u003E key = 191.1 0.000000000234061 -0.000000000036175 -0.000000000013322\u003Cbr\u003E key = 202.2 0.000000000086193 -0.000000000013322 -0.000000000004906\u003Cbr\u003E key = 213.3 0.00000000003174 -0.000000000004906 -0.000000000018134\u003Cbr\u003E key = 180 0.000000000635609 -0.000000000018134 -0.000000000052967\u003Cbr\u003E key = 192 0 -0.000000000052967 0\u003Cbr\u003E }\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Eactually no it\u0027s still got some bad keys in there. That\u0027s my fault btw.\u003C/p\u003E\u003Cp\u003EMetaphor issued a fix for it. Github has the latest version:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/NathanKell/RealSolarSystem/blob/master/RealSolarSystem.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/NathanKell/RealSolarSystem/blob/master/RealSolarSystem.cfg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EOr if you just want to fix the Duna pressureCurve (like if your cfg is modified and you dont want to lose it)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E pressureCurve\u003Cbr\u003E {\u003Cbr\u003E key = 0 0.00689859363633 0 -0.000593753777574\u003Cbr\u003E key = 1 0.006304839858756 -0.000593753777574 -0.000542650093698\u003Cbr\u003E key = 2 0.005762189765058 -0.000542650093698 -0.000495944843321\u003Cbr\u003E key = 3 0.005266244921737 -0.000495944843321 -0.000453259458485\u003Cbr\u003E key = 4 0.004812985463252 -0.000453259458485 -0.000414247954129\u003Cbr\u003E key = 5 0.004398737509123 -0.000414247954129 -0.000378594123713\u003Cbr\u003E key = 6 0.00402014338541 -0.000378594123713 -0.000346008976222\u003Cbr\u003E key = 7 0.003674134409188 -0.000346008976222 -0.000316228393753\u003Cbr\u003E key = 8 0.003357906015435 -0.000316228393753 -0.000289010990719\u003Cbr\u003E key = 9 0.003068895024716 -0.000289010990719 -0.000264136157304\u003Cbr\u003E key = 10 0.002804758867411 -0.000264136157304 -0.000241402271318\u003Cbr\u003E key = 11 0.002563356596093 -0.000241402271318 -0.000220625063953\u003Cbr\u003E key = 12 0.00234273153214 -0.000220625063953 -0.000201636126199\u003Cbr\u003E key = 13 0.002141095405941 -0.000201636126199 -0.000184281543811\u003Cbr\u003E key = 14 0.001956813862131 -0.000184281543811 -0.000168420649758\u003Cbr\u003E key = 15 0.001788393212372 -0.000168420649758 -0.000153924884058\u003Cbr\u003E key = 16 0.001634468328314 -0.000153924884058 -0.00014067675173\u003Cbr\u003E key = 17 0.001493791576585 -0.00014067675173 -0.000128568870448\u003Cbr\u003E key = 18 0.001365222706136 -0.000128568870448 -0.000117503100158\u003Cbr\u003E key = 19 0.001247719605978 -0.000117503100158 -0.0001073897476\u003Cbr\u003E key = 20 0.001140329858378 -0.0001073897476 -0.000082644687708\u003Cbr\u003E key = 25 0.000727106419837 -0.000082644687708 -0.000052696579465\u003Cbr\u003E key = 30 0.000463623522513 -0.000052696579465 -0.000033600822561\u003Cbr\u003E key = 35 0.000295619409708 -0.000033600822561 -0.000017542952689\u003Cbr\u003E key = 45 0.000120189882818 -0.000017542952689 -0.000007132432306\u003Cbr\u003E key = 55 0.000048865559761 -0.000007132432306 -0.000002899830576\u003Cbr\u003E key = 65 0.000019867254005 -0.000002899830576 -0.00000117898313\u003Cbr\u003E key = 75 0.000008077422701 -0.00000117898313 -0.00000047933877\u003Cbr\u003E key = 85 0.000003284034999 -0.00000047933877 -0.000000162178727\u003Cbr\u003E key = 100 0.000000851354089 -0.000000162178727 -0.000000050521935\u003Cbr\u003E key = 110 0.000000346134742 -0.000000050521935 -0.000000020540686\u003Cbr\u003E key = 120 0.000000140727884 -0.000000020540686 -0.00000000835122\u003Cbr\u003E key = 130 0.000000057215688 -0.00000000835122 -0.000000003395353\u003Cbr\u003E key = 140 0.000000023262163 -0.000000003395353 -0.000000001380447\u003Cbr\u003E key = 150 0.00000000945769 -0.000000001380447 -0.000000000561248\u003Cbr\u003E key = 160 0.00000000384521 -0.000000000561248 -0.000000000228186\u003Cbr\u003E key = 170 0.000000001563346 -0.000000000228186 -0.000000000092774\u003Cbr\u003E key = 180 0.000000000635609 -0.000000000092774 -0.000000000036175\u003Cbr\u003E key = 191.1 0.000000000234061 -0.000000000036175 -0.000000000013322\u003Cbr\u003E key = 202.2 0.000000000086193 -0.000000000013322 -0.000000000004906\u003Cbr\u003E key = 213.3 0 -0.000000000004906 0\u003Cbr\u003E }\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EEdit: Interesting, that\u0027s not quite my curve either. Looks like Duna got even more work..... which is good because it gives more atmosphere to aerobrake in\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T17:59:06Z\u0022 title=\u002204/13/2014 05:59  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SpacedInvader","CreatedById":106018,"CreatedDateTime":"2014-04-13T17:56:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starwaster\u0022 data-cite=\u0022Starwaster\u0022\u003E\u003Cdiv\u003EYeah I got those too at -8000. They need smoothing though.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as I can tell, there doesn\u0027t seem to be a way to smooth them. That being said, maybe adding a new PQS noise mod with negative start and end values might do the trick.\u003C/p\u003E\u003Cp\u003EEDIT: So far I\u0027ve been unable to affect them at all with any of the mods other than the one that created them and I\u0027ve tried differing variations of 10 of them.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T18:18:02Z\u0022 title=\u002204/13/2014 06:18  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by SpacedInvader\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Scripto23","CreatedById":95288,"CreatedDateTime":"2014-04-13T19:13:26Z","Content":"\n\u003Cp\u003EStarwaster, thanks that did it! Is there an update that includes the planetfactory planets like metaphor\u0027s one linked in the OP?\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-13T21:33:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scripto23\u0022 data-cite=\u0022Scripto23\u0022\u003E\u003Cdiv\u003EStarwaster, thanks that did it! Is there an update that includes the planetfactory planets like metaphor\u0027s one linked in the OP?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot that I know of... you mean one with the pressureCurve data in it...?\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-04-13T23:45:44Z","Content":"\n\u003Cp\u003EAfter messing about with the Duna heightmap a bit more I came up with the following system to retain canyon walls:\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/fEkYJ\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003EIf anyone wants to try it you can download the heightmap \u003Ca href=\u0022https://www.dropbox.com/s/j3nicvqx5lsim8k/DunaHeight.png\u0022 rel=\u0022external nofollow\u0022\u003EHERE\u003C/a\u003E. I suggest someone more knowledgeable about the PQS system tries to fine tune it a bit. I don\u0027t have the faintest clue how to use it, but you guys seem to be getting some cool results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EMatlab code works as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Eclc;\u003Cbr\u003Eclear;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Read the heightmap and convert to matrix for ease of use\u003Cbr\u003E[FileName,PathName] = uigetfile;\u003Cbr\u003EI=imread(strcat(PathName,FileName));\u003Cbr\u003EI=double(I(:,:,1));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%split the map in high and low areas\u003Cbr\u003Ecutoff = 65;\u003Cbr\u003EZ=min(max((I-cutoff).*600,0),1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%get a gradient magnitude map.\u003Cbr\u003EGmag =abs(gradient(I));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Filter out noise and find the areas with a high rate of change.\u003Cbr\u003Ecutoff = 0.35;\u003Cbr\u003EGmag = imfilter(Gmag,fspecial(\u0027average\u0027,100),\u0027replicate\u0027);\u003Cbr\u003EGmag = min(max((Gmag - cutoff).*1000,0),1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Smooth over the high/low map but exclude high gradmag areas.\u003Cbr\u003EX = Gmag.*Z;\u003Cbr\u003EZ = imfilter(Z,fspecial(\u0027average\u0027,100),\u0027replicate\u0027);\u003Cbr\u003EZ = Z.*abs(Gmag-1)\u002BX;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Multiply by some constant, add to original heightmap \u003Cbr\u003E%and purge memory(This script is hungry...).\u003Cbr\u003EZ = I\u002BZ.*50;\u003Cbr\u003Eclear(\u0027Gmag\u0027,\u0027X\u0027);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Make some Perlin noise (2 layers).\u003Cbr\u003E[m,n] = size(I);\u003Cbr\u003ER = rand((m/2),(n/2));\u003Cbr\u003ER = imresize(R,2);\u003Cbr\u003ER = R \u002B 0.5*rand(m,n);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Normalize image.\u003Cbr\u003EZ = Z/(max(max(Z)));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Add and scale the Perlin noise.\u003Cbr\u003ER = 0.3*(Z.^2).*R;\u003Cbr\u003EZ = min(Z\u002BR,1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eimagesc(Z)\u003Cbr\u003Ecolormap(gray);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Magic happens\u003Cbr\u003E%[m,n] = size(I);\u003Cbr\u003E%I = min((rand(m,n)-0.5).*(I.^2)\u002BI,1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Build checkerboard testmatrix\u003Cbr\u003E%m=8192;\u003Cbr\u003E%n=4096;%I=xor(repmat(mod(1:m,2), [n 1]),repmat(mod(1:n,2)\u0027, [1 m]));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Write to output\u003Cbr\u003Eimwrite(Z,\u0027output.png\u0027);\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is what the code is actually doing to the picture:\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/ThhCj\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EIf anyone has any suggestions to improve this script I\u0027d like to hear them. If people like this solution to the flat terrain I can easily pump out heightmaps for all other bodies as well.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-13T23:49:42Z\u0022 title=\u002204/13/2014 11:49  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 13, 2014\u003C/time\u003E by Ralathon\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-04-14T00:44:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ralathon\u0022 data-cite=\u0022Ralathon\u0022\u003E\u003Cdiv\u003EAfter messing about with the Duna heightmap a bit more I came up with the following system to retain canyon walls:\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/fEkYJ\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/fEkYJ\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf anyone wants to try it you can download the heightmap \u003Ca href=\u0022https://www.dropbox.com/s/j3nicvqx5lsim8k/DunaHeight.png\u0022 rel=\u0022external nofollow\u0022\u003EHERE\u003C/a\u003E. I suggest someone more knowledgeable about the PQS system tries to fine tune it a bit. I don\u0027t have the faintest clue how to use it, but you guys seem to be getting some cool results \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EMatlab code works as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Eclc;\u003Cbr\u003Eclear;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Read the heightmap and convert to matrix for ease of use\u003Cbr\u003E[FileName,PathName] = uigetfile;\u003Cbr\u003EI=imread(strcat(PathName,FileName));\u003Cbr\u003EI=double(I(:,:,1));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%split the map in high and low areas\u003Cbr\u003Ecutoff = 65;\u003Cbr\u003EZ=min(max((I-cutoff).*600,0),1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%get a gradient magnitude map.\u003Cbr\u003EGmag =abs(gradient(I));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Filter out noise and find the areas with a high rate of change.\u003Cbr\u003Ecutoff = 0.35;\u003Cbr\u003EGmag = imfilter(Gmag,fspecial(\u0027average\u0027,100),\u0027replicate\u0027);\u003Cbr\u003EGmag = min(max((Gmag - cutoff).*1000,0),1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Smooth over the high/low map but exclude high gradmag areas.\u003Cbr\u003EX = Gmag.*Z;\u003Cbr\u003EZ = imfilter(Z,fspecial(\u0027average\u0027,100),\u0027replicate\u0027);\u003Cbr\u003EZ = Z.*abs(Gmag-1)\u002BX;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Multiply by some constant, add to original heightmap \u003Cbr\u003E%and purge memory(This script is hungry...).\u003Cbr\u003EZ = I\u002BZ.*50;\u003Cbr\u003Eclear(\u0027Gmag\u0027,\u0027X\u0027);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Make some Perlin noise (2 layers).\u003Cbr\u003E[m,n] = size(I);\u003Cbr\u003ER = rand((m/2),(n/2));\u003Cbr\u003ER = imresize(R,2);\u003Cbr\u003ER = R \u002B 0.5*rand(m,n);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Normalize image.\u003Cbr\u003EZ = Z/(max(max(Z)));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Add and scale the Perlin noise.\u003Cbr\u003ER = 0.3*(Z.^2).*R;\u003Cbr\u003EZ = min(Z\u002BR,1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eimagesc(Z)\u003Cbr\u003Ecolormap(gray);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Magic happens\u003Cbr\u003E%[m,n] = size(I);\u003Cbr\u003E%I = min((rand(m,n)-0.5).*(I.^2)\u002BI,1);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Build checkerboard testmatrix\u003Cbr\u003E%m=8192;\u003Cbr\u003E%n=4096;%I=xor(repmat(mod(1:m,2), [n 1]),repmat(mod(1:n,2)\u0027, [1 m]));\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E%Write to output\u003Cbr\u003Eimwrite(Z,\u0027output.png\u0027);\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is what the code is actually doing to the picture:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/ThhCj\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/ThhCj\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EIf anyone has any suggestions to improve this script I\u0027d like to hear them. If people like this solution to the flat terrain I can easily pump out heightmaps for all other bodies as well.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve been having some luck with just using photoshop and playing with contrast/brightness and/or HDR. The idea is to increase the range of separation between height values, because right now we\u0027re only using a small portion in the stock heightfield map. The result is that it\u0027s forcing us to do what amounts to workarounds in the PQSMods. And we\u0027ll probably have to do that anyway because, 10x scale.\u003C/p\u003E\u003Cp\u003EBut our starting point should be decent heightfield maps. GIGO I always say. (well, I don\u0027t always say it, but I\u0027ve long been fond of that expression)\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-04-14T01:05:06Z","Content":"\n\u003Cp\u003ETwo questions:\u003C/p\u003E\u003Cp\u003EIs there a way to make the in-space mesh match the PQS more closely? I seem to recall that needing to rebuilt.\u003C/p\u003E\u003Cp\u003Eis there a fix for the water on Kerbin having little to no texture?\u003C/p\u003E\u003Cp\u003EAll this PQS and heightmap work is exciting, I\u0027ll have to get on that for my config. Thanks for doing the research, guys!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-04-14T01:17:33Z","Content":"\n\u003Cp\u003Eregex: supposedly if you remove any SSTScale lines from the cfg they should match perfectly, since I\u0027m using Squad\u0027s own function to match the scaled space model to the PQS. It seems to work 100% for Earth but I\u0027ve heard reports of problems for some elsewhere.\u003C/p\u003E\u003Cp\u003ERalathon, woohoo! Now, how about doing it from a real Mars heightmap? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-04-14T01:22:48Z","Content":"\n\u003Cp\u003EThank you, sir.\u003C/p\u003E\n"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2014-04-14T01:33:22Z","Content":"\n\u003Cp\u003EWould there be some way of compiling these tweaked setting for all the fixed planet terrain bumpiness into a config? I saw some of the moon, mars and earth with stock looking hills they looked great. I don\u0027t really know how this all works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ralathon","CreatedById":71537,"CreatedDateTime":"2014-04-14T01:50:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ERalathon, woohoo! Now, how about doing it from a real Mars heightmap? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan make one tommorow if you want, but it isn\u0027t going to mesh with the scaled space model, so it\u0027ll be very hard to pinpoint a landing. I\u0027m also kind of worried that the scaled Perlin noise will completely ruin Mt Olympus \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2014-04-14T01:53:25Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Ralathon: \u003C/strong\u003EThat looks pretty good! The only thing I\u0027d suggest is a setting that allows you to add some smoothing to the top and bottom of the cliffs (they look a little too sudden compared the the rest of the terrain, if that makes any sense). That would be good for simulating some types of erosion, so setting it up so that setting can be easily changed would probably be useful for differentiating, say, Duna cliffs from Tylo cliffs. Perhaps look into adding some noise to the top and bottom of the cliffs as well, since they look to have a surprisingly uniform height once you\u0027re away from the cliff ends. Just my 2 cents anyway. FWIW, the shallower canyon looks a bit better in terms of variation in height, so you might want to look into making these setting relative to the magnitude of the cliff.\u003C/p\u003E\n"},{"CreatedByName":"soverign","CreatedById":91688,"CreatedDateTime":"2014-04-14T02:07:14Z","Content":"\n\u003Cp\u003EHere is an updated version of metaphor\u0027s planet factory config. Includes textures for each planet and in some cases height maps. A blank normal map is used for most planets to eliminate stock details. \u003C/p\u003E\u003Cp\u003ENote you must delete the .obj files in RealSolarSystem/Plugins/PluginData before using the new config file or the game will use the wrong scaled space meshes for some planets. It will take a while the first time loading the game while it creates the scaled space meshes but after that, it will load normally.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/0pryhc4wf7lve3w/RSS_PlanetFactory_Textures.zip\u0022 rel=\u0022external nofollow\u0022\u003ETextures\u003C/a\u003E - \u003Cstrong\u003EUpdated 6/10/14\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://www.dropbox.com/s/tgr4nnmbpcj9mhj/RealSolarSystem.cfg\u0022 rel=\u0022external nofollow\u0022\u003EConfig File\u003C/a\u003E for Real Solar System v6.2 - \u003Cstrong\u003EUpdated 6/10/14\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EBody list:\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMercury (Moho)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EVenus (Eve)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEarth (Kerbin)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EMoon (Mun)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EMars (Duna)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EPhobos (Bop)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EDeimos (Gilly)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E4 Vesta (Inaccessable)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ECeres (Minmus)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EJupiter (Jool)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EIo (Pol)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EEurope (Eeloo)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EGanymede (Tylo)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ECallisto (Ike)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESaturn (Sentar)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EEnceladus (Vall)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ETitan (Erin)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EIapetus (Ringle)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUranus (Skelton)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EMiranda (Ablate)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ETitania (Thud)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENeptune (Laythe)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ETriton (Ascension)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EPluto (Dres)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003ECharon (Pock)\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EEris (Joker)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ESedna (Serious)\u003C/strong\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-17T02:27:05Z\u0022 title=\u002206/17/2014 02:27  AM\u0022 data-short=\u002210 yr\u0022\u003EJune 17, 2014\u003C/time\u003E by soverign\u003C/strong\u003E\n\u003Cbr\u003EUpdated for RSS v6.2\n\u003C/span\u003E\n"}]}