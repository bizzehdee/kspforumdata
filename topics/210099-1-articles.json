{"TopicId":210099,"ForumId":16,"TopicTitle":"Alternate Coordinate System for Maneuver Nodes","CreatedByName":"Quadkiller","CreatedById":171799,"CreatedDateTime":"2022-10-14T06:09:29Z","PageNum":1,"Articles":[{"CreatedByName":"Quadkiller","CreatedById":171799,"CreatedDateTime":"2022-10-14T06:09:29Z","Content":"\n\u003Cp\u003E\nSo long story short, I ended up in this really wacky elliptical orbit and I\u0027m trying to rendezvous with my space station in a polar orbit around the Mun. Here\u0027s some screenshots:\u00A0\u003Ca href=\u0022https://imgur.com/a/UP4n12P\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/UP4n12P\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m creating a maneuver at the relative ascending node with the goal of lowering my orbit so that the burn location becomes the apoapsis, the periapsis becomes 30km (where the polar station is), and the relative inclination is 0. Naturally this involves burning in a combination of all three axes. It\u0027s pretty easy to get a very rough burn set up by eye, but refining it is a real pain. The main issue is that I can only edit the burn in the coordinate system of my current orbit, which is completely misaligned from the coordinate system of my target orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, to adjust the periapsis the best I can do is use anti-normal since its the closest to the prograde direction of the target orbit. However, this is far from ideal since it also adds velocity in the radial out direction (which messes up my apoapsis location) and the anti-normal direction (which messes up my relative inclination) in the target orbit coordinate system. What I end up doing is going in circles fixing the relative inclination, periapsis altitude, and apoapsis altitude one after another until I slowly converge to the optimal burn.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve run into this exact issue several times now, and its always a bit annoying. From what I can tell, the optimal solution would be a toggle that allows you to switch to editing the burn in the target coordinate system. This would mean that the directional indicators would rotate dynamically as you add velocity in the various directions. Has anyone else run into this? Any mods/general tips for making the process easier?\n\u003C/p\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2022-10-14T09:47:53Z","Content":"\n\u003Cp\u003E\nYou might be better off splitting this into several burns instead of one: changing inclination is cheaper the slower you\u2019re going, so do that first; then burn at apoapsis to lower your periapsis so that your orbit overlaps the target station\u2019s orbit slightly; then reduce your apoapsis until you get a close approach with the target with a low relative velocity on a future orbit; and then match speeds when you\u2019re close by. It could even be cheaper to raise your periapsis before doing the plane change burn, if the saving from the plane change outweighs the cost of raising and then re-lowering the periapsis.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u2019s always MechJeb\u2019s maneuver planner which can calculate the burn for you and usually gets pretty close, but you might still need to tweak the burn a little (e.g. if your orbit shifts when timewarping as it seems prone to do in KSP 1.12) and only having to worry about one or possibly two of the three axes/planes makes that much easier than doing all three at once.\n\u003C/p\u003E\n"},{"CreatedByName":"Zhetaan","CreatedById":125721,"CreatedDateTime":"2022-10-14T12:37:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224185681\u0022 data-ipsquote-contentid=\u0022210099\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221665727769\u0022 data-ipsquote-userid=\u0022171799\u0022 data-ipsquote-username=\u0022Quadkiller\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Quadkiller said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFrom what I can tell, the optimal solution would be a toggle that allows you to switch to editing the burn in the target coordinate system. This would mean that the directional indicators would rotate dynamically as you add velocity in the various directions. Has anyone else run into this? Any mods/general tips for making the process easier?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only mod I know that dynamically shifts coordinate systems is Principia, but that\u0027s because it simulates n-body orbital dynamics.\n\u003C/p\u003E\n\u003Cp\u003E\nThere are ways to solve your problem, though:\u00A0 you can use the Law of Cosines to get a velocity vector for a combined plane-change/altitude-change burn. \u003Ca href=\u0022http://www.braeunig.us/space/orbmech.htm#maneuver\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s a link\u003C/a\u003E to some example problems.\u00A0 For your case, you\u0027d want to get the relative inclination between your initial and final orbits (since neither of them is zero with respect to the primary) and solve on that basis.\u00A0 I believe that would be the 31.58 degrees that is listed in your Kerbal Engineer window.\n\u003C/p\u003E\n\u003Cp\u003E\nBear in mind that this method considers both initial and final orbital velocity, so you probably have a bit more calculation to do to determine the final velocity post-burn.\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-10-14T18:16:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224185681\u0022 data-ipsquote-contentid=\u0022210099\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221665727769\u0022 data-ipsquote-userid=\u0022171799\u0022 data-ipsquote-username=\u0022Quadkiller\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Quadkiller said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo long story short, I ended up in this really wacky elliptical orbit and I\u0027m trying to rendezvous with my space station in a polar orbit around the Mun. Here\u0027s some screenshots:\u00A0\u003Ca href=\u0022https://imgur.com/a/UP4n12P\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://imgur.com/a/UP4n12P\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m creating a maneuver at the relative ascending node with the goal of lowering my orbit so that the burn location becomes the apoapsis, the periapsis becomes 30km (where the polar station is), and the relative inclination is 0. Naturally this involves burning in a combination of all three axes. It\u0027s pretty easy to get a very rough burn set up by eye, but refining it is a real pain. The main issue is that I can only edit the burn in the coordinate system of my current orbit, which is completely misaligned from the coordinate system of my target orbit.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, to adjust the periapsis the best I can do is use anti-normal since its the closest to the prograde direction of the target orbit. However, this is far from ideal since it also adds velocity in the radial out direction (which messes up my apoapsis location) and the anti-normal direction (which messes up my relative inclination) in the target orbit coordinate system. What I end up doing is going in circles fixing the relative inclination, periapsis altitude, and apoapsis altitude one after another until I slowly converge to the optimal burn.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve run into this exact issue several times now, and its always a bit annoying. From what I can tell, the optimal solution would be a toggle that allows you to switch to editing the burn in the target coordinate system. This would mean that the directional indicators would rotate dynamically as you add velocity in the various directions. Has anyone else run into this? Any mods/general tips for making the process easier?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyour maneuver looks excellent. if you still end up with a degree or two of inclination, you can fix it with very little fuel.\n\u003C/p\u003E\n\u003Cp\u003E\nno, I don\u0027t know any way to change the reference system of your burn. but you handled it really well as it is, and managing like that is a lot faster than trying to find a mod to do slightly more easily something you can already do pretty well on your own.\n\u003C/p\u003E\n\u003Cp\u003E\nP.S. splitting the manuever is not going to make it cheaper, in fact by combining the manuevers you save fuel thanks to pitagora\u0027s theorem. you get the normal and radial components almost for free.\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2022-10-14T19:30:27Z","Content":"\n\u003Cp\u003E\nI thought PreciseNode or PreciseManeuver had a feature like that where the maneuver UI rotates to fit the post-burn inclination. You might try those to see if they help.\n\u003C/p\u003E\n"},{"CreatedByName":"Quadkiller","CreatedById":171799,"CreatedDateTime":"2022-10-14T23:05:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224185885\u0022 data-ipsquote-contentid=\u0022210099\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221665771374\u0022 data-ipsquote-userid=\u0022204876\u0022 data-ipsquote-username=\u0022king of nowhere\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, king of nowhere said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nyour maneuver looks excellent. if you still end up with a degree or two of inclination, you can fix it with very little fuel.\n\u003C/p\u003E\n\u003Cp\u003E\nno, I don\u0027t know any way to change the reference system of your burn. but you handled it really well as it is, and managing like that is a lot faster than trying to find a mod to do slightly more easily something you can already do pretty well on your own.\n\u003C/p\u003E\n\u003Cp\u003E\nP.S. splitting the manuever is not going to make it cheaper, in fact by combining the manuevers you save fuel thanks to pitagora\u0027s theorem. you get the normal and radial components almost for free.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks! I think that it may or may not be better to combine the burn depending on the scenario. On the one hand, you want to save fuel by combining burns with the Pythagorean theorem. But you also want to change inclination near apoapsis since its cheaper. In the ideal case, your relative ascending node is already near apoapsis so you get the best of both worlds. But I\u0027d image if your ascending node is far from apoapsis, you might actually be better off partially fixing your inclination at apoapsis first.\n\u003C/p\u003E\n"},{"CreatedByName":"king of nowhere","CreatedById":204876,"CreatedDateTime":"2022-10-15T22:37:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224185959\u0022 data-ipsquote-contentid=\u0022210099\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221665788756\u0022 data-ipsquote-userid=\u0022171799\u0022 data-ipsquote-username=\u0022Quadkiller\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 hours ago, Quadkiller said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks! I think that it may or may not be better to combine the burn depending on the scenario. On the one hand, you want to save fuel by combining burns with the Pythagorean theorem. But you also want to change inclination near apoapsis since its cheaper. In the ideal case, your relative ascending node is already near apoapsis so you get the best of both worlds. But I\u0027d image if your ascending node is far from apoapsis, you might actually be better off partially fixing your inclination at apoapsis first.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyes indeed. in your case, you were already pretty high in the node, and the normal component was a lot smaller than the retrograde component, so it was a clear case of combining being better. there are other cases where splitting is better, as you said.\n\u003C/p\u003E\n"}]}