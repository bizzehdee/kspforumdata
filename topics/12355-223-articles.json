{"TopicId":12355,"ForumId":34,"TopicTitle":"[PART, 1.0.2] Anatid Robotics / MuMech - MechJeb - Autopilot - Historical thread","CreatedByName":"r4m0n","CreatedById":5404,"CreatedDateTime":"2012-06-08T22:30:41Z","PageNum":223,"Articles":[{"CreatedByName":"BloodyRain2k","CreatedById":50835,"CreatedDateTime":"2014-03-16T17:51:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Space Man\u0022 data-cite=\u0022The Space Man\u0022\u003E\u003Cdiv\u003EIs there anyway i can increase mechjebs smart a.s.s torgue? It\u0027s taking a long time for mechjeb to point to a node.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour problem is either that you don\u0027t have enough torque, so either add more reaction wheels or turn on the RCS (or add more thrusters), OR if you know you have enough, the problem is that MJ isn\u0027t using it correctly.\u003C/p\u003E\u003Cp\u003EThat is something that happens for me a few times.\u003C/p\u003E\u003Cp\u003EOpen the Attitude module window and look what the Tf setting is, on Auto does MJ try to figure out a good value based on the mass of your craft.\u003C/p\u003E\u003Cp\u003EThe problem with that is that it sometimes gets it wrong and lighter crafts wibble oscilize, or larger ones lag oscilize.\u003C/p\u003E\u003Cp\u003EI often found it then better to set it simply to manual with a value of 0.3 for smaller ones and 0.5 for the larger ones.\u003C/p\u003E\u003Cp\u003ESarbian already told me that he needs to figure out a formula that\u0027s a bit better but well, math and stuff can take some time.\u003C/p\u003E\u003Cp\u003EWhat I don\u0027t know is if that value and setting are global or per craft saved but I\u0027d guess for global.\u003C/p\u003E\n"},{"CreatedByName":"OrbitalDebris","CreatedById":101515,"CreatedDateTime":"2014-03-16T20:41:03Z","Content":"\n\u003Cp\u003E^^^ what he said. Every single time I\u0027ve had rockets in space turning sluggishly, it\u0027s been because I didn\u0027t have enough reaction wheels. For maximum effect, put them as far from each other as possible - two wheels next to each other will have a much weaker effect than one at each end of the rocket, especially if it\u0027s long (torque = force x distance, the reaction wheels provide the force).\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-03-16T21:43:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022OrbitalDebris\u0022 data-cite=\u0022OrbitalDebris\u0022\u003E\u003Cdiv\u003E^^^ what he said. Every single time I\u0027ve had rockets in space turning sluggishly, it\u0027s been because I didn\u0027t have enough reaction wheels. For maximum effect, put them as far from each other as possible - two wheels next to each other will have a much weaker effect than one at each end of the rocket, especially if it\u0027s long (torque = force x distance, the reaction wheels provide the force).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBe warned that torque is around the reaction wheel part, not the ship\u0027s CoM.\u003C/p\u003E\u003Cp\u003EPlacing wheels like that will work but it does stress things more than if it was in the center.\u003C/p\u003E\n"},{"CreatedByName":"TheSaint","CreatedById":70033,"CreatedDateTime":"2014-03-17T20:27:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BARCLONE\u0022 data-cite=\u0022BARCLONE\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E Rendezvous AP still seems to have an issue (target vector drifts) during the last phases of an engine burn. If I disengage the RendAP quickly when the drift starts, then re-engage it, the drift goes away and the next step in the sequence begins normally. Something is not properly closing out at the end of each phase of a rendezvous, and MJ is getting \u0022vapor lock\u0022, or \u0022gimbal lock\u0022. There may be other issues at work here, but the clearing of the issue by shutting down the AP, then quickly re-engaging it, points to at least one issue within MJ.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E The drifting issue also occurs in the Ascent AP, during the last burn-to-apoapsis and during the circularization burn. Probably the same issue as with the RendAP.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have had these two issues for a very long time, ever since 0.23 came out. When the burn is coming close to completion the node starts to drift away, and MechJeb will dutifully turn the ship to chase it, so you wind up in an orbit radically different than the one you wanted. It almost seems like MechJeb isn\u0027t holding precisely on the node, or that it\u0027s burning too long. It\u0027s become so annoying that I actually dropped KSP back to 0.22 so that I could use the previous builds of MechJeb that don\u0027t have this problem. If I had any programming skills at all I would help with it, but I\u0027m an infrastructure guy, sorry.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-03-18T08:38:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheSaint\u0022 data-cite=\u0022TheSaint\u0022\u003E\u003Cdiv\u003EI have had these two issues for a very long time, ever since 0.23 came out. When the burn is coming close to completion \u003Cstrong\u003Ethe node starts to drift\u003C/strong\u003E away, and MechJeb will dutifully turn the ship to chase it, so you wind up in an orbit radically different than the one you wanted. It almost seems like MechJeb isn\u0027t holding precisely on the node, or that it\u0027s burning too long. It\u0027s become so annoying that I actually dropped KSP back to 0.22 so that I could use the previous builds of MechJeb that don\u0027t have this problem. If I had any programming skills at all I would help with it, but I\u0027m an infrastructure guy, sorry.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis sounds like the node in KSP is moving and MJ is trying its best to keep pointed at it due to a (i suspect) slight node function change in 0.23. \u003C/p\u003E\u003Cp\u003EThere might be a change to the MJ code that could fix this but also there might be a chance that KSP would need to change its code to remove this effect.\u003C/p\u003E\n"},{"CreatedByName":"BloodyRain2k","CreatedById":50835,"CreatedDateTime":"2014-03-18T08:57:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheSaint\u0022 data-cite=\u0022TheSaint\u0022\u003E\u003Cdiv\u003EI have had these two issues for a very long time, ever since 0.23 came out. When the burn is coming close to completion the node starts to drift away, and MechJeb will dutifully turn the ship to chase it, so you wind up in an orbit radically different than the one you wanted. It almost seems like MechJeb isn\u0027t holding precisely on the node, or that it\u0027s burning too long. It\u0027s become so annoying that I actually dropped KSP back to 0.22 so that I could use the previous builds of MechJeb that don\u0027t have this problem. If I had any programming skills at all I would help with it, but I\u0027m an infrastructure guy, sorry.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003EThis sounds like the node in KSP is moving and MJ is trying its best to keep pointed at it due to a (i suspect) slight node function change in 0.23. \u003Cp\u003EThere might be a change to the MJ code that could fix this but also there might be a chance that KSP would need to change its code to remove this effect.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure about the cause of the problem and even though I spent 2min now writing down my theory about it do I not want to spread false information so meh, just this note about it.\u003C/p\u003E\u003Cp\u003EThere is a damn simple solution to it however: the tolerance setting in the Maneuver Planner.\u003C/p\u003E\u003Cp\u003EThe default 0.1 m/s work normally for all, but if you have a rather heavy ship that might tend to wobble a bit just from beginning to turn then it\u0027s likely that you need to raise the tolerance because at the 0.1 m/s point will the wobble be enough to knock the node marker all over the place.\u003C/p\u003E\u003Cp\u003EWhy the hell it helped you Saint, to revert to 0.22 is beyond me, that setting is set to 0.1 m/s since it\u0027s in. Maybe something got changed in the Attitude controller, or it was the Tf setting of it, I\u0027d bet on that.\u003C/p\u003E\u003Cp\u003EAnyways, try raising the tolerance and see if that helps. Also try playing with the Tf value in the Attitude window, auto tends to get it wrong for heavier ships, I usually go for 0.3 or 0.5 if it get\u0027s a little twitchy.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-03-18T11:54:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BloodyRain2k\u0022 data-cite=\u0022BloodyRain2k\u0022\u003E\u003Cdiv\u003EI\u0027m not sure about the cause of the problem and even though I spent 2min now writing down my theory about it do I not want to spread false information so meh, just this note about it.\u003Cp\u003EThere is a damn simple solution to it however: the tolerance setting in the Maneuver Planner.\u003C/p\u003E\u003Cp\u003EThe default 0.1 m/s work normally for all, but if you have a rather heavy ship that might tend to wobble a bit just from beginning to turn then it\u0027s likely that you need to raise the tolerance because at the 0.1 m/s point will the wobble be enough to knock the node marker all over the place.\u003C/p\u003E\u003Cp\u003EWhy the hell it helped you Saint, to revert to 0.22 is beyond me, that setting is set to 0.1 m/s since it\u0027s in. Maybe something got changed in the Attitude controller, or it was the Tf setting of it, I\u0027d bet on that.\u003C/p\u003E\u003Cp\u003EAnyways, try raising the tolerance and see if that helps. Also try playing with the Tf value in the Attitude window, auto tends to get it wrong for heavier ships, I usually go for 0.3 or 0.5 if it get\u0027s a little twitchy.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0060ve just done a test and it does it with a small agile craft (10T) that has no detectable wobble and it happens when the remaining burn is a full 1m/s. It starts to reduce throttle to finalise the burn, the node marker starts to move and the craft starts spinning and the node marker does not stop moving and MJ chases it without end, faster and faster, while the burn Dv increases. For me this is a new \u0060feature\u0060 that was not present in previous versions of MJ (I don\u0060t update often)\u003C/p\u003E\u003Cp\u003EI\u0060m guessing there is a good reason why reverting to a previous version of MJ stops this action.\u003C/p\u003E\n"},{"CreatedByName":"BudgetHedgehog\uFEFF","CreatedById":104112,"CreatedDateTime":"2014-03-18T12:09:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022darkstrike\u0022 data-cite=\u0022darkstrike\u0022\u003E\u003Cdiv\u003EHi all,\u003Cp\u003EI\u0027ve got the latest version of MJ and I completely removed any MJ files before I installed it....however, with almost all of my ships, large and small, many parts and few parts, I\u0027ve been having an issue with MJ\u0027s Autopilot constantly rolling my ships left and right and MASSIVELY overcompensating when trying to point towards a node to the point I have to intervene and try and \u0027help\u0027 it aim at the node with the movement keys or even turning autopilot off and having to fly manually. It used to work fine on these same ships before....what happened? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve had that a few times. Some times, it just won\u0027t point at the node so I maunally turn it and when it\u0027s there, it auto-warps and carries on. I really want a fix for this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Justin Kerbice","CreatedById":101695,"CreatedDateTime":"2014-03-18T12:44:36Z","Content":"\n\u003Cp\u003EI also encounter many time these \u0022node running away\u0022, but never a faster and faster chase like John FX.\u003C/p\u003E\u003Cp\u003EBut for 1 m/s of dV, does it really matter ? Unless you do a long interplanetary move for which a tiny shift can turn into a enormous disaster, you just have to turn off autopilot as fast as you can and the engine and go for your next move.\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2014-03-18T14:32:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Justin Kerbice\u0022 data-cite=\u0022Justin Kerbice\u0022\u003E\u003Cdiv\u003EI also encounter many time these \u0022node running away\u0022, but never a faster and faster chase like John FX.\u003Cp\u003EBut for 1 m/s of dV, does it really matter ? Unless you do a long interplanetary move for which a tiny shift can turn into a enormous disaster, you just have to turn off autopilot as fast as you can and the engine and go for your next move.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhen you\u0027re OCD about your maneuvers, like I am, yes it matters! That\u0027s why when I\u0027m down to my last 1m/s, I switch from node orientation to \u0027kill rot\u0027 or just turn on ASAS.\u003C/p\u003E\u003Cp\u003EThen I turn on RCS thrusters and finish the burn on RCS alone.\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-18T14:40:07Z","Content":"\n\u003Cp\u003EHi, ya\u0027all!\u003C/p\u003E\u003Cp\u003ECan anyone describe how MechJeb calculates mass, or point me to that info? Specifically, does MechJeb ignore any parts or resources?\u003C/p\u003E\u003Cp\u003EYou see, I\u0027m writing a .craft file parser, and I keep getting a \u003Cstrong\u003E\u003Cem\u003Ehigher \u003C/em\u003E\u003C/strong\u003Emass for my ships than MechJeb does. I\u0027m not counting clamps, but I do count absolutely everything else, including all parts and resources - even ElectricCharge (I know, it\u0027s zero) and IntakeAir (same as LF \u0026amp; Oxy!?).\u003C/p\u003E\u003Cp\u003EOf course, I\u0027m assuming that I\u0027m the one making an error, and not the folks at MechJeb, so I\u0027m wondering where I\u0027ve gone wrong.\u003C/p\u003E\u003Cp\u003EUsing Kerbal X as an example, MechJeb calcs its mass as \u0022131.5\u0022 in the Delta-V Stats window, but \u0022131.81\u0022 in the Vessel window. Now, I had always assumed that the Vessel window showed total mass \u003Cem\u003Ewith\u003C/em\u003E clamps, but that number matches my number \u003Cem\u003Ewithout\u003C/em\u003E clamps, so I\u0027m confused.\u003C/p\u003E\u003Cp\u003EIt seems that the more parts and/or bigger a ship is, the more difference between my numbers and MechJeb\u0027s, and mine are always higher. I\u0027ve triple-checked that I\u0027m not counting mass where I shouldn\u0027t, so I\u0027m stumped as to why my calcs differ.\u003C/p\u003E\u003Cp\u003EAnyone familiar with this or have some insight?\u003C/p\u003E\n"},{"CreatedByName":"TheSaint","CreatedById":70033,"CreatedDateTime":"2014-03-18T20:19:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003EThis sounds like the node in KSP is moving and MJ is trying its best to keep pointed at it due to a (i suspect) slight node function change in 0.23. \u003Cp\u003EThere might be a change to the MJ code that could fix this but also there might be a chance that KSP would need to change its code to remove this effect.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPossible. It\u0027s hard to troubleshoot since the latest builds of MechJeb won\u0027t run on 0.22. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BloodyRain2k\u0022 data-cite=\u0022BloodyRain2k\u0022\u003E\u003Cdiv\u003EI\u0027m not sure about the cause of the problem and even though I spent 2min now writing down my theory about it do I not want to spread false information so meh, just this note about it.\u003Cp\u003EThere is a damn simple solution to it however: the tolerance setting in the Maneuver Planner.\u003C/p\u003E\u003Cp\u003EThe default 0.1 m/s work normally for all, but if you have a rather heavy ship that might tend to wobble a bit just from beginning to turn then it\u0027s likely that you need to raise the tolerance because at the 0.1 m/s point will the wobble be enough to knock the node marker all over the place.\u003C/p\u003E\u003Cp\u003EWhy the hell it helped you Saint, to revert to 0.22 is beyond me, that setting is set to 0.1 m/s since it\u0027s in. Maybe something got changed in the Attitude controller, or it was the Tf setting of it, I\u0027d bet on that.\u003C/p\u003E\u003Cp\u003EAnyways, try raising the tolerance and see if that helps. Also try playing with the Tf value in the Attitude window, auto tends to get it wrong for heavier ships, I usually go for 0.3 or 0.5 if it get\u0027s a little twitchy.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can give this a try, but I have my doubts. My observation has been that the issue is actually more pronounced with smaller ships than larger ships. The larger ships are more sluggish in following the node, so they complete their burn closer to the original direction. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003EI\u0060ve just done a test and it does it with a small agile craft (10T) that has no detectable wobble and it happens when the remaining burn is a full 1m/s. It starts to reduce throttle to finalise the burn, the node marker starts to move and the craft starts spinning and the node marker does not stop moving and MJ chases it without end, faster and faster, while the burn Dv increases. For me this is a new \u0060feature\u0060 that was not present in previous versions of MJ (I don\u0060t update often)\u003Cp\u003EI\u0060m guessing there is a good reason why reverting to a previous version of MJ stops this action.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMe as well. I can run the same ship in both versions and use the Ascent Guidance to shoot for a 100km orbit. Both instances are stock except for MJ, all MJ settings are default. In 0.23 with MJ #188 it ends up in a wildly eccentric orbit (140km x 85km on my last try, but it varies a lot). With the same ship in 0.22 with MJ #130 it nails it, every time, never more than 500m off. \u003C/p\u003E\u003Cp\u003EDon\u0027t get me wrong, don\u0027t want to seem like a complainer. I really appreciate all the work that Sarbian, et al have done on MechJeb, and I realize that they all have day jobs. Just wanted to add a \u002B1 to other\u0027s observations about this issue. I know it will get fixed eventually. In the mean time I just get to enjoy playing 0.22 for a little while longer.\u003C/p\u003E\n"},{"CreatedByName":"Galane","CreatedById":77949,"CreatedDateTime":"2014-03-18T21:18:22Z","Content":"\n\u003Cp\u003E@TheSaint, I wonder if that might have something to do with why sometimes MJ puts a craft into a perfectly circular but off center orbit? Some of the times it\u0027s done that, I\u0027ve tried to re-circularize at the desired altitude or the AN or DN and it just would not get it right.\u003C/p\u003E\u003Cp\u003EI haven\u0027t been using KSP for a while, waiting on parts for a new PC, took the Phenom II 555 CPU out of this box (to use on the new AM3 board) and replaced it with an AM2 Athlon 2 7550. The Phenom could just handle the Eve assembly in Kerbin orbit. With the Athlon 2 it\u0027s almost down to a slideshow. The new board should hopefully be able to unlock 1 or 2 more cores on the Phenom, and I have a Radeon HD 6870 to go in it.\u003C/p\u003E\n"},{"CreatedByName":"BARCLONE","CreatedById":76024,"CreatedDateTime":"2014-03-18T21:49:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022John FX\u0022 data-cite=\u0022John FX\u0022\u003E\u003Cdiv\u003E\u0022...This sounds like the node in KSP is moving and MJ is trying its best to keep pointed at it due to a (i suspect) slight node function change in 0.23. \u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022BloodyRain2k\u0022 data-cite=\u0022BloodyRain2k\u0022\u003E\u003Cdiv\u003E\u0022...simple solution to it however: the tolerance setting in the Maneuver Planner.\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I mentioned in my post, \u0022there may be other factors\u0022 besides MJ. I do think there is a problem within KSP that\u0027s at the root of this issue, but I also think there is something within MJ that is (big 50-cent word here) exacerbating the problem. Shutting down the autopilot and re-engaging it quickly seems to clear the problem, so MJ is at least contributing to the error. Locating why it\u0027s doing this is probably bigger than trying to explain it.\u003C/p\u003E\u003Cp\u003EI tried increasing the tolerance setting, and found the problem started showing itself earlier in the tail-off. The problem also shows up during the ascent, when the sustainer gets into the circularization phase. I had a large (5m) launcher start chasing its tail at between 4 and 5 m/s of remaining thrust after changing that tolerance setting to 0.3. I\u0027ll give it this, it wasn\u0027t as jittery as it normally is, but MJ still tried to dutifully chase the vector around the navball.\u003C/p\u003E\u003Cp\u003EOne interesting thing about all this chasing -- if you watch the apoapsis and periapsis numbers, you\u0027ll see MJ is trying to get a near-perfect circle in the orbit. Mine typically come out with about 200-300 meters difference after the chase, so as far as having an odd-shaped orbit, it\u0027s not doing that to mine. The orbit is usually very good; it\u0027s just annoying to watch every ship chase its tail at the end of (virtually) every burn. I can certainly \u003Cem\u003Elive with it\u003C/em\u003E for now, but visually it\u0027s disturbing.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-03-19T12:23:08Z","Content":"\n\u003Cp\u003EI just flew one of my larger craft and it did a burn perfectly down to 0.03m/s (my standard setting when there are no issues which normally works fine)\u003C/p\u003E\u003Cp\u003EIt\u0060s the smaller craft that can turn quickly that get confused for me.\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-19T13:12:28Z","Content":"\n\u003Cp\u003EMe again. I\u0027m hoping that someone has some info about how MechJeb calculates mass, and that I haven\u0027t asked in the wrong place or something.\u003C/p\u003E\u003Cp\u003EAnyone?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-19T13:30:21Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/VesselState.cs#L304-L311\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/master/MechJeb2/VesselState.cs#L304-L311\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u0026amp;\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/PartExtensions.cs#L15-L18\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/master/MechJeb2/PartExtensions.cs#L15-L18\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-19T13:36:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/VesselState.cs#L304-L311\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/master/MechJeb2/VesselState.cs#L304-L311\u003C/a\u003E\u003Cp\u003E\u0026amp;\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/MuMech/MechJeb2/blob/master/MechJeb2/PartExtensions.cs#L15-L18\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/MuMech/MechJeb2/blob/master/MechJeb2/PartExtensions.cs#L15-L18\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo... you\u0027re saying that I need to figure it out for myself.\u003C/p\u003E\u003Cp\u003EK, thanks.\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-19T13:43:03Z","Content":"\n\u003Cp\u003E?\u003C/p\u003E\u003Cp\u003EThe line of code where the mass is calculated are \u003Cspan style=\u0022color:#000000;\u0022\u003Ehighlighted\u003C/span\u003E with those link. What more do you need ? \u003C/p\u003E\u003Cp\u003EMost likely your difference comes from the fact that you don\u0027t check for physicalSignificance\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-19T13:54:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003E?\u003Cp\u003EThe line of code where the mass is calculated are \u003Cspan style=\u0022color:#000000;\u0022\u003Ehighlighted\u003C/span\u003E with those link. What more do you need ?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m sorry if I\u0027m being a bother.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EMost likely your difference comes from the fact that you don\u0027t check for physicalSignificance\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the tip, and that does seem to be where the difference lies. I can see by that code that some parts are ignored, but the API: Part wiki doesn\u0027t explain why that might be.\u003C/p\u003E\u003Cp\u003EWhy would some parts not have any physics? I don\u0027t get it. Again, sorry if I\u0027m being thick.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-19T14:00:26Z\u0022 title=\u002203/19/2014 02:00  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 19, 2014\u003C/time\u003E by Ezriilc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-19T13:59:35Z","Content":"\n\u003Cp\u003EThere is a flag that make the Unity Physic engine to ignore some parts. They are considered weightless and don\u0027t contribute to the physic at all.\u003C/p\u003E\u003Cp\u003EFrom memory struts and fuel line are the main culprits. There is a line in the part cfg that set the flag, but I don\u0027t have the game here and don\u0027t remember it. Check the struts .cfg and you should see something.\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-19T14:17:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EThere is a flag that make the Unity Physic engine to ignore some parts. They are considered weightless and don\u0027t contribute to the physic at all.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat I don\u0027t understand is \u003Cem\u003Ewhy\u003C/em\u003E. I mean that I can\u0027t imagine a scenario where any part should not have any physics. That doesn\u0027t mean that I don\u0027t think there are any, just that it escapes me. I\u0027m pretty new to this, so I assume that I\u0027m just missing something simple.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EFrom memory struts and fuel line are the main culprits. There is a line in the part cfg that set the flag, but I don\u0027t have the game here and don\u0027t remember it. Check the struts .cfg and you should see something.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA quick scan of 170 stock and 2 MechJeb parts returns this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ESearch \u0022PhysicsSignificance\u0022 (6 hits in 6 files)\u003Cbr\u003E  Parts\\Utility\\telescopicLadder\\part.cfg (1 hit)\u003Cbr\u003E    Line 12: PhysicsSignificance = 1\u003Cbr\u003E  Parts\\Utility\\telescopicLadderBay\\part.cfg (1 hit)\u003Cbr\u003E    Line 12: PhysicsSignificance = 1\u003Cbr\u003E  Parts\\Utility\\ladder1\\part.cfg (1 hit)\u003Cbr\u003E    Line 11: PhysicsSignificance = 1\u003Cbr\u003E  Parts\\Utility\\LandingLeg1-2\\part.cfg (1 hit)\u003Cbr\u003E    Line 16: PhysicsSignificance = 0\u003Cbr\u003E  Parts\\Structural\\strutCube\\part.cfg (1 hit)\u003Cbr\u003E    Line 11: PhysicsSignificance = 1\u003Cbr\u003E  Parts\\Structural\\strutOcto\\part.cfg (1 hit)\u003Cbr\u003E    Line 11: PhysicsSignificance = 1\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo, does this mean that \u0022LandingLeg1-2\u0022 is the only part that gets ignored? Either way, why would any of these parts not be considered significant?\u003C/p\u003E\u003Cp\u003EThanks a lot for holding my hand through this. I\u0027m trying to do as much research as I can without pestering anyone, but I ran into a brick wall with this issue.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-19T14:21:49Z\u0022 title=\u002203/19/2014 02:21  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 19, 2014\u003C/time\u003E by Ezriilc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2014-03-19T14:42:56Z","Content":"\n\u003Cp\u003EIt\u0027s the other way around. \u003C/p\u003E\u003Cp\u003E1 makes a part massless and dragless.\u003C/p\u003E\u003Cp\u003E0 does something else but I\u0027d need access to my computer to remind me what.\u003C/p\u003E\n"},{"CreatedByName":"Ezriilc","CreatedById":34556,"CreatedDateTime":"2014-03-19T14:59:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sarbian\u0022 data-cite=\u0022sarbian\u0022\u003E\u003Cdiv\u003EIt\u0027s the other way around. \u003Cp\u003E1 makes a part massless and dragless.\u003C/p\u003E\u003Cp\u003E0 does something else but I\u0027d need access to my computer to remind me what.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI mean no disrespect, but are you sure?\u003C/p\u003E\u003Cp\u003EBy checking for \u00220\u0022, and ignoring only those parts, my results match MechJeb\u0027s mass for Kerbal X - \u0022131.51\u0022.\u003C/p\u003E\u003Cp\u003EBy instead checking for \u00221\u0022 as you suggest, I get a mass of \u0022131.79\u0022, which doesn\u0027t match any values I see coming from MechJeb or anywhere else.\u003C/p\u003E\u003Cp\u003ECould it have been switched in a recent update? \u00221\u0022 for \u0022Off\u0022 does seem counter-intuitive.\u003C/p\u003E\u003Cp\u003EAlso, I\u0027m no expert in C# by far, but \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Part.cs\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cem\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ethe code here\u003C/span\u003E\u003C/em\u003E\u003C/strong\u003E\u003C/a\u003E suggests to me that the only possible values for PhysicsSignificance are \u0022FULL\u0022 (1) and \u0022NONE\u0022 (0). Am I reading that correctly?\u003C/p\u003E\u003Cp\u003EEDIT: \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E Yea, I\u0027m clearly not qualified to be doing this, but I still appreciate the help! And no, I was not reading that right. derp.\u003C/p\u003E\u003Cp\u003EIf anyone knows why any parts would/should have no physics, I\u0027d love to find out. It makes no sense to me, but at least I\u0027m learning how to code around it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-19T15:33:56Z\u0022 title=\u002203/19/2014 03:33  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 19, 2014\u003C/time\u003E by Ezriilc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eggrobin","CreatedById":4680,"CreatedDateTime":"2014-03-19T15:17:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ezriilc\u0022 data-cite=\u0022Ezriilc\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EAlso, I\u0027m no expert in C# by far, but \u003Ca href=\u0022https://github.com/Anatid/XML-Documentation-for-the-KSP-API/blob/master/Part.cs\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003E\u003Cem\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ethe code here\u003C/span\u003E\u003C/em\u003E\u003C/strong\u003E\u003C/a\u003E suggests to me that the only possible values for PhysicsSignificance are \u0022FULL\u0022 (1) and \u0022NONE\u0022 (0). Am I reading that correctly?.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is what the code you linked says:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E public enum PhysicalSignificance\u003Cbr\u003E    {\u003Cbr\u003E        /// \u0026lt;summary\u0026gt;\u003Cbr\u003E        /// Part is a normal, physics-enabled part.\u003Cbr\u003E        /// \u0026lt;/summary\u0026gt;\u003Cbr\u003E        FULL = 0,\u003Cbr\u003E        /// \u0026lt;summary\u0026gt;\u003Cbr\u003E        /// Part has no physics, and in particular no mass or drag.\u003Cbr\u003E        /// \u0026lt;/summary\u0026gt;\u003Cbr\u003E        NONE = 1,\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo FULL is 0 and NONE is 1, as \u003Cstrong\u003Esarbian\u003C/strong\u003E said.\u003C/p\u003E\n"}]}