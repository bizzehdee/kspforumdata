{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":281,"Articles":[{"CreatedByName":"hanhan658","CreatedById":157273,"CreatedDateTime":"2018-03-05T15:22:43Z","Content":"\u003E \n\u003E \n\u003E Just now, Galileo said:\n\u003E \n\u003E \n\u003E It\u2019s an issue with the current save process. You will have to go into the laythe cfg and copy and paste the bit for the body you want. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The \u201Cload Atmo\u201D button loads the last saved atmo.\n\u003E \n\nWait, does it mean that I have to load the atmosphere I want everytime I come back to the planet? Oh no...\n\nBut I don\u0027t quite understand your first sentence."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-03-05T16:47:31Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, hanhan658 said:\n\u003E \n\u003E \n\u003E Wait, does it mean that I have to load the atmosphere I want everytime I come back to the planet? Oh no...\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E But I don\u0027t quite understand your first sentence.\n\u003E \n\nNo it\u2019s doesnt mean that. When you are making changes, and it doesn\u2019t look the way you want, hit the load button. It will load up the last save you made to the cfg.\n\nEverything saves to the laythe cfg. It\u2019s an issue with scatterer. In order to extract the changes, you need to go into the laythe cfg and copy the cfg for the body you made changes for.\n\n**Edited \u003Ctime datetime=\u00222018-03-05T16:49:04Z\u0022 title=\u002203/05/2018 04:49  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 5, 2018\u003C/time\u003E by Galileo**"},{"CreatedByName":"Emperor of Ilve","CreatedById":180932,"CreatedDateTime":"2018-03-08T21:32:52Z","Content":"When can we expect scatterer to be updated to Version 1.4?\n\n\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E got updated so whenever this is updated is when I update to 1.4"},{"CreatedByName":"TheUnamusedFox","CreatedById":5606,"CreatedDateTime":"2018-03-08T21:34:31Z","Content":"\u003E \n\u003E \n\u003E Just now, Jeb\u0027s Pirotecnics Guy said:\n\u003E \n\u003E \n\u003E When can we expect scatterer to be updated to Version 1.4?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E got updated so whenever this is updated is when I update to 1.4\n\u003E \n\nThe answer is whenever blackrack feels like it. There is no \u0022expected\u0022 time."},{"CreatedByName":"JadeOfMaar","CreatedById":167617,"CreatedDateTime":"2018-03-08T22:12:05Z","Content":"\u003E \n\u003E \n\u003E 34 minutes ago, Jeb\u0027s Pirotecnics Guy said:\n\u003E \n\u003E \n\u003E When can we expect scatterer to be updated to Version 1.4?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E got updated so whenever this is updated is when I update to 1.4\n\u003E \n\nPlease do not ask modders to push updates after a game release. They need time to figure out where and how the game release breaks their mod. People ask this question every single game update which makes it annoying and even makes modders quit.\n\nThey have lives and may be enjoying 1.3.1 too because 1.4 is not as satisfying to them as it may be to casual players.\n\nFurthermore, the time between 1.4.0 and 1.4.1 is only 10 days. To update now is a waste of time."},{"CreatedByName":"Emperor of Ilve","CreatedById":180932,"CreatedDateTime":"2018-03-09T00:04:35Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, JadeOfMaar said:\n\u003E \n\u003E \n\u003E Please do not ask modders to push updates after a game release. They need time to figure out where and how the game release breaks their mod. People ask this question every single game update which makes it annoying and even makes modders quit.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E They have lives and may be enjoying 1.3.1 too because 1.4 is not as satisfying to them as it may be to casual players.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Furthermore, the time between 1.4.0 and 1.4.1 is only 10 days. To update now is a waste of time.\n\u003E \n\nThat is very understandable, I\u0027m not trying to push the mod maker to update the mod, he can take all the time he needs, I just wanted to know if there was a potential day that it will happen."},{"CreatedByName":"Vandest","CreatedById":122250,"CreatedDateTime":"2018-03-09T04:11:16Z","Content":"Just wait and see.\n\nThat would be very surprising if Blackrack don\u0027t update his mod, so... just wait and see.\n\nIf you can\u0027t, go back to 1.3.1.\n\n**Edited \u003Ctime datetime=\u00222018-03-09T04:11:52Z\u0022 title=\u002203/09/2018 04:11  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 9, 2018\u003C/time\u003E by Vandest**"},{"CreatedByName":"ArmandoA","CreatedById":184013,"CreatedDateTime":"2018-03-09T07:14:23Z","Content":"Hello guys , im new using this mod but apparently its been quite a significant hit in fps  (i have a 1080ti gpu)\n\nI was wondering if theres anything I can do to minimize the performance requirements of this mod?\n\nthanks"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-03-09T14:15:08Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, ArmandoA said:\n\u003E \n\u003E \n\u003E Hello guys , im new using this mod but apparently its been quite a significant hit in fps  (i have a 1080ti gpu)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I was wondering if theres anything I can do to minimize the performance requirements of this mod?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E thanks\n\u003E \n\nDisable the water refraction, or just disable the ocean shaders all together. Also, disable terrain shadows."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-10T11:42:10Z","Content":"As far as updates go, 1.4 is the worst one so far in how much it messes with my shaders. This will take some time..."},{"CreatedByName":"xjames","CreatedById":185156,"CreatedDateTime":"2018-03-10T13:24:03Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E As far as updates go, 1.4 is the worst one so far in how much it messes with my shaders. This will take some time...\n\u003E \n\nDayum! Anyway, thanks so much for this amazing mod, and for letting us know!"},{"CreatedByName":"nightstalker101s","CreatedById":171555,"CreatedDateTime":"2018-03-10T13:31:49Z","Content":"Do you have a donations account setup anywhere? If so, will the funds actually give you more time to work on your mods? I\u0027ll send some love either way if you do have one setup somewhere."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-10T14:17:40Z","Content":"\u003E \n\u003E \n\u003E 44 minutes ago, nightstalker101s said:\n\u003E \n\u003E \n\u003E Do you have a donations account setup anywhere? If so, will the funds actually give you more time to work on your mods? I\u0027ll send some love either way if you do have one setup somewhere.\n\u003E \n\nI have a donations link in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E. While funds donated are very nice, unfortunately, they don\u0027t come anywhere near paying the rent or putting food on the table so I won\u0027t have more free time. Thanks anyway."},{"CreatedByName":"cratercracker","CreatedById":171449,"CreatedDateTime":"2018-03-10T14:51:30Z","Content":"![161ht0k.jpg](http://oi68.tinypic.com/161ht0k.jpg)\n\n\uFF39\uFF4F\uFF55\uFF52\uFF53 \uFF29\uFF4E \uFF29\uFF4E\uFF46\uFF49\uFF4E\uFF49\uFF54\uFF45 \uFF26\uFF49\uFF4E\uFF41\uFF4C\uFF49\uFF54\uFF59\uFEFF\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\nJust a small piece of fanart to make your day better!\n\n[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)"},{"CreatedByName":"RangeMachine","CreatedById":149069,"CreatedDateTime":"2018-03-11T00:00:18Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E As far as updates go, 1.4 is the worst one so far in how much it messes with my shaders. This will take some time...\n\u003E \n\nI tried to rebuild it for 1.4, made shaders with Unity 2017.1.3 and replaced Camera.allCameras to GameObject.FindObjectsOfType\u003Ccamera\u003E() in Core.Update() to avoid NullReferenceException. Scaled space shaders works ok but terrain is black somereason. May be it will help you.\n\u003C/camera\u003E\n\n**Edited \u003Ctime datetime=\u00222018-03-11T00:00:47Z\u0022 title=\u002203/11/2018 12:00  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 11, 2018\u003C/time\u003E by RangeMachine**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2018-03-11T00:13:23Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, cratercracker said:\n\u003E \n\u003E \n\u003E [![161ht0k.jpg](http://oi68.tinypic.com/161ht0k.jpg)](http://oi68.tinypic.com/161ht0k.jpg \u0022Enlarge image\u0022)\n\u003E \n\nYour best work yet!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-11T08:37:00Z","Content":"\u003E \n\u003E \n\u003E 17 hours ago, cratercracker said:\n\u003E \n\u003E \n\u003E [![161ht0k.jpg](http://oi68.tinypic.com/161ht0k.jpg)](http://oi68.tinypic.com/161ht0k.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \uFF39\uFF4F\uFF55\uFF52\uFF53 \uFF29\uFF4E \uFF29\uFF4E\uFF46\uFF49\uFF4E\uFF49\uFF54\uFF45 \uFF26\uFF49\uFF4E\uFF41\uFF4C\uFF49\uFF54\uFF59\uFEFF\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Just a small piece of fanart to make your day better!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)\n\u003E \n\n\uFF21\uFF45\uFF53\uFF54\uFF48\uFF45\uFF54\uFF49\uFF43 \u309D\u6CB3\u54BD\n\n\u003E \n\u003E \n\u003E 8 hours ago, RangeMachine said:\n\u003E \n\u003E \n\u003E I tried to rebuild it for 1.4, made shaders with Unity 2017.1.3 and replaced Camera.allCameras to GameObject.FindObjectsOfType\u003Ccamera\u003E() in Core.Update() to avoid NullReferenceException. Scaled space shaders works ok but terrain is black somereason. May be it will help you.\n\u003E \u003C/camera\u003E\n\u003E \n\nI figured it out, terrain was black because my depth texture camera started rendering to screen. Other than this the postprocessing shaders and the sunflare were messed up because of some flipped UVs and frustum corners on DirectX and the ocean needed changes to the projection matrix. Everything is fine now, update incoming."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-11T10:23:55Z","Content":"1.4 version is up, changelog in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E."},{"CreatedByName":"Draradech","CreatedById":139656,"CreatedDateTime":"2018-03-11T17:06:38Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E 1.4 version is up, changelog in the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\n\u003E \n\nThank you! My game looks pretty again.\n\nUnfortunately, I have to report a bug. On a minmus/mun tourist mission I noticed, that I could no longer see anything but my own craft and the UI. No Skybox, no Kerbin, no Mun (this is called scaled space (if the orbit is high enough), correct? if not, substitue whatever this is in the rest of the post.)\n\nI investigated a bit in a clean install:\n\n**KSP:** 1.4.0 Windows 64bit\n\n**Problem:** Scaled space disappears in flight view, map is ok.\n\n**Mods installed:**\n\nScatterer 0.0326\n\n**Reproduction steps:**\n\nIn a clean install, new save, launch a vesset, cheat set orbit around mun. Until here everything is fine. Go to the tracking station and back, scaled space is gone (or black?). Map view still works. Set orbit around Kerbin, scaled space reappears and keeps working even in orbit of other bodies until vessel switch (or tracking station).\n\nWith multiple crafts and set orbits, it looks like scaled space disappears when \\*switching to\\* a vessel around the mun (or minmus - didn\u0027t test other bodies). In orbit of kerbin it doesn\u0027t break when switching to, it even restores if currently broken. It doesn\u0027t break on setting orbit to the mun, only when switching to the vessel orbiting mun.\n\n**Log:**\n\n[http://pasted.co/202f30dd](http://pasted.co/202f30dd)"},{"CreatedByName":"RYlOLI","CreatedById":186478,"CreatedDateTime":"2018-03-11T19:47:45Z","Content":"\u003E \n\u003E Weird problem after installing the new scatterer (KSP 1.4 64-bit on Windows)\n\n\u003E \n\u003E When I move the camera angle the translucent blue layer moves in the opposite direction of the planet. Same with the sunflare.\n\n\u003E \n\u003E ![eZFK4Pn.jpg](https://i.imgur.com/eZFK4Pn.jpg)\n\n\u003E \n\u003E [https://imgur.com/eZFK4Pn](https://imgur.com/eZFK4Pn)\n\n\u003E \n\u003E  \n\n**Edited \u003Ctime datetime=\u00222018-03-11T20:51:57Z\u0022 title=\u002203/11/2018 08:51  PM\u0022 data-short=\u00226 yr\u0022\u003EMarch 11, 2018\u003C/time\u003E by RYlOLI**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-11T21:16:00Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Draradech said:\n\u003E \n\u003E \n\u003E Thank you! My game looks pretty again.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Unfortunately, I have to report a bug. On a minmus/mun tourist mission I noticed, that I could no longer see anything but my own craft and the UI. No Skybox, no Kerbin, no Mun (this is called scaled space (if the orbit is high enough), correct? if not, substitue whatever this is in the rest of the post.)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I investigated a bit in a clean install:\n\u003E \n\u003E \n\u003E \n\u003E **KSP:** 1.4.0 Windows 64bit\n\u003E \n\u003E \n\u003E **Problem:** Scaled space disappears in flight view, map is ok.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Mods installed:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Scatterer 0.0326\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Reproduction steps:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In a clean install, new save, launch a vesset, cheat set orbit around mun. Until here everything is fine. Go to the tracking station and back, scaled space is gone (or black?). Map view still works. Set orbit around Kerbin, scaled space reappears and keeps working even in orbit of other bodies until vessel switch (or tracking station).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With multiple crafts and set orbits, it looks like scaled space disappears when \\*switching to\\* a vessel around the mun (or minmus - didn\u0027t test other bodies). In orbit of kerbin it doesn\u0027t break when switching to, it even restores if currently broken. It doesn\u0027t break on setting orbit to the mun, only when switching to the vessel orbiting mun.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Log:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://pasted.co/202f30dd](http://pasted.co/202f30dd)\n\u003E \n\nI will try to reproduce.\n\n\u003E \n\u003E \n\u003E 1 hour ago, RYlOLI said:\n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E Weird problem after installing the new scatterer (KSP 1.4 64-bit on Windows)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E When I move the camera angle the translucent blue layer moves in the opposite direction of the planet. Same with the sunflare.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003E \n\u003E \u003E [https://imgur.com/eZFK4Pn](https://imgur.com/eZFK4Pn)\n\u003E \n\nEhh, really weird, this is what my fix is supposed to fix. Anything special about your setup? Which renderer are you using? And one more thing, is the ocean shader working correctly?"},{"CreatedByName":"RYlOLI","CreatedById":186478,"CreatedDateTime":"2018-03-11T21:40:52Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Ehh, really weird, this is what my fix is supposed to fix. Anything special about your setup? Which renderer are you using? And one more thing, is the ocean shader working correctly?\n\u003E \n\nOK so I discovered that it only happens if I have anti-aliasing set to Disabled when I load the game. In the alt-f12 console I also get the message \u0022Error: Invalid antiAliasing value (must be at least 1)\u0022\n\nIf I hit Esc while in-game and turn Anti-aliasing to 2x, 4x or 8x, the problem is resolved. If I then turn it back to Off in-game, scatterer still appears fine (even though I notice the edges of the ship no longer has anti-aliasing, i.e. it actually turns off the AA). However if I go back to the main menu and reload the game, scatterer is broken again.\n\nHope this helps.\n\nEDIT: I also experience the issue explained by Draradech above. If I switch to a vessel far enough from Kerbin everything is black.\n\n**Edited \u003Ctime datetime=\u00222018-03-12T01:59:38Z\u0022 title=\u002203/12/2018 01:59  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 12, 2018\u003C/time\u003E by RYlOLI**"},{"CreatedByName":"remon","CreatedById":2361,"CreatedDateTime":"2018-03-12T09:40:08Z","Content":"Can confirm that enabling anti-aliasing fixes this bug."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2018-03-12T12:02:28Z","Content":"\u003E \n\u003E \n\u003E 14 hours ago, RYlOLI said:\n\u003E \n\u003E \n\u003E OK so I discovered that it only happens if I have anti-aliasing set to Disabled when I load the game. In the alt-f12 console I also get the message \u0022Error: Invalid antiAliasing value (must be at least 1)\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If I hit Esc while in-game and turn Anti-aliasing to 2x, 4x or 8x, the problem is resolved. If I then turn it back to Off in-game, scatterer still appears fine (even though I notice the edges of the ship no longer has anti-aliasing, i.e. it actually turns off the AA). However if I go back to the main menu and reload the game, scatterer is broken again.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Hope this helps.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E EDIT: I also experience the issue explained by Draradech above. If I switch to a vessel far enough from Kerbin everything is black.\n\u003E \n\nAh, you might be on to something, thanks for precising this, I will investigate."},{"CreatedByName":"Platan","CreatedById":186537,"CreatedDateTime":"2018-03-12T22:43:21Z","Content":"\u003E \n\u003E \n\u003E On 11/03/2018 at 10:16 PM, blackrack said:\n\u003E \n\u003E \n\u003E On 11/03/2018 at 6:06 PM, [Draradech](https://forum.kerbalspaceprogram.com/?app=core\u0026module=members\u0026controller=profile\u0026id=139656) said:\n\u003E \n\u003E \n\u003E Thank you! My game looks pretty again.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Unfortunately, I have to report a bug. On a minmus/mun tourist mission I noticed, that I could no longer see anything but my own craft and the UI. No Skybox, no Kerbin, no Mun (this is called scaled space (if the orbit is high enough), correct? if not, substitue whatever this is in the rest of the post.)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I investigated a bit in a clean install:\n\u003E \n\u003E \n\u003E \n\u003E **KSP:** 1.4.0 Windows 64bit\n\u003E \n\u003E \n\u003E **Problem:** Scaled space disappears in flight view, map is ok.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Mods installed:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Scatterer 0.0326\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Reproduction steps:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E In a clean install, new save, launch a vesset, cheat set orbit around mun. Until here everything is fine. Go to the tracking station and back, scaled space is gone (or black?). Map view still works. Set orbit around Kerbin, scaled space reappears and keeps working even in orbit of other bodies until vessel switch (or tracking station).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With multiple crafts and set orbits, it looks like scaled space disappears when \\*switching to\\* a vessel around the mun (or minmus - didn\u0027t test other bodies). In orbit of kerbin it doesn\u0027t break when switching to, it even restores if currently broken. It doesn\u0027t break on setting orbit to the mun, only when switching to the vessel orbiting mun.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E **Log:**\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://pasted.co/202f30dd](http://pasted.co/202f30dd)\n\u003E \n\nHello guys, I had the same problem and my test the options in the start menu. When I disable the \u0022Ocean Shadders\u0022 (First option). All things are ok in the game.\n\nSorry for my English, I\u0027m a little bad French."}]}