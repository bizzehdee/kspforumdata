{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":82,"Articles":[{"CreatedByName":"sjsninetrys","CreatedById":151624,"CreatedDateTime":"2015-11-24T05:57:14Z","Content":"\n[quote name=\u0027direwolf\u0027]Anyone who have trouble getting Scatterer to work with RSS / Kopernicus can give my patched version a try. It fixes the celestial / transform naming mess by simply detecting the proper celestial body using both names defined in PlanetList.cfg and does the same with assets, like shaders and config. Should help with black sky and NullReference exceptions should be gone altogether for your bonus enjoyment.\u003Cbr\u003E\nAs a disclaimer, I\u0026#39;ve only tested it on my setup: OSX 10.11, Stock KSP modded with 64bit UnityPlayer 4.6.4. Only Scatterer and RSS 10.4.1 installed with 8K textures. Feedback from 32bit and/or Windows / Linux host with and without RSS would be appreciated.\u003Cbr\u003E\n\u003Cbr\u003E\nWithout any further ado:\u003Cbr\u003E\n\u003Cbr\u003E\nPull request for the technically inclined: [URL]https://github.com/LGhassen/Scatterer/pull/5[/URL]\u003Cbr\u003E\nGameData snapshot: [URL]https://www.dropbox.com/s/pejxjr4rrnrfuo6/scatterer-0.191-rss-compat-c0a39c7.zip[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nHow it looks with 100% default configuration:\u003Cbr\u003E\n\u003Cbr\u003E\n[URL]http://imgur.com/a/1NZLq[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nHave fun![/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nGreat fix, solved the black sky issue for me, running OSX with same set up as you. \u003Cbr\u003E\n\u003Cbr\u003E\nOnly issue I have now is the black line flashing on the horizon.. I think I can see this on the KSC image that you uploaded aswell, Is this a default configuration issue with RSS? if so, does anyone know which parameter to change in the UI? Ive tried a few different things but no resolve.. Cheers\u003Cbr\u003E\n\u003Cbr\u003E\n[COLOR=#333333]Setup: OSX 10.11, 64bit UnityPlayer 4.6.4. RSS 10.4.1 with Scatterer \u0026 EVE (latest)\u003Cbr\u003E\n\u003Cbr\u003E\n[/COLOR]\n"},{"CreatedByName":"direwolf","CreatedById":153980,"CreatedDateTime":"2015-11-24T07:08:15Z","Content":"\n[quote name=\u0027Manwith Noname\u0027]KSP 32 on Win 8.1 x64 with DX9 (assuming that is still the default) rendering....is a no go sadly. The atmosphere doesn\u0026#39;t load at all and I get lots of this in the logs....\u003Cbr\u003E\n\u003Cbr\u003E\n[code]\u003Cbr\u003E\n[EXC 03:16:18.574] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[/code]\u003Cbr\u003E\n\u003Cbr\u003E\nThis was a completely vanilla install. I then threw Kopernicus 0.5.2 in just incase there was some dependency but the situation remained the same.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIf I understand you correctly, you were not running RSS, you have just tried the patched Scatterer, right? The exception you got means that there were no suitable celestial bodies found to apply the atmosphere to, in this case I assume for Kerbin.\u003Cbr\u003E\n\u003Cbr\u003E\n- How does your [code]GameData\u0026#092;scatterer\u0026#092;config\u0026#092;PlanetList.cfg[/code] looks like?\u003Cbr\u003E\n- Could you please post a longer snippet from the log around where that exception first appears in your log?\n"},{"CreatedByName":"direwolf","CreatedById":153980,"CreatedDateTime":"2015-11-24T07:18:53Z","Content":"\n[quote name=\u0027sjsninetrys\u0027]Only issue I have now is the black line flashing on the horizon.. I think I can see this on the KSC image that you uploaded aswell, Is this a default configuration issue with RSS? if so, does anyone know which parameter to change in the UI? Ive tried a few different things but no resolve..[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nSame here, yes. Unfortunately I\u0026#39;m just starting to learn how Scatterer does it\u0026#39;s gfx magic (shaders and all) too, but if I\u0026#39;d have to guess I\u0026#39;d bet on a scaling problem with the atmosphere knowing how RSS redefines all celestial body sizes. [code]atmosphereGlobalScale[/code] maybe?\u003Cbr\u003E\nLet me know what you find, I\u0026#39;ll look into it too :)\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-24T09:18:57Z","Content":"\n[quote name=\u0027direwolf\u0027]Anyone who have trouble getting Scatterer to work with RSS / Kopernicus can give my patched version a try. It fixes the celestial / transform naming mess by simply detecting the proper celestial body using both names defined in PlanetList.cfg and does the same with assets, like shaders and config. Should help with black sky and NullReference exceptions should be gone altogether for your bonus enjoyment.\u003Cbr\u003E\nAs a disclaimer, I\u0026#39;ve only tested it on my setup: OSX 10.11, Stock KSP modded with 64bit UnityPlayer 4.6.4. Only Scatterer and RSS 10.4.1 installed with 8K textures. Feedback from 32bit and/or Windows / Linux host with and without RSS would be appreciated.\u003Cbr\u003E\n\u003Cbr\u003E\nWithout any further ado:\u003Cbr\u003E\n\u003Cbr\u003E\nPull request for the technically inclined: [URL]https://github.com/LGhassen/Scatterer/pull/5[/URL]\u003Cbr\u003E\nGameData snapshot: [URL]https://www.dropbox.com/s/pejxjr4rrnrfuo6/scatterer-0.191-rss-compat-c0a39c7.zip[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nHow it looks with 100% default configuration:\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://imgur.com/a/1NZLq[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nHave fun![/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nGreat, I just woke up and I\u0026#39;m pretty happy to see this. Taking a look at this now.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027sjsninetrys\u0027]Great fix, solved the black sky issue for me, running OSX with same set up as you. \u003Cbr\u003E\n\u003Cbr\u003E\nOnly issue I have now is the black line flashing on the horizon.. I think I can see this on the KSC image that you uploaded aswell, Is this a default configuration issue with RSS? if so, does anyone know which parameter to change in the UI? Ive tried a few different things but no resolve.. Cheers\u003Cbr\u003E\n\u003Cbr\u003E\n[COLOR=#333333]Setup: OSX 10.11, 64bit UnityPlayer 4.6.4. RSS 10.4.1 with Scatterer \u0026 EVE (latest)\u003Cbr\u003E\n\u003Cbr\u003E\n[/COLOR][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nPretty sure that the black line is caused by the new depth buffer, I\u0026#39;ll disable it for now. I\u0026#39;m currently testing direwolf\u0026#39;s changes and will report back, will also forward this to Proot and pingopete for testing.\n"},{"CreatedByName":"direwolf","CreatedById":153980,"CreatedDateTime":"2015-11-24T09:59:14Z","Content":"\n[quote name=\u0027blackrack\u0027]Pretty sure that the black line is caused by the new depth buffer, I\u0026#39;ll disable it for now. I\u0026#39;m currently testing direwolf\u0026#39;s changes and will report back, will also forward this to Proot and pingopete for testing.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nExcellent, I tried to figure this out but the only answer I could found was \u0026#39;you need to learn modern 3d computer gfx / rendering theory\u0026#39; :D\u003Cbr\u003E\n\u003Cbr\u003E\nSo up next I\u0026#39;ll fix some more bugs (got a 32bit Win VM going) and then I plan to consolidate plugin loading order / game event / scenery update related stuff as a groundwork to make it possible for other plugins to define their own Scatterer config, body list, etc.\u003Cbr\u003E\nI feel that the current PlanetList.cfg / Settings.cfg based stuff is pretty inconvenient, especially so because you can accidentally overwrite them easily from ingame.\u003Cbr\u003E\nDo you have anything on your mind regarding the above?\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-24T10:14:44Z","Content":"\nEverything you added seems solid and runs well, I restored the default depth buffer and it got rid of the black horizon line you see on your screenshots, but it also restored the moire patterns and other artifacts, I\u0026#39;ll get rid of these later or make the new depth buffer an option (high CPU usage when used with EVE mod). Tested with RSS and stock and everything seems to run well, though I never had issues with RSS compatibility or the black sky bug, so I\u0026#39;ll need more people testing this one. I merged your changes but keep in mind I kept the new depth buffer in the github repository.\u003Cbr\u003E\n\u003Cbr\u003E\nHere\u0026#39;s the link: [URL=\u0022https://mega.nz/#!jc5RRTZR!KUuJOcqgy6NgudC68xUVks3NjhuV_CZXq0JO2EkG6_8\u0022]https://mega.nz/#!jc5RRTZR!KUuJOcqgy6NgudC68xUVks3NjhuV_CZXq0JO2EkG6_8[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nIf on RSS, change planetsList to something like this\u003Cbr\u003E\n\u003Cbr\u003E\n[CODE]scattererCelestialBodies\u003Cbr\u003E\n{\u003Cbr\u003E\nItem\u003Cbr\u003E\n{\u003Cbr\u003E\ncelestialBodyName = Earth\u003Cbr\u003E\ntransformName = Kerbin\u003Cbr\u003E\nloadDistance =50000000\u003Cbr\u003E\nunloadDistance = 100000000\u003Cbr\u003E\n}\u003Cbr\u003E\nItem\u003Cbr\u003E\n{\u003Cbr\u003E\ncelestialBodyName = Mars\u003Cbr\u003E\ntransformName = Mars\u003Cbr\u003E\nloadDistance = 50000000\u003Cbr\u003E\nunloadDistance = 100000000\u003Cbr\u003E\n} \u003Cbr\u003E\nItem\u003Cbr\u003E\n{\u003Cbr\u003E\ncelestialBodyName = Venus\u003Cbr\u003E\ntransformName = Venus\u003Cbr\u003E\nloadDistance = 50000000\u003Cbr\u003E\nunloadDistance = 100000000\u003Cbr\u003E\n}\u003Cbr\u003E\n}[/CODE]\u003Cbr\u003E\n\u003Cbr\u003E\nAnd rename the folders Kerbin, Duna and Eve to Earth, Mars and Venus. This is just for testing, the scale for mapview will be off, Eve config won\u0026#39;t look right on Venus. You can make a better config if you want or wait for \u0022official\u0022 ones.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027direwolf\u0027]Excellent, I tried to figure this out but the only answer I could found was \u0026#39;you need to learn modern 3d computer gfx / rendering theory\u0026#39; :D\u003Cbr\u003E\n\u003Cbr\u003E\nSo up next I\u0026#39;ll fix some more bugs (got a 32bit Win VM going) and then I plan to consolidate plugin loading order / game event / scenery update related stuff as a groundwork to make it possible for other plugins to define their own Scatterer config, body list, etc.\u003Cbr\u003E\nI feel that the current PlanetList.cfg / Settings.cfg based stuff is pretty inconvenient, especially so because you can accidentally overwrite them easily from ingame.\u003Cbr\u003E\nDo you have anything on your mind regarding the above?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nNot really no, I\u0026#39;m focusing more on adding graphical features and improving the shaders right now than on ease of use/user experience. Do you want to disable auto settings saving?\u003Cbr\u003E\n\u003Cbr\u003E\nAlso, if you feel like it, maybe take a look at the ocean branch :p\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-24T10:43:12Z\u0022 title=\u002211/24/2015 10:43  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 24, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-24T14:13:25Z","Content":"\n[quote name=\u0027blackrack\u0027]Everything you added seems solid and runs well, I restored the default depth buffer and it got rid of the black horizon line you see on your screenshots, but it also restored the moire patterns and other artifacts, I\u0026#39;ll get rid of these later or make the new depth buffer an option (high CPU usage when used with EVE mod). [/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nOne thing you could do is manually disable the depth buffer on the Camera when using a custom depth buffer.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-24T14:27:11Z","Content":"\n[quote name=\u0027rbray89\u0027]One thing you could do is manually disable the depth buffer on the Camera when using a custom depth buffer.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nBut if EVE is using the depth buffer, won\u0026#39;t that break it?\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-24T15:26:49Z","Content":"\n[quote name=\u0027blackrack\u0027]But if EVE is using the depth buffer, won\u0026#39;t that break it?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nPossibly... Though I don\u0026#39;t expect it to given the results from earlier. Worst-case we loose the nice edges around where clouds meet geometry.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-24T15:34:04Z","Content":"\n[quote name=\u0027rbray89\u0027]Possibly... Though I don\u0026#39;t expect it to given the results from earlier. Worst-case we loose the nice edges around where clouds meet geometry.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;d rather hold off then, the custom depth buffer still has some other jarring issues.\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-24T17:27:18Z","Content":"\n[quote name=\u0027direwolf\u0027]If I understand you correctly, you were not running RSS, you have just tried the patched Scatterer, right?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nCorrect. Nothing else was added initially, just the patched scatterer. When It did not work I tried adding in Kopernicus to see if that altered anything, which it did not. Here is an excerpt from my log file when loading into the game...\u003Cbr\u003E\n\u003Cbr\u003E\n[spoiler=Code here]\u003Cbr\u003E\n[code]\u003Cbr\u003E\n[WRN 03:22:22.487] [HighLogic]: =========================== Scene Change : From MAINMENU to SPACECENTER (Async) =====================\u003Cbr\u003E\n[LOG 03:22:22.936] AddonLoader: Instantiating addon \u0026#39;AtmosphereFixer\u0026#39; from assembly \u0026#39;Kopernicus\u0026#39;\u003Cbr\u003E\n[LOG 03:22:22.937] AddonLoader: Instantiating addon \u0026#39;Core\u0026#39; from assembly \u0026#39;scatterer\u0026#39;\u003Cbr\u003E\n[LOG 03:22:22.980] Sun (CelestialBody)\u003Cbr\u003E\n[EXC 03:22:22.993] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:22.998] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.107] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.226] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.229] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.234] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.246] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.266] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.279] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.297] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.313] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.329] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.434] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.501] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.506] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.512] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.529] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[EXC 03:22:23.546] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[LOG 03:22:23.923] AddonLoader: Instantiating addon \u0026#39;AddScenarioModules\u0026#39; from assembly \u0026#39;KSP\u0026#39;\u003Cbr\u003E\n[LOG 03:22:23.925] AddonLoader: Instantiating addon \u0026#39;ContractDefs\u0026#39; from assembly \u0026#39;KSP\u0026#39;\u003Cbr\u003E\n[LOG 03:22:23.942] AddonLoader: Instantiating addon \u0026#39;CustomConfigsManager\u0026#39; from assembly \u0026#39;ModuleManager\u0026#39;\u003Cbr\u003E\n[LOG 03:22:23.943] AddonLoader: Instantiating addon \u0026#39;AtmosphereFixer\u0026#39; from assembly \u0026#39;Kopernicus\u0026#39;\u003Cbr\u003E\n[LOG 03:22:23.944] AddonLoader: Instantiating addon \u0026#39;Core\u0026#39; from assembly \u0026#39;scatterer\u0026#39;\u003Cbr\u003E\n[LOG 03:22:25.233] [CustomConfigsManager] Setting moddeed physics as the active one\u003Cbr\u003E\n[LOG 03:22:25.235] PhysicsGlobals: Loading database\u003Cbr\u003E\n[LOG 03:22:26.036] Sun (CelestialBody)\u003Cbr\u003E\n[EXC 03:22:26.047] InvalidOperationException: Operation is not valid due to the current state of the object\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate, Fallback fallback)\u003Cbr\u003E\nSystem.Linq.Enumerable.Single[CelestialBody] (IEnumerable\u00601 source, System.Func\u00602 predicate)\u003Cbr\u003E\nscatterer.Core.Update ()\u003Cbr\u003E\n[/code]\u003Cbr\u003E\n[/spoiler]\u003Cbr\u003E\n\u003Cbr\u003E\nPlanetlist.cfg was as it came in the zip, looking at it it, yeah, that\u0026#39;s probably an issue ;)\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: I\u0026#39;ve grabbed the latest files Blackrack uploaded and will check that out shortly.\u003Cbr\u003E\n\u003Cbr\u003E\nSometime later edit: Installing Scatterer, then fix3.zip, then the DirewolfFixes.zip works well with Kopernicus and EVE. Sky is blue \u0026#092;o/\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-24T19:49:02Z\u0022 title=\u002211/24/2015 07:49  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 24, 2015\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-11-24T21:25:25Z","Content":"\nIs is possible to upload the mod somewhere else as well - KErbal Stuff is often buggy for me.\n"},{"CreatedByName":"SquaredSpekz","CreatedById":124226,"CreatedDateTime":"2015-11-24T23:56:06Z","Content":"\nSo do the other planets have Scatterer Effects by Default, or do we have to add them?\n"},{"CreatedByName":"Murdox","CreatedById":148129,"CreatedDateTime":"2015-11-25T17:01:54Z","Content":"\n[quote name=\u0027Manwith Noname\u0027]Sometime later edit: Installing Scatterer, then fix3.zip, then the DirewolfFixes.zip works well with Kopernicus and EVE. Sky is blue \u0026#092;o/[/QUOTE]\u003Cbr\u003E\nI already found DirewolfFixes.zip from later posts but i cant find that zip package called fix3.zip\u003Cbr\u003E\nCan someone tell me where i can find that or link it again. Thanks!\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-25T17:13:12Z","Content":"\n[quote name=\u0027Murdox\u0027]I already found DirewolfFixes.zip from later posts but i cant find that zip package called fix3.zip\u003Cbr\u003E\nCan someone tell me where i can find that or link it again. Thanks![/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nDirewolfFixes cancels out what the previous fixes do (custom depth buffer). I\u0026#39;ll make a new release as soon as I\u0026#39;m sure it works well for everyone, and with RSS.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027SquaredSpekz\u0027]So do the other planets have Scatterer Effects by Default, or do we have to add them?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nRead the thread, but they do.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027sashan\u0027]Is is possible to upload the mod somewhere else as well - KErbal Stuff is often buggy for me.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nWith next release I\u0026#39;ll include mega links.\n"},{"CreatedByName":"peachoftree","CreatedById":110108,"CreatedDateTime":"2015-11-25T18:04:05Z","Content":"\nIs there any way to fix kerbin from looking like it does in this screenshot? (notice the lines on the continent below) I am running scatterer 0.191 with Ubuntu 14.04 in Opengl with KSP in 64 bit mode. It looks fine except between the altitudes of around 60 and 160 km. \u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n[img]http://i.imgur.com/FAh0EOQ.png[/img]\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-25T18:35:34Z","Content":"\n[quote name=\u0027peachoftree\u0027]Is there any way to fix kerbin from looking like it does in this screenshot? (notice the lines on the continent below) I am running scatterer 0.191 with Ubuntu 14.04 in Opengl with KSP in 64 bit mode. It looks fine except between the altitudes of around 60 and 160 km. \u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n[url]http://i.imgur.com/FAh0EOQ.png[/url][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nGo back a few pages, find a file called fixes3, it fixes that issue but comes with others, so it\u0026#39;s your choice to make. It will be integrated in next release and made togglable.\u003Cbr\u003E\n\u003Cbr\u003E\nEdited: Actually no, I think this is the file you want [URL=\u0022https://mega.nz/#!idYiECiR!EGIfls2jtkl5tLzTAi5Z2FMHk0spvmg6C7yrpT1atDQ\u0022]https://mega.nz/#!idYiECiR!EGIfls2jtkl5tLzTAi5Z2FMHk0spvmg6C7yrpT1atDQ[/URL]\n"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-25T19:03:37Z","Content":"\n[quote name=\u0027blackrack\u0027]DirewolfFixes cancels out what the previous fixes do (custom depth buffer).[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nJust to note, there are shader files in the fix3.zp that are not contained in your direwolffixes.zip. Without the fix3.zip, there is still something relating \u0022Ignore projector\u0022 in some of the files that seems amiss and I get this...which I mentioned but never posted a screen of...\u003Cbr\u003E\n\u003Cbr\u003E\n[URL]http://steamcommunity.com/sharedfiles/filedetails/?id=562349004[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nThe little black box moves in relation to the camera but also seems to occupy a point in space relative to it when rotating.\u003Cbr\u003E\n\u003Cbr\u003E\nSo, with fix3.zip and direwolffixes.zip, everything is nice (no black boxes) and I do not notice anything untoward, except maybe some \u0022pulsing\u0022 when leaving the atmosphere.\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: So, personally, using DX9, I...\u003Cbr\u003E\n\u003Cbr\u003E\nInstall Scatterer 0.0191\u003Cbr\u003E\nThen Fix3.zip - [url]https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0[/url]\u003Cbr\u003E\nThen, if you think you are going to use a planet pack (Kopernicus), throw in the DirewolfFixes.zip files - [url]https://mega.nz/#!jc5RRTZR!KUuJOcqgy6NgudC68xUVks3NjhuV_CZXq0JO2EkG6_8[/url]\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-25T19:09:20Z\u0022 title=\u002211/25/2015 07:09  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 25, 2015\u003C/time\u003E by Manwith Noname\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-11-25T20:34:17Z","Content":"\nI still have noire patterns and other artifacts on opengl. \u003Cbr\u003E\nThat green line on the horizon is only present when looking into the sun direction, as the last shot demonstrates.\u003Cbr\u003E\n[imgur]sfZOS[/imgur]\u003Cbr\u003E\nDo you need logs?\n"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-11-25T21:21:25Z","Content":"\nThanks Direwolf, can confirm working on RSS now and mars looks amazing with just 2k textures:\u003Cbr\u003E\n[IMG]http://i.imgur.com/j1KrT8H.png[/IMG]\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-25T21:30:00Z","Content":"\n[quote name=\u0027sashan\u0027]I still have noire patterns and other artifacts on opengl. \u003Cbr\u003E\nThat green line on the horizon is only present when looking into the sun direction, as the last shot demonstrates.\u003Cbr\u003E\n[url]http://imgur.com/a/sfZOS[/url]\u003Cbr\u003E\nDo you need logs?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIf the moire patterns is there it means this is using direwolffixes.zip\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m compiling a new release now that will have all of these options included.\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-11-25T21:38:28Z","Content":"\n[quote name=\u0027blackrack\u0027]If the moire patterns is there it means this is using direwolffixes.zip\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m compiling a new release now that will have all of these options included.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;ve downloaded that release from kerbal stuff yesterday evening.\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-25T21:52:21Z","Content":"\n[quote name=\u0027sashan\u0027]I\u0026#39;ve downloaded that release from kerbal stuff yesterday evening.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nThe fix is literally the first post on this page.\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-11-25T23:34:07Z","Content":"\n[quote name=\u0027blackrack\u0027]The fix is literally the first post on this page.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nThx, will try it out.\u003Cbr\u003E\n\u003Cbr\u003E\nBy the way, sunset is somewhat weird because you can see stars through it. Or is it supposed to look like that from 5 km altitude? \u003Cbr\u003E\n[IMG]https://scontent-arn2-1.xx.fbcdn.net/hphotos-xfp1/t31.0-8/12232827_812031282252872_863728496992419365_o.jpg[/IMG]\n"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-26T00:49:59Z","Content":"\nJust fixed the edge/shimmering issues of the new depth buffer. Also got rid of the old horizon break and other artifacts OpenGL has.\u003Cbr\u003E\n\u003Cbr\u003E\n[IMG]http://i.imgur.com/xMfdyN6.jpg[/IMG]\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;ll be cleaning this up and making a release soon. It looks like this may have some performance impact though, I will check again tomorrow, maybe I messed something up.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027sashan\u0027]Thx, will try it out.\u003Cbr\u003E\n\u003Cbr\u003E\nBy the way, sunset is somewhat weird because you can see stars through it. Or is it supposed to look like that from 5 km altitude? \u003Cbr\u003E\n[url]https://scontent-arn2-1.xx.fbcdn.net/hphotos-xfp1/t31.0-8/12232827_812031282252872_863728496992419365_o.jpg[/url][/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nScatterer isn\u0026#39;t supposed to hide them, probably the additive blending makes them more visible also, nothing you can do there.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-26T01:13:17Z\u0022 title=\u002211/26/2015 01:13  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 26, 2015\u003C/time\u003E by blackrack\u003C/strong\u003E\n\u003C/span\u003E\n"}]}