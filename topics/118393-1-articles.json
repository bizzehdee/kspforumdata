{"TopicId":118393,"ForumId":18,"TopicTitle":"Txt and bmp conversion","CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:20:41Z","PageNum":1,"Articles":[{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:20:41Z","Content":"Hi!\n\nsomeone must know what i need to do.\n\nI have a large grid of numbers between 1 and 255 and i\u0027d like each number to be a pixel in a bitmap.\n\ncan this easily be done?\n\nCheers,\n\nRBS."},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-08-13T19:30:24Z","Content":"Not sure what you mean here... You want a 255x255 image?"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:41:24Z","Content":"\u003E \n\u003E Not sure what you mean here... You want a 255x255 image?\n\nThe size of the image should be the same as the array.\n\nThe 0 to 255 is because those are the shades of grey in bmp."},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T19:51:35Z","Content":"I have been looking into .bmp standards a while back, but got bogged down in versions and varieties fairly quickly. It is not as straightforward as you would think.\n\nThen again, I tried to do it all myself, maybe that there are some nifty libraries to help you with this."},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-08-13T20:12:30Z","Content":"This could be done, though it\u0027d take some work unless this grid is a standard format and there\u0027s already software designed to handle it, in that case google it up ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nIf not then you\u0027ll have to write something yourself, if you\u0027re a programmer great!, if not then you\u0027ll need to pick something easy to learn.\n\nYou\u0027d first want to open the file, read each line into cells of an array until the end of the file and create an image buffer big enough to hold the pic, height will be the same as the number of lines in your grid, width would equal the number of values in a line.\n\nYou\u0027ll then need to parse each line, if the values are separated by spaces you\u0027d check each character until you found a space, convert the characters before the space to an integer and draw a pixel with that value to x=0 and y=0, add 1 to x, make the current position in the line the new start position, read forwards to the next space, convert it and then draw another pixel.\n\nOnce you\u0027re done with a line, add 1 to y and then parse the next line/cell in your array, \u0022for\u0022 loops are good for this.\n\nAnd after all the lines are done, save the image buffer as image.bmp or whatever, and save the code for another day.\n\nIt\u0027d be a fun learning experience ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T20:48:09Z","Content":"Ok folks, seems like I just need to get round to Learning a programming language.\n\nThanks."},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-08-13T20:49:37Z","Content":"\u003E \n\u003E The size of the image should be the same as the array.\n\u003E The 0 to 255 is because those are the shades of grey in bmp.\n\nAh, well, download Gimp, its a free image editor. Create new image 255x255 and use the gradient fill tool. Set from pure white to pure black and it\u0027ll fill in all the in between shades for you."},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:01:53Z","Content":"Well, you could take that array and load it up into a *Basic* program ([QB64](http://www.qb64.net/) for example [*{documentation}*](http://www.qb64.net/wiki/index.php/Keyword_Reference_-_Alphabetical), or any other language you have access to/proficiency in for that matter), and create an image array (SCREEN and/or \\_NEWIMAGE command) and PSET the gray-scale decimal values into that image array ... then just have *Basic* write the array out as a BMP file (SAVEIMAGE command).\n\nFor [reference](https://en.wikipedia.org/wiki/BMP_file_format).\n\n- - - Updated - - -\n\nBy the way, what is this \u0027grid\u0027 stored/created with?"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T21:26:02Z","Content":"\u003E \n\u003E Well, you could take that array and load it up into a *Basic* program ([QB64](http://www.qb64.net/) for example [*{documentation}*](http://www.qb64.net/wiki/index.php/Keyword_Reference_-_Alphabetical), or any other language you have access to/proficiency in for that matter), and create an image array (SCREEN and/or \\_NEWIMAGE command) and PSET the gray-scale decimal values into that image array ... then just have *Basic* write the array out as a BMP file (SAVEIMAGE command).\n\u003E For [reference](https://en.wikipedia.org/wiki/BMP_file_format).\n\u003E \n\u003E - - - Updated - - -\n\u003E \n\u003E By the way, what is this \u0027grid\u0027 stored/created with?\n\nBasic can do that now? Neat-o. I really need to get my paws dirty again."},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:35:10Z","Content":"\u003E \n\u003E Basic can do that now? Neat-o. I really need to get my paws dirty again.\n\nYes. Actually, Basic has been able to read/write BMP files pretty much right from the beginning... the BLOAD and BSAVE commands."},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T21:38:56Z","Content":"\u003E \n\u003E Yes. Actually, Basic has been able to read/write BMP files pretty much right from the beginning... the BLOAD and BSAVE commands.\n\nI wish I had known that when I was 14. My horrible interpretation of Pong would have looked so much better ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:51:48Z","Content":"\u003E \n\u003E I wish I had known that when I was 14. My horrible interpretation of Pong would have looked so much better ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nThere were plenty of nifty things one could do with a BLOAD command, like define an array in memory and load the contents of a file into it... the file contents were an assembly subroutine, in binary, where you\u0027d then define the location of the start of that variable in memory (VARPTR), use a DEF SEG statement to initialize a pointer to that segment of memory, and then jump (CALL) that subroutine. That\u0027s how we used to make Basic \u0027fast\u0027. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n**Edited \u003Ctime datetime=\u00222015-08-13T21:55:46Z\u0022 title=\u002208/13/2015 09:55  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 13, 2015\u003C/time\u003E by LordFerret**"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T22:26:50Z","Content":"\u003E \n\u003E There were plenty of nifty things one could do with a BLOAD command, like define an array in memory and load the contents of a file into it... the file contents were an assembly subroutine, in binary, where you\u0027d then define the location of the start of that variable in memory (VARPTR), use a DEF SEG statement to initialize a pointer to that segment of memory, and then jump (CALL) that subroutine. That\u0027s how we used to make Basic \u0027fast\u0027. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nYeah, I was more of the *young and ambitious but without any actual knowledge or skills* type ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-14T18:49:33Z","Content":"Hi, imageJ does what I need. Thanks for suggestions."},{"CreatedByName":"robopilot99","CreatedById":102126,"CreatedDateTime":"2015-08-16T03:12:19Z","Content":"Where exactly did you get this big array of numbers?"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-16T05:58:31Z","Content":"I generated them using maths."},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2015-08-16T17:18:42Z","Content":"learn the tga header. its only 18 bytes and can be used to generate tga files from scratch with a hex editor. you will of course need to convert your numbers to hex. \n\n    \t0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, //no modification\t0x00, 0x00, 0x00, 0x00, 0x40, 0x01, 0xf0, 0x00, //last four bytes here are width and height, 2 bytes each (little endian i think)\t0x18, 0x00 //these two are bit depth (codes, not actual values), 16 bit = 0x10 0x01, 24 bit = 0x18 0x00, 32 bit = 0x20 0x08\t//follow up with width*height*(bpp/8) bytes of data, not sure color order but i think its something weird like BRG (for grey pick 24 bit and just repeat each value 3x)\n\ni was using this technique to dump the framebuffer on a software rendering engine i was working on. i just manually created the header for the type of file i was writing and stuck it in a byte array, then when i wrote the file i would just output the header followed by the raw data and close the file, you could then open it in photoshop or whatever. lots of graphics software that is not ms paint can open tga.\n\n**Edited \u003Ctime datetime=\u00222015-08-16T17:32:11Z\u0022 title=\u002208/16/2015 05:32  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 16, 2015\u003C/time\u003E by Nuke**"}]}