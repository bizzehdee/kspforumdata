{"TopicId":118393,"ForumId":18,"TopicTitle":"Txt and bmp conversion","CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:20:41Z","PageNum":1,"Articles":[{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:20:41Z","Content":"\n\u003Cp\u003EHi!\u003C/p\u003E\u003Cp\u003Esomeone must know what i need to do.\u003C/p\u003E\u003Cp\u003EI have a large grid of numbers between 1 and 255 and i\u0027d like each number to be a pixel in a bitmap.\u003C/p\u003E\u003Cp\u003Ecan this easily be done?\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003ERBS.\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-08-13T19:30:24Z","Content":"\n\u003Cp\u003ENot sure what you mean here... You want a 255x255 image?\u003C/p\u003E\n"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T19:41:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xtoro\u0022 data-cite=\u0022xtoro\u0022\u003E\u003Cdiv\u003ENot sure what you mean here... You want a 255x255 image?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe size of the image should be the same as the array.\u003C/p\u003E\u003Cp\u003EThe 0 to 255 is because those are the shades of grey in bmp.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T19:51:35Z","Content":"\n\u003Cp\u003EI have been looking into .bmp standards a while back, but got bogged down in versions and varieties fairly quickly. It is not as straightforward as you would think.\u003C/p\u003E\u003Cp\u003EThen again, I tried to do it all myself, maybe that there are some nifty libraries to help you with this.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2015-08-13T20:12:30Z","Content":"\n\u003Cp\u003EThis could be done, though it\u0027d take some work unless this grid is a standard format and there\u0027s already software designed to handle it, in that case google it up \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf not then you\u0027ll have to write something yourself, if you\u0027re a programmer great!, if not then you\u0027ll need to pick something easy to learn.\u003C/p\u003E\u003Cp\u003EYou\u0027d first want to open the file, read each line into cells of an array until the end of the file and create an image buffer big enough to hold the pic, height will be the same as the number of lines in your grid, width would equal the number of values in a line.\u003C/p\u003E\u003Cp\u003EYou\u0027ll then need to parse each line, if the values are separated by spaces you\u0027d check each character until you found a space, convert the characters before the space to an integer and draw a pixel with that value to x=0 and y=0, add 1 to x, make the current position in the line the new start position, read forwards to the next space, convert it and then draw another pixel.\u003C/p\u003E\u003Cp\u003EOnce you\u0027re done with a line, add 1 to y and then parse the next line/cell in your array, \u0022for\u0022 loops are good for this.\u003C/p\u003E\u003Cp\u003EAnd after all the lines are done, save the image buffer as image.bmp or whatever, and save the code for another day.\u003C/p\u003E\u003Cp\u003EIt\u0027d be a fun learning experience \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-13T20:48:09Z","Content":"\n\u003Cp\u003EOk folks, seems like I just need to get round to Learning a programming language.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n"},{"CreatedByName":"xtoro","CreatedById":79015,"CreatedDateTime":"2015-08-13T20:49:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rockbloodystar\u0022 data-cite=\u0022rockbloodystar\u0022\u003E\u003Cdiv\u003EThe size of the image should be the same as the array.\u003Cp\u003EThe 0 to 255 is because those are the shades of grey in bmp.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, well, download Gimp, its a free image editor. Create new image 255x255 and use the gradient fill tool. Set from pure white to pure black and it\u0027ll fill in all the in between shades for you.\u003C/p\u003E\n"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:01:53Z","Content":"\n\u003Cp\u003EWell, you could take that array and load it up into a \u003Cem\u003EBasic\u003C/em\u003E program (\u003Ca href=\u0022http://www.qb64.net/\u0022 rel=\u0022external nofollow\u0022\u003EQB64\u003C/a\u003E for example \u003Ca href=\u0022http://www.qb64.net/wiki/index.php/Keyword_Reference_-_Alphabetical\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E{documentation}\u003C/span\u003E\u003C/em\u003E\u003C/a\u003E, or any other language you have access to/proficiency in for that matter), and create an image array (SCREEN and/or _NEWIMAGE command) and PSET the gray-scale decimal values into that image array ... then just have \u003Cem\u003EBasic\u003C/em\u003E write the array out as a BMP file (SAVEIMAGE command).\u003C/p\u003E\u003Cp\u003EFor \u003Ca href=\u0022https://en.wikipedia.org/wiki/BMP_file_format\u0022 rel=\u0022external nofollow\u0022\u003Ereference\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EBy the way, what is this \u0027grid\u0027 stored/created with?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T21:26:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LordFerret\u0022 data-cite=\u0022LordFerret\u0022\u003E\u003Cdiv\u003EWell, you could take that array and load it up into a \u003Cem\u003EBasic\u003C/em\u003E program (\u003Ca href=\u0022http://www.qb64.net/\u0022 rel=\u0022external nofollow\u0022\u003EQB64\u003C/a\u003E for example \u003Ca href=\u0022http://www.qb64.net/wiki/index.php/Keyword_Reference_-_Alphabetical\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cem\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E{documentation}\u003C/span\u003E\u003C/em\u003E\u003C/a\u003E, or any other language you have access to/proficiency in for that matter), and create an image array (SCREEN and/or _NEWIMAGE command) and PSET the gray-scale decimal values into that image array ... then just have \u003Cem\u003EBasic\u003C/em\u003E write the array out as a BMP file (SAVEIMAGE command).\u003Cp\u003EFor \u003Ca href=\u0022https://en.wikipedia.org/wiki/BMP_file_format\u0022 rel=\u0022external nofollow\u0022\u003Ereference\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EBy the way, what is this \u0027grid\u0027 stored/created with?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasic can do that now? Neat-o. I really need to get my paws dirty again.\u003C/p\u003E\n"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:35:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EBasic can do that now? Neat-o. I really need to get my paws dirty again.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes. Actually, Basic has been able to read/write BMP files pretty much right from the beginning... the BLOAD and BSAVE commands.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T21:38:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LordFerret\u0022 data-cite=\u0022LordFerret\u0022\u003E\u003Cdiv\u003EYes. Actually, Basic has been able to read/write BMP files pretty much right from the beginning... the BLOAD and BSAVE commands.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI wish I had known that when I was 14. My horrible interpretation of Pong would have looked so much better \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"LordFerret","CreatedById":111598,"CreatedDateTime":"2015-08-13T21:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EI wish I had known that when I was 14. My horrible interpretation of Pong would have looked so much better \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere were plenty of nifty things one could do with a BLOAD command, like define an array in memory and load the contents of a file into it... the file contents were an assembly subroutine, in binary, where you\u0027d then define the location of the start of that variable in memory (VARPTR), use a DEF SEG statement to initialize a pointer to that segment of memory, and then jump (CALL) that subroutine. That\u0027s how we used to make Basic \u0027fast\u0027. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-13T21:55:46Z\u0022 title=\u002208/13/2015 09:55  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 13, 2015\u003C/time\u003E by LordFerret\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2015-08-13T22:26:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LordFerret\u0022 data-cite=\u0022LordFerret\u0022\u003E\u003Cdiv\u003EThere were plenty of nifty things one could do with a BLOAD command, like define an array in memory and load the contents of a file into it... the file contents were an assembly subroutine, in binary, where you\u0027d then define the location of the start of that variable in memory (VARPTR), use a DEF SEG statement to initialize a pointer to that segment of memory, and then jump (CALL) that subroutine. That\u0027s how we used to make Basic \u0027fast\u0027. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, I was more of the \u003Cem\u003Eyoung and ambitious but without any actual knowledge or skills\u003C/em\u003E type \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-14T18:49:33Z","Content":"\n\u003Cp\u003EHi, imageJ does what I need. Thanks for suggestions.\u003C/p\u003E\n"},{"CreatedByName":"robopilot99","CreatedById":102126,"CreatedDateTime":"2015-08-16T03:12:19Z","Content":"\n\u003Cp\u003EWhere exactly did you get this big array of numbers?\u003C/p\u003E\n"},{"CreatedByName":"rockbloodystar","CreatedById":59828,"CreatedDateTime":"2015-08-16T05:58:31Z","Content":"\n\u003Cp\u003EI generated them using maths.\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2015-08-16T17:18:42Z","Content":"\n\u003Cp\u003Elearn the tga header. its only 18 bytes and can be used to generate tga files from scratch with a hex editor. you will of course need to convert your numbers to hex. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, //no modification\u003Cbr\u003E\t0x00, 0x00, 0x00, 0x00, 0x40, 0x01, 0xf0, 0x00, //last four bytes here are width and height, 2 bytes each (little endian i think)\u003Cbr\u003E\t0x18, 0x00 //these two are bit depth (codes, not actual values), 16 bit = 0x10 0x01, 24 bit = 0x18 0x00, 32 bit = 0x20 0x08\u003Cbr\u003E\t//follow up with width*height*(bpp/8) bytes of data, not sure color order but i think its something weird like BRG (for grey pick 24 bit and just repeat each value 3x)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ei was using this technique to dump the framebuffer on a software rendering engine i was working on. i just manually created the header for the type of file i was writing and stuck it in a byte array, then when i wrote the file i would just output the header followed by the raw data and close the file, you could then open it in photoshop or whatever. lots of graphics software that is not ms paint can open tga.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-16T17:32:11Z\u0022 title=\u002208/16/2015 05:32  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 16, 2015\u003C/time\u003E by Nuke\u003C/strong\u003E\n\u003C/span\u003E\n"}]}