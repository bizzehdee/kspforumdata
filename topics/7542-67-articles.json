{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":67,"Articles":[{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-04-29T18:52:42Z","Content":"\n\u003Cp\u003EI get this error when using that function.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[EXC 13:52:11.968] MissingMethodException: Method not found: \u0027System.Type.op_Inequality\u0027.\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-04-29T20:39:04Z","Content":"\n\u003Cp\u003EOdd, should work since I pulled that code right out of Contract Configurator. If I had to guess I\u0027d say you need to change your settings to compile against .net 3.5\u003C/p\u003E\u003Cp\u003EEDIT: Yeah, quick google search seems to imply it\u0027s a framework version issue. Compile against 3.5 and you should be golden.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-29T21:03:52Z\u0022 title=\u002204/29/2015 09:03  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 29, 2015\u003C/time\u003E by nightingale\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LordFjord","CreatedById":97341,"CreatedDateTime":"2015-04-30T11:27:22Z","Content":"\n\u003Cp\u003EA small question:\u003C/p\u003E\u003Cp\u003EHow can I access the functions that are used by the Debug Menu (alt-F12) from a plugin?\u003C/p\u003E\u003Cp\u003ETo be more specific, I am trying to find \u0022toggle heat overlay display\u0022. I want to relocate that handy function to a bound key...\u003C/p\u003E\u003Cp\u003ESo I can quickly toggle the display with a single keystroke.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-04-30T15:13:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EOdd, should work since I pulled that code right out of Contract Configurator. If I had to guess I\u0027d say you need to change your settings to compile against .net 3.5\u003Cp\u003EEDIT: Yeah, quick google search seems to imply it\u0027s a framework version issue. Compile against 3.5 and you should be golden.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow do I get 3.5 on a Mac?\u003C/p\u003E\u003Cp\u003EEdit: Just tried a different IDE, it has 3.1 or 4.0, which is correct?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-30T15:19:35Z\u0022 title=\u002204/30/2015 03:19  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by Robotengineer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-01T02:35:19Z","Content":"\n\u003Cp\u003E4.0 is definitely wrong. 3.1 sounds closer, but now I\u0027m worried you\u0027re looking at something else...\u003C/p\u003E\u003Cp\u003EFrom what I\u0027ve heard, \u003Ca href=\u0022http://www.monodevelop.com/\u0022 rel=\u0022external nofollow\u0022\u003EMonoDevelop\u003C/a\u003E is the tool of choice for .net work in Mac or Linux. That being said, it\u0027s the mono framework that is limited to 3.5 - so if you use MonoDevelop you shouldn\u0027t have any issues (not speaking from experience though).\u003C/p\u003E\n"},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-05-01T18:22:51Z","Content":"\n\u003Cp\u003EWould it be possible to make a module to allow multiple control surfaces on a part that work independently? The reason I ask is because I am making a large wing that is mounted on top of a plane with control surfaces on each side as the control surfaces are on opposite sides of the plane they need to work individually but with stock you can only have one control surface. Thanks.\u003C/p\u003E\n"},{"CreatedByName":"Robotengineer","CreatedById":104525,"CreatedDateTime":"2015-05-01T18:51:50Z","Content":"\n\u003Cp\u003EHow do I prevent a variable from being reassigned every time OnGUI runs?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eforeach(type t in ContractSystem.ContractTypes)\u003Cbr\u003E{\u003Cbr\u003E     ...\u003Cbr\u003E     x = GUILayout.SelectionGrid(x, ..buttonstuff...)\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf I assign x outside of the method, all of the buttons change to the same thing, but if I assign it inside the method, it resets itself every time it updates. What should I do?\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2015-05-01T19:07:30Z","Content":"\n\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evar y = x\u003Cbr\u003Eforeach(type t in ContractSystem.ContractTypes)\u003Cbr\u003E{\u003Cbr\u003E     ...\u003Cbr\u003E     y = GUILayout.SelectionGrid(y, ..buttonstuff...)\u003Cbr\u003E}\u003Cbr\u003Eif (x != y )\u003Cbr\u003E   x = y\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EReally fancy, I know\u003C/p\u003E\n"},{"CreatedByName":"jandcando","CreatedById":66121,"CreatedDateTime":"2015-05-02T01:15:41Z","Content":"\n\u003Cp\u003ECan I use the code\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eif (part.Modules[\u0022ModuleLiftingSurface\u0022] != null){ \u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eto only proceed if the part running this module ALSO contains the ModuleLiftingSurface?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-05-02T02:18:03Z","Content":"\n\u003Cp\u003EUse if(part.Modules.Contains(\u0022ModuleLiftingSurface\u0022) {}\u003C/p\u003E\n"},{"CreatedByName":"jandcando","CreatedById":66121,"CreatedDateTime":"2015-05-02T02:30:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EUse if(part.Modules.Contains(\u0022ModuleLiftingSurface\u0022) {}\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, thanks.\u003C/p\u003E\n"},{"CreatedByName":"JoePatrick1","CreatedById":104094,"CreatedDateTime":"2015-05-02T18:16:32Z","Content":"\n\u003Cp\u003EI am very new to writing plugins and I am trying to make it so that I can control an animation linked to my part. I have spent ages searching through old posts and such but still cant find an answer. Below is my code and I have highlighted the parts where I am trying to control the animation to hopefully make it easier to understand. Thanks\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003E\u003Cbr\u003Enamespace BalloonModule\u003Cbr\u003E{\u003Cbr\u003E\tpublic class BalloonModule : PartModule\u003Cbr\u003E\t{\u003Cbr\u003E\t\t[B][COLOR=\u0022#000080\u0022][KSPField(isPersistant = false)]\u003Cbr\u003E\t\tpublic string inflateAnimation = \u0022inflate\u0022;\u003Cbr\u003E\u003Cbr\u003E\t\tpublic Animation anim;[/COLOR][/B]\u003Cbr\u003E\u003Cbr\u003E\t\t[KSPField(isPersistant = false)]\u003Cbr\u003E\t\tpublic float burstAtmoPressure = 0;\u003Cbr\u003E\u003Cbr\u003E\t\t[KSPField(isPersistant = false)]\u003Cbr\u003E\t\tpublic float maxBalloonLift = 0;\u003Cbr\u003E\u003Cbr\u003E\t\tpublic float balloonLift = 0;\u003Cbr\u003E\t\tpublic bool isInflated = false;\u003Cbr\u003E\u003Cbr\u003E\t\tpublic override void OnStart(StartState state)\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tDebug.Log(\u0022Weather Balloons Mod Loaded!\u0022);\u003Cbr\u003E\t\t\t[B]anim = this.vessel.GetComponent(inflateAnimation);[/B]\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\tpublic override void OnUpdate()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tDebug.Log(\u0022Balloon Lift: \u0022 \u002B balloonLift);\u003Cbr\u003E\t\t\tif(isInflated)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tif (balloonLift \u0026lt; maxBalloonLift)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tballoonLift \u002B= 0.01f * maxBalloonLift;\u003Cbr\u003E\t\t\t\t\tif (balloonLift \u0026gt; maxBalloonLift - 0.01) balloonLift = maxBalloonLift;\u003Cbr\u003E\t\t\t\t\t[B][COLOR=\u0022#000080\u0022]anim.normalizedTime = (balloonLift/maxBalloonLift)/2;[/COLOR][/B]\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t\tfloat pressureCountdown = (float)FlightGlobals.getStaticPressure() - burstAtmoPressure;\u003Cbr\u003E\t\t\t\t[B][COLOR=\u0022#000080\u0022]float animTime = 0.5f -(0.005f*pressureCountdown);\u003Cbr\u003E\t\t\t\tanim.normalizedTime = animTime;[/COLOR][/B]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tthis.rigidbody.AddForce(vessel.upAxis * balloonLift);\u003Cbr\u003E\t\t\t\tif (FlightGlobals.getStaticPressure() \u0026lt;= burstAtmoPressure)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tDebug.Log(\u0022Balloon has Burst!\u0022);\u003Cbr\u003E\t\t\t\t\tballoonLift = balloonLift * 0.2f;\u003Cbr\u003E\t\t\t\t\tdeflateBalloon();\u003Cbr\u003E\t\t\t\t}\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\telse if (!isInflated \u0026amp;\u0026amp; balloonLift \u0026gt; 0)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tballoonLift -= 0.01f * maxBalloonLift;\u003Cbr\u003E\t\t\t\tif (balloonLift \u0026lt; 0.01) balloonLift = 0;\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t[KSPEvent(active = true, guiActive = true, guiActiveEditor = false, guiActiveUnfocused = false, guiName = \u0022Inflate Balloon\u0022)]\u003Cbr\u003E\t\tpublic void inflateBalloon()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tif (FlightGlobals.getStaticPressure() \u0026gt; 0)\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tDebug.Log(\u0022Inflating Balloon!\u0022);\u003Cbr\u003E\t\t\t\tisInflated = true;\u003Cbr\u003E\t\t\t\tEvents[\u0022inflateBalloon\u0022].active = false;\u003Cbr\u003E\t\t\t\tEvents[\u0022deflateBalloon\u0022].active = true;\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t\telse\u003Cbr\u003E\t\t\t{\u003Cbr\u003E\t\t\t\tScreenMessages.PostScreenMessage(\u0022Cannot inflate balloon in vacuum\u0022, 3, ScreenMessageStyle.UPPER_CENTER);\u003Cbr\u003E\t\t\t}\u003Cbr\u003E\t\t}\u003Cbr\u003E\u003Cbr\u003E\t\t[KSPEvent(active = false, guiActive = true, guiActiveEditor = false, guiActiveUnfocused = false, guiName = \u0022Deflate Balloon\u0022)]\u003Cbr\u003E\t\tpublic void deflateBalloon()\u003Cbr\u003E\t\t{\u003Cbr\u003E\t\t\tDebug.Log(\u0022Deflating Balloon!\u0022);\u003Cbr\u003E\t\t\tEvents[\u0022deflateBalloon\u0022].active = false;\u003Cbr\u003E\t\t\tisInflated = false;\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"problemecium","CreatedById":101649,"CreatedDateTime":"2015-05-02T22:59:17Z","Content":"\n\u003Cp\u003EQuick question I don\u0027t see answered in any of the obvious places:\u003C/p\u003E\u003Cp\u003EIf I have a company that manufactures my add-on parts, and I want them to have an icon in the editors\u0027 parts menu, but I DON\u0027T want them to offer contracts, how can I disable contracts from a particular agency? Or is making an agency the wrong thing to do in the first place?\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-05-02T23:14:51Z","Content":"\n\u003Cp\u003EThe editor will auto generate a category for every different manufacturer listed in the part .cfg\u0027s in GameData. No need to list an agency, just make the \u0022manufacturer = \u0022 line in your parts the name you want. If you want it to have a proper icon, you\u0027ll need a plugin to load it (either your own, or through Filter Extensions)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-02T23:17:19Z\u0022 title=\u002205/02/2015 11:17  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 2, 2015\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-03T07:49:56Z","Content":"\n\u003Cp\u003EHey all, quick and hopefully simple question;\u003C/p\u003E\u003Cp\u003EI\u0027m creating a PartModule, a single class with a field called \u0022Manageable\u0022; in the config file this is set to true, so my module definition looks as described below.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    Name = KSP_Manager\u003Cbr\u003E    Manageable = true\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ENow, I can loop through the parts and find each one that uses the defined module just fine; but how do I find the part that has \u0022Manageable\u0022 set to true? I was under the impression that you\u0027d do something like below.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPart currentPart = (Part)vesselParts[i];\u003Cbr\u003E\u003Cbr\u003Eif (bool.Parse(currentPart.Modules[\u0022KSP_Manager\u0022].Fields.GetValue(\u0022Manageable\u0022).ToString()))\u003Cbr\u003E{\u003Cbr\u003E    // Stuff.\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAny help is much appreciated, thank you.\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2015-05-03T09:56:28Z","Content":"\n\u003Cp\u003EIIRC you would need to tag Manageable with [KSPField] and it needs to be public (\u003Ca href=\u0022https://github.com/Crzyrndm/Thermal-Monitor/blob/master/Thermal%20Monitor/Thermal%20Monitor/Thermal%20Monitor.cs\u0022 rel=\u0022external nofollow\u0022\u003Esee this simple example\u003C/a\u003E). Alternatively, since you are likely doing this from inside the same plugin, you can cast it to the correct type and access values that way (it still needs to be public)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E((KSP_Manager)currentPart.Modules[\u0022KSP_Manager\u0022]).Manageable\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-03T11:41:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003EIIRC you would need to tag Manageable with [KSPField] and it needs to be public (\u003Ca href=\u0022https://github.com/Crzyrndm/Thermal-Monitor/blob/master/Thermal%20Monitor/Thermal%20Monitor/Thermal%20Monitor.cs\u0022 rel=\u0022external nofollow\u0022\u003Esee this simple example\u003C/a\u003E). Alternatively, since you are likely doing this from inside the same plugin, you can cast it to the correct type and access values that way (it still needs to be public)\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E((KSP_Manager)currentPart.Modules[\u0022KSP_Manager\u0022]).Manageable\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for this, works as intended.\u003C/p\u003E\n"},{"CreatedByName":"Dexter9313","CreatedById":84598,"CreatedDateTime":"2015-05-03T20:43:01Z","Content":"\n\u003Cp\u003EHi ! I am helping Tabakhase with his mod \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/67450-WIP-IVA-PLUGIN-ProbeControlRoom-1-0-beta8a-IVA-All-the-things!-new-3D-RPM-17\u0022 rel=\u0022external nofollow\u0022\u003EProbeControlRoom\u003C/a\u003E and we are trying to shut aero/ship sound while in IVA. I figured a way by setting GameSettings.SHIP_VOLUME and GameSettings.AMBIENCE_VOLUME to 0 in the plugin code and restoring them when getting out of IVA.\u003C/p\u003E\u003Cp\u003EBefore that, we wanted to stop IVA camera wobbles and we succeeded this way (GameSettings.FLT_CAMERA_WOBBLES = 0) but unfortunately it doesn\u0027t seem to work as good for sound.\u003C/p\u003E\u003Cp\u003EActually, it would work if it wasn\u0027t for a thing : for changes to happen, I have to pause the game and go to in game settings. I don\u0027t have to modify anything, I go there, I quit settings, I unpause then sound is as it should be (as I programmed it to be at least).\u003C/p\u003E\u003Cp\u003ESurprisingly enough, it doesn\u0027t happen for the camera so I\u0027m a bit confused.\u003C/p\u003E\u003Cp\u003ESo here are my questions :\u003C/p\u003E\u003Cp\u003EIs there a way to make the game apply game settings for sure ?\u003C/p\u003E\u003Cp\u003EIs there a cleaner way than modifying GameSettings.SHIP_VOLUME and GameSettings.AMBIENCE_VOLUME to shut those two sound groups ?\u003C/p\u003E\u003Cp\u003EMy modifications to the mod are here : \u003Ca href=\u0022https://github.com/tabakhase/KSP-ProbeControlRoom/pull/2\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/tabakhase/KSP-ProbeControlRoom/pull/2\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou\u0027d make my day if you could answer that ! Thanks in advance.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-03T20:46:22Z\u0022 title=\u002205/03/2015 08:46  PM\u0022 data-short=\u00229 yr\u0022\u003EMay 3, 2015\u003C/time\u003E by Dexter9313\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"LordFjord","CreatedById":97341,"CreatedDateTime":"2015-05-04T05:41:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022LordFjord\u0022 data-cite=\u0022LordFjord\u0022\u003E\u003Cdiv\u003EA small question:\u003Cp\u003EHow can I access the functions that are used by the Debug Menu (alt-F12) from a plugin?\u003C/p\u003E\u003Cp\u003ETo be more specific, I am trying to find \u0022toggle heat overlay display\u0022. I want to relocate that handy function to a bound key...\u003C/p\u003E\u003Cp\u003ESo I can quickly toggle the display with a single keystroke.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESquad added exactly what I wanted to do in 1.0.1. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"parachutingturtle","CreatedById":113739,"CreatedDateTime":"2015-05-04T14:15:55Z","Content":"\n\u003Cp\u003EHello, I have a quick question:\u003C/p\u003E\u003Cp\u003Eis it possible to make a vessel uncontrollable in a way that the player can\u0027t even switch to it / \u0022fly\u0022 it?\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T18:55:23Z","Content":"\n\u003Cp\u003EHey all, me again. \u003C/p\u003E\u003Cp\u003EIs it possible to access a modules kspfield value if that module is proto, accessed from a protopart within a protovessel?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-04T19:38:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022udk_lethal_d0se\u0022 data-cite=\u0022udk_lethal_d0se\u0022\u003E\u003Cdiv\u003EHey all, me again. \u003Cp\u003EIs it possible to access a modules kspfield value if that module is proto, accessed from a protopart within a protovessel?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf the field is persistent then I think you can access it from protoPartSnapshots.modules.moduleValues (the snapshots and modules are both IEnumerables, so you\u0027ll need to sort out which one you want). That gives you a ConfigNode, I think it\u0027s the same as what gets added to the save file for each PartModule.\u003C/p\u003E\u003Cp\u003EIf the field isn\u0027t persistent the only way I know of is to get the part\u0027s config file through the protoPartSnapshot.partInfo.partConfig, then grab the right value. \u003C/p\u003E\u003Cp\u003EThis is how I\u0027m handling it:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\t\t\tvar scanners = from pref in vessel.protoVessel.protoPartSnapshots\u003Cbr\u003E\t\t\t\t\t\t\t   where pref.modules.Any(a =\u0026gt; a.moduleName == \u0022ModuleResourceScanner\u0022)\u003Cbr\u003E\t\t\t\t\t\t\t   select pref;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tif (scanners.Count() == 0)\u003Cbr\u003E\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tforeach (var p in scanners)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tif (p.partInfo == null)\u003Cbr\u003E\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tConfigNode node = p.partInfo.partConfig;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tif (node == null)\u003Cbr\u003E\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tvar moduleNodes = from nodes in node.GetNodes(\u0022MODULE\u0022)\u003Cbr\u003E\t\t\t\t\t\t\t\t\t  where nodes.GetValue(\u0022name\u0022) == \u0022ModuleResourceScanner\u0022\u003Cbr\u003E\t\t\t\t\t\t\t\t\t  select nodes;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tforeach (ConfigNode moduleNode in moduleNodes)\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tif (moduleNode == null)\u003Cbr\u003E\t\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\tif (moduleNode.HasValue(\u0022MaxAbundanceAltitude\u0022))\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tstring alt = moduleNode.GetValue(\u0022MaxAbundanceAltitude\u0022);\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"udk_lethal_d0se","CreatedById":62149,"CreatedDateTime":"2015-05-04T19:46:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EIf the field is persistent then I think you can access it from protoPartSnapshots.modules.moduleValues (the snapshots and modules are both IEnumerables, so you\u0027ll need to sort out which one you want). That gives you a ConfigNode, I think it\u0027s the same as what gets added to the save file for each PartModule.\u003Cp\u003EIf the field isn\u0027t persistent the only way I know of is to get the part\u0027s config file through the protoPartSnapshot.partInfo.partConfig, then grab the right value. \u003C/p\u003E\u003Cp\u003EThis is how I\u0027m handling it:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\t\t\t\tvar scanners = from pref in vessel.protoVessel.protoPartSnapshots\u003Cbr\u003E\t\t\t\t\t\t\t   where pref.modules.Any(a =\u0026gt; a.moduleName == \u0022ModuleResourceScanner\u0022)\u003Cbr\u003E\t\t\t\t\t\t\t   select pref;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tif (scanners.Count() == 0)\u003Cbr\u003E\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\tforeach (var p in scanners)\u003Cbr\u003E\t\t\t\t{\u003Cbr\u003E\t\t\t\t\tif (p.partInfo == null)\u003Cbr\u003E\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tConfigNode node = p.partInfo.partConfig;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tif (node == null)\u003Cbr\u003E\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tvar moduleNodes = from nodes in node.GetNodes(\u0022MODULE\u0022)\u003Cbr\u003E\t\t\t\t\t\t\t\t\t  where nodes.GetValue(\u0022name\u0022) == \u0022ModuleResourceScanner\u0022\u003Cbr\u003E\t\t\t\t\t\t\t\t\t  select nodes;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\tforeach (ConfigNode moduleNode in moduleNodes)\u003Cbr\u003E\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\tif (moduleNode == null)\u003Cbr\u003E\t\t\t\t\t\t\tcontinue;\u003Cbr\u003E\u003Cbr\u003E\t\t\t\t\t\tif (moduleNode.HasValue(\u0022MaxAbundanceAltitude\u0022))\u003Cbr\u003E\t\t\t\t\t\t{\u003Cbr\u003E\t\t\t\t\t\t\tstring alt = moduleNode.GetValue(\u0022MaxAbundanceAltitude\u0022);\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks DMagic, I\u0027ll give that a try in a bit.\u003C/p\u003E\n"},{"CreatedByName":"TheMoonRover","CreatedById":136199,"CreatedDateTime":"2015-05-04T19:52:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022parachutingturtle\u0022 data-cite=\u0022parachutingturtle\u0022\u003E\u003Cdiv\u003EHello, I have a quick question:\u003Cp\u003Eis it possible to make a vessel uncontrollable in a way that the player can\u0027t even switch to it / \u0022fly\u0022 it?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have no idea how it would be done code-wise, but you could set the vessel to be unowned (like asteroids). I think there\u0027s a parameter for that in VESSEL{} in persistent.sfs\u003C/p\u003E\n"},{"CreatedByName":"Slother","CreatedById":142925,"CreatedDateTime":"2015-05-04T20:36:35Z","Content":"\n\u003Cp\u003EIs it possible to load a ConfigNode directly from a string without writing it to a file first?\u003C/p\u003E\u003Cp\u003EA ConfigNode can be serialized to a string using the ToString() overload, but I can\u0027t seem to find the proper method to reverse that.\u003C/p\u003E\u003Cp\u003EThe only method I found is ConfigNode.Load(string fullFileName), which reads it back from a file.\u003C/p\u003E\n"}]}