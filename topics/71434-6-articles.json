{"TopicId":71434,"ForumId":69,"TopicTitle":"FIX: Dock / Undocking Bug in 0.23.5","CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2014-05-04T21:35:12Z","PageNum":6,"Articles":[{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2015-08-20T11:29:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EI think this is probably the thread you are looking for: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/100286\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/100286\u003C/a\u003E\u003Cp\u003EUnfortunately (or maybe fortunately) I\u0027ve learned that even though a mod \u0022doesn\u0027t touch this aspect\u0022 of the game, software is finicky and often does unexpected things.\u003C/p\u003E\u003Cp\u003EFor example, I just created a fix for the \u0022launch clamps are following me into space\u0022 problem. This problem isn\u0027t really a stock bug, so much as stocks reaction to another bug that has to do with modeling and collision boxes. The game is doing exactly what it\u0027s supposed to, it appears that the launch clamps themselves aren\u0027t set up properly.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E~Claw\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI am prepared to be wrong any time of day, so you know, go that covered. I.T. is after all a pretty arcane and bizarre world! I think for now I\u0027ll just leave the timebomb in orbit and play around it, hoping I find a way to fix it. And if push comes to shove... well, I can deorbit it, and with enough chutes...\u003C/p\u003E\u003Cp\u003EAnyhow, I\u0027ve installed your klaw fix, so if I find any changes in the bug behaviour (the way I use Klaw Pods, it\u0027s bound to happen again), I\u0027ll be sure to let you know. Ditto if I somehow figure out what\u0027s broken on my own.\u003C/p\u003E\u003Cp\u003ERune. The thing that always gets me, is how to get such a bizarre behaviour of such logical systems...\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2015-08-20T19:11:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EThe claw bug hunt was completed a few weeks ago, and that one seems to be successfully squashed. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell what do you know! Installing the Klaw fix apparently managed to fix the whole shebang. Thanks a million! Seriously, your fixes should be like, the most stickied thing on the forums. Keep on rocking!\u003C/p\u003E\u003Cp\u003ERune. SO happy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2015-08-21T11:53:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rune\u0022 data-cite=\u0022Rune\u0022\u003E\u003Cdiv\u003EWell what do you know! Installing the Klaw fix apparently managed to fix the whole shebang. Thanks a million! Seriously, your fixes should be like, the most stickied thing on the forums. Keep on rocking!\u003Cp\u003ERune. SO happy. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECorrection to myself. It stopped \u003Cem\u003Ethe weird camera bug\u003C/em\u003E happening, and allows me to undock everything (which I could already do). Turns out that the \u0022can\u0027t dock afterwards, and undock option still available\u0022 bug is still present with its full force. Just so it might help somebody, tough, I have a good handle on it already: the departing ships, apparently, thinks that it is docked with \u003Cem\u003Eitself\u003C/em\u003E. Just remove any DOCKED VESSEL sub-modules it might have on that port (you will notice it says it is docked to itself), change the status of the port to \u0022Ready\u0022 at the top of the docking module, and any dockUID to 0. Don\u0027t ask me why that happens, tough, the only thing that I can tell you is that something in the station is truly rotten, since it always happens when you dock stuff to it, even freshly-spawned stuff. The fix works every time, though, so I\u0027m going with it.\u003C/p\u003E\u003Cp\u003ERune. I\u0027m getting good at quick savefile edits.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-21T12:12:31Z\u0022 title=\u002208/21/2015 12:12  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 21, 2015\u003C/time\u003E by Rune\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-08-21T18:42:17Z","Content":"\n\u003Cp\u003EAh yeah, the docking port and claw bugs are separate things. Even though I know these docking port bugs happen and I\u0027ve fixed a fair number myself, I still don\u0027t know what triggers them... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rune\u0022 data-cite=\u0022Rune\u0022\u003E\u003Cdiv\u003ERune. I\u0027m getting good at quick savefile edits.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, after some practice it becomes fairly easy. Although it\u0027s a slight bit unfortunate how often it has to happen, it\u0027s nice that it\u0027s often fixable.\u003C/p\u003E\u003Cp\u003ECheers!\u003C/p\u003E\u003Cp\u003E~Claw\u003C/p\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2015-08-21T21:34:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Claw\u0022 data-cite=\u0022Claw\u0022\u003E\u003Cdiv\u003EAh yeah, the docking port and claw bugs are separate things. Even though I know these docking port bugs happen and I\u0027ve fixed a fair number myself, I still don\u0027t know what triggers them... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey might be related, actually. After all, I\u0027m pretty confident I turned that VB station into such a buggy mess by docking stuff that was itself docked to probes with engaged Klaws. Perfect for replicating the undock bug, tough, did you manage to reproduce in your install?\u003C/p\u003E\u003Cp\u003EAnyhow, the way I see it now, the game fumbles on the logic that dictates the new states of the ports after a change (that\u0027s why the undocked ship thinks it has docked to itself). And the Klaws after all have different logic, docking with \u0022only one side\u0022. From my \u0022I actually don\u0027t know how the game does this\u0022, that makes a lot of sense, when the game rebuilds the ships with the new docking modules upon docking, it handles the modules for the Klaws in such a way that it messes up the logic chain for the rest of the modules for the ports in some way that allows \u003Cem\u003Ethat\u003C/em\u003E connection (even tough the camera bugs out and you have to return to the space center view), but will result in corrupted ports when any others undock.\u003C/p\u003E\u003Cp\u003ERune. Maybe that is a direction to look at? Does that make any sense?\u003C/p\u003E\n"},{"CreatedByName":"Mitchz95","CreatedById":82292,"CreatedDateTime":"2015-09-04T18:15:05Z","Content":"\n\u003Cp\u003ESquad does know about these bugs, right? It would be great if they got them fixed for version 1.1.\u003C/p\u003E\n"},{"CreatedByName":"gavman420SSJ","CreatedById":128463,"CreatedDateTime":"2015-09-10T03:56:28Z","Content":"\n\u003Cp\u003Eis this a docking bug or something else? i can launch two crafts separately and leave them in orbit ok. next i dock them and go back to the VAB. when i try to switch back to the docked craft, one of them shoots off into space and the other sticks in orbit at 0m/s\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-09-10T06:56:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022gavman420SSJ\u0022 data-cite=\u0022gavman420SSJ\u0022\u003E\u003Cdiv\u003Eis this a docking bug or something else? i can launch two crafts separately and leave them in orbit ok. next i dock them and go back to the VAB. when i try to switch back to the docked craft, one of them shoots off into space and the other sticks in orbit at 0m/s\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds like something else. I would start a new thread and upload some pics and/or your log file. Sounds like it\u0027s possibly some sort of clipping bug interacting badly with the docking ports, but can\u0027t really say anything for sure without more info.\u003C/p\u003E\u003Cp\u003ECheers,\u003C/p\u003E\u003Cp\u003E~Claw\u003C/p\u003E\n"},{"CreatedByName":"steve_v","CreatedById":69272,"CreatedDateTime":"2015-09-10T07:51:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mitchz95\u0022 data-cite=\u0022Mitchz95\u0022\u003E\u003Cdiv\u003ESquad does know about these bugs, right?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWho knows? Squads feedback on the public bugtracker is minimal at best, and non-existent on these forums. So your guess is as good as mine.\u003C/p\u003E\u003Cp\u003EI\u0027d sure like to see some of these old bugs squashed, but considering the \u00270.23.5\u0027 in the thread title and the fact that this is still a live one, I\u0027m not particularly optimistic.\u003C/p\u003E\n"},{"CreatedByName":"Mitchz95","CreatedById":82292,"CreatedDateTime":"2015-10-08T20:22:03Z","Content":"\n\u003Cp\u003EI\u0027ve got a problem. My ports undock, but the two craft can\u0027t seem to get away from each other. They just stay connected and I can\u0027t pull them apart.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://oi62.tinypic.com/123nxgl.jpg\u0022 alt=\u0022123nxgl.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EPhysically removing the ports with KIS doesn\u0027t fix it either, they just stick together like they\u0027re still connected.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-08T20:32:33Z\u0022 title=\u002210/08/2015 08:32  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 8, 2015\u003C/time\u003E by Mitchz95\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rune","CreatedById":52690,"CreatedDateTime":"2015-10-08T20:45:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mitchz95\u0022 data-cite=\u0022Mitchz95\u0022\u003E\u003Cdiv\u003EI\u0027ve got a problem. My ports undock, but the two craft can\u0027t seem to get away from each other. They just stay connected and I can\u0027t pull them apart.\u003Cp\u003E\u003Ca href=\u0022http://oi62.tinypic.com/123nxgl.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://oi62.tinypic.com/123nxgl.jpg\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPhysically removing the ports with KIS doesn\u0027t fix it either, they just stick together like they\u0027re still connected.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell... I solved my docking port issues by learning to check their status in the savefile, then comparing the situation of functional docking ports, then fixing the bugged ones so they showed the same. Important stuff to look for: the status of the port, the Id of the \u0022docker\u0022 and \u0022dockee\u0022, and the fact that the dockee has a special module telling it what is docked to it. One of those things is bugged out, I\u0027m pretty sure. Hint to find you port in the mess that a savefile is: with the docking alignment indicator mod, you can change the name of a port to something easy to look for. And back up your save!\u003C/p\u003E\u003Cp\u003ERune. That might be a tad complicated, but it\u0027s the best that I\u0027ve got.\u003C/p\u003E\n"},{"CreatedByName":"Mitchz95","CreatedById":82292,"CreatedDateTime":"2015-10-09T01:23:36Z","Content":"\n\u003Cp\u003ETurns out undocking, then going to the space center and back solved the problem. Thanks. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"interface","CreatedById":122370,"CreatedDateTime":"2015-10-11T01:44:17Z","Content":"\n\u003Cp\u003EThanks for the help Claw, got my refinery undocked from my lab \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: I have found that in 1.0.4 I can quicksave, or quicksave using a specific name, leave KSP running and open that save, edit it, load it in KSP, and undock. It has become an easy process using shortcuts, and a frequent one due to using mod docking ports from OPT and B9 that seem to love this bug. No idea if it is common, but my latest SSTO science lab with stock and 2 types of mod docking ports seems to lose ability to undock on every port every time I dock now. Not sure if it part of the fix or the original issue expanding.\u003C/p\u003E\u003Cp\u003EDetails:\u003C/p\u003E\u003Cp\u003EThe SSTO has stock Clampotrons in a cargo bay, 2 B9 surface mount shielded docking ports (the square flat ones), and an OPT J inline docking port which has a Clampotron that extends out of the center of a Clampotron Sr. docking port to make it a dual function port. This is where it started...\u003C/p\u003E\u003Cp\u003EAt first it was just an OPT J inline docking port, which has both Clampotron and Clampotron Sr. docking ports. This one was bugged from docking a clampotron to it. I could click \u0027undock\u0027, retract the OPT J docking port into its shell, and the docked ship would not be selectable \u0027no nearby craft...\u0027. I would find it is still one ship, with the docked ship hanging outside a closed aircraft bay with a docking port retracted inside, as if it had never undocked.\u003C/p\u003E\u003Cp\u003ELooking in the save file, the stock Clampotron docked to the J inline docking port appeared to be assigned to the Clampotron Sr part of the J Port, not the smaller clampotron part it was visually attached to in game. However I used the fix without switching the data fields and it allowed undocking.\u003C/p\u003E\u003Cp\u003EI retracted the Clampotron on the J Port leaving the Clampotron Sr still active, and docked a larger stock Clampotron Sr to the larger docking node and it is bugged as well.\u003C/p\u003E\u003Cp\u003ESo now 2 B9 shielded docking ports on the craft are bugged, they worked fine before I tried to use the J inline port, now they bug out and wont undock. They to will retract the port and leave the docked ship, still docked, hanging in space where the retracted port was before. Fortunately I have streamlined the fix to a few clicks, and I know right where the ports are in the sfs now that I have been there a few times.\u003C/p\u003E\u003Cp\u003EFeels like it has something to do with animation modules... all the ports bugging out on me are using animation for covers. It seems like it propagated as well, to parts that were working previously, possibly through some function of the animation module writing to the sfs? Not sure how this all works, but I got some \u0027gut feelings\u0027 about suspicious circumstances.\u003C/p\u003E\u003Cp\u003ESo, not a huge deal, working around it. For me saving in game, editing that save, and reloading it, do not require exiting the game. So that is all pretty quick. still, when I land the SSTO the crew have voted to burn it next to the runway due to all the hassles \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_ohmy.png\u0022 alt=\u0022:o\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-14T23:36:54Z\u0022 title=\u002210/14/2015 11:36  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 14, 2015\u003C/time\u003E by interface\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"cjdunn","CreatedById":137800,"CreatedDateTime":"2015-12-02T19:46:25Z","Content":"\n\u003Cp\u003E\nSo I\u00A0just got hit with this issue.\u003Cbr\u003E\nThis is in 1.0.5.1028, running Kerbal Engineer Redux, Kerbal Alarm Clock, Docking Alignment and Transfer Window Planner.\n\u003C/p\u003E\n\u003Cp\u003E\nI just launched a massive station (DSS) off to Duna (four attempts) reverting to a save each time. It was mostly about getting the fuel load right.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce I got it out of Kerbin SOI, I did a manual save and then switched back to my space station (KSS) orbiting Kerbin.\u003Cbr\u003E\nI docked the autonomous fuel tank that I had been running between the DSS and KSS and then did a quick save.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd then, I tried to release the grappling drone from the KSS and nothing happened. It was still attached. \u0022Release\u0022 from the contextual menu was gone but it still acted as part of the station.\u00A0\u003Cbr\u003E\nI did a quick load, same.\u003Cbr\u003E\nI restarted KSP, same.\u003Cbr\u003E\nI then decided I would dock with the drone (docking ports on either side of it) and pull it off.\u003Cbr\u003E\nThat\u0027s when I discovered that \u003Cem\u003Eall\u003C/em\u003E docking ports of \u003Cem\u003Eall\u003C/em\u003E the craft docked to the station acted the same. Right-click, \u0022Undock\u0022 and nothing.\u003Cbr\u003E\nI also discovered that my manual save post-DSS launch didn\u0027t actually get saved. Fortunely, I did have one quick save that I\u0027ve been working on to fix this.\n\u003C/p\u003E\n\u003Cp\u003E\nI had never gone into the save files before. So this was a learning experience.\n\u003C/p\u003E\n\u003Cp\u003E\nSearch revealed posts by\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/71434-fix-dock-undocking-bug-in-0235/\u0026amp;page=1\u0022\u003EClaw\u003C/a\u003E and \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/32913-cant-undock-bug-how-to-fix\u0022\u003Eroscoe_jones\u003C/a\u003E regarding the issues in 0.23.5 and 0.24.\n\u003C/p\u003E\n\u003Cp\u003E\nOnce I understood parts of the save file, my problem was simpler.\n\u003C/p\u003E\n\u003Cp\u003E\nThe DSS ports were fine. This was just on the KSS. Every docked pair lost their pairing (\u0022state = Docked (docker)\u0022 \u0026amp; \u0022state = Docked (dockee)\u0022) and reverted to \u0022state = Ready\u0022. The grappling drone\u0027s GrappleNode did the same.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleGrappleNode\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isEnabled = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnabled = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0state = Ready\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0dockUId = 834702479\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0PART\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = dockingPort2\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0cid = 4293320786\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0uid = 3518090815\u00A0\u00A0 \u00A0\u0026lt;- Had to find Part.uid 1565750046 which had MODULE.ModuleDockingNode.dockUId 3518090815 and changed its state to \u0022Docked (dockee)\u0022\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0mid = 3223882772\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0launchID = 144\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0parent = 6\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0position = -2.84053385257721E-07,-2.41715669631958,2.53406381607056\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0rotation = 0.7071052,-0.001546118,0.001546407,-0.7071052\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0mirror = 1,1,1\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0symMethod = Radial\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0istg = 0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0dstg = 0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0sqor = -1\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0sepI = 3\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0sidx = -1\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0attm = 0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0srfN = srfAttach, -1\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0attN = top, -1\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0attN = bottom, 151\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0mass = 0.05\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0temp = 112.390777343596\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tempExt = 112.393421897299\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0tempExtUnexp = 239.754657632191\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0expt = 0.5\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0state = 0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0connected = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0attached = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0flag = Squad/Flags/default\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0rTrf = dockingPort2\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0modCost = 0\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0EVENTS\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0ACTIONS\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0PARTDATA\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0}\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0MODULE\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0{\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0name = ModuleDockingNode\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0isEnabled = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0crossfeed = True\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0stagingEnabled = False\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0state = Docked (docker) \u0026lt;-- Changed from \u0022Ready\u0022\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0dockUId = 1565750046\n\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0dockNodeIdx = 0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nFinding the pairs was the laborious part. Using the crossfeed status change was pointless for me because \u003Cem\u003Eall\u003C/em\u003E the ports on the station had switched states.\n\u003C/p\u003E\n\u003Cp\u003E\nSo the abbreviated version is: (1) find the DOCKEDVESSEL that won\u0027t undock, (2) find the docking pairs and (3) change the pair\u0027s states to \u0022Docked (docker)\u0022 and\u00A0\u0022Docked (dockee)\u0022\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\n\t\tPART\n\t\t{\n\t\t\tname = dockingPort2\n\t\t\t...\n(2)\t\t\tuid = (part number of the docking port)\n\t\t\t...\n\t\t\tMODULE\n\t\t\t{\n\t\t\t\tname = ModuleDockingNode\n\t\t\t\t...\n(3)\t\t\t\tstate = Needs to be \u0022Docked (docker)\u0022 and the other \u0022Docked (dockee)\u0022\n(2)\t\t\t\tdockUId = (part number of the other docking port)\n\t\t\t\t...\n\t\t\t\tEVENTS\n\t\t\t\t{\n\t\t\t\t...\n\t\t\t\t}\n\t\t\t\tACTIONS\n\t\t\t\t{\n\t\t\t\t...\n\t\t\t\t}\n(1)\t\t\t\tDOCKEDVESSEL\n\t\t\t\t{\n\t\t\t\t\tvesselName = \u003C/pre\u003E\n\u003Cp\u003E\nAn easy fix after \u003Cem\u003E\u003Cstrong\u003EFOUR HOURS\u003C/strong\u003E\u003C/em\u003E of full immersion into the structure of the save file.\n\u003C/p\u003E\n\u003Cp\u003E\nWhy this happened is still a mystery.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-02T19:47:03Z\u0022 title=\u002212/02/2015 07:47  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 2, 2015\u003C/time\u003E by cjdunn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mitchz95","CreatedById":82292,"CreatedDateTime":"2015-12-02T22:00:05Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to use the Quick and Dirty method (which has always worked for me in the past) but am running into a problem. The example code in your post says there are two attN lines, the first of which I\u0027m supposed to change. But in my quicksave.sfs, there\u0027s only one of them and changing it doesn\u0027t fix anything. Also, how do I know whether to use \u0022top\u0022 or \u0022bottom\u0022? I\u0027m trying to undock a shielded port from a normal Clamp-o-tron port, by the way.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: So it looks like the problem is that the shielded port isn\u0027t designed to have stuff attached in the VAB, so tricking it that way won\u0027t work. Is there a way to trick it somehow?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: Got it to work by editing the file and changing it to a standard port, then did the Quick fix.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-03T07:40:44Z\u0022 title=\u002212/03/2015 07:40  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 3, 2015\u003C/time\u003E by Mitchz95\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"z3dd","CreatedById":156555,"CreatedDateTime":"2016-01-06T14:27:13Z","Content":"\n\u003Cp\u003E\nLooks like some still do it the old way. I was able to \u0022fix\u0022 this issue without reloading, though this solution only helpful for manned crafts.\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nInstall KAS/KIS\n\u003C/li\u003E\n\u003Cli\u003E\nSwitch to craft, Click \u0027undock\u0027 button on working dock port.\n\u003C/li\u003E\n\u003Cli\u003E\nGet an engineer (equipped with a screwdriver) close to the joint, hold attach/detach button (default \u0027H\u0027) and click on the malfunctioning docking port.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nAlways works as clock for me. Can illustrate if you ask.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-06T14:30:45Z\u0022 title=\u002201/06/2016 02:30  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 6, 2016\u003C/time\u003E by z3dd\u003C/strong\u003E\n\u003Cbr\u003Espelling\n\u003C/span\u003E\n"},{"CreatedByName":"edrobotguy","CreatedById":58949,"CreatedDateTime":"2016-03-12T10:14:37Z","Content":"\n\u003Cp\u003E\nThis has got to be one of the most frustrating bugs in the game. \u00A0Right now I have an expedition orbiting Gilly. \u00A0It\u0027s a dozen or so modules, any of which are connected to two or three other modules with clampotron Sr\u0027s. \u00A0All are nonfunctional. \u00A0This is a huge save file, too, so it is taking a lot of digging to figure out exactly which docking ports are buggered up and how. \u00A0If I hadn\u0027t already had a lot of practice fixing this bug again and again (thanks, Claw!) this would be just miserable, but at least I\u0027ve got a bit of a clue.\n\u003C/p\u003E\n\u003Cp\u003E\nNonetheless, there are so many ports affected that I actually need a spreadsheet to keep track of all the uids and dockuids. \u00A0Something that should be trivial is turning into a marathon, just to be able to continue for this expedition. \u00A0There is another vessel orbiting Mun which I have given up on completely over the same issue; I just renamed it the Boneyard and send unneeded scrap to dock there.\n\u003C/p\u003E\n\u003Cp\u003E\nIf this is a mod issue, the only mod cjdunn and I have in common is Kerbal Alarm Clock. \u00A0That seems an unlikely culprit.\n\u003C/p\u003E\n\u003Cp\u003E\nThat leaves a problem with the game, or the game engine itself. \u00A0Interface\u0027s idea about the animation modules is probably something in the game engine. \u00A0But it isn\u0027t all the animation modules.\n\u003C/p\u003E\n\u003Cp\u003E\nI first had a problem with the Gilly expedition after getting a little impatient and trying to undock something before the snow had cleared on the images of the Kerbals. \u00A0The period while there is snow on their faces is probably being used to load all the relevant scene information into memory, beyond what is required to show the scene. \u00A0That is, the part of the game engine responsible for rendering the scene does its job really fast, but structuring the ship into a physics engine framework takes more time. \u00A0Internally, the game doesn\u0027t have the same representation as we see in the SFS file; the game engine\u00A0has to fill in the blanks in various templates and sort of build up a local SFS file on the fly. \u00A0The animation covers up that time. \u00A0This is all purely a guess, but based on how I would go about solving the same problem.\n\u003C/p\u003E\n\u003Cp\u003E\nContinuing that guess: if the process of putting together that local SFS file is interrupted by\u00A0undocking something, the game engine gets confused about the docking ports it has loaded but not yet filled in the blank for \u0027state\u0027. \u00A0After that, the null entry gets replaced with Ready as a default and all hell breaks loose.\n\u003C/p\u003E\n\u003Cp\u003E\nIt would be really nice to have a script that could digest an SFS file and find all instances of ModuleDockingNode with state = Ready and dockUId \u0026gt;0 and fix them. I have a whole bunch of missions enroute, some like the Jool mission with a crapton of connected subvessels, and manually digging through a 25 Mb sfs file is not my idea of a fun time playing KSP/\n\u003C/p\u003E\n"},{"CreatedByName":"edrobotguy","CreatedById":58949,"CreatedDateTime":"2016-04-04T04:25:58Z","Content":"\n\u003Cp\u003E\nEver since I posted that guess above, I decided to test it. \u00A0I started a new game on a completely unmodded version of ksp 1.0.5.1028. \u00A0Man, I miss Kerbal Alarm Clock something fierce. \u00A0Anyhow, I\u0027m now at day 266 and have nearly built up a station in Minmus orbit big enough to test my idea.\n\u003C/p\u003E\n\u003Cp\u003E\nI realize that if I\u0027m right this problem will probably disappear with Unity 5 or the 64 bit version coming out in 1.1. \u00A0If so, good, I\u0027m determined to find the source of this bug anyhow. \u00A0I\u0027m a little OCD and it\u0027s liquiding me off. \u00A0I\u0027m just posting this here so that others don\u0027t have to waste their time doing the same thing.\n\u003C/p\u003E\n\u003Cp\u003E\nedit: I actually laughed out loud to see that my very mild swear word had been censored. \u00A0Liquiding is my new second-favorite pseudoswear after \u0022shut the front door\u0022. \u00A0As you were.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-04-04T04:28:50Z\u0022 title=\u002204/04/2016 04:28  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 4, 2016\u003C/time\u003E by edrobotguy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"edrobotguy","CreatedById":58949,"CreatedDateTime":"2016-06-04T21:34:24Z","Content":"\n\u003Cp\u003E\nSo, year 1 day 422 and the bug has not appeared on this unmodded version, try though I might. \u00A0I did switch to 1.1x64 shortly after it came out; who could resist the speed increase? \u00A0Some of my orbital stations exceeded 900 parts at times.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, either this bug is indeed due to a mod, or was eliminated in the switch to Unity 5 and the 64 bit version of the game. \u00A0Right now I\u0027ve completely filled the tech tree just by exploring Mun and Minmus, and I\u0027m itching to add some mods.\n\u003C/p\u003E\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2016-06-06T08:06:37Z","Content":"\n\u003Cp\u003E\nWe also did a couple changes to the code which (hopefully) eliminated this bug. One can hope! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}