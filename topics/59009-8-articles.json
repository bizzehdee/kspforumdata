{"TopicId":59009,"ForumId":34,"TopicTitle":"[1.8.x] DMagic Orbital Science: New Science Parts [v1.4.3] [11/2/2019]","CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-01-06T00:31:19Z","PageNum":8,"Articles":[{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-05T19:36:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starstrider42\u0022 data-cite=\u0022Starstrider42\u0022\u003E\u003Cdiv\u003EI will be setting up composition classes for Custom Asteroids. However, I\u0027d like to see what interface Taniwha decides on for asteroid mining before I implement this, so it may be a while.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny idea of how you\u0027ll assign types? I\u0027d like to do it based on something in-game, not just randomly assigning a type based on something that I implement. \u003C/p\u003E\u003Cp\u003EIt seems like the seed # might be the best option, but I\u0027m not sure if it\u0027s connected to the size class somehow. They don\u0027t seem to be, but I haven\u0027t actually checked that many asteroids.\u003C/p\u003E\u003Cp\u003EAlso this would require visiting the asteroid since the ModuleAsteroid doesn\u0027t get created until it comes within loading range. That would seem to eliminate any kind of long range spectral-type assignment. But maybe you could instead just force the module to load when the asteroid is first generated.\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-05-05T21:12:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EAny idea of how you\u0027ll assign types? I\u0027d like to do it based on something in-game, not just randomly assigning a type based on something that I implement. \u003Cp\u003EIt seems like the seed # might be the best option, but I\u0027m not sure if it\u0027s connected to the size class somehow. They don\u0027t seem to be, but I haven\u0027t actually checked that many asteroids.\u003C/p\u003E\u003Cp\u003EAlso this would require visiting the asteroid since the ModuleAsteroid doesn\u0027t get created until it comes within loading range. That would seem to eliminate any kind of long range spectral-type assignment. But maybe you could instead just force the module to load when the asteroid is first generated.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was planning to assign types randomly, with probabilities set by population. So, for example, NKOs might be largely stony or metallic asteroids, while Kuper belt objects might be almost all carbonaceous or icy.\u003C/p\u003E\u003Cp\u003EI\u0027m still trying to figure out the API (and I may PM you later to compare notes, since it seems you\u0027ve done a lot of the work) but I\u0027m pretty sure the ModuleAsteroid seed is just used to generate the asteroid mesh.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-06T04:48:21Z\u0022 title=\u002205/06/2014 04:48  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 6, 2014\u003C/time\u003E by Starstrider42\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-06T19:03:01Z","Content":"\n\u003Cp\u003EAnother Tuesday, another weekly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E installment of mod dev notes. \u003C/p\u003E\u003Cp\u003EI took a short leave of absence after releasing the last update (by which I mean playing X-Com Enemy Within, which is awesome, rather than working on KSP) so I haven\u0027t done very much. \u003C/p\u003E\u003Cp\u003EBut in the last few days I have been working on the second iteration of asteroid science. Now I\u0027m glad that Squad didn\u0027t do anything with asteroids because it gives me a blank slate to implement whatever I want.\u003C/p\u003E\u003Cp\u003EMy thinking is to assign spectral types to asteroids; I\u0027m not sure what the best way of doing this is, preferably something that can be compatible with other mods, like Custom Asteroids, but not have any dependencies. Right now I\u0027m just assigning type based on each asteroid\u0027s seed #, but this has some issues, and I\u0027m not sure if the number is truly random or has some connection to an asteroid\u0027s size class.\u003C/p\u003E\u003Cp\u003EThe idea is to make asteroids behave like a planet and have the spectral type behave as a biome as far as recording science reports is concerned. That way I could make experiments that are dependent upon spectral type and give different results, and make others that aren\u0027t dependent on type and give one set of results for all asteroids. I\u0027ll use the asteroid size class only to determine a science value multiplier (and I\u0027ve found a better way to determine the size class).\u003C/p\u003E\u003Cp\u003EThe other goal of this version is to allow for reports from multiple asteroids with diminishing returns. I don\u0027t know of any way to do this using the stock R\u0026amp;D scenario module, so I\u0027m creating my own (Scenario Modules are used to save data in different sections of the persistent file: the R\u0026amp;D module saves tech node and science results info, the Progress Tracker stores info on where you\u0027ve been, etc...).\u003C/p\u003E\u003Cp\u003EThis way I can create a new science cap for my asteroid experiments and assign science values for the current experiment based on how much has already been earned from other asteroids. Then I can pass off the science value to the regular R\u0026amp;D module so that your results and science still get recorded. Basically I\u0027m just bypassing the stock subject value (the planet/situation base multiplier), scientific value (the diminishing returns multiplier for repeated experiments), and the science cap (normally based on the science cap defined in the SciendDefs.cfg file * the subject value). This all seems fairly simple to do, but I\u0027m sure there will be problems that crop up at some point.\u003C/p\u003E\u003Cp\u003EThe end result of all this is that you\u0027ll be able to conduct the same experiments on multiple asteroids while gaining a diminishing amount of science. \u003C/p\u003E\u003Cp\u003ESo the first experiment (using the magnetometer while near an asteroid) would give you the full science value: the base value of 5 * the multiplier for the asteroid (say 10, for a class E). The next asteroid you visit, another class E would give you only 40, then 30 for the next, and so on until you reach a cap, maybe 250 science total. \u003C/p\u003E\u003Cp\u003EBecause you get more science for larger asteroids this would mean that you would have to visit a larger number of smaller asteroids to reach the cap. So another way of doing this might be to set a soft cap and limit the number of asteroids you can research. Instead of conducting experiments until you reach the 250 science cap you could conduct experiments on 10 different asteroids. If they are all large you would get more science, if they are all small you would get fewer points.\u003C/p\u003E\u003Cp\u003EFor a spectral-type-dependent experiment like the laser there would be a separate science cap on each type, one for carbonaceous, one for stony, etc... \u003C/p\u003E\u003Cp\u003EI\u0027ve \u003Ca href=\u0022https://github.com/DMagic1/Orbital-Science/tree/Dev-0.9/Source\u0022 rel=\u0022external nofollow\u0022\u003Estarted coding\u003C/a\u003E some of this, and it doesn\u0027t seem to complex. I\u0027m mostly replicating how the R\u0026amp;D persistent node stores science results which is all fairly straightforward. I still need to figure out the exact math of how to set diminishing returns and I need to figure out the spectral type thing.\u003C/p\u003E\u003Cp\u003EI\u0027ve also made some designs for the Universal Storage Goo experiment, but I\u0027ll wait to see how their empty wedge design comes out before going any further with that. And I still need to come up with ideas for the other two stock experiments and finish cramming my telescope into a wedge.\u003C/p\u003E\n"},{"CreatedByName":"MaverickSawyer","CreatedById":11952,"CreatedDateTime":"2014-05-06T19:42:08Z","Content":"\n\u003Cp\u003EPossible issue with the anomaly scanner... The Monolith on the plains to the north of the KSC does not trigger a response from the scanner. I was parked literally right next to it, and got no response. Is this an intentional, or is it an accidental oversight?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-06T22:52:13Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022MaverickSawyer\u0022 data-cite=\u0022MaverickSawyer\u0022\u003E\u003Cdiv\u003EPossible issue with the anomaly scanner... The Monolith on the plains to the north of the KSC does not trigger a response from the scanner. I was parked literally right next to it, and got no response. Is this an intentional, or is it an accidental oversight?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s not really a bug per se, it\u0027s more of a technical limitation due to how anomalies are stored by the game and scanned. The KSC is one object with its center located about 30m below the path between the launchpad and the VAB. All of the surrounding buildings, including that monolith, are considered part of that one object. It\u0027s possible to set it up to scan individual objects, but I don\u0027t want to have different results for every building at the KSC (and the airfield). Coming up with something specifically for that monolith might be a little easier, but I\u0027m not sure if it\u0027s worth it.\u003C/p\u003E\u003Cp\u003EThe general rule is, if the anomaly doesn\u0027t show up on SCANsat or ISA, then my scanner won\u0027t pick it up either. \u003C/p\u003E\u003Cp\u003EAnd if you want to know the exact distance and location to an anomaly (not the intentionally vague directions shown on-screen) open up the debug window with alt\u002BF2, it will show the exact values.\u003C/p\u003E\n"},{"CreatedByName":"MaverickSawyer","CreatedById":11952,"CreatedDateTime":"2014-05-06T23:25:25Z","Content":"\n\u003Cp\u003EAh, that explains it. OK, then, nevermind.\u003C/p\u003E\n"},{"CreatedByName":"xEvilReeperx","CreatedById":75857,"CreatedDateTime":"2014-05-07T00:53:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EThe other goal of this version is to allow for reports from multiple asteroids with diminishing returns. I don\u0027t know of any way to do this using the stock R\u0026amp;D scenario module, so I\u0027m creating my own (Scenario Modules are used to save data in different sections of the persistent file: the R\u0026amp;D module saves tech node and science results info, the Progress Tracker stores info on where you\u0027ve been, etc...).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOne option is to stuff your extra information at the end of the subject id the way stock does (I borrowed crewReport here):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://puu.sh/8CcmM.jpg\u0022 alt=\u00228CcmM.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// your experiment here, available through ModuleScienceExperiment\u003Cbr\u003Evar exp = ResearchAndDevelopment.GetExperiment(\u0022crewReport\u0022);\u003Cbr\u003E\u003Cbr\u003E// when player deploys experiment:\u003Cbr\u003E    // generate an id for this experiment\u003Cbr\u003E    // another note: if you don\u0027t want vessel situation to matter,\u003Cbr\u003E    //               just consistently provide an appropriate one (InSpaceHigh probably)\u003Cbr\u003E\u003Cbr\u003E    var subject = ResearchAndDevelopment.GetExperimentSubject(exp, ScienceUtil.GetExperimentSituation(FlightGlobals.ActiveVessel), FlightGlobals.currentMainBody, \u0022ClassC.SomeType\u0022);\u003Cbr\u003E\u003Cbr\u003E    subject.subjectValue = 1f;\u003Cbr\u003E    subject.scienceCap = 220f; // you can set this by class\u003Cbr\u003E    subject.dataScale = 1f;\u003Cbr\u003E    subject.title = \u0022Sample of a Class C YourType asteroid\u0022;\u003Cbr\u003E\u003Cbr\u003E    // submit initial report: science value = 110 * 1 = 110 points\u003Cbr\u003E    ResearchAndDevelopment.Instance.SubmitScienceData(110f, subject);\u003Cbr\u003E\u003Cbr\u003E    // stock game will reduce value for us automatically, but \u003Cbr\u003E    // it\u0027s overridden easily\u003Cbr\u003E    subject.scientificValue = .8f;   // let\u0027s make this next report 20% less\u003Cbr\u003E                                        // note: R\u0026amp;D will store this value for us persistently\u003Cbr\u003E\u003Cbr\u003E    // this report is now worth 20% less = 88 science\u003Cbr\u003E    ResearchAndDevelopment.Instance.SubmitScienceData(110f, subject); // test diminishing returns\u003Cbr\u003E\u003Cbr\u003E    // third experiment will be worth 60%\u003Cbr\u003E    subject.scientificValue = .6f;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EYou\u0027d probably want to look for subjects for a given experiment for every body if you don\u0027t want actual location to matter, but that\u0027s trivial. You already do your own work with ScienceData so things should be quite straightforward\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-07T01:44:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022xEvilReeperx\u0022 data-cite=\u0022xEvilReeperx\u0022\u003E\u003Cdiv\u003EOne option is to stuff your extra information at the end of the subject id the way stock does (I borrowed crewReport here):\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmm, you\u0027re probably right. I actually do something similar already with the anomaly scanner and with my existing asteroid science system. I also have a pretty good method for assigning experimental situations, though it doesn\u0027t handle multiple nearby asteroids very well.\u003C/p\u003E\u003Cp\u003EMy original hangup with using the R\u0026amp;D center was that I wanted to append the asteroid seed # to every subjectID, the same way that stock asteroid samples do. I was thinking this would cause problems when trying to identify what has already been recovered because every asteroid would give a new ID. But as I\u0027ve been working on it I realized that I don\u0027t really need to append the seed #, so every report would be the same except for the host planet. And really it probably wouldn\u0027t be very hard just to check for the relevant parts of the ID anyway. \u003C/p\u003E\u003Cp\u003EBut the more I\u0027ve been thinking about using my own scenario module the more I like it. I alluded to this a little, but using my own module allows me to store extra information, aside from the standard science values. The most obvious example is an experiment number (first sample, second sample, etc...). For the asteroid thing I could use this as an easy way to determine the diminishing returns. But I could also use it for doing things like ordering experimental results (the first magnetometer scan of Duna gives result one, the second scan gives result two, etc...). Maybe there\u0027s an easier way of doing that too, but this is turning out to be fairly simple, well, assuming it actually works right, which it probably won\u0027t.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-09T18:08:50Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=934684\u0022\u003EChapter 1\u003C/a\u003E:\u003C/strong\u003E Radio and Plasma Wave Science\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EChapter 2:\u003C/strong\u003E Magnetometer\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=1248464\u0022\u003EChapter 3\u003C/a\u003E:\u003C/strong\u003E Telescopes and Imaging Systems\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=1496097\u0022\u003EChapter 4\u003C/a\u003E:\u003C/strong\u003E Laser Ablation\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=1679162\u0022\u003EChapter 5\u003C/a\u003E:\u003C/strong\u003E Core Drill and Biological Experiments\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=2070143\u0022\u003EChapter 6\u003C/a\u003E:\u003C/strong\u003E Neutron Reflections and Subsurface Water\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/59009-105-dmagic-orbital-science-new-science-parts-v11-12132015/\u0026amp;do=findComment\u0026amp;comment=2440139\u0022\u003EChapter 7\u003C/a\u003E\u003C/strong\u003E:\u00A0\u003Cspan style=\u0022color:rgb(39,42,52);font-family:arial, helvetica, sans-serif;font-size:14px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:19.6px;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;float:none;background-color:rgb(255,255,255);\u0022\u003EX-Ray Diffraction and Surface Composition\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nContinuing on with my bi-monthly (read, -annual) series on what all this stuff does, I\u0027ll be going over the magnetometer today.\n\u003C/p\u003E\n\u003Cp\u003E\nOn a basic level magnetometers are rather simple, they measure the magnitude, and sometimes direction, of a magnetic field. Near the Earth\u0027s surface these kinds of measurements are extremely valuable for navigation purposes. In space they are used to study many aspects of the solar system and its planets.\n\u003C/p\u003E\n\u003Cp\u003E\nConsidering that every planet, moon, and large asteroid is associated with a magnetic field of some kind, it\u0027s not surprising that most interplanetary, and several Earth-orbiting probes come equipped with magnetometers.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EThe Boom\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAbout the boom, except for the large high-gain antenna and maybe the solar panels, the boom is typically the most noticeable feature of a probe craft. The reason these long boom are used is that the probe itself can emit a significant amount of magnetic interference. The body of the probe usually contains several ferrous (iron-containing, magnetic alloys) metals and there is a lot of electric current passing through the probe, these factors can generate a lot of background magnetic noise. Putting the magnetometers on a long boom, typically 10m, moves the instruments away from most of this interference (which tapers off quickly with distance) and allows for much clearer reading of the surrounding magnetic fields. In most cases there is one instrument placed at the end of the boom and another placed near the middle.\n\u003C/p\u003E\n\u003Cp\u003E\nThe boom itself is made of non-magnetic materials, sometimes carbon fiber in newer designs, and aluminum in older spacecraft. Occasionally the magnetometer is mounted at the end of a solar panel, the Juno probe uses this design. This saves the weight and complexity of the boom, but can add complexity elsewhere (not to mention that Juno is the only outer-solar system spacecraft that actually uses solar panels).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EThe Instruments\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere are a wide variety of different magnetometer instruments, most of which aren\u0027t really appropriate for spacecraft use. But there are still a fair number different types used by various spacecraft. I\u0027ll only go over the two used in my model which is based on Cassini\u0027s magnetometer.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EFluxgate Magnetometer\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBack to the instruments themselves now. A common type is the tri-axial fluxgate magnetometer. One of these is mounted in the \u003Ca href=\u0022http://www3.imperial.ac.uk/spat/research/missions/space_missions/cassini/mag_instrument/fgm\u0022 rel=\u0022external nofollow\u0022\u003Emiddle of the boom on the Cassini spacecraft\u003C/a\u003E and is what I\u0027ve modeled my design on. The tri-axial part means that it measures the magnetic field in three dimensions by combining three individual instruments into one, with each instrument aligned 90\u003Csup\u003Eo\u003C/sup\u003E away from the others.\n\u003C/p\u003E\n\u003Cp\u003E\nAn individual fluxgate magnetometer is very simple in principle (anyone who\u0027s tried the wrap-a-wire-around-a-nail trick will be familiar with the basics of this). It consists of a central magnetic core wrapped with two sets of wires. The first, usually inner, set of wires is the drive coil. An alternating current is passed through this wire to induce a constantly reversing magnetic field in the coil. This magnetic field then induces a current to flow through the second, sense coil, wire.\n\u003C/p\u003E\n\u003Cp\u003E\nWhen you put the whole thing in an area with a background magnetic field (that would be anywhere in the solar system, or galaxy for that matter) this background field subtly alters the induced field in the fluxgate core. This alters the signal that is produced in the sense coil, and, with some very sensitive electronics, can give you a reading of the magnetic field strength. When you combine all three sensors you can figure out the magnetic field strength in all three dimensions.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EHelium Vector/Scalar Magnetometer\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe other type of magnetometer included in my design, and also found at \u003Ca href=\u0022http://www3.imperial.ac.uk/spat/research/missions/space_missions/cassini/mag_instrument/v_shm\u0022 rel=\u0022external nofollow\u0022\u003Ethe end of Cassini\u0027s boom\u003C/a\u003E, is the helium vapor magnetometer. This one uses an entirely different method to produce a measurement similar to that of the fluxgate magnetometer.\n\u003C/p\u003E\n\u003Cp\u003E\nThe specifics of how this instrument works are, let\u0027s say, complicated. There are basically four components: an infrared lamp, an infrared detector, a chamber filled with helium gas, and a number of surrounding loops of wires called Helmholtz Coils.\n\u003C/p\u003E\n\u003Cp\u003E\nThe lamp generates IR light at a very specific frequency that is passed through the helium chamber. The helium molecules absorb this light, then some physical chemistry, quantum physics and hand-waving happens, and the IR detector measures the results. When the helium chamber is placed in a magnetic field the interaction between the helium and the IR light changes, and these changes can be monitored through the IR detector.\n\u003C/p\u003E\n\u003Cp\u003E\nWith some modifications to the sensor\u0027s electronics in can be used in vector and in scalar mode. In vector mode the Helmholtz Coils can be used in a feedback loop to determine the magnetic field components in each dimension, allowing a single instrument to do what three fluxgate magnetometers can do. In scalar mode the total magnetic field intensity is measured with a very high degree of accuracy.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EThe Science\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSo what\u0027s the point of all these finely tuned instruments being strapped onto nearly every interplanetary probe? There is much to be learned from studying the magnetic fields of other planets, the sun and the Earth.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMeasurements\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOn Earth the most immediate application is for navigation. Compasses point at the magnetic north pole, but there is a surprisingly high variation in the intensity and direction of the Earth\u0027s magnetic field near the surface. The two measurements frequently used for purposes relatively close to the Earth\u0027s surface are magnetic inclination and declination.\n\u003C/p\u003E\n\u003Cp\u003E\nMagnetic inclination is a measure of which direction the magnetic field is pointing relative to the Earth\u0027s surface. Near the equator the field is mostly parallel to the surface, so it is around 0\u003Csup\u003Eo\u003C/sup\u003E inclination, closer to the magnetic poles the field begins to point downward, into the Earth\u0027s center. Near the magnetic north pole the inclination approaches \u002B90\u003Csup\u003Eo\u003C/sup\u003E, near the magnetic south pole it\u0027s -90\u003Csup\u003Eo\u003C/sup\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nMagnetic declination is the difference between magnetic north and true north, basically the difference in what a compass says is north, and what is actually north. This changes greatly with latitude and is obviously useful for navigation.\n\u003C/p\u003E\n\u003Cp\u003E\nBoth of these components show a great deal of variability across the Earth\u0027s surface, much more than you would expect from a simple magnetic field model. Earth orbiting satellites are used to make very precise measurements of the magnetic field at all locations above the surface; data from these and surface-based observations are used to calibrate models used to predict these components (the standard version of which is used by my magnetometer).\n\u003C/p\u003E\n\u003Cp\u003E\nThese two images show the variation in total field intensity (left) and magnetic declination (right). You can see the south magnetic pole between Australia and Antarctica, it coincides with a peak in intensity and the declination can be as high as 180\u003Csup\u003Eo\u003C/sup\u003E near this area. There are two more peaks on either side of the north magnetic pole, which is at about 80\u003Csup\u003Eo\u003C/sup\u003E north and not visible on this map, and a low point over South America. This is called the \u003Ca href=\u0022https://en.wikipedia.org/wiki/South_Atlantic_Anomaly\u0022 rel=\u0022external nofollow\u0022\u003ESouth Atlantic Anomaly\u003C/a\u003E and is the point where the Van Allen radiation belts come closest to the Earth\u0027s surface (still about 200km up though).\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022kZqerCb.jpg\u0022 src=\u0022http://i.imgur.com/kZqerCb.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFurther away from the surface the magnetic field is usually reported in terms of its three-dimensional components, the X-, Y-, and Z-fields (or sometimes they are given in spherical coordinates of B-radial, B-theta, and B-phi) and the total intensity. My magnetometer switches between reporting the inclination and declination while close to the surface, to the vector components when far away (the X- and Y-dimensions are combined into a horizontal measurement, given along with the vertical measurement) while always displaying the total intensity.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMagnetospheres in the Solar System\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSome large planets, like the Earth, generate an enormous magnetic field that wraps around the planet. This field gets warped and stretched by interactions with both the sun\u0027s magnetic field and by the constant stream of charged particles flowing out from the sun, the solar wind. These charged particles and their interactions with the Earth\u0027s magnetosphere are responsible for a number of events, from trapped high-energy bands of radiation, to geomagnetic storms like auroras, to a band of charged particles constantly spinning around the equator called the ring current. Many of these events can be studied by very accurately measuring the magnetic field in the space around the Earth.\n\u003C/p\u003E\n\u003Cp\u003E\nThe presence or absence of an intrinsic magnetic field can also tell us much about a planet\u0027s interior composition. The Earth\u0027s magnetic field is believed to arise from the liquid iron outer core spinning around the solid iron inner core. The fact that Venus has no intrinsic field suggests that it lacks this kind of geologic activity (though it does have an induced magnetosphere generated by the interaction of the solar wind with its atmosphere). For smaller bodies the presence of large amounts of iron, or other magnetically active elements can be inferred from magnetometer measurements.\n\u003C/p\u003E\n\u003Cp\u003E\nFor truly complex systems like Jupiter and Saturn magnetometers can be used to learn a great deal. They can give an estimate of how large the planets\u0027 cores are and how fast they are rotating. The composition and presence of subsurface activity on the larger moons can be studied with the magnetometer. They can also give us an idea of how a moon\u0027s thin (or thick in the case of Titan) atmosphere interacts with the parent planet.\n\u003C/p\u003E\n\u003Cp\u003E\nHere is a look at Saturn\u0027s magnetosphere. The solar wind, coming from the right, pushes down on Saturn\u0027s magnetic field. A lot of interesting things get trapped in the region where the two meet, some of which was discussed in the RPWS post. You can also see where Titan passes through this soup of the magnetic field and all of the particles that get trapped within it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022BV1yQ9d.jpg?1\u0022 src=\u0022http://i.imgur.com/BV1yQ9d.jpg?1\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSometime soon, or not soon, I\u0027ll continue on with the other instruments.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022text-decoration:underline;\u0022\u003EUpdate (3/15/2015):\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMagnetospheric Multiscale Observatories (MMS)\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nA really interesting launch happened a few days ago. The payload contains four identical satellites meant to orbit in formation and take very precise, high speed measurements of the Earth\u0027s magnetosphere. In particular, they are designed to study the points where the Earth\u0027s magnetic field reconnects; points where magnetic fields intersect and recombine after having been pushed around by the solar wind.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/EYdQG2YRQnc?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nDuring two stages of its mission the satellite quartet will move into two elliptical orbits to intersect the points where magnetic reconnection occurs.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.nasa.gov/content/magnetospheric-multiscale-observatories-processed-for-launch/#.VQXRB454rYg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022P1Rc2MR.jpg\u0022 src=\u0022http://i.imgur.com/P1Rc2MR.jpg\u0022\u003E\u003C/a\u003E \u003Ca href=\u0022http://www.nasa.gov/content/goddard/mms-targeted-areas-of-study/#.VQXTzo54rYg\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00224knG7B7.jpg\u0022 src=\u0022http://i.imgur.com/4knG7B7.jpg\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThe actual instruments onboard are fairly similar to those described above and are present on many spacecraft. The primary difference is that there are so many of them. The instruments designed to monitor energetic particles usually rely on the spacecraft turning to get a complete view of the area; each MMS has multiple copies of each instrument (eight per craft in the case of the \u003Ca href=\u0022http://www.nasa.gov/content/goddard/superfast-sensors-for-new-mms-mission/#.VQXXKI54rYg\u0022 rel=\u0022external nofollow\u0022\u003EFast Plasma Investigation\u003C/a\u003E instruments), which helps to give very rapid measurements covering the entire area.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/biItTLrz0cQ?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-03T19:25:31Z\u0022 title=\u002203/03/2016 07:25  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 3, 2016\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003Cbr\u003Elinks\n\u003C/span\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-05-15T02:00:35Z","Content":"\n\u003Cp\u003EAny chance of seeing US Wedges for Materials bay and goo experiments?\u003C/p\u003E\n"},{"CreatedByName":"madmat","CreatedById":16054,"CreatedDateTime":"2014-05-15T07:39:47Z","Content":"\n\u003Cp\u003EThat\u0027s a terrific write up for the magnetometer and magnetospheres DM. Great, now I\u0027ve learned something today. Anyway, definitely worth my 400th post and some rep to boot. Great work on this mod too.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-15T14:59:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022enneract\u0022 data-cite=\u0022enneract\u0022\u003E\u003Cdiv\u003EAny chance of seeing US Wedges for Materials bay and goo experiments?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe chances are very good.\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 alt=\u0022:kiss:\u0022\u003E Daishi is still working on making \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/73455-WIP-Universal-Storage-by-New-Horizons-and-Strana-Mechty-Engineering/page15\u0022 rel=\u0022external nofollow\u0022\u003Ean empty US wedge\u003C/a\u003E, so I\u0027m waiting for that before I continue. But I already have a rough outline for a goo pod and I plan on making wedges for the materials bay and the atmospheric sensor too.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madmat\u0022 data-cite=\u0022madmat\u0022\u003E\u003Cdiv\u003EThat\u0027s a terrific write up for the magnetometer and magnetospheres DM. Great, now I\u0027ve learned something today. Anyway, definitely worth my 400th post and some rep to boot. Great work on this mod too.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, it can be hard to figure some of this stuff out using things like Wikipedia. It tends to be either too complex or too vague to be of any real help. So I put together this and the RPWS chapter from a lot of different sources and hopefully condensed it all into something understandable.\u003C/p\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-05-17T00:05:02Z","Content":"\n\u003Cp\u003EAnd, do you have any plans on adding the \u0027hide structure\u0027 feature present on stock US parts to yours?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-18T03:17:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022enneract\u0022 data-cite=\u0022enneract\u0022\u003E\u003Cdiv\u003EAnd, do you have any plans on adding the \u0027hide structure\u0027 feature present on stock US parts to yours?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat animation is up to Daishi to implement (though I suppose it\u0027s probably possible to include on my end through a plugin), but even if it is included I might not use it. My parts don\u0027t quite fill in the space and would kind of awkwardly float if the outer wall wasn\u0027t there.\u003C/p\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-05-18T06:28:40Z","Content":"\n\u003Cp\u003Eer, so adding the the same module animation configuration from one of the stock US parts would work on yours?\u003C/p\u003E\n"},{"CreatedByName":"Daishi","CreatedById":85055,"CreatedDateTime":"2014-05-18T06:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022enneract\u0022 data-cite=\u0022enneract\u0022\u003E\u003Cdiv\u003Eer, so adding the the same module animation configuration from one of the stock US parts would work on yours?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf everything works, he should be able to use our SIM bay directly and embed his parts into it. Our animation plugin (Stupid_Chris\u0027s AdvancedAnimator, which gives more options and capabilities than the stock animation module) should continue to function from our directory and there shouldn\u0027t be extra things Dmagic needs to do.\u003C/p\u003E\u003Cp\u003EThe structure visibility toggle is only a 1 frame animation that scales things to 0%, and is set as \u0022Take 002\u0022 in the wedges .mu file at the end of the clip. \u0022Take 001\u0022 is the doors opening, so as long as Dmagics parts allow for a delay for that animation to finish, he should be able to merge his \u0022Take 001\u0022 with mine easily. Once this SIM bay is finished we\u0027ll start testing this out properly \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"enneract","CreatedById":56759,"CreatedDateTime":"2014-05-18T07:41:36Z","Content":"\n\u003Cp\u003ESIM stands for..?\u003C/p\u003E\n"},{"CreatedByName":"Daishi","CreatedById":85055,"CreatedDateTime":"2014-05-18T07:57:40Z","Content":"\n\u003Cp\u003E\u003Ca href=\u0022http://www.ninfinger.org/karld/My%20Space%20Museum/simbay.htm\u0022 rel=\u0022external nofollow\u0022\u003EScientific Instrument Module\u003C/a\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EIn our case its going to be a small empty cargo bay where you can stash science sensors and equipment and retrieve data on EVA (if you want), and Dmagic is going to nest his models within it and keep them as stand-alone parts. You\u0027ll still require Universal Storage though (as it references assets), specifically the Core and KAS packs.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-18T08:10:17Z\u0022 title=\u002205/18/2014 08:10  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 18, 2014\u003C/time\u003E by Daishi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-18T14:33:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Daishi\u0022 data-cite=\u0022Daishi\u0022\u003E\u003Cdiv\u003EIf everything works, he should be able to use our SIM bay directly and embed his parts into it. Our animation plugin (Stupid_Chris\u0027s AdvancedAnimator, which gives more options and capabilities than the stock animation module) should continue to function from our directory and there shouldn\u0027t be extra things Dmagic needs to do.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve never used model {} nodes with animated parts before, but I don\u0027t believe that\u0027s how it works. I would create a new part.cfg that would refer to both your SIM bay mesh file and my mesh file for the interior parts. KSP should still be able to find the animations within each mesh file, but the animation node would need to be added to my part.cfg file. I\u0027ll have to see how my parts looks in the new wedge before I decide about adding that module.\u003C/p\u003E\n"},{"CreatedByName":"Daishi","CreatedById":85055,"CreatedDateTime":"2014-05-19T02:50:16Z","Content":"\n\u003Cp\u003ENo worries, sorry that it\u0027s taking longer than expected :|\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-05-19T03:05:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Daishi\u0022 data-cite=\u0022Daishi\u0022\u003E\u003Cdiv\u003ENo worries, sorry that it\u0027s taking longer than expected :|\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s fine. I have barely been working on this mod, and primarily on back-end stuff. \u003C/p\u003E\u003Cp\u003EAnd by module I meant animation module, not the wedge. I\u0027m sure I\u0027ll want to use the mesh itself.\u003C/p\u003E\n"},{"CreatedByName":"acc","CreatedById":80018,"CreatedDateTime":"2014-06-02T04:23:06Z","Content":"\n\u003Cp\u003EThe duna atmosphere parameter is wrong. You set it to 50km, but the atmosphere starts at ~41.5km (exactly at 41.446km)\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-06-02T06:26:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022acc\u0022 data-cite=\u0022acc\u0022\u003E\u003Cdiv\u003EThe duna atmosphere parameter is wrong. You set it to 50km, but the atmosphere starts at ~41.5km (exactly at 41.446km)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow do you mean? Is something giving you \u0022flying high\u0022 reports when you are still in space? The values I\u0027m using for that should be coming straight out of the game, CelestialBody.maxAtmosphereAltitude, but it seems that might not be right. There is apparently another way of calculating the max altitude for some reason.\u003C/p\u003E\u003Cp\u003EI\u0027ll look into it more.\u003C/p\u003E\n"},{"CreatedByName":"acc","CreatedById":80018,"CreatedDateTime":"2014-06-02T06:44:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EHow do you mean? Is something giving you \u0022flying high\u0022 reports when you are still in space? The values I\u0027m using for that should be coming straight out of the game, CelestialBody.maxAtmosphereAltitude, but it seems that might not be right. There is apparently another way of calculating the max altitude for some reason.\u003Cp\u003EI\u0027ll look into it more.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf the vessel is above 50km I get the \u0022can\u0027t be used in atmosphere\u0022 message. but there is no atmosphere. Zero drag, nothing, stable orbit. And other instruments (stock and other mods) give still \u0022in space near duna\u0022 outputs.\u003C/p\u003E\u003Cp\u003EThe orbit was PE 49 and AP 51km (SCANsat)\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-06-02T16:04:38Z","Content":"\n\u003Cp\u003EWow, the values are off by quite a bit in some cases.\u003C/p\u003E\u003Cp\u003EThe top values are from: \u003C/p\u003E\u003Cp\u003ECelestialBody.maxAtmosphereAltitude \u003C/p\u003E\u003Cp\u003Eand the bottom values are from:\u003C/p\u003E\u003Cp\u003ECelestialBody.atmosphereScaleHeight * 1000 * Math.Log(1e6)\u003C/p\u003E\u003Cp\u003Ewhich Anatid\u0027s documentation tells me is the accurate value for maximum altitude, and those numbers look right to me.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 11:57:37.790] [Kerbin Max Altitude] 70000\u003Cbr\u003E[LOG 11:57:37.790] [Kerbin Altitude Scale] 69077.5527898214\u003Cbr\u003E[LOG 11:57:37.791] [Eve Max Altitude] 90000\u003Cbr\u003E[LOG 11:57:37.791] [Eve Altitude Scale] 96708.5739057499\u003Cbr\u003E[LOG 11:57:37.792] [Duna Max Altitude] 50000\u003Cbr\u003E[LOG 11:57:37.793] [Duna Altitude Scale] 41446.5316738928\u003Cbr\u003E[LOG 11:57:37.793] [Jool Max Altitude] 200000\u003Cbr\u003E[LOG 11:57:37.794] [Jool Altitude Scale] 138155.105579643\u003Cbr\u003E[LOG 11:57:37.794] [Laythe Max Altitude] 50000\u003Cbr\u003E[LOG 11:57:37.795] [Laythe Altitude Scale] 55262.0422318571\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ll make sure to correct that in the next release, though I\u0027m pretty sure I\u0027ve seen other mods use a similar scheme to what I have, so you might want to watch out for this bug occurring elsewhere.\u003C/p\u003E\n"}]}