{"TopicId":167420,"ForumId":29,"TopicTitle":"Adding resources via Part Upgrades","CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-11-11T04:11:27Z","PageNum":1,"Articles":[{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-11-11T04:11:27Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[SSTU-SC-A-DM]:FINAL\n{\n\t%CrewCapacity = 2\n\t!MODULE[PartStatsUpgradeModule]{}\n\tMODULE\n\t{\n\t\tname = PartStatsUpgradeModule\n\t\tshowUpgradesInModuleInfo = true\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE \n\t\t\t{\n\t\t\t\tname__ = SC-A-DM-3\n\t\t\t\tdescription__ = SSTU-SC-A-DM: Extra seat w/ suitable supplies\n\t\t\t\ttechRequired__ = commandModules\n\t\t\t\tIsExclusiveUpgrade__ = true\n\t\t\t\tPartStats\n\t\t\t\t{\n\t\t\t\t\tcost = 800\n\t\t\t\t\tCrewCapacity = 3\n\t\t\t\t\t\n\t\t\t\t\t@RESOURCE[Food]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tamount = 3.291\n\t\t\t\t\t\tmaxAmount = 3.291\n\t\t\t\t\t}\n\t\t\t\t\t@RESOURCE[Water]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tamount = 2.175\n\t\t\t\t\t\tmaxAmount = 2.175\n\t\t\t\t\t}\n\t\t\t\t\t@RESOURCE[Oxygen]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tamount = 333.114\n\t\t\t\t\t\tmaxAmount = 333.114\n\t\t\t\t\t}\n\t\t\t\t\t@RESOURCE[CarbonDioxide]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxAmount = 287.739\n\t\t\t\t\t}\n\t\t\t\t\t@RESOURCE[Waste]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxAmount = 0.3\n\t\t\t\t\t}\n\t\t\t\t\t@RESOURCE[WasteWater]:NEEDS[TacLifeSupport]\n\t\t\t\t\t{\n\t\t\t\t\t\tmaxAmount = 2.772\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nPARTUPGRADE\n{\n\tname = SC-A-DM-3\n\tpartIcon = SSTU-SC-A-DM\n\ttitle = SSTU - SC - A - DM-3\n    description = An upgrade for the SC-A-DM which adds an extra seat, and extra life support supplies (if such a mod is installed). Now you can take the full suite of Kerbal professions with you on one mission.\n\ttechRequired = commandModules\n\tentryCost = 10000\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHey there,\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to add a custom upgrade to a part (SSTU\u0027s Soyuz), and so far it works in adding an extra crew slot, but I have hit an unexpected snag: Resource amounts don\u0027t seem to be upgraded when the upgrade is unlocked. I\u0027ve fiddled with the values (first, by using a *= 1.5 multiplier, then just calculating the amount myself and put it in the upgrade section). Anyone have some tips to help me fix this weird issue? Or if it\u0027s impossible, any workarounds?\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s my config:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-11-11T06:07:11Z\u0022 title=\u002211/11/2017 06:07  AM\u0022 data-short=\u00226 yr\u0022\u003ENovember 11, 2017\u003C/time\u003E by T-10a\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2017-11-11T10:29:30Z","Content":"\n\u003Cp\u003E\nSince you are deleting the PartStatsUpgradeModule first I doubt the\u00A0@RESOURCE can find anything to patch. Try without the \u003Cspan\u003E@\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-11-11T10:43:42Z","Content":"\n\u003Cp\u003E\nI removed the @ symbol, unfortunately it still refuses to apply the upgrade. Is there any documentation for the part upgrade system anywhere?\n\u003C/p\u003E\n"},{"CreatedByName":"Benjamin Kerman","CreatedById":172792,"CreatedDateTime":"2017-11-12T02:25:02Z","Content":"\n\u003Cp\u003E\nLook in the\u00A0\u003Ca href=\u0022https://github.com/sarbian/ModuleManager/wiki/Module-Manager-Handbook\u0022 rel=\u0022external nofollow\u0022\u003EModule Manager cookbook\u003C/a\u003E\u00A0and try to find some stock configs using this node for a template to use.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe KSP API has info on the node values, look at the Public Attributes list here:\u00A0\u003Ca href=\u0022https://kerbalspaceprogram.com/api/class_part_upgrade_handler_1_1_upgrade.html\u0022 rel=\u0022\u0022\u003Ehttps://kerbalspaceprogram.com/api/class_part_upgrade_handler_1_1_upgrade.html\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2017-11-13T03:59:05Z","Content":"\n\u003Cp\u003E\nLooked around the docs (Both the ModuleManager handbook and the KSP API), and can\u0027t see anything that (directly) jumps out as a way to add resources via upgrades. I could just be blind to it ._.\n\u003C/p\u003E\n"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2017-11-19T19:28:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223216509\u0022 data-ipsquote-contentid=\u0022167420\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221510397022\u0022 data-ipsquote-userid=\u0022176203\u0022 data-ipsquote-username=\u0022T-10a\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/11/2017 at 2:43 AM, T-10a said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs there any documentation for the part upgrade system anywhere?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHahaha!\n\u003C/p\u003E\n\u003Cp\u003E\nWell sort of, I found these:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed1305262153\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147576-modders-notes-for-ksp-12/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed766775470\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/150550-new-part-upgrade-module/\u0026amp;do=embed\u0022 style=\u0022height:209px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nAlso you can download the Porkjet replacement parts, those have some upgrades that you can use as an example.\n\u003C/p\u003E\n"}]}