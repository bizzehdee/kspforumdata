{"TopicId":7542,"ForumId":29,"TopicTitle":"The official unoffical \u0026quot;help a fellow plugin developer\u0026quot; thread","CreatedByName":"Cephei","CreatedById":2555,"CreatedDateTime":"2012-03-04T10:02:40Z","PageNum":76,"Articles":[{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-25T18:00:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mrsolarsail\u0022 data-cite=\u0022mrsolarsail\u0022\u003E\u003Cdiv\u003EHas anyone developed mods to with deployable trusses or tethers? I see that Infernal Robotics allows you to link parts of a spacecraft together with rotating parts. I\u0027m looking for something with connecting parts that expand.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKerbal Attachment System has struts and pipes that can be linked on EVA.\u003C/p\u003E\n"},{"CreatedByName":"mrsolarsail","CreatedById":121532,"CreatedDateTime":"2015-08-25T18:31:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blowfish\u0022 data-cite=\u0022blowfish\u0022\u003E\u003Cdiv\u003EKerbal Attachment System has struts and pipes that can be linked on EVA.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool, thanks. I was looking for something to link multiple solar sails together into a linear chain for hauling large payloads, and this could work using EVAs and on-orbit assembly.\u003C/p\u003E\n"},{"CreatedByName":"rmpalomino","CreatedById":147210,"CreatedDateTime":"2015-08-28T07:26:17Z","Content":"\n\u003Cp\u003EHello all, I\u0027m wondering if anyone could help me figure out a stock ApplicationLauncher issue. I\u0027ve been playing with it for the better part of a day, switching all kinds of stuff around. The problem started as multiple icons but is now just sometimes having the icon viewable in both the Flight/MapView views instead of just MapView. I\u0027ve provided the current code below and a tl:dr summary of perhaps related memory management points of file the in the spoiler.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/rmpalomino/mapviewplus/blob/master/src/MapViewPlus.cs\u0022 rel=\u0022external nofollow\u0022\u003ECurrent core file: https://github.com/rmpalomino/mapviewplus/blob/master/src/MapViewPlus.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI only want my ApplicationLauncherButton to be visible in the MapView scene, so I\u0027m following this process:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EStart addon only once in MainMenu scene. \u003C/p\u003E\u003Cp\u003EIn Awake: I register functions for onGUIApplication...Ready/Destroy. I make the GameObject persistent through scenes.\u003C/p\u003E\u003Cp\u003EIn the onGUI...Ready callback, I call AddModApplication(..., ApplicationLauncher.AppScenes.MAPVIEW, ...) and store the returned ApplicationLauncherButton in a static field.\u003C/p\u003E\u003Cp\u003EIn the onGUI...Destroy callback, I no longer cleanup the ApplicationLauncherButton.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI leave a stock craft on the Launchpad so I can easily enter the Flight scene. When I enter the Flight view there\u0027s no button, I enter MapView and there is a button. I go back to the Space Center, then back to the craft at the Launchpad and sometimes the button is still there. If it is, when I go to MapView and quick toggle the button on and off and return to the Space Center, the button is no longer there in the Flight view.\u003C/p\u003E\u003Cp\u003EOne other question that I\u0027m not sure where to ask, is there a specific place in the forums where we can ask if there\u0027s already a mod dedicated to adding some functionality?\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-28T07:32:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022rmpalomino\u0022 data-cite=\u0022rmpalomino\u0022\u003E\u003Cdiv\u003EHello all, I\u0027m wondering if anyone could help me figure out a stock ApplicationLauncher issue. I\u0027ve been playing with it for the better part of a day, switching all kinds of stuff around. The problem started as multiple icons but is now just sometimes having the icon viewable in both the Flight/MapView views instead of just MapView. I\u0027ve provided the current code below and a tl:dr summary of perhaps related memory management points of file the in the spoiler.\u003Cp\u003E\u003Ca href=\u0022https://github.com/rmpalomino/mapviewplus/blob/master/src/MapViewPlus.cs\u0022 rel=\u0022external nofollow\u0022\u003ECurrent core file: https://github.com/rmpalomino/mapviewplus/blob/master/src/MapViewPlus.cs\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI only want my ApplicationLauncherButton to be visible in the MapView scene, so I\u0027m following this process:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003EStart addon only once in MainMenu scene. \u003C/p\u003E\u003Cp\u003EIn Awake: I register functions for onGUIApplication...Ready/Destroy. I make the GameObject persistent through scenes.\u003C/p\u003E\u003Cp\u003EIn the onGUI...Ready callback, I call AddModApplication(..., ApplicationLauncher.AppScenes.MAPVIEW, ...) and store the returned ApplicationLauncherButton in a static field.\u003C/p\u003E\u003Cp\u003EIn the onGUI...Destroy callback, I no longer cleanup the ApplicationLauncherButton.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EI leave a stock craft on the Launchpad so I can easily enter the Flight scene. When I enter the Flight view there\u0027s no button, I enter MapView and there is a button. I go back to the Space Center, then back to the craft at the Launchpad and sometimes the button is still there. If it is, when I go to MapView and quick toggle the button on and off and return to the Space Center, the button is no longer there in the Flight view.\u003C/p\u003E\u003Cp\u003EOne other question that I\u0027m not sure where to ask, is there a specific place in the forums where we can ask if there\u0027s already a mod dedicated to adding some functionality?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EonGUIApplicationLauncherReady does not appear to work as it used to. Running the creation code in OnStart (be sure to check whether the button exists already) and the destruction code in OnDestroy appears to produce the required result. See \u003Ca href=\u0022https://github.com/KSP-RO/SolverEngines/blob/master/SolverEngines/EnginesGUI/FlightGUI.cs\u0022 rel=\u0022external nofollow\u0022\u003Ethis\u003C/a\u003E for an example.\u003C/p\u003E\n"},{"CreatedByName":"rmpalomino","CreatedById":147210,"CreatedDateTime":"2015-08-28T16:43:58Z","Content":"\n\u003Cp\u003EThanks for the input blowfish. I had initially done the setup in OnStart but wasn\u0027t sure about the cleanup. I\u0027ll have to test that out.\u003C/p\u003E\n"},{"CreatedByName":"royals","CreatedById":148935,"CreatedDateTime":"2015-08-28T21:51:54Z","Content":"\n\u003Cp\u003EIs there any way to see what mode/difficulty the current game is in? Would like to use it in my plugins for creating a better experience. It could just be modes (sandbox/career/science) but preferably also difficulties (easy/normal/hard).\u003C/p\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-08-28T22:04:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022royals\u0022 data-cite=\u0022royals\u0022\u003E\u003Cdiv\u003EIs there any way to see what mode/difficulty the current game is in? Would like to use it in my plugins for creating a better experience. It could just be modes (sandbox/career/science) but preferably also difficulties (easy/normal/hard).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHighLogic.CurrentGame.Mode can be queried for the current game mode.\u003C/p\u003E\u003Cp\u003EHighLogic.CurrentGame.Parameters is where you find the other settings. specifically HighLogic.CurrentGame.Parameters.preset for the preset settings. Otherwise you have to query the parameters.\u003C/p\u003E\n"},{"CreatedByName":"K3achas","CreatedById":99468,"CreatedDateTime":"2015-08-30T00:56:42Z","Content":"\n\u003Cp\u003EAnyone know how to display an interger in a part\u0027s editor context menu?\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-08-30T01:04:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K3achas\u0022 data-cite=\u0022K3achas\u0022\u003E\u003Cdiv\u003EAnyone know how to display an interger in a part\u0027s editor context menu?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Epublic class MyPartModule : PartModule\u003Cbr\u003E{\u003Cbr\u003E\t...\u003Cbr\u003E\u003Cbr\u003E\t[KSPField(guiActiveEditor=true)]\u003Cbr\u003E\tpublic int myInt = 42;\u003Cbr\u003E\u003Cbr\u003E\t...\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EmyInt will display in the part\u0027s right click menu in the editor, and will change the value when you change it.\u003C/p\u003E\n"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-08-30T20:25:40Z","Content":"\n\u003Cp\u003EI am trying to bring a unmaintained mod into 1.0.4 and add some new features to it, but I can\u0027t seem to get the menus to show up in game in the R click menu. Here is the code in question. It is a fork of the AVTOL mod. Thanks!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSP;\u003Cbr\u003Eusing RealFuels;\u003Cbr\u003Eusing AJE;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace AVTOL\u003Cbr\u003E{\u003Cbr\u003E    public class AVTOL:PartModule\u003Cbr\u003E    {\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Phase Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float phaseAngle = 90f;        \u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Max Angle\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float maxAngle = 90f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Step Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = -90f, maxValue = 90f, stepIncrement = 0.5f)]\u003Cbr\u003E        public float stepAngle = 22.5f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Vertical Cutoff\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 1f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float verticalspeed = 100f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL setting:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022On\u0022)]\u003Cbr\u003E        public bool showMenu = true;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL system:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022Engaged\u0022)]\u003Cbr\u003E        public bool isEngaged = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPAction(\u0022Toggle VTOL system\u0022)]\u003Cbr\u003E        public void toggleSystem(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            isEngaged = !isEngaged;\u003Cbr\u003E            print(\u0022VTOL Control System is \u0022 \u002B (isEngaged ? \u0022Engaged\u0022 : \u0022Off\u0022));\u003Cbr\u003E            if(!isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E                SetThrustPercentage(100f);\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Increase Phase Angle\u0022)]\u003Cbr\u003E        public void increasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle \u002B= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026gt; maxAngle)\u003Cbr\u003E                phaseAngle = maxAngle;\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Decrease Phase Angle\u0022)]\u003Cbr\u003E        public void DecreasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle -= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026lt; 0f)\u003Cbr\u003E                phaseAngle = 0f;\u003Cbr\u003E        }\u003Cbr\u003E        private ModuleEngines engine;\u003Cbr\u003E        private ModuleEnginesFX engineFX;\u003Cbr\u003E        private ModuleEnginesRF engineRF;\u003Cbr\u003E        private ModuleEnginesAJEJet engineAJE;\u003Cbr\u003E        public override void OnStart(StartState state)\u003Cbr\u003E        {\u003Cbr\u003E            if (state == StartState.Editor)\u003Cbr\u003E                return;\u003Cbr\u003E            showMenu = false;\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEngines\u0022))\u003Cbr\u003E                engine = (ModuleEngines)part.Modules[\u0022ModuleEngines\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesFX\u0022))\u003Cbr\u003E                engineFX = (ModuleEnginesFX)part.Modules[\u0022ModuleEnginesFX\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesRF\u0022))\u003Cbr\u003E                engineRF = (ModuleEnginesRF)part.Modules[\u0022ModuleEnginesRF\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJEJet\u0022))\u003Cbr\u003E                engineAJE = (ModuleEnginesAJEJet)part.Modules[\u0022ModuleEnginesAJEJet\u0022];\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void FixedUpdate()\u003Cbr\u003E        {\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActiveEditor = showMenu; \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (HighLogic.LoadedSceneIsEditor)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if(HighLogic.LoadedSceneIsFlight \u0026amp;\u0026amp; isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float T = pitchNeutral;\u003Cbr\u003E                T *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                T *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                T = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                T \u002B= pitchRange * vessel.ctrlState.pitch;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float R = rollNeutral;\u003Cbr\u003E                R *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                R *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                R = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                R \u002B= pitchRange * vessel.ctrlState.roll;\u003Cbr\u003E                float avgMoment = (T \u002B R) / 2;\u003Cbr\u003E                SetThrustPercentage(avgMoment);\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        void SetThrustPercentage(float avgMoment)\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            avgMoment = Mathf.Clamp(avgMoment, 0f, 100f);\u003Cbr\u003E            if(engine!=null)\u003Cbr\u003E            {\u003Cbr\u003E                engine.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineFX != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineFX.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineRF != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJE != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-30T22:14:14Z\u0022 title=\u002208/30/2015 10:14  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 30, 2015\u003C/time\u003E by Svm420\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-08-31T23:29:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Svm420\u0022 data-cite=\u0022Svm420\u0022\u003E\u003Cdiv\u003EI am trying to bring a unmaintained mod into 1.0.4 and add some new features to it, but I can\u0027t seem to get the menus to show up in game in the R click menu. Here is the code in question. It is a fork of the AVTOL mod. Thanks!\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSP;\u003Cbr\u003Eusing RealFuels;\u003Cbr\u003Eusing AJE;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace AVTOL\u003Cbr\u003E{\u003Cbr\u003E    public class AVTOL:PartModule\u003Cbr\u003E    {\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Phase Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float phaseAngle = 90f;        \u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Max Angle\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float maxAngle = 90f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Step Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = -90f, maxValue = 90f, stepIncrement = 0.5f)]\u003Cbr\u003E        public float stepAngle = 22.5f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Vertical Cutoff\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 1f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float verticalspeed = 100f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL setting:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022On\u0022)]\u003Cbr\u003E        public bool showMenu = true;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL system:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022Engaged\u0022)]\u003Cbr\u003E        public bool isEngaged = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPAction(\u0022Toggle VTOL system\u0022)]\u003Cbr\u003E        public void toggleSystem(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            isEngaged = !isEngaged;\u003Cbr\u003E            print(\u0022VTOL Control System is \u0022 \u002B (isEngaged ? \u0022Engaged\u0022 : \u0022Off\u0022));\u003Cbr\u003E            if(!isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E                SetThrustPercentage(100f);\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Increase Phase Angle\u0022)]\u003Cbr\u003E        public void increasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle \u002B= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026gt; maxAngle)\u003Cbr\u003E                phaseAngle = maxAngle;\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Decrease Phase Angle\u0022)]\u003Cbr\u003E        public void DecreasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle -= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026lt; 0f)\u003Cbr\u003E                phaseAngle = 0f;\u003Cbr\u003E        }\u003Cbr\u003E        private ModuleEngines engine;\u003Cbr\u003E        private ModuleEnginesFX engineFX;\u003Cbr\u003E        private ModuleEnginesRF engineRF;\u003Cbr\u003E        private ModuleEnginesAJEJet engineAJE;\u003Cbr\u003E        public override void OnStart(StartState state)\u003Cbr\u003E        {\u003Cbr\u003E            if (state == StartState.Editor)\u003Cbr\u003E                return;\u003Cbr\u003E            showMenu = false;\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEngines\u0022))\u003Cbr\u003E                engine = (ModuleEngines)part.Modules[\u0022ModuleEngines\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesFX\u0022))\u003Cbr\u003E                engineFX = (ModuleEnginesFX)part.Modules[\u0022ModuleEnginesFX\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesRF\u0022))\u003Cbr\u003E                engineRF = (ModuleEnginesRF)part.Modules[\u0022ModuleEnginesRF\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJEJet\u0022))\u003Cbr\u003E                engineAJE = (ModuleEnginesAJEJet)part.Modules[\u0022ModuleEnginesAJEJet\u0022];\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void FixedUpdate()\u003Cbr\u003E        {\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActiveEditor = showMenu; \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (HighLogic.LoadedSceneIsEditor)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if(HighLogic.LoadedSceneIsFlight \u0026amp;\u0026amp; isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float T = pitchNeutral;\u003Cbr\u003E                T *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                T *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                T = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                T \u002B= pitchRange * vessel.ctrlState.pitch;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float R = rollNeutral;\u003Cbr\u003E                R *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                R *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                R = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                R \u002B= pitchRange * vessel.ctrlState.roll;\u003Cbr\u003E                float avgMoment = (T \u002B R) / 2;\u003Cbr\u003E                SetThrustPercentage(avgMoment);\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        void SetThrustPercentage(float avgMoment)\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            avgMoment = Mathf.Clamp(avgMoment, 0f, 100f);\u003Cbr\u003E            if(engine!=null)\u003Cbr\u003E            {\u003Cbr\u003E                engine.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineFX != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineFX.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineRF != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJE != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAlthough I am not near my PC right now, the code looks fine. So you have compiled this against the latest KSP assembly using .net 3.5\u003C/p\u003E\u003Cp\u003EHave you been through the log to look for what errors you are getting?\u003C/p\u003E\n"},{"CreatedByName":"legacynl","CreatedById":138182,"CreatedDateTime":"2015-09-02T17:01:30Z","Content":"\n\u003Cp\u003EHey everybody. I\u0027m trying to build RemoteTech from source using monodevelop on linux. The remotetech code uses overloaded functions with default values. To my understanding this is a feature that\u0027s only available in .NET from 4.0 onwards. If I try to compile against .NET 4.0 I get an error, because Unity was built against .NET 3.5. So how do I go around doing this? How do the RT devs use default values?\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-09-02T17:11:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022legacynl\u0022 data-cite=\u0022legacynl\u0022\u003E\u003Cdiv\u003EHey everybody. I\u0027m trying to build RemoteTech from source using monodevelop on linux. The remotetech code uses overloaded functions with default values. To my understanding this is a feature that\u0027s only available in .NET from 4.0 onwards. If I try to compile against .NET 4.0 I get an error, because Unity was built against .NET 3.5. So how do I go around doing this? How do the RT devs use default values?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve used that feature plenty of times. It compiles fine in Visual Studio against .NET 3.5. Not sure about Monodevelop.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-09-02T17:45:16Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022legacynl\u0022 data-cite=\u0022legacynl\u0022\u003E\u003Cdiv\u003EHey everybody. I\u0027m trying to build RemoteTech from source using monodevelop on linux. The remotetech code uses overloaded functions with default values. To my understanding this is a feature that\u0027s only available in .NET from 4.0 onwards. If I try to compile against .NET 4.0 I get an error, because Unity was built against .NET 3.5. So how do I go around doing this? How do the RT devs use default values?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt should only be a problem if the default parameters result in two overloads using the same set of non-default parameters.\u003C/p\u003E\u003Cp\u003ESomething like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid funcOne (bool b, string s, bool c = false)\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Evoid funcOne (bool b, string s)\u003Cbr\u003E{\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EEven then I think it should compile, but the default parameter will just be pointless since it will only go to that function if you actually specify it. I\u0027m also using VS, so maybe it\u0027s something specific to Monodevelop.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-09-02T18:01:41Z","Content":"\n\u003Cp\u003EI seem to recall hitting that in Unity--Monodevelop freaks but Unity\u0027s fine with it. So it sounds like a Monodevelop issue, sad to say.\u003C/p\u003E\n"},{"CreatedByName":"Svm420","CreatedById":136047,"CreatedDateTime":"2015-09-03T17:58:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022JPLRepo\u0022 data-cite=\u0022JPLRepo\u0022\u003E\u003Cdiv\u003EAlthough I am not near my PC right now, the code looks fine. So you have compiled this against the latest KSP assembly using .net 3.5\u003Cp\u003EHave you been through the log to look for what errors you are getting?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell I am getting this error in my log. I was using .NET 3.5 and latest KSP\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[ERR 13:40:07.129] AssemblyLoader: Exception loading \u0027AVTOL\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\u003Cbr\u003E  at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\u003Cbr\u003E  at System.Reflection.Assembly.GetTypes () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at AssemblyLoader.LoadAssemblies () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is the source I was using when I got the error. I tried without the AJE and RF stuff and it works in the editor and shows up on all engines like it used to, but doesn\u0027t have any effect on engine thrust when pitching up or down like it should. That was on a RF engine so I can see I need to have them be a part of the plugin if I want it to work on that engine type.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSP;\u003Cbr\u003Eusing RealFuels;\u003Cbr\u003Eusing AJE;\u003Cbr\u003Eusing SolverEngines;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace AVTOL\u003Cbr\u003E{\u003Cbr\u003E    public class AVTOL:PartModule\u003Cbr\u003E    {\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Roll Neutral%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Roll Range%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Phase Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float phaseAngle = 90f;        \u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Max Angle\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float maxAngle = 90f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Step Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = -90f, maxValue = 90f, stepIncrement = 0.5f)]\u003Cbr\u003E        public float stepAngle = 22.5f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Vertical Cutoff\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 1f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float verticalspeed = 100f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL setting:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022On\u0022)]\u003Cbr\u003E        public bool showMenu = true;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL system:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022Engaged\u0022)]\u003Cbr\u003E        public bool isEngaged = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPAction(\u0022Toggle VTOL system\u0022)]\u003Cbr\u003E        public void toggleSystem(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            isEngaged = !isEngaged;\u003Cbr\u003E            print(\u0022VTOL Control System is \u0022 \u002B (isEngaged ? \u0022Engaged\u0022 : \u0022Off\u0022));\u003Cbr\u003E            if(!isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E                SetThrustPercentage(100f);\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Increase Phase Angle\u0022)]\u003Cbr\u003E        public void increasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle \u002B= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026gt; maxAngle)\u003Cbr\u003E                phaseAngle = maxAngle;\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Decrease Phase Angle\u0022)]\u003Cbr\u003E        public void DecreasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle -= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026lt; 0f)\u003Cbr\u003E                phaseAngle = 0f;\u003Cbr\u003E        }\u003Cbr\u003E        private ModuleEngines engine;\u003Cbr\u003E        private ModuleEnginesFX engineFX;\u003Cbr\u003E        private ModuleEnginesRF engineRF;\u003Cbr\u003E        private ModuleEnginesAJEJet engineAJEj;\u003Cbr\u003E        private    ModuleEnginesAJERotor engineAJEr;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public override void OnStart(StartState state)\u003Cbr\u003E        {\u003Cbr\u003E            if (state == StartState.Editor)\u003Cbr\u003E                return;\u003Cbr\u003E            showMenu = false;\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEngines\u0022))\u003Cbr\u003E                engine = (ModuleEngines)part.Modules[\u0022ModuleEngines\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesFX\u0022))\u003Cbr\u003E                engineFX = (ModuleEnginesFX)part.Modules[\u0022ModuleEnginesFX\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesRF\u0022))\u003Cbr\u003E                engineRF = (ModuleEnginesRF)part.Modules[\u0022ModuleEnginesRF\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJEJet\u0022))\u003Cbr\u003E                engineAJEj = (ModuleEnginesAJEJet)part.Modules[\u0022ModuleEnginesAJEJet\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJERotor\u0022))\u003Cbr\u003E                engineAJEr = (ModuleEnginesAJERotor)part.Modules[\u0022ModuleEnginesAJERotor\u0022];\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void FixedUpdate()\u003Cbr\u003E        {\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (HighLogic.LoadedSceneIsEditor)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if(HighLogic.LoadedSceneIsFlight \u0026amp;\u0026amp; isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float T = pitchNeutral;\u003Cbr\u003E                T *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                T *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                T = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                T \u002B= pitchRange * vessel.ctrlState.pitch;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float R = rollNeutral;\u003Cbr\u003E                R *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                R *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                R = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                R \u002B= rollRange * vessel.ctrlState.roll;\u003Cbr\u003E                float avgMoment = (T \u002B R) / 2;\u003Cbr\u003E                SetThrustPercentage(avgMoment);\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        void SetThrustPercentage(float avgMoment)\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            avgMoment = Mathf.Clamp(avgMoment, 0f, 100f);\u003Cbr\u003E            if(engine!=null)\u003Cbr\u003E            {\u003Cbr\u003E                engine.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineFX != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineFX.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineRF != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJEj != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJEr != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-09-03T18:52:28Z","Content":"\n\u003Cp\u003EBelieve you are running into a race condition where your mod (starting with A) tries to load before RealFuels (letter R) or SolverEngines (letter S) and so when KSP processes your mod and tries to find the hooks into RealFuels and SolverEngines it can\u0027t as those mods have not yet loaded.\u003C/p\u003E\u003Cp\u003EYou can:\u003C/p\u003E\u003Cp\u003E1) Change the name of your mod so it loads last.\u003C/p\u003E\u003Cp\u003E-Older method that still works but is not the recommended way to do things any more.\u003C/p\u003E\u003Cp\u003E2) Tag your mod with the KSPAssemblyDependency attributes for the mods you depend on. (I may have that command slightly wrong, it\u0027s from memory.)\u003C/p\u003E\u003Cp\u003E-If your mod requires the mod you are linking to and will not work without it, this is the preferred way as it is easier to implement.\u003C/p\u003E\u003Cp\u003E3) Change to using reflection for the interaction between mods.\u003C/p\u003E\u003Cp\u003E-If your mod only uses the mod you are linking to as an option, this is the way you need to set things up to avoid having to release two versions of your mod, one version that uses the other mod, and a version that doesn\u0027t. It is more complex to setup however.\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-03T19:00:46Z\u0022 title=\u002209/03/2015 07:00  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 3, 2015\u003C/time\u003E by Diazo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-09-03T19:29:09Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Svm420\u0022 data-cite=\u0022Svm420\u0022\u003E\u003Cdiv\u003EWell I am getting this error in my log. I was using .NET 3.5 and latest KSP\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[ERR 13:40:07.129] AssemblyLoader: Exception loading \u0027AVTOL\u0027: System.Reflection.ReflectionTypeLoadException: The classes in the module cannot be loaded.\u003Cbr\u003E  at (wrapper managed-to-native) System.Reflection.Assembly:GetTypes (bool)\u003Cbr\u003E  at System.Reflection.Assembly.GetTypes () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at AssemblyLoader.LoadAssemblies () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is the source I was using when I got the error. I tried without the AJE and RF stuff and it works in the editor and shows up on all engines like it used to, but doesn\u0027t have any effect on engine thrust when pitching up or down like it should. That was on a RF engine so I can see I need to have them be a part of the plugin if I want it to work on that engine type.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eusing System;\u003Cbr\u003Eusing System.Collections.Generic;\u003Cbr\u003Eusing System.Linq;\u003Cbr\u003Eusing System.Text;\u003Cbr\u003Eusing UnityEngine;\u003Cbr\u003Eusing KSP;\u003Cbr\u003Eusing RealFuels;\u003Cbr\u003Eusing AJE;\u003Cbr\u003Eusing SolverEngines;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Enamespace AVTOL\u003Cbr\u003E{\u003Cbr\u003E    public class AVTOL:PartModule\u003Cbr\u003E    {\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Neutral%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Pitch Range%\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float pitchRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Roll Neutral%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = 0f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollNeutral = 100f;\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Roll Range%\u0022), \u003Cbr\u003E            UI_FloatRange(minValue = -100f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float rollRange = 0f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Phase Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float phaseAngle = 90f;        \u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Max Angle\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 0f, maxValue = 180f, stepIncrement = 5f)]\u003Cbr\u003E        public float maxAngle = 90f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Step Angle\u0022),\u003Cbr\u003E        UI_FloatRange(minValue = -90f, maxValue = 90f, stepIncrement = 0.5f)]\u003Cbr\u003E        public float stepAngle = 22.5f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022Vertical Cutoff\u0022), \u003Cbr\u003E        UI_FloatRange(minValue = 1f, maxValue = 100f, stepIncrement = 1f)]\u003Cbr\u003E        public float verticalspeed = 100f;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL setting:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022On\u0022)]\u003Cbr\u003E        public bool showMenu = true;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPField(isPersistant = true, guiActive = true, guiActiveEditor = true, guiName = \u0022VTOL system:\u0022),\u003Cbr\u003E        UI_Toggle(disabledText = \u0022Off\u0022, enabledText = \u0022Engaged\u0022)]\u003Cbr\u003E        public bool isEngaged = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        [KSPAction(\u0022Toggle VTOL system\u0022)]\u003Cbr\u003E        public void toggleSystem(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            isEngaged = !isEngaged;\u003Cbr\u003E            print(\u0022VTOL Control System is \u0022 \u002B (isEngaged ? \u0022Engaged\u0022 : \u0022Off\u0022));\u003Cbr\u003E            if(!isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E                SetThrustPercentage(100f);\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Increase Phase Angle\u0022)]\u003Cbr\u003E        public void increasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle \u002B= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026gt; maxAngle)\u003Cbr\u003E                phaseAngle = maxAngle;\u003Cbr\u003E        }\u003Cbr\u003E        [KSPAction(\u0022Decrease Phase Angle\u0022)]\u003Cbr\u003E        public void DecreasePhaseAngle(KSPActionParam param)\u003Cbr\u003E        {\u003Cbr\u003E            phaseAngle -= stepAngle;\u003Cbr\u003E            if (phaseAngle \u0026lt; 0f)\u003Cbr\u003E                phaseAngle = 0f;\u003Cbr\u003E        }\u003Cbr\u003E        private ModuleEngines engine;\u003Cbr\u003E        private ModuleEnginesFX engineFX;\u003Cbr\u003E        private ModuleEnginesRF engineRF;\u003Cbr\u003E        private ModuleEnginesAJEJet engineAJEj;\u003Cbr\u003E        private    ModuleEnginesAJERotor engineAJEr;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public override void OnStart(StartState state)\u003Cbr\u003E        {\u003Cbr\u003E            if (state == StartState.Editor)\u003Cbr\u003E                return;\u003Cbr\u003E            showMenu = false;\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEngines\u0022))\u003Cbr\u003E                engine = (ModuleEngines)part.Modules[\u0022ModuleEngines\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesFX\u0022))\u003Cbr\u003E                engineFX = (ModuleEnginesFX)part.Modules[\u0022ModuleEnginesFX\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesRF\u0022))\u003Cbr\u003E                engineRF = (ModuleEnginesRF)part.Modules[\u0022ModuleEnginesRF\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJEJet\u0022))\u003Cbr\u003E                engineAJEj = (ModuleEnginesAJEJet)part.Modules[\u0022ModuleEnginesAJEJet\u0022];\u003Cbr\u003E            if (part.Modules.Contains(\u0022ModuleEnginesAJERotor\u0022))\u003Cbr\u003E                engineAJEr = (ModuleEnginesAJERotor)part.Modules[\u0022ModuleEnginesAJERotor\u0022];\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        public void FixedUpdate()\u003Cbr\u003E        {\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022pitchRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollNeutral\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022rollRange\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022phaseAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022maxAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022stepAngle\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActive = showMenu;\u003Cbr\u003E            this.Fields[\u0022verticalspeed\u0022].guiActiveEditor = showMenu;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            if (HighLogic.LoadedSceneIsEditor)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if(HighLogic.LoadedSceneIsFlight \u0026amp;\u0026amp; isEngaged)\u003Cbr\u003E            {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float T = pitchNeutral;\u003Cbr\u003E                T *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                T *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                T = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                T \u002B= pitchRange * vessel.ctrlState.pitch;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E                float R = rollNeutral;\u003Cbr\u003E                R *= (1f - (float)vessel.verticalSpeed / verticalspeed);\u003Cbr\u003E                R *= Mathf.Sin(phaseAngle / 57.259f);\u003Cbr\u003E                R = Mathf.Clamp(T, 0f, 100f);\u003Cbr\u003E                R \u002B= rollRange * vessel.ctrlState.roll;\u003Cbr\u003E                float avgMoment = (T \u002B R) / 2;\u003Cbr\u003E                SetThrustPercentage(avgMoment);\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E        void SetThrustPercentage(float avgMoment)\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            avgMoment = Mathf.Clamp(avgMoment, 0f, 100f);\u003Cbr\u003E            if(engine!=null)\u003Cbr\u003E            {\u003Cbr\u003E                engine.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineFX != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineFX.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineRF != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJEj != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E            if (engineAJEr != null)\u003Cbr\u003E            {\u003Cbr\u003E                engineRF.thrustPercentage = avgMoment;\u003Cbr\u003E                return;\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell to me it looks like a .NET issue. Are all the DLLs you are referencing compiled against .Net 3.5? and the latest/same Assembly-CSharp (KSP)\u003C/p\u003E\u003Cp\u003EIE: RealFuels, AJE, SolverEngines\u003C/p\u003E\u003Cp\u003EEDIT: Ninja\u0027d by Diazo. Like he said.\u003C/p\u003E\n"},{"CreatedByName":"whoshotdk","CreatedById":115018,"CreatedDateTime":"2015-09-04T20:37:11Z","Content":"\n\u003Cp\u003EHello\u003C/p\u003E\u003Cp\u003EI keep vessel specific notes (ascent details, action groups etc) in each of my vessel\u0027s descriptions and it would be useful to have that info shown in a window during flight instead of hastily-written-back-of-envelope notes cluttering my desk.\u003C/p\u003E\u003Cp\u003ESo I thought I\u0027d spend 10 minutes making a quick plugin that shows the active vessel\u0027s description in flight.\u003C/p\u003E\u003Cp\u003ESeveral hours later, I\u0027ve got a window to show up and display the vessel\u0027s name. But nowhere in the API can I see how to retrieve its description. I rather think it may not be accessible. So my thought was, maybe I should read the description from the active vessel\u0027s .craft file directly.\u003C/p\u003E\u003Cp\u003ESo I have this as part of my code:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[font=Menlo][color=#444444]ShipConstruct[/color][color=#444444]ship[/color][color=#444444] = [/color][color=#009695]new[/color][color=#444444]ShipConstruct[/color][color=#444444] ();[/color][color=#444444]ship[/color][color=#444444].[/color][color=#444444]LoadShip[/color][color=#444444] ([/color][color=#444444]ConfigNode[/color][color=#444444].[/color][color=#444444]Load[/color][color=#444444] ([/color][color=#444444]FlightGlobals[/color][color=#444444].[/color][color=#444444]ActiveVessel[/color][color=#444444].[/color][color=#444444]vesselName[/color][color=#444444] \u002B [/color][color=#f57c00]\u0022[/color][color=#f57c00].craft[/color][color=#f57c00]\u0022[/color][color=#444444]));[/color][color=#444444]vesselDescription[/color][color=#444444] = [/color][color=#444444]ship[/color][color=#444444].[/color][color=#444444]shipDescription[/color][color=#444444];[/color][/font]\u003C/pre\u003E\u003Cp\u003EThose three lines are what I\u0027ve cobbled together after a few hours of hard Googling. However, the in-game debug reports the craft file is not found. Furthermore, I know this is bad as the craft filename is not necessarily going to be the actual craft\u0027s in-game name.\u003C/p\u003E\u003Cp\u003ESo, TL,DR;\u003C/p\u003E\u003Cp\u003EIs reading directly from a .craft file the best way to retrieve a vessel\u0027s description?\u003C/p\u003E\u003Cp\u003EIf so, how do I get the active vessel\u0027s filename (and full game path if I have to pass an absolute path instead of a relative one) ?\u003C/p\u003E\u003Cp\u003EOr is there a description property hiding in the API somewhere I can just grab?\u003C/p\u003E\u003Cp\u003EAny help would be much appreciated!\u003C/p\u003E\u003Cp\u003EDave\u003C/p\u003E\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-09-05T00:06:10Z","Content":"\n\u003Cp\u003EWelcome to one of the holes in the current setup we have to work with.\u003C/p\u003E\u003Cp\u003EThe core issue is that when KSP parses the .craft file to make the in-flight vessel, it does not bring across the description text for some reason so it is simply not there to be found on a spawned vessel in flight.\u003C/p\u003E\u003Cp\u003ESo yes, the only way to see the description in flight is to read the .craft file.\u003C/p\u003E\u003Cp\u003EHowever, as you noted the .craft file is the vessel name, if you rename the vessel you no longer have any way of linking the in-flight vessel back to the .craft file to find the description.\u003C/p\u003E\u003Cp\u003EI\u0027ve struggled with this extensively for my AGX mod and there is no real good answer.\u003C/p\u003E\u003Cp\u003ETo answer your questions however, the reason that the .craft file can not be found is because you did not give it a file path so KSP is looking for it in the KSP directory, not the game save directory.\u003C/p\u003E\u003Cp\u003EI load a .cfg file from the root save directory \u003Ca href=\u0022https://github.com/SirDiazo/AGExt/blob/master/AGExt/Editor.cs#L4056\u0022 rel=\u0022external nofollow\u0022\u003Ewith this code,\u003C/a\u003E you should be able to extend it easily enough to load from the ships sub-folder at that location.\u003C/p\u003E\u003Cp\u003EHowever, it might be simpler to tack on a partModule of your own to same a second copy of the notes in the editor that you can load in flight. \u003C/p\u003E\u003Cp\u003EAlso, I\u0027m pretty sure I\u0027ve seen a couple other mods that do this although I can\u0027t remember their exact names at the moment if you are willing to go that route. (In-flight notes, notepad? something like that.)\u003C/p\u003E\u003Cp\u003ED.\u003C/p\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2015-09-05T00:29:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022whoshotdk\u0022 data-cite=\u0022whoshotdk\u0022\u003E\u003Cdiv\u003EHello\u003Cp\u003EI keep vessel specific notes (ascent details, action groups etc) in each of my vessel\u0027s descriptions and it would be useful to have that info shown in a window during flight instead of hastily-written-back-of-envelope notes cluttering my desk.\u003C/p\u003E\u003Cp\u003ESo I thought I\u0027d spend 10 minutes making a quick plugin that shows the active vessel\u0027s description in flight.\u003C/p\u003E\u003Cp\u003ESeveral hours later, I\u0027ve got a window to show up and display the vessel\u0027s name. But nowhere in the API can I see how to retrieve its description. I rather think it may not be accessible. So my thought was, maybe I should read the description from the active vessel\u0027s .craft file directly.\u003C/p\u003E\u003Cp\u003ESo I have this as part of my code:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[FONT=Menlo][COLOR=#444444]\u003Cbr\u003EShipConstruct[/COLOR][COLOR=#444444]ship[/COLOR][COLOR=#444444] = [/COLOR][COLOR=#009695]new[/COLOR][COLOR=#444444]ShipConstruct[/COLOR][COLOR=#444444] ();[/COLOR]\u003Cbr\u003E[COLOR=#444444]ship[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]LoadShip[/COLOR][COLOR=#444444] ([/COLOR][COLOR=#444444]ConfigNode[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]Load[/COLOR][COLOR=#444444] ([/COLOR][COLOR=#444444]FlightGlobals[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]ActiveVessel[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]vesselName[/COLOR][COLOR=#444444] \u002B [/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#f57c00].craft[/COLOR][COLOR=#f57c00]\u0022[/COLOR][COLOR=#444444]));[/COLOR]\u003Cbr\u003E[COLOR=#444444]vesselDescription[/COLOR][COLOR=#444444] = [/COLOR][COLOR=#444444]ship[/COLOR][COLOR=#444444].[/COLOR][COLOR=#444444]shipDescription[/COLOR][COLOR=#444444];\u003Cbr\u003E[/COLOR][/FONT]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThose three lines are what I\u0027ve cobbled together after a few hours of hard Googling. However, the in-game debug reports the craft file is not found. Furthermore, I know this is bad as the craft filename is not necessarily going to be the actual craft\u0027s in-game name.\u003C/p\u003E\u003Cp\u003ESo, TL,DR;\u003C/p\u003E\u003Cp\u003EIs reading directly from a .craft file the best way to retrieve a vessel\u0027s description?\u003C/p\u003E\u003Cp\u003EIf so, how do I get the active vessel\u0027s filename (and full game path if I have to pass an absolute path instead of a relative one) ?\u003C/p\u003E\u003Cp\u003EOr is there a description property hiding in the API somewhere I can just grab?\u003C/p\u003E\u003Cp\u003EAny help would be much appreciated!\u003C/p\u003E\u003Cp\u003EDave\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirespitter has a PartModule that gives you info when you press a particular button - the module name is FSinfoPopup. It\u0027s used in B9.\u003C/p\u003E\n"},{"CreatedByName":"Fengist","CreatedById":78435,"CreatedDateTime":"2015-09-05T16:14:09Z","Content":"\n\u003Cp\u003EQuestion. Would the following code be the correct way to open and close intakes based on altitude? It appears to work, I\u0027m just a total noob at this so just checking to make sure. Thanks.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E        //Close Intakes\u003Cbr\u003E        if (FlightGlobals.ActiveVessel.altitude \u0026lt; 1.0)\u003Cbr\u003E        {\u003Cbr\u003E                foreach (ModuleResourceIntake s in FlightGlobals.ActiveVessel.FindPartModulesImplementing\u0026lt;ModuleResourceIntake\u0026gt;())\u003Cbr\u003E                {\u003Cbr\u003E                    s.Deactivate();\u003Cbr\u003E                    intakesClosed = true;\u003Cbr\u003E                }\u003Cbr\u003E        }\u003Cbr\u003E        else\u003Cbr\u003E        {\u003Cbr\u003E            if (intakesClosed)\u003Cbr\u003E            {\u003Cbr\u003E                foreach (ModuleResourceIntake s in FlightGlobals.ActiveVessel.FindPartModulesImplementing\u0026lt;ModuleResourceIntake\u0026gt;())\u003Cbr\u003E                {\u003Cbr\u003E                    s.Activate();\u003Cbr\u003E                    intakesClosed = false;\u003Cbr\u003E                }\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        //end Close Intakes\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd another question. If I wanted to change the thrust on any engine on the vessel based on altitude, would I need to do something like this to both ModuleEngines AND ModuleEnginesFX or is there a way to get all engines at once? Basically, for this one, I\u0027m trying to keep my boats from flying.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-05T16:23:34Z\u0022 title=\u002209/05/2015 04:23  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 5, 2015\u003C/time\u003E by Fengist\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"EladDv","CreatedById":118368,"CreatedDateTime":"2015-09-05T22:54:12Z","Content":"\n\u003Cp\u003Ehello! i am new to KSP modding and i have taken quite a daunting task on my first project... on-the-fly part welding. now i have most of the parts done for(testing still due on some things but it seems to be good) but i have gotten into quite of a problem with resources\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E  partConfig.Save(KSPUtil.ApplicationRootPath\u002B \u0022\\\\EladsConfig.cfg\u0022);            Part FinalPart = ConfigNode.CreateObjectFromConfig\u0026lt;Part\u0026gt;(partConfig) ;\u003Cbr\u003E            //ConfigNode.LoadObjectFromConfig(FinalPart, partConfig);\u003Cbr\u003E            List\u0026lt;PartResource\u0026gt; newList = new List\u0026lt;PartResource\u0026gt;();\u003Cbr\u003E            foreach (ConfigNode node in TotalResources)\u003Cbr\u003E            {\u003Cbr\u003E                Debug.Log(\u0022 creating resources \u0022);\u003Cbr\u003E                PartResource res = new PartResource();\u003Cbr\u003E                string resourceName = node.GetValue(\u0022name\u0022);\u003Cbr\u003E                double resourceAmount = double.Parse(node.GetValue(\u0022amount\u0022));\u003Cbr\u003E                double resourceMax = double.Parse(node.GetValue(\u0022maxAmount\u0022));\u003Cbr\u003E                res.resourceName = resourceName;\u003Cbr\u003E                res.amount = resourceAmount;\u003Cbr\u003E                res.maxAmount = resourceMax;\u003Cbr\u003E                FinalPart.Resources.Add(node);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            }\u003Cbr\u003E            Debug.Log(\u0022 created resources \u0022);\u003Cbr\u003E            Debug.Log(\u0022 Created Part \u0022);\u003Cbr\u003E            Debug.Log(\u0022 Part mass \u0022 \u002B FinalPart.mass);\u003Cbr\u003E            Debug.Log(\u0022 Part Name \u0022 \u002B FinalPart.partName);\u003Cbr\u003E            return FinalPart;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eeverytime i use FinalPart.Resources or try to access it i get a Null-reference-exception and when i check i see it\u0027s null but i cant add to it anything. Yes the Config Node is perfect i checked it against other stock parts. other then rerouting the part through a copy of another one i am lost\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2015-09-06T00:00:24Z","Content":"\n\u003Cp\u003EFengist:\u003C/p\u003E\u003Cp\u003E1. The code looks correct, although it\u0027s worth noting that in Unity, foreach is a bad idea in realtime applications. I\u0027d suggest something like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif(FlightGlobals.ActiveVessel != null)\u003Cbr\u003Efor(int p = FlightGlobals.ActiveVessel.Parts.Count - 1; p \u0026gt;= 0; --p)\u003Cbr\u003E{\u003Cbr\u003E\tfor(int i = FlightGlobals.ActiveVessel.Parts[p].Modules.Count - 1; i \u0026gt;= 0; --i)\u003Cbr\u003E\t{\u003Cbr\u003E\t\tPartModule m = FlightGlobals.ActiveVessel.Parts[p].Modules[i];\u003Cbr\u003E\t\tif(m is ModuleResourceIntake)\u003Cbr\u003E\t\t\t(m as ModuleResourceIntake).Activate()\u003Cbr\u003E\t}\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E2. ModuleEnginesFX derives from ModuleEngines. So you can just use the above code, and instead of checking if m is ModuleResourceIntake (and casting to that) you can check if m is ModuleEngines and cast to that.\u003C/p\u003E\n"},{"CreatedByName":"Commander Jebidiah","CreatedById":78685,"CreatedDateTime":"2015-09-06T01:23:54Z","Content":"\n\u003Cp\u003EHow would you go about making code that makes an alarm sound when a part starts to overheat?\u003C/p\u003E\u003Cp\u003EAnd even more how would you get the alarm to sound once it reaches 75% of its critical temperature?\u003C/p\u003E\n"}]}