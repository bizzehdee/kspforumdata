{"TopicId":155114,"ForumId":16,"TopicTitle":"Aerodynamic effects of autostruts","CreatedByName":"renhanxue","CreatedById":173600,"CreatedDateTime":"2017-01-17T01:31:50Z","PageNum":1,"Articles":[{"CreatedByName":"renhanxue","CreatedById":173600,"CreatedDateTime":"2017-01-17T01:31:50Z","Content":"\n\u003Cp\u003E\nI was playing around with a simple plane with infinite fuel enabled, in order to test the effects of dihedral and high vs low wing, but I was getting some extraordinarily weird results. I was expecting the high wing dihedral arrangement to counteract sideslip disturbances and make the plane not tend to bank into level turns, but that wasn\u0027t what was happening at all. This was my test craft:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00229NMxJlu.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/9NMxJlu.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIt is, as far as I can tell, completely symmetrical around the longitudinal axis. Reaction wheels were disabled and I was flying without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E. Ignore the radial parachutes on the bottom, I was trying to balance out the high wings to neutralize torque from the engine thrust axis being off center mass, but they have no effect on the test and I just removed them.\n\u003C/p\u003E\n\u003Cp\u003E\nAfter taking off and trimming pitch neutral, I was getting a very noticeable and annoying roll tendency to the left, and I just couldn\u0027t figure out why. I could trim it out, sure, but where was it coming from? On my actual planes I was planning to fly with \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on (for autotrim, mostly) and I find that making the plane as stable as possible without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E on helps a lot with making it fly well. After investigating if there was asymmetric drag or lift going on somewhere and scratching my head for a bit I discovered this little bit of weirdness: if the wings are set to autostrut to heaviest part (the engine), the plane consistently rolls to the left. If they are set to autostrut to the root or grandparent part (the cockpit in both cases), the roll tendency is much less pronounced but still there. With autostruts disabled, the wing configuration does what I expected, and the plane is quite well-behaved in level turns - just bank it over 20-30\u00B0 in either direction and it will quickly stabilize in a clean turn with no sideslip by itself with no input other than the pitch trim, and it has a weak tendency to bank out of the turn and return to wings level regardless of turn direction. Rigid attachment of the wings seems to have a similar effect of making the plane tend towards to rolling left, but the effect is quite weak and it could easily be a mistake on my part (my testing methodology is hardly all that scientific and the testing environment isn\u0027t exactly controlled).\n\u003C/p\u003E\n\u003Cp\u003E\nWhat is going on here? Why does this happen? Surely autostruts don\u0027t actually have drag (even if they did, I don\u0027t think that would cause this). I\u0027ve seen some discussion of some old symmetry joint rigidity bug that could have similar effects but I couldn\u0027t find it on the bug tracker.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/0B8bCDRcq9BVeVk1OTEVGbmRpR2s/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EHere is the craft file\u003C/a\u003E for the test aircraft (with autostruts and rigid attachment off) in case you want to play around with it yourself. To reproduce my test conditions, take off (it is pretty nose heavy at low speed but you have more than enough pitch authority to counteract that) and get into stable level flight, without \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, with nose pointed at horizon. Adjust pitch trim so that the plane maintains level flight. I did my tests at quite low \u003Cabbr title=\u0022Angle of Attack\u0022\u003EAoA\u003C/abbr\u003E - around half a degree. Bank the aircraft left or right and observe how it behaves in a turn. Now, while you\u0027re in such a turn, autostrut the wings to the heaviest part and observe the roll tendency. It\u0027s more noticeable in a right hand turn because then the high-wing dihedral tendency to return to wings level combines with the tendency to roll to the left. It is also more noticeable at higher speeds.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-17T03:48:46Z\u0022 title=\u002201/17/2017 03:48  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 17, 2017\u003C/time\u003E by renhanxue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"fourfa","CreatedById":151713,"CreatedDateTime":"2017-01-17T03:33:53Z","Content":"\n\u003Cp\u003E\nVery interesting. \u00A0I\u0027m quite sure that it has nothing to do with aero drag, but about tiny deflections of the wing from aero forces - which can change when tweaking the autostruts. \u00A0However I don\u0027t have any data to back that up right now.\n\u003C/p\u003E\n\u003Cp\u003E\nI had a really persistent problem in 1.1.3 where my \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003ESSTO\u003C/abbr\u003E cargo plane would fly great until delivering the payload and reloading the scene back to the plane, then would have a pronounced roll on re-entry. \u00A0If you never, ever switched away from the plane, no problem. \u00A0What I now realize\u00A0was happening - the landing gear autostruts (the only kind present in 1.1.3) were strutting to heaviest part (something in the payload usually), then on reload were changing to whatever the heaviest remaining part was and causing some weird asymmetry. \u00A0If you never switched, it never reloaded and recalculated. \u00A0That\u0027s my theory anyway - seems to have gone away in 1.2 but I bet there are echoes of it in there\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-01-17T03:34:28Z\u0022 title=\u002201/17/2017 03:34  AM\u0022 data-short=\u00227 yr\u0022\u003EJanuary 17, 2017\u003C/time\u003E by fourfa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"renhanxue","CreatedById":173600,"CreatedDateTime":"2017-01-17T05:51:06Z","Content":"\n\u003Cp\u003E\nFurther observations: if you grab the offset gizmo and move the wings laterally inwards towards the fuselage so far that they end up swapping places and the \u0022root\u0022 of the wing is now the tip (but on the other side of the aircraft), like so:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022WyC32FV.png\u0022 class=\u0022ipsImage\u0022 height=\u0022562\u0022 src=\u0022http://i.imgur.com/WyC32FV.png\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThen the roll tendency inverts and the plane wants to roll right instead. I think the effect is somewhat less pronounced, though.\n\u003C/p\u003E\n\u003Cp\u003E\nAs an aside, the elevons work fine in this scenario and still get the roll direction right (even if you don\u0027t reattach them after offsetting the wings), but for some reason the roll authority is considerably decreased. There might be something weird going on with the moment arm calculations, I guess?\n\u003C/p\u003E\n\u003Cp\u003E\nAnother - tangentially related - question: in the AeroGUI, next to the pitch, roll and heading readouts, there is a readout in parentheses that seems to be related to the rate of change in some way. Two numbers are shown, one labelled R and one A. What exactly do they mean?\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-01-17T07:23:55Z","Content":"\n\u003Cp\u003E\nWhen I try the craft you linked in KSP version\u00A01.2.2 it is very nearly neutral in roll, returning to wings level with about a 100-second time-constant. \u00A0In version 1.1.3 a few short months ago \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147074-spaceplane-build-tips-needed-plane-is-never-roll-stable/\u0026amp;_fromLogin=1\u0022 rel=\u0022\u0022\u003Ethis stability seemed impossible\u003C/a\u003E. \u00A0The code cleanup leading to version 1.2.0 seemed to help many such details in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nEven when I auto-strut to heaviest, it rolls only 0.5\u00B0/s (roughly). \u00A0Auto-strut asymmetry was also \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/147167-lt-05-landing-struts-cause-rocket-to-pull-north/#comment-2746616\u0022 rel=\u0022\u0022\u003Emuch worse\u003C/a\u003E\u00A0in version 1.1.3.\n\u003C/p\u003E\n\u003Cp\u003E\nAuto-struts are still relatively new, and were added to solve different problems, such as keeping rovers in still cargo bays. \u00A0Given the way you approached this aircraft, I think you will get more out of KSP if you leave auto-strutting turned off.\n\u003C/p\u003E\n\u003Cp\u003E\nThe aero-GUI rate readouts behave as if they were rotation rates, in \u00B0/s, with the axes of rotation being aircraft-Relative and Absolute (I\u0027m just\u00A0guessing words that match the \u0027A\u0027 and \u0027R\u0027 labels and which match the behavior). \u00A0 Next to heading for example, you see yaw rate relative to the aircraft yaw axis, and then heading-change-rate relative to Kerbin. \u00A0Pull your airplane into a 90\u00B0 bank and pull the stick back hard, and you\u0027ll see what I mean.\n\u003C/p\u003E\n"},{"CreatedByName":"renhanxue","CreatedById":173600,"CreatedDateTime":"2017-01-17T07:52:50Z","Content":"\n\u003Cp\u003E\nI\u0027ve been away from the game for a while but I\u0027ve had it and played it for years and it\u0027s certainly better now than it has ever been before, make no mistake about that. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe original purpose of this small scale experiment was really to try to improve the way I design spaceplanes, since I noticed odd roll tendencies just like in the thread you linked and was wondering what caused it. The original spaceplane design I was investigating uses pretty heavy wing-mounted fuel/engine nacelles which I figured could cause weird things if there was some joint flexing going on, so I turned on autostruts thinking \u0022hey, it can\u0027t hurt\u0022. Then I figured I should experiment at a smaller scale to make sure I actually understood the effects of wing positioning and angling in KSP (consulting the literature - that is to say, digging in forum threads - was inconclusive), and the rest of the story is in the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nThe actual spaceplane testbed consistently rolls about 0.3\u00B0/s or so towards the left with all autostrutting (other than the landing gear\u0027s forced one) turned off. Not too bad, but maddening when I couldn\u0027t understand why.\n\u003C/p\u003E\n\u003Cp\u003E\nEither way, judging by the thread you linked it does seem like this is a known issue that has been around for a while, so that does settle the question in the \u003Cabbr title=\u0022Original Post(er). The first post in a thread, or the person who posted it.\u0022\u003EOP\u003C/abbr\u003E. I guess I should try KJR to see if that improves things - I was thinking I really wouldn\u0027t need that with this new nice autostrut feature, which sure seemed to help a lot with stabilizing space stations for example.\n\u003C/p\u003E\n\u003Cp\u003E\nAbsolute and relative does seem like reasonable explanations for the labels on the rotation rate numbers, so thank you for clarifying that too.\n\u003C/p\u003E\n"},{"CreatedByName":"AeroGav","CreatedById":152027,"CreatedDateTime":"2017-01-17T13:05:52Z","Content":"\n\u003Cp\u003E\nThese days, i find these phantom rolling moments worse on small aircraft. \u00A0 On my larger designs, with multiple wing segments , \u00A0it all seems to average out. \u00A0It seems that which part the wing attaches to is absolutely crucial.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002220161222213830_1_zpsvxrveibt.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022564\u0022 src=\u0022http://i249.photobucket.com/albums/gg237/Nemulias/20161222213830_1_zpsvxrveibt.jpg\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis had a constant 2 or 3 degree per second roll to the left until i took the wings off and reattached them. \u00A0Tail cone connector not a rigid enough part for wing mounting?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002220161114211344_1_zpsr4qjynyl.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022564\u0022 src=\u0022http://i249.photobucket.com/albums/gg237/Nemulias/20161114211344_1_zpsr4qjynyl.jpg\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThis was stable in the previous version, but started to roll in the current release. \u00A0The wings were attached via the engine nacelles. \u00A0After hooking them directly to the fuselage, the roll went away.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002220170101142015_1_zpsopoe0ell.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022564\u0022 src=\u0022http://i249.photobucket.com/albums/gg237/Nemulias/20170101142015_1_zpsopoe0ell.jpg\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nMeanwhile this seaplane \u003Cabbr title=\u0022Single Stage to Orbit\u0022\u003Essto\u003C/abbr\u003E , \u00A0with \u003Cstrong\u003E\u003Cem\u003Eslightly\u003C/em\u003E\u003C/strong\u003E more aerodynamic surfaces, runs straight as an arrow to 40km\u002B. \u00A0\n\u003C/p\u003E\n"}]}