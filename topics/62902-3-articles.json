{"TopicId":62902,"ForumId":36,"TopicTitle":"[1.8.x to 1.12.x] kRPC: Remote Procedure Call Server (v0.5.1, 2nd March 2023)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-02-11T20:00:32Z","PageNum":3,"Articles":[{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-19T21:54:10Z","Content":"\n\u003Cp\u003ELooks like I screwed up the main server loop slightly - it was trying to execute RPCs from the client even when there were none, for up to 20ms per frame. This release should fix the issue:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/djungelorm/krpc/releases/download/v0.1.0-pre-2014-03-19/krpc-0.1.0-pre-2014-03-19.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/releases/download/v0.1.0-pre-2014-03-19/krpc-0.1.0-pre-2014-03-19.zip\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"tja","CreatedById":106062,"CreatedDateTime":"2014-03-20T09:03:04Z","Content":"\n\u003Cp\u003Ebig thx dj, worked perfectly even on the slower machine and local/remote control.\u003C/p\u003E\u003Cp\u003Eand thx for changing the kRPC server for automatic start and memorizing the entered ip for the session, makes life easier.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-20T11:28:30Z","Content":"\n\u003Cp\u003ECool, glad that solved the issue.\u003C/p\u003E\u003Cp\u003EBut I added the \u0022auto-start\u0022 behaviour by accident! I was using it for testing, and plan to add it as a configuration option, but I don\u0027t think that should be the default behaviour.\u003C/p\u003E\n"},{"CreatedByName":"tja","CreatedById":106062,"CreatedDateTime":"2014-03-20T12:02:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022djungelorm\u0022 data-cite=\u0022djungelorm\u0022\u003E\u003Cdiv\u003ECool, glad that solved the issue.\u003Cp\u003EBut I added the \u0022auto-start\u0022 behaviour by accident! I was using it for testing, and plan to add it as a configuration option, but I don\u0027t think that should be the default behaviour.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Efor development purposes autostart \u0026amp; ip/port remembering and !!! no allow/deny questions \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E is fine but sure in final kRPC this should be configurable and have a secure default.\u003C/p\u003E\u003Cp\u003Ei guess a whitelist of hosts that are allowed to connect \u0026amp; autostart would be the way to go.\u003C/p\u003E\n"},{"CreatedByName":"mic_e","CreatedById":60757,"CreatedDateTime":"2014-03-20T16:12:31Z","Content":"\n\u003Cp\u003ERisking to re-ignite the security discussion, I don\u0027t think any harm could come from auto-launching a server that listens on localhost, or alternatively auto-accepting all connections from localhost, or even both.\u003C/p\u003E\n"},{"CreatedByName":"tja","CreatedById":106062,"CreatedDateTime":"2014-03-21T05:32:02Z","Content":"\n\u003Cp\u003Esmall bug (at least in linux):\u003C/p\u003E\u003Cp\u003Ewhen entering an ip address into the kRPC Server dialog \u0022.\u0022 accelerates time too, i guess numbers will run action groups if defined.\u003C/p\u003E\u003Cp\u003Ewouldnt it be better to show a list of the machines ip addresses to choose from ?\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-25T10:33:41Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tja\u0022 data-cite=\u0022tja\u0022\u003E\u003Cdiv\u003Esmall bug (at least in linux):\u003Cp\u003Ewhen entering an ip address into the kRPC Server dialog \u0022.\u0022 accelerates time too, i guess numbers will run action groups if defined.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, it triggers action groups too. I think this is a bug with stock KSP on linux. Other mods (e.g. MechJeb) suffer from the same problem, at least last time I checked. If the issue still exists when 0.24 is released, I\u0027ll see if I can find a workaround for it.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://bugs.kerbalspaceprogram.com/issues/1230\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://bugs.kerbalspaceprogram.com/issues/1230\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tja\u0022 data-cite=\u0022tja\u0022\u003E\u003Cdiv\u003Ewouldnt it be better to show a list of the machines ip addresses to choose from ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENice idea! Would \u0022fix\u0022 the \u0022.\u0022 bug too. Although typing port numbers would still be problematic.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-25T11:15:04Z\u0022 title=\u002203/25/2014 11:15  AM\u0022 data-short=\u002210 yr\u0022\u003EMarch 25, 2014\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-03-29T02:45:10Z","Content":"\n\u003Cp\u003EHello! I\u0027m sorry if I\u0027m missing some instructions in a text file somewhere, but I can not seem to get everything installed correctly, despite several hours of work. My system is running Windows 7. I have the mod downloaded and the Gamedata is in its proper location. My troubles have begun, however, when I attempted to install the protobuf package for python that the kRPC python client package requires. Again, I hope I have not overlooked a more clear set of install instructions, but I can not seem to figure out how to install this package from Google. Any help would be greatly appreciated!\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-29T15:58:10Z","Content":"\n\u003Cp\u003EThe easiest way to install Google\u0027s protobuf is using pip. On windows you can do this as follows:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E Install pip by following these instructions: \u003Ca href=\u0022http://www.pip-installer.org/en/latest/installing.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.pip-installer.org/en/latest/installing.html\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Run: \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epip.exe install protobuf\u003C/pre\u003E\u003Cp\u003E\u003Cbr\u003ENote that this requires your python scripts directory (which is where pip.exe is installed) to be in your PATH. For example, I had to add C:\\Python27\\Scripts to my PATH environment variable.\u003Cbr\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHope that helps!\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-03-29T18:14:35Z","Content":"\n\u003Cp\u003EIt definitely did, I\u0027m one step closer to getting Pip to work. Unfortunatly, running Pip garners no response :/. The command line shows for a brief moment that it is running pip.exe, but it quickly halts. Any thoughts? I\u0027m running a fresh install of Python 2.7.6 and just installed Pip as that page instructed.\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-30T20:31:57Z","Content":"\n\u003Cp\u003EOdd. Maybe it\u0027s timing out when trying to connect to the internet? Are you behind a proxy?\u003C/p\u003E\u003Cp\u003EYou could also trying running pip with verbose output to see if that gives any helpful error messages:\u003C/p\u003E\u003Cp\u003Epip.exe -vvv install protobuf\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-03-30T21:10:03Z","Content":"\n\u003Cp\u003ENope, no proxies. I don\u0027t think its getting caught by a firewall either, mine always pops up a message if it stops something. I tried verbose mode and it sill did the same non-response:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/dG4BGUs.png\u0022 alt=\u0022dG4BGUs.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-31T10:47:57Z","Content":"\n\u003Cp\u003EYou could also try putting the full path to pip.exe to make sure you\u0027re running the one you\u0027re expecting, e.g.:\u003C/p\u003E\u003Cp\u003EC:\\Python27\\Scripts\\pip.exe -vvv install protobuf\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-03-31T21:41:33Z","Content":"\n\u003Cp\u003ENo dice :/ are there other module installers that might function similarly? Or am I doomed to trying to install protobuf manually?\u003C/p\u003E\u003Cp\u003EEdit: RESOLVED \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ETurns out protobuf wasn\u0027t too difficult to manually install this time. Maybe i shouldn\u0027t try to do these things late at night while I\u0027m hungry? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit II: I\u0027m having terrible luck with this.\u003C/p\u003E\u003Cp\u003EEverything got installed and seemed to be functioning properly, however the in-game server does not seem to be discovering my client\u0027s attempt to connect.\u003C/p\u003E\u003Cp\u003EKsp view: \u003Ca href=\u0022http://imgur.com/V6QNv6H\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/V6QNv6H\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPython Shell: \u003Ca href=\u0022http://imgur.com/B52ivY6\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/B52ivY6\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EAm I missing something?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-03-31T22:24:00Z\u0022 title=\u002203/31/2014 10:24  PM\u0022 data-short=\u002210 yr\u0022\u003EMarch 31, 2014\u003C/time\u003E by Pixelator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-03-31T23:09:38Z","Content":"\n\u003Cp\u003EGlad you got protobuf working \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I was about to suggest installing it from a python egg (\u003Ca href=\u0022https://pypi.python.org/pypi/protobuf/2.5.0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://pypi.python.org/pypi/protobuf/2.5.0\u003C/a\u003E) but not necessary I guess!\u003C/p\u003E\u003Cp\u003ECould you post the contents of your KSP.log? That should give a more reliable indication of whether the server actually started correctly.\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-04-01T03:04:43Z","Content":"\n\u003Cp\u003ESure thing: \u003Ca href=\u0022https://drive.google.com/file/d/0B6jo6ErnxnqCNEZqdi1XRHFSRmc/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/0B6jo6ErnxnqCNEZqdi1XRHFSRmc/edit?usp=sharing\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-04-01T16:33:54Z","Content":"\n\u003Cp\u003ELooks like there are some bugs on windows *sigh*. I get the same issue, and also clicking stop server crashes ksp.\u003C/p\u003E\u003Cp\u003EHowever, this is not that suprising as I\u0027ve been doing all the testing on Linux. I\u0027ll let you know when I get it working on windows.\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-04-01T22:25:58Z","Content":"\n\u003Cp\u003ENot a problem \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Pixelator","CreatedById":24186,"CreatedDateTime":"2014-04-23T04:09:18Z","Content":"\n\u003Cp\u003EJust curious, not to sound pushy or anything because I understand how difficult these things can be to develop, but has this Mod died?\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-04-23T13:31:04Z","Content":"\n\u003Cp\u003ENo not all, it\u0027s anything but dead! I\u0027ve been busy implementing the basic services to interact with vessels (documented here \u003Ca href=\u0022https://github.com/djungelorm/krpc/wiki/SpaceCenter-Service\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/wiki/SpaceCenter-Service\u003C/a\u003E). It\u0027s taken some time to wrap my head around the 3d math involved... but it\u0027s mostly working now. Another pre-release is imminent!\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-04-30T18:33:01Z","Content":"\n\u003Cp\u003EThis took a lot longer than expected, but I\u0027ve finally uploaded a new pre-release \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EServer plugin download link: \u003Ca href=\u0022https://github.com/djungelorm/krpc/releases/download/v0.1.0/krpc-0.1.0.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/releases/download/v0.1.0/krpc-0.1.0.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPython client download link: \u003Ca href=\u0022https://pypi.python.org/pypi/krpc\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://pypi.python.org/pypi/krpc\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EHere\u0027s a summary of the changes:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E The plugin now works on Windows, and the build scripts work when run in a cygwin environment\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E I have partially implemented the \u0027SpaceCenter\u0027 service that provides basic interaction with craft. This includes getting flight/orbital data, resource info and basic auto-piloting. It\u0027s documented here: \u003Ca href=\u0022https://github.com/djungelorm/krpc/wiki/SpaceCenter-Service\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/wiki/SpaceCenter-Service\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Added support for default arguments\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Added support for enumerations\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E Added support for \u0027blocking\u0027 procedures. These are procedures that take more than one frame to execute.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E The python client code is now hosted on pypi (link above). This means you can install it using \u0022pip install krpc\u0022 or you can download the source and install it using setuptools via \u0022python setup.py install\u0022\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ve also changed the license to GNU GPL v3, as I have reused auto-pilot code from various GPL\u0027d mods. Big thanks to r4m0n (MechJeb), Nivekk (kOS) and Cilph (RemoteTech) for their awesome mods, and mic_e for writing a prototype kRPC autopilot service!\u003C/p\u003E\n"},{"CreatedByName":"KvickFlygarn87","CreatedById":76314,"CreatedDateTime":"2014-05-01T20:33:50Z","Content":"\n\u003Cp\u003EHow would one go through with writing a kRPC program in Java?\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-05-01T21:49:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KvickFlygarn87\u0022 data-cite=\u0022KvickFlygarn87\u0022\u003E\u003Cdiv\u003EHow would one go through with writing a kRPC program in Java?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027d need to implement a java client library that you can use from your java programs to talk to the server. My knowledge of Java is limited, but I guess it would do something like translate Java RMI calls to/from protocol buffer messages that the server understands. I haven\u0027t yet documented how the protocol buffer communication protocol works, but it could be reverse engineered from the existing python client library.\u003C/p\u003E\u003Cp\u003Etja mentioned back on page 6 (\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/69313-WIP-kRPC-A-language-agnostic-Remote-Procedure-Call-server-for-KSP?p=1028791\u0026amp;viewfull=1#post1028791\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/69313-WIP-kRPC-A-language-agnostic-Remote-Procedure-Call-server-for-KSP?p=1028791\u0026amp;viewfull=1#post1028791\u003C/a\u003E) that they\u0027d had a go at implementing such a java client. Maybe tja could share the code with you?\u003C/p\u003E\n"},{"CreatedByName":"KvickFlygarn87","CreatedById":76314,"CreatedDateTime":"2014-05-02T06:35:21Z","Content":"\n\u003Cp\u003EAlright, thanks. I\u0027ll toss tja a PM.\u003C/p\u003E\u003Cp\u003EEDIT: Apparently that was most likely an account he made for that, he hasn\u0027t been online since the 18th of March. I\u0027m gonna have a go at learning Python instead, Because It Can\u0027t Be \u003Cem\u003EThat\u003C/em\u003E Hard\u003Csup\u003ETM\u003C/sup\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-02T07:34:27Z\u0022 title=\u002205/02/2014 07:34  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 2, 2014\u003C/time\u003E by Rich\u003C/strong\u003E\n\u003Cbr\u003ELet\u0026#039;s keep the chatter appropriate please.\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-05-05T18:04:47Z","Content":"\n\u003Cp\u003EI\u0027ve made a new pre-release, just with some minor changes this time. Here\u0027s a change log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ev0.1.1\u003Cbr\u003E - Add new functionality to SpaceCenter service\u003Cbr\u003E - Minor server code improvements\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}