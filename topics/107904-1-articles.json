{"TopicId":107904,"ForumId":20,"TopicTitle":"Mod to Generate Science Contracts by Searching Science Archives to Find New Science to Do","CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-06T15:47:38Z","PageNum":1,"Articles":[{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-06T15:47:38Z","Content":"\n\u003Cp\u003EI was wondering how difficult it would be to write a mod that searches through the science archives to find an experiment/biome pair that you havent yet conducted, and then tells you to go there and do that experiment. The contract would pay you decently, but not give you any science on it\u0027s own (and maybe a little rep too).\u003C/p\u003E\u003Cp\u003EThe advantages of this is that you dont have to keep track of what experiments you\u0027ve done where, and it would also help tie the game together.\u003C/p\u003E\u003Cp\u003EWhat do you guys think? Is it a good idea? Any constructive criticism? How difficult would it be to write and/or do you want to write it?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-07T01:57:55Z\u0022 title=\u002205/07/2015 01:57  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"WaveFunctionP","CreatedById":104784,"CreatedDateTime":"2015-05-06T17:32:48Z","Content":"\n\u003Cp\u003EInteresting.\u003C/p\u003E\u003Cp\u003EIt shouldn\u0027t be too hard, though probably more difficult than it seems if it is anything like my projects.\u003C/p\u003E\u003Cp\u003EI think most of what you need is available in the randd and sciencesubject classes. You could also take a look a bit at my forscience code, because I do quite a bit of checking for experiments which may give you some inspiration.\u003C/p\u003E\u003Cp\u003EIf you are just getting started with modding, a limited scope like this would be a great way to start.\u003C/p\u003E\n"},{"CreatedByName":"Mipe","CreatedById":109421,"CreatedDateTime":"2015-05-06T17:57:45Z","Content":"\n\u003Cp\u003EYou mean something like \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/119562-1-0-2-x-Science!-KSP-Science-report-and-checklist?p=1907551\u0022 rel=\u0022external nofollow\u0022\u003E[x] Science!\u003C/a\u003E ? Except that it generates contracts instead of listing stuff you haven\u0027t done?\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-06T18:27:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022WaveFunctionP\u0022 data-cite=\u0022WaveFunctionP\u0022\u003E\u003Cdiv\u003EInteresting.\u003Cp\u003EIt shouldn\u0027t be too hard, though probably more difficult than it seems if it is anything like my projects.\u003C/p\u003E\u003Cp\u003EI think most of what you need is available in the randd and sciencesubject classes. You could also take a look a bit at my forscience code, because I do quite a bit of checking for experiments which may give you some inspiration.\u003C/p\u003E\u003Cp\u003EIf you are just getting started with modding, a limited scope like this would be a great way to start.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks a lot for the tips and encouragement.\u003C/p\u003E\u003Cp\u003EYes, I am completely new to modding, but low-moderate experience programming in real languages (since Matlab doesnt count).\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mipe\u0022 data-cite=\u0022Mipe\u0022\u003E\u003Cdiv\u003EYou mean something like \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/119562-1-0-2-x-Science!-KSP-Science-report-and-checklist?p=1907551\u0022 rel=\u0022external nofollow\u0022\u003E[x] Science!\u003C/a\u003E ? Except that it generates contracts instead of listing stuff you haven\u0027t done?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically, yeah. Maybe i could even use [x] Science\u0027s source... or perhaps, i could ask the maker of x-science if he is interested in making my mod?\u003C/p\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2015-05-06T19:09:10Z","Content":"\n\u003Cp\u003EScience Alert\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/76793-0-23-5-ScienceAlert-Experiment-availability-feedback\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/76793-0-23-5-ScienceAlert-Experiment-availability-feedback\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-06T21:02:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FleshJeb\u0022 data-cite=\u0022FleshJeb\u0022\u003E\u003Cdiv\u003EScience Alert\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/76793-0-23-5-ScienceAlert-Experiment-availability-feedback\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/76793-0-23-5-ScienceAlert-Experiment-availability-feedback\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat doesnt do what I have suggested?\u003C/p\u003E\u003Cp\u003EEDIT: changed title to make my mod idea more clear. I see now how it was vague...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-07T01:58:23Z\u0022 title=\u002205/07/2015 01:58  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 7, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"FleshJeb","CreatedById":111640,"CreatedDateTime":"2015-05-07T03:57:59Z","Content":"\n\u003Cp\u003EOops, gotcha. I misunderstood.\u003C/p\u003E\n"},{"CreatedByName":"RainDreamer","CreatedById":129077,"CreatedDateTime":"2015-05-07T09:27:35Z","Content":"\n\u003Cp\u003EInteresting. I think this could be tied to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/101604-1-0-2-Contract-Configurator-v1-0-2-2015-05-02\u0022 rel=\u0022external nofollow\u0022\u003EContact Configurator\u003C/a\u003E.\u003C/p\u003E\n"},{"CreatedByName":"Trenchfoot","CreatedById":92783,"CreatedDateTime":"2015-05-07T11:53:46Z","Content":"\n\u003Cp\u003EWhy collect it too? Just get \u0022For Science\u0022.\u003C/p\u003E\n"},{"CreatedByName":"timmers_uk","CreatedById":97413,"CreatedDateTime":"2015-05-07T17:20:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022RainDreamer\u0022 data-cite=\u0022RainDreamer\u0022\u003E\u003Cdiv\u003EInteresting. I think this could be tied to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/101604-1-0-2-Contract-Configurator-v1-0-2-2015-05-02\u0022 rel=\u0022external nofollow\u0022\u003EContact Configurator\u003C/a\u003E.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESounds like a good combination to me - it\u0027d be nice to see contracts for places I haven\u0027t tried out my instruments yet, rather than rinse \u002B repeat on the science in orbit around ... contracts.\u003C/p\u003E\u003Cp\u003E... and it means I get money as well as science for doing a contract \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-07T20:20:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022timmers_uk\u0022 data-cite=\u0022timmers_uk\u0022\u003E\u003Cdiv\u003ESounds like a good combination to me - it\u0027d be nice to see contracts for places I haven\u0027t tried out my instruments yet, rather than rinse \u002B repeat on the science in orbit around ... contracts.\u003Cp\u003E... and it means I get money as well as science for doing a contract \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny interest in writing the plugin? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-05-07T20:22:24Z","Content":"\n\u003Cp\u003EI\u0027d love this to be a thing too. It\u0027d be great for those of us who are a little obsessive.\u003C/p\u003E\n"},{"CreatedByName":"Lord Aurelius","CreatedById":71687,"CreatedDateTime":"2015-05-07T20:37:18Z","Content":"\n\u003Cp\u003ESounds like a great idea for a plugin.\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-07T20:47:14Z","Content":"\n\u003Cp\u003EI like the idea, and Contract Configurator can get about 90% of the way there as it currently stands. It has everything needed for building up the contract (mainly would be the \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/wiki/Parameters#collectscience\u0022 rel=\u0022external nofollow\u0022\u003ECollectScience \u003C/a\u003Eparameter). What\u0027s it\u0027s missing is stuff for detecting what science needs to be done where, but that\u0027s not \u003Cem\u003Etoo\u003C/em\u003E difficult, since all the framework pieces are in place, and it\u0027s just adding a bunch of new functions, like ones that get all the biomes for a celestial body, getting the list of experiements that can be performed in a given biome, getting the amount of science that can still be gathered for a given combination, etc.\u003C/p\u003E\u003Cp\u003EIf someone expresses an active interest in doing this with Contract Configurator, let me know and I can provide assistance and start chipping away at some of the required features.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-07T21:51:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EI like the idea, and Contract Configurator can get about 90% of the way there as it currently stands. It has everything needed for building up the contract (mainly would be the \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/wiki/Parameters#collectscience\u0022 rel=\u0022external nofollow\u0022\u003ECollectScience \u003C/a\u003Eparameter). What\u0027s it\u0027s missing is stuff for detecting what science needs to be done where, but that\u0027s not \u003Cem\u003Etoo\u003C/em\u003E difficult, since all the framework pieces are in place, and it\u0027s just adding a bunch of new functions, like ones that get all the biomes for a celestial body, getting the list of experiements that can be performed in a given biome, getting the amount of science that can still be gathered for a given combination, etc.\u003Cp\u003EIf someone expresses an active interest in doing this with Contract Configurator, let me know and I can provide assistance and start chipping away at some of the required features.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have zero experience with modding and contract configurator. However, the maker of [x]-Science recommneded i look through his code to find similar functions to understand how to search science archives...\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/thewebbooth/KSP-X-Science/blob/master/X-Science/ExperimentFilter.cs\u0022 rel=\u0022external nofollow\u0022\u003ELink to Source Code\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Z-Key Aerospace\u0022 data-cite=\u0022Z-Key Aerospace\u0022\u003E\u003Cdiv\u003EThe code that finds all the science is in RefreshExperimentCache() in ExperimentFilter.cs if you want to have a look.\u003Cp\u003EThe code that checks to see if an experiment is completed is in Update() in Experiment.cs\u003C/p\u003E\u003Cp\u003ECheers\u003C/p\u003E\u003Cp\u003EZ-Key Aerospace\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-08T00:31:18Z","Content":"\n\u003Cp\u003EKSP modding isn\u0027t difficult (assuming you have some C# familiarity), the biggest issue is the lack of Squad-produced documentation.\u003C/p\u003E\u003Cp\u003EAnyway, just to give you an idea of how easy this would be with Contract Configurator, here\u0027s the full config for getting a landed crew report from any body the player has orbited (as an example). Obviously there\u0027s still the missing pieces, but this would be a good start:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ECONTRACT_TYPE\u003Cbr\u003E{\u003Cbr\u003E    name = CollectScienceExample\u003Cbr\u003E\u003Cbr\u003E    // Contract text\u003Cbr\u003E    title = CollectScience example\u003Cbr\u003E    description = A more detailed description of the contract.  This is where you come in.\u003Cbr\u003E    synopsis = We want you to do a thing.\u003Cbr\u003E    completedMessage = You have done the thing.\u003Cbr\u003E\u003Cbr\u003E    maxSimultaneous = 1\u003Cbr\u003E\u003Cbr\u003E    targetBody = OrbitedBodies().Random()\u003Cbr\u003E\u003Cbr\u003E    // Contract rewards\u003Cbr\u003E    rewardScience = 100.0\u003Cbr\u003E    rewardFunds = 100000.0\u003Cbr\u003E\u003Cbr\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = CollectScience\u003Cbr\u003E        type = CollectScience\u003Cbr\u003E\u003Cbr\u003E        situation = SrfLanded\u003Cbr\u003E\u003Cbr\u003E        // Valid values for stock KSP are:\u003Cbr\u003E        //    asteroidSample\u003Cbr\u003E        //    crewReport\u003Cbr\u003E        //    evaReport\u003Cbr\u003E        //    mysteryGoo\u003Cbr\u003E        //    surfaceSample\u003Cbr\u003E        //    mobileMaterialsLab\u003Cbr\u003E        //    temperatureScan\u003Cbr\u003E        //    barometerScan\u003Cbr\u003E        //    seismicScan\u003Cbr\u003E        //    gravityScan\u003Cbr\u003E        //    atmosphereAnalysis\u003Cbr\u003E        experiment = crewReport\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-08T00:48:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EKSP modding isn\u0027t difficult (assuming you have some C# familiarity), the biggest issue is the lack of Squad-produced documentation.\u003Cp\u003EAnyway, just to give you an idea of how easy this would be with Contract Configurator, here\u0027s the full config for getting a landed crew report from any body the player has orbited (as an example). Obviously there\u0027s still the missing pieces, but this would be a good start:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003ECONTRACT_TYPE\u003Cbr\u003E{\u003Cbr\u003E    name = CollectScienceExample\u003Cbr\u003E\u003Cbr\u003E    // Contract text\u003Cbr\u003E    title = CollectScience example\u003Cbr\u003E    description = A more detailed description of the contract.  This is where you come in.\u003Cbr\u003E    synopsis = We want you to do a thing.\u003Cbr\u003E    completedMessage = You have done the thing.\u003Cbr\u003E\u003Cbr\u003E    maxSimultaneous = 1\u003Cbr\u003E\u003Cbr\u003E    targetBody = OrbitedBodies().Random()\u003Cbr\u003E\u003Cbr\u003E    // Contract rewards\u003Cbr\u003E    rewardScience = 100.0\u003Cbr\u003E    rewardFunds = 100000.0\u003Cbr\u003E\u003Cbr\u003E    PARAMETER\u003Cbr\u003E    {\u003Cbr\u003E        name = CollectScience\u003Cbr\u003E        type = CollectScience\u003Cbr\u003E\u003Cbr\u003E        situation = SrfLanded\u003Cbr\u003E\u003Cbr\u003E        // Valid values for stock KSP are:\u003Cbr\u003E        //    asteroidSample\u003Cbr\u003E        //    crewReport\u003Cbr\u003E        //    evaReport\u003Cbr\u003E        //    mysteryGoo\u003Cbr\u003E        //    surfaceSample\u003Cbr\u003E        //    mobileMaterialsLab\u003Cbr\u003E        //    temperatureScan\u003Cbr\u003E        //    barometerScan\u003Cbr\u003E        //    seismicScan\u003Cbr\u003E        //    gravityScan\u003Cbr\u003E        //    atmosphereAnalysis\u003Cbr\u003E        experiment = crewReport\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the code! I have a little experience with C#, but very beginner level.\u003C/p\u003E\u003Cp\u003EI can sort of see what your code does, but yeah, it is missing some of the more difficult tasks (as you said). \u003C/p\u003E\u003Cp\u003EDid you have a chance to review the source code I linked? Does it do what needs to be done to search which biomes have experimental science available? How easy would it be to integrate some of that source code into your contract configurator to give extra functionality (at least as a starting point for this mod)?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-08T02:38:23Z","Content":"\n\u003Cp\u003EYup, that\u0027s good stuff - it just would need to be pulled out into the appropriate places for Contract Configurator. I\u0027ll take a look at that in the 1.0.4 version (1.0.3 needs to get released today or tomorrow - got some stuff people are waiting on, and need to verify the RemoteTech support work with their new release).\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-10T01:42:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003EYup, that\u0027s good stuff - it just would need to be pulled out into the appropriate places for Contract Configurator. I\u0027ll take a look at that in the 1.0.4 version (1.0.3 needs to get released today or tomorrow - got some stuff people are waiting on, and need to verify the RemoteTech support work with their new release).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny progress? Since 1.0.3 hasnt been released, i assume that means you havent had a chance to try to work on this idea?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-10T02:24:40Z","Content":"\n\u003Cp\u003E1.0.3 \u003Cem\u003Eand \u003C/em\u003E1.0.4 have been released (1.0.4 was a hot fix for an issue). I\u0027ve made a teeny bit of progress, and will be working on it again tonight. Thanks for checking in though - it helps to know that you\u0027re actually interested (ie. so I know that it\u0027s worth doing the work on this stuff).\u003C/p\u003E\u003Cp\u003EAnyway, I hadn\u0027t reported in since what\u0027s been done isn\u0027t useful on its own. What I did was added a wrapper class for Biome and added some methods to the celestial body to get all its biomes. Next will be filling out the Biome class and adding stuff for the more sciencey items such as experiments, etc. You can keep an eye on the \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/blob/master/CHANGES.txt\u0022 rel=\u0022external nofollow\u0022\u003ECHANGES.txt\u003C/a\u003E in GitHub for a preview of what\u0027s already done for the next release.\u003C/p\u003E\u003Cp\u003EI\u0027ll give some more details on that Biome class as well as the other stuff once there\u0027s a little bit more - probably looking at late tonight or tomorrow night.\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-10T02:37:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003E1.0.3 \u003Cem\u003Eand \u003C/em\u003E1.0.4 have been released (1.0.4 was a hot fix for an issue). I\u0027ve made a teeny bit of progress, and will be working on it again tonight. Thanks for checking in though - it helps to know that you\u0027re actually interested (ie. so I know that it\u0027s worth doing the work on this stuff).\u003Cp\u003EAnyway, I hadn\u0027t reported in since what\u0027s been done isn\u0027t useful on its own. What I did was added a wrapper class for Biome and added some methods to the celestial body to get all its biomes. Next will be filling out the Biome class and adding stuff for the more sciencey items such as experiments, etc. You can keep an eye on the \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/blob/master/CHANGES.txt\u0022 rel=\u0022external nofollow\u0022\u003ECHANGES.txt\u003C/a\u003E in GitHub for a preview of what\u0027s already done for the next release.\u003C/p\u003E\u003Cp\u003EI\u0027ll give some more details on that Biome class as well as the other stuff once there\u0027s a little bit more - probably looking at late tonight or tomorrow night.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, i checked your mod\u0027s page, but confused the KSP version with your mod version \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E I see now it has been released.\u003C/p\u003E\u003Cp\u003EThanks for working on it!\u003C/p\u003E\u003Cp\u003EDo you have a gameplan for what methods/functions are needed for Contract Configurator to be able to make these types of contracts?\u003C/p\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-10T03:11:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EOh, i checked your mod\u0027s page, but confused the KSP version with your mod version \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E I see now it has been released.\u003Cp\u003EThanks for working on it!\u003C/p\u003E\u003Cp\u003EDo you have a gameplan for what methods/functions are needed for Contract Configurator to be able to make these types of contracts?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot specifically, will be figuring it out as I go along. Off the top of my head:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ENeed a method to get the list of valid experiments for a given biome/situation.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENeed a method to get the amount of science done/remaining for a given experiment/biome/situation\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EProbably need a way to easily sum across experiments and/or situations (so you can more easily generate the contract for a biome/situation where there is more than X science available to be done).\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOnce I have that I\u0027ll see how it looks... as I dig into it I may see more that\u0027s needed. Or once I toss it over to you, you may start to ask \u0022how do I do X?\u0022, which will result in more stuff. Anyway, hopefully all the above is done in 3-4 days maybe?\u003C/p\u003E\n"},{"CreatedByName":"arkie87","CreatedById":103434,"CreatedDateTime":"2015-05-10T05:05:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003ENot specifically, will be figuring it out as I go along. Off the top of my head:\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ENeed a method to get the list of valid experiments for a given biome/situation.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENeed a method to get the amount of science done/remaining for a given experiment/biome/situation\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EProbably need a way to easily sum across experiments and/or situations (so you can more easily generate the contract for a biome/situation where there is more than X science available to be done).\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOnce I have that I\u0027ll see how it looks... as I dig into it I may see more that\u0027s needed. Or once I toss it over to you, you may start to ask \u0022how do I do X?\u0022, which will result in more stuff. Anyway, hopefully all the above is done in 3-4 days maybe?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was thinking more like:\u003C/p\u003E\u003Cp\u003E(1) get list of orbited or explored contracts (probably orbited is better since sometimes i miss being offered explore contracts)\u003C/p\u003E\u003Cp\u003E(2) select one randomly (remove it from the list after selecting it)\u003C/p\u003E\u003Cp\u003E(3) pick a random number to select either orbit experiment or suface (biome) experiment\u003C/p\u003E\u003Cp\u003E(4) if orbit experiment:\u003C/p\u003E\u003Cp\u003E(4a) go through list of orbit experiments available. If at least one is available, offer contract (if more than one is available, offer separate money for each). If none are available, go to 4b.\u003C/p\u003E\u003Cp\u003E(4b) go through biome list; select a biome randomly (and then remove it from the list). Get list of experiments; if at least one is available, offer a contract (if more than one is available and researched, offer separate money for each experiment). If none are available, select a different biome and repeat. If biome list is empty, then go back to step 2 (selecting a planet).\u003C/p\u003E\u003Cp\u003E(5) offer contract\u003C/p\u003E\u003Cp\u003EThanks for your effort, by the way!\u003C/p\u003E\u003Cp\u003EEDIT: actually, instead of step 3: randomly picking between orbit and biome, i think its better to first start with orbit, and all of those experiments have been done, THEN select biome. (or for the first version, we can start only with biome/surface experiments)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-10T05:15:46Z\u0022 title=\u002205/10/2015 05:15  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 10, 2015\u003C/time\u003E by arkie87\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-05-10T05:24:45Z","Content":"\n\u003Cp\u003EThat\u0027s just not how Contract Configurator works - but there\u0027s alternatives for most of what you\u0027re after.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(1) get list of orbited or explored contracts (probably orbited is better since sometimes i miss being offered explore contracts)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPretty much have a look at anything/everything in the \u003Ca href=\u0022https://github.com/jrossignol/ContractConfigurator/wiki/Requirements\u0022 rel=\u0022external nofollow\u0022\u003EREQUIREMENT\u003C/a\u003E nodes. A requirement is a pre-requisite for a contract to show up. So if you had a contract for Minmus, you could have \u0022orbited Minmus\u0022 as the requirement for the contract to be offered.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(2) select one randomly (remove it from the list after selecting it)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you\u0027re trying to ensure that a contract for the same thing isn\u0027t offered multiple times, there\u0027s other ways to do this. Setting maxSimultaneous=1 is the simplest.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(3) pick a random number to select either orbit experiment or suface (biome) experiment\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoable. You may be better off having them as separate contract types, then you can further differentiate them (have additional parameters, different contract text, etc.)\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(4) if orbit experiment:\u003Cp\u003E(4a) go through list of orbit experiments available. If at least one is available, offer contract (if more than one is available, offer separate money for each). If none are available, go to 4b.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs above, I\u0027d treat these as totally different contract types. Building a list on the fly is somewhat problematic, but doable if you set a max limit (albeit ugly). Check out the \u003Ca href=\u0022https://github.com/jrossignol/ContractPack-Tourism/blob/master/GameData/ContractPacks/Tourism/GasGiantMoons.cfg\u0022 rel=\u0022external nofollow\u0022\u003Egas-giant tourism contract\u003C/a\u003E from Tourism Plus as an example of this.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(4b) go through biome list; select a biome randomly (and then remove it from the list). Get list of experiments; if at least one is available, offer a contract (if more than one is available and researched, offer separate money for each experiment). If none are available, select a different biome and repeat. If biome list is empty, then go back to step 2 (selecting a planet).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically all possible, but the control flow is different. It would be more like:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ESelect a CelestialBody with biomes that have science to be done. \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EtargetBody = LandedBodies().Where(cb =\u0026gt; cb.BunchOfStuffThatINeedToComeUpWithToCheckForScience()).Random()\u003C/pre\u003E\u003Cp\u003E\u003Cbr\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003ESelect a biome from the celestial body that has science to be done. \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ebiome = @targetBody.AllBiomes().Where(b =\u0026gt; b.SomeCheckForScience()).Random()\u003C/pre\u003E\u003Cp\u003E\u003Cbr\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003EBuild a list of experiments \u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eexperiments = biome.SomeOtherFunctionToGetExperiments().Where(exp =\u0026gt; exp.SomeFunctionForCheckingIfScienceAvailable())\u003C/pre\u003E\u003Cp\u003E\u003Cbr\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003EDump the experiments into a bunch of CollectScience parameters (as was done in the gas-giant contract above).\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003E(5) offer contract\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAutomatic. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EThanks for your effort, by the way!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou\u0027re welcome! Hopefully once you get the hang of it you\u0027ll be willing to continue down this route - it\u0027s not as rigid as I\u0027m making it out to be... once you adjust your thinking. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022arkie87\u0022 data-cite=\u0022arkie87\u0022\u003E\u003Cdiv\u003EEDIT: actually, instead of step 3: randomly picking between orbit and biome, i think its better to first start with orbit, and all of those experiments have been done, THEN select biome. (or for the first version, we can start only with biome/surface experiments)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll have to think about that one... can probably come up with something, but it may not be bullet proof.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2015-05-10T05:25:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nightingale\u0022 data-cite=\u0022nightingale\u0022\u003E\u003Cdiv\u003ENot specifically, will be figuring it out as I go along. Off the top of my head:\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003ENeed a method to get the list of valid experiments for a given biome/situation.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENeed a method to get the amount of science done/remaining for a given experiment/biome/situation\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EProbably need a way to easily sum across experiments and/or situations (so you can more easily generate the contract for a biome/situation where there is more than X science available to be done).\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERDEnvironmentAdapter and ResearchAndDevelopment have some nice methods (actually I think they might be the same methods, I\u0027m not really sure what the difference is) for getting all of the available experiments, all of the biomes for a given planet (not sure about the KSC biomes), and all of the existing ScienceSubjects (ie the ones that are actually in the science archives). \u003C/p\u003E\u003Cp\u003EFrom there it should be fairly simple to check each experiment, check its valid situation combinations, and check of such a subject exists and/or if it has science remaining.\u003C/p\u003E\n"}]}