{"TopicId":92223,"ForumId":35,"TopicTitle":"[WEB API] unofficial api for mod versions [0.5.4-devel]","CreatedByName":"Droa","CreatedById":126943,"CreatedDateTime":"2014-12-07T21:47:50Z","PageNum":1,"Articles":[{"CreatedByName":"Droa","CreatedById":126943,"CreatedDateTime":"2014-12-07T21:47:50Z","Content":"\n\u003Cp\u003EHey guys, so i\u0027ve wanted this feature for along time, to be able to make update tools for the client-side.\u003C/p\u003E\u003Cp\u003Ei made a crawler, scanning the ksp mod forum, once every day, for updated threads, and grapping version numbers and the forum post.\u003C/p\u003E\u003Cp\u003Ecurrenctly its pretty much not worth much, but i am working hard to get it better, and usable \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eit\u0027s a pretty simple crawler, as i am currently figuring out features, and what data to use.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/vgRqedp.png\u0022 alt=\u0022vgRqedp.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ECrawler does the following:\u003C/p\u003E\u003Cp\u003ECrawler:\u003C/p\u003E\u003Cp\u003E1) loads pages from \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/forums/35-Add-on-Release\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/forums/35-Add-on-Release\u003C/a\u003E (/page1 to /pageX (currently 35)\u003C/p\u003E\u003Cp\u003E2) Scans the pages threadlist, and graps the thread id (example 29388)\u003C/p\u003E\u003Cp\u003E3) Builds the thread url (example \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/29388\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/29388\u003C/a\u003E)\u003C/p\u003E\u003Cp\u003E4) Opens all builded urls as forum posts\u003C/p\u003E\u003Cp\u003E5) Scans the title of the forum post, for ksp version, and mod version, as it tries to figureout the name of the mod\u003C/p\u003E\u003Cp\u003E6) saves the url, as a uniq mod, in the database\u003C/p\u003E\u003Cp\u003E7) saves the current context of the forum post (body/title), linked to the uniq mod (inkluding version number, and ksp version number)\u003C/p\u003E\u003Cp\u003Ethe crawler is not very smart, and sometimes doesn\u0027t get the meta data right, so i\u0027ve have implementet a \u0022reviewed\u0022 column, in the database, for every new update, to be able to review them manually, if something goes wrong.\u003C/p\u003E\u003Cp\u003Enow to the api interface:\u003C/p\u003E\u003Cp\u003EThe api-interface is also under heavy development, so i can use it for my own \u0022update notifier\u0022.\u003C/p\u003E\u003Cp\u003Eit generate xml\u0027s from the current information of the crawler database, and cache them up to 10 minutes, from when it was generated, to reduce server-load (only from db -\u0026gt; xml generation, it does not read forum posts every 10 minutes)\u003C/p\u003E\u003Cp\u003Elist mods with full body and show mods with no version: \u003Ca href=\u0022http://mods.minsk.dk/api/list/showall/fullbody\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/showall/fullbody\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist 0.25 mods with full body and show mods with no version: \u003Ca href=\u0022http://mods.minsk.dk/api/list/showall/fullbody/0.25\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/showall/fullbody/0.25\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist mods: \u003Ca href=\u0022http://mods.minsk.dk/api/list/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist mods and full forum body: \u003Ca href=\u0022http://mods.minsk.dk/api/list/fullbody\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/fullbody\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist mods and show mods with no version: \u003Ca href=\u0022http://mods.minsk.dk/api/list/showall\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/showall\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist 0.25 mods: \u003Ca href=\u0022http://mods.minsk.dk/api/list/0.25\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/0.25\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Elist 0.25 mods and show mods with no version: \u003Ca href=\u0022http://mods.minsk.dk/api/list/showall/0.25\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://mods.minsk.dk/api/list/showall/0.25\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ecurrently the xml file is very small only (323kb) containing informations about all the mods, however i\u0027ve removed the post body text, as it was taking up alot of space, making the file (20Megs\u002B) in size\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/I5FF5PM.png\u0022 alt=\u0022I5FF5PM.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Emod\\@name name of the mod\u003C/p\u003E\u003Cp\u003Emod\\@assemblyid is the specific id, for the mod version\u003C/p\u003E\u003Cp\u003Emod\\@modid is a static id, for the mod (if the url change, so does the modid)\u003C/p\u003E\u003Cp\u003Emod\\@kspversion is the announced version, the mod runs for\u003C/p\u003E\u003Cp\u003Emod\\@modversion is the version of the mod\u003C/p\u003E\u003Cp\u003Emod\\@updated is the last time the crawler, seen an updated version of the forum post\u003C/p\u003E\u003Cp\u003Emod\\url is the url to the forum post\u003C/p\u003E\u003Cp\u003Emod\\forum\\title the title of the forum post\u003C/p\u003E\u003Cp\u003Emod\\forum\\body (currently disabled) the content of the forum post\u003C/p\u003E\u003Cp\u003Ehope you guys like it, and are able to use it.\u003C/p\u003E\u003Cp\u003Eif anyone got any ideas, please feel free to post them \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E[10. Dec 2014]\u003C/p\u003E\u003Cp\u003EJust got my server moved to another rack in the server room, and added SSL encryption to the apache service, meaning i can start to add a better user-crowd controlled edit-system, to the database.\u003C/p\u003E\u003Cp\u003Ethis will open up for more features, i\u0027ve been working on.\u003C/p\u003E\u003Cp\u003E-Usermade list of mods/threads to follow\u003C/p\u003E\u003Cp\u003E-Moderation of the Mod list (Changing om mod names, versions, and stuff, if they got read wrong by the crawler)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-10T13:26:08Z\u0022 title=\u002212/10/2014 01:26  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 10, 2014\u003C/time\u003E by Droa\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"VITAS","CreatedById":124625,"CreatedDateTime":"2014-12-12T16:22:32Z","Content":"\n\u003Cp\u003Eyou might want to team up with CKAN. I just made a mysqldb for them today containg mod versions ,links and stuff.\u003C/p\u003E\n"},{"CreatedByName":"pjf","CreatedById":112483,"CreatedDateTime":"2014-12-13T09:06:54Z","Content":"\n\u003Cp\u003EAye, I was going to say, please use our metadata. It\u0027s all under a CC-0 license and has absolutely no restrictions. If you\u0027re looking at doing any sort of mod indexing, we already have a wealth of data to get you started. The metadata repo can be found here: \u003Ca href=\u0022https://github.com/KSP-CKAN/CKAN-meta\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-CKAN/CKAN-meta\u003C/a\u003E\u003C/p\u003E\n"}]}