{"TopicId":30367,"ForumId":35,"TopicTitle":"[WEB APP] Launch Window Planner","CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-05-31T01:34:07Z","PageNum":2,"Articles":[{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-06-05T03:54:47Z","Content":"\n\u003Cp\u003EMore updates!\u003C/p\u003E\u003Cp\u003ESince tavert challenged my assumption that 90 degrees would be an optimal point to perform the plane change maneuver, I decided to implement another transfer type to search for the best time to do the plane change. Unfortunately, this is pretty slow because it has to try many different solutions for each point, however it does show that 90 degrees is usually \u003Cem\u003Enot\u003C/em\u003E optimal although it is usually pretty close to the optimal burn time in terms of delta-v. The biggest difference in the first launch window for the outer planets is again Dres, which goes from 3611 m/s (including insertion) to 3537 m/s.\u003C/p\u003E\u003Cp\u003EAlso, I have added support for Internet Explorer 10 so now all major browsers are supported.\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-06-05T03:57:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr Shifty\u0022 data-cite=\u0022Mr Shifty\u0022\u003E\u003Cdiv\u003EHere\u0027s an example. After thinking about it for a minute, I think you\u0027re right, but the \u0022parent\u0022 body is actually Kerbol in this case, not Kerbin. Kerbol\u0027s radius is 261.6Mm, which I supposed means this orbit would pass through the sun if it were continued past Jool (but at a transfer angle of 4 degrees, it probably wouldn\u0027t pass through during transfer.)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, that\u0027s an orbit that passes very near the center of the sun. Basically a hyperbolic orbit that is nearly a straight line. And to answer your earlier question, yes the calculator handles hyperbolic orbits just fine.\u003C/p\u003E\n"},{"CreatedByName":"Fyrem","CreatedById":57131,"CreatedDateTime":"2013-06-05T03:58:49Z","Content":"\n\u003Cp\u003EThanks for the ie10 support\u003C/p\u003E\n"},{"CreatedByName":"mrenigma03","CreatedById":28823,"CreatedDateTime":"2013-06-14T19:30:44Z","Content":"\n\u003Cp\u003EWonderful tool! I sent you a PM about it a few days ago. Let me know if have a moment to read it.\u003C/p\u003E\n"},{"CreatedByName":"SRFirefox","CreatedById":67434,"CreatedDateTime":"2013-06-21T02:31:07Z","Content":"\n\u003Cp\u003ECan I request an option to look for ejection burn dV only when transferring to planets with an atmosphere? I\u0027m sure there are some good trajectories that are being missed because the calculator isn\u0027t taking into account the fact that braking is \u0027free.\u0027\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EAlso, I\u0027m trying to get a small space station to Moho in a fresh save to see how this works, and for the life of me I can\u0027t get the calculator to spit out a number I\u0027ve managed to use. I could be doing it wrong, but here\u0027s my stats just to make sure for a Kerbin to Moho transfer, optimized for minimum dV. 100km to 40km orbit, with the trip lasting day 10 to day 33 or day 25 to day 66 depending on which point in the chart you use. Using the sine and cosine of the ejection angle to figure out the prograde and normal dV vectors, I can get the encounters close (in astronomical terms, anywho), but they always seem to arrive when Moho is in another part of it\u0027s orbit when the ascending or descending node are adjusted to intercept Moho\u0027s orbit as I assume this is where the slightly inclined intercept orbit is intended to meet Moho. The transit times do not seem to be working out either. I\u0027ll be trying to make an intercept with the other planets in the near future and let you know how it goes.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ENevermind. Turns out sine/cosine don\u0027t work for ballistic trajectories. After much fiddling, I got it! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EI see great potential in this widget, and I will be using it greatly in the future if I can get me to work with it. Thanks for the hard work thusfar!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-21T02:59:47Z\u0022 title=\u002206/21/2013 02:59  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 21, 2013\u003C/time\u003E by SRFirefox\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-06-21T02:42:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SRFirefox\u0022 data-cite=\u0022SRFirefox\u0022\u003E\u003Cdiv\u003ECan I request an option to look for ejection burn dV only when transferring to planets with an atmosphere? I\u0027m sure there are some good trajectories that are being missed because the calculator isn\u0027t taking into account the fact that braking is \u0027free.\u0027\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust leave the Final orbit altitude blank, and it\u0027ll do what you\u0027re looking for here.\u003C/p\u003E\u003Cp\u003ENot sure what\u0027s up with your Moho problem, maybe your measurement of game time is off a bit?\u003C/p\u003E\n"},{"CreatedByName":"SRFirefox","CreatedById":67434,"CreatedDateTime":"2013-06-21T03:56:54Z","Content":"\n\u003Cp\u003EI got it, Tavert. Took a bit of fiddling and I found a trajectory that only took a few hundred m/s more than planned, due to the whole not-instantaneous power problem and the need to make small mid-course corrections. Works a charm!\u003C/p\u003E\n"},{"CreatedByName":"aquilux","CreatedById":23859,"CreatedDateTime":"2013-06-23T20:06:09Z","Content":"\n\u003Cp\u003EWould it be possible to include maneuver node values for these transfers in the \u0022selected transfer details\u0022 section? I understand the steps that have been indicated here are rather simple, but it seems a bit inefficient and repetitive to have to do more math after the script has done some already, and then have to eyeball it. There are a few different ways to plug in specific values into maneuver nodes (for example, mechjeb has a maneuver node editor built in), and it would be quite helpful if the script could give us the particulars to adjust our nodes to for each burn.\u003C/p\u003E\n"},{"CreatedByName":"fibonatic","CreatedById":73180,"CreatedDateTime":"2013-07-03T14:46:20Z","Content":"\n\u003Cp\u003EI took a quick look at your source code and I wondered why you are using the mass of the celestial bodies, while you are only using gravitational parameter, since dividing two gravitational parameters yields the same as dividing two masses. Because I would accept that the relative error would go down, since you are currently using a gravitational constant with only 4 digits (G = 6.674e-11). I would like to ask the same question regarding the sphere of influence. Or does the game KSP itself also uses these values?\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-03T16:54:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022fibonatic\u0022 data-cite=\u0022fibonatic\u0022\u003E\u003Cdiv\u003EI took a quick look at your source code and I wondered why you are using the mass of the celestial bodies, while you are only using gravitational parameter, since dividing two gravitational parameters yields the same as dividing two masses. Because I would accept that the relative error would go down, since you are currently using a gravitational constant with only 4 digits (G = 6.674e-11). I would like to ask the same question regarding the sphere of influence. Or does the game KSP itself also uses these values?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EKSP uses the truncated gravitational constant, so that\u0027s where that comes from. I can\u0027t think of any place where I\u0027m dividing two gravitational parameters off the top of my head, do you have an example? Generally for (simplified, 2-body) orbits all you care about is the gravitation parameter, not the actual masses.\u003C/p\u003E\n"},{"CreatedByName":"fibonatic","CreatedById":73180,"CreatedDateTime":"2013-07-03T21:51:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022alexmun\u0022 data-cite=\u0022alexmun\u0022\u003E\u003Cdiv\u003EKSP uses the truncated gravitational constant, so that\u0027s where that comes from. I can\u0027t think of any place where I\u0027m dividing two gravitational parameters off the top of my head, do you have an example? Generally for (simplified, 2-body) orbits all you care about is the gravitation parameter, not the actual masses.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI mainly looked at celestialbodies.coffee (weird extension by the way), which uses \u0022Math.pow(@mass / @orbit.referenceBody.mass, 0.4)\u0022 which would be the same if you would use the gravitational parameters.\u003C/p\u003E\u003Cp\u003EAnd what about the sphere of influence, since I assume that this would be rounded to a certain value in-game, instead of the exact result from a*(m/M)^0.4?\u003C/p\u003E\u003Cp\u003EBy the way where did you find that they use that gravitational constant, I did a quick search and got this: \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u003C/a\u003E which also states that, but it doesn\u0027t give any source.\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-04T01:46:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022fibonatic\u0022 data-cite=\u0022fibonatic\u0022\u003E\u003Cdiv\u003EI mainly looked at celestialbodies.coffee (weird extension by the way), which uses \u0022Math.pow(@mass / @orbit.referenceBody.mass, 0.4)\u0022 which would be the same if you would use the gravitational parameters.\u003Cp\u003EAnd what about the sphere of influence, since I assume that this would be rounded to a certain value in-game, instead of the exact result from a*(m/M)^0.4?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh, yes. I don\u0027t actually use the sphere of influence for anything so I had forgotten that. I treat the mass as the underlying value and the gravitational parameter as a (possibly less precise) derived value so I will use the mass where that makes sense such as in that equation.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022fibonatic\u0022 data-cite=\u0022fibonatic\u0022\u003E\u003Cdiv\u003EBy the way where did you find that they use that gravitational constant, I did a quick search and got this: \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u003C/a\u003E which also states that, but it doesn\u0027t give any source.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think I got it from that same source. I don\u0027t remember if I validated it in-game or not, but I think I may have. When you write mods you have access to the innards of the game such as that value.\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-04T16:07:59Z","Content":"\n\u003Cp\u003EI\u0027ve put up a new version! In addition to an all new lambert solver on the back end, the main new feature is that it now calculates the prograde and normal components of your ejection maneuver. Just hover over the ejection delta-v value and a tooltip will pop up with the details. So if you use something like MechJeb\u0027s maneuver node editor you can now enter the values for the maneuver directly.\u003C/p\u003E\n"},{"CreatedByName":"Commander Zoom","CreatedById":8333,"CreatedDateTime":"2013-07-06T06:28:58Z","Content":"\n\u003Cp\u003EYou are awesome, and so is this tool. Thank you.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-07-06T11:20:38Z","Content":"\n\u003Cp\u003EI am trying to figure a launch window for a return to Kerbin from Eeloo. No matter what date I put in as earliest departure, the launch window planner says my departure date is the same as my earliest departure, or right now. For example, what I\u0027m trying to do now is return to Kerbin. My current time is year 2, day 295. Launch window planner says my departure is Year 2, day 295 at 0:00:00. It continues to do this no matter what date you enter for earliest departure. It wants you to leave right now. Is there something I\u0027m missing? This doesn\u0027t seem right.\u003C/p\u003E\u003Cp\u003Eedit : beginning at earliest departure of year 3 day 99 the launch planner begins to give departure dates that aren\u0027t right now. It looks like it just starts working at year 3 day 99. I\u0027m confused.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-06T11:26:36Z\u0022 title=\u002207/06/2013 11:26  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 6, 2013\u003C/time\u003E by Otis\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"m4v","CreatedById":67965,"CreatedDateTime":"2013-07-06T16:16:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022fibonatic\u0022 data-cite=\u0022fibonatic\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EBy the way where did you find that they use that gravitational constant, I did a quick search and got this: \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://wiki.kerbalspaceprogram.com/wiki/API:CelestialBody\u003C/a\u003E which also states that, but it doesn\u0027t give any source.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003EYou can get the gravitational constant in game from the planet\u0027s information window in map mode.\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-06T18:27:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Otis\u0022 data-cite=\u0022Otis\u0022\u003E\u003Cdiv\u003EI am trying to figure a launch window for a return to Kerbin from Eeloo. No matter what date I put in as earliest departure, the launch window planner says my departure date is the same as my earliest departure, or right now. For example, what I\u0027m trying to do now is return to Kerbin. My current time is year 2, day 295. Launch window planner says my departure is Year 2, day 295 at 0:00:00. It continues to do this no matter what date you enter for earliest departure. It wants you to leave right now. Is there something I\u0027m missing? This doesn\u0027t seem right.\u003Cp\u003Eedit : beginning at earliest departure of year 3 day 99 the launch planner begins to give departure dates that aren\u0027t right now. It looks like it just starts working at year 3 day 99. I\u0027m confused.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEeloo is sort of a weird case. Because it\u0027s orbit is so slow you can pretty much leave whenever you want as long as you pick a good arrival time back at Kerbin. I\u0027ve just put up an update that includes advanced controls to change the scale of the x and y axes of the plot that might help you visualize it better.\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-06T18:44:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003ECouple feature requests that I for one would find quite useful:\u003Cp\u003E- Could we optionally switch the y axis to transfer time instead of arrival time? The triangle of wasted space bugs me.\u003C/p\u003E\u003Cp\u003E- \u0022Detailed options\u0022 for user-selectable upper limits on the axes. \u003C/p\u003E\u003Cp\u003E- Decimal days (or hour/minute fields in \u0022detailed mode\u0022) for more precision with some of the moon-to-moon transfers\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo I finally got around to implementing these for you, tavert. I decided to just make the transfer time axis the default because I think it makes the periodic nature of the transfer windows a little bit more clear. It is more computationally intensive because I have to recalculate the position of the destination planet for every point instead of just once for every row, but the improvements I\u0027ve made to the lambert solver recently help to offset the performance penalty.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-07-06T22:44:01Z","Content":"\n\u003Cp\u003EThanks alexmun. I am trying to put together an entry for smallest manned craft to Eeloo and back. It\u0027s been way harder than I thought it would. For now, I went ahead and left Eeloo soi and the let mechjeb figure a Hohman transfer. I think I\u0027ve got enough delta-v left to finish the mission. I\u0027ll go back later and try to figure out more about what I\u0027m doing wrong.\u003C/p\u003E\n"},{"CreatedByName":"tavert","CreatedById":57383,"CreatedDateTime":"2013-07-07T07:08:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022alexmun\u0022 data-cite=\u0022alexmun\u0022\u003E\u003Cdiv\u003ESo I finally got around to implementing these for you, tavert. I decided to just make the transfer time axis the default because I think it makes the periodic nature of the transfer windows a little bit more clear. It is more computationally intensive because I have to recalculate the position of the destination planet for every point instead of just once for every row, but the improvements I\u0027ve made to the lambert solver recently help to offset the performance penalty.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThank you thank you! Much awesomeness, glad it wasn\u0027t many lines of code to add. Must stop myself from planning a grand tour now...\u003C/p\u003E\u003Cp\u003ECouldn\u0027t you work along diagonals to avoid recalculating destination position for every point?\u003C/p\u003E\n"},{"CreatedByName":"alexmun","CreatedById":68608,"CreatedDateTime":"2013-07-07T21:14:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tavert\u0022 data-cite=\u0022tavert\u0022\u003E\u003Cdiv\u003EThank you thank you! Much awesomeness, glad it wasn\u0027t many lines of code to add. Must stop myself from planning a grand tour now...\u003Cp\u003ECouldn\u0027t you work along diagonals to avoid recalculating destination position for every point?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately that only works if the scale of the two axes is the same. I\u0027ve thought of trying to round the scale of the y-axis to a harmonic of the x-axis to reduce the workload, but I haven\u0027t had a chance to try it yet.\u003C/p\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2013-07-11T01:01:18Z","Content":"\n\u003Cp\u003EI think Chrome 28 broke this, sadly. It still works in Firefox, so I don\u0027t think the site itself is broken. :-(\u003C/p\u003E\u003Cp\u003EEDIT: I should be more specific. The graphic isn\u0027t displaying (at all, even before I hit calculate), but everything else seems to be working fine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-11T02:10:40Z\u0022 title=\u002207/11/2013 02:10  AM\u0022 data-short=\u002211 yr\u0022\u003EJuly 11, 2013\u003C/time\u003E by Eric S\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2013-07-11T15:23:38Z","Content":"\n\u003Cp\u003EI\u0027m getting a strange issue, the dates on the porkchop plot are reversed:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/beRjHuw.png\u0022 alt=\u0022beRjHuw.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe parameters you can\u0027t see (sorry, on a widescreen laptop) are:\u003C/p\u003E\u003Cp\u003EKerbin 100km orbit\u003C/p\u003E\u003Cp\u003ETO\u003C/p\u003E\u003Cp\u003EEeloo 50km orbit\u003C/p\u003E\u003Cp\u003EGreat tool, by the way; I\u0027ve used this on missions to Duna and it\u0027s spectacularly helpful.\u003C/p\u003E\n"},{"CreatedByName":"Mr Shifty","CreatedById":68146,"CreatedDateTime":"2013-07-11T18:21:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EI\u0027m getting a strange issue, the dates on the porkchop plot are reversed:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think if you click on the \u0022Show Advanced Settings...\u0022 link, you\u0027ll find that your latest departure is set at about year 1 day 132.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2013-07-11T19:19:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mr Shifty\u0022 data-cite=\u0022Mr Shifty\u0022\u003E\u003Cdiv\u003EI think if you click on the \u0022Show Advanced Settings...\u0022 link, you\u0027ll find that your latest departure is set at about year 1 day 132.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat helps, thanks. Apparently I need to leave now.\u003C/p\u003E\n"}]}