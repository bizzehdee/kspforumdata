{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":168,"Articles":[{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-09T18:54:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891527\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607532263\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt loads fine for me.\u00A0 Do you have any error messages?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nOpens fine here too, although there are no events other than the default one. The vehicle seems to be there though\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-09T21:30:52Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E oh sunofa*** when I went to check for errors I opened an error log I saved from a previous problem that was underneath the *actual* error log file, which is indeed empty. This was coupled with the fact that I thought I had actually built an ascent in this file not just the vessel data. But I guess I didn\u0027t? Okay. Sorry\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002259814\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0022 rel=\u0022\u0022\u003E@vitorboschi\u003C/a\u003E thx for the dbl-check\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-09T21:33:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891723\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607549452\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E oh sunofa*** when I went to check for errors I opened an error log I saved from a previous problem that was underneath the *actual* error log file, which is indeed empty. This was coupled with the fact that I thought I had actually built an ascent in this file not just the vessel data. But I guess I didn\u0027t? Okay. Sorry\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002259814\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0022 rel=\u0022\u0022\u003E@vitorboschi\u003C/a\u003E thx for the dbl-check\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s all good. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-09T21:53:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223890404\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607308657\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/6/2020 at 9:37 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLVD: Added a linear tangent steering model to the available options in LVD.\u00A0 This is a great way to get an optimal ascent from the surface of a body to space, as the linear tangent steering law is actually derived directly from optimal control theory.\u00A0 As of now, only \u0022pitch\u0022 type angles can use this steering.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nso is this only really usable for bodies without atmosphere?\n\u003C/p\u003E\n\u003Cp\u003E\nOH!! Also I forgot to remind you that the Integration Step Size global control is not what I had in mind. What I was asking for was a way to globally set the step size for the integrator \u003Cem\u003Eoutput\u003C/em\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-09T23:31:17Z\u0022 title=\u002212/09/2020 11:31  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 9, 2020\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-10T04:17:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891737\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607550781\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nso is this only really usable for bodies without atmosphere?\n\u003C/p\u003E\n\u003Cp\u003E\nOH!! Also I forgot to remind you that the Integration Step Size global control is not what I had in mind. What I was asking for was a way to globally set the step size for the integrator \u003Cem\u003Eoutput\u003C/em\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nYou can use it on bodies with an atmosphere, yes, but the underlying theory was derived using a 2D, flat plane, atmosphere-less model.\u00A0 It\u0027ll still work and do what it does, it probably just won\u0027t be globally optimal like it is in the context in which it was originally derived.\n\u003C/li\u003E\n\u003Cli\u003E\nThere\u0027s no way to control the step size of the integrators internally, so what I\u0027m doing \u003Cem\u003Eis\u003C/em\u003E globally setting the integrator step size output.\u00A0 MATLAB is smart enough to still take the large steps if it can, and it uses an efficient, specialized interpolation scheme to get data at the requested time steps if the user so chooses.\u00A0 Any additional processing time you see when doing this is going to be due to creating the objects that hold state information for each time step.\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-10T05:29:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891504\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607529702\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere are a few issues with your file:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nYour radius constraint numbers look like altitudes.\u00A0 Make it an altitude constraint instead.\n\u003C/li\u003E\n\u003Cli\u003E\nYour objective function is minimizing total vehicle mass when it should be maximizing it.\n\u003C/li\u003E\n\u003Cli\u003E\nRemove the \u0022coast in orbit\u0022 event until you\u0027ve got your ascent locked down.\u00A0 It\u0027s just adding propagation time to the process.\n\u003C/li\u003E\n\u003Cli\u003E\nI don\u0027t think your vehicle has enough thrust or propellant mass to make this trajectory work.\u00A0 You may want to look into that.\n\u003C/li\u003E\n\u003Cli\u003E\nI adjusted the minimum altitude the integrator tolerates to -1000 km because you were crashing during optimization so often.\n\u003C/li\u003E\n\u003Cli\u003E\nI added two events: an initial open-loop pitch over and a final fixed pitch rate event after the linear tangent steering.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nI also adjusted the fmincon finite difference step size.\u00A0 I had to play with this to get a decent idea of what it should be, but I think I got it nailed down now.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nAnyway, I fixed up your ascent.\u00A0 Take a look at the \u003Ca href=\u0022https://drive.google.com/file/d/121oeOlfMsJznZv7NjJu_9xVMQTitl44V/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Enew MAT file here\u003C/a\u003E.\u00A0 Keep in mind that what I did is only one way to do it, and you should play around to see if you can find a better way.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any other questions!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo many problems! Thanks for looking at it for me.\n\u003C/p\u003E\n\u003Cp\u003E\nre #4 rocket equation and references for LMO mean thrust and prop should be okay or close, but that\u0027s why I want to simulate with gravity and aero.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been playing around with the .mat you provided. I cannot get it to not push \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E out to 450 km before driving it back down again, which tells me it\u0027s way off optimal, the pitch control seems to vary only slowly at first, but my gut says pitch over hard early and ease back the rate of change.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe graph of Dynamic pressure doesn\u0027t start till t=270, which is about where it\u00A0 get out of the atmosphere (atmoHgt=180) - seems odd. There are no errors in the log about troubles computing dynamic pressure.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe I\u0027ll go back to trying a piecewise linear pitch program?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-10T10:30:41Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891958\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607573878\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere\u0027s no way to control the step size of the integrators internally, so what I\u0027m doing \u003Cem\u003Eis\u003C/em\u003E globally setting the integrator step size output.\u00A0 MATLAB is smart enough to still take the large steps if it can, and it uses an efficient, specialized interpolation scheme to get data at the requested time steps if the user so chooses.\u00A0 Any additional processing time you see when doing this is going to be due to creating the objects that hold state information for each time step.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nsorry, I guess I should have just tried it to see! What threw me was the default setting of 1 instead of -1 so I thought that was the \u003Cem\u003Ecurrent\u003C/em\u003E value, which matches up to the integrator\u0027s Initial Step Size\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-10T14:24:53Z","Content":"\n\u003Cp\u003E\nokay \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E work with me here on \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk3%20%231%20Ascent%20Base%20Setup.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis ascent plan\u003C/a\u003E, due to launch in early Feb 2021, I want to try a direct injection to 300km circular orbit. I have everything setup for staging and for the initial launch, which will roll the rocket from 45\u00B0 to 90\u00B0 (can\u0027t launch 90\u00B0 due to how its launch platform is setup). I don\u0027t bother actually rolling it in the script I just know based on game testing it takes ~10s to complete the roll so I have it fly straight up for that time. From that point I want to start pitching over. Although you said the tangent steering model wasn\u0027t best for an atmosphere, could I use it to just get an initial ascent path? Then from there make note of the alt/pitch and manually create several pitch events that recreate it with some leeway in optimized values and let the optimizer go to work? How should I set up the constraints? I know I would want an objective function to maximize \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O but should I use ap/pe constraints or an altitude \u002B ecc constraints? Speaking of objective functions, it\u0027s possible to have more than one but you can\u0027t change the optimization type for each? So I can\u0027t have maximize \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O and minimize ecc objective functions? Finally, still not completely sure how to use the Scale Factor for constraints - is that based mainly off the Jacobian Heatmap or do you have some intuitive approaches to it? Thanks \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-10T15:10:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223891971\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607578185\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo many problems! Thanks for looking at it for me.\n\u003C/p\u003E\n\u003Cp\u003E\nre #4 rocket equation and references for LMO mean thrust and prop should be okay or close, but that\u0027s why I want to simulate with gravity and aero.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been playing around with the .mat you provided. I cannot get it to not push \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E out to 450 km before driving it back down again, which tells me it\u0027s way off optimal, the pitch control seems to vary only slowly at first, but my gut says pitch over hard early and ease back the rate of change.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe graph of Dynamic pressure doesn\u0027t start till t=270, which is about where it\u00A0 get out of the atmosphere (atmoHgt=180) - seems odd. There are no errors in the log about troubles computing dynamic pressure.\n\u003C/p\u003E\n\u003Cp\u003E\nMaybe I\u0027ll go back to trying a piecewise linear pitch program?\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe dynamic pressure issue is because your Mars body has no temperature curve, so the temperature is assumed to be 0 K all the way through.\u00A0 This means that your density curve is 0 (and actually I\u0027m guessing there\u0027s a divide by zero in there somewhere because of it), and hence, no dynamic pressure.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-10T15:22:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892065\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607610293\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n47 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nokay \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E work with me here on \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk3%20%231%20Ascent%20Base%20Setup.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis ascent plan\u003C/a\u003E, due to launch in early Feb 2021, I want to try a direct injection to 300km circular orbit. I have everything setup for staging and for the initial launch, which will roll the rocket from 45\u00B0 to 90\u00B0 (can\u0027t launch 90\u00B0 due to how its launch platform is setup). I don\u0027t bother actually rolling it in the script I just know based on game testing it takes ~10s to complete the roll so I have it fly straight up for that time. From that point I want to start pitching over.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can use the attitude interpolation to model the roll in 10 seconds directly without having to use roll rates or anything like that.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlthough you said the tangent steering model wasn\u0027t best for an atmosphere, could I use it to just get an initial ascent path? Then from there make note of the alt/pitch and manually create several pitch events that recreate it with some leeway in optimized values and let the optimizer go to work?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe linear tangent steering model will still work fine for an atmosphere, it just wasn\u0027t derived for that sort of flight.\u00A0 Whether or not it\u0027s better than piecewise linear is up to your specific case.\u00A0 You can still use (and I might recommend) an initial pitch over rate to get the linear tangent steering away from the discontinuity at 90 degrees pitch, and then a final pitch rate to target the insertion orbit and maybe null out some pitch rate later.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow should I set up the constraints? I know I would want an objective function to maximize \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E/O but should I use ap/pe constraints or an altitude \u002B ecc constraints?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would actually use altitude / flight path angle / velocity magnitude (speed) constraints for your orbit insertion now that I have FPA in there.\u00A0 They just behave so much better than SMA/ecc or rA/rP.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSpeaking of objective functions, it\u0027s possible to have more than one but you can\u0027t change the optimization type for each? So I can\u0027t have maximize \u003Cabbr title=\u0022Liquid Fuel\u0022\u003E\u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E\u003C/abbr\u003E/O and minimize ecc objective functions?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe optimizer will only attempt to maximize or minimize the amalgamation of all of your objective functions according to the method you pick (sum, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E, etc).\u00A0 You can\u0027t do what you described, it\u0027s not how optimizers work sadly lol.\u00A0 Typically you would pick eccentricity and make it a constraint and then max prop remaining, or pick prop remaining and make it a constraint and minimize eccentricity.\u00A0 I would do the former.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFinally, still not completely sure how to use the Scale Factor for constraints - is that based mainly off the Jacobian Heatmap or do you have some intuitive approaches to it? Thanks \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou can use the Jacobian heat map thing, that is one way to do it.\u00A0 You can also just scale it by the magnitude of the desired constraint value.\u00A0 Honestly there is no one right way to do it.\u00A0 I talked with the folks at UCSD (University of California San Diego) who wrote SNOPT (industry standard gradient optimizer, it\u0027s great) and they basically said that there\u0027s no right or wrong way to scale, you just have to try out different techniques for your problem.\u00A0 The only advice I can give is, if nothing else, try to make your scale factor such that constraint values are between -1 and 1.\u00A0 Otherwise you have to just play with it.\u00A0 Welcome to real world trajectory design, where we spend almost as much time making the optimizer work as we do designing the trajectory lol.\n\u003C/p\u003E\u003Cp\u003E\nOh, something I\u0027ll add about the linear tangent steering in general: if you find your pitch angles going very negative, that means that you probably need to stop burning, coast for a bit, and then pick up your insertion burn later.\u00A0 Doing things in one long burn isn\u0027t necessarily optimal, even if linear tangent steering does come from \u0022optimal control theory.\u0022\u00A0 This is because you still define the controls, and as it turns out, throttle is a control too!\u00A0 \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-11T00:46:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892090\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607613036\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe dynamic pressure issue is because your Mars body has no temperature curve, so the temperature is assumed to be 0 K all the way through.\u00A0 This means that your density curve is 0 (and actually I\u0027m guessing there\u0027s a divide by zero in there somewhere because of it), and hence, no dynamic pressure.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI coded a pitch program by hand. Pitch hard, Pitch gently till \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E hits 250, coast till at \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E alt, optimize pitch and time for circularizing burn constrained by semi major axis. That gets a 700 kg vehicle up with 740 kg of leftover prop from 4-ton initial, so I figure it\u0027s putting into orbit double the mass it needs to, so probably 2-ton of initial prop is enough. Maybe even better if/when I figure out how to optimize the pitch segments. Seems like one advantage of the linear tangent stuff is a smaller number of optimization params, and that they are more naturally linked by partial derivatives?\n\u003C/p\u003E\n\u003Cp\u003E\nTime to try out the plugins! Can you tell which of these I don\u0027t need to fill out for aero to work? (I\u0027m guessing I need molar mass (at 0 km))\n\u003C/p\u003E\n\u003Cp\u003E\natmoTempAlts = 0.00000000000\u003Cbr\u003E\natmoTempTemps = 0.00000000000\u003Cbr\u003E\natmoTempSunMultAlts = 0.00000000000\u003Cbr\u003E\natmoTempSunMults = 0.00000000000\u003Cbr\u003E\nlatTempBiasLats = 0.00000000000\u003Cbr\u003E\nlatTempBiases = 0.00000000000\u003Cbr\u003E\nlatTempSunMultLats = 0.00000000000\u003Cbr\u003E\nlatTempSunMults = 0.00000000000\u003Cbr\u003E\natmoMolarMass = 0.0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-11T02:30:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892313\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607647603\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI coded a pitch program by hand. Pitch hard, Pitch gently till \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E hits 250, coast till at \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E alt, optimize pitch and time for circularizing burn constrained by semi major axis. That gets a 700 kg vehicle up with 740 kg of leftover prop from 4-ton initial, so I figure it\u0027s putting into orbit double the mass it needs to, so probably 2-ton of initial prop is enough. Maybe even better if/when I figure out how to optimize the pitch segments. Seems like one advantage of the linear tangent stuff is a smaller number of optimization params, and that they are more naturally linked by partial derivatives?\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn an ideal world, yes, that\u0027s true.\u00A0 However, the linear tangent stuff is super sensitive to small changes in its terms, so what you make up for in few optimization variables might be lost because of those sensitivities.\u00A0 You\u0027ll just have to play and see how it works for you.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTime to try out the plugins! Can you tell which of these I don\u0027t need to fill out for aero to work? (I\u0027m guessing I need molar mass (at 0 km))\n\u003C/p\u003E\n\u003Cp\u003E\natmoTempAlts = 0.00000000000\u003Cbr\u003E\natmoTempTemps = 0.00000000000\u003Cbr\u003E\natmoTempSunMultAlts = 0.00000000000\u003Cbr\u003E\natmoTempSunMults = 0.00000000000\u003Cbr\u003E\nlatTempBiasLats = 0.00000000000\u003Cbr\u003E\nlatTempBiases = 0.00000000000\u003Cbr\u003E\nlatTempSunMultLats = 0.00000000000\u003Cbr\u003E\nlatTempSunMults = 0.00000000000\u003Cbr\u003E\natmoMolarMass = 0.0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAt the very least you need the two temp ones on the top and the two \u0022atmoTempSunMult\u0022, plus the molar mass, yes.\n\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-11T04:29:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892332\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607653815\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn an ideal world, yes, that\u0027s true.\u00A0 However, the linear tangent stuff is super sensitive to small changes in its terms, so what you make up for in few optimization variables might be lost because of those sensitivities.\u00A0 You\u0027ll just have to play and see how it works for you.\n\u003C/p\u003E\n\u003Cp\u003E\nAt the very least you need the two temp ones on the top and the two \u0022atmoTempSunMult\u0022, plus the molar mass, yes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nokay thanks, do you know what these represent? some googling =\u0026gt; \u0022something to do with scattering\u0022\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(from Kerbin)\n\u003C/p\u003E\n\u003Cp\u003E\natmoTempSunMultAlts = 0.00000000000,8.81521972656,16.05038867188,25.72923437500,37.87944140625,57.44012500000,63.90271875000,70.00000000000\u003Cbr\u003E\natmoTempSunMults = 1.00000000000,0.30000001192,0.00000000000,0.00000000000,0.20000000298,0.20000000298,1.00000000000,1.20000004768\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-RO/RealSolarSystem/blob/master/GameData/RealSolarSystem/RSSKopernicus/Mars/Mars.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E/RealSolarSystem/blob/master/GameData/RealSolarSystem/RSSKopernicus/Mars/Mars.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nhas some data for Mars, do you have a better source?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-11T15:58:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892099\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607613754\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/10/2020 at 10:22 AM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou can use the attitude interpolation to model the roll in 10 seconds directly without having to use roll rates or anything like that.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh I know, I just don\u0027t really see the point of doing that. I figured doing the roll in LVD wouldn\u0027t have any major effect on the outcome and it doesn\u0027t have inputs for engine vector or fin steering steering limits so it can\u0027t actually tell me how long it will take the rocket to roll (future feature? eh, maybe at least for engine gimbal but either way not a big deal IMO). So why bother when the rocket will be otherwise heading straight up anyway? if it were pitching while rolling, that may be another thing. Please correct me if my assumptions are wrong!\n\u003C/p\u003E\n\u003Cp\u003E\nNo comment on your other tips, I will work to apply them and update you on progress when I hit a wall at some point \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-11T18:05:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892347\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607660995\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nokay thanks, do you know what these represent? some googling =\u0026gt; \u0022something to do with scattering\u0022\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n(from Kerbin)\n\u003C/p\u003E\n\u003Cp\u003E\natmoTempSunMultAlts = 0.00000000000,8.81521972656,16.05038867188,25.72923437500,37.87944140625,57.44012500000,63.90271875000,70.00000000000\u003Cbr\u003E\natmoTempSunMults = 1.00000000000,0.30000001192,0.00000000000,0.00000000000,0.20000000298,0.20000000298,1.00000000000,1.20000004768\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/KSP-RO/RealSolarSystem/blob/master/GameData/RealSolarSystem/RSSKopernicus/Mars/Mars.cfg\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003E\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E\u003C/abbr\u003E/RealSolarSystem/blob/master/GameData/RealSolarSystem/RSSKopernicus/Mars/Mars.cfg\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nhas some data for Mars, do you have a better source?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAs I mentioned before, if you use the File -\u0026gt; Create Bodies.ini File From KSP (or whatever the exact wording is) menu item in the main KSPTOT window, this will create the bodies file from data directly in KSP.\u00A0 This is the preferred way to generate bodies.ini files.\u00A0 Give this a go and tell me how it works for you. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892480\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607702295\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh I know, I just don\u0027t really see the point of doing that. I figured doing the roll in LVD wouldn\u0027t have any major effect on the outcome and it doesn\u0027t have inputs for engine vector or fin steering steering limits so it can\u0027t actually tell me how long it will take the rocket to roll (future feature? eh, maybe at least for engine gimbal but either way not a big deal IMO). So why bother when the rocket will be otherwise heading straight up anyway? if it were pitching while rolling, that may be another thing. Please correct me if my assumptions are wrong!\n\u003C/p\u003E\n\u003Cp\u003E\nNo comment on your other tips, I will work to apply them and update you on progress when I hit a wall at some point \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRoll isn\u0027t important for thrust, so you are free to ignore it if you\u0027d like!\u00A0 It\u0027s not a problem. \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd no, engine gimbal or fin steering will never be in LVD.\u00A0 Those are 6-DOF things and I just don\u0027t have the experience (or the desire) to incorporate that sort of analysis. \u003Cspan\u003E\u003Cspan\u003E Sorry! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-11T21:04:22Z","Content":"\n\u003Cp\u003E\nI know I\u0027ve been talking a lot recently about using radius, velocity, and flight path angle, as opposed to SMA, eccentricity, and possibility true anomaly, as insertion state constraints in Launch Vehicle Designer.\u00A0 It did occur to me the other day that most LVD users probably don\u0027t know how to compute flight path angle and probably don\u0027t know how to get radius and velocity from an SMA/eccentricity/true anomaly combination either.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve thus added a new astrodynamics calculator to handle these calculations for you. It will be available in both MA and LVD under the Tools -\u0026gt; Astrodynamics Calculators menu item of each.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00229R68Hxy.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022114.82\u0022 height=\u0022488\u0022 width=\u0022425\u0022 src=\u0022https://i.imgur.com/9R68Hxy.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEnjoy!\n\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-11T23:15:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892541\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607709924\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAs I mentioned before, if you use the File -\u0026gt; Create Bodies.ini File From KSP (or whatever the exact wording is) menu item in the main KSPTOT window, this will create the bodies file from data directly in KSP.\u00A0 This is the preferred way to generate bodies.ini files.\u00A0 Give this a go and tell me how it works for you. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI recall, since I need Mars you are thinking \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E or Copernicus data will be okay?\u00A0I\u0027ve no idea how suitable their temp \u0026amp; sun mult data is. I have Mars (alt,temp) data, but not yet sun mult\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-11T23:21:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892643\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607728535\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 minutes ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI recall, since I need Mars you are thinking \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E or Copernicus data will be okay?\u00A0I\u0027ve no idea how suitable their temp \u0026amp; sun mult data is. I have Mars (alt,temp) data, but not yet sun mult\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI mean, it\u0027s worth a shot.\u00A0 Otherwise you\u0027ll need to get the data from somewhere else.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, can I ask why you need Mars data directly that \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E might not be suitable for?\u00A0 Please tell me you\u0027re not using KSPTOT for something other than KSP... the warranty is definitely not good for that lol.\n\u003C/p\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-12T00:50:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892645\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607728909\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI mean, it\u0027s worth a shot.\u00A0 Otherwise you\u0027ll need to get the data from somewhere else.\n\u003C/p\u003E\n\u003Cp\u003E\nThat said, can I ask why you need Mars data directly that \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E might not be suitable for?\u00A0 Please tell me you\u0027re not using KSPTOT for something other than KSP... the warranty is definitely not good for that lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just want to get a sanity check on the ascent \u002B aero-effects, I thought \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E might not be as sensitive to some parameters are LVD. NASA papers always reference a \u0022protected\u0022 sw package that only gov employees \u0022with a good reason\u0022 can get access to. One of those cases where you have an idea and keep following the loose ends.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-12T01:06:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892541\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607709924\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nno problem it was just an idea I had as I was typing my response, never actually even considered it before\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-12T04:48:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892675\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607734239\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just want to get a sanity check on the ascent \u002B aero-effects, I thought \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E might not be as sensitive to some parameters are LVD. NASA papers always reference a \u0022protected\u0022 sw package that only gov employees \u0022with a good reason\u0022 can get access to. One of those cases where you have an idea and keep following the loose ends.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay,\u00A0 that\u0027s fair.\u00A0 To be honest, knowledge of the Martian atmosphere is pretty thin in the scientific community compared to our Earth models, even today.\u00A0 I would assume that whatever \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E has implemented is probably close enough to truth (or at least, our best knowledge of the truth today) that it\u0027ll due for your purposes.\u00A0 Remember, the Martian atmosphere is only 1% of the density of Earth\u0027s.\u00A0 It\u0027s not irrelevant, but it\u0027s also not nearly as big of a driving factor when it comes to ascent as Earth\u0027s atmosphere is.\u00A0 I wouldn\u0027t worry about super high atmospheric fidelity too much. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIs the protected software package you\u0027re referring to a \u003C/span\u003EMars atmosphere model?\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892681\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607735210\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nno problem it was just an idea I had as I was typing my response, never actually even considered it before\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, no problem.\u00A0 Modeling steering torques on a vehicle is actually a\u00A0 whole separate type of analysis.\u00A0 In the real world, we split the trajectory design up into two parts: the low fidelity 3 degree of freedom (DOF) trajectory, which is optimized (think LVD); and the high fidelity 6 DOF trajectory, which takes the trajectory targets from the optimized 3DOF trajectory and uses guidance routines to steer using actuators.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nActually modeling the 6DOF actuators involves implementing guidance algorithms and control system models that I just don\u0027t know enough about to make it feasible.\u00A0 It\u0027s also not super relevant, since most KSP players wouldn\u0027t then go and implement those same control systems and guidance software in KSP anyway.\u00A0 (6DOF simulations tend to be very vehicle specific in this way, whereas 3DOF sims are pretty agnostic once you get past thrust, isp, and masses.)\n\u003C/p\u003E\n\u003Cp\u003E\nGood question though!\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892675\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607734239\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just want to get a sanity check on the ascent \u002B aero-effects, I thought \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E might not be as sensitive to some parameters are LVD. NASA papers always reference a \u0022protected\u0022 sw package that only gov employees \u0022with a good reason\u0022 can get access to. One of those cases where you have an idea and keep following the loose ends.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBtw, I keep an \u003Ca href=\u0022https://drive.google.com/file/d/121wuvFhtRQH8jaaNRsB3D7HDWg-lyJyg/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E bodies.ini\u003C/a\u003E file for myself for testing.\u00A0 You\u0027re welcome to play with it.\u00A0 Here\u0027s the relevant Mars portion if you want to see what they did for their atmosphere model:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-xml prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[Mars]\nepoch = -31542641.784000002\nsma = 227949699.961976290\necc = 0.093261103\ninc = 24.692724269\nraan = 3.351911063\narg = 332.102265530\nmean = 169.391312794\ngm = 42828.310000000\nradius = 3375.800000000\natmoHgt = 125.000000000\natmoPressAlts = 0.00000000000,1.00000000000,2.50000000000,4.00000000000,5.50000000000,7.15200000000,8.50000000000,10.00000000000,12.00000000000,14.00000000000,16.00000000000,18.00000000000,20.00000000000,22.00000000000,24.00000000000,26.00000000000,28.00000000000,30.00000000000,35.00000000000,40.00000000000,45.00000000000,50.00000000000,55.00000000000,60.00000000000,65.00000000000,70.00000000000,75.00000000000,80.00000000000,85.00000000000,90.00000000000,95.00000000000,100.00000000000,105.00000000000,113.00000000000,125.00000000000\natmoPressPresses = 1.14497005939,1.05023002625,0.92174899578,0.80806797743,0.70759099722,0.61049997807,0.54065597057,0.47173500061,0.39252200723,0.32582300901,0.26977300644,0.22277100384,0.18344900012,0.15063199401,0.12331800163,0.10064800084,0.08188779652,0.06641159952,0.03878010064,0.02219690010,0.01248379983,0.00693851989,0.00382772996,0.00209900993,0.00114502001,0.00061980402,0.00033288001,0.00018108400,0.00009842960,0.00005285560,0.00002801030,0.00001463420,0.00000752905,0.00000250968,0.00000000000\natmoTempAlts = 0.00000000000,7.15200000000,14.25000000000,22.00000000000,40.00000000000,53.00000000000,66.50000000000,71.00000000000,78.60000000000,85.00000000000,95.00000000000,108.00000000000,115.00000000000,125.00000000000\natmoTempTemps = 194.75000000000,193.60000610352,197.89999389648,189.60000610352,165.60000610352,157.89999389648,156.50000000000,154.60000610352,159.00000000000,153.89999389648,145.00000000000,137.19999694824,127.59999847412,118.30000305176\natmoTempSunMultAlts = 0.00000000000,7.15200000000,17.00000000000,62.00000000000,76.00000000000,93.00000000000,106.00000000000,125.00000000000\natmoTempSunMults = 1.37000000477,1.00000000000,0.28999999166,0.00000000000,-0.18000000715,0.00000000000,-0.10000000149,0.25999999046\nlatTempBiasLats = 0.00000000000,0.66322511576,1.57079632679\nlatTempBiases = 2.00000000000,0.00000000000,-18.00000000000\nlatTempSunMultLats = 0.00000000000,1.04719755120,1.57079632679\nlatTempSunMults = 64.00000000000,34.00000000000,4.00000000000\natmoMolarMass = 0.043480000\nrotperiod = 88642.684800000\nrotini = 25.000000000\nbodycolor = gray\ncanBeCentral = 1\ncanBeArriveDepart = 1\nparent = Sun\nparentID = 0\nname = Mars\nid = 11\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-12-12T14:50:46Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E just thought up a feature request for the Mission Animator - tie the scroll buttons to the warp factor. So a single click = warp factor. Pressing play/stop works okay but does also always advance two steps instead of one. If it\u0027s not simple to tie in the scroll button the play/stop method works fine, but only for advancing forwards. I know you can scrub with the scrollbar, but depending on the scale of the timeline getting tiny movements can sometimes be difficult. Also can the \u0022sec\u0022 field allow for using the UT time dialog?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-12T14:54:13Z\u0022 title=\u002212/12/2020 02:54  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 12, 2020\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-13T01:00:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892723\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607748517\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIs the protected software package you\u0027re referring to a \u003C/span\u003EMars atmosphere model?\n\u003C/p\u003E\n\u003Cp\u003E\nBtw, I keep an \u003Ca href=\u0022https://drive.google.com/file/d/121wuvFhtRQH8jaaNRsB3D7HDWg-lyJyg/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E bodies.ini\u003C/a\u003E file for myself for testing.\u00A0 You\u0027re welcome to play with it.\u00A0 Here\u0027s the relevant Mars portion if you want to see what they did for their atmosphere model:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNASAs POST2 - I guess giving away hypersonic\u00A0trajectory simulators is not the done thing.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E bodies.ini and your inputs.\n\u003C/p\u003E\n\u003Cp\u003E\nI managed to put together a .mat that gets into a 250x250 LMO with aero effects. I put some graphs and the .mat here (\u003Ca href=\u0022https://drive.google.com/file/d/1qaKIbTivOiqO-_CpD4lk8BKI5d9s9SGt/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1qaKIbTivOiqO-_CpD4lk8BKI5d9s9SGt/view?usp=sharing\u003C/a\u003E)\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nGood things: 700 kg dry \u002B 2-ton prop gets up with 47 kg prop left over.\u00A0maxQ 170 Pa. Without the first event 10 km vertical it\u0027s 250-ish so aero acts like I\u0027d expect.\n\u003C/li\u003E\n\u003Cli\u003E\nMy bads: you can see after attaining \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E=205 km it\u00A0decays a few km, the \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E is attained too early. The optimizer should be able to fix this right?\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nWeird: look at the burn at \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E I had to make it optimize a pitch around 180 degrees, which sounds to me like retrograde burn, but it has a prograde effect. What is pitch exactly relative to? I assumed it was the ground radially beneath you? Oh and what\u0027s up with the LVD GUI? Sun and Mars? That happened after I set the vehicle initial state to be Mars not Sun. It\u0027s not important, but the plot with the planet and trajectory is cool.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI feel like I can massage the .mat to get better performance out of it. My plan is to have \u0022optimizer pitch rate and fixed target\u0022 events so there is just one thing in each even t for the optimizer to tweak.\u00A0 Prefixed with an\u00A0\u00A0\u0022optimize pitch rate and target altitude\u0022 event. I kinda feel like I\u0027ll have to hand craft the parameters to be \u0022close\u0022 and then the optimizer tunes from there? But maybe that means I only get a local optima?\n\u003C/p\u003E\n\u003Cp\u003E\nAny and all advice or inputs gratefully accepted. cheers!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-13T01:33:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223893025\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607821237\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMy bads: you can see after attaining \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E=205 km it\u00A0decays a few km, the \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E is attained too early. The optimizer should be able to fix this right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt should be possible, yes.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWeird: look at the burn at \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E I had to make it optimize a pitch around 180 degrees, which sounds to me like retrograde burn, but it has a prograde effect. What is pitch exactly relative to? I assumed it was the ground radially beneath you? Oh and what\u0027s up with the LVD GUI? Sun and Mars? That happened after I set the vehicle initial state to be Mars not Sun. It\u0027s not important, but the plot with the planet and trajectory is cool.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nPitch is relative to the plane whose normal vector is the position vector of the spacecraft.\n\u003C/li\u003E\n\u003Cli\u003E\nYou need to change the view frame to be centered around Mars.\u00A0 LVD: View -\u0026gt; Edit View Settings -\u0026gt; Find \u0022Trajectory View Frame\u0022 -\u0026gt; click Properties under it and select \u0022Mars.\u0022\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI feel like I can massage the .mat to get better performance out of it. My plan is to have \u0022optimizer pitch rate and fixed target\u0022 events so there is just one thing in each even t for the optimizer to tweak.\u00A0 Prefixed with an\u00A0\u00A0\u0022optimize pitch rate and target altitude\u0022 event. I kinda feel like I\u0027ll have to hand craft the parameters to be \u0022close\u0022 and then the optimizer tunes from there? But maybe that means I only get a local optima?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m sure you can squeak out some extra performance from your trajectory.\u00A0 Remember to add an objective function to your optimization at some point.\u00A0 And yes, you often do have to \u0022handcraft\u0022 your optimization variables initially to get them close and then the optimizer can run from there.\u00A0 There\u0027s an \u0022Adjust Variables\u0022 item in the optimization menu that can help here.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-13T03:31:04Z\u0022 title=\u002212/13/2020 03:31  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 13, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-13T01:47:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223892850\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221607784646\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E just thought up a feature request for the Mission Animator - tie the scroll buttons to the warp factor. So a single click = warp factor. Pressing play/stop works okay but does also always advance two steps instead of one. If it\u0027s not simple to tie in the scroll button the play/stop method works fine, but only for advancing forwards. I know you can scrub with the scrollbar, but depending on the scale of the timeline getting tiny movements can sometimes be difficult.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure I completely understand.\u00A0 Can you give me an example?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso can the \u0022sec\u0022 field allow for using the UT time dialog?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDone for next release.\n\u003C/p\u003E\n"}]}