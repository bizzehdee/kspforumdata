{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":171,"Articles":[{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-18T10:28:54Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223895058\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608238238\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m not sure.\u00A0 I can\u0027t reproduce any propagation error on either Windows or Linux.\u00A0 Can you try to duplicate the error in a clean MAT file?\u00A0 And double check you\u0027re seeing \u0022v1.6.7 PR\u003Cstrong\u003E9\u003C/strong\u003E\u0022 in LVD\u0027s output area, of course.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlright, I\u0027ll try to redo the .mat from zero and let you know if I face the problem again.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-18T14:19:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223895367\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608287020\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOK, here\u0027s the .mat file:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis was made in pre-release9, if it matters.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIssue resolved for next release. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-18T23:05:08Z","Content":"\n\u003Cp\u003E\nBy the way, if anyone has outstanding bugs or issues that I haven\u0027t already addressed, please let me know ASAP.\u00A0 I want to put out a pre-release tomorrow before I take a break for a few weeks for Christmas.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223895369\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608287334\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlright, I\u0027ll try to redo the .mat from zero and let you know if I face the problem again.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAny luck with reproducing your error?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-19T02:14:03Z","Content":"\n\u003Cp\u003E\nHey guys, changes are coming to the LVD engine data dialog box that I want to show off tonight.\u00A0 Previously, users entered in the engine\u0027s sea level and vacuum thrust and Isp and the code linearly interpolated between these data w.r.t. the ambient pressure outside.\u00A0 While this was simple, it also posed some limitations for high pressure environments like sea level on Eve, where the pressure is significantly greater than Kerbin\u0027s sea level pressure.\u00A0 Namely, engine thrust and Isp were not computed correctly at these pressures.\n\u003C/p\u003E\n\u003Cp\u003E\nComing in the next pre-release, you\u0027ll now see those text areas replaced with two new buttons for editing custom thrust and Isp curves.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022J2y15Kp.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022140.19\u0022 height=\u0022443\u0022 width=\u0022316\u0022 src=\u0022https://i.imgur.com/J2y15Kp.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThese buttons open a dialog box identical to the existing \u0022throttle modifier profile\u0022 button.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022sxHLGRg.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002240.69\u0022 height=\u0022273\u0022 width=\u0022671\u0022 src=\u0022https://i.imgur.com/sxHLGRg.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEngines must have two data points, one at Kerbin sea level and one at vacuum.\u00A0 Other data points can be added, and intermediate points are interpolated linearly.\n\u003C/p\u003E\n\u003Cp\u003E\nExisting engine data will be automatically ported over to the new system when you first load an LVD case, and no action is necessary by the user to make the update.\u00A0 It should \u0022just work.\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if you have any questions!\u00A0 Thanks. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EEDIT: You can also import data into the engines (thrust, isp, min and max throttle) directly from KSP engine config files now.\u00A0 It\u0027s a right click context menu in the Edit Engine\u003C/span\u003E dialog box, if you right click on the thrust or isp buttons or min/max throttle text areas.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-19T18:48:44Z\u0022 title=\u002212/19/2020 06:48  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 19, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-19T22:21:24Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nTonight I\u0027ve pushed out \u003Ca href=\u0022https://drive.google.com/open?id=12MPsv2MEhLu3EeXQAjjlA8DOaEfoBS66\u0026amp;authuser=hardena%40alumni.msoe.edu\u0026amp;usp=drive_fs\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 10\u003C/a\u003E.\u00A0 This pre-release has a few new features and bug fixes. Here\u0027s the change log.\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: View axis limit and camera information is now properly stored for various camera properties in the view profile. The information is recalled correctly if the user does not wish for view axes limits to be updated after propagation.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fixed bugs regarding vessel orbit import from KSP and SFS files in initial state and set kinematic state UIs.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Fixed bug with propagating to node calculations.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engines now model thrust and isp as a function of pressure through the use of curves and not the hard-coded vacuum and sea level pressure points.\n\u003Cul\u003E\u003Cli\u003E\nThe interpolation scheme also moved to griddedinterpolants that use linear interpolation and nearest neighbor extrapolation.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nLVD: Engine data can now be imported from KSP engine config files.\n\u003Cul\u003E\u003Cli\u003E\nRight click in the edit engine dialog box on the thrust and Isp buttons.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPlease let me know if you find any bugs.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-19T23:08:10Z\u0022 title=\u002212/19/2020 11:08  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 19, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-12-21T08:17:34Z","Content":"\n\u003Cp\u003E\nI\u0027ve had some reasonable success with LDV (achieved orbit, and able to improve excess prop via optimizing), but my method is a bit \u0022brittle\u0022, and I really want to find a global maxima, not the local one I was near. Could you advise me on a more flexible way to get it done?\n\u003C/p\u003E\n\u003Cp\u003E\nMy current method is to have a few \u0022pitch segments\u0022 which I setup by hand (intending to let the optimizer tweak them later), the last one has -ve pitch and terminates when \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E alt reaches 250 km. The optimizer then controls pitch and duration for the circularization burn at \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E. If I (or the optimizer) tweaks one of the pitch segments \u0022too much\u0022 the desired \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E is passed before the event that terminates on reaching \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E - so it never terminates. Adding a constraint on \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E alt doesn\u0027t seem to help.\u00A0I guess I don\u0027t know how to tell it that it\u0027s a infinity weighted importance, and if it did bail it wouldn\u0027t have a gradient to follow (if that\u0027s how its\u0027 working).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHow should I approach it? Like the tute doc? 7 pitch segments and constraints on\u00A0(C3 \u0026amp;\u00A0\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E alt or\u00A0\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E alt),\u00A0 (speed \u0026amp; \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E \u0026amp; \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E), something else? How close do the initial pitch segment settings need to be for the optimizer to \u0022find something\u0022\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-21T10:27:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223895700\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608332708\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/18/2020 at 8:05 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBy the way, if anyone has outstanding bugs or issues that I haven\u0027t already addressed, please let me know ASAP.\u00A0 I want to put out a pre-release tomorrow before I take a break for a few weeks for Christmas.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\nAny luck with reproducing your error?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry for the late response \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E. I couldn\u0027t reproduce the problem so far.\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-21T11:19:54Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003Eis it possible to add the \u0022Upload maneuver node\u0022 feature to LVD (for impulsive Delta-V actions)?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-21T20:15:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223896851\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608538654\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHow should I approach it? Like the tute doc? 7 pitch segments and constraints on\u00A0(C3 \u0026amp;\u00A0\u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E alt or\u00A0\u003Cabbr title=\u0022Periapsis\u0022\u003E\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u003C/abbr\u003E alt),\u00A0 (speed \u0026amp; \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E \u0026amp; \u003Cabbr title=\u0022Periapsis\u0022\u003E\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u003C/abbr\u003E), something else? How close do the initial pitch segment settings need to be for the optimizer to \u0022find something\u0022\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHere are some thoughts:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u0022How close do I need to be?\u0022\u00A0 While there\u0027s no good answer to this, the best I can provide is \u0022reasonably close.\u0022\u00A0 If it looks like your current trajectory is off in the weeds, it probably is.\u00A0 Use the variable adjuster (Optimization -\u0026gt; Adjust Variables) to accomplish this.\n\u003C/li\u003E\n\u003Cli\u003E\nSeven pitch rate changes is probably a bit much.\u00A0 I bet it\u0027s possible to get by with 4-5.\u00A0 To many variables can confuse fmincon() in highly non-linear problems like this.\n\u003C/li\u003E\n\u003Cli\u003E\nI would actually recommend using radius, velocity, and flight path angle as your final orbit insertion targets.\u00A0 Use the appropriate astrodynamics calculator (Tools -\u0026gt; Astrodynamics Calculators) to get these values from SMA, eccentricity, and true anomaly.\u00A0\n\u003Cul\u003E\u003Cli\u003E\nI can tell you from real life experience that constraining to Rp and Ra (or altitudes) doesn\u0027t work nearly as well.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nAdditionally, remember that if you constrain C3, you\u0027ve also constrained SMA so you should \u003Cem\u003Enot \u003C/em\u003Ethen go constrain Ra and Rp (or altitudes).\u00A0 You can pick one but don\u0027t do both.\u00A0Otherwise you over-constrain the problem.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nFor a powered ascent from the surface, it\u0027s generally best to make all of your event\u00A0termination criteria \u0022event duration,\u0022 especially if you\u0027re using them for orbit insertion targets.\u00A0 Trying to use other quantities can make things highly non-linear and cause issues, like you experienced.\u00A0 Convert your current termination criteria to event duration and\u00A0\u00A0set constrains where you need them instead.\n\u003Cul\u003E\u003Cli\u003E\nThe only time it\u0027s acceptable to use non-time event termination criteria, in my opinion, is when you can be\u00A0\u003Cem\u003Eabsolutely sure\u003C/em\u003E\u00A0that you won\u0027t blow past them.\u00A0 For example, for lift off from the Mun, you might do a short vertical rise to a specified altitude.\u00A0 You can\u0027t miss it if you know you start below that altitude, so then it\u0027s okay.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nLet me know if you have other questions, and good luck! \u003Cspan\u003E:)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223896890\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608549594\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003Eis it possible to add the \u0022Upload maneuver node\u0022 feature to LVD (for impulsive Delta-V actions)?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure, I\u0027ll look into adding that.\u00A0 Good suggestion. :)\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223896873\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608546448\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry for the late response \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E. I couldn\u0027t reproduce the problem so far.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay, no worries. \u003Cspan\u003E:)\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-22T08:25:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223896174\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608416484\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/20/2020 at 11:21 AM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPlease let me know if you find any bugs.\u00A0 Thanks!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks again for all your work on this.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think I\u0027ve found a bug though. I keep getting this error message when trying to optimise in the Mission Architect:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022oexRm0l.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002243.52\u0022 height=\u0022131\u0022 width=\u0022301\u0022 src=\u0022https://i.imgur.com/oexRm0l.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nMission file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLog file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=136mMM_Dxa8itown92urP4s-UbsLqvAvZ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=136mMM_Dxa8itown92urP4s-UbsLqvAvZ\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried turning off Parallelisation, restarting KSP TOT completely, and changing optimisation algorithm. Same results every time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-22T08:44:26Z","Content":"\n\u003Cp\u003E\nNow for another one unfortunately:\n\u003C/p\u003E\n\u003Cp\u003E\nI tried to set up the same mission in the LVD. (I can set initial state now, so that\u0027s working\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t get as far as optimising this one however. I had two main problems\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nPutting in coast events to True Anomalies (to coast to apoapsis or periapsis), it didn\u0027t always propagate to where I\u0027d expect. i.e. if I set the Termination condition to a TA of 0, the event would end immediately at apoapsis. 90 degrees and 45 degrees both got the graphic to display periapsis.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen I set two body propagation, I get this:\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cimg alt=\u00223RKygXn.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.74\u0022 height=\u0022721\u0022 width=\u0022952\u0022 src=\u0022https://i.imgur.com/3RKygXn.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nMission file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=1wA1JKlEH4mB0ktQwRr1apYdFEpOb10TD\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=1wA1JKlEH4mB0ktQwRr1apYdFEpOb10TD\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-22T16:56:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897426\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608625529\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks again for all your work on this.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI think I\u0027ve found a bug though. I keep getting this error message when trying to optimise in the Mission Architect:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/oexRm0l.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022oexRm0l.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002243.52\u0022 height=\u0022131\u0022 width=\u0022301\u0022 src=\u0022https://i.imgur.com/oexRm0l.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMission file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=1d2-ljODWscWlpxRf4HZOGO9LywzkSIhy\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLog file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=136mMM_Dxa8itown92urP4s-UbsLqvAvZ\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=136mMM_Dxa8itown92urP4s-UbsLqvAvZ\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried turning off Parallelisation, restarting KSP TOT completely, and changing optimisation algorithm. Same results every time.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIssue resolved for next release.\u00A0 Thanks for the report.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897432\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608626666\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNow for another one unfortunately:\n\u003C/p\u003E\n\u003Cp\u003E\nI tried to set up the same mission in the LVD. (I can set initial state now, so that\u0027s working\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E)\n\u003C/p\u003E\n\u003Cp\u003E\nI didn\u0027t get as far as optimising this one however. I had two main problems\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nPutting in coast events to True Anomalies (to coast to apoapsis or periapsis), it didn\u0027t always propagate to where I\u0027d expect. i.e. if I set the Termination condition to a TA of 0, the event would end immediately at apoapsis. 90 degrees and 45 degrees both got the graphic to display periapsis.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen I set two body propagation, I get this:\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/3RKygXn.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00223RKygXn.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002275.74\u0022 height=\u0022721\u0022 width=\u0022952\u0022 src=\u0022https://i.imgur.com/3RKygXn.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nMission file:\u00A0\u003Ca href=\u0022https://drive.google.com/open?id=1wA1JKlEH4mB0ktQwRr1apYdFEpOb10TD\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/open?id=1wA1JKlEH4mB0ktQwRr1apYdFEpOb10TD\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nYeah, the true anomaly termination condition has always been a pain in the neck.\u00A0 I\u00A0\u003Cem\u003Ethink\u00A0\u003C/em\u003Efigured out a decent way to do it this morning.\u00A0 It seems to work in all my tests, anyway.\u00A0 But really this is a much harder problem than it looks for a numerical integrator because of the annoying instances when your true anomaly has to go through 0 to get to the point you want.\u00A0 Hopefully my new technique is good enough.\n\u003C/li\u003E\n\u003Cli\u003E\nThe issue here is that you switched to the two body propagator.\u00A0 This propagator\u00A0can take large steps because the equation\u00A0of motion is so simple (M_dot = n).\u00A0 The solution here is to specify the step size of the integrator directly in the events that you use it.\u00A0 Open the event, click integrator options, and then set the step size to something reasonable and greater than 0.\u00A0 Aim for about ~100 steps per integration in your step size.\u00A0 Do not just set it to 1 second or something super small, the code will take forever to run. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cspan\u003EI\u0027ll try to get a PR11 build out today with these fixes, but be aware that it will be Windows only as I\u0027m away from my Linux environment.\u003C/span\u003E\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-22T18:31:10Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003ENot sure whether it\u0027s a bug or the memory requirements is really high: on the Flyby porkchop plotter, if I put a sequence like this: Kerbin, Jool, Eve, Moho and let everything else at default, KSP-TOT will run for a while until logs this error:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nOut of memory. Type HELP MEMORY for your options.\n\nError in multiFlybyObjFunc (line 97)\n\n\nError in flyByPorkchopPlotterGUI\u0026gt;@(x)multiFlybyObjFunc(x,numRevsArr,wayPtBodies,false,false,celBodyData) (line 513)\n\n\nError in flyByPorkchopPlotterGUI\u0026gt;computeFlybyPorkchopPlotButton_Callback (line 514)\n\n\nError in gui_mainfcn (line 95)\n\n\nError in flyByPorkchopPlotterGUI (line 42)\n\n\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)flyByPorkchopPlotterGUI(\u0027computeFlybyPorkchopPlotButton_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using waitforallfiguresclosed (line 9)\nError while evaluating UIControl Callback.\n\u003C/pre\u003E\n\u003Cp\u003E\nThis is happening on a system with 48 GB of ram.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnother one:\n\u003C/p\u003E\n\u003Cp\u003E\nWhile messing around on LVD, I removed one of the sequential events that contained an Impulsive Delta-V action that had all 3 components as\u00A0 variables that should be optimized. However, when starting the optimizer, I could see that there were 3 variables more than it should be on the variables graph (the one at the top). After closing KSP-TOT and reopening the .mat, the problem seemed to be fixed. I guess some reference was left dangling (I think there were constraints referring to that event, but not sure). Unfortunately I forgot to keep a copy of this .mat for you\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-22T19:20:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897713\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608661870\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n47 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003ENot sure whether it\u0027s a bug or the memory requirements is really high: on the Flyby porkchop plotter, if I put a sequence like this: Kerbin, Jool, Eve, Moho and let everything else at default, KSP-TOT will run for a while until logs this error:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nOut of memory. Type HELP MEMORY for your options.\n\nError in multiFlybyObjFunc (line 97)\n\n\nError in flyByPorkchopPlotterGUI\u0026gt;@(x)multiFlybyObjFunc(x,numRevsArr,wayPtBodies,false,false,celBodyData) (line 513)\n\n\nError in flyByPorkchopPlotterGUI\u0026gt;computeFlybyPorkchopPlotButton_Callback (line 514)\n\n\nError in gui_mainfcn (line 95)\n\n\nError in flyByPorkchopPlotterGUI (line 42)\n\n\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)flyByPorkchopPlotterGUI(\u0027computeFlybyPorkchopPlotButton_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using waitforallfiguresclosed (line 9)\nError while evaluating UIControl Callback.\n\u003C/pre\u003E\n\u003Cp\u003E\nThis is happening on a system with 48 GB of ram.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI couldn\u0027t reproduce.\u00A0 Can you give me the exact steps I need to take to get this to happen?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAnother one:\n\u003C/p\u003E\n\u003Cp\u003E\nWhile messing around on LVD, I removed one of the sequential events that contained an Impulsive Delta-V action that had all 3 components as\u00A0 variables that should be optimized. However, when starting the optimizer, I could see that there were 3 variables more than it should be on the variables graph (the one at the top). After closing KSP-TOT and reopening the .mat, the problem seemed to be fixed. I guess some reference was left dangling (I think there were constraints referring to that event, but not sure). Unfortunately I forgot to keep a copy of this .mat for you\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the report!\u00A0 This one is resolved for next release.\u00A0 I have been trying to track down this one for ages, so I\u0027m glad it\u0027s finally taken care of. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-22T19:41:24Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897735\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608664802\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI couldn\u0027t reproduce.\u00A0 Can you give me the exact steps I need to take to get this to happen?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI simply open the multi-flyby porkchop plotter, change the waypoints to that sequence: Kerbin, Jool, Eve, Moho and hit the button to compute the plot.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have an idea about the expected peak memory consumption for a case like that?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks for the report!\u00A0 This one is resolved for next release.\u00A0 I have been trying to track down this one for ages, so I\u0027m glad it\u0027s finally taken care of. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAwesome!\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-22T20:09:57Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nThis afternoon I\u0027ve built \u003Ca href=\u0022https://drive.google.com/file/d/1jbQcUdih_1ewVvfbWGI0zDhsbAktySxp/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 11\u003C/a\u003E.\u00A0 Here\u0027s the change log:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Upload impulsive delta-v maneuver from \u0022Add Impulsive Delta-V\u0022 event action is now available.\u00A0 Right click on an event in the sequential events list with an \u0022Add Impulsive Delta-V\u0022 action and click on the upload maneuver menu item.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue with computing position wrt Sun of other spacecraft.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: True anomaly termination condition should now work properly.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Event actions with variables now correctly remove those variables when the action is deleted.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPlease let me know if you find any further bugs.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897744\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608666084\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI simply open the multi-flyby porkchop plotter, change the waypoints to that sequence: Kerbin, Jool, Eve, Moho and hit the button to compute the plot.\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have an idea about the expected peak memory consumption for a case like that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan you try out PR11, above, and see if it resolves your issue.\u00A0 I still can\u0027t reproduce, so maybe I fixed whatever is causing your issue. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003Cspan\u003E\u00A0 (Unless, you\u0027re on Linux, right?\u00A0 I can\u0027t build for Linux right now, so unless you have a Windows system around, we might have to just wait for a bit.)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EMemory consumption should be pretty low.\u00A0 It certainly wouldn\u0027t consume 48 GB.\u00A0 You might be running into a bug somewhere... hopefully I can fix it, if I haven\u0027t already.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECan someone else follow \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002259814\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0022 rel=\u0022\u0022\u003E@vitorboschi\u003C/a\u003E\u0027s instructions in MFMS\u00A0 in PR11 and see if they can\u0027t reproduce?\u00A0 Thanks!\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-22T20:10:19Z\u0022 title=\u002212/22/2020 08:10  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 22, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-23T16:23:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223897754\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221608667797\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nThis afternoon I\u0027ve built \u003Ca href=\u0022https://drive.google.com/file/d/1jbQcUdih_1ewVvfbWGI0zDhsbAktySxp/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 11\u003C/a\u003E.\u00A0 Here\u0027s the change log:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Upload impulsive delta-v maneuver from \u0022Add Impulsive Delta-V\u0022 event action is now available.\u00A0 Right click on an event in the sequential events list with an \u0022Add Impulsive Delta-V\u0022 action and click on the upload maneuver menu item.\n\u003C/li\u003E\n\u003Cli\u003E\nMA: Resolved issue with computing position wrt Sun of other spacecraft.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: True anomaly termination condition should now work properly.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Event actions with variables now correctly remove those variables when the action is deleted.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nPlease let me know if you find any further bugs.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cp\u003E\nCan you try out PR11, above, and see if it resolves your issue.\u00A0 I still can\u0027t reproduce, so maybe I fixed whatever is causing your issue. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003Cspan\u003E\u00A0 (Unless, you\u0027re on Linux, right?\u00A0 I can\u0027t build for Linux right now, so unless you have a Windows system around, we might have to just wait for a bit.)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EMemory consumption should be pretty low.\u00A0 It certainly wouldn\u0027t consume 48 GB.\u00A0 You might be running into a bug somewhere... hopefully I can fix it, if I haven\u0027t already.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ECan someone else follow \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002259814\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0022 rel=\u0022\u0022\u003E@vitorboschi\u003C/a\u003E\u0027s instructions in MFMS\u00A0 in PR11 and see if they can\u0027t reproduce?\u00A0 Thanks!\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, Linux user here. I\u0027ll see if I can get my hands on a Windows machine to perform some tests\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-27T01:05:28Z","Content":"\n\u003Cp\u003E\nI\u00A0found someone interested in letting me play mission control with\u00A0 the MCC RTS, for them as they play KSP. Doing a search of this thread, it looks like we\u0027ll need to forward ports 8282 and 8295. Anything else?\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-27T02:59:16Z","Content":"\n\u003Cp\u003E\nI\u0027m also finally getting into Ion engines. I have\u00A0questions about the\u00A0 manoeuvre execution assistant (MEA), as well as finite duration \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E manoeuvres in the Mission Architect.\n\u003C/p\u003E\n\u003Cp\u003E\nThe questions are around when the burn will be executed for the finite duration burns, and where the rocket is pointed for both.\n\u003C/p\u003E\n\u003Cp\u003E\nFor time, am I correct in assuming that the for finite duration manoeuvre\u0027s, the idea is that the burn will \u003Cstrong\u003Estart\u003C/strong\u003E at the end of the previous event (e.g. coast to a specific TA etc)? (As opposed to impulsive \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E Manoeuvre\u0027s, where I\u0027m used to starting the burn before the node\u0027s time, so that 1/2 \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E is before, and 1/2 after the node time).\n\u003C/p\u003E\n\u003Cp\u003E\nFor the MEA, is the idea here to just aid in executing/timing\u00A0impulsively calculated \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E Manoeuvre\u0027s? It looks like the idea is to point at the manoeuvre node in-game as well? (instead of say, sticking to prograde). If that\u0027s the case, I can continue to use my manoeuvre node timing code I wrote for kOS, and not worry about this tool.\n\u003C/p\u003E\n\u003Cp\u003E\nBut the finite duration manoeuvres in the Mission Architect confuse me no end. How are they supposed to be executed? I tried pointing at the node, and starting the burn and t = 0, and that did\u00A0\u003Cstrong\u003Enot\u003C/strong\u003E\u00A0work, lol.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-27T16:26:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899540\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609031128\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u00A0found someone interested in letting me play mission control with\u00A0 the MCC RTS, for them as they play KSP. Doing a search of this thread, it looks like we\u0027ll need to forward ports 8282 and 8295. Anything else?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou actually want ports 8282 \u003Cem\u003Ethrough\u003C/em\u003E\u00A08295 open.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899571\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609037956\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor time, am I correct in assuming that the for finite duration manoeuvre\u0027s, the idea is that the burn will \u003Cstrong\u003Estart\u003C/strong\u003E at the end of the previous event (e.g. coast to a specific TA etc)? (As opposed to impulsive \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E Manoeuvre\u0027s, where I\u0027m used to starting the burn before the node\u0027s time, so that 1/2 \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E is before, and 1/2 after the node time).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is correct.\u00A0 Maneuvers start and end at the start and end of their event.\n\u003C/p\u003E\n\u003Cp\u003E\nImpulsive \u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E maneuvers in MA actually work the same way.\u00A0 it\u0027s just that their duration is 0 seconds, and so the start and end time is the same.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nFor the MEA, is the idea here to just aid in executing/timing\u00A0impulsively calculated \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E Manoeuvre\u0027s? It looks like the idea is to point at the manoeuvre node in-game as well? (instead of say, sticking to prograde). If that\u0027s the case, I can continue to use my manoeuvre node timing code I wrote for kOS, and not worry about this tool.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, that\u0027s correct.\u00A0 MEA was designed to help with executing impulsive manevuers in KSP, with the caveat that the maneuver duration needs to be \u0022considerably shorter\u0022 than the orbital period of the initial orbit.\u00A0 (If this assumption doesn\u0027t hold well, then the impulsive approximation to the finite burn will not hold either.)\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nBut the finite duration manoeuvres in the Mission Architect confuse me no end. How are they supposed to be executed? I tried pointing at the node, and starting the burn and t = 0, and that did\u00A0\u003Cstrong\u003Enot\u003C/strong\u003E\u00A0work, lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, right.\u00A0 So the maneuver node uploaded to KSP is the attitude of the vehicle at the start of the burn, and the node is placed at the start of the burn.\u00A0 You are responsible for executing the rest of the maneuver according to the steering law you\u0027ve picked.\u00A0 If that\u0027s inertial steering, then you can just hold that attitude.\u00A0 If it\u0027s orbital frame steering, then you need to keep the same attitude relative to the prograde/normal/radial markers on the nav ball.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if that helps or if you have any other questions. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-27T23:37:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899754\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609086406\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou actually want ports 8282 \u003Cem\u003Ethrough\u003C/em\u003E\u00A08295 open.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood to know, thanks!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899754\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609086406\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is correct.\u00A0 Maneuvers start and end at the start and end of their event.\n\u003C/p\u003E\n\u003Cp\u003E\nImpulsive \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EDV\u003C/abbr\u003E\u003C/abbr\u003E maneuvers in MA actually work the same way.\u00A0 it\u0027s just that their duration is 0 seconds, and so the start and end time is the same.\n\u003C/p\u003E\n\u003Cp\u003E\nYes, that\u0027s correct.\u00A0 MEA was designed to help with executing impulsive manevuers in KSP, with the caveat that the maneuver duration needs to be \u0022considerably shorter\u0022 than the orbital period of the initial orbit.\u00A0 (If this assumption doesn\u0027t hold well, then the impulsive approximation to the finite burn will not hold either.)\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh OK, that all makes sense, thanks.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899754\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609086406\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAh, right.\u00A0 So the maneuver node uploaded to KSP is the attitude of the vehicle at the start of the burn, and the node is placed at the start of the burn.\u00A0 You are responsible for executing the rest of the maneuver according to the steering law you\u0027ve picked.\u00A0 If that\u0027s inertial steering, then you can just hold that attitude.\u00A0 If it\u0027s orbital frame steering, then you need to keep the same attitude relative to the prograde/normal/radial markers on the nav ball.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if that helps or if you have any other questions. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOK, I\u0027ve dabbled with the LVD, so I at least know what you\u0027re talking about when you say \u0027steering law\u0027, but I\u0027ve yet to figure that one out fully. I\u0027ll assume for now your reply there will make more sense as I figure the LVD out more.\n\u003C/p\u003E\n\u003Cp\u003E\nIn the meantime, using the Mission Architect, does this mean that if I want to be able to continue following the manoeuvre node in-game (for a finite duration burn), I need to set the mission up using inertial vector mode? Can you give me a hint as to where the X/Y/Z components point relative to Prograde? Not knowing what those values mean is the reason I\u0027ve never tried that mode.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks again for your help\u00A0\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-27T23:47:53Z","Content":"\n\u003Cp\u003E\nA slight side-track, so a separate post, but this last conversation got me thinking about how everyone else executes manoeuvre nodes.\n\u003C/p\u003E\n\u003Cp\u003E\nThe reason I want to be able to follow the in-game node pointer, is that I can access that vector from inside kOS, and I\u0027ve written a manoeuvre node execution program that can get extremely high burn accuracy, by adjusting the pointing direction to follow the node vector to compensate for any errors during the burn, and throttling down to a stop with sub mm per second precision. It\u0027s so good that I have to be careful using the Rendezvous Maneuver Sequencer (sic), because I\u0027ll usually end up impacting the target vessel near the end of the second burn if I don\u0027t do something to prevent it.\n\u003C/p\u003E\n\u003Cp\u003E\nBUT!, that\u0027s for high \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E ratio vessels! Now that I\u0027m playing around with high \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E engines with low thrust, my old methods don\u0027t work so well.\n\u003C/p\u003E\n\u003Cp\u003E\nReading some of \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u0027s comments above, it would be easy enough to use kOS to point the craft at a given attitude or whatever, and burn for a given amount of time, sure. But without the feedback I get from the game in regards to \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E remaining, and the direction of the remaining \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E vector changing due to small errors, I will not have the same accuracy as I\u0027m used to.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, how do you guys do it?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-12-28T18:15:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899974\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609112873\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, how do you guys do it?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think I see what you\u0027re after.\u00A0 Unfortunately, I think you\u0027re going to need to change your workflow if you want to use MA or (especially) LVD in KSP.\u00A0 Try something like this:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCreate an nominal initial mission plan in MA or LVD.\n\u003C/li\u003E\n\u003Cli\u003E\nLaunch your spacecraft.\u00A0 If you\u0027re using LVD for your mission and you\u0027re modeling the launch, too, then skip to the next step and do it for the launch.\n\u003C/li\u003E\n\u003Cli\u003E\nUpdate your initial state (in MA/LVD) to your spacecraft\u0027s current state (from KSP) and remove any events that occur prior to the updated state (in MA/LVD).\u00A0 Your new initial state should be pretty close to the nominal mission plan you create in step (1).\n\u003Col\u003E\u003Cli\u003E\nIn MA, there\u0027s an \u0022Advance to Event\u0022 option in the mission script you can use for this.\u00A0 In LVD, you\u0027ll need to do it by hand.\n\u003C/li\u003E\n\u003Cli\u003E\nHere\u0027s how I would do it by hand in LVD:\n\u003Col\u003E\u003Cli\u003E\nTurn off auto-propagation of the mission script.\n\u003C/li\u003E\n\u003Cli\u003E\nRemove the events that occur prior to my KSP state.\u00A0 You may want to save a new LVD file prior to doing this each time, in case you need to go back.\n\u003C/li\u003E\n\u003Cli\u003E\nGo into the initial state dialog and update the orbit from KSP (right click on an orbit element).\n\u003C/li\u003E\n\u003Cli\u003E\nYou\u0027ll need to update your spacecraft propellent masses too.\u00A0 Best way to do this is to spit out the masses in each tank in Graphical Analysis prior to deleting events, and then use the tank masses that correspond to the start of each new initial\u00A0state.\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003Cli\u003E\nReoptimize the mission with the new initial state.\u00A0 You\u0027re now ready to execute your first maneuver.\n\u003C/li\u003E\n\u003Cli\u003E\nYou\u0027ll need to rewrite some kOS code to get this to work.\u00A0 It needs to do one of the following:\n\u003Col\u003E\u003Cli\u003E\nIf you\u0027re using MA:\n\u003Col\u003E\u003Cli\u003E\nWrite code to point the spacecraft\u0027s thrust vector along either an inertial vector or a vector fixed in the orbit frame (prograde/normal/radial).\n\u003C/li\u003E\n\u003Cli\u003E\nFor the next burn in MA, record the optimized pointing direction and duration, create some sort of text file or kOS input, and supply your kOS burn code with the time of the burn start, the duration of the burn, and the burn direction and reference frame.\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003Cli\u003E\nIf you\u0027re using LVD:\n\u003Col\u003E\u003Cli\u003E\n\u00A0Use the Graphical Analysis tool to spit out the inertial thrust vector elements (X,Y,Z)\u00A0as a function of time in a CSV file.\n\u003C/li\u003E\n\u003Cli\u003E\nHave kOS read this file and use it to know when the burn starts, how long it goes for, and what direction to point at as a function of time.\n\u003C/li\u003E\n\u003Cli\u003E\nIt may be helpful to decrease the integrator output step size of your burn segments to 1\u00A0\u00A0second or so, to make sure you have good fidelity on the pointing and some simple linear interpolation of x, y, and z coordinates will still be pretty close.\n\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003C/li\u003E\n\u003Cli\u003E\nGo back to step (3) and repeat 3-5 for each burn.\u00A0 Basically the sequence for each burn is: Advance mission plan and update state in MA/LVD, reoptimize mission, and upload new burn parameters to kOS/KSP.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003EBut without the feedback I get from the game in regards to\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cabbr style=\u0022background-color:#f9f9f9;border-bottom:none;color:#2d3134;font-size:15px;\u0022 title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Eremaining, and the direction of the remaining\u003Cspan\u003E\u00A0\u003C/span\u003E\u003C/span\u003E\u003Cabbr style=\u0022background-color:#f9f9f9;border-bottom:none;color:#2d3134;font-size:15px;\u0022 title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Cspan\u003E\u00A0\u003C/span\u003Evector changing due to small errors, I will not have the same accuracy as I\u0027m used to.\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re absolutely not going to have the same accuracy you\u0027re used to.\u00A0 But that\u0027s okay!\u00A0 In real life, our models don\u0027t match the \u0022real world\u0022 perfectly either, and we have to go with the fact that it\u0027s \u0022close enough\u0022 and will get us there eventually with minor tweaks to the mission and burn plans.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any questions. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223899972\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609112263\u0022 data-ipsquote-userid=\u0022106370\u0022 data-ipsquote-username=\u0022Snoman314\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Snoman314 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you give me a hint as to where the X/Y/Z components point relative to Prograde? Not knowing what those values mean is the reason I\u0027ve never tried that mode.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInertial X, Y, and Z don\u0027t line up with the prograde/normal/radial in any specific way.\u00A0 They are relative to your orbit and current position in your orbit.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-12-28T18:20:21Z\u0022 title=\u002212/28/2020 06:20  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 28, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-29T02:50:49Z","Content":"\n\u003Cp\u003E\nThanks for taking the time to give me such a thorough reply.\n\u003C/p\u003E\n\u003Cp\u003E\nSteps 1-4 are pretty much what I already do, with my current \u0027step 5\u0027 being to upload a manoeuvre node to execute.\n\u003C/p\u003E\n\u003Cp\u003E\nFrom what you\u0027re saying, it comes down to just coming up with a direction to point the vessel,\u00A0burning for a set time, and hoping for the best. I\u0027ll just have to put up with any steering and velocity errors and do a later mid-course correction or something like that.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223900340\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609179313\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLet me know if you have any questions. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nInertial X, Y, and Z don\u0027t line up with the prograde/normal/radial in any specific way.\u00A0 They are relative to your orbit and current position in your orbit.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOK, I still don\u0027t have the first clue how to use the X/Y/Z mode. Given that step one for, say, a trans-munar injection burn would be to create a manoeuvre node prograde with approx 840m/s, roughly 90 degrees behind the Mun\u0027s current position, and then let the optimiser figure out where to go from there - where do I start if using X/Y/Z? How do I input a burn that\u0027s in the ballpark, so that the optimiser has a place to start?\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-12-29T11:50:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223900340\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221609179313\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou\u0027re absolutely not going to have the same accuracy you\u0027re used to.\u00A0 But that\u0027s okay!\u00A0 In real life, our models don\u0027t match the \u0022real world\u0022 perfectly either, and we have to go with the fact that it\u0027s \u0022close enough\u0022 and will get us there eventually with minor tweaks to the mission and burn plans.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOut of curiosity, do you know how precise are real life orbital maneuvers today? In terms of \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E/timing/thrust direction?\n\u003C/p\u003E\n"}]}