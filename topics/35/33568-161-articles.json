{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":161,"Articles":[{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-08-16T21:37:17Z","Content":"\n\u003Cp\u003E\nand of course I managed to break it, because that is my superpower. Repro steps:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen MA\n\u003C/li\u003E\n\u003Cli\u003E\nInsert a coast event\n\u003C/li\u003E\n\u003Cli\u003E\nChange nothing, close \u0026amp; save\n\u003C/li\u003E\n\u003Cli\u003E\nAttempt to insert any other event\n\u003C/li\u003E\n\u003Cli\u003E\nCheck error log for details\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nCan also repro this in 1.6.5. Which caught me cause I just did some MA work recently in it so dug a bit deeper and I can make things work if I change the coast from TA (which I haven\u0027t used recently) to something else.\n\u003C/p\u003E\n\u003Cp\u003E\nwow goes back to 1.6.4 too. Haven\u0027t been using MA as much lately! \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWorks if you change the TA from 0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-16T22:55:31Z\u0022 title=\u002208/16/2020 10:55  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 16, 2020\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-16T23:06:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223839379\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597613837\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nand of course I managed to break it, because that is my superpower. Repro steps:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen MA\n\u003C/li\u003E\n\u003Cli\u003E\nInsert a coast event\n\u003C/li\u003E\n\u003Cli\u003E\nChange nothing, close \u0026amp; save\n\u003C/li\u003E\n\u003Cli\u003E\nAttempt to insert any other event\n\u003C/li\u003E\n\u003Cli\u003E\nCheck error log for details\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nCan also repro this in 1.6.5. Which caught me cause I just did some MA work recently in it so dug a bit deeper and I can make things work if I change the coast from TA (which I haven\u0027t used recently) to something else.\n\u003C/p\u003E\n\u003Cp\u003E\nwow goes back to 1.6.4 too. Haven\u0027t been using MA as much lately! \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve got it resolved.\u00A0 I\u0027m going to rebuild and reupload v1.6.6.\u00A0 I\u0027ll edit this post when I\u0027m done.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Alright, new builds are live.\u00A0 Thanks for the find, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-17T00:08:48Z\u0022 title=\u002208/17/2020 12:08  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 17, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-17T16:32:20Z","Content":"\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E and any other who wants to chime in, how do you go after planning a launch using LVD? It doesn\u0027t look easy to manually fly the planned profile, and as far as I know, there\u0027s no way to make \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E follow the planned profile.\n\u003C/p\u003E\n\u003Cp\u003E\nIs the only real option using something like kOS?\n\u003C/p\u003E\n\u003Cp\u003E\nDevelopment suggestion for the MCC/LVD: plot real time trajectory over the final LVD planned trajectory, so that we can see how closely the ship is following the plan \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-17T18:25:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223839663\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597681940\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E and any other who wants to chime in, how do you go after planning a launch using LVD? It doesn\u0027t look easy to manually fly the planned profile, and as far as I know, there\u0027s no way to make \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E follow the planned profile.\n\u003C/p\u003E\n\u003Cp\u003E\nIs the only real option using something like kOS?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah, kOS is probably the way to go for this.\u00A0 Keep in mind that in-game trajectories are never going to perfectly match the LVD model, but they should be pretty close if you set up LVD correctly.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDevelopment suggestion for the MCC/LVD: plot real time trajectory over the final LVD planned trajectory, so that we can see how closely the ship is following the plan \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 data-ratio=\u0022105.88\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022 width=\u002217\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll keep it in mind.\u00A0 For now, you can use GA to pull LVD\u0027s trajectory information in and use Excel or Google Sheets to do the plotting for you. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"CanisLupus518","CreatedById":199319,"CreatedDateTime":"2020-08-18T23:12:08Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0I\u00A0would like to setup a scenario where my friend can run TOT from his home and connect via IP to the plugin running in my KSP instance at my home. (Kind of like he\u2019s my mission control). What ports would I need to open up in my router to allow this?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-19T02:09:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223840382\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597792328\u0022 data-ipsquote-userid=\u0022199319\u0022 data-ipsquote-username=\u0022CanisLupus518\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, CanisLupus518 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0I\u00A0would like to setup a scenario where my friend can run TOT from his home and connect via IP to the plugin running in my KSP instance at my home. (Kind of like he\u2019s my mission control). What ports would I need to open up in my router to allow this?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe it\u0027s ports 8282 through 8295.\u00A0 Let me know if you have any trouble.\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-19T11:01:09Z","Content":"\n\u003Cp\u003E\nHey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E, I\u0027ve been messing around the LVD for some time now (it\u0027s awesome!) that I feel confident to ask questions/report bugs, so these are my findings:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EBugs\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENote that I\u0027m running the Linux version. This is likely relevant for the window layout issues\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCan\u0027t add power storage on vehicle editor. When I click the \u0022Add power storage\u0022 button, it beeps and the following log is written, but I get no other reaction from the GUI:\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\nUndefined variable \u0022LaunchVehiclePowerStorageEnum\u0022 or class \u0022LaunchVehiclePowerStorageEnum.getListBoxStr\u0022.\n\nError in lvd_EditElectricalPowerStoragesGUI\u0026gt;addStorageButton_Callback (line 161)\n\n\nError in gui_mainfcn (line 95)\n\n\nError in lvd_EditElectricalPowerStoragesGUI (line 42)\n\n\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)lvd_EditElectricalPowerStoragesGUI(\u0027addStorageButton_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using uiwait (line 81)\nError while evaluating UIControl Callback.\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe \u0022Constraint Type\u0022 is too small, so it\u0027s not possible to read the complete constraint name:\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cimg alt=\u0022ZRnjnFv\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.43\u0022 height=\u0022709\u0022 width=\u0022940\u0022 src=\u0022https://imgur.com/download/ZRnjnFv\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThere\u0027s a warning being written on the logs a lot of times with my \u003Ca href=\u0022https://www.dropbox.com/s/j0u4eg0ckj4q2j0/Dres%20Ion%20Sat.mat?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ecurrent mission\u003C/a\u003E. I\u0027m not sure this is really a bug or something I messed up with KSP TOT\u0027s settings. Just opening the .mat or running the script should generate some of these:\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\nWarning: Failure at t=2.099825e\u002B07.  Unable to meet integration tolerances without reducing the step size below the smallest value allowed (5.960464e-08) at time t.\n\u0026gt; In ode45 (line 308)\n  In ODE45Integrator/integrate (line 23)\n  In ForceModelPropagator/propagate (line 49)\n  In LaunchVehicleSimulationDriver/integrateOneEvent (line 143)\n  In LaunchVehicleSimulationDriver/processIntegratorTerminationCauses (line 181)\n  In LaunchVehicleSimulationDriver/integrateOneEvent (line 154)\n  In LaunchVehicleEvent/executeEvent (line 157)\n  In LaunchVehicleScript/executeScript (line 272)\n  In ConstraintSet/evalConstraints (line 93)\n  In FminconOptimizer\u0026gt;@(x)lvdOpt.constraints.evalConstraints(x,true,evtToStartScriptExecAt,true,[]) (line 27)\n  In optimfcnchk/checkfun (line 240)\n  In barrier\n  In fmincon (line 800)\n  In lvd_executeOptimProblem (line 26)\n  In FminconOptimizer/optimize (line 66)\n  In LvdOptimization/optimize (line 50)\n  In ma_LvdMainGUI\u0026gt;optimizeMissionMenu_Callback (line 564)\n  In gui_mainfcn (line 95)\n  In ma_LvdMainGUI (line 42)\n  In matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)ma_LvdMainGUI(\u0027optimizeMissionMenu_Callback\u0027,hObject,eventdata,guidata(hObject))\n  In waitforallfiguresclosed (line 9)\n\u003C/pre\u003E\n\u003Cul\u003E\u003Cli\u003E\nSizing problems at the \u0022Edit Objective Function\u0022 window too:\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cimg alt=\u0022HmhSTPz\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.72\u0022 height=\u0022714\u0022 width=\u0022943\u0022 src=\u0022https://imgur.com/download/HmhSTPz\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD tutorial needs to be updated to match the current version. I could follow it, but I can see people getting confused because of some descriptions not matching the latest version. Maybe it\u0027d be better to keep them at the project\u0027s wiki on github, so that anyone can help keep it updated\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cstrong\u003ESuggestions:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAdd a way to duplicate events on LVD. This would make it so much easier to create things like the pitch profile events\n\u003C/li\u003E\n\u003Cli\u003E\nBetter way to model electric engines consumption/generation. It\u0027s possible to use them now by manually setting it\u0027s consumption, but doing this prevents us from optimizing thrust so that the ship doesn\u0027t run out of power\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-19T20:14:31Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0026amp;do=hovercard\u0022 data-mentionid=\u002259814\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/59814-vitorboschi/\u0022 rel=\u0022\u0022\u003E@vitorboschi\u003C/a\u003E\u003Cspan\u003E:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThanks for the report!\u00A0 Looks like you found a couple things which were Linux specific.\u00A0 I have corrected them:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nUndefined \u0022LaunchVehiclePowerStorageEnum\u0022 should now be resolved.\n\u003C/li\u003E\n\u003Cli\u003E\nThe constraint dialog list box has been widened to 300 px, which should be wide enough for most or all constraint types.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ve resolved the issue with the Objective Function dialog box looking funny.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ll take a look at updating the tutorial one of these days, thought it may be a bit before I get to it.\n\u003C/p\u003E\n\u003Cp\u003E\nI can look into a way to duplicate events.\u00A0 It had never occurred to me that anyone would want to do that.\n\u003C/p\u003E\n\u003Cp\u003E\nEngine-related EPS components will be coming in the future.\u00A0 I will be adding alternators as well as engines that require EC to run.\u00A0 These are on the radar, though it may be a bit before I get to them. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnyway, I\u0027ve updated the v1.6.6 release download packages.\u00A0 Can you redownload the Linux build and see if your issues have been resolved?\u00A0 Sorry about all the funny display errors.\u00A0 Linux doesn\u0027t behave the same way Windows does and I have to configure UIs a certain way to mitigate this.\u00A0 I don\u0027t always get it right evidently.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-19T20:51:17Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E. I can confirm those were fixed, so the only issue that remains is the warnings I keep getting at the console.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nWarning: Failure at t=2.100148e\u002B07.  Unable to meet integration tolerances without reducing the step size below the smallest value allowed (5.960464e-08) at time t.\n\u0026gt; In ode45 (line 308)\n  In ODE45Integrator/integrate (line 23)\n  In ForceModelPropagator/propagate (line 49)\n  In LaunchVehicleSimulationDriver/integrateOneEvent (line 143)\n  In LaunchVehicleEvent/executeEvent (line 157)\n  In LaunchVehicleScript/executeScript (line 272)\n  In ma_LvdMainGUI\u0026gt;propagateScript (line 171)\n  In ma_LvdMainGUI\u0026gt;openMissionPlanMenu_Callback (line 915)\n  In ma_LvdMainGUI\u0026gt;openMissionPlanToolbar_ClickedCallback (line 1047)\n  In gui_mainfcn (line 95)\n  In ma_LvdMainGUI (line 42)\n  In matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)ma_LvdMainGUI(\u0027openMissionPlanToolbar_ClickedCallback\u0027,hObject,eventdata,guidata(hObject))\n  In waitforallfiguresclosed (line 9)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny idea why they happen?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also trying to optimize \u003Ca href=\u0022https://www.dropbox.com/s/b7wou53hwpxi310/Dres%20Ion%20Sat.mat?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Emy mission\u003C/a\u003E but I can\u0027t get the optimizer to achieve a Dres encounter, even though the original departure orbit from the porkchop plot was achieved. It just stops without doing any iteration. Any tips to solve that?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nHyperbolic Departure Orbit from Kerbin\n---------------------------------------------\nSemi-major Axis =               -822.6289 km\nEccentricity =                  1.850706432\nInclination =                   8.0532 deg\nRight Ascension of AN =         246.2978 deg\nArgument of Periapse =          358.3683 deg\n---------------------\nOut. Hyp. Vel. Vect Rt. Asc. =  7.6241 deg\nOut. Hyp. Vel. Vect Declin. =   6.8915 deg\nOut. Hyp. Vel. Magnitude =      2.071971425 km/s\n\n\nTransfer Orbit about Sun\n---------------------------------------------\nSemi-major Axis =             26759201.8422 km\nEccentricity =                0.491899604\nInclination =                 1.2563 deg\nRight Ascension of AN =       281.7300 deg\nArgument of Periapse =        357.7428 deg\nKerbin Depart True Anomaly =  2.2572 deg\nDres Arrive True Anomaly =    179.9481 deg\n---------------------\nDeparture Date = Year 1, Day 244 04:09:51.186\n                      (21010191.1864 sec UT)\nArrival Date = Year 2, Day 25 12:27:57.394\n                      (33654477.3939 sec UT)\nDuration =          146 Days 08:18:06.207\n\n\nBurn Information to Depart Kerbin\n---------------------------------------------\nTotal Delta-V =              1.60070 km/s\nPrograde Delta-V =           1508.35688 m/s\nOrbit Normal Delta-V =       531.21731 m/s\nRadial Delta-V =             70.11482 m/s\n---------------------\nBurn True Anomaly =          246.29780 deg\nBurn Time Past Peri. =       1339.67426 sec\nBurn Time Before Peri. =     618.45417 sec\nInitial Orbit Period =       1958.12844 sec\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-19T21:41:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223840843\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597870277\u0022 data-ipsquote-userid=\u002259814\u0022 data-ipsquote-username=\u0022vitorboschi\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n36 minutes ago, vitorboschi said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E. I can confirm those were fixed, so the only issue that remains is the warnings I keep getting at the console.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nWarning: Failure at t=2.100148e\u002B07.  Unable to meet integration tolerances without reducing the step size below the smallest value allowed (5.960464e-08) at time t.\n\u0026gt; In ode45 (line 308)\n  In ODE45Integrator/integrate (line 23)\n  In ForceModelPropagator/propagate (line 49)\n  In LaunchVehicleSimulationDriver/integrateOneEvent (line 143)\n  In LaunchVehicleEvent/executeEvent (line 157)\n  In LaunchVehicleScript/executeScript (line 272)\n  In ma_LvdMainGUI\u0026gt;propagateScript (line 171)\n  In ma_LvdMainGUI\u0026gt;openMissionPlanMenu_Callback (line 915)\n  In ma_LvdMainGUI\u0026gt;openMissionPlanToolbar_ClickedCallback (line 1047)\n  In gui_mainfcn (line 95)\n  In ma_LvdMainGUI (line 42)\n  In matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)ma_LvdMainGUI(\u0027openMissionPlanToolbar_ClickedCallback\u0027,hObject,eventdata,guidata(hObject))\n  In waitforallfiguresclosed (line 9)\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny idea why they happen?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m also trying to optimize \u003Ca href=\u0022https://www.dropbox.com/s/b7wou53hwpxi310/Dres%20Ion%20Sat.mat?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Emy mission\u003C/a\u003E but I can\u0027t get the optimizer to achieve a Dres encounter, even though the original departure orbit from the porkchop plot was achieved. It just stops without doing any iteration. Any tips to solve that?\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nHyperbolic Departure Orbit from Kerbin\n---------------------------------------------\nSemi-major Axis =               -822.6289 km\nEccentricity =                  1.850706432\nInclination =                   8.0532 deg\nRight Ascension of AN =         246.2978 deg\nArgument of Periapse =          358.3683 deg\n---------------------\nOut. Hyp. Vel. Vect Rt. Asc. =  7.6241 deg\nOut. Hyp. Vel. Vect Declin. =   6.8915 deg\nOut. Hyp. Vel. Magnitude =      2.071971425 km/s\n\n\nTransfer Orbit about Sun\n---------------------------------------------\nSemi-major Axis =             26759201.8422 km\nEccentricity =                0.491899604\nInclination =                 1.2563 deg\nRight Ascension of AN =       281.7300 deg\nArgument of Periapse =        357.7428 deg\nKerbin Depart True Anomaly =  2.2572 deg\nDres Arrive True Anomaly =    179.9481 deg\n---------------------\nDeparture Date = Year 1, Day 244 04:09:51.186\n                      (21010191.1864 sec UT)\nArrival Date = Year 2, Day 25 12:27:57.394\n                      (33654477.3939 sec UT)\nDuration =          146 Days 08:18:06.207\n\n\nBurn Information to Depart Kerbin\n---------------------------------------------\nTotal Delta-V =              1.60070 km/s\nPrograde Delta-V =           1508.35688 m/s\nOrbit Normal Delta-V =       531.21731 m/s\nRadial Delta-V =             70.11482 m/s\n---------------------\nBurn True Anomaly =          246.29780 deg\nBurn Time Past Peri. =       1339.67426 sec\nBurn Time Before Peri. =     618.45417 sec\nInitial Orbit Period =       1958.12844 sec\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe warning you\u0027re seeing suggests that the ODE problem may be becoming stiff at the time indicated.\u00A0 This is not a bug in KSPTOT but instead an issue with the way the mission is formulated.\u00A0 It could be that you\u0027re running into funny business with drag (in which case, try the ODE23s solver).\u00A0 You can also try to increase the ODE45 tolerances up to 1E-6 or so, for both relative and absolute tolerances.\u00A0 Do this for the problem event by opening the event and editing the integrator options.\u00A0 Let me know if you still have issues and provide a MAT file so I can take a look. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIs your MAT file for LVD or Mission Architect?\u00A0 I\u0027ll try to take a look in the next day or two.\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-19T21:54:20Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223840874\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597873262\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe warning you\u0027re seeing suggests that the ODE problem may be becoming stiff at the time indicated.\u00A0 This is not a bug in KSPTOT but instead an issue with the way the mission is formulated.\u00A0 It could be that you\u0027re running into funny business with drag (in which case, try the ODE23s solver).\u00A0 You can also try to increase the ODE45 tolerances up to 1E-6 or so, for both relative and absolute tolerances.\u00A0 Do this for the problem event by opening the event and editing the integrator options.\u00A0 Let me know if you still have issues and provide a MAT file so I can take a look. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIs your MAT file for LVD or Mission Architect?\u00A0 I\u0027ll try to take a look in the next day or two.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll try those settings, thanks!\n\u003C/p\u003E\n\u003Cp\u003E\nThe mat is for LVD and it\u0027s linked in my previous post\n\u003C/p\u003E\n"},{"CreatedByName":"CanisLupus518","CreatedById":199319,"CreatedDateTime":"2020-08-20T15:47:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223840422\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597802990\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/18/2020 at 10:09 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI believe it\u0027s ports 8282 through 8295.\u00A0 Let me know if you have any trouble.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cp\u003E\nI got it to work, looks like my real problem was that I didn\u0027t notice the whitelist file in the mod, so I have it all working, thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a great tool, I am starting to see the power in it, but I\u0027m struggling to bridge the gap between planning a mission (with MA or LVD) and actually executing it. I tried loading up a sample mission in MA (the EveJoolEeloo mission) as I thought it would help me just learn how to execute a planned mission, but I\u0027m not sure how it is possible to launch into the planned initial state with the precision required to keep the rest of the mission on track. I launch into an orbit that seems reasonably similar, but reoptimizing on the new initial state fails.\u00A0What am I missing? What should be the process\\workflow from event to event while actually flying a mission?\n\u003C/p\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-20T16:11:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223841190\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221597938429\u0022 data-ipsquote-userid=\u0022199319\u0022 data-ipsquote-username=\u0022CanisLupus518\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, CanisLupus518 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\n\u00A0\n\u003C/div\u003E\n\u003Cp\u003E\nI got it to work, looks like my real problem was that I didn\u0027t notice the whitelist file in the mod, so I have it all working, thanks.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a great tool, I am starting to see the power in it, but I\u0027m struggling to bridge the gap between planning a mission (with MA or LVD) and actually executing it. I tried loading up a sample mission in MA (the EveJoolEeloo mission) as I thought it would help me just learn how to execute a planned mission, but I\u0027m not sure how it is possible to launch into the planned initial state with the precision required to keep the rest of the mission on track. I launch into an orbit that seems reasonably similar, but reoptimizing on the new initial state fails.\u00A0What am I missing? What should be the process\\workflow from event to event while actually flying a mission?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLaunching exactly into the planned initial orbit is almost impossible, specially when there\u0027s an atmosphere to go through. Tools like kOS and Mechjeb are of great help to achieve more accuracy, but you\u0027ll always end up having to reoptimize and/or add some correction burns.\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s hard to know why the optimizer is failing in your case, but you must make sure that you optimize a small mission segment at a time. If you try to optimize a burn at Kerbin and set it to minimize your distance to Eeloo after passing through Eve and Jool, it\u0027ll fail for sure. Instead, after getting into Kerbin orbit, you can either plan a new burn to put you in the correct orbit, or reoptimize the first burn to achieve the desired arrival orbit at Eve.\n\u003C/p\u003E\n\u003Cp\u003E\nIf that fails (perhaps you deviated too much from the expected orbit), step back a little: first optimize the burn to reduce distance to Eve (without any constraint), and after achieving that, add constraints to achieve the desired inbound orbit and optimize again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-22T17:20:24Z","Content":"\n\u003Cp\u003E\nHi KSPTOT community!\n\u003C/p\u003E\n\u003Cp\u003E\nThe most common complaint I get with KSPTOT is generally that it\u0027s easy to put together a mission using the porkchop plot or a gravity assist tour in Multi-Flyby Maneuver Sequencer (MFMS) but it is then very challenging to translate those missions into Mission Architect (MA) or Launch Vehicle Designer (LVD).\u00A0 I\u0027m happy to share today that I believe I have implemented a great solution in LVD that makes this process much easier.\n\u003C/p\u003E\n\u003Cp\u003E\nThe big problem with trying to do a gravity assist tour in chronological order is that getting those flyby orbits right is a real pain for optimizers because the gradient of constraints near celestial bodies get to be extremely steep.\u00A0 (Basically,\u00A0 small changes far away make large changes near the body.)\u00A0 A good first step to solving this problem was introduced a few releases ago with the Set Kinematic State action, where you can define the time and state of the vehicle in the middle of the mission.\u00A0 However, even using Universal elements and defining the initial state well before the periapsis of the flyby orbit still generally put you pretty close to the celestial body in question and only improved the situation somewhat.\u00A0 Ideally, you\u0027d find a way to define the flyby orbit, then propagate that orbit \u003Cem\u003Ebackwards\u003C/em\u003E in time towards a more neutral patch point with an orbit that was propagated \u003Cem\u003Eforwards \u003C/em\u003Ein time from the previous celestial body that is being departed from.\u00A0 As long as this patch point stayed somewhat in the middle of empty space, then the gradients are benign and the optimizer should have no problem.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is precisely what I\u0027ve done.\u00A0 It is now possible to propagate an event backwards in time using a new menu item in the Edit Event dialog box.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00229UjoBWx.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002295.45\u0022 height=\u0022588\u0022 width=\u0022616\u0022 src=\u0022https://i.imgur.com/9UjoBWx.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNote that when you propagate backwards, termination condition direction (increasing or decreasing) is still relative to the forward flow of time.\u00A0 So if you set your termination condition to Altitude of 100 km and increasing, even going backwards in time you\u0027ll still terminate the event when the forward flow of time would yield an altitude with a positive time derivative.\u00A0 I felt this would be more intuitive this way.\n\u003C/p\u003E\n\u003Cp\u003E\nSo how does this play out in practice?\u00A0 Pretty well!\u00A0 Here\u0027s my mission I designed from Kerbin to Jool to Eeloo in MFMS.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022cEQESdV.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002279.63\u0022 height=\u0022825\u0022 width=\u00221036\u0022 src=\u0022https://i.imgur.com/cEQESdV.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd here\u0027s how it looks in LVD.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022D06LCHa.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.26\u0022 height=\u0022727\u0022 width=\u0022966\u0022 src=\u0022https://i.imgur.com/D06LCHa.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027ll notice that the Jool encounter looks almost identical.\u00A0 The Eeloo encounter takes place a bit farther down the arc but is generally in the right place.\u00A0 I would call this pretty much a success!\n\u003C/p\u003E\n\u003Cp\u003E\nAnd guys?\u00A0 Here\u0027s the crazy part: setting the mission up this way made it \u003Cem\u003Eextremely easy \u003C/em\u003Eto get the optimizer to converge on a valid solution.\u00A0 This is basically unprecedented in KSPTOT history and what\u0027s more, it should be possible to add as many flybys or gravity assists or what have you without adding too much additional complexity to the optimizer.\n\u003C/p\u003E\n\u003Cp\u003E\nLet\u0027s talk about the process here in the mission script.\u00A0 First, you\u0027ll notice that most events have a plus or minus sign after their name.\u00A0 I use this to denote forward or backwards propagation.\u00A0 Let\u0027s use the Jool flyby as an example.\u00A0 First, you\u0027ll notice the \u003Cstrong\u003ECoast to Jool \u002B\u003C/strong\u003E event.\u00A0 This is the red arc from Kerbin orbit extending out towards Jool.\u00A0 Notice that the next event, 3, is the flyby periapsis state.\u00A0 Here I use a Set Kinematic State action to optimize the flyby parameters.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022nuw4LtW.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022184.12\u0022 height=\u0022858\u0022 width=\u0022466\u0022 src=\u0022https://i.imgur.com/nuw4LtW.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEvent 4, \u003Cstrong\u003ECoast to Jool -\u003C/strong\u003E, is the black segment leading up to the orbit of Jool.\u00A0 This actually starts at the Jool periapsis point and propagates backwards in time, hopefully to meet up with the end of Event 2.\u00A0 Finally, Event 5 simply uses another Set Kinematic State to inherit from Event 3 so that we can propagate forwards again to Eeloo.\u00A0 Remember that the script executes from top to bottom, so if you need to jump in time or state from the end of the previous event, you need to use a Set Kinematic State action.\n\u003C/p\u003E\n\u003Cp\u003E\nThe next this we need to do is constrain our end states of Events 2 and 4 to meet up in position, velocity, and time.\u00A0 We do this using 7 constraints: 3 position continuity constraints, 3 velocity continuity constraints, and 1 time continuity constraint.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022hp7xMBo.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022144.94\u0022 height=\u0022458\u0022 width=\u0022316\u0022 src=\u0022https://i.imgur.com/hp7xMBo.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSet the Applicable Event to Event 4 (always the event with the higher number in the event list) and the Constraint Event to Event 2.\u00A0 For example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022cbkXYbp.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.32\u0022 height=\u0022238\u0022 width=\u0022316\u0022 src=\u0022https://i.imgur.com/cbkXYbp.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThen optimize!\u00A0 You\u0027ll want to make sure that you\u0027re letting the location and steering of the departure burn as well as all elements of the flyby orbit (except true anomaly or time past periapsis depending on your element set).\u00A0 Also, it can be useful to put an Impulsive Delta-v action at the end of the forward propagated segments (here, Event 2), and optimize those burn elements, in order to provide the solver with a few more degrees of freedom in hitting the target velocity.\u00A0 If you\u0027ve set up everything correctly, FMINCON should have no problem achieving the target time, position, and velocity continuity.\n\u003C/p\u003E\n\u003Cp\u003E\n----\n\u003C/p\u003E\n\u003Cp\u003E\nThis new functionality is ready to be previewed in the \u003Ca href=\u0022https://drive.google.com/file/d/1VJ7MQDqocsKokIznoVQy_R-ZSlGbIBMa/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 1\u003C/a\u003E build.\u00A0 There are also a few bug fixes I found.\u00A0 Here\u0027s the full change log:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Implementation of backwards propagated events.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Bug fix to issue in Set Kinematic State action.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Bug fix for rare issue where trajectory marker in display could get off of the trajectory lines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Position and velocity continuity constraints should be faster to compute now.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ve also included my example LVD file I showed above in the download for everyone to take a look at.\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if you have any questions or find any bugs.\u00A0 Thanks!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-22T17:26:08Z\u0022 title=\u002208/22/2020 05:26  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 22, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-08-22T17:39:43Z","Content":"\n\u003Cp\u003E\nooohhh maannn I\u0027m so glad I haven\u0027t actually had time to really do any serious work on the Kerbin-\u0026gt;Eve-\u0026gt;Jool-\u0026gt;Plock flyby that MFMS found me back in 2018 for late 2021 launch. Good to know that when I do have time, less of it will be spent on it! Unfortunately for me that time is still at least a month or two away while I deal with still just getting into orbit reliably...\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-23T22:48:41Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nLast night I was thinking about what would be required to finish up the Launch Vehicle Designer (LVD) electrical power system by including engine alternators and requiring EC to run certain engines.\u00A0 Turns out I really should have just included this in the previous release because it was pretty straight forward, far more straight forward than I was anticipating.\n\u003C/p\u003E\n\u003Cp\u003E\nTo use this feature in the new pre-release (see below), add or edit an engine:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022EnqmlAd.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u0022144.94\u0022 height=\u0022458\u0022 width=\u0022316\u0022 src=\u0022https://i.imgur.com/EnqmlAd.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nYou\u0027ll see the checkboxes there for adding an alternator to the engine as well as for requiring electric charge for the engine to run.\u00A0 You specify the charge and discharge rates, respectively, relative to 100% throttle, and the actual charge and discharge rates scale proportional to throttle.\u00A0 It\u0027s pretty easy to use overall.\n\u003C/p\u003E\n\u003Cp\u003E\nSome caveats:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nAt least one power storage storage device is required to use electric engines.\u00A0 If the vehicle doesn\u0027t have a battery , your electric engine will not run.\n\u003C/li\u003E\n\u003Cli\u003E\nYou can get into some very problematic numerical territory if the following occurs all at once:\n\u003Cul\u003E\u003Cli\u003E\nYou have an electric engine running on the vehicle;\n\u003C/li\u003E\n\u003Cli\u003E\nOne or more of your batteries hits 0.0 state of charge; and\n\u003C/li\u003E\n\u003Cli\u003E\nYou have a power source device on your vehicle, such as an alternator, solar panel, or \u003Cabbr title=\u0022Radio-isotope Thermo-electric Generator (a.k.a. Mars rover heating device)\u0022\u003ERTG\u003C/abbr\u003E.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nIn the case of the latter, what will happen is the engine will quickly alternate between being on and off.\u00A0 (You see this is KSP too, btw, when your ion engine flickers rapidly when EC hits zero.)\u00A0 The integrator will not like this and your simulation run time will essentially go to infinity, only stopped by the max run time limit in the code.\n\u003C/p\u003E\n\u003Cp\u003E\nTo avoid this problem, make sure all of your batteries have some charge in them at all times when using an engine that requires electric charge.\u00A0 If you do run into this, jump over to the ODE5 integrator on the problem event(s).\u00A0 It\u0027s slower than the other integrators (though you can set the time step to be larger to compensate for this at the expense of accuracy) but will not have the same slowness issue as the other adaptive step size integrators.\u00A0 I\u0027m thinking about ways around this right now, but honestly, discontinuous ODEs (ordinary differential equations) are a thorny area without a ton of practical application of theory in the real world, so I\u0027m not sure what I\u0027ll be able to do, if anything.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, here\u0027s the \u003Ca href=\u0022https://drive.google.com/file/d/1VLjSDpJAHNVt9QhUAjj6RCGmlLQUcsGs/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 2\u003C/a\u003E.\u00A0 The change log is basically what I wrote above plus some minor bug fixes:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nLVD: Implementation of alternators and electric engines.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: Fix for broken plot background color option.\n\u003C/li\u003E\n\u003Cli\u003E\nLVD: GA now respects event plotting setting when plotting data.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI would appreciate it if someone would give the new electric engine stuff a try and provide some feedback if there\u0027s anything to provide back.\u00A0 Thanks! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-23T23:04:01Z\u0022 title=\u002208/23/2020 11:04  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 23, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-08-24T08:09:58Z","Content":"\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0it looks awesome!\n\u003C/p\u003E\n\u003Cp\u003E\nAm I reading your 1.6.7 note above correctly? It sounds like you have added the backward propagation which will make trajectories coming out of MFMS \u0022more digestible\u0022 by MA and LDV, and that they way it\u0027s done also makes it easier for MFMS to find the flybys in the first place? If that is so then it\u0027s likely that using backward propagating segments could find flybys that were missed before?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been early waiting till I get a chance to play with LVD to\u00A0optimizing an ascent with constraints on G and aero forces, now I can add flybys to my list...\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-24T14:13:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223843127\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598256598\u0022 data-ipsquote-userid=\u0022122106\u0022 data-ipsquote-username=\u0022DBowman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, DBowman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0It sounds like you have added the backward propagation which will make trajectories coming out of MFMS \u0022more digestible\u0022 by MA and LDV, and that they way it\u0027s done also makes it easier for MFMS to find the flybys in the first place? If that is so then it\u0027s likely that using backward propagating segments could find flybys that were missed before?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s only the former and only for LVD: the technique I\u0027ve put into LVD should make it easier to use data out of MFMS.\u00A0 There have been no changes to MFMS\u0027s output or anything of that sort.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any other questions. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-08-24T17:31:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223831793\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221596591928\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/4/2020 at 9:45 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat would be useful to see is thrust vs atmospheric density.\u00A0 If there\u0027s an issue with how thrust is computed as a function of density, that\u0027ll do it.\u00A0 I think I\u0027m just doing a linear interpolation of thrust on the two densities that are requested (1 atm and 0 atm), because that\u0027s what the game shows, but if it needs to be more complicated than that in order to match KSP under the hood, it can certainly be made to work that way.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFixed the issue with my atmo logging code. Here is thrust over density from a solid rocket motor that is using a thrust curve, for a more complex example:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/0EBwpVi.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u00220EBwpVil.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002245.47\u0022 height=\u0022291\u0022 style=\u0022width:640px;height:auto;\u0022 width=\u0022640\u0022 src=\u0022https://i.imgur.com/0EBwpVil.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nthe kOS code doesn\u0027t report good data when the rocket is just getting moving, as exemplified below in just density over altitude:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/q0SC1G6.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022q0SC1G6l.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.25\u0022 height=\u0022360\u0022 style=\u0022width:640px;height:auto;\u0022 width=\u0022640\u0022 src=\u0022https://i.imgur.com/q0SC1G6l.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m missing VOID data because it\u0027s not working well with KSP 1.9.1 yet\n\u003C/p\u003E\n\u003Cp\u003E\nI am confident in the values the kOS code is reporting because it does properly calculate the Mach number. The rocket \u003Ca href=\u0022https://i.imgur.com/6ItzQqs.png\u0022 rel=\u0022external nofollow\u0022\u003Ewent supersonic during L\u002B15s\u003C/a\u003E (MET in upper left, mach # in \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E window to the left of resources panel) and when I use the kOS atmo data to calculate its Mach number I see L\u002B15 @ mach 0.975209378981002 and L\u002B16 @ mach 1.02457377154838\n\u003C/p\u003E\n\u003Cp\u003E\nI can do a more basic test with a \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O engine, just launch it straight up at full thrust. Only have the data above right now as I\u0027m working on a flight analysis to publish tomorrow so won\u0027t be able to do the simpler test until later this week, maybe weekend. Let me know what else you\u0027d like me to do\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-24T17:33:29Z\u0022 title=\u002208/24/2020 05:33  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 24, 2020\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KC_073","CreatedById":8898,"CreatedDateTime":"2020-08-24T17:48:11Z","Content":"\n\u003Cp\u003E\nFirst off, continued thanks for developing KSPTOT - it is a huge help with KSP and even when I\u0027m taking breaks from KSP is it fun to watch the cool improvements in TOT itself.\n\u003C/p\u003E\n\u003Cp\u003E\nQuick bug report - if I enable optimization for RAAN in the initial states in MA, the optimizer hangs on the \u0022Please wait while the optimizer initializes...\u0022 popup and I get an error ding from windows.\u00A0 Clicking X on the popup lets me return to the MA windows.\n\u003C/p\u003E\n\u003Cp\u003E\nAnother which might be a misunderstanding on my part - putting\u00A0 a number into Arg.Peri. in the initial states\u00A0 \u0022edit state\u0022 pane and then saving will add it to the true anom. field and reset the Arg.Peri. to 0.\u00A0 Not 100% an expert on orbital mechanics so this could easily be me not knowing what I\u0027m doing.\n\u003C/p\u003E\n\u003Cp\u003E\nFinally, a request - for parallel workers, let us set the number to start. My issue is that I\u0027m running on a 3900x, and starting up 24 parallel workers takes a good bit of time and memory.\u00A0 I imagine that\u0027s well down on the diminishing returns curve, so starting 8 or so might be just as good and not take nearly as long?\n\u003C/p\u003E\n\u003Cp\u003E\nAgain, thanks for all the cool work here, appreciate it.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-24T20:18:04Z","Content":"\n\u003Cp\u003E\nThanks, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/8898-kc_073/\u0026amp;do=hovercard\u0022 data-mentionid=\u00228898\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/8898-kc_073/\u0022 rel=\u0022\u0022\u003E@KC_073\u003C/a\u003E.\u00A0 I\u0027ll respond to your comments after I\u0027ve had a bit of time to think on them.\n\u003C/p\u003E\n\u003Cp\u003E\nI do need a bit of help with some testing an experimental LVD performance improvement feature if people are up for it.\u00A0 Here\u0027s what I need done:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOpen KSPTOT v1.6.6, start LVD, and load the \u0022lvdExample_TwoStageToOrbit.mat\u0022 file.\n\u003C/li\u003E\n\u003Cli\u003E\nTap control-p a few times (4-5 at least) to run the script and record the script run time that is displayed in the output window.\n\u003C/li\u003E\n\u003Cli\u003E\nNow download and run \u003Ca href=\u0022https://drive.google.com/file/d/1VRBupVqyUWZ7ZuDRNOP2xPgt3_CymAcr/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 3\u003C/a\u003E from the link.\n\u003C/li\u003E\n\u003Cli\u003E\nStart LVD and load the \u0022lvdExample_TwoStageToOrbit.mat\u0022 file again.\n\u003C/li\u003E\n\u003Cli\u003E\nTap control-p a few times to run the script and record the script run time that is displayed in the output window.\n\u003C/li\u003E\n\u003Cli\u003E\nProvide me here with both sets of script run times.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027m experimenting with a way to mitigate the cost of computing atmospheric temperature, which is the single most performance intensive calculation in LVD.\u00A0 Basically what I\u0027ve done is vectorize the function that computes temperature and then I run it at a bunch of times, latitudes, longitudes, and altitudes and cache the results.\u00A0 I then interpolate between them after that and avoid more calls to the expensive temperature function.\u00A0 Note that this means that the first time you run a case or if you move the initial state time around, you\u0027re going to see a pause while the cache rebuilds itself.\u00A0 This is normal.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks everyone!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2020-08-24T20:39:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223843464\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598300284\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI do need a bit of help with some testing an experimental LVD performance improvement feature if people are up for it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou betcha. 1.6.6 run:\n\u003C/p\u003E\n\u003Cp\u003E\n(16:31:17) Executed mission script in 3.234 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:31) Executed mission script in 1.599 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:33) Executed mission script in 1.572 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:36) Executed mission script in 1.426 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:39) Executed mission script in 1.525 seconds.\u00A0\u00A0\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.6.7 PR3 run:\n\u003C/p\u003E\n\u003Cp\u003E\n(16:38:00) Executed mission script in 7.593 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:08) Executed mission script in 2.018 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:11) Executed mission script in 1.729 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:14) Executed mission script in 1.763 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:17) Executed mission script in 1.916 seconds.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2020-08-24T20:44:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223843476\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598301555\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou betcha. 1.6.6 run:\n\u003C/p\u003E\n\u003Cp\u003E\n(16:31:17) Executed mission script in 3.234 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:31) Executed mission script in 1.599 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:33) Executed mission script in 1.572 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:36) Executed mission script in 1.426 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:31:39) Executed mission script in 1.525 seconds.\u00A0\u00A0\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n1.6.7 PR3 run:\n\u003C/p\u003E\n\u003Cp\u003E\n(16:38:00) Executed mission script in 7.593 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:08) Executed mission script in 2.018 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:11) Executed mission script in 1.729 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:14) Executed mission script in 1.763 seconds.\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0 \u00A0\u003Cbr\u003E\n(16:38:17) Executed mission script in 1.916 seconds.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Cs\u003EPerfect.\u00A0 So a decrease of about 0.2 seconds, or ~12%.\u00A0 I\u0027ll take it. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cs\u003E\u003Cspan\u003EThanks!\u003C/span\u003E\u003C/s\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWait, I misread.\u00A0 It got worse? \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-24T20:45:52Z\u0022 title=\u002208/24/2020 08:45  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 24, 2020\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vitorboschi","CreatedById":59814,"CreatedDateTime":"2020-08-24T23:42:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223843464\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598300284\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022103177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/103177-drew-kerman/\u0022 rel=\u0022\u0022\u003E@Drew Kerman\u003C/a\u003E and \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/8898-kc_073/\u0026amp;do=hovercard\u0022 data-mentionid=\u00228898\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/8898-kc_073/\u0022 rel=\u0022\u0022\u003E@KC_073\u003C/a\u003E.\u00A0 I\u0027ll respond to your comments after I\u0027ve had a bit of time to think on them.\n\u003C/p\u003E\n\u003Cp\u003E\nI do need a bit of help with some testing an experimental LVD performance improvement feature if people are up for it.\u00A0 Here\u0027s what I need done:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nOpen KSPTOT v1.6.6, start LVD, and load the \u0022lvdExample_TwoStageToOrbit.mat\u0022 file.\n\u003C/li\u003E\n\u003Cli\u003E\nTap control-p a few times (4-5 at least) to run the script and record the script run time that is displayed in the output window.\n\u003C/li\u003E\n\u003Cli\u003E\nNow download and run \u003Ca href=\u0022https://drive.google.com/file/d/1VRBupVqyUWZ7ZuDRNOP2xPgt3_CymAcr/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.7 pre-release 3\u003C/a\u003E from the link.\n\u003C/li\u003E\n\u003Cli\u003E\nStart LVD and load the \u0022lvdExample_TwoStageToOrbit.mat\u0022 file again.\n\u003C/li\u003E\n\u003Cli\u003E\nTap control-p a few times to run the script and record the script run time that is displayed in the output window.\n\u003C/li\u003E\n\u003Cli\u003E\nProvide me here with both sets of script run times.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHere you go:\n\u003C/p\u003E\n\u003Cp\u003E\n1.6.6\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n(20:37:45) Executed mission script in 2.404 seconds.                                         \n(20:38:04) Executed mission script in 1.314 seconds.                                         \n(20:38:08) Executed mission script in 1.249 seconds.                                         \n(20:38:11) Executed mission script in 1.214 seconds.                                         \n(20:38:15) Executed mission script in 1.249 seconds.                                         \n(20:38:21) Executed mission script in 1.204 seconds.                                         \n(20:38:28) Executed mission script in 1.178 seconds.                                         \u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nand 1.6.7 PR 3\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n(20:40:57) Executed mission script in 4.749 seconds.                                         \n(20:41:06) Executed mission script in 1.236 seconds.                                         \n(20:41:13) Executed mission script in 1.169 seconds.                                         \n(20:41:15) Executed mission script in 1.191 seconds.                                         \n(20:41:20) Executed mission script in 1.218 seconds.                                         \n(20:41:33) Executed mission script in 1.123 seconds.                                         \n(20:41:40) Executed mission script in 1.105 seconds.                                         \u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-24T23:44:05Z\u0022 title=\u002208/24/2020 11:44  PM\u0022 data-short=\u00223 yr\u0022\u003EAugust 24, 2020\u003C/time\u003E by vitorboschi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DBowman","CreatedById":122106,"CreatedDateTime":"2020-08-25T06:06:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223843242\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221598278396\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s only the former and only for LVD: the technique I\u0027ve put into LVD should make it easier to use data out of MFMS.\u00A0 There have been no changes to MFMS\u0027s output or anything of that sort.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any other questions. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthanks! I read the Solar System Edge tute, genetic algos, cool. I better play around first...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-08-25T09:16:31Z\u0022 title=\u002208/25/2020 09:16  AM\u0022 data-short=\u00223 yr\u0022\u003EAugust 25, 2020\u003C/time\u003E by DBowman\u003C/strong\u003E\n\u003C/span\u003E\n"}]}