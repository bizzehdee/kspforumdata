{"TopicId":59495,"ForumId":35,"TopicTitle":"[All OS] [Python3.x] FireMarshal - quick and easy delta-v - [github]","CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-10T02:55:35Z","PageNum":1,"Articles":[{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-10T02:55:35Z","Content":"\n\u003Cp\u003EHi folks! Here\u0027s my first tool for KSP. It does what it says on the tin - give it data, and it gives you other data \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESpecifically you provide vessel information and a desired delta-V, and it gives you back the burn time, mass change, and what fuel you\u0027ll have remaining. For fuel, if you do not know the mass - take the tank wet mass, subtract the dry mass. Then divide by the number of \u0027units\u0027 stored - this will give you the mass per unit for that fuel type. Be sure to combine any components used - for example, you would combine liquid fuel and oxidizer and consider it to be a single unified \u0022fuel\u0022 since it\u0027s the mixture that\u0027s expended.\u003C/p\u003E\u003Cp\u003EIt may not be obvious, but this works for using RCS as well - just look up the thrust and Isp of each RCS cluster that would be used and input them as \u0022engines\u0022 - for fuel mass, use the combined monopropellant across all of your enabled RCS tanks.\u003C/p\u003E\u003Cp\u003EThis was written for Python 3, so I can claim no support for Python 2. You can try, at your own risk. The \u003Ca href=\u0022http://creativecommons.org/licenses/by/4.0/deed.en_US\u0022 rel=\u0022external nofollow\u0022\u003Elicense\u003C/a\u003E is in the script, hard to miss. \u003C/p\u003E\u003Cp\u003EFeedback (and someone verifying my math) is highly appreciated \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ENote that you can use this for real rocketry as well, if you tweak standard_gravity to the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Standard_gravity\u0022 rel=\u0022external nofollow\u0022\u003Ereal-world value\u003C/a\u003E in m/s\u003Csup\u003E2\u003C/sup\u003E - though of course there\u0027s no warranty that this program won\u0027t cause half the city to catch fire or the like.\u003C/p\u003E\u003Cp\u003EExample session:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EC:\\Users\\draeath\\Desktop\u0026gt;python KSP-FireMarshal.py\u003Cbr\u003E\u003Cbr\u003EWelcome! This utility will compute burn time and fuel usage for a given delta-v.\u003Cbr\u003E\u003Cbr\u003E        Tip: Mg = metric ton = 1000kg\u003Cbr\u003E        Tip: combine expended resources for these calculations. (eg fuel\u002Boxi)\u003Cbr\u003E        Tip: liquid fuel and oxidizer mass is 5kg per unit.\u003Cbr\u003E        Tip: monopropellant mass is 4kg per unit.\u003Cbr\u003E        Tip: specify only the fuel mass for the current stage.\u003Cbr\u003E        Tip: (wet_mass - dry_mass) / capacity = mass per unit\u003Cbr\u003E\u003Cbr\u003EDesired delta-v in m/s?         500\u003Cbr\u003EVessel mass in Mg?              5\u003Cbr\u003EFuel mass in Mg?                2.5\u003Cbr\u003E\u003Cbr\u003EThrust and Isp entry will loop - make one entry per engine.\u003Cbr\u003EProvide value of 0 to stop adding engines.\u003Cbr\u003EEngine 1 thrust in kN?                  25\u003Cbr\u003EEngine 1 specific impulse in seconds?   800\u003Cbr\u003EEngine 2 thrust in kN?                  10\u003Cbr\u003EEngine 2 specific impulse in seconds?   350\u003Cbr\u003EEngine 3 thrust in kN?                  10\u003Cbr\u003EEngine 3 specific impulse in seconds?   350\u003Cbr\u003EEngine 4 thrust in kN?                  100\u003Cbr\u003EEngine 4 specific impulse in seconds?   280\u003Cbr\u003EEngine 5 thrust in kN?                  0\u003Cbr\u003E\u003Cbr\u003ECalculated thrust:              145.0\u003Cbr\u003ECalculated specific impulse:    325.4509\u003Cbr\u003E\u003Cbr\u003EBurn time:      15.96   sec.\u003Cbr\u003EInitial mass:   5.0     Mg.\u003Cbr\u003EFinal mass:     4.276   Mg.\u003Cbr\u003EFuel spent:     0.724   Mg.\u003Cbr\u003EFuel remaining: 1.776   Mg.\u003Cbr\u003E\u003Cbr\u003EPress any key to continue . . .\u003Cbr\u003E\u003Cbr\u003EC:\\Users\\draeath\\Desktop\u0026gt;\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECode is on \u003Ca href=\u0022https://github.com/draeath/ksp-stuff/tree/master/firemarshal\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EChanges:\u003C/p\u003E\u003Cp\u003E1.0 - initial release.\u003C/p\u003E\u003Cp\u003E1.1 - added support for multiple engines.\u003C/p\u003E\u003Cp\u003E1.1b - fixed derp - we only iterate through engines once now.\u003C/p\u003E\u003Cp\u003E1.1c - tweaked tips\u003C/p\u003E\u003Cp\u003E\u003Cem\u003Esee github for any future updates\u003C/em\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-19T04:06:30Z\u0022 title=\u002201/19/2014 04:06  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 19, 2014\u003C/time\u003E by draeath\u003C/strong\u003E\n\u003Cbr\u003Eupdated\n\u003C/span\u003E\n"},{"CreatedByName":"dewin","CreatedById":96372,"CreatedDateTime":"2014-01-10T06:37:18Z","Content":"\n\u003Cp\u003EShould work fine in Python 2, though you might want to add:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Efrom __future__ import print_function\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E(Yay, I\u0027m not the only person who targets Py3k in my Python code)\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-10T07:01:35Z","Content":"\n\u003Cp\u003EWhat about division? At some point / as it is now was //.\u003C/p\u003E\u003Cp\u003EThough TBH I\u0027d be more concerned about input() vs raw_input().\u003C/p\u003E\u003Cp\u003EThat said wasn\u0027t there official wrapper/conversion scripts?\u003C/p\u003E\u003Cp\u003EI\u0027m still a python newbie TBH, even though I first started flirting with it back in 2.4 - but what can I say... I\u0027m looking prograde \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: / vs // shouldn\u0027t matter as I use floats in the math. import() does, however, as in 2.x there is effectively an eval() in there (dangerous!). Finally, there seems to be a \u003Ca href=\u0022https://wiki.python.org/moin/3to2\u0022 rel=\u0022external nofollow\u0022\u003Ebackwards converter\u003C/a\u003E similar to the forwards one.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-10T07:25:52Z\u0022 title=\u002201/10/2014 07:25  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 10, 2014\u003C/time\u003E by draeath\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"kaictl","CreatedById":91803,"CreatedDateTime":"2014-01-19T00:34:02Z","Content":"\n\u003Cp\u003EThanks for writing it in python 3! I always try to push python 3, but not so many people like it. Just a few changes I would make:\u003C/p\u003E\u003Cp\u003E1) Why use \u0027system(\u0022pause\u0022)\u0027? Just let the script exit on its own.\u003C/p\u003E\u003Cp\u003E2) Please use \u003Ca href=\u0022http://git-scm.com\u0022 rel=\u0022external nofollow\u0022\u003Egit\u003C/a\u003E. I would love to contribute to the source, and would love to see histories for the code and everything.\u003C/p\u003E\u003Cp\u003E3) @dewin: print() works in python 2 as well as python 3, It\u0027s just that \u0027print \u0022foo\u0022\u0027 doesn\u0027t work in python 3.\u003C/p\u003E\u003Cp\u003E4) Have you thought about passing it craft files and just parsed the data from there? (I might like to contribute some stuff, if you\u0027re okay with that)\u003C/p\u003E\u003Cp\u003E5) Needs some knowledge of staging, unless the different engines are actually different stages.\u003C/p\u003E\u003Cp\u003EJust some thoughts.\u003C/p\u003E\n"},{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2014-01-19T03:04:50Z","Content":"\n\u003Cp\u003EThanks for the feedback \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E1) For most Windows users, if one was to just double-click the .py it would close immediatly upon output. The pause is there to give them a chance to read the data.\u003C/p\u003E\u003Cp\u003E2) I can certainly put it up somewhere. I don\u0027t however use git (use hg), and I\u0027m not sure how bitbucket handles public users.\u003C/p\u003E\u003Cp\u003E3) yep\u003C/p\u003E\u003Cp\u003E4) That\u0027s way over my head at this point. I\u0027ve no problems with your adding stuff if you want, just stick to the (not actually very restrictive \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E) license. There won\u0027t be any changes between what\u0027s there now and what I put up in version control, so no need to wait if you don\u0027t want to.\u003C/p\u003E\u003Cp\u003E5) The trouble is that staging will change the mass during the burn. I don\u0027t know how to handle that... and TBH this can already be handled by considering the stages as separate burns, and putting in your vessel mass appropriately. Just combine the burn times for each stage you calculate. As with 4) I\u0027m perfectly OK with people having a stab at it themselves.\u003C/p\u003E\u003Cp\u003EEDIT: done, it\u0027s up on \u003Ca href=\u0022https://github.com/draeath/ksp-stuff/tree/master/firemarshal\u0022 rel=\u0022external nofollow\u0022\u003Egithub\u003C/a\u003E. There\u0027s really no reason I can\u0027t use git instead of hg, they are close enough to each other - at least as far as my usage goes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-19T03:50:47Z\u0022 title=\u002201/19/2014 03:50  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 19, 2014\u003C/time\u003E by draeath\u003C/strong\u003E\n\u003Cbr\u003Epushed to git\n\u003C/span\u003E\n"}]}