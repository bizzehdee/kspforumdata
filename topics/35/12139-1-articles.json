{"TopicId":12139,"ForumId":35,"TopicTitle":"[0.14.x\u002B,WIN] .craft and .sfs analyzer","CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-06-05T08:58:15Z","PageNum":1,"Articles":[{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-06-05T08:58:15Z","Content":"\n\u003Cp\u003EIt can be quite irritating when you can\\\u0027t load a craft or when crafts are removed from a persistent/quicksave file due to missing parts. On the other hand it is irritating as well when KSP abends due to too many installed mods. \u003C/p\u003E\u003Cp\u003EI intend to develop a means (in VB6) to determine which parts/mods are minimally required to load a craft (or all those present in the persistent and quicksave files). Currently i have completed the program which collects data from al the part.cfg files in all subdirectories below a given directory and builds the parts database. Works is in progress on the second program which analyses the .craft (or .sfs) file and determines which parts are used. The database is then used to specify the requiered mods. \u003C/p\u003E\u003Cp\u003EFor testing purposes i would appreciate if KSP users would post some .craft or .sfs files in this thread. If asked, i will post the parts/mods list of the posted files (as soon as the program functions). \u003C/p\u003E\n"},{"CreatedByName":"Corax","CreatedById":11311,"CreatedDateTime":"2012-06-05T12:32:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TheCardinal\u0022 data-cite=\u0022TheCardinal\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI intend to develop a means (in VB6) to determine which parts/mods are minimally required to load a craft\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFor those poor Linux users who don\\\u0027t have access to VisualBasic: \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E$ grep part.= Ships/VAB/my.craft | sed \\\u0027s/_/ /\\\u0027 | awk \\\u0027{print $3}\\\u0027 | sort | uniq\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-06-18T09:18:20Z","Content":"\n\u003Cp\u003EUntil now i\\\u0027ve concentrated on the building the parts-database and analyzing craft files. I\\\u0027ve colected 2063 parts so far (but i know i\\\u0027m still missing several old mods). At first i only wanted to get a list of the required parts/packs, which the program soon was able to provide. It soon became clear that a lot more was feasable. After some trials and errors i altered the program to become a partpicker/packbuilder. The program now can build a (new) pack consisting of all the required parts, plugins, plugindata, ship and partlist.\u003C/p\u003E\u003Cp\u003EAs some point in the past parts which had a dot in their name were renamed to parts with an underscore instead of the dot.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EA simple rename should mean that changing the names in the craft file should pose no problem and make the craft loadable with new parts in the game. Apparently a misconception because i do get notifications of missing parts.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003E(f.i. the part isa.RAM.Module -\u0026gt; changed into isa_RAM_Module. After editing the craft file i get Missing part isa_)\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EClearly, i still don\\\u0027t fully understand the naming conventions/rules in the program/parts. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EShould anyone have a clue what i\\\u0027m missing i would appreciate the help.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EI discovered my error. Although the name of a part may contain a dot (or multiple) in the sfs/craft files, the name in the partfiles is recognised even if the file contains an underscore (or multiple) instead of a dot (dots). Collecting all the parts is therefor sufficient, no editing is required in part.cfg and/or craft/sfs files.\u003C/p\u003E\u003Cp\u003EI\\\u0027ve started on the sfs files.\u003C/p\u003E\u003Cp\u003E* Edit - Cause of error added *\u003C/p\u003E\n"},{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-06-25T08:02:36Z","Content":"\n\u003Cp\u003EIt works for both craft as sfs files now.\u003C/p\u003E\n"},{"CreatedByName":"khyron42","CreatedById":8551,"CreatedDateTime":"2012-06-26T12:49:24Z","Content":"\n\u003Cp\u003ECardinal - are you getting close to releasing this, or just want to keep it for your internal use? I appreciate your offer to babysit the mod community base thread and keep it updated, but I was also thinking to just give people instructions on it once this tool is available. I can see it being quite a headache for you to make sure you have the latest mod parts downloaded, let alone the rest of the process this must take!\u003C/p\u003E\n"},{"CreatedByName":"TheCardinal","CreatedById":22874,"CreatedDateTime":"2012-06-26T14:50:48Z","Content":"\n\u003Cp\u003EUntil now, i didn\\\u0027t have to think about releasing it and in which form. No one seemed to be interested in the least.\u003C/p\u003E\u003Cp\u003EFrankly, i have no problem releasing it to others. The intention of the programis to prevent the frequent crashes due to a lack of memory and the more who (can) use it, the better.\u003C/p\u003E\u003Cp\u003EHaving said that and thinking a little about releasing, i can see several difficulties. The smallest difficulty is that all possible error situations have to be taken care of. That can be programmed relative easily.\u003C/p\u003E\u003Cp\u003EA bigger problem is in what form can i release it? The program consists in fact of two programs. One collects all relevant data of the parts and puts it in a database. The second reads the reads the sfs and/or craft file, determines which parts are mentioned in the file and looks in the database where to find the part. As i keep all mods in separate directories, the directoryname tells in which mod the part can be found. As the directoryname is known, the user can choose to either print a partlist with the name of the corresponding mod but he also has the option to copy all parts into a collection directory (including that partlist). The name of that directory will be similar to the read craft/sfs file and is (currently) stored in the root of drive C:. When necessary, everything can be made configurable.\u003C/p\u003E\u003Cp\u003EReleasing both programs would mean that every user has to do everything for himself. Searching for all the mods, naming them recognisable, keeping them stored in such a way that the program can work with it. And filling/updating the database again and again. (Very inefficient if you ask me). I could of course supply frequently a \\\u0027standard\u0027 database. However that restricts the user to only partlists and he still has to look for the required mods, select the parts and copy them into either the parts directory of KSP or (what i personally think is preferable) a \\\u0027collection-mod directory\\\u0027 which can be added or removed with JSGME.\u003C/p\u003E\u003Cp\u003EAn other option could be not releasing anything and provide a collection mod for f.i. a craft file if so requested (babysitting as you\\\u0027ve called it). And both options at the same time is also possible. I have to think about it some more, but i would like to hear your view on it.\u003C/p\u003E\n"},{"CreatedByName":"khyron42","CreatedById":8551,"CreatedDateTime":"2012-06-27T01:10:50Z","Content":"\n\u003Cp\u003EI think what I\\\u0027ll do is put something into the OP on the Community thread saying that if people need an option for much smaller memory requirements, they can PM you. Knowing which base they intend to land at, you (or I) can use Kessler to delete all the craft that aren\\\u0027t related to that base, and then you can run your tool in combination with the known mod list to produce the pared-down \u0027only the essentials\u0027 combined mod pack.\u003C/p\u003E\u003Cp\u003EWhat you\\\u0027re doing here impresses and amuses me. When I was in college in the early 90\\\u0027s using a computer with only 192 KB of RAM, I wrote my own modem comm program because the existing comm programs needed more memory than I had. That comm program was solely so that I could dial into the university\\\u0027s internet access and play MUDs over the very minimal 1200 bps modem in that computer. Your efforts to play a game you enjoy in spite of your memory limitations reminded me of that time!\u003C/p\u003E\n"}]}