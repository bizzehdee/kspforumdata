{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":140,"Articles":[{"CreatedByName":"1greywind","CreatedById":82369,"CreatedDateTime":"2019-08-15T19:19:41Z","Content":"\n\u003Cp\u003E\nHello.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0I finally started to learn LVD \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E Looks like KSP TOT now rivals feature list of GMAT \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI studied \u0022Eve: The Final Frontier\u0022 tutorial, made few launch scenarios for two stage rockets. But when I started to think, how to use data from LVD in KSP. So I wrote the kOS program, that ingests JSON file with event data from LVD to guide craft flight.\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately results that I observe in KSP do not match the predicted result in LVD. For example:\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/72kki2ztnlcpcvn/lvd_launch_problem.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/72kki2ztnlcpcvn/lvd_launch_problem.zip?dl=0\u003C/a\u003E\u00A0this ZIP contains:\n\u003C/p\u003E\n\u003Cp\u003E\nlaunch - the kOS program\u003Cbr\u003E\n2.craft - craft that I use (single stage rocket)\u003Cbr\u003E\n1.json - single event\u00A0launch scenario (throttle to 100%, pitch 45 dergee, fly for 30 seconds then kill throttle)\u003Cbr\u003E\n30_seconds_flight_at_45_degree_pitch.mat - same scenario for LVD\n\u003C/p\u003E\n\u003Cp\u003E\nIn KSP craft stats after 30 seconds of flight are:\u003Cbr\u003E\nApo: 93 km, airspeed: 1472 m/s, altitude: 12.8 km\n\u003C/p\u003E\n\u003Cp\u003E\nLVD predicts:\u003Cbr\u003E\nApo: 161 km, airspeed: 1466 m/s, altitude 18.98 km\u003Cbr\u003E\u003Cbr\u003E\nLooks like I either messed up something in my .mat file (drag probably?) or something is not right...\n\u003C/p\u003E\n\u003Cp\u003E\nI use KSP 1.7.3 with kOS 1.1.5. and KSP TOT 1.6.3\u003Cbr\u003E\u003Cbr\u003E\nTo launch rocket in KSP you should:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCopy \u0022launch\u0022 and \u00221.json\u0022 to \u0022your_ksp_dir/Ships/Script\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nload 2.craft\n\u003C/li\u003E\n\u003Cli\u003E\nplace it on \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E launch pad\n\u003C/li\u003E\n\u003Cli\u003E\nOpen kOS terminal\n\u003C/li\u003E\n\u003Cli\u003E\nType \u0022switch to 0.\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nType \u0022run launch(\u00221.json\u0022).\u0022\n\u003C/li\u003E\n\u003Cli\u003E\nWatch the rocket fly\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0please help me to\u00A0me to resolve this problem \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-08-15T20:04:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651094\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565896781\u0022 data-ipsquote-userid=\u002282369\u0022 data-ipsquote-username=\u00221greywind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n37 minutes ago, 1greywind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\ndrag probably\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve had a quick look and I\u0027m 99% sure its this. You\u0027re using the default Cd the entire time and flying through the entire lower atmosphere which requires drag calculation updates every 1km to be more accurate. Also not sure if your surface area is accurate but you can determine that with \u003Ca href=\u0022https://github.com/Arrowstar/ksptot/wiki/Getting-Vehicle-Area-for-LVD-Drag-Force-Calculations\u0022 rel=\u0022external nofollow\u0022\u003Ethis wiki article\u003C/a\u003E if you didn\u0027t already. (hey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I\u0027ve just noticed there\u0027s no prominent link to the wiki on the first post).\n\u003C/p\u003E\n\u003Cp\u003E\nDrag updates is a wiki article I haven\u0027t done yet because I\u0027m still trying to determine a best practice for it. I think I have the basics down tho so I\u0027ll work on getting that written up today\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-08-15T20:36:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223645772\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221564959405\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/4/2019 at 6:56 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\natmospheric pressure, atmospheric density, atmospheric temperature, and drag coefficient\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nso the first two seem pretty straightforward.\n\u003C/p\u003E\n\u003Cp\u003E\nIs atmospheric temperature just the outside air temp that I can pull from a thermometer part?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to need some hand-holding in which values to use and how to get the drag coefficient. Tho maybe someone on the kOS reddit can help I will ask there now too\n\u003C/p\u003E\n"},{"CreatedByName":"1greywind","CreatedById":82369,"CreatedDateTime":"2019-08-15T21:53:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651113\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565899456\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve had a quick look and I\u0027m 99% sure its this. You\u0027re using the default Cd the entire time and flying through the entire lower atmosphere which requires drag calculation updates every 1km to be more accurate. Also not sure if your surface area is accurate but you can determine that with \u003Ca href=\u0022https://github.com/Arrowstar/ksptot/wiki/Getting-Vehicle-Area-for-LVD-Drag-Force-Calculations\u0022 rel=\u0022external nofollow\u0022\u003Ethis wiki article\u003C/a\u003E if you didn\u0027t already. (hey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I\u0027ve just noticed there\u0027s no prominent link to the wiki on the first post).\n\u003C/p\u003E\n\u003Cp\u003E\nDrag updates is a wiki article I haven\u0027t done yet because I\u0027m still trying to determine a best practice for it. I think I have the basics down tho so I\u0027ll work on getting that written up today\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you for the link. I\u0027ll try to follow this guide. Unfortunately it doesn\u0027t look like solid solution \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0I think there should be simpler way to determine drag properties in game. Can we get drag force from \u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E and use it to calculate surface area (from the formula like F(drag) = SurfaceArea*DragCoeficent*SomeFunction(airSpeed))?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-08-15T22:02:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651150\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565906015\u0022 data-ipsquote-userid=\u002282369\u0022 data-ipsquote-username=\u00221greywind\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, 1greywind said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0I think there should be simpler way to determine drag properties in game\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLet us know if you find anything. I haven\u0027t seen any other suggestions but yours, and I\u0027m not sure if that works\n\u003C/p\u003E\n"},{"CreatedByName":"CraigCottingham","CreatedById":184298,"CreatedDateTime":"2019-08-15T23:23:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651129\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565901395\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m going to need some hand-holding in which values to use and how to get the drag coefficient. Tho maybe someone on the kOS reddit can help I will ask there now too\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/krpc/krpc\u0022 rel=\u0022external nofollow\u0022\u003EkRPC\u003C/a\u003E\u00A0will return\u00A0\u003Ca href=\u0022https://krpc.github.io/krpc/python/api/space-center/flight.html#SpaceCenter.Flight.drag_coefficient\u0022 rel=\u0022external nofollow\u0022\u003Ethe drag coefficient\u003C/a\u003E\u00A0at the given moment in flight, but according to the documentation it requires Ferram to be installed. I\u0027m going to take that as meaning that KSP doesn\u0027t have the wherewithal to do so on its own.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-08-15T23:31:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651192\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565911431\u0022 data-ipsquote-userid=\u0022184298\u0022 data-ipsquote-username=\u0022CraigCottingham\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, CraigCottingham said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/krpc/krpc\u0022 rel=\u0022external nofollow\u0022\u003EkRPC\u003C/a\u003E\u00A0will return\u00A0\u003Ca href=\u0022https://krpc.github.io/krpc/python/api/space-center/flight.html#SpaceCenter.Flight.drag_coefficient\u0022 rel=\u0022external nofollow\u0022\u003Ethe drag coefficient\u003C/a\u003E\u00A0at the given moment in flight, but according to the documentation it requires Ferram to be installed. I\u0027m going to take that as meaning that KSP doesn\u0027t have the wherewithal to do so on its own.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nlooks like kOS has been able to do drag coefficient even before the new atmo variables were exposed:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedOther\u0022\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedid=\u0022embed1697233421\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026amp;module=system\u0026amp;controller=embed\u0026amp;url=https://www.reddit.com/r/Kos/comments/cqvnlz/drag_coefficient_cd_with_latest_kos/ex050qp/\u0022 style=\u0022height:309px;\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"1greywind","CreatedById":82369,"CreatedDateTime":"2019-08-16T23:30:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223651197\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221565911917\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nlooks like kOS has been able to do drag coefficient even before the new atmo variables were exposed:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI used log_atm.ks to profile my launch vehicle (2.craft) draft coefficient and with some changes (setting initial Cd=3, Cd=2 at 1 km altitude and Cd=1 at 5 km altitude) LVD now gives\u00A0more reasonable match with KSP reality.\n\u003C/p\u003E\n\u003Cp\u003E\nBut\u00A0 when I try to modify scenario to something more complex - for example single stage to orbit with the same craft, the LVD and KSP results show large mismatch. It is very sad, that you need to manually modify Cd in LVD scenario to make result compatible with KSP.\u003Cbr\u003E\nWhat about modelling Apollo or Soyuz reentry in \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E \u002B \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E? When we also need to account for changing lift value? \u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Curveball Anders","CreatedById":107529,"CreatedDateTime":"2019-08-19T11:11:20Z","Content":"\n\u003Cp\u003E\nI know the power of the porkchop plot but I often find myself fiddling with it just to get best arrival date vs \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nPossibly because I don\u0027t plan too much into the future I\u0027m always ending up trying to create a \u0022Mars Express\u0022-ish thingy.\n\u003C/p\u003E\n\u003Cp\u003E\nAs in not really bothering about when to launch and travel time, I just want to get a simple graph showing arrival date vs \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI assume that the data is there, behind the porkchop (or actually has to be) but it\u0027s not always very obvious due inconsistent axis \u003Cspan\u003E\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EWould it be possible to get a plot like that for the lazy and inpatient player?\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"csatlos","CreatedById":4118,"CreatedDateTime":"2019-08-19T16:02:58Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nI seem to be having some issues getting KSP TOT to run. I was away for a while and was running 1.5.7 so I decided to upgrade to 1.6.3. I installed the new MATLAB runtime 2017b but whenever I try to start KSP TOT, i see a spinning cursor for about 1-2 seconds and then it disappears and the application doesn\u0027t load. A look at Windows Task Manager reveals that the process does spawn but then dies shortly thereafter each time I try to launch.\n\u003C/p\u003E\n\u003Cp\u003E\nA log file is created on launch but it\u0027s empty so no clues about any errors. I\u0027ve tried reinstalling the runtime to no avail and have also tried v1.6.4 pre-release 3 with no luck.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not even sure where to start trouble-shooting due to a lack of errors and logs. Anyone have any ideas? Thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Gilph","CreatedById":150861,"CreatedDateTime":"2019-08-26T16:43:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223652948\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566230578\u0022 data-ipsquote-userid=\u00224118\u0022 data-ipsquote-username=\u0022csatlos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 8/19/2019 at 12:02 PM, csatlos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nI seem to be having some issues getting KSP TOT to run. I was away for a while and was running 1.5.7 so I decided to upgrade to 1.6.3. I installed the new MATLAB runtime 2017b but whenever I try to start KSP TOT, i see a spinning cursor for about 1-2 seconds and then it disappears and the application doesn\u0027t load. A look at Windows Task Manager reveals that the process does spawn but then dies shortly thereafter each time I try to launch.\n\u003C/p\u003E\n\u003Cp\u003E\nA log file is created on launch but it\u0027s empty so no clues about any errors. I\u0027ve tried reinstalling the runtime to no avail and have also tried v1.6.4 pre-release 3 with no luck.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not even sure where to start trouble-shooting due to a lack of errors and logs. Anyone have any ideas? Thanks!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI would look at your path environment variable\u00A0for the path to the matlab runtime directory. I had many duplicate lines from other installations and cleaned up a lot, including removing the old matlab runtime entry.\n\u003C/p\u003E\n"},{"CreatedByName":"csatlos","CreatedById":4118,"CreatedDateTime":"2019-08-27T01:21:16Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223660299\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566837833\u0022 data-ipsquote-userid=\u0022150861\u0022 data-ipsquote-username=\u0022Gilph\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Gilph said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI would look at your path environment variable\u00A0for the path to the matlab runtime directory. I had many duplicate lines from other installations and cleaned up a lot, including removing the old matlab runtime entry.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI checked my environment variables (both user and system) and there is only one entry for MATLAB which is the path to the current install.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks anyways for the tip! Not sure what else I can try due to a lack log files.\n\u003C/p\u003E\n"},{"CreatedByName":"Gilph","CreatedById":150861,"CreatedDateTime":"2019-08-27T19:18:33Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223660713\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566868876\u0022 data-ipsquote-userid=\u00224118\u0022 data-ipsquote-username=\u0022csatlos\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n17 hours ago, csatlos said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI checked my environment variables (both user and system) and there is only one entry for MATLAB which is the path to the current install.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks anyways for the tip! Not sure what else I can try due to a lack log files.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi...have you checked the event logs? Windows treats the .exe for TOT differently from a security perspective because it doesn\u0027t have a publisher. If Windows\u00A0were not running it because of security issues, there may be some messages in the Security event logs.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"csatlos","CreatedById":4118,"CreatedDateTime":"2019-08-28T02:04:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223661287\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221566933513\u0022 data-ipsquote-userid=\u0022150861\u0022 data-ipsquote-username=\u0022Gilph\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Gilph said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi...have you checked the event logs? Windows treats the .exe for TOT differently from a security perspective because it doesn\u0027t have a publisher. If Windows\u00A0were not running it because of security issues, there may be some messages in the Security event logs.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the idea but unfortunately nothing in the event log. It did give me an idea to double-check Norton Security logs but no dice there either.\n\u003C/p\u003E\n\u003Cp\u003E\nI also tried uninstalling MATLAB to see if I would get the error about the runtime being missing and sure enough I did. Then when I reinstalled MATLAB, I\u0027m back to no errors and no log entries.\n\u003C/p\u003E\n\u003Cp\u003E\nThe only other option I can think of is to run it inside a Windows VM to see if perhaps it\u0027s something with my configuration.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-08-28T23:35:03Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I have another \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E detection issue. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Alaba_9-25-19.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file\u003C/a\u003E. The game detected the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition but MA did not. I did a distance check of the trajectory after loading it in from the game and sure enough (blue line is Mun\u0027s \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E boundary distance from the Celestial Body Catalog):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022NgtLtPX.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.04\u0022 height=\u0022506\u0022 width=\u0022562\u0022 src=\u0022https://i.imgur.com/NgtLtPX.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s output with a default 1000 log entries per coast. It is a very brief encounter lasting 15 minutes. However despite my best attempts I could not get MA to find it. You\u0027ll see in the MAT file I have everything maxed out in the search attempt - Stricter \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E Search is enabled, \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E Search Tolerance is at 1.000000E-14 (02 doesn\u0027t work either on the other end - to be honest not sure which was the proper extreme value I should be using but 14 took longer to process so I\u0027m guessing that\u0027s looking closest) and the Number of \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E Transition Search Attempts is at 100. Increasing the log events to 100,000 also didn\u0027t make a difference, nor did attempting to coast to TA over 2 revs (which was used to make the plot above) or using the Next \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E coast event. This could maybe be an issue with the duration of the encounter rather than the distance?\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-01T04:55:46Z","Content":"\n\u003Cp\u003E\nGOSHDARNIT NEVERMIND \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nI caught the Kerbin atmosphere bug in action!\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003Cli\u003E\nCreate a new file\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is still flat\n\u003C/li\u003E\n\u003Cli\u003E\nLoad a MAT I know has good atmosphere\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nCreate a new file\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is still proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat again\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nNothing showed up in the log. I restarted KSPTOT and re-opened MA\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nStill got it. Okay - next I tried using the vessel selector menu of data imported from KSP - I had two asteroids to select from. I tested both individually and both times I imported them the atmosphere of Kerbin went *poof* - actually so does the Sun\u0027s atmosphere\n\u003C/p\u003E\n\u003Cp\u003E\nAlright I\u0027ve determined this has actually been an issue with MA for a while now, I just only discovered it when using LVD because that\u0027s the only thing I need an atmosphere for at the moment. So what\u0027s likely happened is that I would import data in MA, then start up LVD afterwards and that would load in the current celestial catalog based on MA, which would have no atmosphere Kerbin. That\u0027s why sometimes I would see it in LVD and sometimes not.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I have some captured asteroids around Kerbin and every time they have an encounter with Mun I save their new orbital data. So I have a bunch of MAT files going back months and I\u0027ve looked through them to find the most recent one that still had atmospheric data. The creation data for that file is 1/17/19. The next file that doesn\u0027t have atmospheres was created on 3/28/19. So that means anything from KSPTOT v1.6.2 pre-release 5 (1/21) to 3rd pre-release of KSPTOT v1.6.3 (3/24) could be where the bug began.\n\u003C/p\u003E\n\u003Cp\u003E\nThat should be enough info to find it without me having to figure out which build caused the problem. Again - root cause is data import from KSP. Heck, that alone might be enough.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nAbove is all the effort I originally put into to figuring out the disappearing atmosphere bug when I managed to accidentally recreate it trying to model an aerobrake scenario. Well, when I manually input the data to the Initial State because I thought importing it was the problem, I still saw the atmo vanish! So yea, here are the new repro steps for the bug:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen MA\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNot kidding, it\u0027s that simple and yea it\u0027s been an issue since beginning of the year\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-01T05:04:45Z\u0022 title=\u002209/01/2019 05:04  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 1, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003Cbr\u003Eaaauuuugghhhhhhhhhhh\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-01T06:09:32Z","Content":"\n\u003Cp\u003E\nokay so I rolled back to an earlier release I knew worked so I could import the vessel data and still have an atmosphere. So I\u0027m trying to work out the aerobrake and I\u0027m seeing some weird results. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/VNQ-400(D)%20-%20SOI%20Entry.zip\u0022 rel=\u0022external nofollow\u0022\u003EHere is the MAT file\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nFirst, if you open the file and just add a default aerobrake pass as the next event, the trajectory doesn\u0027t propagate properly.\n\u003C/p\u003E\n\u003Cp\u003E\nTo get around that I did\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nAdd coast to \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E coast to UT coast and roll back an hour\n\u003C/li\u003E\n\u003Cli\u003E\nAdd Aerobrake event, use \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, default a*Cd\n\u003C/li\u003E\n\u003Cli\u003E\nAdd coast to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E, note object has been captured\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nNow re-open the file\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nAdd coast to \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nChange \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E coast to UT coast and roll back an hour\n\u003C/li\u003E\n\u003Cli\u003E\nAdd coast to Function Value of 150km with 10000s search\n\u003C/li\u003E\n\u003Cli\u003E\nAdvance script to last event\n\u003C/li\u003E\n\u003Cli\u003E\nAdd Aerobrake event, use \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, default a*Cd\n\u003C/li\u003E\n\u003Cli\u003E\nAdd coast to \u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E, note object has not been captured\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nOh snap, I literally just figured it out as I was typing this. It\u0027s because I did the Advance Script, which modifies the Initial State. I checked the Celestial Body Catalog and yea, Kerbin\u0027s atmosphere is gone again \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E So this is related to my previous issue and it\u0027s not just from modifying the Initial State through the dialog box but also by advancing the script itself!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOkay I think I\u0027m done playing around for tonight haha\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-01T19:05:55Z","Content":"\n\u003Cp\u003E\nnew day, new mysteries \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/YOUrBkQ.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022YOUrBkQ.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002258.20\u0022 height=\u0022595\u0022 style=\u0022width:1024px;height:596px;\u0022 width=\u00221024\u0022 src=\u0022https://i.imgur.com/YOUrBkQ.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis was a nice Cd match up to my actual flight profile - except for the green circled part. I can\u0027t figure out where that bump in the LVD plot is coming from. It starts with my initial drag value and then at ~200m in altitude jumps to the circled higher value and lasts until 1km, where my first non-sequential drag update event occurs. None of the first four sequential events, which are the only ones to happen before 5km, have a drag update event. If you plot out the Cd in the GA you\u0027ll see the bump so it\u0027s not an error in my Excel plotting. I went back to an earlier ascent file that is built similarly to this one and found no such Cd bump. I\u0027ve included both files in \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk1%20Cd.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis zip\u003C/a\u003E. Ascent #8 is the one that has the Cd bump, Ascent #6 does not. I guess something got corrupted somewhere somehow?\n\u003C/p\u003E\n\u003Cp\u003E\nActually, I think I built Ascent #8 completely from the ground up in the latest LVD, but I can\u0027t remember for sure. I\u0027m going to rebuild my next ascent this week and see if the behavior persists\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-02T01:18:32Z\u0022 title=\u002209/02/2019 01:18  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 2, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003Cbr\u003EActually, I think...\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-01T23:49:26Z","Content":"\n\u003Cp\u003E\nso I\u0027m analyzing my latest mission and looks like things have gotten much better for modeling the flight in the lower atmosphere. I have a concern about the upper atmosphere though based on this plot:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/ulADuuB.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg class=\u0022ipsImage\u0022 data-ratio=\u002270.63\u0022 height=\u0022723\u0022 style=\u0022width:1024px;height:723px;\u0022 width=\u00221024\u0022 alt=\u0022ulADuuB.png\u0022 src=\u0022https://i.imgur.com/ulADuuB.png\u0022\u003E\u003C/a\u003E\u003Cbr\u003E\nSo before when I posted about the atmosphere density it was just VOID and LVD comparisons. Now I have a third source of data from \u003Ca href=\u0022https://github.com/nuggreat/kOS-scripts/blob/master/logging_atm.ks\u0022 rel=\u0022external nofollow\u0022\u003EkOS code\u003C/a\u003E that matches up more closely to the VOID data and shows the LVD curve to definitely be off. I\u0027m also wondering about why it gets so chunky even as early as ~7km (you can see it sticking out just above 600g/m^3) whereas the VOID and kOS curves remain smooth. I tried outputting LVD GA data with a 0.1 integrator step and still saw the curve take sharp corners even when I made the rocket fly slower up through the atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m wondering if the discrepancy is at all significant or just LVD cutting some reasonable corners for better speed in calculations\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-09-02T02:58:01Z","Content":"\n\u003Cp\u003E\nSorry I\u0027ve been out of touch recently, all, I\u0027ve needed a bit of a creative break.\u00A0 I have been keeping up with the discussion here though. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223664670\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567313746\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGOSHDARNIT NEVERMIND \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Ca href=\u0022#\u0022 rel=\u0022\u0022\u003E\u00A0\u003C/a\u003E \u003Cspan\u003EReveal hidden contents\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nI caught the Kerbin atmosphere bug in action!\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003Cli\u003E\nCreate a new file\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is still flat\n\u003C/li\u003E\n\u003Cli\u003E\nLoad a MAT I know has good atmosphere\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nCreate a new file\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is still proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat again\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nNothing showed up in the log. I restarted KSPTOT and re-opened MA\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSelect orbit data from the Active Vessel\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nStill got it. Okay - next I tried using the vessel selector menu of data imported from KSP - I had two asteroids to select from. I tested both individually and both times I imported them the atmosphere of Kerbin went *poof* - actually so does the Sun\u0027s atmosphere\n\u003C/p\u003E\n\u003Cp\u003E\nAlright I\u0027ve determined this has actually been an issue with MA for a while now, I just only discovered it when using LVD because that\u0027s the only thing I need an atmosphere for at the moment. So what\u0027s likely happened is that I would import data in MA, then start up LVD afterwards and that would load in the current celestial catalog based on MA, which would have no atmosphere Kerbin. That\u0027s why sometimes I would see it in LVD and sometimes not.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, I have some captured asteroids around Kerbin and every time they have an encounter with Mun I save their new orbital data. So I have a bunch of MAT files going back months and I\u0027ve looked through them to find the most recent one that still had atmospheric data. The creation data for that file is 1/17/19. The next file that doesn\u0027t have atmospheres was created on 3/28/19. So that means anything from KSPTOT v1.6.2 pre-release 5 (1/21) to 3rd pre-release of KSPTOT v1.6.3 (3/24) could be where the bug began.\n\u003C/p\u003E\n\u003Cp\u003E\nThat should be enough info to find it without me having to figure out which build caused the problem. Again - root cause is data import from KSP. Heck, that alone might be enough.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nAbove is all the effort I originally put into to figuring out the disappearing atmosphere bug when I managed to accidentally recreate it trying to model an aerobrake scenario. Well, when I manually input the data to the Initial State because I thought importing it was the problem, I still saw the atmo vanish! So yea, here are the new repro steps for the bug:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nOpen MA\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is proper\n\u003C/li\u003E\n\u003Cli\u003E\nOpen Initial State\n\u003C/li\u003E\n\u003Cli\u003E\nSave \u0026amp; close\n\u003C/li\u003E\n\u003Cli\u003E\nCheck Celestial Body Catalog and see Kerbin atmosphere curve is flat\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nNot kidding, it\u0027s that simple and yea it\u0027s been an issue since beginning of the year\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for investigating all this!\u00A0 I tracked it down very easily tonight with your help.\u00A0 I think this build should resolve the issue, if you could give it a go?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1Ygm5Bd70JG7BGrrgc56J2pm44UhJnWTd/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.4 Pre-release 5\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-02T04:38:15Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223665291\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221567393081\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry I\u0027ve been out of touch recently, all, I\u0027ve needed a bit of a creative break.\u00A0 I have been keeping up with the discussion here though. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCool, cool - pretty much what I figured. I\u0027ll keep up my thoughts, just answer whatever whenever \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nJust gave PR5 a go, and yea looking good so far! I used it on my aerobrake file and the atmosphere was still there after I opened \u0026amp; closed the Initial State and also after I advanced the script.\n\u003C/p\u003E\n\u003Cp\u003E\nI have a behavior in LVD I\u0027m not sure is working as intended or not. My engine flames out at 66km via an event that runs until the tank is empty. I then have a following sequential event to coast to space, so target altitude 70km with increasing value selected. I then have a sequential event to coast through space to the atmosphere, so again target altitude 70km but this time set to decreasing value. I understand the current altitude is 70km but the value should be increasing so that event should propagate through apokee and back down to 70km, but it doesn\u0027t and stays at 70km heading up\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, when you put an Aerobrake event in, isn\u0027t it supposed to propagate through the entire atmosphere? Because I have the vessel at 150km and put an Aerobrake as the next event and it only takes the trajectory down to perikee\n\u003C/p\u003E\n\u003Cp\u003E\nAlso I rebuilt my next ascent and I\u0027m not seeing the Cd bump anymore. So yea, no better idea where that came from\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-09-02T04:45:46Z\u0022 title=\u002209/02/2019 04:45  AM\u0022 data-short=\u00224 yr\u0022\u003ESeptember 2, 2019\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-14T07:45:17Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EI looked back a few pages but couldn\u0027t find where you said you changed the way you were modeling things to produce the double-hump in the dynamic pressure plot. It still appears for me in \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Progeny%20Mk7-A%20%232%20Ascent.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis design file\u003C/a\u003E.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-09-18T02:31:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223671918\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568447117\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/14/2019 at 2:45 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003EI looked back a few pages but couldn\u0027t find where you said you changed the way you were modeling things to produce the double-hump in the dynamic pressure plot. It still appears for me in \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Progeny%20Mk7-A%20%232%20Ascent.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis design file\u003C/a\u003E.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis had to do with the interpolation scheme used to get pressure and temperature values.\u00A0 The old scheme has the double humps and the new scheme does not.\u00A0 However, the interpolation scheme is stored within the MAT file, so for old files, you\u0027ll still see the issue even if I fixed it going forward.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI can try to fix up your MAT file if you\u0027d like me to.\u00A0 It\u0027ll be a matter of replacing the old scheme with the new.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2019-09-18T11:22:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223673768\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568773883\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI can try to fix up your MAT file if you\u0027d like me to.\u00A0 It\u0027ll be a matter of replacing the old scheme with the new.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyes please, it will help when I do the flight analysis without having to redo the whole case file. No rush tho, that analysis won\u0027t be done until early Oct\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2019-09-19T23:03:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223673872\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221568805725\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/18/2019 at 6:22 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nyes please, it will help when I do the flight analysis without having to redo the whole case file. No rush tho, that analysis won\u0027t be done until early Oct\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1YiFjbnTnGLbBw159R1acfP_-gIdtbGVT/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EHere you go.\u003C/a\u003E\u00A0\u00A0 I only fixed the interpolation for Kerbin but I figure that should get you off the ground (literally). \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"}]}