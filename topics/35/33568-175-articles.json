{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":175,"Articles":[{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-12T00:09:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223921559\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221612675871\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/6/2021 at 11:31 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nhey \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E have a look at \u003Ca href=\u0022http://www.kerbalspace.agency/misc/_Ascent%20Setup%20-%20Base%20Mk3%20Block%20I%20K2-X.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis LVD case file\u003C/a\u003E - if you delete the Kerbin III stage and close the vehicle config window the script will propagate to the max 15s. It seems to actually be the SUL-V1 x2 tank. If you delete the SUL-V1 x2 -\u0026gt; LV 303 connection and close the config window, it\u0027s okay. If you then delete the Restart x6 tank and close, it\u0027s okay. If you remove the LV 303 engine and close, it\u0027s okay. As soon as you delete the SUL-V1 x2 tank however the script runs off the deep end\n\u003C/p\u003E\n\u003Cp\u003E\nRats, instead of deleting the problem tank after removing the engine and other tank I tried to set the mass to 0 and the script ran amok still. Even 0.0001 didn\u0027t work\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI think I\u0027ve got this one figured out.\u00A0 It was an issue where the minimum thrust to weight achievable (at zero throttle) was actually greater than your target T2W ratio, causing the system to basically not know what to do.\u00A0 I\u0027ve added a check for this case, which is in addition to the existing check for a maximum T2W being less than the target T2W.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-02-12T00:36:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924815\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613088597\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n24 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think I\u0027ve got this one figured out.\u00A0 It was an issue where the minimum thrust to weight achievable (at zero throttle) was actually greater than your target T2W ratio, causing the system to basically not know what to do.\u00A0 I\u0027ve added a check for this case, which is in addition to the existing check for a maximum T2W being less than the target T2W.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\noooohhh daamn I was thinking soo hard on how it could possibly be affecting my script when I made sure no events had anything to do with that stage but I did not think about the mass change affecting \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E. Durr. Nice catch\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-12T01:09:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223922685\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221612849297\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/8/2021 at 11:41 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwoooah \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E I\u0027m seeing some more serious hinkyness here when messing with the Initial UT, moreso than just its effect on the Jacobian. \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk3.zip\u0022 rel=\u0022external nofollow\u0022\u003EFiles download\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nStart with Ascension Mk3 #1 Ascent.mat, which is mostly the same file I linked to in the last post but I reset the Initial UT to 0 and changed my constraints to have it find me a 250km apokee. I also labeled the last event more appropriately since no pitch change happens just the end of the burn so the engine should be shut off, SECO-1.\n\u003C/p\u003E\n\u003Cp\u003E\nOkay if I optimize from this point, after about 30 iterations or so over 45-60min it gets me the result I want, which you can see in Ascension Mk3 #1 Ascent 250km.mat\n\u003C/p\u003E\n\u003Cp\u003E\nNow go and set the Initial UT to the day I want to launch:\u00A0 139494660.0 - you should see the trajectory completely change. I was confused by this but since all I changed was the time I figured the optimizer could get me a launch time during this day that would work again.\n\u003C/p\u003E\n\u003Cp\u003E\nSo I disabled all the event optimizations and set a hi-lo for Initial UT and let the optimizer run. You can see the results of this in Ascension Mk3 #1 Ascent 250km Time Constraint.mat\n\u003C/p\u003E\n\u003Cp\u003E\nRight, here\u0027s where it gets weird. Looking at the final state you can see I\u0027m back to nailing 250km. Now change the Initial UT to 139494659.\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003E7\u003C/strong\u003E\u003C/span\u003E66019. The trajectory will change to reflect a final state \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E of only 108.5111km. Now change the Initial UT to 139494659.\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003E4\u003C/strong\u003E\u003C/span\u003E66019 and you should see the trajectory jump again back almost to normal at 249.9998km. Now change the Initial UT again to 13949465\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003E8\u003C/strong\u003E\u003C/span\u003E.466019. New trajectory will be back on the money at 250km. Okay one more UT change to 1394946\u003Cspan style=\u0022color:#e74c3c;\u0022\u003E\u003Cstrong\u003E4\u003C/strong\u003E\u003C/span\u003E8.466019\u00A0 - now it\u0027s telling me I\u0027m going up to 810.1884km!! \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nBTW the timing is important for this mission cause I want to launch and put my \u003Cabbr title=\u0022Apoapsis\u0022\u003E\u003Cabbr title=\u0022Apoapsis\u0022\u003EAp\u003C/abbr\u003E\u003C/abbr\u003E direct opposite the sun so I can go high on initial climb without hitting the inner radiation belt, which is further away on the night side. This also makes me ask if the Sun Vector view option can draw the arrow through the planet and maybe have a length adjustment? Right now I\u0027m just taking a screenshot and using Paint.NET to continue the vector through to the night side\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe issue here is that, for whatever reason, your integration is numerically unstable.\u00A0 If you check your output log, you\u0027ll see a bunch of warnings about the integrator not being able to hit the desired integration tolerances at the minimum step size.\u00A0 This is causing the integration to terminate early and thus you see what appears to be a different vehicle behavior.\u00A0 Try switching events 5, 7, and 8 to the ODE5 integrator and pick a step size (1 second is probably okay, but you can lower it to get a bit more accuracy).\u00A0 After I did this, I saw about 250 km of altitude at the final state consistently.\u00A0 (It was 245 km, but close enough.)\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223922694\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221612851605\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/9/2021 at 12:20 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust to confirm I\u0027m not missing anything, I can\u0027t find a way to lock these together so that when I move one the other shows the same data point. This is not a thing Matlab can do?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/83Xv2Hi.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u002283Xv2Hi.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002290.04\u0022 height=\u0022506\u0022 width=\u0022562\u0022 src=\u0022https://i.imgur.com/83Xv2Hi.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s think it\u0027s possible if you\u0027re using the full version of MATLAB, but I guess it\u0027s not a feature for axes in deployed applications.\u00A0 There\u0027s a lot of options and features I have over here that don\u0027t show up in your figure window.\u00A0 I guess that\u0027s a limitation of deployed stuff.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223922697\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221612852259\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/9/2021 at 12:30 AM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nminor bug - flight path angle is described in the GA output as km/s instead of degrees\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTypo!\u00A0 Resolved for next release.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223923147\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221612903775\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/9/2021 at 2:49 PM, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nwas there a behavior change with Non-Sequential Events coloring trajectory lines or am I not remembering correctly? I made this last year:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/Uui1aY9.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022Uui1aY9.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002293.29\u0022 height=\u0022973\u0022 width=\u00221043\u0022 src=\u0022https://i.imgur.com/Uui1aY9.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnd when I went to do one for my current ascent, if I changed the line color for a non-sequential event I don\u0027t see a color change on the plot anymore. I thought the non-sequential event triggered a plot color/line type change when it occurred, and this change persisted until the next sequential or non-sequential event happened.\n\u003C/p\u003E\n\u003Cp\u003E\nOf course I could be remembering wrong and the above colored plot could just be a rough approximation using only sequential event color changes rather than a combo of both\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only impact non-sequential events have (and have ever had) is the ability to fire off actions in the middle of a sequential event.\u00A0 They\u0027ve never been able to change event colors, integrators, stuff like that.\u00A0 I should really disable all that stuff for non-sequential events, to be honest...\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-02-12T02:31:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924852\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613092145\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you check your output log\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAha! But frankly what would make me do that? I\u0027ve only ever treated it as an error log so when the application goes *ding* that\u0027s the first place I look but there were no indications of a problem with script execution. In fact when I read this my first thought was that it showed up in the output log in LVD itself and that I could have easily not thought to check it since it updates at the bottom usually out of sight, but it wasn\u0027t there either so I finally opened the .log file. This seems like a thing that should pop up in the Warnings \u0026amp; Alerts area no?\n\u003C/p\u003E\n\u003Cp\u003E\nAlso in relation to the output log in LVD/MA - is it possible to lock its position? As in, there\u0027s a behavior for some applications where the scroll position remains constant even if stuff is appended to the bottom, but if the scroll bar is all the way to the bottom it scrolls with any addition updates\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924852\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613092145\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTry switching events 5, 7, and 8 to the ODE5 integrator\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan I get a bit more insight into your decision to switch to ODE5 and for those particular events? I recall you have the ability to see where things get hung up but I\u0027m still wondering if there\u0027s a way I can come to this conclusion myself\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924852\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613092145\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe only impact non-sequential events have (and have ever had) is the ability to fire off actions in the middle of a sequential event.\u00A0 They\u0027ve never been able to change event colors, integrators, stuff like that.\u00A0 I should really disable all that stuff for non-sequential events, to be honest...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYea, if you can\u0027t use them I would agree they be removed or disabled. But also if they *can* modify trajectory properties like I described that would be cool too \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E So okay then I guess I just re-worked the ascent to use all sequential events to build my colored plot\u003C/span\u003E. That\u0027s not really a big deal to have to do either if I must, cause like I already did heh heh\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedOther\u0022\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedid=\u0022embed716226499\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026amp;module=system\u0026amp;controller=embed\u0026amp;url=https://twitter.com/KSA_MissionCtrl/status/1359853945993256961\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-12T02:32:35Z\u0022 title=\u002202/12/2021 02:32  AM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 12, 2021\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-12T03:00:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924887\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613097088\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAha! But frankly what would make me do that? I\u0027ve only ever treated it as an error log so when the application goes *ding* that\u0027s the first place I look but there were no indications of a problem with script execution. In fact when I read this my first thought was that it showed up in the output log in LVD itself and that I could have easily not thought to check it since it updates at the bottom usually out of sight, but it wasn\u0027t there either so I finally opened the .log file. This seems like a thing that should pop up in the Warnings \u0026amp; Alerts area no?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou\u0027re probably right, actually.\u00A0 It\u0027ll take a bit of thought to figure out how to do that, because most of the errors and warnings are discovered after propagation has occurred, whereas this is something that happens more at \u0022runtime\u0022 as it were.\u00A0 But yes, you\u0027re right, there should be a warning for it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso in relation to the output log in LVD/MA - is it possible to lock its position? As in, there\u0027s a behavior for some applications where the scroll position remains constant even if stuff is appended to the bottom, but if the scroll bar is all the way to the bottom it scrolls with any addition updates\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not actually sure if it\u0027s possible to set the scroll position of the textbox directly.\u00A0 I\u0027ll have to look into that.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan I get a bit more insight into your decision to switch to ODE5 and for those particular events? I recall you have the ability to see where things get hung up but I\u0027m still wondering if there\u0027s a way I can come to this conclusion myself\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSure.\u00A0 When you run into numerical stability issues, switching to a fixed step size integrator like ODE5 can go a long way towards fixing the problem.\u00A0 This is because adaptive step size integrators\u00A0 can get bogged down when the equations of motion get highly nonlinear, as they do with drag and the like.\u00A0 It\u0027s the part where they try to keep error small that does that.\u00A0 So one solution is to step away from adaptive step size integrators like ODE45 and ODE113 entirely.\u00A0 ODE5 always takes the same step size that you set, regardless of what the underlying error would be (it doesn\u0027t even compute it).\u00A0 This avoids the problem entirely and keeps things humming along.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnother thing you can do is to just loosen up the absolute and (especially) relative error tolerances in ODE45 to something bigger than what is default.\u00A0 1E-5 or 1E-6 is probably not a bad place to start.\u00A0 Bigger tolerances means that step sizes can go bigger and may allow the integrator to get through the tricky bit easier.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYea, if you can\u0027t use them I would agree they be removed or disabled. But also if they *can* modify trajectory properties like I described that would be cool too \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E So okay then I guess I just re-worked the ascent to use all sequential events to build my colored plot\u003C/span\u003E. That\u0027s not really a big deal to have to do either if I must, cause like I already did heh heh\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSince I\u0027m using the same UI for non-sequential events, they probably can\u0027t be removed, but I can certainly just grey them out so that there\u0027s no more confusion.\u00A0 I\u0027ll add it to my TO DO list. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-12T14:41:15Z","Content":"\n\u003Cp\u003E\nI\u0027ve picked up KSPTOT (and KSP) again after a while away, and there\u0027s a mission plan I\u0027m trying to do but I can\u0027t work out how to express it in MA. Any suggestions on how to do this?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to get MA to plan a Kerbin \u0026gt; Mun powered flybuy \u0026gt; Jool flight. The high-level tools (porkchop \u0026amp;c) give me a general Kerbin \u0026gt; Jool, my current problem is getting the optimiser to then find a good Kerbin departure time - this depends on a shorter timescale on the craft\u0027s position around Kerbin to get to the Mun, and on a longer timescale\u00A0on the Mun\u0027s position around Kerbin to usefully help me get to Jool. I\u0027m setting initial Kerbin departure time to the value out of Compute Departure\u00A0with optimiser boundaries half a month in either direction, to try and find the best time in the Mun\u0027s orbit to do the flyby, then initially minimising distance to Jool at Sun apoapsis after a couple of next-\u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003Esoi\u003C/abbr\u003E\u003C/abbr\u003E coasts. But presumably the objective function has *many* local minima (finding the right point in the craft\u0027s Kerbin orbit to depart to the Mun and on to Jool throughout the month), but finding the *best* of these minima (where the Mun is optimally placed in its own orbit for this plan) isn\u0027t something I\u0027ve figured out how to do. Is it even possible to get MA to deal with this?\n\u003C/p\u003E\n\u003Cp\u003E\nIn my experimentation so far, I either get garbage plans, or occasionally the MA optimiser spends literal hours at 100% CPU without completing even a single optimisation step - I sorta assume it\u0027s just jumping between local minima and getting super confused that the objective function makes no sense at all.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-12T14:53:23Z\u0022 title=\u002202/12/2021 02:53  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 12, 2021\u003C/time\u003E by russm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-12T15:09:26Z","Content":"\n\u003Cp\u003E\npresumably the right way to do this is to fix Kerbin departure on the vehicle\u0027s phase angle wrt the Mun and then have the optimised variable be the Mun\u0027s position in its orbit, but obviously that\u0027s not possible to express in MA...\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-12T15:12:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223925099\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613140875\u0022 data-ipsquote-userid=\u0022160816\u0022 data-ipsquote-username=\u0022russm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, russm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve picked up KSPTOT (and KSP) again after a while away, and there\u0027s a mission plan I\u0027m trying to do but I can\u0027t work out how to express it in MA. Any suggestions on how to do this?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to get MA to plan a Kerbin \u0026gt; Mun powered flybuy \u0026gt; Jool flight. The high-level tools (porkchop \u0026amp;c) give me a general Kerbin \u0026gt; Jool, my current problem is getting the optimiser to then find a good Kerbin departure time - this depends on a shorter timescale on the craft\u0027s position around Kerbin to get to the Mun, and on a longer timescale\u00A0on the Mun\u0027s position around Kerbin to usefully help me get to Jool. I\u0027m setting initial Kerbin departure time to the value out of Compute Departure\u00A0with optimiser boundaries half a month in either direction, to try and find the best time in the Mun\u0027s orbit to do the flyby, then initially minimising distance to Jool at Sun apoapsis after a couple of next-\u003Cabbr title=\u0022Sphere of Influence\u0022\u003E\u003Cabbr title=\u0022Sphere of Influence\u0022\u003Esoi\u003C/abbr\u003E\u003C/abbr\u003E coasts. But presumably the objective function has *many* local minima (finding the right point in the craft\u0027s Kerbin orbit to depart to the Mun and on to Jool throughout the month), but finding the *best* of these minima (where the Mun is optimally placed in its own orbit for this plan) isn\u0027t something I\u0027ve figured out how to do. Is it even possible to get MA to deal with this?\n\u003C/p\u003E\n\u003Cp\u003E\nIn my experimentation so far, I either get garbage plans, or occasionally the MA optimiser spends literal hours at 100% CPU without completing even a single optimisation step - I sorta assume it\u0027s just jumping between local minima and getting super confused that the objective function makes no sense at all.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe solution is to do this in LVD and not MA. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI have done something very similar actually and it\u0027s already available as an example.\u00A0 Check out the LVD example \u0022\u003C/span\u003ElvdExample_BackPropagationExToDunaViaMun.mat\u0022 that ships with the KSPTOT download package.\u00A0 It shows you how to set something like this up using patch points and continuity constraints.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any questions.\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223924887\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613097088\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAha! But frankly what would make me do that? I\u0027ve only ever treated it as an error log so when the application goes *ding* that\u0027s the first place I look but there were no indications of a problem with script execution. In fact when I read this my first thought was that it showed up in the output log in LVD itself and that I could have easily not thought to check it since it updates at the bottom usually out of sight, but it wasn\u0027t there either so I finally opened the .log file. This seems like a thing that should pop up in the Warnings \u0026amp; Alerts area no?\n\u003C/p\u003E\n\u003Cp\u003E\nYea, if you can\u0027t use them I would agree they be removed or disabled. But also if they *can* modify trajectory properties like I described that would be cool too \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E So okay then I guess I just re-worked the ascent to use all sequential events to build my colored plot\u003C/span\u003E. That\u0027s not really a big deal to have to do either if I must, cause like I already did heh heh\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nBoth of these have been added for next release.\u00A0 In particular, when integration gets unstable, you\u0027ll now see a red error message in that area of the UI that suggests what to do.\n\u003C/p\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-12T15:39:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223925124\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613142728\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n23 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe solution is to do this in LVD and not MA. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI have done something very similar actually and it\u0027s already available as an example.\u00A0 Check out the LVD example \u0022\u003C/span\u003ElvdExample_BackPropagationExToDunaViaMun.mat\u0022 that ships with the KSPTOT download package.\u00A0 It shows you how to set something like this up using patch points and continuity constraints.\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any questions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, sweet! Last time I used KSPTOT, LVD was only just starting to get features beyond launch. Guess it\u0027s time to learn a new tool \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIs MA effectively deprecated these days?\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-12T15:53:08Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223925145\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613144398\u0022 data-ipsquote-userid=\u0022160816\u0022 data-ipsquote-username=\u0022russm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, russm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EIs MA effectively deprecated these days?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not deprecated, but it\u0027s also not under active development anymore.\u00A0 I still release bug fixes and the like for MA from time to time as needed, but LVD has quickly become much easier to maintain and expand.\u00A0 MA still has a place when you need very quick, analytic two-body propagation and impulsive delta-v in a simple trajectory, but LVD is generally what I\u0027ve been recommending to people now.\n\u003C/p\u003E\n"},{"CreatedByName":"GigaG","CreatedById":8013,"CreatedDateTime":"2021-02-16T02:15:07Z","Content":"\n\u003Cp\u003E\nIs it possible to run this using a MATLAB install? I have MATLAB and would rather not spend the disk space on a \u0022redundant\u0022 runtime.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-16T02:44:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223926996\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613441707\u0022 data-ipsquote-userid=\u00228013\u0022 data-ipsquote-username=\u0022GigaG\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, GigaG said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs it possible to run this using a MATLAB install? I have MATLAB and would rather not spend the disk space on a \u0022redundant\u0022 runtime.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIf you have MATLAB R2017b, the executable should just work.\u00A0 If you have a version equal to or greater (newer) than R2017b, you can pull the source code off \u003Ca href=\u0022https://github.com/Arrowstar/ksptot/\u0022 rel=\u0022external nofollow\u0022\u003Egithub \u003C/a\u003Eand run it directly (projectMain.m).\n\u003C/p\u003E\n"},{"CreatedByName":"Razgriz1","CreatedById":88541,"CreatedDateTime":"2021-02-18T05:21:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223927002\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613443479\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/15/2021 at 8:44 PM, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you have MATLAB R2017b, the executable should just work.\u00A0 If you have a version equal to or greater (newer) than R2017b, you can pull the source code off \u003Ca href=\u0022https://github.com/Arrowstar/ksptot/\u0022 rel=\u0022external nofollow\u0022\u003Egithub \u003C/a\u003Eand run it directly (projectMain.m).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nJust a heads up,\u00A0 I believe there are some issues running the source code on newer versions of MATLAB. Mathworks are not particularly good at maintaining backwards compatibility. I tried running it on one of the 2019 versions (iirc) a while ago and ran into errors that I didn\u0027t feel like taking the time to debug. Pretty sure that was about when they switched to the new App designer, and that messed up the default arguments of some of the functions dealing with creating UIs.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-18T22:38:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223928096\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613625679\u0022 data-ipsquote-userid=\u002288541\u0022 data-ipsquote-username=\u0022Razgriz1\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Razgriz1 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust a heads up,\u00A0 I believe there are some issues running the source code on newer versions of MATLAB. Mathworks are not particularly good at maintaining backwards compatibility. I tried running it on one of the 2019 versions (iirc) a while ago and ran into errors that I didn\u0027t feel like taking the time to debug. Pretty sure that was about when they switched to the new App designer, and that messed up the default arguments of some of the functions dealing with creating UIs.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve tested KSPTOT on just about every version of MATLAB since R2019b and I\u0027ve never had an issue with backwards compatibility thus far.\u00A0 I\u0027m not saying it can\u0027t happen, but I haven\u0027t seen it.\u00A0 In general, KSPTOT should work fine on newer versions of MATLAB.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-02-20T02:23:13Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E just realized I heard back from you on all my recent postings except this one with the odd dynamic pressure plot:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u00222521\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed3379012029\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/33568-winmaclinux-ksp-trajectory-optimization-tool-v167-lvd-kos-integration/\u0026amp;do=embed\u0026amp;comment=3922093\u0026amp;embedComment=3922093\u0026amp;embedDo=findComment\u0022 style=\u0022height:264px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-20T07:46:01Z","Content":"\n\u003Cp\u003E\nHey\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E, some LVD-n00b questions/suggestions/feature requests:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nIs it possible to import/export LVD cases to anything other than .mat, or to versions of .mat that other things can read or write? a JSON dump? Octave? (Octave errors out when trying to load an LVD case file .mat, I\u0027m guessing it can\u0027t handle some feature used in the ones you\u0027re creating) Given the increased detail in LVD, it\u0027d be \u003Cem\u003Ereally\u003C/em\u003E nice to be able to eg. import part info for vehicle specification, or copy parts of a flight from one case to another without having to click and type\u00A0it all in the GUI. It would also solve my other pain points below \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIs there a way to find which optimisation variables are at/near their limits? The bar chart in the optimiser shows this, but I see no way to easily work out \u0022variable Y is the event duration termination condition for event X\u0022.\n\u003C/li\u003E\n\u003Cli\u003E\nIs it possible to disable the automatic propagation after editing an event? When trying to find variables at their limits\u00A0having to wait a few seconds after closing one event before being able to open the next is a right pain.\n\u003C/li\u003E\n\u003Cli\u003E\nIs there (or can there be) a \u0022duplicate event\u0022 control? When adding a bunch of identical events like initial pitch profile ones, it\u0027d be nice to not have to click and type through a bunch of GUI windows and make sure they\u0027re all done right instead of doing one and then just duplicating a bunch more.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nBut yeah, LVD looks pretty good. Thanks for the cool tool!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: OK, scipy.io will happily read\u00A0those case files, but just gives me a MatlabOpaque and a giant array of\u00A0uint8 which isn\u0027t entirely helpful. I\u0027ll have a poke around and see if I can turn this into something I can work with. But if Matlab gives you an easy way to export/import the workspace data as JSON or some other portable structured form instead that\u0027d be nice.\n\u003C/p\u003E\n\u003Cp\u003E\n(fwiw I wouldn\u0027t expect you to support messing around inside case files in any way, but since you don\u0027t break them from release to release I\u0027m assuming the internal data is at least stable \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-20T13:31:54Z\u0022 title=\u002202/20/2021 01:31  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 20, 2021\u003C/time\u003E by russm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-20T18:36:44Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929247\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613787793\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E just realized I heard back from you on all my recent postings except this one with the odd dynamic pressure plot:\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u00222521\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed7849127268\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/33568-winmaclinux-ksp-trajectory-optimization-tool-v167-lvd-kos-integration/\u0026amp;do=embed\u0026amp;comment=3922093\u0026amp;embedComment=3922093\u0026amp;embedDo=findComment\u0022 style=\u0022height:264px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the reminder!\u00A0 At this point it\u0027ll be next week, but I\u0027ll look into it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929336\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613807161\u0022 data-ipsquote-userid=\u0022160816\u0022 data-ipsquote-username=\u0022russm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, russm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey\u00A0\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E, some LVD-n00b questions/suggestions/feature requests:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nIs it possible to import/export LVD cases to anything other than .mat, or to versions of .mat that other things can read or write? a JSON dump? Octave? (Octave errors out when trying to load an LVD case file .mat, I\u0027m guessing it can\u0027t handle some feature used in the ones you\u0027re creating) Given the increased detail in LVD, it\u0027d be \u003Cem\u003Ereally\u003C/em\u003E nice to be able to eg. import part info for vehicle specification, or copy parts of a flight from one case to another without having to click and type\u00A0it all in the GUI. It would also solve my other pain points below \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nIs there a way to find which optimisation variables are at/near their limits? The bar chart in the optimiser shows this, but I see no way to easily work out \u0022variable Y is the event duration termination condition for event X\u0022.\n\u003C/li\u003E\n\u003Cli\u003E\nIs it possible to disable the automatic propagation after editing an event? When trying to find variables at their limits\u00A0having to wait a few seconds after closing one event before being able to open the next is a right pain.\n\u003C/li\u003E\n\u003Cli\u003E\nIs there (or can there be) a \u0022duplicate event\u0022 control? When adding a bunch of identical events like initial pitch profile ones, it\u0027d be nice to not have to click and type through a bunch of GUI windows and make sure they\u0027re all done right instead of doing one and then just duplicating a bunch more.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nIt is not, sadly.\u00A0 LVD case files are basically made up of objects instatiated from user-defined classes, and there\u0027s no way to export those in a reasonable manner to anything other than a binary format like MAT.\u00A0 This is also why you\u0027re running into issues with trying to read the file externally: it\u0027s basically just a bunch of pointers with some data here and there that MATLAB can understand with the help of the class definitions (which you don\u0027t have).\u00A0 You\u0027re not going to be able to open LVD MAT in Octave or Scipy or anything like that.\n\u003C/li\u003E\n\u003Cli\u003E\nYes, there is a warning in the warning/alerts area that tells you if variables are near their bounds.\n\u003C/li\u003E\n\u003Cli\u003E\nYes, this option is under the settings menu in the main LVD UI.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ve never considered this, but it\u0027s theoretically possible.\u00A0 The difficulty lies in copying the miriad of underlying objects that make up the event, and that could be pretty tedious.\u00A0 I\u0027ll consider it but no promises.\n\u003C/li\u003E\n\u003C/ol\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-20T22:28:22Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929523\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613846204\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027ve never considered this, but it\u0027s theoretically possible.\u00A0 The difficulty lies in copying the miriad of underlying objects that make up the event, and that could be pretty tedious.\u00A0 I\u0027ll consider it but no promises.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh, OK so Matlab doesn\u0027t provide a deep copy. \u003Ca href=\u0022https://www.mathworks.com/matlabcentral/answers/41674-deep-copy-of-handle-object#comment_1004698\u0022 rel=\u0022external nofollow\u0022\u003EThere appears to be a workaround if you\u0027re willing to use undocumented functions\u003C/a\u003E. If that doesn\u0027t work in this app or you\u0027d rather not colour outside Matlab\u0027s lines then give it a miss - doing a deep copy manually is\u00A0a recipe for the functionality to break in strange ways the next time you extend one of those objects and forget to update the copier.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2021-02-20T23:51:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929523\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613846204\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAt this point it\u0027ll be next week, but I\u0027ll look into it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\ncool thx, no rush at all just making sure it was still on your radar\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929523\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613846204\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, there is a warning in the warning/alerts area that tells you if variables are near their bounds.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160816-russm/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160816\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160816-russm/\u0022 rel=\u0022\u0022\u003E@russm\u003C/a\u003E a bit of extra info that may not be obvious: you need to hover your mouse cursor over the warning to get the detailed info as to which events are causing bounds issues\n\u003C/p\u003E\n\u003Cp\u003E\nAlso keep in mind that when you make requests for things to lighten the workload on us end-users (which I agree is nice, I myself have requested things like the ability to export/import ground stations) you\u0027re taking away already limited spare time for development of new features, as both are only coming from one person\n\u003C/p\u003E\n"},{"CreatedByName":"russm","CreatedById":160816,"CreatedDateTime":"2021-02-21T00:08:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929652\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613865119\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160816-russm/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022160816\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/160816-russm/\u0022 rel=\u0022\u0022\u003E@russm\u003C/a\u003E a bit of extra info that may not be obvious: you need to hover your mouse cursor over the warning to get the detailed info as to which events are causing bounds issues\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, right, that\u0027s the bit I was missing. Cheers!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929652\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613865119\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n45 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso keep in mind that when you make requests for things to lighten the workload on us end-users (which I agree is nice, I myself have requested things like the ability to export/import ground stations) you\u0027re taking away already limited spare time for development of new features, as both are only coming from one person\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor sure, I get this 100% - I live and work in the open source software world where volunteer time and energy is one of the limiting resources for a lot of things. I hope I\u0027m not coming across as \u0022this is bad, you need to do $things to make it good\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nAny suggestions or requests I make are offered to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0in the absolute knowledge that they\u0027re to do with as he pleases, and if that\u0027s deciding that they\u0027re not something he wants to put any effort into then that\u0027s absolutely fine and his call to make. And where possible I try to reduce the effort required to implement any request I make, eg once I understood that the problem with duplicating events is that it requires a deep copy of the object graph and Matlab doesn\u0027t have a supported way to do that, I found a (possible) workaround. I don\u0027t know Matlab so I\u0027m not in a position to evaluate how feasible or desirable that workaround is, so if that makes the feature easy/trivial to implement then that\u0027s good, and if \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0026amp;do=hovercard\u0022 data-mentionid=\u00222521\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/2521-arrowstar/\u0022 rel=\u0022\u0022\u003E@Arrowstar\u003C/a\u003E\u00A0decides he doesn\u0027t want to do it for whatever reason then that\u0027s absolutely fine too.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-21T00:37:31Z\u0022 title=\u002202/21/2021 12:37  AM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 21, 2021\u003C/time\u003E by russm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dozer","CreatedById":59488,"CreatedDateTime":"2021-02-21T15:55:35Z","Content":"\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m getting back into KSP after a long break, and now I\u0027m trying to learn some of the new stuff in KSPTOT. I tried to follow the LVD guide, but I need a break from that as I\u0027m doing something wrong somewhere. I figured it might be better to do a very simple test as follows. Minimum rocket to get to orbit, one stage, put that into LVD and try to get to orbit. It\u0027s getting close, but I\u0027m confused with the objectives and constraints. So finally, we arrive at my question. Do any of you have a KSPTOT LVD savefile you can share that does this, including optimization constraints? That way I can have a look at a working example. Something that launches and gets to a 100km orbit, 90 hdg, 0 inc.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you Arrowstar for a fantastic tool!\n\u003C/p\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-02-22T15:52:33Z","Content":"\n\u003Cp\u003E\nSomething new that I don\u0027t understand\u00A0\u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI am planning a mission to Kerbol and back. No problem with the first leg, were I achieve a \u003Cabbr title=\u0022Periapsis\u0022\u003E\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u003C/abbr\u003E of 180000Km. But when planning the return, the final state doesn\u0027t change. On the left is the state after coast to Sun periapsis, event 4. But it is the same that the Final Spacecraft State. I even added some prograde \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E at event 6, but nothing changes.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I edited event number 5 for an initial solution of 100 and started working, changing the final state and optimizing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022f391Ju8.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002254.46\u0022 height=\u0022470\u0022 width=\u0022863\u0022 src=\u0022https://imgur.com/f391Ju8.png\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-22T15:59:13Z\u0022 title=\u002202/22/2021 03:59  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 22, 2021\u003C/time\u003E by Tacombel\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-23T01:11:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223929982\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221613922935\u0022 data-ipsquote-userid=\u002259488\u0022 data-ipsquote-username=\u0022dozer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 2/21/2021 at 9:55 AM, dozer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m getting back into KSP after a long break, and now I\u0027m trying to learn some of the new stuff in KSPTOT. I tried to follow the LVD guide, but I need a break from that as I\u0027m doing something wrong somewhere. I figured it might be better to do a very simple test as follows. Minimum rocket to get to orbit, one stage, put that into LVD and try to get to orbit. It\u0027s getting close, but I\u0027m confused with the objectives and constraints. So finally, we arrive at my question. Do any of you have a KSPTOT LVD savefile you can share that does this, including optimization constraints? That way I can have a look at a working example. Something that launches and gets to a 100km orbit, 90 hdg, 0 inc.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you Arrowstar for a fantastic tool!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCheck out the \u0022lvdExample_TwoStageToOrbit.mat\u0022 example that\u0027s included with the main KSPTOT download.\u00A0 It\u0027s not a single stage to orbit like you\u0027re asking, but I think it\u0027s close enough to illustrate what you need.\u00A0 Let me know if you have any questions with it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223930498\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221614009153\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSomething new that I don\u0027t understand\u00A0\u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI am planning a mission to Kerbol and back. No problem with the first leg, were I achieve a \u003Cabbr title=\u0022Periapsis\u0022\u003E\u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E\u003C/abbr\u003E of 180000Km. But when planning the return, the final state doesn\u0027t change. On the left is the state after coast to Sun periapsis, event 4. But it is the same that the Final Spacecraft State. I even added some prograde \u003Cabbr title=\u0022Delta-V\u0022\u003E\u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E\u003C/abbr\u003E at event 6, but nothing changes.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit: I edited event number 5 for an initial solution of 100 and started working, changing the final state and optimizing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://imgur.com/f391Ju8.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022f391Ju8.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002254.46\u0022 height=\u0022470\u0022 width=\u0022863\u0022 src=\u0022https://imgur.com/f391Ju8.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCan I see the MAT file?\n\u003C/p\u003E\n"},{"CreatedByName":"Tacombel","CreatedById":191092,"CreatedDateTime":"2021-02-23T15:22:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223930850\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221614042688\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCheck out the \u0022lvdExample_TwoStageToOrbit.mat\u0022 example that\u0027s included with the main KSPTOT download.\u00A0 It\u0027s not a single stage to orbit like you\u0027re asking, but I think it\u0027s close enough to illustrate what you need.\u00A0 Let me know if you have any questions with it.\n\u003C/p\u003E\n\u003Cp\u003E\nCan I see the MAT file?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1a7PTbGqu_3edejRp2rpculgL7TQgGy1b/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1a7PTbGqu_3edejRp2rpculgL7TQgGy1b/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI thought that it was working when I changed the initial value of the True anomaly to 100, but when I tried\u00A0to optimize it, it hangs up. I suppose that it is because now I see that\u00A0 probably there is no solution, but it just starts, without iterating, without errors.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2021-02-23T15:57:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223931143\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221614093762\u0022 data-ipsquote-userid=\u0022191092\u0022 data-ipsquote-username=\u0022Tacombel\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, Tacombel said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1a7PTbGqu_3edejRp2rpculgL7TQgGy1b/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://drive.google.com/file/d/1a7PTbGqu_3edejRp2rpculgL7TQgGy1b/view?usp=sharing\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI thought that it was working when I changed the initial value of the True anomaly to 100, but when I tried\u00A0to optimize it, it hangs up. I suppose that it is because now I see that\u00A0 probably there is no solution, but it just starts, without iterating, without errors.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOkay.\u00A0 And can you describe for me what you wanted to do, what actually happened, and how I can reproduce the issue?\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: I couldn\u0027t reproduce any hanging while optimizing, but it did take a while because the optimizer step size got pretty small in the last iteration.\u00A0 This is probably because the constraint values aren\u0027t well scaled, which is sort of a flaw in the way MA is set up.\u00A0 I might encourage you to go give Launch Vehicle Designer a try.\u00A0 Despite its name, it\u0027s really an all-around better spacecraft mission design tool, and can help you avoid some of these issues.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-02-23T16:00:09Z\u0022 title=\u002202/23/2021 04:00  PM\u0022 data-short=\u00223 yr\u0022\u003EFebruary 23, 2021\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"}]}