{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":123,"Articles":[{"CreatedByName":"nsgallup","CreatedById":136892,"CreatedDateTime":"2018-11-10T23:15:27Z","Content":"\n\u003Cp\u003E\nI tried on my laptop with a new save and a stock game,\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00224th9hGc.jpg\u0022 class=\u0022ipsImage\u0022 height=\u0022528\u0022 src=\u0022https://i.imgur.com/4th9hGc.jpg\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I get in game after importing, I also tried with mean anom. and epoch enabled but it gave me roughly the same result\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022JRvHfjx.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/JRvHfjx.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIf I reduce the pro-grade delta v slight I get this, also tweaking the time of departure in 10 second intervals does not create a intercept\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022o61euCP.png\u0022 class=\u0022ipsImage\u0022 height=\u0022576\u0022 src=\u0022https://i.imgur.com/o61euCP.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-10T23:44:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223484979\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541891727\u0022 data-ipsquote-userid=\u0022136892\u0022 data-ipsquote-username=\u0022nsgallup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, nsgallup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried on my laptop with a new save and a stock game,\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/4th9hGc.jpg\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWhat I get in game after importing, I also tried with mean anom. and epoch enabled but it gave me roughly the same result\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/JRvHfjx.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIf I reduce the pro-grade delta v slight I get this, also tweaking the time of departure in 10 second intervals does not create a intercept\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/o61euCP.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u0026lt;snip\u0026gt;\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlright, I see what\u0027s happening.\u00A0 So here\u0027s the deal.\u00A0 The pork chop plot and the Compute Departure function work off what\u0027s called the \u0022Local Gravity Well\u0022 or \u0022Infinitesimal Gravity Well\u0022 assumption.\u00A0 This means that the sphere of influence of Kerbin (in this case) is modeled as having zero radius.\u00A0 The required post-departure state you get from the calculator (in the Sun-centered frame) is correct, but the subsequent required post-burn Kerbin orbit and thus the Kerbin departure burn you\u0027re using are approximations due to that assumption.\u00A0 This is the only way to compute things quickly unfortunately.\u00A0 Anyway, they will get you close, as you saw they did, but unless you\u0027re aiming for a massive target like Jool, you\u0027ll probably miss the \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E by a bit.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWhat you need to do is take that departure burn and either A) tweak is slightly (time, prograde component, normal component, and radial component) to hit Dres (make sure to check that Use button for mean anomaly and epoch), or B) get your initial orbit and that departure burn into Mission Architect and then have Mission Architect tweak the burn to hit Dres.\u00A0 Mission Architect is a higher fidelity orbit analysis tool in KSPTOT that actually models the Spheres of Influence as they are in KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you\u0027re feeling adventurous and you have time, go ahead and try Mission Architect.\u00A0 It can provide you with the most fuel efficient burn to get from Kerbin to Dres, and it\u0027s burn solution should be spot on.\u00A0 (That is, if you import that burn into KSP, it should look \u003Cem\u003Eexactly like\u003C/em\u003E what it does in Mission Architect and vice versa.)\u00A0 However, like all \u0022real world\u0022 orbit modeling and analysis tools, Mission Architect is complex to use.\u00A0 So if you just want to get it done and get playing with KSP, then you\u0027re best off just noting the approximations and assumptions that went into the pork chop plot and Compute Departure and then spending time tweaking the burn a bit in KSP itself to get you there.\u00A0 If you can\u0027t get an intercept after tweaking the burn at Kerbin in KSP, then get as close as you can and add another maneuver node, half way to Dres, and tweak that one a bit to get you the rest of the way there.\u00A0 It should be a small correction maneuver.\n\u003C/p\u003E\n\u003Cp\u003E\nIf you do want to use Mission Architect, there are a bunch of examples out there, as well as a tutorial in the documentation somewhere.\u00A0 You can also ask me questions here on the forum and I\u0027m happy to help answer them. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"nsgallup","CreatedById":136892,"CreatedDateTime":"2018-11-11T03:40:07Z","Content":"\n\u003Cp\u003E\nOk, so I need to import the maneuver into the mission architect!\n\u003C/p\u003E\n\u003Cp\u003E\nMy goal was to learn how to use the tool with a basic task like a transfer to Dres, and then apply it to multi planet flyby maneuvers to save delta-V, but I guess I\u0027ll be starting with the more complicated tools first after all haha.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAny plans for the future to have the compute departure tool have an option to have a precise node?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-11T20:14:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223485104\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541907607\u0022 data-ipsquote-userid=\u0022136892\u0022 data-ipsquote-username=\u0022nsgallup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, nsgallup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny plans for the future to have the compute departure tool have an option to have a precise node?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe?\u00A0 I\u0027m not sure what you actually mean by this. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-11T22:16:13Z","Content":"\n\u003Cp\u003E\nHi everyone!\n\u003C/p\u003E\n\u003Cp\u003E\nGreat news!\u00A0 Today I\u0027m officially announcing the release of \u003Cstrong\u003EKSP Trajectory Optimization Tool v1.6.0\u003C/strong\u003E!\u00A0 This is such a huge milestone and I\u0027m glad to have finally made it here.\u00A0 Obviously \u003Cem\u003ELaunch Vehicle Designer\u003C/em\u003E is the biggest news.\u00A0 The last week or so has been chock full of fixing bugs and optimizing code performance and getting those last minute features in that make the new tool usable and hopefully enjoyable.\n\u003C/p\u003E\n\u003Cp\u003E\nAs a fun statistic, I ran a SLOC (source lines of code) count on KSPTOT today and I found that there are \u003Cstrong\u003E84,172 \u003C/strong\u003Esource lines of code in the entire MATLAB code base!\u00A0 Of these, \u003Cstrong\u003E13,424 \u003C/strong\u003Eare specific to Mission Architect or Launch Vehicle Designer (they share much common code) and \u003Cstrong\u003E6068\u003C/strong\u003E are specific to the new Launch Vehicle Designer.\u00A0 KSPTOT is a big project. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, as is tradition, let\u0027s get to the change log!\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\n\u003Cstrong\u003ENEW TOOL: Launc\u003C/strong\u003E\u003Cstrong\u003Eh Vehicle Designer!\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\nLaunch Vehicle Designer (LVD) is a new analysis tool within KSPTOT.\u00A0 It\u0027s purpose is to provide an intuitive way to perform simple-to-complex analysis of launch vehicles and their trajectories.\u00A0 It can model staging, atmospheric forces, variable engine thrust and Isp, a number of steering laws, \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions, and a whole host of other activities that one normally carries out in KSP.\u00A0 Also, because of the general nature of the tool, an analyst could actually use LVD for a full end-to-end mission design, from launch, to in space maneuvers, to landing, to splashdown back at Kerbin.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EBug Fix:\u003C/strong\u003E Fixed a bug with Mission Architect\u0027s Launch Window Analysis tool.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ENew Feature:\u003C/strong\u003E Mission Architect can now more intelligently look for \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E transitions using the \u0022Num. \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E Search Attempts\u0022 function.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ENew Feature: \u003C/strong\u003EMission Architect supports the Orbit Decay mod.\u00A0 MA can now model semi-analytic orbit decay due to atmospheric drag effects.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nIt\u0027s a small change log with a lot of new functionality. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EFinally, per my comment from a few days ago, I did go ahead and create a Ko-Fi account for those who wish to say \u0022Thanks!\u0022 via donation.\u00A0 There\u0027s a button on the original post that says \u0022Buy Me a Coffee\u0022.\u00A0 You can click that button and it will take you to the \u003Ca href=\u0022https://ko-fi.com/arrowstar\u0022 rel=\u0022external nofollow\u0022\u003Epage\u003C/a\u003E to do so.\u00A0 Totally \u003C/span\u003Eoptional and voluntary, but there it is. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnyway, as usual, the download for \u003Cstrong\u003EKSPTOT v1.6.0\u003C/strong\u003E is now online and available from the original post.\u00A0 Have fun and happy orbiting!\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"nsgallup","CreatedById":136892,"CreatedDateTime":"2018-11-11T22:25:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223485456\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541967244\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMaybe?\u00A0 I\u0027m not sure what you actually mean by this. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have been playing around with MA, and wow,\u00A0everything is coming together now!\n\u003C/p\u003E\n\u003Cp\u003E\nThis tool is awesome.\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-11T22:30:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223485540\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541975138\u0022 data-ipsquote-userid=\u0022136892\u0022 data-ipsquote-username=\u0022nsgallup\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, nsgallup said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI have been playing around with MA, and wow,\u00A0everything is coming together now!\n\u003C/p\u003E\n\u003Cp\u003E\nThis tool is awesome.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks!\u00A0 Let me know if you have any questions.\u00A0 Also see Launch Vehicle Designer in the just-released version of KSPTOT.\u00A0 It\u0027s like MA, but it works for launch vehicles too.\u00A0 It\u0027s not as fast at propagating orbits though, so if you\u0027re mostly doing in-space trajectory design work, just stick with MA.\u00A0 MA is also a much more mature tool too, I think at this point I\u0027ve worked out all of the bugs and kinks. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"VeeDeltaVee","CreatedById":193419,"CreatedDateTime":"2018-11-22T06:57:42Z","Content":"\n\u003Cp\u003E\nHello!\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to use KSPTOT for planning some missionsi n \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E so I downloaded the latest version. However, after loading in the bodies.ini from the game, Mission architect and Launch vehicle designer won\u0027t work, every time I try them they give this error in the log file:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nReference to non-existent field \u0027kerbin\u0027.\n\nError in LvdData.getDefaultLvdData (line 73)\nError in ma_MainGUI\u0026gt;generateCleanMissionPlan (line 209)\nError in ma_MainGUI\u0026gt;newMissionPlanMenu_Callback (line 564)\nError in ma_MainGUI\u0026gt;ma_MainGUI_OpeningFcn (line 91)\nError in gui_mainfcn (line 220)\nError in ma_MainGUI (line 40)\nError in mainGUI\u0026gt;missionArchitectMenu_Callback (line 671)\nError in gui_mainfcn (line 95)\nError in mainGUI (line 42)\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)mainGUI(\u0027missionArchitectMenu_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using waitforallfiguresclosed (line 9)\nError while evaluating Menu Callback.\n\n\u003C/pre\u003E\n\u003Cp\u003E\nit was working fine before I changed the bodies.ini. Any ideas why this is happening?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-23T14:25:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223491771\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221542869862\u0022 data-ipsquote-userid=\u0022193419\u0022 data-ipsquote-username=\u0022VeeDeltaVee\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/22/2018 at 12:57 AM, VeeDeltaVee said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello!\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to use KSPTOT for planning some missionsi n \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E so I downloaded the latest version. However, after loading in the bodies.ini from the game, Mission architect and Launch vehicle designer won\u0027t work, every time I try them they give this error in the log file:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nReference to non-existent field \u0027kerbin\u0027.\n\nError in LvdData.getDefaultLvdData (line 73)\nError in ma_MainGUI\u0026gt;generateCleanMissionPlan (line 209)\nError in ma_MainGUI\u0026gt;newMissionPlanMenu_Callback (line 564)\nError in ma_MainGUI\u0026gt;ma_MainGUI_OpeningFcn (line 91)\nError in gui_mainfcn (line 220)\nError in ma_MainGUI (line 40)\nError in mainGUI\u0026gt;missionArchitectMenu_Callback (line 671)\nError in gui_mainfcn (line 95)\nError in mainGUI (line 42)\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)mainGUI(\u0027missionArchitectMenu_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using waitforallfiguresclosed (line 9)\nError while evaluating Menu Callback.\n\n\u003C/pre\u003E\n\u003Cp\u003E\nit was working fine before I changed the bodies.ini. Any ideas why this is happening?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWhat\u0027s happening is that you found a leftover bit of code from when I was prototyping the application.\u00A0 I didn\u0027t really do any testing with other bodies.ini files and so this one escaped me.\u00A0 I\u0027ll get out a fix next week for you. :)\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-11-30T13:34:57Z","Content":"\n\u003Cp\u003E\nsomething weird happening when I try to load \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Moho.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis MAT file\u003C/a\u003E with the latest release. Log box at the bottom says its done loading by the Open button stays grayed out and I\u0027m still showing the default orbit not the one that should have been loaded\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-11-30T23:38:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223496339\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543584897\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nsomething weird happening when I try to load \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Moho.zip\u0022 rel=\u0022external nofollow\u0022\u003Ethis MAT file\u003C/a\u003E with the latest release. Log box at the bottom says its done loading by the Open button stays grayed out and I\u0027m still showing the default orbit not the one that should have been loaded\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223491771\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221542869862\u0022 data-ipsquote-userid=\u0022193419\u0022 data-ipsquote-username=\u0022VeeDeltaVee\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/22/2018 at 12:57 AM, VeeDeltaVee said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello!\n\u003C/p\u003E\n\u003Cp\u003E\nI wanted to use KSPTOT for planning some missionsi n \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E so I downloaded the latest version. However, after loading in the bodies.ini from the game, Mission architect and Launch vehicle designer won\u0027t work, every time I try them they give this error in the log file:\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\nReference to non-existent field \u0027kerbin\u0027.\n\nError in LvdData.getDefaultLvdData (line 73)\nError in ma_MainGUI\u0026gt;generateCleanMissionPlan (line 209)\nError in ma_MainGUI\u0026gt;newMissionPlanMenu_Callback (line 564)\nError in ma_MainGUI\u0026gt;ma_MainGUI_OpeningFcn (line 91)\nError in gui_mainfcn (line 220)\nError in ma_MainGUI (line 40)\nError in mainGUI\u0026gt;missionArchitectMenu_Callback (line 671)\nError in gui_mainfcn (line 95)\nError in mainGUI (line 42)\nError in matlab.graphics.internal.figfile.FigFile/read\u0026gt;@(hObject,eventdata)mainGUI(\u0027missionArchitectMenu_Callback\u0027,hObject,eventdata,guidata(hObject))\n\nError using waitforallfiguresclosed (line 9)\nError while evaluating Menu Callback.\n\n\u003C/pre\u003E\n\u003Cp\u003E\nit was working fine before I changed the bodies.ini. Any ideas why this is happening?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks for the bug reports, guys.\u00A0 \u003Ca href=\u0022https://drive.google.com/file/d/1nzcNo4Q6RhWznb1Z1GKrzN-vyzpZEDGs/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EKSPTOT v1.6.1 pre-release1\u003C/a\u003E should resolve both of these bugs.\u00A0 There are also some updates to LVD (mostly in the context of the aerodynamics models and some additional performance optimizations).\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if you are still having problems after using this pre-release.\u00A0 \u003Cspan\u003EThanks! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"spongey45","CreatedById":133731,"CreatedDateTime":"2018-12-02T03:00:15Z","Content":"\n\u003Cp\u003E\nCan I use MCR 9.5 or it must be 9.3?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-02T03:02:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497352\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543719615\u0022 data-ipsquote-userid=\u0022133731\u0022 data-ipsquote-username=\u0022spongey45\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, spongey45 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan I use MCR 9.5 or it must be 9.3?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi there!\u00A0 It has to be the MCR version specified in the first post.\u00A0 That is R2017b, which is 9.3. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPlease let me know if you have any more questions!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-02T22:25:31Z","Content":"\n\u003Cp\u003E\nok I\u0027m finally dipping my toes into the LVD tonight. Right off the bat a few things:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nParallelized Optimization was left checked on in the mission files. Didn\u0027t notice anything after clearing the Windows firewall alert, so handled me not a having another instance setup gracefully, I just wasn\u0027t sure if you meant to leave that checked or not\n\u003C/li\u003E\n\u003Cli\u003E\nI re-downloaded the LVD examples from the latest release but had trouble with all three of them\n\u003Cul\u003E\u003Cli\u003E\nDuna injection script times out and leaves the final state in orbit around Kerbin\n\u003C/li\u003E\n\u003Cli\u003E\nBoth the Two Stage to Orbit and GTO Injection files end up with a sub-orbital trajectory\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nWas hoping the examples would clue me into the usage of the Body Fixed values in the Initial State, but none of them had them filled out. Should they be ignored launching from the surface? Or are they meant to inform the LVD of how the planet is rotating?\n\u003C/li\u003E\n\u003Cli\u003E\nCan I use the MA Cd calculator for the drag coefficient in LVD? I\u0027m not sure if they are the same thing though since MA specifies it as Area*Cd in m^2 and in LVD it has no measurement specification\n\u003C/li\u003E\n\u003Cli\u003E\nWill there be future support for different fuel types? I noticed that\u0027s not specified anywhere and with just the tank propellant mass defined that means you\u0027re using a fixed ratio to drain \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O through the engine. Surprised since different fuel types can be defined in MA - but understand this wouldn\u0027t be required for an initial release.\n\u003C/li\u003E\n\u003Cli\u003E\nThe Lat/Lng in the Initial State only specifies the values as \u0022deg\u0022 instead of in MA where the values are defined as \u0022degN\u0022 and \u0022degE\u0022, respectively. So I entered a value of -74.5365 for Longitude and after saving I didn\u0027t see an error and re-opening the dialog it didn\u0027t convert it to a 360\u00B0 value. I\u0027ll just input in 360\u00B0 to be on the safe side...\n\u003C/li\u003E\n\u003Cli\u003E\nEsc button window closures plz \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/li\u003E\n\u003Cli\u003E\nShould \u0022Consider \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E Transitions\u0022 really be checked by default?\n\u003C/li\u003E\n\u003Cli\u003E\nI use \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139980-130-community-database-of-module-manager-patches-for-stock-ksp/\u0026amp;page=13\u0026amp;tab=comments#comment-3177744\u0022 rel=\u0022\u0022\u003Ethis \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch\u003C/a\u003E to calculate reasonable engine spool times for any engine that doesn\u0027t have it enabled. \u003Ca href=\u0022https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html#a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287\u0022 rel=\u0022external nofollow\u0022\u003EHere is the API\u003C/a\u003E about the value used. Would it be possible to use the throttle model to simulate this? I think yes, but I\u0027m not sure exactly how, as in where to plug in the value and whether what has been calculated for the engine needs to be converted\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI have my launch vehicle specified no problem, going to poke around some with events now. My goal on this mission is for an eccentric decaying orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022tAZ8jU8.png\u0022 class=\u0022ipsImage\u0022 height=\u0022640\u0022 src=\u0022https://i.imgur.com/tAZ8jU8.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m keeping this browser tab open and I\u0027ll get pinged as soon as you reply. I\u0027ll be fiddling with this all night. Reminds me of how lost I felt when I first started using MA but given how well I grok that nowadays I know I can work my way through getting the hang of LVD\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-02T23:22:40Z\u0022 title=\u002212/02/2018 11:22  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 2, 2018\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-02T23:43:25Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497840\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543789531\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nok I\u0027m finally dipping my toes into the LVD tonight. Right off the bat a few things:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nParallelized Optimization was left checked on in the mission files. Didn\u0027t notice anything after clearing the Windows firewall alert, so handled me not a having another instance setup gracefully, I just wasn\u0027t sure if you meant to leave that checked or not\n\u003C/li\u003E\n\u003Cli\u003E\nI re-downloaded the LVD examples from the latest release but had trouble with all three of them\n\u003Cul\u003E\u003Cli\u003E\nDuna injection script times out and leaves the final state in orbit around Kerbin\n\u003C/li\u003E\n\u003Cli\u003E\nBoth the Two Stage to Orbit and GTO Injection files end up with a sub-orbital trajectory\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nWas hoping the examples would clue me into the usage of the Body Fixed values in the Initial State, but none of them had them filled out. Should they be ignored launching from the surface? Or are they meant to inform the LVD of how the planet is rotating?\n\u003C/li\u003E\n\u003Cli\u003E\nCan I use the MA Cd calculator for the drag coefficient in LVD? I\u0027m not sure if they are the same thing though since MA specifies it as Area*Cd in m^2 and in LVD it has no measurement specification\n\u003C/li\u003E\n\u003Cli\u003E\nWill there be future support for different fuel types? I noticed that\u0027s not specified anywhere and with just the tank propellant mass defined that means you\u0027re using a fixed ratio to drain \u003Cabbr title=\u0022Liquid Fuel\u0022\u003ELF\u003C/abbr\u003E/O through the engine. Surprised since different fuel types can be defined in MA - but understand this wouldn\u0027t be required for an initial release.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI have my launch vehicle specified no problem, going to poke around some with events now. My goal on this mission is for an eccentric decaying orbit:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m keeping this browser tab open and I\u0027ll get pinged as soon as you reply. I\u0027ll be fiddling with this all night. Reminds me of how lost I felt when I first started using MA but given how well I grok that nowadays I know I can work my way through getting the hang of LVD\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight, glad you have a chance to take a look!\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nYes, LVD works best with parallel optimization.\u00A0 The derivatives compute much faster when in parallel mode.\u00A0 If you denied those firewall alerts, be sure to allow them, as the main MATLAB session communicates with the parallel workers via TCP/IP.\n\u003C/li\u003E\n\u003Cli\u003E\nThanks for letting me know these are goofed up.\u00A0 I\u0027ll take a look.\n\u003C/li\u003E\n\u003Cli\u003E\nBody Fixed just means that the state of the vehicle is provided relative to the spinning surface of the planet.\u00A0 Longitude, latitude, and altitude have definitions identical to Earth, and you can look up what the latitude and longitude of the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E is either from Mission Architect (it\u0027s hard coded as a ground target/station in new MA sessions) or from some other tool/mod within KSP.\u00A0 Just leave the velocities at 0 if you\u0027re launching starting from a fixed (to the surface) state.\n\u003C/li\u003E\n\u003Cli\u003E\nYou can, though realize that that was meant more for aero-braking.\u00A0 If you\u0027re using \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E, you can get Cd from that I think.\u00A0 Otherwise, a bullet has a drag coefficient of about 0.3, and a rocket is sort of bullet shaped, so you could use that.\u00A0 The default, 2.2, is meant for objects in the upper atmosphere only.\u00A0 Note that you can update your drag coefficient and area as event actions.\n\u003C/li\u003E\n\u003Cli\u003E\nSo I had a hard think about fuel types in LVD before implementing what I have now, and I concluded they were not necessary.\u00A0 In KSP, tanks really only hold one type of fuel anyway (exception being LOX/Fuel, but it may as well be one type because it\u0027s always provided in the exact ratio needed by the engines), and so the easier way to implicitly specify what propellant a tank holds is by the assigned engine.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nA few tips for you while you work:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe single biggest driver of launch vehicle performance is your initial pitch over rate.\n\u003C/li\u003E\n\u003Cli\u003E\nMake sure to have a few (4 or 5 at least) \u0022pitch profile\u0022 segments in there so your optimizer can adjust the pitch rate as needed.\u00A0 Set bounds of no more than a few deg/sec on those pitch rates.\u00A0 Don\u0027t use the acceleration terms to start.\u00A0 Also make sure you have continuity on your angles specified (that check box on the bottom of the steering model dialog).\n\u003C/li\u003E\n\u003Cli\u003E\nDon\u0027t worry about modeling any roll right now, you can add that in later.\n\u003C/li\u003E\n\u003Cli\u003E\nBody relative yaw is specified as 0 degrees pointing north, 90 degrees is east.\u00A0 Do use the body relative steering roll/pitch/yaw for most of your flight, at least at first.\u00A0 You can go to body-relative aero angles eventually too.\n\u003C/li\u003E\n\u003Cli\u003E\nMaybe most importantly, don\u0027t jump into the optimizer right away.\u00A0 Try to get a trajectory that sort of makes it to space just by changing numbers yourself at first. The optimizer is better suited to honing in on a trajectory than finding one from scratch (which it probably can\u0027t do).\n\u003C/li\u003E\n\u003Cli\u003E\nKeep asking questions! \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EEnjoy \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EEDIT: I checked the 2 stage to orbit and GTO LVD examples and they both look fine.\u00A0 Not sure what\u0027s going on on your end.\u00A0 If you see a warning about script execution time being exceeded, it may just be that the first run usually takes a fair bit more time than the subsequent runs due to MATLAB\u0027s JIT compiler doing its thing.\u00A0 Either just open and close an event to rerun things, or increase the max allowed run t\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Eime in Settings -\u0026gt; Integration Settings -\u0026gt; Max Script Prop Time.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: Try redownloading the KSPTOT release on the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\u00A0 It should have updated example files... could be that I forgot to update in the ZIP file at some point or something.\u00A0 Btw you are using the latest pre-release, right?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-02T23:57:12Z\u0022 title=\u002212/02/2018 11:57  PM\u0022 data-short=\u00225 yr\u0022\u003EDecember 2, 2018\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T00:02:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497876\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543794205\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nKeep asking questions! \u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nActually there are a few you missed! I don\u0027t know why they did not get included in the quote you made of my post since I edited them in well before you replied. Take another look at the post please, thanks\n\u003C/p\u003E\n\u003Cp\u003E\nRight now I\u0027m stuck trying to model my launch sequence, which is still being roleplayed as a \u0022cautious\u0022 launch with this new rocket and engine. At T-6s the engine ignites at 10% throttle and the flight computer \u0022monitors for proper performance constraints\u0022 for three seconds before commanding a throttle-up to launch \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E of 1.2. My engines use delayed throttle response so it waits another three seconds for the spool up and also to \u0022check more constraints\u0022 and then the clamps release at T-0.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fuel usage here is pretty minuscule I probably don\u0027t need to bother modeling this BUT I also seem to have maybe found a bug, so - \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk1%20%233%20LVD.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u0027s the LVD file\u003C/a\u003E. When I look at the throttle in the graphical analysis it goes straight to 100%, but based on my previous launches with this rocket a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E of 1.2 is 71%. I\u0027ve tried both the Linear and Accel terms but always end up with a 100% throttle. Double-checked my rocket setup and it matches what I have in the game:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022o3wVojm.png\u0022 class=\u0022ipsImage\u0022 height=\u0022640\u0022 src=\u0022https://i.imgur.com/o3wVojm.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497876\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543794205\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n25 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNote \u003Cspan\u003E\uFEFF\u003C/span\u003Ethat you can update your drag coefficient \u003Cspan\u003E\uFEFF\u003C/span\u003Eand area as event actions.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot seeing anything for this in the Select Action dialog\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-03T00:09:21Z\u0022 title=\u002212/03/2018 12:09  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 3, 2018\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-03T00:12:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497840\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543789531\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe Lat/Lng in the Initial State only specifies the values as \u0022deg\u0022 instead of in MA where the values are defined as \u0022degN\u0022 and \u0022degE\u0022, respectively. So I entered a value of -74.5365 for Longitude and after saving I didn\u0027t see an error and re-opening the dialog it didn\u0027t convert it to a 360\u00B0 value. I\u0027ll just input in 360\u00B0 to be on the safe side...\n\u003C/li\u003E\n\u003Cli\u003E\nEsc button window closures plz \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/li\u003E\n\u003Cli\u003E\nShould \u0022Consider \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E Transitions\u0022 really be checked by default?\n\u003C/li\u003E\n\u003Cli\u003E\nI use \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/139980-130-community-database-of-module-manager-patches-for-stock-ksp/\u0026amp;page=13\u0026amp;tab=comments#comment-3177744\u0022 rel=\u0022\u0022\u003Ethis \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch\u003C/a\u003E to calculate reasonable engine spool times for any engine that doesn\u0027t have it enabled. \u003Ca href=\u0022https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html#a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287https://anatid.github.io/XML-Documentation-for-the-KSP-API/class_module_engines.html%23a0ea45fd55aaf2293a1f2d48da4f23287\u0022 rel=\u0022external nofollow\u0022\u003EHere is the API\u003C/a\u003E about the value used. Would it be possible to use the throttle model to simulate this? I think yes, but I\u0027m not sure exactly how, as in where to plug in the value and whether what has been calculated for the engine needs to be converted\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cul\u003E\u003Cli\u003E\nYes, it\u0027s actually degN and degE... I\u0027ll update that.\u00A0 Thanks for pointing that out.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ll add it to the TO DO list. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EI went back and forth on this one.\u00A0 On the one hand, most events probably don\u0027t need it.\u00A0 On the other hand, I foresaw \u003C/span\u003Ea bunch of people trying to understand why their vehicle wasn\u0027t transitions to the new \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E if it defaulted to off.\u00A0 It could go either way, of course, but for now I think I\u0027ll leave it defaulted to on and if future use suggests that it\u0027s better off, then I\u0027ll default it to off.\u00A0 It\u0027s going to be one of those things where the user base will show what the better path forward is.\n\u003C/li\u003E\n\u003Cli\u003E\nIt should be possible to use the existing throttle model to approximate this.\u00A0 If you can plot the mass flow rate of the engine while it\u0027s spooling using the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch equations, and then divide that by the 100% throttle mass flow rate, that will give you the effective throttle setting over time during the spooling.\u00A0 Fit the spooling to effective throttle to a quadratic and there you go.\u00A0 Alternatively, as I\u0027m a big proponent of not worrying about minor details, just use a linear ramp on your throttle during the spooling period (from 0 to 100%?) and call it good enough.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ll take a look at your MAT file, thanks!\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T00:18:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497890\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543795929\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI went back and forth on this one.\u00A0 On the one hand, most events probably don\u0027t need it.\u00A0 On the other hand, I foresaw \u003C/span\u003Ea bunch of people trying to understand why their vehicle wasn\u0027t transitions to the new \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESoI\u003C/abbr\u003E if it defaulted to off.\u00A0 It could go either \u003Cspan\u003E\uFEFF\u003C/span\u003Eway, of course, but for now I think I\u0027ll \u003Cspan\u003E\uFEFF\u003C/span\u003Eleave \u003Cspan\u003E\uFEFF\u003C/span\u003Eit defaulted to on and if future use suggests that it\u0027s better off, then I\u0027ll default it to off.\u00A0 It\u0027s going to be one of those things where the user base will show what the better path forward is.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell I guess the real question is how much does it affect the performance of the script and optimizer if every event is checked to consider an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition? If it takes a lot of events to become an issue, then really there\u0027s no problem with always just leaving it on. Maybe that\u0027s another question more use will have to answer?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497876\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543794205\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n33 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNote that you can update your drag coefficient and area as event \u003Cspan\u003E\uFEFF\u003C/span\u003Eactions. \u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI edited this into my last post but in case you didn\u0027t notice (I just now only noticed the edits you made to your post even :P) - I can\u0027t see any option to add an action that affects these values\n\u003C/p\u003E\n\u003Cp\u003E\nAlso watching the Cd value in the \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E window during a launch and seeing how much it changes, I\u0027m guessing it\u0027s good enough to know in general how much the value is for stages like initial ascent, passing through Max Q, passing into the upper atmo?\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-03T00:27:53Z","Content":"\n\u003Cp\u003E\nOkay, first things first.\u00A0 I took a look at your MAT file and I think everything is working fine.\u00A0 I determined that the time which T2W = 1.2 is 74604178.1055479 seconds UT, and then plotted throttle vs. time.\u00A0 Looks like it hits 71% at about the time you were thinking.\u00A0 I did notice that you don\u0027t change the throttle model at lift off, so it will just continue to accelerate at 100%/s/s until it hits 100%, at which point it will saturate and plateau as it did.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022x4BwedS.png\u0022 class=\u0022ipsImage\u0022 height=\u0022675\u0022 src=\u0022https://i.imgur.com/x4BwedS.png\u0022 width=\u0022871\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497893\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543796325\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell I guess the real question is how much does it affect the performance of the script and optimizer if every event is checked to consider an \u003Cabbr title=\u0022Sphere of Influence\u0022\u003ESOI\u003C/abbr\u003E transition? If it takes a lot of events to become an issue, then really there\u0027s no problem with always just leaving it on. Maybe that\u0027s another question more use will have to answer?\n\u003C/p\u003E\n\u003Cp\u003E\nI edited this into my last post but in case you didn\u0027t notice (I just now only noticed the edits you made to your post even :P) - I can\u0027t see any option to add an action that affects these values\n\u003C/p\u003E\n\u003Cp\u003E\nAlso watching the Cd value in the \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E window during a launch and seeing how much it changes, I\u0027m guessing it\u0027s good enough to know in general how much the value is for stages like initial ascent, passing through Max Q, passing into the upper atmo?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cul\u003E\u003Cli\u003E\nIt\u0027s impact is variable, but it is large enough generally that I went to the effort to be able to turn it off.\u00A0 If you have any thoughts after using LVD for a bit, definitely let me know.\u00A0 I\u0027m open to changing the default. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nSo this is embarrassing... I could have sworn there was an action to change drag area and Cd, but apparently there isn\u0027t.\u00A0 I\u0027ll add this for the next pre-release.\u00A0 For now, for you, since your vehicle is a cylinder with no side boosters, it\u0027s not a big deal.\n\u003C/li\u003E\n\u003Cli\u003E\nYou would be correct here.\u00A0 And once you\u0027re out of the atmosphere, it doesn\u0027t matter at all. \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T00:45:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497896\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543796873\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI determined that the time which T2W = 1.2 is 74604178.1055479 seconds UT, and then plotted throttle vs. time.\u00A0 Looks like it hits 71% at about the time you were thinking.\u003Cspan\u003E\uFEFF\u003C/span\u003E\u00A0 I did notice that you don\u0027t change the throttle model at lift off, so it will just continue to accelerate at 100%/s/s until it hits 100%, at which point it will saturate and plateau as it did.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOoohhhhh.... I\u0027m still wrapping my head about how the events lead to actions but now this makes sense. I think I know what to do now.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497876\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543794205\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n54 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003E\u003Cspan\u003EEDIT: I checked the 2 stage to orbit and GTO LVD examples and they both look fine.\u00A0 Not sure what\u0027s going on on your end.\u00A0 If you see a warning about script execution time being exceeded, it may just be that the first run usually takes a fair bit more time than the subsequent runs due to MATLAB\u0027s JIT compiler doing its thing.\u00A0 Either just open and close an event to rerun things, or increase the max allowed run t\u003C/span\u003E\u003C/span\u003E\u003C/span\u003Eime in Settings -\u0026gt; Integration Settings -\u0026gt; Max Script Prop Time.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT2: Try redownloading the KSPTOT release on the \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\u00A0 It should have updated example files... could be that I forgot to update in the ZIP file at some point or something.\u00A0 Btw you are using the latest pre-release, right?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthis is bizarre, but here\u0027s what I did. I redownloaded the entire package and plopped it into a \u0022KSPTOT New\u0022 folder in the directory, next to my \u0022KSPTOT\u0022 folder. I ran the program and loaded the mission file for 2 stage to orbit and got this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FI7L4kR.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/FI7L4kR.png\u0022 width=\u0022332\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOk that looks good! So I copied the .exe from the \u0022KSPTOT New\u0022 folder to the \u0022KSPTOT\u0022 folder and over-wrote that one, which should have also been the latest pre-release. I ran it, loaded the mission file and saw this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022VlhgB57.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/VlhgB57.png\u0022 width=\u0022342\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E buuhhhhhhh....\n\u003C/p\u003E\n\u003Cp\u003E\nAlright so then I renamed \u0022KSPTOT\u0022 to \u0022KSPTOT Old\u0022 and \u0022KSPTOT New\u0022 to \u0022KSPTOT\u0022 - ran the program and came up with a good orbit result again. So \u003Cem\u003Esomething\u003C/em\u003E in my original KSPTOT folder got corrupted somehow in some way. Looks like I\u0027m good now tho...\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-03T00:51:11Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497910\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543797919\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOoohhhhh.... I\u0027m still wrapping my head about how the events lead to actions but now this makes sense. I think I know what to do now.\n\u003C/p\u003E\n\u003Cp\u003E\nthis is bizarre, but here\u0027s what I did. I redownloaded the entire package and plopped it into a \u0022KSPTOT New\u0022 folder in the directory, next to my \u0022KSPTOT\u0022 folder. I ran the program and loaded the mission file for 2 stage to orbit and got this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022FI7L4kR.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/FI7L4kR.png\u0022 width=\u0022332\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOk that looks good! So I copied the .exe from the \u0022KSPTOT New\u0022 folder to the \u0022KSPTOT\u0022 folder and over-wrote that one, which should have also been the latest pre-release. I ran it, loaded the mission file and saw this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022VlhgB57.png\u0022 class=\u0022ipsImage\u0022 height=\u0022352\u0022 src=\u0022https://i.imgur.com/VlhgB57.png\u0022 width=\u0022342\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E buuhhhhhhh....\n\u003C/p\u003E\n\u003Cp\u003E\nAlright so then I renamed \u0022KSPTOT\u0022 to \u0022KSPTOT Old\u0022 and \u0022KSPTOT New\u0022 to \u0022KSPTOT\u0022 - ran the program and came up with a good orbit result again. So \u003Cem\u003Esomething\u003C/em\u003E in my original KSPTOT folder got corrupted somehow in some way. Looks like I\u0027m good now tho...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Col\u003E\u003Cli\u003E\nEvents are made up of two things: a termination condition and actions.\u00A0 The event starts at the state from the end of the previous event and propagates until the termination condition is reached.\u00A0 Once it is, propagation terminates. Actions are then executed to change whatever it is you want to change.\u00A0 So actions always execute at the end of their event.\n\u003C/li\u003E\n\u003Cli\u003E\nThis is bizarre, but if you can ever figure out how to replicate it, please let me know, because it looks like something that might need to be fixed.\n\u003C/li\u003E\n\u003C/ol\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-03T00:51:47Z\u0022 title=\u002212/03/2018 12:51  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 3, 2018\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T01:06:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497915\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543798271\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOnce it is\u003Cspan\u003E\uFEFF\u003C/span\u003E, propagation terminates\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E\u003Cspan\u003E\uFEFF\u003C/span\u003E. Actions are then executed to change whatever it is you want to change.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIn this case, my real mis-understanding was that the throttle \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E event was stopping the throttle propagation, not just the time propagation. So what I will do now is get the throttle value after that event and add the action to hold throttle at that setting - which isn\u0027t \u003Cem\u003Equite\u003C/em\u003E the same as what my kOS script is doing because it\u0027s \u003Cem\u003Emaintaining\u003C/em\u003E a 1.2 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E through to clearing the tower so as fuel drains the throttle will change but I realize this is not going to be a large enough difference to matter! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497915\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543798271\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is bizarre, but if you can ever \u003Cspan\u003E\uFEFF\u003C/span\u003Efigure out how to replicate it, please let me know, because it looks like something that might need to be fixed. \u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYea I don\u0027t know, seems something environmental in the install folder. I\u0027ve just nuked it and started a new one. If I notice improper behavior in the future, I will try a new install in a whole new directory before doing a bug report\n\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2018-12-03T01:57:28Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497923\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543799166\u0022 data-ipsquote-userid=\u0022103177\u0022 data-ipsquote-username=\u0022Drew Kerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Drew Kerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn this case, my real mis-understanding was that the throttle \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E event was stopping the throttle propagation, not just the time propagation. So what I will do now is get the throttle value after that event and add the action to hold throttle at that setting - which isn\u0027t \u003Cem\u003Equite\u003C/em\u003E the same as what my kOS script is doing because it\u0027s \u003Cem\u003Emaintaining\u003C/em\u003E a 1.2 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E through to clearing the tower so as fuel drains the throttle will change but I realize this is not going to be a large enough difference to matter! \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh got it.\u00A0 Yeah, the idea is that when you change some aspect of the vehicle state, it will remain that way and continue propagating.\u00A0 So if you change the throttle model, it will keep that throttle model for all time, until you change it again.\u00A0 If you change the state of a stage or engine, that stage or engine keeps that state until you change it in the future.\n\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T02:43:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223497940\u0022 data-ipsquote-contentid=\u002233568\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543802248\u0022 data-ipsquote-userid=\u00222521\u0022 data-ipsquote-username=\u0022Arrowstar\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n46 minutes ago, Arrowstar said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh got it.\u00A0 Yeah, the idea is that when you change some aspect of the vehicle state, it will remain that way and continue propagating.\u00A0 So if you change the throttle model, it will keep that throttle model for all time, until you change it again.\u00A0 If you change the state of a stage or engine, that stage or engine keeps that state until you change it in the future. \u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYup I grok it much better now. In fact when I used the action to set the throttle to the 1.2 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E I also set the linear change to -0.4 based on my previous launch data, and that decreased the throttle by the same amount my kOS code would do to maintain the 1.2 \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E until the rocket clears the tower and throttles to full.\n\u003C/p\u003E\n\u003Cp\u003E\nBut now here\u0027s something else weird for you to look at next chance you get - \u003Ca href=\u0022http://www.kerbalspace.agency/misc/Ascension%20Mk1%20%233%20LVD.zip\u0022 rel=\u0022external nofollow\u0022\u003Edownload file\u003C/a\u003E. Here\u0027s the problem, starting with the file marked \u003Cspan\u003E#2\u003C/span\u003E:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nright-click on the second event and get the End UT time\n\u003C/li\u003E\n\u003Cli\u003E\nOpen the graphical analysis, paste the End UT time\n\u003C/li\u003E\n\u003Cli\u003E\nSelect throttle\n\u003C/li\u003E\n\u003Cli\u003E\nPlot\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nIt\u0027ll show that it only reaches 65.76584. Now, if I got back to the first MAT file I sent you and do the same thing, it tells me 71.1191. I spent several minutes going back and forth between the two files, and I couldn\u0027t figure out what was different about them. I built the newer file directly off the old one, I didn\u0027t re-create the mission \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-03T02:43:43Z\u0022 title=\u002212/03/2018 02:43  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 3, 2018\u003C/time\u003E by Drew Kerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2018-12-03T04:55:02Z","Content":"\n\u003Cp\u003E\nso how would you go about enforcing a \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E lock in LVD anyways? It\u0027s definitely a thing I\u0027ve seen actual rockets do, maintaining a constant \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E. This is what I thought the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E event was doing and IMO it makes more sense that way. It would be similar in function to the option to preserve angle continuity in the steering control. So at the end of the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E event for the action when you select the throttle model you click a checkbox to maintain current \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E from that point forward until the throttle model is modified. This would also apply to throttle events in general. So like, even if you don\u0027t use the \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E event and you just set the throttle to 70% at launch, if you click the \u0022maintain \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E\u0022 option whatever the vehicle\u0027s \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E at 70% throttle would be maintained.\n\u003C/p\u003E\n\u003Cp\u003E\nTried to model the last launch I did but ended up with a different trajectory than the actual one. I wasn\u0027t expecting to match it up perfectly but didn\u0027t expect such a large discrepancy. I really think though that it\u0027s due to being unable to change the Cd during flight. The Magenta line is using a Cd of 0.15, which is about average for all but the upper atmosphere where it gets really high. The green line is with the default Cd of 2.2. If I could vary the Cd properly at certain stages of the flight I think I could closely match the actual trajectory. I know that\u0027s coming in the next pre-release. No rush, but if I could play with it tomorrow I would \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022whazam.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022http://www.kerbalspace.agency/misc/whazam.png\u0022 width=\u0022695\u0022\u003E\u003C/p\u003E\n"}]}