{"TopicId":164011,"ForumId":20,"TopicTitle":"Hacking a USB Keyboard, How Hard Is It?","CreatedByName":"Ty Tan Tu","CreatedById":167214,"CreatedDateTime":"2017-08-03T02:38:03Z","PageNum":1,"Articles":[{"CreatedByName":"Ty Tan Tu","CreatedById":167214,"CreatedDateTime":"2017-08-03T02:38:03Z","Content":"\n\u003Cp\u003E\nI am just thinking out loud. I have been thinking about building a custom KSP controller, but when I start looking at the components and programming required, I started to get a bit overwhelmed. But then I started thinking... A USB keyboard already has all the circuitry and programming built in.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs I understand it, the typical keyboard has a circuit board and two sheets. The outer sheet connects with the physical key. The top sheet then contacts a point on the second sheet. The second inter sheet contacts a point on the circuit board. So if you could map the first sheet to the second sheet you should know which pins on the circuit board\u00A0produces specific codes.\n\u003C/p\u003E\n\u003Cp\u003E\nI should take a keyboard apart and see just how small the board is (I am not very good at soldering), but would it be possible to hack a USB keyboard as the starting point for a custom KSP controller?\n\u003C/p\u003E\n"},{"CreatedByName":"h0yer","CreatedById":112042,"CreatedDateTime":"2017-08-03T07:27:40Z","Content":"\n\u003Cp\u003E\nTaking apart stuff is fun \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can replace the coated plastic sheets with actual wiring and proper heavy-duty-switches, the two sheets are more or less the X and Y axis of a switching matrix, rows and lines, so to say, but not exactly.\n\u003C/p\u003E\n\u003Cp\u003E\nSome have direct matrices, some have resistor networks with fewer wires, analog voltage discrimination, so to say.\n\u003C/p\u003E\n\u003Cp\u003E\nBut I can\u0027t tell you which keyboard utilizes which switching type, didn\u0027t rip open any keyboards for years now^^\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou can as well buy a barebone-USB-keyboard-driver, a printed circuit board for experimentations, electronic stores for hobbyists usually have such stuff and they are only a few bucks.\n\u003C/p\u003E\n\u003Cp\u003E\nDon\u0027t bother with the plastic sheets (cutting/soldering/rewiring), lots of tears are sure to come, they only exist for cheap mass production^^\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYoutube has quite a lot of resources, if you want to master soldering, it\u0027s actually pretty simple, you just need steady hands, and of course the tools themselves. And of course a little bit of self discipline and physical awareness, resting a hot soldering iron on ones lap is not very recommendable (I have seen people doing this).\n\u003C/p\u003E\n\u003Cp\u003E\nAll detailed information about which solder to use, which flux enhancer, which pre/post cleaning agent and the specific teperatures is available online.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd if you should destroy one keyboard, don\u0027t mind, remove all internal stuff and plant some garden cress inside the keyboard and let it grow between the keys, looks nice \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-08-04T23:53:31Z","Content":"\n\u003Cp\u003E\nI\u0027ve tried this and been frustrated with the poor construction of any keyboard cheap enough to be okay taking apart! \u00A0I got frustrated trying to physically attach to the circuit board... \u00A0but that was ages ago and I don\u0027t remember what EXACTLY was annoying me. \u00A0 Though, yes, you\u0027ll have to tag on to the X and Y lines and trigger both of those to send the keystroke. \u00A0\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nYou REALLY won\u0027t regret getting into something like Arduino - there\u0027s a simple library to enable arduinos with the right usb chip to emulate a keyboard very simply -\u00A0\u003Ca href=\u0022https://www.arduino.cc/en/Reference/MouseKeyboard\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.arduino.cc/en/Reference/MouseKeyboard\u003C/a\u003E\u00A0. \u00A0There\u0027s a huge community around arduino, lots of tutorials, and a couple of KSP implementations already that are doing basically what you want to do that might be worth looking into, and would definitely be places to ask for help.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m ALSO playing myself with a raspberry pi idea... that utilizes the KRPC plugin to move data over network. \u00A0The idea would be to roll a raspberry pi image that anyone could just burn to an SD card and run with - so when you booted up you got a bunch of telemetry data on the HDMI screen..and that is almost done... and when finished I was going to experiment with a simple way to allow people to attach buttons to the GPIO pins? \u00A0 Maybe add a .cfg file people could edit to route the button pins to whatever functions they wanted control of? \u00A0But that\u0027s more advanced than you want to get into right now! \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLet us know what you end up trying and how it works out!\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}