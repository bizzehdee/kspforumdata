{"TopicId":115648,"ForumId":16,"TopicTitle":"POSSIBLE ANSWER---\u0026gt; Fuel Cells: Inputs and Outputs????","CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:04:10Z","PageNum":1,"Articles":[{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:04:10Z","Content":"\n\u003Cp\u003EUPDATE: I think I found the answer (see Post No. 14 please)\u003C/p\u003E\u003Cp\u003ESpecifically, can you restrict the tanks they draw fuel \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Efrom\u003C/span\u003E AND still allow full recharging of \u003Cspan style=\u0022text-decoration:underline;\u0022\u003Eall\u003C/span\u003E vessel electrics?\u003C/p\u003E\u003Cp\u003EAny experiences? Thoughts? Best practices? \u003C/p\u003E\u003Cp\u003EIt could be completely obvious - So I might have a bit of a mental block ;-)\u003C/p\u003E\u003Cp\u003EMany thanks in advance!\u003C/p\u003E\u003Cp\u003EW.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-12T10:11:56Z\u0022 title=\u002207/12/2015 10:11  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 12, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T18:07:12Z","Content":"\n\u003Cp\u003EGood question. I\u0027m not sure if they follow the rules of the valve closer [the little green arrow]. It has this line:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EFlowMode = STAGE_PRIORITY_FLOW\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo I\u0027m assuming if you block off the tank with the valve then it\u0027ll stop draining fuel from there, but I\u0027ve never tested it. I only use cells for rovers and bases.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-11T18:07:47Z","Content":"\n\u003Cp\u003EYou can disable tanks so that the cells don\u0027t draw fuel from them.\u003C/p\u003E\u003Cp\u003EEdit for Ninja Ferrows: STAGE_PRIORITY_FLOW is like monoprop, it will draw from all tanks evenly in a stage, with stage determined by number of decouplers between tank and root part.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:14:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EYou can disable tanks so that the cells don\u0027t draw fuel from them.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHmmm... But since I can\u0027t shut off a tank via an action group that would mean I need to right click on EVERY tank in my vessel to set its fuel access.\u003C/p\u003E\u003Cp\u003EI don\u0027t like that option.\u003C/p\u003E\u003Cp\u003EPerhaps there is an action group mod that can handle that? need to check...\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThe Fuel cells clearly draw fuel from the farthest tanks in the fuel flow chain (from what I can see).\u003C/p\u003E\u003Cp\u003EIt would be nice to be able to specifically designate any fuel tank as \u0022FUEL CELL ASSIGNED\u0022 and these tanks would be the only ones that any fuel cells would draw from.\u003C/p\u003E\u003Cp\u003EHere is my current predicament...\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022%5Bimg%5Dhttp%3A//i.imgur.com/gvjXgqj.png\u0022 alt=\u0022gvjXgqj.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EInside the CSM service bay we have two groupings of oscar tanks each with a small fuel cell - these two units represent a couple of fuel cells. Ideally a fuel cell would ONLY draw fuel from three oscar fuel tanks aligned to it. Once the tanks are empty, the fuel cell is spent.\u003C/p\u003E\u003Cp\u003EMake sense?\u003C/p\u003E\u003Cp\u003EWould a part without crossfeed work to isolate the subassembly? or would that also prohibit electric charge pass through?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T18:31:27Z\u0022 title=\u002207/11/2015 06:31  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-07-11T19:18:11Z","Content":"\n\u003Cp\u003EDon\u0027t decouplers prevent crossfeed to the likes of these?\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T19:19:13Z","Content":"\n\u003Cp\u003EI guess I need to now conduct a test.\u003C/p\u003E\u003Cp\u003EEDIT: Test conducted, I placed a small decoupler between the three oscar tanks and the cubic strut. \u003Cstrong\u003ENo effect.\u003C/strong\u003E The fuel draw continues to pull from the farthest tanks in the fuel flow/staging sequence.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T19:29:56Z\u0022 title=\u002207/11/2015 07:29  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T20:02:59Z","Content":"\n\u003Cp\u003ETry removing the FlowMode line, and see if that works.\u003C/p\u003E\u003Cp\u003EEDIT: You might need fuel lines, but I\u0027m not sure about that.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T20:09:08Z\u0022 title=\u002207/11/2015 08:09  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Xannari Ferrows\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-07-11T20:32:36Z","Content":"\n\u003Cp\u003EWhat happens if you disable crossfeed in the docking coupler ?\u003C/p\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T20:45:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DancesWithSquirrels\u0022 data-cite=\u0022DancesWithSquirrels\u0022\u003E\u003Cdiv\u003EWhat happens if you disable crossfeed in the docking coupler ?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat only works with STACK_PRIORITY_SEARCH I believe. It may work with ALL_VESSEL as well.\u003C/p\u003E\u003Cp\u003EEDIT: Wait a minute... That just might work. If you change the FlowMode to STACK_PRIORITY_SEARCH, it will [or at least should] drain fuel the same way an engine does. [Engines follow part crossfeed rules, while Jet Engines and Fuel Cells don\u0027t]\u003C/p\u003E\u003Cp\u003EThen again, I\u0027m starting to think this may be related to the ModuleResourceConverter.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T20:53:50Z\u0022 title=\u002207/11/2015 08:53  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Xannari Ferrows\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T20:47:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Xannari Ferrows\u0022 data-cite=\u0022Xannari Ferrows\u0022\u003E\u003Cdiv\u003ETry removing the FlowMode line, and see if that works.\u003Cp\u003EEDIT: You might need fuel lines, but I\u0027m not sure about that.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t work. commented out the lines for both oxy and liquid tried with and without fuel lines - still draws resources from all tanks. Grrrr...\u003C/p\u003E\u003Cp\u003EThat grr is for the module, not for your assistance ;-)\u003C/p\u003E\u003Cp\u003EAre there any other values for FlowMode?\u003C/p\u003E\u003Cp\u003EEDIT: just saw your edit. give me a bit of time. I\u0027ll test again...\u003C/p\u003E\u003Cp\u003EEDIT2: And.... no. still draws from all over. Reinstating the \u0022Grrr\u0022 :-)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T21:07:36Z\u0022 title=\u002207/11/2015 09:07  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T21:10:47Z","Content":"\n\u003Cp\u003EReally? Okay, I\u0027m convinced this is a module issue at this point.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T22:04:38Z","Content":"\n\u003Cp\u003EIt\u0027s likely not a \u0022bug\u0022 persay, but it really doesn\u0027t operate like a real fuel cell which is a unitized self contained source of electric and water. \u003C/p\u003E\u003Cp\u003EEveryone who contributed gets a big thank you and rep if I can give it. (Sorry red, my rep to you is blocked so please accept sunshine, wine, cheese and positive rays...)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-11T22:08:38Z\u0022 title=\u002207/11/2015 10:08  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T09:07:07Z","Content":"\n\u003Cp\u003EOK, I had one last try with what SHOULD work (in my perhaps naive view), I isolated a stack of three oscars and a fuel cell from the rest of the vehicle via a Clamp jr. docking port and then turned off the cross-feed.\u003C/p\u003E\u003Cp\u003EAnd...\u003C/p\u003E\u003Cp\u003EStill Failure :-(\u003C/p\u003E\u003Cp\u003ENothing I can do in the stock game allows me to isolate tanks attached to a fuel cell from the rest of the vehicle. I can\u0027t create a standalone fuel cell which is disengaged from the wider ships propellent systems.\u003C/p\u003E\u003Cp\u003EI find is beyond the realm of understanding that a crew would have to turn off ALL the propellent systems in their vessel just to properly isolate a fuel cell power generator and let it operate properly.\u003C/p\u003E\u003Cp\u003EFunny. Not a deal breaker but definitely a head scratching moment.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T09:55:40Z","Content":"\n\u003Cp\u003EEUREKA!\u003C/p\u003E\u003Cp\u003EOk, found it.\u003C/p\u003E\u003Cp\u003EThere is a value for flowmode = STACK_PRIORITY_SEARCH. This seems to restrict flow to/from a resource in the moduleresourceconverter. In the instance of my ideal fuel cell, when flowmode is set to \u0022STACK_PRIORITY_SEARCH\u0022 for an input resource (LF and OX in this instance), then any resource connected to the fuel cell is consumed and it is NOT replenished from the vessel\u0027s resource stack that lies outside the bounds of a crossfeed disabled part.\u003C/p\u003E\u003Cp\u003ESo after Frankensteining the part configs from the OscarB and small fuellcell I was able to muck around with flowmode to construct a test mule part which performs as I intend.\u003C/p\u003E\u003Cp\u003EEDIT: What actually happens is that the part will draw resources from an adjacent resource BUT a crossfeed part (Clamp jr. or decoupler) can now be placed between the fuel cell and the rest of the vessel and prevent resource flow in. You can still allow the fuel cell to pull vessel resources by enabling cross-feed on the docking port. I might be able to just hack the fullcell config and not have to make a part model. Joy.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EAm I correct here?\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003ENow on to learn Blender. lol.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-07-12T20:22:17Z\u0022 title=\u002207/12/2015 08:22  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 12, 2015\u003C/time\u003E by Wallygator\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-07-12T10:01:55Z","Content":"\n\u003Cp\u003EI think this is the same issue as with RCS. There has never been an easy fix for that either. Closest is to use the TAC Fuel Balance mod, which might give you the fix you need.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T10:11:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Foxster\u0022 data-cite=\u0022Foxster\u0022\u003E\u003Cdiv\u003EI think this is the same issue as with RCS. There has never been an easy fix for that either. Closest is to use the TAC Fuel Balance mod, which might give you the fix you need.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks, yes I recall the RSC issue now that you mention it. I would really like a functional analogue fuel cell. I think that having created a workable standalone part config, then the best action now is to take it for a spin. I will need a new part mesh at some point, but repurposing the OscarB tank .mu is sufficient for these purposes.\u003C/p\u003E\n"},{"CreatedByName":"SAI Peregrinus","CreatedById":125558,"CreatedDateTime":"2015-07-12T12:43:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wallygator\u0022 data-cite=\u0022Wallygator\u0022\u003E\u003Cdiv\u003EThanks, yes I recall the RSC issue now that you mention it. I would really like a functional analogue fuel cell. I think that having created a workable standalone part config, then the best action now is to take it for a spin. I will need a new part mesh at some point, but repurposing the OscarB tank .mu is sufficient for these purposes.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe alkaline fuel cell from \u003Ca href=\u0022http://www.kingtiger.co.uk/kingtiger/wordpress/universal-storage-a-mod-for-kerbal-space-program/universal-storage-parts/\u0022 rel=\u0022external nofollow\u0022\u003EUniversal Storage\u003C/a\u003E might also fit your needs. It uses Hydrogen/Oxygen instead of LF/O, and comes with a bit of internal fuel. There are also tanks for it.\u003C/p\u003E\n"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T13:10:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022SAI Peregrinus\u0022 data-cite=\u0022SAI Peregrinus\u0022\u003E\u003Cdiv\u003EThe alkaline fuel cell from \u003Ca href=\u0022http://www.kingtiger.co.uk/kingtiger/wordpress/universal-storage-a-mod-for-kerbal-space-program/universal-storage-parts/\u0022 rel=\u0022external nofollow\u0022\u003EUniversal Storage\u003C/a\u003E might also fit your needs. It uses Hydrogen/Oxygen instead of LF/O, and comes with a bit of internal fuel. There are also tanks for it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFair enough, I will check it out.\u003C/p\u003E\u003Cp\u003EHowever, with this small config file change (I like to think it is a correction) in the two stock fuel cell parts, I can now create an isolated fuel cell from stock tanks. It still allows them to operate normally as I think the devs intended, but they now behave properly when a docking port is present and crossfeed is disabled.\u003C/p\u003E\n"}]}