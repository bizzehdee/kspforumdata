{"TopicId":115648,"ForumId":16,"TopicTitle":"POSSIBLE ANSWER---\u003E Fuel Cells: Inputs and Outputs????","CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:04:10Z","PageNum":1,"Articles":[{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:04:10Z","Content":"UPDATE: I think I found the answer (see Post No. 14 please)\n\nSpecifically, can you restrict the tanks they draw fuel from AND still allow full recharging of all vessel electrics?\n\nAny experiences? Thoughts? Best practices? \n\nIt could be completely obvious - So I might have a bit of a mental block ;-)\n\nMany thanks in advance!\n\nW.\n\n**Edited \u003Ctime datetime=\u00222015-07-12T10:11:56Z\u0022 title=\u002207/12/2015 10:11  AM\u0022 data-short=\u00228 yr\u0022\u003EJuly 12, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T18:07:12Z","Content":"Good question. I\u0027m not sure if they follow the rules of the valve closer [the little green arrow]. It has this line:\n\n    FlowMode = STAGE_PRIORITY_FLOW\n\nSo I\u0027m assuming if you block off the tank with the valve then it\u0027ll stop draining fuel from there, but I\u0027ve never tested it. I only use cells for rovers and bases."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-07-11T18:07:47Z","Content":"You can disable tanks so that the cells don\u0027t draw fuel from them.\n\nEdit for Ninja Ferrows: STAGE\\_PRIORITY\\_FLOW is like monoprop, it will draw from all tanks evenly in a stage, with stage determined by number of decouplers between tank and root part."},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T18:14:54Z","Content":"\u003E \n\u003E You can disable tanks so that the cells don\u0027t draw fuel from them.\n\nHmmm... But since I can\u0027t shut off a tank via an action group that would mean I need to right click on EVERY tank in my vessel to set its fuel access.\n\nI don\u0027t like that option.\n\nPerhaps there is an action group mod that can handle that? need to check...\n\n- - - Updated - - -\n\nThe Fuel cells clearly draw fuel from the farthest tanks in the fuel flow chain (from what I can see).\n\nIt would be nice to be able to specifically designate any fuel tank as \u0022FUEL CELL ASSIGNED\u0022 and these tanks would be the only ones that any fuel cells would draw from.\n\nHere is my current predicament...\n\n![gvjXgqj.png](%5Bimg%5Dhttp%3A//i.imgur.com/gvjXgqj.png)\n\nInside the CSM service bay we have two groupings of oscar tanks each with a small fuel cell - these two units represent a couple of fuel cells. Ideally a fuel cell would ONLY draw fuel from three oscar fuel tanks aligned to it. Once the tanks are empty, the fuel cell is spent.\n\nMake sense?\n\nWould a part without crossfeed work to isolate the subassembly? or would that also prohibit electric charge pass through?\n\n**Edited \u003Ctime datetime=\u00222015-07-11T18:31:27Z\u0022 title=\u002207/11/2015 06:31  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Sharpy","CreatedById":145504,"CreatedDateTime":"2015-07-11T19:18:11Z","Content":"Don\u0027t decouplers prevent crossfeed to the likes of these?"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T19:19:13Z","Content":"I guess I need to now conduct a test.\n\nEDIT: Test conducted, I placed a small decoupler between the three oscar tanks and the cubic strut. **No effect.** The fuel draw continues to pull from the farthest tanks in the fuel flow/staging sequence.\n\n**Edited \u003Ctime datetime=\u00222015-07-11T19:29:56Z\u0022 title=\u002207/11/2015 07:29  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T20:02:59Z","Content":"Try removing the FlowMode line, and see if that works.\n\nEDIT: You might need fuel lines, but I\u0027m not sure about that.\n\n**Edited \u003Ctime datetime=\u00222015-07-11T20:09:08Z\u0022 title=\u002207/11/2015 08:09  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Xannari Ferrows**"},{"CreatedByName":"DancesWithSquirrels","CreatedById":138267,"CreatedDateTime":"2015-07-11T20:32:36Z","Content":"What happens if you disable crossfeed in the docking coupler ?"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T20:45:31Z","Content":"\u003E \n\u003E What happens if you disable crossfeed in the docking coupler ?\n\nThat only works with STACK\\_PRIORITY\\_SEARCH I believe. It may work with ALL\\_VESSEL as well.\n\nEDIT: Wait a minute... That just might work. If you change the FlowMode to STACK\\_PRIORITY\\_SEARCH, it will [or at least should] drain fuel the same way an engine does. [Engines follow part crossfeed rules, while Jet Engines and Fuel Cells don\u0027t]\n\nThen again, I\u0027m starting to think this may be related to the ModuleResourceConverter.\n\n**Edited \u003Ctime datetime=\u00222015-07-11T20:53:50Z\u0022 title=\u002207/11/2015 08:53  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Xannari Ferrows**"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T20:47:18Z","Content":"\u003E \n\u003E Try removing the FlowMode line, and see if that works.\n\u003E EDIT: You might need fuel lines, but I\u0027m not sure about that.\n\nDoesn\u0027t work. commented out the lines for both oxy and liquid tried with and without fuel lines - still draws resources from all tanks. Grrrr...\n\nThat grr is for the module, not for your assistance ;-)\n\nAre there any other values for FlowMode?\n\nEDIT: just saw your edit. give me a bit of time. I\u0027ll test again...\n\nEDIT2: And.... no. still draws from all over. Reinstating the \u0022Grrr\u0022 :-)\n\n**Edited \u003Ctime datetime=\u00222015-07-11T21:07:36Z\u0022 title=\u002207/11/2015 09:07  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Xannari Ferrows","CreatedById":125369,"CreatedDateTime":"2015-07-11T21:10:47Z","Content":"Really? Okay, I\u0027m convinced this is a module issue at this point."},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-11T22:04:38Z","Content":"It\u0027s likely not a \u0022bug\u0022 persay, but it really doesn\u0027t operate like a real fuel cell which is a unitized self contained source of electric and water. \n\nEveryone who contributed gets a big thank you and rep if I can give it. (Sorry red, my rep to you is blocked so please accept sunshine, wine, cheese and positive rays...)\n\n**Edited \u003Ctime datetime=\u00222015-07-11T22:08:38Z\u0022 title=\u002207/11/2015 10:08  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 11, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T09:07:07Z","Content":"OK, I had one last try with what SHOULD work (in my perhaps naive view), I isolated a stack of three oscars and a fuel cell from the rest of the vehicle via a Clamp jr. docking port and then turned off the cross-feed.\n\nAnd...\n\nStill Failure :-(\n\nNothing I can do in the stock game allows me to isolate tanks attached to a fuel cell from the rest of the vehicle. I can\u0027t create a standalone fuel cell which is disengaged from the wider ships propellent systems.\n\nI find is beyond the realm of understanding that a crew would have to turn off ALL the propellent systems in their vessel just to properly isolate a fuel cell power generator and let it operate properly.\n\nFunny. Not a deal breaker but definitely a head scratching moment."},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T09:55:40Z","Content":"EUREKA!\n\nOk, found it.\n\nThere is a value for flowmode = STACK\\_PRIORITY\\_SEARCH. This seems to restrict flow to/from a resource in the moduleresourceconverter. In the instance of my ideal fuel cell, when flowmode is set to \u0022STACK\\_PRIORITY\\_SEARCH\u0022 for an input resource (LF and OX in this instance), then any resource connected to the fuel cell is consumed and it is NOT replenished from the vessel\u0027s resource stack that lies outside the bounds of a crossfeed disabled part.\n\nSo after Frankensteining the part configs from the OscarB and small fuellcell I was able to muck around with flowmode to construct a test mule part which performs as I intend.\n\nEDIT: What actually happens is that the part will draw resources from an adjacent resource BUT a crossfeed part (Clamp jr. or decoupler) can now be placed between the fuel cell and the rest of the vessel and prevent resource flow in. You can still allow the fuel cell to pull vessel resources by enabling cross-feed on the docking port. I might be able to just hack the fullcell config and not have to make a part model. Joy.\n\n**Am I correct here?**\n\nNow on to learn Blender. lol.\n\n**Edited \u003Ctime datetime=\u00222015-07-12T20:22:17Z\u0022 title=\u002207/12/2015 08:22  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 12, 2015\u003C/time\u003E by Wallygator**"},{"CreatedByName":"Foxster","CreatedById":113764,"CreatedDateTime":"2015-07-12T10:01:55Z","Content":"I think this is the same issue as with RCS. There has never been an easy fix for that either. Closest is to use the TAC Fuel Balance mod, which might give you the fix you need."},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T10:11:10Z","Content":"\u003E \n\u003E I think this is the same issue as with RCS. There has never been an easy fix for that either. Closest is to use the TAC Fuel Balance mod, which might give you the fix you need.\n\nThanks, yes I recall the RSC issue now that you mention it. I would really like a functional analogue fuel cell. I think that having created a workable standalone part config, then the best action now is to take it for a spin. I will need a new part mesh at some point, but repurposing the OscarB tank .mu is sufficient for these purposes."},{"CreatedByName":"SAI Peregrinus","CreatedById":125558,"CreatedDateTime":"2015-07-12T12:43:12Z","Content":"\u003E \n\u003E Thanks, yes I recall the RSC issue now that you mention it. I would really like a functional analogue fuel cell. I think that having created a workable standalone part config, then the best action now is to take it for a spin. I will need a new part mesh at some point, but repurposing the OscarB tank .mu is sufficient for these purposes.\n\nThe alkaline fuel cell from [Universal Storage](http://www.kingtiger.co.uk/kingtiger/wordpress/universal-storage-a-mod-for-kerbal-space-program/universal-storage-parts/) might also fit your needs. It uses Hydrogen/Oxygen instead of LF/O, and comes with a bit of internal fuel. There are also tanks for it."},{"CreatedByName":"Wallygator","CreatedById":97357,"CreatedDateTime":"2015-07-12T13:10:47Z","Content":"\u003E \n\u003E The alkaline fuel cell from [Universal Storage](http://www.kingtiger.co.uk/kingtiger/wordpress/universal-storage-a-mod-for-kerbal-space-program/universal-storage-parts/) might also fit your needs. It uses Hydrogen/Oxygen instead of LF/O, and comes with a bit of internal fuel. There are also tanks for it.\n\nFair enough, I will check it out.\n\nHowever, with this small config file change (I like to think it is a correction) in the two stock fuel cell parts, I can now create an isolated fuel cell from stock tanks. It still allows them to operate normally as I think the devs intended, but they now behave properly when a docking port is present and crossfeed is disabled."}]}