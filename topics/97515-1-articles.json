{"TopicId":97515,"ForumId":39,"TopicTitle":"Starting my own control board, just how do I do this?","CreatedByName":"Rassa Farlander","CreatedById":63627,"CreatedDateTime":"2015-01-23T05:58:35Z","PageNum":1,"Articles":[{"CreatedByName":"Rassa Farlander","CreatedById":63627,"CreatedDateTime":"2015-01-23T05:58:35Z","Content":"\n\u003Cp\u003EHi folks!\u003C/p\u003E\u003Cp\u003E Im looking to build something of my own after being inspired here and in my electronics classes in college. Im just not quite sure how to go about starting. I have an old compaq keyboard with a PS/2 cord I could use for the guts. What I cant figure out is how I can get the keyboards microcontroller think that Im pressing W and S for pitch when Im using a 4 position switch joystick, Or turn my RCS on and off with a momentary toggle switch. I would need to know the pin-out of the microcontroller somehow I figure.\u003C/p\u003E\u003Cp\u003EOR Would I just be better off and go the aurdino route? I know nothing about them.\u003C/p\u003E\u003Cp\u003EThoughts?\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-01-23T08:59:51Z","Content":"\n\u003Cp\u003EA four position joystick has four little microswitches in it. When you push the joystick up, one of those switches closes. \u003C/p\u003E\u003Cp\u003EYour keyboard does some multiplexing magic, but you don\u0027t need to worry about it. What you need to know is that the W key is just a switch. When you press it it shorts two contacts together. \u003C/p\u003E\u003Cp\u003EAll you need to do is take the top off your keyboard, find the contacts the W key hits, and solder leads from those contacts to the up switch on your joystick. The exact same principle applies to momentary buttons for SAS, RCS, etc.\u003C/p\u003E\u003Cp\u003EYou can build a pretty great controller just doing that. For displays, or for doing things like controlling toggle switches, you\u0027ll want to learn your way around an arduino. For that I\u0027d start with a starter kit and a good book.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOh, I forgot the most important part of building a controller. Start a thread here, and post lots of pictures in it. Love seeing how other people do this stuff.\u003C/p\u003E\n"},{"CreatedByName":"Rassa Farlander","CreatedById":63627,"CreatedDateTime":"2015-01-26T04:37:08Z","Content":"\n\u003Cp\u003EOk, so Ive taken the keyboard apart. Inside of it is what appears to be two transparencies with circuits printed on them. How should I go about this? If it was an actual PCB under there Im sure I could figure out the circuit paths and solder away. With this new development Im not sure where to go from here. I can post pics tomorrow if it would be helpful \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"saundby","CreatedById":137070,"CreatedDateTime":"2015-01-30T09:38:21Z","Content":"\n\u003Cp\u003EThe keyboard is what\u0027s known as a membrane keyboard. Basically, the keyboard is still switches connecting two wires together. The wires are in the form of a matrix, laid out logically as columns and rows. So if a wire from column A touches a wire in row 3, the keyboard controller detects that, coverts it to the correct keycode, then sends it to the PC.\u003C/p\u003E\u003Cp\u003EYou can try tracing the wires back from the membranes to where they connect to the controller (often a small PCB, possibly with a regular chip on it, possibly with a chip under a blob of epoxy on it) and figure out the matrix. Here\u0027s an example of a matrix diagram:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://www.sharpmz.org/mz-700/kbmatrix.htm\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.sharpmz.org/mz-700/kbmatrix.htm\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou can also just figure out which connections are the columns and which are the rows (it doesn\u0027t matter for your purposes which is which, just figuring out that one set is for one group and the other are part of the other group.) Then you can plug it into a PC, open an editor, start shorting connections and figure out the character map that way. For example, let\u0027s say you\u0027ve divided the connections into two groups, plus determined which lines carry the modifier keys like Alt, Ctrl, and Shift. Mark the connections somehow if they\u0027re not already marked.\u003C/p\u003E\u003Cp\u003EThen, say, connect one end of a wire to what you\u0027ve decided to call contact row1, and touch the other end to what you\u0027ve called connection column1, then column2, column3, etc until you have noted all the keys on row1. Then go to row2 and do the same thing.\u003C/p\u003E\u003Cp\u003EThen, when you want to wire up SAS, you look at your chart and see that T is, say, row5 to column3. Bingo. Wire your switch between those two points and you\u0027re good.\u003C/p\u003E\n"},{"CreatedByName":"Rassa Farlander","CreatedById":63627,"CreatedDateTime":"2015-01-30T23:16:43Z","Content":"\n\u003Cp\u003EExcellent! Saudby,that is just what I needed \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Its a PCB with the dab of epoxy. The contacts that meet up with the membrane are 7 on one side and 19 on the other. I think Ill hook it up to the PC and try that method. I was thinking of using my multimeter to trace the circuits from key contact to pin, I tried it on an obvious key and it works like I was hoping. Time to dig in to this and see what I can come up with. \u003C/p\u003E\u003Cp\u003EAny suggestions of where I could get some good deals on switches and buttons?\u003C/p\u003E\u003Cp\u003EThanks for making your first post one helping me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E \u002BRep!\u003C/p\u003E\n"},{"CreatedByName":"MrOnak","CreatedById":104432,"CreatedDateTime":"2015-01-30T23:32:12Z","Content":"\n\u003Cp\u003ESwitches and buttons are tough to get really cheap but there are loads of reliable vendors from China on ebay that usually sell without shipping costs. It takes time to get the stuff though, thats the only downside.\u003C/p\u003E\n"}]}