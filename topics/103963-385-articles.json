{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":385,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-03T21:56:29Z","Content":"Giant post ahead ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\nSo I\u0027ve been working on a few things. The blending used in scatterer was rather primitive and relied on using the blend operations built-in to blend the results into the background without having to read back the background, this limits what we can do in term of blending to additive and soft-additive and alpha blending. However since the transition to depth buffer mode, and switching away from MSAA we can now use any blending mode we want. Here I manage to get HDR-like blending without applying HDR tonemapping on the background colors (the game\u0027s shaders aren\u0027t really built for HDR)\n\n![2HD6Nlf.jpg](https://i.imgur.com/2HD6Nlf.jpg)\n\nThis improved the colors a bit.\n\nI then revisited the config tool, I just wanted to modify it to not rely on compute shaders in the beginning. The config tool contains all the Proland code for generating the atmosphere and baking it into look-up textures, and I haven\u0027t touched it pretty much since the first version of Scatterer. As I got into it, I ended up doing a deep dive into the atmosphere code to try and fix some of the issues/artifacts it had.\n\nThe original code had some imprecision issues at boundaries, often resulting in these concentric circles that get reported often as bugs:\n\n![trbVkNx.png](https://i.imgur.com/trbVkNx.png)\n\nThis was easy to fix, but a relatively more complex issue is this discontinuity and artifacts that occur around the horizon line:\n\n![MIjJfuk.png](https://i.imgur.com/MIjJfuk.png)\n\n![6QOd8Rc.png](https://i.imgur.com/6QOd8Rc.png)\n\nThis is a well-known limitation of the precomputed scattering technique that Scatterer uses, to my surprise I found that the new version of Proland doesn\u0027t fix this\n\n![tonvAaf.png](https://i.imgur.com/tonvAaf.png)\n\nThankfully, there are smart people out there who propose a better parametrization of the precomputed textures to concentrate detail on the horizon. After some time implementing it and fixing various issues, it works quite well. Notice the clean horizon line in these screenshots:\n\n![e0a6k4n.jpg](https://i.imgur.com/e0a6k4n.jpg)\n\n![9gJYTad.jpg](https://i.imgur.com/9gJYTad.jpg)\n\nAfter that I still found several imprecision issues that result in these bands over the horizon whenever the atmosphere starts getting thick, making foggy atmospheres mostly unusable:\n\n![o0G4FHx.png](https://i.imgur.com/o0G4FHx.png)\n\nI was able to track these down as coming from the precomputed extinction having some issues at boundaries. This is also fixes the small band that appears over the horizon and for which I had the \u0022viewdirOffset\u0022 workaround. After fixing it I had some fun testing some foggy atmospheres (better click the gfycat link as the preview butchers the quality):\n\n![LastLavishAsiantrumpetfish-size_restrict](https://thumbs.gfycat.com/LastLavishAsiantrumpetfish-size_restricted.gif)\n\n[https://gfycat.com/lastlavishasiantrumpetfish](https://gfycat.com/lastlavishasiantrumpetfish)\n\nI also went ahead and simplified the atmosphere generation process, removing variables like Rt and RL, calculating the atmosphere height directly from the parameters you enter, and generating the atmo directly in-game. I\u0027m sure you have seen this video:\n\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/u6Jxgc-cYcc?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\nNow you no longer need to include .half files, they are simply generated on the fly when needed and cached on disk for reuse.\n\nThen I decided to try a different tonemap operator, the built-in proland/bruneton tonemapper being a bit washed out. I settled on using the well-known uncharted 2 tonemapping for now, here\u0027s how it looks (left: old, right: new)\n\n![hdN1b1d.jpg](https://i.imgur.com/hdN1b1d.jpg)\n\n![90eFYH3.jpg](https://i.imgur.com/90eFYH3.jpg)\n\nNote that this tonemapping doesn\u0027t affect the colors of the background/game, only the colors of the scattering and how it is blended to the background.\n\nAfter all this I still found that Kerbin in map view looked a bit bland, although it improved.\n\nComparing it to \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E it seemed to me that earth textures had a lot more pop and more contrast:\n\n![g83Ie9P.png](https://i.imgur.com/g83Ie9P.png)\n\nAfter comparing the textures, I decided that Kerbin needed a bit more contrast, and darker oceans, so I added a small configurable shader that modifies the texture in-game, here\u0027s how kerbin looks now:\n\n![ZYlb3EG.jpg](https://i.imgur.com/ZYlb3EG.jpg)\n\n![d6WVNPI.jpg](https://i.imgur.com/d6WVNPI.jpg)\n\n![10cNour.jpg](https://i.imgur.com/10cNour.jpg)\n\nI was happy to get a more clear separation between land and sea, and a bit less haze when looking straight down.\n\nThis should only be needed for stock planets, if you\u0027re creating your own planets you\u0027re free to create your scaled textures however you want so shouldn\u0027t need this, plus it duplicates the texture wasting VRAM.\n\nAlso, TAA appears to be fixed in 1.12 so will now be enabled by default, looks better in movement than SMAA.\n\nSome screenshots:\n\nMy favourite atmosphere views are probably on Laythe\n\n![vNQO1Wg.jpg](https://i.imgur.com/vNQO1Wg.jpg)\n\n![vwElUli.jpg](https://i.imgur.com/vwElUli.jpg)\n\n![liUcWXu.jpg](https://i.imgur.com/liUcWXu.jpg)\n\n![ktfmIQp.jpg](https://i.imgur.com/ktfmIQp.jpg)\n\n![CVkVyoU.jpeg](https://i.imgur.com/CVkVyoU.jpeg)\n\nComparing the same atmo to 5x stronger mie scattering:\n\n![mMg22JZ.jpg](https://i.imgur.com/mMg22JZ.jpg)\n\nDifferent mie asymmetry settings to look more fog-like or more dust-like feel:\n\n![Ik8ZLBU.jpeg](https://i.imgur.com/Ik8ZLBU.jpeg)\n\n![Yv8n9Fb.jpeg](https://i.imgur.com/Yv8n9Fb.jpeg)\n\nThanks everyone for reading and thanks for the support."},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2021-11-03T23:28:18Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E So I\u0027ve been working on a few things.\n\u003E \n\nA few, huh?\n\nScatterer just keeps getting prettier! I like the new tonemap and Kerbin colors. Looks much more realistic, and I haven\u0027t even begun to talk about the atmospheres! This is the most beautiful the game has ever been. Hopefully my computer can run this upcoming version!"},{"CreatedByName":"Al2Me6","CreatedById":203355,"CreatedDateTime":"2021-11-03T23:41:51Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E Giant post ahead ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So I\u0027ve been working on a few things. The blending used in scatterer was rather primitive and relied on using the blend operations built-in to blend the results into the background without having to read back the background, this limits what we can do in term of blending to additive and soft-additive and alpha blending. However since the transition to depth buffer mode, and switching away from MSAA we can now use any blending mode we want. Here I manage to get HDR-like blending without applying HDR tonemapping on the background colors (the game\u0027s shaders aren\u0027t really built for HDR)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![2HD6Nlf.jpg](https://i.imgur.com/2HD6Nlf.jpg)](https://i.imgur.com/2HD6Nlf.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This improved the colors a bit.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I then revisited the config tool, I just wanted to modify it to not rely on compute shaders in the beginning. The config tool contains all the Proland code for generating the atmosphere and baking it into look-up textures, and I haven\u0027t touched it pretty much since the first version of Scatterer. As I got into it, I ended up doing a deep dive into the atmosphere code to try and fix some of the issues/artifacts it had.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The original code had some imprecision issues at boundaries, often resulting in these concentric circles that get reported often as bugs:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![trbVkNx.png](https://i.imgur.com/trbVkNx.png)](https://i.imgur.com/trbVkNx.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This was easy to fix, but a relatively more complex issue is this discontinuity and artifacts that occur around the horizon line:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![MIjJfuk.png](https://i.imgur.com/MIjJfuk.png)](https://i.imgur.com/MIjJfuk.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![6QOd8Rc.png](https://i.imgur.com/6QOd8Rc.png)](https://i.imgur.com/6QOd8Rc.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This is a well-known limitation of the precomputed scattering technique that Scatterer uses, to my surprise I found that the new version of Proland doesn\u0027t fix this\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![tonvAaf.png](https://i.imgur.com/tonvAaf.png)](https://i.imgur.com/tonvAaf.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thankfully, there are smart people out there who propose a better parametrization of the precomputed textures to concentrate detail on the horizon. After some time implementing it and fixing various issues, it works quite well. Notice the clean horizon line in these screenshots:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![e0a6k4n.jpg](https://i.imgur.com/e0a6k4n.jpg)](https://i.imgur.com/e0a6k4n.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![9gJYTad.jpg](https://i.imgur.com/9gJYTad.jpg)](https://i.imgur.com/9gJYTad.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E After that I still found several imprecision issues that result in these bands over the horizon whenever the atmosphere starts getting thick, making foggy atmospheres mostly unusable:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![o0G4FHx.png](https://i.imgur.com/o0G4FHx.png)](https://i.imgur.com/o0G4FHx.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I was able to track these down as coming from the precomputed extinction having some issues at boundaries. This is also fixes the small band that appears over the horizon and for which I had the \u0022viewdirOffset\u0022 workaround. After fixing it I had some fun testing some foggy atmospheres (better click the gfycat link as the preview butchers the quality):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![LastLavishAsiantrumpetfish-size_restrict](https://thumbs.gfycat.com/LastLavishAsiantrumpetfish-size_restricted.gif)](https://thumbs.gfycat.com/LastLavishAsiantrumpetfish-size_restricted.gif \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://gfycat.com/lastlavishasiantrumpetfish](https://gfycat.com/lastlavishasiantrumpetfish)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I also went ahead and simplified the atmosphere generation process, removing variables like Rt and RL, calculating the atmosphere height directly from the parameters you enter, and generating the atmo directly in-game. I\u0027m sure you have seen this video:\n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/u6Jxgc-cYcc?feature=oembed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\u003E \n\u003E Now you no longer need to include .half files, they are simply generated on the fly when needed and cached on disk for reuse.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Then I decided to try a different tonemap operator, the built-in proland/bruneton tonemapper being a bit washed out. I settled on using the well-known uncharted 2 tonemapping for now, here\u0027s how it looks (left: old, right: new)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![hdN1b1d.jpg](https://i.imgur.com/hdN1b1d.jpg)](https://i.imgur.com/hdN1b1d.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![90eFYH3.jpg](https://i.imgur.com/90eFYH3.jpg)](https://i.imgur.com/90eFYH3.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Note that this tonemapping doesn\u0027t affect the colors of the background/game, only the colors of the scattering and how it is blended to the background.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E After all this I still found that Kerbin in map view looked a bit bland, although it improved.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Comparing it to \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E it seemed to me that earth textures had a lot more pop and more contrast:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![g83Ie9P.png](https://i.imgur.com/g83Ie9P.png)](https://i.imgur.com/g83Ie9P.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E After comparing the textures, I decided that Kerbin needed a bit more contrast, and darker oceans, so I added a small configurable shader that modifies the texture in-game, here\u0027s how kerbin looks now:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![ZYlb3EG.jpg](https://i.imgur.com/ZYlb3EG.jpg)](https://i.imgur.com/ZYlb3EG.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![d6WVNPI.jpg](https://i.imgur.com/d6WVNPI.jpg)](https://i.imgur.com/d6WVNPI.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![10cNour.jpg](https://i.imgur.com/10cNour.jpg)](https://i.imgur.com/10cNour.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I was happy to get a more clear separation between land and sea, and a bit less haze when looking straight down.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This should only be needed for stock planets, if you\u0027re creating your own planets you\u0027re free to create your scaled textures however you want so shouldn\u0027t need this, plus it duplicates the texture wasting VRAM.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, TAA appears to be fixed in 1.12 so will now be enabled by default, looks better in movement than SMAA.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Some screenshots:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E My favourite atmosphere views are probably on Laythe\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![vNQO1Wg.jpg](https://i.imgur.com/vNQO1Wg.jpg)](https://i.imgur.com/vNQO1Wg.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![vwElUli.jpg](https://i.imgur.com/vwElUli.jpg)](https://i.imgur.com/vwElUli.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![liUcWXu.jpg](https://i.imgur.com/liUcWXu.jpg)](https://i.imgur.com/liUcWXu.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![ktfmIQp.jpg](https://i.imgur.com/ktfmIQp.jpg)](https://i.imgur.com/ktfmIQp.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![CVkVyoU.jpeg](https://i.imgur.com/CVkVyoU.jpeg)](https://i.imgur.com/CVkVyoU.jpeg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Comparing the same atmo to 5x stronger mie scattering:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![mMg22JZ.jpg](https://i.imgur.com/mMg22JZ.jpg)](https://i.imgur.com/mMg22JZ.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Different mie asymmetry settings to look more fog-like or more dust-like feel:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Ik8ZLBU.jpeg](https://i.imgur.com/Ik8ZLBU.jpeg)](https://i.imgur.com/Ik8ZLBU.jpeg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Yv8n9Fb.jpeg](https://i.imgur.com/Yv8n9Fb.jpeg)](https://i.imgur.com/Yv8n9Fb.jpeg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks everyone for reading and thanks for the support.\n\u003E \n\nThis looks absolutely amazing. Kudos."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-04T09:51:23Z","Content":"\u003E \n\u003E \n\u003E 10 hours ago, Delay said:\n\u003E \n\u003E \n\u003E Hopefully my computer can run this upcoming version!\n\u003E \n\nThere won\u0027t be a difference in performance, only perhaps if enabling TAA but you can always use SMAA like now."},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2021-11-04T11:40:50Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E There won\u0027t be a difference in performance,\n\u003E \n\nThat is downright insane. What kind of black magic is this?"},{"CreatedByName":"MashAndBangers","CreatedById":202185,"CreatedDateTime":"2021-11-04T18:50:37Z","Content":"\u003E \n\u003E \n\u003E 20 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E So I\u0027ve been working on a few things.\n\u003E \n\nSo the question now is for custom planet packs (KSRSS, JNSQ, etc.), will the Scatterer Re-Scattered still work with the old configs, or will the mod authors have to make new configs?"},{"CreatedByName":"RyanRising","CreatedById":79932,"CreatedDateTime":"2021-11-04T19:30:32Z","Content":"\u003E \n\u003E \n\u003E 41 minutes ago, MashAndBangers said:\n\u003E \n\u003E \n\u003E Scatterer Re-Scattered\n\u003E \n\nLGG isn\u0027t adopting this too, is he? It\u0027s far too soon! ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\n**Edited \u003Ctime datetime=\u00222021-11-04T19:31:19Z\u0022 title=\u002211/04/2021 07:31  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 4, 2021\u003C/time\u003E by RyanRising**"},{"CreatedByName":"Kerminator K-100","CreatedById":204357,"CreatedDateTime":"2021-11-04T21:03:51Z","Content":"My man over here making KSP2\n\nWhy hasn\u0027t Intercept hired you yet?\n\nThis seriously looks amazing, I can\u0027t wait for my new GPU to get here so I can try this out"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-04T21:07:41Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, MashAndBangers said:\n\u003E \n\u003E \n\u003E So the question now is for custom planet packs (KSRSS, JNSQ, etc.), will the Scatterer Re-Scattered still work with the old configs, or will the mod authors have to make new configs?\n\u003E \n\nThey will work, but old versions of the config tool left it up to the user to pick the atmosphere height, instead of matching it to the density scale heights entered. So depending on how the old configs were made, they may work fine or the scale may be completely different.\n\nOn average I think configs will need to be readjusted. The good news is, readjusting is now much easier."},{"CreatedByName":"wisdomsavingthrow","CreatedById":207682,"CreatedDateTime":"2021-11-05T01:54:18Z","Content":"All this is genuinely making me really look forward to retooling my custom Scatterer settings. Super excited for when it releases!"},{"CreatedByName":"y2kcobrar","CreatedById":144607,"CreatedDateTime":"2021-11-05T19:04:05Z","Content":"Can anyone tell me how to increase the distance at which Scatterer begins to take effect? I\u0027m playing with GPP at 10x scale and about half way to the nearest moon from Gael (Kerbin)  the game will hang for a moment and Scatterer stops showing. The inverse happens when returning from Gaels moons. The exact distance escapes me right now but I did try and find a correlation in the configs and didn\u0027t see any. TIA~!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-05T21:50:47Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, y2kcobrar said:\n\u003E \n\u003E \n\u003E Can anyone tell me how to increase the distance at which Scatterer begins to take effect? I\u0027m playing with GPP at 10x scale and about half way to the nearest moon from Gael (Kerbin)  the game will hang for a moment and Scatterer stops showing. The inverse happens when returning from Gaels moons. The exact distance escapes me right now but I did try and find a correlation in the configs and didn\u0027t see any. TIA~!\n\u003E \n\nLoadDistance and unloadDistance in planetsList file/patch: [https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list](https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list)\n\nJust multiply it by 10 I guess\n\n**Edited \u003Ctime datetime=\u00222021-11-05T21:55:18Z\u0022 title=\u002211/05/2021 09:55  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 5, 2021\u003C/time\u003E by blackrack**"},{"CreatedByName":"y2kcobrar","CreatedById":144607,"CreatedDateTime":"2021-11-06T22:54:13Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E LoadDistance and unloadDistance in planetsList file/patch: [https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list](https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Just multiply it by 10 I guess\n\u003E \n\nI tried adding a zero to each and no change."},{"CreatedByName":"space_powder","CreatedById":185792,"CreatedDateTime":"2021-11-09T16:46:59Z","Content":"Is there a way to enable/disable the long distance shadow stuff while in-game? I sometimes turn them off during launches with a hefty amount of parts, but I do like the crisp shadows once I\u0027m in space and things have settled down in terms of performance."},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2021-11-09T18:28:54Z","Content":"Blackrack, this is an insane improvement."},{"CreatedByName":"Maple Kerman","CreatedById":192541,"CreatedDateTime":"2021-11-09T21:14:50Z","Content":"Very pretty!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-10T19:52:59Z","Content":"New version is up"},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2021-11-10T20:26:08Z","Content":"The multiple cloud interaction fixes are so very welcome. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2021-11-10T21:01:45Z","Content":"Oh my GOD IS THIS GORGEOUS!\n\nI just have a quick question, though: Is the fog supposed to be this bright in the background?\n\n![xZKr1NG.png](https://i.imgur.com/xZKr1NG.png)\n\nOn the mountains, it doesn\u0027t look that bad, but grass is a bit bright.  \n![vIpCi7O.png](https://i.imgur.com/vIpCi7O.png)\n\nOther than that, this mod makes KSP look better than ever. Here are some more shots I took on that test flight:  \n![HDWSF9o.png](https://i.imgur.com/HDWSF9o.png)\n\nVery nice colors on the atmosphere!\n\n![3DQvxKe.png](https://i.imgur.com/3DQvxKe.png)\n\nAnd this... this is just an indescribable feast for the eyes!  \n![XF01TDD.png](https://i.imgur.com/XF01TDD.png)\n\nFantastic work!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-10T21:05:33Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, Delay said:\n\u003E \n\u003E \n\u003E Oh my GOD IS THIS GORGEOUS!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I just have a quick question, though: Is the fog supposed to be this bright in the background?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E On the mountains, it doesn\u0027t look that bad, but grass is a bit bright.  \n\u003E [![vIpCi7O.png](https://i.imgur.com/vIpCi7O.png)](https://i.imgur.com/vIpCi7O.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Other than that, this mod makes KSP look better than ever. Here are some more shots I took on that test flight:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Very nice colors on the atmosphere!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And this... this is just an indescribable feast for the eyes!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Fantastic work!\n\u003E \n\nThanks. It\u0027s indeed not supposed to be this bright. Are you using different scatterer configs than the included ones? Or maybe a TUFX profile tweaked for the old atmo?\n\n**Edited \u003Ctime datetime=\u00222021-11-10T21:05:46Z\u0022 title=\u002211/10/2021 09:05  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 10, 2021\u003C/time\u003E by blackrack**"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2021-11-10T21:11:54Z","Content":"\u003E \n\u003E \n\u003E 8 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Are you using different scatterer configs than the included ones? Or maybe a TUFX profile tweaked for the old atmo?\n\u003E \n\nI have an old \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E configs at least, dating back to the original releases (the BoulderCo thing). But that\u0027s not doing anything to the atmosphere as far as I can tell.\n\nIf it helps, here\u0027s the atmosphere.cfg for Kerbin. It should be the unaltered one Scatterer comes with:  \n\n    Scatterer_atmosphere\n    {Atmo{\tname = Kerbin\tatmosphereStartRadiusScale = 1\tHR = 3.74399996\tHM = 0.561600029\tm_betaR = 0.0120000001,0.0279309992,0.0684830025\tBETA_MSca = 0.00854699966,0.00854699966,0.00854699966\tm_mieG = 0.850000024\taverageGroundReflectance = 0.100000001\tmultipleScattering = True\tgodrayStrength = 0.699999988\tflattenScaledSpaceMesh = 0.600000024\trimBlend = 20\trimpower = 600\tspecR = 80\tspecG = 72\tspecB = 65\tshininess = 75\tcloudColorMultiplier = 3\tcloudScatteringMultiplier = 0.200000003\tcloudSkyIrradianceMultiplier = 0.0500000007\tvolumetricsColorMultiplier = 1\tEVEIntegration_preserveCloudColors = False\tadjustScaledTexture = True\tscaledLandBrightnessAdjust = 1.32000005\tscaledLandContrastAdjust = 1.79999995\tscaledLandSaturationAdjust = 1.29999995\tscaledOceanBrightnessAdjust = 0.839999974\tscaledOceanContrastAdjust = 1\tscaledOceanSaturationAdjust = 1\tconfigPoints\t{\t\tItem\t\t{\t\t\taltitude = 0\t\t\tskyExposure = 0.200000003\t\t\tskyAlpha = 1\t\t\tskyExtinctionTint = 1\t\t\tscatteringExposure = 0.200000003\t\t\textinctionThickness = 1\t\t\tpostProcessAlpha = 1\t\t\tpostProcessDepth = 0\t\t\textinctionTint = 1\t\t}\t}}\n    }\n\nAlso, to be fair, the images were taken at high noon.\n\n**Edited \u003Ctime datetime=\u00222021-11-10T21:13:42Z\u0022 title=\u002211/10/2021 09:13  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 10, 2021\u003C/time\u003E by Delay**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-10T21:25:28Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, Delay said:\n\u003E \n\u003E \n\u003E I have an old \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E configs at least, dating back to the original releases (the BoulderCo thing). But that\u0027s not doing anything to the atmosphere as far as I can tell.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If it helps, here\u0027s the atmosphere.cfg for Kerbin. It should be the unaltered one Scatterer comes with:  \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     Scatterer_atmosphere\n\u003E     {Atmo{\tname = Kerbin\tatmosphereStartRadiusScale = 1\tHR = 3.74399996\tHM = 0.561600029\tm_betaR = 0.0120000001,0.0279309992,0.0684830025\tBETA_MSca = 0.00854699966,0.00854699966,0.00854699966\tm_mieG = 0.850000024\taverageGroundReflectance = 0.100000001\tmultipleScattering = True\tgodrayStrength = 0.699999988\tflattenScaledSpaceMesh = 0.600000024\trimBlend = 20\trimpower = 600\tspecR = 80\tspecG = 72\tspecB = 65\tshininess = 75\tcloudColorMultiplier = 3\tcloudScatteringMultiplier = 0.200000003\tcloudSkyIrradianceMultiplier = 0.0500000007\tvolumetricsColorMultiplier = 1\tEVEIntegration_preserveCloudColors = False\tadjustScaledTexture = True\tscaledLandBrightnessAdjust = 1.32000005\tscaledLandContrastAdjust = 1.79999995\tscaledLandSaturationAdjust = 1.29999995\tscaledOceanBrightnessAdjust = 0.839999974\tscaledOceanContrastAdjust = 1\tscaledOceanSaturationAdjust = 1\tconfigPoints\t{\t\tItem\t\t{\t\t\taltitude = 0\t\t\tskyExposure = 0.200000003\t\t\tskyAlpha = 1\t\t\tskyExtinctionTint = 1\t\t\tscatteringExposure = 0.200000003\t\t\textinctionThickness = 1\t\t\tpostProcessAlpha = 1\t\t\tpostProcessDepth = 0\t\t\textinctionTint = 1\t\t}\t}}\n\u003E     }\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, to be fair, the images were taken at high noon.\n\u003E \n\nI did notice that at noon the shading on the terrain was bright but I attributed it to the stock terrain shaders (lol always blaming the game). I don\u0027t remember it being this bright but I will check again when I can. I admit I do most my testing at the more interesting times of day."},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2021-11-10T22:10:28Z","Content":"First quick test with latest JNSQ, Tracking Station tabbing through all celestials:  \n\nEverything fine but the gas giants \u002B Eve, they render black with a thin halo.\n\nbtw if I understood correctly I just could remove all .half files inside JNSQ and be good?\n\n**Edited \u003Ctime datetime=\u00222021-11-10T22:18:29Z\u0022 title=\u002211/10/2021 10:18  PM\u0022 data-short=\u00222 yr\u0022\u003ENovember 10, 2021\u003C/time\u003E by Gordon Dry**\n  \nEve also does"},{"CreatedByName":"SiCaRiO31","CreatedById":158163,"CreatedDateTime":"2021-11-10T22:35:03Z","Content":"The water looks a bit...flourecent?\n\n![20211110232432-1.jpg](https://i.ibb.co/440PP4c/20211110232432-1.jpg)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-11-10T22:35:29Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Delay said:\n\u003E \n\u003E \n\u003E [![vIpCi7O.png](https://i.imgur.com/vIpCi7O.png)](https://i.imgur.com/vIpCi7O.png \u0022Enlarge image\u0022)\n\u003E \n\nSo I just looked at this again from my PC and it definitely doesn\u0027t look right. The area around \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E in particular just looks weird. I fired up my game again and to my surprise I found the same thing, which doesn\u0027t happen on my previous unreleased version. Investigating it now"}]}