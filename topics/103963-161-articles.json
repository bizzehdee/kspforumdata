{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":161,"Articles":[{"CreatedByName":"bigshow281","CreatedById":148365,"CreatedDateTime":"2016-04-06T23:50:28Z","Content":"\u003E \n\u003E \n\u003E On 06/04/2016 at 7:59 PM, blackrack said:\n\u003E \n\u003E \n\u003E It shouldn\u0027t happen with godrays off, so post pics, maybe it\u0027s something else. Also, please don\u0027t quote the entirety of the OP.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edited:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Hmm what\u0027s this? A clean, artifact-less horizon-line with no pixelated black line over it? You know it\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/IEvpQ/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Small note: If you use anti-aliasing there might still be some artifacts here and there due to the depth buffer not being anti-aliased, but the huge line that jitters around even when you don\u0027t do anything is gone.\n\u003E \n\nSorry about that, I posted from my phone and wasn\u0027t aware. I edited my post and removed the original post from the quote. I just tried again, looks like the god rays from the SRBs are gone when they are disabled, perhaps it was a previous version that I was having problems with \\*shrug\\*. But what I notice now is that when I move the camera around while my rocket is ascending to orbit, the entire land mass of Kerbin starts flickering. Unfortunately there\u0027s no way for me to take a screen shot of that because it happens so quickly and only when I move the camera. Could this be graphics card settings or in-game settings causing this?"},{"CreatedByName":"bigshow281","CreatedById":148365,"CreatedDateTime":"2016-04-07T00:02:31Z","Content":"I have some additional information about the issue. I turned off anti-aliasing in the game and in the nVidia control panel and it made no difference. I kept a close eye on exactly when it starts, the issue first appears at approximately 46,000 meters or so. It does not happen before it hits that altitude. It becomes less noticeable after about 120,000 meters and then completely absent after about 200,000 meters.\n\n**Edited \u003Ctime datetime=\u00222016-04-07T00:03:14Z\u0022 title=\u002204/07/2016 12:03  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by bigshow281**"},{"CreatedByName":"nosirrbro","CreatedById":69814,"CreatedDateTime":"2016-04-07T00:03:23Z","Content":"Just a note, not sure if your aware, but the lens flare ship color washing out thingy  where the ships kinda get brighter and stuff when a lens flare is over them doesnt work on fairings and on capsules where the interior view from the outside is enabled, along with flags on the side of parts. If your not sure what im talking about I can post screenshots.\n\n**Edited \u003Ctime datetime=\u00222016-04-07T00:03:53Z\u0022 title=\u002204/07/2016 12:03  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by nosirrbro**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T00:09:20Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, bigshow281 said:\n\u003E \n\u003E \n\u003E I have some additional information about the issue. I turned off anti-aliasing in the game and in the nVidia control panel and it made no difference. I kept a close eye on exactly when it starts, the issue first appears at approximately 46,000 meters or so. It does not happen before it hits that altitude. It becomes less noticeable after about 120,000 meters and then completely absent after about 200,000 meters.\n\u003E \n\nIs it this issue? [https://www.youtube.com/watch?v=gQKdKKJatW4](https://www.youtube.com/watch?v=gQKdKKJatW4)\n\n\u003E \n\u003E \n\u003E 5 minutes ago, nosirrbro said:\n\u003E \n\u003E \n\u003E Just a note, not sure if your aware, but the lens flare ship color washing out thingy  where the ships kinda get brighter and stuff when a lens flare is over them doesnt work on fairings and on capsules where the interior view from the outside is enabled, along with flags on the side of parts. If your not sure what im talking about I can post screenshots.\n\u003E \n\nAh yes, probably a renderQueue issue or the IVA camera rendering everything on top. I\u0027m well aware of it just haven\u0027t given it a try yet."},{"CreatedByName":"bigshow281","CreatedById":148365,"CreatedDateTime":"2016-04-07T00:30:17Z","Content":"\u003E \n\u003E \n\u003E 20 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Is it this issue? [https://www.youtube.com/watch?v=gQKdKKJatW4](https://www.youtube.com/watch?v=gQKdKKJatW4)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ah yes, probably a renderQueue issue or the IVA camera rendering everything on top. I\u0027m well aware of it just haven\u0027t given it a try yet.\n\u003E \n\nYep, that\u0027s it exactly."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T00:38:07Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, bigshow281 said:\n\u003E \n\u003E \n\u003E Yep, that\u0027s it exactly.\n\u003E \n\nThere\u0027s no fix for this at the moment, the only thing you can do is disable the ocean shaders."},{"CreatedByName":"SketchBot","CreatedById":148714,"CreatedDateTime":"2016-04-07T01:09:12Z","Content":"[Is this a common issue?](http://imgur.com/9rEMH5F)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T01:20:04Z","Content":"Testing a modified version of EVE clouds to include scattering, doesn\u0027t seem to look as good as I hoped it would, no volumetrics at the moment:\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/Csu2P/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\nMap view looks okay, more or less the same as the current method but with less \u0022oranging\u0022 near the edges. Some weird black coloring though, might need to enable backface culling or figure out something else. Also some angles are weird.\n\nOverall, this will need more testing and more tweaking.\n\n\u003E \n\u003E \n\u003E 11 hours ago, SketchBot said:\n\u003E \n\u003E \n\u003E [Is this a common issue?](http://imgur.com/9rEMH5F)\n\u003E \n\nSome people have it, it pops up every now and then but I couldn\u0027t narrow it down or reproduce it.\n\n**Edited \u003Ctime datetime=\u00222016-04-07T12:43:20Z\u0022 title=\u002204/07/2016 12:43  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"blorgon","CreatedById":159569,"CreatedDateTime":"2016-04-07T03:18:50Z","Content":"[Keep going.](https://goo.gl/bSt5w9)\n\n**Edited \u003Ctime datetime=\u00222016-06-12T18:59:44Z\u0022 title=\u002206/12/2016 06:59  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 12, 2016\u003C/time\u003E by blorgon**"},{"CreatedByName":"Arditan427","CreatedById":96857,"CreatedDateTime":"2016-04-07T03:34:36Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, SketchBot said:\n\u003E \n\u003E \n\u003E [Is this a common issue?](http://imgur.com/9rEMH5F)\n\u003E \n\nVersion of scatterer and KSP? If you are using 1.0.5, force dx11 (you can look up how to do that, super easy). If you are using 1.1 pre release, the latest version should fix it, as it did for me and a few others.\n\nAlso, mess around with settings on both your gpu and in scatterer settings\n\n**Edited \u003Ctime datetime=\u00222016-04-07T03:36:56Z\u0022 title=\u002204/07/2016 03:36  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by Arditan427**"},{"CreatedByName":"GrugInAus","CreatedById":154189,"CreatedDateTime":"2016-04-07T05:16:55Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blorgon said:\n\u003E \n\u003E \n\u003E I\u0027ve tried searching, so I\u0027m sorry if there\u0027s somewhere obvious where I haven\u0027t found this yet: is there a repository of older versions? I\u0027m not moving to 1.1 for a while because of some mods I can\u0027t play without that I\u0027m not expecting to get updated for a while. Is there somewhere I can download the latest 1.0.5 compatible version of Scatterer?\n\u003E \n\nIf you go to [Scatterer on SpaceDock](http://www.spacedock.info/mod/141/scatterer) and click \u0022Changelog\u0022 you\u0027ll see download buttons for each previous version. I don\u0027t recall which one is the last one for v1.0 but presumably 0.0235 because 0.024 states \u00221.1 compatability\u0022 as its first change."},{"CreatedByName":"blorgon","CreatedById":159569,"CreatedDateTime":"2016-04-07T05:32:21Z","Content":"\u003E \n\u003E \n\u003E 15 minutes ago, GrugInAus said:\n\u003E \n\u003E \n\u003E If you go to [Scatterer on SpaceDock](http://www.spacedock.info/mod/141/scatterer) and click \u0022Changelog\u0022 you\u0027ll see download buttons for each previous version. I don\u0027t recall which one is the last one for v1.0 but presumably 0.0235 because 0.024 states \u00221.1 compatability\u0022 as its first change.\n\u003E \n\nYep. Found it. Thanks!"},{"CreatedByName":"pditty8811","CreatedById":140909,"CreatedDateTime":"2016-04-07T05:33:18Z","Content":"Where can I download version v0.022 ?\n\nIt seems that works with RVE. I tried fixes in OP of current version but no luck."},{"CreatedByName":"blorgon","CreatedById":159569,"CreatedDateTime":"2016-04-07T05:36:05Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, pditty8811 said:\n\u003E \n\u003E \n\u003E Where can I download version v0.022 ?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It seems that works with RVE. I tried fixes in OP of current version but no luck.\n\u003E \n\nLook at the post right above yours."},{"CreatedByName":"bloodyowl","CreatedById":161547,"CreatedDateTime":"2016-04-07T09:52:02Z","Content":"\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/YBxHY/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\nHello, from what I read the pixelated horizon issue should be fixed but it\u0027s not for me at least.\n\nDetails:\n\n- KSP 1.1pre 64bit\n- Scatterer 0.0242\n- EVE KSP pre-release (does not affect if I remove this mod)\n- Win 7 64-bit, Radeon HD7800-series, Inter Core 2 Duo 8400\n\nI\u0027ve tried changing AA settings, render quality, disabling ocean effects and god rays but the problem doesn\u0027t go away. Any ideas, anyone?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T12:25:54Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, bloodyowl said:\n\u003E \n\u003E \n\u003E Any ideas, anyone?\n\u003E \n\nMaybe because I didn\u0027t upload it yet? I dunno.\n\nEdited: [https://mega.nz/#!iUJiBQTQ!4bYUYDj_vFb8t-H_8WWxMSnU9BAkjI6q74aTj2bX6ak](https://mega.nz/#!iUJiBQTQ!4bYUYDj_vFb8t-H_8WWxMSnU9BAkjI6q74aTj2bX6ak)\n\n**Edited \u003Ctime datetime=\u00222016-04-07T12:44:36Z\u0022 title=\u002204/07/2016 12:44  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"Blacks","CreatedById":145137,"CreatedDateTime":"2016-04-07T14:50:38Z","Content":"For me, beside my video card struggle to work (witch is normal is old one 650 gtx), all is fine, there are some pixelated horizon, very very small \u0026 they are seen only if i look specific to them but let say they are less now with new CompiledAtmosphericScatter file  \n\nI use Eve (SVE UH) \u002B Scatter \u002B Distant Object \u002B Planet Shine \u002B Ambient Light Adjustment\n\nIf you want i can start a twich stream for a live test but i think all is fine \u0026 you better get feedback from someone with at list 750, 950 gpu version  \n\nSalut"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T15:10:30Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, Blacks said:\n\u003E \n\u003E \n\u003E For me, beside my video card struggle to work (witch is normal is old one 650 gtx), all is fine, there are some pixelated horizon, very very small \u0026 they are seen only if i look specific to them but let say they are less now with new CompiledAtmosphericScatter file  \n\u003E \n\u003E I use Eve (SVE UH) \u002B Scatter \u002B Distant Object \u002B Planet Shine \u002B Ambient Light Adjustment\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E If you want i can start a twich stream for a live test but i think all is fine \u0026 you better get feedback from someone with at list 750, 950 gpu version  \n\u003E \n\u003E Salut\n\u003E \n\nIt\u0027s fine, quick question, do you have anti-aliasing on?"},{"CreatedByName":"Blacks","CreatedById":145137,"CreatedDateTime":"2016-04-07T15:12:17Z","Content":"Anti-aliasing yes is On =\u003E 2x"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T15:14:56Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, Blacks said:\n\u003E \n\u003E \n\u003E Anti-aliasing yes is On =\u003E 2x\n\u003E \n\nIf you disable it the artifacts should be completely gone, however then you\u0027d get... aliasing."},{"CreatedByName":"Blacks","CreatedById":145137,"CreatedDateTime":"2016-04-07T15:25:26Z","Content":"yup i think you are right AA off they are gone or you need to have eagle eye to see them ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif \u0022:D\u0022)  but i prefer have AA active special single place were they appear is horizon \u002B water \u0026 only if i am looking specific to them, in my opinion cloud shadow \u0026 fade transition between specific altitude value it brake immersion but i know rbray it work to tune better if i remember correctly from last his post ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) but with patience i bet all it will be fine \u0026 nice ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Ice30","CreatedById":105586,"CreatedDateTime":"2016-04-07T16:19:31Z","Content":"Does anyone have any scatterer configs for other atmospheric planets and moons in RVE such as Jupiter, Titan etc? If not is it possible to create one somehow?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T16:37:21Z","Content":"How does this look?\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/Bcs4V/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\nThe difference isn\u0027t that big but I\u0027m quite happy about sunrises/sunsets looking less like this [https://i.imgur.com/v0bjlz2.jpg](https://i.imgur.com/v0bjlz2.jpg) and more like this [http://i.imgur.com/m9VFC35.jpg](http://i.imgur.com/m9VFC35.jpg) the colors are more consistent.\n\nAlso, here it might look like the clouds are getting some kind of volumetric lighting [http://i.imgur.com/S8t9AxB.jpg](http://i.imgur.com/S8t9AxB.jpg) but all it is the sky being kind of overlaid on top [http://i.imgur.com/DPaB5ny.jpg](http://i.imgur.com/DPaB5ny.jpg) it looked nice though so there might be something there.\n\n\u003E \n\u003E \n\u003E 19 minutes ago, Ice30 said:\n\u003E \n\u003E \n\u003E Does anyone have any scatterer configs for other atmospheric planets and moons in RVE such as Jupiter, Titan etc? If not is it possible to create one somehow?\n\u003E \n\nYou can create configs with the config tool in the OP \u002B playing with the config files and the UI. Bit of a warning: It\u0027s not a 5-minute process and getting good results will lots of tweaking.\n\n**Edited \u003Ctime datetime=\u00222016-04-07T16:39:47Z\u0022 title=\u002204/07/2016 04:39  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 7, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2016-04-07T16:39:23Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, blackrack said:\n\u003E \n\u003E \n\u003E How does this look?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/Bcs4V/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The difference isn\u0027t that big but I\u0027m quite happy about sunrises/sunsets looking less like this [https://i.imgur.com/v0bjlz2.jpg](https://i.imgur.com/v0bjlz2.jpg) and more like this \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also, here it might look like the clouds are getting some kind of volumetric lighting [http://i.imgur.com/S8t9AxB.jpg](http://i.imgur.com/S8t9AxB.jpg) but all it is the sky being kind of overlaid on top [http://i.imgur.com/DPaB5ny.jpg](http://i.imgur.com/DPaB5ny.jpg) it looked nice though so there might be something there.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You can create configs with the config tool in the OP \u002B playing with the config files and the UI. Bit of a warning: It\u0027s not a 5-minute process and getting good results will lots of tweaking.\n\u003E \n\nGorgeous!!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-07T16:43:36Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, rbray89 said:\n\u003E \n\u003E \n\u003E Gorgeous!!\n\u003E \n\nGreat, btw this image [http://i.imgur.com/S8t9AxB.jpg](http://i.imgur.com/S8t9AxB.jpg) makes me think that we could come up with some kind of fake \u0022light scattering inside the clouds\u0022 effect, I\u0027ve seen a paper on the subject, I will have to dig it up."}]}