{"TopicId":120969,"ForumId":15,"TopicTitle":"Where do these lines come from?","CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-15T21:09:24Z","PageNum":1,"Articles":[{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-15T21:09:24Z","Content":"\n\u003Cp\u003EI\u0027ve been dabbling with parts modeling again. I decided to make the worlds fanciest fuel tank.\u003C/p\u003E\u003Cp\u003ESo I created this and noticed weird artifacts when I zoom out beyond a certain distance.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022%5Bimg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/hgI1zFz.png\u0022]\u003Cimg src=\u0022http://i.imgur.com/hgI1zFz.png\u0022 alt=\u0022hgI1zFz.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m sorry that\u0027s the best picture I can get. If you zoom closer, the lines disappear. They correspond to the edges in the model itself.\u003C/p\u003E\u003Cp\u003ESince it\u0027s distance related, that makes me think of the word \u0022mipmap\u0022, but I really have no clue what that means or how to go about solving this.\u003C/p\u003E\u003Cp\u003EThings different from what I\u0027ve done before are:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Ethe game object in unity has two sub objects (top-half and bottom-half) and each of those has three sub objects (cylinder walls, bracing, tank dome)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Etop and bottom halves were two separate .blend files\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Efor each \u0022half\u0022 there are two different materials (one for the dome, the other for the cylinder and bracing) all the shaders are KSP/diffuse\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI created the materials in Unity, rather than import from Blender\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI added mesh colliders only for the cylinder walls\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eunchecked \u0022cast shadows\u0022 from renderer for the tank domes\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ethe textures used are 2048x2048\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAny help will be much appreciated!\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003EKurld\u003C/p\u003E\n"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-09-15T21:44:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kurld\u0022 data-cite=\u0022Kurld\u0022\u003E\u003Cdiv\u003EI\u0027ve been dabbling with parts modeling again. I decided to make the worlds fanciest fuel tank.\u003Cp\u003ESo I created this and noticed weird artifacts when I zoom out beyond a certain distance.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/hgI1zFz.png\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://i.imgur.com/hgI1zFz.png\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m sorry that\u0027s the best picture I can get. If you zoom closer, the lines disappear. They correspond to the edges in the model itself.\u003C/p\u003E\u003Cp\u003ESince it\u0027s distance related, that makes me think of the word \u0022mipmap\u0022, but I really have no clue what that means or how to go about solving this.\u003C/p\u003E\u003Cp\u003EThings different from what I\u0027ve done before are:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003Ethe game object in unity has two sub objects (top-half and bottom-half) and each of those has three sub objects (cylinder walls, bracing, tank dome) \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Etop and bottom halves were two separate .blend files \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Efor each \u0022half\u0022 there are two different materials (one for the dome, the other for the cylinder and bracing) all the shaders are KSP/diffuse \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI created the materials in Unity, rather than import from Blender \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EI added mesh colliders only for the cylinder walls \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Eunchecked \u0022cast shadows\u0022 from renderer for the tank domes \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003Ethe textures used are 2048x2048 \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAny help will be much appreciated!\u003C/p\u003E\u003Cp\u003EBest,\u003C/p\u003E\u003Cp\u003EKurld\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELooks like classic mipmap induced blurring/sampling.\u003C/p\u003E\u003Cp\u003EWhat does your UV map and textures look like? From the myriad of vertical lines on the tank sides, it would appear that you UV mapped each face individually as its own island.\u003C/p\u003E\u003Cp\u003EEither way, the usual solution to mipmap induced problems is to remember to \u0027color outside the lines\u0027 for your UV map; your texture should extend 4-8 (more?) pixels outside of the UV lines.\u003C/p\u003E\n"},{"CreatedByName":"Nookos","CreatedById":144067,"CreatedDateTime":"2015-09-15T21:51:16Z","Content":"\n\u003Cp\u003EThe above or it might be the inside mesh appearing on the outside? I never seen that in KSP but in 3d softwares that\u0027s what happens with proximity and distance of display. The closer you get the more precise it is at deciding what is in front ( black inside mesh or white/grey outside mesh)\u003C/p\u003E\n"},{"CreatedByName":"Moach","CreatedById":9,"CreatedDateTime":"2015-09-15T22:07:31Z","Content":"\n\u003Cp\u003Ecould be perhaps z-fighting? \u003C/p\u003E\u003Cp\u003Eusually it flickers while you pan the view around in such a case - and it would be caused by having an underlying set of faces that is too close to the backside of the surface faces - this would cause the GPU\u0027s inherent \u0022rounding errors\u0022 to appear visibly in the form of parts of the model seemingly poking through each other...\u003C/p\u003E\u003Cp\u003Ethe way to solve that (in case this turns out to be the problem) would then be to give it a bit more room in between any co-planar faces there may be in there (can\u0027t tell from a picture that size)\u003C/p\u003E\u003Cp\u003Ealso, make sure you smooth out the normals on your mesh - not sure how blender works that out, (3dsMax has a modifier called \u0022Smooth\u0022 and/or a button on the mesh editor panel that \u0022merges\u0022 the normals of selected adjacent faces) -- but I\u0027m sure there\u0027s some tool that does this for you... the result is a mesh that has a soft gradient of shading to it, instead of a clunky flat-faced \u0022\u003Cem\u003E3D animation in the \u002780s\u003C/em\u003E\u0022 type appearance...\u003C/p\u003E\u003Cp\u003Eand as said before -- make sure your texture has a few pixels to \u0022breathe\u0022 around the mapped sections of the mesh \u003C/p\u003E\u003Cp\u003Equeer things tend to happen otherwise, especially after squeezing your model through any file format conversions\u003C/p\u003E\u003Cp\u003EGood luck!\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2015-09-16T22:11:34Z","Content":"\n\u003Cp\u003EThe uv map actually maps the majority of those faces so that they overlap. I thought maybe I hadn\u0027t colored far enough \u0022outside the lines\u0022 so I moved the UV borders for those faces so that there was what I would consider a ridiculous amount of overlap. (almost more texture outside the UV boundary as inside it). I\u0027m not at my workstation so I can\u0027t give you a number. I\u0027d guess \u0026gt; 10 and maybe even \u0026gt; 20. No difference.\u003C/p\u003E\u003Cp\u003EThe \u0022inside\u0022 of the cylinder is not any closer than I have modeled it before. It\u0027s a 2.5m cylinder and the walls are 5cm at their thinnest.\u003C/p\u003E\u003Cp\u003EI have not noticed any flickering.\u003C/p\u003E\u003Cp\u003EI selected all the faces in Blender and applied the \u0022smooth shading\u0022 command.\u003C/p\u003E\u003Cp\u003EThe top and bottom edges of the cylinder have an edge split applied, but I do that for everything and have not seen this.\u003C/p\u003E\u003Cp\u003EIn case I hosed something in Blender, I may delete the cylinder and recreate its mesh and use a separate and vastly simplified UV map to see if the problem goes away.\u003C/p\u003E\n"},{"CreatedByName":"InsaneDruid","CreatedById":137849,"CreatedDateTime":"2015-09-27T20:30:03Z","Content":"\n\u003Cp\u003EI\u0027m still confinced that you need more bleed padding on the textures. Depending on the size of the texture and the layout of the UVmap you need quite a LOT of padding. See this \u003Ca href=\u0022http://wiki.polycount.com/wiki/Edge_padding\u0022 rel=\u0022external nofollow\u0022\u003Epost over at polycount\u003C/a\u003E that states:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u0022Here are suggested amounts of edge padding to use for different size textures: \u003C/em\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cem\u003E 128 = 2px \u003C/em\u003E \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E 256 = 2px \u003C/em\u003E \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E 512 = 4px \u003C/em\u003E \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E 1024 = 8px \u003C/em\u003E \u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003E 2048 = 16px \u0022\u003C/em\u003E \u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI learned the hard way that you need these values in KSP.\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-05-27T18:59:37Z","Content":"\n\u003Cp\u003E\nThis thread is old, but for anybody who is looking for an answer... I never found one. When\u00A0I\u00A0loaded these same parts up in 1.1.2 recently,\u00A0the effect is no longer present.\u00A0I used to notice a lot of sparklys around the edges of the fine details and those have gone away as well.\n\u003C/p\u003E\n"},{"CreatedByName":"NecroBones","CreatedById":105424,"CreatedDateTime":"2016-05-29T01:36:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222604166\u0022 data-ipsquote-contentid=\u0022120969\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221464375577\u0022 data-ipsquote-userid=\u002279950\u0022 data-ipsquote-username=\u0022Kurld\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/27/2016 at 2:59 PM, Kurld said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis thread is old, but for anybody who is looking for an answer... I never found one. When\u00A0I\u00A0loaded these same parts up in 1.1.2 recently,\u00A0the effect is no longer present.\u00A0I used to notice a lot of sparklys around the edges of the fine details and those have gone away as well.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe vertical lines around the outer surface also look to me like just a mipmap bleed issue, as others had suggested. The fix is usually to make sure the color extends outside of the UV polygon for some distance in the texture. Usually at least 5 pixels, if not more, in my textures these days. When you zoom in, the mapping is more precise and the effect goes away. When you zoom out, it uses resolution-reduced copies of the texture (the mipmaps), and you can get some averaging of those pixels with nearby parts of the texture (not nearby parts of the model).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the sparklies, do you mean white dots that appear and disappear around the edges of the meshes? Yeah, sometimes I wasn\u0027t able to eliminate those completely either. I think it was a flaw in the pre-1.1 version of the KSP shaders. Usually it would happen at a transition between different mesh objects within the same part, but sometimes I would see it at the edges of a single-mesh part as well.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Beale","CreatedById":70533,"CreatedDateTime":"2016-06-01T14:15:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222200949\u0022 data-ipsquote-contentid=\u0022120969\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221443385803\u0022 data-ipsquote-userid=\u0022137849\u0022 data-ipsquote-username=\u0022InsaneDruid\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 9/27/2015 at 9:30 PM, InsaneDruid said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m still confinced that you need more bleed padding on the textures. Depending on the size of the texture and the layout of the UVmap you need quite a LOT of padding. See this \u003Ca href=\u0022http://wiki.polycount.com/wiki/Edge_padding\u0022 rel=\u0022external nofollow\u0022\u003Epost over at polycount\u003C/a\u003E that states:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003E\u0022Here are suggested amounts of edge padding to use for different size textures: \u003C/em\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cem\u003E128 = 2px \u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cem\u003E256 = 2px \u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cem\u003E512 = 4px \u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cem\u003E1024 = 8px \u003C/em\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cem\u003E2048 = 16px \u0022\u003C/em\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI learned the hard way that you need these values in KSP.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nInteresting, I have always used 5px on 1024 without any visible issue.\u003Cbr\u003E\nI do wonder accumulated difference between 5 and 8 pixels across an entire texture sheet, there could be a lot of lost space.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/71j0ubhjzqg6qx1/AADxvFyTiHGUTXOQO-aBnSjva?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere\u0027s a full texture for reference.\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u002227f26debef.png\u0022 class=\u0022ipsImage\u0022 height=\u0022644\u0022 src=\u0022http://puu.sh/pcLRH/27f26debef.png\u0022 style=\u0022width:256px;height:163px;\u0022 width=\u00221000\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-06-01T14:18:37Z\u0022 title=\u002206/01/2016 02:18  PM\u0022 data-short=\u00228 yr\u0022\u003EJune 1, 2016\u003C/time\u003E by Beale\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"InsaneDruid","CreatedById":137849,"CreatedDateTime":"2016-06-01T14:54:36Z","Content":"\n\u003Cp\u003E\nDepends on the UV layout. A perfect square will need less, a rather \u0022wild\u0022 polygon might need more. Also, visibility of the artefacts depends on the color of the different UV isles. A rather monochromatic texture is less prone than a texture where you have very dark and very bright uv isles.\n\u003C/p\u003E\n\u003Cp\u003E\nI also use the solidify filter from \u003Ca href=\u0022http://www.flamingpear.com/freebies.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.flamingpear.com/freebies.html \u003C/a\u003Eto blend the unused texture space, giving additional padding.\n\u003C/p\u003E\n"},{"CreatedByName":"Kurld","CreatedById":79950,"CreatedDateTime":"2016-06-02T21:30:02Z","Content":"\n\u003Cp\u003E\nI think in this case, it was either the old rendering engine or perhaps more likely\u00A0something with my nVidia\u00A0drivers or settings at the time\u00A0since that was a new PC build for me at that time.\u00A0Anyway, I\u0027m not seeing the lines when I load these parts in 1.1.2\n\u003C/p\u003E\n\u003Cp\u003E\nTrying to sort this, I went crazy extreme with UV layout and tried leaving a few dozens of pixels around the quads and it didn\u0027t help any.\u00A0I\u0027d made other models, using less overlap (I usually use 10 pixels)\u00A0that didn\u0027t have these issues.\u00A0 The ones I\u0027m working on now don\u0027t have them either.\n\u003C/p\u003E\n"}]}