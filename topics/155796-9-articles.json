{"TopicId":155796,"ForumId":34,"TopicTitle":"[KSP 1.10.0] Kerbal Simpit: A KSP serial mod for hardware controllers (1.4.1)","CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2017-01-30T17:07:07Z","PageNum":9,"Articles":[{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2018-11-09T06:32:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223483679\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221541712821\u0022 data-ipsquote-userid=\u0022193088\u0022 data-ipsquote-username=\u0022TrainWreck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, TrainWreck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre there any plans to include the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E headings as controllable items (e.g. hold prograde, hold retrograde, etc.)? I looked through the docs and it doesn\u0027t look like this is available currently. Are you open to accepting pull requests if you don\u0027t have the time to put in anymore?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHi!\n\u003C/p\u003E\n\u003Cp\u003E\nOver recent months my development on this code (and playing KSP) has slowed some. I\u0027m trying to get back in to it recently but, you know, life. \u003Cspan\u003E:)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode control is on the list of things I\u0027d like to get done - you can see my planned progress at \u003C/span\u003E\u003Ca href=\u0022https://trello.com/b/t6YUftuS/kerbal-simpit-progress\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/b/t6YUftuS/kerbal-simpit-progress\u003C/a\u003E . That said, pull requests would be very, very gratefully received. Have a look at the other providers and \u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u003C/a\u003E to get started writing code if that\u0027s what you\u0027d like to do.\n\u003C/p\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2018-11-09T11:02:13Z","Content":"\n\u003Cp\u003E\nEDIT: oops, I didn\u0027t see the reply from Stibbons.\u003Cbr\u003E\u003Cbr\u003E\nI was able to get \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E modes to work by using a kOS module and including a script that attaches modes to extended action groups, but that\u0027s a bit of a forced solution.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-09T11:04:34Z\u0022 title=\u002211/09/2018 11:04  AM\u0022 data-short=\u00225 yr\u0022\u003ENovember 9, 2018\u003C/time\u003E by Codapop\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2018-11-24T07:26:10Z","Content":"\n\u003Cp\u003E\nI\u0027m having some trouble getting analog controls to work. I am using a slide pot for debugging purposes, and I am able to get it to control the throttle, but adapting that code to control rotation is producing no results. Here\u0027s the code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nrotationMessage myRotation;\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(ROTATION_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\n  myRotation.pitch = pitchR;\n  myRotation.yaw = pitchR;\n  myRotation.roll = pitchR;\n  mySimpit.send(ROTATION_MESSAGE, myRotation);\n  delay(1);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nBased on the code, the p/y/r of the vessel should all move together, but nothing happens when I move the potentiometer. The LED_BUILTIN turns off indicating a connection. Similar code works with the same hardware to control the throttle, so I\u0027m probably missing some key component in my code.\u003Cbr\u003E\u003Cbr\u003E\nAlso, is there a way to upload new code to the arduino while KSP is running? It\u0027s a bit of a pain to have to close out of the game and reopen just to edit the code.\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: Also is there a way to allow for keyboard functionality while Simpit is running?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-24T13:47:45Z\u0022 title=\u002211/24/2018 01:47  PM\u0022 data-short=\u00225 yr\u0022\u003ENovember 24, 2018\u003C/time\u003E by Codapop\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TrainWreck","CreatedById":193088,"CreatedDateTime":"2018-11-26T19:55:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, is there a way to upload new code to the arduino while KSP is running? It\u0027s a bit of a pain to have to close out of the game and reopen just to edit the code.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nIf you have an \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E (or another Arduino board) I think you should be able to upload sketches that way. Googling \u0022arduino upload sketch without usb\u0022 returned some seemingly useful results for me.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nEDIT: Also is there a way to allow for keyboard functionality while Simpit is running?\u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t remember the keyboard being disabled when I was testing, but I can\u0027t say for sure until I can test again at home.\n\u003C/p\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2018-11-28T11:56:58Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223494187\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543262145\u0022 data-ipsquote-userid=\u0022193088\u0022 data-ipsquote-username=\u0022TrainWreck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/27/2018 at 3:55 AM, TrainWreck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nIf you have an \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E (or another Arduino board) I think you should be able to upload sketches that way. Googling \u0022arduino upload sketch without usb\u0022 returned some seemingly useful results for me.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t remember the keyboard being disabled when I was testing, but I can\u0027t say for sure until I can test again at home.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo you\u0027re saying I should unplug it and upload and then plug it back in while the game is running? That may work, but I think a simple command to Simpit to disconnect, or some sort of basic UI (like an on/off button) would be a great addition if it isn\u0027t already included.\n\u003C/p\u003E\n\u003Cp\u003E\nThe keyboard issues\u00A0might have just been something with my code or machine. I\u0027ll do some more testing with it once I figure out the analog code problem I posted above.\n\u003C/p\u003E\n"},{"CreatedByName":"TrainWreck","CreatedById":193088,"CreatedDateTime":"2018-12-05T02:13:06Z","Content":"\n\u003Cp\u003E\nI have replicated Codapop\u0027s code for the most part in my setup with the same results. In my setup I have a slide pot controlling the throttle, and the same value is also sent to the ROTATION_MESSAGE.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E  throttleValue \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E analogRead\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EthrottlePin\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  throttleValue \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003Emap\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EthrottleValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1023\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E32767\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n  mySimpit\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Esend\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003ETHROTTLE_MESSAGE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eunsigned\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Echar\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E*)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EthrottleValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E2\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n  rotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epitch \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E throttleValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  rotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eyaw \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E throttleValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  rotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eroll \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E throttleValue\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  mySimpit\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Esend\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EROTATION_MESSAGE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E rotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn KSP, when I move the slide pot the throttle works fine, but no movement on any of the rotational controls.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT:\n\u003C/p\u003E\n\u003Cp\u003E\nOn looking through the code \u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/src/c667d29da2177a76ebdadd035d6b5651fd0f41ab/KerbalSimpit/Providers/AxisControl.cs?at=master\u0026amp;fileviewer=file-view-default\u0022 rel=\u0022external nofollow\u0022\u003Eon bitbucket\u003C/a\u003E\u00A0(finally), it looks like the below callback is handling the rotational control messages. There is a bitwise and operation being performed against newRotation.mask, but I can\u0027t see newRotation.mask actually getting set anywhere. IIRC (and my memory of C# is pretty rusty, so I could easily be wrong)\u00A0structs are always pre-zeroed, and performing a bitwise \u0026amp; against 0 is always going to give you zero. If all of the above is correct, it would make sense that nothing you send in will do anything, because the code will always evaluate it to zero! Stibbons, please correct me if I\u0027m wrong here!\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Epublic\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E vesselRotationCallback\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte ID\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E object \u003C/span\u003E\u003Cspan\u003EData\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \n            newRotation \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EKerbalSimpitUtils\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EByteArrayToStructure\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan\u003ERotationalStruct\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[])\u003C/span\u003E\u003Cspan\u003EData\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Bit fields:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// pitch = 1\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// roll = 2\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// yaw = 4\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EnewRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emask \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                myRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epitch \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E newRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Epitch\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EnewRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emask \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E2\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                myRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eroll \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E newRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eroll\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E((\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EnewRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emask \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026amp;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E4\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n                myRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eyaw \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E newRotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eyaw\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n            \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nEDIT 2:\n\u003C/p\u003E\n\u003Cp\u003E\nAfter further review, \u003Cspan\u003Ethe fix was incredibly simple like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022188621\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0022 rel=\u0022\u0022\u003E@Codapop\u003C/a\u003E\u003C/span\u003E expected, and I was just over-complicating things. All I did was add\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Erotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emask \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E7\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nTo the code above and the throttle works as expected. Set rotation.mask based on which of the 3 axis\u0027 are getting updated (see lines 59-66 \u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit-arduino/src/8b0d60e85546bd517d5209704d46b06280960c42/src/PayloadStructs.h?at=master\u0026amp;fileviewer=file-view-default\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E. Luckily, debugging this (admittedly self inflicted) issue finally got me to pull down the repos and set up my make environment. Hopefully I\u0027ll be able to find time to work on them a little bit and open some pull requests.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-12-08T03:00:42Z\u0022 title=\u002212/08/2018 03:00  AM\u0022 data-short=\u00225 yr\u0022\u003EDecember 8, 2018\u003C/time\u003E by TrainWreck\u003C/strong\u003E\n\u003Cbr\u003ENew information\n\u003C/span\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-06T10:59:49Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E@codapop I second the simple on/off button. I am currently planning my own control panel now and hope to get started within the next few days. From previous experience with arduino, being able to have a disconnection/reconnection option available without restarting programs is a godsend. Going from prior experience in python, implementing a disconnect/reconnect feature is just a matter of reworking the initial start connection and end connection code. I may have a look at the code in more detail tomorrow, and see if I can work out at least some psuedocode for potential implementation.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-10T02:38:18Z","Content":"\n\u003Cp\u003E\nOkay, I have just had some time to look over the code, to see about adding in a way to terminate and reopen a serial connection, without restarting the game/mod. \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E is it possible to break out the code currently in the start method that is responsible for calling the various commands and functions to create and initialise the serial port, into its own function? This function could then be used to initialise the various data structures to be in the required state to create a new serial connection, and then start the connection. Something similar could also be used for the termination of the port?\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThese methods could then possibly be linked to a simple toggle button in game, that can be used to toggle the connection status.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2018-12-10T12:29:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223499127\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543975986\u0022 data-ipsquote-userid=\u0022193088\u0022 data-ipsquote-username=\u0022TrainWreck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/5/2018 at 1:13 PM, TrainWreck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAfter further review, \u003Cspan\u003Ethe fix was incredibly simple like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022188621\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/188621-codapop/\u0022 rel=\u0022\u0022\u003E@Codapop\u003C/a\u003E\u003C/span\u003E expected, and I was just over-complicating things. All I did was add\u003Cspan\u003E\uFEFF\u003C/span\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003Erotation\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Emask \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebyte\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E7\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nTo the code above and the throttle works as expected.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWell, dang. Apologies for the dumb bug, and thanks for sorting it out, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/193088-trainwreck/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022193088\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/193088-trainwreck/\u0022 rel=\u0022\u0022\u003E@TrainWreck\u003C/a\u003E. Can I assume the PR for \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode is from you too? I\u0027ll make sure I can merge that, and get this fix in a new release this week.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223499127\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543975986\u0022 data-ipsquote-userid=\u0022193088\u0022 data-ipsquote-username=\u0022TrainWreck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/5/2018 at 1:13 PM, TrainWreck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLuckily, debugging this (admittedly self inflicted) issue finally got me to pull down the repos and set up my make environment.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI really hope getting set up to actually build the plugin wasn\u0027t too hard. Tried to document it thoroughly, but have never heard of anybody else trying to do it. Please let me know if there\u0027s anything that wasn\u0027t clear, or that could be done better.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223502400\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544409498\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOkay, I have just had some time to look over the code, to see about adding in a way to terminate and reopen a serial connection, without restarting the game/mod. \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E is it possible to break out the code currently in the start method that is responsible for calling the various commands and functions to create and initialise the serial port, into its own function?\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPossible, but I\u0027d avoided it because adding UI code seemed massively complicated, and to be honest I\u0027ve only really thought of the dev loop in terms of getting the plugin and arduino library functional. Actually hacking on serious controller code isn\u0027t something that I\u0027d considered, sorry.\u003Cbr\u003E\nI\u0027ve added manual disconnect/reconnect at runtime to my backlog.\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-12T09:41:50Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E Having looked around some more, I think I may have found a simpler solution for the serial stream: To just add a command to the in game debug terminal. Now, my C# programming experience is next to none, only having used it for some very basic things in a unity project I was tinkering with. However, as I am currently have a few months of holiday I am quite happy to have a go at getting the terminal command going ( Just will have to learn C# to do it, something I have been meaning to do anyway) If I do get the command functioning would you be happy to take the code and change it to match your preferred syntax/stylising and add it to your main code? This is just so I know whether to approach it as \u0022Its just me using it, I can deal with it being bodged and hacky\u0022 ,vs \u0022Ok, got to get it right, other people are potentially using it\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nOn a side note, is it possible to enable an issue tracker on the repository itself, to keep track of issues and suggestions in the same location as the code?\n\u003C/p\u003E\n"},{"CreatedByName":"TrainWreck","CreatedById":193088,"CreatedDateTime":"2018-12-14T15:28:51Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E\u00A0your instructions for pulling down and starting development\u00A0were actually pretty spot on. There were a few extra packages required for my system to be able to run make correctly, but that\u0027s on me and not your documentation. That is indeed my pull request.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223502542\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544444963\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/10/2018 at 6:29 AM, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWell, dang. Apologies for the dumb bug, and thanks for sorting it out,\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is actually not a bug at all! Your Arduino library code very clearly documented that the line I mentioned was required, and I just didn\u0027t notice it. the (byte)7 is reasonable to me, as this was just test code and any reasonable implementation would have that in a byte variable anyway.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2018-12-16T12:00:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223504880\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544801331\u0022 data-ipsquote-userid=\u0022193088\u0022 data-ipsquote-username=\u0022TrainWreck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/15/2018 at 2:28 AM, TrainWreck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThis is actually not a bug at all! Your Arduino library code very clearly documented that the line I mentioned was required, and I just didn\u0027t notice it. the (byte)7 is reasonable to me, as this was just test code and any reasonable implementation would have that in a byte variable anyway.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI had to go and read up on all of this stuff again, because it\u0027d been a while since I looked hard at this code, sorry. And I realised that hardcoding magic numbers like that isn\u0027t much fun. So I\u0027ve added constants for the rotation and translation masks, similar to the action group constants. You can set the mask like this now:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Erotation.mask = PITCH_ROT|ROLL_ROT|YAW_ROT;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223503553\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544607710\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/12/2018 at 8:41 PM, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNow, my C# programming experience is next to none, only having used it for some very basic things in a unity project I was tinkering with.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHeh, if it makes you feel any better, this is pretty much my first C# project too (after some small contributions to other KSP plugins).\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223503553\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544607710\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/12/2018 at 8:41 PM, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf I do get the command functioning would you be happy to take the code and change it to match your preferred syntax/stylising and add it to your main code?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYES. Definitely. Contributions are very welcome, and using the debug terminal like you\u0027re suggesting sounds great.\n\u003C/p\u003E\n\u003Cp\u003E\nNote that the way the plugin is built is currently a little idiosyncratic, I\u0027m generating the .csproj and AssemblyInfo files dynamically, which may not play nicely with IDEs like VS and monodevelop without some work.\u00A0\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u003C/a\u003E\u00A0has some details on getting set up to build it.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223503553\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544607710\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 12/12/2018 at 8:41 PM, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOn a side note, is it possible to enable an issue tracker on the repository itself, to keep track of issues and suggestions in the same location as the code?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFor what it\u0027s worth, I\u0027ve been using a trello board at\u00A0\u003Ca href=\u0022https://trello.com/b/t6YUftuS/kerbal-simpit-progress\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://trello.com/b/t6YUftuS/kerbal-simpit-progress\u003C/a\u003E\u00A0to track what I\u0027m doing. But that\u0027s not easily accessible to people who aren\u0027t me. So, sure, I\u0027ve just turned on the issue tracker on the bitbucket project -\u00A0\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/issues\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAfter fighting with my deployment environments for a while, there\u0027s a new release of the Kerbal Simpit plugin. 1.3.0 includes a new command channel to set the \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode, thanks to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/193088-trainwreck/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022193088\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/193088-trainwreck/\u0022 rel=\u0022\u0022\u003E@TrainWreck\u003C/a\u003E. \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E should have it in the next few hours.\n\u003C/p\u003E\n\u003Cp\u003E\nThe Arduino library has also bumped to version 1.2.1. This includes the bits needed so your Arduino can send \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E mode commands, which look a lot like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EmySimpit\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EsetSASMode\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EAP_RETROGRADE\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ve also added some constants to make setting the mask on rotation and translation commands a little more intuitive. The Arduino library manager should have the new release shortly as well.\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-16T13:06:57Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505736\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544961630\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHeh, if it makes you feel any better, this is pretty much my first C# project too (after some small contributions to other KSP plugins).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E Well, I seem to be picking it up okay. The general consensus of once you have done programming with a common OOP language, working with another will not be to hard seems to be holding true. Not to mention learning it is handy for me, as I will need it in my final year of secondary education next year, then probally at uni as well.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505736\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544961630\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n21 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYES. Definitely. Contributions are very welcome, and using the debug terminal like you\u0027re suggesting sounds great.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSweet, because I am hopefully going to get these commands going soon, and hopefully my code opens up new doorways to simplify future development for everyone.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI found \u003Ca href=\u0022https://github.com/KSPSnark/IndicatorLights/blob/master/src/Console/DebugConsole.cs\u0022 rel=\u0022external nofollow\u0022\u003Ethis example\u003C/a\u003E on the usage of the terminal commands, and have spent the past day and a bit just converting that code over to something that will work for this plugin. The terminal commands are surprisingly easy to add ( Well, having never worked with KSP addons before, I am going off experience with other programming), as long as you remember to add their \u0022.cs\u0022 files to the serial \u0022.csproj\u0022 file so they get compiled into the dll\u2026\u00A0\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E. Yeah, that took me a bit longer than I care to admit to work out. Okay, okay , I think it may have been an hour \u2026 or two before I facepalmed. Currently, I have help commands running, in the form \u0022/sim help \u0026lt;command\u0026gt;\u0022\u003Cbr\u003E\nI have settled on \u0022sim\u0022 as the \u0022identifier\u0022(? or whatever the correct term is for it) for the commands that I am developing, although it is easy enough to change it if so required. I am going to start attacking the serial start/stop commands tomorrow ( Well, more like later today ), and if all goes well I may have a \u003Cstrong\u003Every \u003C/strong\u003EWIP version submitted in the next couple of days.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505736\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544961630\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n29 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNote that the way the plugin is built is currently a little idiosyncratic, I\u0027m generating the .csproj and AssemblyInfo files dynamically, which may not play nicely with IDEs like VS and monodevelop without some work.\u00A0\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u003C/a\u003E\u00A0has some details on getting set up to build it.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI actually did not find it to bad to get going. After having tried Visual Studio by itself to no avail, I then tried VS Code. I gave up on that, as trying to program without having the ability to \u0022go to definition\u0022 was going to make things a nightmare. Anyway, went back to Visual Studio, and it just worked with importing the existing code as a project. However, the second time I tried it, I had pulled the repo down again, having deleted it locally, so that is probally what did it.\n\u003C/p\u003E\n\u003Cp\u003E\nTo compile, I am just running the makefile using \u0022GNU make\u0022 running on a Debian Linux Shell( Purely personal preference, as it is the distro that I regularly use if I am not on Windows 10), with the install option to have the DLLs automatically get moved to the games install location. Thank you for including that [ the install argument ], it has greatly simplified the building and testing process.\n\u003C/p\u003E\n\u003Cp\u003E\nTo those who want to develop this code in an IDE, I recommend going the route that was recommended\u00A0\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/wiki/PluginHacking.md\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E.\u003Cbr\u003E\u003Cu\u003EFor Win 10 users:\u003C/u\u003E I enabled the Windows Linux Feature, installed the Debian GNU/Linux shell from the windows store, and then installed the recommended packages.\u00A0 I then setup symlinks from the required sections in the KSP install to the main project file at the same level as the makefile. Following this, I then edited the makefile to use the local symlinks in the project folder, instead of having them recurse from the top of the install drive, to the game files.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ENB: BEFORE \u003C/strong\u003Eattempting to install the packages, you need to edit the \u0022sources.list\u0022 file, to have the source links be \u0022trusty main restricted\u0022. I am not sure on the reasoning, I just know that without that it will \u003Cstrong\u003EREFUSE \u003C/strong\u003Eto install the packages. I think it was more to do with the shell running on windows than anything, from what I briefly read.\u003Cbr\u003E\u003Cbr\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E Would it be worth looking into a documentation tool like doxygen for this project? This may make it easier for multiple people to keep track of the code structure, as well as making it easier for other people to come onboard and work with the code in the future? I have never worked with a documentation tool like that before, but to my understanding doxygen is one of the more commonly used ones for generating documentation for projects?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505736\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544961630\u0022 data-ipsquote-userid=\u002257865\u0022 data-ipsquote-username=\u0022stibbons\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n52 minutes ago, stibbons said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo, sure, I\u0027ve just turned on the issue tracker on the bitbucket project -\u00A0\u003Ca href=\u0022https://bitbucket.org/pjhardy/kerbalsimpit/issues\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://bitbucket.org/pjhardy/kerbalsimpit/issues\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSweet! This should definitely make it easier for all of us to keep track of what is going on/needs fixing!\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2018-12-16T20:50:12Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505757\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544965617\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cu\u003EFor Win 10 users:\u003C/u\u003E I enabled the Windows Linux Feature, installed the Debian GNU/Linux shell from the windows store, and then installed the recommended packages.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat works?\u00A0\u003Cstrong\u003EAwesome!\u003C/strong\u003E\u00A0I\u0027d wondered, but hadn\u0027t found the time to actually boot my one Windows install to try it out. Thank you so much for letting me know how you\u0027re going doing this stuff on Windows.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223505757\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221544965617\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould it be worth looking into a documentation tool like doxygen for this project?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe arduino library is all doxygenised, which is how\u00A0\u003Ca href=\u0022https://kerbalsimpit-arduino.readthedocs.io/en/stable/\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://kerbalsimpit-arduino.readthedocs.io/en/stable/\u003C/a\u003E\u00A0is generated. But, once again, I\u0027ve been working on the plugin code with the assumption nobody else would read it. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0Pretty much all of the documentation that\u0027s there was intended to be notes to myself. But properly documenting what\u0027s there sounds like a good plan.\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-20T10:05:53Z","Content":"\n\u003Cp\u003E\n\u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E\u00A0Just a brief update:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EI am taking a tad longer than I expected to get the code in a state that I consider good enough state to be considered for implementing into a releasable version. Mainly due to that fact that as I am learning c# while programming the commands, I have ended up finding better ways to do most things, and have then gone and reworked chunks of code. I also may have implemented localisation to my code, and the commands. That actually was not to bad to do, once I worked out the way I think is best in our case to store the tags for the localizer. It also meant that I had to rework some of the code for processing the commands, which actually resulted in it being more reliable, cleaner, and more flexible to running without being dependent on the values for commands being hardcoded in, as to be localised they need to be in the localisation file.\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EAnyway, all my code that puts anything into the terminal has an English localisation , and my mate \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/194112-meh/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022194112\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/194112-meh/\u0022 rel=\u0022\u0022\u003E@meh?\u003C/a\u003E has just translated it into German, which I will test tomorrow. I have gotten the serial port code extracted from the start method, into its own method, and have it being called by a command. The testing of that code is a job for tomorrow. Fingers crossed it all goes well, and that I have the code in a state to be pulled in, so everyone can begin trialling the commands.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-22T23:53:33Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257865\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57865-stibbons/\u0022 rel=\u0022\u0022\u003E@stibbons\u003C/a\u003E Well, I do have the commands working now. They are still in their early stages of development, but the framework is now all there. I did submit a pull request for review the other day, so that you and others can take a look at the code, and offer suggestions on what may need to be adjusted for it to be added to the main branch. I am planning to start more development on my actual simpit, so I will probally shift towards the hardware/Arduino side of things for the next little while. However, if there are issues with my code/you would like me to change and work on some things I am more than happy to do so ( Will give me something to do while waiting for my 3D printer to print out prototyping parts for my simpit). Also, if I find any issues with my terminal command code while developing my simpit, I will be sure to submit a pull request for a bugfix.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDepending on the reception by the users of your addon to the addition of the commands, and if people do find them useful, I may potentially end up developing an in game GUI button/panel for those who would rather not use the debug console.\n\u003C/p\u003E\n\u003Cp\u003E\nSomething else that is worth noting with the serial stopping and starting: When you have disconnected the serial port from the game, the Arduino IDE can then claim it and program the device. However, once the Arduino IDE has programmed the device, you need to press the reset button on the device that has just been programmed, so that it\u0027s serial port is properly released from the IDE, before trying to reconnect it to KSP.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, if you disconnect the serial port from KSP while in a flight, you cannot reconnect the device and have it take over the flight controls without having left and re-entered the flight view. I assume this is due to when KSP attaches the controls to a vessel, and I am yet to look into the code enough to see if there is a possible fix.\n\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2018-12-23T10:14:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223509701\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221545522813\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI did submit a pull request for review the other day, so that you and others can take a look at the code, and offer suggestions on what may need to be adjusted for it to be added to the main branch. I am planning to start more development on my actual simpit, so I will probally shift towards the hardware/Arduino side of things for the next little while. However, if there are issues with my code/you would like me to change and work on some things I am more than happy to do so ( Will give me something to do while waiting for my 3D printer to print out prototyping parts for my simpit).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI saw! Thank you so much for\u00A0that. \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0I haven\u0027t yet had a chance to go over it properly, sorry, holiday season and all. Will add some comments to the PR soon though, and think long and hard about starting the ports automatically again.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223509701\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221545522813\u0022 data-ipsquote-userid=\u0022193780\u0022 data-ipsquote-username=\u0022LRTNZ\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, LRTNZ said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, if you disconnect the serial port from KSP while in a flight, you cannot reconnect the device and have it take over the flight controls without having left and re-entered the flight view. I assume this is due to when KSP attaches the controls to a vessel, and I am yet to look into the code enough to see if there is a possible fix.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ve tried to write the plugin to support subscribing and unsubscribing from channels at any time (not least because that\u0027s something I would like to do for the ghetto MFDs on my controller). But I\u0027ve never explicitly tested this, all of the\u00A0arduino code I\u0027ve written for this plugin so far subscribes in \u0060setup()\u0060, long before a flight scene is loaded. I wonder if something is going strange there.\n\u003C/p\u003E\n"},{"CreatedByName":"LRTNZ","CreatedById":193780,"CreatedDateTime":"2018-12-23T10:58:29Z","Content":"\n\u003Cp\u003E\nI forgot to add a few details in regards to the behaviour of the serial port attaching and detaching while the game is running. When the serial port is detached completely from the game on KSPs side of things, for it to reattach you need to leave and reenter the flight scene when you reconnect it. You can reconnect the serial port in the flight scene before you leave it, or once you have left it but \u003Cstrong\u003Ebefore\u003C/strong\u003E returning to it. The requirement though is at some point after reconnecting the serial port, for it to have its controls applied, you \u003Cstrong\u003Emust have\u003C/strong\u003E refreshed the flight scene.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFrom memory, I think this is due to when the computer side of the code checks what gamescene/view the player is currently in when it goes to attach the commands, nothing to do with the arduino\u0027s code. Also, it could possibly be partially due to how I have the code terminating the running workers when the serial port is disconnected, with one of those potentially responsible for passing the users control panel input to KSP. I will look into this some more, and see if there is a way to reconnect the command passing from the add on to ksp, without the need to refresh the flight game view.\n\u003C/p\u003E\n\u003Cp\u003E\nHowever, I will look at this, after I get the ports automatically connecting upon startup. I may look into how the config files are read, because maybe it should be a config option for the user to choose whether or not they want the port automatically connecting upon startup? For the automatic reconnection, I suspect I just need to change the code so there is a one time call when the game starts to the serial command to try start the connection.\n\u003C/p\u003E\n\u003Cp\u003E\nI will most likely keep the serial command responsible for the creation of the KSPit instance, as it does mean the commands I have implemented are in control of the serial ports, and it does not run the risk of having 2 instances of the KSPit class trying to talk to the serial port/s. Although, if anybody with more experience in these matters has a better idea/s, I am all ears, and game to implement it if it will result in a better outcome.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI have not tried the subscribing and unsubscribing on the arduino yet, however I do not see why my changes would have affected that in any way. I must say, of the arduino code I have used, the arduino library has all been wonderful, with the only issues having been computer side from the visual studio arduino plugin taking over the serial ports, even when it had never been told to connect.... So that plugin is disabled, and I am just using the arduino ide.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOn a side note, my mate \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/194112-meh/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022194112\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/194112-meh/\u0022 rel=\u0022\u0022\u003E@meh?\u003C/a\u003E\u00A0does have some free time to do more German translating, if you would like him to do it for the verbose terminal outputs you have in the code? Would only take me about half an hour to find them all, and add them to the English localisation file, which can then be translated. Is this effort worthwhile, or do you think it may be to futile to worry about?\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-02T13:06:25Z","Content":"\n\u003Cp\u003E\nHej.\n\u003C/p\u003E\n\u003Cp\u003E\nI was not active for a long time, but getting back at it again.\n\u003C/p\u003E\n\u003Cp\u003E\nIs that correct: \u00A0 mySimpit.send(THROTTLE_MESSAGE, (unsigned char*) \u0026amp;throttle, 2);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know about the size, the 2 at the end. Found the 2 on the forum. \u003Cs\u003EIsn\u0027t this: sizeof((unsigned char*) \u0026amp;throttle) maybe a better solution?\u003C/s\u003E No, it\u0027s not. It\u0027s an array.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHmmm, the throttle doesn\u0027t work. Anyone know why?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-02T16:20:20Z\u0022 title=\u002201/02/2019 04:20  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 2, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003Cbr\u003EIt does not work\n\u003C/span\u003E\n"},{"CreatedByName":"TrainWreck","CreatedById":193088,"CreatedDateTime":"2019-01-02T23:15:49Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/116398-benji/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022116398\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/116398-benji/\u0022 rel=\u0022\u0022\u003E@Benji\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThrottle is working just fine for me in my implementation. If you post more of your code that isn\u0027t working you might get more help.\n\u003C/p\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-03T14:10:52Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223514867\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221546434385\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/2/2019 at 2:06 PM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHej.\n\u003C/p\u003E\n\u003Cp\u003E\nI was not active for a long time, but getting back at it again.\n\u003C/p\u003E\n\u003Cp\u003E\nIs that correct: \u00A0 mySimpit.send(THROTTLE_MESSAGE, (unsigned char*) \u0026amp;throttle, 2);\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know about the size, the 2 at the end. Found the 2 on the forum. \u003Cs\u003EIsn\u0027t this: sizeof((unsigned char*) \u0026amp;throttle) maybe a better solution?\u003C/s\u003E No, it\u0027s not. It\u0027s an array.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHmmm, the throttle doesn\u0027t work. Anyone know why?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E//KerbalSimPit\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;KerbalSimpit.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;KerbalSimpitMessageTypes.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n#include \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;PayloadStructs.h\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\nKerbalSimpit mySimpit(Serial);\n\n\nvoid initializeSimpit() {\n      \n  while (!mySimpit.init());\n}\n\nvoid updateSimpit() {\n      \n  mySimpit.update();\n}\n\nvoid sendACG(uint32_t acg) {\n\n  if (acg == acgStage)\n    mySimpit.activateAction(STAGE_ACTION);\n  else if (acg == acgAbort)\n    mySimpit.activateAction(ABORT_ACTION);\n  else if (acg == acgLight)\n    mySimpit.toggleAction(LIGHT_ACTION);\n  else if (acg == acgGear)\n    mySimpit.toggleAction(GEAR_ACTION);\n  else if (acg == acgBrakes)\n    mySimpit.toggleAction(BRAKES_ACTION);\n  else if (acg == acgRCS)\n    mySimpit.toggleAction(RCS_ACTION);\n  else if (acg == acgSAS)\n    mySimpit.toggleAction(SAS_ACTION);\n  else\n    mySimpit.toggleCAG(acg);\n}\n\nvoid sendSAS(uint32_t sas) {\n\n  if (sas == sasStability)\n    mySimpit.send(SAS_MODE_MESSAGE, AP_STABILITYASSIST, 1);\n}\n\nvoid sendThrottle(uint32_t throttle) {\n\n  mySimpit.send(THROTTLE_MESSAGE, (unsigned char*) \u0026amp;throttle, 2);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nHere\u0027s some more information...\n\u003C/p\u003E\n\u003Cp\u003E\nThe helper functions I used for action groups work like a charm.\n\u003C/p\u003E\n\u003Cp\u003E\nThrottling does nothing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cbr\u003E\n\u0027\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Mode doesn\u0027t even compile:\n\u003C/p\u003E\n\u003Cp\u003E\nerror: \u0027AP_STABILITYASSIST\u0027 was not declared in this scope\n\u003C/p\u003E\n\u003Cp\u003E\nSAS_MODE_MESSAGE\u0027 was not declared in this scope\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI just found out that you\u0027re at 1.2.1 on bitbucket but the \u0022by arduino loaded\u0022 library is at 1.1.5...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-04T15:17:42Z\u0022 title=\u002201/04/2019 03:17  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 4, 2019\u003C/time\u003E by Benji\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-06T20:27:59Z","Content":"\n\u003Cp\u003E\nI manually updated to the code on bitbucket.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Modes are compileable now.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut they still don\u0027t work. Throttle still doesn\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nI got 1.3.0.64 through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIs that correct?\n\u003C/p\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2019-01-24T13:40:07Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223517564\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221546806479\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/7/2019 at 4:27 AM, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI manually updated to the code on bitbucket.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E Modes are compileable now.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut they still don\u0027t work. Throttle still doesn\u0027t work.\n\u003C/p\u003E\n\u003Cp\u003E\nI got 1.3.0.64 through \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003Eckan\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nIs that correct?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m using the latest release on bitbucket (I think it was #64?) and used this code:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nrotationMessage myRotation;\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(THROTTLE_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int throttle = map(pitchRead, 0, 1023, -32768, 32767);\n  mySimpit.send(THROTTLE_MESSAGE, throttle);\n  delay(1);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThis works well for me, though for some reason it seems to not register until the potentiometer reads above about 1/3. It\u0027s been this way for several months, so it\u0027s not a new development. My serial monitor shows the pot is working correctly. Stibbons do you happen to know why or how to fix this?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, I still can\u0027t seem to get rotation messages to work properly. I\u0027m using this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E#include \u0022KerbalSimpit.h\u0022\n\nKerbalSimpit mySimpit(Serial);\n\nrotationMessage myRotation;\n\nvoid setup() {\n  Serial.begin(115200);\n\n  pinMode(LED_BUILTIN, OUTPUT);\n  digitalWrite(LED_BUILTIN, HIGH);\n  while (!mySimpit.init()) {delay(100);}\n  digitalWrite(LED_BUILTIN, LOW);\n\n  mySimpit.registerChannel(ROTATION_MESSAGE);\n}\n\nvoid loop() {\n  int pitchRead = analogRead(A0);\n  int pitchR = map(pitchRead, 0, 1023, -32768, 32767);\n  myRotation.pitch = pitchR;\n  mySimpit.send(ROTATION_MESSAGE, myRotation);\n  delay(1);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI tried making some various changes to reflect the discussion above, but the information is sorta randomly talked about and difficult for me to understand with my limited coding knowledge. Can you please give a short example of how to write a proper rotation message?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-24T13:53:31Z\u0022 title=\u002201/24/2019 01:53  PM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 24, 2019\u003C/time\u003E by Codapop\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2019-01-26T10:58:27Z","Content":"\n\u003Cp\u003E\nQuick question:\n\u003C/p\u003E\n\u003Cp\u003E\nWhat range of values does KSP expect?\n\u003C/p\u003E\n\u003Cp\u003E\nAre the attitude and translation controls ranged from\n\u003C/p\u003E\n\u003Cp\u003E\n-1024 to 1023 ,\n\u003C/p\u003E\n\u003Cp\u003E\n-512 to 511 or\n\u003C/p\u003E\n\u003Cp\u003E\n0 to 1023 ?\n\u003C/p\u003E\n"},{"CreatedByName":"Codapop","CreatedById":188621,"CreatedDateTime":"2019-01-26T11:47:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223529179\u0022 data-ipsquote-contentid=\u0022155796\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221548500307\u0022 data-ipsquote-userid=\u0022116398\u0022 data-ipsquote-username=\u0022Benji\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n49 minutes ago, Benji said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nQuick question:\n\u003C/p\u003E\n\u003Cp\u003E\nWhat range of values does KSP expect?\n\u003C/p\u003E\n\u003Cp\u003E\nAre the attitude and translation controls ranged from\n\u003C/p\u003E\n\u003Cp\u003E\n-1024 to 1023 ,\n\u003C/p\u003E\n\u003Cp\u003E\n-512 to 511 or\n\u003C/p\u003E\n\u003Cp\u003E\n0 to 1023 ?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI believe Simpit expects 16-bit integers:\u00A0-32768 to 32767.\u003Cbr\u003E\u003Cbr\u003E\nSo 0 on throttle\u00A0is -32768, and 100% throttle is 32767. For rotation/translation it should still use the same intregers, but the program would interpret them differently (like -32768 is all the way left and 32767 is all the way right). When using Arduino, you map the input from the potentiometer to those integers. So the potentiometer reads a voltage, arduino reads that voltage as being somewhere between 0 and 1023, and then it gets mapped relative to -32768 and 32767 and then sent to Simpit.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-01-26T11:48:00Z\u0022 title=\u002201/26/2019 11:48  AM\u0022 data-short=\u00225 yr\u0022\u003EJanuary 26, 2019\u003C/time\u003E by Codapop\u003C/strong\u003E\n\u003C/span\u003E\n"}]}