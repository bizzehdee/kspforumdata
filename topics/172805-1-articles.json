{"TopicId":172805,"ForumId":29,"TopicTitle":"How to rotate parts in editor BEFORE they\u0026#039;re placed?","CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T03:09:57Z","PageNum":1,"Articles":[{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T03:09:57Z","Content":"\n\u003Cp\u003E\nI\u0027d like to write some plugin code that tweaks the orientation of parts as they\u0027re picked from the parts panel, and I\u0027m having a dickens of a time getting it to work.\n\u003C/p\u003E\n\u003Cp\u003E\nThe way I\u0027m trying to rotate parts is by calling part.transform.Rotate(...).\u00A0 That method works just fine-- but as far as I can tell, only for parts that have actually been placed on the ship in the editor.\u00A0 Calling it on a part that \u003Cem\u003E\u003Cu\u003Ehasn\u0027t\u003C/u\u003E\u003C/em\u003E been placed yet appears to do nothing, as far as I can tell.\n\u003C/p\u003E\n\u003Cp\u003E\nHere are some things I\u0027ve tried, and what I\u0027ve observed:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCalling part.transform.Rotate() works just fine if I do it in onEditorPodPicked, which gets called when the first root part is placed for a new vessel.\u00A0 So I\u0027ve got that case covered.\n\u003C/li\u003E\n\u003Cli\u003E\nParts that are instantiated from the parts panel get an onEditorPartEvent of type ConstructionEvenType.PartCreated.\u00A0 This would be the ideal place for me to do the rotation... except calling part.transform.Rotate() here appears to do absolutely nothing, as far as I can tell.\u00A0 The rotation of the part isn\u0027t affected, either when being dragged around or when placed on the ship.\n\u003C/li\u003E\n\u003Cli\u003E\nThe next editor part event that happens after PartCreated is PartDragging.\u00A0 I\u0027ve tried calling part.transform.Rotate() there, too... also no dice, I can\u0027t seem to affect the rotation at all.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nBasically, what I\u0027m looking for is the ability to do, programmatically, the same thing that happens when I hit one of QWEASD while dragging a part.\n\u003C/p\u003E\n\u003Cp\u003E\nDoes anyone have any suggestions for how I can make this happen?\u00A0 What am I missing, here?\n\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-03-22T09:45:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223330701\u0022 data-ipsquote-contentid=\u0022172805\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521688197\u0022 data-ipsquote-userid=\u0022125662\u0022 data-ipsquote-username=\u0022Snark\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, Snark said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe way I\u0027m trying to rotate parts is by calling part.transform.Rotate(...).\u00A0 That method works just fine-- but as far as I can tell, only for parts that have actually been placed on the ship in the editor.\u00A0 Calling it on a part that \u003Cem\u003E\u003Cu\u003Ehasn\u0027t\u003C/u\u003E\u003C/em\u003E been placed yet appears to do nothing, as far as I can tell.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPlay with part.attRotation and/or part.attRotation0 (forgot which one does what, try to print them while you rotate a part with the kb and gizmo)\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T13:18:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223330896\u0022 data-ipsquote-contentid=\u0022172805\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521711959\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPlay with part.attRotation and/or part.attRotation0 (forgot which one does what, try to print them while you rotate a part with the kb and gizmo)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThank you!\n\u003C/p\u003E\n\u003Cp\u003E\nUnfortunately... although it seems to \u0022work\u0022, it has odd side effects that make it unusable (at least in the experimentation I\u0027ve done thus far.)\u00A0 Details below, but the executive summary is that as far as I can tell, attRotation0 does nothing and attRotation does too much.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLet\u0027s say I want to rotate the object 90 degrees around the Y axis, so that it\u0027s spawned \u0022facing\u0022 east instead of north.\u00A0 So I set up a rotation like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan\u003EQuaternion\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E ROTATION \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EQuaternion\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EEuler\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E90\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThen I register for GameEvents.onEditorPartEvent, and handle it thus:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Eprivate\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Evoid\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EOnEditorPartEvent\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan\u003EConstructionEventType\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E eventType\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EPart\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Eif\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EeventType \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E==\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EConstructionEventType\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EPartCreated\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n        part\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EattRotation \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E ROTATION\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nResult:\u00A0 It \u003Cem\u003E\u003Cu\u003Eappears\u003C/u\u003E\u003C/em\u003E to do what I want (the part shows up facing the right way, and if I attach it via a stack node above or below another part, it keeps that orientation).\n\u003C/p\u003E\n\u003Cp\u003E\nHowever... the part\u0027s been subtly borked.\u00A0 It now attaches wrong via surface attachment.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022vnyTUwq.png\u0022 class=\u0022ipsImage\u0022 height=\u0022455\u0022 src=\u0022https://i.imgur.com/vnyTUwq.png\u0022 width=\u0022600\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nLooks like it\u0027s rotated the \u003Cem\u003E\u003Cu\u003Epart model inside its own space\u003C/u\u003E\u003C/em\u003E relative to its surface attachment node, rather than rotating the transform of the part.\u00A0 In other words, it\u0027s acting like it\u0027s rotating the \u003Cem\u003E\u003Cu\u003Emodel\u003C/u\u003E\u003C/em\u003E but nothing else.\u00A0 For example, in the above image, that radially attached fuel tank \u003Cem\u003E\u003Cu\u003Eshould\u003C/u\u003E\u003C/em\u003E be touching (not clipping) the center tank, extending off to the left.\u00A0 Instead, it\u0027s been rotated 90 degrees around \u003Cem\u003E\u003Cu\u003Ethe attachment point\u003C/u\u003E\u003C/em\u003E, instead of just behaving as if I had hit the Q key while dragging it.\n\u003C/p\u003E\n\u003Cp\u003E\nI note that aside from part.attRotation, there\u0027s also part.attRotation0 and part.initRotation.\u00A0 I\u0027ve tried playing around with all three of these, to no avail:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\npart.initRotation affects the visible display of the part when it\u0027s initially created and is transparent and being dragged around by the mouse.\u00A0 But it appears to have absolutely zero effect on the part \u003Cem\u003E\u003Cu\u003Eonce attached\u003C/u\u003E\u003C/em\u003E; the part immediately snaps to whatever orientation it would have had if initRotation had not been set.\n\u003C/li\u003E\n\u003Cli\u003E\npart.attRotation looks right for when the part\u0027s created and being dragged, and is fine for stack attachments... but surface attachment becomes borked, as shown above.\n\u003C/li\u003E\n\u003Cli\u003E\npart.attRotation0 does absolutely nothing at all under any circumstances, as far as I can tell.\u00A0 \u003Cspan style=\u0022font-size:10px;\u0022\u003E(Of course it must do \u003Cem\u003E\u003Cu\u003Esomething\u003C/u\u003E\u003C/em\u003E or they wouldn\u0027t have added it.\u00A0 It\u0027s just that I have yet to discover any visible difference that it makes to anything.)\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nI\u0027ve tried multiple combinations of the above (e.g. \u0022what if I set initRotation \u003Cem\u003E\u003Cu\u003Eand\u003C/u\u003E\u003C/em\u003E attRotation\u0022, etc.); but as far as I can tell, they don\u0027t seem to affect each other at all.\u00A0 initRotation appears to affect only rotation-while-dragging; attRotation affects both dragging and attachment, but borks the surface attachment; attRotation0 does nothing to either, as far as I can tell.\n\u003C/p\u003E\n\u003Cp\u003E\n(There\u0027s also part.orgRot, another Quaternion, which also does nothing as far as I can tell.)\n\u003C/p\u003E\n\u003Cp\u003E\nHitting the Q key or similar orientation keys while dragging the part does indeed modify part.attRotation.\u00A0 It does not affect part.attRotation0.\u00A0 Since weird borkage happens when \u003Cem\u003E\u003Cu\u003EI\u003C/u\u003E\u003C/em\u003E try to modify part.attRotation, clearly the editor is modifying something else besides just part.attRotation.\n\u003C/p\u003E\n\u003Cp\u003E\nI note that there\u0027s also a part.attPos.\u00A0 I tried setting \u0022part.attPos = ROTATION * part.attPos\u0022 in concert with setting attRotation, but that appears to do nothing as far as I can tell-- I still get the odd behavior shown in the picture above.\u00A0 If I leave part.attPos alone and just monitor it passively, it appears to be always (0,0,0) and is not affected when I rotate the part via Q, so it\u0027s irrelevant to the current problem as far as I can tell.\n\u003C/p\u003E\n\u003Cp\u003E\nTL;DR:\u00A0 I have thus far not been able to find out how to programmatically do to a part what QWEASD keys do.\u00A0 They affect part.attRotation cleanly, without borking the part.\u00A0 When I touch that, it borks the part, which means there must be something \u003Cem\u003E\u003Cu\u003Eelse\u003C/u\u003E\u003C/em\u003E that I also need to update, but I\u0027ve tried everything I can think of, to no avail.\n\u003C/p\u003E\n\u003Cp\u003E\nAny suggestions as to what else I might try?\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T16:12:47Z","Content":"\n\u003Cp\u003E\nOkay, finally managed to figure out how to do what I wanted, and I was looking in entirely the wrong place.\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nEssentially what I\u0027ve been trying to do is figure out how to make the default orientation of a vessel in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E face east instead of north.\u00A0 I was trying to do that by reorienting the \u003Cem\u003E\u003Cu\u003Eparts\u003C/u\u003E\u003C/em\u003E.\u00A0 Upon further reflection now, I see that the above supposedly \u0022borked\u0022 behavior isn\u0027t actually borked at all-- it\u0027s exactly what you\u0027d see when attaching a radial part if you\u0027d hit the Q key anyway.\n\u003C/p\u003E\n\u003Cp\u003E\nThe fundamental problem that I was bumping up against is that the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E has an \u003Cem\u003E\u003Cu\u003Eenvironment\u003C/u\u003E\u003C/em\u003E that assumes a particular orientation, and everything is geared towards that, and you can\u0027t simulate a change of environment direction just by rotating parts.\u00A0 You have to rotate the environment itself.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd it turns out that EditorLogic has exactly such a field on it.\u00A0 It\u0027s called \u0022vesselRotation\u0022.\u00A0 So all I have to do is trap GameEvents.onEditorStarted in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, and set EditorLogic.fetch.vesselRotation to point in the direction I want, and presto, everything behaves exactly the way I want it to.\u00A0 It\u0027s like two lines of code.\n\u003C/p\u003E\n\u003Cp\u003E\nAnyway, got it sorted out, many thanks to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E for giving a completely correct (as usual) answer to my entirely wrong question.\u00A0 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"sarbian","CreatedById":57146,"CreatedDateTime":"2018-03-22T16:16:22Z","Content":"\n\u003Cp\u003E\n\u003Cimg alt=\u0022Strip-Suivre-les-recommandations-client6\u0022 class=\u0022ipsImage\u0022 height=\u0022613\u0022 src=\u0022http://www.commitstrip.com/wp-content/uploads/2014/10/Strip-Suivre-les-recommandations-client650-finalenglish.jpg\u0022 width=\u0022650\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tex_NL","CreatedById":58254,"CreatedDateTime":"2018-03-22T16:21:09Z","Content":"\n\u003Cp\u003E\nLooking forward to this \u003Cspan\u003E\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022125662\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/125662-snark/\u0022 rel=\u0022\u0022\u003E@Snark\u003C/a\u003E\u003Cbr\u003E\nA mod like this will definitely end up on my \u0022must have\u0022 list. I ALWAYS rotate my craft in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E. Having the default rotated would be awesome.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T16:24:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223331215\u0022 data-ipsquote-contentid=\u0022172805\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221521735382\u0022 data-ipsquote-userid=\u002257146\u0022 data-ipsquote-username=\u0022sarbian\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, sarbian said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022Strip-Suivre-les-recommandations-client6\u0022 class=\u0022ipsImage\u0022 height=\u0022613\u0022 src=\u0022http://www.commitstrip.com/wp-content/uploads/2014/10/Strip-Suivre-les-recommandations-client650-finalenglish.jpg\u0022 width=\u0022650\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n^ This.\u00A0 This is perfect.\u00A0 \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nOkay, everyone, you can all go home now.\u00A0 \u003Cspan\u003EIt\u0027s official, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E has now won the Internet.\u00A0 We\u0027re all done here.\u00A0 We can shut it all down now.\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T19:47:45Z","Content":"\n\u003Cp\u003E\nEt voil\u00E0! \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9170508377\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/172840-141-vabreorienter-sets-default-vab-orientation-to-east-not-north/\u0026amp;do=embed\u0022 style=\u0022height:212px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Snark","CreatedById":125662,"CreatedDateTime":"2018-03-22T23:51:04Z","Content":"\n\u003Cp\u003E\n...aaand now I discover that my mod has borked the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E because it turns out that the following supposedly separate and distinct enum values,\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKSPAddon.Startup.EditorAny\n\u003C/li\u003E\n\u003Cli\u003E\nKSPAddon.Startup.EditorVAB\n\u003C/li\u003E\n\u003Cli\u003E\nKSPAddon.Startup.EditorSPH\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n...are all the \u003Cem\u003E\u003Cu\u003Esame damn value\u003C/u\u003E\u003C/em\u003E, meaning that my script that\u0027s clearly marked \u0022EditorVAB\u0022 is also running in the \u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E even though I don\u0027t want it to.\u00A0 \u003Cimg alt=\u0022:mad:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 title=\u0022:mad:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnyway, gonna get that sorted out next.\u00A0 I see that there exists an \u0022EditorFacility\u0022 enum, but need to figure out how to \u003Cem\u003E\u003Cu\u003Eget\u003C/u\u003E\u003C/em\u003E one so I know what facility I\u0027m in.\n\u003C/p\u003E\n\u003Cp\u003E\n[EDIT] Okay, found it... though it seems a bit byzantine.\u00A0 EditorLogic.fetch.ship.shipFacility.\n\u003C/p\u003E\n"}]}