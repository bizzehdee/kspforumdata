{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":61,"Articles":[{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-24T12:02:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EIt doesn\u0027t break anything, but there\u0027s no integration. Someone would have to write a plug-in to get RPM to interact with kOS.\u003C/div\u003E\u003C/blockquote\u003E yeah good point\n"},{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-24T12:25:47Z","Content":"\n\u003Cp\u003EDoes anyone have any pre-made codes \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-24T13:18:31Z","Content":"\n\u003Cp\u003Esee my sig for two. there was a repository site under development by another user but that has stalled\u003C/p\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-24T21:32:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kerbin, We have a problem\u0022 data-cite=\u0022Kerbin, We have a problem\u0022\u003E\u003Cdiv\u003EDoes anyone have any pre-made codes \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have \u003Ca href=\u0022http://pastebin.com/90XCUGje\u0022 rel=\u0022external nofollow\u0022\u003Ea script that executes your next maneuver node.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt seems pretty reliable, like 95% of the time, but on rare occasion it fails to start the engine burn at all and just ends early. I\u0027m not sure why, and if it\u0027s due to a bug on my end, or kOS\u0027s. (If anybody has any insight into that, I\u0027d love to hear it).\u003C/p\u003E\u003Cp\u003EEDIT: I just realized in my code there\u0027s a comment warning that it doesn\u0027t work with thrust limiters, but it actually does handle those now, so disregard that line.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-24T21:35:02Z\u0022 title=\u002209/24/2014 09:35  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 24, 2014\u003C/time\u003E by Entropius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-24T23:08:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003EI have \u003Ca href=\u0022http://pastebin.com/90XCUGje\u0022 rel=\u0022external nofollow\u0022\u003Ea script that executes your next maneuver node.\u003C/a\u003E\u003Cp\u003EIt seems pretty reliable, like 95% of the time, but on rare occasion it fails to start the engine burn at all and just ends early. I\u0027m not sure why, and if it\u0027s due to a bug on my end, or kOS\u0027s. (If anybody has any insight into that, I\u0027d love to hear it).\u003C/p\u003E\u003Cp\u003EEDIT: I just realized in my code there\u0027s a comment warning that it doesn\u0027t work with thrust limiters, but it actually does handle those now, so disregard that line.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E thanks a lot!\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-25T02:53:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003EIt seems pretty reliable, like 95% of the time, but on rare occasion it fails to start the engine burn at all and just ends early. I\u0027m not sure why, and if it\u0027s due to a bug on my end, or kOS\u0027s. (If anybody has any insight into that, I\u0027d love to hear it).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d suggest using the burn equations I have in my RCS Thrust Controller script (see sig). That way you can simply burn by exact time needed rather than using the node dV to tell when you are done.\u003C/p\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-25T03:17:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003EI\u0027d suggest using the burn equations I have in my RCS Thrust Controller script (see sig). That way you can simply burn by exact time needed rather than using the node dV to tell when you are done.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy script actually does calculate the burn-time, it just doesn\u0027t solely rely on burn-times alone. This is because when I did rely on burn-times alone, I\u0027d randomly run into problems where on extremely rare occasions, the script would fail to end on the designated time, and burn until I killed the script. So I added 2 criteria for ending: (1) timing out or (2) overshooting the \u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u00A0v and seeing it increase (a redundancy/fail-safe). Maybe I just have to either accept rare cases of over-burns or no-burns.\u003C/p\u003E\u003Cp\u003EEDIT: I take that back, I don\u0027t actually rely on timings to end the script (just when to begin the burn), you\u0027re right that it\u0027s looking to \u00C3\u00A2\u00CB\u2020\u00E2\u20AC\u00A0v. My memory fails me yet again\u00C3\u00A2\u00E2\u201A\u00AC\u00C2\u00A6 Anyway, if I use strictly JUST timing to end it, I\u0027m not sure how I\u0027d know when to do the slow-burn throttle, which would seem important since a very high-thrust engine may overshoot the target a bit if at full throttle.\u003C/p\u003E\u003Cp\u003EMaybe I\u0027ll play with it a bit, but ultimately I\u0027d still like to figure out why the current approach randomly fails, even if another approach might work.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-25T03:39:19Z\u0022 title=\u002209/25/2014 03:39  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 25, 2014\u003C/time\u003E by Entropius\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Entropius","CreatedById":104709,"CreatedDateTime":"2014-09-25T06:14:52Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E@Kerbin, We Have a Problem\u003C/strong\u003E, as per Gaiiden\u0027s suggestion, here\u0027s an alternative version that relies purely timing for ending the burn.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/skBnC7fH\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/skBnC7fH\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESince it doesn\u0027t throttle down slowly near the end, you\u0027re going to have to make sure the burntime isn\u0027t too short on small maneuvers. If it is too short, use a thrust limiter to force the burn to take longer.\u003C/p\u003E\n"},{"CreatedByName":"Kerbin- We have a problem","CreatedById":119702,"CreatedDateTime":"2014-09-25T08:03:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E@Kerbin, We Have a Problem\u003C/strong\u003E, as per Gaiiden\u0027s suggestion, here\u0027s an alternative version that relies purely timing for ending the burn.\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/skBnC7fH\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/skBnC7fH\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ESince it doesn\u0027t throttle down slowly near the end, you\u0027re going to have to make sure the burntime isn\u0027t too short on small maneuvers. If it is too short, use a thrust limiter to force the burn to take longer.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E K Thanks everyone! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-25T13:44:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003EAnyway, if I use strictly JUST timing to end it, I\u0027m not sure how I\u0027d know when to do the slow-burn throttle, which would seem important since a very high-thrust engine may overshoot the target a bit if at full throttle.\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Entropius\u0022 data-cite=\u0022Entropius\u0022\u003E\u003Cdiv\u003ESince it doesn\u0027t throttle down slowly near the end, you\u0027re going to have to make sure the burntime isn\u0027t too short on small maneuvers. If it is too short, use a thrust limiter to force the burn to take longer.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYup, that\u0027s exactly what needs to be done with the time method. Smaller the maneuver, smaller the thrust to extend the burn over a longer period of time for better accuracy. Which is why my RCS Thrust Controller allows the user to define how much thrust to use. Altho - looking at your code and seeing that you can read the thrust limiter, I think I will change it to just use that rather than an input parameter.\u003C/p\u003E\u003Cp\u003EThanks for the trade \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Trewor007","CreatedById":101021,"CreatedDateTime":"2014-09-26T07:24:51Z","Content":"\n\u003Cp\u003EHi.\u003C/p\u003E\u003Cp\u003EI\u0027m writing, a rover script, and i would like to ask if there is a method to check the status of the wheels. I want to check them if they are broken so i can stop the rover if that value is true.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-09-26T14:18:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EHi.\u003Cp\u003EI\u0027m writing, a rover script, and i would like to ask if there is a method to check the status of the wheels. I want to check them if they are broken so i can stop the rover if that value is true.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere is not, Its a good idea to add this kind of data.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-09-26T15:54:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThere is not, Its a good idea to add this kind of data.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPeriodically count the wheels. If the count goes down, one or more are broken. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-09-26T16:29:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003EPeriodically count the wheels. If the count goes down, one or more are broken. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E3 good wheels plus 1 broken wheel is still 4 wheels.\u003C/p\u003E\n"},{"CreatedByName":"dzikakulka","CreatedById":116606,"CreatedDateTime":"2014-09-26T16:36:24Z","Content":"\n\u003Cp\u003EIs there any actual documentation on ModuleWheel ParModule ? Like if there is any easily accesible boolean if it\u0027s broken or not and how is it handled?\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-09-26T16:37:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022erendrake\u0022 data-cite=\u0022erendrake\u0022\u003E\u003Cdiv\u003EThere is not, Its a good idea to add this kind of data.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMight it somehow be possible to detect rotational speed of separate wheels? Not only would this enable you to detect broken wheels, you might also build more complicated things like ABS - though you might also need individual wheel control for some fancy complex wizardry.\u003C/p\u003E\n"},{"CreatedByName":"madlemur","CreatedById":116597,"CreatedDateTime":"2014-09-26T16:45:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003E3 good wheels plus 1 broken wheel is still 4 wheels.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETrue, but three wheels when you started with four means one is \u003Cem\u003Edefinitely\u003C/em\u003E broken (off)... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dzikakulka","CreatedById":116606,"CreatedDateTime":"2014-09-26T16:51:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022madlemur\u0022 data-cite=\u0022madlemur\u0022\u003E\u003Cdiv\u003ETrue, but three wheels when you started with four means one is \u003Cem\u003Edefinitely\u003C/em\u003E broken (off)... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think Steven meant that a broken wheel is stil a wheel.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-09-26T18:06:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Trewor007\u0022 data-cite=\u0022Trewor007\u0022\u003E\u003Cdiv\u003EHi.\u003Cp\u003EI\u0027m writing, a rover script, and i would like to ask if there is a method to check the status of the wheels. I want to check them if they are broken so i can stop the rover if that value is true.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou will be able to do this eventually, as kOS is adding the ability to read right-click menu properties, such as in this case whether a wheel is broken\u003C/p\u003E\n"},{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2014-09-28T02:26:29Z","Content":"\n\u003Cp\u003ETwo things:\u003C/p\u003E\u003Cp\u003EI\u0027ve been hit hard by the half-your-ship-doesn\u0027t-load bug since kOS 14, so I switched back to 13.1 for the time being. One thing I noticed with 14 is that I\u0027d get the failure to load when landed or almost landed on the Mun, but not while in orbit of it. Even sub orbital flights load just fine, as long as I\u0027m above roughly 5,000 or 6000 meters. Above that altitude, I seemed to be able to save and load without any issues. I didn\u0027t test on any other celestial bodies, so I\u0027m not sure if this is specific to the Mun or not.\u003C/p\u003E\u003Cp\u003ESecond, I\u0027ve noticed an incompatibility between 13.1 and AGX (Action groups extended) 1.17, where AGX is blocking the default action groups, causing them to be not registered in kOS (\u0022ON AG1\u0022 type calls). Diazo asked what KSP variables kOS is using so that maybe he can make a quick fix. I know that a big compatibility thing is in the works, but this would just be short term I think.\u003C/p\u003E\u003Cp\u003EQuote from Diazo:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EAGX is an action group manager and so replaces the default KSP action groups and manages the actions directly. At the moment that means the KSP default groups never change state as AGX is taking care of it. Do you know which variable kOS is looking at? I can probably go ahead and set that for compatibility.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"foma87","CreatedById":94434,"CreatedDateTime":"2014-09-29T21:32:51Z","Content":"\n\u003Cp\u003EHi there,\u003C/p\u003E\u003Cp\u003EI\u00C3\u201A\u00C2\u00B4m trying to define a variable x with multiple values. Example:\u003C/p\u003E\u003Cp\u003Ex1 = 23\u003C/p\u003E\u003Cp\u003Ex2 = 372\u003C/p\u003E\u003Cp\u003Ex3 = 5\u003C/p\u003E\u003Cp\u003Ex4 = 17\u003C/p\u003E\u003Cp\u003E...etc.\u003C/p\u003E\u003Cp\u003EI know I can create a list like this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eset x to list().\u003C/p\u003E\u003Cp\u003Eset x:add to 23.\u003C/p\u003E\u003Cp\u003Eset x:add to 372.\u003C/p\u003E\u003Cp\u003Eset x:add to 5.\u003C/p\u003E\u003Cp\u003Eset x:add to 17.\u003C/p\u003E\u003Cp\u003E...etc.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn this case, I could get the value of x2 like so:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eprint x[1].\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy question now is,\u003C/p\u003E\u003Cp\u003Eis it possible to create a list with values without using that much code. I could see the script getting huge if I try to make a list with lots of values.\u003C/p\u003E\u003Cp\u003ESomething that could look like this maybe?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Edeclare variable x (x1, x2, x3, x4...etc.).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny help is appreciated.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-09-30T04:34:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022foma87\u0022 data-cite=\u0022foma87\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Eis it possible to create a list with values without using that much code. I could see the script getting huge if I try to make a list with lots of values.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENot at the moment, but it is a good idea to take under advisement. A lot of languages let you fill arrays with a syntax a bit like this:\u003C/p\u003E\u003Cp\u003Ev = {23, 371, 5, 17}.\u003C/p\u003E\u003Cp\u003Emaybe kOSscript could be modified a bit to support something a bit similar.\u003C/p\u003E\n"},{"CreatedByName":"foma87","CreatedById":94434,"CreatedDateTime":"2014-09-30T08:01:48Z","Content":"\n\u003Cp\u003EYes, that would come in really handy.\u003C/p\u003E\u003Cp\u003EI wanted to have two lists:\u003C/p\u003E\u003Cp\u003EOne with altitude-benchmarks and one with velocity-benchmarks in order to calculate the optimal acceleration for a given altitudeframe. Example:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E//from 0 to 1000 meters:\u003C/p\u003E\u003Cp\u003Eg0 = 9.81\u003C/p\u003E\u003Cp\u003Ev[x] = 0 (starting velocity)\u003C/p\u003E\u003Cp\u003Ev[x\u002B1] = 110 (final velocity)\u003C/p\u003E\u003Cp\u003Ealt[x] = 0 (starting altitude)\u003C/p\u003E\u003Cp\u003Ealt[x\u002B1] = 1000 (final altitude)\u003C/p\u003E\u003Cp\u003E//from 1000 to 2000 meters:\u003C/p\u003E\u003Cp\u003Ev[x] = 110\u003C/p\u003E\u003Cp\u003Ev[x\u002B1] = 124\u003C/p\u003E\u003Cp\u003Ealt[x] = 2000\u003C/p\u003E\u003Cp\u003E//optimal acceleration given the above variables\u003C/p\u003E\u003Cp\u003Eacc = (v[x\u002B1]^2-v[x]^2/2*(alt[x\u002B1]-alt[x])\u002Bg0.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI resorted to adding the benchmarks manually to the lists. Although that did mean I had to cut the benchmarks from 14 to 4 for each list, since I\u0060m too lazy and it visibly overloads the script.\u003C/p\u003E\u003Cp\u003EThank you for your answer nonetheless! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"foma87","CreatedById":94434,"CreatedDateTime":"2014-09-30T20:02:13Z","Content":"\n\u003Cp\u003EI have come across another problem. Is there a way to create a list within a conditional statement like \u0026lt;when\u0026gt;?\u003C/p\u003E\u003Cp\u003EI would like the script to recalculate the total isp of multiple engines which get active immediately after a staging event.\u003C/p\u003E\u003Cp\u003ERight now, the script looks like this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E set x to 0.\u003C/p\u003E\u003Cp\u003E set y to 0.\u003C/p\u003E\u003Cp\u003E set isplist to list(). //list of engine isps\u003C/p\u003E\u003Cp\u003E set thrlist to list(). //list of engine maxthrusts.\u003C/p\u003E\u003Cp\u003E set thrtot to 0.\u003C/p\u003E\u003Cp\u003E set thrisp to 0.\u003C/p\u003E\u003Cp\u003E list engines in e.\u003C/p\u003E\u003Cp\u003Ewhen altitude\u0026lt;0 then {\u003C/p\u003E\u003Cp\u003E for eng in e\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E if eng:ignition=\u0022true\u0022 \u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003E set isplist:add to eng:isp.\u003C/p\u003E\u003Cp\u003E set thrlist:add to eng:maxthrust.\u003C/p\u003E\u003Cp\u003E }.\u003C/p\u003E\u003Cp\u003E }.\u003C/p\u003E\u003Cp\u003E until thrlist:length=x\u003C/p\u003E\u003Cp\u003E {\u003C/p\u003E\u003Cp\u003Eset thrtot to thrtot\u002Bthrlist[x].\u003C/p\u003E\u003Cp\u003E set thrisp to thrisp\u002B(thrlist[x]/isplist[x]). \u003C/p\u003E\u003Cp\u003E set x to x\u002B1.\u003C/p\u003E\u003Cp\u003E }.\u003C/p\u003E\u003Cp\u003E set isp to thrtot/thrisp.\u003C/p\u003E\u003Cp\u003E print \u0022Cummulative ISP: \u0022\u002Bisp\u002B\u0022 sec\u0022.\u003C/p\u003E\u003Cp\u003E}.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat this script is first to add up all the values from thrlist and then to divide the value in thrlist[0] by the value in isplist[0]. Then the value in thrlist[1] by the value in isplist[1]....etc.\u003C/p\u003E\u003Cp\u003EAt the end, \u0026lt;thrtot\u0026gt; gets divided by \u0026lt;thrisp\u0026gt; to get the isp.\u003C/p\u003E\u003Cp\u003EHowever, when my condition is met I get this error message:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003ETried to push Infinity into the stack.\u003C/p\u003E\u003Cp\u003EAt \u0026lt;script\u0026gt; on \u0026lt;volume\u0026gt;, line \u0026lt;number\u0026gt;.\u003C/p\u003E\u003Cp\u003E set thrisp to thrisp\u002B(thrlist[x]/isplist[x]). \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that the script works when I\u00C3\u201A\u00C2\u00B4m not using a conditional statement and have ignited engines.\u003C/p\u003E\n"},{"CreatedByName":"undercoveryankee","CreatedById":103505,"CreatedDateTime":"2014-09-30T20:55:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022foma87\u0022 data-cite=\u0022foma87\u0022\u003E\u003Cdiv\u003EI have come across another problem. Is there a way to create a list within a conditional statement like \u0026lt;when\u0026gt;?\u003Cp\u003EI would like the script to recalculate the total isp of multiple engines which get active immediately after a staging event.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt\u0027s possible that you have an engine in your list that reports \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Eignition=true\u003C/span\u003E and reports zero isp. An engine that has flamed out will have \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Eignition=true, flameout=true\u003C/span\u003E. When your condition is met, are any of your engines flamed out? This can include engines in dropped stages, if they were attached to the ship when you did the \u003Cspan style=\u0022font-family:\u0027Courier New\u0027;\u0022\u003Elist engines\u003C/span\u003E and the debris is still in existence. You\u0027ll want to re-list engines at the top of the when block if you\u0027ve dropped engines, and you\u0027ll want to check flameout as well as ignition when you\u0027re checking for active engines.\u003C/p\u003E\n"}]}