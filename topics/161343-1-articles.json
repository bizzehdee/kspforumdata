{"TopicId":161343,"ForumId":69,"TopicTitle":"[SOLVED] 1.3 Crashes after changing resolution","CreatedByName":"Crabman","CreatedById":162304,"CreatedDateTime":"2017-05-31T03:21:05Z","PageNum":1,"Articles":[{"CreatedByName":"Crabman","CreatedById":162304,"CreatedDateTime":"2017-05-31T03:21:05Z","Content":"\n\u003Cp\u003E\n\u003Cstrong\u003EFixed by uninstalling Rivatuner and MSI Afterburner. More info:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/161343-13-crashes-after-changing-resolution/\u0026amp;do=embed\u0026amp;comment=3076276\u0026amp;embedComment=3076276\u0026amp;embedDo=findComment\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nKSP Version: v1.3.0.1804 Windows 64-bit, updated from v1.2.x\n\u003C/p\u003E\n\u003Cp\u003E\nGraphics card: Geforce GTX 1070, Driver version 382.33 (tried before updating and crashed, tried after updating,\u00A0same problem)\n\u003C/p\u003E\n\u003Cp\u003E\nWhat Happens: Game crashes after changing screen resolution. My monitor resolution is 1650x1050. It crashes when I change to lower or higher resolutions.\n\u003C/p\u003E\n\u003Cp\u003E\nMods / Add-Ons: \u003Cstrong\u003EAll Stock\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSteps to Replicate:\n\u003C/p\u003E\n\u003Cp\u003E\n1- Get a monitor with max resolution of 1650x1050\n\u003C/p\u003E\n\u003Cp\u003E\n2- Open the game\n\u003C/p\u003E\n\u003Cp\u003E\n3- Change resolution to something else\n\u003C/p\u003E\n\u003Cp\u003E\n4- Crash\n\u003C/p\u003E\n\u003Cp\u003E\nGif showing (it is too small, but log files are below with more info):\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022giphy.gif\u0022 class=\u0022ipsImage\u0022 src=\u0022https://media.giphy.com/media/RjEvekXjm52dW/giphy.gif\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nLog Files:\n\u003C/p\u003E\n\u003Cp\u003E\n-\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/c766cgk7wtv4q1y/output_log.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Eoutput_log.txt\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/9lcsgwpbcljdkoq/error.log?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Eerror.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n-\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/s4zmmg17vipr94z/crash.dmp?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ecrash.dmp\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-01T14:57:21Z\u0022 title=\u002206/01/2017 02:57  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Crabman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2017-05-31T09:54:02Z","Content":"\n\u003Cp\u003E\nThe error.log shows \u0022d3d9.dll caused an Access Violation (0xc0000005)\u0022 instead of a KSP or Unity file. \u003Ca href=\u0022http://www.processlibrary.com/en/directory/files/d3d9/19077/\u0022 rel=\u0022external nofollow\u0022\u003Ed3d9.dll\u003C/a\u003E is Windows library for DirectX, isn\u0027t known for causing such errors (and your dll version seems fine). Also the nVidia driver (nvldumdx.dll 22.21.13.8233), though having been reported in connection to various issues, has never emerged to be the cause.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, can\u0027t find any evident cause just now. Would you like doing a couple tests to better define the issue?\n\u003C/p\u003E\n\u003Cp\u003E\n1. Launch KSP in DX11 and/or OpenGL mode instead of DX9. Doable by adding \u0022 -force-d3d11 \u0022 or \u0022 -force-glcore \u0022 as arguments; with Steam, open Properties for KSP, General tab, Launch settings to paste the argument. If the issue was really caused by d3d9.dll, there shouldn\u0027t be an issue in these modes.\n\u003C/p\u003E\n\u003Cp\u003E\n2. Save a copy of your settings.cfg file somewhere safe, then use a text editor to open the file within KSP root directory. Search for lines with \u0022SCREEN_RESOLUTION_WIDTH = \u0022 and \u0022SCREEN_RESOLUTION_HEIGHT = \u0022, those hold the current resolution settings. Change those to any valid combination supported by your display.\n\u003C/p\u003E\n\u003Cp\u003E\nPlease make sure to use a combination supported. The display control panel should show which are valid combinations, those should be the same available in KSP settings. Should test 2. work successfully, please verify what KSP settings show for valid resolutions, it is expected those to match with the display control panel.\n\u003C/p\u003E\n\u003Cp\u003E\nIf none of the above works, further info could be of help. Mind providing output from \u003Ca href=\u0022https://www.howtogeek.com/258485/how-to-use-the-directx-diagnostic-in-windows/\u0022 rel=\u0022external nofollow\u0022\u003EDXDiag\u003C/a\u003E?\n\u003C/p\u003E\n"},{"CreatedByName":"Crabman","CreatedById":162304,"CreatedDateTime":"2017-05-31T14:51:39Z","Content":"\n\u003Cp\u003E\nThank you for your time, diomedea\n\u003C/p\u003E\n\u003Cp\u003E\nBoth workarounds you provided at number 1 worked. Tried with -force-d3d11 and worked perfectly, tried after that with -force-glcore and also worked.\n\u003C/p\u003E\n\u003Cp\u003E\nThe settings on settings.cfg were already at 1920x1080, but ingame the resolution was capped by my monitor\u0027s resolution.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll keep using -force-d3d11 for now, thank you!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/7oppitxcjqb08cm/DxDiag.txt?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EDxDiag.txt\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2017-05-31T16:04:56Z","Content":"\n\u003Cp\u003E\nHappy the workaround worked for you \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThanks for DXDiag.info, interestingly in Diagnostics section it also reports a problem with KSP_x64.exe. However I\u0027m not able to find hints in there showing the real cause, sorry.\n\u003C/p\u003E\n\u003Cp\u003E\nBelieve at this point the cause be tied to that d3d9.dll, though it seems fine to me. Should you have other games using DirectX 9, those also may encounter issues (not necessarily all, sometimes a copy of that dll is installed with a game folder so to not depend on the one in system).\n\u003C/p\u003E\n"},{"CreatedByName":"Crabman","CreatedById":162304,"CreatedDateTime":"2017-06-01T14:51:30Z","Content":"\n\u003Cp\u003E\nStatus update:\n\u003C/p\u003E\n\u003Cp\u003E\nI found the problem and fixed. I found this after trying to install another software (\u003Cstrong\u003EMatlab\u003C/strong\u003E) and wasn\u0027t installing, it just crashed always.\u003Cbr\u003E\nIt was caused by \u0022EXCEPTION_ACCESS_VIOLATION (0xc0000005)\u0022. Coincidence?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223074418\u0022 data-ipsquote-contentid=\u0022161343\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221496224442\u0022 data-ipsquote-userid=\u002293700\u0022 data-ipsquote-username=\u0022diomedea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 31/05/2017 at 6:54 AM, diomedea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe error.log shows \u0022d3d9.dll caused an Access Violation (0xc0000005)\u0022 instead of a KSP or Unity file. \u003Ca href=\u0022http://www.processlibrary.com/en/directory/files/d3d9/19077/\u0022 rel=\u0022external nofollow\u0022\u003Ed3d9.dll\u003C/a\u003E is Windows library for DirectX, isn\u0027t known for causing such errors (and your dll version seems fine).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTried reinstalling DirectX, but couldn\u0027t because it said I already had the lastest version. I searched a little more and found that this problem might be caused by RivaTurner/MSI Afterburner.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd that was it. Uninstalled both and I could not only install Matlab, but it also fixed Kerbal\u0027s crash.\n\u003C/p\u003E\n\u003Cp\u003E\nThank you again!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-06-01T14:51:51Z\u0022 title=\u002206/01/2017 02:51  PM\u0022 data-short=\u00227 yr\u0022\u003EJune 1, 2017\u003C/time\u003E by Crabman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"touhami","CreatedById":213309,"CreatedDateTime":"2021-08-01T21:20:54Z","Content":"\n\u003Cpre dir=\u0022ltr\u0022 style=\u0022background-color:#f8f9fa;border:none;color:#202124;font-size:28px;padding:2px .14em 2px 0px;text-align:left;\u0022\u003E\u003Cspan lang=\u0022en\u0022 xml:lang=\u0022en\u0022\u003EI now have a problem solving\u003C/span\u003E\u003C/pre\u003E\n\u003Cp dir=\u0022ltr\u0022\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp dir=\u0022ltr\u0022\u003E\n\u00A0\n\u003C/p\u003E\n"}]}