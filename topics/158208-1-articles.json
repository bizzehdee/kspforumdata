{"TopicId":158208,"ForumId":69,"TopicTitle":"Airplane destroys itself after quickloading","CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2017-03-25T19:38:31Z","PageNum":1,"Articles":[{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2017-03-25T19:38:31Z","Content":"\n\u003Cp\u003E\nSo I flew an airplane (the DC-10 of the airliner safety challenge) today when I realized this very annoying bug with physics in the atmosphere.\n\u003C/p\u003E\n\u003Cp\u003E\nIt might be me jumping to conclusions, but it seems like any quicksave made at over 150 m/s causes the main wings to separate from the fuselage and the plane falls out of the sky. If the airplane survives (the wings didn\u0027t separate), I can see the wings jump up and down before stabilizing. Now I\u0027m afraid of quicksaving in the atmosphere because it could lead to the catastrophic failure.\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a quick fix for this? Or is it something only the devs can fix?\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-03-25T21:55:19Z","Content":"\n\u003Cp\u003E\nThere is a discontinuity in the forces on a craft when it quick-loads. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe forces do not seem to be saved in the sfs-files, just velocities. \u00A0I would speculate that the physics engine throws the craft at that speed through the air and then figures out what the forces are and how much the joints flex. \u00A0I would speculate that any particularly stiff joint could be overstressed at this point more likely than when the forces and flexing have\u00A0had time to settle down. \u00A0I notice the problem rarely, mostly when I try other people\u0027s aircraft, probably because I\u0027m not familiar with their stress\u00A0limits.\n\u003C/p\u003E\n\u003Cp\u003E\nMake a named save with alt-F5 as a backup, sometime when the aerodynamic forces are relatively low, so you won\u0027t be scared to quicksave.\n\u003C/p\u003E\n"},{"CreatedByName":"rudi1291","CreatedById":138990,"CreatedDateTime":"2017-03-26T09:23:49Z","Content":"\n\u003Cp\u003E\nHad that happen to me a few times in the past. What you can do is to activate the \u0022Unbreakable joints\u0022 cheat from the cheat menu and disable it again a few seconds after it loaded in.\n\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2017-03-26T11:10:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222997268\u0022 data-ipsquote-contentid=\u0022158208\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490478919\u0022 data-ipsquote-userid=\u0022162784\u0022 data-ipsquote-username=\u0022OHara\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n12 hours ago, OHara said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe forces do not seem to be saved in the sfs-files, just velocities. \u00A0I would speculate that the physics engine throws the craft at that speed through the air and then figures out what the forces are and how much the joints flex. ...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou are almost right. What is saved are not velocities, but orbital elements with each vessel, and relative position and rotation of all parts with all vessels. Orbital elements are used to determine current speed, but that isn\u0027t what causes stress and spontaneous disassembly. Relative positions are however compared to the nodes positions (same for rotations), the difference is handled by the Unity Physics engine as a tensor, a set of oriented forces that would reduce the error in all axes and angles. The physics engine simulates elasticity, so joints are free to flex, forces are there to bring the error back (wasn\u0027t for outside forces on the vessel, e.g. thrust, gravity, drag and lift, nor inertia, parts won\u0027t ever be displaced). Each node has a maximum allowed displacement, beyond that the engine ceases to treat the joint as elastic and makes it break. Before a vessel is put on rails (saved and no more computed for physics interaction) is always better to wait a bit without acceleration, so to have all joints reduce the errors caused by acceleration and therefore the resulting forces. When coming off-rails,\u00A0 the engine goes with those saved errors, but something goes off (I guess the forces are used to compute accelerations, which is integrated with time to update those positional errors; but while before a save time to integrate acceleration was a delta between two frames, when getting off-rails delta time is larger and the integrated acceleration brings to a new positional error greater then what allowed, resulting in a break).\n\u003C/p\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2017-03-26T11:18:04Z","Content":"\n\u003Cp\u003E\nWhat if the game didn\u0027t apply physics instantaneously, but slowly increased their \u0022significance\u0022? It would avoid instant forces that lead to disassembly, wouldn\u0027t it?\n\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2017-03-26T12:19:01Z","Content":"\n\u003Cp\u003E\nMake sure \u0022Ease in gravity\u0022 is enabled in the General Settings screen \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2017-03-26T12:24:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222997707\u0022 data-ipsquote-contentid=\u0022158208\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490530741\u0022 data-ipsquote-userid=\u002216426\u0022 data-ipsquote-username=\u0022sal_vager\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 minutes ago, sal_vager said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nMake sure \u0022Ease in gravity\u0022 is enabled in the General Settings screen \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry to say it, but it is enabled. I don\u0027t know what it does, though. Sure it \u0022eases in gravity\u0022, but what is eased?\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-26T12:25:07Z\u0022 title=\u002203/26/2017 12:25  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 26, 2017\u003C/time\u003E by Delay\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2017-03-26T12:31:54Z","Content":"\n\u003Cp\u003E\nIt might be possible to work around this with autostruts, can you share the save you made?\n\u003C/p\u003E\n"},{"CreatedByName":"Delay","CreatedById":173586,"CreatedDateTime":"2017-03-26T13:58:35Z","Content":"\n\u003Cp\u003E\nLoaded up the quicksave again today. I was surprised to see that the airplane stayed intact. Seems like quickloading after a game restart is a workaround. Anyway, \u003Ca href=\u0022https://www.dropbox.com/s/c0d23hzn95v155v/Airplane%20Disassembly.sfs?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E is another quicksave (I provoked the failure this time).It\u0027s pretty much garanteed to break up.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-03-26T14:03:04Z\u0022 title=\u002203/26/2017 02:03  PM\u0022 data-short=\u00227 yr\u0022\u003EMarch 26, 2017\u003C/time\u003E by Delay\u003C/strong\u003E\n\u003Cbr\u003ELink works now.\n\u003C/span\u003E\n"},{"CreatedByName":"Alpha_Mike_741","CreatedById":167923,"CreatedDateTime":"2017-03-26T15:05:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222997604\u0022 data-ipsquote-contentid=\u0022158208\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221490520229\u0022 data-ipsquote-userid=\u0022138990\u0022 data-ipsquote-username=\u0022rudi1291\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 hours ago, rudi1291 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHad that happen to me a few times in the past. What you can do is to activate the \u0022Unbreakable joints\u0022 cheat from the cheat menu and disable it again a few seconds after it loaded in.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThis is my approach as well , also helpful for loading monstrosities on launchpad without exploding them\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2017-03-27T03:01:02Z","Content":"\n\u003Cp\u003E\nClarifying a little, the save-files store the relative positions of all the parts, in absence of any forces. \u00A0Quick-saving in a 3-G turn, or zero-G nose-over, results in the same part-positions in the save-file. So if I save with my wings flexed, upon reload they are at first straight and have to flex again.\u00A0\u003Cbr\u003E\u003Cimg alt=\u0022beforeSave.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://k-ohara.oco.net/KSP/beforeSave.jpg\u0022\u003E\u00A0\u003Cimg alt=\u0022afterLoad.jpg\u0022 class=\u0022ipsImage\u0022 src=\u0022http://k-ohara.oco.net/KSP/afterLoad.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nSo Delay\u0027s DC-10 (a nice craft) was quick-loaded with no flex at the wing-roots buy flying 240m/s; the body started to fall, while lift started flexing the wings up, and the peak stress broke off the wings.\n\u003C/p\u003E\n\u003Cp\u003E\nSetting unbreakable-joints and then re-re-loading is a great solution, because we can apply if after we discover we have\u00A0a\u00A0problem.\n\u003C/p\u003E\n"}]}