{"TopicId":180090,"ForumId":25,"TopicTitle":"Sun Atmosphere Sampler","CreatedByName":"DAL59","CreatedById":180784,"CreatedDateTime":"2018-11-26T02:58:24Z","PageNum":1,"Articles":[{"CreatedByName":"DAL59","CreatedById":180784,"CreatedDateTime":"2018-11-26T02:58:24Z","Content":"\n\u003Cp\u003E\nBelieve it or not, Kerbol has an atmosphere.\u00A0 Without using the cheat menu, get science from the atmosphere of the sun.\u00A0 Bonus points if you return to kerbin afterwords.\u00A0 All non-part mods allowed.\u00A0 I recommend using better time warp, so you can make your orbit just go in the top few meters of the atmosphere, slow down time, and quickly get some science.\u00A0 You\u0027ll still need an outrages amount of heat shields and radiators though.\u00A0 Good luck!\n\u003C/p\u003E\n"},{"CreatedByName":"Chel","CreatedById":176173,"CreatedDateTime":"2018-11-26T03:28:28Z","Content":"\n\u003Cp\u003E\nI shall try this. I think I might break my F9 key though\n\u003C/p\u003E\n"},{"CreatedByName":"Xurkitree","CreatedById":187694,"CreatedDateTime":"2018-11-26T07:10:17Z","Content":"\n\u003Cp\u003E\nWait, so Tweakscale is okay?\n\u003C/p\u003E\n"},{"CreatedByName":"TheFlyingKerman","CreatedById":182407,"CreatedDateTime":"2018-11-26T08:57:39Z","Content":"\n\u003Cp\u003E\nLast time I went for a solar dive with 1GM \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E my heat shield abrasive (to be used for Kerbin re-entry) was gone after a few orbits even in time warp. I don\u0027t understand why.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-26T08:59:45Z\u0022 title=\u002211/26/2018 08:59  AM\u0022 data-short=\u00225 yr\u0022\u003ENovember 26, 2018\u003C/time\u003E by TheFlyingKerman\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"vyznev","CreatedById":90620,"CreatedDateTime":"2018-11-26T12:05:40Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223493874\u0022 data-ipsquote-contentid=\u0022180090\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543222659\u0022 data-ipsquote-userid=\u0022182407\u0022 data-ipsquote-username=\u0022TheFlyingKerman\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/26/2018 at 10:57 AM, TheFlyingKerman said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nLast time I went for a solar dive with 1GM \u003Cabbr title=\u0022Periapsis\u0022\u003EPe\u003C/abbr\u003E my heat shield abrasive (to be used for Kerbin re-entry) was gone after a few orbits even in time warp. I don\u0027t understand why.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nKSP heating mechanics get wonky in time warp. I\u0027ve built craft that were perfectly fine sitting at their Kerbol periapsis in 1x warp, but would overheat and blow up instantly at 5x warp.\u00A0\u003Cimg alt=\u0022:huh:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_undecided.gif\u0022 title=\u0022:huh:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nI think what happens is that the game is still tracking the heat in time warp, but using much larger time steps. And it probably uses simple \u003Ca href=\u0022https://en.wikipedia.org/wiki/Euler_method\u0022 rel=\u0022external nofollow\u0022\u003EEuler integration\u003C/a\u003E instead of some fancier integration algorithm -- that is to say, on every time step it just calculates the net rate of heat gain/loss over time for each part, summing up all heat sources and sinks, and then multiplies this by the length of the time interval (and divides it by the part\u0027s heat capacity) and adds the result to the part\u0027s temperature.\n\u003C/p\u003E\n\u003Cp\u003E\nNow, the rate of heat loss through radiation (and conduction to adjacent parts, etc.) is generally proportional to\u00A0temperature (both in KSP and in real life), while the rate of heat gain from the sun is constant (or, rather, proportional to the temperature\u00A0\u003Cem\u003Eof the sun\u003C/em\u003E, which of course is pretty constant). So what happens is that each part will basically have an equilibrium temperature where those two rates are equal: if the part is cooler than its equilibrium temperature, it will gain more heat than it loses, and if it\u0027s hotter than its equilibrium temperature, it will lose more heat than it gains.\n\u003C/p\u003E\n\u003Cp\u003E\nThe problem is that, if the time step is too large, the temperature change calculated in the simple way described above can easily\u00A0\u003Cem\u003Eovershoot the equilibrium\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, let\u0027s say you have a part on your probe that would be at equilibrium at 2000 K, but is currently only at 1999 K. And just to keep the numbers nice, let\u0027s say that its temperature gain/loss rate at 1 K below the equilibrium, as calculated by the game, is 1 K/s.\n\u003C/p\u003E\n\u003Cp\u003E\nAt 1x time warp, the game does something like 100 physics time steps per second, so on the next timestep the game will increment the part\u0027s temperature to 1999.01 K. And on the next time step it will heat up by, say, 0.99 K/s, so its new temperature will be 1999.0199 K. And it will keep gradually heating up more and more slowly as it approaches its equilibrium temperature, and all will be fine.\n\u003C/p\u003E\n\u003Cp\u003E\nBut if we\u0027re instead at, say, 1000x time warp, then the game obviously cannot do 100,000 physics updates per every real-time second; your CPU isn\u0027t that fast. Instead, it just keeps doing 100 updates per second\u00A0\u003Cem\u003Ein real time\u003C/em\u003E, i.e. one update per 10 seconds in game time.\u00A0(Well, OK, for a simple craft it probably \u003Cem\u003Ecould\u003C/em\u003E\u00A0do 100,000 updates per second, if the heat physics code was optimized enough. But the point is, there\u0027s always a limit and the game doesn\u0027t even try to scale the physics update rate with the warp factor.) So that means that, after one physics update tick, the part will now be at 1999 K \u002B 1 K/s * 10 s = 2009 K.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd what\u0027s worse, on the\u00A0\u003Cem\u003Enext\u003C/em\u003E\u00A0time step, the game will see that the part is now 9 K\u00A0\u003Cem\u003Eabove\u003C/em\u003E\u00A0its equilibrium, and calculate its new temperature gain/loss rate as something close to -9 K/s, and thus its new temperature, one ten second time step later, as 2009 K - 9 K/s * 10 s = 1919 K. And now the part is 81 K below its equilibrium, and thus heating up at a rate of about 81 K/s, so one more time step later it will end up at 1919 K \u002B 81 K/s * 10 s = 2729 K. And then it will blow up, because it just exceeded its heat tolerance of 2500 K. \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003ENow, if the KSP devs wanted, they could pretty easily replace the simple Euler integration with something more advanced like \u003Ca href=\u0022https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#The_Runge%E2%80%93Kutta_method\u0022 rel=\u0022external nofollow\u0022\u003Efourth order Runge-Kutta\u003C/a\u003E\u00A0(which \u003Cem\u003Ecan\u003C/em\u003E\u00A0still blow up if the time step is too large, but is a lot more accurate and less likely to do so) or even the \u003Ca href=\u0022https://en.wikipedia.org/wiki/Backward_Euler_method\u0022 rel=\u0022external nofollow\u0022\u003Ebackward\u00A0Euler method\u003C/a\u003E\u00A0(which is no more accurate than the normal Euler method, but tends to undershoot rather than overshoot at large time steps, and thus won\u0027t blow up). Both of those are a bit more complicated to code and require more time to calculate (since they need to recompute the heat gain/loss several times per timestep to find a solution), but they would solve, or at least mitigate, the stability problem.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EUnfortunately, I suspect this this is probably not a high priority for the devs, since few players will ever put their craft in situations where it really matters, and those who do will probably just chalk it up to low Kerbol orbit being inhospitable\u00A0to spacecraft.\u00A0\u003Cimg alt=\u0022:rolleyes:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_rolleyes.gif\u0022 title=\u0022:rolleyes:\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E(As a disclaimer, I should note that everything I wrote above is just informed conjecture. I have not looked at the KSP code to see how it actually updates part temperatures. But I \u003Cem\u003Ehave\u003C/em\u003E written physics code myself, both for games and for scientific purposes, and the simple Euler integration\u00A0I described above is pretty much the simplest and easiest way to write something like the part temperature tracking in KSP, especially if you don\u0027t actually realize that what you\u0027re implementing is an integrator. Also, the symptoms fit.)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E(Edit: After some testing, I think there must actually be something more going on. It feels like KSP is doing something like scaling the heat gain/loss rates down under time warp, perhaps precisely to avoid the overshoot effect I described, but doing it in some weird way that can cause the equilibrium temperatures to go up or down depending on the time warp factor. I dunno. I still stand by my initial statement that things \u0022get wonky\u0022 under time warp. \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E)\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-28T21:30:30Z\u0022 title=\u002211/28/2018 09:30  PM\u0022 data-short=\u00225 yr\u0022\u003ENovember 28, 2018\u003C/time\u003E by vyznev\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2018-11-26T13:28:36Z","Content":"\n\u003Cp\u003E\nInteresting read \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/90620-vyznev/\u0026amp;do=hovercard\u0022 data-mentionid=\u002290620\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/90620-vyznev/\u0022 rel=\u0022\u0022\u003E@vyznev\u003C/a\u003E!\n\u003C/p\u003E\n"},{"CreatedByName":"DAL59","CreatedById":180784,"CreatedDateTime":"2018-11-26T14:11:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223493851\u0022 data-ipsquote-contentid=\u0022180090\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221543216217\u0022 data-ipsquote-userid=\u0022187694\u0022 data-ipsquote-username=\u0022Xurkitree\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Xurkitree said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWait, so Tweakscale is okay?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nyes\n\u003C/p\u003E\n"},{"CreatedByName":"Gapone","CreatedById":193365,"CreatedDateTime":"2018-11-26T16:27:00Z","Content":"\n\u003Cp\u003E\nMy idea is to build a small probe with all the science parts and attach an inflatable head shield to it. It does not consume/hold ablator and is BIG so it can cover entire craft. Maybe not one will be needed.\n\u003C/p\u003E\n"},{"CreatedByName":"Xurkitree","CreatedById":187694,"CreatedDateTime":"2018-11-27T02:52:13Z","Content":"\n\u003Cp\u003E\nMy plan is to tweakscale 2 ablative heatshields to its maximum size and then put all the science equipment in between like a sandwich. 4 million ablative should not get over by the time we hit atmo\u00A0right?\n\u003C/p\u003E\n"},{"CreatedByName":"Kergarin","CreatedById":153808,"CreatedDateTime":"2018-11-27T22:45:53Z","Content":"\n\u003Cp\u003E\nHm... Do heatshields in ksp work at the sun as expected?\n\u003C/p\u003E\n\u003Cp\u003E\nI just gave it a quick try and it did not seem like the heatshield covers anything. Parts behind it get as hot as they do without it.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:I mean outside of it\u0027s atmosphere.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-11-27T22:47:42Z\u0022 title=\u002211/27/2018 10:47  PM\u0022 data-short=\u00225 yr\u0022\u003ENovember 27, 2018\u003C/time\u003E by Kergarin\u003C/strong\u003E\n\u003C/span\u003E\n"}]}