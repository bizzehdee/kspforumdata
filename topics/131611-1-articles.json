{"TopicId":131611,"ForumId":20,"TopicTitle":"Need help understanding thermal modules","CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2016-02-08T04:20:18Z","PageNum":1,"Articles":[{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2016-02-08T04:20:18Z","Content":"\n\u003Cp\u003E\nHi.\n\u003C/p\u003E\n\u003Cp\u003E\nI need help understanding what some components of ModuleResourceConverter and ModuleCoreHeat do.\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003ETemperatureModifier\n\t\t{\n\t\t\tkey = 0 2000000\n\t\t\tkey = 750 200000\n\t\t\tkey = 1000 20000\n\t\t\tkey = 1250 10000\t\n\t\t\tkey = 2000 200\t\n\t\t\tkey = 4000 0\n\t\t}\t\t\t\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nfound in ModuleResourceConverter and HeatRadiantMultiplier, CoolingRadiantMultiplier and MaxCoolant found in ModuleCoreHeat:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nMODULE\n\t{\n\t\tname = ModuleCoreHeat\n\t\tCoreTempGoal = 1000\t\t\t\t\t//Internal temp goal - we don\u0027t transfer till we hit this point\n\t\tCoreToPartRatio = 0.1\t\t\t\t//Scale back cooling if the part is this % of core temp\n\t\tCoreTempGoalAdjustment = 0\t\t\t//Dynamic goal adjustment\n\t\tCoreEnergyMultiplier = 0.1\t\t\t//What percentage of our core energy do we transfer to the part\n\t\tHeatRadiantMultiplier = 0.05\t\t//If the core is hotter, how much heat radiates?\n\t\tCoolingRadiantMultiplier = 0\t\t//If the core is colder, how much radiates?\n\t\tHeatTransferMultiplier = 0\t\t\t//If the part is hotter, how much heat transfers in?\n\t\tCoolantTransferMultiplier = 0.01\t//If the part is colder, how much of our energy can we transfer?\n\t\tradiatorCoolingFactor = 1\t\t\t//How much energy we pull from core with an active radiator?  \u0026gt;= 1\n\t\tradiatorHeatingFactor = 0.01\t\t//How much energy we push to the active radiator\n\t\tMaxCalculationWarp = 1000\t\t\t//Based on how dramatic the changes are, this is the max rate of change\n\t\tCoreShutdownTemp = 4000\t\t\t\t//At what core temperature do we shut down all generators on this part?\n\t\tMaxCoolant = 400\t\t\t\t\t//Maximum amount of radiator capacity we can consume - 50 = 1 small\n\t}\u003C/pre\u003E\n\u003Cp\u003E\nHow do those parameters affect a part? What does modifying them do? What is the meaning or unitsnof the values used?\n\u003C/p\u003E\n"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2016-02-08T15:34:17Z","Content":"\n\u003Cp\u003E\nAny help?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2016-02-08T15:51:01Z","Content":"\n\u003Cp\u003E\nI\u0027d like to see some documentation as well.\n\u003C/p\u003E\n"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2016-02-08T22:05:45Z","Content":"\n\u003Cp\u003E\nTrawling through the dev threads by Nertea\u0027s gang of resident experts, I\u003Cem\u003E think\u003C/em\u003E that:\n\u003C/p\u003E\n\u003Cp\u003E\n-TemperatureModifier is a curve that defines heat output at various current temperatures. In the above example, the part produces 2000000u/s at 0 kelvin, and 0u/s at 4000 kelvin. I have no idea what units \u0027u\u0027 is in. I hope it\u0027s watts.\n\u003C/p\u003E\n"},{"CreatedByName":"Nertea","CreatedById":83952,"CreatedDateTime":"2016-02-09T05:22:04Z","Content":"\n\u003Cp\u003E\nHere\u0027s the best I can do!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003EResource converter properties:\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETemperatureModifier:\u003C/strong\u003E kW added per second x50. So to add 10 kW per second, provide 500 in this field\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003ECore heat properties:\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECoreTempGoal: \u003C/strong\u003ESets a temperature goal, core won\u0027t be affected by core heat transferring radiators before this.\u003Cbr\u003E\u003Cstrong\u003ECoreToPartRatio :\u00A0\u003C/strong\u003EIf the part is this fraction of the core temp, reduce the cooling\u003Cbr\u003E\u003Cstrong\u003ECoreTempGoalAdjustment:\u003C/strong\u003E A scalar that adjusts the core temperature goal, eg if it is -200, and the CoreTempGoal is 800, it\u0027s 600.\u003Cbr\u003E\u003Cstrong\u003ECoreEnergyMultiplier:\u003C/strong\u003E How much to scale energy transfers between core and part\u003Cbr\u003E\u003Cstrong\u003EHeatRadiantMultiplier:\u003C/strong\u003E If the core is hotter, the fraction of heat to radiate out\u003Cbr\u003E\u003Cstrong\u003ECoolingRadiantMultiplier:\u003C/strong\u003E If the core is cooler, the fraction of heat to radiate out\u003Cbr\u003E\u003Cstrong\u003EHeatTransferMultiplier:\u003C/strong\u003E If the core is hotter than the part\u0027s internal, the fraction of heat that transfers to the part from the core\u003Cbr\u003E\u003Cstrong\u003ECoolantTransferMultiplier:\u003C/strong\u003E If the core is cooler than the part\u0027s internal, the fraction of heat that transfers to the core from the part\u003Cbr\u003E\u003Cstrong\u003EradiatorCoolingFactor:\u003C/strong\u003E The amount of kJ of energy to \u0022actually\u0022 remove from the core\u00A0per kJ removed by a Core Heat transferring radiator\u003Cbr\u003E\u003Cstrong\u003EradiatorHeatingFactor:\u003C/strong\u003E The amount of kJ of energy to \u0022actually\u0022 add\u00A0to a radiator pulling core heat from the core\u003Cbr\u003E\u003Cstrong\u003EMaxCalculationWarp:\u003C/strong\u003E\u00A0Things won\u0027t be computed at a faster rate than this; ie at 10,000,000x time warp, the core heat analytics will still work like at 1000x\u003Cbr\u003E\u003Cstrong\u003ECoreShutdownTemp:\u003C/strong\u003E Shut down all generators on a part at this core temperature\u003Cbr\u003E\u003Cstrong\u003EMaxCoolant:\u003C/strong\u003E Maximum amount of kW of cooling capacity the core can consume (currently bugged)\n\u003C/p\u003E\n"},{"CreatedByName":"MatterBeam","CreatedById":133334,"CreatedDateTime":"2016-02-09T05:30:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222400341\u0022 data-ipsquote-contentid=\u0022131611\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221454995324\u0022 data-ipsquote-userid=\u002283952\u0022 data-ipsquote-username=\u0022Nertea\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, Nertea said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere\u0027s the best I can do!\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003EResource converter properties:\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ETemperatureModifier:\u003C/strong\u003E kW added per second x50. So to add 10 kW per second, provide 500 in this field\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003ECore heat properties:\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ECoreTempGoal: \u003C/strong\u003ESets a temperature goal, core won\u0027t be affected by core heat transferring radiators before this.\u003Cbr\u003E\u003Cstrong\u003ECoreToPartRatio :\u00A0\u003C/strong\u003EIf the part is this fraction of the core temp, reduce the cooling\u003Cbr\u003E\u003Cstrong\u003ECoreTempGoalAdjustment:\u003C/strong\u003E A scalar that adjusts the core temperature goal, eg if it is -200, and the CoreTempGoal is 800, it\u0027s 600.\u003Cbr\u003E\u003Cstrong\u003ECoreEnergyMultiplier:\u003C/strong\u003E How much to scale energy transfers between core and part\u003Cbr\u003E\u003Cstrong\u003EHeatRadiantMultiplier:\u003C/strong\u003E If the core is hotter, the fraction of heat to radiate out\u003Cbr\u003E\u003Cstrong\u003ECoolingRadiantMultiplier:\u003C/strong\u003E If the core is cooler, the fraction of heat to radiate out\u003Cbr\u003E\u003Cstrong\u003EHeatTransferMultiplier:\u003C/strong\u003E If the core is hotter than the part\u0027s internal, the fraction of heat that transfers to the part from the core\u003Cbr\u003E\u003Cstrong\u003ECoolantTransferMultiplier:\u003C/strong\u003E If the core is cooler than the part\u0027s internal, the fraction of heat that transfers to the core from the part\u003Cbr\u003E\u003Cstrong\u003EradiatorCoolingFactor:\u003C/strong\u003E The amount of kJ of energy to \u0022actually\u0022 remove from the core\u00A0per kJ removed by a Core Heat transferring radiator\u003Cbr\u003E\u003Cstrong\u003EradiatorHeatingFactor:\u003C/strong\u003E The amount of kJ of energy to \u0022actually\u0022 add\u00A0to a radiator pulling core heat from the core\u003Cbr\u003E\u003Cstrong\u003EMaxCalculationWarp:\u003C/strong\u003E\u00A0Things won\u0027t be computed at a faster rate than this; ie at 10,000,000x time warp, the core heat analytics will still work like at 1000x\u003Cbr\u003E\u003Cstrong\u003ECoreShutdownTemp:\u003C/strong\u003E Shut down all generators on a part at this core temperature\u003Cbr\u003E\u003Cstrong\u003EMaxCoolant:\u003C/strong\u003E Maximum amount of kW of cooling capacity the core can consume (currently bugged)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSomeone sticky this somewhere.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-02-09T05:31:11Z\u0022 title=\u002202/09/2016 05:31  AM\u0022 data-short=\u00228 yr\u0022\u003EFebruary 9, 2016\u003C/time\u003E by MatterBeam\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"rgr","CreatedById":161354,"CreatedDateTime":"2016-04-10T13:15:14Z","Content":"\n\u003Cp\u003E\n(1.0.5)\u00A0 it actually looks as if without \u003Cstrong\u003ECoreHeat\u003C/strong\u003E the \u0060TemperatureModifier\u0060 in ResourceConverter is ignored? No heat shows up anywhere during conversion regardless of the value.\n\u003C/p\u003E\n\u003Cp\u003E\nUsing CoreHeat, I was able to build this LH/LOX Fuel Cell (inspired by the Apollo cells) though:\n\u003C/p\u003E\n\u003Cp\u003E\nIt has an electrical \u0027Heater\u0027 to start it up (bring it up to 470K) -\u003Cem\u003E this couldn\u0027t be done in flight, the electrolyte was prepared before launch.\u003C/em\u003E\u003Cbr\u003E\nat that point the cell will start producing roughly 50% output and continue to rise to 99% efficiency at 500K.\n\u003C/p\u003E\n\u003Cp\u003E\nThe heater can be modified to prevent the cell from stopping (leave it on, w/temp.modifier cutoff after 470K) -\u003Cstrong\u003E \u003C/strong\u003E\u003Cem\u003Ethis was the actual operation mode\u003C/em\u003E\u003Cbr\u003E\nFor testing, it will help push the cell, up to 530K with decreasing efficiency, when the core shuts down \u003Cem\u003E- the cell was only to run at 470-500K\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nsetting actual CoreHeat values is still a mystery for me (what factor, what units?? relations to temp debug??), I made it heat up the part by a mild 10kW @ full power\n\u003C/p\u003E\n\u003Cp\u003E\nthe heater input, cell output and tanks are arbitrary.\u003Cbr\u003E\nLH/LOX/water ratios do reflect the specs.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nMODULE\n{\n    name = ModuleResourceConverter\n    ConverterName = Fuel Cell\n    StartActionName = Start Fuel Cell\n    StopActionName = Stop Fuel Cell\n    FillAmount = 0.95\n    AutoShutdown = true\n    GeneratesHeat = true\n    UseSpecializationBonus = false\n    DefaultShutoffTemp = 0.9\n    INPUT_RESOURCE\n    {\n        ResourceName = LqdHydrogen\n        Ratio = 0.000074405\n        FlowMode = STAGE_PRIORITY_FLOW\n    }\n    INPUT_RESOURCE\n    {\n        ResourceName = LqdOxygen\n        Ratio = 0.000044092\n        FlowMode = STAGE_PRIORITY_FLOW\n    }\n    OUTPUT_RESOURCE\n    {\n        ResourceName = ElectricCharge\n        Ratio = 1.5\n        DumpExcess = false // shape cell load with power demand\n    }\n    OUTPUT_RESOURCE\n    {\n        ResourceName = Water\n        Ratio = 0.0001184\n        DumpExcess = true\n    }\n    TemperatureModifier\n    {\n            key = 370 0     // 220F - electrolyte solidifies\n            key = 420 1\n            key = 470 1000  // 385F - critical temperature, cell start\n            key = 500 10    // 440F - peak power output temp\n            key = 600 0\n    }\n    ThermalEfficiency\n    {\n        key = 370 0 0 0\n        key = 420 0.01 0 0.005\n        key = 470 0.4 0.015 0.01\n        key = 500 1 0 0\n        key = 600 0 0 0\n    }\n}\nRESOURCE\n{\n    name = LqdHydrogen\n    amount = 50\n    maxAmount = 50\n}\nRESOURCE\n{\n    name = LqdOxygen\n    amount = 32\n    maxAmount = 32\n}\nRESOURCE\n{\n    name = Water\n    amount = 0\n    maxAmount = 4\n}\nMODULE\n{\n    name = ModuleResourceConverter\n    ConverterName = Cell Heater\n    StartActionName = Start Heater\n    StopActionName = Stop Heater\n    AutoShutdown = true\n    GeneratesHeat = true\n    DefaultShutoffTemp = 0.9\n    ThermalEfficiency = 1\n    TemperatureModifier\n    {\n        key = 0 5000 0 0\n        key = 300 1000 0 0\n        key = 471 1000 0 0\n        key = 652 0 -20 0\n    }\n    INPUT_RESOURCE\n    {\n        ResourceName = ElectricCharge\n        Ratio = 0.1\n        FlowMode = STAGE_PRIORITY_FLOW\n    }\n}\nMODULE\n{\n    name = ModuleOverheatDisplay\t// show Core Temp in menu\n}\nMODULE\n{\n    name = ModuleCoreHeat\n    CoreTempGoal = 480\n    CoreToPartRatio = 0.1\n    CoreTempGoalAdjustment = 10\n    CoreEnergyMultiplier = 0.1\n    HeatRadiantMultiplier = 0.01\n    CoolingRadiantMultiplier = 0.5\n    HeatTransferMultiplier = 0.5\n    CoolantTransferMultiplier = 0.01\n    radiatorCoolingFactor = 1\n    radiatorHeatingFactor = 0.01\n    MaxCalculationWarp = 1000\n    CoreShutdownTemp = 530\n    MaxCoolant = 100\n}\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nInsights? Comments? what\u0027s wrong with this Heat POC?\n\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-04-29T05:59:56Z","Content":"\n\u003Cp\u003E\nBasic question... what\u0027s considered a \u0022Part\u0022 as far as the core is concerned? A \u0022Core\u0022 is a part with ModuleCoreHeat presumably? A \u0022Part\u0022 is something directly attached to the \u0022Core\u0022? something attached few pieces away? There\u0027s some Part-to-Part heat transfer no? or is it only Core-to-Part?\n\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-04-29T10:48:36Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222547633\u0022 data-ipsquote-contentid=\u0022131611\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221461909596\u0022 data-ipsquote-userid=\u0022106805\u0022 data-ipsquote-username=\u0022nli2work\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, nli2work said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022\u003E\n\u003Cp\u003E\nBasic question... what\u0027s considered a \u0022Part\u0022 as far as the core is concerned? A \u0022Core\u0022 is a part with ModuleCoreHeat presumably? A \u0022Part\u0022 is something directly attached to the \u0022Core\u0022? something attached few pieces away? There\u0027s some Part-to-Part heat transfer no? or is it only Core-to-Part?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPart refers to the host part. \u00A0There is configurable bleed off between core and internal temp. \u00A0Core\u0027s main purpose is to allow performance based on some very large thermal qualities (nuclear reactors, arc furnaces, etc.) Without exploding the host part \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-04-29T13:57:46Z","Content":"\n\u003Cp\u003E\nok so just to clarify this to myself... Part is PART{} that contains ModuleCoreHeat... and Core is just referring to the module... which may dump or draw heat from the Part? so a Core could have much much higher temp and the Part temp can remain ambient given the appropriate settings?\n\u003C/p\u003E\n"},{"CreatedByName":"RoverDude","CreatedById":105198,"CreatedDateTime":"2016-04-29T14:30:50Z","Content":"\n\u003Cp\u003E\nCorrect - tho the bleeding in/out of heat is pretty minimal in stock parts.\n\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2016-04-29T15:49:51Z","Content":"\n\u003Cp\u003E\nOkay... things are coming into focus... now regarding activeRadiator...\n\u003C/p\u003E\n\u003Cp\u003E\nisCoreRadiator \u00A0// radiator also draws heat from ModuleCoreHeat in addition to Part\u0027s Heat?\n\u003C/p\u003E\n\u003Cp\u003E\nparentCoolingOnly \u00A0// radiator only cools the part it is directly attached to?\n\u003C/p\u003E\n"}]}