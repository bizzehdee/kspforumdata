{"TopicId":171764,"ForumId":70,"TopicTitle":"Adding parts to RP-0/1?","CreatedByName":"TheDamDog","CreatedById":110766,"CreatedDateTime":"2018-03-07T04:07:50Z","PageNum":1,"Articles":[{"CreatedByName":"TheDamDog","CreatedById":110766,"CreatedDateTime":"2018-03-07T04:07:50Z","Content":"\n\u003Cp\u003E\nSo I\u0027m currently fiddling around with my RP-0 dev branch install and I wanted to add a few parts (ballutes, some modular station bits and a few toys from KSP Interstellar,) but it seems these don\u0027t play nicely with the new custom tech tree.\u00A0 Regular module manager patches don\u0027t seem to work.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve found the TREE-parts.cfg and managed to get one part to show up in the tree...but none of the others past that.\n\u003C/p\u003E\n\u003Cp\u003E\nA sample of relevant lines from the TREE-parts.cfg:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\t@PART[InlineBallute062]:FOR[xxxRP0]\n{\n\u00A0\u00A0\u00A0 %TechRequired = interplanetaryRovers\n\u00A0\u00A0\u00A0 %cost = 400\n\u00A0\u00A0\u00A0 %entryCost = 5000\n\t\u00A0\u00A0\u00A0 RP0conf = true\n\u00A0\u00A0\u00A0 @description ^=:$: \u0026lt;b\u0026gt;\u0026lt;color=green\u0026gt;From Ballutes (RO Config) mod\u0026lt;/color\u0026gt;\u0026lt;/b\u0026gt;\n\t}\n\t@PART[InlineBallute125]:FOR[xxxRP0]\n{\n\u00A0\u00A0\u00A0 %TechRequired = interplanetaryRovers\n\u00A0\u00A0\u00A0 %cost = 1000 %entryCost = 10000\n\u00A0\u00A0\u00A0 RP0conf = true\n\u00A0\u00A0\u00A0 @description ^=:$: \u0026lt;b\u0026gt;\u0026lt;color=green\u0026gt;From Ballutes (RO Config) mod\u0026lt;/color\u0026gt;\u0026lt;/b\u0026gt;\n\t}\u003C/pre\u003E\n\u003Cp\u003E\nAnd so on down the line.\n\u003C/p\u003E\n\u003Cp\u003E\nThe .62m ballute shows up and seems functional, but the 1.25m (and all other parts) are nowhere to be found.\u00A0 What am I messing up?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nQuick edit:\n\u003C/p\u003E\n\u003Cp\u003E\nOK, so I went in and modified the costs of Raidernick\u0027s Soviet Rockets (since they\u0027re hilariously expensive by default,) and now the ballutes have shown up, but not the other parts I added using the same format.\u00A0 I\u0027m confused.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222018-03-07T04:12:45Z\u0022 title=\u002203/07/2018 04:12  AM\u0022 data-short=\u00226 yr\u0022\u003EMarch 7, 2018\u003C/time\u003E by TheDamDog\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Phineas Freak","CreatedById":146521,"CreatedDateTime":"2018-03-07T10:38:44Z","Content":"\n\u003Cp\u003E\nSample \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E config:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@PART[PartName]:FOR[MyMod]:NEEDS[RP-0]\n{\n    %TechRequired = \u0026lt;The requested tech node\u0026gt;\n    @description ^=:$: \u0026lt;color=green\u0026gt;From MyMod mod.\u0026lt;/color\u0026gt;\n    %cost = \u0026lt;part cost\u0026gt;\n    %entryCost = \u0026lt;entry unlock cost\u0026gt;\n    %RP0conf = True\n}\u003C/pre\u003E\n\u003Cp\u003E\nIf a part is not showing then check if:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe config format is correct.\n\u003C/li\u003E\n\u003Cli\u003E\nThe tech node actually exists.\n\u003C/li\u003E\n\u003Cli\u003E\nThe tech node is correct.\n\u003C/li\u003E\n\u003C/ul\u003E\n"},{"CreatedByName":"MacLuky","CreatedById":138597,"CreatedDateTime":"2021-02-19T13:51:09Z","Content":"\n\u003Cp\u003E\nNeat!\u003Cbr\u003E\nI wrote a little script since I am lazy:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EMOD_NAME=MIR\nTECH_NODE=modularSpaceStations\n\nfor FILE_NAME in \u0060find ../GameData/$MOD_NAME/ |grep cfg\u0060\ndo\n\tPART_NAME=\u0060grep -hrA 4 \u0022^PART\u0022 ${FILE_NAME} |grep name | cut -d = -f 2|xargs| tr -d \u0027\\r\u0027\u0060\n\tif [ \u0022$PART_NAME\u0022 != \u0022\u0022 ] \n\tthen\n\t\techo \u0022@PART[${PART_NAME}]:FOR[${MOD_NAME}]:NEEDS[RP-0]\u0022\n\t\techo \u0022{\u0022\n\t\techo \u0022  %TechRequired = ${TECH_NODE}\u0022\n\t\techo \u0022\t@description ^=:$: \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;color\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003Egreen\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EFrom ${MOD_NAME} mod.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;/color\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022\n \t\techo \u0022\t@cost *= 1.2\u0022\n    \t\techo \u0022\t%entryCost *= 3\u0022\n    \t\techo \u0022\t%RP0conf = True\u0022\n\t\techo \u0022}\u0022\n\t\techo \u0022\u0022\n\tfi\ndone\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIt grabs all the config files that start with PART and extracts the name. It will dump all in the same node, but you can always change that. It also makes an assumption on the cost based on the few examples that I saw.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ecapricorn:CKAN macluky$ . rp_config_create \n@PART[Mir_Core_Module1]:FOR[MIR]:NEEDS[RP-0]\n{\n  %TechRequired = modularSpaceStations\n\t@description ^=:$: \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;color\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003Egreen\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EFrom MIR mod.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;/color\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t@cost *= 1.2\n\t%entryCost *= 3\n\t%RP0conf = True\n}\n\n@PART[Mir_DockingPortProbe1]:FOR[MIR]:NEEDS[RP-0]\n{\n  %TechRequired = modularSpaceStations\n\t@description ^=:$: \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;color\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003Egreen\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EFrom MIR mod.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;/color\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\t@cost *= 1.2\n\t%entryCost *= 3\n\t%RP0conf = True\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nSnippet of the output\n\u003C/p\u003E\n"}]}