{"TopicId":87151,"ForumId":34,"TopicTitle":"PID Tune (No Longer Available)","CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-13T06:07:11Z","PageNum":1,"Articles":[{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-13T06:07:11Z","Content":"\n\u003Cp\u003EThis mod is no longer available for download.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-26T06:30:00Z\u0022 title=\u002210/26/2014 06:30  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 26, 2014\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-10-13T08:06:08Z","Content":"\n\u003Cp\u003ESurprisingly, clamp appears to be a general time constant (I would have sworn it was going to be some form of anti-integral windup). That would make the response equation something like: PID_r = (Kp * e \u002B Ki * SumOf(e) - Kd * e\u0027) / clamp. (EDIT: Confirming that all factors are linearly related or very close to it. 10:2:2:1 \u0026lt;==\u0026gt; 10k:2k:2k:1k). Decreasing clamp allows more violent responses, increasing it slows responses. Increasing it slightly is likely to be the easiest way of getting rid of the \u0022speed wobbles\u0022 (haven\u0027t tested that yet, just hypothesising).\u003C/p\u003E\u003Cp\u003ENote for anyone using this with planes, a small amount of Ki on the pitch axis will resolve the nose drifting up/down after releasing the controls (there will be a small drift down but it will correct itself back to the original point after a while). Don\u0027t understand why stock settings have it completely zeroed.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif(GUILayout.Button(\u0022Commit\u0022)) {\u003Cbr\u003E    if(pitch.proper() \u0026amp;\u0026amp; roll.proper() \u0026amp;\u0026amp; yaw.proper()) {\u003Cbr\u003E        CommitChanges(pitch.buildPIDclamp(), roll.buildPIDclamp(), yaw.buildPIDclamp());\u003Cbr\u003E        [COLOR=\u0022#FF0000\u0022]GUI.FocusControl(\u0022Commit\u0022); // Remove focus from textbox which otherwise causes issues\u003Cbr\u003E        GUI.UnfocusWindow(); // Return focus to game[/COLOR]\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAdding these two lines to the commit button function would be a really great help. I found myself adding \u0022wasd\u0022 characters very frequently after commiting a tweak since the text box remains focused.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-13T10:11:12Z\u0022 title=\u002210/13/2014 10:11  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 13, 2014\u003C/time\u003E by Crzyrndm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-13T14:04:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003EAdding these two lines to the commit button function would be a really great help. I found myself adding \u0022wasd\u0022 characters very frequently after commiting a tweak since the text box remains focused.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENext version, thanks for the tip!\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-13T15:30:12Z","Content":"\n\u003Cp\u003EAh, I noticed some people were having trouble with SAS in 0.25. This could be useful, though my experience with PID-controllers tells me that not everyone will be able to get useful results. You might want to warn people about that edit: warn people more \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Tuning can be a real pain.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003ESurprisingly, clamp appears to be a general time constant (I would have sworn it was going to be some form of anti-integral windup)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI would have said to too, that is surprising indeed.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Crzyrndm\u0022 data-cite=\u0022Crzyrndm\u0022\u003E\u003Cdiv\u003E(EDIT: Confirming that all factors are linearly related or very close to it. 10:2:2:1 \u0026lt;==\u0026gt; 10k:2k:2k:1k).\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhat do you mean by this? Is this something about PID in general or KSP?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-13T16:25:17Z\u0022 title=\u002210/13/2014 04:25  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 13, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"SolarSailor","CreatedById":62439,"CreatedDateTime":"2014-10-13T16:00:42Z","Content":"\n\u003Cp\u003EOh, someone finally did this. Thanks a million! There\u0027s no need to use overbloated Mechjeb for such a simple thing anymore.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-13T16:46:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EThis could be useful, though my experience with PID-controllers tells me that not everyone will be able to get useful results. You might want to warn people about that edit: warn people more \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Tuning can be a real pain.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy? People can play around all they want and, besides, if 0.24 Windows x64 taught us anything it\u0027s that people don\u0027t read OPs.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-13T17:19:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EWhy? People can play around all they want and, besides, if 0.24 Windows x64 taught us anything it\u0027s that people don\u0027t read OPs.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhy it can be a pain you mean? The interaction between the different factors can be rather complex and if you start out with full PID, rather than PI or PD it does not make life easier. People can try though, it sure can be educational. It might be useful to know that setting a value to 0 also eliminates it from the PID formula, so folks can create a PI and PD controller with your mod to make it a little easier on themselves. Most controllers in real life don\u0027t bother with all three PID terms, as they are often not all needed. It is probably rather telling that correctly tuning controllers is a real business and methods like Ziegler-Nichols and Cohen-Coon have been developed.\u003C/p\u003E\u003Cp\u003EIn respects to the OP remark - fair enough! That leaves me just one question: where did those trees at the end of the runway come from in the OP picture? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E That looks like another airstrip.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-13T17:22:07Z\u0022 title=\u002210/13/2014 05:22  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 13, 2014\u003C/time\u003E by Camacha\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-13T17:28:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EWhy it can be a pain you mean?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo, I mean regarding warning people more. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAnyway, once I get the global and game presets in you\u0027ll be able to reset to default when needed, which makes the point a bit moot, IMO.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003Ewhere did those trees at the end of the runway come from in the OP picture? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E That looks like another airstrip.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using a 1.75x Kerbin RSS config with the 6.4x launch sites file. That\u0027s the Olemek site, IIRC.\u003C/p\u003E\n"},{"CreatedByName":"Camacha","CreatedById":59088,"CreatedDateTime":"2014-10-13T17:33:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EAnyway, once I get the global and game presets in you\u0027ll be able to reset to default when needed, which makes the point a bit moot, IMO.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, I agree. \u003Cem\u003E\u0027Here be dragons and a reset button, good luck!\u0027\u003C/em\u003E\u003C/p\u003E\n"},{"CreatedByName":"Crzyrndm","CreatedById":92871,"CreatedDateTime":"2014-10-14T10:53:22Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Camacha\u0022 data-cite=\u0022Camacha\u0022\u003E\u003Cdiv\u003EWhat do you mean by this? Is this something about PID in general or KSP?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust me testing to see if my theory of clamp being a simple general time constant held up. There was always the possibility of it being a non-linear factor of some sort (which would result in a constant scaling factor giving noticeably different results). It doesn\u0027t apply to general PID because you don\u0027t normally use a general factor like that, or atleast I don\u0027t (because it\u0027s entirely redundant).\u003C/p\u003E\u003Cp\u003EOn a side note, going to have to see about making the attitude hold less prone to sliding over time (the target getting slowly dragged towards the current heading while under SAS control only). The ability to tune the SAS response just makes it even more obvious...\u003C/p\u003E\n"},{"CreatedByName":"Voculus","CreatedById":85437,"CreatedDateTime":"2014-10-20T11:55:21Z","Content":"\n\u003Cp\u003EEDIT: One of these days, I\u0027ll learn how to read! You\u0027re already working on the the things I was wishing for. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks again for this mod. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-20T14:13:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Voculus\u0022 data-cite=\u0022Voculus\u0022\u003E\u003Cdiv\u003EEDIT: One of these days, I\u0027ll learn how to read! You\u0027re already working on the the things I was wishing for. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m hoping sometime this week, no promises.\u003C/p\u003E\u003Cp\u003EE: Turns out TriggerAu has some fantastic tools that will make my life much easier. Thankfully, he licensed them under an actual \u0022I truly want to share this\u0022 license and not a \u0022viral socialism\u0022 license!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-20T15:05:04Z\u0022 title=\u002210/20/2014 03:05  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 20, 2014\u003C/time\u003E by regex\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Voculus","CreatedById":85437,"CreatedDateTime":"2014-10-21T22:22:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022regex\u0022 data-cite=\u0022regex\u0022\u003E\u003Cdiv\u003EThankfully, he licensed them under an actual \u0022I truly want to share this\u0022 license and not a \u0022viral socialism\u0022 license!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELOL! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Can\u0027t wait!\u003C/p\u003E\n"},{"CreatedByName":"Sledge","CreatedById":126536,"CreatedDateTime":"2014-10-22T23:29:03Z","Content":"\n\u003Cp\u003EWhat is the meaning of the default values? The WP article uses much smaller numbers in its examples. I\u0027m trying to understand what the system would call a small change and what is a large change.\u003C/p\u003E\n"},{"CreatedByName":"regex","CreatedById":70807,"CreatedDateTime":"2014-10-23T00:05:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sledge\u0022 data-cite=\u0022Sledge\u0022\u003E\u003Cdiv\u003EWhat is the meaning of the default values? The WP article uses much smaller numbers in its examples. I\u0027m trying to understand what the system would call a small change and what is a large change.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EProbably just a matter of scale allowing finer tuning. The end result will be the same for a given set of values or 1/10th of that same given set of values, AFAIK. That being said, I just exposed the values for tweaking; I\u0027m no expert on their use.\u003C/p\u003E\n"}]}