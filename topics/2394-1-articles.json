{"TopicId":2394,"ForumId":36,"TopicTitle":"Node detection problem","CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2011-09-16T19:54:08Z","PageNum":1,"Articles":[{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2011-09-16T19:54:08Z","Content":"\n\u003Cp\u003EI am having slight problems with a single node on one of my fuel tanks. The bottom one does not work. It IS parsed, as the sphere that marks a node position appears, but no part wants to snap onto it. Wierdest thing is that the top one works perfectly fine. I have tried relocating the node to no avail, and I honestly have no clue what could be causing such a thing. Here\u0027s the (what I think are) relevant code parts:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E//--- Node Definitions ---\u003Cbr\u003E\u003Cbr\u003Enode_stack_top = 0.0, 3.0, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003Enode_stack_bottom = 0.0, -2.0, 0.0, 0.0, 1.0, 0.0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//--- Attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision\u003Cbr\u003E\u003Cbr\u003EattachRules = 1, 0, 1, 0, 0\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EDoes anyone know how to fix this?\u003C/p\u003E\n"},{"CreatedByName":"C7Studios","CreatedById":3895,"CreatedDateTime":"2011-09-16T20:40:56Z","Content":"\n\u003Cp\u003EIf you look under attach rules, you can see allow_collision. If it is set to 1, this will allow parts to intersect when attaching. As it stands right now, set to 0, no parts of the node_collider for either model may intersect for the part to be placed successfully. You either need to correct the placement of your collider node or set the flag to 1. As a trick I always model my collider nodes slightly smaller then the part. This makes them seamless as the visual meshes will line up, but the node_colliders won\u0027t touch or overlap.\u003C/p\u003E\n"},{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2011-09-16T21:26:27Z","Content":"\n\u003Cp\u003EActually, that part is crucial for the thing to work. I have custom-tailored ONE part to be able to fit it otherwise it will collide with the tank. \u003Cspan style=\u0022text-decoration:line-through;\u0022\u003EThat isn\u0027t the problem. Usually, when something cannot attach, it snaps to the node but turns red, right? Well here it doesn\u0027t even snap. It\u0027s like the node doesn\u0027t even exist aside from the ball.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThings just got wierder. The node is not the problem. I just successfully attached the fuel tank by the bottom node (turns out 1m pieces can attach without colliding). But now, when it\u0027s attached by the BOTTOM node, the top node stops working. Like if it only wanted to allow a single connection.\u003C/p\u003E\n"},{"CreatedByName":"C7Studios","CreatedById":3895,"CreatedDateTime":"2011-09-17T00:23:47Z","Content":"\n\u003Cp\u003EIf you want, you could send it to me and I could take a look at it for you. Otherwise I\u0027m not sure what else to say without looking at the models. Another key point is to make sure your node_collider meets the definition of a convex shape on all Axis.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://en.wikipedia.org/wiki/Convex_polygon\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://en.wikipedia.org/wiki/Convex_polygon\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2011-09-17T03:51:48Z","Content":"\n\u003Cp\u003EI really doubt it\u0027s a model problem, but here goes (comes in three part: the adapter which works entirely fine, the fuel tank which works half, and the engine which works entirely fine. All three have similar characteristics yet only the fuel tank does not want to work.):\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://dl.dropbox.com/u/21447217/Firelark.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://dl.dropbox.com/u/21447217/Firelark.zip\u003C/a\u003E \u003C/p\u003E\n"},{"CreatedByName":"C7Studios","CreatedById":3895,"CreatedDateTime":"2011-09-17T04:46:22Z","Content":"\n\u003Cp\u003EAllright I checked things out, I\u0027ve got the model working by creating a new part.cfg file from scratch. I\u0027m going to bed now but I\u0027ll send you the working cfg file in the morning. There\u0027s a couple things going on I noticed. \u003C/p\u003E\u003Cp\u003EI\u0027m going to assume harvester is using standard integers or floats. So the limit on your variables is going to be way lower then you entered in the cfg files. As a rule don\u0027t go over 9999 to prevent overflows of the variables. The hard limit is technically 32k, but its better to be on the safe side.\u003C/p\u003E\u003Cp\u003EAlso, your node colliders are exact copies of your part. At least if I imported your files right. That would mean they are in fact concave. The physics engine cannot handle concave objects at all, so your parts are going to behave in and undefined manner. Just make a simple shape for your collider that matches the general shape of your model. Like a polygonal tube. Not only does complex geometry murder performance, the physics engine won\u0027t know what to do with it.\u003C/p\u003E\u003Cp\u003EI\u0027ll upload a working copy of everything tomorrow. \u003C/p\u003E\u003Cp\u003EG\u0027night.\u003C/p\u003E\u003Cp\u003E-C7\u003C/p\u003E\n"},{"CreatedByName":"Killerhurtz","CreatedById":320,"CreatedDateTime":"2011-09-17T19:35:53Z","Content":"\n\u003Cp\u003EYou imported it right, but it had a purpose. I intended to make it so no other parts could be used with the tank. Everything on there was for a purpose: the adapter so the tank could actually fit, to isolate the thing for the rest and to prevent extra fuel for being mounted, the tank so it could only attach to the adapter and the engine, and so it could handle the engine, and the engine\u0027s stats so it would blow up when used with anything else than the tank. Guess my plan\u0027s somewhat blown...\u003C/p\u003E\u003Cp\u003EThanks for looking into it, though. If it works I\u0027m happy, although I\u0027ll keep what you said in mind from now on. I have another model to redo, then...\u003C/p\u003E\n"}]}