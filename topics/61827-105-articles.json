{"TopicId":61827,"ForumId":34,"TopicTitle":"[1.3] kOS Scriptable Autopilot System v1.1.3.0","CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2014-02-01T16:40:58Z","PageNum":105,"Articles":[{"CreatedByName":"Wercho","CreatedById":57663,"CreatedDateTime":"2015-02-03T01:45:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HunterForce\u0022 data-cite=\u0022HunterForce\u0022\u003E\u003Cdiv\u003E...What I meant was...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour first post opened with a complaint, and never qualified it. You can\u0027t expect the developers (which include erendrake) to always assume you mean well when you don\u0027t phrase things politely.\u003C/p\u003E\u003Cp\u003EIn other news, the new pilotsteering commands are great. I used them to write scripts that take user input (primarily in the form of the translation keys, because even though they aren\u0027t locked out of actually affecting the craft, they don\u0027t do a lot), and have created a fly-by-wire VTOL control system. Thanks for making that possible without having to resort to action group bindings.\u003C/p\u003E\n"},{"CreatedByName":"HunterForce","CreatedById":85772,"CreatedDateTime":"2015-02-03T03:59:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wercho\u0022 data-cite=\u0022Wercho\u0022\u003E\u003Cdiv\u003EYour first post opened with a complaint, and never qualified it. You can\u0027t expect the developers (which include erendrake) to always assume you mean well when you don\u0027t phrase things politely.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI usually do expect people to assume others mean well. Personally \u0022annoying\u0022 and \u0022frustrating\u0022 dont strike me as inherently aggressive. A complaint would be \u0022this is a crap language and a poorly made mod\u0022 but I cant say that since its completely false. \u003C/p\u003E\u003Cp\u003ERegardless, I dont really think \u0022annoying\u0022 and \u0022frustrating\u0022 warrant the response I got (especially from one of the devs!).\u003C/p\u003E\u003Cp\u003ETL;DR Sorry for the mix-up. Thanks for the great mod. But seriously chill.\u003C/p\u003E\n"},{"CreatedByName":"erendrake","CreatedById":57164,"CreatedDateTime":"2015-02-03T05:42:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022HunterForce\u0022 data-cite=\u0022HunterForce\u0022\u003E\u003Cdiv\u003EI usually do expect people to assume others mean well. Personally \u0022annoying\u0022 and \u0022frustrating\u0022 dont strike me as inherently aggressive. A complaint would be \u0022this is a crap language and a poorly made mod\u0022 but I cant say that since its completely false. \u003Cp\u003ERegardless, I dont really think \u0022annoying\u0022 and \u0022frustrating\u0022 warrant the response I got (especially from one of the devs!).\u003C/p\u003E\u003Cp\u003ETL;DR Sorry for the mix-up. Thanks for the great mod. But seriously chill.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was actually asking what you meant by there being no support because it was unclear to me. No need to get defensive. \u003C/p\u003E\u003Cp\u003EAs for kerboscript dsl we use in kOS it is an imperfect language just like any other. Using a diffferent language wouldnt solve many of the strange quirks that the KSP API gives us to deal with as addon developers and you need to code around as a scripter. We would always depend mostly on our own documentation for heavy lifting of these unique quirks. \u003C/p\u003E\u003Cp\u003EYou really should look at the \u003Ca href=\u0022http://ksp-kos.github.io/KOS_DOC/\u0022 rel=\u0022external nofollow\u0022\u003Eofficial docs\u003C/a\u003E rather than the wika. There are links to the docs in quite a few places and we have put a lot of work into them.\u003C/p\u003E\u003Cp\u003ELastly, if you would like another language supported in script. Please send us a pull request with the implementation and we would be happy to review it.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-03T07:07:33Z","Content":"\n\u003Cp\u003Eissue with detaching a kOS-enabled probe core from a ship, doesn\u0027t matter if it\u0027s a ship with local command or another probe core:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003EStack dump:\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003EAt interpreter\u003Cbr\u003E\u0026lt;\u0026lt;--EOF\u003Cbr\u003E^\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ESystem.NullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\u003Cbr\u003E  at kOS.Binding.FlightControlManager.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at kOS.Binding.BindingManager.PreUpdate () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at kOS.Execution.CPU.PreUpdateBindings () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at kOS.Execution.CPU.Update (Double deltaTime) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ECode Fragment\u003Cbr\u003E\u003Cbr\u003EFile                 Line:Col IP   opcode operand\u003Cbr\u003E\u003Cbr\u003E----                 ----:--- ---- --------------------- \u003Cbr\u003E\u003Cbr\u003E                        0:0   0000 EOF \u0026lt;\u0026lt;--INSTRUCTION POINTER--\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ethat spams the log, and the console window too. (\u003Ca href=\u0022http://www.blade-edge.com/misc/output_log_kOS.zip\u0022 rel=\u0022external nofollow\u0022\u003Efull log\u003C/a\u003E) Here is my test setup, all I have to do is drop the core from the ship:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/6lp3M8T.png\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.imgur.com/6lp3M8Tl.png\u0022 alt=\u00226lp3M8Tl.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf I exit to the space center and reload back to the probe, everything is fine. Additionally, there was no program loaded or running when this happens\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-03T08:17:21Z","Content":"\n\u003Cp\u003EI can\u0027t find any definitive list of features regarding RT2 support here on the thread or in the docs. What exactly does enabling RT2 in the settings window entail these days? I can use the part module interface to tell if I am connected or not, or in the process of transmitting data, but I can\u0027t see a way to know what the signal delay time is\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-03T08:57:18Z","Content":"\n\u003Cp\u003EWithout RT2 option turned on your probes controlled by KOS cannot steer or fire engines without connection.\u003C/p\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-04T16:41:13Z","Content":"\n\u003Cp\u003EI need some help from IR\u002BKOS guru\u003C/p\u003E\u003Cp\u003EFor a silly project of mine (see picture) I wrote a code that is supposed to stabilize the lander can, but for some reason I cannot set the rotation speed of Rotatrons higher than 5\u002Bsomething using KOS\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/N04zDEf.jpg\u0022 alt=\u0022N04zDEf.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Eset stab1 to SHIP:PARTSTAGGED(\u0022Stab\u0022)[0]:GETMODULE(\u0022MUMECHTOGGLE\u0022).set stab2 to SHIP:PARTSTAGGED(\u0022Stab\u0022)[1]:GETMODULE(\u0022MUMECHTOGGLE\u0022).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eclearscreen.\u003Cbr\u003Eprint stab1:allfields.\u003Cbr\u003Eprint stab1:allevents.\u003Cbr\u003Eprint stab1:allactions.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//calculate radial speed give surface speed\u003Cbr\u003Elock wheelR to alt:radar. \u003Cbr\u003E// coarse speed of 1.0 meand 20 degrees in sec or at least it seems so from part.cfg\u003Cbr\u003Elock angularvelocityCoeff to 180 / (Constant():PI * wheelR) / 20 .\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Elock upvector to up:vector.\u003Cbr\u003Elock facingvector to SHIP:FACING:vector.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Euntil false\u003Cbr\u003E{\u003Cbr\u003E    set error to vxcl(upvector,facingvector).\u003Cbr\u003E    set errorangle to vdot(ship:facing:upvector,error).\u003Cbr\u003E\u003Cbr\u003E    set v1 to VECDRAWARGS(V(0,0,0), error, RGB(0,1,0), \u0022error\u0022, min(abs(error:mag*10),10), True).\u003Cbr\u003E    set v2 to VECDRAWARGS(V(0,0,0), upvector, RGB(1,0,0), \u0022upvector\u0022, 10, True).\u003Cbr\u003E    set v3 to VECDRAWARGS(V(0,0,0), facingvector, RGB(0,0,1), \u0022facingvector\u0022, 10, True).\u003Cbr\u003E    set v4 to VECDRAWARGS(V(0,0,0), ship:facing:upvector, RGB(1,1,1), \u0022starvector\u0022, 10, True).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    stab1:SETFIELD(\u0022coarse speed\u0022, max(1, ship:surfacespeed*angularvelocityCoeff)).\u003Cbr\u003E    stab2:SETFIELD(\u0022coarse speed\u0022, max(1, ship:surfacespeed*angularvelocityCoeff)).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    print \u0022Surface speed, \u0022 \u002B round(ship:surfacespeed,4) at(0,28).\u003Cbr\u003E    print \u0022Angular vel coeff, \u0022 \u002B round(angularvelocityCoeff,4) at(0,27).\u003Cbr\u003E    print \u0022Coarse speed, \u0022 \u002B round(stab1:getfield(\u0022coarse speed\u0022),4) at(0,29).\u003Cbr\u003E    print \u0022Fine speed, \u0022 \u002B round(stab1:getfield(\u0022fine speed\u0022),4) at(30,29).\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    if (abs(errorangle) \u0026gt; 0.05) \u003Cbr\u003E    {\u003Cbr\u003E        if errorangle \u0026gt; 0\u003Cbr\u003E        {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E            print \u0022Positive, \u0022 \u002B errorangle at(0,30).\u003Cbr\u003E            stab1:doaction(\u0022move \u002B\u0022,True).\u003Cbr\u003E            stab1:doaction(\u0022move -\u0022,False).\u003Cbr\u003E            stab2:doaction(\u0022move \u002B\u0022,True).\u003Cbr\u003E            stab2:doaction(\u0022move -\u0022,False).\u003Cbr\u003E        }\u003Cbr\u003E        else\u003Cbr\u003E        {\u003Cbr\u003E            print \u0022Negative, \u0022 \u002B errorangle at(0,30).\u003Cbr\u003E            stab1:doaction(\u0022move \u002B\u0022,False).\u003Cbr\u003E            stab1:doaction(\u0022move -\u0022,True).\u003Cbr\u003E            stab2:doaction(\u0022move \u002B\u0022,False).\u003Cbr\u003E            stab2:doaction(\u0022move -\u0022,True).\u003Cbr\u003E        }\u003Cbr\u003E\u003Cbr\u003E    }\u003Cbr\u003E    else \u003Cbr\u003E    {\u003Cbr\u003E        if ship:surfacespeed \u0026lt; 0.1 //stop rotating when ship is steady.\u003Cbr\u003E        {\u003Cbr\u003E            stab1:doaction(\u0022move \u002B\u0022,False).\u003Cbr\u003E            stab1:doaction(\u0022move -\u0022,False).\u003Cbr\u003E            stab2:doaction(\u0022move \u002B\u0022,False).\u003Cbr\u003E            stab2:doaction(\u0022move -\u0022,False).\u003Cbr\u003E        }\u003Cbr\u003E        //else keep rotating the same direction\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    wait 0.005.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    set v1 to 0.\u003Cbr\u003E    set v2 to 0.\u003Cbr\u003E    set v3 to 0.\u003Cbr\u003E    set v4 to 0.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E    if ag1 \u003Cbr\u003E    {\u003Cbr\u003E        toggle ag1.\u003Cbr\u003E        break.\u003Cbr\u003E    }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"KK4TEE","CreatedById":95462,"CreatedDateTime":"2015-02-04T17:50:40Z","Content":"\n\u003Cp\u003EAfter posting a video of my work in progress flyback and landing program on Reddit I received several requests to make some video tutorials. This is my first video in what will hopefully become a series. I tried to start with an introduction to the mod and then jump right in to an intermediate level launch script to give new users an idea of what can be done with kOS. This video covers launching rockets and in the next video I hope to cover landing them again. Please let me know if anyone finds it useful!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/QBZUiuhJKZc?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\n"},{"CreatedByName":"Ziw","CreatedById":135292,"CreatedDateTime":"2015-02-04T20:35:07Z","Content":"\n\u003Cp\u003EI made my silly project work! I\u0027ll post video here later, it is so much fun 8) I just love KSP in general and IR and KOS in particular.\u003C/p\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2015-02-05T03:44:19Z","Content":"\n\u003Cp\u003Eerendrake: In case you miss it, I\u0027ve released a preliminary version of my RPM \u0026lt;--\u0026gt; kOS interface \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/109624-WIP-kOSPropMonitor-IVA-kOS-Monitor-for-RPM\u0022 rel=\u0022external nofollow\u0022\u003Ehere.\u003C/a\u003E Feel free to tell me how horrible it is \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI plan to support some more advanced features, but for now it\u0027s just a console and a selector really.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-05T05:18:39Z","Content":"\n\u003Cp\u003EWill KoS remain enabled if I switch to another craft?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-05T06:10:17Z\u0022 title=\u002202/05/2015 06:10  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 5, 2015\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-05T05:55:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Motokid600\u0022 data-cite=\u0022Motokid600\u0022\u003E\u003Cdiv\u003EWill KoS remain enabled if I switch to another craft?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe CPU is part of the physical part that\u0027s on the ship. Therefore it has to exist within the loading limit of KSP (2.5m of the camera in default stock without mods that change it). It doesn\u0027t have to be the current ship, but it has to be near enough to the current ship to remain fully \u0022loaded\u0022.\u003C/p\u003E\u003Cp\u003EIf you leave the scene and move more than 2.5km away from the CPU, it will unload and stop running the script, but keep it nearby and you can switch between two vessels and have both keep running scripts.\u003C/p\u003E\n"},{"CreatedByName":"parachutingturtle","CreatedById":113739,"CreatedDateTime":"2015-02-05T15:59:19Z","Content":"\n\u003Cp\u003ESo does kOS work properly with RemoteTech now? I see it in the changelog, does this mean the execution of scripts will actually be delayed according to signal delay?\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-05T16:01:38Z","Content":"\n\u003Cp\u003EI\u0027m using BHDArmory for a 500km load distance. I just wanted to make sure kOs will still function when I switch away from the craft before I take the time to learn a little bit. \u003C/p\u003E\u003Cp\u003EMy only dilemma now is, well... I was hoping the current version would by chance work for .25. Doesn\u0027t seem to be the case. There is no functionality. So I won\u0027t even bother asking how to trouble shoot, but I will ask if there\u0027s a kOs version I can get for .25?\u003C/p\u003E\u003Cp\u003EEdit: Nevermind. I see the github in the OP. There\u0027s alot going on there though, which one do I want for .25?\u003C/p\u003E\u003Cp\u003EEdit: Nevermind again, lol. I found one that works. But it seems the kOs script fails to control the craft when not being viewed. Im trying to watch my rockets fly to orbit with kOs only controlling staging. I start the script, but when I switch to my spectator craft the script runs, but fails to stage. Any work around?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-05T21:41:24Z\u0022 title=\u002202/05/2015 09:41  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 5, 2015\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-05T21:08:48Z","Content":"\n\u003Cp\u003EI can see that there are new orbital patches, and how many. I can see the kind of transfer (transition, escape, ...). But ETA:WHATEVER only seems to work with the current patch.\u003C/p\u003E\u003Cp\u003EHow would I place a node on the periapsis of the next patch?\u003C/p\u003E\u003Cp\u003EPossibly related: how do I work with any node that is not NEXTNODE, but some time later?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-05T22:31:45Z\u0022 title=\u002202/05/2015 10:31  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 5, 2015\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-05T23:45:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Motokid600\u0022 data-cite=\u0022Motokid600\u0022\u003E\u003Cdiv\u003EI\u0027m using BHDArmory for a 500km load distance. I just wanted to make sure kOs will still function when I switch away from the craft before I take the time to learn a little bit. \u003Cp\u003EMy only dilemma now is, well... I was hoping the current version would by chance work for .25. Doesn\u0027t seem to be the case. There is no functionality. So I won\u0027t even bother asking how to trouble shoot, but I will ask if there\u0027s a kOs version I can get for .25?\u003C/p\u003E\u003Cp\u003EEdit: Nevermind. I see the github in the OP. There\u0027s alot going on there though, which one do I want for .25?\u003C/p\u003E\u003Cp\u003EEdit: Nevermind again, lol. I found one that works. But it seems the kOs script fails to control the craft when not being viewed. Im trying to watch my rockets fly to orbit with kOs only controlling staging. I start the script, but when I switch to my spectator craft the script runs, but fails to stage. Any work around?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThis is a very important question: Is the craft on which kOS is \u0027failing\u0027 near the craft you are viewing, or is it far away from it? In stock KSP the magic range is about 2.5km (it varies slightly but it\u0027s about that much). Some mods can change this range. But regardless of what the range actually is, if the ship is past that range then KSP unloads all its parts and collapses the ship to just a dot in space, ready to reload the dot later.\u003C/p\u003E\u003Cp\u003ESo anyway, if the ship is in that state - where it\u0027s just a dot and doesn\u0027t fully exist, then there\u0027s just not much kOS can do about it. The base game prevents kOS from working in that state. \u003C/p\u003E\u003Cp\u003EOn the other hand, if the ship is closer than that and the script still isn\u0027t working, then there might be a bug.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-06T00:02:08Z","Content":"\n\u003Cp\u003EIt\u0027s a camera right next to the launch pad. I set everything up on the rocket, enable MJ guidance then run my staging program which gives me 12 seconds to switch to my camera. The script runs, but when it tries to stage all you hear is the click. It then runs through everything and ends. Works fine if I\u0027m viewing the rocket... Is there something I have to specify in my script?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Eprint \u002212\u0022. wait 1.\u003Cbr\u003Eprint \u002211\u0022. wait 1.\u003Cbr\u003Eprint \u002210\u0022. wait 1.\u003Cbr\u003Eprint \u00229\u0022. wait 1.\u003Cbr\u003Eprint \u00228\u0022. wait 1.\u003Cbr\u003Eprint \u00227\u0022. wait 1.\u003Cbr\u003Eprint \u00226\u0022. wait 1.\u003Cbr\u003E\u003Cbr\u003Estage.\u003Cbr\u003Eprint \u0022Ignition Start.\u0022.\u003Cbr\u003E\u003Cbr\u003Eprint \u00225\u0022. wait 1.\u003Cbr\u003Eprint \u00224\u0022. wait 1.\u003Cbr\u003Eprint \u00223\u0022. wait 1.\u003Cbr\u003Eprint \u00222\u0022. wait 1.\u003Cbr\u003Eprint \u00221\u0022. wait 1.\u003Cbr\u003E\u003Cbr\u003Estage.\u003Cbr\u003E\u003Cbr\u003Eprint \u0022Liftoff!\u0022.\u003Cbr\u003Ewait until stage:liquidfuel \u0026lt; 5.\u003Cbr\u003E\u003Cbr\u003Estage.\u003Cbr\u003Eprint \u0022Stage 1 separated.\u0022.\u003Cbr\u003Ewait 1.7.\u003Cbr\u003Estage.\u003Cbr\u003Eprint \u0022Stage 2 Ignition.\u0022.\u003Cbr\u003E\u003Cbr\u003Ewait 2.5.\u003Cbr\u003Estage.\u003Cbr\u003Eprint \u0022Interstage Seperation.\u0022.\u003Cbr\u003E//end program\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E// Staging program\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd im running kOs v15.3 if that\u0027s of any significance.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-06T00:06:42Z\u0022 title=\u002202/06/2015 12:06  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 6, 2015\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-06T00:05:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Motokid600\u0022 data-cite=\u0022Motokid600\u0022\u003E\u003Cdiv\u003EI start the script, but when I switch to my spectator craft the script runs, but fails to stage. Any work around?\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Steven Mading\u0022 data-cite=\u0022Steven Mading\u0022\u003E\u003Cdiv\u003EThis is a very important question: Is the craft on which kOS is \u0027failing\u0027 near the craft you are viewing, or is it far away from it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt might be something with KSP itself rather than kOS. I recently left a MechJeb-controlled craft to watch a piece debris; when I switched back, I found MJ had not staged in my absence, but it had initiated the turn. So it\u0027s not as if the vessel was totally uncontrolled, only the staging didn\u0027t work. As soon as I was watching the main vessel again, MJ quickly went through all outstanding stages (well, them both). \u003C/p\u003E\u003Cp\u003E@Motokid: could you put your staging condition into a loop that will be repeated again and again? Maybe also print a line whenever it\u0027s triggered. \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E...\u003Cbr\u003Ewait until stage:liquidfuel \u0026lt; 5.\u003Cbr\u003Euntil ship:mass \u0026lt; xyz {\u003Cbr\u003E stage. \u003Cbr\u003E print \u0022staging \u0022 \u002B round(missiontime).\u003Cbr\u003E wait 1.\u003Cbr\u003E}\u003Cbr\u003Eprint \u0022Stage 1 separated.\u0022.\u003Cbr\u003Ewait 1.7.\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWait until the vessel should have staged, the switch views and open the console. That way you could tell whether kOS is issuing \u0022stage\u0022 commands that fail to work, or if kOS does nothing at all.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-06T00:11:03Z\u0022 title=\u002202/06/2015 12:11  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 6, 2015\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-06T00:11:02Z","Content":"\n\u003Cp\u003E@Laie - See my post above. As you can see as it counts down from 12 I have a stage start the engines at 5 seconds. The script runs. It prints out what I specify, but when the staging command comes it fails and all you get is that click. Again this is without having the craft selected. I run the script then switch to my camera vessel. As for loops.. ive read into them, but it seems a bit too complicated for what I need kOs to do at the moment. I just need a few staging sequences and MJ will do the rest. Unless an alternate script can be used to make this work.\u003C/p\u003E\u003Cp\u003EEdit: I see the change you made there. Ill add that into my script the only thing is kOs doesn\u0027t get to that point It fails at the very first staging command. And what is it exactly when you say wait for the vessel to stage? Wait for the ignition stage \u003Cem\u003Ethen\u003C/em\u003E switch vessels? I tried. The next staging command to release the launch clamps fails.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-06T00:18:59Z\u0022 title=\u002202/06/2015 12:18  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 6, 2015\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2015-02-06T00:15:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Motokid600\u0022 data-cite=\u0022Motokid600\u0022\u003E\u003Cdiv\u003Ebut when the staging command comes it fails and all you get is that click. \u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYour script has lots of places where it issues a staging command. Could you be more specific about exactly which of them is the one that\u0027s just going \u0022click\u0022? (at which point during that script are you switching the camera to your second vessel?\u003C/p\u003E\u003Cp\u003E-----\u003C/p\u003E\u003Cp\u003E[EDIT - never mind. I see the problem. It\u0027s a bug and I\u0027ll report it. I don\u0027t normally do a lot of the actual flight control stuff, so I probably won\u0027t be the one to fix it, but you are absolutely correct that it doesn\u0027t correctly deal with the case where active vessel differs from the vessel the CPU is currently running on.]\u003C/p\u003E\u003Cp\u003EI just made an issue for it here: \u003Ca href=\u0022https://github.com/KSP-KOS/KOS/issues/548\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-KOS/KOS/issues/548\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf you absolutely need to do this, you could try to fiddle with the PartModules feature and find the \u0022decouple\u0022 event on the decoupler parts and activate them one by one, but that would probably be a bit ugly. It\u0027s probably better to wait for the official fix if you need this in the generic case.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-06T00:29:45Z\u0022 title=\u002202/06/2015 12:29  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 6, 2015\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-06T00:20:48Z","Content":"\n\u003Cp\u003E@Steven Mading - The very first stating command and then all of them fail as they come up wity just a click. I tried switching vessels right after I run the program in that 12 seconds I have set before liftoff. And I also tried letting kOs stage the ignition while viewing the vessel then switching to my camera. No go. The reason why there is so much staging commands is because its a SaturnV staging sequence. Ignition-Liftoff-Stage sep-ignition-interstage sep. my timing commands are specific so that the second stage engine fires just before the ulage motors deplete.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-02-06T00:29:47Z\u0022 title=\u002202/06/2015 12:29  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 6, 2015\u003C/time\u003E by Motokid600\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-06T00:37:07Z","Content":"\n\u003Cp\u003E@Motokid: see where my code says \u0022until ship:mass \u0026lt; xyz {\u0022? You need to replace xyz with a number that makes sense in your case: smaller than the vessel\u0027s mass before staging, but less than the weight after. Not knowing your ship, I just put xyz in that place.\u003C/p\u003E\u003Cp\u003E@Steven Madding: could you please also drop me a hint how I look into future patches and nodes? If it can\u0027t be done that\u0027s alright, at least I know that I can stop trying.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-06T00:45:05Z","Content":"\n\u003Cp\u003E@Kaie - But what would that do? The issue occurs long before that point at the first staging command when I switch vessels.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2015-02-06T01:17:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Motokid600\u0022 data-cite=\u0022Motokid600\u0022\u003E\u003Cdiv\u003E@Kaie - But what would that do? The issue occurs long before that point at the first staging command when I switch vessels.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFirst off, this is no about making your script work. This is about determining how exactly it fails.\u003C/p\u003E\u003Cp\u003EI don\u0027t know about ulage motors in KSP (and anyway, do you need them on the ground?), so I presume that this is role-playing stuff and your vessel will not lose any weight until after the first \u0022stage\u0022 command. If that is so, wrap your first staging in the following loop:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eset oldmass to ship:mass.\u003Cbr\u003Euntil ship:mass \u0026lt; oldmass {stage. print \u0022foo\u0022. wait 1.}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis will repeatedly stage, until the mass of the vessel finally decreases. If you hear a click every second, this is an indication that the script is working, but not the staging. If you switch vessels and see a screenful of \u0022foo\u0022, that\u0027s confirmation that the script itself is running.\u003C/p\u003E\u003Cp\u003EIt won\u0027t make kOS work for you, at least not today. But it\u0027s an important distinction whether kOS itself ceases working when you go away, or if it\u0027s the staging that\u0027s broken.\u003C/p\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-02-06T01:42:18Z","Content":"\n\u003Cp\u003EThanks Laie ill see what I can do to figure it out. In the meantime though.. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E If you hear a click every second, this is an indication that the script is working, but not the staging.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s exactly whats happening. Even when I switch to the other vessel ( which btw doesn\u0027t have a kOs part on it if that could be something. ). I hear the staging click when kOs is set to stage, but the staging itself fails. Whether or not that\u0027s exactly what your looking for to diagnose the problem im not sure.\u003C/p\u003E\n"}]}