{"TopicId":161146,"ForumId":69,"TopicTitle":"NullReferenceException saving game after mission","CreatedByName":"rmorrise","CreatedById":178138,"CreatedDateTime":"2017-05-27T05:17:05Z","PageNum":1,"Articles":[{"CreatedByName":"rmorrise","CreatedById":178138,"CreatedDateTime":"2017-05-27T05:17:05Z","Content":"\n\u003Cp\u003E\nAfter flying a mission, I am unable to save my game. When I click the button to confirm a quicksave, the UI gets stuck in a wierd state where I can\u0027t do anything, until I hit ESC again. If I click Exit to Desktop, nothing happens. (I also tried returning to space center or tracking station - nothing happens when I click those, either.)\n\u003C/p\u003E\n\u003Cp\u003E\nWhen I click save, I see a NullReferenceException. The output log was also getting spammed continuously with that \u0022root part drag cube\u0022 error message:\n\u003C/p\u003E\n\u003Cp\u003E\nOS, game version and other details listed at the bottom, after the stack trace.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n[FlightIntegrator]: Root part\u0027s drag cube is still zeroed!\u003Cbr\u003E\n\u00A0\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003C/p\u003E\n\u003Cp\u003E\nThe Miner Thing Mk I Relay Debris Unloaded\u003Cbr\u003E\n\u00A0\u003Cbr\u003E\n(Filename: C:/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 42)\n\u003C/p\u003E\n\u003Cp\u003E\nNullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0 at CompoundPart.GetReferenceTransform () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at ProtoPartSnapshot..ctor (.Part PartRef, .ProtoVessel protoVessel) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at ProtoVessel..ctor (.Vessel VesselRef) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at Vessel.Unload () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at Vessel.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0\u003Cbr\u003E\n(Filename: \u00A0Line: -1)\n\u003C/p\u003E\n\u003Cp\u003E\nNullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E\n\u00A0 at CompoundPart.GetReferenceTransform () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at ProtoPartSnapshot..ctor (.Part PartRef, .ProtoVessel protoVessel) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at ProtoVessel..ctor (.Vessel VesselRef) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at Vessel.BackupVessel () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at FlightState..ctor () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at Game.Updated () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at QuickSaveLoad.doSave (System.String filename) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at QuickSaveLoad.OnSaveAsClose (System.String saveName, Boolean pauseGame, .FinishedSaveLoadDialogCallback onSaveAsCloseReturn) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at QuickSaveLoad.ConfirmDialog (Boolean pauseGame, .FinishedSaveLoadDialogCallback onSaveAsCloseReturn) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at QuickSaveLoad\u002B\u0026lt;SpawnSaveAsDialog\u0026gt;c__AnonStorey15F.\u0026lt;\u0026gt;m__1FC () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at DialogGUIButton.OptionSelected () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at DialogGUIButton.\u0026lt;Create\u0026gt;m__6FD () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.Events.InvokableCall.Invoke (System.Object[] args) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.Events.InvokableCallList.Invoke (System.Object[] parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.Events.UnityEventBase.Invoke (System.Object[] parameters) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.Events.UnityEvent.Invoke () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.UI.Button.Press () [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.UI.Button.OnPointerClick (UnityEngine.EventSystems.PointerEventData eventData) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.EventSystems.ExecuteEvents.Execute (IPointerClickHandler handler, UnityEngine.EventSystems.BaseEventData eventData) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\n\u00A0 at UnityEngine.EventSystems.ExecuteEvents.Execute[IPointerClickHandler] (UnityEngine.GameObject target, UnityEngine.EventSystems.BaseEventData eventData, UnityEngine.EventSystems.EventFunction\u00601 functor) [0x00000] in \u0026lt;filename unknown\u0026gt;:0\u00A0\u003Cbr\u003E\nUnityEngine.DebugLogHandler:Internal_LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.DebugLogHandler:LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.Logger:LogException(Exception, Object)\u003Cbr\u003E\nUnityEngine.Debug:LogException(Exception)\u003Cbr\u003E\nUnityEngine.EventSystems.ExecuteEvents:Execute(GameObject, BaseEventData, EventFunction\u00601)\u003Cbr\u003E\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMousePress(MouseButtonEventData)\u003Cbr\u003E\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMouseEvent(Int32)\u003Cbr\u003E\nUnityEngine.EventSystems.StandaloneInputModule:ProcessMouseEvent()\u003Cbr\u003E\nUnityEngine.EventSystems.StandaloneInputModule:Process()\u003Cbr\u003E\nUnityEngine.EventSystems.EventSystem:Update()\n\u003C/p\u003E\n\u003Cp\u003E\n-------------------------------\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ESystem/game specs:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWindows 10 x64 (launched with 64-bit version option) on Steam. Updated 05/27/2017.\n\u003C/p\u003E\n\u003Cp\u003E\nNo game mods installed.\n\u003C/p\u003E\n\u003Cp\u003E\n[config]\u003Cbr\u003E\nbuild id = 01804\u003Cbr\u003E\n2017.05.25 at 19:56:39 CEST\u003Cbr\u003E\nBranch: master\u003Cbr\u003E\nlanguage = en-us\n\u003C/p\u003E\n\u003Cp\u003E\nRelated files:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/sh/kw9bhc2idmlfmtb/AADPOFJcDKU4dyEn7vGsEihga?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/sh/kw9bhc2idmlfmtb/AADPOFJcDKU4dyEn7vGsEihga?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSince I am prevented from saving the game, I don\u0027t have a save that demonstrates the issue.\u00A0I will include\u00A0the latest save game file that I have.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EDetails of the game session:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n1) Chatted on Steam in-game overlay\n\u003C/p\u003E\n\u003Cp\u003E\n2) Went to tracking station\n\u003C/p\u003E\n\u003Cp\u003E\n3) Launched using auto-saved ship\n\u003C/p\u003E\n\u003Cp\u003E\n4) Grabbed the asteroid that is already in orbit around Kerbin (and has another ship attached to it)\n\u003C/p\u003E\n\u003Cp\u003E\n5) Mined with both drills until storage tank is full\n\u003C/p\u003E\n\u003Cp\u003E\n6) Separated and returned to Kerbin\n\u003C/p\u003E\n\u003Cp\u003E\n7) Ran atmospheric experiments in upper atmosphere over polar ice cap\n\u003C/p\u003E\n\u003Cp\u003E\n7) Successful landing on polar ice cap\n\u003C/p\u003E\n\u003Cp\u003E\nNote: In some ship stages, manual activation of the engine is required, due to weird behavior during stage separation. Sometimes I have to cycle through debris using square bracket keys to get control of the next stage.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI was not able to quickly reproduce the issue with a fresh launch.\n\u003C/p\u003E\n\u003Cp\u003E\nSave game files are from an older version (maybe a\u00A0originally started maybe 6 months ago; last save is maybe a month or two old - not sure how to check which version).\n\u003C/p\u003E\n\u003Cp\u003E\nAfter force-closing and restarting the game, I was able to start a mission with the auto-saved ship and exit the game normally.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-05-27T05:18:49Z\u0022 title=\u002205/27/2017 05:18  AM\u0022 data-short=\u00227 yr\u0022\u003EMay 27, 2017\u003C/time\u003E by rmorrise\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2017-05-27T23:43:49Z","Content":"\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83213-stock-support-bug-reporting-guide/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"rmorrise","CreatedById":178138,"CreatedDateTime":"2017-05-31T00:32:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223070493\u0022 data-ipsquote-contentid=\u0022161146\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221495928629\u0022 data-ipsquote-userid=\u0022114736\u0022 data-ipsquote-username=\u0022JPLRepo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/27/2017 at 7:43 PM, JPLRepo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/83213-stock-support-bug-reporting-guide/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:rgb(255,255,255);\u0022\u003E\u00A0If you feel there is some piece of information I forgot, \u00A0please point out what it is and I will be happy to provide it. I read the guide before posting and provided as much information as I was able.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:rgb(255,255,255);\u0022\u003EI tried to rep the issue and could not. \u00A0Since I gave you a stack trace from the menu interaction that caused the problem, it should hopefully\u00A0not be an issue.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:rgb(255,255,255);\u0022\u003EIf you want to look at the call stack and give me a hint what missing piece of data might have caused it, I would be happy to test again and try to pin it down. If the game is open source, \u00A0ping me the SCM link and I can look at the code, too\u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n"},{"CreatedByName":"istiophorus","CreatedById":180099,"CreatedDateTime":"2017-07-24T17:49:45Z","Content":"\n\u003Cp\u003E\nI get exactly the same problem.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nDo you have any parts within parts (as I do), in your Vessel? As I only get the same\u00A0error: \u0022\u003Cspan style=\u0022color:#272a34;\u0022\u003E[FlightIntegrator]: Root part\u0027s drag cube is still zeroed!\u0022,\u003C/span\u003E \u00A0with my Apollo 11 recreation where I have put rocket fuel into my command pod by means of shift\u002B wasdqe keys.\n\u003C/p\u003E\n"}]}