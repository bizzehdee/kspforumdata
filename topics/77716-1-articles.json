{"TopicId":77716,"ForumId":16,"TopicTitle":"docking woes: navball parallax error","CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-15T15:27:32Z","PageNum":1,"Articles":[{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-15T15:27:32Z","Content":"\n\u003Cp\u003EWhile assembling my Jool-5 mission, I hit a nasty snag pretty early: somehow, the game has trouble with my landers\u0027 main docking port. The port itself works, however, I have to align it visually: if I rely on the navball, I\u0027ll be off by a few meters.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.schnobs.de/stuff/parallax.png\u0022 alt=\u0022parallax.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESorry about the lighting, but the key elements are visible. The target marker should be at least 20\u00C3\u201A\u00C2\u00B0 off-center. Here\u0027s the rover during field trials (the port in question is below the lab, between the outriggers):\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.schnobs.de/stuff/labrover.png\u0022 alt=\u0022labrover.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EAs you can see, there\u0027s a pod above one engine and a probe core above the other. The navball acts as if it was controlled from the probe core, or at any rate that\u0027s the offset I\u0027m getting. You can believe me that I quintuple-checked which part I\u0027m controlling from.\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EIt seems that this is just how it is, at least for more complicated craft with ports on protruding bits. Only solution is to dock visually.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-15T18:35:21Z\u0022 title=\u002207/15/2014 06:35  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 15, 2014\u003C/time\u003E by Laie\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Oafman","CreatedById":110386,"CreatedDateTime":"2014-07-15T15:33:26Z","Content":"\n\u003Cp\u003EI assume that if you set control from the probe it doesn\u0027t actually set your control as being from the docking port?!\u003C/p\u003E\u003Cp\u003EI mean, it doesn\u0027t just have them switched around for some reason?\u003C/p\u003E\u003Cp\u003EAs a solution, you could just install one of the excellent docking mods, and ignore the navball. If you\u0027re not keen on using such aids, you could use it just for this instance where a bug is making non-modded docking very difficult.\u003C/p\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2014-07-15T15:34:18Z","Content":"\n\u003Cp\u003EThe pink marker indicates the heading directly toward the target, not the alignment of the port.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-15T15:47:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Oafman\u0022 data-cite=\u0022Oafman\u0022\u003E\u003Cdiv\u003EI assume that if you set control from the probe it doesn\u0027t actually set your control as being from the docking port?!\u003Cp\u003EI mean, it doesn\u0027t just have them switched around for some reason?\u003C/p\u003E\u003Cp\u003EAs a solution, you could just install one of the excellent docking mods, and ignore the navball. If you\u0027re not keen on using such aids, you could use it just for this instance where a bug is making non-modded docking very difficult.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use NavyFish\u0027s excellent and lightweight \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/43901-0-22-Docking-Port-Alignment-Indicator-%28Version-2-2-Updated-10-27-13%29\u0022 rel=\u0022external nofollow\u0022\u003EDocking Port Alignment Indicator\u003C/a\u003E, which automatically shows a list of all docking ports on your target once your within physics range. It can be a little counterintuitive if you don\u0027t watch the video first \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 you\u0027re moving the white crosshairs to the mark, not the other way around.\u003C/p\u003E\u003Cp\u003EMany people prefer Romfarer\u0027s \u003Ca href=\u0022http://www.curse.com/ksp-mods/kerbal/220272-lazor-docking-cam\u0022 rel=\u0022external nofollow\u0022\u003ELazor System Docking Cam\u003C/a\u003E, which shows a black-and-white view from the perspective of your docking port.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Alshain\u0022 data-cite=\u0022Alshain\u0022\u003E\u003Cdiv\u003EThe pink marker indicates the heading directly toward the target, not the alignment of the port.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESpecifically, the target\u0027s center of mass, which works well enough as long as the target docking port is aligned with it along two axes.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-15T15:50:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Oafman\u0022 data-cite=\u0022Oafman\u0022\u003E\u003Cdiv\u003EAs a solution, you could just install one of the excellent docking mods, and ignore the navball. If you\u0027re not keen on using such aids, you could use it just for this instance where a bug is making non-modded docking very difficult.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAny suggestions? Though I somehow expect that they won\u0027t help. They need to get their assumptions about the docking port alignment from *somewhere*, after all. If they rely on the same source of information as the navball, they\u0027d be just as wrong.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Alshain\u0022 data-cite=\u0022Alshain\u0022\u003E\u003Cdiv\u003EThe pink marker indicates the heading directly toward the target, not the alignment of the port.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes it look as if either port was pointed at the other?\u003C/p\u003E\n"},{"CreatedByName":"ArmchairGravy","CreatedById":78526,"CreatedDateTime":"2014-07-15T15:54:06Z","Content":"\n\u003Cp\u003EDo it visually is my recommendation. Navball only gives you info on 2 dimensions, and you need to use all 3. Also, putting the ports into North/South orientation (if you\u0027re in an equatorial orbit) will help.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-15T15:57:06Z\u0022 title=\u002207/15/2014 03:57  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 15, 2014\u003C/time\u003E by ArmchairGravy\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Oafman","CreatedById":110386,"CreatedDateTime":"2014-07-15T16:05:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EAny suggestions?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMaster Tao gave you the 2 popular options. I use the Lazor cam, because I think the video stream from the docking port looks cool. But Navyfish\u0027s mod looks excellent too.\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EThough I somehow expect that they won\u0027t help. They need to get their assumptions about the docking port alignment from *somewhere*, after all. If they rely on the same source of information as the navball, they\u0027d be just as wrong.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPossibly. I hope not.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-15T16:17:47Z","Content":"\n\u003Cp\u003EDPAI correctly gives your position and orientation based on the target docking port and the controlling docking port. I can usually set up docking with any port with this station from 1 km out, making slight corrections on the way in:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jXDBdM7.jpg\u0022 alt=\u0022jXDBdM7.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Random Tank","CreatedById":104325,"CreatedDateTime":"2014-07-15T16:21:35Z","Content":"\n\u003Cp\u003EI love it when someone has a problem, loads of people say: add this mod to make it easier! It\u0027s a stock problem, and can be solved very easily in stock.\u003C/p\u003E\u003Cp\u003EI\u0027ve had this problem a couple of times, and I have no idea what causes it; fourtunately, this misalignment only becomes an issue when you get close to the target, (so I agree with ArmchairGravy) which at this point you can just dock by eye. Keep checking all 3 angle (up down, left right and forward backward) by rotating the camera; strafe is your friend, use the \u0027I J K L H and N\u0027 keys to strafe; also, I wouldn\u0027t recommend switching to docking mode, as this prevent you from controlling the crafts rotation, so just stick with staging mode. Keep practising docking by eye, and you\u0027ll get used to it in no time, without needing a docking mod!\u003C/p\u003E\n"},{"CreatedByName":"Alshain","CreatedById":110959,"CreatedDateTime":"2014-07-15T16:22:29Z","Content":"\n\u003Cp\u003EThere is also \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/54303-0-23-5-Navball-docking-alignment-indicator-v3\u0022 rel=\u0022external nofollow\u0022\u003ENavball docking alignment indicator\u003C/a\u003E which helps a with rotation and direction but not actual alignment (left, right, up, down, in front of, or behind). It\u0027s more or less what your trying to do already. It\u0027s not as powerful as DPAI but I use it to find the initial direction of the port and then use DPAI to do the final maneuvers. Finding the orange ball on DPAI is a lot harder in my opinion.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EDoes it look as if either port was pointed at the other?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI really can\u0027t tell from that image. There is an optical illusion factor to consider.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-15T16:29:13Z\u0022 title=\u002207/15/2014 04:29  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 15, 2014\u003C/time\u003E by Alshain\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-07-15T16:31:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EDoes it look as if either port was pointed at the other?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003EThe target indicator actually points at the CoM of the target vehicle, not the targetted docking-port.\u003C/strong\u003E Navyfish\u0027s Docking Alignment mod and the lightweight NavballDockingAlignmentIndicator (which I use but wish would get an abbreviation ^^) correct this and not only show you which WAY to point but which ORIENTATION you need - eg; you might need to MOVE right but FACE up, or some such.\u003C/p\u003E\u003Cp\u003EHOWEVER:- While these correct for the position/rotation of the targetted docking port they do not correct for the offset of the controlled docking port from your CoM. IE; I have a tractor vehicle with docking-ports on outriggers some metres from the centreline - the indicator orientates me fine (facing) but tries to get me to dock the nose of the cockpit, instead of the docking port, into alignment. It is possible that this has been corrected in a later version than I\u0027m using (hmm, doesn\u0027t seem to have a version number on it) - I\u0027ll be happy if someone knows if it has.\u003C/p\u003E\u003Cp\u003EETA for Alshain\u0027s post just above. I find the navball indicator alone sufficient because you still have the target position from the pink circle.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-15T16:35:45Z\u0022 title=\u002207/15/2014 04:35  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 15, 2014\u003C/time\u003E by Pecan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-15T16:47:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Random Tank\u0022 data-cite=\u0022Random Tank\u0022\u003E\u003Cdiv\u003E... I wouldn\u0027t recommend switching to docking mode, as this prevent you from controlling the crafts rotation, so just stick with staging mode. Keep practising docking by eye, and you\u0027ll get used to it in no time, without needing a docking mod!\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn docking mode, press the spacebar to switch between translation and rotation controls. I prefer to dock two handed, especially when visually docking, but that stopped being enjoyable for me with 20 m misalignments caused by the navball.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pecan\u0022 data-cite=\u0022Pecan\u0022\u003E\u003Cdiv\u003EWhile these correct for the position/rotation of the targetted docking port they do not correct for the offset of the controlled docking port from your CoM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs I posted on the previous page, DPAI does fix that problem. It correctly shows relative alignment to the target docking port, not the CoM.\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2014-07-15T17:01:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Master Tao\u0022 data-cite=\u0022Master Tao\u0022\u003E\u003Cdiv\u003E...As I posted on the previous page, DPAI does fix that problem. It correctly shows relative alignment to the target docking port, not the CoM.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAnd as I noted, while it corrects for the TARGET, it doesn\u0027t correct for the CONTROLLED ship.\u003C/p\u003E\u003Cp\u003EETA: for Master Tao below - ahh good. The NavballDockingAlignmentIndicator is derived from Navyfish\u0027s but doesn\u0027t make that adjustment. I may have to switch, which is a pity because I like the minimalism. Thanks for the information anyway.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-07-15T17:08:49Z\u0022 title=\u002207/15/2014 05:08  PM\u0022 data-short=\u00229 yr\u0022\u003EJuly 15, 2014\u003C/time\u003E by Pecan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-15T17:06:04Z","Content":"\n\u003Cp\u003ESorry, I misread that part of your post. DPAI does also correct for the controlled ship \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 you just have to select \u0022Control from Here\u0022 on your docking port; otherwise, it will be relative to your root part (usually the command pod).\u003C/p\u003E\n"},{"CreatedByName":"Lheim","CreatedById":62665,"CreatedDateTime":"2014-07-15T17:16:52Z","Content":"\n\u003Cp\u003EI\u0027ll pop in to say I\u0027ve had the same issue with the inline clampotron part. I\u0027ll line things up perfectly by the navball, but be a meter or so offset in reality - almost as if it\u0027s using the end of the piece, instead of the docking port.\u003C/p\u003E\n"},{"CreatedByName":"EdFred","CreatedById":108599,"CreatedDateTime":"2014-07-15T17:34:38Z","Content":"\n\u003Cp\u003EOrrrrrrrrrrrr.....\u003C/p\u003E\u003Cp\u003ESwitch vessels, and control from here/set target on the docking ports in question, and rotate both craft to align them correctly. Where is it written that you can never rotate the vehicle being docked to?\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-15T17:38:55Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Random Tank\u0022 data-cite=\u0022Random Tank\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027ve had this problem a couple of times, and I have no idea what causes it;\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUpon further investigation... it appears that the direction to target is always given relative to the root part of the ship (1). Which, in my case, is the Lab, which lines up nicely with the docking port, so it works fine. The first time. \u003Cstrong\u003EBUT:\u003C/strong\u003E once I\u0027ve docked and undocked, the game apparently picks a command module for a new root part. I\u0027ve got several, but none of them line up with any docking port.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Random Tank\u0022 data-cite=\u0022Random Tank\u0022\u003E\u003Cdiv\u003E fourtunately, this misalignment only becomes an issue when you get close to the target, (so I agree with ArmchairGravy) which at this point you can just dock by eye.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs Alshain says, perspective can be a real spoilsport. I guess I\u0027ll try the docking cam.\u003C/p\u003E\u003Cp\u003E(1) probably not quite the right way to put it. The general direction (whether it\u0027s forward, behind, or whatever) comes from where the docking port is pointed, but.. nah. Lacking words, I\u0027ll post a picture:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://ksp.schnobs.de/stuff/parallax2.png\u0022 alt=\u0022parallax2.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ETarget is the docking port on a stick. For the perspectively impaired, it\u0027s actually a bit behind the three forward-facing ports on the lander. I can control the lander from either of the three ports or the command seat and they all will tell me that the target is at (approx) 200\u00C3\u201A\u00C2\u00B0/-30\u00C3\u201A\u00C2\u00B0 -- some ports are mounted upside-down, so they tell me the sky is below and the target marker is in the upper left rather than lower right. But it\u0027s still at 200/-30.\u003C/p\u003E\u003Cp\u003EI\u0027ve got corresponding ports on the other side. They tell me that they\u0027re pointed due north, and show a target_retrograde marker at 20/\u002B30.\u003C/p\u003E\n"},{"CreatedByName":"Laie","CreatedById":110461,"CreatedDateTime":"2014-07-15T18:01:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Pecan\u0022 data-cite=\u0022Pecan\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003EThe target indicator actually points at the CoM of the target vehicle, not the targetted docking-port.\u003C/strong\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E(Buzz sound) WRONG!\u003C/p\u003E\u003Cp\u003EI refrain from posting more pictures, but the above setup has more than enough docking ports to pick as targets, I had the situation still open and could just do a few tests. It appears that the navball is correctly pointing \u003Cstrong\u003ETO\u003C/strong\u003E the target, but it\u0027s not pointing \u003Cstrong\u003EFROM\u003C/strong\u003E the port you\u0027re controlling with.\u003C/p\u003E\u003Cp\u003EAs long as your port and your root part line up, this works as intended. Not 100% sure about the root part, though -- it appears to be the root part when the vessel rolls out of the SPH/VAB; and some command module after the first undocking. Though for all I know, the game could completely restructure your ship upon undocking, so the command module may actually be the root part.\u003C/p\u003E\u003Cp\u003EI\u0027m reasonably sure that the CoM has no part in this. In my example picture, the lander CoM is slightly lower than the monoprop tanks. I wouldn\u0027t get a reading of 30 degrees down if it was based on CoM.\u003C/p\u003E\n"},{"CreatedByName":"Master Tao","CreatedById":110410,"CreatedDateTime":"2014-07-15T21:21:25Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Laie\u0022 data-cite=\u0022Laie\u0022\u003E\u003Cdiv\u003EIt appears that the navball is correctly pointing \u003Cstrong\u003ETO\u003C/strong\u003E the target, but it\u0027s not pointing \u003Cstrong\u003EFROM\u003C/strong\u003E the port you\u0027re controlling with.\u003Cp\u003EAs long as your port and your root part line up, this works as intended. Not 100% sure about the root part, though -- it appears to be the root part when the vessel rolls out of the SPH/VAB; and some command module after the first undocking. Though for all I know, the game could completely restructure your ship upon undocking, so the command module may actually be the root part.\u003C/p\u003E\u003Cp\u003EI\u0027m reasonably sure that the CoM has no part in this. In my example picture, the lander CoM is slightly lower than the monoprop tanks. I wouldn\u0027t get a reading of 30 degrees down if it was based on CoM.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELook at that \u00C3\u00A2\u00E2\u201A\u00AC\u00E2\u20AC\u0153 you answered your own question better than we did. Everything I\u0027ve ever read here was that it was CoM offset, but it\u0027s the controlled ship\u0027s root part. Changing the controlling port changes orientation, but as if it were at the root part\u0027s location. Changing the targetted port works as expected.\u003C/p\u003E\u003Cblockquote lang=\u0022en\u0022\u003E\u003Ca href=\u0022//imgur.com/a/qIN5Z\u0022 rel=\u0022external nofollow\u0022\u003EJavascript is disabled. View full album\u003C/a\u003E\u003C/blockquote\u003E\n"}]}