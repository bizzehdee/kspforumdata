{"TopicId":191416,"ForumId":70,"TopicTitle":"Intermittent crashes. ERROR: SymGetSymFromAddr64, GetLastError: \u0026#039;Attempt to access invalid address.\u0026#039;","CreatedByName":"DeliriumTrigger","CreatedById":184699,"CreatedDateTime":"2020-02-04T20:15:04Z","PageNum":1,"Articles":[{"CreatedByName":"DeliriumTrigger","CreatedById":184699,"CreatedDateTime":"2020-02-04T20:15:04Z","Content":"\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cdiv\u003E\n\u003Cstrong\u003EKSP:\u003C/strong\u003E 1.8.1 Windows 64bit\n\u003Cp\u003E\n\u003Cstrong\u003EProblem:\u003C/strong\u003E Intermittent crashes\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EMods installed:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n000_ClickThroughBlocker\n000_Toolbar\n001_ToolbarControl\nAntennaHelper\nAtmosphereAutopilot\nB9PartSwitch\nBasicProceduralTextures\nChatterer\nCommunityResourcePack\nCustomPreLaunchChecks\nDecouplerShroud\nDistantObject\nDKSalvage\nDMagicScienceAnimate\nEasyVesselSwitch\nEngineLightRelit\nEnvironmentalVisualEnhancements\nEveEngines\nFirespitter\nGravityTurn\nJNSQ\nJX2Antenna\nKAS\nKerbalEngineer\nKerbalHacks\nKerbalKonstructs\nKerboKatz\nKIS\nKopernicus\nKS3P\nKSP-AVC\nMechJeb2\nMiningExpansion\nMk2Expansion\nMk3Expansion\nModularFlightIntegrator\nMunarIndustries\nNavyFish\nNereid\nOSSNTR\nPlanetShine\nPreciseManeuver\nProceduralParts\nRaginCaucasian\nRationalResources\nRCSBuildAid\nRealChute\nReStock\nReStockPlus\nS.A.V.E.dat\nSCANsat\nscatterer\nScience-Full-Reward\nSquad\nSquadExpansion\nStageRecovery\nSunflaresOfMaar\nSurfaceLights\nTextureReplacer\nTrackingStationEvolved\nTriggerTech\nWaypointManager\nZeroMiniAVC\n[x] Science!\n\n\n\nJNSQ_SUN_boost.cfg\nModuleManager.4.1.3.dll\nModuleManager.ConfigCache\nModuleManager.ConfigSHA\nModuleManager.Physics\nModuleManager.TechTree\nModuleManagerLicense.md\ntoolbar-settings.dat\n\u003C/pre\u003E\n\u003Cstrong\u003EReproduction steps:\u003C/strong\u003E\n\u003Cp\u003E\nHard to reproduce.\u00A0 Happens mostly on scene changes, latest incident was while zooming out from Jool in map view.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003ELog:\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/12VFyb2xX-jOH44Qzv-ByrCghGDNR1hOr/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003EPlayer.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://drive.google.com/file/d/1wtXuaOLBFY6MghPTsN7NUoVxhR0Aen9y/view?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Eerror.log\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nHappy to provide any other logs, crash dumps, etc.\u00A0 Just let me know.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-02-04T20:21:18Z\u0022 title=\u002202/04/2020 08:21  PM\u0022 data-short=\u00224 yr\u0022\u003EFebruary 4, 2020\u003C/time\u003E by nanobug\u003C/strong\u003E\n\u003Cbr\u003EFixed player.log link\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-02-04T21:13:24Z","Content":"\n\u003Cp\u003E\nWell, the technical details (for reference) is that you got an Access Violation after some entering and exiting Scenes (you switched Flight and Trackstation a lot of times, what hints me you were in the middle of some long range mission! Sorry for that....)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nUnityPlayer.dll caused an Access Violation (0xc0000005)\n  in module UnityPlayer.dll at 0033:1f6921fd.\n\u003C/pre\u003E\n\u003Cp\u003E\nThe novelty is that the crash happened on a completely new way (that I had knowledge of):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nStack Trace of Crashed Thread 6544:\n0x00007FFB1F6921FD (UnityPlayer) UnityMain\n0x00007FFB1F68FED5 (UnityPlayer) UnityMain\n0x00007FFB1F8B1279 (UnityPlayer) PAL_Thread_YieldExecution\n0x00000212D7CE294A (UnityEngine.CoreModule) UnityEngine.Mesh.Internal_Create()\n0x00000212D7CE28BB (UnityEngine.CoreModule) UnityEngine.Mesh..ctor()\n0x00000212D7CE2323 (Assembly-CSharp) TMPro.TextMeshProUGUI.Awake()              \u0026lt;--- Here!\n0x00000212BEA0DB70 (mscorlib) System.Object.runtime_invoke_void__this__()\n0x00007FFB1E94BC80 (mono-2.0-bdwgc) mono_get_runtime_build_info\n0x00007FFB1E8D1D92 (mono-2.0-bdwgc) mono_perfcounters_init\n0x00007FFB1E8DAD8F (mono-2.0-bdwgc) mono_runtime_invoke\n0x00007FFB1F81B19D (UnityPlayer) PAL_Thread_YieldExecution\n\u0026lt;.....\u0026gt;\u003C/pre\u003E\n\u003Cp\u003E\nTextMeshPro is a tool KSP uses for rendering text on the screen, and it\u0027s widely used by Unity projects (and not only KSP). While this doesn\u0027t rules out a bug, it makes it somewhat improbable. And stressing again, you entered and exited TrackStation a lot of times, this didn\u0027t happened the first scene changing - it\u0027s not a trivial or obvious bug.\n\u003C/p\u003E\n\u003Cp\u003E\nAccess Violations can also happens when you have bad memory, or something is corrupting the swapfile on the disk. So, before applying for a bug report on Squad\u0027s bug tracker (only them can really understand properly all this stackdump, as only them have access to the full source code!), do as follows:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nCheck your Hard Disk/SDD health\n\u003Cul\u003E\u003Cli\u003E\nThere\u0027s a thing called SMART, that tells you how the storage device is behaving.\n\u003C/li\u003E\n\u003Cli\u003E\nLook for ECC/checksum errors\n\u003C/li\u003E\n\u003Cli\u003E\nCheck the remaining lifespan (specially important for SDDs).\n\u003C/li\u003E\n\u003Cli\u003E\nIf you find any errors,\u00A0\u003Cstrong\u003Ereplace the storage as fast as your wallet allows\u003C/strong\u003E, your storage is near end of life.\n\u003C/li\u003E\n\u003Cli\u003E\nAfter being assured the storage is healthy, run a \u003Ca href=\u0022https://neosmart.net/wiki/chkdsk/\u0022 rel=\u0022external nofollow\u0022\u003Echkdsk\u003C/a\u003E\u00A0\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nCheck your main memory\n\u003Cul\u003E\u003Cli\u003E\nUse \u003Ca href=\u0022https://www.memtest86.com\u0022 rel=\u0022external nofollow\u0022\u003Ememtest\u003C/a\u003E or similar.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nCheck your video card (just in case, these things has memory too)\n\u003Cul\u003E\u003Cli\u003E\nTry \u003Ca href=\u0022https://www.ocbase.com\u0022 rel=\u0022external nofollow\u0022\u003EOCCT\u003C/a\u003E. (I don\u0027t know how to use it, I use a Mac)\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nMy Mac once crashed on an Access Violation too, I\u0027m using a cheap SDD as boot device and I stupidly used it for the swapfile. After changing the swapfile to the HDD, the machine (obviously) became a little slower, but I had no more crashes by Access Violations since them. It\u0027s a long shot, but it may help you on diagnosing your issue - use an HDD for the swapfile if you can and see what happens.\n\u003C/p\u003E\n\u003Cp\u003E\nIf everything above checks OK, you will need help from Squad. Had this ever happened on a unmodded KSP instalment?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DeliriumTrigger","CreatedById":184699,"CreatedDateTime":"2020-02-04T21:31:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223736401\u0022 data-ipsquote-contentid=\u0022191416\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221580850804\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 minutes ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0026lt;snip\u0026gt;\n\u003C/p\u003E\n\u003Cp\u003E\nMy Mac once crashed on an Access Violation too, I\u0027m using a cheap SDD as boot device and I stupidly used it for the swapfile. After changing the swapfile to the HDD, the machine (obviously) became a little slower, but I had no more crashes by Access Violations since them. It\u0027s a long shot, but it may help you on diagnosing your issue - use an HDD for the swapfile if you can and see what happens.\n\u003C/p\u003E\n\u003Cp\u003E\nIf everything above checks OK, you will need help from Squad. Had this ever happened on a unmodded KSP instalment?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNever had this problem with unmodded, or previous versions of KSP for that matter.\u00A0 It\u0027s only been an issue in KSP 1.8.1 (never tried 1.8.0), which leads me to believe it\u0027s not hardware.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSMART check comes back fine, and I know the video card is good because it\u0027s less than 3 months old and I put it through a rigorous round of testing when determining how far it could overclock.\u00A0 It\u0027s not overclocked since I only do that when the video card is starting to get a bit long in the tooth, but I already know the memory on it is fine and that the thermals are well within limits.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ll still check the RAM, though I would be fairly surprised to find out that my non-overclocked DDR3-1600 RAM suddenly developed an issue that only affects a specific version of Kerbal Space Program.\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for the help.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222020-02-04T21:32:22Z\u0022 title=\u002202/04/2020 09:32  PM\u0022 data-short=\u00224 yr\u0022\u003EFebruary 4, 2020\u003C/time\u003E by nanobug\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2020-02-04T21:42:37Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223736414\u0022 data-ipsquote-contentid=\u0022191416\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221580851892\u0022 data-ipsquote-userid=\u0022184699\u0022 data-ipsquote-username=\u0022nanobug\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, nanobug said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nNever had this problem with unmodded, or previous versions of KSP for that matter.\u00A0 It\u0027s only been an issue in KSP 1.8.1 (never tried 1.8.0), which leads me to believe it\u0027s not hardware.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think you will find a bugged Add\u0027On, it\u0027s more likely you will find a poor victim walking on the mine field and getting the blame \u003Cspan\u003E\u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0but this is what I do to find the source or the trigger of the problem:\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E* Delete half of the Add\u0027Ons (make sure to do not delete any dependencies from the other half)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E* Try to reproduce the problem\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E* Put back that half, delete the other half\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E* Try to reproduce the problem.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EOn the half that triggered the problem, split it in half, goto step 1.\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EDo it until you find the thingy that triggers the problem. (We call this a Binary Tree Search).\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003EThen post it here, with some luck someone else can\u00A0recognise\u00A0the pattern and hint us with some more info.\u003C/span\u003E\n\u003C/p\u003E\n"}]}