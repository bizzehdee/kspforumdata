{"TopicId":202947,"ForumId":51,"TopicTitle":"Snarkiverse meets Principia","CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-06-09T10:40:52Z","PageNum":1,"Articles":[{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-06-09T10:40:52Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/175039-*\u0022 rel=\u0022\u0022\u003ESnarkiverse\u003C/a\u003E (for those unfortunate enough not to have seen it) puts the stock KSP bodies in interesting orbits\u003Cbr\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/162200-*\u0022 rel=\u0022\u0022\u003EPrincipia\u003C/a\u003E simulates the Newtonian mechanics of orbits, rather than using the patched-conic approximation.\n\u003C/p\u003E\n\u003Cp\u003E\nThis raises several interesting questions:\n\u003C/p\u003E\n\u003Cp\u003E\n\u002B Mun passes very close over \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E\u003C/abbr\u003E every second day. Does this give noticeable advantage to well-timed launches (like launching at high tide)?\n\u003C/p\u003E\n\u003Cp\u003E\n\u002B Pol orbits very near Duna. \u00A0Will she break up under tidal forces?\n\u003C/p\u003E\n\u003Cp\u003E\n\u002B Eeloo orbits Jool in an resonance to avoid Val. \u00A0Will the two planets play nice?\n\u003C/p\u003E\n\u003Cp\u003E\n\u002B Dres orbits the sun closely parallel to Kerbin (possible in the stock KSP approximation)\u00A0to give an interplanetary journey different to all others. \u00A0Can we design an orbit, maybe like that of Cruithne near Earth, that captures the spirit of Snarkiverse with Dres?\n\u003C/p\u003E\n\u003Cp\u003E\nInvestigations welcome. \u00A0\u003Cbr\u003E\nI will gradually report investigations into these questions, in posts below,\u003Cbr\u003E\nand build a Module Manager patch to adapt Snarkiverse to Principia:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eprincipia_numerics_blueprint\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003ENEEDS\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EPrincipia\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ESnarkiverse\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E]\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 ephemeris \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// Leave the default integrator in place\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 fixed_step_size_integrator \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E BLANES_MOAN_2002_SRKN_14A\n\u00A0 \u00A0 \u00A0 \u00A0 integration_step_size \u00A0 \u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E2\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E min \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//default 35 min\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 fitting_tolerance \u00A0 \u00A0 \u00A0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E mm \u00A0\u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// default is 1 mm\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 geopotential_tolerance \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0x1\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0p\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E-\u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E24\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E// default is 2^-24\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u00A0 \u00A0 \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}}\u003C/span\u003E\u003C/pre\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-09T10:43:52Z\u0022 title=\u002206/09/2021 10:43  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 9, 2021\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003Cbr\u003Einclude a starting-point Module Manager patch so Principia is numerically stable with Snarkiverse\n\u003C/span\u003E\n"},{"CreatedByName":"Spaceman.Spiff","CreatedById":209133,"CreatedDateTime":"2021-06-09T12:49:28Z","Content":"\n\u003Cp\u003E\nThis should be very interesting! I look forward to seeing your results.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-06-09T22:29:00Z","Content":"\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003ESetup \u003C/strong\u003E(and later, levitating Kerbals)\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/175039-*\u0022 rel=\u0022\u0022\u003ESnarkiverse\u003C/a\u003E needs the mod \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/200143-*\u0022 rel=\u0022\u0022\u003EKopernicus\u003C/a\u003E, which in turn needs and includes Modular Flight Integrator and Module Manager.\u003Cbr\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/162200-*\u0022 rel=\u0022\u0022\u003EPrincipia\u003C/a\u003E is still called a work-in-progress, but the authors now post binaries that can be put in GameData as with other mods.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ymIIlg8.jpg\u0022 class=\u0022ipsImage ipsAttachLink_image ipsAttachLink_right\u0022 data-ratio=\u002256.15\u0022 height=\u0022675\u0022 style=\u0022width:431px;height:auto;float:right;\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/ymIIlg8.jpg\u0022\u003E1)\u00A0Snarkiverse assigns very fast orbits to\u00A0\u00A0Pol (136 min)\u00A0 and Gilly (77 min).\u00A0 With its default 36-minute time-step, Principia computes only 4 positions per Pol orbit, and draws a polynomial spline interpolation between those essentially random computed points.\n\u003C/p\u003E\n\u003Cp\u003E\nWe need to change just one parameter in the\u00A0\u003Ca href=\u0022https://github.com/mockingbirdnest/Principia/wiki/Principia-configuration-files\u0022 rel=\u0022external nofollow\u0022\u003EPrincipia-configuration-files\u003C/a\u003E, but Principia requires \u003Cu\u003Eall\u003C/u\u003E parameters be present in the file, or it exits KSP with a message to stderr.\u00A0 Defaults for the unchanged parameters are\u00A0discoverable in the source code.\u00A0 The resulting configuration is in the top post.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022YgWK0gg.jpg\u0022 class=\u0022ipsImage ipsAttachLink_image ipsAttachLink_right\u0022 data-ratio=\u002256.21\u0022 height=\u0022240\u0022 style=\u0022width:427px;height:auto;float:right;\u0022 width=\u0022427\u0022 src=\u0022https://i.imgur.com/YgWK0gg.jpg\u0022\u003E2) I \u003Cem\u003Eexpected\u003C/em\u003E\u00A0to need to increase by the SMA (semi-major axis) of Mun\u0027s orbit\u00A0to get the desired period\u003Cbr\u003E\n\u00A0 \u00A0 P = 2\u03C0 sqrt[ SMA\u00B3 /G /(M\u003Csub\u003EKerbin\u003C/sub\u003E \u002B M\u003Csub\u003EMun\u003C/sub\u003E) ]\u003Cbr\u003E\nso that the Mun passes over \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003E\u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E\u003C/abbr\u003E the same way every second day.\u00A0 I expected this because\u00A0stock KSP uses\u003Cbr\u003E\n\u00A0\u00A0 P = 2\u03C0 sqrt[ SMA\u00B3 /G /M\u003Csub\u003EKerbin\u003C/sub\u003E ]\u003Cbr\u003E\nand so Snarkiverse set up the Mun\u0027s SMA using that formula.\u00A0 \u00A0But when I make my \u0027correction\u0027 the orbit drifts, versus no drift with the SMA straight from Snarkiverse.\u00A0 The orbit as seen from Kerbin is plotted at right, and it closes on itself nicely.\n\u003C/p\u003E\n\u003Cp\u003E\nPrincipia seems to scale the SMA automatically, but\u00A0I\u0027m confused because the\u003Ca href=\u0022https://github.com/mockingbirdnest/Principia/wiki/Principia-configuration-files#the-top-level-configurations\u0022 rel=\u0022external nofollow\u0022\u003E documentation\u003C/a\u003E\u00A0says it applies Kopernicus orbital elements directly to the \u0027Jacobi coordinates\u0027 (distance between centres of mass for just two bodies)\u00A0and those coordinates would seem to need to larger SMA. \u00A0I\u0027ll experiment later\u00A0to understand what Principia is doing.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022ERxMKvd.jpg\u0022 class=\u0022ipsImage ipsAttachLink_image ipsAttachLink_right\u0022 data-ratio=\u002256.21\u0022 height=\u0022240\u0022 style=\u0022width:427px;height:auto;float:right;\u0022 width=\u0022427\u0022 src=\u0022https://i.imgur.com/ERxMKvd.jpg\u0022\u003E3) The Duna system in Snarkiverse is supposed to have Pol pass each day\u00A0over the same spot on Duna, every 8 orbits of Pol.\u00A0Similarly Bop is meant to return exactly every 3 Duna-rotations, which is 8 orbits by Bop. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nUsing the view from Duna\u0027s surface, we see the orbits do not \u003Cu\u003Equite\u003C/u\u003E close on themselves after 8 cycles as intended. Probably the mass of Pol changes the period of the orbit of Bop, and vice versa.\n\u003C/p\u003E\n\u003Cp\u003E\nLater, we might adjust these orbits to be both stable and synchronous with Duna\u0027s rotation, if there is an easy or interesting way to find the correct adjustments.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cu\u003E\u003Cstrong\u003ELevitating Kerbals\u003C/strong\u003E\u003C/u\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPol has 0.37m/s\u00B2 gravity at its surface, just 4% of a \u0027g\u0027. \u00A0The side of Pol facing Duna gets a bit more pull from Duna than does the \u003Cabbr title=\u0022Center of Mass\u0022\u003E\u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E\u003C/abbr\u003E of Pol (the \u0027tidal force\u0027).\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe distance from the centre of Pol where tidal forces match gravity is the radius of the \u0027Hill sphere\u0027,\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0R\u003Csub\u003EHill\u003C/sub\u003E =\u00A0\u00A0SMA (1 - eccentricity) cube_root(M\u003Csub\u003EPol\u003C/sub\u003E /3 /M\u003Csub\u003EDuna\u003C/sub\u003E) = 42 km\u003Cbr\u003E\nand the radius of Pol is 44km, so a Kerbal on the right spot on Pol at just the right moment should levitate.\n\u003C/p\u003E\n\u003Cp\u003E\nSome recent change to KSP made the ground artificially sticky, which is convenient here to keep the lander on the ground while Duna passes directly overhead.\u00A0 Bill\u00A0Kerman\u00A0can then let go of his ladder and fall\u00A0slowly upward.\u003Cbr\u003E\u003Cimg alt=\u0022Vys8fqJ.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/Vys8fqJ.jpg\u0022\u003E\u003Cimg alt=\u0022sb7P4OZ.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/sb7P4OZ.jpg\u0022\u003E\u003Cimg alt=\u0022I9jRLNd.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/I9jRLNd.jpg\u0022\u003E\u003Cimg alt=\u0022Ba6UTVC.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/Ba6UTVC.jpg\u0022\u003E\u003Cimg alt=\u0022suXpynr.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/suXpynr.jpg\u0022\u003E\u003Cimg alt=\u0022Q11n4RA.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/Q11n4RA.jpg\u0022\u003E\u003Cimg alt=\u0022P7l2GN2.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/P7l2GN2.jpg\u0022\u003E\u003Cimg alt=\u0022xV9dPCa.jpg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002256.07\u0022 height=\u0022480\u0022 style=\u0022width:214px;height:auto;\u0022 width=\u0022853\u0022 src=\u0022https://i.imgur.com/xV9dPCa.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThe lander eventually levitates, and then is dragged eastward as Duna moves across the sky.\u00A0 The same would happen to the rocks forming Pol, so Snarkiverse\u0027s Pol is doomed to eventually break up into a planetary ring.\n\u003C/p\u003E\n\u003Cp\u003E\n(Landing on Pol when it is near Duna can be tricky, becuase the net gravity is not pulling anywhere near straight down.\u00A0 Principia has a\u00A0temporary off-switch: the \u0027hack gravity\u0027 cheat, even with scale left at 1.0, reverts from Principia\u0027s computations\u00A0back to stock KSP. )\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-09T22:50:34Z\u0022 title=\u002206/09/2021 10:50  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 9, 2021\u003C/time\u003E by OHara\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jimmymcgoochie","CreatedById":199902,"CreatedDateTime":"2021-09-03T12:18:05Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162784-ohara/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022162784\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/162784-ohara/\u0022 rel=\u0022\u0022\u003E@OHara\u003C/a\u003E\u00A0are you still working on this? I\u2019d be interested to see the results of this as I\u2019ve been doing a story-career in the Snarkiverse (this thread brought it to my attention and then my GPU died and Snarkiverse was about the only planet pack I could still run until it got replaced) and adding a bit of n-body weirdness could be interesting, both for gameplay and for the story part too.\n\u003C/p\u003E\n"},{"CreatedByName":"OHara","CreatedById":162784,"CreatedDateTime":"2021-09-03T20:38:39Z","Content":"\n\u003Cp\u003E\nYes;\u00A0it is a long-term background amusement.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI got interested in trying to adjust the Jool and Duna systems to make them stable, which is actually very difficult and complicated.\u00A0 (One of the\u00A0 well-known youtube explainers surveys the problem \u003Ca href=\u0022https://www.youtube.com/watch?v=Qyn64b4LNJ0\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, in his nicely intuitive style.)\u00A0 As the days get shorter in the northern hemisphere, I\u0027ll make more progress.\n\u003C/p\u003E\n\u003Cp\u003E\nBy all means, tell us here if you explore any interesting aspects of Snarkiverse with Principia.\n\u003C/p\u003E\n"}]}