{"TopicId":40422,"ForumId":16,"TopicTitle":"How do I prevent flipouts during a gravity turn with MechJeb and Ferram Aerospace?","CreatedByName":"Petarski","CreatedById":73744,"CreatedDateTime":"2013-08-01T07:05:07Z","PageNum":1,"Articles":[{"CreatedByName":"Petarski","CreatedById":73744,"CreatedDateTime":"2013-08-01T07:05:07Z","Content":"\n\u003Cp\u003EAll my crafts will flipout shortly after going super sonic and doing a 10km/40% gravity turn. What is the best turn shape for the mod?\u003C/p\u003E\u003Cp\u003Eedit:\u003C/p\u003E\u003Cp\u003ETips are start gravity turn higher (10km or so), lessen turn angle (80%-100%), add more reaction wheels, add control surfaces. Thanks guys! Crafts work now.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-02T04:31:38Z\u0022 title=\u002208/02/2013 04:31  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 2, 2013\u003C/time\u003E by Petarski\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nhnifong","CreatedById":12196,"CreatedDateTime":"2013-08-01T08:24:58Z","Content":"\n\u003Cp\u003EIf you show some pictures, we can help you determine what\u0027s wrong. take screenshots with F1 (fn F1 with a mac keyboard). Upload them to imgur, then put the direct link in bbcode \u003Cimg src=\u0022%7Boption%7D\u0022 class=\u0022ipsImage\u0022 alt=\u0022%7Boption%7D\u0022\u003E tags.\u003C/p\u003E\n"},{"CreatedByName":"Scorpi15","CreatedById":34189,"CreatedDateTime":"2013-08-01T08:33:01Z","Content":"\n\u003Cp\u003EAdd more reaction wheels. Control surfaces aren\u0027t as effective after a certain altitude and have been the bane of many a craft. Reaction wheels, on the other hand, add more helping torque no matter how high up you are. Remember to add batteries and manage your power levels though.\u003C/p\u003E\n"},{"CreatedByName":"espm400","CreatedById":71109,"CreatedDateTime":"2013-08-01T12:57:42Z","Content":"\n\u003Cp\u003EWith FAR you\u0027re going to have to keep your speed a bit lower than normal and keep your nose in, or very close to the prograde marker, at least until you\u0027re above 30,000m. I had this problem myself until I realized this.\u003C/p\u003E\u003Cp\u003EEDIT: I can\u0027t speak for MechJeb, as I\u0027ve not used the ascent guidance on it.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-01T13:01:10Z\u0022 title=\u002208/01/2013 01:01  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 1, 2013\u003C/time\u003E by espm400\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Hovis","CreatedById":61305,"CreatedDateTime":"2013-08-01T13:16:53Z","Content":"\n\u003Cp\u003EI was saved by limiting acceleration to 20 m/s on the control thingy. Not sure on the exact science of how this made the critical difference, but it did. My understanding is that Ferram favours longer more controlled lift offs, rather than the Massive Power Blitz style that would traditionally work fine. Once I made that change Mechjeb was fine.\u003C/p\u003E\n"},{"CreatedByName":"Kaa253","CreatedById":68628,"CreatedDateTime":"2013-08-01T14:35:05Z","Content":"\n\u003Cp\u003EI have had the same issues with mechjeb since upgrading to 0.21 and I am not using FAR. I believe it is caused by mechjeb not being well tuned for the new attitude control system. I notice it particularly when the balance of my craft shifts as 2nd stage tanks are getting below half full. Typically I am around half way through my gravity turns at this point. As others have noted before me, limiting acceleration, adding more reaction wheels and keeping the nose in very close to the prograde marker (I use bursts of RCS for this) will all help to solve this problem for you. I kind of like the change as Hovis puts it the \u0022Massive Power Blitz\u0022 style is not as successful as before which I think adds realism. I have never tried Ferram Aerospace, meybe I should...\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2013-08-01T14:53:05Z","Content":"\n\u003Cp\u003EI had that Problem without mechjeb, i recommend reaction wheels AND RCS Thrusters near the bottom of your missile, too.\u003C/p\u003E\u003Cp\u003E@Scorpi: The test in ur sig is lulz (i am slow in typing english \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E)\u003C/p\u003E\n"},{"CreatedByName":"ploxus","CreatedById":75977,"CreatedDateTime":"2013-08-01T15:07:08Z","Content":"\n\u003Cp\u003EDoes MechJeb take advantage of reaction wheels? I noticed MJ doesn\u0027t enable SAS when in auto-pilot. Or do reaction wheels work without SAS enabled?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2013-08-01T15:12:29Z","Content":"\n\u003Cp\u003EI avoid control surfaces on rockets altogether due to random stalls. Lots of Reactions wheels like stated earlier seems to do me well. Correct me If I am wrong but the control surfaces on irl rockets produce no lift, they only redirect airflow.\u003C/p\u003E\n"},{"CreatedByName":"kofeyh","CreatedById":39949,"CreatedDateTime":"2013-08-01T15:24:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jbowon\u0022 data-cite=\u0022jbowon\u0022\u003E\u003Cdiv\u003EI avoid control surfaces on rockets altogether due to random stalls. Lots of Reactions wheels like stated earlier seems to do me well. Correct me If I am wrong but the control surfaces on irl rockets produce no lift, they only redirect airflow.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWings are only really useful below 30km. Above that and reaction wheels, RCS is the easiest option. As for wings on rockets, it varies, some are used for attitude control, others have fins to add stability. Guided missiles are a case in point.\u003C/p\u003E\u003Cp\u003EThe thing to remember in KSP, is that control and flight surfaces don\u0027t quite work the way one might expect.\u003C/p\u003E\n"},{"CreatedByName":"rryy","CreatedById":57357,"CreatedDateTime":"2013-08-01T15:35:39Z","Content":"\n\u003Cp\u003EYou can\u0027t just suddenly turn 45\u00C3\u201A\u00C2\u00BA from prograde and expect to stay on course, especially with FAR. You have to do a more gradual gravity turn starting at around 5 km, keeping near the prograde vector.\u003C/p\u003E\n"},{"CreatedByName":"zerotwo","CreatedById":60799,"CreatedDateTime":"2013-08-01T15:43:38Z","Content":"\n\u003Cp\u003EIn my experience the two mods do not react well together under most circumstances. The only way I have found to mitigate this is to launch using only one of the two. Disable all of the components in mechjeb you can and do a horizontal lift into orbit or shut off everything you can in FAR and do a vertical launch.\u003C/p\u003E\u003Cp\u003EI went looking for a good mod to swap control computers but unsurprisingly it did not exist. (Kind of a rare need)\u003C/p\u003E\u003Cp\u003EThat flip may also be a result of your craft\u0027s centre of mass shifting too far backwards due to the way you are burning fuel in flight.\u003C/p\u003E\u003Cp\u003EEngines always reach for the furthest source of fuel and aircraft designs tend to be heavy towards the rear already, if your craft burns all it\u0027s forward fuel in flight it becomes incredibly unstable and the aft weight imbalance can cause the craft to flip into and unrecoverable stall.\u003C/p\u003E\u003Cp\u003ETry locking forward fuel tanks and draining from the rear first?\u003C/p\u003E\u003Cp\u003EHope this helps.\u003C/p\u003E\n"},{"CreatedByName":"BubbaWilkins","CreatedById":57993,"CreatedDateTime":"2013-08-01T16:56:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zerotwo\u0022 data-cite=\u0022zerotwo\u0022\u003E\u003Cdiv\u003EIn my experience the two mods do not react well together under most circumstances. The only way I have found to mitigate this is to launch using only one of the two. Disable all of the components in mechjeb you can and do a horizontal lift into orbit or shut off everything you can in FAR and do a vertical launch.\u003Cp\u003EI went looking for a good mod to swap control computers but unsurprisingly it did not exist. (Kind of a rare need)\u003C/p\u003E\u003Cp\u003EThat flip may also be a result of your craft\u0027s centre of mass shifting too far backwards due to the way you are burning fuel in flight.\u003C/p\u003E\u003Cp\u003EEngines always reach for the furthest source of fuel and aircraft designs tend to be heavy towards the rear already, if your craft burns all it\u0027s forward fuel in flight it becomes incredibly unstable and the aft weight imbalance can cause the craft to flip into and unrecoverable stall.\u003C/p\u003E\u003Cp\u003ETry locking forward fuel tanks and draining from the rear first?\u003C/p\u003E\u003Cp\u003EHope this helps.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFAR and mechjeb work just fine together, but it takes far more fine tuning and experimentation to produce a craft that flies well. It is possible to manually fly some crafts that mechjeb can\u0027t handle, but more likely it\u0027s less frustrating to just fix the balance/performance of the craft first. If your craft is balanced, but you still fight instability mid flight, check to make sure that you are strutted sufficiently to remove ALL flex. It only takes a small amount of flex to upset an engines thrust vector and send your craft out of control.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Petarski\u0022 data-cite=\u0022Petarski\u0022\u003E\u003Cdiv\u003EAll my crafts will flipout shortly after going super sonic and doing a 10km/40% gravity turn. What is the best turn shape for the mod?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Efirst, expirement....\u003C/p\u003E\u003Cp\u003Eremove the gravity turn all together.\u003C/p\u003E\u003Cp\u003E1) Does your craft stay straight up at 10/km? 15km?, 20km?, 25?\u003C/p\u003E\u003Cp\u003Eif so, move your gravity turn to a higher elevation and try again.\u003C/p\u003E\u003Cp\u003E2) If your craft becomes unstable even in a straight up ascent with no turn, adjust your speed accordingly. Perhaps you\u0027re going too fast for that elevation and need to back off a touch. My original shuttle\u002Blauncher design was flawless as long as you didn\u0027t exceed 200 m/s below 10,000 feet. \u003C/p\u003E\u003Cp\u003E3) If 1 or 2 get you close, perhaps activate RCS in the atmosphere to add that little additional bit of command authority.\u003C/p\u003E\u003Cp\u003E4) Now add a gravity turn, but experiment with the altitude it initiates. Perhaps 10,000 is too low for your craft and you need to wait until it\u0027s higher up in the atmosphere and/or going faster. My current shuttle\u002Blauncher can not handle a gravity turn under 20km. For me this works out well because its just above this point that the solid boosters typically run dry.\u003C/p\u003E\u003Cp\u003E5) All else fails, redesign the craft until you get something more stable to start with.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-01T17:03:11Z\u0022 title=\u002208/01/2013 05:03  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 1, 2013\u003C/time\u003E by BubbaWilkins\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Eric S","CreatedById":57117,"CreatedDateTime":"2013-08-01T18:23:47Z","Content":"\n\u003Cp\u003EBasically, you\u0027re looking at two issues.\u003C/p\u003E\u003Cp\u003EThe first is the way FAR works. It removes the atmosphere so that the stock aerodynamics doesn\u0027t affect the craft, and then computes the aerodynamics as if the atmosphere were still there. This means that MJ can\u0027t compute terminal velocity and will merrily take the rocket past terminal velocity and even the speed of sound. Limiting the thrust to about 20-24 m/s is about the only way to deal with that other than manual throttle control.\u003C/p\u003E\u003Cp\u003EThe second issue is that rockets with too much aerodynamic drag (not the right term, can\u0027t remember the right one though) ahead of the center of mass tend to want to flip around and try to fly backwards. While you\u0027re aiming the craft directly prograde, it doesn\u0027t take much to overcome this force, but the farther away from prograde you\u0027re pointed, the harder it becomes to overcome it. Most of the reading I\u0027ve done on FAR says that you shouldn\u0027t be more than 5 to 10 degrees off of prograde at any time below 30K. That\u0027s not \u00225-10 degrees is OK,\u0022 it\u0027s more \u0022some craft will flip out at 6 degrees, others can go farther.\u0022\u003C/p\u003E\n"},{"CreatedByName":"Petarski","CreatedById":73744,"CreatedDateTime":"2013-08-02T04:29:43Z","Content":"\n\u003Cp\u003EWhat I\u0027m getting from all these posts is that I should lessen the gravity turn to a very low angle (80%/100%) and start higher up if I want to do a sharper turn. All my craft are good when vertical. Thanks guys.\u003C/p\u003E\n"},{"CreatedByName":"42BelowVodka","CreatedById":78722,"CreatedDateTime":"2013-08-13T01:33:47Z","Content":"\n\u003Cp\u003Ethe problem i have is that mechjabber wont start a gravity turn anymore when the SAS is active. before it would just turn it on and off by itself. when i turn it off at 10K the ship just swings out of control. sometime it will turn around a couple of time and than recover but thats a huge waste of fuel\u003C/p\u003E\n"},{"CreatedByName":"AndreyATGB","CreatedById":62674,"CreatedDateTime":"2013-08-13T08:45:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u002242BelowVodka\u0022 data-cite=\u002242BelowVodka\u0022\u003E\u003Cdiv\u003Ethe problem i have is that mechjabber wont start a gravity turn anymore when the SAS is active. before it would just turn it on and off by itself. when i turn it off at 10K the ship just swings out of control. sometime it will turn around a couple of time and than recover but thats a huge waste of fuel\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMJ 2.0.9 removed SAS use because, according to the changelog, it\u0027s \u0022no longer needed\u0022. I don\u0027t understand this logic, but there you go. 2.0.9 will just manually control it all the time completely ignoring SAS which actually makes autopilots be jerkier than before.\u003C/p\u003E\n"},{"CreatedByName":"42BelowVodka","CreatedById":78722,"CreatedDateTime":"2013-08-13T13:23:31Z","Content":"\n\u003Cp\u003EIf i dont turn on SAS at launch the my rocket will crash in seconds\u003C/p\u003E\n"}]}