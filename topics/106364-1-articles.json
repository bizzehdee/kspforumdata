{"TopicId":106364,"ForumId":15,"TopicTitle":"Question on part model orientation","CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-04-30T19:58:24Z","PageNum":1,"Articles":[{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-04-30T19:58:24Z","Content":"\n\u003Cp\u003EEdit: Sorry if I started the thread in the wrong part of the forum. Wasn\u0027t quite sure where exactly was appropriate.\u003C/p\u003E\u003Cp\u003EGreetings,\u003C/p\u003E\u003Cp\u003EI\u0027ve been making some models for parts to KSP recently, but have noticed a rather odd thing.\u003C/p\u003E\u003Cp\u003EThe type of part I\u0027m working on is a surface attachable part. The main question I have is the proper orientation/facing inside unity.\u003C/p\u003E\u003Cp\u003EBasically, I\u0027ve noticed that to have the part face \u0027away\u0027 from the part attached to it needs to be facing the \u0027-Y\u0027 axis? (See images)\u003C/p\u003E\u003Cp\u003EIf facing \u002BY it faces \u0027inside\u0027 the object instead.\u003C/p\u003E\u003Cp\u003E[blender 2.71]\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/66594579/Blender_02.jpg\u0022 alt=\u0022Blender_02.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E[unity 4.3.4]\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/66594579/Unity_01.jpg\u0022 alt=\u0022Unity_01.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E[KSP 0.9]\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/66594579/KSP_01.jpg\u0022 alt=\u0022KSP_01.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EIs this correct? And if so, will this orientation create issues with other parts like lander legs?\u003C/p\u003E\u003Cp\u003EJust want to make sure I\u0027m not doing something incorrectly or that could create a future bug.\u003C/p\u003E\u003Cp\u003EThanks for your time \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-04-30T21:30:15Z\u0022 title=\u002204/30/2015 09:30  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 30, 2015\u003C/time\u003E by Udsahn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-05-01T01:27:54Z","Content":"\n\u003Cp\u003EIs what correct? You decide how you want it oriented. If that\u0027s how you want it then it\u0027s correct, if not then it should be simple to work out how to rotate it.\u003C/p\u003E\n"},{"CreatedByName":"NoMrBond","CreatedById":69263,"CreatedDateTime":"2015-05-01T01:46:05Z","Content":"\n\u003Cp\u003EIn blender rotate your part x = 90, apply rotation (rotation x/y/z: should all become zero), then rotate part x = -90, part should then appear with the same orientation in game as it does in blender\u003C/p\u003E\u003Cp\u003EBasically you always want rotation x = -90 for the root part of your hierarchy for going into .blend \u0026gt; Unity \u0026gt; Export to KSP\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T01:48:21Z\u0022 title=\u002205/01/2015 01:48  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by NoMrBond\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-01T02:44:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cpt. Kipard\u0022 data-cite=\u0022Cpt. Kipard\u0022\u003E\u003Cdiv\u003EIs what correct? You decide how you want it oriented. If that\u0027s how you want it then it\u0027s correct, if not then it should be simple to work out how to rotate it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBasically I wanted to make sure that it\u0027s correct to have that orientation. Every other tutorial or example I\u0027ve seen has had it completely different unless that changed recently.\u003C/p\u003E\u003Cp\u003EThe other reason is because things like landing gears or engines wouldn\u0027t be facing a specific direction (down -Y for instance).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NoMrBond\u0022 data-cite=\u0022NoMrBond\u0022\u003E\u003Cdiv\u003EIn blender rotate your part x = 90, apply rotation (rotation x/y/z: should all become zero), then rotate part x = -90, part should then appear with the same orientation in game as it does in blender\u003Cp\u003EBasically you always want rotation x = -90 for the root part of your hierarchy for going into .blend \u0026gt; Unity \u0026gt; Export to KSP\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting, although in text one would find it odd because that rotation seems a bit counter productive since it ends up in the same rotation in the end (Not in blender atm). Guess it has to do with how Unity or KSP sees it though. I\u0027ll give it a try later in any case \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003EThanks.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-01T02:48:55Z\u0022 title=\u002205/01/2015 02:48  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 1, 2015\u003C/time\u003E by Udsahn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-05-01T04:07:21Z","Content":"\n\u003Cp\u003ELong story short, Unity (and KSP) uses a different coordinate system from Blender:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.alternatewars.com/Games/KSP/Tut1/Blender_to_KSP_Co-Ordinates.png\u0022 alt=\u0022Blender_to_KSP_Co-Ordinates.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf you\u0027re using the Blender prefabs for Unity, Unity will automatically orient the part correctly for you.\u003C/p\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-01T05:30:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EIf you\u0027re using the Blender prefabs for Unity, Unity will automatically orient the part correctly for you.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m exporting to .FBX and importing to unity that way. That was how it was recommended from what I read.\u003C/p\u003E\u003Cp\u003ERegular parts that are a part of a stack seem to easily work with no real need for adjustment. I\u0027m just a little unsure why anything that\u0027s surface attached needs to be oriented differently (Towards \u0027-Y\u0027 to jut out away from the part it\u0027s attached to, else it goes inside it). The other thing I\u0027ve noticed is that it seems using part symmetry will mirror along one of the axes in the VAB or SAB. Not sure if it\u0027s something that can be avoided, but that\u0027s a different thread entirely \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-05-01T08:30:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Udsahn\u0022 data-cite=\u0022Udsahn\u0022\u003E\u003Cdiv\u003EI\u0027m exporting to .FBX and importing to unity that way. That was how it was recommended from what I read.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI never needed to export to .FBX - the essence of Blender prefabs for Unity Editor 4.2\u002B is that you can drag the BLEND file directly into Unity, and it will handle the importing for you, as well as correcting the orientation as needed.\u003C/p\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-01T22:04:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sumghai\u0022 data-cite=\u0022sumghai\u0022\u003E\u003Cdiv\u003EI never needed to export to .FBX - the essence of Blender prefabs for Unity Editor 4.2\u002B is that you can drag the BLEND file directly into Unity, and it will handle the importing for you, as well as correcting the orientation as needed.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoesn\u0027t work for me. When trying to save/move a .blend file to unity assets it gives me this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EBlender could not convert the .blend file to FBX file.\u003Cp\u003EYou need to use Blender 2.45-2.49 or 2.58 and later versions for direct Blender import to work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using Blender 2.71. Maybe I\u0027m missing something?\u003C/p\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-05-01T23:16:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Udsahn\u0022 data-cite=\u0022Udsahn\u0022\u003E\u003Cdiv\u003EDoesn\u0027t work for me. When trying to save/move a .blend file to unity assets it gives me this:\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EBlender could not convert the .blend file to FBX file.\u003Cp\u003EYou need to use Blender 2.45-2.49 or 2.58 and later versions for direct Blender import to work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using Blender 2.71. Maybe I\u0027m missing something?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have Blender 2.70a and Unity 4.6.0f3, although the no-FBX prefab system had always worked for me as far back as Blender 2.6x.\u003C/p\u003E\u003Cp\u003EI saved my Blender models in a subfolder under the Assets directory, and in Unity, used the \u003Cstrong\u003EProject\u003C/strong\u003E window browser to find the .blend files. Not only am I able to directly import them without the intermediary FBX conversion, but I can also tweak import settings (tangents, normals, materials). Furthermore, if I make changes to my original Blender model, the prefab system automatically updates its counterpart in Unity.\u003C/p\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-02T00:09:43Z","Content":"\n\u003Cp\u003EAm I maybe mistaking what you mean by \u0027prefab\u0027? Is it a separate plugin for Unity? I just downloaded version 4.6.0f3 like you and it still won\u0027t import with the same message. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESo you know, I placed the .blend file in my unity project (Under assets\\models in my case (See image)), right-clicked on it and hit \u0027reimport\u0027.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropboxusercontent.com/u/66594579/Unity_02.jpg\u0022 alt=\u0022Unity_02.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-02T00:13:45Z\u0022 title=\u002205/02/2015 12:13  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 2, 2015\u003C/time\u003E by Udsahn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sumghai","CreatedById":66272,"CreatedDateTime":"2015-05-02T00:17:19Z","Content":"\n\u003Cp\u003EI don\u0027t recall needing any plugin.\u003C/p\u003E\u003Cp\u003EI was able to simply drag the .blend file right into the 3D view, and it would appear in the GameObject hierarchy as well.\u003C/p\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-02T00:26:22Z","Content":"\n\u003Cp\u003EVery strange. I guess I\u0027ll just have to stick with using .FBX since I\u0027m stumped at what it\u0027s missing. Thanks for your time and effort anyhow \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\u003Cp\u003ETrying to drag the .blend file into the 3D view for me comes up with a restriction symbol (circle with a line through it).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-02T00:29:01Z\u0022 title=\u002205/02/2015 12:29  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 2, 2015\u003C/time\u003E by Udsahn\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Udsahn","CreatedById":132540,"CreatedDateTime":"2015-05-02T01:02:53Z","Content":"\n\u003Cp\u003EDiscovered what it was! It actually was that particular version of Blender. I decided to download and try the slightly older 2.70a version you used and it worked flawlessly. Guess that means that if this ever happens in the future to look at the version of Blender before anything else. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003ESuppose it also means if anyone else has this issue best let them know to check their Blender version.\u003C/p\u003E\u003Cp\u003EFor future reference, 2.71 doesn\u0027t auto import into Unity, but 2.74 (the current latest version) does.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-05-02T01:18:05Z\u0022 title=\u002205/02/2015 01:18  AM\u0022 data-short=\u00229 yr\u0022\u003EMay 2, 2015\u003C/time\u003E by Udsahn\u003C/strong\u003E\n\u003C/span\u003E\n"}]}