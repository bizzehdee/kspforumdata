{"TopicId":186626,"ForumId":16,"TopicTitle":"Undocking bug has returned","CreatedByName":"Ron Devu","CreatedById":196475,"CreatedDateTime":"2019-07-23T05:48:27Z","PageNum":1,"Articles":[{"CreatedByName":"Ron Devu","CreatedById":196475,"CreatedDateTime":"2019-07-23T05:48:27Z","Content":"\n\u003Cp\u003E\n\u00A0 I\u0027m building a small station at Minmus. On my last launch the stack was engines, fuel, a three man capsule, a pair of linked Clampotron Jrs and a 4 man habitat, an inverted decoupler and a nose cone. The intent was to deliver fuel and the habitat module. Docking was routine. When it came time to leave, one of the ports was offering the undock option and I clicked it. The ships remained docked. The option to undock was no longer present on either port I brought up an engineer but he can\u0027t fix the parts or remove them. I suspect both ports think they are attached to the 3 man capsule. After the failed undocking I noticed certain kinds of spacecraft drift caused by Kerbal helmets clipping into parts\u00A0 were also causing this port linkage to rotate as if it were some kind of bearing. I had the entire crew on EVA simultaneously trying to grab the parts but alas I was one Kerbal short of the required six.\u00A0 I have verified that all the tanks engines and command capsules have autostrut disabled. Identical docking ports on the opposite end of the habitat module are working normally.\u00A0\u00A0 I\u0027m running version 1.7.3.2594 64 bit with \u003Cabbr title=\u0022Kerbal Inventory System (mod)\u0022\u003EKIS\u003C/abbr\u003E/\u003Cabbr title=\u0022Kerbal Attachment System (mod)\u0022\u003EKAS\u003C/abbr\u003E, no other mods.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nInteresting fact: when an engineer tries to grab either of the docked ports, the game reports the weight as over 5 tons. Other identical docking ports are easily grabbed.\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2019-07-23T08:31:15Z","Content":"\n\u003Cp\u003E\nThere have been maybe 18 different ways to invoke the same undocking bug in the past. Over time, many reproducible ways have been found to trigger it, those\u00A0examples got reported to the devs, and the devs fixed those ones. So the undocking bug gets rarer and rarer to encounter over time. The devs need a savegame from just before you actually dock, that consistently reproduces the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat happens is that the moment you dock, the two docking ports get set to the wrong state, which the game remembers. After it happens, the only way to fix it is to use the KML\u00A0persistence file editor tool, as reported here:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u002269812\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed3039407203\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/32913-cant-undock-bug-how-to-fix/\u0026amp;do=embed\u0022 style=\u0022height:211px;max-width:502px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Ron Devu","CreatedById":196475,"CreatedDateTime":"2019-07-23T09:05:39Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223639561\u0022 data-ipsquote-contentid=\u0022186626\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221563870675\u0022 data-ipsquote-userid=\u0022154251\u0022 data-ipsquote-username=\u0022bewing\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n35 minutes ago, bewing said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere have been maybe 18 different ways to invoke the same undocking bug in the past. Over time, many reproducible ways have been found to trigger it, those\u00A0examples got reported to the devs, and the devs fixed those ones. So the undocking bug gets rarer and rarer to encounter over time. The devs need a savegame from just before you actually dock, that consistently reproduces the problem.\n\u003C/p\u003E\n\u003Cp\u003E\nWhat happens is that the moment you dock, the two docking ports get set to the wrong state, which the game remembers. After it happens, the only way to fix it is to use the KML\u00A0persistence file editor tool, as reported here:\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI looked at the solution but it doesn\u0027t apply to my situation. He starts with one port offering an undick option that doesn\u0027t work, while neither of my ports offers the undock option. Worse yet, the docked assembly has two command modules, one of which is on a lander that was originally launched upside down on its booster and was merged into the build in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E. So there were all kinds of fiddles done to convince the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E to allow this. Basically this deck o cards has been well and truly shuffled.\n\u003C/p\u003E\n\u003Cp\u003E\nWelp, looks like my station just acquired some permanent tankage.\n\u003C/p\u003E\n\u003Cp\u003E\np.s I found the validation feature on Steam that you mentioned. First time it found four files it didn\u0027t like, next time it found two. No effect on docking tho. But thanks for a very useful suggestion. It also seems that KSP dislikes running for days at a time. My keyboard and mouse were cutting out, then burn calculations went bad and I was estimating burns by eye. I guess the game needs a restart every day or two!\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-07-23T09:13:18Z\u0022 title=\u002207/23/2019 09:13  AM\u0022 data-short=\u00224 yr\u0022\u003EJuly 23, 2019\u003C/time\u003E by Ron Devu\u003C/strong\u003E\n\u003Cbr\u003Eps added\n\u003C/span\u003E\n"},{"CreatedByName":"Ron Devu","CreatedById":196475,"CreatedDateTime":"2019-07-23T09:28:05Z","Content":"\n\u003Cp\u003E\n\u00A0 What would happen if I planted explosives on the offending parts? How much damage would you expect?\n\u003C/p\u003E\n"},{"CreatedByName":"micha","CreatedById":113840,"CreatedDateTime":"2019-07-23T10:20:53Z","Content":"\n\u003Cp\u003E\nHad undocking bug first time ever the other day too (and been playing since 0.23 or thereabouts).\n\u003C/p\u003E\n\u003Cp\u003E\n2 craft assembled in \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, docked to each other (via Corvus nose cones).\u00A0 Launched, undocked, redocked, then couldn\u0027t undock again (no undock buttons on either craft). There may have been a load/save between the docking and the attempted second undocking.\u00A0\u003Cbr\u003E\nI did manage to get an undock button back after a reload, which worked, so no need to resort to save-file editing.\u003Cbr\u003E\u003Cbr\u003E\nThere may or may not have been autostrutting.\u003Cbr\u003E\u003Cbr\u003E\nWill see if I have a save/autosave from before the docking to repro.\n\u003C/p\u003E\n"},{"CreatedByName":"The Aziz","CreatedById":150811,"CreatedDateTime":"2019-07-23T11:03:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223639574\u0022 data-ipsquote-contentid=\u0022186626\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221563872739\u0022 data-ipsquote-userid=\u0022196475\u0022 data-ipsquote-username=\u0022Ron Devu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, Ron Devu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0It also seems that KSP dislikes running for days at a time. My keyboard and mouse were cutting out, then burn calculations went bad and I was estimating burns by eye. I guess the game needs a restart every day or two!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have to restart the game after three hours at most, or it goes nuts. Gotta release that memory once in a while.\n\u003C/p\u003E\n"},{"CreatedByName":"bewing","CreatedById":154251,"CreatedDateTime":"2019-07-23T11:58:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223639574\u0022 data-ipsquote-contentid=\u0022186626\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221563872739\u0022 data-ipsquote-userid=\u0022196475\u0022 data-ipsquote-username=\u0022Ron Devu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Ron Devu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI looked at the solution but it doesn\u0027t apply to my situation\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere are two solutions on that thread. One is old, and doesn\u0027t apply. The other is current and works perfectly. It\u0027s a little program called KML. You really ought to download it and try it.\n\u003C/p\u003E\n"},{"CreatedByName":"Pecan","CreatedById":96332,"CreatedDateTime":"2019-07-23T17:52:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223639580\u0022 data-ipsquote-contentid=\u0022186626\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221563874085\u0022 data-ipsquote-userid=\u0022196475\u0022 data-ipsquote-username=\u0022Ron Devu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, Ron Devu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0 What would happen if I planted explosives on the offending parts? How much damage would you expect?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t expepct to suffer any damage.\u00A0 Go ahead, I\u0027ll be fine thanks *grin*\n\u003C/p\u003E\n"}]}