{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":364,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-23T11:01:30Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, \uC544\uBB34\uC0DD\uAC01 said:\n\u003E \n\u003E \n\u003E How do you control the wind speed? please\n\u003E \n\n\u003E \n\u003E \n\u003E 3 hours ago, Beetlecat said:\n\u003E \n\u003E \n\u003E Do you mean the speed/intensity of the waves? I don\u0027t think that\u0027s adjustable yet. Otherwise there\u0027s no simulated atmospheric wind.\n\u003E \n\nWind speed is an adjustable parameter which affects the waves size, it\u0027s configurable from the UI (alt-f11 -\u003E ocean settings -\u003E wind speed -\u003E rebuild ocean) or from the ocean.cfg, so it\u0027s adjustable manually, in the future it will be dynamic. Simulated atmospheric wind is probably out of scope :p \n\n**Edited \u003Ctime datetime=\u00222020-12-23T11:01:54Z\u0022 title=\u002212/23/2020 11:01  AM\u0022 data-short=\u00223 yr\u0022\u003EDecember 23, 2020\u003C/time\u003E by blackrack**"},{"CreatedByName":"alartor","CreatedById":207261,"CreatedDateTime":"2020-12-24T01:11:06Z","Content":"In case it helps: this mod seems to work OK for me in KSP 1.11\n\nI\u0027ve briefly tested it, with the following list of things installed:\n\nKSP 1.11.0.3045 win x64 (Steam)  \n\nMaking History 1.11.0  \n\nBreaking Ground 1.6.0\n\nChatterer v0.9.99 - Keep talking!  \n\nClick Through Blocker 0.1.10.14  \n\nDocking Sounds!! 2.1.12.27690 (10/7/16)  \n\nE.V.E. Redux 1.11.1.1 (from blackrack) \u002B Configs-1.2.2.1 (from WazWaz)  \n\nFinal Frontier 1.10.0-3485 \u002B KerbFleet Custom Ribbons 1.2.0  \n\nKerbal Alarm Clock 3.13.0.0  \n\nModule Manager 4.1.4  \n\nPlanetShine v0.2.6.3  \n\nRover Wheel Sounds (Revived) v1.8.1.11.20.19 (from DoctorDavinci, .dll overwritten with the one from MAFman)  \n\nScatterer - atmospheric scattering 0.0722  \n\nTexture Replacer 4.3  \n\nToolbarController 0.1.9.4  \n\n[x] Science! v5.26\n\nThe only detail I would mention is that, if played in 4k resolution (3804 x 2160), the UI for this mod is too tiny to see comfortably. It would be great if it could be scaled (maybe just the same as the UI Scale option from stock settings?). At any rate, thank you very much to the developer(s) of this mod!"},{"CreatedByName":"BlackEyedPhantom","CreatedById":203318,"CreatedDateTime":"2020-12-24T21:04:11Z","Content":"How can i apply the godrays???"},{"CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2020-12-26T13:04:42Z","Content":"\u003E \n\u003E \n\u003E On 12/18/2020 at 6:20 AM, ItsSnowyy said:\n\u003E \n\u003E \n\u003E [![YjAjNI0.jpg](https://i.imgur.com/YjAjNI0.jpg)](https://i.imgur.com/YjAjNI0.jpg \u0022Enlarge image\u0022) got this bug when i was doing reentry in in 1.11\n\u003E \n\nI had it happen again and got it on video. \n\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 width=\u0022200\u0022 data-embed-src=\u0022https://www.youtube.com/embed/ssyWMxFf9xY?feature=oembed\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-26T13:42:20Z","Content":"\u003E \n\u003E \n\u003E On 12/24/2020 at 10:04 PM, BlackEyedPhantom said:\n\u003E \n\u003E \n\u003E How can i apply the godrays???\n\u003E \n\nThey are applied by default so you have nothing to do, unless you are using a config from a visual pack which disables them or disables long distance shadows.\n\n\u003E \n\u003E \n\u003E 35 minutes ago, eberkain said:\n\u003E \n\u003E \n\u003E I had it happen again and got it on video.\n\u003E \n\nAlright, I think it\u0027s an old shadow cascade not getting cleared if nothing is rendered to it. Will fix for next version."},{"CreatedByName":"abbiii","CreatedById":203126,"CreatedDateTime":"2020-12-27T18:52:30Z","Content":"Occasionally getting a bug like this when timewarping and approaching a body quickly. It goes away once I get close enough\n\nCouple more pics: [https://imgur.com/a/wAGKQfS](https://imgur.com/a/wAGKQfS)\n\n![kMDR0RI.png](https://i.imgur.com/kMDR0RI.png)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-27T19:23:00Z","Content":"\u003E \n\u003E \n\u003E 30 minutes ago, abbiii said:\n\u003E \n\u003E \n\u003E Occasionally getting a bug like this when timewarping and approaching a body quickly. It goes away once I get close enough\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Couple more pics: [https://imgur.com/a/wAGKQfS](https://imgur.com/a/wAGKQfS)\n\u003E \n\nWhy does your album say \u0022Parallax bugs\u0022 but you\u0027re posting it here?\n\n**Edited \u003Ctime datetime=\u00222020-12-27T19:23:20Z\u0022 title=\u002212/27/2020 07:23  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 27, 2020\u003C/time\u003E by blackrack**"},{"CreatedByName":"abbiii","CreatedById":203126,"CreatedDateTime":"2020-12-27T19:40:56Z","Content":"\u003E \n\u003E \n\u003E 16 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Why does your album say \u0022Parallax bugs\u0022 but you\u0027re posting it here?\n\u003E \n\nBrain fart, I meant to write Scatterer bugs. But if I\u0027m honest I guess the bug could be caused byParallax too, I figured you might have a better idea"},{"CreatedByName":"D0m1nu2","CreatedById":207339,"CreatedDateTime":"2020-12-28T22:58:49Z","Content":"\u003E \n\u003E \n\u003E On 11/29/2020 at 4:00 PM, blackrack said:\n\u003E \n\u003E \n\u003E This will be a long post so grab some snacks ![:)](//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have been working on implementing a new godray technique:  \n\u003E [![q9f5E2q.jpg](https://i.imgur.com/q9f5E2q.jpg)](https://i.imgur.com/q9f5E2q.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![nvYna3o.jpg](https://i.imgur.com/nvYna3o.jpg)](https://i.imgur.com/nvYna3o.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![IkeSCsg.jpg](https://i.imgur.com/IkeSCsg.jpg)](https://i.imgur.com/IkeSCsg.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![7M74m4f.jpg](https://i.imgur.com/7M74m4f.jpg)](https://i.imgur.com/7M74m4f.jpg \u0022Enlarge image\u0022)  \n\u003E \n\u003E    \n\u003E \n\u003E Some of you might remember I used to have godrays in scatterer a while back, well that implementation was flawed and had many issues, here is a direct comparison between the old and new technique.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![vd5JmIo.jpg](https://i.imgur.com/vd5JmIo.jpg)](https://i.imgur.com/vd5JmIo.jpg \u0022Enlarge image\u0022)  \n\u003E \n\u003E    \n\u003E \n\u003E The old technique was only getting the \u0022outer surface\u0022, and couldn\u0027t handle overlapping rays and get the real depth, it also often had gaps.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![OzAKGdh.jpg](https://i.imgur.com/OzAKGdh.jpg)](https://i.imgur.com/OzAKGdh.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The new technique creates a light volume and handles overlapping rays and complex shapes, it uses shadow information so is directly tied to shadowmap resolution, shadow distance etc (now you understand why I was insisting on \u0022fixing\u0022 shadows in the last update).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![A4h6bqe.jpg](https://i.imgur.com/A4h6bqe.jpg)](https://i.imgur.com/A4h6bqe.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![WbJLo5O.jpg](https://i.imgur.com/WbJLo5O.jpg)](https://i.imgur.com/WbJLo5O.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E To put this new technique to the test, I built this huge monolith.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![28kqkK3.jpg](https://i.imgur.com/28kqkK3.jpg)](https://i.imgur.com/28kqkK3.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I call this: \u0022The Temple of Godrays\u0022\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![cLUE9hf.jpg](https://i.imgur.com/cLUE9hf.jpg)](https://i.imgur.com/cLUE9hf.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I boosted scattering exposure a bit here, you can see light columns formed by the holes in the ceiling\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![4b7xgp3.jpg](https://i.imgur.com/4b7xgp3.jpg)](https://i.imgur.com/4b7xgp3.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E As you can see, it\u0027s a true volumetric effect and not screen-space\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![4GuCFqz.jpg](https://i.imgur.com/4GuCFqz.jpg)](https://i.imgur.com/4GuCFqz.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With this new technique I\u0027m also able to inject any information I want to create godrays, I\u0027m currently adapting it to have \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E clouds cast godrays, although it still needs a lot of work:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![R5GqHqp.jpg](https://i.imgur.com/R5GqHqp.jpg)](https://i.imgur.com/R5GqHqp.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Laythe\u0027s surface looking magical:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![eMBktvv.jpg](https://i.imgur.com/eMBktvv.jpg)](https://i.imgur.com/eMBktvv.jpg \u0022Enlarge image\u0022)  \n\u003E [![PoshUniformErne-size_restricted.gif](https://thumbs.gfycat.com/PoshUniformErne-size_restricted.gif)](https://thumbs.gfycat.com/PoshUniformErne-size_restricted.gif \u0022Enlarge image\u0022)  \n\u003E \n\u003E webm: [https://gfycat.com/poshuniformerne](https://gfycat.com/poshuniformerne)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I have to say though this looked simple to me going in, it\u0027s probably been one of the most complex features for me to implement and pretty much took everything I learned in the last few years about graphics programming and the unity engine to get it working.  \n\u003E \n\u003E These godrays will only work on Directx11 (they require the unified camera setup).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E Moving on, a few versions back I added underwater caustics. The next logical step was to create underwater light rays:  \n\u003E [![0NYSE58.jpg](https://i.imgur.com/0NYSE58.jpg)](https://i.imgur.com/0NYSE58.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Short video: [https://gfycat.com/sillypeskybaldeagle](https://gfycat.com/sillypeskybaldeagle)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E These use a completely different technique from the godray technique used for terrain and clouds, more adapted for short distances and semi-transparencies.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here the lightrays are derived directly from the caustics textures and config, you can follow any light ray to the matching caustic.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![fHeDbOB.jpg](https://i.imgur.com/fHeDbOB.jpg)](https://i.imgur.com/fHeDbOB.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here are some beauty shots, as you can probably see, this is inspired by subnautica.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![qIyKH5I.jpg](https://i.imgur.com/qIyKH5I.jpg)](https://i.imgur.com/qIyKH5I.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![R3ZlAIp.jpg](https://i.imgur.com/R3ZlAIp.jpg)](https://i.imgur.com/R3ZlAIp.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E We can also do the same \u201Ctemple test\u201D as we did for godrays but underwater\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![CtNmuCi.jpg](https://i.imgur.com/CtNmuCi.jpg)](https://i.imgur.com/CtNmuCi.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![nsimbyw.jpg](https://i.imgur.com/nsimbyw.jpg)](https://i.imgur.com/nsimbyw.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![UrdEN94.jpg](https://i.imgur.com/UrdEN94.jpg)](https://i.imgur.com/UrdEN94.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Moving on, since the ocean shader was added, it has always looked nice, but any ships on the water surface were always static and not interacting with the waves, as if they were anchored in place.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E Some will remember that I showed a prototype in 2016 were a ship was interacting with waves. Since the ocean was created and animated on the GPU, in the 2016 implementation I re-did all the ocean calculations on the CPU, so that the height info would be available on the CPU for physics, so it was slow (as it\u0027s a computationally heavy task that benefits from parallelization but that\u0027s the GPU\u0027s job) and had a very hefty CPU impact, moreover my knowledge was limited at the time, and the implementation was unstable and caused ships to disintegrate, often within seconds.  \n\u003E \n\u003E Well, here\u0027s the new version:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![SplendidCelebratedDodobird-size_restrict](https://thumbs.gfycat.com/SplendidCelebratedDodobird-size_restricted.gif)](https://thumbs.gfycat.com/SplendidCelebratedDodobird-size_restricted.gif \u0022Enlarge image\u0022)  \n\u003E \n\u003E Webm: [https://gfycat.com/splendidcelebrateddodobird](https://gfycat.com/splendidcelebrateddodobird)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It appears stable even with multiple ships\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![EvilExcellentBobwhite-size_restricted.gi](https://thumbs.gfycat.com/EvilExcellentBobwhite-size_restricted.gif)](https://thumbs.gfycat.com/EvilExcellentBobwhite-size_restricted.gif \u0022Enlarge image\u0022)  \n\u003E \n\u003E Watch in HD: [https://gfycat.com/evilexcellentbobwhite](https://gfycat.com/evilexcellentbobwhite)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Although it can of course destroy your ships if the waves are big.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E Here is a boat caught in a massive storm (ridiculous buoyancy on the boat here):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![ImaginaryJadedAfricanaugurbuzzard-size_r](https://thumbs.gfycat.com/ImaginaryJadedAfricanaugurbuzzard-size_restricted.gif)](https://thumbs.gfycat.com/ImaginaryJadedAfricanaugurbuzzard-size_restricted.gif \u0022Enlarge image\u0022)  \n\u003E \n\u003E Webm:  [https://gfycat.com/imaginaryjadedafricanaugurbuzzard](https://gfycat.com/imaginaryjadedafricanaugurbuzzard)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E What\u0027s impressive, this runs with nearly no performance impact. How can it run so well when the old version destroyed performance? There is a big trick here, can you tell what is going on?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Wave interactions will only work on Directx11, if you haven\u0027t guessed, the magic feature that makes this work is async GPU readback which is sadly not implemented by unity for OpenGL.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With this, there are other limitations like jittering and cutting that become apparent in the ocean shader when the waves are bigger (there was never a reason before to have big waves when vessels stayed \u0022anchored\u0022), as well as how static the ocean config is, in a future update I will work on making the ocean dynamic, I will start with a simple weather system so the waves can change dynamically, we\u0027ll see where this goes.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Gameplay-wise, it makes moving against the waves difficult, the water seems to slow down ships a lot on every impact, however reasonable/small waves are a pleasure to navigate. I\u0027m also looking forward to see the first guy to stabilize a boat by moving fuel in between tanks with a kOS script. Vessel recovery can be an issue too, although I have workarounds to test.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Moving on, \u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003E\u003Cabbr title=\u0022Real Solar System (mod)\u0022\u003ERSS\u003C/abbr\u003E\u003C/abbr\u003E/Rescale users will be happy to know that I\u2019ve fixed this issue where scattering is cut off in the distance (without changing the clip planes)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![zmM8wcI.jpg](https://i.imgur.com/zmM8wcI.jpg)](https://i.imgur.com/zmM8wcI.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You might still be able to spot a discrepancy where local terrain and scaled terrain meet, but it\u0027s a small one.  \n\u003E \n\u003E Using the same technique I\u2019ve also fixed this issue where mountains might look overbright white when ascending to orbit\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![GSkiuNt.jpg](https://i.imgur.com/GSkiuNt.jpg)](https://i.imgur.com/GSkiuNt.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And for OpenGL users who must be feeling left out by now due to no godrays and wave interactions on Opengl, at least I have something for you. Since unity added compute shader support outside Directx11: Config tool builds for Linux and Mac:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://github.com/LGhassen/Scatterer/releases/download/0.1-mac-conftool/ConfigToolLinux.zip](https://github.com/LGhassen/Scatterer/releases/download/0.1-mac-conftool/ConfigToolLinux.zip)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://github.com/LGhassen/Scatterer/releases/download/0.1-mac-conftool/MacConfTool.app.zip](https://github.com/LGhassen/Scatterer/releases/download/0.1-mac-conftool/MacConfTool.app.zip)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E Also, actual documentation for scatterer is here on the wiki, although still a work in progress\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![7HNVqYF.jpg](https://i.imgur.com/7HNVqYF.jpg)](https://i.imgur.com/7HNVqYF.jpg \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [https://github.com/LGhassen/Scatterer/wiki](https://github.com/LGhassen/Scatterer/wiki)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E With that said, I really love modding and exploring what can be done, I feel like I\u0027m close to \u0022finishing\u0022 Scatterer, but the topics involved are increasingly complex and time-consuming to work on.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E As I want to continue modding, I decided to set up a Patreon, hoping to make modding more sustainable for me. This doesn\u0027t mean my mods will become paid, they will be available for everyone of course, however patrons will get early access to in-dev features and previews, and I get to spend more time doing what I love and adding new features everyone can enjoy, and finally finding the time to work on some things that I never could, and fixing the layer of jankiness around my old code (nevermind that scatterer was my first real programming project). I will be uploading a first build shortly, so stay tuned:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![20TIHMv.png](https://i.imgur.com/20TIHMv.png)](https://www.patreon.com/blackrack)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Please consider supporting me there if you appreciate my work, and if you can\u0027t, that\u0027s alright too, releases will always be public.\n\u003E \n\nHi, is there some public release of you awesome scatterer configs? I wanna try to interactive water so far. (If there is send me link please)"},{"CreatedByName":"Minmus Taster","CreatedById":206159,"CreatedDateTime":"2020-12-28T23:32:17Z","Content":"\u003E \n\u003E \n\u003E 32 minutes ago, D0m1nu2 said:\n\u003E \n\u003E \n\u003E Hi, is there some public release of you awesome scatterer configs? I wanna try to interactive water so far. (If there is send me link please)\n\u003E \n\nIt\u0027s out."},{"CreatedByName":"D0m1nu2","CreatedById":207339,"CreatedDateTime":"2020-12-29T00:06:46Z","Content":"\u003E \n\u003E \n\u003E 33 minutes ago, Minmus Taster said:\n\u003E \n\u003E \n\u003E It\u0027s out.\n\u003E \n\nCould you send me a link for it please."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-29T00:15:30Z","Content":"\u003E \n\u003E \n\u003E 7 minutes ago, D0m1nu2 said:\n\u003E \n\u003E \n\u003E Could you send me a link for it please.\n\u003E \n\n![:huh:](//s3.us-west-2.amazonaws.com/kerbal-forum-uploads/emoticons/default_k_undecided.gif \u0022:huh:\u0022)\n\n\u003E \n\u003E \n\u003E On 12/27/2020 at 8:40 PM, abbiii said:\n\u003E \n\u003E \n\u003E Brain fart, I meant to write Scatterer bugs. But if I\u0027m honest I guess the bug could be caused byParallax too, I figured you might have a better idea\n\u003E \n\nI\u0027m just going to say that doesn\u0027t look like a scatterer issue to me though, looks like some terrain tiles are not disabled in scaled space"},{"CreatedByName":"Caerfinon","CreatedById":207619,"CreatedDateTime":"2020-12-29T00:21:03Z","Content":"\u003E \n\u003E \n\u003E 11 minutes ago, D0m1nu2 said:\n\u003E \n\u003E \n\u003E Could you send me a link for it please.\n\u003E \n\n\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E or Spacedock... or a look at the first page of this forum....  but because it\u0027s \u0022Christmas Adjacent\u0022  [https://spacedock.info/mod/141/scatterer](https://spacedock.info/mod/141/scatterer)"},{"CreatedByName":"Skarch","CreatedById":98140,"CreatedDateTime":"2020-12-29T00:55:37Z","Content":"Long time KSP and Scatterer user...  But I\u0027m having problems with cloud shadows (\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E) on oceans, hoping someone can offer some insight?  Thank you!\n\nEver since Scatterer introduced the ocean waves (awesome!) I\u0027ve had an issue where cloud shadows (\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E) will not render on the ocean (land is fine) below a certain orbital altitude, approx 150k.  \n\nIf I go into wireframe view, I can see that below 150k-ish a new set of (ocean?) wireframes is generated, and it looks like the shadows will not render on those wireframes. I\u0027m super guessing that above 150k-ish the ocean is \u0022flat\u0022 but when I move/zoom below 150k-ish the Scatterer wave effect kicks in using different meshes?\n\nThe last KSP version where cloud ocean shadows worked correctly for me was 1.7.3.  On 1.9, 1.10 and 1.11 their are no cloud shadows on the oceans below 150k-ish. (Above 150k-ish it looks beautiful!) I\u0027ve tried Scatterer 0600, 0610, 0621, 0632 and 0722.  Ocean shadows work perfectly without Scatterer.\n\nWanted to ask before doing an actual bug report, hoping it might be something on my end regarding my graphics card settings or something, but I\u0027ve tried everything.\n\nHas anyone ever experienced this or have any ideas/suggestions?  Do ocean cloud shadows work fine at all altitudes for most everyone?\n\nThanks in advance!"},{"CreatedByName":"kirmie44","CreatedById":73929,"CreatedDateTime":"2020-12-29T06:34:00Z","Content":"Another completely useless Bug report because i have no pictures or log file but im getting rainbow clouds with the new update. I reverted back to the old update and it seems to be working fine. sorry for a lack of info but thought about telling you too late."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-29T07:35:27Z","Content":"\u003E \n\u003E \n\u003E 6 hours ago, Skarch said:\n\u003E \n\u003E \n\u003E Long time KSP and Scatterer user...  But I\u0027m having problems with cloud shadows (\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E) on oceans, hoping someone can offer some insight?  Thank you!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ever since Scatterer introduced the ocean waves (awesome!) I\u0027ve had an issue where cloud shadows (\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E) will not render on the ocean (land is fine) below a certain orbital altitude, approx 150k.  \n\u003E   \n\u003E \n\u003E If I go into wireframe view, I can see that below 150k-ish a new set of (ocean?) wireframes is generated, and it looks like the shadows will not render on those wireframes. I\u0027m super guessing that above 150k-ish the ocean is \u0022flat\u0022 but when I move/zoom below 150k-ish the Scatterer wave effect kicks in using different meshes?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The last KSP version where cloud ocean shadows worked correctly for me was 1.7.3.  On 1.9, 1.10 and 1.11 their are no cloud shadows on the oceans below 150k-ish. (Above 150k-ish it looks beautiful!) I\u0027ve tried Scatterer 0600, 0610, 0621, 0632 and 0722.  Ocean shadows work perfectly without Scatterer.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Wanted to ask before doing an actual bug report, hoping it might be something on my end regarding my graphics card settings or something, but I\u0027ve tried everything.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Has anyone ever experienced this or have any ideas/suggestions?  Do ocean cloud shadows work fine at all altitudes for most everyone?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks in advance!\n\u003E \n\nCloud shadows have never worked \u0022correctly\u0022 with the scatterer ocean. If you go back to the old version you\u0027ll see they ignore any waves and render through in weird ways. They have to be integrated but I haven\u0027t done it yet.\n\n\u003E \n\u003E \n\u003E 57 minutes ago, kirmie44 said:\n\u003E \n\u003E \n\u003E Another completely useless Bug report because i have no pictures or log file but im getting rainbow clouds with the new update. I reverted back to the old update and it seems to be working fine. sorry for a lack of info but thought about telling you too late.\n\u003E \n\nI\u0027m guessing you are using a visual pack, old scatterer configs have to be slightly adjusted due to changes in the cloud integration shading."},{"CreatedByName":"kirmie44","CreatedById":73929,"CreatedDateTime":"2020-12-29T08:50:02Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E I\u0027m guessing you are using a visual pack, old scatterer configs have to be slightly adjusted due to changes in the cloud integration shading.\n\u003E \n\nAh, that explains it. I\u0027m using Spectra which hasn\u0027t been updated yet. Thanks for the info!"},{"CreatedByName":"Minmus Taster","CreatedById":206159,"CreatedDateTime":"2020-12-29T13:12:41Z","Content":"\u003E \n\u003E \n\u003E 13 hours ago, D0m1nu2 said:\n\u003E \n\u003E \n\u003E Could you send me a link for it please.\n\u003E \n\ngo to github and get lastest release."},{"CreatedByName":"Skarch","CreatedById":98140,"CreatedDateTime":"2020-12-29T22:59:01Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Cloud shadows have never worked \u0022correctly\u0022 with the scatterer ocean. If you go back to the old version you\u0027ll see they ignore any waves and render through in weird ways. They have to be integrated but I haven\u0027t done it yet.\n\u003E \n\nHey, thanks for the reply!  Okay, I shall patiently look forward to the integration.  Thanks again!"},{"CreatedByName":"Atlas Gaming","CreatedById":196160,"CreatedDateTime":"2020-12-30T05:04:20Z","Content":"\u003E \n\u003E \n\u003E On 12/19/2020 at 11:21 AM, blackrack said:\n\u003E \n\u003E \n\u003E So this is actually caused by godrays being passed a shadowmap resolution of 0, and the reason is these variables are missing from Spectra config, but the new version enables godrays by default if the config is missing. Either enable terrain shadows \u002B the shadowmap resolution override, or disable godrays, that\u0027s it really.\n\u003E \n\nSo I have the same issue in 1.11 and I tried turning off godrays and it still spams the log file. \n\n![p.jpeg?fv_content=true\u0026size_mode=5](https://uc674fa1464c641d4790c58f62d7.previews.dropboxusercontent.com/p/thumb/ABB39mxr8coNmpNU7Nvt4M4W_kD2xMs_UoXlCVsdcWKp8gb0PBIth7gxpwjM_Od1A98gIDYDdsHQJZG6Tg9bLBjMaipB-vP8vynVxvnjhVlq-T2RyUHXypgdFHdSsblaB-4RQyhfcq8009eWZ91Xasuale7BOaz37s2zuFnGcgwGD36m8U-3VN2slUb2Tx1PcDB69QcN1_hIASFBxkigrrfCVVz3fopFaeiu6JwbQwnKGKQRlvE70K47xJZYah6EZKoTEwTBYXmiuab8fggCziVnkL1NQsa89TExGVK2gEklU-H3Q8jZk_a4YDN85mjk6iB7dmkmHw1Nl0qMTc0xL4LnWWYDQyhLlwFmBjab8oi7kEX3_wfEChCHZEZMv73qsrNeTUEtdnTVfWylv6cqQiEs/p.jpeg?fv_content=true\u0026size_mode=5)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-30T09:54:24Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Atlas Gaming said:\n\u003E \n\u003E \n\u003E So I have the same issue in 1.11 and I tried turning off godrays and it still spams the log file. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![p.jpeg?fv_content=true\u0026size_mode=5](https://uc674fa1464c641d4790c58f62d7.previews.dropboxusercontent.com/p/thumb/ABB39mxr8coNmpNU7Nvt4M4W_kD2xMs_UoXlCVsdcWKp8gb0PBIth7gxpwjM_Od1A98gIDYDdsHQJZG6Tg9bLBjMaipB-vP8vynVxvnjhVlq-T2RyUHXypgdFHdSsblaB-4RQyhfcq8009eWZ91Xasuale7BOaz37s2zuFnGcgwGD36m8U-3VN2slUb2Tx1PcDB69QcN1_hIASFBxkigrrfCVVz3fopFaeiu6JwbQwnKGKQRlvE70K47xJZYah6EZKoTEwTBYXmiuab8fggCziVnkL1NQsa89TExGVK2gEklU-H3Q8jZk_a4YDN85mjk6iB7dmkmHw1Nl0qMTc0xL4LnWWYDQyhLlwFmBjab8oi7kEX3_wfEChCHZEZMv73qsrNeTUEtdnTVfWylv6cqQiEs/p.jpeg?fv_content=true\u0026size_mode=5)](https://uc674fa1464c641d4790c58f62d7.previews.dropboxusercontent.com/p/thumb/ABB39mxr8coNmpNU7Nvt4M4W_kD2xMs_UoXlCVsdcWKp8gb0PBIth7gxpwjM_Od1A98gIDYDdsHQJZG6Tg9bLBjMaipB-vP8vynVxvnjhVlq-T2RyUHXypgdFHdSsblaB-4RQyhfcq8009eWZ91Xasuale7BOaz37s2zuFnGcgwGD36m8U-3VN2slUb2Tx1PcDB69QcN1_hIASFBxkigrrfCVVz3fopFaeiu6JwbQwnKGKQRlvE70K47xJZYah6EZKoTEwTBYXmiuab8fggCziVnkL1NQsa89TExGVK2gEklU-H3Q8jZk_a4YDN85mjk6iB7dmkmHw1Nl0qMTc0xL4LnWWYDQyhLlwFmBjab8oi7kEX3_wfEChCHZEZMv73qsrNeTUEtdnTVfWylv6cqQiEs/p.jpeg?fv_content=true\u0026size_mode=5 \u0022Enlarge image\u0022)\n\u003E \n\nYou probably have a visuals pack overriding the config via a ModuleManager patch, you have to modify that"},{"CreatedByName":"evileye.x","CreatedById":153755,"CreatedDateTime":"2020-12-30T10:23:27Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Atlas Gaming said:\n\u003E \n\u003E \n\u003E So I have the same issue in 1.11 and I tried turning off godrays and it still spams the log file.\n\u003E \n\nWhat visual or planet pack do you use? JNSQ for example overrides all scatterer\u0027s cfgs."},{"CreatedByName":"Atlas Gaming","CreatedById":196160,"CreatedDateTime":"2020-12-31T01:59:50Z","Content":"\u003E \n\u003E \n\u003E 15 hours ago, evileye.x said:\n\u003E \n\u003E \n\u003E What visual or planet pack do you use? JNSQ for example overrides all scatterer\u0027s cfgs.\n\u003E \n\nNot using anything other than Spectre (if that\u0027s a pack) playing stock size."},{"CreatedByName":"Snoman314","CreatedById":106370,"CreatedDateTime":"2020-12-31T07:52:34Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Atlas Gaming said:\n\u003E \n\u003E \n\u003E Not using anything other than Spectre (if that\u0027s a pack) playing stock size.\n\u003E \n\nSame here. Spectre only, and getting the same log spam."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-31T10:58:02Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Atlas Gaming said:\n\u003E \n\u003E \n\u003E Not using anything other than Spectre (if that\u0027s a pack) playing stock size.\n\u003E \n\n\u003E \n\u003E \n\u003E 3 hours ago, Snoman314 said:\n\u003E \n\u003E \n\u003E Same here. Spectre only, and getting the same log spam.\n\u003E \n\nSpectra overrides the scatterer config"}]}