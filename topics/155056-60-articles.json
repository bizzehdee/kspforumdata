{"TopicId":155056,"ForumId":34,"TopicTitle":"[1.8.x] Kerbal Foundries -- Continued - Tracks, Wheels, and Gear","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2017-01-15T21:33:00Z","PageNum":60,"Articles":[{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2022-08-11T16:08:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162861\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660227158\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s in my previous comment, just a clean install with the dependencies for the mod.\u00A0\u003Cbr\u003E\n\u003Ca href=\u0022https://i.imgur.com/3C9Rklq.jpg\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u00223C9Rklq.jpg\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002298.38\u0022 height=\u0022243\u0022 width=\u0022247\u0022 src=\u0022https://i.imgur.com/3C9Rklq.jpg\u0022\u003E\u003C/a\u003E\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDont want to beat a dead horse, but when you set up your fresh install, was this a completely *new* copy of a KSP you installed to, or did you just delete mods, then install these minimum mods in that?\u003Cbr\u003E\n\u003Cbr\u003E\nif you did the second, did you also delete the bottom 4 ModuleManager files, as well as your /saves folder??\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-08-11T16:09:56Z\u0022 title=\u002208/11/2022 04:09  PM\u0022 data-short=\u00221 yr\u0022\u003EAugust 11, 2022\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2022-08-11T16:13:36Z","Content":"\n\u003Cp\u003E\nI sit corrected. My apologies. I\u0027ll try and reproduce this myself when I get home.\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-11T16:58:06Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162898\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660234125\u0022 data-ipsquote-userid=\u002277721\u0022 data-ipsquote-username=\u0022Stone Blue\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n34 minutes ago, Stone Blue said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDont want to beat a dead horse, but when you set up your fresh install, was this a completely *new* copy of a KSP you installed to, or did you just delete mods, then install these minimum mods in that?\u003Cbr\u003E\n\u003Cbr\u003E\nif you did the second, did you also delete the bottom 4 ModuleManager files, as well as your /saves folder??\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAny of this most likely has nothing to do with it, I don\u0027t even know any of the mods that change\u00A0game files permanently, but just for the sake of being thorough I did this:\n\u003C/p\u003E\n\u003Cp\u003E\nRedownloaded the game from Steam, downloaded the mod and each dependency from scratch, started a new save in this freshly downloaded game.\u00A0No way there\u0027s something that might\u0027ve leaked or even touched any of the files.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EThe bug remains.\u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2022-08-11T17:13:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162914\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660237086\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 minutes ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny of this most likely has nothing to do with it, I don\u0027t even know any of the mods that change\u00A0game files permanently, but just for the sake of being thorough I did this:\n\u003C/p\u003E\n\u003Cp\u003E\nRedownloaded the game from Steam, downloaded the mod and each dependency from scratch, started a new save in this freshly downloaded game.\u00A0No way there\u0027s something that might\u0027ve leaked or even touched any of the files.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cspan style=\u0022font-size:18px;\u0022\u003E\u003Cstrong\u003EThe bug remains.\u00A0\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, here is the problem which \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77721-stone-blue/\u0026amp;do=hovercard\u0022 data-mentionid=\u002277721\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/77721-stone-blue/\u0022 rel=\u0022\u0022\u003E@Stone Blue\u003C/a\u003E\u00A0is talking about:\n\u003C/p\u003E\n\u003Cp\u003E\nIf you deleted the game fro. Steam, it doesn\u0027t delete any non-stock files, you have to manually delete the entire game directory.\u00A0 Did you do that?\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-11T17:20:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162921\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660238033\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIf you deleted the game fro. Steam, it doesn\u0027t delete any non-stock files, you have to manually delete the entire game directory.\u00A0 Did you do that?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNo, because I didn\u0027t even have the game installed in steam initially. It was in a completely different folder. So when I downloaded the game from steam again, it was, in fact, downloaded from scratch.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nI know how folders work.\u00A0\u003Cimg alt=\u0022:/\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png\u0022 title=\u0022:/\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-11T19:48:26Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171956-dok_377/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022171956\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/171956-dok_377/\u0022 rel=\u0022\u0022\u003E@dok_377\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is easily reproducible using the steps you provided. The log doesn\u0027t have any errors and I don\u0027t think it\u0027s going to show anything useful in tracking this down.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nRegarding your repro steps, this actually starts happening with the first iteration of saving/reloading. The very first time you do that, the wheel is irreversibly corrupted. Subsequent saves of the vehicle make it worse. The attach node moves further and further away every time. I don\u0027t get that instability when the vehicle is launched. Maybe because I stopped after 3 iterations. It might be that the wheel gets increasingly unstable the further it is from its attach node. Or maybe my vehicle is just too light, I don\u0027t know.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to look at the\u00A0 craft file next and see how it changes between saves. It\u0027s probably not writing out the correct position. Or maybe it\u0027s rescaling the position twice? Once when you rescale and then rescaling \u003Cem\u003Ethat\u003C/em\u003E when it saves.\n\u003C/p\u003E\n\u003Cp\u003E\n(and actually it is reversible... sort of... you can set the scale below 1 and then save/reload and the attach node position will move closer instead of further)\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-12T03:18:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162960\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660247306\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t get that instability when the vehicle is launched.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMaybe it gets unstable when you reattach a corrupted wheel. I don\u0027t get any instability either, but i don\u0027t reattach already corrupted wheels at all, it\u0027s easier to just grab new ones. And after I discovered the bug, I try to do way less resaving and reopening of the vehicle with KF wheels in general.\u003Cbr\u003E\n\u003Cbr\u003E\nI don\u0027t get why this mod even has nodes on wheels, as you can clearly attach them radially. Maybe we can somehow just delete the node? I tried doing that, but without any luck.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224162960\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660247306\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt\u0027s probably not writing out the correct position. Or maybe it\u0027s rescaling the position twice? Once when you rescale and then rescaling \u003Cem\u003Ethat\u003C/em\u003E when it saves.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt has to be in the rescaling code somewhere. I think I\u0027ve seen something similar with Infernal Robotics NEXT, very similar thing when the robotic part is rescaled. The node just drifts as well. And that mod also has its own rescale code, it\u0027s not using TweakScale, although judging by the file name, it might as well be from TweakScale.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-12T04:50:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163053\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660274281\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, dok_377 said:It has to be in the rescaling code somewhere. I think I\u0027ve seen something similar with Infernal Robotics NEXT, very similar thing when the robotic part is rescaled. The node just drifts as well. And that mod also has its own rescale code, it\u0027s not using TweakScale, although judging by the file name, it might as well be from TweakScale.\u00A0\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u2019s a section of the code that caught my attention but I haven\u2019t been able to investigate too closely.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-12T06:35:53Z","Content":"\n\u003Cp\u003E\nTried to remove the node from one of the parts again and after checking I remembered why it didn\u0027t work. The scaling actually not only offsets the node, but also the surface attachment point as well.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nThen I tried changing the surface attachment line in the KF-WheelTruck-Single.cfg from\u00A0node_attach = 0.31517, 0, 0, 1.0, 0.0, 0.0 to\u00A0node_attach = 0, 0, 0, 1.0, 0.0, 0.0 and it seems to be working. Probably because the rounding error or whatever the scaling does isn\u0027t applying to zero. There\u0027s a side effect: the wheel is now attaching inside of the part it\u0027s getting attached to, this can be fixed with the offset gizmo, but this is still inconvenient.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"NippyFlippers","CreatedById":170364,"CreatedDateTime":"2022-08-12T10:00:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163086\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660286153\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTried to remove the node from one of the parts again and after checking I remembered why it didn\u0027t work. The scaling actually not only offsets the node, but also the surface attachment point as well.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nThen I tried changing the surface attachment line in the KF-WheelTruck-Single.cfg from\u00A0node_attach = 0.31517, 0, 0, 1.0, 0.0, 0.0 to\u00A0node_attach = 0, 0, 0, 1.0, 0.0, 0.0 and it seems to be working. Probably because the rounding error or whatever the scaling does isn\u0027t applying to zero. There\u0027s a side effect: the wheel is now attaching inside of the part it\u0027s getting attached to, this can be fixed with the offset gizmo, but this is still inconvenient.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nEditing the .cfg files is a workaround I can live with. Not sure if it fixes the kraken, though.\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2022-08-12T12:57:35Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163086\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660286153\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nTried to remove the node from one of the parts again and after checking I remembered why it didn\u0027t work. The scaling actually not only offsets the node, but also the surface attachment point as well.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nThen I tried changing the surface attachment line in the KF-WheelTruck-Single.cfg from\u00A0node_attach = 0.31517, 0, 0, 1.0, 0.0, 0.0 to\u00A0node_attach = 0, 0, 0, 1.0, 0.0, 0.0 and it seems to be working. Probably because the rounding error or whatever the scaling does isn\u0027t applying to zero. There\u0027s a side effect: the wheel is now attaching inside of the part it\u0027s getting attached to, this can be fixed with the offset gizmo, but this is still inconvenient.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAlmost sounds like when the scaling is being done, its being done on either \u0060rescaleFactor\u0060 or \u0060scale\u0060.... (but \u0060scale\u0060 *outside* the MODEL node...\u003Cbr\u003E\nPretty sure changing rescaleFactor, scales not only the model, but all the attachment/stack nodes, too... dont remember if changing \u0060scale\u0060 *outside* the MODEL node does it or not, too\u003Cbr\u003E\n\u003Cbr\u003E\nUsing/changing a \u0060scale =\u0060 *inside* the MODEL node, scales the model but *NOT* any attachment/stac nodes with it.\u003Cbr\u003E\n\u003Cbr\u003E\nIn your example, changing the X value to zero, just means its now sclaing the node against zero, which results in a 0.0 result no matter what the scaling is doing... so, yeah, a workaround \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003Cbr\u003E\n\u003Cbr\u003E\nEDIT:\u003Cbr\u003E\nAhh.. so i just poked that wheel model... i see why the attachment node X value is set that amount, as I figured...\u003Cbr\u003E\nThe root origin for the part, is not on the backkside of the attachment collider, but at the lower, outer pivot point of the suspension.\u003Cbr\u003E\nSo any scaling is being done from there, which is scaling that distance between the two...\u003Cbr\u003E\nAnother option to fixing this in code, would be to fix the model, and set the origin point to where the bac of the attachment collider is... then the scaling would always be applied from there, which would be your new 0,0,0 point, and scaling wouldnt change that point\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-08-12T13:25:20Z\u0022 title=\u002208/12/2022 01:25  PM\u0022 data-short=\u00221 yr\u0022\u003EAugust 12, 2022\u003C/time\u003E by Stone Blue\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-12T13:17:04Z","Content":"\n\u003Cp\u003E\nThis is where rescaling is happening.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/blob/master/VSProject/KSPWheel/PartModules/Utils.cs#L461-L488\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/blob/master/VSProject/KSPWheel/PartModules/Utils.cs#L461-L488\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nProblem is, that file has not changed in three years. And the function in question hasn\u0027t changed in five years. So this is being caused by KSP changes. Probably because of changing the value of originalPosition. Maybe related to the KSP changes that cause robotic parts drifting.\n\u003C/p\u003E\n\u003Cp\u003E\nI have an idea for fixing this if I can find some time to work with the code and compile and test. Or at least see if I\u0027m barking up the wrong tree.\n\u003C/p\u003E\n"},{"CreatedByName":"NippyFlippers","CreatedById":170364,"CreatedDateTime":"2022-08-12T13:25:46Z","Content":"\n\u003Cp\u003E\nOh, man. It would be so great to see that mod getting an updaten and getting brought back from the brink.\n\u003C/p\u003E\n"},{"CreatedByName":"damerell","CreatedById":123074,"CreatedDateTime":"2022-08-12T14:49:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163053\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660274281\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t get why this mod even has nodes on wheels, as you can clearly attach them radially. Maybe we can somehow just delete the node? I tried doing that, but without any luck.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nPrecise positioning is easy in a node-node world.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163150\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660310746\u0022 data-ipsquote-userid=\u0022170364\u0022 data-ipsquote-username=\u0022NippyFlippers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, NippyFlippers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nOh, man. It would be so great to see that mod getting an updaten and getting brought back from the brink.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m not sure \u0022fit first then resize\u0022 in newer KSP versions is on the brink, even if it is mildly annoying.\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-12T18:02:23Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163175\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660315791\u0022 data-ipsquote-userid=\u0022123074\u0022 data-ipsquote-username=\u0022damerell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, damerell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPrecise positioning is easy in a node-node world.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure \u0022fit first then resize\u0022 in newer KSP versions is on the brink, even if it is mildly annoying.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just realized, whether or not it has a stack node is irrelevant. The stack node just happens to coincide with the surface attach node. It\u0027s a good visual indication of what\u0027s happening but its presence or absence won\u0027t affect anything. They\u0027re both being rescaled the same way.\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-12T18:09:09Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163237\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660327343\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 minutes ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI just realized, whether or not it has a stack node is irrelevant. The stack node just happens to coincide with the surface attach node. It\u0027s a good visual indication of what\u0027s happening but its presence or absence won\u0027t affect anything. They\u0027re both being rescaled the same way.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYep.\u00A0\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163086\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660286153\u0022 data-ipsquote-userid=\u0022171956\u0022 data-ipsquote-username=\u0022dok_377\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n11 hours ago, dok_377 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe scaling actually not only offsets the node, but also the surface attachment point as well.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Stone Blue","CreatedById":77721,"CreatedDateTime":"2022-08-12T18:27:01Z","Content":"\n\u003Cp\u003E\nyeah.. this is why I think its a good idea, to try to set the root origin on the model, as 0,0,0, but in a way, so that that point is actually where the surface attach node, or at least a main stac node, are gonna be... if the root origin is in the *center* of the geometry for the model, as in this case, any scaling has to do sclaing along both the positive/negative side of *every* axis... you can eliminate quite a lot of scaling along both sides of every axis, and keep at least one (main) attach node always @ 0,0,0 so it *never* moves\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-13T02:04:36Z","Content":"\n\u003Cp\u003E\nOk so, the damage is actually being done when the craft (with rescaled wheel) is \u003Cem\u003Eloaded\u003C/em\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I see where the problem is and it\u0027s been staring me in the face the whole time. I just didn\u0027t want to see it because it means that this problem (with the nodes specifically) has always existed. And that we just never noticed it.\n\u003C/p\u003E\n\u003Cp\u003E\nFrom UpdateAttachNode(Part part, AttachNode node, float prevScale, float newScale, bool userInput)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003E            Vector3 basePosition = node.position / prevScale;\n            Vector3 newPosition = basePosition * newScale;\n            Vector3 diff = newPosition - node.position;\n            node.position = node.originalPosition = newPosition;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI think the problem there is because prevScale defaults to 1 and I don\u0027t think it\u0027s being changed when the craft is loaded (and the PartModule initialized)\n\u003C/p\u003E\n\u003Cp\u003E\nBut newScale comes from the persistent field scale which is saved with the craft file.\n\u003C/p\u003E\n\u003Cul\u003E\n\u003Cli\u003E\nSo let\u0027s say I set the scale to 10 (this will give you immediate feedback with the first iteration)\n\u003C/li\u003E\n\u003Cli\u003E\nSave and reload craft.\n\u003C/li\u003E\n\u003Cli\u003E\nbasePosition = position divided by prevScale (1)\n\u003C/li\u003E\n\u003Cli\u003E\nnewPosition = basePosition times newScale (10)\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cp\u003E\nAaaaaaand we just multiplied our attach position by 10. Every time the craft file is loaded.\n\u003C/p\u003E\n\u003Cp\u003E\nShould be pretty easy to fix, just set prevScale to scale in initializeScaling().\u00A0 I\u0027m getting ready to test that now, but that only fixes the node issue. I haven\u0027t been able to repro the instability. If anyone wants to throw an unstable rover my way (using just KF \u002B stock \u002B any DLC; I have them all) then I\u0027ll try testing with it.\u00A0 Or I can provide dll with the fix for someone else to try. (it would not fix already affected craft, those will need their wheels replaced)\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-13T05:22:50Z","Content":"\n\u003Cp\u003E\nHere\u0027s the dll to test with. I tried it out, looks good, nodes are behaving themselves between loads\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=1\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-13T08:18:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163413\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660368170\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere\u0027s the dll to test with. I tried it out, looks good, nodes are behaving themselves between loads\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=1\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSeems to be working without issues. Resaving, reopening, saving as subassemblies. Nodes are staying in place. Also built a simple rover and drove around for 20 minutes, saved and loaded the game, left the scene and came back, timewarped. No issues as well. I\u0027ll let you know if I find something in the future.\u00A0\u003Cbr\u003E\n\u003Cbr\u003E\nThank you for this fix.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-08-13T08:21:11Z\u0022 title=\u002208/13/2022 08:21  AM\u0022 data-short=\u00221 yr\u0022\u003EAugust 13, 2022\u003C/time\u003E by dok_377\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NippyFlippers","CreatedById":170364,"CreatedDateTime":"2022-08-13T13:05:04Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163413\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660368170\u0022 data-ipsquote-userid=\u002271262\u0022 data-ipsquote-username=\u0022Starwaster\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n7 hours ago, Starwaster said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHere\u0027s the dll to test with. I tried it out, looks good, nodes are behaving themselves between loads\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/kqnicwc26m4ba98/KSPWheel.dll?dl=1\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYou are doing wonders, man. Will that KSPWheel mod get an offical update with your .dll? Other players should profit from that, too!\n\u003C/p\u003E\n\u003Cp\u003E\nThe wheel seems to work fine now. I subjected the rovers to every obscenity I could come up with and it stays stable, no more kraken.\n\u003C/p\u003E\n\u003Cp\u003E\nI mean, look at her! Isn\u0027t she magnificent?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022586L9Xv.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002275.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/586L9Xv.png\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-13T13:07:46Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163456\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660395904\u0022 data-ipsquote-userid=\u0022170364\u0022 data-ipsquote-username=\u0022NippyFlippers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nJust now, NippyFlippers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou are doing wonders, man. Will that KSPWheel mod get an offical update with your .dll? Other players should profit from that, too!\n\u003C/p\u003E\n\u003Cp\u003E\nThe wheel seems to work fine now. I subjected the rovers to every obscenity I could come up with and it stays stable, no more kraken.\n\u003C/p\u003E\n\u003Cp\u003E\nI mean, look at her! Isn\u0027t she magnificent?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooks beautiful!\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as an official update, that\u0027s up to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022138730\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/\u0022 rel=\u0022\u0022\u003E@Shadowmage\u003C/a\u003E. I can do a pull request with the fix, it\u0027s just a single line if he\u0027s still around. I\u0027m not actually involved with this mod except as a user.\n\u003C/p\u003E\n"},{"CreatedByName":"dok_377","CreatedById":171956,"CreatedDateTime":"2022-08-13T13:36:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00224163456\u0022 data-ipsquote-contentid=\u0022155056\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221660395904\u0022 data-ipsquote-userid=\u0022170364\u0022 data-ipsquote-username=\u0022NippyFlippers\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n26 minutes ago, NippyFlippers said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYou are doing wonders, man. Will that KSPWheel mod get an offical update with your .dll? Other players should profit from that, too!\n\u003C/p\u003E\n\u003Cp\u003E\nThe wheel seems to work fine now. I subjected the rovers to every obscenity I could come up with and it stays stable, no more kraken.\n\u003C/p\u003E\n\u003Cp\u003E\nI mean, look at her! Isn\u0027t she magnificent?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/586L9Xv.png\u0022 title=\u0022Enlarge image\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022586L9Xv.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002275.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/586L9Xv.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat\u0027s a unit! Reminds me of this one:\u00A0\u003Cbr\u003E\n\u003Cimg alt=\u0022vladislav-georgiev-screenshot14.jpg?1545\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://cdnb.artstation.com/p/assets/images/images/014/846/361/large/vladislav-georgiev-screenshot14.jpg?1545869518\u0022\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2022-08-15T17:58:13Z","Content":"\n\u003Cp\u003E\nI made a pull request with the fix for the node scaling issue.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/shadowmage45/KSPWheel/pull/78\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/shadowmage45/KSPWheel/pull/78\u003C/a\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222022-08-15T17:58:39Z\u0022 title=\u002208/15/2022 05:58  PM\u0022 data-short=\u00221 yr\u0022\u003EAugust 15, 2022\u003C/time\u003E by Starwaster\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"AbacusWizard","CreatedById":116476,"CreatedDateTime":"2022-09-29T10:53:05Z","Content":"\n\u003Cp\u003E\nAnyone know if there\u2019s a way to fix the big pink pixellated rings that emanate from the antigravity engine? I tried installing the latest version of Textures Unlimited, but still get the big pink rings. (I also have Waterfall installed but I don\u2019t know if that would make a difference or not.)\n\u003C/p\u003E\n"}]}