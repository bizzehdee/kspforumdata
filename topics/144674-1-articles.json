{"TopicId":144674,"ForumId":29,"TopicTitle":"Can you Filter Science Experiments when Storing","CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-07-27T16:06:07Z","PageNum":1,"Articles":[{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-07-27T16:06:07Z","Content":"\n\u003Cp\u003E\nI\u0027ve done a bit of coding with work and thought I might try my hand at making a small mod regarding science.\u00A0One thing I can\u0027t work out is if the function behind the\u00A0\u0022Store experiments\u0022 process\u00A0for a Kerbal on\u00A0EVA is an all or nothing process?\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m looking to hide the existing \u0022Store Experiments\u0022\u00A0button\u00A0and replace with a\u00A0process of my own making. I figure this part should be fairly straight forward (at least I \u0027think\u0027\u00A0it should be)\u00A0My question to the KSP coding community is: Can the\u00A0experiment storage function be made to use filters\u00A0so it only stores certain experiments?\u00A0Alternatively, do you think it\u0027s possible to create a replacement process that does the filter specifics that I\u0027m looking for as well as\u00A0hide the stock \u0022Store experiments\u0022 button?\n\u003C/p\u003E\n\u003Cp\u003E\nExample Scenario:\u003Cbr\u003E\nKerbal EVA\u0027s from command module\u003Cbr\u003E\nKerbal on EVA\u00A0uses button \u0022Take Data (15)\u0022 to grab all experiments from command module\u003Cbr\u003E\nKerbal on EVA uses \u0027custom\u0027 button\u00A0to \u0022Store Crew Reports(2)\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nThis isn\u0027t the mod, but being able to filter the science reports when storing them\u00A0upon returning from EVA\u00A0is something I\u0027d like to do for my idea to work. If not, my backup is to resort to a workaround post EVA, and have a function to\u00A0move the specific experiments from one ScienceContainer to another within the same ship - I\u0027ve seen\u00A02-3\u00A0mods that already do a variety of that so I know that\u0027s possible.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Aelfhe1m","CreatedById":142910,"CreatedDateTime":"2016-07-27T17:03:54Z","Content":"\n\u003Cp\u003E\nAn example of a mod that works with individual experiment results in a ScienceDataContainer would be Ship Manifest take a look at it on \u003Ca href=\u0022https://github.com/PapaJoesSoup/ShipManifest/blob/062a63680d31cd9c78767606786b0d2eda2a6e9f/ShipManifest/Process/ProcessController.cs#L62\u0022 rel=\u0022external nofollow\u0022\u003EGitHub\u003C/a\u003E.\n\u003C/p\u003E\n\u003Cp\u003E\nTo do what you\u0027re talking about I would suggest starting by writing a PartModule that inherits ScienceDataContainer and then overriding the\u00A0CollectDataExternalEvent and\u00A0StoreDataExternalEvent methods with whatever filtering code you need (or hide them and replace with other actions and events). Use a module manager patch to replace existing ScienceDataContainer modules with your custom module.\n\u003C/p\u003E\n\u003Cp\u003E\nThe methods and fields are all public so it looks like it\u00A0should be possible but I don\u0027t have any real experience with writing PartModules.\n\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-07-27T23:34:01Z","Content":"\n\u003Cp\u003E\nAwesome - thanks for the reply and mentioning which events to look into. Guess it\u0027s time to get started \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"cyberKerb","CreatedById":28891,"CreatedDateTime":"2016-08-03T14:45:34Z","Content":"\n\u003Cp\u003E\nfinally got around to putting in some work into this idea - WIP thread here\n\u003C/p\u003E\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/145309-wip-113-heavy-science-development-thread/\u0026amp;do=embed\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}