{"TopicId":62174,"ForumId":55,"TopicTitle":"64 bit","CreatedByName":"CyclonicTuna","CreatedById":21888,"CreatedDateTime":"2014-02-04T20:12:04Z","PageNum":1,"Articles":[{"CreatedByName":"CyclonicTuna","CreatedById":21888,"CreatedDateTime":"2014-02-04T20:12:04Z","Content":"\n\u003Cp\u003EBefore I get slammend for asking this question or creating this topic, this is more of a question than a suggestion.\u003C/p\u003E\u003Cp\u003EI can\u0027t really find a clear explanation on why Unity hasn\u0027t gone 64 bit yet. Could anyone here elaborate? I mean, whats the main hold up. Because I think that a game like KSP could profit endlessly from going 64 bit.\u003C/p\u003E\n"},{"CreatedByName":"Monger","CreatedById":4143,"CreatedDateTime":"2014-02-04T20:23:55Z","Content":"\n\u003Cp\u003EThere are serious obstacles before 64 bit application actually run faster than their 32 Bit counterpart. For example, Unity is based on .NET, which is a managed runtime. And .NET limits the amount of memory it can handle, because memory fragmentation becomes really an issue with thousands of objects. So even if Unity would switch to 64bit, this doesn\u0027t mean that KSP automatically can acquire more memory, and that this would help performance more than hurt it. Second, 64Bit processes require 64Bit pointers, which require more memory. So just by switching you would increase your memory footprint. Also, Unity depends on 3rd party products, which would need to convert to 64bit as well.\u003C/p\u003E\u003Cp\u003EOf course there are multiple advantages as well, but it\u0027s not like you just flip a switch, and your software runs significantly faster. You have to design your whole application around it to get the most of it.\u003C/p\u003E\n"},{"CreatedByName":"kiwiak","CreatedById":82796,"CreatedDateTime":"2014-02-04T20:29:01Z","Content":"\n\u003Cp\u003EI heard thant 64 bit unity for windows is just too unstable yet.\u003C/p\u003E\n"},{"CreatedByName":"jwenting","CreatedById":57735,"CreatedDateTime":"2014-02-04T20:29:51Z","Content":"\n\u003Cp\u003Ethere we go again...\u003C/p\u003E\n"},{"CreatedByName":"GarrettKajmowicz","CreatedById":100570,"CreatedDateTime":"2014-02-04T20:38:45Z","Content":"\n\u003Cp\u003EI\u0027m running the 64-bit version under Linux and things mostly work fine. (There are a couple of odd quirks involving planets using the wrong-scale texture, though I don\u0027t know if that\u0027s specific to this version or not).\u003C/p\u003E\u003Cp\u003EOTOH, I\u0027m still only running vanilla for now, so I\u0027m not certain if the system is even able to use more than 4GB memory at the moment.\u003C/p\u003E\u003Cp\u003ETo second what Monger mentioned, simply converting from 32-bit to 64-bit binaries typically increases the size of the executible by about 10%. Put another way, it adds about 10% more overhead. If you have more than 4GB of RAM in your system, the cost might be trivial if it allows you to address more overall. (Eg. if you have 8GB of memory, having your current KSP memory usage go from 4GB to 4.5GB is okay if you still manage to get another 2GB of free memory you can add on). That 10% number is an industry-standard average from a decade ago or so. Because KSP is very multimedia-extensive, it could be ~1%. I don\u0027t know.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-04T20:41:03Z","Content":"\n\u003Cp\u003ESquad know that players want and would benefit from a 64bit version of KSP, unfortunately until Unity 64bit support is stable enough there\u0027s nothing Squad can do.\u003C/p\u003E\u003Cp\u003ECurrently only the Linux 64bit version is available and even that is classed as experimental, though it does seem to work pretty well, maybe it\u0027ll be good enough in the next Unity update, we just don\u0027t know yet.\u003C/p\u003E\u003Cp\u003ECheck out the Unity forums for a ton of threads on 64bit Windows and OSX stability problems, it\u0027s not just KSP that could use a 64bit version, but many other Unity games as well.\u003C/p\u003E\n"},{"CreatedByName":"crazyewok","CreatedById":97592,"CreatedDateTime":"2014-02-04T22:08:55Z","Content":"\n\u003Cp\u003EIt would help such a ton. Theres so many great mods.\u003C/p\u003E\n"},{"CreatedByName":"Rakaydos","CreatedById":101988,"CreatedDateTime":"2014-02-04T22:27:20Z","Content":"\n\u003Cp\u003EAre you saying that the 64 bit version of KSP would be a Steambox Exclusive? (being linux based)\u003C/p\u003E\u003Cp\u003E...assuming it was done, of course...\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-04T22:29:17Z","Content":"\n\u003Cp\u003EWhat on earth gave you that idea? Linux 64bit binaries are in the Linux downloads from the store and Steam right now.\u003C/p\u003E\u003Cp\u003EAs soon as Unity pumps out stable Win and OSX 64bit binaries Squad will bundle them in the downloads too.\u003C/p\u003E\n"},{"CreatedByName":"S4qFBxkFFg","CreatedById":83727,"CreatedDateTime":"2014-02-05T15:20:22Z","Content":"\n\u003Cp\u003E[joke]This could be easily solved by including a Linux distro installer in the Windows and OSX KSP downloads.[/joke]\u003C/p\u003E\n"},{"CreatedByName":"coolitic","CreatedById":79738,"CreatedDateTime":"2014-02-05T17:21:07Z","Content":"\n\u003Cp\u003EI wonder how long it will take for mods to close this topic?\u003C/p\u003E\u003Cp\u003E (RADIO) Calling in topic lockdown, waiting on mods.\u003C/p\u003E\n"},{"CreatedByName":"Dunbaratu","CreatedById":63481,"CreatedDateTime":"2014-02-05T17:42:24Z","Content":"\n\u003Cp\u003EWhat\u0027s weird to me is that I don\u0027t understand what the technical reason is that it would be easier to make a 64 bit version stable on Linux than on Windows. Unity says \u0022it isn\u0027t stable on Windows\u0022 but that\u0027s just a restatement of the problem rather than an explanation of what causes it.\u003C/p\u003E\u003Cp\u003ECould it just be the large number of Linux distros out there that don\u0027t turn on 32 bit support libraries by default (making you have to go download and install them separately), and try to run the entire system cleanly fully in 64-bit? In other words it\u0027s because of a difference in how necessary 64-bit is for smooth installation - that it came to Linux first because of how many Linux admins (including owners of personal home systems) there are in the customer base that are trying to run a purely 64-bit system from top to bottom. For them, having Unity work on 64-bit would be a requirement rather than just a nicety. So getting Unity to be 64-bit on Linux may be a goal with a higher incentive than getting it to be 64-bit on Windows, and that higher incentive is the reason it\u0027s further along on Linux than Windows.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-02-05T17:45:16Z\u0022 title=\u002202/05/2014 05:45  PM\u0022 data-short=\u002210 yr\u0022\u003EFebruary 5, 2014\u003C/time\u003E by Steven Mading\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2014-02-05T17:51:39Z","Content":"\n\u003Cp\u003ERoom for addons is getting smaller and smaller with each update. So at some point Squad/Unity will be forced to take action.\u003C/p\u003E\n"},{"CreatedByName":"Deadweasel","CreatedById":23123,"CreatedDateTime":"2014-02-05T18:55:09Z","Content":"\n\u003Cp\u003EFor those who aren\u0027t yet aware of them, there are some mods that help memory usage by compressing any textures to formats that are easier for video cards to work with, and reduce the actively-used memory footprint as well. \u003C/p\u003E\u003Cp\u003EFor those who would like to use their own custom textures to replace the planets, skybox and kerbals:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/44135-0-22-Universe-Replacer-v4-0\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EUniverse replacer\u003C/strong\u003E\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/60961\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ETexture Replacer\u003C/strong\u003E\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFor those who use the stock textures (including those delivered with parts pack mods)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/59005-0-23-Release-2-15-Active-Texture-Management-Save-RAM-without-reduction-packs!\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EActive texture management\u003C/strong\u003E\u003C/a\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe first two will help to reduce memory usage, while opening up the capability to replace the stock imagery in the game. Of the two, I\u0027ve found Texture Replacer is a bit better at reducing RAM usage, while requiring a bit more effort to get the new textures in place. The last, Active Texture Management, is a bit more purpose-built, and is a \u0022one shot\u0022 mod, in that it handles the compression on a more permanent basis, rather than doing it on the fly during loading. The results may be worth the \u0022destructive\u0022 nature of the beast for some players.\u003C/p\u003E\u003Cp\u003EThat said, let\u0027s not forget that there are two major classes of issues that people see in this game\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cstrong\u003E\u003Cem\u003ECrash-to-desktop (or CTD):\u003C/em\u003E\u003C/strong\u003E Occurs most often when the current 32-bit Unity engine is trying to use more than ~3.2-3.4GB of RAM, due to overhead introduced by mods. Having a 64-bit Unity engine running underneath it all would likely help drastically reduce (if not eliminate) the frequency of this issue, but would not necessarily be a straight cure-all, due to the reasons stated previously. 64-bit Unity itself would require more RAM just to get up and running. If a player is experiencing CTD and has \u0022only\u0022 4 or 6 gigs of RAM installed, going 64-bit would not likely help the issue very much at the end of the day.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E\u003Cem\u003EFrame rate lag:\u003C/em\u003E\u003C/strong\u003E Unity\u0027s physics calculations are primarily done on the graphics card\u0027s processor. Going 64-bit would not really have an impact on performance with 600 part ships in the scene, and this especially true for video cards that weren\u0027t meant for major graphics applications. Most of the integrated graphics adapters found in laptops, low-profile desktops or \u0022value\u0022 desktops like Compaq or eMachines fall into this category.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBy and large, the main benefits of 64-bit in this case would be access to more RAM (so we can install even more of those oh-so-tasty mods!), and \u003Cem\u003Epotentially \u003C/em\u003Eslightly faster load times. That\u0027s about it.\u003C/p\u003E\u003Cp\u003EFolks running the experimental Linux distro can offer some perspective, but Windows and OSX users should be cautious about accepting those cases as universally applicable facts, due to the fact that Linux is so much more intricately configurable and adjustable, compared to OSX or Windows, where drivers and memory management processes are concerned.\u003C/p\u003E\u003Cp\u003ELinux folks can compensate and tweak core-level settings to get around glitches and leaks, but anybody not running Linux will simply have to wait for Unity to get things working from their end. We simply don\u0027t get that kind of configurability with our drivers, unless somebody is enough of a code wizard to write their own driver patch.\u003C/p\u003E\n"},{"CreatedByName":"CyclonicTuna","CreatedById":21888,"CreatedDateTime":"2014-02-05T19:03:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022coolitic\u0022 data-cite=\u0022coolitic\u0022\u003E\u003Cdiv\u003EI wonder how long it will take for mods to close this topic?\u003Cp\u003E (RADIO) Calling in topic lockdown, waiting on mods.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI didn\u0027t start this thread to ask for a 64 bit version of KSP. I know the dev\u0027s have told us time and time again that it will be here when Unity goes 64 bit. I just wanted to know a littlebit more about the technical details because I find that stuff interesting. Is there something wrong with that?\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-02-05T19:49:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Deadweasel\u0022 data-cite=\u0022Deadweasel\u0022\u003E\u003Cdiv\u003E\u003Cstrong\u003E\u003Cem\u003EFrame rate lag:\u003C/em\u003E\u003C/strong\u003E Unity\u0027s physics calculations are primarily done on the graphics card\u0027s processor. Going 64-bit would not really have an impact on performance with 600 part ships in the scene, and this especially true for video cards that weren\u0027t meant for major graphics applications. Most of the integrated graphics adapters found in laptops, low-profile desktops or \u0022value\u0022 desktops like Compaq or eMachines fall into this category.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think this is correct. As I understand it, all of Unity\u0027s physics calculations are done in a single CPU thread by an old version of PhysX that doesn\u0027t take advantage of the GPU for that. The GPU is used for rendering only.\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-05T19:51:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Red Iron Crown\u0022 data-cite=\u0022Red Iron Crown\u0022\u003E\u003Cdiv\u003EI don\u0027t think this is correct. As I understand it, all of Unity\u0027s physics calculations are done in a single CPU thread by an old version of PhysX that doesn\u0027t take advantage of the GPU for that. The GPU is used for rendering only.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep, this is currently correct, other stuff can be handed off to other cores but the physics is on one core only at present.\u003C/p\u003E\n"},{"CreatedByName":"Serratus","CreatedById":12069,"CreatedDateTime":"2014-02-05T20:02:15Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003EYep, this is currently correct, other stuff can be handed off to other cores but the physics is on one core only at present.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAh! Now those readings from my resources monitor start to make sense! So the real question here is does SQUAD intend to upgrade their physics engine to a version that supports multi-threads any time soon? Because I recently doubled my RAM and it didn\u0027t give me even one extra frame :/\u003C/p\u003E\n"},{"CreatedByName":"sal_vager","CreatedById":16426,"CreatedDateTime":"2014-02-05T20:07:51Z","Content":"\n\u003Cp\u003ESquad will update to the latest version of Unity if it\u0027s available (and if it doesn\u0027t break too many things) but there\u0027s no plans to change engines.\u003C/p\u003E\u003Cp\u003EUnity will get better, Squad pester them quite a bit to get this stuff sorted out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Serratus","CreatedById":12069,"CreatedDateTime":"2014-02-05T21:06:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sal_vager\u0022 data-cite=\u0022sal_vager\u0022\u003E\u003Cdiv\u003E[...]Squad pester them quite a bit to get this stuff sorted out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELol, I just imagined Harvester calling Unity Devs everyday with a question \u0022-Are we there yet?\u0022, \u0022-*distant voice*BOSS! It\u0027s that creep again!\u0022\u003C/p\u003E\n"},{"CreatedByName":"vexx32","CreatedById":12283,"CreatedDateTime":"2014-02-05T22:36:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Serratus\u0022 data-cite=\u0022Serratus\u0022\u003E\u003Cdiv\u003ELol, I just imagined Harvester calling Unity Devs everyday with a question \u0022-Are we there yet?\u0022, \u0022-*distant voice*BOSS! It\u0027s that creep again!\u0022\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat sounds rather accurate, although it\u0027s probably a very long-running exchange of emails: \u0022So, how\u0027s it going?\u0022 \u0022It\u0027s getting there.\u0022 \u0022Are we there yet?\u0022 \u0022We\u0027ll get there when we get there.\u0022 \u0022Can we get a timeframe?\u0022 \u0022This is programming, not railroad construction.\u0022\u003C/p\u003E\u003Cp\u003ERepeat ad infinitum.\u003C/p\u003E\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2014-02-05T23:07:03Z","Content":"\n\u003Cp\u003ESomehow I don\u0027t imagine they pester the Unity people for release dates, given their own policy about such things. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2014-02-05T23:49:14Z","Content":"\n\u003Cp\u003Eif you want to solve the problems of memory related crashes now, instead of when unity fully supports 64 bit, then the game is in dire need of better bitmap management code. bitmaps are the bulk of the data that the game needs to load. they are big and there are a lot of them. \u003C/p\u003E\u003Cp\u003Ewe have all seen the effects of compressing all the textures and simply reducing them. there are mods for that. they are good mods. but frankly, its not the job of modders to fix the holes in the game\u0027s critical subsystems despite how good they may be at it. also the closer the systems are to the core of the game the higher their performance. id rather them make cool mods than workarounds to make other mods more usable. \u003C/p\u003E\u003Cp\u003Ethis brings us to: pre-optimised texture assets. why load a texture that is 6 times bigger and waste time compressing it when you can just load a pre-compressed texture? if the textures have pre-generated mipmaps then no time is wasted in generating them either. you can ship really high resolution compressed textures, and have the game only load the mip levels that are needed/can fit (64-bit linux users with high end hardware would be able to go nuts).\u003C/p\u003E\u003Cp\u003Estill running out of ram: use streaming. you have a texture memory target that the game actively tries to maintain, and you keep track of how frequently textures are used. if the textures use more memory than the target then the game streams out high mip levels of infrequently used textures, and if you are under budget load some more. all textures are loaded at some minimum mip level so that there is always a lower resolution texture to fall back on. this and the memory target can be tweaked in real time based on system capabilities and memory needs. you also arent required to load the whole texture, just the mips levels you need. pre-compressed assets make this more robust by reducing and eliminating load times and compression times, respectively.\u003C/p\u003E\u003Cp\u003Etldr: precompressed assets\u002Bstreaming now \u0026gt; 64 bit later\u003C/p\u003E\n"},{"CreatedByName":"Serratus","CreatedById":12069,"CreatedDateTime":"2014-02-06T00:19:11Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Nuke\u0022 data-cite=\u0022Nuke\u0022\u003E\u003Cdiv\u003E[...]its not the job of modders to fix the holes in the game\u0027s critical subsystems despite how good they may be at it.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOr SQUAD can do their usual thing of hiring talented modders for the dev team. They did it with C7 and NovaSilisko, who are content creators. It would make sense to get someone talented in optimizing next. Besides - modders want to make game better. Those optimizing mods do just that. But I agree with overall point, even if I don\u0027t really understood the whole \u0022streaming\u0022 thing you wrote about.\u003C/p\u003E\n"},{"CreatedByName":"Nuke","CreatedById":10883,"CreatedDateTime":"2014-02-06T00:53:45Z","Content":"\n\u003Cp\u003Eim all for talented modders getting jobs at game studios.\u003C/p\u003E\n"}]}