{"TopicId":126143,"ForumId":16,"TopicTitle":"How to add wing incidence by editing craft file?","CreatedByName":"AeroGav","CreatedById":152027,"CreatedDateTime":"2015-11-22T07:15:18Z","PageNum":1,"Articles":[{"CreatedByName":"AeroGav","CreatedById":152027,"CreatedDateTime":"2015-11-22T07:15:18Z","Content":"\nHi,\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m designing a spaceplane with mk1 fuselage, and a pair of space shuttle style delta wings. The plan is to apply 2 degrees of incidence to these lifting surfaces, so all i need to do is set prograde and know i\u0026#39;ll be at 20:1 lift:drag ratio for most of the ascent.\u003Cbr\u003E\n\u003Cbr\u003E\nThe problem is , how do i get 2 degrees exactly? Tried eyeballing things, but it never looks right and is enough to drive you crazy. Downloaded this mod called PartAngleDisplay but it doesn\u0026#39;t let you specifiy a target angle, or step in fixed increments (alt s and alt w change the displayed part angle but have no visible affect on the aircraft in SPH, even after save/reload, must be broken?) , it merely shows the angle as it is currently - and even then i don\u0026#39;t trust it, because adjusting the wings manually in fine mode, there appear to be 3 steps that change how the wings look and the calculated centre of lift, but have no effect on displayed part angle until suddenly it jumps from 270 to 273 point something.\u003Cbr\u003E\n\u003Cbr\u003E\nSo, if there are no better mods, can i just edit the craft file by hand?\u003Cbr\u003E\n\u003Cbr\u003E\nthis appears to be the relevant section\u003Cbr\u003E\n[code]\u003Cbr\u003E\npart = wingShuttleDelta_4294264190\u003Cbr\u003E\npartName = Part\u003Cbr\u003E\npos = 0.6238493,10,-3.075839\u003Cbr\u003E\nattPos = 0,-0.4282098,5.104656E-08\u003Cbr\u003E\nattPos0 = 0.6238493,-0.7726269,9.21043E-08\u003Cbr\u003E\nrot = 4.214685E-08,0.7071068,0.7071069,0\u003Cbr\u003E\nattRot = 0,0,0,1\u003Cbr\u003E\nattRot0 = 2.980232E-08,1,8.42937E-08,2.980232E-08\u003Cbr\u003E\nmir = 1,1,1\u003Cbr\u003E\nsymMethod = Mirror\u003Cbr\u003E\n[/code]\u003Cbr\u003E\n\u003Cbr\u003E\nAfter rotating by hand, i get \u003Cbr\u003E\n\u003Cbr\u003E\n[code]\u003Cbr\u003E\npart = wingShuttleDelta_4294264190\u003Cbr\u003E\npartName = Part\u003Cbr\u003E\npos = 0.6238493,10,-3.075842\u003Cbr\u003E\nattPos = 0,-0.4282098,5.104656E-08\u003Cbr\u003E\nattPos0 = 0.6238493,-0.7726269,9.21043E-08\u003Cbr\u003E\nrot = -4.213579E-08,-0.7231179,-0.6907248,-9.653921E-10\u003Cbr\u003E\nattRot = 0.6907248,-4.11704E-08,-4.11704E-08,-0.7231179\u003Cbr\u003E\nattRot0 = 2.980232E-08,1,8.42937E-08,2.980232E-08\u003Cbr\u003E\nmir = 1,1,1\u003Cbr\u003E\nsymMethod = Mirror\u003Cbr\u003E\n[/code]\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nLooks like attRot is not as simple as adding say 2,0,0 to add two degrees incidence in one axis.\u003Cbr\u003E\n\u003Cbr\u003E\nReally, this is so frustrating. \u003Cbr\u003E\n\u003Cbr\u003E\nWith rockets, it seems it\u0026#39;s just about staging and choosing the right engines and fuel tanks, stacking cylindrical modules under each other. With aircraft, a few degrees attachment angle on your aerodynamic surfaces make a big difference.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nIf you can\u0026#39;t control the exact angle your wings attach at, the SPH is not fit for purpose.\n"},{"CreatedByName":"Venusgate","CreatedById":125730,"CreatedDateTime":"2015-11-22T07:35:44Z","Content":"\n[url]http://forum.kerbalspaceprogram.com/threads/38768-1-0-3-Editor-Extensions-v2-12-23-June[/url]\n"},{"CreatedByName":"Captain H@dock","CreatedById":139017,"CreatedDateTime":"2015-11-22T12:13:49Z","Content":"\nThere\u0026#39;s a chance the angles are in radian. :wink:\n"},{"CreatedByName":"Starhawk","CreatedById":131400,"CreatedDateTime":"2015-11-22T12:32:28Z","Content":"\nVenusgate is right. Editor extensions is the one you want.\u003Cbr\u003E\n\u003Cbr\u003E\nHappy landings!\n"},{"CreatedByName":"AeroGav","CreatedById":152027,"CreatedDateTime":"2015-11-22T13:25:05Z","Content":"\n[quote name=\u0027Starhawk\u0027]Venusgate is right. Editor extensions is the one you want.\u003Cbr\u003E\n\u003Cbr\u003E\nHappy landings![/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI have it, but still can\u0026#39;t figure out how to make this do what i need :-(\u003Cbr\u003E\n\u003Cbr\u003E\nThe shuttle wing has various strakes and control surfaces hanging off it, and it is already attached to the fuselage at 0 incidence.\u003Cbr\u003E\n\u003Cbr\u003E\nI want to rotate this wing by precisely 2 degrees in the pitch axis, but if i press 3 to select part rotation mode i can\u0026#39;t see what angle i\u0026#39;m getting in fine mode and have a hard time getting repeatable results.\u003Cbr\u003E\n\u003Cbr\u003E\nEditor extensions lets me change the snap angle to 1 degree increments which affects the dihedral angle when attaching the wing assembly to the fuselage. Actually it makes it hard to get 0 dihedral. But it doesn\u0026#39;t offer me any way to increase the angle of incidence of this wing??\n"},{"CreatedByName":"Starhawk","CreatedById":131400,"CreatedDateTime":"2015-11-22T16:39:05Z","Content":"\n[quote name=\u0027AeroGav\u0027]I have it, but still can\u0026#39;t figure out how to make this do what i need :-(\u003Cbr\u003E\n\u003Cbr\u003E\nThe shuttle wing has various strakes and control surfaces hanging off it, and it is already attached to the fuselage at 0 incidence.\u003Cbr\u003E\n\u003Cbr\u003E\nI want to rotate this wing by precisely 2 degrees in the pitch axis, but if i press 3 to select part rotation mode i can\u0026#39;t see what angle i\u0026#39;m getting in fine mode and have a hard time getting repeatable results.\u003Cbr\u003E\n\u003Cbr\u003E\nEditor extensions lets me change the snap angle to 1 degree increments which affects the dihedral angle when attaching the wing assembly to the fuselage. Actually it makes it hard to get 0 dihedral. But it doesn\u0026#39;t offer me any way to increase the angle of incidence of this wing??[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nIf you set the angle snap to 1 degree increments, you can then use the rotate keys (WASDQE) to rotate the part in one degree increments. I don\u0026#39;t believe it works with the rotate gizmo.\u003Cbr\u003E\n\u003Cbr\u003E\nHappy landings!\n"},{"CreatedByName":"Val","CreatedById":126227,"CreatedDateTime":"2015-11-22T17:28:56Z","Content":"\nHere\u0026#39;s how I do it. Hope it helps.\u003Cbr\u003E\n\u003Cbr\u003E\n[video=youtube;EqqKXA8nP_Q]http://www.youtube.com/watch?v=EqqKXA8nP_Q[/video]\n"},{"CreatedByName":"Padishar","CreatedById":97386,"CreatedDateTime":"2015-11-22T17:35:37Z","Content":"\n[quote name=\u0027Val\u0027]Here\u0026#39;s how I do it. Hope it helps.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nThanks for that. There is an issue with 1.0.5 with the part relative rotation but I couldn\u0026#39;t understand why he was having a problem setting a small AoA.\n"},{"CreatedByName":"AeroGav","CreatedById":152027,"CreatedDateTime":"2015-11-23T10:12:42Z","Content":"\n[quote name=\u0027Starhawk\u0027]If you set the angle snap to 1 degree increments, you can then use the rotate keys (WASDQE) to rotate the part in one degree increments. I don\u0026#39;t believe it works with the rotate gizmo.\u003Cbr\u003E\n\u003Cbr\u003E\nHappy landings![/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nWell, I got it done in the end, by detaching the wing assembly, snapping it back to the fuselage and rotating in 1 degree increments. However, trying to snap the assembly with 1 degree increments enabled (so i could set a positive pitch angle of 2 degrees) was difficult without introducing unwanted anhedral / dihedral. \u003Cbr\u003E\n\u003Cbr\u003E\nWhen it came to the stake and canard attached to the tail cone (serving as a nose cone ofc), this also kept removing the angle i was putting on the attachment to make it follow the taper of the tail cone, without air gaps.\u003Cbr\u003E\n\u003Cbr\u003E\nFinally my wing was not just a monolithic slab. At this point, it was a space shuttle delta with big-s strakes clipped to the leading and trailing edges, a gull-wing swept section added to the tips, ailerons , and small vertical stabs.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote]\u003Cbr\u003E\n[B]I don\u0026#39;t believe it works with the rotate gizmo.[/B]\u003Cbr\u003E\n\u003Cbr\u003E\n[/quote]\u003Cbr\u003E\n\u003Cbr\u003E\nIt would have been so much easier if the rotate gizmo (the one you get by pressing 3 on k/b then selecting a part) displayed part angle, allowed you to step through angles or specify an exact one by entering digits to a dialog box. Dragging the rotate wheel is so imprecise as to be useless for most aircraft. Squad, time to beef up your editor !\u003Cbr\u003E\n\u003Cbr\u003E\nAfter a lot of work, I got it built.\u003Cbr\u003E\n\u003Cbr\u003E\n[URL]https://drive.google.com/file/d/0BworS5V0CvPcNEU5UDktN3NJY0U/view?usp=sharing[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\n[URL=\u0022http://s1144.photobucket.com/user/narostel/media/2015-11-23_00020_zpsf184zvft.jpg.html\u0022][URL=http://s1144.photobucket.com/user/narostel/media/2015-11-23_00020_zpsf184zvft.jpg.html][IMG]http://i1144.photobucket.com/albums/o492/narostel/2015-11-23_00020_zpsf184zvft.jpg[/IMG][/URL][/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nSo, now that I\u0026#39;ve built my first plane with incidence, what do i make of it? It\u0026#39;s probably my best performing aircraft so far but not by a huge margin. Don\u0026#39;t think the stock aerodynamics give the designer that much influence, beyond minimising drag nodes.\u003Cbr\u003E\n\u003Cbr\u003E\nAs for that concept of flying to orbit with prograde autopilot set while still making wing lift, the AP still needs help in places. Appears Kerbal flight school doesn\u0026#39;t teach about phugoids, or it does teach about them and Jeb enjoys the ride. Also the combo of mark 1 cockpit and oxidiser-less ascent make for heat problems even on this very lightly wing loaded aircraft. Intake coolers either side of the cockpit don\u0026#39;t help enough, plus the nose cone and the canards are prone to melting in any case. I find myself adding a few degrees of pitch manually once in nuke mode, to keep sufficient altitude and stop me going boom.\u003Cbr\u003E\n\u003Cbr\u003E\nFinally , once out of the atmo, a side-effect of wing incidence rears its head - the thrust line is slightly above the centre of mass, so using the rocket on full power creates more nose down pitch than my reaction wheel can deal with. You can work around this by pumping fuel out of the trailing edge wing strake and the big-s delta, which are the lowest fuel containers on the ship, this helps to raise the centre of mass some.\n"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-11-23T12:55:40Z","Content":"\nAnother mod recommendation: [URL=\u0022http://forum.kerbalspaceprogram.com/threads/81390\u0022]Part Angle Display[/URL]\u003Cbr\u003E\n\u003Cbr\u003E\nIf you really want to do it by manually editing the craft file, I believe the rotation values are stored as [URL=\u0022https://en.wikipedia.org/wiki/Quaternion\u0022]quarternions[/URL].\n"},{"CreatedByName":"Claw","CreatedById":100668,"CreatedDateTime":"2015-11-23T16:59:41Z","Content":"\n[quote name=\u0027Red Iron Crown\u0027]If you really want to do it by manually editing the craft file, I believe the rotation values are stored as [URL=\u0022https://en.wikipedia.org/wiki/Quaternion\u0022]quarternions[/URL].[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nYes they are. And there are multiple sets of offset and angles. Editing by hand is certainly not intuitive.\n"}]}