{"TopicId":33568,"ForumId":35,"TopicTitle":"[WIN/MAC/LINUX] KSP Trajectory Optimization Tool v1.6.9 [New MATLAB Version!]","CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-06-18T04:59:31Z","PageNum":6,"Articles":[{"CreatedByName":"draeath","CreatedById":25709,"CreatedDateTime":"2013-07-23T20:33:52Z","Content":"\n\u003Cp\u003EWhat does that have to do with it? I thought your orbit was measured from the center of the elipse, not the surface of the body?\u003C/p\u003E\u003Cp\u003EIf that\u0027s not the case this would explain things, eh?\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-07-23T22:07:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022draeath\u0022 data-cite=\u0022draeath\u0022\u003E\u003Cdiv\u003EThis program is awesome, and you should feel awesome for writing it!\u003Cp\u003E*Especially* that you allow reading state-files instead of requiring us to figure out and manually input all the parameters.\u003C/p\u003E\u003Cp\u003EThough, what I don\u0027t understand is how a 100km orbit (circular) has an SMA of 400. Shouldn\u0027t it be 200? If I enter 200 the tool behaves as if I was inside Kerbin instead of around it. Doubling that to 400 draws the orbit as I would expect to see in-game while at 100km apo/peri.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESMA means semi-major axis, and if you are in a circular orbit this is equivalent to your orbits radius, and this equal to the radius of the orbited planet \u002B your distance to the planet\u0027s surface. So you get a 700km SMA for a 100km Kerbin orbit\u003C/p\u003E\n"},{"CreatedByName":"Frederf","CreatedById":3844,"CreatedDateTime":"2013-07-24T05:11:25Z","Content":"\n\u003Cp\u003EIt\u0027s been a great read so far and very impressive. My contribution is outmatched in the realm of numerical analysis but I think I have something of value.\u003C/p\u003E\u003Cp\u003EMy thoughts turn to more practical matters like error analysis. Mission planning to the proverbial deltaV penny is foolish. I would be interested in sensitivities for \u002B- time or speed for transfers in terms of corrections or even end game non-optimal captures. Knowing that \u002B-10 seconds results in 200 dV would be invaluable for planning.\u003C/p\u003E\u003Cp\u003EAlso often fuel minimization isn\u0027t the priority. Sometimes one has X dV and is interested in minimum time. This was touched on earlier.\u003C/p\u003E\u003Cp\u003ELastly check values would be nice to verify that the maneuver is going well and what errors and how serious they are can be realized.\u003C/p\u003E\u003Cp\u003EOne thought about timing parking orbit burns. Perhaps a 2-burn method is practical to synchronize Pe with impulse point. For example if one executes 20.524652 orbits between now and burn perhaps TOT could suggest the minimal parking orbit alteration to achieve exactly 20 or 21 orbits. Thus later when one wants to escape it just happens to be at the best point in the orbit.\u003C/p\u003E\n"},{"CreatedByName":"Hour Hero Yes","CreatedById":76830,"CreatedDateTime":"2013-08-03T22:30:24Z","Content":"\n\u003Cp\u003EI am also unable to load my SFS file into the burn calculator. What sort of info can I give to help?\u003C/p\u003E\n"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2013-08-04T00:06:47Z","Content":"\n\u003Cp\u003EI am having an odd problem with this tool. It will not give back a good pork chop plot or the correct time to leave if I use any dated other than year 1 day 1 00:00.00 as my start time. I want it to calculate a moho to eve transfer but it won\u0027t do it, any help possible with this?\u003C/p\u003E\n"},{"CreatedByName":"The Lone Wolfling","CreatedById":13675,"CreatedDateTime":"2013-08-04T11:52:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mcirish3\u0022 data-cite=\u0022mcirish3\u0022\u003E\u003Cdiv\u003EI am having an odd problem with this tool. It will not give back a good pork chop plot or the correct time to leave if I use any dated other than year 1 day 1 00:00.00 as my start time. I want it to calculate a moho to eve transfer but it won\u0027t do it, any help possible with this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you change the minimum arrival time?\u003C/p\u003E\n"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2013-08-04T13:28:48Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022The Lone Wolfling\u0022 data-cite=\u0022The Lone Wolfling\u0022\u003E\u003Cdiv\u003EDid you change the minimum arrival time?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes of course. I should not have said it won\u0027t plot the trajectory but the date it gave for departure is before the date I put in.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-04T22:38:19Z","Content":"\n\u003Cp\u003EHi everyone! Sorry I\u0027ve been gone for so long. I thought I\u0027d be able to get back last week, but it just didn\u0027t work out. Unfortunately, come Wednesday, the situation is going to get worse again. I think that I\u0027ll put out 0.9 tonight in whatever state I\u0027ve got it and you guys can tell me what you think. I\u0027ll work on it as time allows.\u003C/p\u003E\u003Cp\u003EI\u0027ll comment on some recent posts.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Hour Hero Yes\u0022 data-cite=\u0022Hour Hero Yes\u0022\u003E\u003Cdiv\u003EI am also unable to load my SFS file into the burn calculator. What sort of info can I give to help?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease provide the SFS file (link to it here). \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mcirish3\u0022 data-cite=\u0022mcirish3\u0022\u003E\u003Cdiv\u003EI am having an odd problem with this tool. It will not give back a good pork chop plot or the correct time to leave if I use any dated other than year 1 day 1 00:00.00 as my start time. I want it to calculate a moho to eve transfer but it won\u0027t do it, any help possible with this?\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mcirish3\u0022 data-cite=\u0022mcirish3\u0022\u003E\u003Cdiv\u003EYes of course. I should not have said it won\u0027t plot the trajectory but the date it gave for departure is before the date I put in.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECan I see a screenshot of what you entered? (Please include the main window and any other windows you have open.) I imagine it\u0027s something straight-forward. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2013-08-05T00:05:41Z","Content":"\n\u003Cp\u003EHere are two screenshots. First I ran a trip from Kerbin to Moho, to get a time. for when I would get to moho. I then used that time to get a window from Moho to Eve, wanting to leave after my arrival time but it always gives out a date before I actually would arrive at moho. see below\\|/\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/O4BsSz7.jpg\u0022 alt=\u0022O4BsSz7.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/rKD8OhW.jpg\u0022 alt=\u0022rKD8OhW.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-05T01:24:34Z","Content":"\n\u003Cp\u003ETry bumping up your earliest Eve arrival time by 20-40 days (or slightly more) and tell me what happens. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2013-08-05T04:23:17Z","Content":"\n\u003Cp\u003EI actually have had it do a fly by calculation for eve as the fly by and that worked fine when I used that time. Which by the way is what I really plan on doing. Not sure if that helps I got sidelined since this question lead me to other bigger questions about the KSP universe. I just figured out the total period of the KSP Kerbol system which by the way is 283855345821049673891877587109375021644538854676353552439197770387057442399150288400 s or 10^76 years ( i did not take roation of the planets into account)\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-05T04:52:45Z","Content":"\n\u003Cp\u003EHi everyone,\u003C/p\u003E\u003Cp\u003EAs promised, here\u0027s a 0.9 pre-release. It\u0027s a bit rushed, as life is crowding cool stuff like this out at the moment. Could I get some feedback? \u003C/p\u003E\u003Cp\u003EBig new features are:\u003C/p\u003E\u003Cp\u003ESFS issues should hopefully be resolved once and for all;\u003C/p\u003E\u003Cp\u003EYou can now input a mean anomaly and epoch (or get it from an SFS file) and the code will calculate a new departure time such that your spacecraft is at the right place at the right time.\u003C/p\u003E\u003Cp\u003EThis is a pre-release. As with the 0.7 pre-release, I\u0027m just providing the executable. If this makes you uncomfortable, please wait for the official release. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EGet it \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/29126891/KSPTOTv9prerelease.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehere.\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EComments, questions, concerns, please let me know! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: I know the status box still says 0.8... I\u0027ll fix later lol. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-05T04:54:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mcirish3\u0022 data-cite=\u0022mcirish3\u0022\u003E\u003Cdiv\u003EI actually have had it do a fly by calculation for eve as the fly by and that worked fine when I used that time. Which by the way is what I really plan on doing. Not sure if that helps I got sidelined since this question lead me to other bigger questions about the KSP universe. I just figured out the total period of the KSP Kerbol system which by the way is 283855345821049673891877587109375021644538854676353552439197770387057442399150288400 s or 10^76 years ( i did not take roation of the planets into account)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll admit, I\u0027m still a bit confused as to what you\u0027re after. Could you please clarify your question?\u003C/p\u003E\n"},{"CreatedByName":"mcirish3","CreatedById":50775,"CreatedDateTime":"2013-08-05T22:47:03Z","Content":"\n\u003Cp\u003EWell to be honest I am confused as to why I got the odd result shown in the pictures above. Clearly there is a weakness in the program that caused the problem. Now that I have figured out a workaround as I stated above it really is not a big deal any more. but it definitely could be a problem if it presented itself in other situations, say for example a hyperbolic trajectory.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-05T22:50:33Z\u0022 title=\u002208/05/2013 10:50  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 5, 2013\u003C/time\u003E by mcirish3\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-07T02:26:02Z","Content":"\n\u003Cp\u003EI\u0027ll be completely honest, I still don\u0027t see the problem. So far as I can tell, the program is behaving normally. Please, in very clear words, describe what you see the problem as.\u003C/p\u003E\u003Cp\u003E(I\u0027m going to go out on a limb here and suggest that there\u0027s a misunderstanding of how to use KSP TOT at the core of this discussion and not some technical issue...)\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-08-07T22:49:26Z","Content":"\n\u003Cp\u003EWhy does the flyby calculator never return direct encounters with the flyby body, so the transfer orbit cycles around the sun more than once?\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-08T00:12:29Z","Content":"\n\u003Cp\u003ETypically at least one rev around the sun is required for proper orbit phasing (meaning timing of the encounters). That is the price of flybys: longer transfer orbit duration for smaller delta-v requirements.\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-08-11T16:18:46Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/GcmDky5.png\u0022 alt=\u0022GcmDky5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EWTF just happened?\u003C/p\u003E\n"},{"CreatedByName":"Peewee","CreatedById":5338,"CreatedDateTime":"2013-08-11T23:14:43Z","Content":"\n\u003Cp\u003ENo idea, those inputs produced this result for me:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/arvSgEr.png\u0022 alt=\u0022arvSgEr.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"themooseontheleft","CreatedById":78604,"CreatedDateTime":"2013-08-12T05:33:43Z","Content":"\n\u003Cp\u003EI created a KSP forum account just to tell you this. Your applet is beautiful. I just downloaded it and ran some tests simulations. I absolutely love it.\u003C/p\u003E\u003Cp\u003EIf I could suggest any feature I\u0027d like to see next (and it may already exist without my having discovered it yet) it would be the ability to input a flyby trajectory, rather than an orbit, so that simulations of flyby scenarios can be linked (i.e. a calculated flyby trajectory can be input into another flyby simulation). Thanks for the app. I\u0027ll definitely be using it.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-13T00:14:19Z","Content":"\n\u003Cp\u003ESpanier/Peewee: Thanks for the information! The numerical solver used doesn\u0027t always converge to a realistic solution in some cases. Occasionally the solver will find a really cheap solution that also happens to be impossible. I\u0027ve got constraints in there to prevent most of this, but it\u0027s not always possible to get it all. Just rerun the simulation and see if that fixes the issue.\u003C/p\u003E\u003Cp\u003EThemooseontheleft: Thanks! It is indeed a nice little tool and I enjoy using it myself. Glad to hear you\u0027re getting some mileage out of it. To answer your question: you can indeed do what you\u0027re asking, it\u0027s just not advertised. After you compute a flyby, go ahead and encounter the planet you\u0027re attempting to fly by in KSP. Immediately at SOI change, create a new porkchop plot with the departure body as the body you\u0027re flying by and the arrival body as the final destination of the flyby sequence. After this, go to the Compute Departure button on the main GUI. Enter your periapse time in the departure time field and the final destination body arrival time from the flyby plan into the arrival time field. Then enter your hyperbolic orbit elements into the orbit panel on the right and tap Compute. It should do the math for you. As a friendly hint, you should try very hard to at least get the inclination and RAAN roughly what they are in the flyby plan or the solver will have a hard time converging.\u003C/p\u003E\u003Cp\u003ELet me know if you have any questions! Feel free to post pictures of oddities or just nice trajectories you\u0027ve found. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Spanier","CreatedById":57247,"CreatedDateTime":"2013-08-13T13:47:33Z","Content":"\n\u003Cp\u003EI had this \u0022bug\u0022 recently in 0.9 prerelease, can I fix it myself:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jUo9wZU.png\u0022 alt=\u0022jUo9wZU.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Specialist290","CreatedById":58489,"CreatedDateTime":"2013-08-14T00:32:27Z","Content":"\n\u003Cp\u003EGetting the same bug as Spanier on my install as well on my first try of the Flyby Calculator.\u003C/p\u003E\u003Cp\u003EThat said, overall this seems to be a rather well-put-together program.\u003C/p\u003E\n"},{"CreatedByName":"Arrowstar","CreatedById":2521,"CreatedDateTime":"2013-08-15T00:01:30Z","Content":"\n\u003Cp\u003EOoo, I bet that\u0027s because I removed the Parallel Computing Toolbox from the install to decrease file size. Ugh. Does that occur in 0.8?\u003C/p\u003E\u003Cp\u003EEDIT: Just as a heads up, guys, the reason development has slowed to the extent that it has is because I\u0027ve been pulling 60 hour weeks at work the last two weeks. That\u0027s scheduled to end after next week, so after life calms down I\u0027ll get back on the development wagon. Besides fixing this bug, I\u0027ll also go ahead try to implement a feature I\u0027ve wanted to do for a while: the maneuver execution assistant. Give it your initial orbit, delta-v vector, and some spacecraft mass properties and it\u0027ll find the delta-v centered time to start your burn. This will be most applicable to long burns on heavy vehicles, where the \u0022split the time difference\u0022 operation actually biases the burn (and thus the final orbit) to what happens after the maneuver node.\u003C/p\u003E\u003Cp\u003EMore details on this later... \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-15T00:05:49Z\u0022 title=\u002208/15/2013 12:05  AM\u0022 data-short=\u002210 yr\u0022\u003EAugust 15, 2013\u003C/time\u003E by Arrowstar\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"BigMorgan","CreatedById":4250,"CreatedDateTime":"2013-08-15T04:58:58Z","Content":"\n\u003Cp\u003EThank you for saving us math-impaired folks from ourselves. This is the best tool yet made for KSP. If people consider MechJeb \u0022cheating\u0022 then your calculator is the KSP equivalent of the mafia bribing the referee of a football game so their bets pay off. Thank you, again!\u003C/p\u003E\n"}]}