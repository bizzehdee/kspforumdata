{"TopicId":166555,"ForumId":32,"TopicTitle":"Struts, Fairings and Inconsistent Behavior (1.3.1)","CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2017-10-15T10:15:53Z","PageNum":1,"Articles":[{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2017-10-15T10:15:53Z","Content":"\n\u003Cp\u003E\nCan someone tell me definitively\u00A0how struts and fairings in the stock game are \u003Cem\u003Esupposed\u003C/em\u003E to interact?\u00A0 I recently found myself fighting against KSP 1.3.1 to keep my struts where I want them.\u00A0 The game seems to treat these interactions inconsistently depending on the order you place/edit parts, whether you use Undo, etc.\u00A0 Some scenarios I\u0027ve observed on a recent craft I was constructing:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cstrong\u003EConnecting struts before fairings built\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#27ae60;\u0022\u003EWorks fine\u003C/span\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EConnecting struts \u003Cem\u003Ethrough \u003C/em\u003Efairings after they are built\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\nWorks in the editor \u003Cspan style=\u0022color:#27ae60;\u0022\u003Emost of the time\u003C/span\u003E, except:\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003EOccasional inconsistency\u00A0within symmetry groups\u003C/span\u003E\n\u003Cul\u003E\u003Cli\u003E\ne.g. Sometimes when connecting the end of a strut to a surface inside a fairing, even though the \u0022seed\u0022 strut I\u0027m placing goes right through the fairing, I notice the mirrored strut terminates prematurely when it hits the fairing surface.\u00A0 The ship in question is symmetric across the relevant planes so there\u0027s no good reason I can see for the behavior to be inconsistent.\u00A0 Manually placing the struts individually at the same locations, without using symmetry,\u00A0works fine.\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nAn example of the problem.\u00A0 Here I\u0027m placing a strut endpoint:\u003Cbr\u003E\u003Cimg alt=\u0022vlo4jdx.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/vlo4jdx.png\u0022 width=\u0022783\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAnd here\u0027s how it looks right after the end was placed.\u00A0 Note strut on right terminates prematurely:\u003Cbr\u003E\u003Cimg alt=\u0022xWBBBXZ.png\u0022 class=\u0022ipsImage\u0022 height=\u0022762\u0022 src=\u0022https://i.imgur.com/xWBBBXZ.png\u0022 width=\u0022757\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nTrying to strut from a part inside one fairing, to a part inside a different fairing, \u003Cspan style=\u0022color:#c0392b;\u0022\u003Eusually doesn\u0027t work\u003C/span\u003E.\n\u003Cul\u003E\u003Cli\u003E\nVarying behavior, either:\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#c0392b;\u0022\u003EThe game simply \u0022deletes\u0022 the strut when you try and place it\u003C/span\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nWhen I clicked to place the end of this strut, the editor simply deleted it and acted as if I never tried to place it.\u003Cbr\u003E\u003Cimg alt=\u0022bpK4TPM.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/bpK4TPM.png\u0022 width=\u0022949\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nPlacing the strut in the reverse direction worked fine (at least in this example;\u00A0but note sometimes it doesn\u0027t work in either direction):\u003Cbr\u003E\u003Cimg alt=\u00225qWPpqg.png\u0022 class=\u0022ipsImage\u0022 height=\u0022647\u0022 src=\u0022https://i.imgur.com/5qWPpqg.png\u0022 width=\u00221024\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cimg alt=\u0022kl19Bmb.png\u0022 class=\u0022ipsImage\u0022 height=\u0022747\u0022 src=\u0022https://i.imgur.com/kl19Bmb.png\u0022 width=\u00221024\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EOr the editor \u003C/span\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003E\u0022picks up\u0022 the part you are trying to pin the end of the strut to\u003C/span\u003E, detaching that part (and its children) from your craft (very annoying).\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cspan\u003EOr it \u003C/span\u003E\u003Cspan style=\u0022color:#c0392b;\u0022\u003Eworks in one direction but not the other\u003C/span\u003E (e.g. see above spoiler).\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\nNot sure if this is intentional.\u00A0 If so, it\u0027s a pretty naive attempt to prevent prevent the player from doing this as there are many ways around it.\n\u003C/li\u003E\n\u003Cli\u003E\nI\u0027ve noticed cases where if you\u0027ve already set up a situation like this (e.g. by running the strut before the fairing was built) then it totally screws up your ability to place struts anywhere on your craft afterward.\u00A0 \u003Cspan style=\u0022color:#c0392b;\u0022\u003EAll new placements start exhibiting one of the two aberrant behaviors above\u003C/span\u003E (strut is immediately deleted, or picks up target part instead of pinning strut).\u00A0 When I started seeing this, it seemed consistently reproducible.\u00A0 Reloading the game / craft didn\u0027t help.\u00A0 You need to delete the offending strut(s) to make new struts work properly again.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EDisconnecting and reconnecting\u00A0a fairing base without deleting / rebuilding the fairing\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\nDoesn\u0027t seem to affect struts that pass through it\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EUndo / Redo\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\nDISASTROUS\u003Cem\u003E \u003C/em\u003Eresults - seems to \u003Cspan style=\u0022color:#c0392b;\u0022\u003Etrigger\u00A0\u0022regeneration\u0022 of all struts\u003C/span\u003E in a manner that makes them consistently end at the first fairing surface they hit.\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ELaunching from \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E/\u003Cabbr title=\u0022SpacePlane Hangar\u0022\u003ESPH\u003C/abbr\u003E\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#27ae60;\u0022\u003EMaintains strut connections / orientations from \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E?\u003C/span\u003E (I know older versions sometimes reoriented your struts sending them flying out at weird angles but I think they fixed this one).\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ELoading craft in Editor\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#27ae60;\u0022\u003EMaintains the saved strut connections\u003C/span\u003E (no \u0022regeneration\u0022 trigger).\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003ELoading / Quickloading craft in flight\u003C/strong\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Cspan style=\u0022color:#27ae60;\u0022\u003EMaintains the strut connections\u003C/span\u003E the way they were on your craft when you saved (I think).\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nMuch of the red behavior feels buggy and ill defined.\u00A0 If it\u0027s the intent that struts aren\u0027t allowed to pass through fairings, then \u003Cem\u003Eall\u003C/em\u003E of the above user actions (except loading a craft in flight) should act the way the Undo button does - i.e. trigger strut \u0022regeneration\u0022 and check for collisions, truncating them at the first surface they hit.\u00A0 Otherwise, the Undo thing really needs to be fixed, as well as the edge cases above.\u00A0 I\u0027d be OK with defining different behavior for struts placed before / after fairings are built (this would seem to offer the player the most flexibility as to whether they want to strut \u003Cem\u003Ethrough \u003C/em\u003Ea fairing, or \u003Cem\u003Eto \u003C/em\u003Ethe surface of one) but then the game shouldn\u0027t go mucking around with previously placed struts which I connected before I built my fairings.\u00A0 If it does want to re-evaluate my preexisting struts for new collisions (e.g. when placing a new part that may intersect the strut),\u00A0 then maybe it ought to keep track of which collisions existed before the operation began so those can continue to be ignored when the operation completes (particularly when less straightforward actions re-trigger said analysis).\u00A0 I think that would result in a more consistent and predicable player experience, where KSP wouldn\u0027t shoot you in the foot later by \u0022helpfully\u0022 deciding on a whim to rejig your struts.\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know if this behavior is new to 1.3.1.\u00A0 IIRC from the changelogs it looked\u00A0like Squad was doing some work with struts in 1.3.0 and 1.3.1.\u00A0 I generally avoided stock fairings and tended to use Procedural Fairings instead (which seemed to behave in a more deterministic manner).\u00A0 But when the new release dropped, I decided to try playing without mods for a while (for unrelated reasons: to see if mods or the stock game was responsible for some performance issues I start to see after doing lots of launch / reverts in a row).\u00A0 The only mod I had loaded when I investigated all this was Kerbal Engineer\u00A0Redux (\u003Cabbr title=\u0022Kerbal Engineer Redux (mod)\u0022\u003EKER\u003C/abbr\u003E) and I\u0027m pretty convinced it\u0027s not causing the problems.\n\u003C/p\u003E\n\u003Cp\u003E\nI am not submitting a formal bug report, I just want to know how things are \u003Cem\u003Esupposed \u003C/em\u003Eto work and whether others are seeing similar behavior.\u00A0 (If so, I\u0027d love it if a QA person from Squad could pick this up and run with it from here.\u00A0 Feel free to move this topic to another forum if appropriate).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-15T10:29:08Z\u0022 title=\u002210/15/2017 10:29  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 15, 2017\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"HerrCrazi","CreatedById":180017,"CreatedDateTime":"2017-10-15T11:00:09Z","Content":"\n\u003Cp\u003E\nI have the same issues each time I use struts going inside fairings. Thanks for reporting this problem \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2017-10-15T11:35:19Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/180017-herrcrazi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022180017\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/180017-herrcrazi/\u0022 rel=\u0022\u0022\u003E@HerrCrazi\u003C/a\u003E\u00A0for corroborating.\n\u003C/p\u003E\n\u003Cp\u003E\nHere\u0027s the\u00A0\u003Cspan\u003E\u003Cspan\u003E\u003Ca href=\u0022https://tinyurl.com/Tylo2craft\u0022 rel=\u0022external nofollow\u0022\u003Ecraft file\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E I was working with that consistently reproduces one of the issues (\u0022all struts get\u00A0deleted on placement\u0022).\u00A0 If you have time, could you see if it reproduces that problem for you, too?\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nLoad the craft.\n\u003C/li\u003E\n\u003Cli\u003E\nTry placing a strut anywhere on the ship.\u00A0 You can\u0027t.\n\u003C/li\u003E\n\u003Cli\u003E\nTo resolve, delete the strut pair near the top of the craft, highlighted in green in this screenshot:\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022426yW7O.png\u0022 class=\u0022ipsImage\u0022 height=\u0022768\u0022 src=\u0022https://i.imgur.com/426yW7O.png\u0022 width=\u0022625\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\nNow you can place struts again.\n\u003C/li\u003E\n\u003Cli\u003E\nTrying to recreate the strut you just deleted demonstrates the \u0022\u003Cem\u003Ethis \u003C/em\u003Estrut gets deleted on placement\u0022 issue.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nI was also able to intermittently reproduce the \u0022part you are connecting a strut to gets picked up\u0022 issue on this craft (once by deleting several parts from the craft and playing with struts), but haven\u0027t found a consistent set of steps to trigger it.\n\u003C/p\u003E\n\u003Cp\u003E\nI know this isn\u0027t a nice, small demonstrator craft - but it should be possible for someone to distill it down to a sample with fewer parts.\u00A0 I didn\u0027t, because I\u0027m trying to\u00A0spend more of my time playing and less debugging!\u00A0 (Seems like every time I fire up Kerbal lately I wind up spending more time tracking down and isolating\u00A0problems than actually playing the game).\n\u003C/p\u003E\n\u003Cp\u003E\nThe \u0022inconsistent symmetry\u0022 issue is fairly trivial to reproduce by creating a simple craft like the one in the screenshot from my \u003Cabbr title=\u00221. Original Post(er). The first post in a thread, or the person who posted it. 2. Overpowered. A part or mechanic that upsets game balance by being too powerful.\u0022\u003EOP\u003C/abbr\u003E.\u00A0 The Undo issue is likewise trivial to reproduce.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-15T11:39:15Z\u0022 title=\u002210/15/2017 11:39  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 15, 2017\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003Cbr\u003EFix link\n\u003C/span\u003E\n"},{"CreatedByName":"HerrCrazi","CreatedById":180017,"CreatedDateTime":"2017-10-16T16:30:28Z","Content":"\n\u003Cp\u003E\nI\u0027ll try to check this for you under a few days, but I\u0027m currently busy. I\u0027m still on 1.2.2 though.\n\u003C/p\u003E\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2017-10-17T04:59:55Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/180017-herrcrazi/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022180017\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/180017-herrcrazi/\u0022 rel=\u0022\u0022\u003E@HerrCrazi\u003C/a\u003E No problem.\u00A0 I understand we might get differing results due to different versions, but comparing them might still be revealing :-).\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-17T05:00:13Z\u0022 title=\u002210/17/2017 05:00  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 17, 2017\u003C/time\u003E by Fwiffo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rocket In My Pocket","CreatedById":154640,"CreatedDateTime":"2017-10-17T11:49:37Z","Content":"\n\u003Cp\u003E\nAs I understand it anything inside a fairing is auto-strutted\u00A0to the fairing itself so there shouldn\u0027t ever be a need to strut to anything inside a fairing?\n\u003C/p\u003E\n\u003Cp\u003E\n(Although, I still find all this fascinating.)\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-17T11:51:33Z\u0022 title=\u002210/17/2017 11:51  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 17, 2017\u003C/time\u003E by Rocket In My Pocket\u003C/strong\u003E\n\u003C/span\u003E\n"}]}