{"TopicId":74242,"ForumId":36,"TopicTitle":"[SOLVED] Resource Panel not showing change in Electricity","CreatedByName":"puzzler995","CreatedById":112272,"CreatedDateTime":"2014-06-05T21:29:28Z","PageNum":1,"Articles":[{"CreatedByName":"puzzler995","CreatedById":112272,"CreatedDateTime":"2014-06-05T21:29:28Z","Content":"\n\u003Cp\u003EI\u0027ve created a part that when active should pull electric charge. While the electric charge does pull, the resource panel still shows the change in electricity as \u0022(0)\u0022, not .3 as it should. I know for a fact it does pull the electricity, as the amount goes down.\u003C/p\u003E\u003Cp\u003EMy code from the PartModule derived class:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E [KSPField(isPersistant = false)]\u003Cbr\u003Epublic float PowerConsumption;\u003Cbr\u003E... \u003Cbr\u003Eif (GetPower(part, PowerConsumption)) { //This is within the OnUpdate() method\u003Cbr\u003E...\u003Cbr\u003E}\u003Cbr\u003E...\u003Cbr\u003E private bool GetPower(Part part, float PowerConsumption)\u003Cbr\u003E{\u003Cbr\u003E    if (TimeWarp.deltaTime != 0)\u003Cbr\u003E    {\u003Cbr\u003E        float amount = part.RequestResource(\u0022ElectricCharge\u0022, PowerConsumption * TimeWarp.deltaTime);\u003Cbr\u003E        return amount != 0;\u003Cbr\u003E    }\u003Cbr\u003E    else\u003Cbr\u003E    {\u003Cbr\u003E        return true;\u003Cbr\u003E     }\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-06-08T16:04:27Z\u0022 title=\u002206/08/2014 04:04  PM\u0022 data-short=\u002210 yr\u0022\u003EJune 8, 2014\u003C/time\u003E by puzzler995\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"puzzler995","CreatedById":112272,"CreatedDateTime":"2014-06-08T16:05:00Z","Content":"\n\u003Cp\u003ESo I figured out the problem. I moved my power pull code into the OnFixedUpdate() method instead of the OnUpdate() method.\u003C/p\u003E\n"}]}