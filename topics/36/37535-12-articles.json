{"TopicId":37535,"ForumId":36,"TopicTitle":"Kerbin Mini Shuttle","CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-07-18T04:15:54Z","PageNum":12,"Articles":[{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-07T21:35:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003ETheoretically, yes, however a lot of what I am doing relies on the behaviour of texture border clamping/wrapping. If everything was in the same texture I would have to emulate this programmatically in the shaders, which would complicate things and could potentially hurt performance. It will definitely boost the instruction count by quite a bit, though it would require testing to see if the effect is noticeable. Other flight simulators I have seen store their instrument component textures in separate files - for example the Garmin G1000 in FSX has 231 separate textures. Is a single texture really required? Does it have that much of an impact?\u003Cp\u003EEdit: The performance benefit you get from using a texture atlas is reduced draw calls due to using the same texture \u003Cem\u003Eand the same shader\u003C/em\u003E for every object. In a GUI situation, the number of draw calls is not really affected by whether textures are in the same atlas. In fact many textures would be used in one pass.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGotcha!\u003C/p\u003E\u003Cp\u003EYou understood exactly what I meant! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EOk, should have the MFD ready in about an hour or two\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-07T21:39:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022helldiver\u0022 data-cite=\u0022helldiver\u0022\u003E\u003Cdiv\u003EGotcha!\u003Cp\u003EYou understood exactly what I meant! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EOk, should have the MFD ready in about an hour or two\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn an hour or two I will be asleep, given that it is currently 10:37pm where I am.\u003C/p\u003E\u003Cp\u003ESo, multiple textures are OK then? It would certainly make editing the components easier.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-07T21:54:42Z","Content":"\n\u003Cp\u003EAlso, not to alarm you or anything, but I read \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/45070-TT-s-IVA-Tutorial\u0022 rel=\u0022external nofollow\u0022\u003Ethis post\u003C/a\u003E on how to make IVA cockpits and it says this:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TouhouTorpedo\u0022 data-cite=\u0022TouhouTorpedo\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003EImportant note on Scales\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E--------------------------\u003C/p\u003E\u003Cp\u003Eyou must MUST work to reScaleFactor 1. If you don\u0027t, then it won\u0027t line up and you\u0027ll just have a big headache. Even if you think you\u0027ll be clever and resize the internal model 1.25 in Unity. It knows you\u0027re being a smartass and it\u0027ll make you pay dearly, trust me I tried.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDisclaimer: I haven\u0027t made an IVA before, so I did not know about this when I gave you the earlier advice. Sorry. Though I am a bit skeptical that it is as bad as TT makes out.\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-07T23:05:02Z","Content":"\n\u003Cp\u003EHrm I think I already accounted for that, we shouldn\u0027t have issues.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/dMA5CDz.jpg\u0022 alt=\u0022dMA5CDz.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EGoing to convert to FBX soon as I get done here, I\u0027ll then upload to my webspace so you can download it.\u003C/p\u003E\u003Cp\u003EYou\u0027ll have to manually assign all the textures in Unity or what have you. Will explain the buttons in a moment.\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-07T23:28:49Z","Content":"\n\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/MxlP8mW.jpg\u0022 alt=\u0022MxlP8mW.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EALT is the ADI you are making right now, that would come up. HDG would be the HSI with compass rose and all that jazz. The rest I think you can figure out, let me know if you need layout or more information on the other MFD modes. We won\u0027t use ILS, A/P, DTV, or Docking modes for now. Unless you can figure out how to implement those?\u003C/p\u003E\u003Cp\u003EConverting to FBX and I will PM you the download link\u003C/p\u003E\u003Cp\u003ESorry for all the posting, had to step out several times.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-08T10:04:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022helldiver\u0022 data-cite=\u0022helldiver\u0022\u003E\u003Cdiv\u003EHrm I think I already accounted for that, we shouldn\u0027t have issues.\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/dMA5CDz.jpg\u0022 alt=\u0022dMA5CDz.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EGoing to convert to FBX soon as I get done here, I\u0027ll then upload to my webspace so you can download it.\u003C/p\u003E\u003Cp\u003EYou\u0027ll have to manually assign all the textures in Unity or what have you. Will explain the buttons in a moment.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHeh, nice touch. I wonder what the Kerbals can plug into those ports on the back.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mission Control\u0022 data-cite=\u0022Mission Control\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EKST-01, this is control. Telemetry is picking up an abnormally high power drain from the PFD. Can you confirm, over?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KST-01\u0022 data-cite=\u0022KST-01\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EControl, uh, Jeb was charging his kPhone. We\u0027ve locked it in the cargo bay now until KSS RV. Over.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the PM. I will see what I can do.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-08T13:34:20Z","Content":"\n\u003Cp\u003EHere\u0027s a quick render in Max of the MFD with all of the texture maps applied correctly:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/RUFpvSq.png\u0022 alt=\u0022RUFpvSq.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EObviously the ADI graphic is a placeholder.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-08T15:09:23Z","Content":"\n\u003Cp\u003EHere it is again, but this time it is in game. I am going to have to split the screen from the rest of the mesh in order to apply transparency to it so that the underlying panel is visible. It is ridiculous that you cannot have transparency, emissivity and normal mapping on a model, purely because of the lack of shaders available. No matter - I will write a plugin to allow custom shaders. So in the config file you would specify which objects have which custom material, with the custom material\u0027s parameters set and a shader file in the same directory. Judging from the code required this particular plugin should be pretty much impervious to changes introduced by new KSP versions, as almost all of what it deals with is Unity-specific, not KSP.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/CitAFPX.jpg\u0022 alt=\u0022CitAFPX.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Cepheus","CreatedById":10683,"CreatedDateTime":"2013-08-08T16:12:08Z","Content":"\n\u003Cp\u003EThat\u0027s looking pretty damned good.\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-08T19:49:54Z","Content":"\n\u003Cp\u003EMan, you\u0027re freaking awesome!\u003C/p\u003E\u003Cp\u003EWorking on the cockpit to try and marathon it today. Hopefully, as long as I don\u0027t get distractions... it should be done by tomorrow.\u003C/p\u003E\u003Cp\u003EAlso, don\u0027t worry so much about the test MFD, that is giving us the feedback I needed. \u003C/p\u003E\u003Cp\u003EI actually put all those textures on it as a test. I knew that Unity didn\u0027t handle textures too easily and that you pretty much had to program it in. Just wasn\u0027t sure if the KSP team had solved that or come up with their own routine.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-08T19:53:04Z\u0022 title=\u002208/08/2013 07:53  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 8, 2013\u003C/time\u003E by helldiver\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DisarmingBaton5","CreatedById":68576,"CreatedDateTime":"2013-08-08T20:37:05Z","Content":"\n\u003Cp\u003EIs it too late to ask for a throttle indicator somewhere? It is kind of annoying to look down at the throttle every time I want to perform a maneuver. Not necessary at all, just convenient.\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-08T20:55:48Z","Content":"\n\u003Cp\u003EHrm, how did Bac9 and those guys do transparency on their windshields? Did they also do a custom thing?\u003C/p\u003E\u003Cp\u003EThe emissives are to allow you to turn on the cockpit panel lights at night so you get better visibility.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-08-08T21:04:52Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022helldiver\u0022 data-cite=\u0022helldiver\u0022\u003E\u003Cdiv\u003EHrm, how did Bac9 and those guys do transparency on their windshields? Did they also do a custom thing?\u003Cp\u003EThe emissives are to allow you to turn on the cockpit panel lights at night so you get better visibility.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom my tests I just made a png that was slightly transparent and that did the trick for me. No plugin required.\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-08T21:10:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sirkut\u0022 data-cite=\u0022sirkut\u0022\u003E\u003Cdiv\u003EFrom my tests I just made a png that was slightly transparent and that did the trick for me. No plugin required.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAhh ok. Hrm.\u003C/p\u003E\u003Cp\u003E@ZRM, did you flip the green channel on the normal, or are the lines on the corner of the MFD (on the first picture you posted) just a result of the .JPG resolution? The in-game shot looks perfect though.\u003C/p\u003E\n"},{"CreatedByName":"spacex34","CreatedById":66275,"CreatedDateTime":"2013-08-08T21:57:16Z","Content":"\n\u003Cp\u003EReally your mod look great\u003C/p\u003E\u003Cp\u003EI look forward to the release\u003C/p\u003E\n"},{"CreatedByName":"helldiver","CreatedById":74755,"CreatedDateTime":"2013-08-09T04:40:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EHere\u0027s a quick render in Max of the MFD with all of the texture maps applied correctly:\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh I didn\u0027t notice you said Max. Yeah, if you render any of my work in Max, you have to set the Normal map to flip green. When you select Normal Bump in the roll out, you will see an option for Channel Direction. Make sure Flip Green is selected.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-09T11:01:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sirkut\u0022 data-cite=\u0022sirkut\u0022\u003E\u003Cdiv\u003EFrom my tests I just made a png that was slightly transparent and that did the trick for me. No plugin required.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom studying the stock shaders available, you can only use transparency if you don\u0027t use emissivity. And with transparency you can only have specular OR normal mapping, not both.\u003C/p\u003E\u003Cp\u003EAnyway, that does not matter any more, as I have got my plugin that allows you to use custom shaders working:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Bhi0gUN.jpg\u0022 alt=\u0022Bhi0gUN.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe panel is now showing through the glass layer. The texture for the panel has not been set, but at least I have an opacity map, normal map, emissivity map, diffuse map and specular map in one shader in one pass.\u003C/p\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2013-08-09T12:29:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EHeh, I clearly don\u0027t double-check my works of art in photoshop - spot the problem with the pitch scale:\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/uc7Iir1.png\u0022 alt=\u0022uc7Iir1.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EBTW, that roll indicator is temporary. Ideally it should take up more room, have more notches and the lines should be thicker. And of course the indicator arrow needs to be added.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ewow. amazing optical illusion. scroll down the page and look at the picture.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-09T12:37:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022GregroxMun\u0022 data-cite=\u0022GregroxMun\u0022\u003E\u003Cdiv\u003Ewow. amazing optical illusion. scroll down the page and look at the picture.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUh, I don\u0027t see it.\u003C/p\u003E\u003Cp\u003EEdit: Now I do. That is weird.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-09T14:09:26Z","Content":"\n\u003Cp\u003ERight, I now have the ADI working in the MFD in game:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/2b7WCPw.jpg\u0022 alt=\u00222b7WCPw.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EHelldiver, I had to modify the opacity the opacity texture quite a bit to make the underlying panel visible enough. You will probably want to make your version more transparent as well. Possibly it could be completely transparent, but still shiny, and perhaps have a few scratches on it.\u003C/p\u003E\u003Cp\u003EEdit: I also recommend that you make the glass panels on the IVA displays separate components as well as the back panels (you can still keep the UVs and texture). Otherwise you are getting an unnecessary performance hit (which may be negligible, but still) for making the entire IVA use a potentially transparent material, which means that the game would have to sort the triangles of the entire cockpit every frame, instead of just the glass panels.\u003C/p\u003E\u003Cp\u003EEdit: On IRC I have been getting support for the idea of having a throttle/thrust indicator. Would you add that to the MFD? It would look something like the middle panel in this image:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://petersuv.vs120062.hl-users.com/Bilder/A380/Plugin/MFD1-3.gif\u0022 alt=\u0022MFD1-3.gif\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-09T14:55:53Z\u0022 title=\u002208/09/2013 02:55  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 9, 2013\u003C/time\u003E by ZRM\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Dave7","CreatedById":70552,"CreatedDateTime":"2013-08-09T15:03:01Z","Content":"\n\u003Cp\u003EWill you be able to see the internal IVA stuff externally? Maybe using the \u003Ca href=\u0022http://kerbalspaceprogram.com/sfr-command-pod/\u0022 rel=\u0022external nofollow\u0022\u003Esfr plugin\u003C/a\u003E? Not sure what you have planned for windows. Would be nice if more people did that sort of thing.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-09T15:05:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dave7\u0022 data-cite=\u0022Dave7\u0022\u003E\u003Cdiv\u003EWill you be able to see the internal IVA stuff externally? Maybe using the \u003Ca href=\u0022http://kerbalspaceprogram.com/sfr-command-pod/\u0022 rel=\u0022external nofollow\u0022\u003Esfr plugin\u003C/a\u003E? Not sure what you have planned for windows. Would be nice if more people did that sort of thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEarlier in the thread Helldiver said he didn\u0027t want to do that. Not sure if he\u0027ll change his mind. Also consider that making the IVA visible from outside would have a performance impact, especially if the MFD displays are kept active.\u003C/p\u003E\n"},{"CreatedByName":"DisarmingBaton5","CreatedById":68576,"CreatedDateTime":"2013-08-09T20:18:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EOn IRC I have been getting support for the idea of having a throttle/thrust indicator. Would you add that to the MFD? It would look something like the middle panel in this image:\u003Cp\u003E\u003Cimg src=\u0022http://petersuv.vs120062.hl-users.com/Bilder/A380/Plugin/MFD1-3.gif\u0022 alt=\u0022MFD1-3.gif\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI really can\u0027t wait to fly this from the cockpit; it looks so good.\u003C/p\u003E\u003Cp\u003EZRM, will the ADI point straight ahead or in line with the OMS engines? Either way, it may be useful to have a seperate marker for the other one.\u003C/p\u003E\n"},{"CreatedByName":"ZRM","CreatedById":64626,"CreatedDateTime":"2013-08-09T20:26:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DisarmingBaton5\u0022 data-cite=\u0022DisarmingBaton5\u0022\u003E\u003Cdiv\u003EI really can\u0027t wait to fly this from the cockpit; it looks so good.\u003Cp\u003EZRM, will the ADI point straight ahead or in line with the OMS engines? Either way, it may be useful to have a seperate marker for the other one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe final ADI will definitely have at least two pointer indicators. The main one will point in the direction of the cockpit (since that is relatively stable), and another marker will point in the thrust direction. Then there will also be the target and prograde/retrograde markers. Each secondary marker is in fact two markers - one on the ADI, and one on the heading indicator. It may even be better to represent them with directed arrows when out of view on the ADI.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-08-09T20:29:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ZRM\u0022 data-cite=\u0022ZRM\u0022\u003E\u003Cdiv\u003EFrom studying the stock shaders available, you can only use transparency if you don\u0027t use emissivity. And with transparency you can only have specular OR normal mapping, not both.\u003Cp\u003EAnyway, that does not matter any more, as I have got my plugin that allows you to use custom shaders working:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Bhi0gUN.jpg\u0022 alt=\u0022Bhi0gUN.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe panel is now showing through the glass layer. The texture for the panel has not been set, but at least I have an opacity map, normal map, emissivity map, diffuse map and specular map in one shader in one pass.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s good to know. I just messed around and didn\u0027t go too in depth with it. I like the look of this!\u003C/p\u003E\n"}]}