{"TopicId":103840,"ForumId":36,"TopicTitle":"How to get fuel count for active vessel ?","CreatedByName":"creekorful","CreatedById":116499,"CreatedDateTime":"2015-04-10T12:16:29Z","PageNum":1,"Articles":[{"CreatedByName":"creekorful","CreatedById":116499,"CreatedDateTime":"2015-04-10T12:16:29Z","Content":"Hello everyone, i have a little question,\n\nHow to get fuel count for the active vessel ? (The fuel in all parts in mean, for the entire vessel),\n\nI want to get it to check if fuel level is low.\n\nAlso if there is a way to check is fuel level is low directly, tell me about it\n\nThank you in advance. \n\nCreekorful\n\n(By getting fuel level i mean wich function or method i had to use with my plugin using VS13 and C#)\n\n**Edited \u003Ctime datetime=\u00222015-04-10T12:27:35Z\u0022 title=\u002204/10/2015 12:27  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 10, 2015\u003C/time\u003E by creekorful**"},{"CreatedByName":"MindstormerOne","CreatedById":140193,"CreatedDateTime":"2015-04-10T12:25:22Z","Content":"In the top right corner there\u0027s a button you can press and it will show you how much fuel you have relative to how much your vehicle can carry."},{"CreatedByName":"creekorful","CreatedById":116499,"CreatedDateTime":"2015-04-10T12:26:47Z","Content":"Thank you, but not like this, i mean with my plugin, in C#\n\nI want to know wich function i hade to use to get fuel level in active vesssel.\n\n**Edited \u003Ctime datetime=\u00222015-04-10T12:30:59Z\u0022 title=\u002204/10/2015 12:30  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 10, 2015\u003C/time\u003E by creekorful**"},{"CreatedByName":"FreeThinker","CreatedById":117389,"CreatedDateTime":"2015-04-10T13:04:03Z","Content":"\u003E \n\u003E Thank you, but not like this, i mean with my plugin, in C#\n\u003E I want to know wich function i hade to use to get fuel level in active vesssel.\n\nYou have to summorise the amount of resource for each part in a vessel filtered on resourcetype\n\n    [COLOR=blue]public double getTotalResourceCapacity(Part my_part, string resource_name)         {                 return my_part.GetConnectedResources(resource_name).ToList().Sum(partresource =\u003E partresource.maxAmount);     }public static class PartExtensions {    public static IEnumerable GetConnectedResources(this Part part, String resourcename)    {       PartResourceDefinition definition = PartResourceLibrary.Instance.GetDefinition(resourcename);       return GetConnectedResources(part, definition);    }    public static IEnumerable GetConnectedResources(this Part part, PartResourceDefinition definition)    {        List resources = new List();        part.GetConnectedResources(definition.id, definition.resourceFlowMode, resources);        return resources;    }}[/COLOR]\n\n**Edited \u003Ctime datetime=\u00222015-04-10T13:15:26Z\u0022 title=\u002204/10/2015 01:15  PM\u0022 data-short=\u00229 yr\u0022\u003EApril 10, 2015\u003C/time\u003E by FreeThinker**"},{"CreatedByName":"michaelhester07","CreatedById":96470,"CreatedDateTime":"2015-04-10T13:23:01Z","Content":"Vessel.getActiveResources() \n\nalso works to return a list of resources on the vessel.\n\nIf you then want to consume a resource then \n\npart.requestResource() \n\nTo get the active vessel\n\nFlightGlobals.activeVessel\n\nAlthough you\u0027ll just want to get the vessel through the module\u0027s part\n\nthis.part.vessel\n\nSo that your mod can still process resources if it\u0027s loaded but not being actively driven."}]}