{"TopicId":51073,"ForumId":36,"TopicTitle":"[PLUGIN\u002BPARTS][0.23] SCANsat terrain mapping","CreatedByName":"damny","CreatedById":78621,"CreatedDateTime":"2013-10-29T16:06:22Z","PageNum":53,"Articles":[{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-24T16:41:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ObsessedWithKSP\u0022 data-cite=\u0022ObsessedWithKSP\u0022\u003E\u003Cdiv\u003ELikewise, but I think it\u0027d be a bit unfair on people without it to make a hard dependency on it. I know plenty of other mods do but I feel the same way about them. \u003Cp\u003EAlso, I feel I must disagree with some of the various reasons technogeeky posted as justification. Argumentum ad populum and appeal to authority are both fallacies so they should not be used*. Regarding user confusion, I think it\u0027s fair to say that people voting to put SCANsat in all pods are not likely to be confused about the appearance of a satellite button on their screen. They know the reason they put SCANsat in all pods was to eliminate the need for the scanner part so I\u0027m pretty sure they\u0027d know why there is a scanning button but no part. As for roleplay/IVA useage, the current non-Toolbar button could be configured to provide a GIU menu on right click that shows the various options (small/big map, instruments, settings).\u003C/p\u003E\u003Cp\u003ELike I said, I already use the toolbar, so forced integration has no impact on me, but I realise other people are in a different situation and might not appreciate it. I would suggest a poll or vote of sorts, but I don\u0027t think this thread is active enough to show correctly represented results. Maybe in the General Add-On Affairs board, I don\u0027t know. But saying you\u0027re coding it so any decision you make is the right one doesn\u0027t take the users opinions into account.\u003C/p\u003E\u003Cp\u003E*Just because something is popular, doesn\u0027t mean it\u0027s right or the correct thing to do and \u0022authorities are not necessarily correct about judgements related to their field of expertise\u0022. In this case, the field of expertise in question is coding a hard dependency on the Toolbar.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ehehe. Obviously I knew they were logical fallacies. I had to look up their names. That\u0027s why I put \u0022over varying correctness.\u0022 Those reasons were essentially jokes.\u003C/p\u003E\n"},{"CreatedByName":"MartGonzo","CreatedById":65764,"CreatedDateTime":"2014-04-24T17:03:27Z","Content":"\n\u003Cp\u003EI\u0027d vote for Toolbar integration too, funnily enough that the reason I came into this thread just to find that you guys are already discussing it.\u003C/p\u003E\n"},{"CreatedByName":"Ringkeeper","CreatedById":88438,"CreatedDateTime":"2014-04-24T18:34:01Z","Content":"\n\u003Cp\u003EI have toolbar because i like the idea of it.\u003C/p\u003E\u003Cp\u003EHowever i would vote AGAINST mandatory and only vote for optional use.\u003C/p\u003E\u003Cp\u003EReason: The game is still only alpha. Already some really nice addons cant be used anymore as the developers decided to not play anymore/wait till final/ whatever. If the game would be final that wouldnt be much a problem, as nothing big will be changed and its unlikely that a addon breaks. \u003C/p\u003E\u003Cp\u003EBut if you make Toolbar mandatory and the dev decides to drop it, not only toolbar cant be used but all the addons that depend on it. \u003C/p\u003E\u003Cp\u003ESure, someone could overtake it (dont know which licence he uses) but will someone?\u003C/p\u003E\u003Cp\u003EAnd updating is also pain. Your addon now need version X but the newest is already Y which is not compatible to X ... so, cant use your addon or cant use other addon that already need Y .\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-04-24T18:57:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ringkeeper\u0022 data-cite=\u0022Ringkeeper\u0022\u003E\u003Cdiv\u003EBut if you make Toolbar mandatory and the dev decides to drop it, not only toolbar cant be used but all the addons that depend on it. \u003Cp\u003ESure, someone could overtake it (dont know which licence he uses) but will someone?\u003C/p\u003E\u003Cp\u003EAnd updating is also pain. Your addon now need version X but the newest is already Y which is not compatible to X ... so, cant use your addon or cant use other addon that already need Y.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t think this will be a problem, for two reasons. The first is that Toolbar is so popular, and so widely adopted by many of the bigshot modders (including ones with an existing track record for adopting others\u0027 mods) that it\u0027s inevitable that it will remain supported even if blizzy78 leaves.\u003C/p\u003E\u003Cp\u003EThe second is that blizzy78 has been *extremely* professional about proper versioning and backwards compatibility. They know what would happen if they got sloppy.\u003C/p\u003E\n"},{"CreatedByName":"luizopiloto","CreatedById":97503,"CreatedDateTime":"2014-04-24T19:28:10Z","Content":"\n\u003Cp\u003Edo like chatterer... toolbar is optional...\u003C/p\u003E\n"},{"CreatedByName":"BPI_Bel","CreatedById":89914,"CreatedDateTime":"2014-04-24T21:14:30Z","Content":"\n\u003Cp\u003EI do look forward to a \u0027official\u0027 version that contains support for Toolbar, but I do think that optional support is best. There is also nothing saying that you have to be as feature-complete with buttons in the non-Toolbar UI. I think mechjeb is a good example of how things should be done in terms of optional Toolbar integration.\u003C/p\u003E\n"},{"CreatedByName":"Dweller_Benthos","CreatedById":15418,"CreatedDateTime":"2014-04-25T13:01:38Z","Content":"\n\u003Cp\u003EI can understand those not wanting a dependency, it can be a hassle, especially if it\u0027s for something you don\u0027t use. If toolbar support can be added easily as an option, then by all means, I\u0027m for it.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-25T14:57:21Z","Content":"\n\u003Cp\u003EI forked damny\u0027s SCAN repository and \u003Ca href=\u0022https://github.com/DMagic1/SCAN/tree/Dev-Branch---Toolbar-Optional\u0022 rel=\u0022external nofollow\u0022\u003Emade two dev branches\u003C/a\u003E. One has the code of my currently released toolbar version. The other has the code for the toolbar optional version (and a few other changes), the master branch is unchanged.\u003C/p\u003E\u003Cp\u003EI haven\u0027t really tested it much, but it \u003Cem\u003Eworks\u003C/em\u003E, as in, the game doesn\u0027t crash and the SCANsat code gets loaded, but there is no way to open the maps (I guess this could be good for a really die-hard RPM user:cool:). The changes necessary to allow the right-click buttons/action groups to open the map are not too major, so I don\u0027t think it would difficult to incorporate this version instead of my other one.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-25T16:04:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EI forked damny\u0027s SCAN repository and \u003Ca href=\u0022https://github.com/DMagic1/SCAN/tree/Dev-Branch---Toolbar-Optional\u0022 rel=\u0022external nofollow\u0022\u003Emade two dev branches\u003C/a\u003E. One has the code of my currently released toolbar version. The other has the code for the toolbar optional version (and a few other changes), the master branch is unchanged.\u003Cp\u003EI haven\u0027t really tested it much, but it \u003Cem\u003Eworks\u003C/em\u003E, as in, the game doesn\u0027t crash and the SCANsat code gets loaded, but there is no way to open the maps (I guess this could be good for a really die-hard RPM user:cool:). The changes necessary to allow the right-click buttons/action groups to open the map are not too major, so I don\u0027t think it would difficult to incorporate this version instead of my other one.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ll take a look today. If everything is easy to understand to me (and it should be, I have spent a lot of time reading and commenting SCANsat code) then I\u0027ll incorporate it and release both toolbar and no-toolbar versions.\u003C/p\u003E\u003Cp\u003EAt least with the toolbar version out there it will be easy, at a later date, to stop supporting the non-toolbar version IFF we add features that really need toolbar.\u003C/p\u003E\u003Cp\u003EI overestimated the ability for me to use the Toolbar functions from their DLL. All of the code in there is stuck in the Toolbar namespace, so I suppose it doesn\u0027t make sense for me to make use of it in SCANsat. I mainly wanted some of the window resizing / window clamping / window edge detection / version checking features. But I will just copy the relevant functions and include them in SCANsat instead.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-25T17:02:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EI\u0027ll take a look today. If everything is easy to understand to me (and it should be, I have spent a lot of time reading and commenting SCANsat code) then I\u0027ll incorporate it and release both toolbar and no-toolbar versions.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI made a one line fix to allow the \u0022Open Map\u0022/\u0022Start Scan\u0022 button to open the small map. This is the only way to open the map without the toolbar, and you have to close it manually. With toolbar installed it doesn\u0027t do this, it might be nice for the MapTraq, but I think it would be annoying for the other scanners to constantly be opening the small map. There is also a fix to prevent non-animated parts from showing the \u0022Extend\u0022 option in the editor, but that has nothing to do with the toolbar stuff. \u003C/p\u003E\u003Cp\u003EAlso, someone earlier said something about allowing for the other windows to be opened from IVA controls with RPM. That would have to be done on RPM\u0027s side, but I changed some of the access modifiers in SCANui to allow for that kind of control if you want to include that too.\u003C/p\u003E\u003Cp\u003EI wouldn\u0027t recommend releasing two versions. If the toolbar-optional version works ok (and it should, the changes are relatively minor compared to the toolbar dependent version) then I think it would be best to only incorporate that version into the final release. With toolbar installed it works exactly the same as the other version.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-26T04:19:58Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EI made a one line fix to allow the \u0022Open Map\u0022/\u0022Start Scan\u0022 button to open the small map. This is the only way to open the map without the toolbar, and you have to close it manually. With toolbar installed it doesn\u0027t do this, it might be nice for the MapTraq, but I think it would be annoying for the other scanners to constantly be opening the small map. There is also a fix to prevent non-animated parts from showing the \u0022Extend\u0022 option in the editor, but that has nothing to do with the toolbar stuff. \u003Cp\u003EAlso, someone earlier said something about allowing for the other windows to be opened from IVA controls with RPM. That would have to be done on RPM\u0027s side, but I changed some of the access modifiers in SCANui to allow for that kind of control if you want to include that too.\u003C/p\u003E\u003Cp\u003EI wouldn\u0027t recommend releasing two versions. If the toolbar-optional version works ok (and it should, the changes are relatively minor compared to the toolbar dependent version) then I think it would be best to only incorporate that version into the final release. With toolbar installed it works exactly the same as the other version.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK.\u003C/p\u003E\u003Cp\u003EI\u0027m happy to report also, that I have Mono profiling working, and was able to capture some initial data on the (relative) performance of SCANsat. One of my goals is to try to speed up the redrawing of the Big Map, and the FPS loss associated with it (and especially with showing the Orbits).\u003C/p\u003E\u003Cp\u003EIs it easy/possible/trivial to get profiling going in Windows? I think you develop on windows...\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-26T06:52:53Z","Content":"\n\u003Cp\u003EHere are some examples from the profiling output. I am using one of the ideal scanning altitudes, allowing it to run in 1000x until (roughly) the time of completion stated by the orbit. Along the way, I have the small map and the big map up, orbit enabled, and I press the Altimtery (since I\u0027m scanning with SAR) button once in a while (not very scientific, I know) to update the big map. The resulting profile is 12MB.\u003C/p\u003E\u003Cp\u003EThis is the orbit I ran (on the Mun, SAR, ideal 750k, max 800k):\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 79  41/74  (1.07)  [B]519.466[/B] km  1.61 km  [B]83.79[/B] [B]154h 09.0m \u002B31.1m[/B]    5.2  0.03  90.74 m\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo ~ 25 days later, I ended up with 83.3 % coverage. Tons of gaps. I am taking a hit because I\u0027m below the ideal altitude, which really kills the SAR. I\u0027m thinking about exempting the SAR from this effect just to please the ideal orbit calculator (or at least to verify its correctness).\u003C/p\u003E\u003Cp\u003EHere is the first reasonable statistical profile sample I got (just a few functions listed, in order of highest overall percentage of time).\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 3.95% (7202) SCANsat.SCANdata.updateCoverage ()\u003Cbr\u003E    7202 calls from SCANsat.SCANcontroller.scanFromAllVessels ()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 0.81% (1476) SCANsat.SCANui.drawOrbit (UnityEngine.Rect,SCANsat.SCANmap,Vessel)\u003Cbr\u003E    20938 calls from SCANsat.SCANui.gui_bigmap_build (int)\u003Cbr\u003E    1 calls from UnityEngine.GUILayout/LayoutedWindow.DoWindow (int)\u003Cbr\u003E    6596 calls to Orbit.getPositionAtUT (double)\u003Cbr\u003E    4710 calls to SCANsat.SCANui.drawOrbitIcon (int,int,SCANsat.SCANui/OrbitIcon,UnityEngine.Color,int,bool)\u003Cbr\u003E    2211 calls to UnityEngine.Color.op_Inequality (UnityEngine.Color,UnityEngine.Color)\u003Cbr\u003E    1169 calls to CelestialBody.GetLongitude (Vector3d)\u003Cbr\u003E    1025 calls to UnityEngine.Color.get_clear ()\u003Cbr\u003E    952 calls to CelestialBody.GetLatitude (Vector3d)\u003Cbr\u003E    440 calls to UnityEngine.Texture2D.SetPixels (int,int,int,int,UnityEngine.Color[])\u003Cbr\u003E    424 calls to SCANsat.SCANui.drawLabel (UnityEngine.Rect,UnityEngine.Color,string,bool,bool)\u003Cbr\u003E    336 calls to UnityEngine.Texture2D.GetPixels (int,int,int,int)\u003Cbr\u003E    318 calls to CelestialBody.GetAltitude (Vector3d)\u003Cbr\u003E    206 calls to UnityEngine.Color.op_Equality (UnityEngine.Color,UnityEngine.Color)\u003Cbr\u003E    137 calls to SCANsat.SCANmap.projectLongitude (double,double)\u003Cbr\u003E    102 calls to UnityEngine.Color..ctor (single,single,single,single)\u003Cbr\u003E    84 calls to SCANsat.SCANmap.projectLatitude (double,double)\u003Cbr\u003E    84 calls to SCANsat.SCANui.mapPosAtT (UnityEngine.Rect,SCANsat.SCANmap,UnityEngine.Rect\u0026amp;,Vessel,Orbit,double)\u003Cbr\u003E    82 calls to UnityEngine.Color.op_Implicit (UnityEngine.Color)\u003Cbr\u003E    73 calls to UnityEngine.Color.get_black ()\u003Cbr\u003E    61 calls to UnityEngine.Color.Lerp (UnityEngine.Color,UnityEngine.Color,single)\u003Cbr\u003E    58 calls to SCANsat.SCANmap.scaleLongitude (double)\u003Cbr\u003E    55 calls to double.ToString (string)\u003Cbr\u003E    45 calls to Orbit.getObtAtUT (double)\u003Cbr\u003E    41 calls to UnityEngine.Color.get_white ()\u003Cbr\u003E    34 calls to SCANsat.SCANmap.scaleLatitude (double)\u003Cbr\u003E    33 calls to string.memcpy (byte*,byte*,int)\u003Cbr\u003E    28 calls to System.Math.Atan2 (double,double)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 0.43% (784) UnityEngine.Color.get_clear ()\u003Cbr\u003E    1025 calls from SCANsat.SCANui.drawOrbit (UnityEngine.Rect,SCANsat.SCANmap,Vessel)\u003Cbr\u003E    78 calls from SCANsat.SCANui.gui_bigmap_build (int)\u003Cbr\u003E    319 calls to UnityEngine.Color..ctor (single,single,single,single)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 0.26% (470) SCANsat.SCANdata.drawHeightScanline (SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    4918 calls from SCANsat.SCANdata.updateImages (SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    3384 calls to SCANsat.SCANmap.heightToColor (single,int)\u003Cbr\u003E    306 calls to PQS.GetSurfaceHeight (Vector3d)\u003Cbr\u003E    175 calls to SCANsat.SCANdata.isCovered (double,double,SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    156 calls to UnityEngine.Texture2D.GetPixels (int,int,int,int)\u003Cbr\u003E    115 calls to SCANsat.SCANdata.isCoveredByAll (double,double,SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    96 calls to UnityEngine.Color.get_black ()\u003Cbr\u003E    82 calls to UnityEngine.Color.Lerp (UnityEngine.Color,UnityEngine.Color,single)\u003Cbr\u003E    67 calls to UnityEngine.Texture2D.SetPixels (int,int,int,int,UnityEngine.Color[])\u003Cbr\u003E    39 calls to UnityEngine.Color.get_grey ()\u003Cbr\u003E    12 calls to UnityEngine.Color..ctor (single,single,single,single)\u003Cbr\u003E    4 calls to SCANsat.SCANcontroller.get_controller ()\u003Cbr\u003E    3 calls to UnityEngine.Mathf.Clamp (single,single,single)\u003Cbr\u003E    3 calls to System.Math.Round (double,int)\u003Cbr\u003E    1 calls to UnityEngine.Mathf.Clamp01 (single)\u003Cbr\u003E    1 calls to Vector3d.get_normalized ()\u003Cbr\u003E    1 calls to string.memset (byte*,int,int)\u003Cbr\u003E    1 calls to UnityEngine.Color.get_white ()\u003Cbr\u003E    1 calls to PQS.Mod_OnVertexBuildHeight (PQS/VertexBuildData)\u003Cbr\u003E    1 calls to string.memcpy (byte*,byte*,int)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 0.15% (277) SCANsat.SCANcontroller.get_controller ()\u003Cbr\u003E    4546 calls from SCANsat.SCANmap.heightToColor (single,int)\u003Cbr\u003E    306 calls from SCANsat.SCANui.gui_bigmap_build (int)\u003Cbr\u003E    300 calls from SCANsat.SCANui.get_c_good ()\u003Cbr\u003E    188 calls from SCANsat.SCANui.gui_infobox_build (int)\u003Cbr\u003E    131 calls from SCANsat.SCANui.gui_show ()\u003Cbr\u003E    126 calls from SCANsat.SCANsat.OnUpdate ()\u003Cbr\u003E    68 calls from SCANsat.SCANui.drawLegend ()\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis isn\u0027t actually about SCANsat at all, it\u0027s about MechJeb. But I\u0027m saving it here for the moment.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 1.42% (2579) GameDatabase.GetTexture (string,bool)\u003Cbr\u003E    9711 calls from MuMech.MechJebModuleMenu.SetupToolbarButton (MuMech.DisplayModule,bool)\u003Cbr\u003E    7 calls from MuMech.MechJebModuleMenu.SetupToolBarButtons ()\u003Cbr\u003E    5975 calls to string.op_Equality (string,string)\u003Cbr\u003E    711 calls to System.Collections.Generic.List\u00601.get_Item (int)\u003Cbr\u003E    454 calls to string.Equals (string,string)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E 0.26% (470) SCANsat.SCANdata.drawHeightScanline (SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    4918 calls from SCANsat.SCANdata.updateImages (SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    3384 calls to SCANsat.SCANmap.heightToColor (single,int)\u003Cbr\u003E    306 calls to PQS.GetSurfaceHeight (Vector3d)\u003Cbr\u003E    175 calls to SCANsat.SCANdata.isCovered (double,double,SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    156 calls to UnityEngine.Texture2D.GetPixels (int,int,int,int)\u003Cbr\u003E    115 calls to SCANsat.SCANdata.isCoveredByAll (double,double,SCANsat.SCANdata/SCANtype)\u003Cbr\u003E    96 calls to UnityEngine.Color.get_black ()\u003Cbr\u003E    82 calls to UnityEngine.Color.Lerp (UnityEngine.Color,UnityEngine.Color,single)\u003Cbr\u003E    67 calls to UnityEngine.Texture2D.SetPixels (int,int,int,int,UnityEngine.Color[])\u003Cbr\u003E    39 calls to UnityEngine.Color.get_grey ()\u003Cbr\u003E    12 calls to UnityEngine.Color..ctor (single,single,single,single)\u003Cbr\u003E    4 calls to SCANsat.SCANcontroller.get_controller ()\u003Cbr\u003E    3 calls to UnityEngine.Mathf.Clamp (single,single,single)\u003Cbr\u003E    3 calls to System.Math.Round (double,int)\u003Cbr\u003E    1 calls to UnityEngine.Mathf.Clamp01 (single)\u003Cbr\u003E    1 calls to Vector3d.get_normalized ()\u003Cbr\u003E    1 calls to string.memset (byte*,int,int)\u003Cbr\u003E    1 calls to UnityEngine.Color.get_white ()\u003Cbr\u003E    1 calls to PQS.Mod_OnVertexBuildHeight (PQS/VertexBuildData)\u003Cbr\u003E    1 calls to string.memcpy (byte*,byte*,int)\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-26T17:22:03Z\u0022 title=\u002204/26/2014 05:22  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 26, 2014\u003C/time\u003E by technogeeky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-26T07:06:39Z","Content":"\n\u003Cp\u003EMore output since I can\u0027t seem to edit my previous post... \u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003Eedit:\u003C/strong\u003E This output was badly formatted and could not be recovered.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-26T17:23:57Z\u0022 title=\u002204/26/2014 05:23  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 26, 2014\u003C/time\u003E by technogeeky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-26T07:11:10Z","Content":"\n\u003Cp\u003EUgh. I give up for tonight. I\u0027m tired of fighting the forums. Anyway, after looking at some of this data. I think there are *several* pretty significant performance enhancements that are low hanging fruit. I think for sure that the bigmap can be improved easily. Especially all of the (probably unnecessary) color function calls.\u003C/p\u003E\n"},{"CreatedByName":"larkvi","CreatedById":108735,"CreatedDateTime":"2014-04-26T18:46:48Z","Content":"\n\u003Cp\u003Etechnogeeky, those sound like good improvements. When do you think you will have a working compile we can try out?\u003C/p\u003E\n"},{"CreatedByName":"15nelsoc","CreatedById":57328,"CreatedDateTime":"2014-04-26T20:47:28Z","Content":"\n\u003Cp\u003EHow would I go about compiling v6 from the github files?\u003C/p\u003E\u003Cp\u003E-EDIT-\u003C/p\u003E\u003Cp\u003ENevermind, I\u0027ll just be patient. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-26T21:46:06Z\u0022 title=\u002204/26/2014 09:46  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 26, 2014\u003C/time\u003E by 15nelsoc\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-26T21:23:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022larkvi\u0022 data-cite=\u0022larkvi\u0022\u003E\u003Cdiv\u003Etechnogeeky, those sound like good improvements. When do you think you will have a working compile we can try out?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately I doubt it will be until the end of next week. I have spent most of this weekend understanding the toolchains (debugger, profiler) and getting tests and measurements in place.\u003C/p\u003E\u003Cp\u003EBut I will get it out as soon as I can.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-26T21:45:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u002215nelsoc\u0022 data-cite=\u002215nelsoc\u0022\u003E\u003Cdiv\u003EHow would I go about compiling v6 from the github files?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom my repository? You can\u0027t, it only has the changes I\u0027ve made which are already available from this thread, and no one else has an updated fork of the original code available yet.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-27T06:14:40Z","Content":"\n\u003Cp\u003EOK. I believe I now have a working versions with the known bugfixes, with (fully optional and confirmed working) toolbar support, with debugging and profiling support.\u003C/p\u003E\u003Cp\u003EI haven\u0027t implemented any performance enhancements yet. Because I have chosen not to, I can release a new version tomorrow.\u003C/p\u003E\u003Cp\u003EIn the meantime, how about some examples of sea level adjustment. Someone said something about a pink Mun?\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022SEA LEVEL\u0022: 0 m (what you would see now)\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/JGBwTcP.png\u0022 alt=\u0022JGBwTcP.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022SEA LEVEL\u0022: \u003C/strong\u003E\u003Cstrong\u003E-1000 m\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/yEmprx5.png\u0022 alt=\u0022yEmprx5.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022SEA LEVEL\u0022: 1500 m\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/UFfijvJ.png\u0022 alt=\u0022UFfijvJ.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022SEA LEVEL\u0022: 2500 m\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/Pp0gyLy.png\u0022 alt=\u0022Pp0gyLy.png\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u0022SEA LEVEL: 4000 m\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/2zpFW53.png\u0022 alt=\u00222zpFW53.png\u0022\u003E\u003C/p\u003E\u003Cp\u003ESea Level adjustment will not be a feature in tomorrow\u0027s probable release. It is, however, a precursor feature to fully adjustable (and selectable) palettes.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-27T06:19:00Z\u0022 title=\u002204/27/2014 06:19  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 27, 2014\u003C/time\u003E by technogeeky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2014-04-27T09:41:26Z","Content":"\n\u003Cp\u003EAnother very interesting feature, the adjustable sea-level. \u003C/p\u003E\u003Cp\u003EI\u0027m already set to use it to have at a glance locations that may be impacted when buzzing with a very low periapsis.\u003C/p\u003E\n"},{"CreatedByName":"Zeroignite","CreatedById":1377,"CreatedDateTime":"2014-04-27T10:47:24Z","Content":"\n\u003Cp\u003EWhat would be best is if you could configure the minimum and maximum values the color-coding would scale to. For example, say you want to get a detailed a picture of some midlands as possible... set \u0022sea level\u0022 to 1000m and peak to 2000m, so the entire color is compressed into that range. Small-elevation-change features become much more visible.\u003C/p\u003E\n"},{"CreatedByName":"Starstrider42","CreatedById":104043,"CreatedDateTime":"2014-04-27T14:32:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zeroignite\u0022 data-cite=\u0022Zeroignite\u0022\u003E\u003Cdiv\u003EWhat would be best is if you could configure the minimum and maximum values the color-coding would scale to. For example, say you want to get a detailed a picture of some midlands as possible... set \u0022sea level\u0022 to 1000m and peak to 2000m, so the entire color is compressed into that range. Small-elevation-change features become much more visible.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, what would be better is to allow options other than the rainbow color map -- luminosity or saturation-based color schemes will let you see fine detail without sacrificing range. See \u003Ca href=\u0022http://www.research.ibm.com/people/l/lloydt/color/color.HTM\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.research.ibm.com/people/l/lloydt/color/color.HTM\u003C/a\u003E for more info on why the current color scheme hides more than it reveals.\u003C/p\u003E\n"},{"CreatedByName":"Zeroignite","CreatedById":1377,"CreatedDateTime":"2014-04-27T23:01:56Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Starstrider42\u0022 data-cite=\u0022Starstrider42\u0022\u003E\u003Cdiv\u003EActually, what would be better is to allow options other than the rainbow color map -- luminosity or saturation-based color schemes will let you see fine detail without sacrificing range. See \u003Ca href=\u0022http://www.research.ibm.com/people/l/lloydt/color/color.HTM\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.research.ibm.com/people/l/lloydt/color/color.HTM\u003C/a\u003E for more info on why the current color scheme hides more than it reveals.\u003C/div\u003E\u003C/blockquote\u003EThat is a really great post, and I totally agree. This is something I learned firsthand when making \u003Ca href=\u0022https://imgur.com/a/Il4b4\u0022 rel=\u0022external nofollow\u0022\u003Emaps\u003C/a\u003E for KSP back in v0.18. The rainbow-shaded maps are some of the hardest to read. On the other hand, selecting a color scheme, using non-linear ranges, and especially adding topo lines and hillshading helps tons.\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-28T04:04:17Z","Content":"\n\u003Cp\u003EWell, I said I would try and release it this weekend, and I find myself publishing the release at 11:59 PM EST.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003ENOTE:\u003C/strong\u003E This may not work yet. This is a \u003Cstrong\u003ERELEASE CANDIDATE\u003C/strong\u003E. I want one or two (hopefully DMagic) people to test it out and tell me things work as expected.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/releases/tag/v6\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ESCANsat v6rc\u003C/strong\u003E for KSP [0.23.5]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/tree/v6\u0022 rel=\u0022external nofollow\u0022\u003E \u003Cstrong\u003ESCANsat v6rc \u003C/strong\u003Efor KSP [0.23.5] SOURCE\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EIf you use RPM, please stick wtih v5 until further notice!\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003EBuild 6 - 2014-04-28\u003Cbr\u003E--------------------\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [REQUIRED] Update for KSP version 0.23.5. This version of SCANsat now requires KSP 0.23.5.\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [OPTIONAL] Toolbar support. Built against 1.7.1. TOTALLY OPTIONAL. Though the experience\u003Cbr\u003E is better and more consistent with the Toolbar. [thanks DMagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [REMOVED] Removed the old expanding/contracting floating SCANsat button. Replaced instead with\u003Cbr\u003E either a Toolbar toolbar or with nothing, but maps become visible upon starting a scan. [thanks Dmagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [REMOVED] Non-animated parts no longer show an \u0027Extend\u0027 option in EDITOR. [... Dmagic is doing all the work!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [COMPATABILITY] \u0022Change access modifiers to allow for more control from RPM\u0022.\u003Cbr\u003E Yes, it\u0027s in quotes because I trust Dmagic THAT much.\u003Cbr\u003E [thanks Dmagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [BUGFIX] Scanning high inclinations with wide-enough FOV scanners \u003Cbr\u003E (ie, Multi, RADAR, but not SAR) will no longer reveal the opposite polar region. [thanks DMagic!]\u003Cbr\u003E [example orbit]: Minmus 250.000x250.000km @ 91.0 degrees\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [HUMOR] This file is different, and so is TODO.txt.\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E\u002B [dev] Support for changing what you define as \u0027sea level\u0027. Compiled to be default (ie, 0).\u003Cbr\u003E- [dev] Removed all unused declerations\u003Cbr\u003E\u002B [dev] switched to unix line endings.\u003Cbr\u003E\u002B [dev] switched to custom, but uniform formatting (for now done by MonoDevelop).\u003Cbr\u003E- [dev] removed windows commands in .csproj and .sln.\u003Cbr\u003E\u002B [dev] added unix commands. I will be happy to have both if I can be shown how.\u003Cbr\u003E\u002B [dev] added debugging and profiling support. Includes dummy executable.\u003Cbr\u003E\u002B [dev] [requires] that the SCANsat.dll be put directly in place (ie, GameData\\SCANsat\\.)\u003Cbr\u003E for debugging to work\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EPlease tell me if you encounter problems, and go easy on me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEventually, after I know it works and I have gotten up-to-date screen shots of features, I will \u003Cstrong\u003Emake a new thread\u003C/strong\u003E and we\u0027ll all stumble in there.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-05-01T05:15:01Z\u0022 title=\u002205/01/2014 05:15  AM\u0022 data-short=\u002210 yr\u0022\u003EMay 1, 2014\u003C/time\u003E by technogeeky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"MainSailor","CreatedById":74050,"CreatedDateTime":"2014-04-28T04:09:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EWell, I said I would try and release it this weekend, and I find myself publishing the release at 11:59 PM EST.\u003Cp\u003E\u003Cstrong\u003ENOTE:\u003C/strong\u003E This may not work yet. This is a \u003Cstrong\u003ERELEASE CANDIDATE\u003C/strong\u003E. I want one or two (hopefully DMagic) people to test it out and tell me things work as expected.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/releases/tag/v6\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ESCANsat v6rc\u003C/strong\u003E for KSP [0.23.5]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/tree/v6\u0022 rel=\u0022external nofollow\u0022\u003E \u003Cstrong\u003ESCANsat v6rc \u003C/strong\u003Efor KSP [0.23.5] SOURCE\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EPlease tell me if you encounter problems, and go easy on me \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEventually, after I know it works and I have gotten up-to-date screen shots of features, I will \u003Cstrong\u003Emake a new thread\u003C/strong\u003E and we\u0027ll all stumble in there.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have a clean copy I use to tweak parts. I can test with that. Unfortunately this week coming up is one of the busiest weeks at work I have all year. It will probably be next Sunday before I can get a chance. =(\u003C/p\u003E\n"}]}