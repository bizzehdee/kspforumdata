{"TopicId":125800,"ForumId":36,"TopicTitle":"Advantages of recompiling old mods under new SDK?","CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2015-11-18T07:57:29Z","PageNum":1,"Articles":[{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2015-11-18T07:57:29Z","Content":"\nI have several mods that were built against earlier versions of KSP, but nonetheless have been working great under 1.0.4. Now that 1.0.5 is out, I\u0026#39;m revisiting my 50 or so mods and refreshing them. For projects that are abandoned or no longer releasing updates, I\u0026#39;m wondering:\u003Cbr\u003E\n\u003Cbr\u003E\n[B]Would it be worth the hassle to grab the source and recompile them myself under the 1.0.5 DLL\u0026#39;s?[/B]\u003Cbr\u003E\n\u003Cbr\u003E\nI understand the \u0022SDK\u0022 for Kerbal consists of [COLOR=#333333]UnityEngine.dll, [/COLOR][COLOR=#333333]Assembly-CSharp.dll and [/COLOR][COLOR=#333333]Assembly-CSharp-firstpass.dll. i.e. You reference them in your C# project, gaining access to any public functions, and compile (ideally against the same versions you\u0026#39;ll be playing with). I assume the UnityEngine.dll that comes with the game is fairly static, and won\u0026#39;t change until 1.1 is released (with UE5 support). But I see the latter two DLL\u0026#39;s have changed slightly (although Squad annoyingly doesn\u0026#39;t update their file version numbers).[/COLOR]\u003Cbr\u003E\n\u003Cbr\u003E\nIs it fair to assume there are no performance improvements from compiling under new Squad DLL\u0026#39;s (since your mod is dynamically linked to the latest ones at runtime)?\u003Cbr\u003E\n\u003Cbr\u003E\nIf so, that just leaves compatibility factors. Could anyone shed some light on how Squad handles backwards compatibility, changes to function signatures, deprecation, etc? Or do they generally just leave the old stuff alone and add new? If a mod tries to call a function who\u0026#39;s signature has changed, I assume KSP would barf and crash, right? If a mod tries to call a function who\u0026#39;s signature looks the same but behaves differently than when the modder coded and tested against it, I assume KSP and the .NET framework just chug along like normal and unknown behavior may occur (i.e. looks like a duck but doesn\u0026#39;t quack like a duck).\u003Cbr\u003E\n[COLOR=#333333]\u003Cbr\u003E\n[/COLOR]Here are examples of some of the mods I play with which haven\u0026#39;t yet (or won\u0026#39;t ever) be updated to 1.0.5:\u003Cbr\u003E\n\u003Cbr\u003E\n[spoiler=Examples]MapShowNavball\u003Cbr\u003E\nEnhancedNavBall\u003Cbr\u003E\nKerbalEngineer\u003Cbr\u003E\nDockingPortAlignment\u003Cbr\u003E\nQuickGoTo\u003Cbr\u003E\nKSPAlternateResourcePanel\u003Cbr\u003E\nRCS Sounds and Lights\u003Cbr\u003E\nProcedural Fairings\u003Cbr\u003E\nVessel Viewer\u003Cbr\u003E\nNavUtilities\u003Cbr\u003E\nShipEffects Sound Mod: Dynamic Sound Effects (Maintenance)\u003Cbr\u003E\nChute Safety Indicator\u003Cbr\u003E\nGCMonitor\u003Cbr\u003E\nKSPTot\u003Cbr\u003E\nStripSymmetry\u003Cbr\u003E\n[/spoiler]\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2015-11-18T08:33:40Z","Content":"\nYour chain of thoughts is correct. It\u0026#39;s not worth it, if mods behave correctly - if not, they\u0026#39;ll need more than recompiling anyways. SQUAD is pretty consistent and game core code is very static.\n"},{"CreatedByName":"JPLRepo","CreatedById":114736,"CreatedDateTime":"2015-11-18T08:52:07Z","Content":"\nThat said :- in 1.0.5 one change that is I know about is squad changed the sciencedata class. Any old mods won\u0026#39;t function correctly if they are using science containers.\u003Cbr\u003E\nYou can glean info about what changes they may have made from the release notes. As well as these forums and your mod won\u0026#39;t compile or function correctly. Then you go hunting for the change. There were other changes to heat and aero to name a few.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-18T08:54:48Z\u0022 title=\u002211/18/2015 08:54  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 18, 2015\u003C/time\u003E by JPLRepo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kobymaru","CreatedById":107372,"CreatedDateTime":"2015-11-18T08:56:39Z","Content":"\n[quote name=\u0027Fwiffo\u0027]If so, that just leaves compatibility factors. Could anyone shed some light on how Squad handles backwards compatibility, changes to function signatures, deprecation, etc?[/QUOTE]\u003Cbr\u003E\nThey don\u0026#39;t.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Fwiffo\u0027]Or do they generally just leave the old stuff alone and add new?[/QUOTE]\u003Cbr\u003E\nExactly this. However, note that they are usually changing few aspects of the game instead of rebuilding everything. So \u0022most stuff\u0022 should still work after an update. That excludes the 1.1 update, because I feel a disturbance in the force about that one.\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Fwiffo\u0027]If a mod tries to call a function who\u0026#39;s signature has changed, I assume KSP would barf and crash, right?[/QUOTE]\u003Cbr\u003E\nPretty much this. This is also one of the main reasons for breakage of Mods between versions, and if you have access to source code (which you should have), you can fix many of those error quite easily. That would be the only reason for a recompile.\n"},{"CreatedByName":"Fwiffo","CreatedById":148084,"CreatedDateTime":"2015-11-19T06:12:53Z","Content":"\nThanks guys; appreciate the feedback and confirmation!\n"}]}