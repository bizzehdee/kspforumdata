{"TopicId":217362,"ForumId":36,"TopicTitle":"[WIP] Making BDArmory AI work with Atmosphere Autopilot","CreatedByName":"UndeadFirefly","CreatedById":228104,"CreatedDateTime":"2023-05-24T23:30:03Z","PageNum":1,"Articles":[{"CreatedByName":"UndeadFirefly","CreatedById":228104,"CreatedDateTime":"2023-05-24T23:30:03Z","Content":"\n\u003Cp\u003E\nI\u0027ve been using BDArmory and Atmosphere Autopilot for some time. Recently I was able to make some changes to how BDArmory AI work to make it feed its inputs to Atmosphere Autopilot. Basically I moved BDA\u0027s autopilot from the OnFlyByWire layer to the OnPreAutopilotUpdate layer, which is before AA\u0027s director in the OnAutopilotUpdate layer. I also disabled the autopilot\u0027s\u00A0 turning on \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E every update tick so AA can work.\n\u003C/p\u003E\n\u003Cp\u003E\nThe results are quite promising for my use case at the very least, which is mostly just 1v1 dogfights and some BVR fights. AI planes seem to be much more stable now and I don\u0027t have to spend hours tuning the PID values now that AA can keep the plane stable and within physical limits automatically. I can just make a plane, tune AI values a little bit and start fighting.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 frameborder=\u00220\u0022 height=\u0022113\u0022 src=\u0022https://www.youtube-nocookie.com/embed/gH21EeRFH3k?feature=oembed\u0022 title=\u0022Kerbal Space Program BDArmory and Atmosphere Autopilot\u0022 width=\u0022200\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nI have not tested these changes with other aspects and systems of the mod (\u003Cabbr title=\u0022Vertical Take-Off and Landing\u0022\u003EVTOL\u003C/abbr\u003E pilot for example) so I can\u0027t say if it breaks anything else, especially since \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E is turned off the make AA functional.\n\u003C/p\u003E\n\u003Cp\u003E\nCredits to the\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/209092-19x-112x-bdarmory-plus-bda-v1610-2023-05-08/\u0022 rel=\u0022\u0022\u003EBDArmory Plus\u003C/a\u003E\u00A0team,\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/133181-boris-barboris/\u0022 rel=\u0022\u0022\u003EBors-Barboris\u003C/a\u003E, author of\u00A0\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/124417-180-1123-atmosphereautopilot-160/\u0022 rel=\u0022\u0022\u003EAtmosphere Autopilot\u003C/a\u003E\u00A0for coming up with the idea here:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022133181\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed9045728533\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/124417-180-1123-atmosphereautopilot-160/\u0026amp;do=embed\u0026amp;comment=2449940\u0026amp;embedComment=2449940\u0026amp;embedDo=findComment\u0022 style=\u0022height:294px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\nYou can check out the edits here:\u00A0\u003Ca href=\u0022https://github.com/ko-82/BDArmory/commit/955a73340c6d08cc0e96f1320ead25e1b7adde54\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/ko-82/BDArmory/commit/955a73340c6d08cc0e96f1320ead25e1b7adde54\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know what you think. I personally am having much more fun than before, since BDArmory AI can be frustrating at times on inherently unstable/maneuverable aircraft in my experience.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Boris-Barboris","CreatedById":133181,"CreatedDateTime":"2023-05-25T10:31:50Z","Content":"\n\u003Cp\u003E\nOh wow, it actually works) Congrats! Amazing what stuff can resurface after so many years.\n\u003C/p\u003E\n\u003Cp\u003E\nYeah, makes sense since AA makes planes feel very much alike, abstracts away their airframe particularities. With that in mind you can tune PIDs just once for a generic AA-controlled fighter and use this tuning in most of your designs.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222023-05-25T10:32:19Z\u0022 title=\u002205/25/2023 10:32  AM\u0022 data-short=\u00221 yr\u0022\u003EMay 25, 2023\u003C/time\u003E by Boris-Barboris\u003C/strong\u003E\n\u003Cbr\u003Esemantics\n\u003C/span\u003E\n"}]}