{"TopicId":97043,"ForumId":36,"TopicTitle":"How expensive are lights?","CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T08:45:00Z","PageNum":1,"Articles":[{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T08:45:00Z","Content":"\n\u003Cp\u003EHow do they all measure up in comparison?\u003C/p\u003E\u003Cp\u003EI\u0027m making a model, to which I\u0027d like to add four forward-facing spotlights, or two at least. Is the impact significant?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-01-18T09:21:21Z","Content":"\n\u003Cp\u003EI\u0027d like to know the answer to this too. I\u0027d hope, in the modern world of hardware acceleration, that their impact would be negligible. I guess if an answer isn\u0027t forthcoming, you could make a test part with five or ten, the strap more and more to the craft until you find the frame rate drop. I don\u0027t believe KSP has a built in frame rate counter, but maybe there\u0027s a plugin?\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-01-18T09:30:05Z","Content":"\n\u003Cp\u003EBeware that the game can display only a maximum of 64 pixel lights. The standard settings (in the graphics settings) only allow 8 or so.\u003C/p\u003E\u003Cp\u003EYou should try to minimize the amount of lights so the player is still able to put additional lights on his craft.\u003C/p\u003E\n"},{"CreatedByName":"Azimech","CreatedById":50750,"CreatedDateTime":"2015-01-18T10:25:56Z","Content":"\n\u003Cp\u003ESignificant?\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://www.thepensivecitadel.com/wp-content/uploads/2010/01/fourlights-300x229.jpg\u0022 alt=\u0022fourlights-300x229.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T10:32:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022*Aqua*\u0022 data-cite=\u0022*Aqua*\u0022\u003E\u003Cdiv\u003EBeware that the game can display only a maximum of 64 pixel lights. The standard settings (in the graphics settings) only allow 8 or so.\u003Cp\u003EYou should try to minimize the amount of lights so the player is still able to put additional lights on his craft.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOk two it is then.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Azimech\u0022 data-cite=\u0022Azimech\u0022\u003E\u003Cdiv\u003ESignificant?\u003Cp\u003E\u003Ca href=\u0022http://www.thepensivecitadel.com/wp-content/uploads/2010/01/fourlights-300x229.jpg\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.thepensivecitadel.com/wp-content/uploads/2010/01/fourlights-300x229.jpg\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELol!\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2015-01-18T11:13:02Z","Content":"\n\u003Cp\u003EIdeally you should not ever use more than one realtime light per part, since it\u0027s extremely easy to go over default per-pixel light limit of 8 (or in some cases 4) lights. Using two spotlights is unreasonable unless you are making a part like a pod that won\u0027t be used in symmetry.\u003C/p\u003E\u003Cp\u003EAside from per-vertex lighting that is used as fallback for any lights going over the limit being ugly as sin, there is another factor: KSP is using forward renderer, so every single light makes scene rendering more expensive, forcing a redraw on every vertex and pixel it affects. As you can imagine, 64 per-pixel lights affecting enough on-screen geometry is an extremely undesirable scenario. In controlled environments of other games, developers using a forward renderer never ever use so many per-pixel lights - if a game really requires that many individual sources, it should use deferred rendering. Remember also the fact that the sun already eats up one per-pixel light slot, and mods like PlanetShine eat another.\u003C/p\u003E\u003Cp\u003ESpeaking of which, stock landing gear containing three light sources is an extremely bad example. Absolute majority of cases when excessive amount of light sources is used should have used emissive maps and emissive shaders to imitate the desired effect, be it a stop light, lit up lightbulb, crew pod windows and so on.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-18T11:40:42Z\u0022 title=\u002201/18/2015 11:40  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 18, 2015\u003C/time\u003E by bac9\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T11:40:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bac9\u0022 data-cite=\u0022bac9\u0022\u003E\u003Cdiv\u003EUsing two spotlights is unreasonable unless you are making a part like a pod that won\u0027t be used in symmetry.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not really sure what you\u0027re saying here, so here is a shot of the part. There are two lights on either side of the forward hatch.\u003C/p\u003E\u003Cp\u003EBTW it\u0027s based on another person\u0027s mod that seems to be dead. I\u0027m not just ripping it off.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/tqCj3mi.png\u0022 alt=\u0022tqCj3mi.png\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2015-01-18T11:45:47Z","Content":"\n\u003Cp\u003EYeah, it might be justified here if you keep the beams from intersecting.\u003C/p\u003E\u003Cp\u003EWhat I meant by the part you quoted is the fact that some parts (like stock spotlights) are most commonly used in symmetry-based groups (2x, 4x, etc), so light sources in them should be kept to a minimum, as players will inflate light counts very significantly even with one source per part.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-18T11:51:02Z\u0022 title=\u002201/18/2015 11:51  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 18, 2015\u003C/time\u003E by bac9\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T11:50:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bac9\u0022 data-cite=\u0022bac9\u0022\u003E\u003Cdiv\u003EYeah, it might be justified here if you keep the beams from intersecting.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, I get it. I planned on making them intersect though, because they\u0027re meant to illuminate another docking port during docking. I guess I\u0027ll just change it to have one light in the middle somewhere.\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2015-01-18T12:01:56Z","Content":"\n\u003Cp\u003EIf you want the spotlights to light up one spot, then use this trick, it will look almost identical while being twice as cheap, provided your part has enough length to shift the light source back as far as possible. Just make sure no backward-facing triangles enter the light cone before the point where you have spotlights modeled, drop some emissive in appropriate places, and it will look gorgeous.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/jIARdTp.jpg\u0022 alt=\u0022jIARdTp.jpg\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2015-01-18T12:05:07Z","Content":"\n\u003Cp\u003EI take it that wont interfere with the IVA?\u003C/p\u003E\n"},{"CreatedByName":"bac9","CreatedById":57757,"CreatedDateTime":"2015-01-18T12:11:32Z","Content":"\n\u003Cp\u003ENo, IVAs exist on an entirely separate layer and are rendered with a separate camera, properly configured light sources in parts can\u0027t enter them. That\u0027s how scattered light from my M27 cockpit works - there is a spotlight inside it with a huge cone, borders of which are perfectly matched to vertical window borders.\u003C/p\u003E\u003Cp\u003E(IVAs also have completely wrong orientation which makes the only light source entering them from outside (sun) incorrect, but that\u0027s another story)\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-18T12:17:00Z\u0022 title=\u002201/18/2015 12:17  PM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 18, 2015\u003C/time\u003E by bac9\u003C/strong\u003E\n\u003C/span\u003E\n"}]}