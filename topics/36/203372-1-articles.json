{"TopicId":203372,"ForumId":36,"TopicTitle":"Alarm Clock App - API Discussion","CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-27T10:19:18Z","PageNum":1,"Articles":[{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-27T10:19:18Z","Content":"\n\u003Cp\u003E\nUntil, hopefully,\u00A0examples appear in the Modders Notes 1.12, it is the place where you can share your\u00A0shenanigan or ask questions.\n\u003C/p\u003E\n\u003Cp\u003E\nFor a starter, there is a\u00A0\u003Ca href=\u0022https://www.kerbalspaceprogram.com/api/class_alarm_clock_scenario.html\u0022 rel=\u0022external nofollow\u0022\u003Eapi/class_alarm_clock_scenario.html\u003C/a\u003E, where you can start your research.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996000\u0022 data-ipsquote-contentid=\u002222809\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624780522\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nPlease ping me when someone opens a thread for Alarm Clock App, I\u0027d be glad to comment on my findings as to how to work the native alarm.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthere it is, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/200868-r-t-b/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022200868\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/200868-r-t-b/\u0022 rel=\u0022\u0022\u003E@R-T-B\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257838\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0022 rel=\u0022\u0022\u003E@TriggerAu\u003C/a\u003E\u00A0you also probably may want to have a link to that thread.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nCould someone publish\u00A0\u0022Example Usage\u0022 as\u00A0\u003Ca href=\u0022https://triggerau.github.io/KerbalAlarmClock/api.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://triggerau.github.io/KerbalAlarmClock/api.html\u003C/a\u003E, but for the\u00A0Alarm Clock App?\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nList the current Alarms\n\u003C/li\u003E\n\u003Cli\u003E\nCreate a new Alarm\n\u003C/li\u003E\n\u003Cli\u003E\nDelete an Alarm\n\u003C/li\u003E\n\u003Cli\u003E\nUse Alarm Events\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-27T10:29:41Z\u0022 title=\u002206/27/2021 10:29  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 27, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2021-06-27T12:43:41Z","Content":"\n\u003Cp\u003E\nIts coming in the modders notes yes, but do feel free to ask questions as we go\n\u003C/p\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2021-06-27T14:06:28Z","Content":"\n\u003Cp\u003E\nAn example snippet I made that works to set a manual alarm that kills warp and pops a dialog in game:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EAlarmTypeRaw alarmToSet = new AlarmTypeRaw\n{\n    title = alarmTitle,\n    description = alarmName,\n    actions =\n    {\n        warp = AlarmActions.WarpEnum.KillWarp,\n        message = AlarmActions.MessageEnum.Yes\n    },\n    ut = alarmTime\n};\nAlarmClockScenario.AddAlarm(alarmToSet);\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996049\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624789158\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nList the current Alarms\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nis trickier.\u00A0 RIght now I iterate through them until I reach the end of array which since I don\u0027t know the length generates an exception, so I generally wrap this in a try-catch. and build an internal array to compare them.\u00A0 Then we can decide if something already exists, remove unneccesary alarms with AlarmClockScenario.DeleteAlarm(Alarm), etc.\n\u003C/p\u003E\n\u003Cp\u003E\nExample code from KCT test release:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EKCTDebug.Log(\u0022KAC Alarm being created!\u0022);\nAlarmTypeBase alarmCheck = AlarmClockScenario.GetNextAlarm(UT);\nAlarmTypeBase thisAlarm = alarmCheck;\ntry\n{\n    while (true)\n    {\n        if (thisAlarm.description.Contains(\u0022KCT:\u0022))\n        {\n            AlarmClockScenario.DeleteAlarm(thisAlarm);\n            throw new Exception();\n        }\n        else\n        {\n            alarmCheck = thisAlarm;\n        }\n        thisAlarm = AlarmClockScenario.GetNextAlarm(alarmCheck.ut);\n    }\n}\ncatch\n{\n//alarm creation logic.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nugly but it works.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996081\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624797821\u0022 data-ipsquote-userid=\u002257838\u0022 data-ipsquote-username=\u0022TriggerAu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, TriggerAu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIts coming in the modders notes yes, but do feel free to ask questions as we go\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWas wondering where those were.\u00A0 No rush, I like reverse engineering things anyways, lol.\u00A0 But not everyone may share that sentiment. \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-27T14:16:42Z\u0022 title=\u002206/27/2021 02:16  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 27, 2021\u003C/time\u003E by R-T-B\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-27T15:07:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996106\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624802788\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nis trickier.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nit supports an iteration, but there is\u00A0\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGetListEnumerator()\u003C/span\u003E\u003C/span\u003E (not\u00A0\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EGetEnumerator()\u003C/span\u003E\u003C/span\u003E\u00A0so it is not \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EIEnumerable\u003C/span\u003E\u003C/span\u003E, so no \u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eforeach\u003C/span\u003E\u003C/span\u003E)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Evar alarms = AlarmClockScenario.Instance.alarms;\nvar enumerator = alarms.GetListEnumerator();\n\nwhile (enumerator.MoveNext())\n{\n    Log(enumerator.Current.title);\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-27T23:56:37Z\u0022 title=\u002206/27/2021 11:56  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 27, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2021-06-28T10:33:09Z","Content":"\n\u003Cp\u003E\nIll put my hand up and say - I totally missed pitting the GetAlarms method in there.\n\u003C/p\u003E\n\u003Cp\u003E\nAlarmClockScenario.Instance.alarms is a DictionaryValueList - can be used as a dictionary and a List\n\u003C/p\u003E\n\u003Cp\u003E\nThe quickest way to get at the list is: AlarmClockScenario.Instance.alarms.ValueList - which returns the List\u0026lt;AlarmTypeBase\u0026gt; that underpins the dictionary, etc\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe Modders notes are up now too:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 class=\u0022ipsEmbed_finishedLoading\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022114736\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed6524879064\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/203394-modders-notes-1120/\u0026amp;do=embed\u0022 style=\u0022overflow: hidden;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-28T11:17:10Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996578\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624876389\u0022 data-ipsquote-userid=\u002257838\u0022 data-ipsquote-username=\u0022TriggerAu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n51 minutes ago, TriggerAu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlarmClockScenario.Instance.alarms.ValueList\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIs ValueList public?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Cimg alt=\u0022OezCCkM.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002231.46\u0022 height=\u0022151\u0022 width=\u0022480\u0022 src=\u0022https://i.imgur.com/OezCCkM.png\u0022\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-28T11:24:41Z\u0022 title=\u002206/28/2021 11:24  AM\u0022 data-short=\u00223 yr\u0022\u003EJune 28, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"R-T-B","CreatedById":200868,"CreatedDateTime":"2021-06-28T11:22:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996578\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624876389\u0022 data-ipsquote-userid=\u002257838\u0022 data-ipsquote-username=\u0022TriggerAu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n48 minutes ago, TriggerAu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIll put my hand up and say - I totally missed pitting the GetAlarms method in there.\n\u003C/p\u003E\n\u003Cp\u003E\nAlarmClockScenario.Instance.alarms is a DictionaryValueList - can be used as a dictionary and a List\n\u003C/p\u003E\n\u003Cp\u003E\nThe quickest way to get at the list is: AlarmClockScenario.Instance.alarms.ValueList - which returns the List\u0026lt;AlarmTypeBase\u0026gt; that underpins the dictionary, etc\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe Modders notes are up now too:\u00A0\n\u003C/p\u003E\n\u003Ciframe allowfullscreen=\u0022\u0022 data-controller=\u0022core.front.core.autosizeiframe\u0022 data-embedauthorid=\u0022114736\u0022 data-embedcontent=\u0022\u0022 data-embedid=\u0022embed691595921\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/203394-modders-notes-1120/\u0026amp;do=embed\u0022 style=\u0022height:192px;max-width:500px;\u0022\u003E\u003C/iframe\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThat is helpful thank you.\u00A0 Now I can dispose of my weird try-catch logic that depends on a generated exception, lol.\n\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2021-06-28T11:24:01Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996586\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624879333\u0022 data-ipsquote-userid=\u0022200868\u0022 data-ipsquote-username=\u0022R-T-B\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 minutes ago, R-T-B said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nThat is helpful thank you.\u00A0 Now I can dispose of my weird try-catch logic that depends on a generated exception, lol.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTwas a very cool mechanism I have to say \u003Cspan\u003E\u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u003Cbr\u003E\u003Cbr\u003E\nTheres a number of lists in KSP that use that DictionaryValueList class - its very useful\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996585\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624879030\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 minutes ago, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cp\u003E\nIs this public?\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022background-color:#f9f9f9;color:#2d3134;font-size:15px;\u0022\u003E\u003Ca data-wrappedlink=\u0022\u0022 href=\u0022https://i.imgur.com/OezCCkM.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022OezCCkM.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002231.46\u0022 height=\u0022151\u0022 width=\u0022480\u0022 src=\u0022https://i.imgur.com/OezCCkM.png\u0022\u003E\u003C/a\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHmm, I thought it was, but now Im a wonderin... to the code\u003Cbr\u003E\u003Cbr\u003E\nEDIT: Darn sorry its internal. the way we do it in other place is a loop. This will work in the meantime\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-c prettyprinted\u0022 id=\u0022ips_uid_3488_22\u0022 style=\u0022\u0022\u003E\n\u003Cspan class=\u0022kwd\u0022\u003Efor\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003Eint\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E i \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022lit\u0022\u003E0\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E i \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u0026lt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAlarmClockScenario\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EInstance\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ealarms\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003ECount\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E i\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E\u002B\u002B)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E{\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n    \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAlarmTypeBase\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E a \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAlarmClockScenario\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EInstance\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ealarms\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAt\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ei\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-28T11:47:44Z","Content":"\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E, if I open an alarm GUI in the game, and run\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAlarmClockScenario.AddAlarm()\u003C/span\u003E, added alarm is showed with the 0:00:00\u003Cbr\u003E\u003Cimg alt=\u0022ZMDkFHW.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002224.88\u0022 height=\u0022102\u0022 width=\u0022410\u0022 src=\u0022https://i.imgur.com/ZMDkFHW.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nand only after scene change it show correct value:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u00226H9Zlax.png\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002229.83\u0022 height=\u0022125\u0022 width=\u0022419\u0022 src=\u0022https://i.imgur.com/6H9Zlax.png\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nIn the case alarm is added without opened alarm window in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E, the alarm is added correctly.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257838\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0022 rel=\u0022\u0022\u003E@TriggerAu\u003C/a\u003E\u00A0Does it have some\u00A0AlarmClockScenario.update() ?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-06-28T18:58:54Z\u0022 title=\u002206/28/2021 06:58  PM\u0022 data-short=\u00223 yr\u0022\u003EJune 28, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2021-06-28T21:29:33Z","Content":"\n\u003Cp\u003E\nThe Update method loops through each alarm and calls ScenarioUpdate on each alarm.\n\u003C/p\u003E\n\u003Cp\u003E\nThe UI calls UIInputPanelUpdate\u00A0on the alarm that is shown in the window\n\u003C/p\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-06-28T22:22:41Z","Content":"\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EAlarmClockScenario.AddAlarm(alarm);\nalarm.OnScenarioUpdate();\nalarm.UIInputPanelUpdate();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nadding both of the \u0022update\u0022\u00A0methods doesn\u0027t fix the 0:00:00 problem\n\u003C/p\u003E\n"},{"CreatedByName":"TriggerAu","CreatedById":57838,"CreatedDateTime":"2021-06-28T22:38:18Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-gramm=\u0022false\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996921\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624918961\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n15 minutes ago, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents ipsClearfix\u0022 data-gramm=\u0022false\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022typ\u0022\u003EAlarmClockScenario\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EAddAlarm\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ealarm\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\nalarm\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EOnScenarioUpdate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E();\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\nalarm\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan class=\u0022typ\u0022\u003EUIInputPanelUpdate\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nadding both of the \u0022update\u0022\u00A0methods doesn\u0027t fix the 0:00:00 problem\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nthats a weird one, ill dig into it\n\u003C/p\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-07-21T10:20:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996599\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624880864\u0022 data-ipsquote-userid=\u0022181486\u0022 data-ipsquote-username=\u0022flart\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/28/2021 at 2:47 PM, flart said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIn the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E, if I open an alarm GUI in the game, and run\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAlarmClockScenario.AddAlarm()\u003C/span\u003E, added alarm is showed with the 0:00:00\u003Cbr\u003E\u003Ca href=\u0022https://i.imgur.com/ZMDkFHW.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u0022ZMDkFHW.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002224.88\u0022 height=\u0022102\u0022 width=\u0022410\u0022 src=\u0022https://i.imgur.com/ZMDkFHW.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand only after scene change it show correct value:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://i.imgur.com/6H9Zlax.png\u0022 rel=\u0022external nofollow\u0022 title=\u0022Enlarge image\u0022\u003E\u003Cimg alt=\u00226H9Zlax.png\u0022 class=\u0022ipsImage ipsImage_thumbnailed\u0022 data-ratio=\u002229.83\u0022 height=\u0022125\u0022 width=\u0022419\u0022 src=\u0022https://i.imgur.com/6H9Zlax.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nIn the case alarm is added without opened alarm window in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003E\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E\u003C/abbr\u003E, the alarm is added correctly.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223996929\u0022 data-ipsquote-contentid=\u0022203372\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221624919898\u0022 data-ipsquote-userid=\u002257838\u0022 data-ipsquote-username=\u0022TriggerAu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 6/29/2021 at 1:38 AM, TriggerAu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nthats a weird one, ill dig into it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAny update?\u003Cbr\u003E\nThere is my code:\u003Cbr\u003E\u003Ca href=\u0022https://github.com/yalov/KVASS/blob/c3dc556c5618955b1150b12ec182ea0254df9002/KVASS/Alarm.cs#L109\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/yalov/KVASS/blob/c3dc556c5618955b1150b12ec182ea0254df9002/KVASS/Alarm.cs#L109\u003C/a\u003E\u003Cbr\u003E\u003Cbr\u003E\nLooks like \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022129964\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/129964-linuxgurugamer/\u0022 rel=\u0022\u0022\u003E@linuxgurugamer\u003C/a\u003E\u00A0have the same problem in the KCT.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cimg alt=\u0022xv3fIQm.jpeg\u0022 class=\u0022ipsImage\u0022 data-ratio=\u002290.00\u0022 height=\u0022675\u0022 width=\u00221200\u0022 src=\u0022https://i.imgur.com/xv3fIQm.jpeg\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-07-21T10:28:23Z\u0022 title=\u002207/21/2021 10:28  AM\u0022 data-short=\u00222 yr\u0022\u003EJuly 21, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-08-03T22:40:30Z","Content":"\n\u003Cp\u003E\nI can confirm, the\u00A0problem is fixed in the 1.12.2, and clock show values in the \u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003EVAB\u003C/abbr\u003E.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-08-05T16:40:58Z\u0022 title=\u002208/05/2021 04:40  PM\u0022 data-short=\u00222 yr\u0022\u003EAugust 5, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"flart","CreatedById":181486,"CreatedDateTime":"2021-08-05T08:42:36Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257838\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57838-triggerau/\u0022 rel=\u0022\u0022\u003E@TriggerAu\u003C/a\u003E What is\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAlarmTypeRaw.timeEntry\u003C/span\u003E ?\u003Cbr\u003E\nLooks like \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EAlarmTypeRaw.timeEntry\u003C/span\u003E is reverted to 300\u00A0after scene change.\n\u003C/p\u003E\n\u003Cp\u003E\nFor example, I want\u00A0to postpone an alarm for 1 hour, and something like that didn\u0027t work because of\u00A0\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003EtimeEntry\u003C/span\u003E \u00A0was reset to 300 (so it became 300\u002B3600)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\u003Cspan class=\u0022pln\u0022\u003Edouble shift = 3600;\nalarms[i].ut \u002B= shift;\nalarms[i].timeEntry \u002B= shift;  // = alarms[i].ut - Utils.CurrentUT()\nalarms[i].OnScenarioUpdate();\nalarms[i].UIInputPanelUpdate();\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nReplacing \u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003E\u002B= shift\u003C/span\u003E with the commented\u00A0\u00A0assignment works ok.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222021-08-20T19:00:30Z\u0022 title=\u002208/20/2021 07:00  PM\u0022 data-short=\u00222 yr\u0022\u003EAugust 20, 2021\u003C/time\u003E by flart\u003C/strong\u003E\n\u003C/span\u003E\n"}]}