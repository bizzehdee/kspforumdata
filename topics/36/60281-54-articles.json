{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":54,"Articles":[{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-11-24T16:09:03Z","Content":"\n[quote name=\u0027zitronen\u0027]Huh... Anyone else have the same problem with 0.17.6?\u003Cbr\u003E\n\u003Cbr\u003E\nOh just making sure... you have the handshakedisable set to 1 right?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nYes I did ... but i have a feeling that my arduino is a bit bonkers, it seems to keep rebooting/resetting every 10-60 seconds (abit somewhat random)... Gonna test with another chip :D\n"},{"CreatedByName":"compy286","CreatedById":146689,"CreatedDateTime":"2015-11-27T05:53:11Z","Content":"\n[quote name=\u0027zitronen\u0027]Do you have a link to your project?\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nNot yet I am with family for the U.S. holiday weekend. They do not have internet and I am tethered to my phone. I have interfaced the serial and ethernet Data providers. I need to wait until mondayish to get my own arduino to test the serial portion to make sure I didn\u0026#39;t break anything in it.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nAfter I can test the original serial code in the new ISerialProvider interface code I wrote I will write an ethernet bridge that bridges an ethernet port to a physical com port, written and compiled with Visual C# against .net 4.5 so that it will run on windows 10 and get around the whole mono.net serial issue. So wednesdayish if work doesn\u0026#39;t get in the way. There may exist a program that will forward a com port to a TCP/IP socket already, if there is that would be awesome because then I wouldn\u0026#39;t need to write it, so if anyone can find one that would be awesome and I will test against it.\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-11-29T15:39:20Z","Content":"\n\u003Cp\u003E\nA belated reply to 17.6 fixing SAS: It works, as long as you have SAS control in your controller instead of on keyboard. Turns the indicator of on the navball as well. It seems my problems came from not updating my code from17.3 or so \u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-11-30T12:58:44Z","Content":"\n\u003Cp\u003E\nI\u0027d like to thank you Zitronen, with\u00A0your plugin I was able to create my\u00A0TV-avionics.\n\u003C/p\u003E\n\u003Cp\u003E\nThis small gadget was a central piece for me to showoff my skills and get a job as a hardware developer in\u00A0a new startup!\u00A0\u003Cimg alt=\u0022:kiss:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 title=\u0022:kiss:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-11-30T16:35:56Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222300854\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221448888324\u0022 data-ipsquote-userid=\u002213701\u0022 data-ipsquote-username=\u0022Scoppio\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Scoppio said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027d like to thank you Zitronen, with\u00A0your plugin I was able to create my\u00A0TV-avionics.\n\u003C/p\u003E\n\u003Cp\u003E\nThis small gadget was a central piece for me to showoff my skills and get a job as a hardware developer in\u00A0a new startup!\u00A0\u003Cimg alt=\u0022:kiss:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 title=\u0022:kiss:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWow, awesome. Congratulations on the job, hope you get succesful on the startup.\n\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-12-01T00:58:39Z","Content":"\n\u003Cp\u003E\nI am trying to use this with Raster Prop Monitor.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m having trouble since this is .NET 4.5 rather than 3.5\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a way to get this to work in 3.5? Is there a way to get this to work with MechJeb2 and/or Raster Prop Monitor?\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-12-01T16:02:49Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222300222\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221448811560\u0022 data-ipsquote-userid=\u0022111048\u0022 data-ipsquote-username=\u0022Freshmeat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 29/11/2015, 15:39:20, Freshmeat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nA belated reply to 17.6 fixing SAS: It works, as long as you have SAS control in your controller instead of on keyboard. Turns the indicator of on the navball as well. It seems my problems came from not updating my code from17.3 or so \u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOK that\u0027s good I guess. I don\u0027t remember changing anything in the arduino code for SAS though...\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222300854\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221448888324\u0022 data-ipsquote-userid=\u002213701\u0022 data-ipsquote-username=\u0022Scoppio\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 30/11/2015, 12:58:44, Scoppio said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027d like to thank you Zitronen, with\u00A0your plugin I was able to create my\u00A0TV-avionics.\n\u003C/p\u003E\n\u003Cp\u003E\nThis small gadget was a central piece for me to showoff my skills and get a job as a hardware developer in\u00A0a new startup!\u00A0\u003Cimg alt=\u0022:kiss:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_kiss.gif\u0022 title=\u0022:kiss:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNice, I am waiting for my 10% share of all your future income. Wait what do you mean you didn\u0027t read the contract?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222302214\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221448931519\u0022 data-ipsquote-userid=\u0022152980\u0022 data-ipsquote-username=\u0022Keith Young\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, Keith Young said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI am trying to use this with Raster Prop Monitor.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m having trouble since this is .NET 4.5 rather than 3.5\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a way to get this to work in 3.5? Is there a way to get this to work with MechJeb2 and/or Raster Prop Monitor?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAh.. which version of the plugin are you using? I can recompile it for you or you can do it yourself. I don\u0027t intend on adding support for MJ or anything else because it\u0027s hard enough debugging hardware firmware and software problems over the interwebs. The best option is to try to fork the plugin to do you own thing, which a quite a few people have done.\n\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-12-01T19:21:55Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222302976\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221448985769\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAh.. which version of the plugin are you using? I can recompile it for you or you can do it yourself. I don\u0027t intend on adding support for MJ or anything else because it\u0027s hard enough debugging hardware firmware and software problems over the interwebs. The best option is to try to fork the plugin to do you own thing, which a quite a few people have done.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m currently using 1.04 but will be upgrading to 1.05 probably soon.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m not sure but I think the problem is in the SerialPort.dll.\n\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-12-04T07:23:38Z","Content":"\n\u003Cp\u003E\nJust making sure: Latitude and longitude are in degrees with decimal fractions, not degrees-minutes-seconds, right? Toying with ILS for my experiments with airplanes.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-12-05T17:04:51Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222307569\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449213818\u0022 data-ipsquote-userid=\u0022111048\u0022 data-ipsquote-username=\u0022Freshmeat\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 04/12/2015, 07:23:38, Freshmeat said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nJust making sure: Latitude and longitude are in degrees with decimal fractions, not degrees-minutes-seconds, right? Toying with ILS for my experiments with airplanes.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah I\u0027m pretty sure it is.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-12-11T19:58:30Z","Content":"\n\u003Cp\u003E\nFYI hobby king is selling a pretty cool reasonably priced 3 axis joystick, all hall effect, adjustable tension, CNCed aluminium. No idea if it\u0027s any good though:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://www.hobbyking.com/hobbyking/store/__80303__Quanum_Single_Stick_3_Axis_Gimbal_Upgrade_for_Turnigy_9XR_9XRPro_Tx_39_s.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.hobbyking.com/hobbyking/store/__80303__Quanum_Single_Stick_3_Axis_Gimbal_Upgrade_for_Turnigy_9XR_9XRPro_Tx_39_s.html\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"compy286","CreatedById":146689,"CreatedDateTime":"2015-12-17T04:40:15Z","Content":"\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/tjandearl/KSPSerialIOOverEthernet\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/tjandearl/KSPSerialIOOverEthernet\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI have been busy moving, my wife and I just got our first house. \u00A0I got this working over ethernet. \u00A0I think that you can always use system.Threading in a mono/unity environment, just that unity is not thread safe. \u00A0The original code will probably work if you spin up a new thread and just loop while true with a break clause cleanup, and then you just read all the available data and work through it.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI separated some code into files\u00A0and made the read routine which was apparently borrowed a bit easier to grok. \u00A0The current state of the code only uses the SerialOverEthernetProvider and I don\u0027t have the settings hooked back up yet. \u00A0I tested the TCP/IP stuff over a program called TCP-Com which may work for you windows 10 users. \u00A0If you build the code as is and set up TCP-Com as a server that listens on port 5000 connected to the Com port of your arduino it will work. \u00A0TCP-Com has a 30-day trial. \u00A0I have to go to bed soon and get to work but I will post binaries tomorrow. \u00A0I have all of next week off and we\u0027re all moved already (just unpacking woo!).\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI need someone with windows 10 to confirm it works, and maybe you guys can be golden again.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/36328-djnekkid/\u0026amp;do=hovercard\u0022 data-mentionid=\u002236328\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/36328-djnekkid/\u0022\u003E@djnekkid\u003C/a\u003E\u00A0 \u00A0 My arduino does the same as yours does with the app. \u00A0Look up this:\u00A0\u003Ca href=\u0022http://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection\u003C/a\u003E\u00A0 \u00A0Newer arduinos auto-reset on a new serial connection DTS high or low. \u00A0The Arduino IDE uses this to program the arduino without manual reset. \u00A0Disabling auto-reset should fix your issue with the arduino resetting.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-12-18T16:10:56Z","Content":"\n\u003Cp\u003E\nVery nice! Have you looked at some of the free TCP-Serial software on sourceforge (yeah I know SF is **** now)?\n\u003C/p\u003E\n\u003Cp\u003E\nIf you can\u0027t get them to work would you be able to forward the data as a simple UDP thing? I might be able to reuse some old code to go from UDP to serial. This way you don\u0027t have to depend on the ridicules $199 shareware thing.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-18T16:11:21Z\u0022 title=\u002212/18/2015 04:11  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 18, 2015\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Benji","CreatedById":116398,"CreatedDateTime":"2015-12-19T21:16:41Z","Content":"\n\u003Cp\u003E\nCKAN is still at 1.0.4\n\u003C/p\u003E\n"},{"CreatedByName":"JoeKickAss","CreatedById":156445,"CreatedDateTime":"2016-01-04T12:02:08Z","Content":"\n\u003Cp\u003E\nNewbie question here. I cant seem to make my LCD display for the arduino update the Pitch, Heading and Yaw values at all. The display simply\u00A0shows \u00220.00\u0022\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nHere is my code. Please bear in mind that im very new to Arduino and C in general. I have experience with C# and VB so im still getting my head around a code change.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nvoid loop()\n{\n\u00A0 \u00A0 input();\n\u00A0 \u00A0 output();\n\u00A0\u00A0\n\u00A0 lcd.clear();\n\u00A0 lcd.setCursor(0,2);\n\u00A0 lcd.print(VData.Pitch); \u00A0 //PITCH\n\u00A0 lcd.setCursor(0,0);\n\u00A0 lcd.print(\u0022PITCH\u0022); \u00A0 \u00A0\n\u00A0\u00A0\n\u00A0 lcd.setCursor(6,2);\n\u00A0 lcd.print(VData.Heading);\n\u00A0 lcd.setCursor(6,0);\n\u00A0 lcd.print(\u0022YAW\u0022); \u00A0 \u00A0//YAW\n\u00A0\u00A0\n\u00A0 lcd.setCursor(12,2);\n\u00A0 lcd.print(VData.Roll);\n\u00A0 lcd.setCursor(12,0);\n\u00A0 lcd.print(\u0022ROLL\u0022); \u00A0 \u00A0//ROLL\n\u00A0\u00A0\n\u00A0 delay(500);\n\n\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFurther Info:\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nrunning KSP 1.0.5\u00A0(issue?), all stock, except plugin.\u00A0\n\u003C/li\u003E\n\u003Cli\u003E\nWindows 7.\n\u003C/li\u003E\n\u003Cli\u003E\nArduino Mega.\n\u003C/li\u003E\n\u003Cli\u003E\nDemo example from tutorial, wish LCD libraries imported and configured.\n\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-01-04T12:14:06Z\u0022 title=\u002201/04/2016 12:14  PM\u0022 data-short=\u00228 yr\u0022\u003EJanuary 4, 2016\u003C/time\u003E by JoeKickAss\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-01-05T11:34:12Z","Content":"\n\u003Cp\u003E\nCan you get the LED demos working? Try that first to make sure there are no other weird issues.\n\u003C/p\u003E\n\u003Cp\u003E\nThe most obvious problem with your code is the delay(500). Unlike high level languages that deals with the OS, manages threads, n\u0027stuff, all the code on the arduino is in a single thread. So when you do delay(), you are stopping everything, including send/receive from serial port.The loop() function needs to run as fast as possible, so to make this work you need to move your code inside the input() function, where there is a if statement checking when a complete packet has been received. This way your code is only ran when needed rather than all the time.\n\u003C/p\u003E\n"},{"CreatedByName":"JoeKickAss","CreatedById":156445,"CreatedDateTime":"2016-01-09T10:53:27Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222349218\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221451993652\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/5/2016 at 9:34 PM, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCan you get the LED demos working? Try that first to make sure there are no other weird issues.\n\u003C/p\u003E\n\u003Cp\u003E\nThe most obvious problem with your code is the delay(500). Unlike high level languages that deals with the OS, manages threads, n\u0027stuff, all the code on the arduino is in a single thread. So when you do delay(), you are stopping everything, including send/receive from serial port.The loop() function needs to run as fast as possible, so to make this work you need to move your code inside the input() function, where there is a if statement checking when a complete packet has been received. This way your code is only ran when needed rather than all the time.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThanks mate, got it sorted! Really appreciate the help! I have a 4 gimbal nav ball project in the works. I have all the gimbal conversion maths downpat, and arduino/KSP\u00A0integration was the last foundation bit.\u00A0Now to actually build the thing!\n\u003C/p\u003E\n\u003Cp\u003E\nI hope to put a full tutorial and write up including code and maths behind it when its done. Fingers crossed!\n\u003C/p\u003E\n"},{"CreatedByName":"hitmeifu","CreatedById":156989,"CreatedDateTime":"2016-01-14T17:18:04Z","Content":"\n\u003Cp\u003E\nHi everyone,\n\u003C/p\u003E\n\u003Cp\u003E\nI am curently trying to make serial communication work between ksp and an arduino/ftdi usb...\n\u003C/p\u003E\n\u003Cp\u003E\nI am on windows 10 and use the last version of the mod with disabled handshake.\n\u003C/p\u003E\n\u003Cp\u003E\nUntil now I can receive data on serial but only strange signs like a lot of \u0026lt;?\u0026gt;.\n\u003C/p\u003E\n\u003Cp\u003E\nIf anyone have an idea on what could cause that I would be pleased to read it ^^\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for all your work \u003Cimg alt=\u0022;)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-01-14T20:35:04Z","Content":"\n\u003Cp\u003E\nAre you using your own arduino code? Have you tried the tutorial code?\n\u003C/p\u003E\n"},{"CreatedByName":"hitmeifu","CreatedById":156989,"CreatedDateTime":"2016-01-14T21:04:47Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222362060\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452803704\u0022 data-ipsquote-userid=\u002211842\u0022 data-ipsquote-username=\u0022zitronen\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n27 minutes ago, zitronen said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAre you using your own arduino code? Have you tried the tutorial code?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI tried both, my own with a software serial in order to see the data received.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWith the tutorial code I get nothing from pin 5 6 7 or 11 12 13 but the rx pin blink.\n\u003C/p\u003E\n"},{"CreatedByName":"Colray","CreatedById":156888,"CreatedDateTime":"2016-01-15T14:07:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222362104\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452805487\u0022 data-ipsquote-userid=\u0022156989\u0022 data-ipsquote-username=\u0022hitmeifu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n16 hours ago, hitmeifu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI tried both, my own with a software serial in order to see the data received.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nWith the tutorial code I get nothing from pin 5 6 7 or 11 12 13 but the rx pin blink.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGood morning hitmeifu,\n\u003C/p\u003E\n\u003Cp\u003E\nI was having troubles as well but I ended up modifying the arduino code to set the idle time to longer and it looks like it works. \u00A0Using just the regular code, I found out that when the ship would load on the launch pad I was getting data for a very short amount of time (like 20 seconds in total) by expanding the idle time numbers I havent lost connection between the board and KSP. \u00A0Also, are you using the most updated code? I know in the OP it has KSPdemo12, but here\u0027s the link to the most recent one\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSafe flying!\n\u003C/p\u003E\n"},{"CreatedByName":"Colray","CreatedById":156888,"CreatedDateTime":"2016-01-15T22:06:26Z","Content":"\n\u003Cp\u003E\nokies so I was kinda messing with some stuff and I was able to RX with the handshake enabled on Windows 10. \u00A0I could only RX and not TX....but my TX light is flashing very very slowly.\n\u003C/p\u003E\n\u003Cp\u003E\nI dont know if it matters but I adjusted the Arduino code to this.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint\u0022\u003E\nvoid Handshake(){\n  digitalWrite(CONNECTEDLED,HIGH); \n\n  HPacket.id = 0;\n  HPacket.M1 = 1;\n  HPacket.M2 = 2;\n  HPacket.M3 = 3;\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ni hope this helps a little bit....now i\u0027m off to solder all the LEDS!\n\u003C/p\u003E\n"},{"CreatedByName":"hitmeifu","CreatedById":156989,"CreatedDateTime":"2016-01-16T19:12:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222363086\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452866873\u0022 data-ipsquote-userid=\u0022156888\u0022 data-ipsquote-username=\u0022Colray\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 15/1/2016 at 3:07 PM, Colray said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nGood morning hitmeifu,\n\u003C/p\u003E\n\u003Cp\u003E\nI was having troubles as well but I ended up modifying the arduino code to set the idle time to longer and it looks like it works. \u00A0Using just the regular code, I found out that when the ship would load on the launch pad I was getting data for a very short amount of time (like 20 seconds in total) by expanding the idle time numbers I havent lost connection between the board and KSP. \u00A0Also, are you using the most updated code? I know in the OP it has KSPdemo12, but here\u0027s the link to the most recent one\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSafe flying!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI was using the demo 12 thanks for the links to the newest one.\n\u003C/p\u003E\n\u003Cp\u003E\nNow I am getting a constant tx led on and it is working for 20s like you.\n\u003C/p\u003E\n\u003Cp\u003E\nI changed idle time both in kspIO mod and in arduino program but serial communication stop after this time.\n\u003C/p\u003E\n\u003Cp\u003E\nI also tried while disabling or enabling handshake but I get the same result.\n\u003C/p\u003E\n"},{"CreatedByName":"Colray","CreatedById":156888,"CreatedDateTime":"2016-01-19T15:12:43Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222364984\u0022 data-ipsquote-contentid=\u002260281\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221452971562\u0022 data-ipsquote-userid=\u0022156989\u0022 data-ipsquote-username=\u0022hitmeifu\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 1/16/2016 at 1:12 PM, hitmeifu said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI was using the demo 12 thanks for the links to the newest one.\n\u003C/p\u003E\n\u003Cp\u003E\nNow I am getting a constant tx led on and it is working for 20s like you.\n\u003C/p\u003E\n\u003Cp\u003E\nI changed idle time both in kspIO mod and in arduino program but serial communication stop after this time.\n\u003C/p\u003E\n\u003Cp\u003E\nI also tried while disabling or enabling handshake but I get the same result.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nwhat did you end up adjusting your time to? I ended up pushing my idle timers out to like 20 mins or something like that (I smoke, and I know there is no way I could smoke an entire cig in 2 mins). \u00A0The only time I adjusted was the time in the Arduino program and I haven\u0027t had any problems. \u00A0This is what my code looks like. I only changed time on the KSPIO13 tab.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint\u0022\u003E\n//if no message received from KSP for more than 20mins, go idle\n#define IDLETIMER 1200000\n#define CONTROLREFRESH 2000\u003C/pre\u003E\n\u003Cp\u003E\nI hope this helps some.\n\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2016-01-19T22:25:47Z","Content":"\n\u003Cp\u003E\nIf you are having intermittent connection drops, it may be caused by the Arduino serial buffer getting filled up. You can try increasing the size of the rx buffer in HardwareSerial.h in your Arduino install.\n\u003C/p\u003E\n"}]}