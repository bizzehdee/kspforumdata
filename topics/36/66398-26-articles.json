{"TopicId":66398,"ForumId":36,"TopicTitle":"[WIP] Loading textures only as required","CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-03-21T14:47:56Z","PageNum":26,"Articles":[{"CreatedByName":"MK3424","CreatedById":19932,"CreatedDateTime":"2014-11-27T10:19:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Synthesis\u0022 data-cite=\u0022Synthesis\u0022\u003E\u003Cdiv\u003EHas anyone else found that this doesn\u0027t agree with Kerbal Joint Reinforcement--when running LOD, KJR will occasionally drop out of time acceleration and mess up your orbit. \u003Cp\u003EStrange error, but nothing too bad.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t have any issues with the both of them. I\u0027ve been using them since the first versions of LOD.\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-11-27T11:12:15Z","Content":"\n\u003Cp\u003ENeither do I. BTW, I\u0027ve noticed a bug with ProceduralParts. Their textures are stuck in a thumbnail form even after they\u0027re placed.\u003C/p\u003E\n"},{"CreatedByName":"Bit Fiddler","CreatedById":103108,"CreatedDateTime":"2014-11-29T18:51:31Z","Content":"\n\u003Cp\u003EI still can\u0027t get this to work. After I start KSP, the mod is reporting the files it is preparing but it never finishes that process. and then the game gets to the memory upper limit and crashes. any ideas?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-11-29T19:33:30Z","Content":"\n\u003Cp\u003EWhich mods are you using? Perhaps it\u0027s not an out of memory error. Some mods crash LOD due to various peculiarities (notably, FASA and OLDD). If you\u0027re using either of those, there\u0027s a texture in Apollo CSM folder with a bugged name that you need to delete.\u003C/p\u003E\n"},{"CreatedByName":"Bit Fiddler","CreatedById":103108,"CreatedDateTime":"2014-11-29T23:56:01Z","Content":"\n\u003Cp\u003Eno neither of those. I would have to go compile a list of mods... too many to remember now off the top of my head. but just in general assuming this is working 100% the \u0022preparing\u0022 bit should go away soonish? and after that the \u0022loading\u0022 process should finish and after that the textures should no longer be pink checkers? and before all this it is fine to be in game with pink check textures, this will not cause problems?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-11-30T00:12:28Z","Content":"\n\u003Cp\u003EYes, it should work, just don\u0027t demand too much of it before the preparation is done. You might be better off disabling loading of the part list textures, too.\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-11-30T04:56:00Z","Content":"\n\u003Cp\u003EHey Fiddler, I had what sounds like an identical problem. More than once. First, are you running Texture Replacer? There\u0027s a couple of settings in the TR config that need to be manually overridden, compression being the big one. It should be off automatically anyway, upon detecting ATM, but for some reason it ain\u0027t working out that way in practice. I had this issue twice, actually, and was ripping my hair out (or would have been, if I didn\u0027t still keep it high and tight) trying to figure it out, when I realized TR had updated, and I didn\u0027t bother checking to see if the config had been overwritten or reverted to default. It had. Secondly, for some reason the compression that\u0027s recently been added to LOD has some serious issues with a lot of arrangements. Should default to off, but check the config to be sure. And make sure you check for the Fasa Apollo texture Dragon mentioned. You can\u0027t miss it, bunch of wacky gibberish ascii characters added on the end, and the LOD log specifically mentions the file by name (gibberish and all) causing an error right before crashing.\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-11-30T04:58:58Z","Content":"\n\u003Cp\u003ELastly, if all else fails, delete the LOD folder in \\Gamedata (the .dll itself should definitely be in the root, and renamed with a few \u0022a\u0022s on the front, as per the instructions on the OP, and thus, won\u0027t be deleted) and then run, kill, and edit the freshly generated config for settings if necessary.\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-11-30T05:02:14Z","Content":"\n\u003Cp\u003EOn a side note, am I only one old enough to have flashbacks upon seeing the ascii gibberish on the end of that filename? I get a sudden urge to (q)uaff potions and kill the snake...\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-11-30T14:09:19Z","Content":"\n\u003Cp\u003EAh, yeah, SXT will crash LOD if present, too (I think it\u0027s related to compression). I\u0027ve PMed Lack about the issue.\u003C/p\u003E\n"},{"CreatedByName":"Bit Fiddler","CreatedById":103108,"CreatedDateTime":"2014-11-30T18:52:32Z","Content":"\n\u003Cp\u003Eah well I do have SXT installed. I will go try all of this. and if that fails I am going to make a vanilla game set up and add mods in 10 at a time and see if I can find it. as I am a mod ..... and cant live without all 400 installed, I need this mod to work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003ERogue!?!\u003C/p\u003E\u003Cp\u003EWell I jut scanned the log in the lod directory for SXT; and sure enough there is an exception error loading a texture from SXT.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-30T19:10:04Z\u0022 title=\u002211/30/2014 07:10  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 30, 2014\u003C/time\u003E by Bit Fiddler\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-11-30T21:56:58Z","Content":"\n\u003Cp\u003EIt should be noted that the original creator of this mod really doesn\u0027t do a lot of hanging out in this forum to answer questions about this thing. As far as I am aware, this thing won\u0027t handle DDS textures, so you\u0027ll need something else for that (DDS loader and Texture Replacer work well together) and while it will make a 64bit bridge if you launch in 64 bits, the native bugs in KSP 64bit pretty much eliminate the possibility of debugging this thing for that bit level. I have also found that RAM usage is not affected very much, it\u0027s more of a performance thing and mostly noticed in the part lists for the editors if you turn off the editor loading feature and let it load only when you select the part. From my understanding of the original idea behind this mod was that it would load a tiny image for the texture, and not a checkered error texture like some have been reporting, and then load (from the disk) the full texture on demand. What is being experienced however is that, when initializing the program, RAM usage is relatively unchanged and, despite the log showing that LOD is unloading old textures, eventually it will load too much data into your RAM and make the game crash. If it was truly unloading old unused textures, you would unlikely have the same problem.\u003C/p\u003E\u003Cp\u003ESomething to consider however, if you are unable to load the game without another texture manager dealing with compression and resizing and all that, then LOD will have issues with your setup. In order to run this along with something like Texture Replacer, which has a very simple \u0022unloader\u0022 so that your RAM is not keeping copies of the textures around that it does not need to keep. It also contains a simple version of the DXT compressor for non-DXT formatted textures. While that feature can save RAM usage a bit, it also causes LOD to freak out a bit. In order to use LOD, that compression has to be disabled. In theory, you should not need that compression with LOD active but, as I have experienced, if I do not take extra steps to reduce the files manually (resizing and whatnot), LOD will still hit that RAM limit quite quickly. what this all boils down to is this: If you are trying to use this along side other compression mods, then that is likely the problem with LOD initializing itself. If you are crashing, then you need to cull your mods for unused parts and their assets, or you need more power than LOD gives you. In the end, if LOD works, it\u0027s pretty good. It isn\u0027t a magic RAM saver though, and it does not work very well with other mods that also handle textures, but can be civil with them if they don\u0027t get in the way.\u003C/p\u003E\u003Cp\u003EI barely got through to the Dev for an update to .25, getting support for little features is not going to be easy.\u003C/p\u003E\u003Cp\u003EAs for SXT, I see very little in that mod that would cause any extra problems. It is very low on the RAM footprint as it is, but if Lack edits any of the textures and passes them out in the wrong format, the current KSP bug with TGA could be affecting it. This counts for any of his dummy-textures if he uses that method for texture replacement. Those dummies are still being loaded, so they all have to be valid uncorrupted image formats. That\u0027s all I can come up with.\u003C/p\u003E\n"},{"CreatedByName":"Bit Fiddler","CreatedById":103108,"CreatedDateTime":"2014-11-30T22:13:53Z","Content":"\n\u003Cp\u003EI tried to view the texture with windows and it reports the file is corrupt so I fixed those textures from SXT by just opening them in gimp and resaving them. and then knowing what I am looking for I then found some more.\u003C/p\u003E\u003Cp\u003Eso here it is.\u003C/p\u003E\u003Cp\u003E SXT\u003C/p\u003E\u003Cp\u003E ASET Portable Light\u003C/p\u003E\u003Cp\u003E Fustek Station Parts (could not easily fix these so I removed the mod and moved on)\u003C/p\u003E\u003Cp\u003Ehere are links to the \u0022fixed\u0022 tetures if anybody wants them.\u003C/p\u003E\u003Cp\u003E SXT Fix: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/75023494/SXT%20LOD%20Fix.rar\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/75023494/SXT%20LOD%20Fix.rar\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E ASET Fix: \u003Ca href=\u0022https://dl.dropboxusercontent.com/u/75023494/ASET%20Portable%20Light%20LOD%20Fix.rar\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://dl.dropboxusercontent.com/u/75023494/ASET%20Portable%20Light%20LOD%20Fix.rar\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI willhave to poke around in Fustek to see if I can figure out what is wrong there.\u003C/p\u003E\u003Cp\u003Ethe OP should be edited with a list of mods known to cause LOD to crash. and any information we have posted in the forum to assist newcomers with getting it up and running. as of now everything seems to be up and running. with LOD I sit on the main menu at 2.9 gigs. while without LOD and running in OpenGL I sit on the main menu at 3.2 however I have removed Fustek station parts, as I have not fixed it yet, so some of this difference will be from that mod. however just the fact I am sitting at main menu in DX9 is a miracle. if this mod continues to improve and work out the quirks it will be a big help.\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EOk now in DX9 running LOD and no ATM or TR. I have also re-enabled EVE with astronomers pack. I sit at main menu running 3.4 gigs. in VAB I sit at 3.7 (scary \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif\u0022 alt=\u0022:sealed:\u0022\u003E)\u003C/p\u003E\u003Cp\u003EUFB!! now if it will run stable and allow me to play is the next test.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-11-30T22:50:22Z\u0022 title=\u002211/30/2014 10:50  PM\u0022 data-short=\u00229 yr\u0022\u003ENovember 30, 2014\u003C/time\u003E by Bit Fiddler\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-11-30T22:14:49Z","Content":"\n\u003Cp\u003EActually, there are two bugs with SXT. First, LOD doesn\u0027t like 1x1 textures. Second, LOD doesn\u0027t like TGA textures \u003Cem\u003Enamed as PNG\u003C/em\u003E. SXT does both, promptly crashing the game if LOD is installed. Oh, and if you\u0027re not getting large RAM savings, you\u0027re doing something wrong. Sure, RAM usage does increase overtime, but remember that models also take up memory, and they can pile up enough to cause a crash. Also, planet textures and the like are not affected, but they also affect memory consumption.\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-12-01T10:05:48Z","Content":"\n\u003Cp\u003EBit Fiddler, yeah, I was referring to Rogue. The original. Played on a black and white screen on a slightly upgraded 80/88 box. Ah, the memories. That was actually my second computer, btw. The first was a handmedown Apple II\u002B that would look totally foreign and incomprehensible to today\u0027s teenagers. Doubt they\u0027d even recognize it as a computer, muchless have any clue to operate it.\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-12-01T10:14:48Z","Content":"\n\u003Cp\u003EAnd I\u0027ll second what Dragon said. If you aren\u0027t seeing a marked improvement in both performance AND RAM usage, you are doing something wrong. Combining LOD with ATM and such is the only thing that makes the game playable for me. I simply can\u0027t play it, at all, without Realism Overhaul and its constituent realism mods, plus a select few others. I don\u0027t have that many mods beyond the RO basics, but my relatively weak, elderly, and decrepit laptop (which was once a higher-end model designed to make full use of the emerging 64 bit architecture, and not really ALL that long ago *SIGH*) struggles to run it at all. Hit or miss to get it going at all, and even then, crashes within ten to forty minutes of loading, after 45 minute load times. With ATM and LOD, I can actually play the game, after ten to twenty minute loads, and it\u0027s stable with no crashes for hours at a time. It\u0027s not the be-all-end-all, but it definitely makes a significant difference, especially when combined with other tweaks and techniques.\u003C/p\u003E\n"},{"CreatedByName":"sober667","CreatedById":116695,"CreatedDateTime":"2014-12-01T21:59:26Z","Content":"\n\u003Cp\u003Eis any posibilities to make it compatibile within Directx 11 so firing up in DX11mode will be posible to save huge amount of ram more?\u003C/p\u003E\n"},{"CreatedByName":"Scourge","CreatedById":102136,"CreatedDateTime":"2014-12-02T01:21:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022sober667\u0022 data-cite=\u0022sober667\u0022\u003E\u003Cdiv\u003Eis any posibilities to make it compatibile within Directx 11 so firing up in DX11mode will be posible to save huge amount of ram more?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAs far as I can tell, it basically is. Indeed, this is discussed a bit several pages upthread, and the general consensus, it seems, is that it\u0027s basically compatible. I run KSP using the \u0022-force-d3d11-no-singlethreaded -popupwindow\u0022 command line switch, and I don\u0027t have any problems beyond the normal WIP alpha kind. Actually, the only way KSP and my \u0022required\u0022 mods package runs at all for me is using that command line switch\u002BATM aggressive\u002BLOD. For reference, this is using the 32 bit executable.\u003C/p\u003E\n"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2014-12-02T23:35:04Z","Content":"\n\u003Cp\u003EDoes this work with the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/96729-0-25-DDSLoader-1-7-%28Nov-19%29-Loads-DDS-Texture-Boringly-fast-edition\u0022 rel=\u0022external nofollow\u0022\u003EDDSLoader \u003C/a\u003Emod?\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-12-03T00:16:24Z","Content":"\n\u003Cp\u003EYes and no. It won\u0027t recognize DDS textures, but using them together does not break anything. LoD provides better memory savings, but DDSLoader helps you deal with textures LoD doesn\u0027t do anyway (TextureReplacer, RSS, EVE...).\u003C/p\u003E\n"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2014-12-03T02:32:52Z","Content":"\n\u003Cp\u003EYou know what we need? A version of this that supports DDS textures.\u003C/p\u003E\u003Cp\u003EThat would make my KSP install actually work.\u003C/p\u003E\n"},{"CreatedByName":"Cocox","CreatedById":108646,"CreatedDateTime":"2014-12-03T09:43:31Z","Content":"\n\u003Cp\u003ECan someone please post a way to solve the native bridge problem?\u003C/p\u003E\n"},{"CreatedByName":"MainSailor","CreatedById":74050,"CreatedDateTime":"2014-12-03T11:59:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Cocox\u0022 data-cite=\u0022Cocox\u0022\u003E\u003Cdiv\u003ECan someone please post a way to solve the native bridge problem?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI posted something on this a few pages back. Under Windows 7 64-bit, I needed to install \u003Cem\u003Eboth\u003C/em\u003E versions of the Visual C\u002B\u002B Redistributable Package linked in the first post (vcredist_x86.exe and vcredist_x64.exe). Note this has nothing to do with running the 64-bit version of KSP. Since doing that I haven\u0027t seen the native bridge warning pop up again.\u003C/p\u003E\n"},{"CreatedByName":"raxo2222","CreatedById":110750,"CreatedDateTime":"2014-12-03T19:17:50Z","Content":"\n\u003Cp\u003ECan be this added to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/100067-The-Comprehensive-Kerbal-Archive-Network-%28CKAN%29-Package-Manager\u0022 rel=\u0022external nofollow\u0022\u003ECKAN\u003C/a\u003E?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-12-03T19:21:40Z\u0022 title=\u002212/03/2014 07:21  PM\u0022 data-short=\u00229 yr\u0022\u003EDecember 3, 2014\u003C/time\u003E by raxo2222\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DuoDex","CreatedById":107061,"CreatedDateTime":"2014-12-03T20:15:10Z","Content":"\n\u003Cp\u003EThis really needs compatibility with DDS textures.\u003C/p\u003E\n"}]}