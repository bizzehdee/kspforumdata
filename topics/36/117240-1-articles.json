{"TopicId":117240,"ForumId":36,"TopicTitle":"Looking for a better way to know if the UI is visible or not","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-30T05:47:37Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-30T05:47:37Z","Content":"I need to know whether the UI is being displayed or not. For now, I\u0027m using the following code:\n\n    public class UICLASS: MonoBehaviour{private bool uiVisible = true;private static KeyCode toggleUIKeycode = KeyCode.F2;        public void Update ()        {            if (Input.GetKeyDown (toggleUIKeycode))                uiVisible = !uiVisible;        }}\n\nI\u0027m sure there is a better way, since this will not work if there is another mod which issues the following calls:\n\n    GameEvents.onHideUI.Fire ();\n\nand\n\n    GameEvents.onShowUI.Fire ();\n\nSo far, I haven\u0027t found it, and was hoping someone could point me in the right direction.\n\nThanks in advance."},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2015-07-30T11:02:52Z","Content":"\u003E \n\u003E This would be my suggestion:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     public class UICLASS : MonoBehaviour{    private bool uiVisible = true;    public void Awake ()    {        GameEvents.onShowUI.Add(onShowUI);        GameEvents.onHideUI.Add(onHideUI);    }    private void onShowUI ()    {        uiVisible = true;    }    private void onHideUI ()    {        uiVisible = false;    }    public void OnDestroy ()    {        GameEvents.onShowUI.Remove(onShowUI);        GameEvents.onHideUI.Remove(onHideUI);    }}\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E This runs when the UI is activated or deactivated, either with F2, another key or by code. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\u003E \n\u003E Cheers!\n\nThanks.\n\nI decided to keep this as a separate class to make it cleaner, so I had to add two functions to get and set the flag:\n\n            public bool isVisible()        {            return uiVisible;        }        public void setVisible(bool         {            uiVisible = b;        }\n\nI had to add two functions, since my original code was copied from the main class of my mod.\n\nOne thing though, the Awake function isn\u0027t being called, I have to call it myself from inside the main Awake function.\n\nDo I need to put something in front of this:\n\n    \tpublic class UICLASS: MonoBehaviour\n\n**Edited \u003Ctime datetime=\u00222015-07-30T13:09:57Z\u0022 title=\u002207/30/2015 01:09  PM\u0022 data-short=\u00228 yr\u0022\u003EJuly 30, 2015\u003C/time\u003E by linuxgurugamer**"}]}