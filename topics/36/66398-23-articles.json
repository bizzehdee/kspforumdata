{"TopicId":66398,"ForumId":36,"TopicTitle":"[WIP] Loading textures only as required","CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-03-21T14:47:56Z","PageNum":23,"Articles":[{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-09-30T00:45:39Z","Content":"\n\u003Cp\u003EA few questions to the genius behind this little mod:\u003C/p\u003E\u003Cp\u003EFirst off, on the original post, we read:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E- Not really a problem, but even compared to stock KSP the current memory savings might not be as huge as expected, since this mod currently doesn\u0027t compress loaded textures.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIs this still accurate? The reason I ask is that in the configuration file there is a setting called \u0022CompressTextures\u0022 which would lead me to believe that compression is actually being done.\u003C/p\u003E\u003Cp\u003ESecond, on the original post again, we read:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E- The current versions aims to crash KSP in case of unexpected situations. Please report those.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI know this could be useful for hunting down bugs and what not, but I\u0027m wondering if the \u0022aim\u0022 to crash is really necessary. KSP crashes enough on it\u0027s own without a plugin purposely making it happen when it gets flustered.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-10-06T13:51:12Z","Content":"\n\u003Cp\u003EJust here to say that the current version is working without issues on a 32 bit install with a few mods including EVE FAR DRE MJ Texture replacer and others.\u003C/p\u003E\u003Cp\u003EEDIT : Also to ask if the title for the thread could be changed to include the words \u0060load on demand\u0060 as that seems to be the name of the mod (just had an adventure searching for this thread) even if the title changes to \u0060load textures on demand\u0060 that would still show the thread on a search.\u003C/p\u003E\u003Cp\u003EIf I have it wrong and the mod has a different name, could the title change to that please?\u003C/p\u003E\u003Cp\u003EEDIT 2: Error message popping up with 0.25 on loading screen\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-07T23:36:53Z\u0022 title=\u002210/07/2014 11:36  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 7, 2014\u003C/time\u003E by John FX\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2014-10-08T02:42:39Z","Content":"\n\u003Cp\u003EI too am getting a message indicating the mod is incompatible with 0.25; if you\u0027ll give me a few minutes I\u0027ll try to post the specific message.\u003C/p\u003E\u003Cp\u003EEDIT: The message reads: \u0022LoadOnDemand has detected a problem and may not load properly. Operation is not valid due to the current state of the objec...\u0022\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-08T02:48:55Z\u0022 title=\u002210/08/2014 02:48  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 8, 2014\u003C/time\u003E by capi3101\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-10-08T03:41:20Z","Content":"\n\u003Cp\u003EGreat, this game is rather unbearable without this amazing little gem.\u003C/p\u003E\n"},{"CreatedByName":"John FX","CreatedById":59415,"CreatedDateTime":"2014-10-08T09:41:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EGreat, this game is rather unbearable without this amazing little gem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI must say that for a mod that game play wise does nothing it has surprisingly become one of my favorite mods.\u003C/p\u003E\n"},{"CreatedByName":"The Space Man","CreatedById":73734,"CreatedDateTime":"2014-10-08T10:25:32Z","Content":"\n\u003Cp\u003EFaark\u0027s last post was 18th July 2014, 16:15 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EI fear this is now dead \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-08T18:06:40Z","Content":"\n\u003Cp\u003ETime to look for someone to take over, license has been adjusted to allow that some time ago, so it seems Faark wouldn\u0027t mind. This mod is too good to die.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-10-08T20:03:57Z","Content":"\n\u003Cp\u003EI was afraid of that. I took a look at the source, but unfortunately I was unable to even load up the project file. Last time this happened all it took was a recompile with the current version of KSP, which any number of us could very likely do with soemthing like \u0022sharp develop\u0022 (free download... somewhere...)\u003C/p\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2014-10-09T13:19:30Z","Content":"\n\u003Cp\u003EChecked the development site - Faark self-assigned the issue Gaalidas opened up 17 hours ago, it says. Just an update for y\u0027all.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-10-09T13:41:46Z","Content":"\n\u003Cp\u003EAm I awesome or what?\u003C/p\u003E\n"},{"CreatedByName":"CaptainKipard","CreatedById":70516,"CreatedDateTime":"2014-10-09T16:12:18Z","Content":"\n\u003Cp\u003EThankyou messenger.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-10-13T23:39:44Z","Content":"\n\u003Cp\u003EHey guys,\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022bit.ly/1ql7NDj\u0022 rel=\u0022external nofollow\u0022\u003Ethis version\u003C/a\u003E should be .25 compatible. Though i haven\u0027t tested very much. Most of my KSP .25 time was spent on a new un-modded space program that didn\u0027t made it beyond low Kerbin orbits because of relying heavy on ssto planes.\u003C/p\u003E\u003Cp\u003E___\u003C/p\u003E\u003Cp\u003EIts kinda interesting that download seem to be pretty consistent. I expected a much bigger hit by Squad releasing a 64bit version, especially on the long run. \u003C/p\u003E\u003Cp\u003EGlad you guys are using and/or do like LOD, but improving it can be quite time consuming and i\u0027m struggling whether its worth it for \u0022just another memory saving tool\u0022, to be frank.\u003C/p\u003E\u003Cp\u003EMay i ask why you use/like LOD, especially compared to competitors like ATM or 64 bit. Should help a lot to know what to focus on in future development. It can\u0027t just be load times? I also hope it\u0027s not just because you weren\u0027t aware of those alternatives^^\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-13T23:48:12Z","Content":"\n\u003Cp\u003E\u0022Just another memory saving tool?\u0022 Not at all! This is the best memory saving tool I\u0027ve ever used. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E OK, for me:\u003C/p\u003E\u003Cp\u003E1. Sheer capacity. Your mod eclipses ATM in every way. Even the aggressive version can\u0027t match the sheer number of mods I can load with this.\u003C/p\u003E\u003Cp\u003E2. Quality. It did bork .tga textures, but since Squad also started to in the latest release, it just became a non-issue. It allows me to use textures in full resolution, which is more than can be said of ATM Aggressive, which I hate for killing quality too much.\u003C/p\u003E\u003Cp\u003E3. Load times. KSP loads a lot faster, which makes restarting smoother. As a mod dev, this is really helpful for me when developing for mods like RSS, as ModuleManager doesn\u0027t like reloading configs via debug menu.\u003C/p\u003E\u003Cp\u003E4. Ease of installation. ATM is known to break normal maps if it doesn\u0027t get fed a config. Your mod just plain works.\u003C/p\u003E\n"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2014-10-13T23:52:20Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Dragon01\u0022 data-cite=\u0022Dragon01\u0022\u003E\u003Cdiv\u003E\u0022Just another memory saving tool?\u0022 Not at all! This is the best memory saving tool I\u0027ve ever used. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E OK, for me:\u003Cp\u003E1. Sheer capacity. Your mod eclipses ATM in every way. Even the aggressive version can\u0027t match the sheer number of mods I can load with this.\u003C/p\u003E\u003Cp\u003E2. Quality. It did bork .tga textures, but since Squad also started to in the latest release, it just became a non-issue. It allows me to use textures in full resolution, which is more than can be said of ATM Aggressive, which I hate for killing quality too much.\u003C/p\u003E\u003Cp\u003E3. Load times. KSP loads a lot faster, which makes restarting smoother. As a mod dev, this is really helpful for me when developing for mods like RSS, as ModuleManager doesn\u0027t like reloading configs via debug menu.\u003C/p\u003E\u003Cp\u003E4. Ease of installation. ATM is known to break normal maps if it doesn\u0027t get fed a config. Your mod just plain works.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell if that\u0027s how you feel...\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-14T00:24:21Z","Content":"\n\u003Cp\u003EWell, I do use ATM Basic in conjunction with LOD, since the quality loss isn\u0027t great and it fixes loader bugs. But ATM Aggressive always resulted in really ugly textures for me.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-14T00:47:53Z","Content":"\n\u003Cp\u003EFaark: KSP Win x64 is broken for most people; not all of us want to / can / etc switch to Linux, and OS X doesn\u0027t have a 64bit version. ATM, while awesome, cannot (apart from fixing the TGA loader bug) decrease memory without quality loss. To get things working with even a *reduced* mod set and only *1* planet worth of textures (RSS) I had to set scaling to 1/4th in ATM.\u003C/p\u003E\u003Cp\u003EBesides, why the heck would I want to waste RAM (and VRAM) on parts I\u0027m not actively using!?\u003C/p\u003E\u003Cp\u003EOh, and do check out Sarbian\u0027s DDS loader--streaming DDS from disk direct to VRAM should be much, much faster.\u003C/p\u003E\n"},{"CreatedByName":"Faark","CreatedById":69775,"CreatedDateTime":"2014-10-14T01:09:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003E[DDS]\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes i\u0027ve seen it. Its actually kinda worthless for this project, since LOD doesn\u0027t currently doesn\u0027t compress at all, doesn\u0027t gain any calculation time. But it even could have loaded DXT compressed data all along and that\u0027s what it was aiming for in the first place. The missing footwork i\u0027ve never found the time for was to choose and integrate a compressor. But now with ATM trying the same someone will probably find a solution soon.\u003C/p\u003E\u003Cp\u003EI\u0027m more concerned about some method the DDS loader Sarbian found uses (LoadRawTextureData). LODs real problem was to load textures without any impact on the game and all of Unity\u0027s methods to load textures i tried created short freezes. Thus i choose to use DirectX directly instead. But this one sounds kinda lightweight and i just can\u0027t remember whether i tried it back than. Might worth another try. Also too bad its undocumented.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-14T01:13:53Z\u0022 title=\u002210/14/2014 01:13  AM\u0022 data-short=\u00229 yr\u0022\u003EOctober 14, 2014\u003C/time\u003E by Faark\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Guest","CreatedById":-1,"CreatedDateTime":"2014-10-14T01:10:55Z","Content":"\n\u003Cp\u003EMaybe LOD could \u0022cache\u0022 full size textures on disk in DDS format, and then use DDS loader to load them up? It\u0027d probably take a lot of HD space (you\u0027d be essentially storing copies of all your textures on HD), but could greatly speed up loading.\u003C/p\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2014-10-14T02:57:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EMay i ask why you use/like LOD, especially compared to competitors like ATM or 64 bit. Should help a lot to know what to focus on in future development. It can\u0027t just be load times? I also hope it\u0027s not just because you weren\u0027t aware of those alternatives^^\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EMy reasons pretty much mirror Dragon01\u0027s; I\u0027ve tried ATM before, and the quality of the textures it produces is crap. I use an ultra-low-end box to play KSP as it is (financial constraints prohibit me from considering upgrades and my box is getting to the point where it might simply be cheaper to just get a new one - if I could afford \u003Cem\u003Ethat\u003C/em\u003E). The LoadOnDemand mod lets me play a game where everything looks awesome and with a greatly lessened degree of lag as compared to stock. You know, like I actually have a box whose date of manufacture doesn\u0027t end in \u0022B.C.\u0022\u003C/p\u003E\n"},{"CreatedByName":"beaucoupzero","CreatedById":112372,"CreatedDateTime":"2014-10-14T06:37:10Z","Content":"\n\u003Cp\u003Ethank you so much for your work.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-14T07:13:27Z","Content":"\n\u003Cp\u003EFaark: my memory was hazy, but I was pretty sure you weren\u0027t compressing. Point is, as long as read outweighs seek grabbing DDS is going to be significantly faster than MBM/TGA, and about the same as PNG (depends on how noisy the image is) due to decreased file size. And since presumably many folks aren\u0027t tied to spindles anymore, seek is likely not a significant factor. And that\u0027s even apart from the decompression from PNG or TGA-RLE...\u003C/p\u003E\n"},{"CreatedByName":"Alewx","CreatedById":102791,"CreatedDateTime":"2014-10-14T07:40:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Faark\u0022 data-cite=\u0022Faark\u0022\u003E\u003Cdiv\u003EGlad you guys are using and/or do like LOD, but improving it can be quite time consuming and i\u0027m struggling whether its worth it for \u0022just another memory saving tool\u0022, to be frank.\u003Cp\u003EMay i ask why you use/like LOD, especially compared to competitors like ATM or 64 bit. Should help a lot to know what to focus on in future development. It can\u0027t just be load times? I also hope it\u0027s not just because you weren\u0027t aware of those alternatives^^\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use it because for me it feels like the most advanced tool that is around here.\u003C/p\u003E\u003Cp\u003E64bit is not really an option to windows users with the current build so that is why I don\u0027t use that, but before I even used your tool with 64bit because it is a performance saver.\u003C/p\u003E\u003Cp\u003EATM is something that should by my mind be part of the stock game, like MM to be really modding friendly by default.\u003C/p\u003E\u003Cp\u003ELoD brings high res textures only to the parts that are important and keep the others small and that through out the whole game, it works perfectly, to me it really is a piece of art.\u003C/p\u003E\n"},{"CreatedByName":"beaucoupzero","CreatedById":112372,"CreatedDateTime":"2014-10-14T08:36:00Z","Content":"\n\u003Cp\u003Ei tried ATM and was disappointed with the result, it is complicated and destroys the graphics. LOD is far superior, it is easy to install and the performance gains are huge on my system, allowing a superior ksp experience both in terms of load times and graphics quality. To me this mod is essential. tbh i don\u0060t understand why this mod isn\u0060t getting more love from the community unlike its competitors this really delivers. keep up the good work and thanks again.\u003C/p\u003E\n"},{"CreatedByName":"landerote","CreatedById":124712,"CreatedDateTime":"2014-10-14T10:20:00Z","Content":"\n\u003Cp\u003EHi there!\u003C/p\u003E\u003Cp\u003EI\u0027m getting the same error as reported before. Here is part of my log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 18:04:56.966] AddonLoader: Instantiating addon \u0027LegacyInterface\u0027 from assembly \u0027LoadOnDemand\u0027\u003Cbr\u003E[LOG 18:04:56.969] AddonLoader: Instantiating addon \u0027ActivityGUI\u0027 from assembly \u0027LoadOnDemand\u0027\u003Cbr\u003E[LOG 18:04:56.971] AddonLoader: Instantiating addon \u0027DevStuff\u0027 from assembly \u0027LoadOnDemand\u0027\u003Cbr\u003E[LOG 18:04:56.975] LoadOnDemand: No config found, starting with defaults.\u003Cbr\u003E[LOG 18:04:56.976] LoadOnDemand: Todo19: Consider a mechanism to remove old/unsued cached files! (both dead refs and unused cfgs)\u003Cbr\u003E[LOG 18:04:56.978] AddonLoader: Instantiating addon \u0027Startup\u0027 from assembly \u0027LoadOnDemand\u0027\u003Cbr\u003E[LOG 18:04:56.983] LoadOnDemand: Device: Direct3D 9.0c [nvd3dum.dll 9.18.13.3788]\u003Cbr\u003E[LOG 18:04:57.155] LoadOnDemand: ERROR: Native load failed with error code 126.\u003Cbr\u003E[EXC 18:04:57.163] AggregateException: Failed to create NativeBridge, even legacy mode!Contained exceptions:\u003Cbr\u003E---------------------------------------\u003Cbr\u003ESystem.Exception: Failed to load native library:  ---\u0026gt; System.Runtime.InteropServices.COMException (0x8007007e):  \u003Cbr\u003E  at System.Runtime.InteropServices.Marshal.ThrowExceptionForHR (Int32 errorCode) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at LoadOnDemand.UnmanagedLibrary..ctor (System.String fileName) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  --- End of inner exception stack trace ---\u003Cbr\u003E  at LoadOnDemand.UnmanagedLibrary..ctor (System.String fileName) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E  at LoadOnDemand.NativeBridge.SetupNativeBridge () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E---------------------------------------\u003Cbr\u003ESystem.NotImplementedException: Legacy mode isn\u0027t even close to a working state!\u003Cbr\u003E  at LoadOnDemand.NativeBridge.SetupNativeBridge () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E[LOG 18:04:57.172] AddonLoader: Instantiating addon \u0027WorkQueue\u0027 from assembly \u0027LoadOnDemand\u0027\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThanks in advance!\u003C/p\u003E\n"},{"CreatedByName":"capi3101","CreatedById":59027,"CreatedDateTime":"2014-10-15T20:23:55Z","Content":"\n\u003Cp\u003ESo, yesterday I fired up the game and LOD never did load up any textures. It acted like it was working - it had the \u0022Loading Textures\u0022 text and later \u0022Preparing Textures\u0022 text underneath of it, but it never did load up any texture. Built a plane, flew it into orbit and crash-landed it, and it was shades of pink and purple the entire time.\u003C/p\u003E\u003Cp\u003EAnything I should check on my end? Has anybody else had this crop up?\u003C/p\u003E\n"}]}