{"TopicId":118430,"ForumId":36,"TopicTitle":"[1.1.2] B.R.O.K.E. - Beta 4 - 05/26/2016 - Now with gameplay!","CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-14T01:59:51Z","PageNum":1,"Articles":[{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-14T01:59:51Z","Content":"**B.R.O.K.E.**\n\n**Banking Resources, Overheads \u0026 Kerbal Economy**\n\nB.R.O.K.E. is a WIP framework for the creation and implementation of mods that center around regular funding adjustments (known as Funding Modifiers, or FMs), such as Kerbal salaries (see the Payroll FM) or cheques from the Kerbin Government (see the ReputationFunding FM). It is designed to make the creation of new FMs fast and easy, requiring far less work than writing a traditional plugin. B.R.O.K.E. handles the loading and processing of FMs automatically, all you have to do is define a few functions.\n\nNot interested in developing new FMs but want to play with some instead? B.R.O.K.E. comes with several \u0022Default FMs\u0022 such as Payroll and ReputationFunding. As the B.R.O.K.E. core code gets finalized, we\u0027ll be shifting our attention over to creating new Default FMs and refining the existing ones.\n\nB.R.O.K.E. is a continuation in spirit of the Kerbanomics mod by johnqevil. Some code, images, and ideas are taken from Kerbanomics, with permission.\n\n**Downloads**\n\n[Latest Release on GitHub](https://github.com/BROKE-KSP/BROKE/releases)\n\n**Screenshots**\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/HuQhT/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E\n\n\u003E \n\u003E  \n\nActive developers:\n\n**[@magico13](https://forum.kerbalspaceprogram.com/index.php?/profile/73338-magico13/)**\n\n**[@jkortech](https://forum.kerbalspaceprogram.com/index.php?/profile/146934-jkortech/)**\n\n**[@johnqevil](https://forum.kerbalspaceprogram.com/index.php?/profile/119237-johnqevil/)**\n\nOur thanks go out to **DivisionByZero** and **ObsessedWithKSP** who both made contributions to [Kerbanomics](https://forum.kerbalspaceprogram.com/threads/104000-0-90-EvilCorp-Kerbanomics-v0-1-8-Kerbal-Payroll-and-Loans!), the mod that inspired the creation of B.R.O.K.E. (and whose toolbar icon we have borrowed)\n\nAll code is licensed with the MIT license. Source code for B.R.O.K.E. may be accessed through [this GitHub repository](https://github.com/BROKE-KSP/BROKE). Source code for the default FMs can be accessed through [this GitHub repository](https://github.com/BROKE-KSP/BROKE_Defaults). The absolute latest builds can be acquired [from the build server](http://magico13.net:8080/) (temporarily out of service), but the latest stable releases are on the [Releases page](https://github.com/BROKE-KSP/BROKE/releases) on the B.R.O.K.E. repository.\n\n**Edited \u003Ctime datetime=\u00222016-05-27T00:28:40Z\u0022 title=\u002205/27/2016 12:28  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 27, 2016\u003C/time\u003E by magico13**\n  \nBeta 4"},{"CreatedByName":"Doughy","CreatedById":147090,"CreatedDateTime":"2015-08-14T02:16:56Z","Content":"needs to be compatible with State Funding tho that mod is awesome ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Rokanov","CreatedById":149722,"CreatedDateTime":"2015-08-14T02:26:32Z","Content":"Sounds great, excited for this!\n\nA couple of naming (though Kerbanomics is great, a variation of that perhaps?):\n\nKerbal Kapitalism\n\nKerbal Spending Program"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-14T02:38:57Z","Content":"Sounds to me like it and KCT should just be one mod... Kerbal Space Agency Simulator! (Sounds dreadfully boring).\n\nAnyway, some of my thoughts:\n\n- You mention possibly not gaining back access to probes if you don\u0027t assign enough flight budget. But I\u0027d stay away from anything probability based. Maybe just give a restart cost for spinning the program back up that increases the longer things have been dormant.\n- I like reputation decay for the penalties, but they have the problem of not being visible/important enough to the players. They really only affect what contracts are offered (unless they\u0027ll play a more important role in you mod).\n- I personally haven\u0027t played Kerbonomics, so I don\u0027t know the nitty gritty details. But I think having a quarterly (or annual) balance sheet popup would be a nice touch (and a fairly common thing for \u0022tycoon\u0022 type games). You could then spell out the various costs and incoming funds for the period, as well as having a good place to detail out the reputation loss/gain for activity (if that\u0027s where you choose to go)."},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-14T03:07:41Z","Content":"\u003E \n\u003E needs to be compatible with State Funding tho that mod is awesome ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nNo promises. There\u0027s a good chance there will be too much overlap for it to be sensible.\n\n\u003E \n\u003E Sounds to me like it and KCT should just be one mod... Kerbal Space Agency Simulator! (Sounds dreadfully boring).\n\nWhile I would love that, I think there are enough people who wouldn\u0027t that I\u0027m gonna keep things separate ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nProbability based things are definitely a touchy situation. If/when that feature gets added then there will likely be more discussion on what\u0027s ok, but I\u0027ll keep in mind that probability is generally not a great idea. An increased cost seems reasonable (pay $10000 a year to keep a skeleton crew, or cut that out entirely and pay $40000 in 3 years when you need to reactivate the probe. You pay more overall, but less up front.)\n\nIn Kerbanomics as-is reputation controls the interest rate on loans and the amount of funds you receive each cycle (default is quarters). Currently you get a message saying how much you earn, and how much you spend on Crew costs. I\u0027d like to expand that to maybe provide total costs for everything (including KSC upgrades and launches) during that quarter, with an optional window to show totals and/or history. If I keep pay tied to reputation, then reputation decay also equates to pay decay, which is what I ultimately want. Gaining *any* rep could reset the decay \u0022grace period\u0022 so you have to keep doing things to keep earning money.\n\nI do want to increase the management aspect, since KCT already adds some elements of that and this mod can then handle the funds side of that.\n\nJebediah Kerman\u0027s Race Into Space Crippling Debt"},{"CreatedByName":"autumnalequinox","CreatedById":114782,"CreatedDateTime":"2015-08-14T03:43:59Z","Content":"Magico, I love u ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) I didn\u0027t even know something like this existed. I\u0027ve been so busy lately haven\u0027t worked on my mod but I have been wanting something like this desperately. I run something similiar on top of my careers with manual editing and some formulas. \n\nThank you for resurrecting this. I\u0027m going to check it out and report back! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n- - - Updated - - -\n\n(will this be safe to install on top of a KCT career game in progress?)"},{"CreatedByName":"Rokanov","CreatedById":149722,"CreatedDateTime":"2015-08-14T03:45:03Z","Content":"How about some kind of dynamic private/state funding scale? A state focus would provide funding and take care of some maintenance costs but would have occasional compulsory contracts, whereas with a private focus you\u0027d have to take care of all costs, but contracts payoff better. Either as binary option, slider, or dynamic based on how you play.\n\nAlso, don\u0027t know if you\u0027re into acronyms but:\n\nBanking Resources, Overheards \u0026 Kerbal Employment (B.R.O.K.E.)"},{"CreatedByName":"autumnalequinox","CreatedById":114782,"CreatedDateTime":"2015-08-14T03:54:17Z","Content":"OMG: With a system like this, it would be awesome to run the program as either a private, commercial agency (Space-X) or a governmental agency (everyone else). Modifying the way the money flows, capital availability, etc. I\u0027m a nerd I play different career games as either private or public, with different settings/house rules."},{"CreatedByName":"JWS","CreatedById":136190,"CreatedDateTime":"2015-08-14T05:36:11Z","Content":"Great to see that you are working on the idea. I like the idea of government funding, but there are also several other mods which provide alternative income routes. Ippo\u0027s [Science Funding](https://forum.kerbalspaceprogram.com/threads/102911-1-0-2-Science-Funding-career-mode-with-no-contracts%21-%282-may-2015%29) or several Contract packs which use the nightingale\u0027s Contract Configurator, etc. By installing these mods, you can customize your income sources as you want.\n\nAnd about the new name, how about Kerbal Financial Times?![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-14T07:29:48Z","Content":"\u003E \n\u003E Sounds great, excited for this!\n\u003E A couple of naming (though Kerbanomics is great, a variation of that perhaps?):\n\u003E \n\u003E Kerbal Kapitalism\n\u003E \n\u003E Kerbal Spending Program\n\nSeconding Kerbal Spending Program"},{"CreatedByName":"mysteriosmind","CreatedById":128626,"CreatedDateTime":"2015-08-14T10:02:29Z","Content":"Oh yes please! \n\nAdding building maintenance costs seems like a neat thing and a good way to counter timewarp to win. Would be even cooler if you also had to hire workers (mechanics, scientists, control center staff). That way you could sack workers in case of a funding cut or if you fail an important contract. Control center staff would influence how many active missions you can have. Scientists and mechanics might only make sense in Kerbal construction time though (influencing research und build times). Maybe you would have to have a certain size of workforce to actually use the benefits that building upgrades provide? Workforce could be as simple as a slider of how many people you employ or as complex as individual kerbals with skills (high skilled kerbals would provide more benefits but require higher wages and you can only recruit them rarely).\n\nfunding could work that way that the government offers you funding packages for a certain time period like option 1: \u0022we will pay you 50.000 funds per month for 2 years and expect you to complete 4 government missions and reap in 800 science points\u0022 or option 2: \u0022we will pay you 70.000 funds per month and expect you to complete 6 government missions and reap in 1200 science points\u0022. You pick one and when the time is over you get new offers based on your performance (did you reach the set goals/how many government contracts did you fail/Reputation). \n\nA system like that would stand for leading budget negotiations and give players flexibility in their play style.\n\nAs for a name I really like \u0022Kerbal Spending Program\u0022 too, but it might be a bit confusing to have a KSP mod that has KSP as an acronym. Maybe make it something like \u0022Kerbal Spending Sim\u0022 or \u0022Kerbal Spending Time\u0022"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-14T14:39:47Z","Content":"\u003E (will this be safe to install on top of a KCT career game in progress?)\n\nIt should be, just know that when I start making the big changes the data from the current version might not be carried over. It shouldn\u0027t damage any saves though.\n\n\u003E \n\u003E How about some kind of dynamic private/state funding scale? A state focus would provide funding and take care of some maintenance costs but would have occasional compulsory contracts, whereas with a private focus you\u0027d have to take care of all costs, but contracts payoff better. Either as binary option, slider, or dynamic based on how you play.\n\u003E Also, don\u0027t know if you\u0027re into acronyms but:\n\u003E \n\u003E Banking Resources, Overheards \u0026 Kerbal Employment (B.R.O.K.E.)\n\nI do like the idea of private vs government funded. I might do that more along the lines of what mysteriosmind brings up, but I definitely want to provide options for the player to either use contracts only or completely ignore contracts, or anything in-between. Ideally you\u0027ll be able to completely ignore contracts if you want. If you don\u0027t want government help, I\u0027d probably just recommend increasing the funds reward setting for that save (I might provide a way to change that in an existing game).\n\nAlso, I really like B.R.O.K.E. ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n\u003E \n\u003E Great to see that you are working on the idea. I like the idea of government funding, but there are also several other mods which provide alternative income routes. Ippo\u0027s [Science Funding](https://forum.kerbalspaceprogram.com/threads/102911-1-0-2-Science-Funding-career-mode-with-no-contracts%21-%282-may-2015%29) or several Contract packs which use the nightingale\u0027s Contract Configurator, etc. By installing these mods, you can customize your income sources as you want.\n\u003E And about the new name, how about Kerbal Financial Times?![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI like that there are multiple ways of getting funding, since I like tailoring my game to play how I want it to, so I\u0027m glad you also seem to feel the same way. Options are wonderful things ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI think I want to avoid anything with Kerbal in the name, just in case that becomes an issue later on down the line if Squad for whatever reason needs to tighten up their IP rules. I didn\u0027t name Kerbal Construction Time originally, but I already have the backup name of \u0022Some Assembly Required\u0022 if I find myself needing to rename.\n\n\u003E \n\u003E Adding building maintenance costs seems like a neat thing and a good way to counter timewarp to win. Would be even cooler if you also had to hire workers (mechanics, scientists, control center staff).\n\u003E \n\u003E funding could work that way that the government offers you funding packages for a certain time period \n\u003E \n\u003E As for a name I really like \u0022Kerbal Spending Program\u0022 too, but it might be a bit confusing to have a KSP mod that has KSP as an acronym. Maybe make it something like \u0022Kerbal Spending Sim\u0022 or \u0022Kerbal Spending Time\u0022\n\nSame issue as above with names, I\u0027d prefer to steer away from including Kerbal in the name (but am not completely opposed to it). KSP as the acronym would likely just make things confusing unfortunately :/\n\nHowever I really like the other ideas you have. I\u0027m not sure that I\u0027ll go so far as to have you hire explicit workers, but I can definitely see having any scientists/engineers hanging out at KSC (aka not on a mission) reducing the running costs for certain buildings (and reducing them more based on the Kerbal\u0027s level). So you might hire a scientist and train him to make the R\u0026D center cost less each period (I\u0027m not sure how I\u0027d want to balance it, but I might make it cost effective to leave a scientist or two on Kerbin [aka, the cost reductions in the building\u0027s costs outweighs the cost of the kerbal], but if you have too many than you end up paying more in salaries than it\u0027s worth). That makes it so you can hire crew and not have it totally bankrupt you.\n\nI like the idea of several offers, with different requirements associated with them. It might be a little too close to the contracts system and it might make more sense just to offer special \u0022Government Contracts\u0022, so I\u0027ll have to think about how I want to do that. At the very least there will be a minimal \u0022We\u0027ll give you this much money based on your reputation (and maybe current funds)\u0022 which should be sustainable if you don\u0027t hire every Kerbal ever and don\u0027t launch 28 missions a quarter (it should be enough to cover a crew of maybe, a few moderate sized launches, and one or two fully funded active flights). Big missions would require you to save up money over multiple quarters or take out extra contracts to fund them right away. I think I still want some sort of reputation decay system so you can\u0027t timewarp your way into riches.\n\nI\u0027ll likely start playing around with some things this weekend. I\u0027ve already got the name for the first Loan Provider: \u0022Jebediah Kerman\u0027s Junkyard and Loan\u0022. The second would be something along the lines of \u0022Kerb Town Bank\u0022 (a small, local bank) and the third would be a big name thing like \u0022Kerman Sachs\u0022. Obviously those names aren\u0027t finalized yet, so if you\u0027ve got other suggestions let me know ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"Rokanov","CreatedById":149722,"CreatedDateTime":"2015-08-14T16:26:11Z","Content":"\u003E \n\u003E Workforce could be as simple as a slider of how many people you employ.\n\nCould a workforce expand/replace build point upgrades in KCT? They could essentially be the same thing I guess, but instead of adding arbitrary rates you add a worker, who adds an arbitrary rate. That would just feel nice ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\n\u003E \n\u003E As for a name I really like \u0022Kerbal Spending Program\u0022 too, but it might be a bit confusing to have a KSP mod that has KSP as an acronym. Maybe make it something like \u0022Kerbal Spending Sim\u0022 or \u0022Kerbal Spending Time\u0022\n\nYeah I thought that as I was writing it, \u0027KSP... the mod\u0027 would be too confusing, but it made me giggle ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nLove the rest of the ideas, especially running costs and a tycoon-style ins/outs financial review.\n\nObligatory name suggestion ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif):\n\nKommonwealth (or Kermanwealth) Bank of Kerbin (after Commonwealth Bank of Australia)\n\nEdit: Oh and if you had a workforce they could go on vacation (e.g. at Kristmas) or go on strike because Jeb keeps leaving the toilet seat up!\n\n**Edited \u003Ctime datetime=\u00222015-08-14T16:28:37Z\u0022 title=\u002208/14/2015 04:28  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 14, 2015\u003C/time\u003E by Rokanov**"},{"CreatedByName":"autumnalequinox","CreatedById":114782,"CreatedDateTime":"2015-08-14T23:50:14Z","Content":"\u003E \n\u003E At the very least there will be a minimal \u0022We\u0027ll give you this much money based on your reputation (and maybe current funds)\u0022\n\nIn my government career games, I use a simple formula: rep x 1000 funds per annum. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) Just enough to keep things afloat if I have a bad streak of luck (I play no revert unless bug, although KCT sims are ok). As launch costs increase it seems to balance well. Of course now I will be able to do away with another house rule, which is sweeet.\n\n- - - Updated - - -\n\nOne more thing: while not eliminating contracts, this could be the thing that can finally bring some balance to them. Combined with KCT, MCE, and contract configuator, there just might be a good career game in there now. Something that has seemed to elusive to me I\u0027ve started 3 new games since 1.0.4 game out and make my own rules and systems that I run in WordPad. But enough with the giddy gushing.. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\n- - - Updated - - -\n\n\u003E \n\u003E How about some kind of dynamic private/state funding scale? A state focus would provide funding and take care of some maintenance costs but would have occasional compulsory contracts, whereas with a private focus you\u0027d have to take care of all costs, but contracts payoff better. Either as binary option, slider, or dynamic based on how you play.\n\noh and didn\u0027t realize we both brought this up like 10 mins apart ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Corax","CreatedById":11311,"CreatedDateTime":"2015-08-17T15:16:20Z","Content":"Awesome to see this taken up and continued.\n\nAn idea I had for government funding was to simulate election cycles, ie. depending on which \u0022party\u0022 has the upper hand, your program would get more or less funding over the next election cycle, the idea being that you have a budget you can rely on and maybe even overspend, but don\u0027t know how much resources you will have available in the next cycle.\n\nOf course \u0022election results\u0022 would just be something like 20/20/60 chance for high/low/average funding levels.\n\nKnowing magico13, there would certainly be configuration settings for the exact values/formulas, so everything from broke micronations to prosperous world empires, direct democracy with weekly polls to one-party state with twenty-year plans, and the occasional revolution, would be possible ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)"},{"CreatedByName":"CalculusWarrior","CreatedById":58313,"CreatedDateTime":"2015-08-17T16:08:45Z","Content":"This is a very good idea, great job for continuing Kerbonomics! I\u0027m also a fan of the B.R.O.K.E. acronym."},{"CreatedByName":"autumnalequinox","CreatedById":114782,"CreatedDateTime":"2015-08-17T20:52:53Z","Content":"\u003E Knowing magico13, there would certainly be configuration settings for the exact values/formulas, so everything from broke micronations to prosperous world empires, direct democracy with weekly polls to one-party state with twenty-year plans, and the occasional revolution, would be possible ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nGive us the configs and we will produce the presets. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif) It could be as simple as introducing some randomness to funding, some conditions (complete x contracts per period, or gather x science), and maintenance costs. We can then play with the values and build a variety of scenerios we can swap and share. Whether it\u0027s a corporate board or the senate, in the end it\u0027s just math ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-17T21:22:55Z","Content":"So I didn\u0027t get a chance to do any work on this over the weekend unfortunately, but I\u0027ve written some of my ideas down in a notebook and have started planning. Whereas KCT grew from a tiny mod into something much larger and lacked a clear goal, I\u0027m try to avoid that this time around and have most things planned ahead of time. You all know I love configurability, so I\u0027m planning on trying to either make things configurable through text files or at the very least make it easy to add new functionality with code.\n\nAt first I just want to get things working, though, and extra configurability will likely come down the line once I know what people need/want to modify (doesn\u0027t make sense to spend a lot of time making something super configurable if no one will ever change it from the defaults. Which is part of the reason I made the Presets in KCT, to make it easier to modify things)\n\nSome examples (obviously, no code is in place yet):\n\nLoan providers will be defined in a config file. I\u0027ll probably try to go so far as to add support for modifying the config with ModuleManager. That means you can easily add or alter the loan providers so that they have different max loan amounts/loan lengths, or require different building/reputation levels, and most likely I\u0027ll add options to offer higher/lower interest rates than \u0022standard\u0022. We\u0027ll figure out what all to make configurable for loan providers when we get there, but at minimum you\u0027ll be able to make new ones that act like the default ones.\n\nFunding and expense sources will all share a common Interface. This is entirely an internal code-related aspect, but it should make it really really easy to create new funding sources and expense sources, and if anyone ever wants to add new ones they should be able to really easily with a companion mod. What I\u0027ll likely use as inspiration for this is Contract Configurator\u0027s behaviours, which make it really easy to extend things.\n\nI also plan on using [TriggerAu\u0027s addon framework](https://forum.kerbalspaceprogram.com/threads/66503-KSP-Plugin-Framework-Plugin-Examples-and-Structure-v1-1-%28Apr-6%29) from the beginning, which means the GUIs hopefully will look better and the whole thing will be cleaner. Ironically the last post in that thread is by johnqevil, so he may have been planning on switching to it as well before he disappeared.\n\nThere is a decent chance I\u0027ll provide ways to tweak any formulas themselves, since I can easily adapt the MathParser out of KCT (which is itself adapted out of a math parser I wrote for a project at work, though the one for KCT is more featured)."},{"CreatedByName":"JWS","CreatedById":136190,"CreatedDateTime":"2015-08-18T07:27:16Z","Content":"\u003E Funding and expense sources will all share a common Interface. This is entirely an internal code-related aspect, but it should make it really really easy to create new funding sources and expense sources, and if anyone ever wants to add new ones they should be able to really easily with a companion mod. What I\u0027ll likely use as inspiration for this is Contract Configurator\u0027s behaviours, which make it really easy to extend things.\n\nNice approach. Like various contract packs out there, there can be several other mod packs which emphsize different aspects of funding and expense. Also it will provide its own customized strategies without any dependency on other mods. I\u0027ll look forward to it."},{"CreatedByName":"ThatOneBritishGuy...","CreatedById":144135,"CreatedDateTime":"2015-08-21T00:19:25Z","Content":"\u003E \n\u003E Funding and expense sources will all share a common Interface. This is entirely an internal code-related aspect, but it should make it really really easy to create new funding sources and expense sources, and if anyone ever wants to add new ones they should be able to really easily with a companion mod. What I\u0027ll likely use as inspiration for this is Contract Configurator\u0027s behaviours, which make it really easy to extend things.\n\nSo I\u0027d just like to pitch in the fact that B.R.O.K.E. sounds great to me as well, and I\u0027ll also 2nd what JWS said. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nKeep it up Magico!\n\n**Edited \u003Ctime datetime=\u00222015-08-21T00:25:10Z\u0022 title=\u002208/21/2015 12:25  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 21, 2015\u003C/time\u003E by ThatOneBritishGuy...**"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-31T03:31:06Z","Content":"Just a quick update, I haven\u0027t forgotten about this but I\u0027ve just been working on it slowly when not working on other things. I\u0027ve officially decided to go for B.R.O.K.E. (pun intended), since I like that name and if for some reason the \u0022Kerbal\u0022 aspect needed to be removed in the future, it can easily keep the same name. Though I\u0027m using \u0022Economy\u0022 instead of \u0022Employment\u0022 as it\u0027s a bit more general, resulting in \u0022Banking Resources, Overheads \u0026 Kerbal Economy (B.R.O.K.E.)\u0022, so thank you to Rokanov for the suggestion! ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI don\u0027t have anything working *quite yet* as I\u0027m still finalizing the core. It\u0027s really, really easy to add new Funding Modifiers (things that trigger each quarter or year and either add funds or remove them). It does require referencing the core BROKE dll, but you don\u0027t have to register anything in BROKE *and you don\u0027t even have to use a MonoBehaviour*. A simple .dll with a class that implements [BROKE.IFundingModifier](https://github.com/magico13/BROKE/blob/master/BROKE/IFundingModifier.cs) is all that\u0027s needed (plus an implementation of all the methods defined in that interface). BROKE finds every class that implements IFundingModifier and handles them itself. There are even functions to define some GUIs to show additional information or to provide configuration options. Hopefully it makes creating new sources of funding, or new things to pay for, very easy to do, even for new programmers. I might even be able to distill it into a reduced form suitable for definition in a config file.\n\nTo see an example Funding Modifier, here is the test one I\u0027ve been using for testing things: [https://github.com/magico13/BROKE/blob/master/BROKE/FundingModTest.cs](https://github.com/magico13/BROKE/blob/master/BROKE/FundingModTest.cs)\n\nIf it wasn\u0027t obvious, I\u0027ve got[the GitHub set up](https://github.com/magico13/BROKE) and you are free to take a look and offer some suggestions. Things are still very WIP at the moment, and now is a good time for feature requests (maybe do them as new Issues please, so I don\u0027t lose track of them).\n\nI\u0027ve also set up a [Jenkins project for BROKE on my build server](http://magico13.net:8080/job/B.R.O.K.E./) where you can grab the latest builds as they get pushed to GitHub.\n\nDepending on my schedule this week, I\u0027d maybe like to get the core finalized and start working on the first of the Funding Modifiers (things like government funding and kerbal payroll right off the bat, then adding in building maintenance costs, active flight crew costs, etc. later on down the line).\n\nEdit: Super, duper, early screenshots which are subject to MUCH change:\n\n**With the Funding Modifier\u0027s MainGUI not drawn:**\n\n![dgcW2L5.png](http://i.imgur.com/dgcW2L5.png)\n\n**And with the Funding Modifier\u0027s MainGUI drawn (BROKE core puts it inside a Vertical and its own ScrollView):**\n\n![cEWfxE3.png](http://i.imgur.com/cEWfxE3.png)\n\n**Edited \u003Ctime datetime=\u00222015-08-31T03:35:52Z\u0022 title=\u002208/31/2015 03:35  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 31, 2015\u003C/time\u003E by magico13**"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-31T04:53:02Z","Content":"DLL dependencies suck in KSP (but I don\u0027t have a better suggestion, as any other method than the interface would be way uglier). Keeping that in mind though, there\u0027s a couple things you may want to do differently in your AssemblyInfo.cs:\n\nI **always** leave the AssemblyVersion alone at 1.0. Otherwise if you change it, it forces someone who compiled against you DLL to recompile. In other words, every time you release, you break everyone else\u0027s DLLs, which is obviously bad.\n\n    [assembly: AssemblyVersion(\u00221.0\u0022)]\n\nI set this to the same thing as AssemblyFileVersion. There was a good reason (DMagic told me to), but I can\u0027t remember what the reason was. I think it made code for checking a version easier/better/more reliable.\n\n    [assembly: AssemblyInformationalVersion(\u00221.7.2\u0022)]\n\nThis will allow others to do a KSPAssemblyDependency() on you, which means you don\u0027t have to do silly things with the alphabetical load order and name your mod aaa\\_BROKE. Again, don\u0027t touch the version, because there\u0027s a bug in KSP where the version number comparisons are done wrong (see [#3995](http://bugs.kerbalspaceprogram.com/issues/3995)).\n\n    [assembly: KSPAssembly(\u0022ContractConfigurator\u0022, 1, 0)]"},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-31T11:42:35Z","Content":"\u003E \n\u003E I **always** leave the AssemblyVersion alone at 1.0. Otherwise if you change it, it forces someone who compiled against you DLL to recompile. In other words, every time you release, you break everyone else\u0027s DLLs, which is obviously bad.\n\nJust don\u0027t do a strong reference and it won\u0027t care about version numbers at all (see [here](http://stackoverflow.com/questions/5514002/how-can-you-make-a-c-sharp-project-ignore-the-version-number-of-an-assembly) and [here](http://stackoverflow.com/questions/24022134/how-exactly-does-the-specific-version-property-of-an-assembly-reference-work-i)). So that should take care of version checking, and I can always write up a really simple piece of code that checks if BROKE is installed and returns the version number that people can use if they want, since that\u0027s ridiculously easy to do using reflection. So I think it\u0027ll be OK on that front ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nLoad order shouldn\u0027t matter I think, because BROKE handles creating the instances of the classes that extend IFundingModifier. Since C# doesn\u0027t error due to a missing reference until runtime, and only if that reference is directly needed (aka, calling a function that uses another function in the referenced .dll), it actually should act as a soft dependency. BROKE initializes everything in Start(), so by that time all other .dlls should be loaded, and as long as the other mods don\u0027t initialize the IFundingModifiers themselves (which is wrong) then the reference to BROKE should never be explicitly needed. Which should hopefully mean you can build with a hard dependency, but it\u0027ll still work just fine even if BROKE\u0027s not installed ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nBasically what it boils down to is that I\u0027m gonna touch the version because it drives me absolutely nuts when I\u0027m debugging things and the version numbers are all 1.0.0.0 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\nNote: I haven\u0027t tested all of this yet. I\u0027ll let you know what ends up actually happening when I do test it. I am making the assumption that all .dlls get loaded, even ones that don\u0027t include a monobehaviour. If so, you\u0027ll be able to have addons for BROKE that aren\u0027t even fully developed \u0022mods\u0022 perse, which would be cool for some reason.\n\n**Edited \u003Ctime datetime=\u00222015-08-31T11:46:14Z\u0022 title=\u002208/31/2015 11:46  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 31, 2015\u003C/time\u003E by magico13**"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-31T16:06:20Z","Content":"\u003E \n\u003E Just don\u0027t do a strong reference and it won\u0027t care about version numbers at all (see [here](http://stackoverflow.com/questions/5514002/how-can-you-make-a-c-sharp-project-ignore-the-version-number-of-an-assembly) and [here](http://stackoverflow.com/questions/24022134/how-exactly-does-the-specific-version-property-of-an-assembly-reference-work-i)). So that should take care of version checking, and I can always write up a really simple piece of code that checks if BROKE is installed and returns the version number that people can use if they want, since that\u0027s ridiculously easy to do using reflection. So I think it\u0027ll be OK on that front ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nFrom reading the SO page you linked to, the Specific Version is only for the compile time check (so if I am project DependentOnBROKE which depends on BROKE, and BROKE changes version, it\u0027ll affect whether it refuses to compile without me updating the version in the properties). At run-time it will always look for the version of BROKE that matches what DependentOnBROKE was compiled against. The same SO page talks about getting around this with the App.config - which when building a mod DLL isn\u0027t something we can play with (as far as I\u0027m aware).\n\n\u003E \n\u003E Load order shouldn\u0027t matter I think, because BROKE handles creating the instances of the classes that extend IFundingModifier. Since C# doesn\u0027t error due to a missing reference until runtime, and only if that reference is directly needed (aka, calling a function that uses another function in the referenced .dll), it actually should act as a soft dependency. BROKE initializes everything in Start(), so by that time all other .dlls should be loaded, and as long as the other mods don\u0027t initialize the IFundingModifiers themselves (which is wrong) then the reference to BROKE should never be explicitly needed. Which should hopefully mean you can build with a hard dependency, but it\u0027ll still work just fine even if BROKE\u0027s not installed ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nI don\u0027t know enough of the details about what happens on load of .NET assemblies. If it loads an assembly with a class that implements BROKE.IFundingModifier before BROKE is loaded, I have no idea if it will be a problem. It may be that it won\u0027t cause a problem unless said class gets instantiated before BROKE is loaded, which wouldn\u0027t happen. Either way, the answer will come out when you test it.\n\n\u003E \n\u003E Basically what it boils down to is that I\u0027m gonna touch the version because it drives me absolutely nuts when I\u0027m debugging things and the version numbers are all 1.0.0.0 ![;)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif)\n\n100% agree - which is why I still set the AssemblyFileVersion and AssemblyInformationalVersion to something sane.\n\nOh, and feel free to have a look at my [version check code](https://github.com/jrossignol/ContractConfigurator/blob/master/source/ContractConfigurator/Util/Version.cs) - I use it for doing version checks against a number of different mods that all capture the version number differently (SCANsat, RemoteTech, ModuleManager), so it tries a number of different ways to get a version. Obviously if you\u0027re just using it for checking against BROKE you can just use the appropriate check from there.\n\n\u003E \n\u003E Note: I haven\u0027t tested all of this yet. I\u0027ll let you know what ends up actually happening when I do test it. I am making the assumption that all .dlls get loaded, even ones that don\u0027t include a monobehaviour. If so, you\u0027ll be able to have addons for BROKE that aren\u0027t even fully developed \u0022mods\u0022 perse, which would be cool for some reason.\n\nThat assumption is definitely correct - works the same way for Contract Configurator stuff (ie. the internal CC\\_RemoteTech that has the RemoteTech code, but has no MonoBehaviours)."},{"CreatedByName":"magico13","CreatedById":73338,"CreatedDateTime":"2015-08-31T16:12:39Z","Content":"\u003E \n\u003E From reading the SO page you linked to, the Specific Version is only for the compile time check (so if I am project DependentOnBROKE which depends on BROKE, and BROKE changes version, it\u0027ll affect whether it refuses to compile without me updating the version in the properties). At run-time it will always look for the version of BROKE that matches what DependentOnBROKE was compiled against. The same SO page talks about getting around this with the App.config - which when building a mod DLL isn\u0027t something we can play with (as far as I\u0027m aware).\n\nHmm, I was linking those from mobile without reading through entirely. I\u0027m looking into it more now (though I should be working ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)). If it\u0027s true that it requires a specific version, then that is a problem.\n\nI\u0027ll test this tonight and let you know if it is indeed a problem. If it is, then I\u0027ll need to think of a workaround (which might just be to keep the version number the same, as you said). Thankfully, the BROKE core shouldn\u0027t need to change except for KSP updates once I get it set up, since most features will actually just be Funding Modifiers.\n\nEdit: I did find this snippet on the actual msdn website, which might lead to something useful.\n\n\u003E \n\u003E The runtime distinguishes between regular and strong-named assemblies for the purposes of versioning. Version checking only occurs with strong-named assemblies.\n\nEdi2: Everything I\u0027m reading about strong-named assemblies makes it sound like you have to very deliberately make a strong-named assembly (with a private key and manually running some things). I don\u0027t recall ever doing this and it doesn\u0027t look like Visual Studio does by default. So maybe it won\u0027t be an issue?... It\u0027s very unclear to me at the moment. I\u0027ll do some testing when I get home and report back. If I can ignore version checking then it will make life much, much easier. I do believe you\u0027re correct in that we can\u0027t do version redirection as we don\u0027t have access to the appropriate configuration files. Plus then anyone wanting to reference BROKE would have to make those changes, at which point it\u0027s easier just to do our own informal versioning and just keep the assembly at 1.0.\n\n**Edited \u003Ctime datetime=\u00222015-08-31T16:45:45Z\u0022 title=\u002208/31/2015 04:45  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 31, 2015\u003C/time\u003E by magico13**"}]}