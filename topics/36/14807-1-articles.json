{"TopicId":14807,"ForumId":36,"TopicTitle":"How to refuel a vessel","CreatedByName":"kulesz","CreatedById":24873,"CreatedDateTime":"2012-07-22T00:23:59Z","PageNum":1,"Articles":[{"CreatedByName":"kulesz","CreatedById":24873,"CreatedDateTime":"2012-07-22T00:23:59Z","Content":"\n\u003Cp\u003EHi,\u003C/p\u003E\u003Cp\u003EI\\\u0027m writing a plugin and I need to refuel a vessel. How can I do it?\u003C/p\u003E\u003Cp\u003EI know I can get the \\\u0027fuel\\\u0027 property from FuelTank and add some value, but it allow me to overflow its original capacity.\u003C/p\u003E\u003Cp\u003EIs there a method to add reasonable amount of fuel to all tank, not exceeding their capacity?\u003C/p\u003E\n"},{"CreatedByName":"Zorkinian","CreatedById":3197,"CreatedDateTime":"2012-07-22T08:43:22Z","Content":"\n\u003Cp\u003EHere\\\u0027s the solution that first comes to mind:\u003C/p\u003E\u003Cp\u003E1) Right when you load the craft in, traverse the part hierarchy, and get some sort of unique ID for each part (a hash or something, not sure exactly how that would be implemented)\u003C/p\u003E\u003Cp\u003E2) For each part, find out its current fuel, and save that to a list somewhere, mapped to that unique ID\u003C/p\u003E\u003Cp\u003E3) When you want to refuel the craft, lookup each part in the hierarchy, and use your map to determine its original max fuel.\u003C/p\u003E\u003Cp\u003EThere are some edge cases, but maybe this general idea would work?\u003C/p\u003E\n"},{"CreatedByName":"kulesz","CreatedById":24873,"CreatedDateTime":"2012-07-22T08:48:17Z","Content":"\n\u003Cp\u003EYep, I thought about such solution and it seems quite good for me - although it may be a little bit complicated. I just wanted to check if there\\\u0027s some simpler, \u0027generic\u0027 way to do so (just like FuelTank.RequestFuel(), but in other direction :-))\u003C/p\u003E\n"},{"CreatedByName":"Sherlock21st","CreatedById":42362,"CreatedDateTime":"2012-09-14T05:52:43Z","Content":"\n\u003Cp\u003EI\u0027m no KSP modder, but I bet there\u0027s a variable out there indicating the max fuel for any fuel tank.\u003C/p\u003E\n"},{"CreatedByName":"CAPFlyer","CreatedById":8575,"CreatedDateTime":"2012-09-14T19:00:42Z","Content":"\n\u003Cp\u003EHave you taken a look at the Fuel Transfer Mod code and see how he did it?\u003C/p\u003E\n"}]}