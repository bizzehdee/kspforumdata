{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":197,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-16T16:59:03Z","Content":"\u003E \n\u003E \n\u003E 14 hours ago, KerbalMan23 said:\n\u003E \n\u003E \n\u003E ksp 1.2 pre-release? Not trying to rush.\n\u003E \n\nI\u0027ll try to finish up a few things before ensuring compatibility with 1.2, I\u0027ll probably support it once the official 1.2 release hits."},{"CreatedByName":"*MajorTom*","CreatedById":144002,"CreatedDateTime":"2016-09-17T16:44:54Z","Content":"issue with latest \u0022scatterer beta\u0022 in 1.1.3 (prev.page link)\n\n![772fdad9d4b1.png](http://s019.radikal.ru/i639/1609/b2/772fdad9d4b1.png)  \n\n![56e945118cc7.png](http://s41.radikal.ru/i094/1609/3e/56e945118cc7.png)  \n\nKSP atlantis ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nissue after some vessel switch, time warp, days and nights, map to vessels\n\n**Edited \u003Ctime datetime=\u00222016-09-17T16:50:09Z\u0022 title=\u002209/17/2016 04:50  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 17, 2016\u003C/time\u003E by \\*MajorTom\\***"},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-09-17T22:09:36Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, \\*MajorTom\\* said:\n\u003E \n\u003E \n\u003E issue with latest \u0022scatterer beta\u0022 in 1.1.3 (prev.page link)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![772fdad9d4b1.png](http://s019.radikal.ru/i639/1609/b2/772fdad9d4b1.png)](http://s019.radikal.ru/i639/1609/b2/772fdad9d4b1.png \u0022Enlarge image\u0022)  \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![56e945118cc7.png](http://s41.radikal.ru/i094/1609/3e/56e945118cc7.png)](http://s41.radikal.ru/i094/1609/3e/56e945118cc7.png \u0022Enlarge image\u0022)  \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E KSP atlantis ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\u003E \n\u003E \n\u003E issue after some vessel switch, time warp, days and nights, map to vessels\n\u003E \n\nI actually like that! Imagine a submerged \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E. You could launch submarines!"},{"CreatedByName":"Jatwaa","CreatedById":59627,"CreatedDateTime":"2016-09-19T01:08:35Z","Content":"Then I looked upon Kerbin and saw Jeb was also sad. \u0022Why do you frown little one?\u0022 He said to me \u0022The world. It does not shade. The seas to not glimmer. Kerbol does not reach it\u0027s godrays and glint in our eyes.\u0022 I stared to the flat horizon and knew it to be true. \u0022Be patient little one\u0022 I spoke calmly. \u0022The godrays will again reach forth, the seas will gleam in the distance and once again the mountains will cast their shadows upon us all. Scatterer shall once again grace our dear Kerbin.\u0022 Then we stared through the empty sky...  \n\nThat was all dramatic...but OMG the world is mega glum without Scatterer and I have been reading too much Lovecraft"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-09-19T03:44:56Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Jatwaa said:\n\u003E \n\u003E \n\u003E Then I looked upon Kerbin and saw Jeb was also sad. \u0022Why do you frown little one?\u0022 He said to me \u0022The world. It does not shade. The seas to not glimmer. Kerbol does not reach it\u0027s godrays and glint in our eyes.\u0022 I stared to the flat horizon and knew it to be true. \u0022Be patient little one\u0022 I spoke calmly. \u0022The godrays will again reach forth, the seas will gleam in the distance and once again the mountains will cast their shadows upon us all. Scatterer shall once again grace our dear Kerbin.\u0022 Then we stared through the empty sky...  \n\u003E   \n\u003E \n\u003E That was all dramatic...but OMG the world is mega glum without Scatterer and I have been reading too much Lovecraft\n\u003E \n\nThat was fantastic. I pictured a Christopher Robin type character with their arm around Jeb while saying all of this. Much like:\n\n![YEMyBu7.jpg](http://i.imgur.com/YEMyBu7.jpg)\n\nSorry If this violates rule 2.3.\n\nIt\u0027s from the heart though. \n\n**Edited \u003Ctime datetime=\u00222016-09-19T03:53:31Z\u0022 title=\u002209/19/2016 03:53  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 19, 2016\u003C/time\u003E by Galileo**"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2016-09-19T06:32:12Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Jatwaa said:\n\u003E \n\u003E \n\u003E Then I looked upon Kerbin and saw Jeb was also sad. \u0022Why do you frown little one?\u0022 He said to me \u0022The world. It does not shade. The seas to not glimmer. Kerbol does not reach it\u0027s godrays and glint in our eyes.\u0022 I stared to the flat horizon and knew it to be true. \u0022Be patient little one\u0022 I spoke calmly. \u0022The godrays will again reach forth, the seas will gleam in the distance and once again the mountains will cast their shadows upon us all. Scatterer shall once again grace our dear Kerbin.\u0022 Then we stared through the empty sky...  \n\u003E   \n\u003E \n\u003E That was all dramatic...but OMG the world is mega glum without Scatterer and I have been reading too much Lovecraft\n\u003E \n\nChrist we gotta start a secret forum poetry society man... this is too deep for the everyday user... the sort of stuff I\u0027d use in heartfelt cinematics. Jatwaa you gotta include more of this in ya vids"},{"CreatedByName":"Jatwaa","CreatedById":59627,"CreatedDateTime":"2016-09-21T02:09:41Z","Content":"I may have to...think I did one blue dot type thing but haven\u0027t in a while. But that was my patient plea for Scatterer, never realize how much you need something till a new patch hit LOL. Cannot wait till it\u0027s all steady so I can get the back to my fav mods. \n\n**Edited \u003Ctime datetime=\u00222016-09-21T02:10:16Z\u0022 title=\u002209/21/2016 02:10  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 21, 2016\u003C/time\u003E by Jatwaa**"},{"CreatedByName":"cobbman11","CreatedById":76711,"CreatedDateTime":"2016-09-22T18:25:37Z","Content":"I\u0027ve been tinkering with dynamic depth of field and my first thought was something like \u0022I really should go stare at some water.\u0022\n\nNot disappointed. Scatterer continues to impress!\n\n![cLxeWH6Rmlp6g.gif](http://i.giphy.com/cLxeWH6Rmlp6g.gif)\u003Ciframe data-controller=\u0022core.front.core.autosizeiframe\u0022 scrolling=\u0022no\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?app=core\u0026module=system\u0026controller=embed\u0026url=https://gfycat.com/BaggyFocusedGermanspitz\u0022 style=\u0022height:150px;\u0022\u003E\u003C/iframe\u003E\n\n**Edited \u003Ctime datetime=\u00222016-09-22T21:32:58Z\u0022 title=\u002209/22/2016 09:32  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 22, 2016\u003C/time\u003E by cobbman11**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T08:54:47Z","Content":"Anyone know anything about asset bundles? It seems that now, shaders can\u0027t be pre-compiled anymore, which might be a huge pain in the \\*\\*\\* for everyone involved from mod-makers to end-users."},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2016-09-24T09:05:56Z","Content":"Does this help any? \n\n\u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/148180-shaders-loading-tutorial/\u0026do=embed\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T11:46:27Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, Poodmund said:\n\u003E \n\u003E \n\u003E Does this help any? \n\u003E \n\u003E \n\u003E \u003Ciframe data-embedcontent=\u0022\u0022 frameborder=\u00220\u0022 src=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/148180-shaders-loading-tutorial/\u0026do=embed\u0022\u003E\u003C/iframe\u003E\n\u003E \n\nHmm, I thought the devs said to use 5.2.4 to build assetbundles anyway and not 5.4 (which this guy is using), maybe that\u0027s my problem.\n\nAnd oh, what I meant was that the shaders now appear to be compiled at load time which might add some delays and other unpredictable issues.\n\nEdited: Ok, it works with 5.4, thanks [@Poodmund](https://forum.kerbalspaceprogram.com/index.php?/profile/128643-poodmund/)\n\n1.2 release soon. If I find the time tomorrow I might attempt a quick 1.2 fix for \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E if no else has. \n\n**Edited \u003Ctime datetime=\u00222016-09-24T14:40:17Z\u0022 title=\u002209/24/2016 02:40  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 24, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T15:21:03Z","Content":"Alright, 1.2 version is uploading.\n\nI tested on windows, opengl, dx9 and dx11 all work, please give feedback on linux/mac.\n\nIncluded are also the ocean spazzing out fix and multiple lens flares support.\n\nThe only feature that seems to have broken is the \u0022disable scaledSpace ambient light\u0022 but I will take care of it. Overall 1.2 seems to be a solid improvement.\n\nEdited:\n\nDownload link: [https://mega.nz/#!SUgRjaDR!wUBVqQLQdmzl-UTmYrio4EsRGgwd3xffp9mkXIlhdCY](https://mega.nz/#!SUgRjaDR!wUBVqQLQdmzl-UTmYrio4EsRGgwd3xffp9mkXIlhdCY)\n\nSpacedock doesn\u0027t seem to have a version number for 1.2 so mega only for now.\n\nFor adding lens flares, go inside \u0022Sunflare\u0022 folder and copy-paste the \u0022Sun\u0022 folder as many times as you want, change the folder name to that of the celestial body you want to have a flare. Every flare has it\u0027s own textures and settings. Enjoy.\n\n**Edited \u003Ctime datetime=\u00222016-09-24T15:27:20Z\u0022 title=\u002209/24/2016 03:27  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 24, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-09-24T16:01:48Z","Content":"None of the effects appear on my (openGL and Mac) computer: ![93p6OJQ.png](http://i.imgur.com/93p6OJQ.png)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T16:07:58Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, cy4n said:\n\u003E \n\u003E \n\u003E None of the effects appear on my (openGL and Mac) computer: [![93p6OJQ.png](http://91.68.209.8/bmi/i.imgur.com/93p6OJQ.png)](http://91.68.209.8/bmi/i.imgur.com/93p6OJQ.png \u0022Enlarge image\u0022)\n\u003E \n\nWhat do you have on the debug pane? (Alt\u002Bf12 i think).\n\nMight be broken on mac for now."},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-09-24T16:12:48Z","Content":"I just get a bunch of pink stuff:\n\n ![c2GTKS5.png](http://i.imgur.com/c2GTKS5.png)\n\n**Edited \u003Ctime datetime=\u00222016-09-24T16:18:00Z\u0022 title=\u002209/24/2016 04:18  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 24, 2016\u003C/time\u003E by Osmium**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-09-24T16:17:29Z","Content":"\u003E \n\u003E \n\u003E 58 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E For adding lens flares, go inside \u0022Sunflare\u0022 folder and copy-paste the \u0022Sun\u0022 folder as many times as you want, change the folder name to that of the celestial body you want to have a flare. Every flare has it\u0027s own textures and settings. Enjoy.\n\u003E \n\nHow did i miss this? This is amazing. Will this allow me to use Kopernicus bodies as well and if so, Is it possible to rename the sun now with this change?\n\n**Edited \u003Ctime datetime=\u00222016-09-24T16:19:44Z\u0022 title=\u002209/24/2016 04:19  PM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 24, 2016\u003C/time\u003E by Galileo**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T16:20:50Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, cy4n said:\n\u003E \n\u003E \n\u003E I just get a bunch of pink stuff:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  [![c2GTKS5.png](http://91.68.209.8/bmi/i.imgur.com/c2GTKS5.png)](http://91.68.209.8/bmi/i.imgur.com/c2GTKS5.png \u0022Enlarge image\u0022)\n\u003E \n\nOk, I might have to do separate asset bundles for each platform. We\u0027ll see.\n\n\u003E \n\u003E \n\u003E 1 minute ago, Galileo said:\n\u003E \n\u003E \n\u003E How did i miss this? This is amazing. Will this allow me to use Kopernicus bodies as well? Is it possible to rename the sun with this change?\n\u003E \n\nYou can\u0027t rename the Sun yet but I will do it soon. Other kopernicus bodies should work."},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-09-24T16:23:47Z","Content":"I believe [@Waz](https://forum.kerbalspaceprogram.com/index.php?/profile/76393-waz/) had to separate the asset bundles for each platform with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E when he recompiled it.  Maybe he can shed more light as I have no idea what I\u0027m talking about"},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2016-09-24T17:47:47Z","Content":"\u003E \n\u003E \n\u003E On \u200E9\u200E/\u200E20\u200E/\u200E2016 at 7:09 PM, Jatwaa said:\n\u003E \n\u003E \n\u003E I may have to...think I did one blue dot type thing but haven\u0027t in a while. But that was my patient plea for Scatterer, never realize how much you need something till a new patch hit LOL. Cannot wait till it\u0027s all steady so I can get the back to my fav mods.\n\u003E \n\nHmm... You mentioned doing a \u0022pale blue dot\u0022 esque video... I have a project I\u0027ve been working on in the background for the last year you might like to read about. It\u0027s technically been worked on since 2013 though filming hasn\u0027t yet started."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-24T19:39:06Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Galileo said:\n\u003E \n\u003E \n\u003E I believe [@Waz](https://forum.kerbalspaceprogram.com/index.php?/profile/76393-waz/) had to separate the asset bundles for each platform with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E when he recompiled it.  Maybe he can shed more light as I have no idea what I\u0027m talking about\n\u003E \n\nAh, so someone already recompiled \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, great!"},{"CreatedByName":"Waz","CreatedById":76393,"CreatedDateTime":"2016-09-25T00:08:28Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, Galileo said:\n\u003E \n\u003E \n\u003E I believe [@Waz](https://forum.kerbalspaceprogram.com/index.php?/profile/76393-waz/) had to separate the asset bundles for each platform with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E when he recompiled it.  Maybe he can shed more light as I have no idea what I\u0027m talking about\n\u003E \n\nCompiled shaders are different on different platforms in order to support more hardware (eg. Metal on OSX). A change in Unity also obsoleted the ability to construct shaders from text at runtime. The combination means the simple solution is to build an asset bundle for each platform\u0027s shaders, like this: [https://github.com/WazWaz/EnvironmentalVisualEnhancements/blob/master/ShaderLoader/Shaders/Assets/Editor/BuildABs.cs](https://github.com/WazWaz/EnvironmentalVisualEnhancements/blob/master/ShaderLoader/Shaders/Assets/Editor/BuildABs.cs)\n\nThen load the appropriate one at runtime.\n\n**Edited \u003Ctime datetime=\u00222016-09-25T00:09:01Z\u0022 title=\u002209/25/2016 12:09  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 25, 2016\u003C/time\u003E by Waz**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-25T01:20:08Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Waz said:\n\u003E \n\u003E \n\u003E Compiled shaders are different on different platforms in order to support more hardware (eg. Metal on OSX). A change in Unity also obsoleted the ability to construct shaders from text at runtime. The combination means the simple solution is to build an asset bundle for each platform\u0027s shaders, like this: [https://github.com/WazWaz/EnvironmentalVisualEnhancements/blob/master/ShaderLoader/Shaders/Assets/Editor/BuildABs.cs](https://github.com/WazWaz/EnvironmentalVisualEnhancements/blob/master/ShaderLoader/Shaders/Assets/Editor/BuildABs.cs)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Then load the appropriate one at runtime.\n\u003E \n\nThe weird thing is, shaders in assetbundles are not even compiled, I believe the specific variant for the platform is compiled at runtime, so it seems really weird to me that we\u0027d need to make separate bundles for each platform.\n\nAnyway, thanks.\n\nEdited:\n\n[@cy4n](https://forum.kerbalspaceprogram.com/index.php?/profile/160682-cy4n/) try this: [https://mega.nz/#!zMRXXAST!AupUlitizBvwBcFDhAfBryF0GSCTsVJMecE66hzfhs8](https://mega.nz/#!zMRXXAST!AupUlitizBvwBcFDhAfBryF0GSCTsVJMecE66hzfhs8)\n\n**Edited \u003Ctime datetime=\u00222016-09-25T01:48:24Z\u0022 title=\u002209/25/2016 01:48  AM\u0022 data-short=\u00227 yr\u0022\u003ESeptember 25, 2016\u003C/time\u003E by blackrack**"},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-09-25T07:55:55Z","Content":"Nope, still not working. The oceans turn invisible?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-09-25T09:41:53Z","Content":"[@cy4n](https://forum.kerbalspaceprogram.com/index.php?/profile/160682-cy4n/) Could you post a log file?\n\n[@Waz](https://forum.kerbalspaceprogram.com/index.php?/profile/76393-waz/) Do you change anything here? This looks like it should be good but doesn\u0027t work on Mac.\n\n![IhayfhT.png](http://i.imgur.com/IhayfhT.png)"},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-09-25T10:00:43Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) Here you go: [http://pastebin.com/1RwUvCyg](http://pastebin.com/1RwUvCyg)"}]}