{"TopicId":81915,"ForumId":36,"TopicTitle":"Extended Trim","CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-16T22:15:24Z","PageNum":1,"Articles":[{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-16T22:15:24Z","Content":"\n\u003Cp\u003EHello fellow kerbals \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003EFor some time I have wished that we had a couple of additional options in our trim controls, below is my early attempt to add this on to the game.\u003C/p\u003E\u003Cp\u003EAfter losing several aircraft to hamfisted pilots, Kerbal engineers decided that enough was enough. And so ExtendedTrim was born.\u003C/p\u003E\u003Cp\u003EMade out of WD40 and duct tape this mod adds the following:\u003C/p\u003E\u003Cp\u003Enew key binding: Press Left Alt\u002BZ to trim the aircraft to the same input, and enjoy level flight. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003Eright-click and action groups now available to clear/reset your trim per axis or set the trim like ALT\u002BZ key Binding\u003C/p\u003E\u003Cp\u003Eyou can now save your preferred trim settings: this means that independent of any other trim values you change during flight, you can save the values you want to recall later. These actions are accessible via action groups.\u003C/p\u003E\u003Cp\u003Enothing more to it.\u003C/p\u003E\u003Cp\u003EDependencies: modulemanager\u003C/p\u003E\u003Cp\u003ESome images:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://mediacru.sh/FHlCNkaMJhlE.jpg\u0022 alt=\u0022FHlCNkaMJhlE.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://mediacru.sh/MjZ7XhTcHdea.jpg\u0022 alt=\u0022MjZ7XhTcHdea.jpg\u0022\u003E\u003C/p\u003E\u003Cp\u003EThis is an early release, some issues may occur, please let me know of any.\u003C/p\u003E\u003Cp\u003ELicense: \u003Ca href=\u0022http://www.gnu.org/copyleft/gpl.html\u0022 rel=\u0022external nofollow\u0022\u003EGPLv3\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EDownload Latest version from KerbalStuff: \u003Ca href=\u0022http://beta.kerbalstuff.com/mod/113/Extended_Trim\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EThanks to :\u003C/p\u003E\u003Cp\u003Edazoe for the inspiration to do it: \u003Ca href=\u0022https://github.com/dazoe/KSP-TrimIndicators\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/dazoe/KSP-TrimIndicators\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Etaraniselsu for the awesome examples: \u003Ca href=\u0022https://github.com/taraniselsu/TacExamples\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacExamples\u003C/a\u003E\u003C/p\u003E\u003Cp\u003Ediazo for the help in the development forums\u003C/p\u003E\u003Cp\u003EChange Log:\u003C/p\u003E\u003Cp\u003E0.3:\u003C/p\u003E\u003Cp\u003E- 3 new Action Group actions added:\u003C/p\u003E\u003Cp\u003E - Save Trim; saves trim to the persistence file as an independent set of values\u003C/p\u003E\u003Cp\u003E - Restore Trim: restored saved trim values\u003C/p\u003E\u003Cp\u003E - Set Trim to input: same behavior as ALT\u002BZ\u003C/p\u003E\u003Cp\u003E- 1 new part event: set trim, will set trim much like ALT\u002BZ\u003C/p\u003E\u003Cp\u003E- extended trim control can only be used when the ship is controllable\u003C/p\u003E\u003Cp\u003E- small improvements to the Auto Trim logic\u003C/p\u003E\u003Cp\u003E- code clean up\u003C/p\u003E\u003Cp\u003E0.2:\u003C/p\u003E\u003Cp\u003E- ALT\u002BZ now sets the trim to the current input with or without SAS on\u003C/p\u003E\u003Cp\u003E- \u0022Set trim\u0022 now Action Group and Right Click Events\u003C/p\u003E\u003Cp\u003E0.1.:\u003C/p\u003E\u003Cp\u003E- Alpha Release\u003C/p\u003E\u003Cp\u003EREADME:\u003C/p\u003E\u003Cp\u003EQuick instructions:\u003C/p\u003E\u003Cp\u003Eduring flight:\u003C/p\u003E\u003Cp\u003E- press ALT\u002BZ or activate the set trim action group to save the current trim settings to the actual trim of the aircraft\u003C/p\u003E\u003Cp\u003E- turn SAS on, and then press ALT\u002BZ or active the set trim through action group or right click event to turn on AUTO TRIM; this will dynamically adjust the trim settings to the SAS input, this allows you to turn off SAS, and the aircraft should hold the last SAS input enabling a smooth transition into manual flight\u003C/p\u003E\u003Cp\u003E- after adjusting/setting trim to a favorite value, activate the \u0022save trim\u0022 action group to save the values (these values will be stored regardless if you change the trim afterwards)\u003C/p\u003E\u003Cp\u003E- activate the action group \u0022Restore Trim\u0022 to reset the trim to the saved values from the step above\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-20T22:49:05Z\u0022 title=\u002208/20/2014 10:49  PM\u0022 data-short=\u00229 yr\u0022\u003EAugust 20, 2014\u003C/time\u003E by MasseFlieger\u003C/strong\u003E\n\u003Cbr\u003Emod update\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-08-16T22:30:48Z","Content":"\n\u003Cp\u003ENow this, this is \u003Cem\u003Euseful\u003C/em\u003E. Nice!\u003C/p\u003E\u003Cp\u003EUm. Does \u0022autotrim\u0022 work for remembering current inputs regardless of SAS? I.e. I get my plane trimmed out with stick and rudders, and hit autotrim, and it will remember *those* inputs, regardless of SAS on/off?\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-16T22:43:56Z","Content":"\n\u003Cp\u003EHey NathanKell, \u003C/p\u003E\u003Cp\u003EThe autotrim is only to set the trim to same input as the SAS module had it, other than that trim works as previously. In this version it will set the trim to the SAS input values the instant you press Alt\u002BZ. \u003C/p\u003E\u003Cp\u003ENext version Im planning on having persistent trim, where once you save the trim, it will be saved into the persistence file.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-08-16T22:56:30Z","Content":"\n\u003Cp\u003EAh, I see. Is it possible you could just grab the actual controlstate when Alt\u002BZ is pressed? That way it will set the trim to \u0022just like this\u0022 no matter \u003Cem\u003Ewhat\u003C/em\u003E caused \u0022this\u0022--SAS or regular inputs.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-08-16T23:10:35Z","Content":"\n\u003Cp\u003EGood idea; thanks.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-17T03:16:49Z","Content":"\n\u003Cp\u003EAlright, I tested a bit, and changed the auto trim to set based on input regardless of where the input is coming from.\u003C/p\u003E\u003Cp\u003EAlso added right click and action group options to set the trim in the same way. \u003C/p\u003E\u003Cp\u003EHave a go and let me know what you think!\u003C/p\u003E\u003Cp\u003EI\u0027m still working on saving the trim settings into the craft / persistence file.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-08-17T05:18:34Z","Content":"\n\u003Cp\u003EAwesome! Thanks!\u003C/p\u003E\u003Cp\u003EAs this is a part module, you can just store the trim in KSPFields marked persistent and then set the trim to that OnStart.\u003C/p\u003E\u003Cp\u003EEdit: Ah, it\u0027s both. Well, you could save trim to static members of your KSPAddon, and query them for your module\u0027s OnSave, and apply them in OnLoad.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-08-17T05:24:35Z\u0022 title=\u002208/17/2014 05:24  AM\u0022 data-short=\u00229 yr\u0022\u003EAugust 17, 2014\u003C/time\u003E by NathanKell\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"falken","CreatedById":17316,"CreatedDateTime":"2014-08-17T10:41:07Z","Content":"\n\u003Cp\u003EGood lord, this could be very useful!\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-17T16:56:33Z","Content":"\n\u003Cp\u003EThanks for the tips, I am going to see if I can get the first crack at saving the trim today.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-08-20T22:42:06Z","Content":"\n\u003Cp\u003EAlright folks! 0.3 is out, this time with persistent trim settings!\u003C/p\u003E\u003Cp\u003EWhat does this mean? It means 2 things:\u003C/p\u003E\u003Cp\u003E1. you can set your favorite trim, and save it, then...\u003C/p\u003E\u003Cp\u003E2. you can change the trim settings as much as you want, set auto trim, etc... and still revert back to the favorite/saved values at any point, even after leaving the flight and coming back to it as it will persist in the game save.\u003C/p\u003E\u003Cp\u003EPlease test it out and let me know how it goes, I am planning on putting it on the mod showcase tomorrow or so unless there is some showstopper bug \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Umbra","CreatedById":57964,"CreatedDateTime":"2014-09-28T23:30:37Z","Content":"\n\u003Cp\u003EIs it possible to set the trim of an aircraft in the editor so that it gets automatically applied when you load the craft on the runway? I am sorry if I did miss something in the description, English is not my first language. Otherwise, this mod is very nice.\u003C/p\u003E\u003Cp\u003Ethanks, Umbra\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-10-01T03:51:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Umbra\u0022 data-cite=\u0022Umbra\u0022\u003E\u003Cdiv\u003EIs it possible to set the trim of an aircraft in the editor so that it gets automatically applied when you load the craft on the runway? I am sorry if I did miss something in the description, English is not my first language. Otherwise, this mod is very nice.\u003Cp\u003Ethanks, Umbra\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi Umbra,\u003C/p\u003E\u003Cp\u003EAt the moment you can only save trim settings once in-flight, which will then persist. That is an excellent idea however, I will check on getting that done.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-01T03:55:15Z","Content":"\n\u003Cp\u003EWhile we\u0027re suggesting suggestions, I have another suggestion! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EAdd \u0022fine trim\u0022 keys, so you can vary trim in lower steps. With decent control at low Q, it\u0027s very hard to trim out at high Q\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-10-01T03:58:39Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EWhile we\u0027re suggesting suggestions, I have another suggestion! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EAdd \u0022fine trim\u0022 keys, so you can vary trim in lower steps. With decent control at low Q, it\u0027s very hard to trim out at high Q\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHi NathanKell,\u003C/p\u003E\u003Cp\u003EIf I understood you, you want to be able to trim the control surface at a smaller angle at a time? hmm, perhaps I can try and detect when fine controls are turned on, and override the original key bindings. \u003C/p\u003E\u003Cp\u003EIll check on this, and report back.\u003C/p\u003E\u003Cp\u003EThanks for the suggestions, keep them coming!\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-10-01T05:56:43Z","Content":"\n\u003Cp\u003EDetecting fine controls is easy. Overriding the binding is less likely, not sure you can consume the key before KSP notices it. However, what you can do is check when a trim key is pressed, and then yourself subtract a portion of the trim that was (or is about to be) added. It won\u0027t work perfectly in edge cases, but it should work decently well.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-10-09T23:05:11Z","Content":"\n\u003Cp\u003EHas this been tested to perform normally on 25? I\u0027m getting some weird flight behaviour, and Ferram swears it ain\u0027t him...\u003C/p\u003E\n"},{"CreatedByName":"tal2410","CreatedById":90189,"CreatedDateTime":"2014-10-10T07:42:49Z","Content":"\n\u003Cp\u003EHi, can I make a small request on behalf of us crazy non-qwerty foreigners? On my keyboard for instance, Z is where a W is on qwerty, so alt-z is already bound to trim pitch down. \u003C/p\u003E\u003Cp\u003ECan you make the key binding modifiable, or let us disable it and use a custom action group?\u003C/p\u003E\u003Cp\u003EOr, bind it to alt\u002B[max throttle] so it stays consistent.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-10-19T09:18:02Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Wanderfound\u0022 data-cite=\u0022Wanderfound\u0022\u003E\u003Cdiv\u003EHas this been tested to perform normally on 25? I\u0027m getting some weird flight behaviour, and Ferram swears it ain\u0027t him...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have been playing it in .25 but I have been mostly in mod testing mode, so haven\u0027t done more testing than functional. I will dive a little deeper, and see if there is something weird going on.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022tal2410\u0022 data-cite=\u0022tal2410\u0022\u003E\u003Cdiv\u003EHi, can I make a small request on behalf of us crazy non-qwerty foreigners? On my keyboard for instance, Z is where a W is on qwerty, so alt-z is already bound to trim pitch down. \u003Cp\u003ECan you make the key binding modifiable, or let us disable it and use a custom action group?\u003C/p\u003E\u003Cp\u003EOr, bind it to alt\u002B[max throttle] so it stays consistent.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EApologies for the late reply - I will check in making all keys configurable/toggable.\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2014-10-23T21:10:54Z","Content":"\n\u003Cp\u003E@Wanderfound: Hey there, tested a little more in 0.25 and couldnt find any unusual. Please send me or reply here with some details on what you are experiencing, and I can have a look further. I also tested with the latest FAR.\u003C/p\u003E\n"},{"CreatedByName":"Wanderfound","CreatedById":112611,"CreatedDateTime":"2014-10-23T21:14:21Z","Content":"\n\u003Cp\u003EMasseFlieger: thanks. It actually was Ferram; it took a week or two post-25 to get the bugs out of FAR.\u003C/p\u003E\n"},{"CreatedByName":"aikixd","CreatedById":116054,"CreatedDateTime":"2014-12-07T00:09:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EIf I understood you, you want to be able to trim the control surface at a smaller angle at a time? hmm, perhaps I can try and detect when fine controls are turned on, and override the original key bindings. \u003C/span\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA small window with two sets of \u002B/- buttons and a text field displaying current value for each control would do great. The buttons could (in|de)crement the value by 1% or .1%. Like so:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E//\\\\ = \u002B 1%\u003Cbr\u003E /\\  = \u002B .1%\u003Cbr\u003E15.2 \u003Cbr\u003E \\/  = - .1%\u003Cbr\u003E\\\\// = - 1%\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThere is no need to make more dramatic increments cause stock trimming does that great.\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2014-12-09T04:00:23Z","Content":"\n\u003Cp\u003E0.25 x86, if I load the game, go to the SPH and select a command part I get this spammed to my debug log:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AeroKerbinIndustries.ExtendedTrimModule.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHappens in the flight scene as well\u003C/p\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2015-01-03T08:14:13Z","Content":"\n\u003Cp\u003EWill this be updated to 0.90\u003C/p\u003E\n"},{"CreatedByName":"MasseFlieger","CreatedById":74250,"CreatedDateTime":"2015-02-17T06:52:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaiiden\u0022 data-cite=\u0022Gaiiden\u0022\u003E\u003Cdiv\u003E0.25 x86, if I load the game, go to the SPH and select a command part I get this spammed to my debug log:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at AeroKerbinIndustries.ExtendedTrimModule.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHappens in the flight scene as well\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EApologies - I have not been around for the last couple of months - I will have a look into this as soon as I compile this for 0.90\u003C/p\u003E\n"},{"CreatedByName":"Drew Kerman","CreatedById":103177,"CreatedDateTime":"2015-02-17T08:55:31Z","Content":"\n\u003Cp\u003Eoh hey. No problem I actually haven\u0027t even noticed it at all recently and it\u0027s just been installed this whole time, still works for .90 but yea a version-specific compile is always nice\u003C/p\u003E\n"}]}