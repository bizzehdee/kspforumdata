{"TopicId":31137,"ForumId":36,"TopicTitle":"Modding Documentation","CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T17:45:43Z","PageNum":1,"Articles":[{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T17:45:43Z","Content":"\n\u003Cp\u003EI\u0027ve been trying on and off for the past week or so to do some basic modding in KSP, and I\u0027m really getting no where. All I\u0027m trying to do is make some custom parts for a big moon base set. I\u0027m experienced with modeling and texturing so that part isn\u0027t a problem. The problem I\u0027m having is getting my models in and the fact that I can\u0027t find any clear, up to date documentation or tutorials. Everywhere I look there\u0027s conflicting information. For example, some tuts claim all you need to do it export straight out of Blender, while others say you have to go through Unity. There\u0027s also the issue of CFG documentation, which I\u0027m sure varies pretty greatly between the last 5 or 6 builds of the game, so its tough to find something I can know will work with the current build.\u003C/p\u003E\u003Cp\u003ECan someone link me to a resource which is reliably up to date and clear about the process of getting models into KSP?\u003C/p\u003E\n"},{"CreatedByName":"Snjo","CreatedById":57198,"CreatedDateTime":"2013-06-03T19:33:47Z","Content":"\n\u003Cp\u003EI reckon a lot of this info was lost during the forum Kraken event. I know I had written some stuff that I wish I had backed up regarding cockpits and landing gear creation.\u003C/p\u003E\u003Cp\u003EI\u0027m sure whatever documentation is out there, if it ins\u0027t new, is out of date, and should be redone. I might volunteer to do some of it if needed.\u003C/p\u003E\u003Cp\u003EIn the mean time though, my workflow is like this.\u003C/p\u003E\u003Cp\u003ECreate a new Unity 4 project to get the folders set up.\u003C/p\u003E\u003Cp\u003ECreate the mesh in blender, with the file saved to the projects Assets folder.\u003C/p\u003E\u003Cp\u003EIn unity, create an empty game object, and drag the mesh from the assets pane to this empty object.\u003C/p\u003E\u003Cp\u003EMake sure the coordinates of the empty and the mesh inside it is 0,0,0.\u003C/p\u003E\u003Cp\u003EName the empty something like exporter, since this is just a holder object for the exporter tool and the mesh it will export.\u003C/p\u003E\u003Cp\u003EThe mesh should be pointing up like on a rocket, even if it is for a plane.\u003C/p\u003E\u003Cp\u003EClick the mesh inside the exporter, and add a convex mesh collider, or other fitting collider to it.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/24790-Part-Tools-0-18\u0022 rel=\u0022external nofollow\u0022\u003EDownload the Part Tools\u003C/a\u003E, and drag them into the projects assets pane.\u003C/p\u003E\u003Cp\u003EOn the \u0022exporter\u0022 empty, click add component, and choose KSP/Part Tools.\u003C/p\u003E\u003Cp\u003EFill in a part name and folder name if you like to have order in your mess.\u003C/p\u003E\u003Cp\u003EUnless you are using a png file as a texture, you need to choose Convert texture, and one of the file formats. (mbm is a custom semi-protected format).\u003C/p\u003E\u003Cp\u003EClick the exporter empty, click the \u0022Write\u0022 button in the part tools.\u003C/p\u003E\u003Cp\u003EThe exported files will be in the Parts folder in the unity project folder. Copy it to a new folder for your mod in KSP, like for other mods (in GameData).\u003C/p\u003E\u003Cp\u003ECreate a part.cfg in the manner of any other part.\u003C/p\u003E\u003Cp\u003ELet us know where you break down in tears, and we can help.\u003C/p\u003E\u003Cp\u003Eedit: \u003Ca href=\u0022https://docs.google.com/document/d/1s3q_4MJN7pFYM0ASjhh7kosiZMqLBpMVMuTJ6bNRITg/edit?usp=sharing\u0022 rel=\u0022external nofollow\u0022\u003Estarting a shared document here\u003C/a\u003E that anyone can edit.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-03T19:41:03Z\u0022 title=\u002206/03/2013 07:41  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 3, 2013\u003C/time\u003E by Snjo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T20:12:26Z","Content":"\n\u003Cp\u003EAlright, that pretty much describes the last method I tried. The problem I\u0027m running into on that one is that when I click \u0022Write\u0022 in the part tools menu, it gives me an error saying it can\u0027t find the directory (one which is definitely there).\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EDirectoryNotFoundException: Could not find a part of the path \u0022C:\\Users\\Administrator\\Documents\\New Unity Project\\GameData\\Eedobaba\\Parts\\geodome\\model.mu\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s where the process is breaking down now. Also, even if I can get the model working, I need some sort of documentation for CFG writing. \u003Ca href=\u0022http://wiki.kerbalspaceprogram.com/wiki/CFG_File_Documentation\u0022 rel=\u0022external nofollow\u0022\u003EThis\u003C/a\u003E is the best I could find, and it looks like it could be as many as 3 or 4 builds out of date. Do you think it\u0027s still trustworthy for working with .20?\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T20:24:35Z","Content":"\n\u003Cp\u003Edouble post\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-03T20:53:45Z\u0022 title=\u002206/03/2013 08:53  PM\u0022 data-short=\u002211 yr\u0022\u003EJune 3, 2013\u003C/time\u003E by eedobaba\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Bluegobln","CreatedById":59640,"CreatedDateTime":"2013-06-03T20:52:46Z","Content":"\n\u003Cp\u003EI made a crappy video that may or may not be helpful. Feel free to scan through it to see what steps I take for getting a part from 3d model to in game animated and textured part. The video shows the entire process start to finish for the part.\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/31251-The-Icarus-Project?p=411792\u0026amp;viewfull=1#post411792\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/showthread.php/31251-The-Icarus-Project?p=411792\u0026amp;viewfull=1#post411792\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI don\u0027t show anything about setting up your modeling program or Unity, but that\u0027s thoroughly covered elsewhere. Most people seem to get hung up on the Unity settings, on things like texture unwrapping, and sometimes CFG files.\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T21:44:32Z","Content":"\n\u003Cp\u003EWell, now I\u0027ve managed to get the partools to export a model.mu file, but when I try to open KSP and look at it, the object appears invisible. There\u0027s just nothing there.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-06-03T21:46:23Z","Content":"\n\u003Cp\u003EDid you import the texture to Unity and apply it there? It should have exported both the model.mu and model000.png or model000.mbm (depending on your settings) as well, I think\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T21:49:04Z","Content":"\n\u003Cp\u003EHm, no. It\u0027s not exporting any images. Just an mu file. And yes, I have brought the textures into Unity and they display on the model fine there.\u003C/p\u003E\n"},{"CreatedByName":"Talisar","CreatedById":62035,"CreatedDateTime":"2013-06-03T21:52:35Z","Content":"\n\u003Cp\u003EOn the dialog where you click on \u0022Write\u0022 to export the model.mu file, just above that there is a check box that says \u0022Convert Texture\u0022... make sure that is checked\u003C/p\u003E\n"},{"CreatedByName":"Alskari","CreatedById":57638,"CreatedDateTime":"2013-06-03T21:54:05Z","Content":"\n\u003Cp\u003EIf you\u0027re interested send me a PM with your email and I\u0027ll add you to a SugarSync shared folder. In it myself and a few modders have put together a Unity project with example files.\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T21:55:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Talisar\u0022 data-cite=\u0022Talisar\u0022\u003E\u003Cdiv\u003EOn the dialog where you click on \u0022Write\u0022 to export the model.mu file, just above that there is a check box that says \u0022Convert Texture\u0022... make sure that is checked\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EJust took a look and it was already checked. Tried the export again and it\u0027s still not exporting anything other than the mu.\u003C/p\u003E\n"},{"CreatedByName":"Bluegobln","CreatedById":59640,"CreatedDateTime":"2013-06-03T22:07:35Z","Content":"\n\u003Cp\u003EThe textures export to the directory ABOVE the directory you set. So if you set:\u003C/p\u003E\u003Cp\u003E- Example1\\Example2\\model.mu\u003C/p\u003E\u003Cp\u003EThat\u0027s where the model exports, but the textures will export to:\u003C/p\u003E\u003Cp\u003E- Example1\\\u0026lt;partname\u0026gt;model000.png\u003C/p\u003E\u003Cp\u003EThis is a common problem for people and I don\u0027t know why it does that, but it does.\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-03T22:10:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bluegobln\u0022 data-cite=\u0022Bluegobln\u0022\u003E\u003Cdiv\u003EThe textures export to the directory ABOVE the directory you set. So if you set:\u003Cp\u003E- Example1\\Example2\\model.mu\u003C/p\u003E\u003Cp\u003EThat\u0027s where the model exports, but the textures will export to:\u003C/p\u003E\u003Cp\u003E- Example1\\\u0026lt;partname\u0026gt;model000.png\u003C/p\u003E\u003Cp\u003EThis is a common problem for people and I don\u0027t know why it does that, but it does.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s nothing there either.\u003C/p\u003E\n"},{"CreatedByName":"Bluegobln","CreatedById":59640,"CreatedDateTime":"2013-06-03T23:40:39Z","Content":"\n\u003Cp\u003EYour model is not 1kb in size is it?\u003C/p\u003E\n"},{"CreatedByName":"iamaphazael","CreatedById":49843,"CreatedDateTime":"2013-06-03T23:49:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022eedobaba\u0022 data-cite=\u0022eedobaba\u0022\u003E\u003Cdiv\u003EHm, no. It\u0027s not exporting any images. Just an mu file. And yes, I have brought the textures into Unity and they display on the model fine there.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDid you set the materials to use one of the KSP shaders? When you bring up the material in the inspector pane (the place where you apply the texture to the material), there is a pull-down menu titled \u0022Shader\u0022 (I think), whose default value is \u0022diffuse\u0022. If you open up the drop-down, there should be a subcategory called \u0022KSP\u0022. Choose one of the shaders in there (KSP/diffuse being the simplest)\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-04T00:02:12Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Bluegobln\u0022 data-cite=\u0022Bluegobln\u0022\u003E\u003Cdiv\u003EYour model is not 1kb in size is it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes it is. I thought that was weird but didn\u0027t question it. Does that mean it\u0027s not actually packing anything into the file?\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022iamaphazael\u0022 data-cite=\u0022iamaphazael\u0022\u003E\u003Cdiv\u003EDid you set the materials to use one of the KSP shaders? When you bring up the material in the inspector pane (the place where you apply the texture to the material), there is a pull-down menu titled \u0022Shader\u0022 (I think), whose default value is \u0022diffuse\u0022. If you open up the drop-down, there should be a subcategory called \u0022KSP\u0022. Choose one of the shaders in there (KSP/diffuse being the simplest)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, the model I\u0027m exporting uses the KSP specular shader.\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-06-04T15:15:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022eedobaba\u0022 data-cite=\u0022eedobaba\u0022\u003E\u003Cdiv\u003EDoes that mean it\u0027s not actually packing anything into the file?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EBecause of the way files are stored many operating system round up the summary data for any file to the nearest kilobyte or four so it could be a lot small. Trying bringing up the detailed data to get the exact size of the file. Unless it\u0027s a very simple model to test though it\u0027s likely too small and the exporter is encountering an error - the smallest stock parts are 4kB (the winglet).\u003C/p\u003E\u003Cp\u003EWhat errors and messages and showing up in the unity console when you export?\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-04T19:54:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022EndlessWaves\u0022 data-cite=\u0022EndlessWaves\u0022\u003E\u003Cdiv\u003EBecause of the way files are stored many operating system round up the summary data for any file to the nearest kilobyte or four so it could be a lot small. Trying bringing up the detailed data to get the exact size of the file. Unless it\u0027s a very simple model to test though it\u0027s likely too small and the exporter is encountering an error - the smallest stock parts are 4kB (the winglet).\u003Cp\u003EWhat errors and messages and showing up in the unity console when you export?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWell, looking at the console I get errors about the mesh being non manifold and \u0022convex hull init failed\u0022. Not sure what it means. My mesh is very definitely manifold.\u003C/p\u003E\n"},{"CreatedByName":"Snjo","CreatedById":57198,"CreatedDateTime":"2013-06-04T22:05:54Z","Content":"\n\u003Cp\u003ESome times Unity will confuse itself, thinking that the geometry is invalid. Try deleting the hierarchy and recreating it, adding the parts in again from the assets pane.\u003C/p\u003E\n"},{"CreatedByName":"eedobaba","CreatedById":69170,"CreatedDateTime":"2013-06-04T22:41:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Snjo\u0022 data-cite=\u0022Snjo\u0022\u003E\u003Cdiv\u003ESome times Unity will confuse itself, thinking that the geometry is invalid. Try deleting the hierarchy and recreating it, adding the parts in again from the assets pane.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ETried that a few times. I also tried with both DAE file format and OBJ format. It\u0027s still not outputting anything other than an 87 byte mu file.\u003C/p\u003E\n"},{"CreatedByName":"Snjo","CreatedById":57198,"CreatedDateTime":"2013-06-05T06:41:37Z","Content":"\n\u003Cp\u003E-Make sure all faces have a material assigned.\u003C/p\u003E\u003Cp\u003E-Manually mirroring a mesh can sometimes cause an issue for KSP (By that I mean Scale * -1, not the modifier)\u003C/p\u003E\u003Cp\u003E-Make sure the normal directions are OK.\u003C/p\u003E\u003Cp\u003E-You can\u0027t have too many face on a part without Unity splitting it into separate objects, or KSP refusing to run it. (I mean many thousand faces on one single object can be a problem. Split it up yourself.)\u003C/p\u003E\u003Cp\u003E-If you\u0027ve been animating, and then renaming/deleting obects, delete the animation and start over.\u003C/p\u003E\n"},{"CreatedByName":"Bluegobln","CreatedById":59640,"CreatedDateTime":"2013-06-05T07:35:58Z","Content":"\n\u003Cp\u003EI know what you\u0027re doing - in Unity you need to drag your model file under the PartTools game object in the hierarchy. The entire thing must be a child of the part tools code or it wont export the model OR textures. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EWhat you\u0027re seeing is a ghost file, basically. Rather misleading.\u003C/p\u003E\u003Cp\u003EPeople often don\u0027t realize other less experienced people are doing this because it is the first mistake you make and the first one corrected, so once you\u0027ve done it once you never see it again lol. But I remember not too long ago...\u003C/p\u003E\u003Cp\u003EEdit: Made an image for clarification: this.\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022https://dl.dropbox.com/s/6xjh1u2o91lucub/Woopsie.jpg\u0022 alt=\u0022Woopsie.jpg\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-06-05T07:41:47Z\u0022 title=\u002206/05/2013 07:41  AM\u0022 data-short=\u002211 yr\u0022\u003EJune 5, 2013\u003C/time\u003E by Bluegobln\u003C/strong\u003E\n\u003C/span\u003E\n"}]}