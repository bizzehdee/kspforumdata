{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":327,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-26T21:02:21Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Starwaster said:\n\u003E \n\u003E \n\u003E When the part is loaded in the editor or in flight mode, the controlling module will remove everything that\u0027s not designated as being installed by default.\n\u003E \n\nYep, have tried that as well.  The problem is you need to remove the modules -before- they have their OnLoad() method called, which is not possible (the module is added to the part, and OnLoad() called immediately afterwards).  If you don\u0027t remove the module before it tries to load, any error during loading of the module-to-be-removed cascades through the rest of the part.\n\nE.G. -- You have a ModuleEngines in the part config, but the engine-thrust transform for the engine is not present in the model in the prefab (as the model is configured through a ModelSwitch/etc).  The ModuleEngines will null-ref during loading (from the missing transform), which then causes the rest of the modules in the part to fail/not load.  (and/or similar problems with other modules regarding transforms not present in the prefab part)  (that is *if* they even load in the prefab properly; half of them will null-ref in the prefab on missing transforms, making them entirely unusable in the editor as they were not initialized properly (propellants/etc))\n\nAt least that is how it went down last time I tried that method, back in 1.1 or so.  Perhaps stock code has improved by now to where it would handle the error gracefully, but it certainly didn\u0027t at the time.  I\u0027ve spent so many hours trying to get it working, everything from \u0027proper implementation\u0027 to \u0027terribly ugly hack\u0027, and haven\u0027t found a system that solves all of the problems."},{"CreatedByName":"StickyScissors","CreatedById":144204,"CreatedDateTime":"2018-01-26T23:47:49Z","Content":"Is there a way to color every part of a tank (body/nose/mount) a single color at once? There\u0027s the load/save pattern thing, but that has to be manually created and saved, and it doesnt seem to save on game reload anyways. Im thinking just a small check box that toggles a mode where you click a color and it\u0027s applied to the entire part, not just a specific section"},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-01-27T00:02:11Z","Content":"Select Cryo for tank type and Silver for the texture, then the whole tank will be one color."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-27T00:13:00Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E At least that is how it went down last time I tried that method, back in 1.1 or so.  **Perhaps stock code has improved by now to where it would handle the error gracefully**, but it certainly didn\u0027t at the time.  I\u0027ve spent so many hours trying to get it working, everything from \u0027proper implementation\u0027 to \u0027terribly ugly hack\u0027, and haven\u0027t found a system that solves all of the problems.\n\u003E \n\nMaybe, but I doubt it ![:/](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/ZNGIcon1.png \u0022:/\u0022) \n\nWould one of the terribly ugly hacks have involved leaving the model enabled until after loading and then disable as needed along with removal of modules needing removing?"},{"CreatedByName":"T-10a","CreatedById":176203,"CreatedDateTime":"2018-01-27T00:14:31Z","Content":"\u003E \n\u003E \n\u003E 8 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Should be possible.  That is the entire reason for the module.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Log file?  (nothing I can do without logs but... guess...... I guess there is a problem somewhere?)\n\u003E \n\nA clean reinstall of my game fixed the issue. Strange..."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-27T00:27:50Z","Content":"[@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/) Just curious, is there a reason the stock clampotron (aside from the Sr) isn\u0027t on the list of docking ports that station parts can be fitted with? Was it just a case of the similar sized SSTU ports being compatible and leaving it at that?"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-29T15:01:49Z","Content":"\u003E \n\u003E \n\u003E On 1/26/2018 at 5:27 PM, Starwaster said:\n\u003E \n\u003E \n\u003E Just curious, is there a reason the stock clampotron (aside from the Sr) isn\u0027t on the list of docking ports that station parts can be fitted with?\n\u003E \n\nI\u0027m guessing you are talking about the KSP 1.2\u002B versions of SSTU?  (As that feature has been removed entirely in recent versions)\n\nBasically it was a time constraint (and I hate stock part graphics).  Why spend time adding support for parts/models that I actively dislike?  (also, in my games, the stock parts are often deleted entirely, so there isn\u0027t even an option to use the stock parts/models)."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-29T15:11:14Z","Content":"\u003E \n\u003E \n\u003E 6 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E I\u0027m guessing you are talking about the KSP 1.2\u002B versions of SSTU?  (As that feature has been removed entirely in recent versions)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Basically it was a time constraint (and I hate stock part graphics).  Why spend time adding support for parts/models that I actively dislike?  (also, in my games, the stock parts are often deleted entirely, so there isn\u0027t even an option to use the stock parts/models).\n\u003E \n\nI hadn\u0027t noticed it was absent from the 1.3.\\* versions... probably because when I\u0027m running 1.3 It\u0027s usually for developmental purposes"},{"CreatedByName":"chrisl","CreatedById":114320,"CreatedDateTime":"2018-01-29T19:39:52Z","Content":"Have you ever considered adding a slider or something that would allow a fuel tank to have it\u0027s center of mass adjusted?  I\u0027m working on a Space Shuttle using the Series-E parts and got around to the external tank.  If I used a single tank of the appropriate height and diameter, and set it to have the appropriate amount of LOX/LH2 (or LiquidFuel \u002B Oxidizer), the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E of just the tank is about halfway up the tank.  But on the actual space shuttle external tank, the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E was actually closer to 3/4ths of the way up because the LOX was held in the top third of the tank.  Only way I can recreate that is to actually use two different tanks: one for the LOX and one for the LH2."},{"CreatedByName":"Cheesecake","CreatedById":138400,"CreatedDateTime":"2018-01-29T20:55:45Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, chrisl said:\n\u003E \n\u003E \n\u003E Have you ever considered adding a slider or something that would allow a fuel tank to have it\u0027s center of mass adjusted?  I\u0027m working on a Space Shuttle using the Series-E parts and got around to the external tank.  If I used a single tank of the appropriate height and diameter, and set it to have the appropriate amount of LOX/LH2 (or LiquidFuel \u002B Oxidizer), the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E of just the tank is about halfway up the tank.  But on the actual space shuttle external tank, the \u003Cabbr title=\u0022Center of Mass\u0022\u003ECoM\u003C/abbr\u003E was actually closer to 3/4ths of the way up because the LOX was held in the top third of the tank.  Only way I can recreate that is to actually use two different tanks: one for the LOX and one for the LH2.\n\u003E \n\nI think the center of mass results of the masses of the tank and fuel. Have you ever seen a slider in real rockets? You can use two tanks like in real, one LOX and one LH2 or two LOX/LH2 tanks. That should work."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-30T15:58:04Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, Cheesecake said:\n\u003E \n\u003E \n\u003E I think the center of mass results of the masses of the tank and fuel. Have you ever seen a slider in real rockets? You can use two tanks like in real, one LOX and one LH2 or two LOX/LH2 tanks. That should work.\n\u003E \n\nHis point is that he\u0027s trying to **avoid** using multiple parts.... ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022)"},{"CreatedByName":"OverlordMorgoth","CreatedById":183425,"CreatedDateTime":"2018-01-30T21:45:22Z","Content":"I have been using for a while now but have been looking into the logs for some other issues and noticed something: There seems to be a lot of \u0027Textures Not Found\u0027 with this mod, nothing critical and only adds a second or so to the loading process, but have the heads up.  \n\nSomething more applied: I have built a big ship using using the a Re-Entry capsule just to notice a few days into the flight (when mechjeb ran out of electricity) that the capsule has no control capability and that my pilot was a bit useless."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-30T21:57:32Z","Content":"\u003E \n\u003E \n\u003E 5 minutes ago, OverlordMorgoth said:\n\u003E \n\u003E \n\u003E I have been using for a while now but have been looking into the logs for some other issues and noticed something: There seems to be a lot of \u0027Textures Not Found\u0027 with this mod, nothing critical and only adds a second or so to the loading process, but have the heads up.\n\u003E \n\nYep.  KSP PartTools embeds the path and name of the texture into the model (.mu) file that were present when the model was exported.  I have long since updated/changed most of the textures in the mod, but cannot \u0027fix\u0027 the existing model files (binary file, ***very*** difficult to fix).  There is no option without using the Unity Editor to re-export the models; but as most of those models don\u0027t exist in my current Unity project, it would be hours  of work to find the original .blend files, re-export .fbx, and re-setup all the stuff in the Unity Editor.  Worse yet, some of those original .blend files simply don\u0027t exist anymore, so for some of the models... there is zero option to fix them.\n\nAnd really, it doesn\u0027t matter.  I just go and replace all of those textures/materials/shaders anyway as soon as the models are loaded.  Recent models are exported without any textures just to prevent those exact error messages.  Sadly, nothing can be done about the existing/legacy models.  Those \u0027error\u0027 messages will continue to exist probably until the end of time (or until such a time as there is a tool to allow for editing of existing .mu model files).\n\n\u003E \n\u003E \n\u003E 9 minutes ago, OverlordMorgoth said:\n\u003E \n\u003E \n\u003E Something more applied: I have built a big ship using using the a Re-Entry capsule just to notice a few days into the flight (when mechjeb ran out of electricity) that the capsule has no control capability and that my pilot was a bit useless.\n\u003E \n\nWhich part are you referring to?  I don\u0027t have any \u0027Re-Entry\u0027 capsule parts that I\u0027m aware of... (but you are likely referring to one of the ShipCore pod parts?)"},{"CreatedByName":"OverlordMorgoth","CreatedById":183425,"CreatedDateTime":"2018-01-30T22:18:11Z","Content":"\u003E \n\u003E \n\u003E 18 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Which part are you referring to?  I don\u0027t have any \u0027Re-Entry\u0027 capsule parts that I\u0027m aware of...\n\u003E \n\nSSTU - SC - B - CM Re-Entry Module is its full name."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-30T22:28:26Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, OverlordMorgoth said:\n\u003E \n\u003E \n\u003E SSTU - SC - B - CM Re-Entry Module is its full name.\n\u003E \n\nThanks for the confirmation/clarification on the part name.\n\nI think this is one of those cases where I can have an *either* and an *or* but not both (a limitation of the stock modules/code).  You can have *either* the part be allowed to be controlled without a pilot (remotely piloted probe core).  *Or* you can mandate that a pilot is needed for control.  I don\u0027 think you can have it both ways....\n\nSo basically, in order to allow it to function unmanned, it has to have an \u0027unmanned\u0027 probe core setup.  No EC = no control.  If I change it to allow manual control (without EC), it will always require a crew, and thus be unusable in an uncrewed capacity.\n\nActually, I think it comes down to this block (more precisely, the RESOURCE subnode):\n\n    MODULE\n    {name = ModuleCommandminimumCrew = 0hasHibernation = TrueRESOURCE{\tname = ElectricCharge\trate = 0.0275}\n    }\n\nBasically I can have it use EC, or not.  There is no \u0027don\u0027t require EC if crew is present\u0027 flag in the stock ModuleCommand.  Now, this is unfortunate in the case of the SC-A and SC-B parts, as they were, to at least some degree, controllable directly by the pilot (whether or not the analog controls would function without electricity is another debate).\n\nBut it is also logical.  What would happen if the Apollo CM completely lost electricity?  Probably complete loss of mission.  And on the more recent craft (Orion), the entire system is computerized.  No electricity = no control.\n\nIf anyone knows of other mods\u0027 command pods that allow both unmanned (with EC) and unmanned (without EC) use, please advise and I\u0027ll take a look over their configs to see if this is a problem I can solve.  Currently I\u0027m pretty sure this is a limitation of the stock modules that is out of my control."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-31T01:32:04Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E If anyone knows of other mods\u0027 command pods that allow both unmanned (with EC) and unmanned (without EC) use, please advise and I\u0027ll take a look over their configs to see if this is a problem I can solve.  Currently I\u0027m pretty sure this is a limitation of the stock modules that is out of my control.\n\u003E \n\nEssentially correct, except that it\u0027s minimumCrew that determines whether the control state is probe or crew. (~~not sure if pilot skill is counted or not...~~ yeah it is)\n\nIf resource is specified then the part can\u0027t be used for control if the resource is exhausted no matter whether it is set to be crew controlled or probe controlled. (which as you say is really how it should be anyway. No electricity = dead in the water)\n\n**Edited \u003Ctime datetime=\u00222018-01-31T01:39:38Z\u0022 title=\u002201/31/2018 01:39  AM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 31, 2018\u003C/time\u003E by Starwaster**"},{"CreatedByName":"Dermeister","CreatedById":41487,"CreatedDateTime":"2018-01-31T02:24:54Z","Content":"WHat does hollow collider do on the custom decoupler in this mod? I tried it off and on but the game still seems to think that it\u0027s colliding with something. Is it suppose to simulate  a hollow donut when you make it in a donut shape? Should I turn it off or on if I want objects to sit through it?"},{"CreatedByName":"OverlordMorgoth","CreatedById":183425,"CreatedDateTime":"2018-01-31T13:59:11Z","Content":"\u003E \n\u003E \n\u003E 12 hours ago, Starwaster said:\n\u003E \n\u003E \n\u003E which as you say is really how it should be anyway. No electricity = dead in the water\n\u003E \n\nThat makes sense but no comms\u002Bskilled pilot != dead in the water."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-31T15:30:31Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, OverlordMorgoth said:\n\u003E \n\u003E \n\u003E That makes sense but no comms\u002Bskilled pilot != dead in the water.\n\u003E \n\nSadly, the stock code/modules have limitations.  I don\u0027t think I can make it so that it works properly in both situations (manned \u002B unmanned) in all full and partial failure situations.\n\nBasically I can set it up as per the stock crewed capsules -- entirely crew controlled, zero ability to use unmanned ***or*** I can set it up with an unmanned probe core (requires EC, commnet) to allow for uncrewed flights.\n\nI personally would much rather have proper probe-core / unmanned control.  Now, if someone else is aware of a method to setup that module such that it works both ways -- please let me know. \n\nAbout the only thing that I might be able to change is to make it so the probe core doesn\u0027t require commnet.  But I don\u0027t think that is a valid solution, because then commnet is essentially useless; might as well disable the feature entirely as you\u0027ll never need antennas/connection outside of science transmission.\n\nMy personal setup?  Probe core \u002B pilot \u002B *use mechjeb when out of commnet range*.  Sure, you can\u0027t manually spin the ship around... but 95% of what I need to do can be accomplished through the \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E prograde/radial/normal/target hold modes.  A bit more difficult to overcome is the inability to use \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E/engine throttle, but I think I\u0027ve only been in that situation like maybe once (which was by accident/poor planning) -- good mission design and planning (relay sats...) entirely eliminates the possibility of losing commnet connection."},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-01-31T18:41:41Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, OverlordMorgoth said:\n\u003E \n\u003E \n\u003E That makes sense but no comms\u002Bskilled pilot != dead in the water.\n\u003E \n\nNot an issue of comms, the part either requires resources to be usable as a control point or it doesn\u0027t. Or... do you mean IRL? Because IRL, it would definitely be dead in the water ![:wink:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif \u0022;)\u0022) \n\n\u003E \n\u003E \n\u003E 3 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Sadly, the stock code/modules have limitations.  I don\u0027t think I can make it so that it works properly in both situations (manned \u002B unmanned) in all full and partial failure situations.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Basically I can set it up as per the stock crewed capsules -- entirely crew controlled, zero ability to use unmanned ***or*** I can set it up with an unmanned probe core (requires EC, commnet) to allow for uncrewed flights.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I personally would much rather have proper probe-core / unmanned control.  Now, if someone else is aware of a method to setup that module such that it works both ways -- please let me know.\n\u003E \n\nAdd two ModuleCommand modules. One configured the way you would configure a command module (crew req, no power req) and the other as a probe (no crew req, power req)\n\nIt will work. I can\u0027t say for sure it might not cause some weird issue but no moreso than having \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E on a command part alongside the stock command code.\n\nYou *MIGHT* have to add the crewed portion after the probe portion... but I think it will work the same regardless. But probe section then crewed section in the config did work. I tried it.\n\n**Edited \u003Ctime datetime=\u00222018-01-31T18:44:04Z\u0022 title=\u002201/31/2018 06:44  PM\u0022 data-short=\u00226 yr\u0022\u003EJanuary 31, 2018\u003C/time\u003E by Starwaster**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2018-01-31T20:53:47Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Starwaster said:\n\u003E \n\u003E \n\u003E But probe section then crewed section in the config did work. I tried it.\n\u003E \n\nDoes it have any side effects?  E.g. multiple \u0027control from here\u0027 buttons or \u0027rename craft\u0027 buttons?"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-02-01T01:11:32Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Does it have any side effects?  E.g. multiple \u0027control from here\u0027 buttons or \u0027rename craft\u0027 buttons?\n\u003E \n\nIt does duplicate those buttons."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-02-01T11:54:38Z","Content":"If you add a seperate radial or inline probe core to the pod, the problem is gone.\n\nMaybe the pods could be reverted to need a crew member (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E level 2)  and add a small radially attached probecore part to SSTU that will add the autonomous functionality (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E 3). Best of both worlds, but at the cost of one extra part. If you make it small and non obtrusive, you can make it look like it belongs on the pod, especially with the recoloring now. i.e. You could use a 50% scaled down stock radial drogue chute as the model for the time being.\n\n**Edited \u003Ctime datetime=\u00222018-02-01T11:56:59Z\u0022 title=\u002202/01/2018 11:56  AM\u0022 data-short=\u00226 yr\u0022\u003EFebruary 1, 2018\u003C/time\u003E by Jimbodiah**"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2018-02-01T13:22:57Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E If you add a seperate radial or inline probe core to the pod, the problem is gone.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Maybe the pods could be reverted to need a crew member (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E level 2)  and add a small radially attached probecore part to SSTU that will add the autonomous functionality (\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E 3). Best of both worlds, but at the cost of one extra part. If you make it small and non obtrusive, you can make it look like it belongs on the pod, especially with the recoloring now. i.e. You could use a 50% scaled down stock radial drogue chute as the model for the time being.\n\u003E \n\nThat\u0027s what I do with my rescue ship for those rescue contracts you get spammed with in early Career. Except that I used the SSTU stackable probe core, wafer thin, between my Mk1 pod\u0027s decoupler and the engine. Made it nice and shiny (finally switched over to 1.3.1), send it up empty and rendezvous with the stranded Kerbal. (love how they get up to orbit before I even get done launching the first space traveler."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2018-02-01T13:34:41Z","Content":"I use those as well, but when you use the service modules it\u0027s not really an option."}]}