{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":107,"Articles":[{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-29T22:26:15Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, tater said:\n\u003E \n\u003E \n\u003E I forgot to report this last night, but on \u0022main\u0022 fuel tanks (name escapes me right now) if you option-click to duplicate, they have z-fighting issues (I think) that mess up the textures (say to grab a 1st stage and build a craft that looks like Delta IV Heavy by option clicking the booster, then sticking it to the side in 2X symmetry.)\n\u003E \n\n\u003E \n\u003E \n\u003E 1 hour ago, blowfish said:\n\u003E \n\u003E \n\u003E I\u0027ve experienced issues with duplication as well - specifically with regards to rescaling the duplicated part.  My best guess is that both this and the z-fighting have the same cause - somehow, a duplicate mesh is created.\n\u003E \n\n\u003E \n\u003E \n\u003E 1 hour ago, tater said:\n\u003E \n\u003E \n\u003E Yeah. It was rescaled. I\u0027ll test more, tonight.\n\u003E \n\nIs that -still- happening?  Thought I had fixed it with yesterdays release... or was it sundays? .... either way... thought I had fixed it over the last couple of days (for like the 10th time... why KSP... oh why.. do you have to be so inconsistent with loading sequences?).\n\nEdit: Confirmed, but only when you alt-click a part to duplicate it (before it was doing it for regular symmetry counterpart use).\n\nAnyone know what code-path it is using for that setup?  As apparently the models don\u0027t exist when I\u0027m doing the \u0027destroy existing models, recreate from scratch\u0027 setup (or else.. they would have been deleted and not duplicating...)\n\nFurther edit:  \n\nVery strange stuff going on with this bug; when you alt-click clone a tank, a tank model is being parented to the base part model transform (rather than the managed root transform), and so is not being deleted as it should be.  Going to try and squash this one tonight and will post an updated release when available.  I know its just a cosmetic / in-editor bug, but still annoying.\n\nOoh.. ooh... methinks I found the bug....\n\nEven further edit:\n\nSquashed without mercy.  Looking into the engine-cluster fairing-size reset now, will package and post an update as soon as it is figured out.\n\n**Edited \u003Ctime datetime=\u00222016-03-29T23:24:57Z\u0022 title=\u002203/29/2016 11:24  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 29, 2016\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-03-29T23:31:17Z","Content":"***To all the bugs that deserve no mercy.***\n\n![images?q=tbn:ANd9GcRXucuhC8hy3a4xECNvVcc](https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRXucuhC8hy3a4xECNvVccsrKs6tqm2DrJt0PQEdOlVJ9P-xFK3)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T00:45:06Z","Content":"Updated testing release is available:\n\n[https://github.com/shadowmage45/SSTULabs/releases/tag/0.3.30-pre6](https://github.com/shadowmage45/SSTULabs/releases/tag/0.3.30-pre6)\n\nFew more fixes, enhancements, and updates.  Adds RD-0110 as a usable (but WIP) part, and cleans up the cost/tech-nodes/effects of the SSTU-NRV engine parts (both stock and real-plumes are fixed/set/improved).\n\n.... (sneaks off to poke at pre-release (stock) for the night)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-03-30T01:09:55Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Squashed without mercy.  Looking into the engine-cluster fairing-size reset now, will package and post an update as soon as it is figured out.\n\u003E \n\n![1245401327_conan_the_barbarian.gif](http://www.gifbin.com/bin/062009/1245401327_conan_the_barbarian.gif)"},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2016-03-30T01:34:42Z","Content":"Oh look. 1.1 prerelease."},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-03-30T02:58:32Z","Content":"don\u0027t forget the 1.1 part tools [@Shadowmage](https://forum.kerbalspaceprogram.com/index.php?/profile/138730-shadowmage/)"},{"CreatedByName":"ComatoseJedi","CreatedById":91567,"CreatedDateTime":"2016-03-30T06:08:37Z","Content":"Did some playing around tonight with the 64k mod tonight with these parts. I did some -tweaking- with the engine parts to make a full scale version of the SLS with the HUS and ICPS for a run around to the Mun and back. I really do have to say if you want to play with the 64k mod and these parts, the adjusted parameters for Isp and thrust came in handy. And I\u0027m sure glad you adjusted the ablator value for the B CM. Due to the simple fact if you don\u0027t slow down enough to at least 5200 m/s before hitting atmosphere, you will cry. And not slowing down isn\u0027t an option here, you have to slow down, because I was getting velocities up to 7200 m/s and that really makes you bite the seat with your buttocks. Ended up hitting atmosphere around 5400 m/s, almost overheated to explosion and had 110 ablator left when I got done playing in the plasma. But this mod is PERFECT for the larger Kerbin. I actually had to use up all the fuel from all stages before the final burn for re-entry, which is something I rarely do."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T18:35:23Z","Content":"Busy days at work recently (past 3 weeks)... so very slow progress.  Probably will stay busy throughout the summer... so development may be a bit more casual than it has been the past few months.  When I get off work tired, worn out, and mentally exhausted... not good for modding that day even if I still had the will.\n\nThe bad news -- I had previously intended on maintaining concurrent development branches for 1.05 and 1.1 for at least a few weeks.  It no longer looks like this will be reasonably possible (certainly doable, but so much extra work its not worth it; -hours- to swap between branches/setup as there is a ton of manual stuff that Git can\u0027t switch that I have to do manually; not to even get into the Unity project problems).  So, as soon as I begin development on 1.1, there will be no turning back.\n\nSo.. if you have any bug-reports for 1.05... post them now and I\u0027ll attempt to get them fixed today/tonight for one final update/release for 1.05.\n\n1.1 Pre-Release -- First Impressions:\n\n**Performance** = good, with some hitches/snags/pauses that will likely be sorted out. 150 part ship no longer results in poor frame rate.  Though a \u003C30 part (all stock) SSTO still killed my FPS during ascent (aero graphics I think).  \n**Graphics** = bad.  It looks like most stock parts have lost their specular mask entirely; shiny-metal things are... not.  All of the parts in the editor are washed out and appear to lack depth due to the flat / ambient shading in use (combined with the loss of specular highlighting).  No Unity Standard Shader support as far as I know.  \n**UI (in-game)** = good and bad.  The widgets are too big, the text is too small.  So when you scale it to make.. for example the nav-ball.. be smaller, all the text becomes unreadable.  They\u0027ll likely get this fixed up for full-release (else I\u0027ll be hacking away at it to make it all free-scalable).  \n**UI (code)** = ummm... not sure what I think of it yet.  They added to stock all the UI controls that I was going to make, so that is good... but I\u0027m unsure if they added them in such a way as to allow for input event driven setups; haven\u0027t been able to dig into the code/API on those yet.  \n**Wheels** = omg...don\u0027t know where to start.. but... ugghh... going to be even more of a PITA to setup non-stock wheel setups (e.g. multiple wheels or legs on the same part).  \n**Engines** = well... not terrible... but it is going to take some figuring out to get the new split-thrust-per-transform setup working..... and I can only -hope- that it will work with the engine cluster setup.  \n**Stock Fairings** = much improved; set the # of panels and deploy type in the editor (confetti or clamshell).  \n**Gimbals** = like the engines... going to take some adaptation to get things working again.  \n**RCS** = well, they added the per-axis toggles, so I can remove the hard-coding from many parts (or just set defaults), as players can now alter the axis limitations while in flight.  This should clean up the problems with RCS input for non-default control transforms for most of my RCS-enabled parts (SC-A/B/C/E parts).\n\nI -might- start on the update stuff tonight.  Likely going to take me a day or two to get Unity 5 setup, clean up my private dev repository (it is....bloated and full of old stuff at the moment), get VS setup with the new libraries, and even get to a point where I can -start- on the update.  Will definitely be starting on the update by this weekend.\n\nThere is NO ETA on any 1.1 compatible release;  I have so much planned work to do, and have not even yet looked at how badly the plugin is broken.\n\nAlso -- fair warning (I\u0027ve said it many times before, and will say it a few more times...) -- this update **WILL** break saves.  There will be no update compatibility between 1.05 and 1.1 for save games or craft.  I\u0027m not even going to try.  -After- the initial 1.1 update I\u0027ll start using the save-game conversion methods that were introduced... but there will be so much changing during this initial update it would likely take months just to get the conversion stuff in place (part names, locations, etc)."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-03-30T18:56:50Z","Content":"\u003E \n\u003E \n\u003E 9 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E **Engines** = well... not terrible... but it is going to take some figuring out to get the new split-thrust-per-transform setup working..... and I can only -hope- that it will work with the engine cluster setup.\n\u003E \n\nI took a look at this and it looks relatively simple ... basically it loads a node which defines proportional thrust by index for all of the transforms.  If you set up the node correctly and then tell the engine module to load it things should work.  Let me know if you need any help with this.\n\n\u003E \n\u003E \n\u003E 9 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E **Gimbals** = like the engines... going to take some adaptation to get things working again.\n\u003E \n\nI don\u0027t think anything has broken compared to how it used to work.  The main new things to think about are the axis and control input limits, both of which look pretty easy to set up.  Again, let me know if you want help figuring out what the parameters are / what they do.\n\n\u003E \n\u003E \n\u003E 9 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E **RCS** = well, they added the per-axis toggles, so I can remove the hard-coding from many parts (or just set defaults), as players can now alter the axis limitations while in flight.  This should clean up the problems with RCS input for non-default control transforms for most of my RCS-enabled parts (SC-A/B/C/E parts).\n\u003E \n\nCould I suggest leaving the default configuration as it is?  Players can change it in-flight if they want, but I think having the defaults makes things easier."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T19:25:49Z","Content":"\u003E \n\u003E \n\u003E 21 minutes ago, blowfish said:\n\u003E \n\u003E \n\u003E I took a look at this and it looks relatively simple ... basically it loads a node which defines proportional thrust by index for all of the transforms.  If you set up the node correctly and then tell the engine module to load it things should work.  Let me know if you need any help with this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I don\u0027t think anything has broken compared to how it used to work.  The main new things to think about are the axis and control input limits, both of which look pretty easy to set up.  Again, let me know if you want help figuring out what the parameters are / what they do.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Could I suggest leaving the default configuration as it is?  Players can change it in-flight if they want, but I think having the defaults makes things easier.\n\u003E \n\nEngines -- do you have any working examples of how the config is supposed to be setup?  Pretty sure that I\u0027ll need to read in the array of values and clone\u002Bconcat that array for each engine in the engine cluster; I just have no idea what the array is supposed to look like or what the values are supposed to do (is it a multiplier, percentage, scalar, other? -- how does the array of values get calculated out to the individual thrust per-transform?).  And how does it work with multiple engines?  How does it determine the \u0027order\u0027 of the thrust-transforms? (seems likely that it just takes the order returned by the transform.find() function... which is...?)\n\nE.g. RD-108A; four main \u002B four vernier transforms.  Total thrust ~400kn, 80kn for each main \u002B 20kn for each vernier... what would this input array look like?  And then what will it look like if I had -two- of those engine models in the part?\n\nGimbals -- mostly the problem is that I\u0027m going to have to re-rig and re-export nearly every engine and gimbal-enabled part that I have, as my gimbal transforms were/are rotated arbitrarily, and from talking with NathanKell when he changed the gimbal stuff, they are now orientation sensitive (e.g. need Z\u002B aligned with thrust direction) (previously, gimbal orientation did not matter).  Other than that, seems fairly simple.  Just massively time consuming (~30 mins per engine part, if everything cooperates... times how many parts?).  Axis-limitation stuff seemed easy to setup, though again may require some adjustment during the re-rigging to ensure the same axis can be locked for each gimbal transform.\n\nWill likely know much more sometime this evening after I can begin poking at the code and Unity side of things ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Sudragon","CreatedById":53192,"CreatedDateTime":"2016-03-30T19:48:19Z","Content":"If I\u0027m loading the game, in sandbox, and none of the \u0027variable\u0027 parts are visible in the VAB, what am I missing? The capsules are all there, and all the other parts."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-03-30T19:49:21Z","Content":"Concentrate on 1.1 and halt new development until it\u0027s updated. Maintaining a 1.0.5 while also making a 1.1 is double the work for no reason at all. Everyone will switch to 1.1 when it is released, and things are working properly in 1.0.5 to keep it as-is."},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-03-30T20:09:04Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Engines -- do you have any working examples of how the config is supposed to be setup?  Pretty sure that I\u0027ll need to read in the array of values and clone\u002Bconcat that array for each engine in the engine cluster; I just have no idea what the array is supposed to look like or what the values are supposed to do (is it a multiplier, percentage, scalar, other? -- how does the array of values get calculated out to the individual thrust per-transform?).  And how does it work with multiple engines?  How does it determine the \u0027order\u0027 of the thrust-transforms? (seems likely that it just takes the order returned by the transform.find() function... which is...?)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E E.g. RD-108A; four main \u002B four vernier transforms.  Total thrust ~400kn, 80kn for each main \u002B 20kn for each vernier... what would this input array look like?  And then what will it look like if I had -two- of those engine models in the part?\n\u003E \n\nThe clusters might complicate things, yeah.  It definitely relies on order, which is difficult to guarantee, although there\u0027s probably some pattern.\n\nThe basic way it works is this: All the thrust transforms for a particular engine module have the same name.  If you had 3, and you wanted 2 to have 25% of the thrust each and the other to have the remaining 50%, you would put a node something like this in the engine module (obviously I don\u0027t remember the exact names):\n\n    NODE\n    {something0 = 0.25something1 = 0.25something2 = 0.5\n    }"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T21:12:36Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Sudragon said:\n\u003E \n\u003E \n\u003E If I\u0027m loading the game, in sandbox, and none of the \u0027variable\u0027 parts are visible in the VAB, what am I missing? The capsules are all there, and all the other parts.\n\u003E \n\nWithout logs?  No clue ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T23:24:23Z","Content":"![eRh2hGJ.png](http://i.imgur.com/eRh2hGJ.png)\n\nCould be worse.  Some of the Minecraft updates I went through saw my mod with 1000\u0027s of errors...\n\nMost of these are just the changes in Unity itself; lack of direct access to render/rigidbody/collider/etc Components.  In fact... looking more closely, there are only 3 errors that are not related to that.  For most I can use direct getComponent\u003C\u003E access as it is a very infrequent occurrence.  A few though will require a more thorough caching system as they operate on every tick/frame, but that was on the to-do list anyway (esp material caching as that was a huge cause of the memory leaks).  One error is part resource related..no clue what is up with that one yet.  The last couple errors are shader related, looks as if there were some static global constant shader-ids that were removed (related to highlighting); those were only used in the highlight-fix-hack I had setup... can only hope it is no longer needed ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nHowever that is just the -compile- errors, my landing leg and wheel modules will need to be replaced (and/or parts converted to use stock modules), and there are a few other code-side adaptations that need to be made.  Haven\u0027t even looked at the Unity/models/assets end of things yet, but will likely know more in a few hours/day or two."},{"CreatedByName":"RedParadize","CreatedById":129285,"CreatedDateTime":"2016-03-30T23:28:45Z","Content":"Thats sound good!  \n\nOMG, stock stuff is so... stock."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-30T23:39:09Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, blowfish said:\n\u003E \n\u003E \n\u003E The clusters might complicate things, yeah.  It definitely relies on order, which is difficult to guarantee, although there\u0027s probably some pattern.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E The basic way it works is this: All the thrust transforms for a particular engine module have the same name.  If you had 3, and you wanted 2 to have 25% of the thrust each and the other to have the remaining 50%, you would put a node something like this in the engine module (obviously I don\u0027t remember the exact names):\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     NODE\n\u003E     {something0 = 0.25something1 = 0.25something2 = 0.5\n\u003E     }\n\u003E \n\nThanks ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nI\u0027ll likely have to \u0027adjust\u0027 the config nodes when I reload the engine modules, duplicating/adding to the list for each additional engine, while at the same time dividing the \u0027base\u0027 thrust mult for each entry by the number of engines in the cluster.\n\n-If- my observations are correct, there will be a reliable pattern to the order of the returned transforms.  I believe Unity does depth-first recursion when finding multiple transforms, so it will find all the transforms from the first model before moving on to the next.  And within each model the depth-first search will return the transforms in order of the alpha-sort of their branch/root/parents.  The only indeterminate is when there are multiple transforms of the same name, with the -same- parent that are supposed to have different thrusts (I don\u0027t personally have anything setup like this, but I\u0027 would imagine you will have to examine the model carefully in Unity in order to find the sequence).\n\nIn short -- the transforms should be returned in the sequence that you find them if you scroll down the expanded model tree in the Unity editor (if all of my observations and inferences are correct).\n\nWill hopefully be able to start in on all this ..soon... and will know much more shortly after.\n\nIn other semi-related news.. there is now also a stock supported resource-based thrust curve multiplier...(SRB thrust curves) so yay for some simplification on the RO interaction front ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  (I\u0027ll have to add in support for this to the MSRB plugin in the near future, with curve-switching per body length... or something...)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-31T14:52:23Z","Content":"Well.. got the plugin to compile last night, and work in-game for the few parts I was able to convert/get working.\n\nSadly, is going to take several days to get all the parts transferred as I\u0027m also cleaning up naming/formatting/location of many files... and of course the .mu files hard-code the texture name in there (and are... inconsistent if you try to edit them manually...some edits work...some don\u0027t).\n\nSo, I\u0027ve got to setup Unity 5, Part-Tools, and try and locate -all- of my old modeling files for every part so that I can re-rig and re-export them.  Total PITA. \n\nAnyone know a reliable way to edit the texture names in a .mu file?  Hhex editing works for textures with similar-length names, but if they are more than 2-3 chars difference in length it doesn\u0027t work; I would have to know more about the byte encoding format to fix it.  Hmm...perhaps I\u0027ll bug tanihwa for details and/or peek at the blender ksp importer code to find the encoding... as I do know a little bit about how to code stuff ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) and could likely write my own updater after I knew how the bytes are laid out.  Yes, I would rather write a program to hack the file names than deal with Unity.  Perhaps U5 is better...but very doubtful.\n\nI had wanted to go with a more traditional folder layout; one folder per-part, fully self contained; like the stock setup.  Sadly, this will -not- work with the texture sharing.  I tried to use the MODEL node texture = function to replace the  missing texture from a model with a shared texture... and if you don\u0027t have a texture in the directory for it to load, it won\u0027t populate the texture slot, and then there is nothing to replace; in order to get it working I would need to add a dummy/placeholder texture in the same folder as the model, so that the slot gets filled with the placeholder, and then replaced with the proper texture when the model is added to a part; giant PITA and adds confusing duplicate-named placeholder textures all over... not going that route.  So.. still going to be one giant /Assets folder full of stuff.  Nothing I can do about it, sorry; I tried.\n\nAlternaitvely, does anyone know if the AssetBundles system is intelligent enough to not load duplicate textures if I include them in multiple bundles?  Likely it is not, and will load them each by unique URL....\n\nOn to the (really) bad news:\n\nLander Core is being removed, at least the fuel tanks, decouplers, and engines.  Without the integrated landing legs they are not useful to me, and there is no way that I\u0027m going to get those legs working with the new stock leg/wheel system.  And the engines just don\u0027t fit appropriately without fuel tanks, and were a bit OP to begin with (too small of geometry).  No tanks = no need for those terrible decouplers either.  \n\nMight leave the pods available as they have some generic utility to them... but debating on whether to include those either; they are less useful with the reasonably light-weight CMX series of pods.  Still would require a full re-setup for those models, as I need to replace the RCS port geometry... which is currently integrated into the models.\n\nFor the engines, I\u0027ll prioritize finding a replacement engine for standard use, and add some of those layouts as regular engine layouts (e.g. 12x with 3 on each side, hollow center).\n\nFor the fuel tanks... I\u0027ve got a few ideas for some MFT variants that will replace them.  Still not sure how to do the integrated legs/solar/modules stuff...but is on the list of things to investigate.\n\nSC-E parts will also require a full re-rig and re-export; or at least the landing gear will (probably good I already split those off into separate MODELs ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)).\n\nMost other stuff will likely work fine as soon as I get all the naming and structure updates in place.\n\nStill at least several days out from anything usable.  Well..technically it is usable now... but there are only like 3 parts working ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nEdit:\n\nApparently the .mu files encode the string-length -with- the string... which makes a bit of sense as far as file-byte encoding goes (have done similar in the past when writing byte-streams).  So..now I just need to determine if there are any pointers in the header of the file that denote where to look for the texture names.. update those (if present), find the start of the text strings, and just start re-writing the bytes.\n\nAhh... low-level hacking goodness... been awhile since I\u0027ve had to break out the hex editors and resort to byte-level manipulation.\n\n(... breaks out Eclipse and starts writing some Java.... yes.. high-level-language for low-level-hacking...strange..I know ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022) )\n\nMore edit:\n\nAsset Bundles are dumb as far as texture-sharing is concerned; any such issues have to be resolved through code when loading the bundles; which I cannot do as I am not the one loading them (they are loaded by the stock KSP code...).\n\nSource: [https://docs.unity3d.com/351/Documentation/Manual/AssetBundles.html](https://docs.unity3d.com/351/Documentation/Manual/AssetBundles.html)\n\nSo the big blob of assets will not be going anywhere, sadly.  Why so hard to share textures between models in an intelligent manner?\n\n**Edited \u003Ctime datetime=\u00222016-03-31T15:10:59Z\u0022 title=\u002203/31/2016 03:10  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 31, 2016\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-03-31T15:20:28Z","Content":"Even if splitting up every part isn\u0027t possible, I\u0027d still recommend trying to segment things as much as possible - for instance, the tanks don\u0027t depend on the engine textures, so the tanks can be put in their own folder ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)  Since the main use case is people wanting to remove certain parts, I think this makes sense anyway, since it prevents them from accidentally removing a texture that something else depends on."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-03-31T16:15:00Z","Content":"Are we talking about the 1.0.5 version, or the 1.1 re the LC? I\u0027d keep the 1.0.5 with the LC and make it a 1.0.5 Final that will no longer be supported."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-03-31T16:43:38Z","Content":"I love the LC parts for airless landers. Even just the pods and default LC tanks. Really, they are very nice to have."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-31T16:46:59Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blowfish said:\n\u003E \n\u003E \n\u003E Even if splitting up every part isn\u0027t possible, I\u0027d still recommend trying to segment things as much as possible - for instance, the tanks don\u0027t depend on the engine textures, so the tanks can be put in their own folder ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)  Since the main use case is people wanting to remove certain parts, I think this makes sense anyway, since it prevents them from accidentally removing a texture that something else depends on.\n\u003E \n\nSadly, you would end up with basically three folders:\n\nTanks\n\nFairings\n\nEverything else\n\nThere might be a few specific parts that could have their assets self contained in the part folder; but I\u0027m not going to put together some incoherent and inconsistent asset layout;  either all of the assets will be in a shared folder, or they will all be in the part folders.  And since they cannot be in the part folders due to limitations with KSP texture sharing, they will all be in a single shared folder.  I would rather have consistency on dev setup than make it easy for people to delete stuff.  Yes, I said it; helping people remove parts from my mod is not one of my priorities.\n\n\u003E \n\u003E \n\u003E 27 minutes ago, Jimbodiah said:\n\u003E \n\u003E \n\u003E Are we talking about the 1.0.5 version, or the 1.1 re the LC? I\u0027d keep the 1.0.5 with the LC and make it a 1.0.5 Final that will no longer be supported.\n\u003E \n\n1.05 is done; the last testing release that I posted is the final 1.05 release.  I\u0027ve already started converting stuff / updating my dev environment, and there is no (easy) way to go back now; any future releases will be for 1.1.x.\n\nSo yes, the LC stuff will still exist for 1.05 (because it actually works in 1.05)."},{"CreatedByName":"Jimbodiah","CreatedById":152759,"CreatedDateTime":"2016-03-31T16:53:07Z","Content":"OK, thanks! Clean break is always the best."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-03-31T17:56:18Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, tater said:\n\u003E \n\u003E \n\u003E I love the LC parts for airless landers. Even just the pods and default LC tanks. Really, they are very nice to have.\n\u003E \n\nSadly they are unfixably broken by this update.\n\nI -might- be able to make an MFT style tank out of the LC fuel tank models, but it will not include any module / part switching (e.g. no solar panels, no landing legs, no RTG/monoprop, no ladders).\n\nAhh.. byte-hacking... so beautiful... on a hacky kind of level.\n\n (Java in case anyone was wondering)\n\n        byte[] allInputBytes = Files.readAllBytes(modelFile.toPath());\n        String stringVal = new String(allInputBytes);\n        \n        String textureName = \u0022SC-A-CM-DIFF.png\u0022;\n        int index = stringVal.indexOf(textureName);\n        String[] split = stringVal.split(textureName);\n        \n        String replaceName = \u0022SSTU-SC-A-CM-DIFF.png\u0022;\n        int len = replaceName.getBytes().length;\n        byte[] startBytes = split[0].getBytes();\n        startBytes[startBytes.length-1]= (byte)len;\n        \n        String output = new String(startBytes)\u002BreplaceName\u002Bsplit[1];\n        System.out.println(\u0022Hacked output: \u0022\u002Boutput);\n        \n        FileOutputStream fos = new FileOutputStream(new File(\u0022SC-A-CM_hacked.mu\u0022));\n        fos.write(output.getBytes());\n        fos.close();\n\nHaven\u0027t been able to test if it is a valid model and loaded by the game... but the hex/bytes all look proper ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nThat bit of code will save me days worth of time on updating texture names in the models by removing the need to even set those models up in Unity.\n\n**Edited \u003Ctime datetime=\u00222016-03-31T18:36:20Z\u0022 title=\u002203/31/2016 06:36  PM\u0022 data-short=\u00228 yr\u0022\u003EMarch 31, 2016\u003C/time\u003E by Shadowmage**"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-03-31T19:52:16Z","Content":"Yeah, I know, I meant as \u0022regular\u0022 parts, not cool, SSTU parts. I suppose the tanks could at least have fuel types, if the gear won\u0027t work. I guess the fuel types could include mono or even EC as a consolation prize for the lack of panels, etc."}]}