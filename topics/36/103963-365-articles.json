{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":365,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2020-12-31T11:57:36Z","Content":"I\u0027m uploading a bugfix update, I\u0027m working on some performance improvements and was originally going to wait and release everything together, but I think these bugfixes are better off out now.\n\nChangelog:\n\n    - Fix log spam \u0022RenderTexture.Create failed: width \u0026 height must be larger than 0\u0022 when godrays are enabled but terrain shadows and custom shadow resolutions are disabled\n    - Fix broken ocean shader on Linux/OpenGL\n    - Fix forced ship recovery from ocean working on non-homeworld planets\n    - Fix atmospheres not loading with kopernicus planets on the first load outside the home system and requiring a scene change\n    - Renamed scaled space scattering object to \u0022Scatterer scaled atmo\u0022 for Tilt Unlocker\n\nShould be up in a few minutes\n\n**Edited \u003Ctime datetime=\u00222020-12-31T12:05:45Z\u0022 title=\u002212/31/2020 12:05  PM\u0022 data-short=\u00223 yr\u0022\u003EDecember 31, 2020\u003C/time\u003E by blackrack**"},{"CreatedByName":"thetaprime","CreatedById":192241,"CreatedDateTime":"2021-01-01T02:58:00Z","Content":"I\u0027m getting rainbow clouds on the title screen with the new version and Spectra. I haven\u0027t tried it with just \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E. Anyhow FYI."},{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2021-01-01T10:30:13Z","Content":"\u003E \n\u003E \n\u003E On 12/31/2020 at 1:59 AM, Atlas Gaming said:\n\u003E \n\u003E \n\u003E Not using anything other than Spectre (if that\u0027s a pack) playing stock size.\n\u003E \n\n\u003E \n\u003E \n\u003E On 12/31/2020 at 7:52 AM, Snoman314 said:\n\u003E \n\u003E \n\u003E Same here. Spectre only, and getting the same log spam.\n\u003E \n\n\u003E \n\u003E \n\u003E 23 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Spectra overrides the scatterer config\n\u003E \n\n\u003E \n\u003E \n\u003E 7 hours ago, thetaprime said:\n\u003E \n\u003E \n\u003E I\u0027m getting rainbow clouds on the title screen with the new version and Spectra. I haven\u0027t tried it with just \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E. Anyhow FYI.\n\u003E \n\nSee Blackrack\u0027s response 16 hours before your post. Also, is this just on the Title Screen, how does it appear in game. I know, from personal experience, I don\u0027t usually play much of the game on the Title Screen so it could look like the inside of a Potato for all I cared."},{"CreatedByName":"dave1904","CreatedById":153882,"CreatedDateTime":"2021-01-02T03:41:01Z","Content":"Does scatterer have alot of impact on CPU or is it mostly GPU?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-01-02T12:56:56Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, dave1904 said:\n\u003E \n\u003E \n\u003E Does scatterer have alot of impact on CPU or is it mostly GPU?\n\u003E \n\nIt hits both but more GPU-heavy. Next update will reduce the impact on both."},{"CreatedByName":"mcbmaestro","CreatedById":59577,"CreatedDateTime":"2021-01-02T22:00:59Z","Content":"\u003E \n\u003E \n\u003E On 12/23/2020 at 5:01 AM, blackrack said:\n\u003E \n\u003E \n\u003E Wind speed is an adjustable parameter which affects the waves size, it\u0027s configurable from the UI (alt-f11 -\u003E ocean settings -\u003E wind speed -\u003E rebuild ocean) or from the ocean.cfg, so it\u0027s adjustable manually, in the future it will be dynamic. Simulated atmospheric wind is probably out of scope :p\n\u003E \n\nWas wondering this too because my sea plane couldn\u0027t take off on those big waves! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Darkherring","CreatedById":190288,"CreatedDateTime":"2021-01-04T17:05:51Z","Content":"Suddenly, I\u0027m getting the black sky problem. [Here is the log](https://we.tl/t-HxJBIBmgBy)\n\n[ERR 17:25:44.839] [Scatterer][Error] Effects couldn\u0027t be loaded for Kerbin because of exception: System.NullReferenceException: Object reference not set to an instance of an object\n\nIt happens everytime I load a save. Reinstalling Scatterer didn\u0027t help.\n\n**Edited \u003Ctime datetime=\u00222021-01-04T17:41:56Z\u0022 title=\u002201/04/2021 05:41  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 4, 2021\u003C/time\u003E by Darkherring**"},{"CreatedByName":"Whaliin","CreatedById":26954,"CreatedDateTime":"2021-01-04T17:18:40Z","Content":"\u003E \n\u003E \n\u003E On 3/31/2020 at 1:50 PM, blackrack said:\n\u003E \n\u003E \n\u003E These are issues with the precomputed atmosphere scattering files. I have no fix for it, apart from trying to generate an atmosphere multiple times and \u0022getting lucky\u0022 with values that don\u0027t cause this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I however consider it mild enough that I have to say it\u0027s pretty low on my priority list.\n\u003E \n\nHaving this issue again on Duna, is there any way I can disable the effects for a specific planet to get rid of this effect? Or a specific value in the configuration I can tweak until it disappears? I would really not like to uninstall to \u0022fix\u0022 it since it seems most other planets don\u0027t have this issue."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-01-05T09:32:45Z","Content":"\u003E \n\u003E \n\u003E 16 hours ago, Darkherring said:\n\u003E \n\u003E \n\u003E Suddenly, I\u0027m getting the black sky problem. [Here is the log](https://we.tl/t-HxJBIBmgBy)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [ERR 17:25:44.839] [Scatterer][Error] Effects couldn\u0027t be loaded for Kerbin because of exception: System.NullReferenceException: Object reference not set to an instance of an object\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E   \n\u003E \n\u003E It happens everytime I load a save. Reinstalling Scatterer didn\u0027t help.\n\u003E \n\nYour log says:\n\n    [Scatterer][Debug] Ocean config not found for: Kerbin\n\nYour install is messed up, ocean config is missing or overridden/deleted by another mod.\n\n\u003E \n\u003E \n\u003E 16 hours ago, Whaliin said:\n\u003E \n\u003E \n\u003E Having this issue again on Duna, is there any way I can disable the effects for a specific planet to get rid of this effect? Or a specific value in the configuration I can tweak until it disappears? I would really not like to uninstall to \u0022fix\u0022 it since it seems most other planets don\u0027t have this issue.\n\u003E \n\nYou just have to remove Duna from planetsList, check here: [https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list](https://github.com/LGhassen/Scatterer/wiki/PlanetsConfig#planets-list)"},{"CreatedByName":"Darkherring","CreatedById":190288,"CreatedDateTime":"2021-01-05T15:26:51Z","Content":"\u003E \n\u003E \n\u003E 5 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Your install is messed up, ocean config is missing or overridden/deleted by another mod\n\u003E \n\nYep, that was it. Reinstalling JNSQ did the trick. Thanks!"},{"CreatedByName":"nikongarato","CreatedById":209236,"CreatedDateTime":"2021-01-05T21:15:27Z","Content":"Hi there fellow Space Explorers!\n\nRecently I wanted to boost the looks in my KSP 1.11 install as many do. I already tried to follow the guides for things like \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E, Stock Visual Ench.. and scatter.\n\nHowever there must be something I am either doing wrong or is wrong with my installation (btw, uninstall and re-installed yesteday the game).\n\nSo at the moment I find myself with just scatter as visual mod, I read the page for the mod and tryed to change a couple of parameters but still the planets with atmosphere look nothing alike the ones i see on YouTube...  \n\nBelow link to a picture\n\n[Clouds not appearing](https://1drv.ms/u/s!AsBJRnK-lEJtrFL0RIxm8MD_QQeO?e=LALfaZ)\n\nThanks a lot in advance,\n\nNik"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-01-06T00:18:41Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, nikongarato said:\n\u003E \n\u003E \n\u003E Hi there fellow Space Explorers!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Recently I wanted to boost the looks in my KSP 1.11 install as many do. I already tried to follow the guides for things like \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E, Stock Visual Ench.. and scatter.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E However there must be something I am either doing wrong or is wrong with my installation (btw, uninstall and re-installed yesteday the game).\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E So at the moment I find myself with just scatter as visual mod, I read the page for the mod and tryed to change a couple of parameters but still the planets with atmosphere look nothing alike the ones i see on YouTube...  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Below link to a picture\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [Clouds not appearing](https://1drv.ms/u/s!AsBJRnK-lEJtrFL0RIxm8MD_QQeO?e=LALfaZ)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks a lot in advance,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Nik\n\u003E \n\nScatterer doesn\u0027t do clouds, get eve-redux (and a config) for that"},{"CreatedByName":"coyotesfrontier","CreatedById":181596,"CreatedDateTime":"2021-01-06T00:30:28Z","Content":"Could we ever see rain in Scatterer, or would that be the domain of \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E?"},{"CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2021-01-06T01:36:44Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, coyotesfrontier said:\n\u003E \n\u003E \n\u003E Could we ever see rain in Scatterer, or would that be the domain of \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E?\n\u003E \n\nWeather is a very old discussion, it was tried once, and there is a wind mod now.  I think it would be great, but it is surely outside the domain of any the existing mods."},{"CreatedByName":"HafCoJoe","CreatedById":80363,"CreatedDateTime":"2021-01-06T01:43:33Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, coyotesfrontier said:\n\u003E \n\u003E \n\u003E Could we ever see rain in Scatterer, or would that be the domain of \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003E\u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E\u003C/abbr\u003E?\n\u003E \n\nYou can sort of pull off snow with \u003Cabbr title=\u0022Environmental Visual Enhancement (mod)\u0022\u003EEVE\u003C/abbr\u003E by making a cloud texture that\u0027s a bunch of tiny specks (snow), but rain isn\u0027t really doable since you can\u0027t make the particles move vertically"},{"CreatedByName":"ktosiu","CreatedById":153541,"CreatedDateTime":"2021-01-06T10:23:33Z","Content":"Is the source code no longer being updated? Github repo and downloadable source (with 0.0723 binaries) still at 0.0632."},{"CreatedByName":"eberkain","CreatedById":157548,"CreatedDateTime":"2021-01-06T12:15:11Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, ktosiu said:\n\u003E \n\u003E \n\u003E Is the source code no longer being updated? Github repo and downloadable source (with 0.0723 binaries) still at 0.0632.\n\u003E \n\n\u003E \n\u003E \n\u003E On 12/22/2020 at 6:48 AM, blackrack said:\n\u003E \n\u003E \n\u003E Indeed, I wrote some code for the godrays and the lightrays that I want to use for a commercial project, and I feel that having the source be public would undermine this project. I haven\u0027t decided what to do yet with the code but I might push everything else to the github repo, just without the godray/lightray part.\n\u003E \n\n**Edited \u003Ctime datetime=\u00222021-01-06T12:16:12Z\u0022 title=\u002201/06/2021 12:16  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 6, 2021\u003C/time\u003E by eberkain**"},{"CreatedByName":"ktosiu","CreatedById":153541,"CreatedDateTime":"2021-01-06T12:26:03Z","Content":"\u003E \n\u003E \n\u003E On 12/22/2020 at 1:48 PM, blackrack said:\n\u003E \n\u003E \n\u003E Indeed, I wrote some code for the godrays and the lightrays that I want to use for a commercial project, and I feel that having the source be public would undermine this project. I haven\u0027t decided what to do yet with the code but I might push everything else to the github repo, just without the godray/lightray part.\n\u003E \n\nAh, that\u0027s a shame. I wanted to fork my way around the OceanNode.OnPreCull NRE spam but turning off the ocean shader will have to do for now."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-01-06T15:13:54Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, ktosiu said:\n\u003E \n\u003E \n\u003E Ah, that\u0027s a shame. I wanted to fork my way around the OceanNode.OnPreCull NRE spam but turning off the ocean shader will have to do for now.\n\u003E \n\nYou can make a bug report too, I haven\u0027t yet decided what to do with those other parts though, so I haven\u0027t updated the source yet."},{"CreatedByName":"LadyAthena","CreatedById":88614,"CreatedDateTime":"2021-01-06T22:10:44Z","Content":"SOrry if this isn\u0027t scatterer, but its the only atmosphere mod I use.\n\nI get super weird lighting and atmosphere effects when I use this.\n\nSuch as the shadow of my ship appearing on the ground in a distorted hazy blob, evenwhen I\u0027m at super high altitudes that shouldn\u0027t be casting any kind of visible shadow on the surface.\n\nAlso get oddities like this.\n\n![76e43f1365565281.png](https://images2.imagebam.com/b8/c7/40/76e43f1365565281.png)\n\n![540cc81365565550.png](https://images2.imagebam.com/51/79/c1/540cc81365565550.png)\n\nWith weird mis colored blobs in the horizon of atmosphere planets.\n\n**Edited \u003Ctime datetime=\u00222021-01-06T22:13:58Z\u0022 title=\u002201/06/2021 10:13  PM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 6, 2021\u003C/time\u003E by LadyAthena**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2021-01-07T00:50:07Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, LadyAthena said:\n\u003E \n\u003E \n\u003E SOrry if this isn\u0027t scatterer, but its the only atmosphere mod I use.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I get super weird lighting and atmosphere effects when I use this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Such as the shadow of my ship appearing on the ground in a distorted hazy blob, evenwhen I\u0027m at super high altitudes that shouldn\u0027t be casting any kind of visible shadow on the surface.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also get oddities like this.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E With weird mis colored blobs in the horizon of atmosphere planets.\n\u003E \n\nThese are godrays and the shadow of the planet can appear that way due to the way shadowmaps work. You can just disable godrays if this bothers you."},{"CreatedByName":"ffx","CreatedById":200313,"CreatedDateTime":"2021-01-07T01:06:20Z","Content":"Is scatter automatly apply to a planet or moon with an atmosphere?\n\n**Edited \u003Ctime datetime=\u00222021-01-07T01:07:36Z\u0022 title=\u002201/07/2021 01:07  AM\u0022 data-short=\u00223 yr\u0022\u003EJanuary 7, 2021\u003C/time\u003E by ffx**"},{"CreatedByName":"LadyAthena","CreatedById":88614,"CreatedDateTime":"2021-01-07T01:36:12Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E These are godrays and the shadow of the planet can appear that way due to the way shadowmaps work. You can just disable godrays if this bothers you.\n\u003E \n\nThank you. I\u0027ll try that ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Hohmannson","CreatedById":202712,"CreatedDateTime":"2021-01-07T01:36:23Z","Content":"\u003E \n\u003E \n\u003E 28 minutes ago, ffx said:\n\u003E \n\u003E \n\u003E Is scatter automatly apply to a planet or moon with an atmosphere?\n\u003E \n\nNo, it needs configs and .raw files made by configuration tool"},{"CreatedByName":"ffx","CreatedById":200313,"CreatedDateTime":"2021-01-07T01:56:05Z","Content":"So you just need the tool i guess to make the  atmosphere good"}]}