{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":47,"Articles":[{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-08-04T11:06:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022PyG_\u0022 data-cite=\u0022PyG_\u0022\u003E\u003Cdiv\u003EHI ! First think it\u0027s an amazing idea this mod thanks you !\u003Cp\u003EI\u0027ve test the with the KSPIODemo13 and KSPSerialIO_Mac_Linux_Win_0.17.4-1\u003C/p\u003E\u003Cp\u003EArduino Uno R3. The 3 LEDS works perfectly, input buttons too. RCS/SAS Leds works.\u003C/p\u003E\u003Cp\u003EMy problem it\u0027s when i plug my I2C 20x4 Screen. The 5 leds stop working, LCD get 1 initale data and second line: ovfl\u003C/p\u003E\u003Cp\u003EIt\u0027s supose to do (0,0) RAlt (0.1) Alt.\u003C/p\u003E\u003Cp\u003Eafter nothing work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf i unplug the screen leds restart. \u003C/p\u003E\u003Cp\u003EI2C is pluggued in A4/A5 VCC/GND \u003C/p\u003E\u003Cp\u003EPart of my code: \u003C/p\u003E\u003Cp\u003ENothing else in code change and screen work without trouble in other projets o.O\u003C/p\u003E\u003Cp\u003EThanks for help =)\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Euh.. I\u0027ve never used that library, but if you are using i2c, why do you need all those pins? \u003C/p\u003E\u003Cp\u003E#define En_pin 2\u003C/p\u003E\u003Cp\u003E#define Rw_pin 1\u003C/p\u003E\u003Cp\u003E#define Rs_pin 0\u003C/p\u003E\u003Cp\u003E#define D4_pin 4\u003C/p\u003E\u003Cp\u003E#define D5_pin 5\u003C/p\u003E\u003Cp\u003E#define D6_pin 6\u003C/p\u003E\u003Cp\u003E#define D7_pin 7\u003C/p\u003E\u003Cp\u003ELiquidCrystal_I2C lcd(I2C_ADDR, En_pin, Rw_pin, Rs_pin, D4_pin, D5_pin, D6_pin, D7_pin);\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAlso are you trying to print in binary (base 2) with lcd.print(VData.RAlt, 2);?\u003C/p\u003E\n"},{"CreatedByName":"kungfufishstick","CreatedById":144240,"CreatedDateTime":"2015-08-06T03:37:06Z","Content":"\n\u003Cp\u003EI have a quick question, where can you set your controls to toggle in KSP? I am using momentary switches for the action groups.\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-06T07:42:20Z","Content":"\n\u003Cp\u003EHey Zitronen,\u003C/p\u003E\u003Cp\u003Eat first i want really to say \u0022Thank you!\u0022 for your work at \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2806-Jun%29\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2806-Jun%29\u003C/a\u003E. This thread is so awesome! \u003C/p\u003E\u003Cp\u003EI started to explore KSP just a week ago and already got a small multiplayer-server with 4 friends running. But now i want to explore more. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E So i just started researching on the web and found the interesting things about \u0022Build your own spaceship with KSP and Arduino\u0022. Just a small idea, but i really got addicted to this building-thing. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I went to the webstore and bought an Arduino MEGA 2560 R3, a LCD-Shield (2x20, 5 Buttons) and a 4-axis-analog Joystick. After the stuff got mailed i just had to realize that the Arduino MEGA 2560 R3 cant be used as a HID without flashing the bootloader. But then after a couple of hours i found the thread of Zitronen, which got me some hope back. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Now i just try to make my stuff with a serial-connection instead of using it as a HID. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThings i have done so far:\u003C/p\u003E\u003Cp\u003E- I have uploaded your KSPIODemo12 to my Arduino MEGA 2560. It has compiled without any problem.\u003C/p\u003E\u003Cp\u003E- I have installed the KSPSerialIO_017_3-addon to my KSP (Version 1.0.4) and edited the config.xml to fit my serial-port (COM3).\u003C/p\u003E\u003Cp\u003E- I have started the game and everytime i get to the launchpad or a spacecraft i can see, that the Arduino reboots. Looks like the connection just works, am i right?\u003C/p\u003E\u003Cp\u003EWhat i will have to do:\u003C/p\u003E\u003Cp\u003E- Reorder the pin-setup, because i have a LCD-Shield, which uses the pins allready. But i got many more pins on the MEGA, so i basically just have to go over the Arduino-Sketch.\u003C/p\u003E\u003Cp\u003E- Use the LCD-Shield to display some data. \u003C/p\u003E\u003Cp\u003E- I have oredered a 4 axis-joystick. Maybe i can get this monster to work with KSP over Serial. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHere are the Questions:\u003C/p\u003E\u003Cp\u003E- Is there a way to \u0022test\u0022 the Arduino-sketch in the IDE-Serial-Monitor? Maybe with some command or data i could send manually?\u003C/p\u003E\u003Cp\u003E- Is there an ingame \u0022menu\u0022 or something to the addon?\u003C/p\u003E\u003Cp\u003E- Sometimes my serial-connection just stops working and i have to reconnect the Arduino to the ubs-port (USB 2.0). Is this normal?\u003C/p\u003E\u003Cp\u003EGreetings Steve\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-08-07T09:21:02Z","Content":"\n\u003Cp\u003EHi FreakPsych,\u003C/p\u003E\u003Cp\u003EWelcome to the thread. Lots of fun happening here. To answer your questions:\u003C/p\u003E\u003Cp\u003E1. No. The serial connection gets hogged by the plugin, so you cannot use it to output data. Best practice I have found is to program the output with known values (written in the code or read from an analog port hooked to a potmeter), then modify the program so it reads the value from KSP. A dedicated sandbox save and maybe hyperedit are your friends here, as they will allow you to some control over inputs when you test the final sketch.\u003C/p\u003E\u003Cp\u003E2. Nope, it just works if it works. Otherwise, you might have to tweak the config in the gamedata\\KSPserialIO subfolder (can\u0027t remeber exact location or filename, and at work PC)\u003C/p\u003E\u003Cp\u003E3. It happens to me as well every now and then.\u003C/p\u003E\u003Cp\u003EAs for the 4-axis joystick, if it is based on rotary potmeters (like \u003Ca href=\u0022http://www.ebay.com/itm/New-4-axis-Joystick-Potentiometer-JH-D400X-R2-R4-5K-10K-4D-with-Button-Joystick-/261867821966?hash=item3cf889db8e\u0022 rel=\u0022external nofollow\u0022\u003Ethis one\u003C/a\u003E), it is very simple to connect. And I burn with envy, as they are hilariously expensive where I live. \u003C/p\u003E\u003Cp\u003EMay I suggest adding a throttle? I found it the single greatest addition of not flying with a keyboard.\u003C/p\u003E\u003Cp\u003EGood luck with the project, and don\u0027t forget to keep us posted of your progress.\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-07T13:42:04Z","Content":"\n\u003Cp\u003EThanks @Freshmeat. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThat is just the joystick i have ordered. ^^ 4-axis, 1 button and 10k resistance\u003Cspan style=\u0022color:#000000;\u0022\u003E\u003Cspan style=\u0022font-family:arial, helvetica, sans-serif;\u0022\u003E. Got mine from aliexpress for 18$. \u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EToday i got the pins resorted and some changes on the sketch-code to fit my ideas. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Got a working LCD with live gamedata and some LEDs running. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-07T16:53:31Z","Content":"\n\u003Cp\u003EOk... Today at the office all went right. (Win 7 Professional). Now at my homelaptop (Windows 10 Pro) it seems, that the handshare is initialising, but somehow crashes. I can see, that the Arduino is rebooting twice when i connect to flightmode.\u003C/p\u003E\u003Cp\u003EThe strange part: Yesterday i tried the basic connection with the 3 LEDs and i thing it worked ...\u003C/p\u003E\u003Cp\u003EAnyone has tried to use 17.3 and Demo12 on Win 10?\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-07T17:07:13Z","Content":"\n\u003Cp\u003EHas anyone tried to use the 17.3 with Demo12 on Windows 10?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E...\u003Cbr\u003E[WRN 18:56:02.389] [HighLogic]: =========================== Scene Change : From LOADING to MAINMENU =====================\u003Cbr\u003E[LOG 18:56:04.459] AddonLoader: Instantiating addon \u0027SettingsNStuff\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E[LOG 18:56:04.468] KSPSerialIO: Loading settings... KSPSerialIO: Loading settings...\u003Cbr\u003E...\u003Cbr\u003E[LOG 18:56:04.480] KSPSerialIO: Default Port = COM3\u003Cbr\u003E[LOG 18:56:04.481] KSPSerialIO: Refreshrate = 0.2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: BaudRate = 38400\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Handshake Delay = 2500\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Pitch Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Roll Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Yaw Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Translate X Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Translate Y Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Translate Z Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Wheel Steering Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Throttle Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: Wheel Throttle Enable = 2\u003Cbr\u003E[LOG 18:56:04.482] KSPSerialIO: SAS Tol = 0.1\u003Cbr\u003E...\u003Cbr\u003E[WRN 18:58:13.649] [HighLogic]: =========================== Scene Change : From TRACKSTATION to FLIGHT (Async) =====================\u003Cbr\u003E...\u003Cbr\u003E[LOG 18:58:15.159] AddonLoader: Instantiating addon \u0027KSPSerialPort\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E[LOG 18:58:15.159] KSPSerialIO: Version 0.17.3\u003Cbr\u003E[LOG 18:58:15.159] KSPSerialIO: Getting serial ports...\u003Cbr\u003E[LOG 18:58:15.159] KSPSerialIO: Output packet size: 189/255\u003Cbr\u003E[LOG 18:58:15.159] KSPSerialIO: Found 2 serial ports\u003Cbr\u003E[LOG 18:58:15.159] KSPSerialIO: trying default port COM3\u003Cbr\u003E[LOG 18:58:19.184] KSPSerialIO: KSP Display not found\u003Cbr\u003E[LOG 18:58:19.184] KSPSerialIO: trying port \\Device\\USBSER000 - COM3\u003Cbr\u003E[LOG 18:58:23.214] KSPSerialIO: KSP Display not found\u003Cbr\u003E[LOG 18:58:23.214] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E[LOG 18:58:23.244] ------------------- initializing flight mode... ------------------\u003Cbr\u003E...\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ECould this be a Win10-problem? This afternoon on my Win7 pc at the office all worked without any problem.\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-07T18:38:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FreakPsych\u0022 data-cite=\u0022FreakPsych\u0022\u003E\u003Cdiv\u003ECould this be a Win10-problem? This afternoon on my Win7 pc at the office all worked without any problem.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI think the important thing to point out here, is that your \u003Cem\u003Eoffice PC\u003C/em\u003E has Kerbal Space Program installed on it...\u003C/p\u003E\u003Cp\u003EBeautiful. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI do hope you get everything working! Bugs suck! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-07T19:20:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022richfiles\u0022 data-cite=\u0022richfiles\u0022\u003E\u003Cdiv\u003EI think the important thing to point out here, is that your \u003Cem\u003Eoffice PC\u003C/em\u003E has Kerbal Space Program installed on it...\u003Cp\u003EBeautiful. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003EI do hope you get everything working! Bugs suck! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI work as a freelancer. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E So basically i can do what i want, as far as i get the jobs done in time. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-08-07T22:42:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FreakPsych\u0022 data-cite=\u0022FreakPsych\u0022\u003E\u003Cdiv\u003EAnyone has tried to use 17.3 and Demo12 on Win 10?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027ve read a bit lately with people having trouble running KSP on windows 10.\u003C/p\u003E\u003Cp\u003EHave you tried running as Administrator? (Go to the KSP folder, and right-click \u0027ksp.exe\u0027 -\u0026gt; Run as Administrator.\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-07T23:11:35Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003EI\u0027ve read a bit lately with people having trouble running KSP on windows 10.\u003Cp\u003EHave you tried running as Administrator? (Go to the KSP folder, and right-click \u0027ksp.exe\u0027 -\u0026gt; Run as Administrator.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe game runs pretty smooth on Win 10. Even as normal user. (Yes, i tried Run as Admin and also compatible mode.) Also i changed the usb-cable. The Arduino IDE runs normal and the Arduino is programable under Win 10.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E74    00:58:50.143    0.00010129    KSP.exe    IRP_MJ_CREATE                           COM3    SUCCESS    Port Opened    \u003Cbr\u003E75    00:58:50.143    0.00000580    KSP.exe    IOCTL_SERIAL_SET_QUEUE_SIZE             COM3    SUCCESS    InSize: 512, OutSize: 1024    \u003Cbr\u003E76    00:58:50.143    0.00048550    KSP.exe    IOCTL_SERIAL_SET_BAUD_RATE              COM3    SUCCESS    Baud Rate: 38400    \u003Cbr\u003E77    00:58:50.144    0.00000535    KSP.exe    IOCTL_SERIAL_SET_RTS                    COM3    SUCCESS        \u003Cbr\u003E78    00:58:50.144    0.00019188    KSP.exe    IOCTL_SERIAL_SET_DTR                    COM3    SUCCESS        \u003Cbr\u003E79    00:58:50.144    0.00049264    KSP.exe    IOCTL_SERIAL_SET_LINE_CONTROL           COM3    SUCCESS    StopBits: 1, Parity: No, DataBits: 8    \u003Cbr\u003E80    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_CHARS                  COM3    SUCCESS    EofChar: 0x4, ErrorChar: 0x15, BreakChar: 0x15, EventChar: 0x0, XonChar: 0x11, XoffChar: 0x13    \u003Cbr\u003E81    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_HANDFLOW               COM3    SUCCESS    ControlHandShake: 0x1, FlowReplace: 0x80000040, XonLimit: 51, XoffLimit: 51    \u003Cbr\u003E82    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_TIMEOUTS               COM3    SUCCESS    ReadIntervalTimeout: -1, ReadTotalTimeoutMultiplier: 0, ReadTotalTimeoutConstant: 0, WriteTotalTimeoutMultiplier: 0, WriteTotalTimeoutConstant: 5000    \u003Cbr\u003E83    00:58:50.145    0.00001696    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E84    00:58:50.145    2.50050692    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    SUCCESS        \u003Cbr\u003E85    00:58:52.646    0.00028737    KSP.exe    IRP_MJ_WRITE                            COM3    SUCCESS    Length: 8, Data: BE EF 04 00 01 02 03 04     \u003Cbr\u003E86    00:58:52.646    0.00006649    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E87    00:58:52.646    1.53899197    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    CANCELLED        \u003Cbr\u003E88    00:58:54.185    0.00047880    System     IRP_MJ_CLOSE                            COM3    SUCCESS    Port Closed\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis is what the serial ports data is. The code above run 2 times and then stops trying to connect. I have checked my sketch multiple times and even tried the last 3 versions of the plugin and democode. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E (All runs on Win7 without any problem!)\u003C/p\u003E\u003Cp\u003EIf i noticed right: On the Arduino only the RX-LED blinks on the connection try. The TX-LED does nothing at all.\u003C/p\u003E\u003Cp\u003EI guess its something in Win 10. Maybe there is a Runtime change or something... I dont know. ^^\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-07T23:24:06Z","Content":"\n\u003Cp\u003EI\u0027m having trouble running it on a new install under Windows 10 too. :/ No problems at all running the game, but the serial connection is not established. Have tried Windows 8 compatibility mode with no luck. Am hoping it\u0027s something simple and rebuilding the plugin on a Windows 10 machine will be enough to get it running.\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-08T00:08:07Z","Content":"\n\u003Cp\u003EI think i have found something: The SerialPort.dll (\u003Ca href=\u0022http://sourceforge.net/projects/serialportnet/\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://sourceforge.net/projects/serialportnet/\u003C/a\u003E) used in the plugin is written in c# and implements complete .NET 2.0 specifications. In Windows 10 there seems to be only .NET 3.5 and higher. No .NET 2.0 support anymore.\u003C/p\u003E\u003Cp\u003ESo we need to find a way to a) run .NET 2.0 on Win10 or \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E get a \u0022new\u0022 SerialPort.dll for a higher .NET version.\u003C/p\u003E\n"},{"CreatedByName":"AmeliaEatyaheart","CreatedById":115681,"CreatedDateTime":"2015-08-08T00:09:43Z","Content":"\n\u003Cp\u003EHad trouble running 0.17.4 \u0026amp; Demo13 - running KSP1.0.2... However going well with 0.17.3 and demo 12 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-08T01:08:28Z","Content":"\n\u003Cp\u003EIt targets 2.0? Huh. I\u0027d assumed it would be 3.5 as well.\u003C/p\u003E\u003Cp\u003EAt any rate, I\u0027ve installed .NET 3.5 (which also pulls in 2.0 and 3.0). It\u0027s available in the Windows Features install guy. Doesn\u0027t seem to have helped me, but I\u0027m checking to make sure I\u0027ve got the right versions of everything.\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-08T02:05:13Z","Content":"\n\u003Cp\u003EI got as far as confirming that Marzubus\u0027 \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/68642-Arduino-Addon-for-Mac/page9\u0022 rel=\u0022external nofollow\u0022\u003Ecross-platform serial plugin\u003C/a\u003E wasn\u0027t working for me on Windows 10 either, and have now given up. Hooray for wasting a day installing Windows 7! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-08-08T19:45:02Z","Content":"\n\u003Cp\u003EOh dear.. that\u0027s going to be a pain in the ass, I don\u0027t have windows 10.\u003C/p\u003E\u003Cp\u003EI re-compiled serialport.dll targeting .net 4.5, seems to work fine on win7, no idea if it will work in 10:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/SerialPort4_5.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/SerialPort4_5.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf this doesn\u0027t work I have no idea what to do...\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-08T22:27:53Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EOh dear.. that\u0027s going to be a pain in the ass, I don\u0027t have windows 10.\u003Cp\u003EI re-compiled serialport.dll targeting .net 4.5, seems to work fine on win7, no idea if it will work in 10:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/SerialPort4_5.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/SerialPort4_5.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIf this doesn\u0027t work I have no idea what to do...\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI have tested it: Does not work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E But thanks for trying.\u003C/p\u003E\u003Cp\u003EI think its at the point where the Addon is searching for the com-port. I can see that there is RX once for a splitsecond on the arduino and then about 1-2 seconds TX sending while the addon is trying \u0022COM3\u0022. Then the arduino reboots and the second com-port \u0022\\Device\\USBSER000 - COM3\u0022 is beeing tested with the same routine. Both times the return message is \u0022KSP Display not found\u0022.\u003C/p\u003E\u003Cp\u003EI have posted the serial log from my port a few postings before: As we can see there, there is somehow data transmitted. My C#-skills are very low, so i cant tell whats wrong at this point, but i think its somehow the waiting for the \u0022KSP Display Check\u0022-check. Maybe we got wrong data (see log) or the time the addon is waiting for response is too low / skipped.\u003C/p\u003E\u003Cp\u003ETomorrow i will try to make a portlog of my win7 device to compaire it with the win10 log. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-08-09T02:23:44Z","Content":"\n\u003Cp\u003ESorry I don\u0027t have any time to test it further at the moment. I\u0027m taking my controller to a maker faire next week(!!!), and just needed something that works. Happy to reinstall Win10 after that if there\u0027s anything I can do to get to the bottom of it.\u003C/p\u003E\n"},{"CreatedByName":"richfiles","CreatedById":129946,"CreatedDateTime":"2015-08-09T04:55:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EI\u0027m taking my controller to a maker faire next week(!!!)\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool!!!\u003C/p\u003E\u003Cp\u003EKnock their socks off, and if their socks remain on, and unknocked... add moar boosters! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-08-09T14:30:50Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FreakPsych\u0022 data-cite=\u0022FreakPsych\u0022\u003E\u003Cdiv\u003EI have tested it: Does not work. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E But thanks for trying.\u003Cp\u003EI think its at the point where the Addon is searching for the com-port. I can see that there is RX once for a splitsecond on the arduino and then about 1-2 seconds TX sending while the addon is trying \u0022COM3\u0022. Then the arduino reboots and the second com-port \u0022\\Device\\USBSER000 - COM3\u0022 is beeing tested with the same routine. Both times the return message is \u0022KSP Display not found\u0022.\u003C/p\u003E\u003Cp\u003EI have posted the serial log from my port a few postings before: As we can see there, there is somehow data transmitted. My C#-skills are very low, so i cant tell whats wrong at this point, but i think its somehow the waiting for the \u0022KSP Display Check\u0022-check. Maybe we got wrong data (see log) or the time the addon is waiting for response is too low / skipped.\u003C/p\u003E\u003Cp\u003ETomorrow i will try to make a portlog of my win7 device to compaire it with the win10 log. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFrom the logs, it looks like it might be that it finds the serial ports, but is not receiving any reply from arduino. Have you tried handshake delay time in the config file at all?\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-10T07:47:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EFrom the logs, it looks like it might be that it finds the serial ports, but is not receiving any reply from arduino. Have you tried handshake delay time in the config file at all?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes, i have tried some settings, but with no luck so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I can play at Win7 so its not a big deal. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI just provide much data as i can, because i have fun to debug such problems. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]01    00:58:50.143    0.00010129    KSP.exe    IRP_MJ_CREATE                           COM3    SUCCESS    Port Opened    [/COLOR]75    00:58:50.143    0.00000580    KSP.exe    IOCTL_SERIAL_SET_QUEUE_SIZE             COM3    SUCCESS    InSize: 512, OutSize: 1024    \u003Cbr\u003E02    00:58:50.143    0.00048550    KSP.exe    IOCTL_SERIAL_SET_BAUD_RATE              COM3    SUCCESS    Baud Rate: 38400    \u003Cbr\u003E03    00:58:50.144    0.00000535    KSP.exe    IOCTL_SERIAL_SET_RTS                    COM3    SUCCESS        \u003Cbr\u003E04    00:58:50.144    0.00019188    KSP.exe    IOCTL_SERIAL_SET_DTR                    COM3    SUCCESS        \u003Cbr\u003E05    00:58:50.144    0.00049264    KSP.exe    IOCTL_SERIAL_SET_LINE_CONTROL           COM3    SUCCESS    StopBits: 1, Parity: No, DataBits: 8    \u003Cbr\u003E06    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_CHARS                  COM3    SUCCESS    EofChar: 0x4, ErrorChar: 0x15, BreakChar: 0x15, EventChar: 0x0, XonChar: 0x11, XoffChar: 0x13    \u003Cbr\u003E07    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_HANDFLOW               COM3    SUCCESS    ControlHandShake: 0x1, FlowReplace: 0x80000040, XonLimit: 51, XoffLimit: 51    \u003Cbr\u003E08    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_TIMEOUTS               COM3    SUCCESS    ReadIntervalTimeout: -1, ReadTotalTimeoutMultiplier: 0, ReadTotalTimeoutConstant: 0, WriteTotalTimeoutMultiplier: 0, WriteTotalTimeoutConstant: 5000    \u003Cbr\u003E09    00:58:50.145    0.00001696    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E10    00:58:50.145    2.50050692    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    SUCCESS        \u003Cbr\u003E11    00:58:52.646    0.00028737    KSP.exe    IRP_MJ_WRITE                            COM3    SUCCESS    Length: 8, Data: BE EF 04 00 01 02 03 04     \u003Cbr\u003E12    00:58:52.646    0.00006649    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E13    00:58:52.646    1.53899197    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    CANCELLED         \u003Cbr\u003E[COLOR=#333333]14    00:58:54.185    0.00047880    System     IRP_MJ_CLOSE                            COM3    SUCCESS    Port Closed[/COLOR]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI still try to understand the way of communication:\u003C/p\u003E\u003Cp\u003EStep 01: The PC opens the Serial-Port and does his setup of parameters (Line 01-08)\u003C/p\u003E\u003Cp\u003EStep 02: The PC starts listening on the Port for 2.5 seconds for incomming Handshakes. (Line 09-10)\u003C/p\u003E\u003Cp\u003EStep 03: The PC sends a Handshake to the Arduino and starts waiting for a reply. (Line 11-12)\u003C/p\u003E\u003Cp\u003EStep 04: The PC stops listening for a repy after 1.5 seconds. (Line 13\u002B14)\u003C/p\u003E\u003Cp\u003EIs this right?\u003C/p\u003E\u003Cp\u003EIn the config.xml i can find a HandshakeDelay setting (Tried some values up to 10 seconds. It seems to control the Step 02 above.), but no setting \u0022for the waiting for response\u0022-time (Which is Step 04 above, i guess). \u003C/p\u003E\u003Cp\u003EBTW: Have fun at the makers fair. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-08-10T10:57:06Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022FreakPsych\u0022 data-cite=\u0022FreakPsych\u0022\u003E\u003Cdiv\u003EYes, i have tried some settings, but with no luck so far. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E I can play at Win7 so its not a big deal. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cp\u003EI just provide much data as i can, because i have fun to debug such problems. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E[COLOR=#333333]01    00:58:50.143    0.00010129    KSP.exe    IRP_MJ_CREATE                           COM3    SUCCESS    Port Opened    [/COLOR]75    00:58:50.143    0.00000580    KSP.exe    IOCTL_SERIAL_SET_QUEUE_SIZE             COM3    SUCCESS    InSize: 512, OutSize: 1024    \u003Cbr\u003E02    00:58:50.143    0.00048550    KSP.exe    IOCTL_SERIAL_SET_BAUD_RATE              COM3    SUCCESS    Baud Rate: 38400    \u003Cbr\u003E03    00:58:50.144    0.00000535    KSP.exe    IOCTL_SERIAL_SET_RTS                    COM3    SUCCESS        \u003Cbr\u003E04    00:58:50.144    0.00019188    KSP.exe    IOCTL_SERIAL_SET_DTR                    COM3    SUCCESS        \u003Cbr\u003E05    00:58:50.144    0.00049264    KSP.exe    IOCTL_SERIAL_SET_LINE_CONTROL           COM3    SUCCESS    StopBits: 1, Parity: No, DataBits: 8    \u003Cbr\u003E06    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_CHARS                  COM3    SUCCESS    EofChar: 0x4, ErrorChar: 0x15, BreakChar: 0x15, EventChar: 0x0, XonChar: 0x11, XoffChar: 0x13    \u003Cbr\u003E07    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_HANDFLOW               COM3    SUCCESS    ControlHandShake: 0x1, FlowReplace: 0x80000040, XonLimit: 51, XoffLimit: 51    \u003Cbr\u003E08    00:58:50.144    0.00000491    KSP.exe    IOCTL_SERIAL_SET_TIMEOUTS               COM3    SUCCESS    ReadIntervalTimeout: -1, ReadTotalTimeoutMultiplier: 0, ReadTotalTimeoutConstant: 0, WriteTotalTimeoutMultiplier: 0, WriteTotalTimeoutConstant: 5000    \u003Cbr\u003E09    00:58:50.145    0.00001696    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E10    00:58:50.145    2.50050692    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    SUCCESS        \u003Cbr\u003E11    00:58:52.646    0.00028737    KSP.exe    IRP_MJ_WRITE                            COM3    SUCCESS    Length: 8, Data: BE EF 04 00 01 02 03 04     \u003Cbr\u003E12    00:58:52.646    0.00006649    KSP.exe    IOCTL_SERIAL_SET_WAIT_MASK              COM3    SUCCESS    Mask: RXCHAR RXFLAG TXEMPTY CTS DSR RLSD BREAK ERR RING    \u003Cbr\u003E13    00:58:52.646    1.53899197    KSP.exe    IOCTL_SERIAL_WAIT_ON_MASK               COM3    CANCELLED         \u003Cbr\u003E[COLOR=#333333]14    00:58:54.185    0.00047880    System     IRP_MJ_CLOSE                            COM3    SUCCESS    Port Closed[/COLOR]\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI still try to understand the way of communication:\u003C/p\u003E\u003Cp\u003EStep 01: The PC opens the Serial-Port and does his setup of parameters (Line 01-08)\u003C/p\u003E\u003Cp\u003EStep 02: The PC starts listening on the Port for 2.5 seconds for incomming Handshakes. (Line 09-10)\u003C/p\u003E\u003Cp\u003EStep 03: The PC sends a Handshake to the Arduino and starts waiting for a reply. (Line 11-12)\u003C/p\u003E\u003Cp\u003EStep 04: The PC stops listening for a repy after 1.5 seconds. (Line 13\u002B14)\u003C/p\u003E\u003Cp\u003EIs this right?\u003C/p\u003E\u003Cp\u003EIn the config.xml i can find a HandshakeDelay setting (Tried some values up to 10 seconds. It seems to control the Step 02 above.), but no setting \u0022for the waiting for response\u0022-time (Which is Step 04 above, i guess). \u003C/p\u003E\u003Cp\u003EBTW: Have fun at the makers fair. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah that is correct. The handshake delay is there because we need to wait for the arduino to restart when the serial port is open. After the restart the handshake reply from arduino should be immediate, so 1.5 seconds should be more than enough...\u003C/p\u003E\u003Cp\u003ETo the people using win 10, can you try adding some debug stuff into the Handshake() fucntion in the arduino code to turn on a LED, or maybe print something on LCD to make sure that the handshake packet is actually being sent?\u003C/p\u003E\n"},{"CreatedByName":"FreakPsych","CreatedById":149375,"CreatedDateTime":"2015-08-10T11:58:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EYeah that is correct. The handshake delay is there because we need to wait for the arduino to restart when the serial port is open. After the restart the handshake reply from arduino should be immediate, so 1.5 seconds should be more than enough...\u003Cp\u003ETo the people using win 10, can you try adding some debug stuff into the Handshake() fucntion in the arduino code to turn on a LED, or maybe print something on LCD to make sure that the handshake packet is actually being sent?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWill try it this evening. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Just 3 more hours work to do, then the fun goes on. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E---\u003C/p\u003E\u003Cp\u003ESo i put a LED behind the Handshake and it flashes every time it should. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E---\u003C/p\u003E\u003Cp\u003EOk, i have just tried to hook up between the serial handshake and copied all data to my lcd.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Evoid KSPBoardSendData(uint8_t * address, uint8_t len){\u003Cbr\u003E\u003Cbr\u003E  uint8_t CS = len;\u003Cbr\u003E  lcd.clear();\u003Cbr\u003E  Serial.write(0xBE);\u003Cbr\u003E    lcd.setCursor(0, 0);\u003Cbr\u003E    lcd.print(0xBE);\u003Cbr\u003E  Serial.write(0xEF);\u003Cbr\u003E    lcd.setCursor(4, 0);\u003Cbr\u003E    lcd.print(0xEF);\u003Cbr\u003E  Serial.write(len);\u003Cbr\u003E    lcd.setCursor(8, 0);\u003Cbr\u003E    lcd.print(len);\u003Cbr\u003E    lcd.setCursor(0, 1);\u003Cbr\u003E\u003Cbr\u003E  for(int i = 0; i\u0026lt;len; i\u002B\u002B){\u003Cbr\u003E    CS^=*(address\u002Bi);\u003Cbr\u003E    Serial.write(*(address\u002Bi));\u003Cbr\u003E  lcd.print(*(address\u002Bi));\u003Cbr\u003E  lcd.print(\u0022 \u0022);\u003Cbr\u003E  delay(750);    \u003Cbr\u003E  }\u003Cbr\u003E\u003Cbr\u003E  Serial.write(CS);\u003Cbr\u003E  lcd.setCursor(13, 1);\u003Cbr\u003E  lcd.print(CS);\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe Display shows me: 190 239 4 0 3 1 4, then switches to 190 239 25 \u0026lt;25 Numbers\u0026gt;\u003C/p\u003E\u003Cp\u003EThis runs 2 times, because the Arduini is checked on 2 serialports. \u003Cimg src=\u0022https://forum.kerbalspaceprogram.com/images/smilies/k_smiley.gif\u0022 alt=\u0022k_smiley.gif\u0022\u003E\u003C/p\u003E\u003Cp\u003EIf i convert the numbers into hex it will be: BE EF 04 03 01 04\u003C/p\u003E\u003Cp\u003EI guess the first number row is the handshake and the second row is some kind of data (maybe button states or something).\u003C/p\u003E\u003Cp\u003EAlso i tried different timeout settings: everyting from 500 and more will give the same result. I have tried 500 - 10000 in 500ms steps. \u003Cimg src=\u0022https://forum.kerbalspaceprogram.com/images/smilies/k_smiley.gif\u0022 alt=\u0022k_smiley.gif\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-08-10T17:55:01Z\u0022 title=\u002208/10/2015 05:55  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 10, 2015\u003C/time\u003E by FreakPsych\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-08-10T22:41:11Z","Content":"\n\u003Cp\u003EOk, so the serial port is sending the correct handshake request to the arduino, and arduino is responding correctly, but some how the plugin is not receiving properly. \u003C/p\u003E\u003Cp\u003EA couple of things to try:\u003C/p\u003E\u003Cp\u003E1. What if you just add a delay in the handshake() function before KSPBoardSendData(details(HPacket)); of say 500ms? Anythng less than 1.5 seconds should work.\u003C/p\u003E\u003Cp\u003E2. Try running this code which basically spams the handshake reply:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ebyte handshake[8] = {0xBE, 0xEF, 0x04, 0x00, 0x03, 0x01, 0x04, 0x02};\u003Cbr\u003E\u003Cbr\u003Evoid setup() {\u003Cbr\u003E  Serial.begin(38400);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003Evoid loop() {\u003Cbr\u003E  for (byte k = 0; k \u0026lt; 8; k\u002B\u002B) {\u003Cbr\u003E    Serial.write(handshake[k]);\u003Cbr\u003E  }\u003Cbr\u003E\u003Cbr\u003E  delay(20);\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"}]}