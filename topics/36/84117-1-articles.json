{"TopicId":84117,"ForumId":36,"TopicTitle":"model{} pretty random if it works or not?","CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T13:56:09Z","PageNum":1,"Articles":[{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T13:56:09Z","Content":"\n\u003Cp\u003EI can\u0027t find any good documentation on it, but even so I\u0027m pretty sure I\u0027m doing it right, and, it\u0027s not working most of the time.\u003C/p\u003E\u003Cp\u003ELog:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPartLoader: Compiling Part \u0027B9_Aerospace/Parts/Cockpit_MK1/part/B9_Cockpit_MK1\u0027\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at PartLoader.ReplaceTextures (UnityEngine.GameObject model, System.Collections.Generic.List\u00601 textureNames, System.Collections.Generic.List\u00601 newTextures) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader.CompileModel (.UrlConfig cfg, .ConfigNode partCfg, Single scaleFactor) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader\u002B\u003Cbr\u003E.MoveNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Erelevant part of .cfg:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODEL\u003Cbr\u003E{\u003Cbr\u003E\tmodel = B9_Aerospace/Parts/Cockpit_MK1/model\u003Cbr\u003E\ttexture = model_cockpit_mk2 , B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2\u003Cbr\u003E\ttexture = model_cockpit_mk2_emissive , B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2_emissive\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe paths are correct, the filenames are correct both sides the , the model works, I get a white part if the game loads which it does if I don\u0027t have the textures unity puts in the folder, if they\u0027re there game crashes on loading the part.\u003C/p\u003E\u003Cp\u003EI don\u0027t get it, and I\u0027m not sure how much longer I want to bash my skull against this brick wall. This isn\u0027t the first time I\u0027ve had completely unexplained to me failure of MODEL{texture}\u003C/p\u003E\n"},{"CreatedByName":"raidernick","CreatedById":97711,"CreatedDateTime":"2014-09-08T14:18:20Z","Content":"\n\u003Cp\u003EThis is not the right area to post this\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T14:22:24Z","Content":"\n\u003Cp\u003EOnly area that seems applicable?\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-08T14:46:45Z","Content":"\n\u003Cp\u003Ethere\u0027s a texture name mismatch somewhere. check extention case and file name case. dummy textures need to named same as the texture the MU is referring to. I get this pretty often because I have dozens of models referring to single set of textures, and always fixed when I made sure the texture names matched up 100%\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T15:27:02Z","Content":"\n\u003Cp\u003ETrust me the names are right, I don\u0027t make those kinds of mistakes, I copied the names.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-08T15:59:10Z","Content":"\n\u003Cp\u003Eis the model line referring to the correct model? I use MODEL{} for just about everything: Props, IVA, Externals, and with textures I didn\u0027t create. every time there was a problem it was a mistake I made.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T16:06:10Z\u0022 title=\u002209/08/2014 04:06  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T17:21:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nli2work\u0022 data-cite=\u0022nli2work\u0022\u003E\u003Cdiv\u003Eis the model line referring to the correct model?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E... No, I obviously put in the wrong model expecting it to work.\u003C/p\u003E\n"},{"CreatedByName":"Orionkermin","CreatedById":91013,"CreatedDateTime":"2014-09-08T17:41:07Z","Content":"\n\u003Cp\u003EI\u0027ve found that at times I had to put \u0022dummy\u0022 textures in the same file as the model. A 1x1 pixel works, I\u0027m not sure why it seems to need this but it does usually work when I have issues. Something to try at least \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEdit: This is of course if you\u0027re not keeping the models and textures all in one file like Kerbin Shuttle Orbiter does.\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-08T17:51:04Z","Content":"\n\u003Cp\u003Ewell, not much more I can help then. never had the issue you are having.\u003C/p\u003E\n"},{"CreatedByName":"MOARdV","CreatedById":60950,"CreatedDateTime":"2014-09-08T17:52:34Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022K3|Chris\u0022 data-cite=\u0022K3|Chris\u0022\u003E\u003Cdiv\u003Erelevant part of .cfg:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODEL\u003Cbr\u003E{\u003Cbr\u003E\tmodel = B9_Aerospace/Parts/Cockpit_MK1/model\u003Cbr\u003E\ttexture = model_cockpit_mk2 , B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2\u003Cbr\u003E\ttexture = model_cockpit_mk2_emissive , B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2_emissive\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EStupid question, maybe, but are the spaces before the comma present in the CFG? I recall seeing something like that happen in one of the reskins I did locally, and I am pretty sure it\u0027s because I had spaces before the comma / after the first texture name.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-09-08T18:03:42Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E... No, I obviously put in the wrong model expecting it to work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESeriously, or are you messing with us? I have experienced a few limited cases of this model reference not working, but it\u0027s been a long time since that happened last. I did notice something however... the textures you are trying to replace have the same name as the textures you are trying to replace them with. however, the model you are referencing is a MK1 model, and the textures you are replacing are named as if the MK1 model was referencing MK2 textures originally. My thought would be that the model was originally trying to use MK1 textures, and thus those are the texture names which should be in the first part of the \u0022texture =\u0022 line. I\u0027m too lazy right now to check this out myself, but that\u0027s my only bit of advice right now.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EStupid question, maybe, but are the spaces before the comma present in the CFG? I recall seeing something like that happen in one of the reskins I did locally, and I am pretty sure it\u0027s because I had spaces before the comma / after the first texture name.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat actually isn\u0027t an issue as far as I am aware, and from my own experience of taking un-optimized mods I have downloaded and giving them common-texture swaps to help my memory load.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T18:06:30Z\u0022 title=\u002209/08/2014 06:06  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Lack","CreatedById":47978,"CreatedDateTime":"2014-09-08T18:27:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Orionkermin\u0022 data-cite=\u0022Orionkermin\u0022\u003E\u003Cdiv\u003EI\u0027ve found that at times I had to put \u0022dummy\u0022 textures in the same file as the model. A 1x1 pixel works, I\u0027m not sure why it seems to need this but it does usually work when I have issues. Something to try at least \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYeah, this is what I had to do; very occasionally it still doesn\u0027t work, then I use a 5x5 and that seems to solve it.\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T18:40:17Z","Content":"\n\u003Cp\u003EI\u0027m giving up, this makes no sense what so ever:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    MODEL\u003Cbr\u003E    {\u003Cbr\u003E\t\tmodel = B9_Aerospace/Parts/Cockpit_MK1/model\u003Cbr\u003E\t\ttexture = model_cockpit_mk2, B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2\u003Cbr\u003E\t\ttexture = model_cockpit_mk2_emissive, B9_Aerospace/Parts/Cockpit_MK2/model_cockpit_mk2_emissive\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf I have that in the .cfg I get a nullref that stops KSP from loading, remove it and replace with model = model.mu and copy the textures over from the mk2 folder and tada, it loads.\u003C/p\u003E\u003Cp\u003EI have dummy files, or even the proper files, the paths and names are copied from the system, they can\u0027t have typos, they exist, KSP still does this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EPartLoader: Compiling Part \u0027B9_Aerospace/Parts/Cockpit_MK1/part/B9_Cockpit_MK1\u0027\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/BuildAgent/work/d63dfc6385190b60/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 49)\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at PartLoader.ReplaceTextures (UnityEngine.GameObject model, System.Collections.Generic.List\u00601 textureNames, System.Collections.Generic.List\u00601 newTextures) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader.CompileModel (.UrlConfig cfg, .ConfigNode partCfg, Single scaleFactor) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E  at PartLoader\u002B\u003Cbr\u003E.MoveNext () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T18:53:03Z\u0022 title=\u002209/08/2014 06:53  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by K3|Chris\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-08T19:48:04Z","Content":"\n\u003Cp\u003Ewhat textures were exported with \u0022Cockpit_MK1/model\u0022?\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T19:52:07Z","Content":"\n\u003Cp\u003Emodel_cockpit_mk2.tga\u003C/p\u003E\u003Cp\u003Emodel_cockpit_mk2_emissive.tga\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T21:14:00Z","Content":"\n\u003Cp\u003E*facedesk* really? REALLY? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif\u0022 alt=\u0022:mad:\u0022\u003E that would be an excellent explanation for the problem, all textures I\u0027ve ever had problems with had _s in them because that\u0027s how B9 textures are named, oh god, so many hours and so much cranium lost to that brick wall...\u003C/p\u003E\n"},{"CreatedByName":"nli2work","CreatedById":106805,"CreatedDateTime":"2014-09-08T21:19:34Z","Content":"\n\u003Cp\u003EI don\u0027t think underscore is the problem. FS docs says it only matters if the MU name has underscore. I use underscore in texture names and never had this issue. \u003C/p\u003E\u003Cp\u003EMy MODEL{} blocks look like this\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODEL\u003Cbr\u003E\t{\u003Cbr\u003E\t\tmodel = NohArksPnP/Parts/Engines/jeyTew/jeyTew\u003Cbr\u003E\t\ttexture = UHB_props_DIF, NohArksPnP/Parts/Engines/noseMountUHB/UHB_props_DIF\u003Cbr\u003E\t\ttexture = UHB_props_EMI, NohArksPnP/Parts/Engines/noseMountUHB/UHB_props_EMI\u003Cbr\u003E\t\ttexture = UHB_props_NRM, NohArksPnP/Parts/Engines/noseMountUHB/UHB_props_NRM\u003Cbr\u003E\t\ttexture = rectFuselage_NRM, NohArksPnP/Parts/rectFuel/rectFuselage_NRM\u003Cbr\u003E\t\ttexture = rectFuselage_DIF, NohArksPnP/Parts/rectFuel/rectFuselage_DIF\u003Cbr\u003E\t\ttexture = rotorDisc, NohArksPnP/Parts/Engines/noseMountUHB/rotorDisc\u003Cbr\u003E\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eis there a flag transform? does it have a dummy texture assigned?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T21:28:10Z\u0022 title=\u002209/08/2014 09:28  PM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by nli2work\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-09-08T21:23:48Z","Content":"\n\u003Cp\u003EActually, I\u0027m a bit worried that this is more serious than we\u0027re all seeing here. If he\u0027s getting nullrefs from a model not finding its textures, then there\u0027s more going on here than a problematic configuration. Usually if a model cannot find a texture, the game simply doesn\u0027t use that texture and instead displays the white layer for whatever use that texture was intended for. For a diffuse, that means a while model... for a normal that would simply mean a non-functioning normal map. In the most extreme case, the part will simply not compile properly and the part will be absent from the list. Critical errors do not occur for this kind of configuration issue.\u003C/p\u003E\u003Cp\u003EAs to the underscores, I have not experienced any issues with textures containing them.\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-08T22:18:19Z","Content":"\n\u003Cp\u003EMake sure that the textures appear sooner, in path-alphabetical order, than the model and cfg.\u003C/p\u003E\u003Cp\u003EThat\u0027s why SXT is named SXT, so it loads after the Squad folder.\u003C/p\u003E\n"},{"CreatedByName":"K3-Chris","CreatedById":61664,"CreatedDateTime":"2014-09-08T22:22:32Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022NathanKell\u0022 data-cite=\u0022NathanKell\u0022\u003E\u003Cdiv\u003EMake sure that the textures appear sooner, in path-alphabetical order, than the model and cfg.\u003Cp\u003EThat\u0027s why SXT is named SXT, so it loads after the Squad folder.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESo models and .cfg go in /x/ textures go in /a/ ?\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2014-09-08T22:25:17Z","Content":"\n\u003Cp\u003EThat should work, yeah. Just a guess, but the NRE might well be that it\u0027s trying to reference a texture whose GDB entry doesn\u0027t exist yet.\u003C/p\u003E\u003Cp\u003EIf that doesn\u0027t work, let me know and I\u0027ll poke around a bit.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2014-09-08T23:51:22Z","Content":"\n\u003Cp\u003EI think it\u0027s getting a bit over complicated now... but it would explain why the program\u0027s reaction is so over the top.\u003C/p\u003E\n"}]}