{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":113,"Articles":[{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2015-12-19T16:31:39Z","Content":"If you look at the Albedo numbers of the bodies in our Solar System, Jupiter is about 3x as reflective as the Moon. [https://en.wikipedia.org/wiki/Bond_albedo#Examples](https://en.wikipedia.org/wiki/Bond_albedo#Examples)"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-12-20T05:46:06Z","Content":"There you go, you will have to deal with the artifacts\n\n\u003Ciframe class=\u0022imgur-album\u0022 frameborder=\u00220\u0022 height=\u0022550\u0022 src=\u0022//imgur.com/a/688n0/embed?background=ffffff\u0026text=1a1a1a\u0026link=4e76c9\u0022 width=\u0022100%\u0022\u003E\u003C/iframe\u003E"},{"CreatedByName":"Thomassino","CreatedById":137899,"CreatedDateTime":"2015-12-20T13:13:29Z","Content":"\u003E \n\u003E \n\u003E 20 hours ago, Poodmund said:\n\u003E \n\u003E \n\u003E If you look at the Albedo numbers of the bodies in our Solar System, Jupiter is about 3x as reflective as the Moon. [https://en.wikipedia.org/wiki/Bond_albedo#Examples](https://en.wikipedia.org/wiki/Bond_albedo#Examples)\n\u003E \n\nBut Jool\u0027s clouds have different colour than Jupiter\u0027s (which are mostly white and reddish), so I think reflected light amount would definitely be smaller than in Jupiter\u0027s case."},{"CreatedByName":"legoclone09","CreatedById":142607,"CreatedDateTime":"2015-12-20T16:59:09Z","Content":"When I am playing this in 64k, and it is nighttime, the Sun shows through Kerbin. I don\u0027t think if it is reported on the main page or not, just want to know if this is fixable in the cfg."},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-12-20T17:22:28Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Thomassino said:\n\u003E \n\u003E \n\u003E But Jool\u0027s clouds have different colour than Jupiter\u0027s (which are mostly white and reddish), so I think reflected light amount would definitely be smaller than in Jupiter\u0027s case.\n\u003E \n\nJool might not be reflective as Jupiter, no. But Jools size and Laythes proximity would still make for a green daylight at night. The planet takes up a good 30-40% of the sky.\n\nBkackrack so intake it actual planet shine is possible? What about Kerbin and the Mun? For the longest time I\u0027ve had this picture in my head of flying above the clouds on a full moon lit night. Itd be incredible. Seeing the clouds and everything glowing with moonshine.\n\n**Edited \u003Ctime datetime=\u00222015-12-20T17:23:20Z\u0022 title=\u002212/20/2015 05:23  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 20, 2015\u003C/time\u003E by Motokid600**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-20T19:46:19Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, legoclone09 said:\n\u003E \n\u003E \n\u003E When I am playing this in 64k, and it is nighttime, the Sun shows through Kerbin. I don\u0027t think if it is reported on the main page or not, just want to know if this is fixable in the cfg.\n\u003E \n\nThis has been known for a while, I\u0027ll add it in the OP. No workaround yet.\n\n\u003E \n\u003E \n\u003E 2 hours ago, Motokid600 said:\n\u003E \n\u003E \n\u003E Jool might not be reflective as Jupiter, no. But Jools size and Laythes proximity would still make for a green daylight at night. The planet takes up a good 30-40% of the sky.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Bkackrack so intake it actual planet shine is possible? What about Kerbin and the Mun? For the longest time I\u0027ve had this picture in my head of flying above the clouds on a full moon lit night. Itd be incredible. Seeing the clouds and everything glowing with moonshine.\n\u003E \n\nWell I don\u0027t know about applying these effects to terrain or clouds but, I\u0027m thinking of adding Jool as a second light source for Laythe\u0027s skies and ocean\u0027s reflections, should look quite good but the lighting on terrain and on the scaled space mesh would have to match or it\u0027ll look off."},{"CreatedByName":"Motokid600","CreatedById":66349,"CreatedDateTime":"2015-12-20T21:05:21Z","Content":"Must\u0027ve been a longer night then I thought by the looks of that sentence of mine. Either way Blackrack it sounds wonderful. Cant wait to see what you got cooking for the future.\n\n**Edited \u003Ctime datetime=\u00222015-12-20T21:06:21Z\u0022 title=\u002212/20/2015 09:06  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 20, 2015\u003C/time\u003E by Motokid600**"},{"CreatedByName":"Thomassino","CreatedById":137899,"CreatedDateTime":"2015-12-20T21:16:00Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, blackrack said:\n\u003E \n\u003E \n\u003E Well I don\u0027t know about applying these effects to terrain or clouds but, I\u0027m thinking of adding Jool as a second light source for Laythe\u0027s skies and ocean\u0027s reflections, should look quite good but the lighting on terrain and on the scaled space mesh would have to match or it\u0027ll look off.\n\u003E \n\nThat would have been awesome! Can Scatterer possibly do eclipse shadows? That\u0027s a little thing that is really missing from KSP right now IMO."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-20T22:21:58Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Thomassino said:\n\u003E \n\u003E \n\u003E That would have been awesome! Can Scatterer possibly do eclipse shadows? That\u0027s a little thing that is really missing from KSP right now IMO.\n\u003E \n\nrbray is cooking up something for the eclipse shadows (on terrains and planets). On my side I\u0027m thinking of a way of making the eclipse shadows work correctly with the atmosphere, with the scattering and all.\n\nFor now I\u0027m working on a rings shader, I decided to shamelessly plug in the mie scattering code from proland... and well, here\u0027s what it looks like when seen from behind and sunlight is shining through it:\n\n![b0UR1Xc.png](http://i.imgur.com/b0UR1Xc.png)\n\n**Edited \u003Ctime datetime=\u00222015-12-20T22:24:29Z\u0022 title=\u002212/20/2015 10:24  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 20, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"pilot410","CreatedById":131259,"CreatedDateTime":"2015-12-21T03:45:28Z","Content":"First off mod looks amazing I just can\u0027t get it to work I drop it in the game data folder and the UI shows up in game but it shows that none of the planets are loading any help? Thanks!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-21T06:21:15Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, pilot410 said:\n\u003E \n\u003E \n\u003E First off mod looks amazing I just can\u0027t get it to work I drop it in the game data folder and the UI shows up in game but it shows that none of the planets are loading any help? Thanks!\n\u003E \n\nAre you using any other mods? Are there any symptoms?"},{"CreatedByName":"pilot410","CreatedById":131259,"CreatedDateTime":"2015-12-21T08:34:46Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Are you using any other mods? Are there any symptoms?\n\u003E \n\nThanks for responding! And I\u0027m using EVE and some of the features of avp and I\u0027m not sure if the other galaxy mod might have effect? Thanks!"},{"CreatedByName":"Tarrence12","CreatedById":154496,"CreatedDateTime":"2015-12-21T08:41:12Z","Content":"This is wicked cool man I\u0027m super excited to see this!!!! Good luck I\u0027ll be keeping an eye on this thread!!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-21T11:54:37Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, pilot410 said:\n\u003E \n\u003E \n\u003E Thanks for responding! And I\u0027m using EVE and some of the features of avp and I\u0027m not sure if the other galaxy mod might have effect? Thanks!\n\u003E \n\nI would suggest trying without the galaxy mod first, and maybe trying without any other mods at all, just to be sure."},{"CreatedByName":"AngelLestat","CreatedById":58968,"CreatedDateTime":"2015-12-21T22:58:39Z","Content":"Looks amazing Blackrack, great job!\n\nIs a shame that this game never was done with performance in mind. So not sure if I would be able to enjoy it."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-22T02:13:45Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, AngelLestat said:\n\u003E \n\u003E \n\u003E Looks amazing Blackrack, great job!\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Is a shame that this game never was done with performance in mind. So not sure if I would be able to enjoy it.\n\u003E \n\nAs the game is CPU-hungry, you can always try the mod as it primarily taxes your GPU. Most people with good GPUs seem to report a minimal impact on performance."},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-12-22T03:07:30Z","Content":"\u003E \n\u003E \n\u003E On \u200E12\u200E/\u200E20\u200E/\u200E2015 at 3:21 PM, blackrack said:\n\u003E \n\u003E \n\u003E rbray is cooking up something for the eclipse shadows (on terrains and planets). On my side I\u0027m thinking of a way of making the eclipse shadows work correctly with the atmosphere, with the scattering and all.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E For now I\u0027m working on a rings shader, I decided to shamelessly plug in the mie scattering code from proland... and well, here\u0027s what it looks like when seen from behind and sunlight is shining through it:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E ....\n\u003E \n\nShaders applied to rings..... Shaders applie...... Dude that\u0027s awesome!"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-22T06:04:12Z","Content":"Alright I\u0027m uploading a new version which:\n\n-Adds a fake ocean in the postprocessing shader which is controlled via a variable in the settings file. It replaces the expensive ocean at an altitude of 15 km (tweakable), has the same sun reflection, and the transition between the two is mostly unnoticeable, should also replace the visible ocean floor at an altitude of 70km.\n\n-Adds settings to fade out foam and alpha by distance\n\n-Fixes the extinction barrier effect\n\n-Adds control for the exposure on the edge of the atmosphere separately from the exposure on the planet itself\n\n-Fixes sunglare visible in space and through planets\n\nAs always, it\u0027s uploading a bit slow so check back in a while."},{"CreatedByName":"Jovzin","CreatedById":105152,"CreatedDateTime":"2015-12-22T13:24:21Z","Content":"So I was thinking.\n\nAre there some best settings for scatterer ? Or default settings are the best  ?"},{"CreatedByName":"V8jester","CreatedById":136093,"CreatedDateTime":"2015-12-22T14:51:09Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Jovzin said:\n\u003E \n\u003E \n\u003E So I was thinking.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Are there some best settings for scatterer ? Or default settings are the best  ?\n\u003E \n\nI think that is best answered by saying. Everyone\u0027s opinion of \u0022best\u0022 can vary significantly. I think Blackrack supplies the settings that are best suited to everyone as a whole. But if you want bigger waves or a lower atmosphere. You may just want to start playing with the settings. Worse case you mess them up and hate them. Just reinstall a fresh copy of scatterer and you are back to normal."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-22T15:04:38Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Jovzin said:\n\u003E \n\u003E \n\u003E So I was thinking.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Are there some best settings for scatterer ? Or default settings are the best  ?\n\u003E \n\n\u003E \n\u003E \n\u003E 12 minutes ago, V8jester said:\n\u003E \n\u003E \n\u003E I think that is best answered by saying. Everyone\u0027s opinion of \u0022best\u0022 can vary significantly. I think Blackrack supplies the settings that are best suited to everyone as a whole. But if you want bigger waves or a lower atmosphere. You may just want to start playing with the settings. Worse case you mess them up and hate them. Just reinstall a fresh copy of scatterer and you are back to normal.\n\u003E \n\nI always include the settings I consider best by my own taste, but as V8jester said everyone\u0027s definition of best is different so you have to experiment with the settings yourself."},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2015-12-22T22:42:26Z","Content":"Just tried the new version and it didn\u0027t crash! Linux 64bit OpenGL nvidia, unfortunately it didn\u0027t do anything magical for the waves and all the usual artefacts were present. Seems to run smooth. When I get some more time I will test the ocean disappearance."},{"CreatedByName":"Citizen247","CreatedById":136793,"CreatedDateTime":"2015-12-23T01:09:12Z","Content":"\u003E \n\u003E \n\u003E 19 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E -Adds a fake ocean in the postprocessing shader which is controlled via a variable in the settings file. It replaces the expensive ocean at an altitude of 15 km (tweakable), has the same sun reflection, and the transition between the two is mostly unnoticeable, should also replace the visible ocean floor at an altitude of 70km.\n\u003E \n\nWhat\u0027s the setting? I\u0027m using 64k and getting pretty major z-fighting from the ocean when the fake ocean kicks in."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-12-23T06:01:25Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E Just tried the new version and it didn\u0027t crash! Linux 64bit OpenGL nvidia, unfortunately it didn\u0027t do anything magical for the waves and all the usual artefacts were present. Seems to run smooth. When I get some more time I will test the ocean disappearance.\n\u003E \n\nI have a suspicion it might be the foam that\u0027s causing these artifacts, I\u0027ll do some testing and report back.\n\n\u003E \n\u003E \n\u003E 4 hours ago, Citizen247 said:\n\u003E \n\u003E \n\u003E What\u0027s the setting? I\u0027m using 64k and getting pretty major z-fighting from the ocean when the fake ocean kicks in.\n\u003E \n\nIt\u0027s expected, I\u0027m working on a logarithmic depth buffer that should fix this."},{"CreatedByName":"SkyKaptn","CreatedById":153990,"CreatedDateTime":"2015-12-23T06:25:40Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E It\u0027s expected, I\u0027m working on a logarithmic depth buffer that should fix this.\n\u003E \n\nAwesome. No issues with latest build, just this z-fighting from you were talking about. (from orbit) Everything else is peachy\n\nRunning forced DirectX11."}]}