{"TopicId":58442,"ForumId":36,"TopicTitle":"KSP Refresher (batch script, need halp)","CreatedByName":"KFS","CreatedById":75614,"CreatedDateTime":"2014-01-01T04:04:59Z","PageNum":1,"Articles":[{"CreatedByName":"KFS","CreatedById":75614,"CreatedDateTime":"2014-01-01T04:04:59Z","Content":"\n\u003Cp\u003EOkay, so im a person who plays with a heavy amount of mods installed, for me eventually after a while of so many crashing, the actual stock ksp files get corrupted/broken, and cause more crashes. So im working on a very simple script, what i did was take my original totally mod free version of ksp .22 and put it into its own zip file. I wanted to make it so you could modify it without too much trouble for your own setup, or add a prompt to ask you where youd like the backup.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E Directory of C:\\Program Files (x86)\\Steam\\SteamApps\\common\\Kerbal Space Program\u003Cbr\u003E\\22\u003Cbr\u003E\u003Cbr\u003E12/31/2013  09:25 AM    \u0026lt;DIR\u0026gt;          .\u003Cbr\u003E12/31/2013  09:25 AM    \u0026lt;DIR\u0026gt;          ..\u003Cbr\u003E12/31/2013  09:25 AM    \u0026lt;DIR\u0026gt;          Kerbal Space Program 0.22\u003Cbr\u003E12/19/2013  12:27 AM       488,906,387 Kerbal Space Program 0.22.zip\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          postdata\u003Cbr\u003E               1 File(s)    \u003Cbr\u003E               4 Dir(s)  \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe directory structure is confusing, so i will explain the variables here.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Edest=C:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs the location of the top most directory in this install. Its a subdirectory of my steam updated ksp.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Epostdest=C:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\\u0022Kerbal Space Program 0.22\u0022\\\u0022Kerbal Space Program\u0022\\\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs the full path of KSP.22 in this case. (gamedata, ksp.exe are in here)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EC:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\postdata\\\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIs where the backup is made to, gamedata, saves, ships, resources and plugins are all saved.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003E Directory of C:\\Program Files (x86)\\Steam\\SteamApps\\common\\Kerbal Space Program\u003Cbr\u003E\\22\\postdata\u003Cbr\u003E\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          .\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          ..\u003Cbr\u003E12/31/2013  09:26 AM    \u0026lt;DIR\u0026gt;          GameData\u003Cbr\u003E12/31/2013  09:14 AM    \u0026lt;DIR\u0026gt;          Parts\u003Cbr\u003E12/31/2013  09:14 AM    \u0026lt;DIR\u0026gt;          Plugins\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          saves\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          Screenshots\u003Cbr\u003E12/31/2013  09:15 AM    \u0026lt;DIR\u0026gt;          Ships\u003Cbr\u003E               0 File(s)             \u003Cbr\u003E               8 Dir(s)  \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe basic idea of its usage is like so:\u003C/p\u003E\u003Cp\u003E1. Backup user modifications(mods, saves, ships, resources)\u003C/p\u003E\u003Cp\u003E2. Delete ksp, all of it.\u003C/p\u003E\u003Cp\u003E3. Restore KSP\u003C/p\u003E\u003Cp\u003E4. Restore mods\u003C/p\u003E\u003Cp\u003E5. ????????????\u003C/p\u003E\u003Cp\u003E6. Profit!\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E@echo off\u003Cbr\u003Erem ##############################\u003Cbr\u003Erem this script does not work yet\u003Cbr\u003Erem ############################## \u003Cbr\u003Etitle KSP Refresher 0.1\u003Cbr\u003Ecls\u003Cbr\u003Eset 7zip=C:\\\u0022Program Files\u0022\\7-Zip\\7z.exe\u003Cbr\u003Eset dest=C:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\\u003Cbr\u003Eset postdest=C:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\\u0022Kerbal Space Program 0.22\u0022\\\u0022Kerbal Space Program\u0022\\\u003Cbr\u003Eset predest=C:\\\u0022Program Files (x86)\u0022\\Steam\\SteamApps\\common\\\u0022Kerbal Space Program\u0022\\22\\\u0022Kerbal Space Program 0.22\u0022\\\u003Cbr\u003Eset zip=%dest%\u0022Kerbal Space Program 0.22.zip\u0022\u003Cbr\u003Eecho Performing Precleaning..\u003Cbr\u003Erd /S /Q %dest%postdata\\\u003Cbr\u003Emkdir %dest%postdata\u003Cbr\u003Emkdir %postdest%postdata\\GameData\\\u003Cbr\u003Eecho D | xcopy %postdest%GameData %dest%postdata\\GameData\\ /S\u003Cbr\u003Eecho y | del /f %postdest%GameData\\Squad\\\u003Cbr\u003Emkdir %dest%postdata\\Parts\\\u003Cbr\u003Eecho D | xcopy %postdest%Parts %dest%postdata\\Parts\\ /S\u003Cbr\u003Emkdir %postdest%PluginData\\\u003Cbr\u003Eecho D | xcopy %postdest%PluginData %dest%postdata\\PluginData\\ /S\u003Cbr\u003Emkdir %postdest%/Plugins\\\u003Cbr\u003Eecho D | xcopy %postdest%Plugins %dest%postdata\\Plugins\\ /S\u003Cbr\u003Emkdir %postdest%Resources\\\u003Cbr\u003Eecho D | xcopy %postdest%Resources %dest%postdata\\Resources\\ /S\u003Cbr\u003Emkdir %postdest%postdata\\saves\\\u003Cbr\u003Eecho D | xcopy %postdest%saves %dest%postdata\\saves /S\u003Cbr\u003Emkdir %postdest%Screenshots\u003Cbr\u003Eecho D | xcopy %postdest%Screenshots %dest%postdata\\Screenshots /S\u003Cbr\u003Emkdir %postdest%Ships\u003Cbr\u003Eecho D | xcopy %postdest%Ships %dest%postdata\\Ships /S\u003Cbr\u003Ecls\u003Cbr\u003Eecho Preclean and backup ready, beginning wipe...\u003Cbr\u003Erd /S /Q %predest%\u003Cbr\u003E%7zip% x %zip%\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EBackup works perfectly, i just cannot seem to delete KSP.... Windows 8. Once i get this working on windows i can easily make mac and linux versions, i know bash much better than i do batch.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-01-01T04:20:05Z\u0022 title=\u002201/01/2014 04:20  AM\u0022 data-short=\u002210 yr\u0022\u003EJanuary 1, 2014\u003C/time\u003E by KFS\u003C/strong\u003E\n\u003C/span\u003E\n"}]}