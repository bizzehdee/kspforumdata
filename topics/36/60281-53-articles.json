{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":53,"Articles":[{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-06T18:43:35Z","Content":"\n\u003Cp\u003EThanks Zitronen. I got it working.\u003C/p\u003E\u003Cp\u003ESO COOL!!!\u003C/p\u003E\u003Cp\u003ECan you think of a way to control other things, such as picking SAS modes (retro, maneuver, etc) without using the mouse? I\u0027m in the process of making a simpit/Apollo-ish module.\u003C/p\u003E\u003Cp\u003EStibbons, that is awesome. I\u0027ve been looking at how to handle Navballs. I ended up changing Enhanced Navball so I can move it horizontally and vertically and I just treat is as a Navball HUD.\u003C/p\u003E\u003Cp\u003EHow much latency are you getting with the Navball? Have you found a way yet to show at least your Pro/Retro vectors?\u003C/p\u003E\u003Cp\u003EThis thread is amazing. Thanks for all the hard work Zitronen making this happen. This is more exciting than when I got N64/Goldeneye for Christmas. All my wife can do is roll her eyes.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-07T19:12:00Z","Content":"\n\u003Cp\u003ENice one! Yeah I was looking at adding the SAS modes awhile ago, but unfortunately the windows 10 problems derailed that for a bit. \u003C/p\u003E\u003Cp\u003E****\u003C/p\u003E\u003Cp\u003EFor people with windows 10 problems\u003C/p\u003E\u003Cp\u003EI added a new config option:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u0026lt;int name=\u0022HandshakeDisable\u0022\u0026gt;0\u0026lt;/int\u0026gt;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESet it to \u00221\u0022 to disable the handshake stuff and it will just try the ports and send data without requiring handshake. Make sure you set the correct default port:\u003C/p\u003E\u003Cp\u003EDownload the new version here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPSerialIO_017_6.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPSerialIO_017_6.zip\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-07T22:05:48Z","Content":"\n\u003Cp\u003EI got it to control the AP modes.\u003C/p\u003E\u003Cp\u003EMy biggest problem now is figuring out all the things that can be controlled and how.\u003C/p\u003E\u003Cp\u003EHopefully I can find a way to use this to call mechjeb functions, or make and execute scripts in KOS.\u003C/p\u003E\u003Cp\u003EIn over my head \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-11-08T05:08:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Keith Young\u0022 data-cite=\u0022Keith Young\u0022\u003E\u003Cdiv\u003EHow much latency are you getting with the Navball? Have you found a way yet to show at least your Pro/Retro vectors?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m trying to decide if the plugin should be trying to control the velocity display mode (Orbital, Surface or Target) of the in-game HUD. A nice side effect of doing that is that we can then save some space in the data packet by only sending the data the arduino requests. On the other hand, that\u0027s only really a saving of 16 bytes, plus \u0022navball mode\u0022 would add a couple more bits to packets in both directions. And it\u0027s definitely possible that somebody would be interested in having, say, both orbital and target data available.\u003C/p\u003E\u003Cp\u003EBut once I\u0027ve figured that out, yes, I do have code in the plugin to send that data, so I\u0027ll be able to show prograde, maneuver, target etc data on the navball. It\u0027s not finished yet because I spent a full day yesterday drawing and rendering the tiny icons to do it. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EHaven\u0027t yet hooked this rig up to the rest of my controller. But it\u0027s currently capable of doing arbitrary rotations at \u0026gt;40 fps, and there\u0027s no other major delays getting packets between the different elements in my controller. So no, I\u0027m not anticipating any noticeable lag beyond that generated by only getting data from the game every 80ms.\u003C/p\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-08T05:13:43Z","Content":"\n\u003Cp\u003ELooking forward to seeing how this turns out.\u003C/p\u003E\u003Cp\u003EI\u0027m currently making as complete an Apollo styled simulator as possible. I\u0027m currently using a modified version of EnhancedNavball to move the Navball vertically and sort of pretending it\u0027s a hud, which is less than great.\u003C/p\u003E\u003Cp\u003EI was looking for a way to put a low latency Navball on a small OLED and decided that wasn\u0027t realistic for me to do.\u003C/p\u003E\n"},{"CreatedByName":"FewCode","CreatedById":141097,"CreatedDateTime":"2015-11-08T05:24:59Z","Content":"\n\u003Cp\u003EI gave up with the whole windows 10 thing. I tried for too long to get it to work. So I just dual booted my PC with ubuntu since I had to do this for work anyway. \u003C/p\u003E\u003Cp\u003EHowever, I am having another problem. It will do a handshake but then not transmit any data over. \u003C/p\u003E\u003Cp\u003EChanging the Buadrate makes KSP freeze when loading into the ship as well.\u003C/p\u003E\u003Cp\u003EIs there anything I can do about this? My logs are as below. They don\u0027t seem that helpful.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[LOG 16:20:02.223] KSPSerialIO: Version 0.17.4\u003Cbr\u003E[LOG 16:20:02.223] KSPSerialIO: Getting serial ports...\u003Cbr\u003E[LOG 16:20:02.223] KSPSerialIO: Output packet size: 191/255\u003Cbr\u003E[LOG 16:20:02.224] KSPSerialIO: Baud: 38400\u003Cbr\u003E[LOG 16:20:02.224] KSPSerialIO: Parity None\u003Cbr\u003E[LOG 16:20:02.224] KSPSerialIO: DataBits 8\u003Cbr\u003E[LOG 16:20:02.224] KSPSerialIO: StopBits One\u003Cbr\u003E[LOG 16:20:02.225] KSPSerialIO: Found 34 serial ports\u003Cbr\u003E[LOG 16:20:02.225] KSPSerialIO: trying default port /dev/ttyACM0\u003Cbr\u003E[LOG 16:20:02.225] KSPSerialIO: Opening port...\u003Cbr\u003E[LOG 16:20:02.930] KSPSerialIO: found KSP Display at /dev/ttyACM0\u003Cbr\u003E[LOG 16:20:02.930] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E\u003Cbr\u003E--SNIP--\u003Cbr\u003E\u003Cbr\u003E[LOG 16:20:05.412] KSPSerialIO: Handshake received - 314\u003Cbr\u003E[LOG 16:20:05.412] KSPSerialIO: Handshake received - 314\u003Cbr\u003E[LOG 16:20:05.413] KSPSerialIO: Handshake received - 314\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"ljonka","CreatedById":153245,"CreatedDateTime":"2015-11-08T11:36:26Z","Content":"\n\u003Cp\u003EHello, everybody!\u003C/p\u003E\u003Cp\u003EI just registered to post this because I discovered that the newest version of the mod isn\u0027t compatible with 0.90.0.0 as it reports that there is no \u0022.Vessel.mach Field\u0022 ([Exception] MissingFieldException Field \u0027.Vessel.mach\u0027 not found).\u003C/p\u003E\u003Cp\u003ETo solve this I downloaded version 0.17.1 but this version is unfortunately not compatible with the given arduino-script \u0022KSPIODemo12\u0022.\u003C/p\u003E\u003Cp\u003ESo i just wanted to ask wether anybody could help me rescripting it as I don\u0027t know what data this version of the plugin sends over the serial port or OP to post the code for 0.17.1.\u003C/p\u003E\u003Cp\u003EEDIT: just found out that KSPIODemo10 suits perfect for 0.17.1 - works ootb!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-09T17:51:06Z\u0022 title=\u002211/09/2015 05:51  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 9, 2015\u003C/time\u003E by ljonka\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-10T00:12:46Z","Content":"\n\u003Cp\u003EGood news! From my quick tests, it seems to work with 1.0.5. They changed the thermal stuff again, will see if there are any problems. Also they removed intake air because \u0022it make no sense\u0022, I will remove it from the vessel data to save some bytes.\u003C/p\u003E\n"},{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-11-19T19:19:18Z","Content":"\ncan anyone with win10 confirm that this disablehandshake work?\u003Cbr\u003E\n\u003Cbr\u003E\nI \u0022just\u0022 started my project, and tried to connect my arduino (to a usb3 port, should not matter right?), uploaded the \u0022KSPIOdemo12\u0022, connected a LED to pin 11 (SASLED) and a button to pin 8 (SASPIN).\u003Cbr\u003E\n\u003Cbr\u003E\nchanged the mentioned disablehandshake to 1, and set the comport to COM3 (as indicated in the arduino IDE(1.6.6)).\u003Cbr\u003E\n\u003Cbr\u003E\nStarted KSP (1.0.5), loaded a default ship on the runway, and neither \u0022T\u0022 on the keyboard or the button on the arduino made the LED turn on.\u003Cbr\u003E\n\u003Cbr\u003E\nJust to doublecheck my LED and button i loaded up a \u0022LED\u0022-program to the arduino (after quitting KSP), and _it_ worked as intended.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nThanx in advance :D\u003Cbr\u003E\n\u003Cbr\u003E\nEdit: Arduino Mega 2560\u003Cbr\u003E\n\u003Cbr\u003E\nEdit2: The LED (connected to pin 11 and 13) flashes occationally when when im the the VAB/Hangar :D\u003Cbr\u003E\n\u003Cbr\u003E\nEdit3: Its also version 0.17.6 of this plugin, and when loading the craft to the runway, it _DOES_ say \u0022initiated connection to com3\u0022 or somthing like that :D\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-19T19:36:38Z\u0022 title=\u002211/19/2015 07:36  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 19, 2015\u003C/time\u003E by djnekkid\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-20T17:17:11Z","Content":"\nAre the rx/tx LEDs on the arduino flashing? \u003Cbr\u003E\n\u003Cbr\u003E\nInputs on windows 10 doesn\u0026#39;t work, so your button won\u0026#39;t work. The SASLED should work though. Have you tried the other LEDs, like GLED.\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-20T19:32:17Z","Content":"\nHi Zitronen\u003Cbr\u003E\n\u003Cbr\u003E\nThanks again for such an amazing mod. This is really helping me build my simpit.\u003Cbr\u003E\n\u003Cbr\u003E\nI am currently trying to make a better autopilot. I can already turn on my basic autopilot using your additional byte.\u003Cbr\u003E\n\u003Cbr\u003E\nTo improve my autopilot I need to know the current available thrust of my vessel.\u003Cbr\u003E\n\u003Cbr\u003E\nI currently see this chunk of code:\u003Cbr\u003E\n\u003Cbr\u003E\n[CODE]\u003Cbr\u003E\n// this recursive stage look up stuff stolen and modified from KOS and others\u003Cbr\u003E\npublic static List\u0026lt;Part\u0026gt; GetListOfActivatedEngines(Vessel vessel)\u003Cbr\u003E\n{\u003Cbr\u003E\nvar retList = new List\u0026lt;Part\u0026gt;();\u003Cbr\u003E\n\u003Cbr\u003E\nforeach (var part in vessel.Parts)\u003Cbr\u003E\n{\u003Cbr\u003E\nforeach (PartModule module in part.Modules)\u003Cbr\u003E\n{\u003Cbr\u003E\nvar engineModule = module as ModuleEngines;\u003Cbr\u003E\nif (engineModule != null)\u003Cbr\u003E\n{\u003Cbr\u003E\nif (engineModule.getIgnitionState)\u003Cbr\u003E\n{\u003Cbr\u003E\nretList.Add(part);\u003Cbr\u003E\n}\u003Cbr\u003E\n}\u003Cbr\u003E\n\u003Cbr\u003E\nvar engineModuleFx = module as ModuleEnginesFX;\u003Cbr\u003E\nif (engineModuleFx != null)\u003Cbr\u003E\n{\u003Cbr\u003E\nvar engineMod = engineModuleFx;\u003Cbr\u003E\nif (engineModuleFx.getIgnitionState)\u003Cbr\u003E\n{\u003Cbr\u003E\nretList.Add(part);\u003Cbr\u003E\n}\u003Cbr\u003E\n}\u003Cbr\u003E\n}\u003Cbr\u003E\n}\u003Cbr\u003E\n\u003Cbr\u003E\nreturn retList;\u003Cbr\u003E\n}\u003Cbr\u003E\n[/CODE]\u003Cbr\u003E\n\u003Cbr\u003E\nAnd there are some other methods as well.\u003Cbr\u003E\n\u003Cbr\u003E\nI was wondering if you know how I can find the maximum available throttle? I don\u0026#39;t think I see anywhere where you are utilizing retList. I\u0026#39;m pretty new to this, so I don\u0026#39;t see where/how I can find the maximum available throttle, or the current mass flow, etc.\u003Cbr\u003E\n\u003Cbr\u003E\nDo you know how to do this? Is there something I\u0026#39;m overlooking in your code you can point me to?\u003Cbr\u003E\n\u003Cbr\u003E\nThanks again!\n"},{"CreatedByName":"Diazo","CreatedById":81549,"CreatedDateTime":"2015-11-20T19:47:02Z","Content":"\nWhile I can\u0026#39;t help you on current mass flow (actually, not even sure what this is?), I\u0026#39;ve dealt with the engine stuff myself.\u003Cbr\u003E\n\u003Cbr\u003E\n[url=https://github.com/SirDiazo/TWR1/blob/master/TWR1/TWR1Module.cs#L223-L318]Here\u0026#39;s the code where I pretty much do that.[/url]\u003Cbr\u003E\n\u003Cbr\u003E\nLook for the TWR1MaxThrustVertical variable, that is what you are looking for I think. Ignore the offsetMultipler, that\u0026#39;s a compensation for thrust not being perfectly vertical and I don\u0026#39;t think it applies to your question.\u003Cbr\u003E\n\u003Cbr\u003E\nD.\n"},{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-11-20T20:36:21Z","Content":"\nJust the Rx-LED is flashing :)\u003Cbr\u003E\n\u003Cbr\u003E\nI just tried the RCSLED, but to no avail :/\u003Cbr\u003E\nI also connected GLED and YLED, but still nothing :/\u003Cbr\u003E\n\u003Cbr\u003E\nThanx the the awnser tho ...\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nJust to be clear, I do not need to add any kind of libaries before compiling?\u003Cbr\u003E\nI could not find any #Include\u0026#39;s, so I would not think so :D\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-22T02:50:35Z","Content":"\nI am trying to get this to work in a MechJeb fork. However using OpenNETCF.IO.Ports; isn\u0026#39;t working.\u003Cbr\u003E\n\u003Cbr\u003E\nError 9 The type or namespace name \u0026#39;OpenNETCF\u0026#39; could not be found (are you missing a using directive or an assembly reference?) \u003Cbr\u003E\n\u003Cbr\u003E\nI copied SerialPort.dll over, and added as a reference.\u003Cbr\u003E\n\u003Cbr\u003E\nWas there a trick you did? For example I see a lot of references they don\u0026#39;t have, such as System.Data.DataSetExtensions.\u003Cbr\u003E\n\u003Cbr\u003E\nIs there something in particular I need to do to get this to compile, based on this error?\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s strange. I even opened SerialPort.dll in the browser, and copied OpenNETCF.IO.Ports in to the code.\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-22T03:37:19Z","Content":"\n[quote name=\u0027djnekkid\u0027]Just the Rx-LED is flashing :)\u003Cbr\u003E\n\u003Cbr\u003E\nI just tried the RCSLED, but to no avail :/\u003Cbr\u003E\nI also connected GLED and YLED, but still nothing :/\u003Cbr\u003E\n\u003Cbr\u003E\nThanx the the awnser tho ...\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nJust to be clear, I do not need to add any kind of libaries before compiling?\u003Cbr\u003E\nI could not find any #Include\u0026#39;s, so I would not think so :D[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nNo libraries needs, which version of the Arduino code are you using? You need version 13.\u003Cbr\u003E\n\u003Cbr\u003E\n[COLOR=\u0022silver\u0022][SIZE=1]- - - Updated - - -[/SIZE][/COLOR]\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Keith Young\u0027]I am trying to get this to work in a MechJeb fork. However using OpenNETCF.IO.Ports; isn\u0026#39;t working.\u003Cbr\u003E\n\u003Cbr\u003E\nError 9 The type or namespace name \u0026#39;OpenNETCF\u0026#39; could not be found (are you missing a using directive or an assembly reference?) \u003Cbr\u003E\n\u003Cbr\u003E\nI copied SerialPort.dll over, and added as a reference.\u003Cbr\u003E\n\u003Cbr\u003E\nWas there a trick you did? For example I see a lot of references they don\u0026#39;t have, such as System.Data.DataSetExtensions.\u003Cbr\u003E\n\u003Cbr\u003E\nIs there something in particular I need to do to get this to compile, based on this error?\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s strange. I even opened SerialPort.dll in the browser, and copied OpenNETCF.IO.Ports in to the code.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nI don\u0026#39;t understand what you are trying to do? The whole VS project is on github, if you just open the solution everything should compile?\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-22T03:43:42Z","Content":"\nIt does compile fine.\u003Cbr\u003E\n\u003Cbr\u003E\nThe problem is when I try to make a fork of MechJeb. So I copy the MechJeb source, and put the cs files in from your mod.\u003Cbr\u003E\n\u003Cbr\u003E\nI add them as existing.\u003Cbr\u003E\n\u003Cbr\u003E\nI also bring in SerialPort.dll\u003Cbr\u003E\n\u003Cbr\u003E\nI include SerialPort.dll as a reference\u003Cbr\u003E\n\u003Cbr\u003E\nWhen I try to build my copy of MechJeb it says in the KSPIO.cs that on the line using OpenNETCF.IO.Ports; that OpenNETCF can\u0026#39;t be found.\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s very strange since I can even type Ope... which results in Visual Studio finding OpenNETCF so all I have to do is hit \u0022.\u0022 at which point it finds IO, so I hit \u0022.\u0022 again and it has Ports.\u003Cbr\u003E\n\u003Cbr\u003E\nSo somehow Visual Studio is finding the namespace of OpenNETCF and yet when I build, it gives the error I copied in.\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;ve had no problem with your code. This is outside something you caused. I just wonder if you know what might be causing this behavior. It seems strange that I\u0026#39;m including SerialPort.dll as a reference and it\u0026#39;s still doing this.\u003Cbr\u003E\n\u003Cbr\u003E\nI was wondering if you had another step besides adding it as a reference in order to get the namespace of OpenNETCF to hold up when building.\u003Cbr\u003E\n\u003Cbr\u003E\nBasically what I\u0026#39;m trying to do is get Microcontroller buttons to launch MechJeb autopilot functions.\u003Cbr\u003E\n\u003Cbr\u003E\nThanks for such an awesome mod! I couldn\u0026#39;t make this simulator without it.\n"},{"CreatedByName":"djnekkid","CreatedById":36328,"CreatedDateTime":"2015-11-22T11:28:15Z","Content":"\n[quote name=\u0027zitronen\u0027]No libraries needs, which version of the Arduino code are you using? You need version 13.\u003Cbr\u003E\n\u003Cbr\u003E\n[/quote]\u003Cbr\u003E\n\u003Cbr\u003E\nOh, I did not realize there were a version 13, as version 12 were in the OP :D\u003Cbr\u003E\nI guess i need to backtrack somewhat :D\u003Cbr\u003E\n\u003Cbr\u003E\nedit: Happy to confirm that with v13 works :D (LEDS)\u003Cbr\u003E\n\u003Cbr\u003E\nedit2: Well, not so happy to confirm that it works with v13, but just for a few seconds... i.e. i launch a craft with sas enabled, and then i \u0026#39;spam\u0026#39; the \u0026#39;r\u0026#39; (rcs) key, and after a few seconds, the LED stops turning on and off :/\u003Cbr\u003E\n\u003Cbr\u003E\neven just standing on the launch pad, and the boards _seems_ to stop getting data, as the Rx light stops blinking...\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-22T16:37:35Z\u0022 title=\u002211/22/2015 04:37  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 22, 2015\u003C/time\u003E by djnekkid\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-23T00:03:27Z","Content":"\nDo you have any ideas why this doesn\u0026#39;t work with Windows 10?\n"},{"CreatedByName":"compy286","CreatedById":146689,"CreatedDateTime":"2015-11-23T11:54:13Z","Content":"\nI am working on a simple KSPSerialPort implementation that uses TCP/IP serial socket connections instead of using a standard COM port. I have gotten it working in a preliminary phase but if you would like to include it in the mainline library I can interface the serial port out and add the appropriate configuration parameters and upload it to the git repo.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nI wonder if there is any interest in this.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nMy main reason for writing this is I currently don\u0026#39;t have an arduino or any micro currently but I am working in Virtual Breadboard and windows 7 and Com0Com with VBB and .Net serial running from KSP didn\u0026#39;t get a long together very well. So I decided to use the ethernet com bridge built into Virtual Breadboard instead. With the serial over TCPIP it gives you access to using a raspberry pi via ethernet or wifi, or interfacing with an arduino or other micro via one of these guys: [url]https://www.sparkfun.com/products/9476[/url] which may soothe some of the windows 10 woes.\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\n\u003Cbr\u003E\nOnce I get a VBB project working well I am willing to share that as well, for those of you who are willing to shell out the $40 for VBB and the arduino \u002B comm licenses. I like having VBB because it\u0026#39;s great for experimenting without toasting your arduino (i\u0026#39;ve finally killed my first mega I bought 5 years ago, RIP).\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-23T15:11:59Z","Content":"\nI\u0026#39;d be interested if you can get it to work for Windows 10, and this plugin doesn\u0026#39;t work for Windows 10.\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m just really hoping this can be made to work with Windows 10 since I\u0026#39;m in need of a new computer and Microsoft is pushing 10 like crack cocaine.\u003Cbr\u003E\n\u003Cbr\u003E\nHard to find good new computers with anything but 10, and I don\u0026#39;t know anything about building computers.\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-11-23T15:35:49Z","Content":"\n[quote name=\u0027Keith Young\u0027]Do you have any ideas why this doesn\u0026#39;t work with Windows 10?[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nThe full details are several pages back now, but the short version is that the serial connector library is supposed to fire a callback when data is received. That has never worked properly in Linux or OSX, and has stopped working in Windows 10. That means the plugin is able to send serial data out, but never gets notified of data being sent back by the arduino, so it never tries to read it.\u003Cbr\u003E\n\u003Cbr\u003E\nThere\u0026#39;s been a fair bit of effort put in to trying to figure out why, but nobody\u0026#39;s been able to get a handle on it. So there\u0026#39;s a handful of attempts at working around it, with varying levels of success.\u003Cbr\u003E\n\u003Cbr\u003E\nThe workaround zitronen just released in the latest update is an option to put the plugin in send-only mode. With the plugin sending data, and using an Arduino\u0026#39;s USB HID emulation to generate keyboard and joystick events you can recreate the same functionality.\u003Cbr\u003E\n\u003Cbr\u003E\nMy personal theory is that these issues are related to the version of Mono that Unity is running on. Still holding out hope that the Unity upgrade in KSP 1.1 will improve the situation for serial ports.\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-23T15:38:43Z\u0022 title=\u002211/23/2015 03:38  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 23, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-23T15:44:34Z","Content":"\nWell until then all I can really do is hope the computer I buy has Windows 10 upgradeable to Windows 8.1.\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-23T16:11:20Z","Content":"\n[quote name=\u0027compy286\u0027]I am working on a simple KSPSerialPort implementation that uses TCP/IP serial socket connections instead of using a standard COM port. I have gotten it working in a preliminary phase but if you would like to include it in the mainline library I can interface the serial port out and add the appropriate configuration parameters and upload it to the git repo.\u003Cbr\u003E\n\u003Cbr\u003E\nI wonder if there is any interest in this.\u003Cbr\u003E\n[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nDo you have a link to your project?\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027Keith Young\u0027]I\u0026#39;d be interested if you can get it to work for Windows 10, and this plugin doesn\u0026#39;t work for Windows 10.\u003Cbr\u003E\n\u003Cbr\u003E\nI\u0026#39;m just really hoping this can be made to work with Windows 10 since I\u0026#39;m in need of a new computer and Microsoft is pushing 10 like crack cocaine.\u003Cbr\u003E\n\u003Cbr\u003E\nHard to find good new computers with anything but 10, and I don\u0026#39;t know anything about building computers.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nYeah that really annoys me too. For now have you tried the latest version with send only mode?\u003Cbr\u003E\n\u003Cbr\u003E\n[quote name=\u0027stibbons\u0027]The full details are several pages back now, but the short version is that the serial connector library is supposed to fire a callback when data is received. That has never worked properly in Linux or OSX, and has stopped working in Windows 10. That means the plugin is able to send serial data out, but never gets notified of data being sent back by the arduino, so it never tries to read it.\u003Cbr\u003E\n\u003Cbr\u003E\nThere\u0026#39;s been a fair bit of effort put in to trying to figure out why, but nobody\u0026#39;s been able to get a handle on it. So there\u0026#39;s a handful of attempts at working around it, with varying levels of success.\u003Cbr\u003E\n\u003Cbr\u003E\nThe workaround zitronen just released in the latest update is an option to put the plugin in send-only mode. With the plugin sending data, and using an Arduino\u0026#39;s USB HID emulation to generate keyboard and joystick events you can recreate the same functionality.\u003Cbr\u003E\n\u003Cbr\u003E\nMy personal theory is that these issues are related to the version of Mono that Unity is running on. Still holding out hope that the Unity upgrade in KSP 1.1 will improve the situation for serial ports.[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nGreat summery, I will point people to this post in the future.\n"},{"CreatedByName":"Keith Young","CreatedById":152980,"CreatedDateTime":"2015-11-23T16:15:16Z","Content":"\nNope, I haven\u0026#39;t tried that yet.\u003Cbr\u003E\n\u003Cbr\u003E\nMy main computer is 8.1 but I\u0026#39;m looking to buy a new computer for my simpit since I want 3 monitors at 1080 and I currently only have a 2GB graphics card in my 8.1 machine.\u003Cbr\u003E\n\u003Cbr\u003E\nAll these new XPS affordable rigs seem to be 10 these days. Unfortunately the sales on these to make them affordable are coming up in a few days.\u003Cbr\u003E\n\u003Cbr\u003E\nIt\u0026#39;s going to be crucial to get the ship data to the microcontroller.\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-11-23T16:18:53Z","Content":"\n[quote name=\u0027djnekkid\u0027]Oh, I did not realize there were a version 13, as version 12 were in the OP :D\u003Cbr\u003E\nI guess i need to backtrack somewhat :D\u003Cbr\u003E\n\u003Cbr\u003E\nedit: Happy to confirm that with v13 works :D (LEDS)\u003Cbr\u003E\n\u003Cbr\u003E\nedit2: Well, not so happy to confirm that it works with v13, but just for a few seconds... i.e. i launch a craft with sas enabled, and then i \u0026#39;spam\u0026#39; the \u0026#39;r\u0026#39; (rcs) key, and after a few seconds, the LED stops turning on and off :/\u003Cbr\u003E\n\u003Cbr\u003E\neven just standing on the launch pad, and the boards _seems_ to stop getting data, as the Rx light stops blinking...[/QUOTE]\u003Cbr\u003E\n\u003Cbr\u003E\nHuh... Anyone else have the same problem with 0.17.6?\u003Cbr\u003E\n\u003Cbr\u003E\nOh just making sure... you have the handshakedisable set to 1 right?\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-23T16:23:57Z\u0022 title=\u002211/23/2015 04:23  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 23, 2015\u003C/time\u003E by zitronen\u003C/strong\u003E\n\u003C/span\u003E\n"}]}