{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":168,"Articles":[{"CreatedByName":"Zoilz","CreatedById":162161,"CreatedDateTime":"2016-04-18T18:45:27Z","Content":"Love the work, it make\u0027s Kerbal space program look so much more realistic! I have some (hopefully) cool pictures on my tumblr: [https://www.tumblr.com/blog/kerbalart](https://www.tumblr.com/blog/kerbalart)"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-04-19T00:31:11Z","Content":"[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) do you think it is possible to implement bobbing in the water?"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2016-04-19T01:38:04Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Berlin said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) do you think it is possible to implement bobbing in the water?\n\u003E \n\nthere was some testing with this when the ocean was first released. It \u0022worked\u0022 but was prone to both bugs, and causing highly excessive RUDs (Rapid Unplanned Disassemblies for the uninitiated). Was also excessively memory intensive IIRC. [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), could you verify these memories for me? you\u0027d know better than me, you were the one who tested it.\n\n**Edited \u003Ctime datetime=\u00222016-04-19T01:39:05Z\u0022 title=\u002204/19/2016 01:39  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 19, 2016\u003C/time\u003E by gkorgood**"},{"CreatedByName":"Galileo","CreatedById":150430,"CreatedDateTime":"2016-04-19T01:39:09Z","Content":"\u003E \n\u003E \n\u003E Just now, gkorgood said:\n\u003E \n\u003E \n\u003E there was some testing with this when the ocean was first released. It \u0022worked\u0022 but was prone to both bugs, and causing highly excessive RUDs (Rapid Unplanned Disassemblies for the uninitiated).\n\u003E \n\nAhh got ya. Would be cool if it was attempted again"},{"CreatedByName":"gkorgood","CreatedById":124879,"CreatedDateTime":"2016-04-19T01:39:28Z","Content":"\u003E \n\u003E \n\u003E Just now, Berlin said:\n\u003E \n\u003E \n\u003E Ahh got ya. Would be cool if it was attempted again\n\u003E \n\nindeed it would"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-19T12:58:18Z","Content":"\u003E \n\u003E \n\u003E 11 hours ago, gkorgood said:\n\u003E \n\u003E \n\u003E there was some testing with this when the ocean was first released. It \u0022worked\u0022 but was prone to both bugs, and causing highly excessive RUDs (Rapid Unplanned Disassemblies for the uninitiated). Was also excessively memory intensive IIRC. [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), could you verify these memories for me? you\u0027d know better than me, you were the one who tested it.\n\u003E \n\nYeah that\u0027s pretty accurate, it wasn\u0027t memory intensive though but CPU intensive. It was more or less a hack and it caused excessive disassemblies and kraken attacks.\n\n\u003E \n\u003E \n\u003E 11 hours ago, Berlin said:\n\u003E \n\u003E \n\u003E Ahh got ya. Would be cool if it was attempted again\n\u003E \n\nIt\u0027s most likely not going to happen, there\u0027s just too much work needed to get something like this working properly, it would need to be properly integrated into the buoyancy system, or have a new one built from the ground up, and there would also need to be a way to voxelize ships or do something similar or the performance will end up abysmally low."},{"CreatedByName":"PickledTripod","CreatedById":135197,"CreatedDateTime":"2016-04-19T13:11:31Z","Content":"\u003E \n\u003E \n\u003E 10 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E ...and there would also need to be a way to voxelize ships or do something similar or the performance will end up abysmally low.\n\u003E \n\nSounds like that could work very well with FAR."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-19T13:57:31Z","Content":"\u003E \n\u003E \n\u003E 45 minutes ago, PickledTripod said:\n\u003E \n\u003E \n\u003E Sounds like that could work very well with FAR.\n\u003E \n\nStill a lot of work."},{"CreatedByName":"Kurtvw","CreatedById":83214,"CreatedDateTime":"2016-04-19T21:24:30Z","Content":"\u003E \n\u003E \n\u003E On 4/17/2016 at 2:33 PM, Chimer4 said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/)I don\u0027t remember ever seeing it before, although on further testing, it seems related to the field of view (alt\u002Bscroll) of the camera. I first noticed when flying a plane in IVA and I zoomed out to get a better view and all of a sudden I saw the ocean moving when I moved the camera. It seems that any FOV other than the default FOV seems to cause this effect.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I take a quite a few screenshots whilst playing at diffenet FOVs and have no recollection of seeing it before.\n\u003E \n\n[@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), I didn\u0027t see a response to [@Chimer4](https://forum.kerbalspaceprogram.com/index.php?/profile/58864-chimer4/) above, so I want to confirm this one, I see the same effect in IVA that he describes.  Specfiically, I was using the MK1 cockpit, haven\u0027t tested with others.   In IVA if you adjust your zoom from the default the ocean level appears to rise and fall depending on your view angle, such that if you\u0027re flight dead level, everything looks perfect, but if you bank hard the world floods, or drains.  \n\nIn external view everything looks normal. Scatter 0244 with KSP 1.1 build 1228(x64)  \n\nThanks for all you do, this thing works so nice in x64.  Loving it."},{"CreatedByName":"Whiskybob","CreatedById":160012,"CreatedDateTime":"2016-04-19T21:29:00Z","Content":"This mod is pure awesomenes but i cant play with it because its killing my FPS to 25-30 and time bar almost all the time yellow got I5 4690K 4,5 MHz ~and amd R9 200. without this i got 75 fps stable :-("},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-19T22:06:19Z","Content":"\u003E \n\u003E \n\u003E 35 minutes ago, Whiskybob said:\n\u003E \n\u003E \n\u003E This mod is pure awesomenes but i cant play with it because its killing my FPS to 25-30 and time bar almost all the time yellow got I5 4690K 4,5 MHz ~and amd R9 200. without this i got 75 fps stable :-(\n\u003E \n\nSounds like your GPU isn\u0027t keeping up, either lower anti-aliasing or disable ocean shaders.\n\n\u003E \n\u003E \n\u003E 40 minutes ago, Kurtvw said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/), I didn\u0027t see a response to [@Chimer4](https://forum.kerbalspaceprogram.com/index.php?/profile/58864-chimer4/) above, so I want to confirm this one, I see the same effect in IVA that he describes.  Specfiically, I was using the MK1 cockpit, haven\u0027t tested with others.   In IVA if you adjust your zoom from the default the ocean level appears to rise and fall depending on your view angle, such that if you\u0027re flight dead level, everything looks perfect, but if you bank hard the world floods, or drains.  \n\u003E   \n\u003E \n\u003E In external view everything looks normal. Scatter 0244 with KSP 1.1 build 1228(x64)  \n\u003E   \n\u003E \n\u003E Thanks for all you do, this thing works so nice in x64.  Loving it.\n\u003E \n\nYes, I can confirm this happens in the newest version, atm you can fix it by pressing \u0022rebuild ocean\u0022 after you change your fov settings. I will fix it for next release."},{"CreatedByName":"Kurtvw","CreatedById":83214,"CreatedDateTime":"2016-04-19T22:20:18Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, blackrack said:\n\u003E \n\u003E \n\u003E Yes, I can confirm this happens in the newest version, atm you can fix it by pressing \u0022rebuild ocean\u0022 after you change your fov settings. I will fix it for next release.\n\u003E \n\nThanks for the quick answer on a work around!\n\n**Edited \u003Ctime datetime=\u00222016-04-19T22:24:11Z\u0022 title=\u002204/19/2016 10:24  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 19, 2016\u003C/time\u003E by Kurtvw**"},{"CreatedByName":"SpaceMart","CreatedById":131875,"CreatedDateTime":"2016-04-19T23:00:49Z","Content":"So, during the pre-release of v1.1 I had scatterer installed. For some reason, during reentry, I could see the reentry-effects that should normally only be visible on the other side of the craft. For instance, I could see the \u0027fire\u0027 around an antenna, but this antenna was, from my point of view, on the other side of the craft... I don\u0027t have any screenshots of that since I just re-installed the game. \n\nNow I have the full release of v1.1 installed and now I have a problem I\u0027ve encountered before in v1.0.5. The spacecraft appears in front of the reentry flames.\n\nPicture: [http://imgur.com/lyxWReV](http://imgur.com/lyxWReV)\n\nMods installed: Scatterer, SVE, Distant object enhancements, planetshine.\n\nAlso: Windows, KSP x64. I don\u0027t run the game in openGL.\n\nGPU: GTX970\n\nI hope there will be a fix, because I love the mod, but I also love reentry :P. Besides this problem, everything seems to work fine.\n\nThanks!"},{"CreatedByName":"Kolago","CreatedById":103729,"CreatedDateTime":"2016-04-19T23:28:11Z","Content":"scatterer crashs the game while loading. Win64 / [KSP Version]: 1.1.0.1230 (WindowsPlayer) (x64)\n\nArgs: KSP\\_x64.exe -popupwindow -force-d3d11\n\nLog: [https://www.dropbox.com/s/t1kobh2b0qf2ptg/output_log13.zip?dl=0](https://www.dropbox.com/s/t1kobh2b0qf2ptg/output_log13.zip?dl=0)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-19T23:49:09Z","Content":"\u003E \n\u003E \n\u003E 19 minutes ago, Kolago said:\n\u003E \n\u003E \n\u003E scatterer crashs the game while loading. Win64 / [KSP Version]: 1.1.0.1230 (WindowsPlayer) (x64)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Args: KSP\\_x64.exe -popupwindow -force-d3d11\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Log: [https://www.dropbox.com/s/t1kobh2b0qf2ptg/output_log13.zip?dl=0](https://www.dropbox.com/s/t1kobh2b0qf2ptg/output_log13.zip?dl=0)\n\u003E \n\nThe shaders are completely messed up in dx11 atm, in 64bit they crash the game and in the 32bit they just don\u0027t work. Switch to either dx9 or opengl until I can fix it.\n\n\u003E \n\u003E \n\u003E 46 minutes ago, SpaceMart said:\n\u003E \n\u003E \n\u003E So, during the pre-release of v1.1 I had scatterer installed. For some reason, during reentry, I could see the reentry-effects that should normally only be visible on the other side of the craft. For instance, I could see the \u0027fire\u0027 around an antenna, but this antenna was, from my point of view, on the other side of the craft... I don\u0027t have any screenshots of that since I just re-installed the game. \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Now I have the full release of v1.1 installed and now I have a problem I\u0027ve encountered before in v1.0.5. The spacecraft appears in front of the reentry flames.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Picture: [http://imgur.com/lyxWReV](http://imgur.com/lyxWReV)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Mods installed: Scatterer, SVE, Distant object enhancements, planetshine.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Also: Windows, KSP x64. I don\u0027t run the game in openGL.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E GPU: GTX970\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I hope there will be a fix, because I love the mod, but I also love reentry :P. Besides this problem, everything seems to work fine.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Thanks!\n\u003E \n\nI will check it out when I can."},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2016-04-20T01:34:23Z","Content":"Just to confirm the post above, the dreaded aero effect problem is back it seems. I\u0027d been running the pre release mod free but with the full release decided to start throwing in some ol\u0027 favourites so I don\u0027t know when this reappeared. Windows, DX9 only Scatterer 0.0244 installed."},{"CreatedByName":"Kurtvw","CreatedById":83214,"CreatedDateTime":"2016-04-20T03:36:08Z","Content":"Thanks so much for making KSP amazing!  \n  \n![Untitled.jpg](http://i415.photobucket.com/albums/pp233/Croniac/Untitled.jpg)"},{"CreatedByName":"North","CreatedById":72479,"CreatedDateTime":"2016-04-20T06:24:10Z","Content":"i have a problem when i move the camera around in the game and the ocean follows were you move the camera .\n\n**Edited \u003Ctime datetime=\u00222016-04-20T06:26:07Z\u0022 title=\u002204/20/2016 06:26  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by North**"},{"CreatedByName":"Whiskybob","CreatedById":160012,"CreatedDateTime":"2016-04-20T08:01:39Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, blackrack said:\n\u003E \n\u003E \n\u003E Sounds like your GPU isn\u0027t keeping up, either lower anti-aliasing or disable ocean shaders.\n\u003E \n\nI have tried that but with AA - disabled and ocean shaders disabled no change at all :-/ even when i disable everything in scaterer menu its the same :-(\n\nEdit : R9270X-DC2T-4GD5, 4GB DDR5 (5600MHz), AMD Radeon R9 270X (1120MHz), PCIe x16 3.0, CrossFire, 256bit - this is my spec of GPU i dont think thats low for something like this :-/\n\n**Edited \u003Ctime datetime=\u00222016-04-20T08:05:31Z\u0022 title=\u002204/20/2016 08:05  AM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by Whiskybob**"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2016-04-20T15:06:51Z","Content":"\u003E \n\u003E \n\u003E 7 hours ago, Whiskybob said:\n\u003E \n\u003E \n\u003E I have tried that but with AA - disabled and ocean shaders disabled no change at all :-/ even when i disable everything in scaterer menu its the same :-(\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Edit : R9270X-DC2T-4GD5, 4GB DDR5 (5600MHz), AMD Radeon R9 270X (1120MHz), PCIe x16 3.0, CrossFire, 256bit - this is my spec of GPU i dont think thats low for something like this :-/\n\u003E \n\nAlso try resolution, and make sure that any other windows in the background are minimized. Also make sure all your drivers are up-to-date."},{"CreatedByName":"Angelus2141","CreatedById":160467,"CreatedDateTime":"2016-04-20T19:45:02Z","Content":"Hi all,\n\n         I love the look of this mod and what it can do but I seem to be doing something wrong as I dont get any visual change when I try to install it. This picture is without any mods installed\n\n![No_Mod.jpg](http://s5.postimg.org/h35v23m4n/No_Mod.jpg)\n\nHere is a screenshot with the \u0022scatterer-Master\u0022 Folder in the game data folder\n\n![Scatterer_Master.jpg](http://s5.postimg.org/m33ba1rrb/Scatterer_Master.jpg)\n\nAnd finally a screenshot with the contents of the scatterer-master folder extracted individually into the game data folder.\n\n![Scaterrer.jpg](http://s5.postimg.org/z8itg5lmv/Scaterrer.jpg)\n\nthere just isnt a difference that I can see. I just dont see what im doing wrong. Also Id like to have the ocean showing like it does in some of the OP screenshot and ive seen the settings page for this but I dont know which file to edit. If someone could please advise me how to install scatterer properly first to get the atmospheric affects and which file(s) to adjust to get the ocean working I would greatly appreciate it.\n\nMany thanks"},{"CreatedByName":"daniel l.","CreatedById":57763,"CreatedDateTime":"2016-04-20T20:56:45Z","Content":"I\u0027ve been trying to make a sunflare plugin by cutting out everything in my copy of scatterer except whats absolutely necessary. Can you guys please tell me what things i can and cant delete? Im using the 1.05 version."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-04-20T21:38:25Z","Content":"\u003E \n\u003E \n\u003E 39 minutes ago, daniel l. said:\n\u003E \n\u003E \n\u003E I\u0027ve been trying to make a sunflare plugin by cutting out everything in my copy of scatterer except whats absolutely necessary. Can you guys please tell me what things i can and cant delete? Im using the 1.05 version.\n\u003E \n\nDelete all planet items in the planetsList.cfg file, delete the folders named Duna, Kerbin, Eve, Jool and Laythe.\n\n\u003E \n\u003E \n\u003E 1 hour ago, Angelus2141 said:\n\u003E \n\u003E \n\u003E Hi all,\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  I love the look of this mod and what it can do but I seem to be doing something wrong as I dont get any visual change when I try to install it. This picture is without any mods installed\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Here is a screenshot with the \u0022scatterer-Master\u0022 Folder in the game data folder\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E And finally a screenshot with the contents of the scatterer-master folder extracted individually into the game data folder.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E there just isnt a difference that I can see. I just dont see what im doing wrong. Also Id like to have the ocean showing like it does in some of the OP screenshot and ive seen the settings page for this but I dont know which file to edit. If someone could please advise me how to install scatterer properly first to get the atmospheric affects and which file(s) to adjust to get the ocean working I would greatly appreciate it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Many thanks\n\u003E \n\nThere is no \u0022scatterer-master\u0022 folder, sounds like you downloaded the source code from github and attempted to put it in your game directory. Download the mod from here instead: [http://spacedock.info/mod/141/scatterer](http://spacedock.info/mod/141/scatterer) extract and overwrite your gamedata folder with it."},{"CreatedByName":"Dead Pixel","CreatedById":64018,"CreatedDateTime":"2016-04-20T22:03:29Z","Content":"I seem to have found a bug, or i have a faulty download and it\u0027s corrupted, but whenever you go into cockpit view and zoom in on something and exit out of cockpit view, it locks the FOV at whatever it was set to while zooming in, and it messes up scatterer that makes the ocean go away, the sky messed up, or have the atmosphere bug up.\n\n[http://imgur.com/a/V33fI](http://imgur.com/a/V33fI)\n\nMost recent version of scatterer\n\nKsp 1.1\n\nI don\u0027t know if my specs have anything to do with it, it has worked perfectly before 1.1\n\nNvidia Gtx-970\n\nI5-4690K\n\n**Edited \u003Ctime datetime=\u00222016-04-20T22:07:15Z\u0022 title=\u002204/20/2016 10:07  PM\u0022 data-short=\u00228 yr\u0022\u003EApril 20, 2016\u003C/time\u003E by Old Man Jenkins**"},{"CreatedByName":"Tricky14","CreatedById":145768,"CreatedDateTime":"2016-04-20T23:03:39Z","Content":"\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E -Terrain shadows might cause weird, moving patterns to appear across the landscape, if this happens you can try to turn up the rendering quality in KSP, **mess with anisotropic filtering setting**\n\u003E \n\nCan anyone give me some more specific advice on what to do with anisotropic filtering? Things usually break when I start to alter drivers, so I wouldn\u0027t mind some help. Running KSP on an NVidia 780\n\n\u003E \n\u003E \n\u003E 55 minutes ago, Dead Pixel said:\n\u003E \n\u003E \n\u003E I seem to have found a bug, or i have a faulty download and it\u0027s corrupted, but whenever you go into cockpit view and zoom in on something and exit out of cockpit view, it locks the FOV at whatever it was set to while zooming in, and it messes up scatterer that makes the ocean go away, the sky messed up, or have the atmosphere bug up.\n\u003E \n\nI can confirm that one also."}]}