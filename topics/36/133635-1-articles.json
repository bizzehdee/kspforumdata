{"TopicId":133635,"ForumId":36,"TopicTitle":"ROMiniFork: Generic Rescaling for when RO is Too Heavy","CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-03-06T22:04:21Z","PageNum":1,"Articles":[{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-03-06T22:04:21Z","Content":"\n\u003Cp style=\u0022margin-left:40px;text-align:center;\u0022\u003E\n\u003Cimg alt=\u0022Z3YdT1k.jpg\u0022 src=\u0022http://i.imgur.com/Z3YdT1k.jpg\u0022\u003E\u003C/p\u003E\n\u003Cp style=\u0022margin-left:40px;text-align:center;\u0022\u003E\nHello all!\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve been working on this project off and on for quite some time now. (tl;dr, magically rescale parts, follow instructions at bottom of post to install.)\n\u003C/p\u003E\n\u003Cp\u003E\nBackstory!\n\u003C/p\u003E\n\u003Cp\u003E\nI like to play on rescaled systems, 6.4x to be exact. But, this brings with it challenges as anyone who has tried it knows. Launch and Reentry are particularly trying.\n\u003C/p\u003E\n\u003Cp\u003E\nSeveral solutions exist for this problem, the two main ones that leap to mind are \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/90151-105-realism-overhaul-v1090-feb-29/\u0022\u003ERealism Overhaul\u003C/a\u003E and \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/117992-104-5-smurff-simple-module-adjustments-for-real-ish-fuel-mass-fractions-121-2015-feb-02/\u0022\u003ESMURFF\u003C/a\u003E, both fantastic works that put mine to shame as far as sophistication goes. Realism Overhaul brings out the big guns as far as making the changes for a rescaled system go. SMURFF has a very comprehensive system while remaining lightweight. I admit I haven\u0027t tried it out in a while, but it\u0027s on my to-do list. Major props to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022126593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0022\u003E@Kerbas_ad_astra\u003C/a\u003E for inspiration and some gleamed MM tricks.\n\u003C/p\u003E\n\u003Cp\u003E\nThe solution presented here expands upon ROMini.cfg, from RO. It\u0027s not prominent, but available on their\u00A0\u003Ca href=\u0022https://github.com/KSP-RO/RealismOverhaul\u0022 rel=\u0022external nofollow\u0022\u003Egithub page\u003C/a\u003E.\u00A0 It works by applying a similar methodology as RO does, to rescale parts more to a realistic scale size wise, along with some mass adjustments, such that density comes into line more or less naturally. A blanket scalar is applied, which was conveniently set at 1.6x times original size, so 1.25m becomes 2m, and so on.\u00A0 I instantly found it a blast to play with, as it kept things interesting without being too complicated to maintain. Major props to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E for this one, for originating the script/numerous other reasons.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, why is this post here? In 1.0.5, there exists a rather annoying bug in that rescaled root parts (specifically, those scaled by rescaleFactor) do not persist through load events. So, on vessel load or quickload, a rescaled part would revert to its original, smaller size. I never was able to ascertain if it was visual or if FAR was affected to.\n\u003C/p\u003E\n\u003Cp\u003E\nThere exists a alternate method to scale parts in KSP, the model Scale variable. This one works correctly for loading, but doesn\u0027t rescale attach nodes to match. Boo! Module Manager (Props to \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022\u003E@sarbian\u003C/a\u003E!) can do the appropriate scaling math on attach nodes perfectly well, but it has no means to do wildcard matching on them as far as I can tell. The MM patch looks funny, but works well to fix nodes. The problem is that a separate patch needs to exist for each kind of attach node that a part uses. This lead to a lot of copy and pasting to get a proof of concept working.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, I wrote some code. Specifically a python script to parse every cfg file in GameData, extract the node_* names, and write me the MM patch out.\n\u003C/p\u003E\n\u003Cp\u003E\nThat\u0027s why we\u0027re here: The zip file below contains three components: A modified copy of ROMini.cfg with scaling code adjusted; a python script to generate a MM patch for said script, and a pre-generated patch file based off my install. (It\u0027s fairly large, but certainly it doesn\u0027t include every mod. It ought to cover the most common cases though, I would think.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003EInstall!\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nInstall is easy: The config files can go anywhere in GameData. I would stick them in a directory named zzzzzzROMini, but I don\u0027t think it\u0027s strictly necessary. (We want it to run at the end of the MM passes, without using :FINAL.) The generateNodes.py ought to go in the base KSP directory (The one that GameData sits in) This also isn\u0027t strictly necessary, but it saves a step when running it, if you need to. If a node didn\u0027t scale right, and you don\u0027t wish to/aren\u0027t able to easily run the script, one or two nodes aren\u0027t too painful to edit in to the MM config: Find the part in question, and look for its \u0022node_(whatever)\u0022 entries. Copy a block of patch and paste it to the end of the file, and adjust the text in the template.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003ERequirements!\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nKSP 1.0.5\n\u003C/li\u003E\n\u003Cli\u003E\nSome sort of rescale, unless crazy OP is your goal\n\u003C/li\u003E\n\u003Cli\u003E\nsemi-Optional: Python, minimum 2.7. (3 should work as far as I know.)\n\u003C/li\u003E\n\u003Cli\u003E\nPlatform independent! Also as far as I know, this should work on Windows/OS X/Linux just fine.\n\u003C/li\u003E\n\u003Cli\u003E\nOptional: Having fun playing with your newly rescaled parts!\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003EDownload!: \u003C/strong\u003E\u003C/span\u003E\u003Ca href=\u0022https://www.dropbox.com/s/id75g3a7sxli4ol/ROMiniFork_0.1.zip?dl=0\u0022 rel=\u0022external nofollow\u0022\u003EHere\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nLet me know if you have any trouble with it, i\u0027d love to get feedback, as this is really the first \u0027addon\u0027 i\u0027ve posted here.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003EGood/Bad News!\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis will only be relevant/required for a few more weeks/couple months, as the aforementioned rescaleFactor bug has been fixed for 1.1, by, \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0026amp;do=hovercard\u0022 data-mentionid=\u002275006\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/75006-nathankell/\u0022\u003E@NathanKell\u003C/a\u003E. (More props! And some jets, for that matter!)\n\u003C/p\u003E\n\u003Cp\u003E\nStill, if it is useful in the meantime, great! Also, it might serve as utility to someone who wants to write a similar helper script and/or learn python. (Which I kinda did to do this.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003ESnippets!\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThese are just some extra tweaks I use, that you might all find handy.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/109027-105-custom-barn-kit-114-feb-3rd-no-instruction-leaflet-edition/\u0022\u003ECustomBarnKit\u003C/a\u003E Config: This ups the mass and size limit on the level 1 and 2 launchpads to make it a little saner to blast off.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n@CUSTOMBARNKIT:FOR[zROMINI]\n{\n    @EDITOR\n    {\n\t\t@craftMassLimit[0] *= 1.6\n\t\t@craftMassLimit[1] *= 1.6\n\t\t@craftSizeLimit\n\t\t{\n\t\t\t@size,0[1] *= 1.6\n\t\t\t@size,1[1] *= 1.6\n\t\t}\n    }\n}\n\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nProcedural Fairings: These are borrowed straight from RP-0, so all the credit goes over to them. They adjust the size limits and tech tree nodes at which the fairings unlock. It\u0027s only the front of it, just as an example, as I think this is something that might be a matter of taste as far as tech tree balance. In MM code, @ edits a value, % edits or ADDS a value if it is missing, ! deletes a value. The node names are fairly straight forward. If you\u0027re curious further, just drop a post here and lets see what we can work out. (Adjusting when the parts themselves unlock may be a worthwhile venture, as well.)\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n// *** Proc Fairings sizes\n@PROCFAIRINGS_MINDIAMETER\n{\n\tstart = 0.1\n}\n@PROCFAIRINGS_MAXDIAMETER\n{\n\t@start = 2.0\n\t!advAerodynamics = DEL\n\t!heavyAerodynamics = DEL\n\t!experimentalAerodynamics = DEL\n\t%engineering101 = 3.05\n\t%basicConstruction = 4.6\n\t%generalConstruction = 7.0\n\t%advConstruction = 10.1\n\t%specializedConstruction = 16.0\n\t%advMetalworks = 50.0\n}\n@PROCROCKET_MINDIAMETER\n{\n\t@start = 0.1\n}\n\n@PROCROCKET_MAXDIAMETER\n{\n\t%start = 2.0\n\t!advConstruction = DEL\n\t!metaMaterials = DEL\n\t!aerospaceTech = DEL\n\t%engineering101 = 3.05\n\t%basicConstruction = 4.6\n\t%generalConstruction = 7.0\n\t%advConstruction = 10.1\n\t%specializedConstruction = 16.0\n\t%advMetalworks = 50.0\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nStarting Launch Clamps: This one is from the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/87284-64k-v1120-ksp-10x-31st-august-2015/\u0022\u003E64x pack\u003C/a\u003E. It adjusts the launch clamps in the tree such that you start with them in the \u0027Start\u0027 node, as they may be of some significant utility for oversized craft.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n\n@PART[launchClamp1]:FINAL\n{\n\t//Move launch clamp, larger solar system = bigger rockets = need launch\n\t//clamps.\n\t@TechRequired = start\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n... I swear there was another one. Blah \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EKnown Issues:\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nIf a Node needs to be added to the list manually, double check that it\u0027s the correct one; a duplicate entry will quite happily end up scaling twice (that is, squaring the scale).\n\u003C/li\u003E\n\u003Cli\u003E\nProcedural Fairings are still WIP: They certainly work, but they play a little bit of \u0027man behind the curtain\u0027, as the numbers displayed don\u0027t jive with the visuals presented elsewhere in the game. I\u0027m still seeing what can be done about this, so its WIP.\n\u003C/li\u003E\n\u003Cli\u003E\nNot an \u0022Issue\u0022 Issue, but be aware that SRBs are scaled to a VERY high TWR out of the box: This is so launch escape systems and the like can work properly. For regular \u0022SRB-ing\u0022, you\u0027ll likely find that they\u0027re a little much. (Your Kerbalnaut may find that they\u0027re a little bit \u0027chunky guacamole\u0027, in other words.) Aim for 10-25% on the thrust limiters. This is easily adjustable, at the top of ROMini.cfg, in the first config block, look for @maxThrust, and tweak the multiplier to taste.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003EChangelog:\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\n0.1-1: Snippets and Known Issues Section(s) added. (03/10/2016)\n\u003C/p\u003E\n\u003Cp\u003E\n0.1: Initial Upload. (03/06/2016)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003ELicense:\u003C/strong\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nROMini.cfg as included here is under CC-BY-4.0, per the original license. (See \u003Ca href=\u0022https://github.com/KSP-RO/RealismOverhaul\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/KSP-RO/RealismOverhaul\u003C/a\u003E for the original.)\u003Cbr\u003E\ngenerateNodes.py and generatedNodes.cfg are under CC-BY-4.0 as well. Please feel free to improve upon them!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-11T06:04:18Z\u0022 title=\u002203/11/2016 06:04  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 11, 2016\u003C/time\u003E by komodo\u003C/strong\u003E\n\u003Cbr\u003EUpdate post to 0.1-1\n\u003C/span\u003E\n"},{"CreatedByName":"MrMeeb","CreatedById":84238,"CreatedDateTime":"2016-03-08T20:13:13Z","Content":"\n\u003Cp\u003E\nJust tried this out *finally* and it seems to be really really cool! \u003Cimg alt=\u0022:D\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 title=\u0022:D\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-03-09T09:40:07Z","Content":"\n\u003Cp\u003E\nWoohoo! I made a happy! Seriously, I\u0027m super glad to hear someone likes it ^^\n\u003C/p\u003E\n\u003Cp\u003E\ntwo things I ought to note after rereading my post... I need a known issues section:\n\u003C/p\u003E\n\u003Cp\u003E\none, is if you have to add a missing node patch, make sure not to add an additional entry for an existing one, or it\u0027ll happily square it vs a nice multiplication. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThe other is regarding procedural fairings; I had to explicitly exclude them from scaling, as the code that handles their resizing totally freaks out when subjected to these modifications.\n\u003C/p\u003E\n\u003Cp\u003E\nThey work correctly, but they\u00A0show the man behind the curtain when their numerical size doesn\u0027t match their visual.\u00A0Consequently, you may want to change/patch their size limits to match the rescale. 2,3,4m, etc.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m still looking into that one, but I\u0027m far from a C\u002B\u002B guru, so their source is a little fuzzy to me. I suspect there is a simple way to tell them that they should start at 2m and step in 10cm increments, as they somehow know to start at 1.25 and go in multiples of that...\u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u00A0but, it\u0027s probably right in front of my face where I\u0027ll never find it \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\ni also have no idea what procedural parts will do. Also go nuts, I suspect. *puts it on the \u0022to check\u0022 list *\n\u003C/p\u003E\n\u003Cp\u003E\noh, and SRBs: this carries over from the original, but they have ***wayyyyyy*** too much oomph as it stands. You\u0027ll\u00A0want to probably set them down to 10-20% limit for most applications. (When I asked, NathanKell said he thought it was for escape rockets and the like, but he wasn\u0027t sure either.) You may want to play with that one: it\u0027s right at the top of the file, conveniently.\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-03-09T09:44:56Z\u0022 title=\u002203/09/2016 09:44  AM\u0022 data-short=\u00228 yr\u0022\u003EMarch 9, 2016\u003C/time\u003E by komodo\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-03-09T21:09:37Z","Content":"\n\u003Cp\u003E\nYeah, SRB thrust is set that high because otherwise you can\u0027t make an LES or separation motor very easily. You can always tweak \u0027em down.\n\u003C/p\u003E\n"},{"CreatedByName":"legoclone09","CreatedById":142607,"CreatedDateTime":"2016-03-16T05:04:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222449755\u0022 data-ipsquote-contentid=\u0022133635\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221457557777\u0022 data-ipsquote-userid=\u002275006\u0022 data-ipsquote-username=\u0022NathanKell\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn March 8, 2016 at 1:09 PM, NathanKell said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYeah, SRB thrust is set that high because otherwise you can\u0027t make an LES or separation motor very easily. You can always tweak \u0027em down.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nHave an LES part rescalable with correct thrust in the same node as first capsules? Shouldn\u0027t be too hard, a simple MM patch can do it.\n\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-03-16T05:48:33Z","Content":"\n\u003Cp\u003E\nThis is a generic patcher. It generically patches all parts. It\u0027s not in the business of creating new parts.\n\u003C/p\u003E\n\u003Cp\u003E\nThis is a balance tuner, not a part mod.\n\u003C/p\u003E\n"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-02T02:47:14Z","Content":"\n\u003Cp\u003E\nCould you please make it compatible to 1.1.2? - it always tells me on\u00A0game start\u00A0that it generated 2 errors.\u003Cbr\u003E\u003Cbr\u003E\nUntil RO and all the dependencies are updated this would help much.\n\u003C/p\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-02T02:57:47Z","Content":"\n\u003Cp\u003E\nI am looking into it now, actually. It should be much simpler in the end with several changes in 1.1. It hasn\u0027t appeared yet officially as github managed to get my account all mixed up, and i\u0027m waiting for them to straighten it out.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m running down bugs in my own 1.1 install as well, so it might take a few minutes \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-05-02T04:43:03Z","Content":"\n\u003Cp\u003E\nAFAIK the base version is 1.1.2 compatible (have tested it); not sure what might have been added that might make it not so.\n\u003C/p\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-02T05:54:22Z","Content":"\n\u003Cp\u003E\nAt the moment on mine, it\u0027s being very perplexing... Something in the config is causing KSP to blow up when trying to generate and/or read a float curve, which I assume to be the drag curves based on the log context around it. The perplexing part is this is after I stripped out the portion of the script that deals with drag cubes, and any other float curve I can find... i\u0027m peeling back patches until I can find the offending block. I think I have it on the run, in that I have a stripped out version that loads, while the full original copy doesn\u0027t. Now to add back in pieces until it fails again.\n\u003C/p\u003E\n\u003Cp\u003E\nOK. Of course. It\u0027s something in the Stock Procedural Fairing Scaling/node scaling... code behind the fold below. It\u0027s 12:30 am now, so I am out of time to debug it, but this patch gives a very quick bomb on my install, as soon as it starts compiling parts. I think the drag cube thing was a fluke.\n\u003C/p\u003E\n\u003Cp\u003E\nThe patch:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E// Reenabled the node scaling. I *don\u0027t* know if it is still needed (NEEDS TESTING), or if the general model scaling above catches it. These guys are always weird... \n@PART[*]:HAS[@MODULE[ModuleProceduralFairing]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t%rescaleFactor = 1.0\n\t@MODEL\n\t{\n\t\t%scale = 1.6, 1.6, 1.6\n\t}\n\tstack_top0 = #$node_stack_top[0]$\n\tstack_top1 = #$node_stack_top[1]$\n\tstack_top2 = #$node_stack_top[2]$\n\t@stack_top0 *= 1.6\n\t@stack_top1 *= 1.6\n\t@stack_top2 *= 1.6\n\tstack_top_new = #$stack_top0$,$stack_top1$,$stack_top2$,$node_stack_top[3]$,$node_stack_top[4]$,$node_stack_top[5]$,$node_stack_top[6]$\n\t@node_stack_top = #$stack_top_new$\n\t!stack_top0 = DEL\n\t!stack_top1 = DEL\n\t!stack_top2 = DEL\n\t!stack_top_new = DEL\n\t\n\tstack_bottom0 = #$node_stack_bottom[0]$\n\tstack_bottom1 = #$node_stack_bottom[1]$\n\tstack_bottom2 = #$node_stack_bottom[2]$\n\t@stack_bottom0 *= 1.6\n\t@stack_bottom1 *= 1.6\n\t@stack_bottom2 *= 1.6\n\tstack_bottom_new = #$stack_bottom0$,$stack_bottom1$,$stack_bottom2$,$node_stack_bottom[3]$,$node_stack_bottom[4]$,$node_stack_bottom[5]$,$node_stack_bottom[6]$\n\t@node_stack_bottom = #$stack_bottom_new$\n\t!stack_bottom0 = DEL\n\t!stack_bottom1 = DEL\n\t!stack_bottom2 = DEL\n\t!stack_bottom_new = DEL\n\t\n\t@MODULE[ModuleProceduralFairing]\n\t{\n\t\t@baseRadius *= 1.6\n\t\t@maxRadius *= 1.6\n\t\t//@capRadius *= 1.6\n\t\t@snapThreshold *= 1.6\n\t\t\n\t\t//@xSectionHeightMin = 0.2\n\t\t@xSectionHeightMax *= 2\n\t\t\n\t\t//edgeSlide = 0.15\n\t\t//edgeWarp = 0\n\t\t//noseTip = 0.7\n\t\t\n\t\t@UnitAreaMass = 0.0075\n\t\t@UnitAreaCost = 6\n\t}\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThe Errors:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EPartLoader: Compiling Part \u0027Bluedog_DB/Parts/Delta/bluedog_DeltaK_FairingTank/bluedog_DeltaK_FairingTank\u0027\n \n(Filename: /home/builduser/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 64)\n\nFormatException: Input string was not in the correct format\n  at System.Int32.Parse (System.String s) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at PartLoader.ParsePart (.UrlConfig urlConfig, .ConfigNode node) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at PartLoader\u002B.MoveNext () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n \n(Filename:  Line: -1)\n\nNullReferenceException: Object reference not set to an instance of an object\n  at PartLoader.GetDatabaseConfig (.Part p) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at PartLoader.GetDatabaseConfig (.Part p, System.String nodeName) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at DragCubeSystem.LoadDragCubes (.Part p) [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n  at Part\u002B.MoveNext () [0x00000] in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;filename\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022atn\u0022\u003Eunknown\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E:0 \n \n(Filename:  Line: -1)\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nThis one threw me off the trail for a while... It occurred right before the halt, but I think its a fluke at this point:\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003EDragCubeSystem: Creating drag cubes for part \u0027bluedog.Delta2.LowerMainTank\u0027\n \n(Filename: /home/builduser/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 64)\n\nPartLoader: Compiling Part \u0027Bluedog_DB/Parts/Delta/bluedog_Delta2_RS27/bluedog_Delta2_RS27\u0027\n \n(Filename: /home/builduser/buildslave/unity/build/artifacts/generated/common/runtime/UnityEngineDebugBindings.gen.cpp Line: 64)\n\nFloatCurve: Invalid line. Requires two values, \u0027time\u0027 and \u0027value\u0027\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\nNow: There\u0027s a reason i\u0027m laughing. This is the block of code that I borrowed/adapted to make the script to generate the node MM patches for in the first place. So the concept works fine... However, I do recall running into this during development/testing as well: I suspect that it\u0027s leaving a comma trailing in a float somewhere, or something. ... Yep, that\u0027s it exactly... I had to work around the fact that the last index in a node_stack definition is optional. (And its not very nice to complain at an author for not using an optional parameter \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E , so better we handle it here.)\n\u003C/p\u003E\n\u003Cp\u003E\nIt worked on yours by virtue of happening to have procedural fairings with all six indexes defined. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nFrom the python script:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E//I am attemting to strip out the trailing comma and replace it with a whitespace. (That didn\u0027t work so well, so maybe we can set it to \u00221\u0022)\n@{0}[5] ^= :,$:,1:\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nIn MM syntax, that\u0027d be...\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@node_stack_top[5] ^= :,$:,1:\u003C/span\u003E\u003C/pre\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@node_stack_bottom[5] ^= :,$:,1:\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWe need to add these just after we reassign our scaled nodes to the original name(s).\n\u003C/p\u003E\n\u003Cp\u003E\nI *think* that only adds the one if the trailing character is a comma, but i\u0027m not sure. In either case, it\u0027s unlikely to be mission critical, as far as I know. As the note I left to myself says, I tried to just strip the comma, but was unsuccessful. I\u0027ll get this all wrapped up into a new PR whenever github gets my account straightened out \u003Cimg alt=\u0022:confused:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 title=\u0022:confused:\u0022\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-02T05:58:37Z\u0022 title=\u002205/02/2016 05:58  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 2, 2016\u003C/time\u003E by komodo\u003C/strong\u003E\n\u003Cbr\u003EI accidentally the entire index\n\u003C/span\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-02T06:13:30Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222554651\u0022 data-ipsquote-contentid=\u0022133635\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462157234\u0022 data-ipsquote-userid=\u0022163177\u0022 data-ipsquote-username=\u0022Gordon Dry\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, Gordon Dry said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCould you please make it compatible to 1.1.2? - it always tells me on\u00A0game start\u00A0that it generated 2 errors.\u003Cbr\u003E\u003Cbr\u003E\nUntil RO and all the dependencies are updated this would help much.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSo I ought to at least deploy a working copy after having said all that... Find the file below the fold. Name it zROMini.cfg (make sure that the ending doesn\u0027t do something like .cfg.txt, or KSP won\u0027t use it.) and enjoy! Please report any issues, and I will try to address them in a timely manner as best as I am able.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E// Redo properties\n@PART[*]:HAS[@RESOURCE[SolidFuel]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 4.8 // will multiply by 0.25 later, yielding 1.2x orig mass. With 1.7x resource,\n\t// we get decent mass ratios.\n\t@MODULE,*:HAS[#name[ModuleEngine*],!PROPELLANT[IntakeAir]]\n\t{\n\t\tkey0 = temp\n\t\tkey1 = temp\n\t\t@key0 = #$atmosphereCurve/key,0$\n\t\t@key1 = #$atmosphereCurve/key,1$\n\t\t@key0 ^= :0 ::\n\t\t@key1 ^= :1 ::\n\t\t@key0 *= 1.4\n\t\t@key1 *= 1.4\n\t\t@maxThrust *= 3.4 // double the resource multiplier, divided by all-engine multiplier\n\t\t// to keep pace with fuel change alone it\u0027d be 1.0625 x 1.6 = 1.7\n\t\t@atmosphereCurve\n\t\t{\n\t\t\t@key,0 = #$../key0$\n\t\t\t@key,0 ^= :^:0 :\n\t\t\t@key,1 = #$../key1$\n\t\t\t@key,1 ^= :^:1 :\n\t\t}\n\t}\n\t@RESOURCE[SolidFuel]\n\t{\n\t\t@amount *= 1.7\n\t\t@maxAmount *= 1.7\n\t}\n}\n@PART[*]:HAS[@MODULE[ModuleEngines*]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 0.25\n\t@MODULE,*:HAS[#name[ModuleEngines*]]\n\t{\n\t\t@maxThrust *= 1 // was 1.6\n\t}\n\t@MODULE[ModuleGimbal]\n\t{\n\t\t//@gimbalRange *= 2 // Disabled for now, to avoid MJ twitch\n\t}\n}\n// Special case engines\n// Jets\n@PART[*]:HAS[@MODULE[ModuleEngine*]:HAS[@PROPELLANT[IntakeAir]]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 3.75\n\t@MODULE[ModuleEngine*]:HAS[@PROPELLANT[IntakeAir]]\n\t{\n\t\t@maxThrust *= 0.5\n\t\t@atmosphereCurve\n\t\t{\n\t\t\t@key ^= :^0 ::\n\t\t\t@key ^= : 0 0::\n\t\t\t@key *= 0.75\n\t\t\t@key ^= :^:0 :\n\t\t\t@key ^= :$: 0 0:\n\t\t}\n\t}\n}\n// NTR\n@PART[nuclearEngine]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 3\n\t\n}\n// Tanks\n@PART[*]:HAS[@RESOURCE[LiquidFuel]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t//@mass *= 0.2353 // will be done by rescale, uncomment if not rescaling.\n\t// Note, if not rescaling, LF and LFO tanks should have 0.83x resources,\n\t// same for Ore, and Monoprop should have 1.25x the resources to account for density diff\n}\n// Heat shields\n@PART[*]:HAS[@MODULE[ModuleAblator]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@MODULE[ModuleAblator]\n\t{\n\t\t@lossConst *= 0.1\n\t}\n}\n// RESCALE\n// These should handle Procedural Fairings nicely, but seem to fail. No errors, just no results.\n@PART[*]:HAS[MODULE[KzNodeNumberTweaker]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@MODULE[KzFairingBaseResizer]\n    \t{\n      \t\t@size *= 1.6\n\t\t%diameterStepLarge = #$size$\n\t\tdss = #$size$\n\t\t//@dss *= 0.625  // Why did we do this?\n\t\t@dss *= 0.1\n\t\t%diameterStepSmall = #$dss$\n\t\t!dss = DEL\n    \t}\n\t@MODULE[ProceduralFairingAdapter]\n    \t{\n      \t\t@baseSize *= 1.6\n        \t@topSize *= 1.6\n    \t}\n\t@MODULE[KzThrustPlateResizer]\n\t{\n\t\t@size *= 1.6\n\t}\n}\n// These are needed to make the above work sensibly with the PF stock settings. The tech tree adjustement from RP0 is what I personally use, but it seems excessive to include here.\n@PROCFAIRINGS_MINDIAMETER\n{\n\tstart = 0.1\n}\n@PROCFAIRINGS_MAXDIAMETER\n{\n\t@start = 2.0\n}\n@PROCROCKET_MINDIAMETER\n{\n\t@start = 0.1\n}\n@PROCROCKET_MAXDIAMETER\n{\n\t%start = 2.0\n}\n// /PF\n// If we do not exclude PF here, they get very weird about their scaling and nodes. PP is not handled here, as I am not an avid user.\n@PART[*]:HAS[#rescaleFactor[*],!MODULE[ProceduralFairing*],!MODULE[KzThrustPlateResizer]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@rescaleFactor *= 1.6\n}\n@PART[*]:HAS[~rescaleFactor[]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\trescaleFactor = 2.0\n}\n@PART[*]:HAS[~scale[]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\tscale = 1.0\n}\n// This _should_ work, but scale seems to fail in 1.0.4...\n// It DOES work in 1.0.5 in all aspects but for not catching attach nodes... doh!\n// Based on the above comments, I expect it *should* work in 1.1, but i\u0027m editing blind at work at the moment...\n//@PART[*]:HAS[@MODEL]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n//{\n//\t@MODEL,*:HAS[~scale[]]\n//\t{\n//\t\tscale = 1.0, 1.0, 1.0\n//\t}\n//\t@MODEL,*\n//\t{\n//\t\tscaleX = #$scale[0]$\n//\t\tscaleY = #$scale[1]$\n//\t\tscaleZ = #$scale[2]$\n//\t\t@scaleX *= #$../rescaleFactor$\n//\t\t@scaleY *= #$../rescaleFactor$\n//\t\t@scaleZ *= #$../rescaleFactor$\n//\t\t@scale = #$scaleX$,$scaleY$,$scaleZ$\n//\t}\n//}\n// We need to DISABLE this one so we don\u0027t scale twice.\n// I don\u0027t see why we wouldn\u0027t have to keep this disabled/removed under the new 1.1 conditions.\n// Is this not redundant with the @scale in the model node above?\n//@PART[*]:HAS[@MODEL]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n//{\n//\t@scale *= #$rescaleFactor$\n//}\n//@PART[*]:HAS[@MODEL]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n//{\n//\t@rescaleFactor = 1.0\n//}\n// Parachutes, special case\n@PART[*]:HAS[@MODULE[ModuleDragModifier],@MODULE[ModuleParachute]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@MODULE,*:HAS[#name[ModuleDragModifier]]\n\t{\n\t\t@dragModifier *= 0.390625 // 1/1.6^2\n\t}\n}\n Drag cube changes from rescale\n@PART[*]:HAS[@DRAG_CUBE]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@DRAG_CUBE\n\t{\n\t\t@cube,*[1,,] *= 1.6\n\t\t@cube,*[3,,] *= 1.6\n\t\t@cube,*[4,,] *= 1.6\n\t\t@cube,*[6,,] *= 1.6\n\t\t@cube,*[7,,] *= 1.6\n\t\t@cube,*[9,,] *= 1.6\n\t\t@cube,*[10,,] *= 1.6\n\t\t@cube,*[12,,] *= 1.6\n\t\t@cube,*[13,,] *= 1.6\n\t\t@cube,*[15,,] *= 1.6\n\t\t@cube,*[16,,] *= 1.6\n\t\t@cube,*[18,,] *= 1.6\n\t\t@cube,*[19,,] *= 1.6\n\t\t@cube,*[20,,] *= 1.6\n\t\t@cube,*[21,,] *= 1.6\n\t\t@cube,*[22,,] *= 1.6\n\t\t@cube,*[23,,] *= 1.6\n\t\t@cube,*[24,,] *= 1.6\n\t}\n}\n// Stat changes from rescale\n// Engines: increase by throat area\n@PART[*]:HAS[@MODULE[ModuleEngines*]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 2.56\n\t@MODULE,*:HAS[#name[ModuleEngines*]]\n\t{\n\t\t@maxThrust *= 2.56\n\t}\n}\n// SRBs: Increase from volume increase\n@PART[*]:HAS[@RESOURCE[SolidFuel]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@MODULE,*:HAS[#name[ModuleEngines*]]\n\t{\n\t\t@maxThrust *= 1.328125 // already a factor of 2.56 from all-engines, above.\n\t}\n\t@mass *= 1.328125 // ditto\n\t@RESOURCE[SolidFuel]\n\t{\n\t\t@amount *= 3.4\n\t\t@maxAmount *= 3.4\n\t}\n}\n// Fuel tanks, lower dry mass\n@PART[*]:HAS[@RESOURCE[LiquidFuel],!MODULE[ModuleCommand],!MODULE[ModuleEngines*]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 0.8\n}\n// Increase volume of all tanks as appropriate\n@PART[*]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@RESOURCE[Oxidizer]\n\t{\n\t\t@amount *= 3.4\n\t\t@maxAmount *= 3.4\n\t}\n\t@RESOURCE[LiquidFuel]\n\t{\n\t\t@amount *= 3.4 // should be 4.096 but this is correct for density and MR\n\t\t@maxAmount *= 3.4\n\t}\n\t@RESOURCE[MonoPropellant]\n\t{\n\t\t@amount *= 1.25 // higher dry fraction\n\t\t// Note: this means that volume utilization will only be 1/3 that of a regular\n\t\t// LFO tank....\n\t\t@maxAmount *= 1.25\n\t}\n\t@RESOURCE[XenonGas]\n\t{\n\t\t@amount *= 4\n\t\t@maxAmount *= 4\n\t}\n\t@RESOURCE[Ore]\n\t{\n\t\t@amount *= 3.4\n\t\t@maxAmount *= 3.4 // assume same density as LF/OX\n\t}\n\t@RESOURCE[IntakeAir]\n\t{\n\t\t@amount *= 4\n\t\t@maxAmount *= 4\n\t}\n}\n// decrease resource costs\n@RESOURCE_DEFINITION[Oxidizer|LiquidFuel|SolidFuel|MonoPropellant|XenonGas]\n{\n\t@unitCost *= 0.1\n}\n// Rescale wings\n@PART[*]:HAS[@MODULE[*]:HAS[#deflectionLiftCoeff[*]]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 2.56\n\t@MODULE,*:HAS[#deflectionLiftCoeff[*]]\n\t{\n\t\t@deflectionLiftCoeff *= 2.56\n\t}\n}\n// Catch Mk2 fuselages that have the wing modules...\n@PART[*]:HAS[@MODULE[*]:HAS[#useInternalDragModel[False]]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 0.390625 // reset mass\n}\n// scale up intakes\n@PART[*]:HAS[@MODULE[ModuleResourceIntake]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t@mass *= 2.56\n\t@MODULE[ModuleResourceIntake]\n\t{\n\t\t@area *= 2.56\n\t}\n}\n// Handle proc fairings.\n// Reenabled the node scaling. I *don\u0027t* know if it is still needed (NEEDS TESTING), or if the general model scaling above catches it. These guys are always weird... \n@PART[*]:HAS[@MODULE[ModuleProceduralFairing]]:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t%rescaleFactor = 1.0\n\t@MODEL\n\t{\n\t\t%scale = 1.6, 1.6, 1.6\n\t}\n\tstack_top0 = #$node_stack_top[0]$\n\tstack_top1 = #$node_stack_top[1]$\n\tstack_top2 = #$node_stack_top[2]$\n\t@stack_top0 *= 1.6\n\t@stack_top1 *= 1.6\n\t@stack_top2 *= 1.6\n\tstack_top_new = #$stack_top0$,$stack_top1$,$stack_top2$,$node_stack_top[3]$,$node_stack_top[4]$,$node_stack_top[5]$,$node_stack_top[6]$\n\t@node_stack_top = #$stack_top_new$\n\t@node_stack_top[5] ^= :,$:,1:\n\t!stack_top0 = DEL\n\t!stack_top1 = DEL\n\t!stack_top2 = DEL\n\t!stack_top_new = DEL\n\t\n\tstack_bottom0 = #$node_stack_bottom[0]$\n\tstack_bottom1 = #$node_stack_bottom[1]$\n\tstack_bottom2 = #$node_stack_bottom[2]$\n\t@stack_bottom0 *= 1.6\n\t@stack_bottom1 *= 1.6\n\t@stack_bottom2 *= 1.6\n\tstack_bottom_new = #$stack_bottom0$,$stack_bottom1$,$stack_bottom2$,$node_stack_bottom[3]$,$node_stack_bottom[4]$,$node_stack_bottom[5]$,$node_stack_bottom[6]$\n\t@node_stack_bottom = #$stack_bottom_new$\n\t@node_stack_bottom[5] ^= :,$:,1:\n\t!stack_bottom0 = DEL\n\t!stack_bottom1 = DEL\n\t!stack_bottom2 = DEL\n\t!stack_bottom_new = DEL\n\t\n\t@MODULE[ModuleProceduralFairing]\n\t{\n\t\t@baseRadius *= 1.6\n\t\t@maxRadius *= 1.6\n\t\t//@capRadius *= 1.6\n\t\t@snapThreshold *= 1.6\n\t\t\n\t\t//@xSectionHeightMin = 0.2\n\t\t@xSectionHeightMax *= 2\n\t\t\n\t\t//edgeSlide = 0.15\n\t\t//edgeWarp = 0\n\t\t//noseTip = 0.7\n\t\t\n\t\t@UnitAreaMass = 0.0075\n\t\t@UnitAreaCost = 6\n\t}\n}\n\n// Physics\n@PHYSICSGLOBALS:FOR[zROMini]:NEEDS[!RealismOverhaul]\n{\n\t// AeroFX\n\t@aeroFXScalar = 0.003\n\t@aeroFXDensityExponent = 0.5\n\t@aeroFXStartThermalFX = 2.5\n\t@aeroFXFullThermalFX = 3.5\n\t@aeroFXExponent = 3.5\n\t\n\t// CONSTANTS\n\t@spaceTemperature = 4\n\t@solarLuminosityAtHome = 1360\n\t@solarInsolationAtHome = 0.15\n\t@standardSpecificHeatCapacity = 800\n\t@internalHeatProductionFactor = 0.025\n\t@aerodynamicHeatProductionFactor = 1.0\n\t\n\t// CONVECTION\n\t// Convection areas\n\t@fullConvectionAreaMin = -0.1\n\t@fullToCrossSectionLerpStart = 0.8\n\t@fullToCrossSectionLerpEnd = 1.5\n\t\n\t// Newtonian-To-Hypersonic transition\n\t@machConvectionStart = 2\n\t@machConvectionEnd = 4.0\n\t@machConvectionExponent = 3\n\t@convectionFactorSplashed = 5000\n\t\n\t// Turbulent convection (total guesses)\n\t@turbulentConvectionStart = 100\n\t@turbulentConvectionEnd = 400\n\t@turbulentConvectionMult = 25\n\t\n\t// Newtonian Convection\n\t@newtonianConvectionFactorBase = 4.0\n\t@newtonianConvectionFactorTotal = 1.0\n\t@newtonianDensityExponent = 0.5\n\t@newtonianVelocityExponent = 1.0\n\t\n\t// Hypersonic Convection\n\t@convectionDensityExponent = 0.5\n\t@convectionVelocityExponent = 3.0\n\t@convectionFactor = 1.1\n\t@machTemperatureScalar = 7.5 // ~6000 at 7.3km/sec\n\t@machTemperatureVelocityExponent = 0.75\n\t\n\t// CONDUCTION\n\t@conductionFactor = 5\n\t@skinSkinConductionFactor = 0.06\n\t@skinInteralConductionFactor = 0.25\n\t@shieldedConductionFactor = 0.01\n\t\n\t// RADIATION\n\t@partEmissivityExponent = 4\n\t@radiationFactor = 1\n}\n\n// ENGINE RADIAL ATTACH\n@PART[*]:HAS[@MODULE[ModuleEngines*],~node_attach[],#node_stack_top[*]]:FINAL\n{\n\tnode_attach = #$node_stack_top$\n}\n@PART[*]:HAS[#node_attach[*],#attachRules[1,0,1,0,0]]:FINAL\n{\n\t@attachRules = 1,1,1,0,0\n}\n@PART[*]:HAS[#node_attach[*],#attachRules[1,0,1,1,0]]:FINAL\n{\n\t@attachRules = 1,1,1,1,0\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2016-05-02T14:36:46Z","Content":"\n\u003Cp\u003E\nOne extra wrinkle to toss onto the pile: switchable fuel tanks.\u00A0 ModuleB9PartSwitch will be easy enough for you to handle since it has a single \u0022baseVolume\u0022 variable, but FS and InterstellarFuelSwitch use a mixed semicolon-and-comma-separated list to store their fuel capacities (semicolons to separate tank variants, commas to separate resources within each variant), which Module Manager cannot handle as easily (for lists with a single kind of separator, there\u0027s an operator to crunch on all entries at the same time, but obviously that won\u0027t work here), so that would be something you\u0027d need to detect and handle in your patch-generating script.\n\u003C/p\u003E\n"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-02T20:30:53Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222554880\u0022 data-ipsquote-contentid=\u0022133635\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462169610\u0022 data-ipsquote-userid=\u0022102065\u0022 data-ipsquote-username=\u0022komodo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n14 hours ago, komodo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSo I ought to at least deploy a working copy after having said all that... Find the file below the fold. Name it zROMini.cfg (make sure that the ending doesn\u0027t do something like .cfg.txt, or KSP won\u0027t use it.) and enjoy! Please report any issues, and I will try to address them in a timely manner as best as I am able.\n\u003C/p\u003E\n\u003Cp\u003E\nCheers!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nTesting now, but still says \u00222 errors\u0022 on game start.\n\u003C/p\u003E\n\u003Cp\u003E\nYesterday I fiddled around with the old one before I fell to bed...\u003Cbr\u003E\nI just commented out everything related to scale and mass, no more errors but game still buggy.\u003Cbr\u003E\u003Cbr\u003E\nActually it\u0027s unclear with so many mods still not fixed...\u003Cbr\u003E\nNow I\u0027m testing without any starting parameter, fullscreen and these mods:\u003Cbr\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsSpoiler\u0022 data-ipsspoiler=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsSpoiler_header\u0022\u003E\n\u003Cspan\u003ESpoiler\u003C/span\u003E\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsSpoiler_contents\u0022\u003E\n\u003Cp\u003E\nKSP: 1.1.2 (Win64) - Unity: 5.2.4f1 - OS: Windows 10\u00A0 (10.0.0) 64bit\u003Cbr\u003E\nFilter Extensions - 2.5\u003Cbr\u003E\nToolbar - 1.7.12\u003Cbr\u003E\nUSI Tools - 0.7.2.1\u003Cbr\u003E\nAdvanced Jet Engine - 2.7.1\u003Cbr\u003E\nAutoAsparagus - 2.2.1\u003Cbr\u003E\nColor Coded Canisters - 1.4.5\u003Cbr\u003E\nCommunity Resource Pack - 0.5.1\u003Cbr\u003E\nCustom Asteroids - 1.3\u003Cbr\u003E\nCustomBarnKit - 1.1.7\u003Cbr\u003E\nDeadly Reentry - 7.4.3\u003Cbr\u003E\nDMagic Orbital Science - 1.2.4\u003Cbr\u003E\nFerram Aerospace Research - 0.15.6.3\u003Cbr\u003E\nFuel Tanks Plus - 1.8.3\u003Cbr\u003E\nGPOSpeedFuelPump - 1.8.1\u003Cbr\u003E\nInterstellar Fuel Switch - 1.27\u003Cbr\u003E\nKerbal Engineer Redux - 1.1.1\u003Cbr\u003E\nKerbal Joint Reinforcement - 3.1.7\u003Cbr\u003E\nKSP-AVC Plugin - 1.1.6.1\u003Cbr\u003E\nLithobrake Exploration Technologies - 0.3.5\u003Cbr\u003E\nModular Rocket Systems - 1.12.6\u003Cbr\u003E\nDocking Port Alignment Indicator - 6.3\u003Cbr\u003E\nKerbal Planetary Base Systems - 1.0.10\u003Cbr\u003E\nQuickSearch - 2.0\u003Cbr\u003E\nRCS Sounds - 5.0\u003Cbr\u003E\nRealChute - 1.4.1.1\u003Cbr\u003E\nRealPlume - Stock - 0.10.6\u003Cbr\u003E\nReal Scale Boosters - 0.12.3\u003Cbr\u003E\nRealSolarSystem - 11.1\u003Cbr\u003E\nAmpYear - 1.3\u003Cbr\u003E\nSolverEngines - 2.1\u003Cbr\u003E\nSpaceY Expanded - 1.1.9\u003Cbr\u003E\nSpaceY Lifters - 1.12.4\u003Cbr\u003E\nTarsierSpaceTechnology - 6.1\u003Cbr\u003E\nTAC Life Support - 0.11.2.1\u003Cbr\u003E\nUSI-LS - 0.4.2.1\u003Cbr\u003E\nKSP Interstellar Extended - 1.8.14\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nbtw why everything is scaled up?\n\u003C/p\u003E\n\u003Cp\u003E\n1 meter is one meter, on Kerbal as well as on Earth, right?\n\u003C/p\u003E\n\u003Cp\u003E\nMy intention tells me that only the mass and the thrust should be fixed for RSS...\n\u003C/p\u003E\n\u003Cp\u003E\nBut perhaps I\u0027m missing something...\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-02T20:31:48Z\u0022 title=\u002205/02/2016 08:31  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 2, 2016\u003C/time\u003E by Gordon Dry\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"NathanKell","CreatedById":75006,"CreatedDateTime":"2016-05-02T22:31:15Z","Content":"\n\u003Cp\u003E\nYou are. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nKSP parts generally mass what their real counterparts do (1.2t for a complete Mk1 pod setup / Mercury, ~5.5t for a complete Mk1-2 pod setup / Apollo) but they have 40% the surface area (~.64x the linear size, = ~.4096 the drag area). That means they have much higher terminal velocities than they should, and much more dangerous reentries.\n\u003C/p\u003E\n\u003Cp\u003E\nIt also messes up aerodynamics on ascent, and also you generally need \u0026gt;=2m rocket parts to launch even a tonne into orbit in RSS, so might as well scale up the tanks too.\n\u003C/p\u003E\n"},{"CreatedByName":"Whirligig Girl","CreatedById":36077,"CreatedDateTime":"2016-05-03T00:16:19Z","Content":"\n\u003Cp\u003E\nHow does this play with Real Scale Boosters pack? Is there a way to prevent the mod from rescaling Real Scale Boosters?\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: yep, it does rescale Real Scale Boosters.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-03T00:34:37Z\u0022 title=\u002205/03/2016 12:34  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 3, 2016\u003C/time\u003E by GregroxMun\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-03T01:23:13Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/163177-gordon-dry/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022163177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/163177-gordon-dry/\u0022 rel=\u0022\u0022\u003E@Gordon Dry\u003C/a\u003E, which two errors are you getting? If you could pastebin/Dropbox/etc a log file, I\u0027ll take a look. I don\u0027t have a handy link to the \u0022how to find logs\u0022 post, as I\u0027m on mobile... Are you Windows, Linux or OS X? I have a clue for the last two, but no idea where Windows stuffs the player.log file.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/36077-gregroxmun/\u0026amp;do=hovercard\u0022 data-mentionid=\u002236077\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/36077-gregroxmun/\u0022 rel=\u0022\u0022\u003E@GregroxMun\u003C/a\u003E, I have/had a local copy that did handle RSB, but I didn\u0027t want to set a precedent for exceptions for particular part\u00A0packs. Although with the nature of that one, an exceptional exception may be in order. It should be fairly straightforward with their structure, particularly now that the stockification patches are rumbling in. I\u0027ll see what I can do.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022126593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0022 rel=\u0022\u0022\u003E@Kerbas_ad_astra\u003C/a\u003E, Ah. Crap. That is a wrinkle. I have a thought about how to savage MM regexs to do so, but I imagine you\u0027ve throurghly thrashed that ex-equine already. I\u0027ll take a look.\n\u003C/p\u003E\n\u003Cp\u003E\nThe script component of this guy should no longer be needed. I wish I were skilled enough to write a MM writing script, at least one of this general a nature, but mine handled one block in this suite only.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs NK might say, we\u0027re trying to be as generic as possible and/or within reason. As noted, this is a blanket scale up, and some things might get jammed up in the works. IFS and FS might have to get an entry in the known issues, if they are too uncooperative \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nA full treatment of these issues might be called ultimately LargeROMini... Wait... \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-03T03:07:04Z","Content":"\n\u003Cp\u003E\n@komodo: last session log plus mod list: \u003Ca href=\u0022https://www.dropbox.com/s/b5j747o62p2dar1/2016-05-03-2%20Just%20the%20log%20of%20last%20session.7z?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/b5j747o62p2dar1/2016-05-03-2%20Just%20the%20log%20of%20last%20session.7z?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWindows 10 x64\n\u003C/p\u003E\n\u003Cp\u003E\nbtw RSB is also a bugger for me, I can\u0027t lift a \u0022decent\u0022 Saturn with 3 main stages plus payload, the 8 x 23,000 kN is not enough for that heavy bass-terd.\u003Cbr\u003E\nEither I have to change my strategy or it\u0027s just a bug...\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-03T03:07:33Z\u0022 title=\u002205/03/2016 03:07  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 3, 2016\u003C/time\u003E by Gordon Dry\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-03T17:57:48Z","Content":"\n\u003Cp\u003E\nSo I altered by RSB Saturn V having only the 3 stages and the MK-2 on top with a tiny tank and engine, parachute, fairing over it all and the height is over 300m - definiteley a bad scaling, the original Apollo 11 Saturn V was 110 m ...\n\u003C/p\u003E\n\u003Cp\u003E\nIf the RSB would not be scaled, it still would be way bigger than 110m I guess ...\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbas_ad_astra","CreatedById":126593,"CreatedDateTime":"2016-05-03T20:48:31Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222557285\u0022 data-ipsquote-contentid=\u0022133635\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462238593\u0022 data-ipsquote-userid=\u0022102065\u0022 data-ipsquote-username=\u0022komodo\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, komodo said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/163177-gordon-dry/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022163177\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/163177-gordon-dry/\u0022 rel=\u0022\u0022\u003E@Gordon Dry\u003C/a\u003E, which two errors are you getting? If you could pastebin/Dropbox/etc a log file, I\u0027ll take a look. I don\u0027t have a handy link to the \u0022how to find logs\u0022 post, as I\u0027m on mobile... Are you Windows, Linux or OS X? I have a clue for the last two, but no idea where Windows stuffs the player.log file.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/36077-gregroxmun/\u0026amp;do=hovercard\u0022 data-mentionid=\u002236077\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/36077-gregroxmun/\u0022 rel=\u0022\u0022\u003E@GregroxMun\u003C/a\u003E, I have/had a local copy that did handle RSB, but I didn\u0027t want to set a precedent for exceptions for particular part\u00A0packs. Although with the nature of that one, an exceptional exception may be in order. It should be fairly straightforward with their structure, particularly now that the stockification patches are rumbling in. I\u0027ll see what I can do.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022126593\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/126593-kerbas_ad_astra/\u0022 rel=\u0022\u0022\u003E@Kerbas_ad_astra\u003C/a\u003E, Ah. Crap. That is a wrinkle. I have a thought about how to savage MM regexs to do so, but I imagine you\u0027ve throurghly thrashed that ex-equine already. I\u0027ll take a look.\n\u003C/p\u003E\n\u003Cp\u003E\nThe script component of this guy should no longer be needed. I wish I were skilled enough to write a MM writing script, at least one of this general a nature, but mine handled one block in this suite only.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAs NK might say, we\u0027re trying to be as generic as possible and/or within reason. As noted, this is a blanket scale up, and some things might get jammed up in the works. IFS and FS might have to get an entry in the known issues, if they are too uncooperative \u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nA full treatment of these issues might be called ultimately LargeROMini... Wait... \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nFirst, a little background -- SMURFF works by subtracting the difference between stockalike and real-ish fuel tanks from parts (so that a service module with LFO tanks, some monoprop capacity, and reaction wheels will only get \u0022credit\u0022 for the first two items -- it would be underweight if I just divided the mass by four).\u00A0 This means that parts with less-than-stockalike masses will be at risk of being sent into negative masses.\u00A0 For handling RSB (and other less-than-stockalike-massed parts), SMURFF has two approaches:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nBefore my patches run, I note the initial mass of every part that has resources that I operate on (liquid fuel, oxidizer, monopropellant, xenon, argon, and liquid hydrogen), and at the end of everything, any part that has a negative mass gets reset to the initial mass.\n\u003C/li\u003E\n\u003Cli\u003E\nI also exclude any part that sets a \u0022SMURFFExclude\u0022 variable to be true, and NecroBones includes a patch in RSB to add that variable to his parts if SMURFF is installed.\u00A0 I\u0027m sure he\u0027d be happy to include such a patch for ROMiniFork if you set up such a variable.\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nAs for IFS and FSFuelSwitch, I did think of a way to pick apart the tankMass variables, do math on each entry, and put them back together.\u00A0 Observe:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@PART[*]:HAS[@MODULE[InterstellarFuelSwitch],!MODULE[ModuleEngines*],!MODULE[ModuleCommand],!MODULE[ModuleCargoBay],!MODULE[ModuleSMURFF]]:FOR[SMURFF]\n{\n\t@mass /= 2\n\t\n\ttankMass0 = #$MODULE[InterstellarFuelSwitch]/tankMass[0,;]$\n\ttankMass1 = #$MODULE[InterstellarFuelSwitch]/tankMass[1,;]$\n\ttankMass2 = #$MODULE[InterstellarFuelSwitch]/tankMass[2,;]$\n\ttankMass3 = #$MODULE[InterstellarFuelSwitch]/tankMass[3,;]$\n\ttankMass4 = #$MODULE[InterstellarFuelSwitch]/tankMass[4,;]$\n\ttankMass5 = #$MODULE[InterstellarFuelSwitch]/tankMass[5,;]$\n\t\n\t@tankMass0 /= 2\n\t@tankMass1 /= 2\n\t@tankMass2 /= 2\n\t@tankMass3 /= 2\n\t@tankMass4 /= 2\n\t@tankMass5 /= 2\n\t\n\t@MODULE[InterstellarFuelSwitch]\n\t{\n\t\t@basePartMass /= 2\n\t\t@tankMass = #$../tankMass0$;$../tankMass1$;$../tankMass2$;$../tankMass3$;$../tankMass4$;$../tankMass5$\n\t\t@tankMass ^= :;\u002B$::  //Trims the extra semicolons, if there were fewer than six tank masses.\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\nThe tricky part is that I need as many tankMassX variables as there are tank variants (I believe Umbra Space Industries held the record at the time, with sixteen variants) so there would have to be tankMass0 through tankMass15, and if a tank had fewer variants, then Module Manager would complain (and rightfully so).\u00A0 Thankfully, Module Manager has the power to operate on \u0022single-level\u0022 vectors all at once, like so:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@PART[*]:HAS[@MODULE[FStextureSwitch2]:HAS[#useFuelSwitchModule[*rue],#repaintableEVA[*rue]],@MODULE[FSfuelSwitch],!MODULE[ModuleEngines*],!MODULE[ModuleCommand],!MODULE[ModuleCargoBay],!MODULE[ModuleSMURFF],~SMURFFExclude[*rue]]:FOR[zzz_SMURFF]\n{\n\t@mass /= #$@SMURFFCONFIG/switchablefactor$\n\t\n\t@MODULE[FSfuelSwitch]\n\t{\n\t\t@basePartMass /= #$@SMURFFCONFIG/switchablefactor$\n\t\t@tankMass[*,;] /= #$@SMURFFCONFIG/switchablefactor$\n\t}\n\t\n\tMODULE\n\t{\n\t\tname = ModuleSMURFF\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\nSo, rather than leaving IFS/FS fuel switch patches on the \u0022nope\u0022 pile, you could set up your script to make MM patches that look for parts with IFS/FS switchable tanks, counts the number of tank variants, and then spits out patches like this:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\n@PART[what_evz]\n{\n\ttankVar0 = #$MODULE[InterstellarFuelSwitch]/resourceAmounts[0,;]$\n\t@tankVar0[*] *= the_appropriate_factor\n\n\ttankVar1 = #$MODULE[InterstellarFuelSwitch]/resourceAmounts[1,;]$\n\t@tankVar1[*] *= the_appropriate_factor\n\n\t[...for however many variants there are in the what_evz part...]\n\t\n\t@MODULE[InterstellarFuelSwitch]\n\t{\n\t\t@resourceAmounts = #$../tankMass0$;$../tankMass1$;[...]\n\t}\n}\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-05-03T20:49:13Z\u0022 title=\u002205/03/2016 08:49  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 3, 2016\u003C/time\u003E by Kerbas_ad_astra\u003C/strong\u003E\n\u003Cbr\u003ERemoved syntax highlighting.\n\u003C/span\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-03T21:46:54Z","Content":"\n\u003Cp\u003E\nQuick note for the above (very nice and thorough\u00A0post): those are all very good ideas. That was about what I had thought for the MM gymnastics needed, although I need to borrow that line ending stripper; I never quite got it, but once seeing it, \u0022d\u0027oh, of course!\u0022\n\u003C/p\u003E\n\u003Cp\u003E\nif this continues as a standalone package, I\u0027ll certainly look into all of the above. In the short term the goal is to tie up loose ends and merge the basic package back to the RO repo.\n\u003C/p\u003E\n\u003Cp\u003E\nfor more expansive work, I\u0027ll have more time in a few weeks \u003Cspan\u003Eto look at things properly \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u00A0\u003C/span\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"komodo","CreatedById":102065,"CreatedDateTime":"2016-05-11T22:32:50Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222557496\u0022 data-ipsquote-contentid=\u0022133635\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221462244824\u0022 data-ipsquote-userid=\u0022163177\u0022 data-ipsquote-username=\u0022Gordon Dry\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 5/3/2016 at 10:07 PM, Gordon Dry said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n@komodo: last session log plus mod list: \u003Ca href=\u0022https://www.dropbox.com/s/b5j747o62p2dar1/2016-05-03-2%20Just%20the%20log%20of%20last%20session.7z?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/b5j747o62p2dar1/2016-05-03-2%20Just%20the%20log%20of%20last%20session.7z?dl=0\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nWindows 10 x64\n\u003C/p\u003E\n\u003Cp\u003E\nbtw RSB is also a bugger for me, I can\u0027t lift a \u0022decent\u0022 Saturn with 3 main stages plus payload, the 8 x 23,000 kN is not enough for that heavy bass-terd.\u003Cbr\u003E\nEither I have to change my strategy or it\u0027s just a bug...\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nRight! So, so sorry for the delay! My work lately has been... work intensive. But, a bit of a break for a while!\n\u003C/p\u003E\n\u003Cp\u003E\nI took a look at the log you uploaded (thank you for that), and it\u0027s unfortunately not my bug: RLA Stockalike has tripped me on this a couple times, where a typo was made.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E[ModuleManager] Applying node /zROMini/@PART[*]:HAS[@DRAG_CUBE]:FOR[zROMini] to RLA_Stockalike/Parts/Structural/struct_various/small_decoupler_stack/RLA_small_decoupler_stack\n[ModuleManager] Error - Failed to do a maths replacement: @DRAG_CUBE : original value=\u00220.1185349 0.06135106\u0022 operator=* mod value=\u00221.6\u0022\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nWas our error, and the offending line in the source is thus:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EDRAG_CUBE\n\t{\n\t\tcube = Default, 0.06135106,0.7812009,0.4141177, 0.06135106,0.7812009,0.4108824, 0.3032565,0.9618634,0.1185349, 0.3032565,0.9619145,0.1185349 0.06135106,0.7811964,0.4108824, 0.06135106,0.7811964,0.4141177, 0,0,0, 0.625,0.09999999,0.6250001\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nNote carefully at position 12 from the end, a comma is missing. MM is trying to multiply a non-integer and obviously failing. Quick fix is to stick the comma in there to fix that index. I however don\u0027t know why it threw two errors, as I can only find that one.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to be updating my assorted plethora of addons tonight and hopefully getting back to some healthy tweaking soon!\n\u003C/p\u003E\n"},{"CreatedByName":"Gordon Dry","CreatedById":163177,"CreatedDateTime":"2016-05-12T16:25:20Z","Content":"\n\u003Cp\u003E\nI added the comma and will see, but actually I\u0027m on RO and evreything is different now, but a fix is a fix, right?\n\u003C/p\u003E\n"}]}