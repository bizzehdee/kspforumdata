{"TopicId":75938,"ForumId":36,"TopicTitle":"[1.0.x] [V1.9f] Kerbal Foundries wheels, anti-grav repulsors and tracks","CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-06-25T17:24:04Z","PageNum":120,"Articles":[{"CreatedByName":"B-STRK","CreatedById":126119,"CreatedDateTime":"2015-06-20T07:00:33Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EI am INVINCIBLE!!!!! Lots of cool new stuff about to happen and everything is in chaos. Usual prerelease status...\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EDoes this mean H will break G? (Or i this a 1.9? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E )\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-20T08:22:49Z","Content":"\n\u003Cp\u003EWith that much changes it could also become a 2.0^^\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-20T12:29:17Z","Content":"\n\u003Cp\u003EThe repulsor module was a mess from adding in the gimbal, and the retract routines had become an unmaintainable mess. For some reason, they had stopped consuming EC - I couldn\u0027t work out why, so I re-wrote. Still in progress. Thanks for the hint on the sounds, that does make sense. I knew it didn\u0027t work, but hadn\u0027t got as far as figuring out why. I know ho to set up the effects node, but how do I use that in the engine module? Just refer to it by names? What about the path? Why does this have to be so hard?!?!?!\u003C/p\u003E\u003Cp\u003EHopefully nothing existing broken, but next will be 1.9 \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-20T13:28:26Z","Content":"\n\u003Cp\u003EGaalidas, DustFX is throwing Nullrefs all over the place:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at KerbalFoundries.KFDustFX.OnDestroy () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003EUnityEngine.Object:DestroyImmediate(Object, Boolean)\u003Cbr\u003EUnityEngine.Object:DestroyImmediate(Object)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E:MoveNext()\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-20T20:31:18Z","Content":"\n\u003Cp\u003ERiocrokite, I know this was something you were after:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/yQJ2qA_Zhus?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003EI re-wrote the suspension stuff to make this to happen. It\u0027s now more modular, making landing legs much easier when I get round to building some.\u003C/p\u003E\n"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-20T20:43:13Z","Content":"\n\u003Cp\u003EGlad you managed to implement the swivel axle! When can I start configuring my wheel?\u003C/p\u003E\n"},{"CreatedByName":"riocrokite","CreatedById":129319,"CreatedDateTime":"2015-06-20T20:47:19Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ERiocrokite, I know this was something you were after:\u003Cp\u003E\u003Ca href=\u0022https://youtu.be/yQJ2qA_Zhus\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/yQJ2qA_Zhus\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI re-wrote the suspension stuff to make this to happen. It\u0027s now more modular, making landing legs much easier when I get round to building some.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ei\u0027m coming back to hotel totally sun-burnt and I find this. Purely AWE-SOME ! \\o/\u003C/p\u003E\u003Cp\u003Egreetings from Greece \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-20T20:48:19Z","Content":"\n\u003Cp\u003EI\u0027ve got a couple of bits to tidy up and double check, but if you\u0027re OK with the Unity scene and the config to guide you, you can start right away. I\u0027ll get everything updating into Git for you.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022riocrokite\u0022 data-cite=\u0022riocrokite\u0022\u003E\u003Cdiv\u003Ei\u0027m coming back to hotel totally sun-burnt and I find this. Purely AWE-SOME ! \\o/\u003Cp\u003Egreetings from Greece \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHehe. Never a dull moment here \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E hope you\u0027re enjoying your holiday!\u003C/p\u003E\n"},{"CreatedByName":"ZodiusInfuser","CreatedById":76163,"CreatedDateTime":"2015-06-20T21:05:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EI\u0027ve got a couple of bits to tidy up and double check, but if you\u0027re OK with the Unity scene and the config to guide you, you can start right away. I\u0027ll get everything updating into Git for you.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, a unity scene and config should be plenty to figure it out \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E. Any chance of getting a pre-release .dll once you commit the feature to github?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-20T21:40:52Z","Content":"\n\u003Cp\u003ECool. Yeah, we may have to do some testing. Trouble is, the latest .dll requires all the configs to be re-written, so I can\u0027t let it out into the wild as an interim update without being packaged with all the other stuff. You\u0027re always welcome to grab from the GitHub repo for testing, of course. Latest dev build resides in there, though code has been moved out to its own space to simplify things somewhat.\u003C/p\u003E\u003Cp\u003EI will get there eventually! Feels like everything is in pieces at the moment, what with the rolling resistance stuff, vessel mass being passed to the colliders (which has made some surprising differences to the dynamics) and a major re-organisation of the modules. There are lots of part configs to look after theses days too! XD\u003C/p\u003E\u003Cp\u003EEDIT: I ought to add that I\u0027ve made some serious optimisations, though. Rather pleased with that.\u003C/p\u003E\u003Cp\u003EEDIT2: Zodius, I\u0027ve added you into the KSP422 repo. The scenes, source files and \u003Cem\u003Eeverything\u003C/em\u003E for my Unity setup is in there, so you can grab rigs for whatever you need. Everything else is up to date.\u003C/p\u003E\u003Cp\u003EA few notes:\u003C/p\u003E\u003Cp\u003EMany of the modules now take lists. For example, KFLookAt and KFSuspension.\u003C/p\u003E\u003Cp\u003EIn the case of KFLookAt, the format is:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = KFLookAt\u003Cbr\u003E    targetName = Dummy002,Dummy003,Dummy004,Dummy005,Dummy006,Dummy007,Dummy008\u003Cbr\u003E    rotatorsName = Strut02,Strut03,Strut04,Strut05,Strut06,Strut07,Strut08\u003Cbr\u003E    activeEditor = true\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe targets and rotators relate to each others index positions, so Strut02 looks at Dummy002, Strut08 looks at Dummy008. They look along Z\u002B, rotate around X, and ONLY X - no need to worry about funny rotations if slightly off plane.\u003C/p\u003E\u003Cp\u003EKFSuspension works in a similar way - it accepts lists of WheelColliders:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E    name = KFSuspension\u003Cbr\u003E    colliderNames = WCL,WCR\u003Cbr\u003E    susTravName = SusTravInner\u003Cbr\u003E    susTravAxis = y\u003Cbr\u003E}\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EOnly one suspension Traverse object is support per module declaration, though. This is because it\u0027s designed to average the travel of how ever many WheelColliders it\u0027s given and move the single susTrav object accordinly (this is how I got the swing axle to work).\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EONE THING TO NOTE \u003C/strong\u003E(I know we\u0027ve discussed it, but just in case you forget!)\u003C/p\u003E\u003Cp\u003EThe names of objects are searched using StartsWith(). This might seem odd, but this is how I get asymmetric parts in KSP. I have handed parts inside one parts. The code destroys the unused one \u003Cem\u003E\u003Cstrong\u003E\u003Cspan style=\u0022text-decoration:underline;\u0022\u003Ethen\u003C/span\u003E\u003C/strong\u003E\u003C/em\u003E the other modules get to go and find their objects. So for each hand, you have objects that might be called WC01Left and WC01Right, one of which gets destroyed before any objects are searched for. Of course, in the config in a MODULE looking for such an object, you\u0027d just tell it to look for WC01 and whichever version is left after one hand being destroyed will get found. I know I won\u0027t have to spell out what happens if you have objects named WC, WC001, WC002 and you try finding WC... Just something to be careful of, but it opens up some really interesting part design possibilities.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-20T22:09:39Z\u0022 title=\u002206/20/2015 10:09  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 20, 2015\u003C/time\u003E by lo-fi\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mekan1k","CreatedById":48750,"CreatedDateTime":"2015-06-21T02:08:07Z","Content":"\n\u003Cp\u003ECan you post some pictures?\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-21T06:59:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003EGaalidas, DustFX is throwing Nullrefs all over the place:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at KerbalFoundries.KFDustFX.OnDestroy () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003EUnityEngine.Object:DestroyImmediate(Object, Boolean)\u003Cbr\u003EUnityEngine.Object:DestroyImmediate(Object)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E:MoveNext()\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey, I got no clue there. Last time that happened to me it was because I wasn\u0027t compiling in .net 3.5. Either way, it worked last time I tested the last code update I did, so unless you\u0027ve been fiddling around... -shrugs-\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ERiocrokite, I know this was something you were after:\u003Cp\u003E\u003Ca href=\u0022https://youtu.be/yQJ2qA_Zhus\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://youtu.be/yQJ2qA_Zhus\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI re-wrote the suspension stuff to make this to happen. It\u0027s now more modular, making landing legs much easier when I get round to building some.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThose things are seriously awesome.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-21T10:07:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Gaalidas\u0022 data-cite=\u0022Gaalidas\u0022\u003E\u003Cdiv\u003EHey, I got no clue there. Last time that happened to me it was because I wasn\u0027t compiling in .net 3.5. Either way, it worked last time I tested the last code update I did, so unless you\u0027ve been fiddling around... -shrugs-\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThose things are seriously awesome.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI second that.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EThese in track form could be the most epic part at all. They should be made not that sturdy, though. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-21T10:54:32Z","Content":"\n\u003Cp\u003ENo, I\u0027ve not messed with that for ages. Looks like it\u0027s failing to remove the OnPause and OnUnPause hooks, but I can\u0027t figure out why. Targeting .net 3.5.\u003C/p\u003E\u003Cp\u003EPics of anything in-particular, Mekan1k?\u003C/p\u003E\u003Cp\u003EOoooo, track versions might be tricky. There are limits to how much I can bodge the visual trickery!\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EDustFX is failing to stop the wheel impact sounds:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid OnPause()\u003Cbr\u003E        {\u003Cbr\u003E            Debug.LogError(\u0022Enter OnPause\u0022);\u003Cbr\u003E            isPaused = true;\u003Cbr\u003E            Debug.LogError(\u0022Set isPaused\u0022);\u003Cbr\u003E            kfdustFx.particleEmitter.enabled = false;\u003Cbr\u003E            Debug.LogError(\u0022disabled particle emitter\u0022);\u003Cbr\u003E            if (wheelImpact \u0026amp;\u0026amp; (!Equals(WheelImpactSound, null) || !Equals(WheelImpactSound.audio, null)))\u003Cbr\u003E                WheelImpactSound.audio.Stop();\u003Cbr\u003E            Debug.LogError(\u0022disabled sound\u0022);\u003Cbr\u003E        }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eoutput_log says this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EGame Paused!\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EEnter OnPause\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESet isPaused\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Edisabled particle emitter\u003Cbr\u003E\u003Cbr\u003E(Filename: C:/buildslave/unity/build/artifacts/StandalonePlayerGenerated/UnityEngineDebug.cpp Line: 56)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ENullReferenceException: Object reference not set to an instance of an object\u003Cbr\u003E  at KerbalFoundries.KFDustFX.OnPause () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at EventVoid.Fire () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at FlightDriver.SetPause (Boolean pauseState) [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at PauseMenu.Display () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  at PauseMenu.Update () [0x00000] in \u0026lt;filename unknown\u0026gt;:0 \u003Cbr\u003E\u003Cbr\u003E(Filename:  Line: -1)\u003Cbr\u003E\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo it\u0027s happy up until the debug statement Debug.LogError(\u0022disabled particle emitter\u0022); then bugs out trying to stop the wheel impact sound. Is that something you\u0027ve played around with? I can\u0027t recall doing so myself.\u003C/p\u003E\u003Cp\u003ENow, I think I\u0027ve found the culprit:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid DustAudio()\u003Cbr\u003E        {\u003Cbr\u003E            if (!wheelImpact || Equals(WheelImpactSound, null) || Equals(wheelImpactSound, string.Empty))\u003Cbr\u003E                return;\u003Cbr\u003E\u0026lt;SNIP\u0026gt;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESomething you can look into? I\u0027ve got so much to do!!\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-21T10:59:54Z","Content":"\n\u003Cp\u003EWell, i dont really understand your code in terms of how it works for tracks, but isnt it possible to have the wheel functionality as is with a track model? Maybe just 2 wheels per side on that arms for optics, with just the wheel behavior as seen in this vid?\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-21T11:19:03Z","Content":"\n\u003Cp\u003ETell you what, I\u0027ll do another modding live stream on Wednesday and explain how it all works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E It looks so simple, but this is a far cry from how any other wheels functions - I\u0027ve used some crazy bodges! \u003C/p\u003E\u003Cp\u003EDon\u0027t worry, Gaalidas. The correct check is \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (!wheelImpact || Equals(wheelImpactSound, string.Empty))\u003Cbr\u003E\t\t\t\treturn;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-21T11:56:47Z","Content":"\n\u003Cp\u003EDue to the fact that i am father of 2 children i cant promise to see that livestream, will there be a record of it?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EJust maybe i consider changing my mod target, but still standing at the beginning...but i am not satisfied with most of the landing gear and wheels stock KSP provides...^^\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-21T12:04:03Z","Content":"\n\u003Cp\u003EThe best landing gear is this one: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/99660-1-0-Adjustable-Landing-Gear-v1-2-0-%28mass-cost-scaling-tech-nodes-drag%29-May-30\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/99660-1-0-Adjustable-Landing-Gear-v1-2-0-%28mass-cost-scaling-tech-nodes-drag%29-May-30\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt will be hard for anyone to come close to this. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-21T12:09:20Z","Content":"\n\u003Cp\u003EYeah, but while adjusting it even my PC is almost burning up^^\u003C/p\u003E\n"},{"CreatedByName":"*Aqua*","CreatedById":103926,"CreatedDateTime":"2015-06-21T12:20:52Z","Content":"\n\u003Cp\u003EThat\u0027s a KSP bug. The sliders are causing this. I hope 1.0.3 will fix it.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-21T12:31:30Z","Content":"\n\u003Cp\u003EYeah, but it was somewhat scary nonetheless.^^ But id rather have different models for different tasks, i guess.\u003C/p\u003E\n"},{"CreatedByName":"Gaalidas","CreatedById":111158,"CreatedDateTime":"2015-06-21T15:53:23Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ETell you what, I\u0027ll do another modding live stream on Wednesday and explain how it all works \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E It looks so simple, but this is a far cry from how any other wheels functions - I\u0027ve used some crazy bodges! \u003Cp\u003EDon\u0027t worry, Gaalidas. The correct check is \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Eif (!wheelImpact || Equals(wheelImpactSound, string.Empty))\u003Cbr\u003E                return;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWait... where did you find the blunder?\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lo-fi\u0022 data-cite=\u0022lo-fi\u0022\u003E\u003Cdiv\u003ENow, I think I\u0027ve found the culprit:\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid DustAudio()\u003Cbr\u003E        {\u003Cbr\u003E            if (!wheelImpact || Equals(WheelImpactSound, null) || Equals(wheelImpactSound, string.Empty))\u003Cbr\u003E                return;\u003Cbr\u003E\u0026lt;SNIP\u0026gt;\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESomething you can look into? I\u0027ve got so much to do!!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESpoke too soon. There\u0027s the culprit.\u003C/p\u003E\u003Cp\u003EEDIT: Oddly enough, this worked perfectly fine in all my tests. I\u0027ll correct it though, hopefully it will work out alright in the end.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EAlright, so, I remember (thought couldn\u0027t find the post) where you asked about the sounds and how to reference them. I dug up the config for the B9 HX-series engine as an example.\u003C/p\u003E\u003Cp\u003ESo, you already know how to set up the effect node for a sound, but the way to reference that sound is actually quite simple. Note, I think you might have to use the FX version of the engine module for this to work right, though I could be wrong. Mess with with it a bit.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    EFFECTS\u003Cbr\u003E    {\u003Cbr\u003E        power_closed\u003Cbr\u003E        {\u003Cbr\u003E            AUDIO\u003Cbr\u003E            {\u003Cbr\u003E                channel = Ship\u003Cbr\u003E                clip = sound_rocket_hard\u003Cbr\u003E                volume = 0.0 0.0\u003Cbr\u003E                volume = 1.0 1.0\u003Cbr\u003E                pitch = 0.0 0.2\u003Cbr\u003E                pitch = 1.0 1.0\u003Cbr\u003E                loop = true\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        power_plasma\u003Cbr\u003E        {\u003Cbr\u003E            AUDIO\u003Cbr\u003E            {\u003Cbr\u003E                channel = Ship\u003Cbr\u003E                clip = sound_rocket_hard\u003Cbr\u003E                volume = 0.0 0.0\u003Cbr\u003E                volume = 1.0 1.0\u003Cbr\u003E                pitch = 0.0 0.2\u003Cbr\u003E                pitch = 1.0 1.0\u003Cbr\u003E                loop = true\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        engage\u003Cbr\u003E        {\u003Cbr\u003E            AUDIO\u003Cbr\u003E            {\u003Cbr\u003E                channel = Ship\u003Cbr\u003E                clip = sound_vent_medium\u003Cbr\u003E                volume = 1.0\u003Cbr\u003E                pitch = 2.0\u003Cbr\u003E                loop = false\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        disengage\u003Cbr\u003E        {\u003Cbr\u003E            AUDIO\u003Cbr\u003E            {\u003Cbr\u003E                channel = Ship\u003Cbr\u003E                clip = sound_vent_soft\u003Cbr\u003E                volume = 1.0\u003Cbr\u003E                pitch = 2.0\u003Cbr\u003E                loop = false\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E        flameout\u003Cbr\u003E        {\u003Cbr\u003E            AUDIO\u003Cbr\u003E            {\u003Cbr\u003E                channel = Ship\u003Cbr\u003E                clip = sound_explosion_low\u003Cbr\u003E                volume = 1.0\u003Cbr\u003E                pitch = 2.0\u003Cbr\u003E                loop = false\u003Cbr\u003E            }\u003Cbr\u003E        }\u003Cbr\u003E    }\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ESo, in the above code you have all of the effect nodes (I stripped out the smokescreen stuff to save space). In the engine config you get this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnginesFX\u003Cbr\u003E        engineID = ClosedCycle\u003Cbr\u003E        powerEffectName = power_closed\u003Cbr\u003E        thrustVectorTransformName = nozzle_transform\u003Cbr\u003E        exhaustDamage = true\u003Cbr\u003E        ignitionThreshold = 0.1\u003Cbr\u003E        minThrust = 0\u003Cbr\u003E        maxThrust = 19080 // 21200 * 0.9\u003Cbr\u003E        heatProduction = 390\u003Cbr\u003E        useEngineResponseTime = True\u003Cbr\u003E        engineAccelerationSpeed = 1.60\u003Cbr\u003E        engineDecelerationSpeed = 2\u003Cbr\u003E        PROPELLANT\u003Cbr\u003E        {\u003Cbr\u003E            name = LiquidFuel\u003Cbr\u003E            ratio = 0.9\u003Cbr\u003E            DrawGauge = True\u003Cbr\u003E        }\u003Cbr\u003E        PROPELLANT\u003Cbr\u003E        {\u003Cbr\u003E            name = Oxidizer\u003Cbr\u003E            ratio = 1.1\u003Cbr\u003E        }\u003Cbr\u003E        atmosphereCurve\u003Cbr\u003E        {\u003Cbr\u003E            key = 0 323 // 308 * 1.05\u003Cbr\u003E            key = 1 281 // 268 * 1.05\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003Cbr\u003E    MODULE\u003Cbr\u003E    {\u003Cbr\u003E        name = ModuleEnginesFX\u003Cbr\u003E        engineID = HybridPlasma\u003Cbr\u003E        powerEffectName = power_plasma\u003Cbr\u003E        thrustVectorTransformName = nozzle_transform\u003Cbr\u003E        exhaustDamage = true\u003Cbr\u003E        ignitionThreshold = 0.1\u003Cbr\u003E        minThrust = 0\u003Cbr\u003E        maxThrust = 4280 // 4761 * 0.9\u003Cbr\u003E        heatProduction = 500\u003Cbr\u003E        useEngineResponseTime = True\u003Cbr\u003E        engineAccelerationSpeed = 1.60\u003Cbr\u003E        engineDecelerationSpeed = 2\u003Cbr\u003E        PROPELLANT\u003Cbr\u003E        {\u003Cbr\u003E            name = ElectricCharge\u003Cbr\u003E            ratio = 16.5\u003Cbr\u003E        }\u003Cbr\u003E        PROPELLANT\u003Cbr\u003E        {\u003Cbr\u003E            name = LiquidFuel\u003Cbr\u003E            ratio = 0.9\u003Cbr\u003E            DrawGauge = True\u003Cbr\u003E        }\u003Cbr\u003E        PROPELLANT\u003Cbr\u003E        {\u003Cbr\u003E            name = Oxidizer\u003Cbr\u003E            ratio = 1.1\u003Cbr\u003E        }\u003Cbr\u003E        atmosphereCurve\u003Cbr\u003E        {\u003Cbr\u003E            key = 0 840 // 800 * 1.05\u003Cbr\u003E            key = 1 230 // 220 * 1.05\u003Cbr\u003E        }\u003Cbr\u003E    }\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EFrom what I can tell, states such as \u0022engage\u0022 and \u0022flameout\u0022 are default within the engine module (I plan to look at the code later to find uot if those can be re-targetted) and so you need not reference those effects directly from the engine config, but can redefine the sounds simply by making an EFFECT node that uses the same name as that standard engine state. This includes the running effect, if your engine uses the standard running effect. However, as you can see in the config, you can re-target certain states of the engine as they did with the HX-series (especially since it\u0027s a dual-mode engine) by using the parameter \u0022powerEffectName\u0022 and specifying the node within the EFFECTS node that corresponds to what audio/effect preset they want to use.\u003C/p\u003E\u003Cp\u003ESo, like in the old system where you would have simply re-targetted the sound file with \u0022sound_file_name = engine_state\u0022 without having to re-target anything in the engine config, the EFFECT system allows you to do pretty much the same... just with more work involved, and more power at your fingertips.\u003C/p\u003E\u003Cp\u003EEDIT: I took a look at the stock ModuleEnginesFX module in ILSpy and discovered this:\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] flameoutEffectName = .([COLOR=#00008b]140586[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] runningEffectName = .([COLOR=#00008b]140635[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] powerEffectName = .([COLOR=#00008b]140650[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] engageEffectName = .([COLOR=#00008b]140603[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] disengageEffectName = .([COLOR=#00008b]140616[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] directThrottleEffectName = .([COLOR=#00008b]141801[/COLOR]);\u003Cbr\u003E[KSPField]\u003Cbr\u003E[COLOR=#0000ff][B]public[/B][/COLOR] [COLOR=#ff0000]string[/COLOR] spoolEffectName = .([COLOR=#00008b]141830[/COLOR]);\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EIf you ignore those numeric targets that ILSpy couldn\u0027t make sense of, you still get a good idea of all the engine states that you could re-direct to a different effect node. For instance, if you wanted the APU unit to be able to run in an air-breathing mode and a vacuum mode, based on need, you could redirect the different engine configs to use \u0022powerEffectName = Open_power_effect\u0022 and \u0022powerEffectName = Closed_power_effect\u0022 (open cycle and closed cycle respectively) along with two different nodes under EFFECTS.\u003C/p\u003E\u003Cp\u003Einterestingly enough, I haven\u0027t witnessed any custom parts using things like \u0022directThrottleEffectName\u0022 or \u0022spoolEffectName\u0022 which I\u0027m unsure what would be, honestly, but i think the engine modders need to start looking at all the possibilities. I am also unsure how the engine module determines what the current status of the engine is in order to know what effect to reference. I suspect it\u0027s somehow based on an animation state in the model, but it could also be environmental situations and fuel availability of various sorts based on what the engine is requesting and whatnot. Overall it\u0027s fairly complicated and way above my paygrade at this time.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-21T16:09:50Z\u0022 title=\u002206/21/2015 04:09  PM\u0022 data-short=\u00229 yr\u0022\u003EJune 21, 2015\u003C/time\u003E by Gaalidas\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2015-06-21T23:51:21Z","Content":"\n\u003Cp\u003ECheers dude, I got it. I\u0027ve converted the APU to the newer ModuleEnginesFX. Not sure about the sound - maybe needs a little more mashing in Audacity before it\u0027s acceptable, but it\u0027s better than the inane screech of the jet sound effect.\u003C/p\u003E\u003Cp\u003EI noticed you did some culling of zeros in the configs! I\u0027ve done a bit of messing with the tangents on the floatcurves, and found the \u0022auto\u0022 mode to be pretty satisfactory for simple curves like we\u0027re using. Not specifying the entry and exit angles for each point activates that mode, which id why I started changing. Also in need of update in the configs is weight, cost, and a few other bits I can\u0027t remember - Riocrokite was kind enough to produce a spreadsheet that we\u0027ll have to dig out. There\u0027a also the rolling resistance curves, which are only applied to the medium wheels and medium tracks properly IIRC. I\u0027ll have to come up with a generic set of number that works well for tracks and wheels so at least they can be plugged into the configs for tweaking at a later date. Still seems like there\u0027s a lot to do, but keep ticking jobs off the list.\u003C/p\u003E\n"},{"CreatedByName":"Tyren","CreatedById":76757,"CreatedDateTime":"2015-06-22T00:00:03Z","Content":"\n\u003Cp\u003EIt\u0027s just like:\u003C/p\u003E\u003Cp\u003Elo-fi: \u003C/p\u003E\u003Cp\u003E\u0022Hey Gaalidas there is something ive not gone through, wassup with this\u0022\u003C/p\u003E\u003Cp\u003EGaalidas (with sparks impacting from his head directly into the keyboard):\u003C/p\u003E\u003Cp\u003E\u0022OUTPUT\u003C/p\u003E\u003Cp\u003EOUTPUT\u003C/p\u003E\u003Cp\u003EOUTPUTOUTPUOUTPUTOUTPUTOUTPUTOUTPUTOUTPUT\u003C/p\u003E\u003Cp\u003EOUTPUTOUTPUTOUTPUTOUTPUTOUTPUTOUTPUT\u003C/p\u003E\u003Cp\u003EOUTPUTOUTPUTOUTPUT\u003C/p\u003E\u003Cp\u003E\u0027Spoiler:\u0027\u003C/p\u003E\u003Cp\u003EOUTPUTOUTPUTOUTPUTOUTPUTOUTPUTOUTPUT\u003C/p\u003E\u003Cp\u003EOUTPUT!\u0022\u003C/p\u003E\u003Cp\u003EWakarimasen, ka? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EIts hilarious to follow you both through this thread, thank you. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EOfcourse no offence intended.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003ENah i failed the last post...in reverse its nothing else Oo\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-06-22T09:05:17Z\u0022 title=\u002206/22/2015 09:05  AM\u0022 data-short=\u00229 yr\u0022\u003EJune 22, 2015\u003C/time\u003E by Tyren\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Mekan1k","CreatedById":48750,"CreatedDateTime":"2015-06-22T02:41:57Z","Content":"\n\u003Cp\u003EPics of anything new that looks aesthetically pleasing, please.\u003C/p\u003E\n"}]}