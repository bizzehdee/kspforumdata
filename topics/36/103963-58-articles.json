{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":58,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T09:21:03Z","Content":"\u003E \n\u003E soo lets put this up front freaking WOW.\n\u003E currently using scatterer, wip EVE and planetshine, and strangely enough: all of it works, no strange big gamebreaking bugs! and best of all! no slowdowns! (it looks strangely HIGHER FPS even.. unsure how thats possible.) \n\u003E \n\u003E only one strange thing. there is a huge red glow around the sun as see going up in the atmosphere..i searched the thread but nothing came up, anyone know why thats happening and what i can do?\n\nIf I\u0027m not mistaken that\u0027s wip-eve default config."},{"CreatedByName":"Thahat","CreatedById":100130,"CreatedDateTime":"2015-08-25T09:30:38Z","Content":"\u003E \n\u003E If I\u0027m not mistaken that\u0027s wip-eve default config.\n\nyep, you just beat me to my edit XD, sorry blackrack! it is ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif)\n\none upside, now people can find this post with the answer if they are as confused as me.\n\nfor search purposes: red sun"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-25T10:35:30Z","Content":"\u003E \n\u003E Well, it seems brighter than on my stock install for some reason, also, first pic seems more or less alright while second pic it doesn\u0027t even look like there\u0027s any blue on it. Anyway, I already have a way of dimming the mun and other celestial objects that I haven\u0027t released yet (and they get progressively dimmer the more they approach the horizon, you can see it on the previous Laythe/Jool screens that I posted a few pages back) so that may very well fix this but I\u0027m not sure if I can make the dark side completely invisible as I don\u0027t want to turn this into a post-processing effect for various reasons.\n\nThanks for your quick response, and for taking my nitpicking in the spirit in which it was intended. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T12:26:26Z","Content":"\u003E \n\u003E Thanks for your quick response, and for taking my nitpicking in the spirit in which it was intended. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nNo worries, it\u0027s something I was working on anyway as it\u0027s not very realistic currently. Also working on better eclipses but this might interfere with it.\n\nJust to get a quick idea, could someone photoshop Red\u0027s first image to show only the bright side of the mun? Can\u0027t do it myself for now."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-25T12:33:37Z","Content":"\u003E \n\u003E Just to get a quick idea, could someone photoshop Red\u0027s first image to show only the bright side of the mun? Can\u0027t do it myself for now.\n\nA rough chop of it:\n\n![screenshot105edited.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.4/Scatterer/screenshot105edited.png)\n\nETA: It doesn\u0027t seem like that big a difference, but imagine Jool viewed from Laythe, we should see an epicly huge crescent.\n\n**Edited \u003Ctime datetime=\u00222015-08-25T12:41:25Z\u0022 title=\u002208/25/2015 12:41  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 25, 2015\u003C/time\u003E by Red Iron Crown**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T12:39:32Z","Content":"\u003E \n\u003E A rough chop of it:\n\u003E [https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.4/Scatterer/screenshot105edited.png](https://dl.dropboxusercontent.com/u/61004449/KSP/1.0.4/Scatterer/screenshot105edited.png)\n\nThis already looks much more realistic. Did you only remove the dark side or did boost the brightness of the other side as well?\n\n**Edited \u003Ctime datetime=\u00222015-08-25T12:41:59Z\u0022 title=\u002208/25/2015 12:41  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 25, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-25T12:42:16Z","Content":"\u003E \n\u003E This already looks much more realistic. Did you only remove the dark side or did boost the brightness of the other side as well?\n\nI just removed the dark side. No other pixels were harmed in the making of that image. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T12:44:26Z","Content":"\u003E \n\u003E I just removed the dark side. No other pixels were harmed in the making of that image. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nWell that made a dramatic difference. Looks like I\u0027ll be looking into the least performance intensive way to implement this soon.\n\n\u003E ETA: It doesn\u0027t seem like that big a difference, but imagine Jool viewed from Laythe, we should see an epicly huge crescent.\n\nThat actually seems like a huge difference to me.\n\nAlso, imagine a modded gas giant with huge rings seen going vertically in the sky of one of it\u0027s moons.\n\n**Edited \u003Ctime datetime=\u00222015-08-25T12:51:48Z\u0022 title=\u002208/25/2015 12:51  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 25, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-08-25T12:53:23Z","Content":"Blackyrack, I said earlier that I still get the moire effect on the newest version with OpenGL.\n\nAny idea why?"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T12:55:57Z","Content":"\u003E \n\u003E Blackyrack, I said earlier that I still get the moire effect on the newest version with OpenGL.\n\u003E Any idea why?\n\nPlatform and renderer? Tested without any other mods?\n\nI pretty much can\u0027t think of any reasons other than conflicting mods because it\u0027s seems to be working fine for me and everyone else."},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-08-25T13:04:09Z","Content":"\u003E \n\u003E Platform and renderer? Tested without any other mods?\n\u003E I pretty much can\u0027t think of any reasons other than conflicting mods because it\u0027s seems to be working fine for me and everyone else.\n\n I don\u0027t have any visual mods except PlanetShine and DOE.\nIdk what a platform or renderer is.."},{"CreatedByName":"Red Iron Crown","CreatedById":12858,"CreatedDateTime":"2015-08-25T13:06:43Z","Content":"\u003E \n\u003E Idk what a platform or renderer is..\n\nVersion of KSP (Win32, WIn64, Linux32, Linux64, OSX) and graphics api (DX9/DX11/OpenGL).\n\n\u003E \n\u003E Also, imagine a modded gas giant with huge rings seen going vertically in the sky of one of it\u0027s moons.\n\nI hadn\u0027t even considered modded planets, that\u0027s a great point."},{"CreatedByName":"_Augustus_","CreatedById":115084,"CreatedDateTime":"2015-08-25T13:19:35Z","Content":"\u003E \n\u003E Version of KSP (Win32, WIn64, Linux32, Linux64, OSX) and graphics api (DX9/DX11/OpenGL).\n\u003E I hadn\u0027t even considered modded planets, that\u0027s a great point.\n\n Win32, I have all of them but I use force-OpenGL."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T13:25:56Z","Content":"\u003E \n\u003E Win32, I have all of them but I use force-OpenGL.\n\nNo idea for now, I thought I fixed this on OpenGL."},{"CreatedByName":"bigshow281","CreatedById":148365,"CreatedDateTime":"2015-08-25T13:52:49Z","Content":"Anyone have any suggestions on how to better tweak the brightness levels in Scatterer? I find that the the Earth glows a little too much, it sort of looks like a sky-blue ghost from the map view and from orbit. I hit alt\u002Bf11 and changed the 100 value to 10 and that seemed to do the trick but even after I click save, the next time I go back into the game, the changes revert back to stock. Does anyone have a customized config file they would be willing to share? Also, I noticed that the clouds from map view appear sort of blurry around the edges....sort of like looking at an image that is meant to be 3D but without 3D glasses. I\u0027m using EVE Overhaul at the moment, stock, none of the textures replaced. I was thinking about going back to the old EVE and Proot\u0027s KSPRC textures and keeping scatterer, do you find that scatterer works better with old EVE or the overhaul WIP version?"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-08-25T16:06:07Z","Content":"\u003E \n\u003E Well that made a dramatic difference. Looks like I\u0027ll be looking into the least performance intensive way to implement this soon.\n\u003E That actually seems like a huge difference to me.\n\u003E \n\u003E Also, imagine a modded gas giant with huge rings seen going vertically in the sky of one of it\u0027s moons.\n\nYeah, I had thought about doing this in the Planet shader I\u0027m working on. We can tweak it so that there is a shader param for \u0022darkness transparency\u0022 or some such param that can be accessed by your mod to change what happens when in atmosphere?"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2015-08-25T16:14:34Z","Content":"As for dark sides of moons and gas giants - IMO this is perfect, from Avatar. They aren\u0027t invisible, but darker.\n\nI tend to think of Laythe as of Pandora without jungles.\n\n![latest?cb=20100427083519](http://vignette3.wikia.nocookie.net/jamescameronsavatar/images/f/fe/View_on_Moons.png/revision/latest?cb=20100427083519)"},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-08-25T16:57:13Z","Content":"Hey Blackrack, thanks for the fixes, it would appear that most of the issues associated with open-GL have been fixed. However I noticed this break in the haze between the ground and atmosphere portions of the horizon that wasn\u0027t there before? This was on windows with force-OpenGL and RSS, I figured it was a clipping plane or camera distance issue however altering any of these values doesn\u0027t make a change. Cheers\n\n![vwWOQXU.png](http://i.imgur.com/vwWOQXU.png)\n\nEDIT: Just for info this only occurs in PQS and not scaledSpace, This (below) was it before the latest update (still slightly noticable but far less so), regardless the difference this mod makes to the game is indescribable thanks so much:\n\n![AjCNdLw.png](http://i.imgur.com/AjCNdLw.png)\n\n**Edited \u003Ctime datetime=\u00222015-08-25T17:01:59Z\u0022 title=\u002208/25/2015 05:01  PM\u0022 data-short=\u00228 yr\u0022\u003EAugust 25, 2015\u003C/time\u003E by pingopete**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-08-25T18:44:10Z","Content":"\u003E \n\u003E Yeah, I had thought about doing this in the Planet shader I\u0027m working on. We can tweak it so that there is a shader param for \u0022darkness transparency\u0022 or some such param that can be accessed by your mod to change what happens when in atmosphere?\n\nI was actually thinking about doing a simpler approach with a multiplicative blending layer or something, I sent you a message asking about possible custom blend modes and if that fails doing a grabpass (might be performance intensive) and basically nullifying or lowering values below a set threshold.\n\n\u003E \n\u003E Hey Blackrack, thanks for the fixes, it would appear that most of the issues associated with open-GL have been fixed. However I noticed this break in the haze between the ground and atmosphere portions of the horizon that wasn\u0027t there before? This was on windows with force-OpenGL and RSS, I figured it was a clipping plane or camera distance issue however altering any of these values doesn\u0027t make a change. Cheers\n\u003E [http://i.imgur.com/vwWOQXU.png](http://i.imgur.com/vwWOQXU.png)\n\u003E \n\u003E EDIT: Just for info this only occurs in PQS and not scaledSpace, This (below) was it before the latest update (still slightly noticable but far less so), regardless the difference this mod makes to the game is indescribable thanks so much:\n\u003E \n\u003E [http://i.imgur.com/AjCNdLw.png](http://i.imgur.com/AjCNdLw.png)\n\nBoth this and the moire patterns have something to do with the depth buffer, I already added it in the \u0022known issues of newest version\u0022 section and will try to fix it soon."},{"CreatedByName":"pingopete","CreatedById":74168,"CreatedDateTime":"2015-08-25T18:56:00Z","Content":"\u003E \n\u003E I was actually thinking about doing a simpler approach with a multiplicative blending layer or something, I sent you a message asking about possible custom blend modes and if that fails doing a grabpass (might be performance intensive) and basically nullifying or lowering values below a set threshold.\n\u003E Both this and the moire patterns have something to do with the depth buffer, I already added it in the \u0022known issues of newest version\u0022 section and will try to fix it soon.\n\nSorry, shoulda checked that first, my bad"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-08-25T18:58:59Z","Content":"\u003E \n\u003E I was actually thinking about doing a simpler approach with a multiplicative blending layer or something, I sent you a message asking about possible custom blend modes and if that fails doing a grabpass (might be performance intensive) and basically nullifying or lowering values below a set threshold.\n\nI\u0027d be curious to know what you find. I\u0027ve wanted to make eclipses and moon phases more realistic for quite some time now. It is why Mun is so bright in my stock configs."},{"CreatedByName":"dudefinal","CreatedById":150168,"CreatedDateTime":"2015-08-25T21:08:52Z","Content":"This mod is amazing when put alongside GEMFX it looks beautiful beyond imagination. I personally do not enjoy using this with clouds. Does anyone know any cloud mods that is jut a flat layer of high-res clouds or clouds that only come/fade into view after you pass a certain distance from the surface. I have noticed one bug though. When I start the game up such as loading a save, reverting to launch, or going to the launch pad or runway there is no atmosphere and the sky is all black. This bug is easily fixable by zooming way out until the atmosphere suddenly appears permanently until you go back to the space center but it is very annoying. Also I am running this on KSP x64. Another thing to mention the github link for the config is not working.\n\nEdit: I have also been experiencing the flashing bug that alot of other people seem to be having.\n\n**Edited \u003Ctime datetime=\u00222015-08-26T02:25:04Z\u0022 title=\u002208/26/2015 02:25  AM\u0022 data-short=\u00228 yr\u0022\u003EAugust 26, 2015\u003C/time\u003E by dudefinal**"},{"CreatedByName":"peachoftree","CreatedById":110108,"CreatedDateTime":"2015-08-26T01:28:11Z","Content":"Is there a way to get to the settings without using alt-f10 / alt-f11, I run linux and alt-f10 is bound to something in the system and alt-f11 seems to be used by contract configurator, is there a way to change the binding?"},{"CreatedByName":"nightingale","CreatedById":119307,"CreatedDateTime":"2015-08-26T03:30:01Z","Content":"\u003E \n\u003E Is there a way to get to the settings without using alt-f10 / alt-f11, I run linux and alt-f10 is bound to something in the system and alt-f11 seems to be used by contract configurator, is there a way to change the binding?\n\nActually, Contract Configurator uses Alt-F10, Module Manager uses Alt-F11. Neither of which have a setting to change the hotkey either."},{"CreatedByName":"Tellion","CreatedById":116794,"CreatedDateTime":"2015-08-26T09:03:40Z","Content":"\u003E \n\u003E Is there a way to get to the settings without using alt-f10 / alt-f11, I run linux and alt-f10 is bound to something in the system and alt-f11 seems to be used by contract configurator, is there a way to change the binding?\n\nHave you tried shift \u002B f11? Linux uses a different modifier key."}]}