{"TopicId":62902,"ForumId":36,"TopicTitle":"[1.8.x to 1.12.x] kRPC: Remote Procedure Call Server (v0.5.1, 2nd March 2023)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-02-11T20:00:32Z","PageNum":11,"Articles":[{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-10-20T16:45:30Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022AHO\u0022 data-cite=\u0022AHO\u0022\u003E\u003Cdiv\u003EIs there anyway to execute a maneuver node created outside of kRPC? For example, if you created a maneuver node, could you write a kRPC script to execute the node that was created before starting the script without creating the maneuver node within kRPC? It looks like the only way kRPC recognized a node is if it is created within itself using control.addnode().\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou can get a list of all the maneuver nodes for the active vessel using \u003Ca href=\u0022http://djungelorm.github.io/krpc/docs/python/api/space-center/control.html#SpaceCenter.Control.nodes\u0022 rel=\u0022external nofollow\u0022\u003Evessel.control.nodes\u003C/a\u003E. This includes maneuver nodes created outside of kRPC (by the player, or other mods).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-10-20T16:45:44Z\u0022 title=\u002210/20/2015 04:45  PM\u0022 data-short=\u00228 yr\u0022\u003EOctober 20, 2015\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003Cbr\u003ETypo\n\u003C/span\u003E\n"},{"CreatedByName":"postalbyke","CreatedById":114272,"CreatedDateTime":"2015-10-25T02:46:17Z","Content":"\n\u003Cp\u003EHiya!\u003C/p\u003E\u003Cp\u003EJust dropped by to say \u0022Great Mod,\u0022 and then ask a silly question:\u003C/p\u003E\u003Cp\u003EWhen I have autopilot on, my rocket rolls around like a dog. I tried setting \u0022vessel.auto_pilot.target_roll() = 0\u0022 but it either hangs on that line, or does not affect the rolling problem at all. My setup is as follows:\u003C/p\u003E\u003Cp\u003Evessel.auto_pilot.engage()\u003C/p\u003E\u003Cp\u003Evessel.auto_pilot.set_pid_parameters(40,0,0)\u003C/p\u003E\u003Cp\u003Evessel.auto_pilot.target_pitch_and_heading(turn_angle, heading)\u003C/p\u003E\u003Cp\u003Evessel.auto_pilot.target_roll() = 0\u003C/p\u003E\u003Cp\u003Ethen I set target pitch and heading in a while loop. I always get the pitch and heading, but (again) my rocket is rolling around.\u003C/p\u003E\u003Cp\u003ERecommendations?\u003C/p\u003E\n"},{"CreatedByName":"postalbyke","CreatedById":114272,"CreatedDateTime":"2015-10-29T22:46:27Z","Content":"\n\u003Cp\u003EAha. I was calling it with parentheses, and it didn\u0027t like that. I called it like this:\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003Evessel.auto_pilot.target_roll = 0\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003Eand it automagically worked. Guess I\u0027ll be paying closer attention to the text in the GitWiki.\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2015-11-17T12:43:16Z","Content":"\nWill this mod be updated to 1.0.5?\u003Cbr\u003E\nWith a little luck it may just need adding a variable for core temperature, but I don\u0026#39;t know the inside of KSP so I\u0026#39;m probably wrong.\u003Cbr\u003E\n\u003Cbr\u003E\nBTW, I really love this mod. It saved my control console project when I had isolated the source of my recurring game crashes to KSPserialIO. Thanks to this I could solve it with a Python script. Well a Python script after having learnt Python that is, but anyway... :-)\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-11-19T00:21:03Z","Content":"\n1.0.5 update is on its way very soon!\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-11-27T07:01:24Z","Content":"\n\u003Cp\u003E\nI\u0027m a... dangerous novice at coding... I think it\u0027s important to start with that info.\u003Cbr\u003E\u003Cbr\u003E\nI started playing tonight with building a pretty wxpython telemetry display (basically displaying everything that\u0027s on the \u0027orbit, surface, and vessel info\u0027 panes of mechjeb) along with resource data and docking guidance. I\u0027m learning Python as I go (My first thought was to try to write a library for C# and start there, as I\u0027ve at least done SOME C# programming... but... I decided it was going to be easier to learn Python than to figure out how to get protocol buffers up and running on C# having not dealt with serialization, or socket programming. So... wxpython, even though I know I could make a prettier display in C#, given the number of flight instrument and data display .Net controls you can find...\u003Cbr\u003E\u003Cbr\u003E\nBut I\u0027ve run into a snag - I\u0027m trying to grab orbit data for the target vessel... but am having trouble getting my hands on the target\u0027s orbit? From what I\u0027m reading in the API, vessel.target should return a vessel... so... I thought this would work:\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\nbut I\u0027m getting this error:\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\nIs there a better way to get my hands on the target\u0027s orbit to add streams for it\u0027s orbital parameters? \u00A0 EDIT: \u00A0\u00A0target = conn.space_center.target_vessel worked! \u00A0 So, scratch that first question.\u003Cbr\u003E\u003Cbr\u003E\nAnd... I\u0027ve been pulling 16 streams out without noticing any real performance hit, but has anyone noticed a reaonable upper limit to how much data can be subscribed to before performance begins to degrade? I\u0027d hate to design a big gui that grabs all you could ever want.. .but slows KSP to a crawl! Better to do a more minimal app, in that case, and have it run smoothly. So if anyone has any experience on using kRPC until performance suffers, I\u0027d love to hear it?\u003Cbr\u003E\u003Cbr\u003E\nAlso... in the early posts in this thread there was talk of mechjeb integration... has tying in with mechjeb been given any more thought? I would LOVE to be able to send some commands (circularize at apa/pea/now/altitude, transfer planning, execute next node) and pull some data (target closest approach time, distance, and relative velocity... deltav info)... Of course i know I could calculate/implement all of this myself on the python side (or, I suppose, in the kRPC server and make a pull request there)... but...\u00A0\u003Cbr\u003E\u003Cbr\u003E\nEDIT 1 - my code tags are looking weird and in the wrong place since the forum transition, and 2 - \u00A0I fixed my first issue, so please ignore that one - \u00A0this code got the target vessel instead :\u00A0target = conn.space_center.target_vessel\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nvessel = conn.space_center.active_vessel\n\n\ttarget = vessel.target\u003C/pre\u003E\n\u003Cpre class=\u0022ipsCode\u0022\u003E\nTraceback (most recent call last):\n\n\tFile \u0022C:\\PythonX\\3\\test3MyFrame1.py\u0022, line 10, in \u0026lt;module\u0026gt;\n\n\ttarget = vessel.target\n\n\tFile \u0022\u0026lt;string\u0026gt;\u0022, line 1, in \u0026lt;lambda\u0026gt;\n\n\tFile \u0022C:\\Python27\\lib\\site-packages\\krpc\\client.py\u0022, line 122, in _invoke\n\n\traise RPCError(response.error)\n\n\tRPCError: The requested feature is not implemented.\u003C/pre\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-11-30T05:00:45Z\u0022 title=\u002211/30/2015 05:00  AM\u0022 data-short=\u00228 yr\u0022\u003ENovember 30, 2015\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-12-02T07:54:37Z","Content":"\n\u003Cp\u003E\nVersion 0.1.12 is out. Includes support for 1.0.5, and a C\u002B\u002B client. Enjoy!\n\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2015-12-02T10:55:05Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222304313\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449042877\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nVersion 0.1.12 is out. Includes support for 1.0.5, and a C\u002B\u002B client. Enjoy!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOh, I will! :-)\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-03T07:51:56Z","Content":"\n\u003Cp\u003E\nI\u0027m planning on making a service to integrate some Mechjeb functions with kRPC... but before I got into messing with the code of two plugins, both of which were obviously put together by far more advanced coders than myself, I thought I should do something simple. \u00A0I saw that ISRU control got bumped to the next version on the milestone plan... \u00A0so I took a stab at roughing in the basics of it. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnyone who wants to add the basic ISRU functions can grab my dll at\u00A0\u003Ca href=\u0022https://www.dropbox.com/s/dm5b5dkaxnr72gc/krpcisru.dll?dl=0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://www.dropbox.com/s/dm5b5dkaxnr72gc/krpcisru.dll?dl=0\u003C/a\u003E\u00A0 and toss it in their GameData/kRPC folder. \u00A0The source code is up at :\u00A0\u003Ca href=\u0022https://github.com/artwhaley/krpcisru/tree/master/krpcisru\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/artwhaley/krpcisru/tree/master/krpcisru\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThis is very rudimentary... I\u0027ll work on rounding it out a bit more if there\u0027s interest. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAt the moment it offers the krpcisru server, only available in flight, with methods to deploy and retract drills, start and stop drills, and start and stop ISRU converters. \u00A0Examples of all :\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003E\u0026gt;\u0026gt;\u0026gt; conn = krpc.connect()\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.deploy()\n2\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.harvest_start()\n2\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.harvest_stop()\n2\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.retract()\n2\n\u0026gt;\u0026gt;\u0026gt; print(conn.krpcisru.isru_list())\nLf\u002BOx,Monoprop,LiquidFuel,Oxidizer,Lf\u002BOx,LiquidFuel,Oxidizer,MonoPropellant\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.isru_start(\u0022Lf\u002BOx\u0022)\n2\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.isru_start(\u0022Monoprop\u0022)\n1\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.isru_stop(\u0022Monoprop\u0022)\n1\n\u0026gt;\u0026gt;\u0026gt; conn.krpcisru.isru_stop_all()\n2\n\u0026gt;\u0026gt;\u0026gt;\u00A0\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n.deploy() deploys any drills (anything with ModuleAnimationGroup and a moduleType of \u0022Drill\u0022) and returns the number of drills onboard.\n\u003C/p\u003E\n\u003Cp\u003E\n.retract() obviously does the opposite, stowing any drills onboard and returns the number of drills.\n\u003C/p\u003E\n\u003Cp\u003E\n.harvest_start() and _stop() start and stop the drills (anything withModuleResourceHarvester on it) and returns the number of drills.\n\u003C/p\u003E\n\u003Cp\u003E\n.isru_list() returns\u00A0a csv list of all ISRU converters onboard\n\u003C/p\u003E\n\u003Cp\u003E\n.isru_start(\u0022NAMESTRING\u0022) starts all ISRU converters with the name in the parenthesis and quotes \u00A0(Note, the small and large ISRU stock units have slightly different names for some resource converters... so pay attention if you\u0027re writing something that may have to deal with either or both of these!) and returns the number of ISRU converters that matched the name.\n\u003C/p\u003E\n\u003Cp\u003E\n.isru_stop(\u0022NAMESTRING\u0022) stops the named ISRU converter and returns the number of ISRU converters that matched the name.\n\u003C/p\u003E\n\u003Cp\u003E\n.isru_stop_all() stops all ISRU converters and returns the number of ISRU converters that were actually stopped.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFor the general community - what other functions do you need, or information do you need to be able to retrieve? \u00A0I haven\u0027t figured out the\u00A0ModuleAsteroidDrill yet... \u00A0I suppose I need to fly out there and see if the standard drill module is working on asteroids these days? \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAnd for\u00A0djungelorm... \u00A0I love what you\u0027ve done so far with this plugin and hope you don\u0027t mind me meddling with it! \u00A0How can I help? \u00A0You\u0027re MORE than welcome to use my code as a starting place to add ISRU control to the main plugin. \u00A0I\u0027m willing to add it in and submit a pull request, if you\u0027d like, but I\u0027d want to know where you\u0027d like it to fit in? \u00A0I\u0027m thinking it\u0027s own file in\u00A0kRPCSpaceCenter/Services/ with a namespace of spaceCenter.isru maybe? \u00A0I also won\u0027t be insulted at all if you\u0027d rather deal with it yourself! \u00A0In that case I\u0027ll yank my .dll down as soon as you get the new version cranked out with ISRU officially included... \u00A0Also - in the documentation I think I found a bug: \u00A0\u003Cbr\u003E\u003Cbr\u003E\nOn the \u0022Extending kRPC\u0022 page the example shows :\n\u003C/p\u003E\n\u003Cpre style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;white-space:pre;margin:0px;padding:12px;line-height:1.5;color:rgb(64,64,64);font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Cspan style=\u0022color:#008080;\u0022\u003E   [KRPCProperty]\u003C/span\u003E\n        \u003Cspan style=\u0022font-weight:bold;\u0022\u003Epublic\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Estatic\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Evoid\u003C/span\u003E \u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EThrottle\u003C/span\u003E \u003Cspan\u003E{\u003C/span\u003E\n            \u003Cspan style=\u0022font-weight:bold;\u0022\u003Eget\u003C/span\u003E \u003Cspan\u003E{\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Ereturn\u003C/span\u003E \u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EFlightInputHandler\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003Estate\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EmainThrottle\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E \u003Cspan\u003E}\u003C/span\u003E\n            \u003Cspan style=\u0022font-weight:bold;\u0022\u003Eset\u003C/span\u003E \u003Cspan\u003E{\u003C/span\u003E \u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EFlightInputHandler\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003Estate\u003C/span\u003E\u003Cspan\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EmainThrottle\u003C/span\u003E \u003Cspan\u003E=\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Evalue\u003C/span\u003E\u003Cspan\u003E;\u003C/span\u003E \u003Cspan\u003E}\u003C/span\u003E\n        \u003Cspan\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut I had to change it to\u00A0\n\u003C/p\u003E\n\u003Cpre style=\u0022font-family:Consolas, \u0027Andale Mono WT\u0027, \u0027Andale Mono\u0027, \u0027Lucida Console\u0027, \u0027Lucida Sans Typewriter\u0027, \u0027DejaVu Sans Mono\u0027, \u0027Bitstream Vera Sans Mono\u0027, \u0027Liberation Mono\u0027, \u0027Nimbus Mono L\u0027, Monaco, \u0027Courier New\u0027, Courier, monospace;font-size:12px;white-space:pre;margin:0px;padding:12px;line-height:1.5;color:rgb(64,64,64);font-style:normal;font-variant:normal;letter-spacing:normal;text-indent:0px;text-transform:none;word-spacing:0px;background-color:rgb(255,255,255);\u0022\u003E\n\u003Cspan style=\u0022font-weight:normal;\u0022\u003E\u003Cspan style=\u0022color:#008080;\u0022\u003E   [KRPCProperty]\u003C/span\u003E\n        \u003Cspan style=\u0022font-weight:bold;\u0022\u003Epublic\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Estatic\u003C/span\u003E \u003C/span\u003E\u003Cb\u003Efloat\u003C/b\u003E \u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003EThrottle\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E{\u003C/span\u003E\n            \u003Cspan style=\u0022font-weight:bold;\u0022\u003Eget\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E{\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Ereturn\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003EFlightInputHandler\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003Estate\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003EmainThrottle\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E;\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E}\u003C/span\u003E\n            \u003Cspan style=\u0022font-weight:bold;\u0022\u003Eset\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E{\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003EFlightInputHandler\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003Estate\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;color:rgb(51,51,51);\u0022\u003EmainThrottle\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E=\u003C/span\u003E \u003Cspan style=\u0022font-weight:bold;\u0022\u003Evalue\u003C/span\u003E\u003Cspan style=\u0022font-weight:normal;\u0022\u003E;\u003C/span\u003E \u003Cspan style=\u0022font-weight:normal;\u0022\u003E}\u003C/span\u003E\n        \u003Cspan style=\u0022font-weight:normal;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-weight:normal;\u0022\u003Eto get it to compile in VS2015?\u003Cbr\u003E\u003Cbr\u003E\nAnyway... sorry for so much in one post, I\u0027m just excited that i got this working! \u00A0 Thanks again for doing something awesome for KSP!\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-05T06:15:49Z","Content":"\n\u003Cp\u003E\nSo... \u00A0my mechjeb plugin is proceeding rather well, and I\u0027m starting on the gui now. \u00A0I think I\u0027ll start a separate thread to show off the gui and ask for feedback there, as I think the typical user for a GUI external interface to mechjeb is going to be somewhat different than the core user\u00A0of kRPC that is\u00A0interested in rolling their own\u00A0autopilot in python. \u00A0So... \u00A0if interested, look for that thread.. \u00A0I\u0027m going to working title the python app \u0022ExtJeb\u0022. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nBut here I want to ask about the underlying kRPC extension to see if there are features others want that I\u0027m not implementing since I\u0027m basically building in what I need... or see near term use for.\n\u003C/p\u003E\n\u003Cp\u003E\nThe extension so far has these methods:\u00A0\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAll SmartASS functions except \u0027advanced\u0027. \u00A0It does include Surface mode, which takes floats for heading, pitch and roll. \u00A0Also included is the ability to set and clear the \u0027force roll\u0027 feature. \u00A0These functions look like:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nconn.krpcmj.sa_prograde()\n\nconn.krpcmj.sa_surface(90,45,0)\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThen we get into the more \u0027automated\u0027 bits of mechjeb. \u00A0I cherry picked the most useful bits to expose this way... so let me know if I\u0027ve missed a feature you think you\u0027d called via RPC. \u00A0At the moment the realized bits are (list of plain text descriptions, to keep it legible):\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EActivate Ascent Autopilot, taking parameters for altitude, inclination, and both the initial and final roll values.\n\nCancel Ascent Autopilot\n\nActivate Landing Autopilot, with \u0027land somewhere\u0027 option\n\nActivate Landing Autopilot, with \u0027land at target\u0027 option\n\nCancel Landing Autopilot\n\nActivate Docking Autopilot\n\nCancel Docking Autopilot\n\nActivate Rendezvous Autopilot\n\nCancel Rendezvous Autopilot\n\n((not working, need to trouble shoot) Rover activate, drive to target\n\nrover deactivate\n\ntranslatron - taking arguments for vertical velocity and boolean for whether or not to cancel horizontal velocity.\n\ntranslatron cancel\n\n\n\nExecute Next Node\n\nExecute All nodes;\n\nAbort Node Execution;\n\n\n\nFunctions that just create maneuver nodes:\n\nCircularize at Time\n\nModify Apoapsis at Time\n\nModify Periapsis at Time\n\nModify Inclination at Time\n\nHohmann Transfer to Target\n\nInterplanetary Transfer to Target\n\nMatch Velocity with Target Now\n\nMatch Velocity with Target at Closest Approach\n\nand... a function to call the mechjeb delta v sim and return atmo and vac deltav and TWR for every stage.\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022line-height:1.6;\u0022\u003E\u00A0Are there any other mechjeb functions you can imagine yourself wanting access to remotely? \u00A0Just let me know and I\u0027ll see what I can do! \u00A0\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-05T06:17:15Z\u0022 title=\u002212/05/2015 06:17  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 5, 2015\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-12-09T00:45:11Z","Content":"\n\u003Cp\u003E\nDoes anyone else get this error?\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;\u0026gt; import krpc\n\u003C/p\u003E\n\u003Cp\u003E\nTraceback (most recent call last):\u003Cbr\u003E\n\u00A0 File \u0022\u0026lt;pyshell#2\u0026gt;\u0022, line 1, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0\u00A0\u00A0 import krpc\u003Cbr\u003E\n\u00A0 File \u0022build\\bdist.win-amd64\\egg\\krpc\\__init__.py\u0022, line 3, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0 File \u0022build\\bdist.win-amd64\\egg\\krpc\\client.py\u0022, line 1, in \u0026lt;module\u0026gt;\u003Cbr\u003E\n\u00A0 File \u0022build\\bdist.win-amd64\\egg\\krpc\\types.py\u0022, line 3, in \u0026lt;module\u0026gt;\u003Cbr\u003E\nImportError: No module named enum\u003Cbr\u003E\n\u0026gt;\u0026gt;\u0026gt;\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNever mind; removing the enum34 egg and reinstalling it with pip did the trick.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-09T00:50:33Z\u0022 title=\u002212/09/2015 12:50  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 9, 2015\u003C/time\u003E by Kerbart\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-13T07:07:57Z","Content":"\n\u003Cp\u003E\nHas anyone had success getting an accurate surface referenced horizontal speed?\n\u003C/p\u003E\n\u003Cp\u003E\nI feel like it should be :\u00A0vessel.flight(vessel.orbit.body.reference_frame).horizontal_speed ... \u00A0and I can use that reference frame to get vertical speed\u00A0and overall surface speed, and these both agree with both Mechjeb and the navball... \u00A0but horizontal velocity is returning a number that doesn\u0027t match up with mechjeb... \u00A0and I can\u0027t figure out what number it is, actually. \u00A0If my vector math\u0027s were better... I\u0027m sure there\u0027s a way to subtract .vertical_speed from .velocity... \u00A0but I\u0027m too far out of college algebra.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAm I passing the wrong reference frame? \u00A0I\u0027ve tried them all.... \u00A0is there something else I\u0027m doing wrong? \u00A0Or have i found a bug that needs squashing? \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-12-13T08:34:48Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222320557\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449990477\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHas anyone had success getting an accurate surface referenced horizontal speed?\n\u003C/p\u003E\n\u003Cp\u003E\nI feel like it should be :\u00A0vessel.flight(vessel.orbit.body.reference_frame).horizontal_speed ... \u00A0and I can use that reference frame to get vertical speed\u00A0and overall surface speed, and these both agree with both Mechjeb and the navball... \u00A0but horizontal velocity is returning a number that doesn\u0027t match up with mechjeb... \u00A0and I can\u0027t figure out what number it is, actually. \u00A0If my vector math\u0027s were better... I\u0027m sure there\u0027s a way to subtract .vertical_speed from .velocity... \u00A0but I\u0027m too far out of college algebra.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nAm I passing the wrong reference frame? \u00A0I\u0027ve tried them all.... \u00A0is there something else I\u0027m doing wrong? \u00A0Or have i found a bug that needs squashing? \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nLooks like the implementation of horizontal_speed is wrong. I am slightly bemused as to how I could ever think the math in the code could ever be correct...\n\u003C/p\u003E\n\u003Cp\u003E\nHorizontal speed is currently calculated from the total and vertical speed using\u003Cfont face=\u0022Monospace\u0022\u003E: \u003Cspan style=\u0022color:#333333;\u0022\u003ESpeed\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E-\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E\u00A0Math\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E.\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EAbs\u00A0\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E(\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EVerticalSpeed\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E)\u003C/span\u003E\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut that\u0027s just plain wrong - the calculation should be done using Pythagoras\u0027 theorem (right?) so should be:\u00A0 \u003Cfont face=\u0022Monospace\u0022\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EMath.sqrt(Speed^2 \u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E-\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E \u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003EVerticalSpeed\u003C/span\u003E\u003Cspan style=\u0022color:#333333;\u0022\u003E^2)\u003C/span\u003E\u003C/font\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:arial, helvetica, sans-serif;\u0022\u003E\u003Cspan style=\u0022color:rgb(51,51,51);\u0022\u003EPS. Nice work on the ISRU code and mechjeb plugin!\u003C/span\u003E \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E will take a proper look when I have time (which is unfortunately rare these days...)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-13T08:38:01Z\u0022 title=\u002212/13/2015 08:38  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 13, 2015\u003C/time\u003E by djungelorm\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-13T09:14:03Z","Content":"\n\u003Cp\u003E\nYes, exactly! \u00A0That\u0027s much better than my idea of trying to figure out how to subtract the vertical speed from the actual velocity vector! \u00A0And, simple enough that even I could code it. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0 Would you like me to fix it and make a pull request? \u00A0And, would you like me to try adding the ISRU stuff to the main DLL and pull request when I\u0027ve got it all working? \u00A0Or would you rather I just keep it as a separately available .dll that people can grab if they\u0027d like? \u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-12-13T09:22:34Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222320612\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221449998043\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 minutes ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nYes, exactly! \u00A0That\u0027s much better than my idea of trying to figure out how to subtract the vertical speed from the actual velocity vector! \u00A0And, simple enough that even I could code it. \u003Cimg alt=\u0022:P\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 title=\u0022:P\u0022\u003E\u00A0 Would you like me to fix it and make a pull request? \u00A0And, would you like me to try adding the ISRU stuff to the main DLL and pull request when I\u0027ve got it all working? \u00A0Or would you rather I just keep it as a separately available .dll that people can grab if they\u0027d like? \u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah sure, by all means make a pull request \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E I think the ISRU stuff should eventually be merged into the spacecenter dll, I should have some time tomorrow to look at your work and figure out to best fit it in.\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-14T06:53:40Z","Content":"\n\u003Cp\u003E\nAfter a little thought and looking at the structure of everything, it seems to me the best way to add ISRU to space_center proper would be to add two classes to kRPCSpaceCenter\u0026gt;Services\u0026gt;Parts . \u00A0One for harvesters and one for converters? \u00A0That should keep it organized and generic to make sure fuel cells and the like are covered as well? \u00A0I\u0027ll take a look back at my code. \u00A0It was the first plugin work I\u0027d done in over a year and I had to remember where everything was so I\u0027m sure there are things I can clean up. \u00A0I\u0027ll wait for your okay or no-kay to really get to work on it though, in case you\u0027ve got better ideas or want to do something yourself - I don\u0027t want to step on toes!\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-12-14T07:09:21Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222321883\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221450076020\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n13 minutes ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAfter a little thought and looking at the structure of everything, it seems to me the best way to add ISRU to space_center proper would be to add two classes to kRPCSpaceCenter\u0026gt;Services\u0026gt;Parts . \u00A0One for harvesters and one for converters? \u00A0That should keep it organized and generic to make sure fuel cells and the like are covered as well? \u00A0I\u0027ll take a look back at my code. \u00A0It was the first plugin work I\u0027d done in over a year and I had to remember where everything was so I\u0027m sure there are things I can clean up. \u00A0I\u0027ll wait for your okay or no-kay to really get to work on it though, in case you\u0027ve got better ideas or want to do something yourself - I don\u0027t want to step on toes!\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYeah I agree. The two classes should be implemented in the same way as, for example, solar panels: \u003Ca href=\u0022https://github.com/djungelorm/krpc/blob/master/src/kRPCSpaceCenter/Services/Parts/SolarPanel.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/djungelorm/krpc/blob/master/src/kRPCSpaceCenter/Services/Parts/SolarPanel.cs\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nFeel free to implement it and make a pull request \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022true\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"postalbyke","CreatedById":114272,"CreatedDateTime":"2015-12-18T15:13:26Z","Content":"\n\u003Cp\u003E\nSo I have a question about this part:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\npublic LandingLegState State {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 get {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 switch (leg.legState) {\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.DEPLOYED:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Deployed;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.RETRACTED:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Retracted;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.DEPLOYING:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Deploying;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.RETRACTING:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Retracting;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.BROKEN:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Broken;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 case ModuleLandingLeg.LegStates.REPAIRING:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 return LandingLegState.Repairing;\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 default:\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 throw new ArgumentException (\u0022Unknown landing leg state\u0022);\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 \u00A0 \u00A0 }\u003Cbr\u003E\n\u00A0 \u00A0 \u00A0 \u00A0 }\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n(my C isn\u0027t very good at all)\n\u003C/p\u003E\n\u003Cp\u003E\nWhy is it returning an\u00A0\u0026lt;enum \u0027LandingLegState\u0027\u0026gt; LandingLegState.deployed\u00A0instead of a string \u0022deployed\u0022 or even just deployed?\n\u003C/p\u003E\n\u003Cp\u003E\nCan I fix this by just replacing it with\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0case ModuleLandingLeg.LegStates.DEPLOYED:\u003Cbr\u003E\n\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0return \u0027deployed\u0027;\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n?\n\u003C/p\u003E\n\u003Cp\u003E\nThank you very much for your hard work at making KSP more fun!\n\u003C/p\u003E\n\u003Cp\u003E\nedit: Just looked \u00A0up enum, and it makes more sense now. Sort of.\n\u003C/p\u003E\n\u003Cp\u003E\nedit: edit: Just found enum.name fixes everything:\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nQuote\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u0026gt;\u0026gt;vessel.parts.landing_legs[0].state.name\n\u003C/p\u003E\n\u003Cp\u003E\n\u0027deployed\u0027\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-18T15:18:30Z\u0022 title=\u002212/18/2015 03:18  PM\u0022 data-short=\u00228 yr\u0022\u003EDecember 18, 2015\u003C/time\u003E by postalbyke\u003C/strong\u003E\n\u003Cbr\u003EFixing myself, fixing the look of the code boxes\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-19T00:45:48Z","Content":"\n\u003Cp\u003E\nI think you totally answered that yourself, but yes - it\u0027s a way to return something that\u0027s hopefully useful for both times when you want to do something human readable AND when you want to do something more machine readable. \u00A0It\u0027s much easier to have your script make a decision based on a returned Enum than having to teach it to parse the string, then make decisions based on what it learns from that.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m trying to figure out the best way to do this with resource converters as I add them to kRPC\u00A0right now, since their \u0027status\u0027 message holds a lot of data - % of load, which resource is missing, etc... \u00A0I\u0027m thinking I\u0027m going to resolve it by using two methods, one that returns an enum with the basic status - \u0027converting, missing resource, turned off, tank is full, overheating\u0027 and then a second method to return the status_string for those times when you just want to take whatever the part says and show it to a user...\n\u003C/p\u003E\n"},{"CreatedByName":"lolzor","CreatedById":154617,"CreatedDateTime":"2015-12-21T02:46:33Z","Content":"\n\u003Cp\u003E\nAny reason why even the first suborbital example completely fails at giving any pitch/heading directions to the ship? Conflict with other mods? I also can\u0027t set the SAS mode, it always defaults to False. What is happening?\u003Cbr\u003E\u003Cbr\u003E\nEdit: After some debugging and tinkering with the script; i\u0027ve learned a few things:\u003Cbr\u003E\nThe autopilot DOES work, but it only has enough control if vessel.auto_pilot.rotation_speed_multiplier is set to something like 5. It will hold it\u0027s position then, however it will turn too fast and destroy the rocket when the target pitch-yaw is changed. This tells me that it\u0027s probably the PID parameters that are hopelessly out of whack. Yet i haven\u0027t changed anything, this is the stock rocket and stock script (except for some print commands). What is happening? Can\u0027t really start working on a full system (i have big plans for this) if i can\u0027t even get the stock tutorial script to work right.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-21T04:30:15Z\u0022 title=\u002212/21/2015 04:30  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 21, 2015\u003C/time\u003E by lolzor\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2015-12-21T06:33:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00222330796\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221450665993\u0022 data-ipsquote-userid=\u0022154617\u0022 data-ipsquote-username=\u0022lolzor\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, lolzor said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAny reason why even the first suborbital example completely fails at giving any pitch/heading directions to the ship? Conflict with other mods? I also can\u0027t set the SAS mode, it always defaults to False. What is happening?\u003Cbr\u003E\u003Cbr\u003E\nEdit: After some debugging and tinkering with the script; i\u0027ve learned a few things:\u003Cbr\u003E\nThe autopilot DOES work, but it only has enough control if vessel.auto_pilot.rotation_speed_multiplier is set to something like 5. It will hold it\u0027s position then, however it will turn too fast and destroy the rocket when the target pitch-yaw is changed. This tells me that it\u0027s probably the PID parameters that are hopelessly out of whack. Yet i haven\u0027t changed anything, this is the stock rocket and stock script (except for some print commands). What is happening? Can\u0027t really start working on a full system (i have big plans for this) if i can\u0027t even get the stock tutorial script to work right.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI just tried both the \u0022sub-orbital flight\u0022 and \u0022launch into orbit\u0022 tutorial scripts and they ran fine for me on my stock KSP 1.0.5. Do you have any mods (like FAR) installed? If so then yes, the PID parameter probably need re-tuning as the turning forces etc. will be different. Have you tried adjusting auto-pilot parameters other than rotation_speed_multiplier? Increasing the proportional gain should help if the auto-pilot control inputs are too small to turn the vessel.\n\u003C/p\u003E\n"},{"CreatedByName":"Kerbart","CreatedById":78303,"CreatedDateTime":"2015-12-21T15:20:39Z","Content":"\n\u003Cp\u003E\nI can confirm that the autopilot is fully functional. Here\u0027s the magic I use in my launch script:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\n            ap.engage()\n            ap.target_pitch_and_heading(self.profile.value(alt), 90)\n\u003C/pre\u003E\n\u003Cp\u003E\nAnd that works absolutely fine with me. Playing stock only, only mods are those that provide information (KER, DPAI, etc) or enhance visual experience (texture replacer, EVE, etc).\n\u003C/p\u003E\n\u003Cp\u003E\nKeep in mind that, contrary to most mathematical standards, kRPC needs angles in degrees, not radians. Which is fine with me, as I find that more convenient anyway.\n\u003C/p\u003E\n"},{"CreatedByName":"lolzor","CreatedById":154617,"CreatedDateTime":"2015-12-21T22:30:09Z","Content":"\n\u003Cp\u003E\nAh yes that is the problem, i use FAR (along with a metric ton of other mods). I tried the LaunchToOrbit scenario and, with the rotation_speed_multiplier set to 5, it works perfectly. I will do some tests to figure out what the optimal PID gain is.\u003Cbr\u003E\nThis might be KSP\u0060s greatest mod. I remember clamoring for this a few years ago. Now all that is needed is a remote node/manover planning tool to be really able to remotely operate a flight from start to finish like a Mission Control.\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2015-12-31T00:44:23Z","Content":"\n\u003Cp\u003E\nSo, I\u0027m still plodding along at my mechjeb integration for kRPC... \u00A0and I\u0027m at a point where I probably ought to ask for some guidance from \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022http://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022\u003E@djungelorm\u003C/a\u003E\u00A0and anyone else who\u0027s interested in playing with it. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nEDIT: \u00A0I asked a dumb question, then managed to come up with my own dumb answer to a technical problem. \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI was trying to figure out how best to tell my service what ship to work on. \u00A0Because I\u0027m trying not to touch any of the core kRPC or SpaceCenter code, I\u0027ve decided to just give my service a property for getting and setting the ship that we\u0027re controlling the mechjeb unit on... \u00A0that way you can do something like:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nconn.krpcmj.apvessel= conn.space_center.active_vessel\n\nconn.krpcmj.sa_prograde()\n\ncon.krpcmj.apvessel = conn.space_center.target_vessel\n\nconn.krpcmj.sa_retrograde()\u003C/pre\u003E\n\u003Cp\u003E\nTo give one command to the active vessel and another to the target. \u00A0 Is this the best way to handle this?\n\u003C/p\u003E\n\u003Cp\u003E\nBut, on to the philosophical question:\n\u003C/p\u003E\n\u003Cp\u003E\nDo you want me to work towards adding my assembly\u00A0to the main kRPC project when the bugs are all worked out for future distribution with kRPC, or would you rather me release it separately as a plugin to your plugin? \u00A0I\u0027m happy to contribute to kRPC... but also don\u0027t want to try to push an entire assembly on you if I\u0027m not adding features that you\u0027d like your plugin to have! \u00A0I\u0027ll get the source up on github in the next day or two so you can really see what I\u0027m doing... \u00A0but it\u0027s a fairly complete-ish interface to mechjeb\u0027s autopilot modules.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-12-31T02:02:54Z\u0022 title=\u002212/31/2015 02:02  AM\u0022 data-short=\u00228 yr\u0022\u003EDecember 31, 2015\u003C/time\u003E by artwhaley\u003C/strong\u003E\n\u003Cbr\u003EGot a little smarter. But just a little.\n\u003C/span\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2016-01-01T03:37:19Z","Content":"\n\u003Cp\u003E\nI\u0027ve got the source for my service up at :\u00A0\u003Ca href=\u0022https://github.com/artwhaley/krpcmj\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/artwhaley/krpcmj\u003C/a\u003E\u00A0 \u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nMy todo list on it is still -\n\u003C/p\u003E\n\u003Cp\u003E\nAdd controls for the rover autopilot\n\u003C/p\u003E\n\u003Cp\u003E\nAddress Error handling - make sure everything fails gracefully or returns a useful exception\n\u003C/p\u003E\n\u003Cp\u003E\nReally dig into the maneuver planner and make sure there\u0027s not anything essential I\u0027ve left out\n\u003C/p\u003E\n\u003Cp\u003E\nLook at my \u0027helper\u0027 methods to see if any of them should be contributed to the space center service instead - they\u0027re mostly ways to get useful bits of orbital data while planning maneuvers.\n\u003C/p\u003E\n\u003Cp\u003E\nAs an example - here\u0027s 31 lines of code that that spawn a resupply vessel, ask you where to send it, and then launch, circularize, rendezvous and dock all without further attention. \u00A0All of this is perfectly possible with kRPC by itself, but adding mechjeb cuts some thought (and code) out.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nimport krpc                                            #Typical kRPC setup stuff\nconn=krpc.connect()\nprint(\u0022Setting Up...\u0022)\nconn.space_center.launch_vessel_from_vab(\u0022resupply\u0022)    #Spawn the resupply vessel\nmj=conn.krpcmj                                          #mj service\nmj.apvessel=conn.space_center.active_vessel             #Assign MJ control to active vessel\ntargetname = raw_input(\u0027Type Name of Target Vessel:\u0027)   #tell it whom to rendezvous with\n\nvessels=conn.space_center.vessels\t\t\t\t\t\t#Find and set the target\nfor v in vessels:\n    if v.name==targetname:\n        conn.space_center.target_vessel=v\n        print(\u0022Target Found...\u0022)\n\nprint(\u0022Launching to Rendezvous...\u0022)\nmj.ascent_rdzv(conn.space_center.target_vessel)                          #Ascend to Rendezvous \nmj.ascent_alt=conn.space_center.target_vessel.orbit.apoapsis_altitude    #Sets Launch Alt to target Apoapsis\nmj.ascent_inc=conn.space_center.target_vessel.orbit.inclination          #Matches Launch Inclination to Target                                             \nwhile mj.ap_status\u0026gt;0:                                    \t\t\t\t #Waits until Ascent AP is complete\n    pass\n\nprint(\u0022Activating Rendezvous Autopilot...\u0022)\nmj.apvessel.control.rcs=True                    #enable RCS for maneuvering and docking\nmj.rendezvous_ap=True                           #Activate Rendezvous AP to get close\nwhile mj.ap_status\u0026gt;0:                           # Wait until Rendezvous AP exits\n    pass\n\nprint(\u0022Activating Docking Autopilot\u0022)\nports=mj.apvessel.parts.docking_ports           #Next 3 lines set up \u0027Control from Here\u0027 on docking port\nport = list(filter(lambda p: p.part.title == \u0027Clamp-O-Tron Docking Port\u0027, ports))[0]\nmj.apvessel.parts.controlling=port.part\n\ntargetports=conn.space_center.target_vessel.parts.docking_ports          #Next 3 lines set target docking port\ntargetport=targetports[0]\nconn.space_center.target_docking_port=targetport\n\nmj.docking_ap=True                              #Activate Docking AP\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}