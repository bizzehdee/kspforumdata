{"TopicId":24170,"ForumId":36,"TopicTitle":"Help rotating part around it\u0026#039;s attachment point","CreatedByName":"raath","CreatedById":48678,"CreatedDateTime":"2013-04-26T09:47:31Z","PageNum":1,"Articles":[{"CreatedByName":"raath","CreatedById":48678,"CreatedDateTime":"2013-04-26T09:47:31Z","Content":"\n\u003Cp\u003EI\u0027m trying to write a plugin that I can attach to spotlights to enable them to be redirected in EVA.\u003C/p\u003E\u003Cp\u003EI\u0027ve looked on a whole bunch of forums but I can\u0027t seem to be able to make it go.\u003C/p\u003E\u003Cp\u003EThis is the closest I\u0027ve been able to get it to do what I\u0027d like except that it rotates it around the center of the part not the attachment point, and it seems to pivot on the z axis when I only want to pitch on the X.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E\tprivate void panUp ()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tdirection \u002B= 20;\u003Cbr\u003E\t\tupdate = true;\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tprivate void panDown ()\u003Cbr\u003E\t{\u003Cbr\u003E\u003Cbr\u003E\t\tdirection -= 20;\u003Cbr\u003E\t\tupdate = true;\u003Cbr\u003E\t}\u003Cbr\u003E\u003Cbr\u003E\tpublic void LateUpdate ()\u003Cbr\u003E\t{\u003Cbr\u003E\t\tif (update == true) {\u003Cbr\u003E\t\t\t//part.transform.Find(\u0022model\u0022).Rotate(direction,0,0);\u003Cbr\u003E\t\t\tvar target = Quaternion.Euler (direction, 0, 0);\u003Cbr\u003E\t\t\t// Dampen towards the target rotation\u003Cbr\u003E\t\t\tpart.transform.Find (\u0022model\u0022).rotation = Quaternion.Slerp (part.transform.Find (\u0022model\u0022).rotation, target,\u003Cbr\u003E                                       Time.deltaTime * smooth);\u003Cbr\u003E\t\t\tupdate = false;\u003Cbr\u003E\t\t}\u003Cbr\u003E\t}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhere am I going wrong?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-04-26T14:32:18Z","Content":"\n\u003Cp\u003EThat approach assumes it\u0027s rotated 0\u00C3\u201A\u00C2\u00B0 around the Y and Z axes, you need to use the current rotation for Y and Z when creating your target (transform.localEulerAngles IIRC).\u003C/p\u003E\u003Cp\u003EAlso, you need to be using localRotation rather than rotation. The latter is positioning in world space so the axes could be pointing in any direction.\u003C/p\u003E\u003Cp\u003EAs for rotating around the attachment point. That requires movement as well as rotation so just setting the rotation isn\u0027t enough, you\u0027d need to use something like transform.RotateAround. I\u0027m not sure whether the attach information is stored in Part though.\u003C/p\u003E\n"}]}