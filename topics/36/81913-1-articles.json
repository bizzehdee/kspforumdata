{"TopicId":81913,"ForumId":36,"TopicTitle":"Help with orbital frames of reference","CreatedByName":"Velo24","CreatedById":104520,"CreatedDateTime":"2014-08-16T21:42:11Z","PageNum":1,"Articles":[{"CreatedByName":"Velo24","CreatedById":104520,"CreatedDateTime":"2014-08-16T21:42:11Z","Content":"\n\u003Cp\u003EHi guys,\u003C/p\u003E\u003Cp\u003EI\u0027m trying to make an add-on which will include closed-loop attitude control with tracking (I can tell the ship where to point and it will point in that direction). The problem I\u0027m running into is that the frames of reference for the different attitude variables are all over the place.\u003C/p\u003E\u003Cp\u003EI\u0027m currently struggling with keeping the ship aligned with the pro-grade velocity. For an orbit around Kerbin, I\u0027m using vessel.orbit.vel to get the velocity vector. I\u0027ve confirmed that this vector is given in the Kerbin-centred inertial (KCI) frame with the z-axis parallel to Kerbin\u0027s axis of rotation. \u003C/p\u003E\u003Cp\u003EFor my attitude I\u0027ve tried vessel.ReferenceTransform.localRotation and vessel.ReferenceTransform.rotation however I do not think either of these have coordinates which are aligned with the KCI frame. I also tried extracting the rotation from vessel.GetFwdVector() but, again, this information is provided in a frame of reference which is not aligned with the KCI frame. \u003C/p\u003E\u003Cp\u003EDoes anyone know of any rotation information available to me which is in the KCI frame, or, any velocity information which is available in a frame also containing rotation information?\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"}]}