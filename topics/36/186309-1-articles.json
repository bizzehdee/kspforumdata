{"TopicId":186309,"ForumId":36,"TopicTitle":"Help with upgrades needed","CreatedByName":"Nnimrod","CreatedById":152586,"CreatedDateTime":"2019-07-12T22:57:19Z","PageNum":1,"Articles":[{"CreatedByName":"Nnimrod","CreatedById":152586,"CreatedDateTime":"2019-07-12T22:57:19Z","Content":"\n\u003Cp\u003E\nI don\u0027t know where I\u0027m erring \u003Cspan\u003E\u003Cspan\u003E\u003Cimg alt=\u0022:(\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 title=\u0022:(\u0022\u003E\u00A0When right clicking on the part on the tech tree, it shows that it has upgrades, and says they\u0027re available at #autoLOC_501052, but as you can see I didn\u0027t use that dictionary entry when I specified where to put the PARTUPGRADE - I just typed the id of the tech node.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003E\u003Cspan\u003EAnd on top of that, there\u0027s no upgrade at the electrics node.\u003C/span\u003E\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[part1]:FINAL{\nMODULE\n\t{\n\t\tname = PartStatsUpgradeModule\n\t\tshowUpgradesInModuleInfo = true\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = 4x2x1 MZ Upgrade\n\t\t\t\ttechRequired__ = electrics\n\t\t\t\tIsAdditiveUpgrade__ = true\n\t\t\t\tPartStats\n\t\t\t\t{\n\t\t\t\t\tmass = .1\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n}\nPARTUPGRADE\n{\n\tname = 4x2x1 MZ Upgrade\n\tpartIcon = LiquidEngine2\n\ttechRequired = electrics \n\tentryCost = 30\n\ttitle = Improved Hg-Zn batteries\n\tbasicInfo = Battery technology has improved\n\tdescription = The small Hg-Zn Battery Pack has gotten a little better.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2019-07-12T23:11:36Z","Content":"\n\u003Cp\u003E\nI think you want to add the UPGRADES section to the module it\u0027s self - not a separate PartStatsUpgradeModule. Just got this working last night - upgrades \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E - Note the module name\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = ModuleSAS\n\t\tSASServiceLevel = 0\n\t\tmoduleIsEnabled = false\n\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_0\n\t\t\t\tdescription__ = SAS level 0\n\t\t\t\ttechRequired__ = electrics\n\t\t\t\tIsAdditiveUpgrade__ = false\n\t\t\t\t//ExclusiveWith__ = SASb\n\t\t\t\tSASServiceLevel = 0\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_1\n\t\t\t\tdescription__ = SAS level 1\n\t\t\t\ttechRequired__ = precisionEngineering\n\t\t\t\tSASServiceLevel = 1\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_2\n\t\t\t\tdescription__ = SAS level 2\n\t\t\t\ttechRequired__ = unmannedTech\n\t\t\t\tSASServiceLevel = 2\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_3\n\t\t\t\tdescription__ = SAS level 3\n\t\t\t\ttechRequired__ = advUnmanned\n\t\t\t\tSASServiceLevel = 3\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\t\t}\n\t}\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Nnimrod","CreatedById":152586,"CreatedDateTime":"2019-07-15T02:34:03Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223633930\u0022 data-ipsquote-contentid=\u0022186309\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221562973096\u0022 data-ipsquote-userid=\u0022120438\u0022 data-ipsquote-username=\u0022wasml\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 7/12/2019 at 6:11 PM, wasml said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI think you want to add the UPGRADES section to the module it\u0027s self - not a separate PartStatsUpgradeModule. Just got this working last night - upgrades \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E - Note the module name\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\n\u003Cspan class=\u0022pln\u0022\u003E\tMODULE\n\t{\n\t\tname = ModuleSAS\n\t\tSASServiceLevel = 0\n\t\tmoduleIsEnabled = false\n\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_0\n\t\t\t\tdescription__ = SAS level 0\n\t\t\t\ttechRequired__ = electrics\n\t\t\t\tIsAdditiveUpgrade__ = false\n\t\t\t\t//ExclusiveWith__ = SASb\n\t\t\t\tSASServiceLevel = 0\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_1\n\t\t\t\tdescription__ = SAS level 1\n\t\t\t\ttechRequired__ = precisionEngineering\n\t\t\t\tSASServiceLevel = 1\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_2\n\t\t\t\tdescription__ = SAS level 2\n\t\t\t\ttechRequired__ = unmannedTech\n\t\t\t\tSASServiceLevel = 2\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = SAS_Level_3\n\t\t\t\tdescription__ = SAS level 3\n\t\t\t\ttechRequired__ = advUnmanned\n\t\t\t\tSASServiceLevel = 3\n\t\t\t\tmoduleIsEnabled = true\n\t\t\t\thideUIwhenUnavailable = false\n\t\t\t}\n\t\t}\n\t}\n\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nOk, I\u0027ve had some success. This shows up properly in the tech tree, and the upgrade shows up properly in the Electrics node. I tried editing the mass inside the partStatsUpgradeModule, and that worked, but I haven\u0027t been able to make the upgrade work on stuff inside the StoredCharge RESOURCE or inside the BatteryFailureModule. That\u0027s where I\u0027m stuck atm.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E@PART[batteryPack]:FINAL\n{\n\t@mass = .0004\n\t@rescaleFactor = .3333\n\t@cost = .08\n\t!entryCost = 800\n\t@title = Small Hg-Zn Battery Pack\n\t@TechRequired = start\n\t@description = A little non-rechargable battery pack. \n\t@PhysicsSignificance = 0\n\t!RESOURCE[ElectricCharge]{}\n\t%MODULE\n\t{\n\t\tname = BatteryFailureModule\n\t\tbaseChanceOfFailure = 0.01\n\t\texpectedLifetime = 10\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = Hg-Zn Battery Upgrade\n\t\t\t\tdescription__ = Improves capacity and expected life\n\t\t\t\texpectedLifetime = 12\n\t\t\t}\n\t\t}\n\t}\n\t%RESOURCE\n\t{\n\t\tname = StoredCharge\n\t\tamount = 3.332\n\t\tmaxAmount = 3.332\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = Hg-Zn Battery Upgrade\n\t\t\t\tdescription__ = Improves capacity and expected life\n\t\t\t\tamount = 4.704\n\t\t\t\tmaxAmount = 4.704\n\t\t\t}\n\t\t}\n\t}\n\tMODULE\n\t{\n\t\tname = ModuleResourceConverter\n\t\tConverterName = Battery \n\t\tStartActionName = Connect Battery \n\t\tStopActionName = Disconnect Battery \n\t\tToggleActionName = Toggle Battery \n\t\tFillAmount = 0.95 \n\t\tAutoShutdown = false\n\t\tGeneratesHeat = false\n\t\tUseSpecialistBonus = false\n \n\t\t \n\t\tINPUT_RESOURCE\n\t\t{\n\t\t\tResourceName = StoredCharge\n\t\t\tRatio = .0111\n\t\t\tFlowMode = None\n\t\t}\n\t\tOUTPUT_RESOURCE\n\t\t{\n\t\t\tResourceName = ElectricCharge\n\t\t\tRatio = .0111\n\t\t\tDumpExcess = false\n\t\t}\n\t}\n\t//MODULE\n\t//{\n\t//\tname = ModuleResourceConverter\n\t//\tConverterName = Charger\n\t//\tStartActionName = Allow Charging\n\t//\tStopActionName = Disable Charging\n\t//\tToggleActionName = Toggle Charging\n\t//\tFillAmount = 0.95\n\t//\tAutoShutdown = false\n\t//\tGeneratesHeat = false\n\t//\tUseSpecialistBonus = false \n\t//\tINPUT_RESOURCE\n\t//\t{\n\t//\t\tResourceName = ElectricCharge\n\t//\t\tRatio = .0083\n\t//\t\tFlowMode = None\n\t//\t}\n\t//\tOUTPUT_RESOURCE\n\t//\t{\n\t//\t\tResourceName = StoredCharge\n\t//\t\tRatio = .0083\n\t//\t\tDumpExcess = false\n\t//\t}\n\t//}\n\tMODULE\n\t{\n\t\tname = PartStatsUpgradeModule\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = Hg-Zn Battery Upgrade\n\t\t\t\tdescription__ = Improves capacity and expected life\n\t\t\t\ttechRequired__ = electrics\n\t\t\t\tIsAdditiveUpgrade__ = true\t\t\t\n\t\t\t}\t\t\t\n\t\t}\n\t}\n}\nPARTUPGRADE\n{\n\tname = Hg-Zn Battery Upgrade\n\tpartIcon = batteryPack\n\ttechRequired = electrics\n\tentryCost = 30\n\tcost = 0 // for display only; all parts implementing this will need a PartStatsUpgradeModule with cost = this.\n\t\n\ttitle = Hg-Zn Battery Upgrade\n\tbasicInfo = \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;color\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022atv\u0022\u003Egreen\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003EAdvancements allow for about 41% greater energy density and 20% longer life\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;/color\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\tmanufacturer = Zaltonic Electronics\n\tdescription = Applies to all Mercuric oxide-Zinc batteries.\n}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"wasml","CreatedById":120438,"CreatedDateTime":"2019-07-20T05:33:49Z","Content":"\n\u003Cp\u003E\nAn old \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/150550-new-part-upgrade-module/\u0026amp;ct=1563599428\u0026amp;_fromLogin=1\u0022 rel=\u0022\u0022\u003Epost\u003C/a\u003E by JPLRepo stated \u0022The UPGRADE node is applied to a MODULE node\u0022 - so I take it you can\u0027t change values in a resource section - would like to be wrong - capacity is one thing I would like to upgrade.\n\u003C/p\u003E\n\u003Cp\u003E\nAs far as the BatteryFailureModule - I would have thought that would work. My only suggestion would be to try to get it working on a test part without the \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch.\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\n\u003C/p\u003E\n\u003Cp\u003E\nI found a upgrade in Angel125\u0027s Buffalo mod - in the AuxEN pod - that upgrades the Kerbnet scan mode: (note the full DISPLAY_MODES section is included - not just the change - not sure if that\u0027s because they\u0027re both \u0022Mode\u0022 or if it\u0027s the key to changing something like a resource)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = WBIFlightControl2\n\t\t\t\tdescription__ = Can now scan Biomes; Anomaly Detection: 6%\n\t\t\t\tAnomalyDetection = 0.06\n\t\t\t\tDISPLAY_MODES\n\t\t\t\t{\n\t\t\t\t\tMode = Biome\n\t\t\t\t\tMode = Terrain\n\t\t\t\t}\n\t\t\t}\n\t\t}\t\t\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand thought that maybe something like this might work:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E\tRESOURCE\n\t{\n\t\tname = ElectricCharge\n\t\tamount = 10\n\t\tmaxAmount = 10\n\t}\n\n\tMODULE\n\t{\n\t\tname = PartStatsUpgradeModule\n\t\tUPGRADES\n\t\t{\n\t\t\tUPGRADE\n\t\t\t{\n\t\t\t\tname__ = test\n\t\t\t\tdescription__ = increase EC\n\t\t\t\tRESOURCE\n\t\t\t\t{\n\t\t\t\t\tname = ElectricCharge\n\t\t\t\t\tamount = 15\n\t\t\t\t\tmaxAmount = 15\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nbut have not been able to get it to work - but then changing RESOURCE to mass = doesn\u0027t change anything either so I\u0027m doing something wrong - still holding on to a bit of hope that this might be made to work.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-07-20T19:56:40Z\u0022 title=\u002207/20/2019 07:56  PM\u0022 data-short=\u00224 yr\u0022\u003EJuly 20, 2019\u003C/time\u003E by wasml\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zer0Kerbal","CreatedById":190933,"CreatedDateTime":"2019-07-22T20:38:37Z","Content":"\n\u003Cp\u003E\nif you can find \u0022TykoEnginePartUpgrades.cfg\u0022 - really helpful source for me, just don\u0027t remember where I found them.\n\u003C/p\u003E\n"},{"CreatedByName":"Nnimrod","CreatedById":152586,"CreatedDateTime":"2019-07-24T18:31:38Z","Content":"\n\u003Cp\u003E\nGoogle doesn\u0027t seem to know anything about that either\n\u003C/p\u003E\n"}]}