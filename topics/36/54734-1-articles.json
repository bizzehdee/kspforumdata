{"TopicId":54734,"ForumId":36,"TopicTitle":"[1.2.0] Toolbar 1.7.13 - Common API for draggable/resizable buttons toolbar","CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-29T22:39:58Z","PageNum":1,"Articles":[{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-29T22:39:58Z","Content":"\n\u003Cp\u003E\nHi, there are quite a few plugins now that add various GUI buttons to the game. Right now, every plugin author has to implement button behaviour themselves. Also, there is no consistent button style between different plugins\u0027 buttons.\n\u003C/p\u003E\n\u003Cp\u003E\nI have written a plugin that is targeted towards those plugins. Specifically, it provides an API for third-party plugins to provide GUI buttons to a toolbar. Those buttons then can invoke an arbitrary action specified by the plugin\u0027s author, such as opening a new window. The ultimate goal of this plugin is the separation of specifying a button\u0027s contents (such as text or image) and its action from the actual display style and position of the button. The player should be free to position buttons anywhere they please.\n\u003C/p\u003E\n\u003Cp\u003E\nPlease see this (older) video demonstrating some of the features:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/5yRh8WwYKkY?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EFeature List\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nA draggable and resizable toolbar holds all buttons\n\u003C/li\u003E\n\u003Cli\u003E\nButtons have a texture (icon)\n\u003C/li\u003E\n\u003Cli\u003E\nCustom button order can be maintained\n\u003C/li\u003E\n\u003Cli\u003E\nUnlimited number of toolbars per game scene\n\u003C/li\u003E\n\u003Cli\u003E\nCustom button folders can be created to improve organization\n\u003C/li\u003E\n\u003Cli\u003E\nToolbar position is saved between KSP restarts\n\u003C/li\u003E\n\u003Cli\u003E\nToolbar will auto-clamp to screen area so that it cannot be dragged off-screen\n\u003C/li\u003E\n\u003Cli\u003E\nToolbar may auto-hide itself if positioned at screen edge\n\u003C/li\u003E\n\u003Cli\u003E\nClicking a button invokes an arbitrary action specified by plugin author\n\u003C/li\u003E\n\u003Cli\u003E\nEvery button looks the same, no need for plugin author to provide any styles\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EResources\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003E\u003Cspan style=\u0022font-size:16px;\u0022\u003E\u003Ca href=\u0022https://www.blizzy.de/toolbar/download.html\u0022 rel=\u0022external nofollow\u0022\u003EDownload Toolbar Plugin 1.7.13\u003C/a\u003E\u003C/span\u003E\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick\u0026amp;hosted_button_id=PCRP5Y2MUS62A\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022btn_donate_LG.gif\u0022 src=\u0022https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022http://bit.ly/1dwimeT\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg alt=\u0022flattr-badge-large.png\u0022 src=\u0022http://blizzy.de/flattr-badge-large.png\u0022\u003E\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nSource code: \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blizzy78/ksp_toolbar\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n(The Toolbar Plugin is licensed under the \u003Ca href=\u0022http://opensource.org/licenses/BSD-2-Clause\u0022 rel=\u0022external nofollow\u0022\u003EBSD 2-clause license\u003C/a\u003E.)\n\u003C/p\u003E\n\u003Cp\u003E\nClasses relevant to plugin authors:\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Toolbar/API/ToolbarManager.cs\u0022 rel=\u0022external nofollow\u0022\u003EToolbarManager\u003C/a\u003E (ToolbarManager.Instance field only)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Toolbar/API/IToolbarManager.cs\u0022 rel=\u0022external nofollow\u0022\u003EIToolbarManager\u003C/a\u003E (interface to the toolbar manager)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Toolbar/API/IButton.cs\u0022 rel=\u0022external nofollow\u0022\u003EIButton\u003C/a\u003E (interface to a button once created by the toolbar manager)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Toolbar/API/IVisibility.cs\u0022 rel=\u0022external nofollow\u0022\u003EIVisibility\u003C/a\u003E (fine-grained control over button visibility)\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Toolbar/API/GameScenesVisibility.cs\u0022 rel=\u0022external nofollow\u0022\u003EGameScenesVisibility\u003C/a\u003E (button visibility controlled by current game scene)\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nFull example code: \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs\u003C/a\u003E (This is placed into the public domain for obvious reasons.)\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EHow to Integrate Into Your Plugin\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThere are two ways to add Toolbar Plugin support to your plugin:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003ECreate a hard dependency on the Toolbar Plugin and bundle it with your download\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\nDownload the pre-compiled archive linked above.\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the folder GameData\\000_Toolbar\\ into your KSP installation that you use for development.\n\u003C/li\u003E\n\u003Cli\u003E\nMake sure your project is targetting .NET 3.5.\n\u003C/li\u003E\n\u003Cli\u003E\nAdd a dependency on Toolbar.dll to your project.\n\u003C/li\u003E\n\u003Cli\u003E\nUse the Toolbar Plugin\u0027s API (\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs\u0022 rel=\u0022external nofollow\u0022\u003Eexample code\u003C/a\u003E).\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EHeads-up:\u003C/strong\u003E Make sure to call IButton.Destroy() when your plugin is unloaded. If you don\u0027t do this, your buttons will stay around while your plugin is long gone.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen publishing your plugin, be sure to include the folder 000_Toolbar\\ in your download\u0027s GameData\\ folder.\n\u003Cul\u003E\u003Cli\u003E\n\u003Cstrong\u003EDo not modify anything in the 000_Toolbar\\ folder. Do not rename this folder.\u003C/strong\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cem\u003EUse the Toolbar Plugin wrapper to provide optional Toolbar Plugin support\u003C/em\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003E\nDownload the pre-compiled archive linked above.\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the folder GameData\\000_Toolbar\\ into your KSP installation that you use for development.\n\u003C/li\u003E\n\u003Cli\u003E\nMake sure your project is targetting .NET 3.5.\n\u003C/li\u003E\n\u003Cli\u003E\nDO NOT add a dependency on Toolbar.dll to your project.\n\u003C/li\u003E\n\u003Cli\u003E\nCopy the \u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/Wrapper/ToolbarWrapper.cs\u0022 rel=\u0022external nofollow\u0022\u003EToolbarWrapper.cs\u003C/a\u003E file into your project.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EEdit the namespace in ToolbarWrapper.cs to match your plugin\u0027s namespace.\u003C/strong\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nUse the Toolbar Plugin\u0027s API (\u003Ca href=\u0022https://github.com/blizzy78/ksp_toolbar/blob/master/TestButtons/TestButtons.cs\u0022 rel=\u0022external nofollow\u0022\u003Eexample code\u003C/a\u003E).\n\u003Cul\u003E\u003Cli\u003E\nYou can use ToolbarManager.ToolbarAvailable to check if the Toolbar Plugin is actually available. \u003Cstrong\u003ENote that you must not call any other Toolbar Plugin API methods if this returns false.\u003C/strong\u003E\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EHeads-up:\u003C/strong\u003E Make sure to call IButton.Destroy() when your plugin is unloaded. If you don\u0027t do this, your buttons will stay around while your plugin is long gone.\n\u003C/li\u003E\n\u003Cli\u003E\nWhen publishing your plugin, you can optionally include the folder 000_Toolbar\\ in your download\u0027s GameData\\ folder.\n\u003C/li\u003E\n\u003Cli\u003E\n\u003Cstrong\u003EDo not modify anything in the 000_Toolbar\\ folder. Do not rename this folder.\u003C/strong\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cstrong\u003EChange Log\u003C/strong\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nPlease see the \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/index.php?/topic/55420-112-toolbar-1712-common-api-for-draggableresizable-buttons-toolbar/\u0022 rel=\u0022\u0022\u003Eaddon release thread\u003C/a\u003E for a list of changes.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222016-10-15T14:30:07Z\u0022 title=\u002210/15/2016 02:30  PM\u0022 data-short=\u00227 yr\u0022\u003EOctober 15, 2016\u003C/time\u003E by blizzy78\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"ferram4","CreatedById":21328,"CreatedDateTime":"2013-11-29T22:49:47Z","Content":"\n\u003Cp\u003ESure, I\u0027d be up for using this; I\u0027ve been thinking about rewriting FAR\u0027s GUI thingy anyway.\u003C/p\u003E\u003Cp\u003EWould it be possible to have a version of this that would work in the SPH \u002B VAB as well?\u003C/p\u003E\u003Cp\u003EI gather the best way for us to interface with it would be to include the dll as a reference in the project and work from there, correct?\u003C/p\u003E\u003Cp\u003EI assume that you\u0027d plan for distribution to be handled like ModuleManager, where every plugin using it includes it in the GameData folder, with the most recent version available in your release thread, correct?\u003C/p\u003E\u003Cp\u003EIt looks good; count me in!\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-29T23:07:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EWould it be possible to have a version of this that would work in the SPH \u002B VAB as well?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes. For now I have only concentrated on making things work. There is no support yet to control in which scenes your buttons are visible.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EI gather the best way for us to interface with it would be to include the dll as a reference in the project and work from there, correct?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYes.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EI assume that you\u0027d plan for distribution to be handled like ModuleManager, where every plugin using it includes it in the GameData folder, with the most recent version available in your release thread, correct?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat I haven\u0027t decided yet.\u003C/p\u003E\n"},{"CreatedByName":"XanderTek","CreatedById":92553,"CreatedDateTime":"2013-11-29T23:28:36Z","Content":"\n\u003Cp\u003EGreat idea! I think it would be even better if it allowed for all the buttons to be grouped into a single toolbar so that they could all be moved/hidden together. I often find myself with a number of mod buttons on the screen, and rearranging them all individually can be a pain.\u003C/p\u003E\n"},{"CreatedByName":"diomedea","CreatedById":93700,"CreatedDateTime":"2013-11-29T23:45:17Z","Content":"\n\u003Cp\u003EAt last someone who took the task for this absolutely needed plugin. Hope it will be a resounding success and set a standard for every mod.\u003C/p\u003E\u003Cp\u003EIf I may add some to your list of mods using buttons or tabs:\u003C/p\u003E\u003Cp\u003E- VOID (VAB/SPH and Flight, button)\u003C/p\u003E\u003Cp\u003E- ISA MapSat (Flight, button)\u003C/p\u003E\u003Cp\u003E- SCANSAT (Flight, large button)\u003C/p\u003E\u003Cp\u003E- Haystack (Flight, tab)\u003C/p\u003E\u003Cp\u003E- Chatterer (Flight, button)\u003C/p\u003E\u003Cp\u003E- MultipleSaves (Flight, rectangular button)\u003C/p\u003E\u003Cp\u003EPlease, allow the user to decide where to place the stack of buttons, to configure the relative position of each button/tab, to close or put the stack out of view.\u003C/p\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2013-11-29T23:50:46Z","Content":"\n\u003Cp\u003EI would love to use it for the Infernal Robotics gui. That way one small icon could hide/show the UI.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2013-11-30T00:29:47Z","Content":"\n\u003Cp\u003EOh hells yes! Please!\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-30T17:24:55Z","Content":"\n\u003Cp\u003EI have updated the OP to include links to full source code (having inline documentation), links to classes relevant to plugin authors, and a link to a fully compiled test installation that you can simply drop into your KSP installation to test the plugin. You can also use that DLL to compile against it.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#FF0000;\u0022\u003E\u003Cstrong\u003EPlease note that although all of that is available now, this plugin is not yet ready for distribution to players (aside from testing.) Please DO NOT include the DLL into your plugin\u0027s download.\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-30T18:17:26Z","Content":"\n\u003Cp\u003EOh my god!! This is exactly the thing I suggested some time ago! I intended this to be my second plugin project =)\u003C/p\u003E\u003Cp\u003EYou don\u0027t need a list of mods to have this capability. EVERY MOD needs this cause almost every mod has a gui that needs to be hidden\u003C/p\u003E\u003Cp\u003E(my thread suggestion was deleted I guess, I can\u0027t find the trace of it)\u003C/p\u003E\u003Cp\u003Ealso could you make the standard gui style to be of KSP and not stock Unity one? It\u0027s better to have it match the rest of the HUD, it would also match the Kerbal map info buttons already existing in KSP\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T18:27:23Z\u0022 title=\u002211/30/2013 06:27  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by nothke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-30T18:26:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003Ealso could you make the standard gui style to be of KSP and not stock Unity one? It\u0027s better to have it match the rest of the HUD\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EActually, I personally like the default Unity style more. But I don\u0027t see a problem to let the player decide which style they want.\u003C/p\u003E\n"},{"CreatedByName":"nothke","CreatedById":51185,"CreatedDateTime":"2013-11-30T18:29:48Z","Content":"\n\u003Cp\u003EI found just images of my suggestion, something I called \u0022slotgird\u0022:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/P5jOmDa.png\u0022 alt=\u0022P5jOmDa.png\u0022\u003E\u003C/p\u003E\u003Cp\u003Ein the space center scene you could arrange the slotgrid:\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/mQINJ3u.png\u0022 alt=\u0022mQINJ3u.png\u0022\u003E\u003C/p\u003E\u003Cp\u003EInstead of this bringing interest into someone who knows how to write plugins to ACTUALLY make it, the thread turned into a discussion about \u0022would modders use it or not, should you push this to devs to implement it or not, the modders won\u0027t even see it.. blah blah..\u0022\u003C/p\u003E\u003Cp\u003EYour version is better because it doesn\u0027t bind to the grid, but everyone can position where they want. I would also add different gui action capability so they change color such as \u0022on active\u0022 \u0022on warning\u0022.. and so on, but I guess modders can already do this no?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-11-30T18:36:56Z\u0022 title=\u002211/30/2013 06:36  PM\u0022 data-short=\u002210 yr\u0022\u003ENovember 30, 2013\u003C/time\u003E by nothke\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-30T19:19:31Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003EI would also add different gui action capability so they change color such as \u0022on active\u0022 \u0022on warning\u0022.. and so on, but I guess modders can already do this no?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAt this time, a button\u0027s text, icon, and text color (if there is text) can be changed at any time. So this allows a plugin author to change button appearance.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-30T19:21:07Z","Content":"\n\u003Cp\u003EI may have forgotten to tell everyone how to move buttons around, so here goes:\u003C/p\u003E\u003Cp\u003EAt the start of the plugin, every new button that hasn\u0027t been positioned by the player is auto-positioned on the screen. Also, every button is locked into position. To unlock a button, simply right-click it. You can then move it around freely. While unlocked, the button cannot be clicked in the regular way. To lock button position again, right-click a second time.\u003C/p\u003E\n"},{"CreatedByName":"TaranisElsu","CreatedById":57742,"CreatedDateTime":"2013-11-30T20:28:04Z","Content":"\n\u003Cp\u003EI had made a simpler version of this: \u003Ca href=\u0022https://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/taraniselsu/TacLib/blob/master/Source/Icon.cs\u003C/a\u003E, which has been available for others to use -- and a couple modders have asked to.\u003C/p\u003E\u003Cp\u003EYours looks good, but it is much more complex.\u003C/p\u003E\u003Cp\u003EI like the idea of a toolbar like nothke\u0027s suggestion:\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022nothke\u0022 data-cite=\u0022nothke\u0022\u003E\u003Cdiv\u003E\u003Cimg src=\u0022http://i.imgur.com/P5jOmDa.png\u0022 alt=\u0022P5jOmDa.png\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ebut I want it to function such that I can put a bunch of icons on it and then show/hide it with one click. And it collapses down to a single icon. That way my screen is not all cluttered with the icons everywhere but I still have easy access to them all.\u003C/p\u003E\u003Cp\u003EI know that you are planning on it, but I wanted to reiterate that it is very important that you allow us to control in which scene(s) the icons show. My mods show things in Flight, the Space Center, or the VAB/SPH. Others\u0027 mods show in the Tracking Station.\u003C/p\u003E\u003Cp\u003EP.S. I do not like the idea of only rearranging them in the Space Center scene. I would like to arrange them in the Flight scene, and the Space Center scene is getting enough icons of its own so I do not want the flight ones to show there also.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-11-30T20:36:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003EI know that you are planning on it, but I wanted to reiterate that it is very important that you allow us to control in which scene(s) the icons show. My mods show things in Flight, the Space Center, or the VAB/SPH. Others\u0027 mods show in the Tracking Station.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEvery button has a Visible property to control whether it is currently visible or not. You could simply check which scene the game currently is in, then set the Visible property accordingly.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-11-30T21:49:03Z","Content":"\n\u003Cp\u003ESeeing as how you\u0027re apparently quite aware that your plugin needs to be loaded first before any other plugin that links to it can access it, here\u0027s a couple of thoughts:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Col style=\u0022list-style-type:decimal;\u0022\u003E\u003Cli\u003EI think the alphabetical order takes GameData directories into account as well, i.e. DirectoryA/aaa_plugin.dll will be there before DirectoryB/aaa_plugin.dll.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003ENames that start with 0 will be loaded even earlier than that, so you might as well put it in GameData\\0_blizzy\\0_Toolbar.dll. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-01T01:51:00Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022ferram4\u0022 data-cite=\u0022ferram4\u0022\u003E\u003Cdiv\u003EI assume that you\u0027d plan for distribution to be handled like ModuleManager, where every plugin using it includes it in the GameData folder, with the most recent version available in your release thread, correct?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EA follow-up on this aspect: As I understood ModuleManager\u0027s code, every instance of it looks at all assemblies that have been loaded. If it finds one that is ModuleManager, and is a \u003Cstrong\u003Enewer\u003C/strong\u003E version, it would disable itself and leave the hard work to that newer version.\u003C/p\u003E\u003Cp\u003EThis approach works fine for ModuleManager, because it does all by itself. In the Toolbar Plugin, things are a little different: Third-party plugins would invoke a method to add new buttons, and register with an \u0022on click\u0022 event handler for those buttons. I haven\u0027t tested anything yet, but I think the ModuleManager approach will be rather difficult here.\u003C/p\u003E\u003Cp\u003EOf course, not all is lost. The simplest approach would be to \u003Cstrong\u003Enot\u003C/strong\u003E include the Toolbar Plugin DLL into third-party plugins\u0027 downloads, but to require the separate installation of the Toolbar Plugin by the player. Of course, that puts the burden on the player, which I see as a barrier to entry for third-party plugin authors here.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EI think the alphabetical order takes GameData directories into account as well, i.e. DirectoryA/aaa_plugin.dll will be there before DirectoryB/aaa_plugin.dll.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGood point, I\u0027ll have to test that. Here\u0027s to hoping the plugin loader will ever be fixed.\u003C/p\u003E\n"},{"CreatedByName":"johnsonwax","CreatedById":79077,"CreatedDateTime":"2013-12-01T06:22:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TaranisElsu\u0022 data-cite=\u0022TaranisElsu\u0022\u003E\u003Cdiv\u003E\u003Cp\u003Ebut I want it to function such that I can put a bunch of icons on it and then show/hide it with one click. \u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHow about a setting for autohide? Just mouseover the area and it appears. Default to always show.\u003C/p\u003E\n"},{"CreatedByName":"SirJodelstein","CreatedById":62251,"CreatedDateTime":"2013-12-01T11:22:19Z","Content":"\n\u003Cp\u003EVery interested in this. Will definitely use this (whatever you come up with in the release) for the the Persistent Trails plugin.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-01T14:55:23Z","Content":"\n\u003Cp\u003EAnother followup on the issue of how to deal with the dependency on the Toolbar Plugin:\u003C/p\u003E\u003Cp\u003EWithout going into any of the complicated details here (many thanks to Majiir for tossing lots of ideas at me), I think I will be going for the following approach:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cem\u003EThird-party plugin authors can grab a copy of the Toolbar.dll, reference that in their project as usual and compile against it.\u003C/em\u003E\u003Cbr\u003EThat of course will create a hard dependency on the plugin.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003EIn the third-party plugin\u0027s download, the Toolbar.dll must be included.\u003C/em\u003E\u003Cbr\u003EThis ensures that the hard dependency can be resolved, and there will be no need to have some sort of \u0022fallback\u0022 because the DLL is always available.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cem\u003EIn the third-party plugin\u0027s download, the Toolbar.dll must be located under the path GameData\\000_Toolbar\\Toolbar.dll\u003C/em\u003E\u003Cbr\u003EThis serves two purposes:\u003Cbr\u003E1) The path starting with \u0022000_\u0022 ensures that the Toolbar.dll will be loaded as early as possible, so that dependent plugins will not fail to load.\u003Cbr\u003E2) Using always the same path to install the Toolbar.dll in players\u0027 installations, this prevents all sorts of complicated problems when there is more than one copy of the DLL.\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EI will be working hard to ensure that the API will be upwards-compatible, so that a third-party plugin compiled against an older version of the Toolbar Plugin will work fine with a newer version of the plugin.\u003C/p\u003E\n"},{"CreatedByName":"Majiir","CreatedById":7550,"CreatedDateTime":"2013-12-01T15:05:26Z","Content":"\n\u003Cp\u003EIt\u0027s worth noting that Mu has fixed the assembly loader for KSP 0.23 so alphanumeric ordering will no longer be needed for dependencies.\u003C/p\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-01T15:08:03Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EIt\u0027s worth noting that Mu has fixed the assembly loader for KSP 0.23 so alphanumeric ordering will no longer be needed for dependencies.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ERight, you were pointing that out to me on IRC. Depending on release dates, I should be changing the required path to remove \u0022000_\u0022.\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T17:12:21Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003ERight, you were pointing that out to me on IRC. Depending on release dates, I should be changing the required path to remove \u0022000_\u0022.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s no harm keeping it even then, if you ask me, that makes it stand out and grab attention. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Majiir\u0022 data-cite=\u0022Majiir\u0022\u003E\u003Cdiv\u003EIt\u0027s worth noting that Mu has fixed the assembly loader for KSP 0.23 so alphanumeric ordering will no longer be needed for dependencies.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOh, and speaking of that. Will unresolved dependencies stop breaking the game as well?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-12-01T17:16:48Z\u0022 title=\u002212/01/2013 05:16  PM\u0022 data-short=\u002210 yr\u0022\u003EDecember 1, 2013\u003C/time\u003E by Mihara\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blizzy78","CreatedById":68543,"CreatedDateTime":"2013-12-01T17:15:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Mihara\u0022 data-cite=\u0022Mihara\u0022\u003E\u003Cdiv\u003EThere\u0027s no harm keeping it even then, if you ask me, that makes it stand out and grab attention. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not after attention, I just want this to work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Mihara","CreatedById":59752,"CreatedDateTime":"2013-12-01T17:17:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022blizzy78\u0022 data-cite=\u0022blizzy78\u0022\u003E\u003Cdiv\u003EI\u0027m not after attention, I just want this to work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EGrabbing attention is important if you want it installed correctly, which will contribute to keeping it working. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"}]}