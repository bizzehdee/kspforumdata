{"TopicId":88443,"ForumId":36,"TopicTitle":"[Monodevelop][*nix] I found a way to make building way more effiecient!","CreatedByName":"peachoftree","CreatedById":110108,"CreatedDateTime":"2014-10-25T04:36:45Z","PageNum":1,"Articles":[{"CreatedByName":"peachoftree","CreatedById":110108,"CreatedDateTime":"2014-10-25T04:36:45Z","Content":"\n\u003Cp\u003E(warning common knowledge may follow)\u003C/p\u003E\u003Cp\u003EWILL NOT WORK IN WINDOWS\u003C/p\u003E\u003Cp\u003EDo you hate having to copy paste your mods .dll into GameData every single time you go to test a mod? Then you need my simple solution to do it for you at compile time!\u003C/p\u003E\u003Cp\u003Estep s. make a script that looks something like this \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E#!/bin/bash\u003Cbr\u003E\u003Cbr\u003Ecp dll_location/my_mod.dll ksp_folder/gameData/my_mod\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Ereplacing .dll_location with the folder where your dll is stored after build and my_mod with the name of your mod\u003C/p\u003E\u003Cp\u003Estep 2. make the script executable by going into your terminal application and entering\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E$ sudo chmod \u002Bx my_script_location/my_script\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Estep 3. go into monodevelop and open Project\u0026gt;my_project Options\u0026gt;Build\u0026gt;Custom commands\u003C/p\u003E\u003Cp\u003Estep 4. Select \u0022After Clean\u0022 from the drop down menu.\u003C/p\u003E\u003Cp\u003Estep 5. in the command field navigate to the location of your script and select it\u003C/p\u003E\u003Cp\u003Estep 6. in working directory write ${HOME} (assumes that the paths you put in the script are relative to your home directory)\u003C/p\u003E\u003Cp\u003Estep 7. profit! (whenever you select build, your dll should be automatically copied into GameData) WILL OVERWRITE OLD VERSIONS IN GAMEDATA.\u003C/p\u003E\n"},{"CreatedByName":"philotical","CreatedById":109390,"CreatedDateTime":"2014-10-25T06:23:50Z","Content":"\n\u003Cp\u003Eyou can do in windows the same with a simple bat file..\u003C/p\u003E\u003Cp\u003Ebut I prefere the \u0022official\u0022 methode..\u003C/p\u003E\u003Cp\u003Ein Visual Studio, open the project settings, and change the export folder to your gamedata..\u003C/p\u003E\u003Cp\u003Eopen \u0022advanced\u0022 and select for reporting \u0022none\u0022..\u003C/p\u003E\u003Cp\u003Eadditionally you would want to set the \u0022copy local\u0022 setting for all linked references to false..\u003C/p\u003E\u003Cp\u003Edone..\u003C/p\u003E\n"},{"CreatedByName":"landeTLS","CreatedById":97925,"CreatedDateTime":"2014-10-25T10:07:02Z","Content":"\n\u003Cp\u003Eand here is mine(a bit too hardcoded for my taste but bat really isnt a good language to write any more convinient code in)\u003C/p\u003E\u003Cp\u003Ein this example plugin output folder must contain a folder named the same as subdir name with all the folders/files needed for the plugin. you may turn off copylocal on all non needed references/etc. and debug output.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E@echo off\u003Cbr\u003E\u003Cbr\u003Esetlocal ENABLEDELAYEDEXPANSION\u003Cbr\u003E\u003Cbr\u003Eset MODELS_SOURCE=Z:/Unity/OrionPlugin/Assets/MUs\u003Cbr\u003Eset PLUGIN_SOURCE=Z:/Unity/OrionPlugin/Testfolder/ModulePulsePropulsionEngine/Output\u003Cbr\u003Eset KSPDIR=C:/Users/Acer/Desktop/KerbalSpaceProgram32/\u003Cbr\u003E\u003Cbr\u003Eset SUBDIR_NAME=YOUR_MOD_NAME\u003Cbr\u003Eset DESTINATION=%KSPDIR%GameData\u003Cbr\u003E\u003Cbr\u003EECHO dest=%KSPDIR%GameData/\u003Cbr\u003EECHO var=%DESTINATION%\u003Cbr\u003E\u003Cbr\u003Excopy \u0022%MODELS_SOURCE%\u0022 \u0022%PLUGIN_SOURCE%/%SUBDIR_NAME%\u0022 /D /E /C /R /I /K /Y\u003Cbr\u003Excopy \u0022%PLUGIN_SOURCE%\u0022 \u0022%DESTINATION%\u0022 /D /E /C /R /I /K /Y\u003Cbr\u003E\u003Cbr\u003Ecall %KSPDIR%KSP.exe\u003Cbr\u003E::pause\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThis one will only work in windows\u003C/p\u003E\u003Cp\u003EHas an added benefit of dropping the ksp.log of the session to the script folder. Should also be runnable from inside visualstudio as a post build event. Tho i like to be able to do both updating and running at the same time. And therefore its more convinient to put it in a bat.\u003C/p\u003E\u003Cp\u003Etho as im saying this i realise i could use a pause statement before the ksp.exe call. So i can use it as a build event (*facepalm) and not have it run ksp every time\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-10-25T20:11:08Z\u0022 title=\u002210/25/2014 08:11  PM\u0022 data-short=\u00229 yr\u0022\u003EOctober 25, 2014\u003C/time\u003E by landeTLS\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"sirkut","CreatedById":57229,"CreatedDateTime":"2014-10-25T12:29:07Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022philotical\u0022 data-cite=\u0022philotical\u0022\u003E\u003Cdiv\u003Eyou can do in windows the same with a simple bat file..\u003Cp\u003Ebut I prefere the \u0022official\u0022 methode..\u003C/p\u003E\u003Cp\u003Ein Visual Studio, open the project settings, and change the export folder to your gamedata..\u003C/p\u003E\u003Cp\u003Eopen \u0022advanced\u0022 and select for reporting \u0022none\u0022..\u003C/p\u003E\u003Cp\u003Eadditionally you would want to set the \u0022copy local\u0022 setting for all linked references to false..\u003C/p\u003E\u003Cp\u003Edone..\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI use the visual studio post build event and enter this line:\u003C/p\u003E\u003Cp\u003E \u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ecopy $(TargetFileName) C:\\kerbal\\KSP_winDEV\\GameData\\MagicSmokeIndustries\\Plugins\\$(TargetFileName)\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n"},{"CreatedByName":"lo-fi","CreatedById":111099,"CreatedDateTime":"2014-10-26T01:03:35Z","Content":"\n\u003Cp\u003EI also use VS with a post build event that fires a batch file that runs robocopy or xcopy to copy source and the .dll into my ksp development install. Sirkut\u0027s dev helper plugin which loads a specific save and scene when you start KSP is also a massive time saver!\u003C/p\u003E\n"},{"CreatedByName":"peachoftree","CreatedById":110108,"CreatedDateTime":"2014-10-28T19:50:33Z","Content":"\n\u003Cp\u003Eafter seeing all those .bat files I am reminded why bash and sh are so, so great \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E Linux is where its at!\u003C/p\u003E\n"}]}