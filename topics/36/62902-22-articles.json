{"TopicId":62902,"ForumId":36,"TopicTitle":"[1.8.x to 1.12.x] kRPC: Remote Procedure Call Server (v0.5.1, 2nd March 2023)","CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2014-02-11T20:00:32Z","PageNum":22,"Articles":[{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-01T09:58:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223184118\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506849960\u0022 data-ipsquote-userid=\u002298897\u0022 data-ipsquote-username=\u0022sashan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n28 minutes ago, sashan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHello, how do I detect if server has disconnected a Python client? I kill connection from the game when something starts going wrong but then I have Python processes hanged on my PC.\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI don\u0027t think the python program will exit unless it attempts to use the connection, at which point it should get an raise an OSError (I think... not able to test it right now)\n\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2017-10-01T17:45:30Z","Content":"\n\u003Cp\u003E\nI know it won\u0027t. I need a way to track connection and terminate the program when the server breaks it. Well, it can be done by tracking errors but IMO there should be easier and cleaner way.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, a question. Can I get KSP\u0027s internal time with microsecond accuracy somehow? Running PIDs off computer\u0027s time is wrong since should the game slow down PID gains would all be wrong\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"BaryonicMan","CreatedById":99615,"CreatedDateTime":"2017-10-01T19:11:48Z","Content":"\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E for answering my previous questions. I indeed wanted to deploy landing legs and thanks to your help this now works. I also got the air brakes working. I\u0027m getting closer to a crude self landing rocket.\n\u003C/p\u003E\n\u003Cp\u003E\nI have to ask one more question, because I just don\u0027t get reference frames. I want to get the speed of my rocket stage and I get zero\u0027s on vessel.flight().speed, velocity and such. I understand I need to use a reference frame, but I\u0027m not sure how to apply that. I\u0027ve tried this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eprint str(vessel.flight().speed(Vessel.surface_reference_frame))\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Evessel.flight().surface_reference_frame = True\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eprint str(vessel.flight().speed)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut that all doesn\u0027t work or gives errors.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I need a hint to go further.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-01T21:02:00Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223184392\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506879930\u0022 data-ipsquote-userid=\u002298897\u0022 data-ipsquote-username=\u0022sashan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, sashan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI know it won\u0027t. I need a way to track connection and terminate the program when the server breaks it. Well, it can be done by tracking errors but IMO there should be easier and cleaner way.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027ll look into it and get back to you!\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, sashan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nAlso, a question. Can I get KSP\u0027s internal time with microsecond accuracy somehow? Running PIDs off computer\u0027s time is wrong since should the game slow down PID gains would all be wrong\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nspacecenter.ut gives the current universal time (which KSP\u0027s notion of a global absolute time) in seconds with floating point accuracy. Is that sufficient?\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/python/api/space-center/space-center.html#SpaceCenter.ut\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/python/api/space-center/space-center.html#SpaceCenter.ut\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223184463\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506885108\u0022 data-ipsquote-userid=\u002299615\u0022 data-ipsquote-username=\u0022BaryonicMan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, BaryonicMan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThanks \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E for answering my previous questions. I indeed wanted to deploy landing legs and thanks to your help this now works. I also got the air brakes working. I\u0027m getting closer to a crude self landing rocket.\n\u003C/p\u003E\n\u003Cp\u003E\nI have to ask one more question, because I just don\u0027t get reference frames. I want to get the speed of my rocket stage and I get zero\u0027s on vessel.flight().speed, velocity and such. I understand I need to use a reference frame, but I\u0027m not sure how to apply that. I\u0027ve tried this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eprint str(vessel.flight().speed(Vessel.surface_reference_frame))\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nand this:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Evessel.flight().surface_reference_frame = True\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan style=\u0022font-family:\u0027Courier New\u0027, Courier, monospace;\u0022\u003Eprint str(vessel.flight().speed)\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nBut that all doesn\u0027t work or gives errors.\n\u003C/p\u003E\n\u003Cp\u003E\nI think I need a hint to go further.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nGlad you got the legs working \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nThere are some examples in the tutorials of how to get the speed of a\u00A0vessel either relative to the orbit or to the surface (equivalent to the values shown on the navball in game):\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/reference-frames.html#vessel-speed\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/tutorials/reference-frames.html#vessel-speed\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nThat page is worth a read as it should explain the concepts behind reference frames. Let me know if that helps!\n\u003C/p\u003E\n"},{"CreatedByName":"BaryonicMan","CreatedById":99615,"CreatedDateTime":"2017-10-01T22:02:42Z","Content":"\n\u003Cp\u003E\nThanks again \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E. As you can see, I\u0027m at least very close to an ocean landing.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/elnqQ4bNdHI?feature=oembed\u0022 width=\u0022459\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"artwhaley","CreatedById":118388,"CreatedDateTime":"2017-10-02T00:30:32Z","Content":"\n\u003Cp\u003E\nHey, I saw some of SpaceX\u0027s look rougher than that!\u00A0 \u00A0You didn\u0027t have a fireball that obliterated the camera filming it like they did one time I was watching!\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know if it helps with your approach at all, but in the library at\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc-library/tree/master/Art_Whaleys_KRPC_Demos\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc-library/tree/master/Art_Whaleys_KRPC_Demos\u003C/a\u003E\u00A0my landing script has a python port of the mechjeb suicide burn algorithm (with a couple of changes.\u00A0 I think I do a better job of clearing terrain obstacles because I test them along the descent path, not just at the projected landing site...\u00A0 and I make my calculations and fly my landings assuming 95% of max thrust, but with the loop testing if we\u0027re ever over speed and boosting to full power when necessary, for an extra safety factor.)\u00A0 \u00A0It works pretty reliably for automated landings on the mun, but that\u0027s the only test case I\u0027d done with it.\u00A0 \u00A0It doesn\u0027t consider atmospheres at all, but still could be useful to you in that final landing burn phase.\n\u003C/p\u003E\n\u003Cp\u003E\nIt looks like you\u0027re chasing the retrograde bug there at the end, and an over correction takes you too far from vertical?\u00A0 \u00A0Perhaps a final phase is in order where if\u00A0the horizontal speed is less than some threshhold, it simply locks vertical instead of trying to chase down those last few meters per second and landing on it\u0027s side?\n\u003C/p\u003E\n\u003Cp\u003E\nGood idea on passing\u00A0spacecenter.ut to the pid instead of just time.now() which IS totally what I\u0027ve been using in my PID loops!\u00A0 I\u0027ll look at rewriting it this way so it adjusts for lag!\u00A0\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"BaryonicMan","CreatedById":99615,"CreatedDateTime":"2017-10-02T10:25:46Z","Content":"\n\u003Cp\u003E\nI was laughing out loud when it went of as a boat. Never occurred to me in KSP before.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223184676\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506904232\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know if it helps with your approach at all, but in the library at\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc-library/tree/master/Art_Whaleys_KRPC_Demos\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc-library/tree/master/Art_Whaleys_KRPC_Demos\u003C/a\u003E\u00A0my landing script has a python port of the mechjeb suicide burn algorithm (with a couple of changes.\u00A0 I think I do a better job of clearing terrain obstacles because I test them along the descent path, not just at the projected landing site...\u00A0 and I make my calculations and fly my landings assuming 95% of max thrust, but with the loop testing if we\u0027re ever over speed and boosting to full power when necessary, for an extra safety factor.)\u00A0 \u00A0It works pretty reliably for automated landings on the mun, but that\u0027s the only test case I\u0027d done with it.\u00A0 \u00A0It doesn\u0027t consider atmospheres at all, but still could be useful to you in that final landing burn phase.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI have come across your github library yesterday, but I wanted to try to program this myself first. I\u0027ll have a look at it now. Your code looks a lot neater than mine \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223184676\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221506904232\u0022 data-ipsquote-userid=\u0022118388\u0022 data-ipsquote-username=\u0022artwhaley\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n9 hours ago, artwhaley said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIt looks like you\u0027re chasing the retrograde bug there at the end, and an over correction takes you too far from vertical?\u00A0 \u00A0Perhaps a final phase is in order where if\u00A0the horizontal speed is less than some threshhold, it simply locks vertical instead of trying to chase down those last few meters per second and landing on it\u0027s side?\n\u003C/p\u003E\n\u003Cp\u003E\nGood idea on passing\u00A0spacecenter.ut to the pid instead of just time.now() which IS totally what I\u0027ve been using in my PID loops!\u00A0 I\u0027ll look at rewriting it this way so it adjusts for lag!\u00A0\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nYes, I\u0027ve seen the same behaviour in previous attempts. I might turn off retrograde and tell it just to pitch up 0% for the last meters.\n\u003C/p\u003E\n\u003Cp\u003E\nThere\u0027s still a lot to be done, before I get my rockets nicely land on that island east of the \u003Cabbr title=\u0022Kerbal Space Center\u0022\u003EKSC\u003C/abbr\u003E. But step by step I get further.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2017-10-02T18:50:17Z","Content":"\n\u003Cp\u003E\nI have written a PID\u00A0loop class in Python. It works well for holding altitude, still need to test it with attitude control.\n\u003C/p\u003E\n\u003Cp\u003E\nHere it is, with the full program for simple simulation of Grasshopper test. Attitude control is manual. Just build a rocket that can hover, has landing legs and \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E. Put it on the pad, launch script. It will ascend slowly\u00A0for 10 seconds, then hover, then descend. Manually kill the script after landing. If the rocket pointed roughly up it should do fine, otherwise do some small adjustments.\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint\u0022\u003E\nimport krpc\nimport math\nimport time\n\nclass PIDregulator:\n    def __init__(self,kp,ki,kd,minout,maxout,target,state,nowtime,prevtime=0,prevstate=0,midpoint=0):\n        self.kp = kp\n        self.ki = ki\n        self.kd = kd\n        self.target = target #target setpoint\n        self.state = state #current state\n        self.minout = minout #minimal needed output\n        self.maxout = maxout #maximal needed output\n        self.nowtime = nowtime #current time, time.time() works when KSP is running at close to realtime\n        self.prevtime = prevtime\n        self.prevstate = prevstate\n        self.midpoint = midpoint #optional: expected set point, e.g. 1/\u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E for throttle control\n        self.I_term = 0\n        self.preverror = 0\n        self.prevtarget = 0\n        self.prevtime = nowtime\n\n    def __enter__(self):\n        return self\n\n    def update(self,state,target,nowtime,midpoint=0):\n        self.state = state\n        self.target = target\n        self.nowtime = nowtime\n        self.error = (self.target - self.state)\n        self.dt=(self.nowtime - self.prevtime)\n        self.midpoint = midpoint\n        # PID regulator\n        self.P_term = self.error*self.kp\n\n        self.I_term = self.I_term \u002B self.error*self.dt*self.ki\n        #limit I term\n        if self.I_term\u0026gt;self.maxout:\n            self.I_term = self.maxout\n        elif self.I_term\u0026lt;self.minout:\n            self.I_term = self.minout\n\n        self.D_term = -(self.error-self.preverror)/self.dt*self.kd\n\n        self.output = self.midpoint \u002B self.P_term \u002B self.I_term \u002B self.D_term\n        print(self.P_term, self.I_term, self.D_term)\n        return self.output\n\n        self.prevtime = nowtime\n        self.prevtarget = target\n        self.preverror = error\n\n\nconn = krpc.connect(name=\u0027Grasshopper\u0027)\nvessel = conn.space_center.active_vessel\n\nalt_kP = 0.3\nalt_kI = 0.1\nalt_kD = 0.0\n\n\n\n\n\nref_frame = conn.space_center.ReferenceFrame.create_hybrid(\n    position=vessel.orbit.body.reference_frame,\n    rotation=vessel.surface_reference_frame)\n\n\n\nconn.drawing.add_direction((0, 1, 0), vessel.surface_velocity_reference_frame)\n#some telemetry\nut = conn.add_stream(getattr, conn.space_center, \u0027ut\u0027)\ng_constant = conn.add_stream(getattr, conn.space_center, \u0027g\u0027)\naltitude = conn.add_stream(getattr, vessel.flight(vessel.orbit.body.reference_frame), \u0027surface_altitude\u0027)\nvertical_vel = conn.add_stream(getattr, vessel.flight(vessel.orbit.body.reference_frame), \u0027vertical_speed\u0027)\n\nvessel.control.\u003Cabbr title=\u0022Stability Augmentation System\u0022\u003Esas\u003C/abbr\u003E = True\nvessel.control.\u003Cabbr title=\u0022Reaction Control System\u0022\u003Ercs\u003C/abbr\u003E = True\nvessel.control.throttle = 0.0\nvessel.control.activate_next_stage()\n\nstart_time = time.time()\nlast_update_time = start_time\n\n#initialise PIDs\n#args: kp,ki,kd,minout,maxout,target,state,nowtime\naltPID = PIDregulator(alt_kP,alt_kI,alt_kD,0,1,0,0,start_time)\n\n\nwhile True:\n    #manage time\n    now_time = time.time()\n\n    #Get data\n    velocity = vessel.flight(ref_frame).velocity\n\n    #calculate hover throttle\n\n    if vessel.available_thrust\u0026gt;0:\n        hov_thr = vessel.mass/(vessel.available_thrust*0.10197)\n    else:\n        hov_thr = 1\n    #decide on how and where to fly\n    if (now_time-start_time\u0026lt;10):\n        desired_velz = 2\n    elif (now_time-start_time\u0026lt;15):\n        desired_velz = 0\n    else:\n        desired_velz = -2\n\n\n\n        #call PID regulator\n    throttle = altPID.update(velocity[0],desired_velz,time.time(),midpoint=hov_thr)\n    vessel.control.throttle = throttle\n\n    #print(hov_thr,desired_velz,velocity[0],throttle)\u003C/pre\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-02T18:51:00Z\u0022 title=\u002210/02/2017 06:51  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 2, 2017\u003C/time\u003E by sashan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-03T20:50:21Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/98897-sashan/\u0026amp;do=hovercard\u0022 data-mentionid=\u002298897\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/98897-sashan/\u0022 rel=\u0022\u0022\u003E@sashan\u003C/a\u003E\u00A0I\u00A0tried a test to see how the python client behaves when you terminate the connection from the in-game server window. This was my test program:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Eimport krpc\nconn = krpc.connect()\nwhile True:\n    print conn.space_center.active_vessel.name\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nand it exited with this exception when I closed the connection:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003ETraceback (most recent call last):\n  File \u0022\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;stdin\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022, line 2, in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;module\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  File \u0022\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;string\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\u0022, line 1, in \u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;lambda\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n  File \u0022C:\\Python27\\lib\\site-packages\\krpc\\client.py\u0022, line 90, in _invoke\n    response = self._receive_response()\n  File \u0022C:\\Python27\\lib\\site-packages\\krpc\\client.py\u0022, line 136, in _receive_response\n    data \u002B= self._rpc_connection.partial_receive(1)\n  File \u0022C:\\Python27\\lib\\site-packages\\krpc\\connection.py\u0022, line 69, in partial_receive\n    return self._socket.recv(length)\nsocket.error: [Errno 10054] An existing connection was forcibly closed by the remote host\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nDo you have a small test program\u00A0that demonstrates the non-terminating behaviour you are seeing?\n\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2017-10-04T09:31:22Z","Content":"\n\u003Cp\u003E\nThere are 2 instances when it happens:\u003Cbr\u003E\n1. When I run Py script by double-clicking it. Happens all the time, and those processes do consume CPU time.\n\u003C/p\u003E\n\u003Cp\u003E\n2. It occasionally happens when I terminate any program. For example, that PID one I\u0027ve posted. Instead of stating an error it just hangs and does nothing.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2017-10-06T15:01:47Z","Content":"\n\u003Cp\u003E\nHey, is there a way to get specific impulse for an engine that is not active? I need to calculate \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E that separatron would give me in current situation.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-06T21:38:02Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223187898\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221507302107\u0022 data-ipsquote-userid=\u002298897\u0022 data-ipsquote-username=\u0022sashan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n6 hours ago, sashan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nHey, is there a way to get specific impulse for an engine that is not active? I need to calculate \u003Cabbr title=\u0022Delta-V\u0022\u003EdV\u003C/abbr\u003E and \u003Cabbr title=\u0022Thrust-to-weight ratio\u0022\u003ETWR\u003C/abbr\u003E that separatron would give me in current situation.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nUnfortunately there\u0027s only\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/python/api/space-center/parts.html#SpaceCenter.Engine.vacuum_specific_impulse\u0022 rel=\u0022external nofollow\u0022\u003Eengine.vacuum_specific_impulse\u003C/a\u003E\u00A0and \u003Ca href=\u0022\u0022 rel=\u0022\u0022\u003Eengine.kerbin_sea_level_specific_impulse\u003C/a\u003E\u00A0for inactive engines.\n\u003C/p\u003E\n\u003Cp\u003E\nEngine.specific_impulse returns zero\u00A0if the engine is inactive, but you can calculate it from the current atmospheric pressure, and\u00A0the vacuum and sea level \u003Cabbr title=\u0022Specific Impulse (rocketry) or Internet Service Provider\u0022\u003EISP\u003C/abbr\u003E. The formula (from\u00A0\u003Ca href=\u0022https://wiki.kerbalspaceprogram.com/wiki/Specific_impulse\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://wiki.kerbalspaceprogram.com/wiki/Specific_impulse\u003C/a\u003E) is:\n\u003C/p\u003E\n\u003Cp\u003E\nIsp(P) = Isp(vac) \u002B (Isp(atm) - Isp(vac)) * P\n\u003C/p\u003E\n\u003Cp\u003E\nAnd I think the pressure you want can be obtained using\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/python/api/space-center/flight.html#SpaceCenter.Flight.static_pressure\u0022 rel=\u0022external nofollow\u0022\u003EFlight.static_pressure\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-06T21:54:35Z","Content":"\n\u003Cp\u003E\nFYI, I\u0027ve just released v0.3.11 - with support for\u00A0KSP 1.3.1 \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Redneck","CreatedById":2030,"CreatedDateTime":"2017-10-11T15:14:10Z","Content":"\n\u003Cp\u003E\nIs this mod capable of sending a RPM part camera view to a webpage? This is something i have been wanting to do for awhile now and before I go through hoops of learning and researching and learning this coding thing is it even possible? an example is here\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/2lGvj9p31vI?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"Rodhern","CreatedById":144074,"CreatedDateTime":"2017-10-11T21:10:49Z","Content":"\n\u003Cp\u003E\nI am an idiot that answered an old post.\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-11T21:11:33Z\u0022 title=\u002210/11/2017 09:11  PM\u0022 data-short=\u00226 yr\u0022\u003EOctober 11, 2017\u003C/time\u003E by Rodhern\u003C/strong\u003E\n\u003Cbr\u003Edeleted\n\u003C/span\u003E\n"},{"CreatedByName":"sashan","CreatedById":98897,"CreatedDateTime":"2017-10-13T13:23:36Z","Content":"\n\u003Cp\u003E\nWould it be possible to add raycasting? I really need to detect stuff I\u0027m trying to land on - it will not always be terrain. It\u0027s also useful for some other things.\n\u003C/p\u003E\n"},{"CreatedByName":"BaryonicMan","CreatedById":99615,"CreatedDateTime":"2017-10-14T11:16:02Z","Content":"\n\u003Cp\u003E\nI\u0027ve done it: I\u0027ve managed to land the first stage of a rocket automatically in KSP with Python. The program launches the rocket, releases the second stage and quickly switches to the second stage to start the engine. Then the program quickly switches back to the first stage, does a reentry burn. At 20 km it deploys the air brakes and later does a \u0022near-suicide burn\u0022 before it splashes down.\n\u003C/p\u003E\n\u003Cp\u003E\nPython code:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Marcel-Jan/KSP-kRPC-Python/blob/master/kRPC_falkon5_git_01.py\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Marcel-Jan/KSP-kRPC-Python/blob/master/kRPC_falkon5_git_01.py\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\n.craft file:\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Ca href=\u0022https://github.com/Marcel-Jan/KSP-kRPC-Python/blob/master/Falkon-5A.craft\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/Marcel-Jan/KSP-kRPC-Python/blob/master/Falkon-5A.craft\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027m going to do a Youtube video where I explain how the code works later on.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022344\u0022 src=\u0022https://www.youtube.com/embed/CTRGAGw5VPQ?feature=oembed\u0022 width=\u0022459\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-14T11:41:11Z\u0022 title=\u002210/14/2017 11:41  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 14, 2017\u003C/time\u003E by BaryonicMan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-15T11:08:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223193912\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221507901016\u0022 data-ipsquote-userid=\u002298897\u0022 data-ipsquote-username=\u0022sashan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 13/10/2017 at 2:23 PM, sashan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould it be possible to add raycasting? I really need to detect stuff I\u0027m trying to land on - it will not always be terrain. It\u0027s also useful for some other things.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nCertainly! I\u0027ve added it to the todo list:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/issues/423\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/423\u003C/a\u003E\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223192125\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221507734850\u0022 data-ipsquote-userid=\u00222030\u0022 data-ipsquote-username=\u0022Redneck\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\nOn 11/10/2017 at 4:14 PM, Redneck said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nIs this mod capable of sending a RPM part camera view to a webpage? This is something i have been wanting to do for awhile now and before I go through hoops of learning and researching and learning this coding thing is it even possible? an example is here\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNot currently, although I don\u0027t think it would be too difficult to add. I\u0027ll look into this (also added a ticket for it here: \u003Ca href=\u0022https://github.com/krpc/krpc/issues/424\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/424\u003C/a\u003E)\n\u003C/p\u003E\n"},{"CreatedByName":"Redneck","CreatedById":2030,"CreatedDateTime":"2017-10-15T14:30:38Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223195503\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221508065694\u0022 data-ipsquote-userid=\u002276528\u0022 data-ipsquote-username=\u0022djungelorm\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, djungelorm said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nCertainly! I\u0027ve added it to the todo list:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/issues/423\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/423\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nNot currently, although I don\u0027t think it would be too difficult to add. I\u0027ll look into this (also added a ticket for it here: \u003Ca href=\u0022https://github.com/krpc/krpc/issues/424\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/issues/424\u003C/a\u003E)\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nAwsome thank you\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-10-15T15:35:51Z","Content":"\n\u003Cp\u003E\nv0.4.0 has been released \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nAfter more than a year in development (in parallel with the 0.3.x versions) I\u0027ve finally released this rather large update... The main changes include:\n\u003C/p\u003E\n\u003Cul\u003E\u003Cli\u003E\nThe plugin now allows you to start more than one\u00A0server, with different settings.\n\u003C/li\u003E\n\u003Cli\u003E\nImproved the protobuf communication protocol to improve performance and simplify the protocol (details here: \u003Ca href=\u0022https://github.com/krpc/krpc/pull/325\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/pull/325\u003C/a\u003E)\n\u003C/li\u003E\n\u003Cli\u003E\nAdded a websockets server protocol\u00A0for interacting with browsers.\n\u003C/li\u003E\n\u003Cli\u003E\n(The serial IO server protocol isn\u0027t quite finished and will be released in a future update -\u00A0I didn\u0027t want it to delay this release any longer)\n\u003C/li\u003E\n\u003Cli\u003E\nStreams provide a mechanism to synchronize on stream updates. This allows a client program to\u00A0wait (efficiently, either using a condition variable or a callback) until the value of a stream changes.\n\u003C/li\u003E\n\u003Cli\u003E\nEvents:\u00A0you can now add events to the server and wait on them (efficiently). For example, you can create an event that is triggered when your craft reaches a certain altitude. The sub-orbital flight tutorial has been rewritten to use these:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/tutorials/suborbital-flight.html\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://krpc.github.io/krpc/tutorials/suborbital-flight.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nThe server no longer freezes when the game is paused, and RPCs have been added to pause/unpause the game\n\u003C/li\u003E\n\u003Cli\u003E\nRPCs can now throw custom exceptions\u00A0in the client, making error reporting much nicer.\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp\u003E\nThe full changelog is available here:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.4.0\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.4.0\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"BaryonicMan","CreatedById":99615,"CreatedDateTime":"2017-10-19T09:21:42Z","Content":"\n\u003Cp\u003E\nHere is the video where I explain how I automatically land a rocket stage with kRPC (still 0.3.11 though. Not 0.3.9 as I say in the video.). I go through the whole code I\u0027ve written so that could either be interesting for you, or extremely boring. In the second case, go to 22:30 to see the glorious splashdown.\n\u003C/p\u003E\n\u003Cp\u003E\nIsn\u0027t it wonderful how you find your own stupid bugs while describing how your code works? \u003Cimg alt=\u0022:)\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 title=\u0022:)\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nComments and ideas are welcome.\n\u003C/p\u003E\n\u003Cdiv class=\u0022ipsEmbeddedVideo ipsEmbeddedVideo_limited\u0022\u003E\n\u003Cdiv\u003E\n\u003Ciframe allowfullscreen=\u0022true\u0022 frameborder=\u00220\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/D_X5k5lvx10?feature=oembed\u0022 width=\u0022480\u0022\u003E\u003C/iframe\u003E\n\u003C/div\u003E\n\u003C/div\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222017-10-19T10:03:37Z\u0022 title=\u002210/19/2017 10:03  AM\u0022 data-short=\u00226 yr\u0022\u003EOctober 19, 2017\u003C/time\u003E by BaryonicMan\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KerbalX","CreatedById":181197,"CreatedDateTime":"2017-11-01T07:10:02Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u00A0I have a question regarding the c\u002B\u002B documentation.\n\u003C/p\u003E\n\u003Cp\u003E\nin the documentation, class Client has a void func\u00A0close() but I can\u0027t seem to use this func.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Ekrpc\u003C/span\u003E\u003Cspan\u003E::\u003C/span\u003E\u003Cspan\u003EClient\u003C/span\u003E\u003Cspan\u003E conn = \u003C/span\u003E\u003Cspan\u003Ekrpc\u003C/span\u003E\u003Cspan\u003E::\u003C/span\u003E\u003Cspan\u003Econnect\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022blah\u0022\u003C/span\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Cspan\u003E\u0022xxx.xxx.x.x\u0022\u003C/span\u003E\u003Cspan\u003E,xxxx\u003C/span\u003E\u003Cspan\u003E,xxxx\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nconn.close(); //I tried this but the error says there is no member close() of krpc::Client\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a way to close the connection?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-11-01T18:03:59Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223208425\u0022 data-ipsquote-contentid=\u002262902\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221509520202\u0022 data-ipsquote-userid=\u0022181197\u0022 data-ipsquote-username=\u0022KerbalX\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n10 hours ago, KerbalX said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0026amp;do=hovercard\u0022 data-mentionid=\u002276528\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/76528-djungelorm/\u0022 rel=\u0022\u0022\u003E@djungelorm\u003C/a\u003E\u00A0I have a question regarding the c\u002B\u002B documentation.\n\u003C/p\u003E\n\u003Cp\u003E\nin the documentation, class Client has a void func\u00A0close() but I can\u0027t seem to use this func.\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cspan\u003Ekrpc\u003C/span\u003E\u003Cspan\u003E::\u003C/span\u003E\u003Cspan\u003EClient\u003C/span\u003E\u003Cspan\u003E conn = \u003C/span\u003E\u003Cspan\u003Ekrpc\u003C/span\u003E\u003Cspan\u003E::\u003C/span\u003E\u003Cspan\u003Econnect\u003C/span\u003E\u003Cspan\u003E(\u003C/span\u003E\u003Cspan\u003E\u0022blah\u0022\u003C/span\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Cspan\u003E\u0022xxx.xxx.x.x\u0022\u003C/span\u003E\u003Cspan\u003E,xxxx\u003C/span\u003E\u003Cspan\u003E,xxxx\u003C/span\u003E\u003Cspan\u003E);\u003C/span\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nconn.close(); //I tried this but the error says there is no member close() of krpc::Client\n\u003C/p\u003E\n\u003Cp\u003E\nIs there a way to close the connection?\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThank you\u00A0\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nSorry the docs are incorrect. The only way to close the connection is to destroy the client object.\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-11-02T22:19:45Z","Content":"\n\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nExciting news - I\u0027ve just released v0.4.1, with the following changes:\n\u003C/p\u003E\n\u003Cul style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\u003Cli\u003E\nI\u0027ve added support for serial port communication to the server, and added a client written in C that\u0027s aimed at embedded systems with tight resource constraints. I\u0027ve also released the client\u00A0via\u00A0the Arduino Library Manager.\u00A0Check out the documentation here:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/cnano/client.html\u0022 rel=\u0022external nofollow\u0022 style=\u0022background-color:transparent;color:#3d6594;\u0022\u003Ehttp://krpc.github.io/krpc/cnano/client.html\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nFixed client connections timing out before you can click \u0022Allow\u0022\u00A0in the UI\n\u003C/li\u003E\n\u003Cli\u003E\nAdded RPCs for doing ray casting:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.RaycastDistance\u0022 rel=\u0022external nofollow\u0022 style=\u0022background-color:transparent;color:#3d6594;\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.RaycastDistance\u003C/a\u003E\n\u003C/li\u003E\n\u003Cli\u003E\nAdded RPCs for getting information about the crew members in a vessel:\u00A0\u003Ca href=\u0022http://krpc.github.io/krpc/csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.RaycastDistance\u0022 rel=\u0022external nofollow\u0022 style=\u0022background-color:transparent;color:#3d6594;\u0022\u003Ehttp://krpc.github.io/krpc/csharp/api/space-center/space-center.html#method-KRPC.Client.Services.SpaceCenter.SpaceCenter.RaycastDistance\u003C/a\u003E\n\u003C/li\u003E\n\u003C/ul\u003E\u003Cp style=\u0022background-color:#ffffff;color:#353c41;font-size:14px;\u0022\u003E\nThe full changelog is available here:\u00A0\u003Ca href=\u0022https://github.com/krpc/krpc/releases/tag/v0.4.1\u0022 rel=\u0022external nofollow\u0022 style=\u0022background-color:transparent;color:#3d6594;\u0022\u003Ehttps://github.com/krpc/krpc/releases/tag/v0.4.1\u003C/a\u003E\n\u003C/p\u003E\n"},{"CreatedByName":"djungelorm","CreatedById":76528,"CreatedDateTime":"2017-11-03T08:42:00Z","Content":"\n\u003Cp\u003E\nv0.4.1 was missing a DLL from the release archive. I\u0027ve released v0.4.2 which fixes this.\n\u003C/p\u003E\n"}]}