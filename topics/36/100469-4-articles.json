{"TopicId":100469,"ForumId":36,"TopicTitle":"KSPBlender - Blender Addon for importing .craft files (now with complete mod support!)","CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-02-22T22:45:19Z","PageNum":4,"Articles":[{"CreatedByName":"MooseCannon","CreatedById":83101,"CreatedDateTime":"2015-02-27T14:34:26Z","Content":"Feature suggestion: a button that saves a ship directly to a .stl file. 3D print all the rockets!"},{"CreatedByName":"briansun1","CreatedById":67451,"CreatedDateTime":"2015-02-27T16:23:17Z","Content":"\u003E \n\u003E Feature suggestion: a button that saves a ship directly to a .stl file. 3D print all the rockets!\n\nThat\u0027s Blender thing not something this mod can do."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-27T16:31:58Z","Content":"I think I know what I\u0027m going to be doing in my free time this weekend...if I have enough free time lol. Now we just need full color models of Kerbin, and the rest. Well...the Mun shouldn\u0027t be too hard lol."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-27T18:08:04Z","Content":"\u003E \n\u003E Alright, so I decided to give this a try. I am so new to blender that I could probably accidentally blow up the planet before I actually created anything with this thing. That being said, I followed the instructions and was greeted with (upon the first \u0022run script\u0022 stage) an error that the script had failed. It says to look at the console for more information, but I can see no console anywhere. Fail?\n\n\u003E \n\u003E Go to Window \u003E Toggle System Console. There are actually two consoles... sorry. Let me know what it says!\n\nI\u0027m not exactly new to Blender, but I am having the same problem. Though I am running on linux, so thought it might be a folder issue, but changed all the \\\\ to // with out any luck. In linux to get the console you have to run blender from the command line. In the terminal, change to the folder your blender is in and then run ./blender (worked for me anyway). Below is the error it is giving (removed the folders that show my username/home folder from the error list below):\n\nTraceback (most recent call last):\n\n File \u0022kspblender-master/demo/kspblenderdemo.blend/ksparser.py\u0022, line 1477, in \n\n File \u0022kspblender-master/demo/kspblenderdemo.blend/ksparser.py\u0022, line 1446, in main\n\n File \u0022kspblender-master/demo/kspblenderdemo.blend/ksparser.py\u0022, line 367, in \\_\\_init\\_\\_\n\n File \u0022kspblender-master/demo/kspblenderdemo.blend/ksparser.py\u0022, line 380, in parse\\_file\n\nFileNotFoundError: [Errno 2] No such file or directory: \u0027MunBase1.craft\u0027\n\nError: Python script fail, look in the console for now..."},{"CreatedByName":"briansun1","CreatedById":67451,"CreatedDateTime":"2015-02-27T18:10:28Z","Content":"\u003E \n\u003E Alright, so I decided to give this a try. I am so new to blender that I could probably accidentally blow up the planet before I actually created anything with this thing. That being said, I followed the instructions and was greeted with (upon the first \u0022run script\u0022 stage) an error that the script had failed. It says to look at the console for more information, but I can see no console anywhere. Fail?\n\nDid you put the craft file into the right folder?"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-27T18:23:05Z","Content":"Right yes, forgot to mention, I did the craft file in the same folder with the kspblenderdemo.blend also changed the file name to all lower case with the same result. It may be something pretty obvious, that I\u0027ll go \u0022oh, duuh\u0022. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"briansun1","CreatedById":67451,"CreatedDateTime":"2015-02-27T18:25:35Z","Content":"\u003E \n\u003E Right yes, forgot to mention, I did the craft file in the same folder with the kspblenderdemo.blend also changed the file name to all lower case with the same result. It may be something pretty obvious, that I\u0027ll go \u0022oh, duuh\u0022. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nDose the craft have mods? Also is it exactly the same in the script as on the file? Also does it end in .craft?"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-27T18:34:47Z","Content":"Hmmm, not sure on the mod part, I\u0027ll have to look. I did make sure to have the exact file name in the script, including matching case.\n\nUpdate: Tried with Kerbal X.craft and it also says file not found.\n\n**Edited \u003Ctime datetime=\u00222015-02-27T18:46:03Z\u0022 title=\u002202/27/2015 06:46  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by Sma**"},{"CreatedByName":"briansun1","CreatedById":67451,"CreatedDateTime":"2015-02-27T20:23:33Z","Content":"So how do you get the animations to work?"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-27T21:46:01Z","Content":"I was just getting ready to post some more errors I was getting, when it dawned on me...After restarting Blender, the addon settings were reverted. After re-enabling it, everything seems to be fine. ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)\n\nTo get it to work, for linux you have to change the \\\\ to /, although I did make one of them double //. Here are some examples (your mileage may differ):\n\n    kspexedirectory = \u0022/home/userfolder/Desktop/Untitled Folder/Link to Kerbal Space Program\u0022 #Wherever KSP isos.chdir(bpy.path.abspath(\u0022//\u0022))partdir[\u0027mk1pod\u0027]                   = [\u0022/GameData/Squad/Parts/Command/mk1pod/model.mu\u0022,\u0022pod\u0022] #repeat this for all the other parts in the dictionary\n\nThat last one, or all of it really, I used find/replace to replace them all, then just changed the kspexedirectory one to single\u0027s, and fixed the ascii rocket at the very bottom of the script.\n\nHere is a render of a random craft I made. The only thing missing is the kethane drills. They successfully imported, but were REALLY big, even though I added a \u0022right\\_scale\u0022 for it. Still it\u0027s pretty cool. I have yet to try to deploy anything though.\n\n![munbase1.png](http://bowencustomcreations.com/kspPics/munbase1.png)\n\nI tried a craft that was made by me, which has mods, and causes an error, but I\u0027m going to try adding definitions for those parts and see how it goes.\n\n**Edited \u003Ctime datetime=\u00222015-02-27T23:07:06Z\u0022 title=\u002202/27/2015 11:07  PM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 27, 2015\u003C/time\u003E by Sma**\n  \nAdded image"},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-02-28T00:08:38Z","Content":"\u003E \n\u003E So how do you get the animations to work?\n\nBrian, do you mean \u0027work\u0027 as in play the animation, or toggle the position of the parts? Hopefully the second script I put in the Blender file (the K menu) should handle toggling the parts. As for playing it, it gets a bit messy, but you\u0027ll have to play with the NLA stuff and keyframing. The internet will do a better job of explaining that stuff than I can ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif)"},{"CreatedByName":"Avalon304","CreatedById":68304,"CreatedDateTime":"2015-02-28T00:17:57Z","Content":"So, Im trying to add parts from a mod to the importer, and its getting hung up on one part... is there a log I can post to get help with this?"},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-28T00:27:47Z","Content":"\u003E \n\u003E So, Im trying to add parts from a mod to the importer, and its getting hung up on one part... is there a log I can post to get help with this?\n\nThis is what I added to mine to get it to work:\n\n        # Kethane    partdir[\u0027kethane.smallDrill\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_smallDrill/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.1m.converter\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_1m_converter/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.tank2mSmall\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_tank2mSmall/model.mu\u0022,\u0022utility\u0022]\n\nI just used the name of the \u0022error\u0022 thing to find the part name to reference.\n\nThough, as I mentioned above the smallDrill imports REALLY big, even after I added:\n\n    right_scale[\u0027kethane.smallDrill\u0027] = mathutils.Vector((1.25,1.25,1.25))right_scale[\u0027kethane.1m.converter\u0027] = mathutils.Vector((1.25,1.25,1.25))right_scale[\u0027kethane.tank2mSmall\u0027] = mathutils.Vector((1.25,1.25,1.25)) \n\nHaven\u0027t looked through the code for other size things yet."},{"CreatedByName":"Avalon304","CreatedById":68304,"CreatedDateTime":"2015-02-28T00:33:39Z","Content":"\u003E \n\u003E This is what I added to mine to get it to work:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E         # Kethane    partdir[\u0027kethane.smallDrill\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_smallDrill/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.1m.converter\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_1m_converter/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.tank2mSmall\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_tank2mSmall/model.mu\u0022,\u0022utility\u0022]\n\nIve done that, but its erroring out on actually importing the part. And it seems like quite a longish error... but I cant find where (if at all) Blender outputs its console log..."},{"CreatedByName":"dgadling","CreatedById":138153,"CreatedDateTime":"2015-02-28T00:48:59Z","Content":"I just got a 3d printer that I need to learn how to use.\n\nI\u0027ve got crafts.\n\nI can get blender.\n\nNow all I need is a week off work ![:mad:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_angry.gif)"},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-02-28T02:39:08Z","Content":"\u003E \n\u003E This is what I added to mine to get it to work:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E         # Kethane    partdir[\u0027kethane.smallDrill\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_smallDrill/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.1m.converter\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_1m_converter/model.mu\u0022,\u0022utility\u0022]    partdir[\u0027kethane.tank2mSmall\u0027]         = [\u0022/GameData/Kethane/Parts/kethane_tank2mSmall/model.mu\u0022,\u0022utility\u0022]\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I just used the name of the \u0022error\u0022 thing to find the part name to reference.\n\u003E \n\u003E Though, as I mentioned above the smallDrill imports REALLY big, even after I added:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     right_scale[\u0027kethane.smallDrill\u0027] = mathutils.Vector((1.25,1.25,1.25))right_scale[\u0027kethane.1m.converter\u0027] = mathutils.Vector((1.25,1.25,1.25))right_scale[\u0027kethane.tank2mSmall\u0027] = mathutils.Vector((1.25,1.25,1.25)) \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Haven\u0027t looked through the code for other size things yet.\n\nAwesome! If it\u0027s too big, then what you did with the right\\_scale would make it worse. Those are relative scale, not absolute. You probably need to do like .1,.1,.1 rather than 1.25. That part exists because some of the parts from earlier in the game import too small.\n\nIf you get it all to work, could you send me the #Kethane part you\u0027ve done so I can incorporate it into the master addon?"},{"CreatedByName":"j-tk","CreatedById":29598,"CreatedDateTime":"2015-02-28T02:42:25Z","Content":"Dang it, Keep getting Python Script fail, look in the console window. Followed all the steps using a stock Kerbal X craft. any help?"},{"CreatedByName":"Dasoccerguy","CreatedById":138528,"CreatedDateTime":"2015-02-28T02:47:59Z","Content":"\u003E \n\u003E Dang it, Keep getting Python Script fail, look in the console window. Followed all the steps using a stock Kerbal X craft. any help?\n\nGo to Window -\u003E Toggle System Console and tell me what it says. That\u0027s the secret console that actually shows useful stuff. ![:cool:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif)"},{"CreatedByName":"j-tk","CreatedById":29598,"CreatedDateTime":"2015-02-28T02:51:00Z","Content":"Thanks, just read earlier in the forum how to do that: Edit: BTW, only messed around in Blender for small stuff in the past- What you are trying/doing- you are Now a God, so Ray, if someone asks if you are a God,\n\nyou have your answer now kind sir! Edit 2: here\u0027s the rest of the error\n\n![hT5pv6J.jpg](http://i.imgur.com/hT5pv6J.jpg)\n\n![C3jsohE.jpg](http://i.imgur.com/C3jsohE.jpg)\n\n**Edited \u003Ctime datetime=\u00222015-02-28T03:09:00Z\u0022 title=\u002202/28/2015 03:09  AM\u0022 data-short=\u00229 yr\u0022\u003EFebruary 28, 2015\u003C/time\u003E by j-tk**"},{"CreatedByName":"Avalon304","CreatedById":68304,"CreatedDateTime":"2015-02-28T03:05:22Z","Content":"So I think I managed to take a screen shot of my error:\n\n[http://i.imgur.com/mTKX6ou.jpg](http://i.imgur.com/mTKX6ou.jpg)\n\nBut I dont know what any of it means."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-28T03:26:26Z","Content":"\u003E \n\u003E Awesome! If it\u0027s too big, then what you did with the right\\_scale would make it worse. Those are relative scale, not absolute. You probably need to do like .1,.1,.1 rather than 1.25. That part exists because some of the parts from earlier in the game import too small.\n\u003E If you get it all to work, could you send me the #Kethane part you\u0027ve done so I can incorporate it into the master addon?\n\nSure, not a problem, if someone doesn\u0027t beat me to it lol. So far I\u0027ve only got those three parts added, as they are the ones I had in that one craft file. I might also do some of the other mods I have as well.\n\nOne issue (I guess), I had the 1x6 solar panels on my craft, and the panels seemed to be positioned outside of the main solar panel model, plus there appear to be only two panels. Maybe the others are hidden inside I guess, I\u0027ll have to check that.\n\n- - - Updated - - -\n\n\u003E \n\u003E So, i\u0027m very comfused with blender ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif) I\u0027m trying to figure out how to make my shuttle one part, but i have no idea what i\u0027m doing. I need to boolean join the parts, but there\u0027s 1200 of them and i have no idea how to just mass-select all of them, let alone make the boolean join occur. Also, to make a model i would need to turn the hollow shuttle into a solid piece, but it\u0027s made out of wing parts and i don\u0027t know how a 3d printer would handle this. \n\u003E Sorry for derailing the thread a bit but I really love your program, I want to take it to the end of the logical path I\u0027m on ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nI don\u0027t know if this has been answered yet (just going through page by page and responding as i find something I can \u0022help\u0022 with. What you can do is, in blender push the B key, which lets you draw a rectangle around the needed parts, then group all the parts. I don\u0027t remember how you do that off hand (it\u0027s been a while since I\u0027ve used blender unfortunatly), but google/youtube is your friend. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)"},{"CreatedByName":"zekes","CreatedById":23840,"CreatedDateTime":"2015-02-28T03:27:19Z","Content":"\u003E I don\u0027t know if this has been answered yet (just going through page by page and responding as i find something I can \u0022help\u0022 with. What you can do is, in blender push the B key, which lets you draw a rectangle around the needed parts, then group all the parts. I don\u0027t remember how you do that off hand (it\u0027s been a while since I\u0027ve used blender unfortunatly), but google/youtube is your friend. ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif)\n\nYeah, i found it ![:D](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif) thanks tho."},{"CreatedByName":"Sma","CreatedById":67377,"CreatedDateTime":"2015-02-28T18:39:28Z","Content":"\u003E \n\u003E Awesome! If it\u0027s too big, then what you did with the right\\_scale would make it worse. Those are relative scale, not absolute. You probably need to do like .1,.1,.1 rather than 1.25. That part exists because some of the parts from earlier in the game import too small.\n\u003E If you get it all to work, could you send me the #Kethane part you\u0027ve done so I can incorporate it into the master addon?\n\nI\u0027ve managed to get most of the parts to load into blender, at what seems to be the correct scale, but for some reason the large drill, and the 1m convertor do not appear. It shows that they are being imported in the console though. Also the heatsink for the 2m converter appear below where everything else is imported, and usually much bigger than the part its self. Here is a render of what I have so far. Also some of the orgins appear to be off. YOu can sort of see that the largest tank there is sort of hovering above the truss.\n\n![blender_KethaneParts1.png](http://bowencustomcreations.com/kspPics/blender_KethaneParts1.png)\n\nI\u0027ll post the part dictionary for these later if you need. For the scale I\u0027ve been using what is in each parts cfg and that seems to work, at least for the radial drill, and the highgain (the smaller) sensor."},{"CreatedByName":"Mister Kingdom","CreatedById":105121,"CreatedDateTime":"2015-02-28T19:31:31Z","Content":"I have the same problem. It won\u0027t run, no matter how much I nervously poke it."},{"CreatedByName":"SpaceXray","CreatedById":113396,"CreatedDateTime":"2015-02-28T20:18:47Z","Content":"So how exactly can we 3D print them or put those up on Sketchfab? I save an .obj file and upload it, but it only shows the mesh without textures. Can you please give some insight on this?"}]}