{"TopicId":60281,"ForumId":36,"TopicTitle":"[Hardware, Plugin] Arduino based physical display \u002B serial port io\u002B tutorial (24-11-19)","CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2014-01-18T01:25:25Z","PageNum":50,"Articles":[{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-09-12T03:22:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zalta\u0022 data-cite=\u0022Zalta\u0022\u003E\u003Cdiv\u003EI will share it, first i have to understand how github works and how my new IDE works with Github. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E\u003Cp\u003ECan you try this : \u003Ca href=\u0022http://www.filedropper.com/kspserialio\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.filedropper.com/kspserialio\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EYou will find :\u003C/p\u003E\u003Cp\u003EKSPSerialIO.dll_work\u003C/p\u003E\u003Cp\u003EKSPSerialIO.dll_dontwork\u003C/p\u003E\u003Cp\u003EJust rename one of thoose in KSPSerialIO.dll and test.\u003C/p\u003E\u003Cp\u003ECould you test both ? The working one is without event, the don\u0027t working one is the event. (Both use PsimaxSerial)\u003C/p\u003E\u003Cp\u003EUse this demo : \u003Ca href=\u0022https://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://sites.google.com/site/zitronfiles/KSPIODemo13.zip\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EJust check the Baudrate in the config file and the Arduino program before use, it might be different.\u003C/p\u003E\u003Cp\u003EBecause like zitronen said, it\u0027s better to use event.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHello all; It\u0027s been a while.\u003C/p\u003E\u003Cp\u003EZalta -- thanks for your hard work! \u003C/p\u003E\u003Cp\u003EI\u0027ve been having troubles with the latest plugin since it was released.\u003C/p\u003E\u003Cp\u003EI would have intermittent connects. Like, you\u0027d go to launch, and it could be 1 min, it could be 15 until the plugin started talking to my controller / Arduino. \u003C/p\u003E\u003Cp\u003EThe previous version worked immediately, with no issues.\u003C/p\u003E\u003Cp\u003EYou could jump between ships, go from VAB to ships, etc -- always seemed to work.\u003C/p\u003E\u003Cp\u003EI\u0027m running Windows 7, 64bit\u003C/p\u003E\u003Cp\u003EI\u0027ve included the video so you can see the \u0027normally\u0027 pre-load process, and what kind of activity should be working when the plugin is communicating with my arduino.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/oMsnt4N53Bs?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E* *\u003C/p\u003E\u003Cp\u003EI just tried Zalta\u0027s plugin. Here is what I found -\u003C/p\u003E\u003Cp\u003ELaunching a vehicle that\u0027s already on the pad: connects within 15 seconds or so.\u003C/p\u003E\u003Cp\u003ELaunching a vehicle from VAB - long delays; doesn\u0027t seem to connect.\u003C/p\u003E\u003Cp\u003EReverting to launch whilst mid-flight; when you\u0027re back at the pad, it doesn\u0027t connect.\u003C/p\u003E\u003Cp\u003EI found I\u0027d have to go to \u0027Space Center\u0027, unplug the USB, reconnect, then go and launch the vehicle sitting on the pad. That worked.\u003C/p\u003E\u003Cp\u003EWhen going to the \u0027Tracking Station\u0027, there was a whole host of weirdness (see video below). \u003C/p\u003E\u003Cp\u003EI would get music; but nothing on screen. Then, I would go back to space center - and I\u0027d just get stars.\u003C/p\u003E\u003Cp\u003EI\u0027d shut down the game, and start it up again. Then, the vehicle I had tried to \u0027switch-to\u0027 using the tracking station will have completely disappeared. I lost two \u0027deep-space probes\u0027 testing this \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EYour plugin is eating my vessels!!! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cry.gif\u0022 alt=\u0022;.;\u0022\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_huh.gif\u0022 alt=\u0022:confused:\u0022\u003E\u003C/p\u003E\u003Cp\u003E[it\u0027s ok, I don\u0027t hold you accountable \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E]\u003C/p\u003E\u003Cp\u003ESo, it\u0027s definitely an improvement... but with it comes another series of problems.\u003C/p\u003E\u003Cp\u003E(Jump to 1:15 to see the tracking station weirdness)\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\n\u003C/p\u003E\u003Cdiv class=\u0022ipsEmbeddedVideo\u0022 contenteditable=\u0022false\u0022\u003E\u003Cdiv\u003E\u003Ciframe width=\u0022480\u0022 height=\u0022270\u0022 src=\u0022https://www.youtube.com/embed/wdmVuRuuQiw?feature=oembed\u0022 frameborder=\u00220\u0022 allowfullscreen=\u0022true\u0022\u003E\u003C/iframe\u003E\u003C/div\u003E\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Zalta","CreatedById":150831,"CreatedDateTime":"2015-09-12T10:38:44Z","Content":"\n\u003Cp\u003EOkay, have you try the version \u0022dontwork\u0022 on Windows 7 it May be better. Have you tried with other baudrate ?\u003C/p\u003E\u003Cp\u003EEdit : I fork with my code here : \u003Ca href=\u0022https://github.com/zaltanar/KSPSerialIO\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/zaltanar/KSPSerialIO\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit2 : I didn\u0027t reproduce your disparition bug.\u003C/p\u003E\u003Cp\u003EThe only problem i had with the Tracking Station was i had to attempt twice before control the ship.\u003C/p\u003E\u003Cp\u003EPS : i\u0027m not using mods when i test\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-12T14:32:23Z\u0022 title=\u002209/12/2015 02:32  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 12, 2015\u003C/time\u003E by Zalta\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-09-12T14:35:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Sputnix\u0022 data-cite=\u0022Sputnix\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI\u0027ve been having troubles with the latest plugin since it was released.\u003C/p\u003E\u003Cp\u003EI would have intermittent connects. Like, you\u0027d go to launch, and it could be 1 min, it could be 15 until the plugin started talking to my controller / Arduino. \u003C/p\u003E\u003Cp\u003EThe previous version worked immediately, with no issues.\u003C/p\u003E\u003Cp\u003EYou could jump between ships, go from VAB to ships, etc -- always seemed to work.\u003C/p\u003E\u003Cp\u003EI\u0027m running Windows 7, 64bit\u003C/p\u003E\u003Cp\u003EI\u0027ve included the video so you can see the \u0027normally\u0027 pre-load process, and what kind of activity should be working when the plugin is communicating with my arduino.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHey have you tried increasing the arduino serial buffer size? See posts #1201-1204. Seems to have fixed the problem for bork_bork.\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-09-12T16:44:21Z","Content":"\n\u003Cp\u003EIf I want to increase buffer size, is it as simple as \u003C/p\u003E\u003Cp\u003E#include \u0026lt;SoftwareSerial.h\u0026gt;\u003C/p\u003E\u003Cp\u003E#define _SS_MAX_RX_BUFF 256\u003C/p\u003E\u003Cp\u003E?\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-09-12T18:15:43Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003EIf I want to increase buffer size, is it as simple as \u003Cp\u003E#include \u0026lt;SoftwareSerial.h\u0026gt;\u003C/p\u003E\u003Cp\u003E#define _SS_MAX_RX_BUFF 256\u003C/p\u003E\u003Cp\u003E?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENo that\u0027s software serial, I think this is the correct one: \u003Ca href=\u0022http://www.hobbytronics.co.uk/arduino-serial-buffer-size\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.hobbytronics.co.uk/arduino-serial-buffer-size\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-09-12T23:11:36Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zalta\u0022 data-cite=\u0022Zalta\u0022\u003E\u003Cdiv\u003EOkay, have you try the version \u0022dontwork\u0022 on Windows 7 it May be better. Have you tried with other baudrate ?\u003Cp\u003EEdit : I fork with my code here : \u003Ca href=\u0022https://github.com/zaltanar/KSPSerialIO\u0022 rel=\u0022external nofollow\u0022\u003Ehttps://github.com/zaltanar/KSPSerialIO\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EEdit2 : I didn\u0027t reproduce your disparition bug.\u003C/p\u003E\u003Cp\u003EThe only problem i had with the Tracking Station was i had to attempt twice before control the ship.\u003C/p\u003E\u003Cp\u003EPS : i\u0027m not using mods when i test\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EFunnily enough, I thought that I shouldn\u0027t because it wouldn\u0027t work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not using any mods either. Very Vanilla. Installed KSP Engineer Redux last night, but I\u0027ll remove for testing.\u003C/p\u003E\u003Cp\u003EAnd no, I\u0027ve been using 115200 as my Baud rate, because it seemed to fix the issues I had with v12.\u003C/p\u003E\u003Cp\u003ESo I will do some testing with that too.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EHey have you tried increasing the arduino serial buffer size? See posts #1201-1204. Seems to have fixed the problem for bork_bork.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI forgot about that thing \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E Thanks for the reminder \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EI\u0027ll try to increase the arduino serial buffer today and I\u0027ll report back here with my findings \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003E[And I\u0027ll try using your plugins, Zitronen, before trying Zalta\u0027s]\u003C/p\u003E\u003Cp\u003EThank you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E***\u003C/p\u003E\u003Cp\u003EUPDATE\u003C/p\u003E\u003Cp\u003E***\u003C/p\u003E\u003Cp\u003EThat linked worked. Increasing serial size seems to have done it. I\u0027ll do some more testing, but hopefully this should be the solution! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for the reminder, Zitronen! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI floated that suggestion to Sputnix as well, and they said they\u0027d give it a crack this week. Should hopefully have some confirmation soon. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYep. Confirmation here -- that\u0027s a go! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E Thanks again!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-13T00:39:19Z\u0022 title=\u002209/13/2015 12:39  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 13, 2015\u003C/time\u003E by Sputnix\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-09-13T09:13:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ENo that\u0027s software serial, I think this is the correct one: \u003Ca href=\u0022http://www.hobbytronics.co.uk/arduino-serial-buffer-size\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.hobbytronics.co.uk/arduino-serial-buffer-size\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat looks very promising. Thanks a bunch.\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-13T15:32:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003ENo that\u0027s software serial, I think this is the correct one: \u003Ca href=\u0022http://www.hobbytronics.co.uk/arduino-serial-buffer-size\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://www.hobbytronics.co.uk/arduino-serial-buffer-size\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI can\u0027t find such thing in my arduino install. The hardware folder contains only the tools folder and one .exe inside. nothing else.\u003C/p\u003E\u003Cp\u003EI use Arduino MEGA, could you help me with it? I\u0027m having problems with the communication freezing for 2~3 seconds every now and then.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-09-13T16:16:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scoppio\u0022 data-cite=\u0022Scoppio\u0022\u003E\u003Cdiv\u003EI can\u0027t find such thing in my arduino install. The hardware folder contains only the tools folder and one .exe inside. nothing else.\u003Cp\u003EI use Arduino MEGA, could you help me with it? I\u0027m having problems with the communication freezing for 2~3 seconds every now and then.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAre you using the latest IDE version 1.6.5? \u003C/p\u003E\u003Cp\u003EThe link is a bit out of date, but any way you need to find HardwareSerial.h, for me it\u0027s in Program Files (x86)\\Arduino\\hardware\\arduino\\avr\\cores\\arduino, and change #define SERIAL_RX_BUFFER_SIZE 64 to #define SERIAL_RX_BUFFER_SIZE 256\u003C/p\u003E\u003Cp\u003EBear in mind this will increase RAM usage for all your programs unless you change it back.\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-14T02:38:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EAre you using the latest IDE version 1.6.5? \u003Cp\u003EThe link is a bit out of date, but any way you need to find HardwareSerial.h, for me it\u0027s in Program Files (x86)\\Arduino\\hardware\\arduino\\avr\\cores\\arduino, and change #define SERIAL_RX_BUFFER_SIZE 64 to #define SERIAL_RX_BUFFER_SIZE 256\u003C/p\u003E\u003Cp\u003EBear in mind this will increase RAM usage for all your programs unless you change it back.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m using IDE 1.6.5\u003C/p\u003E\u003Cp\u003ENope, nothing, the hardware folder has only \u0022Tools\u0022 folder inside. I reached for some info in the web and looks like the boards information have to be downloaded from the web using the boards manager, the info is not stored where it was before in 1.0 :\\\u003C/p\u003E\u003Cp\u003EI tried to manually add the docs from the Arduino github with no success... I\u0027ll try this week to install the 1.0 arduino and run again with this modification.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-14T02:57:04Z\u0022 title=\u002209/14/2015 02:57  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 14, 2015\u003C/time\u003E by Scoppio\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Sputnix","CreatedById":141420,"CreatedDateTime":"2015-09-14T11:43:53Z","Content":"\n\u003Cp\u003EI\u0027ve got IDE 1.6.3; the path Zitronen refers to is accurate for this version.\u003C/p\u003E\u003Cp\u003EI might have missed this - what version windows do you have? \u003C/p\u003E\u003Cp\u003EHave you got hidden files / folders showing? (on the off chances it\u0027s hidden);\u003C/p\u003E\n"},{"CreatedByName":"Freshmeat","CreatedById":111048,"CreatedDateTime":"2015-09-14T14:45:33Z","Content":"\n\u003Cp\u003EI checked on my laptop with 1.6.2, and can confirm Scoppio. My main computer, with 1.6.4, has the path that zitronen indicate (and it worked like a charm). That one was an upgrade from 1.6.1, though. I am mystified.\u003C/p\u003E\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EDid you upgrade from 1.6.2? I found this in the changelog for 1.6.3:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E* AVR bundle files (core files and toolchain) is again inside IDE \u0022hardware\u0022 folder, instead of unpacked into user\u0027s home folder at first IDE startup\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETry to check \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u0026lt;userdir\u0026gt;\\AppData\\Roaming\\Arduino15\\packages\\arduino\\hardware\\avr\\\u0026lt;version\u0026gt;\\cores\\arduino\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eif on Windows, something like that if on Mac/Linux. It might be an artifact from an upgrade.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-14T14:58:15Z\u0022 title=\u002209/14/2015 02:58  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 14, 2015\u003C/time\u003E by Freshmeat\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"bork_bork","CreatedById":137466,"CreatedDateTime":"2015-09-14T23:24:18Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022zitronen\u0022 data-cite=\u0022zitronen\u0022\u003E\u003Cdiv\u003EHey have you tried increasing the arduino serial buffer size? See posts #1201-1204. Seems to have fixed the problem for bork_bork.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENote that both adjusting the refresh rate and increasing the buffer did the trick for me. I\u0027m on the Mac version of the plug-in, though. I don\u0027t know how the refresh rate works on the windows version. \u003C/p\u003E\u003Cp\u003E/BORK!\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EWould it be possible to add some error tracking to the arduino code to watch for serial buffer overflows? Putting in a bit of basic error handling really helped me track down the source of my connection drops.\u003C/p\u003E\n"},{"CreatedByName":"R0d1n","CreatedById":95649,"CreatedDateTime":"2015-09-16T20:04:57Z","Content":"\n\u003Cp\u003EHello all,\u003C/p\u003E\u003Cp\u003EFirst off I want to say that I think this is one of the coolest addons available for KSP. Thanks to everyone who works on this for making something really interesting that has encouraged me to get back into arduino and has the potential to make my KSP experience much more fun!\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E ...if I can get it working. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003EI just started building an Arduino controlled display/interface, but reading the last couple of pages it looks like I\u0027ve picked a bad time. \u003C/p\u003E\u003Cp\u003EUnfortunately, my computer has \u003Cem\u003Eonly\u003C/em\u003E Windows 10 on it. I\u0027m testing using a clean KSP 1.0.4 install running at 32bit, along with version 13 of the demo sketch running on an Arduino Due. I\u0027m also running the latest version f the Arduino IDE.\u003C/p\u003E\u003Cp\u003EI have tried the following versions of the plugin:\u003C/p\u003E\u003Cp\u003E0.17.3\u003C/p\u003E\u003Cp\u003E0.17.4\u003C/p\u003E\u003Cp\u003EZalta\u0027s Dontwork fork\u003C/p\u003E\u003Cp\u003EZalta\u0027s Work fork\u003C/p\u003E\u003Cp\u003EFor the first three, my GLED communication light turns on briefly while the scene is loading, before turning off and remaining dark. Onscreen it tells me it hasn\u0027t found a display, and in my KSP log it finds the correct COM port for my Arduino, but \u003Cem\u003Ethen\u003C/em\u003E says \u0022KSP Display not found\u0022:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E[LOG 15:25:23.901] AddonLoader: Instantiating addon \u0027KSPSerialPort\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E[LOG 15:25:23.910] KSPSerialIO: Version 0.17.4\u003Cbr\u003E[LOG 15:25:23.912] KSPSerialIO: Getting serial ports...\u003Cbr\u003E[LOG 15:25:23.914] KSPSerialIO: Output packet size: 191/255\u003Cbr\u003E[LOG 15:25:23.924] KSPSerialIO: Found 2 serial ports\u003Cbr\u003E[LOG 15:25:23.926] KSPSerialIO: trying default port COM8\u003Cbr\u003E[LOG 15:25:23.934] Error opening serial port COM8: The port \u0060COM8\u0027 does not exist.\u003Cbr\u003E[LOG 15:25:23.938] KSPSerialIO: trying port \\Device\\USBSER000 - COM5\u003Cbr\u003E[LOG 15:25:27.999] KSPSerialIO: KSP Display not found\u003Cbr\u003E[LOG 15:25:28.000] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EZalta\u0027s Work fork does some interesting stuff, however. My GLED sometimes briefly lights up as with the other three versions, but usually doesn\u0027t. Either way, once the scene is loaded all my leds remain blank and hardware controls are unresponsive. Nevertheless, the onscreen notification and the KSP log file both tell me I\u0027m getting a connection:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E[LOG 14:09:08.801] AddonLoader: Instantiating addon \u0027KSPSerialPort\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E[LOG 14:09:08.812] KSPSerialIO: Version 0.17.4\u003Cbr\u003E[LOG 14:09:08.814] KSPSerialIO: Getting serial ports...\u003Cbr\u003E[LOG 14:09:08.816] KSPSerialIO: Output packet size: 191/255\u003Cbr\u003E[LOG 14:09:08.822] KSPSerialIO: Found 2 serial ports\u003Cbr\u003E[LOG 14:09:08.824] KSPSerialIO: trying default port COM8\u003Cbr\u003E[LOG 14:09:08.832] Error opening serial port COM8: The port \u0060COM8\u0027 does not exist.\u003Cbr\u003E[LOG 14:09:08.836] KSPSerialIO: trying port \\Device\\USBSER000 - COM5\u003Cbr\u003E[LOG 14:09:11.450] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:11.451] 164\u003Cbr\u003E[LOG 14:09:11.453] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.456] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.458] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.459] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.461] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.463] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.464] KSPSerialIO : Calling succefull ...\u003Cbr\u003E[LOG 14:09:11.497] KSPSerialIO: found KSP Display at COM5\u003Cbr\u003E[LOG 14:09:11.499] AddonLoader: Instantiating addon \u0027KSPSerialIO\u0027 from assembly \u0027KSPSerialIO\u0027\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EUnfortunately, the game runs at an abysmal framerate with this version, and the plugin spams the log fiercely:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cdiv\u003E\u003Cbr\u003E[LOG 14:09:21.570] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:21.572] 0\u003Cbr\u003E[LOG 14:09:21.668] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:21.670] 0\u003Cbr\u003E[LOG 14:09:21.775] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:21.779] 0\u003Cbr\u003E[LOG 14:09:21.784] [PlanetariumCamera]: Focus: Kerbal X\u003Cbr\u003E[LOG 14:09:21.964] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:21.967] 0\u003Cbr\u003E[WRN 14:09:22.060] [CurrencyWidgetsApp]: No live widgets to Despawn!\u003Cbr\u003E[LOG 14:09:22.065] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.068] 0\u003Cbr\u003E[LOG 14:09:22.126] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.128] 0\u003Cbr\u003E[LOG 14:09:22.228] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.231] 0\u003Cbr\u003E[LOG 14:09:22.310] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.312] 0\u003Cbr\u003E[LOG 14:09:22.382] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.385] 0\u003Cbr\u003E[LOG 14:09:22.455] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.458] 0\u003Cbr\u003E[LOG 14:09:22.535] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.538] 0\u003Cbr\u003E[LOG 14:09:22.605] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.607] 0\u003Cbr\u003E[LOG 14:09:22.681] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.683] 0\u003Cbr\u003E[LOG 14:09:22.757] KSPSerialIO : Calling our event, trying to read ...\u003Cbr\u003E[LOG 14:09:22.760] 0\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EIn each case, I made sure the baud rate matched, tried increasing the Handshake Delay, etc.\u003C/p\u003E\u003Cp\u003EIf you want to take a look at the full logs, you can get them \u003Ca href=\u0022https://www.dropbox.com/sh/9vx8knczdrwpqh2/AABXRuasCa7W2c777mB4Yczca?dl=0\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003EHERE\u003C/strong\u003E\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EI\u0027m guessing this is an ongoing problem with Windows 10, but I figured I\u0027d post my test results here for posterity, and to see if anyone has suggestions for how I might try to get the plugin working.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\n"},{"CreatedByName":"Antipaten","CreatedById":108057,"CreatedDateTime":"2015-09-16T21:17:08Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022R0d1n\u0022 data-cite=\u0022R0d1n\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EI just started building an Arduino controlled display/interface, but reading the last couple of pages it looks like I\u0027ve picked a bad time. \u003C/p\u003E\u003Cp\u003EUnfortunately, my computer has \u003Cem\u003Eonly\u003C/em\u003E Windows 10 on it. I\u0027m testing using a clean KSP 1.0.4 install running at 32bit, along with version 13 of the demo sketch running on an Arduino Due. I\u0027m also running the latest version f the Arduino IDE.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m running Windows 7 and it works fine. If you can get your hands on a copy of 7 it would probably be the best way on getting on with your project. Another alternative would be to run Linux and get proper 64 bit support too.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-09-17T15:33:40Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022bork_bork\u0022 data-cite=\u0022bork_bork\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWould it be possible to add some error tracking to the arduino code to watch for serial buffer overflows? Putting in a bit of basic error handling really helped me track down the source of my connection drops.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Zalta","CreatedById":150831,"CreatedDateTime":"2015-09-17T16:48:24Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022R0d1n\u0022 data-cite=\u0022R0d1n\u0022\u003E\u003Cdiv\u003EHello all,\u003Cp\u003EI\u0027m guessing this is an ongoing problem with Windows 10, but I figured I\u0027d post my test results here for posterity, and to see if anyone has suggestions for how I might try to get the plugin working.\u003C/p\u003E\u003Cp\u003EThanks!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t have framerate issues, but my PC is verry powerfull.\u003C/p\u003E\u003Cp\u003EAs said Zitronen, removing the event is not a pretty solution, because we force the plugin to work everytime, and it\u0027s bad.\u003C/p\u003E\u003Cp\u003EI have delays problem with my code, the response time is something like .1 or .2 seconds.\u003C/p\u003E\u003Cp\u003EI think I\u0027m going to give up, and install Windows 7 in dual-boot.\u003C/p\u003E\n"},{"CreatedByName":"zitronen","CreatedById":11842,"CreatedDateTime":"2015-09-17T19:31:01Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Zalta\u0022 data-cite=\u0022Zalta\u0022\u003E\u003Cdiv\u003EI don\u0027t have framerate issues, but my PC is verry powerfull.\u003Cp\u003EAs said Zitronen, removing the event is not a pretty solution, because we force the plugin to work everytime, and it\u0027s bad.\u003C/p\u003E\u003Cp\u003EI have delays problem with my code, the response time is something like .1 or .2 seconds.\u003C/p\u003E\u003Cp\u003EI think I\u0027m going to give up, and install Windows 7 in dual-boot.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHave you tried contacting Marzubus? I think he had the same event issue on Mac/Linux. Maybe he knows the cause of it.\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-17T20:11:17Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Freshmeat\u0022 data-cite=\u0022Freshmeat\u0022\u003E\u003Cdiv\u003EI checked on my laptop with 1.6.2, and can confirm Scoppio. My main computer, with 1.6.4, has the path that zitronen indicate (and it worked like a charm). That one was an upgrade from 1.6.1, though. I am mystified.\u003Cp\u003EEDIT:\u003C/p\u003E\u003Cp\u003EDid you upgrade from 1.6.2? I found this in the changelog for 1.6.3:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E* AVR bundle files (core files and toolchain) is again inside IDE \u0022hardware\u0022 folder, instead of unpacked into user\u0027s home folder at first IDE startup\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETry to check \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u0026lt;userdir\u0026gt;\\AppData\\Roaming\\Arduino15\\packages\\arduino\\hardware\\avr\\\u0026lt;version\u0026gt;\\cores\\arduino\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003Eif on Windows, something like that if on Mac/Linux. It might be an artifact from an upgrade.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerfect! I totally forgot to check AppData/Roaming! I\u0027ll try the change today at night!\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-19T15:38:06Z","Content":"\n\u003Cp\u003EI need some help to understand how works the Action Groups and buttons.\u003C/p\u003E\u003Cp\u003EThis is my code at my arduino that controls the action groups.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E if (digitalRead(BT_\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E) {\u003C/p\u003E\u003Cp\u003E switch (pointer){\u003C/p\u003E\u003Cp\u003E case 0:\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 1:\u003C/p\u003E\u003Cp\u003E case 2:\u003C/p\u003E\u003Cp\u003E case 3:\u003C/p\u003E\u003Cp\u003E case 4:\u003C/p\u003E\u003Cp\u003E case 5:\u003C/p\u003E\u003Cp\u003E case 6:\u003C/p\u003E\u003Cp\u003E case 7:\u003C/p\u003E\u003Cp\u003E case 8:\u003C/p\u003E\u003Cp\u003E case 9:\u003C/p\u003E\u003Cp\u003E case 10:\u003C/p\u003E\u003Cp\u003E ControlGroups( pointer, HIGH);//~bitRead(VData.ActionGroups,pointer\u002B5));\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 11:\u003C/p\u003E\u003Cp\u003E MainControls(SAS, HIGH);//~bitRead(VData.ActionGroups,AGSAS)); \u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 12: \u003C/p\u003E\u003Cp\u003E MainControls(RCS, HIGH);//~bitRead(VData.ActionGroups,AGRCS)); \u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 13: \u003C/p\u003E\u003Cp\u003E MainControls(LIGHTS, HIGH);//~bitRead(VData.ActionGroups,AGLight));\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 14:\u003C/p\u003E\u003Cp\u003E MainControls(GEAR, HIGH);//~bitRead(VData.ActionGroups,AGGear)); \u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 15:\u003C/p\u003E\u003Cp\u003E MainControls(BRAKES, HIGH);// ~bitRead(VData.ActionGroups,AGBrakes));\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 16: \u003C/p\u003E\u003Cp\u003E MainControls(PRECISION, HIGH);//~precision); \u003C/p\u003E\u003Cp\u003E //precision = ~precision;\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 17:\u003C/p\u003E\u003Cp\u003E MainControls(ABORT, HIGH);//~bitRead(VData.ActionGroups,AGAbort));\u003C/p\u003E\u003Cp\u003E break;\u003C/p\u003E\u003Cp\u003E case 18:\u003C/p\u003E\u003Cp\u003E MainControls(STAGE, HIGH); \u003C/p\u003E\u003Cp\u003E /*\u003C/p\u003E\u003Cp\u003E if (Connected) {\u003C/p\u003E\u003Cp\u003E KSPBoardSendData(details(CPacket)); \u003C/p\u003E\u003Cp\u003E } \u003C/p\u003E\u003Cp\u003E while(digitalRead(BT_\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E);\u003C/p\u003E\u003Cp\u003E MainControls(STAGE, LOW); \u003C/p\u003E\u003Cp\u003E /*/\u003C/p\u003E\u003Cp\u003E break; \u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E if (Connected) {\u003C/p\u003E\u003Cp\u003E KSPBoardSendData(details(CPacket)); \u003C/p\u003E\u003Cp\u003E } \u003C/p\u003E\u003Cp\u003E while(digitalRead(BT_\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_cool.png\u0022 alt=\u0022B)\u0022\u003E);\u003C/p\u003E\u003Cp\u003E }\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe signal that I must send to turn ON action group 1 is a pulse or it has to stay on all the time I want ACG-1 to be on?\u003C/p\u003E\u003Cp\u003EFor STAGE, I need a pulse? How long it have to be?\u003C/p\u003E\u003Cp\u003EAnd the PRECISION do not seen to work.\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-19T17:49:37Z","Content":"\n\u003Cp\u003EAlso, with the bigger buffer size the project is running really smoth! It is AWESOME to see the RT-update of my artificial horizon, Now I CAN pilot using instrumentations \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Rapidwolf","CreatedById":151337,"CreatedDateTime":"2015-09-19T18:51:49Z","Content":"\n\u003Cp\u003EI\u0027d like to start by thanking you for making this mod, Zitronen. I\u0027ve been working with it off and on the last week and I\u0027m having a ton of fun (and learning lots!). I\u0027m finally going to be able to build the Kerbal Kontrol Panel I\u0027ve been wanting! \u003C/p\u003E\u003Cp\u003ESo things were going well. I\u0027ve had the brakes, gear, lights, RCS, SAS, Abort, Stage, and throttle all working great on my breadboard circuit. Last night I tried adding an LCD screen with a serial backpack and things went south. When I have any code in for the LCD I can\u0027t use anything else. While in KSP I can see it finds the right port and all, but it says \u0022No display found.\u0022 Also, the lights stay off and none of the buttons work. I have the throttle set so it only comes from the controller, but when the LCD is programmed in, I can fully control from the keyboard. The controller doesn\u0027t even try. Also, the LCD screen says \u00220.00\u0022 but I\u0027m guessing thats just from the \u0022Setup\u0022 function? \u003C/p\u003E\u003Cp\u003EI\u0027ve dabbled in programming for a long time, but I took a few years off due to school. I\u0027ve also never messed with this sort of thing, especially the hardware end. Dealing with serial is totally new to me, so this is probably a dummy error. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003ESpecs:\u003C/p\u003E\u003Cp\u003EI have an Arduino Uno (The mega is on its way! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E)\u003C/p\u003E\u003Cp\u003EThe LCD is a 20x4 on pin 2 (I\u0027ll post the code too) \u003C/p\u003E\u003Cp\u003EI have \u003Ca href=\u0022https://www.sparkfun.com/products/258\u0022 rel=\u0022external nofollow\u0022\u003ETHIS \u003C/a\u003Eserial backpack on the LCD\u003C/p\u003E\u003Cp\u003ENOTE: I\u0027m running out of pins and wire for my breadboard, so I don\u0027t have the LEDs functioning anymore.\u003C/p\u003E\u003Cp\u003EI\u0027ve only altered the Output and the KSPIODemo12 tab for the LCD, so I\u0027ll include those two.\u003C/p\u003E\u003Cp\u003EMY CODE:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E#include \u0026lt;SoftwareSerial.h\u0026gt;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESoftwareSerial lcd(3, 2); //LCD on pin 2\u003Cbr\u003Eint k = 0; //Variable for the LCD update cycle\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//pins for LEDs\u003Cbr\u003E#define GLED 5\u003Cbr\u003E//#define YLED 6\u003Cbr\u003E//#define RLED 7\u003Cbr\u003E//#define SASLED 11\u003Cbr\u003E//#define RCSLED 12\u003Cbr\u003E//#define CG1LED 13\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//pins for input\u003Cbr\u003E#define SASPIN 8\u003Cbr\u003E#define RCSPIN 9\u003Cbr\u003E//#define CG1PIN 10\u003Cbr\u003E#define THROTTLEPIN 0\u003Cbr\u003E#define STAGEPIN 7\u003Cbr\u003E#define ABORTPIN 10\u003Cbr\u003E#define LIGHTPIN 11\u003Cbr\u003E#define BRAKEPIN 12\u003Cbr\u003E#define GEARPIN 13\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E#define THROTTLEDB 4 //Throttle axis deadband\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Input enums\u003Cbr\u003E#define SAS 7\u003Cbr\u003E#define RCS 6\u003Cbr\u003E#define LIGHTS 5\u003Cbr\u003E#define GEAR 4\u003Cbr\u003E#define BRAKES 3\u003Cbr\u003E#define PRECISION 2\u003Cbr\u003E#define ABORT 1\u003Cbr\u003E#define STAGE 0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Action group statuses\u003Cbr\u003E#define AGSAS 0\u003Cbr\u003E#define AGRCS 1\u003Cbr\u003E#define AGLight 2\u003Cbr\u003E#define AGGear 3\u003Cbr\u003E#define AGBrakes 4\u003Cbr\u003E#define AGAbort 5\u003Cbr\u003E#define AGCustom01 6\u003Cbr\u003E#define AGCustom02 7\u003Cbr\u003E#define AGCustom03 8\u003Cbr\u003E#define AGCustom04 9\u003Cbr\u003E#define AGCustom05 10\u003Cbr\u003E#define AGCustom06 11\u003Cbr\u003E#define AGCustom07 12\u003Cbr\u003E#define AGCustom08 13\u003Cbr\u003E#define AGCustom09 14\u003Cbr\u003E#define AGCustom10 15\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//macro\u003Cbr\u003E#define details(name) (uint8_t*)\u0026amp;name,sizeof(name)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//if no message received from KSP for more than 2s, go idle\u003Cbr\u003E#define IDLETIMER 2000\u003Cbr\u003E#define CONTROLREFRESH 25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//warnings\u003Cbr\u003E#define GWARN 9 //9G Warning\u003Cbr\u003E#define GCAUTION 5 //5G Caution\u003Cbr\u003E#define FUELCAUTION 10.0 //10% Fuel Caution\u003Cbr\u003E#define FUELWARN 5.0 //5% Fuel warning\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eunsigned long deadtime, deadtimeOld, controlTime, controlTimeOld;\u003Cbr\u003Eunsigned long now;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eboolean Connected = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Ebyte caution = 0, warning = 0, id;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct VesselData\u003Cbr\u003E{\u003Cbr\u003E byte id; //1\u003Cbr\u003E float AP; //2\u003Cbr\u003E float PE; //3\u003Cbr\u003E float SemiMajorAxis; //4\u003Cbr\u003E float SemiMinorAxis; //5\u003Cbr\u003E float VVI; //6\u003Cbr\u003E float e; //7\u003Cbr\u003E float inc; //8\u003Cbr\u003E float G; //9\u003Cbr\u003E long TAp; //10\u003Cbr\u003E long TPe; //11\u003Cbr\u003E float TrueAnomaly; //12\u003Cbr\u003E float Density; //13\u003Cbr\u003E long period; //14\u003Cbr\u003E float RAlt; //15\u003Cbr\u003E float Alt; //16\u003Cbr\u003E float Vsurf; //17\u003Cbr\u003E float Lat; //18\u003Cbr\u003E float Lon; //19\u003Cbr\u003E float LiquidFuelTot; //20\u003Cbr\u003E float LiquidFuel; //21\u003Cbr\u003E float OxidizerTot; //22\u003Cbr\u003E float Oxidizer; //23\u003Cbr\u003E float EChargeTot; //24\u003Cbr\u003E float ECharge; //25\u003Cbr\u003E float MonoPropTot; //26\u003Cbr\u003E float MonoProp; //27\u003Cbr\u003E float IntakeAirTot; //28\u003Cbr\u003E float IntakeAir; //29\u003Cbr\u003E float SolidFuelTot; //30\u003Cbr\u003E float SolidFuel; //31\u003Cbr\u003E float XenonGasTot; //32\u003Cbr\u003E float XenonGas; //33\u003Cbr\u003E float LiquidFuelTotS; //34\u003Cbr\u003E float LiquidFuelS; //35\u003Cbr\u003E float OxidizerTotS; //36\u003Cbr\u003E float OxidizerS; //37\u003Cbr\u003E uint32_t MissionTime; //38\u003Cbr\u003E float deltaTime; //39\u003Cbr\u003E float VOrbit; //40\u003Cbr\u003E uint32_t MNTime; //41\u003Cbr\u003E float MNDeltaV; //42\u003Cbr\u003E float Pitch; //43\u003Cbr\u003E float Roll; //44\u003Cbr\u003E float Heading; //45\u003Cbr\u003E uint16_t ActionGroups; //46 status bit order:SAS, RCS, Light, Gear, Brakes, Abort, Custom01 - 10\u003Cbr\u003E byte SOINumber; //47 SOI Number (decimal format: sun-planet-moon e.g. 130 = kerbin, 131 = mun)\u003Cbr\u003E byte MaxOverHeat; //48 Max part overheat (% percent)\u003Cbr\u003E float MachNumber; //49\u003Cbr\u003E float IAS; //50 Indicated Air Speed\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct HandShakePacket\u003Cbr\u003E{\u003Cbr\u003E byte id;\u003Cbr\u003E byte M1;\u003Cbr\u003E byte M2;\u003Cbr\u003E byte M3;\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct ControlPacket {\u003Cbr\u003E byte id;\u003Cbr\u003E byte MainControls; //SAS RCS Lights Gear Brakes Precision Abort Stage\u003Cbr\u003E byte Mode; //0 = stage, 1 = docking, 2 = map\u003Cbr\u003E unsigned int ControlGroup; //control groups 1-10 in 2 bytes\u003Cbr\u003E byte AdditionalControlByte1; //other stuff\u003Cbr\u003E byte AdditionalControlByte2;\u003Cbr\u003E int Pitch; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Roll; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Yaw; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TX; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TY; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TZ; //-1000 -\u0026gt; 1000\u003Cbr\u003E int WheelSteer; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Throttle; // 0 -\u0026gt; 1000\u003Cbr\u003E int WheelThrottle; // 0 -\u0026gt; 1000\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EHandShakePacket HPacket;\u003Cbr\u003EVesselData VData;\u003Cbr\u003EControlPacket CPacket;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid setup() {\u003Cbr\u003E Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E //LCD SETUP\u003Cbr\u003E Serial.begin(9600); //Starts the serial for the LCD\u003Cbr\u003E lcd.begin(9600); //Starts LCD \u003Cbr\u003E lcd.write(254); //Calls special command\u003Cbr\u003E lcd.write(0x10); //Sets BAUD to 38400\u003Cbr\u003E delay(500); //Waits 500\u003Cbr\u003E lcd.write(254); //Calls special command\u003Cbr\u003E lcd.write(1); //Clears the LCD\u003Cbr\u003E lcd.print(VData.G); //Displays the Gee forces (Only to start - output tab contains update function)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E initLEDS();\u003Cbr\u003E InitTxPackets();\u003Cbr\u003E controlsInit();\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E LEDSAllOff();\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid loop()\u003Cbr\u003E{\u003Cbr\u003E input();\u003Cbr\u003E output();\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Evoid output() {\u003Cbr\u003E now = millis();\u003Cbr\u003E controlTime = now - controlTimeOld; \u003Cbr\u003E if (controlTime \u0026gt; CONTROLREFRESH){\u003Cbr\u003E controlTimeOld = now;\u003Cbr\u003E controls();\u003Cbr\u003E } \u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid controls() {\u003Cbr\u003E if (Connected) {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(SASPIN)) //--------- This is how you do main controls\u003Cbr\u003E MainControls(SAS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(SAS, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(RCSPIN))\u003Cbr\u003E MainControls(RCS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(RCS, LOW);\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(STAGEPIN))\u003Cbr\u003E MainControls(STAGE, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(STAGE, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(ABORTPIN))\u003Cbr\u003E MainControls(ABORT, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(ABORT, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(LIGHTPIN))\u003Cbr\u003E MainControls(LIGHTS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(LIGHTS, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(BRAKEPIN))\u003Cbr\u003E MainControls(BRAKES, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(BRAKES, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(GEARPIN))\u003Cbr\u003E MainControls(GEAR, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(GEAR, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// if (digitalRead(CG1PIN)) //--------- This is how you do control groups\u003Cbr\u003E // ControlGroups(1, HIGH);\u003Cbr\u003E // else\u003Cbr\u003E // ControlGroups(1, LOW); \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E //This is an example of reading analog inputs to an axis, with deadband and limits\u003Cbr\u003E CPacket.Throttle = constrain(map(analogRead(THROTTLEPIN),THROTTLEDB,1024-THROTTLEDB,0,1000),0, 1000);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E // This is so the LCD only gets every third packet (fixes refresh problem)\u003Cbr\u003E if (k == 3){\u003Cbr\u003E UPLCD(); \u003Cbr\u003E k=0;\u003Cbr\u003E } else {\u003Cbr\u003E k\u002B\u002B;\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E KSPBoardSendData(details(CPacket));\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid UPLCD() {\u003Cbr\u003E lcd.write(254); //Calls the special command\u003Cbr\u003E lcd.write(1); //Clears the screen\u003Cbr\u003E lcd.print(VData.G); //Displays the Gee forces on screen\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid controlsInit() {\u003Cbr\u003E pinMode(SASPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(RCSPIN, INPUT_PULLUP);\u003Cbr\u003E// pinMode(CG1PIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(STAGEPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(ABORTPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(LIGHTPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(BRAKEPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(GEARPIN, INPUT_PULLUP);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid MainControls(byte n, boolean s) {\u003Cbr\u003E if (s)\u003Cbr\u003E CPacket.MainControls |= (1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 1. all other bits left alone.\u003Cbr\u003E else\u003Cbr\u003E CPacket.MainControls \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 0. all other bits left alone.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid ControlGroups(byte n, boolean s) {\u003Cbr\u003E if (s)\u003Cbr\u003E CPacket.ControlGroup |= (1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 1. all other bits left alone.\u003Cbr\u003E else\u003Cbr\u003E CPacket.ControlGroup \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 0. all other bits left alone.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EThe code probably looks messy, I\u0027m going to clean it up once I get everything working and the Mega hooked up. \u003C/p\u003E\u003Cp\u003EAny ideas on what I\u0027m doing wrong? I can send the logs too if you\u0027d like, but they just say \u0022Found on COM3\u0022 and then \u0022No display\u0022.\u003C/p\u003E\u003Cp\u003EThanks in advance for your help! And thanks for this awesome mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Scoppio","CreatedById":13701,"CreatedDateTime":"2015-09-19T21:12:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rapidwolf\u0022 data-cite=\u0022Rapidwolf\u0022\u003E\u003Cdiv\u003EI\u0027d like to start by thanking you for making this mod, Zitronen. I\u0027ve been working with it off and on the last week and I\u0027m having a ton of fun (and learning lots!). I\u0027m finally going to be able to build the Kerbal Kontrol Panel I\u0027ve been wanting! \u003Cp\u003ESo things were going well. I\u0027ve had the brakes, gear, lights, RCS, SAS, Abort, Stage, and throttle all working great on my breadboard circuit. Last night I tried adding an LCD screen with a serial backpack and things went south. When I have any code in for the LCD I can\u0027t use anything else. While in KSP I can see it finds the right port and all, but it says \u0022No display found.\u0022 Also, the lights stay off and none of the buttons work. I have the throttle set so it only comes from the controller, but when the LCD is programmed in, I can fully control from the keyboard. The controller doesn\u0027t even try. Also, the LCD screen says \u00220.00\u0022 but I\u0027m guessing thats just from the \u0022Setup\u0022 function? \u003C/p\u003E\u003Cp\u003EI\u0027ve dabbled in programming for a long time, but I took a few years off due to school. I\u0027ve also never messed with this sort of thing, especially the hardware end. Dealing with serial is totally new to me, so this is probably a dummy error. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif\u0022 alt=\u0022:sticktongue:\u0022\u003E\u003C/p\u003E\u003Cp\u003ESpecs:\u003C/p\u003E\u003Cp\u003EI have an Arduino Uno (The mega is on its way! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E)\u003C/p\u003E\u003Cp\u003EThe LCD is a 20x4 on pin 2 (I\u0027ll post the code too) \u003C/p\u003E\u003Cp\u003EI have \u003Ca href=\u0022https://www.sparkfun.com/products/258\u0022 rel=\u0022external nofollow\u0022\u003ETHIS \u003C/a\u003Eserial backpack on the LCD\u003C/p\u003E\u003Cp\u003ENOTE: I\u0027m running out of pins and wire for my breadboard, so I don\u0027t have the LEDs functioning anymore.\u003C/p\u003E\u003Cp\u003EI\u0027ve only altered the Output and the KSPIODemo12 tab for the LCD, so I\u0027ll include those two.\u003C/p\u003E\u003Cp\u003EMY CODE:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E#include \u0026lt;SoftwareSerial.h\u0026gt;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ESoftwareSerial lcd(3, 2); //LCD on pin 2\u003Cbr\u003Eint k = 0; //Variable for the LCD update cycle\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//pins for LEDs\u003Cbr\u003E#define GLED 5\u003Cbr\u003E//#define YLED 6\u003Cbr\u003E//#define RLED 7\u003Cbr\u003E//#define SASLED 11\u003Cbr\u003E//#define RCSLED 12\u003Cbr\u003E//#define CG1LED 13\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//pins for input\u003Cbr\u003E#define SASPIN 8\u003Cbr\u003E#define RCSPIN 9\u003Cbr\u003E//#define CG1PIN 10\u003Cbr\u003E#define THROTTLEPIN 0\u003Cbr\u003E#define STAGEPIN 7\u003Cbr\u003E#define ABORTPIN 10\u003Cbr\u003E#define LIGHTPIN 11\u003Cbr\u003E#define BRAKEPIN 12\u003Cbr\u003E#define GEARPIN 13\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E#define THROTTLEDB 4 //Throttle axis deadband\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Input enums\u003Cbr\u003E#define SAS 7\u003Cbr\u003E#define RCS 6\u003Cbr\u003E#define LIGHTS 5\u003Cbr\u003E#define GEAR 4\u003Cbr\u003E#define BRAKES 3\u003Cbr\u003E#define PRECISION 2\u003Cbr\u003E#define ABORT 1\u003Cbr\u003E#define STAGE 0\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//Action group statuses\u003Cbr\u003E#define AGSAS 0\u003Cbr\u003E#define AGRCS 1\u003Cbr\u003E#define AGLight 2\u003Cbr\u003E#define AGGear 3\u003Cbr\u003E#define AGBrakes 4\u003Cbr\u003E#define AGAbort 5\u003Cbr\u003E#define AGCustom01 6\u003Cbr\u003E#define AGCustom02 7\u003Cbr\u003E#define AGCustom03 8\u003Cbr\u003E#define AGCustom04 9\u003Cbr\u003E#define AGCustom05 10\u003Cbr\u003E#define AGCustom06 11\u003Cbr\u003E#define AGCustom07 12\u003Cbr\u003E#define AGCustom08 13\u003Cbr\u003E#define AGCustom09 14\u003Cbr\u003E#define AGCustom10 15\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//macro\u003Cbr\u003E#define details(name) (uint8_t*)\u0026amp;name,sizeof(name)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//if no message received from KSP for more than 2s, go idle\u003Cbr\u003E#define IDLETIMER 2000\u003Cbr\u003E#define CONTROLREFRESH 25\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E//warnings\u003Cbr\u003E#define GWARN 9 //9G Warning\u003Cbr\u003E#define GCAUTION 5 //5G Caution\u003Cbr\u003E#define FUELCAUTION 10.0 //10% Fuel Caution\u003Cbr\u003E#define FUELWARN 5.0 //5% Fuel warning\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eunsigned long deadtime, deadtimeOld, controlTime, controlTimeOld;\u003Cbr\u003Eunsigned long now;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Eboolean Connected = false;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Ebyte caution = 0, warning = 0, id;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct VesselData\u003Cbr\u003E{\u003Cbr\u003E byte id; //1\u003Cbr\u003E float AP; //2\u003Cbr\u003E float PE; //3\u003Cbr\u003E float SemiMajorAxis; //4\u003Cbr\u003E float SemiMinorAxis; //5\u003Cbr\u003E float VVI; //6\u003Cbr\u003E float e; //7\u003Cbr\u003E float inc; //8\u003Cbr\u003E float G; //9\u003Cbr\u003E long TAp; //10\u003Cbr\u003E long TPe; //11\u003Cbr\u003E float TrueAnomaly; //12\u003Cbr\u003E float Density; //13\u003Cbr\u003E long period; //14\u003Cbr\u003E float RAlt; //15\u003Cbr\u003E float Alt; //16\u003Cbr\u003E float Vsurf; //17\u003Cbr\u003E float Lat; //18\u003Cbr\u003E float Lon; //19\u003Cbr\u003E float LiquidFuelTot; //20\u003Cbr\u003E float LiquidFuel; //21\u003Cbr\u003E float OxidizerTot; //22\u003Cbr\u003E float Oxidizer; //23\u003Cbr\u003E float EChargeTot; //24\u003Cbr\u003E float ECharge; //25\u003Cbr\u003E float MonoPropTot; //26\u003Cbr\u003E float MonoProp; //27\u003Cbr\u003E float IntakeAirTot; //28\u003Cbr\u003E float IntakeAir; //29\u003Cbr\u003E float SolidFuelTot; //30\u003Cbr\u003E float SolidFuel; //31\u003Cbr\u003E float XenonGasTot; //32\u003Cbr\u003E float XenonGas; //33\u003Cbr\u003E float LiquidFuelTotS; //34\u003Cbr\u003E float LiquidFuelS; //35\u003Cbr\u003E float OxidizerTotS; //36\u003Cbr\u003E float OxidizerS; //37\u003Cbr\u003E uint32_t MissionTime; //38\u003Cbr\u003E float deltaTime; //39\u003Cbr\u003E float VOrbit; //40\u003Cbr\u003E uint32_t MNTime; //41\u003Cbr\u003E float MNDeltaV; //42\u003Cbr\u003E float Pitch; //43\u003Cbr\u003E float Roll; //44\u003Cbr\u003E float Heading; //45\u003Cbr\u003E uint16_t ActionGroups; //46 status bit order:SAS, RCS, Light, Gear, Brakes, Abort, Custom01 - 10\u003Cbr\u003E byte SOINumber; //47 SOI Number (decimal format: sun-planet-moon e.g. 130 = kerbin, 131 = mun)\u003Cbr\u003E byte MaxOverHeat; //48 Max part overheat (% percent)\u003Cbr\u003E float MachNumber; //49\u003Cbr\u003E float IAS; //50 Indicated Air Speed\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct HandShakePacket\u003Cbr\u003E{\u003Cbr\u003E byte id;\u003Cbr\u003E byte M1;\u003Cbr\u003E byte M2;\u003Cbr\u003E byte M3;\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Estruct ControlPacket {\u003Cbr\u003E byte id;\u003Cbr\u003E byte MainControls; //SAS RCS Lights Gear Brakes Precision Abort Stage\u003Cbr\u003E byte Mode; //0 = stage, 1 = docking, 2 = map\u003Cbr\u003E unsigned int ControlGroup; //control groups 1-10 in 2 bytes\u003Cbr\u003E byte AdditionalControlByte1; //other stuff\u003Cbr\u003E byte AdditionalControlByte2;\u003Cbr\u003E int Pitch; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Roll; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Yaw; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TX; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TY; //-1000 -\u0026gt; 1000\u003Cbr\u003E int TZ; //-1000 -\u0026gt; 1000\u003Cbr\u003E int WheelSteer; //-1000 -\u0026gt; 1000\u003Cbr\u003E int Throttle; // 0 -\u0026gt; 1000\u003Cbr\u003E int WheelThrottle; // 0 -\u0026gt; 1000\u003Cbr\u003E};\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003EHandShakePacket HPacket;\u003Cbr\u003EVesselData VData;\u003Cbr\u003EControlPacket CPacket;\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid setup() {\u003Cbr\u003E Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E //LCD SETUP\u003Cbr\u003E Serial.begin(9600); //Starts the serial for the LCD\u003Cbr\u003E lcd.begin(9600); //Starts LCD \u003Cbr\u003E lcd.write(254); //Calls special command\u003Cbr\u003E lcd.write(0x10); //Sets BAUD to 38400\u003Cbr\u003E delay(500); //Waits 500\u003Cbr\u003E lcd.write(254); //Calls special command\u003Cbr\u003E lcd.write(1); //Clears the LCD\u003Cbr\u003E lcd.print(VData.G); //Displays the Gee forces (Only to start - output tab contains update function)\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E initLEDS();\u003Cbr\u003E InitTxPackets();\u003Cbr\u003E controlsInit();\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E LEDSAllOff();\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid loop()\u003Cbr\u003E{\u003Cbr\u003E input();\u003Cbr\u003E output();\u003Cbr\u003E}\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003Evoid output() {\u003Cbr\u003E now = millis();\u003Cbr\u003E controlTime = now - controlTimeOld; \u003Cbr\u003E if (controlTime \u0026gt; CONTROLREFRESH){\u003Cbr\u003E controlTimeOld = now;\u003Cbr\u003E controls();\u003Cbr\u003E } \u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid controls() {\u003Cbr\u003E if (Connected) {\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(SASPIN)) //--------- This is how you do main controls\u003Cbr\u003E MainControls(SAS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(SAS, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(RCSPIN))\u003Cbr\u003E MainControls(RCS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(RCS, LOW);\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(STAGEPIN))\u003Cbr\u003E MainControls(STAGE, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(STAGE, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(ABORTPIN))\u003Cbr\u003E MainControls(ABORT, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(ABORT, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(LIGHTPIN))\u003Cbr\u003E MainControls(LIGHTS, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(LIGHTS, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(BRAKEPIN))\u003Cbr\u003E MainControls(BRAKES, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(BRAKES, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E if (digitalRead(GEARPIN))\u003Cbr\u003E MainControls(GEAR, HIGH);\u003Cbr\u003E else\u003Cbr\u003E MainControls(GEAR, LOW);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E// if (digitalRead(CG1PIN)) //--------- This is how you do control groups\u003Cbr\u003E // ControlGroups(1, HIGH);\u003Cbr\u003E // else\u003Cbr\u003E // ControlGroups(1, LOW); \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E //This is an example of reading analog inputs to an axis, with deadband and limits\u003Cbr\u003E CPacket.Throttle = constrain(map(analogRead(THROTTLEPIN),THROTTLEDB,1024-THROTTLEDB,0,1000),0, 1000);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E // This is so the LCD only gets every third packet (fixes refresh problem)\u003Cbr\u003E if (k == 3){\u003Cbr\u003E UPLCD(); \u003Cbr\u003E k=0;\u003Cbr\u003E } else {\u003Cbr\u003E k\u002B\u002B;\u003Cbr\u003E }\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E KSPBoardSendData(details(CPacket));\u003Cbr\u003E }\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid UPLCD() {\u003Cbr\u003E lcd.write(254); //Calls the special command\u003Cbr\u003E lcd.write(1); //Clears the screen\u003Cbr\u003E lcd.print(VData.G); //Displays the Gee forces on screen\u003Cbr\u003E\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid controlsInit() {\u003Cbr\u003E pinMode(SASPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(RCSPIN, INPUT_PULLUP);\u003Cbr\u003E// pinMode(CG1PIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(STAGEPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(ABORTPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(LIGHTPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(BRAKEPIN, INPUT_PULLUP);\u003Cbr\u003E pinMode(GEARPIN, INPUT_PULLUP);\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid MainControls(byte n, boolean s) {\u003Cbr\u003E if (s)\u003Cbr\u003E CPacket.MainControls |= (1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 1. all other bits left alone.\u003Cbr\u003E else\u003Cbr\u003E CPacket.MainControls \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 0. all other bits left alone.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003Evoid ControlGroups(byte n, boolean s) {\u003Cbr\u003E if (s)\u003Cbr\u003E CPacket.ControlGroup |= (1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 1. all other bits left alone.\u003Cbr\u003E else\u003Cbr\u003E CPacket.ControlGroup \u0026amp;= ~(1 \u0026lt;\u0026lt; n); // forces nth bit of x to be 0. all other bits left alone.\u003Cbr\u003E}\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003EThe code probably looks messy, I\u0027m going to clean it up once I get everything working and the Mega hooked up. \u003C/p\u003E\u003Cp\u003EAny ideas on what I\u0027m doing wrong? I can send the logs too if you\u0027d like, but they just say \u0022Found on COM3\u0022 and then \u0022No display\u0022.\u003C/p\u003E\u003Cp\u003EThanks in advance for your help! And thanks for this awesome mod! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EEasy fix!\u003C/p\u003E\u003Cp\u003EYou forgot to tell that the LCD is using a different COM \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022;)\u0022\u003E\u003C/p\u003E\u003Cp\u003EMake sure you code FIRST the KSP-ARDU comunication and only then you setup the LCD COM.\u003C/p\u003E\u003Cp\u003Evoid setup() {\u003C/p\u003E\u003Cp\u003E Serial.begin(38400);\u003C/p\u003E\u003Cp\u003E InitTxPackets();\u003C/p\u003E\u003Cp\u003E controlsInit(); \u003C/p\u003E\u003Cp\u003E//finished the setup of the KSP-ARDU COM\u003C/p\u003E\u003Cp\u003E//start and set other gizmos below this line\u003C/p\u003E\u003Cp\u003E Monitor.begin(TVSYSTEM, SCREENWIDTH, SCREENHEIGHT);\u003C/p\u003E\u003Cp\u003E Monitor.select_font(font6x8); \u003C/p\u003E\u003Cp\u003E Monitor.clear_screen();\u003C/p\u003E\u003Cp\u003E Monitor.println(10, 10, \u0022KERBAL CONSOLE\u0022);\u003C/p\u003E\u003Cp\u003E Monitor.print(\u0022v 0.2\u0022);\u003C/p\u003E\u003Cp\u003E Monitor.delay_frame(120);\u003C/p\u003E\u003Cp\u003E Monitor.clear_screen();\u003C/p\u003E\u003Cp\u003E}\u003C/p\u003E\n"},{"CreatedByName":"stibbons","CreatedById":57865,"CreatedDateTime":"2015-09-19T22:01:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scoppio\u0022 data-cite=\u0022Scoppio\u0022\u003E\u003Cdiv\u003EThe signal that I must send to turn ON action group 1 is a pulse or it has to stay on all the time I want ACG-1 to be on?\u003Cp\u003EFor STAGE, I need a pulse? How long it have to be?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EAction groups are designed to work with toggle inputs. They\u0027re only on while the appropriate bit in the ControlGroup is high, they can\u0027t be pulsed. If you want to use momentary buttons or similar you\u0027ll need to latch your inputs. I talked about some code I wrote to do that back in \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/66393-Hardware-Plugin-Arduino-based-physical-display-serial-port-io-tutorial-%2806-Jun%29?p=2010723\u0026amp;viewfull=1#post2010723\u0022 rel=\u0022external nofollow\u0022\u003Ethis post\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EStage does just have to be a pulse. Pretty sure everybody does it by just sending the current state of the stage button, so their pulse is as long as they hold the button. But I strongly suspect pulsing it for a single packet will work too.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003EAnd the PRECISION do not seen to work.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThere\u0027s been a bit for precision in MainControls since forever, but it\u0027s never been hooked up. I vaguely recall zitronen complaining about his attempts at it being too unreliable to ship. I haven\u0027t had much time to play with this plugin for a little while, but I wouldn\u0027t mind trying out the ides from \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/129367-Updating-precision-control-mode-UI\u0022 rel=\u0022external nofollow\u0022\u003Ethis thread\u003C/a\u003E for that though.\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:8px;\u0022\u003E\u003Cspan style=\u0022color:#C0C0C0;\u0022\u003E- - - Updated - - -\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Rapidwolf\u0022 data-cite=\u0022Rapidwolf\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Evoid setup() {\u003Cbr\u003E  Serial.begin(38400);\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E  //LCD SETUP\u003Cbr\u003E  Serial.begin(9600); //Starts the serial for the LCD\u003Cbr\u003E...\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EYou initially set the serial port speed to 38400, but then immediately set it again to 9600. I guess that\u0027s left over from previous LCD test code? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Remove that second Serial.begin and you\u0027re probably good to go. But I\u0027d check the rest of the LCD code you added to make sure there\u0027s no other debug stuff being printed to the serial port.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-19T22:08:18Z\u0022 title=\u002209/19/2015 10:08  PM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 19, 2015\u003C/time\u003E by stibbons\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Rapidwolf","CreatedById":151337,"CreatedDateTime":"2015-09-20T00:29:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022stibbons\u0022 data-cite=\u0022stibbons\u0022\u003E\u003Cdiv\u003EYou initially set the serial port speed to 38400, but then immediately set it again to 9600. I guess that\u0027s left over from previous LCD test code? \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Remove that second Serial.begin and you\u0027re probably good to go. But I\u0027d check the rest of the LCD code you added to make sure there\u0027s no other debug stuff being printed to the serial port.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat fixed it. *facepalm* I knew when I asked here that it would be something obvious! Thank you! It was left over, like you said. It was late when I was at that stage and I over looked it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Scoppio\u0022 data-cite=\u0022Scoppio\u0022\u003E\u003Cdiv\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EEasy fix!\u003C/span\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EYou forgot to tell that the LCD is using a different COM \u003C/span\u003E\u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 alt=\u0022:wink:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMake sure you code FIRST the KSP-ARDU comunication and only then you setup the LCD COM.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003Evoid setup() {\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003ESerial.begin(38400);\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EInitTxPackets();\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EcontrolsInit(); \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003E//finished the setup of the KSP-ARDU COM\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003E//start and set other gizmos below this line\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.begin(TVSYSTEM, SCREENWIDTH, SCREENHEIGHT);\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.select_font(font6x8); \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.clear_screen();\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.println(10, 10, \u0022KERBAL CONSOLE\u0022);\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.print(\u0022v 0.2\u0022);\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.delay_frame(120);\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003EMonitor.clear_screen();\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#3E3E3E;\u0022\u003E}\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m new to this LCD and serial stuff. What do you mean use a different COM? It sounds important. Does it matter that this is a character based LCD?\u003C/p\u003E\u003Cp\u003EThat being said, my LCD is updating now, but it cuts out at random times. All the controls will cut out and the LCD will quit updating. It\u0027ll start up randomly, sometimes it won\u0027t come up at all. Is this related to that? \u003C/p\u003E\u003Cp\u003EThanks again for your help guys!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-09-20T01:18:06Z\u0022 title=\u002209/20/2015 01:18  AM\u0022 data-short=\u00228 yr\u0022\u003ESeptember 20, 2015\u003C/time\u003E by Rapidwolf\u003C/strong\u003E\n\u003C/span\u003E\n"}]}