{"TopicId":138482,"ForumId":36,"TopicTitle":"Biome detection help","CreatedByName":"jmbon","CreatedById":87472,"CreatedDateTime":"2016-04-29T19:03:37Z","PageNum":1,"Articles":[{"CreatedByName":"jmbon","CreatedById":87472,"CreatedDateTime":"2016-04-29T19:03:37Z","Content":"\n\u003Cp\u003E\nHello,\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0 \u00A0I am trying to create my first addon for KSP and I am having problems detecting which biomes my active vessel is currently. I\u0027ve looked through the API calls, class calls and some old code on Github but none of it has really helped. I feel like I am on the right track but hung up. Below is a snippet of my code where I am getting ready to detect the current biome my vessel is in.\u00A0\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E            CelestialBody Body = new CelestialBody();\n            CBAttributeMapSO.MapAttribute[] biome = Body.BiomeMap.Attributes;\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI feel like my Body variable is the right route or maybe my FlightGlobals.activevessel. As far as I can tell, biome above just gives me a list of the current CelestialBody biomes, is that correct?\n\u003C/p\u003E\n\u003Cp\u003E\nIn my code, I already have access to the Vessel class and the FlightGlobals class and my program is inheriting from : monobehavior.\n\u003C/p\u003E\n\u003Cp\u003E\nAny help or hints you can give would be greatly appreciated. Thanks.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-04-29T22:37:51Z","Content":"\n\u003Cp\u003E\nThere are two simple ways of getting the biome for a location:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Estring biome \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan\u003EScienceUtil\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EGetExperimentBiome\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Ebody\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E lat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Elong\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E);\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//Returns the biome name\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E\n\n\u003C/span\u003E\u003Cspan\u003ECBAttributeMapSO\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EMapAttribute\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E biomeAtt \u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E body\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EBiomeMap\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E.\u003C/span\u003E\u003Cspan\u003EGetAtt\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E(\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Elat\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E,\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022kwd\u0022\u003Elong\u003C/span\u003E\u003Cspan class=\u0022pun\u0022\u003E)\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022com\u0022\u003E//(Coordinates in radians)  Returns the attribute\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nThe attribute can be used\u00A0to get the name, associated color, or the unused biome value (which I think is supposed to be some kind of science multiplier, but stock science methods don\u0027t use it).\n\u003C/p\u003E\n"},{"CreatedByName":"jmbon","CreatedById":87472,"CreatedDateTime":"2016-04-30T02:11:28Z","Content":"\n\u003Cp\u003E\nThanks for the reply. Your second way is the one I was slowly heading towards. I really appreciate it. Is there a list of official biome names in the KSP API somewhere? I\u0027m sure I can\u0027t do something like,\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003E            if (biome.name == \u0022my_biomeKSC\u0022)\n            {\n                // Do stuff\n            }\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nI\u0027ve looked through the latest Scansat source code but couldn\u0027t find a list of official c# biome names, enums, etc. Thanks again.\u00A0\n\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2016-04-30T02:50:17Z","Content":"\n\u003Cp\u003E\nThere isn\u0027t a list. Just the Body.BiomeMap.Attributes array for each planet.\n\u003C/p\u003E\n\u003Cp\u003E\nAlso, the KSC building biomes don\u0027t show up there. I\u0027m not really sure how to get all of those, except for through\u00A0Vessel.GetLandedAtString(vessel.landedAt), which will only tell you the specific KSC biome that you are in for that vessel.\n\u003C/p\u003E\n"},{"CreatedByName":"jmbon","CreatedById":87472,"CreatedDateTime":"2016-04-30T03:08:46Z","Content":"\n\u003Cp\u003E\n\u003Cimg alt=\u0022:blush:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 title=\u0022:blush:\u0022\u003E\u003C/p\u003E\n\u003Cp\u003E\nWell crap. How would I tell if my craft were over the oceans biome or highlands biome? I know it\u0027s a noob question but without being able to do a logical on either a str compare or enum result, I\u0027m temporarily in the weeds. I really do appreciate the help. Btw, huge fan of Orbital Science. It\u0027s one of my core mods where I don\u0027t even play KSP until Orbital Science is up and running for that version. \u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022;)\u0022\u003E\u003C/p\u003E\n"}]}