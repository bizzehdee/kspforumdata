{"TopicId":83603,"ForumId":36,"TopicTitle":"DMP Linux Server Tools","CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-02T03:31:52Z","PageNum":1,"Articles":[{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-02T03:31:52Z","Content":"\n\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003E\u003Cspan style=\u0022color:#0000ff;\u0022\u003ECurrent Status: WORKING\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:36px;\u0022\u003E\u003Cspan style=\u0022color:#0000ff;\u0022\u003E(Debian/Ubuntu \u0026amp; RHEL/CentOS)\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:24px;\u0022\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E*PLEASE READ UPDATE INSTRUCTIONS BELOW!\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:24px;\u0022\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E THIS HAS CHANGE QUITE A BIT!!!!!! YOU HAVE BEEN WARNED!\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003EUpdate 01/06/15\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EThe pbinstall script now has an update option (for updating what\u0027s already in pbinstall) and a no-disclaim option (for unattended installs)!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003ETo update your pbinstall file (if you already downloaded it), just run:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Ecd ~/dmpinstaller \u0026amp;\u0026amp; curl http://pastebin.com/raw.php?i=42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EIf this is the first time you are running pbinstall/installing DMP with these tools, you can ignore this update and proceed to the install instructions at the bottom of this post.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EWhat is this?\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EA set of linux-native tools for administering and installing a DarkMultiPlayer server on GNU/Linux. This is primarily aimed at remote linux servers, which typically have no GUI.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EWhat does it include?\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpserver - For controlling the state of the servers USAGE: \u0027sudo dmpserver start\u0027 OR \u0027sudo dmpserver servername start\u0027\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpcmd - For sending commands to DMPServers USAGE: \u0027sudo dmpcmd servername \u0022admin add dsonbill\u0022\u0027\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpbashupdater - For updating the base executables and updating environment symlinks USAGE: \u0027sudo dmpbashup\u0027 OR \u0027sudo dmpserver update\u0027\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpenv - For installing and updating DMPServer environments USAGE: \u0027sudo dmpenv install servername\u0027 OR \u0027sudo dmpenv update servername\u0027 (Latter should not be necessary! It is handled by dmpbashupdater)\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EWhat will this NOT do for me?\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EOpen ports, install mono, configure your server; you will still need to do this. You can configure the default server by modifying the files in /srv/dmpserver/default.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003ECurrent Directory Structure for DMPServer:\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003EDMPServer installed in /usr/share/dmpserver\u003C/span\u003E\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003EDMPServer environments are in /srv/dmpserver. Each folder here is an individual DMPServer instance.\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpserver.cfg in /etc/dmpserver\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Eserver config files are NO LONGER in /etc/dmpserver/config\u003C/span\u003E\u003C/span\u003E\u003C/strong\u003E\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003E\u003Cspan style=\u0022font-size:10px;\u0022\u003Edmpserver command- just run \u0027sudo dmpserver start\u0027 to start it (run \u0027sudo dmpserver\u0027 for other usage)\u003C/span\u003E\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003E\u003Cstrong\u003EPastebin Bootstrap Script\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003ESource\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://pastebin.com/absfQKbK\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/absfQKbK\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003ECHANGELOG\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E12/27/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EMerged pbpkg and pastebin bootstrap; renamed; added chmod to directory and file creation, so post install script is much cleaner.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E9/15/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EMade addSysUserList more distro-agnostic. I tested and succeeded with a Debian install today, so we\u0027re getting close to finalizing the bare tools.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E9/10/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EMerged post-install script into pbpkg.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:14px;\u0022\u003EDMPLinTools\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EPastebin Bootstrap: \u003Ca href=\u0022http://pastebin.com/42ypMCgb\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/42ypMCgb\u003C/a\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003ESOURCE\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003EDaemon - \u003Ca href=\u0022http://pastebin.com/X4E46Af5\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/X4E46Af5\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EUpdater - \u003Ca href=\u0022http://pastebin.com/Gx5wFtbx\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/Gx5wFtbx\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ECommand Pipe - \u003Ca href=\u0022http://pastebin.com/ZTTUF4dH\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/ZTTUF4dH\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETools Config - \u003Ca href=\u0022http://pastebin.com/UHaknDCZ\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/UHaknDCZ\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Cstrong\u003ECHANGELOG\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E12/27/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EMerged pastebin bootstrap; fixed 0.90 and future repo change support(environment needs some work so symlinks will update when server software is updated); removed foobar and added a common lib.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E9/15/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFixed the post-install script. The script is confirmed to work on CentOS 6.5 and Debian jessie (will almost certainly work fine on ubuntu).\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E9/14/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EFixed up the dmpcmd script. It works a bit more intuitively now.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EMoved the shutdown wait and message into dmpcmd; the wait time and message can be edited in \u0027/etc/dmpserver/dmpserver.cfg\u0027\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EYou can now do stop-fast and restart-fast to skip the shutdown_count with the daemon.\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E9/11/14\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003ECombined tools! Now we\u0027re starting to scratch that surface....\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u003Cstrong\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E**** Update Instructions ****\u003C/span\u003E\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EIF YOU USED AN OLDER VERSION, please follow the below steps to clean out your server:\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003ESTOP DMPSERVER! Very important!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003EDelete \u0027/usr/share/dmpserver\u0027\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003EBACK UP\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E your settings files from\u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u0027/etc/dmpserver/config\u0027\u003C/span\u003E\u003C/em\u003E! These will be placed into \u003Cem\u003E\u0027/srv/dmpserer/default\u0027\u003C/em\u003E if you wish to keep your settings!\u003C/p\u003E\u003Cp\u003EDelete \u0027/etc/dmpserver\u0027 - Please note that for the moment, your server config files will NOT be showing up here! I will work on this very soon.\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003EBACK UP\u003C/span\u003E\u003C/strong\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u0027/srv/dmpserver/bin/Universe\u0027\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E and your \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003EDMPServerSettings.txt\u003C/span\u003E\u003C/em\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E file from \u003C/span\u003E\u003Cem\u003E\u003Cspan style=\u0022color:#ff0000;\u0022\u003E\u0027/srv/dmpserver/bin\u0027\u003C/span\u003E\u003C/em\u003E! \u003Cstrong\u003EThis is VERY IMPORTANT! VERY, VERY IMPORTANT!\u003C/strong\u003E These will be placed into \u003Cem\u003E\u0027/srv/dmpserver/default\u0027\u003C/em\u003E if you wish to keep your progress!\u003C/p\u003E\u003Cp\u003EDelete \u0027/srv/dmpserver\u0027\u003C/p\u003E\u003Cp\u003EDelete \u0027/tmp/dmplog\u0027 - Logs will no longer go in here, as log rotation has been implemented. I may eventually move the logs again to the relevant location, though.\u003C/p\u003E\u003Cp\u003ENow, follow the installation instructions below (MAKE SURE you re-download the pbinstall script - just delete ~/dmpinstaller and run the big line I\u0027ve provided below.)\u003C/p\u003E\u003Cp\u003EAfter the installation has completed, run \u0027sudo dmpserver start\u0027 and then \u0027sudo dmpserver stop-fast\u0027. Now you can re-add your Universe and config files to \u0027/srv/dmpserver/default\u0027, and continue from where you left off!\u003C/p\u003E\u003Cp\u003E\u003Cspan style=\u0022font-size:12px;\u0022\u003E\u003Cstrong\u003EInstallation Instructions\u003C/strong\u003E\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EInstall mono, screen and curl (\u0027apt-get install mono-complete screen curl\u0027 on debian/ubuntu)\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EDownload pbinstall and run (copy the lines below into the terminal one by one, exactly as they are. Then read the disclaimer and press y or n). pbinstall will install DMPServer, the dmpserver daemon, dmpbashup, dmpenv, dmpcmd, and dmpbashlib\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003Ecd ~ \u0026amp;\u0026amp; mkdir dmpinstaller \u0026amp;\u0026amp; cd dmpinstaller \u0026amp;\u0026amp; curl http://pastebin.com/raw.php?i=42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall \u0026amp;\u0026amp; chmod \u002Bx ./pbinstall  # This will download and save the DMPServer bootstrap script to a file named \u0027pbinstall\u0027 in ~/dmpinstaller.\u003Cbr\u003E\u003Cbr\u003Esu  # Enter your root password\u003Cbr\u003E\u003Cbr\u003E./pbinstall\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003EOpen any ports necessary.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EHead over to /srv/dmpserver/default and modify the configuration files.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EWhen you\u0027re done with the configuration, run \u0027sudo dmpserver restart\u0027 to restart the server and apply your new settings.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EYou can run \u0027sudo dmpserver update\u0027 or \u0027dmpbashup\u0027 to update the server. These commands can be run from anywhere.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EAdditionally, you can now install multiple servers using \u0027dmpenv install newservername\u0027. This will install a new server environment in /srv/dmpserver with the specified name.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EYou can control the additional servers by doing \u0027dmpserver newservername {start|stop|etc}\u0027.\u003Cbr\u003E\u003C/li\u003E\u003Cli\u003EOutdated links should get taken care of automagically by dmpbashup\u003Cbr\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E \u003Ca href=\u0022http://creativecommons.org/publicdomain/zero/1.0/\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cimg src=\u0022http://i.creativecommons.org/p/zero/1.0/88x31.png\u0022 alt=\u002288x31.png\u0022\u003E\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E To the extent possible under law, William Donaldson has waived all copyright and related or neighboring rights to this work. This work is published from: United States.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-07T04:37:47Z\u0022 title=\u002201/07/2015 04:37  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 7, 2015\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003Cbr\u003ECleaned up the thread a bit, new info on structure, etc.\n\u003C/span\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-02T08:30:53Z","Content":"\n\u003Cp\u003EAs I pointed out before, so long as you keep \u0027rm -rf DMPServer\u0027 in that update script, you\u0027re running the risk of completely wiping out someones server.\u003C/p\u003E\u003Cp\u003EEasy fix: Extract DMPServer into /tmp/DMPServer-randomnumbers and rsync from that, or extract the zip directly over the server folder.\u003C/p\u003E\u003Cp\u003EHarder but cleaner fix: Compare the server folder against \u003Ca href=\u0022http://godarklight.info.tm/dmp/updater/versions/release/server.txt\u0022 rel=\u0022external nofollow\u0022\u003EDMPUpdater\u0027s server index file\u003C/a\u003E and replace the files as needed. The hashes are sha256sum\u0027s, and the individual files are saved with their \u003Ca href=\u0022http://godarklight.info.tm/dmp/updater/versions/release/objects/\u0022 rel=\u0022external nofollow\u0022\u003Ehashsum in the objects folder\u003C/a\u003E.\u003C/p\u003E\u003Cp\u003EIf you like, I\u0027ll write a portable version of DMPUpdater in bash.\u003C/p\u003E\u003Cp\u003EEDIT: Forgot to mention, if you want to actually package DMPServer (as in I\u0027ll run a script that fires on a release build) I can host it on my build server, but I\u0027ll need help with the file structure for centos, I exclusively run debian/unstable.\u003C/p\u003E\u003Cp\u003EIf you\u0027d like to host your own repo intsead, I can provide a http-hook to let you know when a new release build is available.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-02T08:33:11Z\u0022 title=\u002209/02/2014 08:33  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 2, 2014\u003C/time\u003E by godarklight\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-02T21:00:05Z","Content":"\n\u003Cp\u003EI\u0027ve taken the second easy suggestion for now(there\u0027s not even a reason to remove the .zip, lol. That\u0027s what happens when you write too fast \u0026gt;.\u0026gt;), but \u0027unzip -joq\u0027 is still dangerous in my opinion. \u003C/p\u003E\u003Cp\u003E The best option is obviously to use the update mech you\u0027ve made. While I\u0027d love for an official portable bash version, I think your time is better spent on DMP itself \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E This updater, as it stands, will be an early daemon command.\u003C/p\u003E\u003Cp\u003EThe real beauty in your repo is that there is pretty much no reason to package it outright, imo. An install script can just mkdir a dmp/dmpserver folder in /usr/local/bin and dl from your repo directly; people seem to be migrating to this method of installation on servers anyway.\u003C/p\u003E\u003Cp\u003EThe only problem I can foresee in this is mono. I assume most of the people who run a server just do \u0027mono ./DMPServer.exe\u0027, but I have no such luxury on CentOS. I was actually going to compile it so I COULD use it like that, but compiling more than one thing to be able to compile mono was another unappealing road... So, I have mono installed in opt. Yes, it\u0027s in opt. IDK why people insist on using /opt on full installations of linux, but they #^%@*\u0026amp;$#^% do.\u003C/p\u003E\u003Cp\u003EMaybe I should just make a symlink to /usr/bin and expect anyone using CentOS to do the same? I have no idea what to do in this situation, or what I should expect from people, lol. But, I\u0027m going to go ahead and assume 90% of them are running Debian-based systems, so I guess I can just make a little note for people running CentOS/non-standard mono installs. I guess my next step will be to install a debian server and test out the daemon. I wish I could dl directly to an esxi server without feeling dirty! \u0026gt;.\u0026gt;\u003C/p\u003E\u003Cp\u003EAlso, I don\u0027t know why CentOS has the lockfile in the daemon skeleton, but it\u0027s unnecessary. I\u0027m going to remove that bit and put the pid in it\u0027s proper place.\u003C/p\u003E\u003Cp\u003EAfter looking at this script \u003Ca href=\u0022http://werxltd.com/wp/2012/01/05/simple-init-d-script-template/\u0022 rel=\u0022external nofollow\u0022\u003Ehere\u003C/a\u003E, it looks like the daemon should work on Debian-based systems as well (other than mono being in opt, of course).\u003C/p\u003E\u003Cp\u003EEDIT: Lookit me, I quit being \u0022lazy\u0022 and added that symlink \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EUPDATE 9/3/14: Just a little update, I\u0027m getting ready to install Debian on my server. It\u0027s strange; I never thought I\u0027d be intimidated about returning to Debian. Then again, I never thought I\u0027d get used to CentOS \u0026gt;.\u0026gt;\u003C/p\u003E\u003Cp\u003EUPDATE 9/3/14-B: Dear me, I have Debian again... Looks like my server is finally getting some use!\u003C/p\u003E\u003Cp\u003EUPDATE Later that night: You Debian people... so spoiled; there\u0027s an official package for everything! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E Mono is installed, no python 3 yet, but I\u0027ll get to that soon enough. Thinking of stopping for the night...\u003C/p\u003E\u003Cp\u003E2 minutes later: Damn is it nice to just install python 3 from a package... Compiling it is my worst enemy.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-04T08:19:31Z\u0022 title=\u002209/04/2014 08:19  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 4, 2014\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"godarklight","CreatedById":92588,"CreatedDateTime":"2014-09-04T08:36:29Z","Content":"\n\u003Cp\u003EI guess we are a little spoiled when it comes to packages.\u003C/p\u003E\u003Cp\u003EWriting a bash script for updating DMPServer wouldn\u0027t be a complete waste of time for me (Although from your edit you sound like you\u0027ve already done this). I never bothered writing a bash script for updating before because if you\u0027re intending to host a DMP server, you have mono installed, and if mono is installed, DMPUpdater will work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EThe only reason K/DMPUpdater exists is because I needed a simple version of rsync for windows, and the only reason why it has a http backend is because I had an existing apache server install and I try to maximise lazyness \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E.\u003C/p\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-09-05T22:10:26Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022godarklight\u0022 data-cite=\u0022godarklight\u0022\u003E\u003Cdiv\u003EWriting a bash script for updating DMPServer wouldn\u0027t be a complete waste of time for me (Although from your edit you sound like you\u0027ve already done this). I never bothered writing a bash script for updating before because if you\u0027re intending to host a DMP server, you have mono installed, and if mono is installed, DMPUpdater will work \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThose are both pretty much the reasons I had in mind as well, lol!\u003C/p\u003E\u003Cp\u003EI\u0027ve done a decent portion of it. All that\u0027s left is to test and download the files, which will take another 15 minutes to write properly. I may have time to do it later tonight; for now, here is the first portion of it : Removed old link. See OP for release.\u003C/p\u003E\u003Cp\u003ENotice: Directory structure subject to change (very soon).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-09-08T09:07:22Z\u0022 title=\u002209/08/2014 09:07  AM\u0022 data-short=\u00229 yr\u0022\u003ESeptember 8, 2014\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"jafacakes2011","CreatedById":65650,"CreatedDateTime":"2014-11-05T18:04:30Z","Content":"\n\u003Cp\u003EHey, I installed DMP Server on my Ubuntu Machine by following the instructions here. I was able to connect then when I turned the machine off for the night an then back on in the morning I was unable to connect, i have checked everything I can and can\u0027t find the issue.\u003C/p\u003E\u003Cp\u003EHow do I uninstall the DMP server so I can reinstall it fresh?\u003C/p\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-11-09T06:09:14Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022jafacakes2011\u0022 data-cite=\u0022jafacakes2011\u0022\u003E\u003Cdiv\u003EHey, I installed DMP Server on my Ubuntu Machine by following the instructions here. I was able to connect then when I turned the machine off for the night an then back on in the morning I was unable to connect, i have checked everything I can and can\u0027t find the issue.\u003Cp\u003EHow do I uninstall the DMP server so I can reinstall it fresh?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe server won\u0027t start up automatically. To start it, you must do \u0027dmpserver start\u0027 from the terminal. Although I\u0027ll only use my server with this system, it\u0027s not really ready for use by everyday people.\u003C/p\u003E\u003Cp\u003EIf you would like to remove it, just delete the following folders:\u003C/p\u003E\u003Cp\u003E/usr/share/dmpserver\u003C/p\u003E\u003Cp\u003E/etc/dmpserver\u003C/p\u003E\u003Cp\u003E/srv/dmpserver\u003C/p\u003E\u003Cp\u003EThere are a few more but they are inconsequential and will be deleted eventually by the OS.\u003C/p\u003E\n"},{"CreatedByName":"jafacakes2011","CreatedById":65650,"CreatedDateTime":"2014-11-13T23:27:10Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022dsonbill\u0022 data-cite=\u0022dsonbill\u0022\u003E\u003Cdiv\u003EThe server won\u0027t start up automatically. To start it, you must do \u0027dmpserver start\u0027 from the terminal. Although I\u0027ll only use my server with this system, it\u0027s not really ready for use by everyday people.\u003Cp\u003EIf you would like to remove it, just delete the following folders:\u003C/p\u003E\u003Cp\u003E/usr/share/dmpserver\u003C/p\u003E\u003Cp\u003E/etc/dmpserver\u003C/p\u003E\u003Cp\u003E/srv/dmpserver\u003C/p\u003E\u003Cp\u003EThere are a few more but they are inconsequential and will be deleted eventually by the OS.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThanks for the help, I understood how to start/stop/restart the server etc. it was just that It was refusing any connection when the server was running. All is fine now thanks \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"nitros12","CreatedById":130232,"CreatedDateTime":"2014-11-26T22:16:27Z","Content":"\n\u003Cp\u003Ehi, i have the server running correctly, but i cannot view the server console, and nobody can connect, is there something i need to do to view the console\u003C/p\u003E\n"},{"CreatedByName":"mikefallen","CreatedById":130716,"CreatedDateTime":"2014-12-01T21:35:13Z","Content":"\n\u003Cp\u003EDMPServerSettings.txt is not in the /etc/dmpserver/config directory where would i find it?\u003C/p\u003E\n"},{"CreatedByName":"Jansn","CreatedById":131392,"CreatedDateTime":"2014-12-10T12:59:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022mikefallen\u0022 data-cite=\u0022mikefallen\u0022\u003E\u003Cdiv\u003EDMPServerSettings.txt is not in the /etc/dmpserver/config directory where would i find it?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThey should generated at first start. \u003C/p\u003E\u003Cp\u003EBut i expect after 9 days you have them already.. ?\u003C/p\u003E\n"},{"CreatedByName":"Jansn","CreatedById":131392,"CreatedDateTime":"2014-12-15T21:01:27Z","Content":"\n\u003Cp\u003EKind of newbie-question:\u003C/p\u003E\u003Cp\u003E- i do a \u0022ps -all\u0022 to watch running processes on a debian 6-remote-vServer\u003C/p\u003E\u003Cp\u003E- the linux-dmpserver dont show up in active process list\u003C/p\u003E\u003Cp\u003EWhy that?\u003C/p\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2014-12-25T02:42:05Z","Content":"\n\u003Cp\u003EBleh, this thing is a little broken. It needs some serious work. It\u0027s also not really going to work for the new version, due to me hardcoding some stuff that shouldn\u0027t be hardcoded. I\u0027m currently updating this to work with the new version of DMP, as well as to allow you to install multiple DMP servers. PLEASE do not attempt to use this at this time, as it\u0027s borked. If you installed it already, you can just dl DMPServer and stuff it in screen manually for now until I update it.\u003C/p\u003E\u003Cp\u003EIt is being worked on RIGHT NOW! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"Toetje585","CreatedById":134392,"CreatedDateTime":"2015-01-04T18:07:27Z","Content":"\n\u003Cp\u003EI can\u0027t use the command line, \u003Cimg src=\u0022https://goo.gl/UTwYu5\u0022 alt=\u0022UTwYu5\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"dsonbill","CreatedById":115997,"CreatedDateTime":"2015-01-05T22:36:51Z","Content":"\n\u003Cp\u003EThank you very much for the bug report! I left out a necessary set of quotes \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003E(Also fixed the embarrassing lack of using the lib file \u0026gt;.\u0026lt;)\u003C/p\u003E\u003Cp\u003EYou can run the following command to update dmpcmd. In the future, I will make a command for the pbinstall script to update things.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003Esudo sh -c \u0027curl http://pastebin.com/raw.php?i=ZTTUF4dH | tr -d \u0022\\r\u0022 \u0026gt; /usr/bin/dmpcmd\u0027\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003ETo use it with multi-part commands, just put quotes around the entry, i.e. \u0027sudo dmpcmd default \u0022admin add username\u0022\u0027 .\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222015-01-06T00:12:34Z\u0022 title=\u002201/06/2015 12:12  AM\u0022 data-short=\u00229 yr\u0022\u003EJanuary 6, 2015\u003C/time\u003E by dsonbill\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Toetje585","CreatedById":134392,"CreatedDateTime":"2015-01-06T05:42:33Z","Content":"\n\u003Cp\u003ECommands are working now, thanks so far. If i get up to something i let you know:D\u003C/p\u003E\n"},{"CreatedByName":"Nocx","CreatedById":138199,"CreatedDateTime":"2015-02-17T19:25:08Z","Content":"\n\u003Cp\u003EI everybody, i post this message because i need you, so, i\u0027ve installed all on my Ubuntu server and first, the DMPServerSettings isn\u0027t generated, and when i want to go on my server , i got this error : \u003C/p\u003E\u003Cp\u003ENo connection could be made because the target machine actively refused.\u003C/p\u003E\u003Cp\u003EThank you for your help.\u003C/p\u003E\n"},{"CreatedByName":"lazar2222","CreatedById":153082,"CreatedDateTime":"2015-11-03T15:26:04Z","Content":"\n\u003Cp\u003EHave you port forwarded corectly?\u003C/p\u003E\n"},{"CreatedByName":"Sharft 6","CreatedById":158134,"CreatedDateTime":"2016-02-05T21:00:06Z","Content":"\n\u003Cp\u003E\npastebin have changed the way things work.\n\u003C/p\u003E\n\u003Cp\u003E\nThe command should be\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Ecd ~/dmpinstaller \u0026amp;\u0026amp; curl http://pastebin.com/raw/42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nor (for fist timers)\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003Ecd ~ \u0026amp;\u0026amp; mkdir dmpinstaller \u0026amp;\u0026amp; cd dmpinstaller \u0026amp;\u0026amp; curl http://pastebin.com/raw/42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall \u0026amp;\u0026amp; chmod \u002Bx ./pbinstall\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nonce you have done that you need to open \u0027pbinstall\u0027 in your favourite editor. and change this line from:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan\u003EPASTEBIN_API=\u0022http://pastebin.com/raw.php?i=\u0022\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nto:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html\u0022\u003E\nPASTEBIN_API=\u0022http://pastebin.com/raw/\u0022\u003C/pre\u003E\n\u003Cp\u003E\nThen continue on with the instructions (run pbinstall)\n\u003C/p\u003E\n"},{"CreatedByName":"marines4ever","CreatedById":80948,"CreatedDateTime":"2016-04-10T00:03:17Z","Content":"\n\u003Cp\u003E\nI\u0027m trying to add a DNS to my server and i\u0027m doing it through CloudFlare, but it doesn\u0027t seem to be able to connect to my DNS i specified. Otherwise my Server IP does work.\n\u003C/p\u003E\n"},{"CreatedByName":"Max Littlemore","CreatedById":149519,"CreatedDateTime":"2016-08-21T00:00:20Z","Content":"\n\u003Cp\u003E\nHi there,\n\u003C/p\u003E\n\u003Cp\u003E\nGreat work I here I hope but I haven\u0027t got it working yet. The reason I haven\u0027t got it working is because the urls that curl is trying to hit have moved and curl won\u0027t follow the relocation.\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve modified my local pbinstall to include the -L flag for curl but I thought it might also be useful to change the install instructions from\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ecd ~/dmpinstaller \u0026amp;\u0026amp; curl http://pastebin.com/raw.php?i=42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\nto\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003Ecd ~/dmpinstaller \u0026amp;\u0026amp; curl -L http://pastebin.com/raw.php?i=42ypMCgb | tr -d \u0027\\r\u0027 \u0026gt; ./pbinstall\u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nThanks for putting this together, I look forward to playing with it.\n\u003C/p\u003E\n\u003Cp\u003E\nML\n\u003C/p\u003E\n"}]}