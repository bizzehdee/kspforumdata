{"TopicId":50734,"ForumId":36,"TopicTitle":"The KSP GPWS Dev Thread","CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-26T22:57:38Z","PageNum":1,"Articles":[{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-26T22:57:38Z","Content":"\n\u003Cp\u003EDon\u0027t know if I can post a whole new thread for that ... Sorry if I cannot !\u003C/p\u003E\u003Cp\u003EAnyway, here goes everything about development of the GPWS for KSP. Thoughts, questions, tips and tricks ... Help on development is appreciated, especially if I have problems, like the first one:\u003C/p\u003E\u003Cp\u003EI need to find a way to make a nice curve for the G-tolerance (ie: how many number of G before the alarm kicks in). I want it to be human-like: Max 30G for 1/4 sec, Max 10G for 1 min, Max 5G for 5 Minutes, Max 3G for 10 Minutes. Any G above 1 after 10 minutes of acceleration turns the alarm on.\u003C/p\u003E\u003Cp\u003ECan anyone help me? Maths are my \u0022downside\u0022 on coding ...\u003C/p\u003E\u003Cp\u003EThanks in advance to anyone that will (in)directly participate to the project ! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://drive.google.com/folderview?id=0B_MKM-kJGct_WW1JTEQtVXdFQzg\u0026amp;tid=0B_MKM-kJGct_dE1NUUluSENDOEk\u0022 rel=\u0022external nofollow\u0022\u003ESource\u003C/a\u003E | \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55408-0-22-WIP-KSP-GPWS-v0-1-alpha\u0022 rel=\u0022external nofollow\u0022\u003EMain thread\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"kujuman","CreatedById":28299,"CreatedDateTime":"2013-10-27T03:05:20Z","Content":"\n\u003Cp\u003EIf what you want is an easy way to interpolate between those points, I\u0027d suggest a FloatCurve variable. It is what engines use for Isp and can be specified in part.cfg files.\u003C/p\u003E\u003Cp\u003EFloatCurves are a list of points, time and value, but they are really just independent variable and dependent variable. Use FloatCurve.Evaluate(time) to get the dependent variable.\u003C/p\u003E\u003Cp\u003EI would probably set it up so that G level is \u0022time\u0022 and the max duration at that G level is \u0022value\u0022; so that maxDurationAtThisGLevel = FloatCurve.Evaluate(gLevel)\u003C/p\u003E\u003Cp\u003EExtra info you probably don\u0027t need:\u003C/p\u003E\u003Cp\u003EFloatCurves are a kerbal specific class which is based upon the Unity AnimationCurve, which in turn solves for points along the curve as a bezier curve.\u003C/p\u003E\n"},{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-27T09:47:44Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022kujuman\u0022 data-cite=\u0022kujuman\u0022\u003E\u003Cdiv\u003EFloatCurves are a kerbal specific class which is based upon the Unity AnimationCurve, which in turn solves for points along the curve as a bezier curve.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EPerfect ! No need to blow my mind searching for working algorhythms ! Thanks to you \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-28T10:00:21Z","Content":"\n\u003Cp\u003EAlright, now I\u0027m facing the Huge Problem of the Mod : GUI ! And I have absolutely no idea on how to implement a good one. It will be mostly for switching buttons, triggering alarms, stopping dem annoying imminent crash alarms if you crash very often ! And add a volume slider, because for now every alarm sound volume is binded to the Voice Volume in the Sounds settings, and I want to let you have more control on how loud to play the sounds. So yeah, as \u0022always\u0022, if anyone can help me, would be awesome ! \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cool.gif\u0022 alt=\u0022:cool:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-28T13:50:40Z","Content":"\n\u003Cp\u003EFor some reason, on the Debug Thingy\u003Csup\u003ETM\u003C/sup\u003E show \u0022[GPWS]Bingo Fuel stuff !\u0022, but not the \u0022Fuel calculated\u0022 ...\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EDebug.Log(\u0022[GPWS]Bingo Fuel stuff !\u0022);\u003Cbr\u003Efloat pLiquidAmount = (float)(LiquidFuel.amount / LiquidFuel.maxAmount);\u003Cbr\u003Efloat pOxiAmount = 1.0f;\u003Cbr\u003Eif (Oxidizer.maxAmount \u0026gt; 0) pOxiAmount = (float)(Oxidizer.amount / Oxidizer.maxAmount);\u003Cbr\u003EDebug.Log(\u0022[GPWS]Fuel calculated\u0022);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAnd everything after is not done too ... like something unexcepted made the whole Update() stop right there. I thought at first it was a division by 0 (Oh Shi-) but no, because of the if statement.\u003C/p\u003E\u003Cp\u003EWeird ...\u003C/p\u003E\n"},{"CreatedByName":"SolarLiner","CreatedById":41047,"CreatedDateTime":"2013-10-28T21:38:32Z","Content":"\n\u003Cp\u003EAlright, it seems that each time I try to read Resources values in my code, the function stops working ... so I cannot check fuel and see if the ship is close to dry or not ... Strange ...\u003C/p\u003E\n"}]}