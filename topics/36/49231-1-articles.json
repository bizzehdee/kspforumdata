{"TopicId":49231,"ForumId":36,"TopicTitle":"Adding Biome Detection to Plugin","CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-10-18T15:29:49Z","PageNum":1,"Articles":[{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-10-18T15:29:49Z","Content":"\n\u003Cp\u003EI\u0027m looking into adding biome detection to an informational addon. Looking through the API, the most straightforward method seems to be:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EVessel V = Vessel();\u003Cbr\u003ECBAttributeMap.MapAttribute TheAttribute = V.mainBody.BiomeMap.GetAtt(V.latitude * Math.PI / 180d, V.longitude * Math.PI / 180d);\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThe problem with that is that CBAttributeMap.GetAtt posts a debug message to ScreenMessageStyle.UPPER_RIGHT, which is ugly the first time and a huge nuisance when the UI is running at high frame rates.\u003C/p\u003E\u003Cp\u003ESo, I took it upon myself to rewrite CBAttributeMap.GetAtt. I can\u0027t find what I missed... anyone else care to put eyes on this?\u003C/p\u003E\u003Cp\u003EHere\u0027s my code: \u003Ca href=\u0022http://pastebin.com/XWtLnnS9\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/XWtLnnS9\u003C/a\u003E\u003C/p\u003E\u003Cp\u003ETIA\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-10-19T03:39:22Z","Content":"\n\u003Cp\u003EI\u0027ve found a couple of (frankly embarassing) maths errors that I believe were at fault. Resolved for now?\u003C/p\u003E\n"},{"CreatedByName":"saik0","CreatedById":57205,"CreatedDateTime":"2013-10-19T07:23:27Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022toadicus\u0022 data-cite=\u0022toadicus\u0022\u003E\u003Cdiv\u003EI\u0027ve found a couple of (frankly embarassing) maths errors that I believe were at fault. Resolved for now?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECould you share the fixed source?\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-10-21T18:01:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022saik0\u0022 data-cite=\u0022saik0\u0022\u003E\u003Cdiv\u003ECould you share the fixed source?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESure, here it is: \u003Ca href=\u0022http://pastebin.com/Squ1Ctib\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://pastebin.com/Squ1Ctib\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EBased on a weekend-long playtest, that version works just fine.\u003C/p\u003E\n"},{"CreatedByName":"boberts314","CreatedById":69216,"CreatedDateTime":"2013-10-23T00:34:12Z","Content":"\n\u003Cp\u003EAre you looking at making something just to report what biome a craft is in? I can\u0027t offer any help, but I\u0027d love to have such a thing. Spamming crew reports just isn\u0027t going to hold up for long term.\u003C/p\u003E\n"},{"CreatedByName":"toadicus","CreatedById":67745,"CreatedDateTime":"2013-10-23T00:44:52Z","Content":"\n\u003Cp\u003EI am no longer looking to do so; in fact I already have. Now available in VOID: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/54533-0-22-VOID-Vessel-Orbital-Informational-Display\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/54533-0-22-VOID-Vessel-Orbital-Informational-Display\u003C/a\u003E\u003C/p\u003E\n"}]}