{"TopicId":36870,"ForumId":36,"TopicTitle":"Difficulty with Unity/KSP and textures","CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2013-07-13T01:20:53Z","PageNum":1,"Articles":[{"CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2013-07-13T01:20:53Z","Content":"\n\u003Cp\u003EHello... I am attempting to make a KSP mod. Everything is fine except the texture on my part does not show up. I load the mesh into unity (as a .dae from my 3D program) and apply the KSP Diffuse shader to it, and associate an image with the shader using the little \u0027select\u0027 button on the shader\u0027s section of the inspector panel. Depending on what image I use, the part appears either completely black or a dull green. When I run KSP, the part appears white with no texture.\u003C/p\u003E\u003Cp\u003EThe images I\u0027ve been adding as assets to unity are 256x256 PNGs created with the GIMP. I am having Part Tools save them as mbm but I also tried saving as PNG and it does not matter. The mbm files appear and my part.cfg is pointing to them, and KSP tries to load them. The log says:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003E[WRN 21:07:52.629] PartLoader: Cannot replace model texture with \u0027Kerbalrad/Parts/Kerbalrad2M/textures/test3\u0027\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EPlease advise - thank you for your time.\u003C/p\u003E\n"},{"CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2013-07-15T05:47:02Z","Content":"\n\u003Cp\u003EHas anyone even see this flat green texture in unity, who could give me a clue what it means?\u003C/p\u003E\n"},{"CreatedByName":"EndlessWaves","CreatedById":41302,"CreatedDateTime":"2013-07-15T21:10:26Z","Content":"\n\u003Cp\u003EUnity doesn\u0027t give any error message when importing them? I take it you\u0027ve opened the textures in another program to make sure they are being exported properly?\u003C/p\u003E\n"},{"CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2013-07-17T03:42:56Z","Content":"\n\u003Cp\u003EYes, at least when exporting the textures as PNG, they look fine in other programs. I can\u0027t open the mbm files to look at them, of course.\u003C/p\u003E\n"},{"CreatedByName":"chickenplucker","CreatedById":3454,"CreatedDateTime":"2013-07-17T07:25:56Z","Content":"\n\u003Cp\u003EWhat happens if you try to use a bmp or some other format for your textures? In the past I ran into some random issues with png\u0027s and different export options in Photoshop.\u003C/p\u003E\n"},{"CreatedByName":"Mr.Desmond Tiny","CreatedById":68311,"CreatedDateTime":"2013-07-17T07:32:46Z","Content":"\n\u003Cp\u003EHello! Seeing as you are having some trouble with modding, I would like to try and help you.\u003C/p\u003E\u003Cp\u003EYou said you load in a .dae mesh from your 3d modelling program, correct? Well, here\u0027s the thing, overlaying meshes created in 3d programs are something of the past.\u003C/p\u003E\u003Cp\u003EKerbal space program doesn\u0027t use .dae anymore, meaning what you are seeing is likely your overlaying mesh.\u003C/p\u003E\u003Cp\u003ETo solve this problem, delete the overlaying mesh, go into unity with your part, select your part, and scroll over the tab labelled \u0022Component\u0022 at the top of the unity screen and click it. This should show a menu, in the menu there is a tab labelled \u0022Physics\u0022. Inside this tab, there will be something labelled \u0022Mesh Collider\u0022. With your part selected, click this button once. This should add a component to your part, listed on the side of the page, to your right. It\u0027s labelled \u0022Mesh Collider\u0022. Open it, if its not already open, and click the button labelled \u0022Convex\u0022. This should then highlight your part in green, signalling that your part now has a mesh! Repeat for all parts. \u003C/p\u003E\u003Cp\u003E[EDIT] I forgot to mention, that you have to give your part a texture instead of your mesh if that\u0027s what you are also doing. Like I said, delete the .dae mesh you made. Also, PNG files should work perfectly fine, considering that is what I used for making some basic parts. And to make sure your part uses the texture made for it, in your part.cfg file, make sure to do this:\u003C/p\u003E\u003Cp\u003EPART\u003C/p\u003E\u003Cp\u003E{\u003C/p\u003E\u003Cp\u003E// Kerbal Space Program - Part Config\u003C/p\u003E\u003Cp\u003E// Industrial Rocket Mk-12\u003C/p\u003E\u003Cp\u003E// \u003C/p\u003E\u003Cp\u003E// --- general parameters ---\u003C/p\u003E\u003Cp\u003Ename = liquidengine\u003C/p\u003E\u003Cp\u003Emodule = Part\u003C/p\u003E\u003Cp\u003Eauthor = Mr.Desmond Tiny\u003C/p\u003E\u003Cp\u003E// --- asset parameters ---\u003C/p\u003E\u003Cp\u003Emesh = model.mu\u003C/p\u003E\u003Cp\u003Escale = 0.1\u003C/p\u003E\u003Cp\u003E---------------------------\u003C/p\u003E\u003Cp\u003EThis is the beginning of one of the part configs for one of my parts, as you can see, the mesh is specified as \u0022model.mu\u0022\u003C/p\u003E\u003Cp\u003EConvex means it is a continuous mesh by the way, and your welcome!\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-17T07:48:19Z\u0022 title=\u002207/17/2013 07:48  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 17, 2013\u003C/time\u003E by Mr.Desmond Tiny\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"King Jareth","CreatedById":63223,"CreatedDateTime":"2013-07-17T07:36:42Z","Content":"\n\u003Cp\u003ENormally you dont need to point a cfg file at a texture, I believe it uses the ones the model file specifies, and the texture lines in a cfg file are to replace the texture stated in the model with another. So the error might be being caused by ksp getting confused trying to replace a texture with itself.\u003C/p\u003E\n"},{"CreatedByName":"BryceSchroeder","CreatedById":74203,"CreatedDateTime":"2013-07-20T02:12:13Z","Content":"\n\u003Cp\u003EThank you for your replies. I have not as yet had the time to try any of these things, but will do so when time permits. Thanks!\u003C/p\u003E\n"},{"CreatedByName":"Cheebsta","CreatedById":74167,"CreatedDateTime":"2013-07-20T02:42:08Z","Content":"\n\u003Cp\u003EYou certainly do NOT want to make a mesh collider from your main mesh... Unless your main mesh is just a cube, or something extremely simple and already convex... .dae should also import fine into Unity, and that part.cfg isn\u0027t what you\u0027re trying to use if you\u0027re getting that error. \u003C/p\u003E\u003Cp\u003EI think you have a compound issue.\u003C/p\u003E\u003Cp\u003EYou\u0027re trying to do a replace with a MODEL {} node and keep all the textures in one folder, correct? Try keeping the part.cfg, model.mu, and any associated .mbm files all in the same folder, just temporarily till you get the rest sorted out. You won\u0027t need a texture reference at all then in part.cfg, so comment them out.\u003C/p\u003E\u003Cp\u003EWhat program made this mesh? It could be that it\u0027s exporting something screwing into the .dae file, but no idea what may fix that without knowing the program. But try to export the model with no materials, only UV mapped, and see below how to make and apply material in Unity.\u003C/p\u003E\u003Cp\u003EAlso, in Unity, try getting rid of the material currently on your model completely. Does the model itself show up okay then? If so, make an all new material in Unity, by right clicking assets area and picking it out of the menu. Set your tex to it again, and the KSP shader, then drag and drop it onto the model. Does that help?\u003C/p\u003E\n"},{"CreatedByName":"alkopop79","CreatedById":75081,"CreatedDateTime":"2016-04-25T20:21:51Z","Content":"\n\u003Cp\u003E\nI\u0027m having the same problem. Here\u0027s what I have done so far:\n\u003C/p\u003E\n\u003Cp\u003E\n- created a cylinder in Blender with 12 vertices and added a texture of colour red (it\u0027s for testing purposes)\n\u003C/p\u003E\n\u003Cp\u003E\n- imported the blender file in .fbx to the asset folder in Unity along with the texture in .png\n\u003C/p\u003E\n\u003Cp\u003E\n- created a new project in Unity (blender file and texture file in the asset folder), imported Part\u00A0Tools, created a new empty game object\n\u003C/p\u003E\n\u003Cp\u003E\n- dropped the fbx file in the game object and dropped the texture on it, not surprisingly I got a red cilinder\n\u003C/p\u003E\n\u003Cp\u003E\n- created the mesh and chose KSP diffuse\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\n- imported the mu file and the texture in tga\n\u003C/p\u003E\n\u003Cp\u003E\n- added a .cfg file with roughly the same parameters as a similar sized stock tank and referenced the mu file as \u0027tank.mu\u0027 (which is the actual file name, not \u0027model\u0027)\n\u003C/p\u003E\n\u003Cp\u003E\n- after reloading everything, the part appears in the menu white and is invisible when dropped in VAB (attach points can be seen)\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI\u0027ve tried to debug it and I could find both the texture and the part, they showed up in Database. I also tried to reload the database, delete the material in re-do it and nothing changed. Any ideas?\u00A0\n\u003C/p\u003E\n"}]}