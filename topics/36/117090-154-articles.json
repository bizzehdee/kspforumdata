{"TopicId":117090,"ForumId":36,"TopicTitle":"[WIP][1.8.x] SSTULabs - Low Part Count Solutions (Orbiters, Landers, Lifters) - Dev Thread [11-18-18]","CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2015-07-28T18:13:57Z","PageNum":154,"Articles":[{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-07-19T14:19:47Z","Content":"Landing a Bigelow module on the Moon:\n\n![Z27-350x138.jpg](https://www.nasaspaceflight.com/wp-content/uploads/2014/02/Z27-350x138.jpg)  \n\n(The tubes are fuel tanks).  \n\nCovering with Regolith (1963):  \n  \n![lunar-base-63.jpg](http://up-ship.com/blog/wp-content/uploads/2014/08/lunar-base-63.jpg)  \n\nObviously both modelling radiation and digging up the actual surface of a body are well beyond scope here.  \n\nMost base concepts do involve heavy equipment, usually stripped down and folded up for space-use."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-07-19T16:00:56Z","Content":"![hub.jpg](http://i121.photobucket.com/albums/o222/tatersw/hub.jpg)\n\nHere\u0027s a hub with 3 crossed SSTU tanks. Obviously the docking ports could be welded types or standard size in any of the 6 directions. I don\u0027t know if they could be switchable, i.e.: 2 x welded, plus 2x standard, plus 2 x 2.5m, or something. Perhaps they could be slightly longer so that the hub is less tight, with room for some \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E (more of an obvious \u002B shape). Docking lights are in SSTU, I wonder if on a hub such lights might be off the ports slightly, and not quite on-axis so that once docked they illuminate the docked segments."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-19T18:50:17Z","Content":"More work on the DOS/FGB/TKS based module prototypes.  Have settled on a 3-module part setup; simplifies the IVA creation and setup for a standardized \u0027core\u0027 size, and anything more than 3 modules starts running into compatibility problems between the modules (due to adapters sizing, solar panel placement, etc).  Three-module parts still allow for quite a bit of variation in the parts while keeping them simple enough to actually use and makes the modeling/designing end of things much easier.\n\nSo, color-coded prototype geometry:  \n\nGreen = Core - Responsible for IVA size/shape, crew capacity, and most functions (solar, \u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E, \u003Cabbr title=\u0022Stability Augmentation System\u0022\u003ESAS\u003C/abbr\u003E, reaction wheels, transmitters)  \n\nBrown/orange = Bottom Adapter.  Far left is the Almaz based end-cap (with solar panels); will likely be a 1.25m dock version of it as well.  \n\nPurple = Top Adapter / Hub (more variants to be made / not all shown).  Special short \u0027cup\u0027 adapter included for use with the VA capsule.  \n\nBlue = Parts of the VA spacecraft (CM/SM/LAS)  \n\nRed = Solar panel locations (otherwise hard to see in that image).  \n  \n![Ia8HLII.png](http://i.imgur.com/Ia8HLII.png)\n\n\u003E \n\u003E \n\u003E 2 hours ago, tater said:\n\u003E \n\u003E \n\u003E Here\u0027s a hub with 3 crossed SSTU tanks. Obviously the docking ports could be welded types or standard size in any of the 6 directions. I don\u0027t know if they could be switchable, i.e.: 2 x welded, plus 2x standard, plus 2 x 2.5m, or something. Perhaps they could be slightly longer so that the hub is less tight, with room for some \u003Cabbr title=\u0022Reaction Control System\u0022\u003E\u003Cabbr title=\u0022Reaction Control System\u0022\u003ERCS\u003C/abbr\u003E\u003C/abbr\u003E (more of an obvious \u002B shape). Docking lights are in SSTU, I wonder if on a hub such lights might be off the ports slightly, and not quite on-axis so that once docked they illuminate the docked segments.\n\u003E \n\nYes, larger \u0027hubs\u0027 will be coming; however they will be based on the Near-Future Octo-Truss format.  They will likely have both truss and \u0027pressurized\u0027 variants (see the other NF-pressurized truss models).  And they will likely include docking ports, probably with various combinations of sizes (but not welding ones; those -have- to be separate parts due to the nature of them deleting themselves).  There will also be the USOS styled multi-node parts (e.g. Unity/Node1).  So you\u0027ll have several options available for multi-connection hub setups.\n\nLights - perhaps.  The multi-docking hubs will at least have status lights and numbers on them (emissives), but unsure on a usable implementation of directional docking lights on them (mostly though with the part-count reduction, it should now be possible to add your own lights; I also believe that lights are \u0027physics-less\u0027 parts, so their impact for being a separate part is minimal with the biggest performance hit coming from the actual lights/shading)."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-19T20:38:25Z","Content":"will the hub include nodes for ~0.9375m (Soyuz) and 0.625m (Apollo) docking ports aswell? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-19T20:43:05Z","Content":"\u003E \n\u003E \n\u003E 4 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E will the hub include nodes for ~0.9375m (Soyuz) and 0.625m (Apollo) docking ports aswell? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\u003E \n\nI will -not- be introducing another docking size; the options will be 0.625m and 1.25m (the stock docking port sizes)."},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-07-19T21:33:15Z","Content":"In terms of integrating with \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS - giving the parts hab time bonuses and/or multipliers, and probably recyclers is one thing (and could be done entirely within a \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch - I\u0027d probably write one for myself anyway, so I\u0027d be happy to knock one together if I can work out some approximate numbers to aim for, probably based on Salyut/ISS mission durations), but the main part-saving function you could provide would be to allow amounts of supplies and fertilizer to be configured as part of your tank config code.  \n\nFurther on from that, some kind of integrated processor part (the \u003Cabbr title=\u0022Umbra Space Industries (a collection of mods)\u0022\u003EUSI\u003C/abbr\u003E-LS greenhouses) is pretty much required for any long duration mission, but this is not necessarily required for transit - having a decent recycler level is sufficient for most long term \u003Cabbr title=\u0022Low Kerbin Orbit\u0022\u003ELKO\u003C/abbr\u003E space stations, and most bases can grow food in-situ."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-19T22:06:13Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Shadowmage said:\n\u003E \n\u003E \n\u003E I will -not- be introducing another docking size; the options will be 0.625m and 1.25m (the stock docking port sizes).\n\u003E \n\nwill that be a thing that can be changed in the cfg files by a third party? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)  \n\nbtw, I thought that your Soyuz docking port was something around 0.9375, hence why I mentioned, but checking the .cfg I noticed I was very wrong ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2016-07-19T22:11:14Z","Content":"\u003E \n\u003E \n\u003E 2 minutes ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E will that be a thing that can be changed in the cfg files by a third party? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)  \n\u003E   \n\u003E \n\u003E btw, I thought that your Soyuz docking port was something around 0.9375, hence why I mentioned, but checking the .cfg I noticed I was very wrong ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\nThe docking ports are separate models that are added in with MODEL {} nodes.  In another context (i.e. \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E) it\u0027s definitely possible to replace and rescale them."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-19T22:15:21Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, blowfish said:\n\u003E \n\u003E \n\u003E The docking ports are separate models that are added in with MODEL {} nodes.  In another context (i.e. \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003E\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E\u003C/abbr\u003E) it\u0027s definitely possible to replace and rescale them.\n\u003E \n\nyep, I\u0027ve changed the Orion\u0027s DP many times through patches for personal use, but I was wondering if that would still be a thing for the stations"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-20T00:08:07Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E will that be a thing that can be changed in the cfg files by a third party? ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)  \n\u003E   \n\u003E \n\u003E btw, I thought that your Soyuz docking port was something around 0.9375, hence why I mentioned, but checking the .cfg I noticed I was very wrong ![:P](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif \u0022:P\u0022)\n\u003E \n\n\u003E \n\u003E \n\u003E 1 hour ago, blowfish said:\n\u003E \n\u003E \n\u003E The docking ports are separate models that are added in with MODEL {} nodes.  In another context (i.e. \u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003E\u003Cabbr title=\u0022Realism Overhaul (mod)\u0022\u003ERO\u003C/abbr\u003E\u003C/abbr\u003E) it\u0027s definitely possible to replace and rescale them.\n\u003E \n\n\u003E \n\u003E \n\u003E 1 hour ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E yep, I\u0027ve changed the Orion\u0027s DP many times through patches for personal use, but I was wondering if that would still be a thing for the stations\n\u003E \n\nOn the note of the Soyuz; if I ever retouch the model I\u0027m going to clean up the nose so that other docking ports will be easier to swap in/out and to rescale the base models; that ring around the port is kind of hard to work around.  But yes, it is 0.625m currently, the same as the Apollo/SC-B. \n\nMostly I\u0027m aiming to keep compatible with stock sizing (and the majority of mods) for the major parts.  1.875m being a bit of an exception for the Soyuz stuff as I thought that it was really needed at that size, and the fuel tanks/engine code already easily adapts to whatever odd sizes I want to throw at it.\n\nAs to the station hubs, I\u0027m still undecided on how best to integrate the docking ports.\n\nFrom a plugin standpoint they all need to have individual transform names (e.g. Dock1, Dock2[...]); there is no way around that, it is a requirement of the stock ModuleDockingNode and is the only way for the modules\u0027 to tell what port they are each responsible for.  There are basically two ways make this work as far as model setup goes:\n\n1.) Integrate the docking ports and transforms into the model.  Complicates the modeling and texture-sharing setup, greatly simplifies the config setup, but results in not being able to swap docking port models.\n\n2.) Have the hub models be blank hubs with flat spots for the ports, and use standard stand-alone docking port models.  Have -separate- additional models that are nothing but a set of docking-port transforms (a control transform and a node transform, they have to be oriented differently), one for each docking port number (e.g. DockTransform1 in one model, DockTransform2 in another model).  Use the new SUBMODEL capability in the SSTU\\_MODEL setup to add the docking ports, docking-transforms, and station module part into a single welded model.  This makes the modeling end of things easier and allows for compatibility with swapping in new docking port models, but greatly increases the complexity of the config/model-definition setup.\n\nFor #1 there is no port swapping. \n\nTo swap models for #2 you would edit the SUBMODEL nodes to swap in your docking port of choice and reposition the docking transform models according to the new docking ports setup.  The only limitation to the ports used would be that of the flat spots on the hub; so for your 0.9375 you would still have to use the flat for 1.25m (or create and add an adapter through another SUBMODEL).  This option also makes it easier to integrate into the module-switch setup as you could re-use many of the same docking port module definitions for the different hubs.\n\nI\u0027ll probably go with #2 as it will just be more configurable in the long run, and makes dealing with the modeling end of things easier (good for me, I would rather have complex configs and easier modeling).  Who knows, maybe I\u0027ll even redo my docking ports at some point and want to be able to swap them in without redoing the whole model ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"Nightside","CreatedById":150244,"CreatedDateTime":"2016-07-20T00:38:27Z","Content":"Does anyone have a thrust curve to share for the SRBs? I\u0027m playing around with that feature and am wondering what others like."},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-07-20T04:08:03Z","Content":"#2 sounds better, frankly."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-20T04:50:03Z","Content":"the only thing that bugs me about a hub with integrated multiple docking ports is that it makes hard to know which one is which to dock... Porkjet made this in his inflatable hub, and it was quite confusing to know which one is which unless you read the numbers on the texture and tried to figure out which one was the one you\u0027d pick in the right menu, say you want to dock a Soyuz in a one part Mir, you have 6 docking targets and you want to dock in either the front or the rear of the core, unless you have labels telling which one is which it might be hard to figure out which one is the one you want to go  \n\nEDIT: with that said, I\u0027d go with #2  \n\nbtw, now that I realized that this will be hard only for the lazy-asses like myself who use mechjeb, those doing manually won\u0027t have an issue with it\n\n**Edited \u003Ctime datetime=\u00222016-07-20T04:52:10Z\u0022 title=\u002207/20/2016 04:52  AM\u0022 data-short=\u00227 yr\u0022\u003EJuly 20, 2016\u003C/time\u003E by JoseEduardo**"},{"CreatedByName":"Dr.K Kerbal","CreatedById":156864,"CreatedDateTime":"2016-07-20T10:30:31Z","Content":"Great mod. Solve the SLS!![:sticktongue:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue2.gif \u0022:sticktongue:\u0022)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-07-20T13:13:52Z","Content":"Regarding docking, particularly welded docking: can those ports \u0022snap to alignment?\u0022 \n\nIt\u0027s really hard to build something where all the parts stay in alignment on orbit. I get usually get pretty close eyeballing it, but it can be a few degrees off, and once I notice I cannot unseen it.\n\nIdeally this would be a function you could set in the right click, because it would be useful for any new docking port part. Perhaps the part needs to be rotated within 5\u00B0 or something, and then rotates to alignment. This idea sort of goes hand in hand with my asking for a sort of linear docking truss part, as that would have to snap to alignment to be useful."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-20T14:16:42Z","Content":"ModuleDockingNode supports snap to alignment, so if Mage uses the stock code he can set it to snap to a certain angle  \n\nor if he doesn\u0027t do that, but still uses the stock code, you could add it yourself, I found this out while checking the .cfg file from CxAerospace:\n\n    \tMODULE{\tname = ModuleDockingNode\treferenceAttachNode = top\tnodeType = APAS_CXG\tgendered = true\tgenderFemale = false\tacquireTorque = 0.5\tacquireForce = 0.5\tcaptureMinRollDot = 0.99999\tsnapRotation = true\tsnapOffset = 120}\n\nI have added the gendered option to Bobcat\u0027s Soyuz and Mir, for personal use, but I haven\u0027t added the snap part mainly because I want some freedom to rotate with these ports, so if you want you can remove the gendered bit or set it to false, and use the snap  \n\nbtw, idk which one does it, but you have to be very precise while docking for it to dock, if you don\u0027t you\u0027ll need to rotate the vessel until it find the right spot and docks\n\n**Edited \u003Ctime datetime=\u00222016-07-20T14:23:59Z\u0022 title=\u002207/20/2016 02:23  PM\u0022 data-short=\u00227 yr\u0022\u003EJuly 20, 2016\u003C/time\u003E by JoseEduardo**"},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-20T14:34:20Z","Content":"\u003E \n\u003E \n\u003E 9 hours ago, JoseEduardo said:\n\u003E \n\u003E \n\u003E the only thing that bugs me about a hub with integrated multiple docking ports is that it makes hard to know which one is which to dock... Porkjet made this in his inflatable hub, and it was quite confusing to know which one is which unless you read the numbers on the texture and tried to figure out which one was the one you\u0027d pick in the right menu, say you want to dock a Soyuz in a one part Mir, you have 6 docking targets and you want to dock in either the front or the rear of the core, unless you have labels telling which one is which it might be hard to figure out which one is the one you want to go  \n\u003E   \n\u003E \n\u003E EDIT: with that said, I\u0027d go with #2  \n\u003E   \n\u003E \n\u003E btw, now that I realized that this will be hard only for the lazy-asses like myself who use mechjeb, those doing manually won\u0027t have an issue with it\n\u003E \n\nThe docking port hubs will have multiple right-click options for targeting each port, with numbers or other labels that correspond to textures or something on each port..  \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E docking will still be fully possible.  It will also have right-click options to \u0027control from port #1\u0027 or \u0027target port #3\u0027.  So, the only difference from normal docking ports is you\u0027ll have to look at the vessel to find the # of the port that you are docking to / undocking from / targetting, and use that # to get the right option in the right-click menu.\n\n\u003E \n\u003E \n\u003E 1 hour ago, tater said:\n\u003E \n\u003E \n\u003E Regarding docking, particularly welded docking: can those ports \u0022snap to alignment?\u0022 \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E It\u0027s really hard to build something where all the parts stay in alignment on orbit. I get usually get pretty close eyeballing it, but it can be a few degrees off, and once I notice I cannot unseen it.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Ideally this would be a function you could set in the right click, because it would be useful for any new docking port part. Perhaps the part needs to be rotated within 5\u00B0 or something, and then rotates to alignment. This idea sort of goes hand in hand with my asking for a sort of linear docking truss part, as that would have to snap to alignment to be useful.\n\u003E \n\nYes I could potentially add the snapping feature to the ports (or as Jose says, you can add it through a simple patch).  However, if I do add it I will be finding some way for an in-\u003Cabbr title=\u0022Vehicle Assembly Building\u0022\u003Evab\u003C/abbr\u003E / in-flight toggle for it -- the stock module does not support this, so I likely won\u0027t have snapping initially; will have to wait until I can come up with a workable hack around the stock module limitations / write yet another module just to add the gui toggles / wait until stock adds such a feature."},{"CreatedByName":"JoseEduardo","CreatedById":127759,"CreatedDateTime":"2016-07-20T14:39:15Z","Content":"\u003E \n\u003E \n\u003E 1 minute ago, Shadowmage said:\n\u003E \n\u003E \n\u003E The docking port hubs will have multiple right-click options for targeting each port, with numbers or other labels that correspond to textures or something on each port..  \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003E\u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E\u003C/abbr\u003E docking will still be fully possible.  It will also have right-click options to \u0027control from port #1\u0027 or \u0027target port #3\u0027.  So, the only difference from normal docking ports is you\u0027ll have to look at the vessel to find the # of the port that you are docking to / undocking from / targetting, and use that # to get the right option in the right-click menu.\n\u003E \n\nlike Porkjet\u0027s inflatable hub, gotcha! ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)  \n\nmultiple docking ports doesn\u0027t kill \u003Cabbr title=\u0022Mechjeb (mod)\u0022\u003EMJ\u003C/abbr\u003E, it just makes it confusing to know which one is which, but since you\u0027ll be adding labels that will help a lot ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"tater","CreatedById":119411,"CreatedDateTime":"2016-07-20T16:34:00Z","Content":"I\u0027ve managed a few \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches myself, so that\u0027s not a problem ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)\n\nI used to have [@Nertea](%7B___base_url___%7D/index.php?/profile/83952-nertea/)\u0027s stuff in my install, and with 64 bit I guess I can put it back (woot!)."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-21T16:07:34Z","Content":"Hit a bit of a snag in the ModuleSwitch setup last night regarding its use with my own modules.  Works fine for stock modules, but many of my modules rely on the config for the module being accessible from the part / database due to them needing sub-node data that is not always available in the node passed into the OnLoad method.\n\nSo, I can either 1.) Drop the module-switching altogether (which would force a redesign of all of the station parts\u0027 concepts), or 2.) Rework all of my other modules that use cached part-config nodes to use some other method; cannot even rely on the prefab part having the node, as the modules from ModuleSwitch do not get loaded on prefab parts; will require special hand-coding of the config node handling for each and every module that I want to be compatible with the ModuleSwitch (which at this point could be quite a few).\n\nAs the station parts pretty much need the module-switching functionality (or they would end up just like every other part-count-inflating station parts pack), my choices become to either 1.) Don\u0027t make station parts at all, or 2.) Same as #2 above; tons of work, and ugly fragile code to boot.  Neither is a good choice.  Going to have to do some thinking / consideration on it. \n\nOn the part design front -- I\u0027m highly considering making the DOS-based hub be a separate part;  yes I know it was integrated into the Mir core (and others), but this is one of those cases where splitting it off might be necessary to clean up some of the part functions;  the \u0027core\u0027 modules already have enough functions (and potentially also a front and rear docking port), so I think that having all of the other right-click docking port options on the part might just be too much.  Instead of the hub with ports on it the CORE modules would get a blank 1.25m end-cap suitable for attaching the hub or any other part (dock, hub, welding docking port, whatever).\n\nThis would leave the docking hub as a separate part, but that is not really a problem either -- I was already planning some stand-alone multi-docking-hub parts.  Splitting them off from the core actually allows for much more opportunity for configuration and options in (through yet another custom tailored plugin).  Options such as being able to swap around the docking port models for each port on the hub (0.625m, 1.25m, blank for welding port), switchable \u0027hub\u0027 models, and potential inclusion of other structural bits on the hub (e.g. hub has an option for a truss segment or adapters for one of its port/node model options)."},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2016-07-21T18:25:29Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Works fine for stock modules, but many of my modules rely on the config for the module being accessible from the part / database due to them needing sub-node data that is not always available in the node passed into the OnLoad method.\n\u003E \n\n Ok maybe this is a silly question but it did occur too me.  Couldn\u0027t you setup the modules as part of the on-load and then \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patch everything in you want config wise as a :FINAL or :AFTER patch?  I know this may not be ideal and since I\u0027m not a coder this could be an utterly idiotic idea, but whenever I think of moving/changing/adding modules around on custom parts I make I tend to do them as :FINAL patches and I\u0027ve done it with mod added modules (like DMagicScienceAnimate) where I can\u0027t do anything with the module until after its OnLoad has passed."},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-07-21T20:56:43Z","Content":"Some bug reports (none of these are show-stopping):  \n\n\u0022Enable parachute staging\u0022 works fine, but doesn\u0027t appear on the staging track. This may be by design, but something you said earlier makes me think it may not be intentional.  \n\n(As an aside, the SSTU parachutes are a little counter-intuitive with how KSP chutes work now, and especially the stand-alone docking ports/chutes, which don\u0027t have integrated drogues. They do work fine, but I\u0027ve certainly lost capsules in testing to having overly aggressive atmospheric entries. Perhaps your docking ports should have the same inbuilt drogues as the ones built into capsules).  \n\nSSTU-SC-B-SM (Apollo-like Service Module) - \u0022Jettison fairing\u0022 for the engine doesn\u0027t seem to appear in right click menus, nor functional when set as an action group.  \n\nSSTU-SC-A-OM (Soyuz-like Orbital Module) - Enable docking lights\u0022 doesn\u0027t turn these on.  \n\nAll SSTU Fuel tanks and \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u0027s - will not radially attach at first attempt, instead these need to be attached via a node, and then can be attached radially.  \n\nSSTU-SC-GEN-MHS (modular heat shield) - the modular heat shield isn\u0027t resizing anymore (I\u0027m sure I\u0027ve seen this work in a previous build). The connection is re-sizing fine, but the heat shield itself stays at it\u0027s default size.  \n\nAll size limits - these are now correctly applying in career mode (thank you!), but the same limits apply in Sandbox - i.e., if you have unlocked 2.5m parts, then sandbox will also be limited to 2.5m parts. If it was one or the other then this is probably the better option, so it\u0027s not too serious, I think."},{"CreatedByName":"Shadowmage","CreatedById":138730,"CreatedDateTime":"2016-07-21T21:12:47Z","Content":"\u003E \n\u003E \n\u003E 38 minutes ago, rasta013 said:\n\u003E \n\u003E \n\u003E Ok maybe this is a silly question but it did occur too me.  Couldn\u0027t you setup the modules as part of the on-load and then \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003E\u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E\u003C/abbr\u003E patch everything in you want config wise as a :FINAL or :AFTER patch?  I know this may not be ideal and since I\u0027m not a coder this could be an utterly idiotic idea, but whenever I think of moving/changing/adding modules around on custom parts I make I tend to do them as :FINAL patches and I\u0027ve done it with mod added modules (like DMagicScienceAnimate) where I can\u0027t do anything with the module until after its OnLoad has passed.\n\u003E \n\nSadly no;  ModuleManager does its patching of the configs long before the parts are ever loaded; there is no way to tell it to patch -after- the part has loaded, and would in fact defeat the entire purpose of patching the files.  Neither ModuleManager nor patches could conceivably be a solution to this problem.\n\nWhat I need is for the stock OnLoad method to -always- pass the full config-node for the module, instead of only passing the full config node on the prefab part.  But this would mean that stock would need to persist that config node with the module (which is what my original hacky workaround consisted of) or look it up from the Parts base config node (which would not work in this case as they are not defined as a normal module, and is why my current code is failing; the modules are not defined in the part, but as sub-nodes in another modules config node).\n\nAt this point I cannot think of a clean solution to the problem.  I have a couple fairly terrible workarounds that I\u0027m going to look into... but none of them are \u0027nice\u0027 and all will likely run afoul of issues later down the road, they all also require substantial amounts of additional code be added to pretty much all of my other modules, which is likely to break lots of things.  Not really the road I want to go down; its like building a house out of already rotten timber... just a bad idea and only going to cause more problems later when you have to rip it all out and rebuild it from the ground up.\n\nIts really looking like I\u0027m going to have to ditch the ModuleSwitch functionality entirely.  It won\u0027t work with my current modules setup and will likely have other as-yet-unforeseen/untested compatibility issues with other mods\u0027 modules.  Sadly this leaves the modular station parts as being... well... not very modular.  Each \u0027core\u0027 variant would have to be its own distinct part (to enable the different core module functions; e.g. lab vs. hab; or at least two variants for the module setup while still allowing swapping of the \u0027CORE\u0027 model).  Also could not be any optional docking ports; it can either have ports on all variants or not at all, the only possibility would be to allow for switching the models around with custom transform repositioning.  \n\nWould also mean that docking hubs could not have optional ports on them; they would come with a preset number of ports and your only option would be to change the models (so no option of blank nodes and thus no ability to use welding docking ports with the hubs).\n\nUghh... perhaps I should just give up in my crusade to lower part-count.  I\u0027m quite sick of fighting with the stock code (and lack of available source) and the stock mentality of \u0027just add more parts!\u0027; at this point it is only making me bitter and resentful, which is not at all conductive to me being productive.  Its hard to get motivated about doing something when you know it will be a long, drawn out, painful battle the entire way with little to show for it in the end.  This isn\u0027t even touching on the fact that there still isn\u0027t a working wheel solution available even months after the 1.1 release, but if I\u0027m not doing integrated/modular parts I suppose that is a bit of a moot point anyway (though it will still prevent me from doing any sort of wheel/landing legs; I refuse to touch the pile of @#$^ that is the current Unity wheel system).\n\nSadly that doesn\u0027t leave me much in the way of things to actually do for modding; most of the part concepts that I have, at a single-part-setup level, have already been done in other mods, and I don\u0027t really feel like doing a bunch of models and textures just to have them in \u0027my style\u0027. \n\nSorry if that sounded like a bit of a whine; merely trying to express a bit of my frustration before it forces me to just walk away.  Its not what I want to do, but obviously I have some re-evaluation to do concerning my goals for the mod and plans for future parts/modules if I\u0027m going to continue working on it -- I cannot simply keep marching along and putting up with the stock incompatibilities and assumptions they make.\n\nSo I\u0027m going to take the next few days to rethink the mod a bit, re-evaluate the goals and intent, and try to think of a better way to to handle things moving forward.  If I don\u0027t like what I come up with I\u0027ll likely just take a break until 1.2 is ready and see if the stock code situation has improved at all (they are finally taking optimization seriously, so there might be some hope for better performance in the future; though by the nature of the system the best they can hope for is O(n)... which is still far better than the O(n^2) to O(n^n) that it currently operates as).\n\n\u003E \n\u003E \n\u003E 17 minutes ago, Domfluff said:\n\u003E \n\u003E \n\u003E Some bug reports (none of these are show-stopping):  \n\u003E   \n\u003E   \n\u003E \n\u003E \u0022Enable parachute staging\u0022 works fine, but doesn\u0027t appear on the staging track. This may be by design, but something you said earlier makes me think it may not be intentional.  \n\u003E   \n\u003E \n\u003E (As an aside, the SSTU parachutes are a little counter-intuitive with how KSP chutes work now, and especially the stand-alone docking ports/chutes, which don\u0027t have integrated drogues. They do work fine, but I\u0027ve certainly lost capsules in testing to having overly aggressive atmospheric entries. Perhaps your docking ports should have the same inbuilt drogues as the ones built into capsules).  \n\u003E   \n\u003E \n\u003E SSTU-SC-B-SM (Apollo-like Service Module) - \u0022Jettison fairing\u0022 for the engine doesn\u0027t seem to appear in right click menus, nor functional when set as an action group.  \n\u003E   \n\u003E \n\u003E SSTU-SC-A-OM (Soyuz-like Orbital Module) - Enable docking lights\u0022 doesn\u0027t turn these on.  \n\u003E   \n\u003E \n\u003E All SSTU Fuel tanks and \u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003E\u003Cabbr title=\u0022Solid fuel Rocket Booster\u0022\u003ESRB\u003C/abbr\u003E\u003C/abbr\u003E\u0027s - will not radially attach at first attempt, instead these need to be attached via a node, and then can be attached radially.  \n\u003E   \n\u003E \n\u003E SSTU-SC-GEN-MHS (modular heat shield) - the modular heat shield isn\u0027t resizing anymore (I\u0027m sure I\u0027ve seen this work in a previous build). The connection is re-sizing fine, but the heat shield itself stays at it\u0027s default size.  \n\u003E   \n\u003E \n\u003E All size limits - these are now correctly applying in career mode (thank you!), but the same limits apply in Sandbox - i.e., if you have unlocked 2.5m parts, then sandbox will also be limited to 2.5m parts. If it was one or the other then this is probably the better option, so it\u0027s not too serious, I think.\n\u003E \n\nThanks for the reports;\n\n#1 - known issue with stock code, nothing I can do about it:  [https://github.com/shadowmage45/SSTULabs/issues/287](https://github.com/shadowmage45/SSTULabs/issues/287)\n\n#2 - you need to increase the section/segment count, or else there is no ability to manually jettison (how can you manually jettison a fairing that is attached to the fuel tank below?  you jettison the fuel tank and the fairing goes with it).  The manual jettison buttons only apply if the section count for the fairing is \u003E 1, this is the intended behavior.\n\n#3 - will look into it\n\n#4 - known issue with stock code [https://github.com/shadowmage45/SSTULabs/issues/272](https://github.com/shadowmage45/SSTULabs/issues/272); they don\u0027t like it when you switch models/colliders around during part initialization.  Nothing I can do about it as far as I\u0027m aware (would need full source access to have any chance of tracking down and fixing the problem, which I do not have, nor is there any option for me to get access to it that I\u0027m aware of).\n\n#5 - hmm... I probably broke that with some recent code changes as it used a bit of a strange setup for the model, will investigate next time I feel up to digging into things.\n\n#6 - will look into that as well - it should be clearing out the tech-limits (and not using them at all) when you switch over to the sandbox game; seems likely that it is an artifact of the caching system I had to put into place (because for some reason the tech-node data is not available when the editor/flight scenes are initializing; it only becomes available later after the scenes are all setup).\n\nIn the future, please look at the issue tracker to make sure you are not posting duplicate issues, and any new issues that you have should go directly there; it ensures that I see them and that they do not get forgotten about (as I\u0027m likely going to forget about #3, 5, and 6 before I can fix them as they\u0027re not on the tracker).  The issue tracker can be found at:  [https://github.com/shadowmage45/SSTULabs/issues](https://github.com/shadowmage45/SSTULabs/issues)"},{"CreatedByName":"rasta013","CreatedById":140002,"CreatedDateTime":"2016-07-22T00:11:33Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, Shadowmage said:\n\u003E \n\u003E \n\u003E Sadly no;  ModuleManager does its patching of the configs long before the parts are ever loaded; there is no way to tell it to patch -after- the part has loaded, and would in fact defeat the entire purpose of patching the files.  Neither ModuleManager nor patches could conceivably be a solution to this problem.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E What I need is for the stock OnLoad method to -always- pass the full config-node for the module, instead of only passing the full config node on the prefab part.  But this would mean that stock would need to persist that config node with the module (which is what my original hacky workaround consisted of) or look it up from the Parts base config node (which would not work in this case as they are not defined as a normal module, and is why my current code is failing; the modules are not defined in the part, but as sub-nodes in another modules config node).\n\u003E \n\nOk gotcha.  Thanks for the explanation. I\u0027ve probably learned more about the internal workings of the game, load sequence and part initialization by following this mod than I have everywhere else combined. LOL\n\nAs for the frustration thing - I get it.  I had to take a break entirely from KSP last year because the memory issues combined with stability problems finally broke my back and I left for about 6 months.  That\u0027s just me as a player dealing with the craziness that is the KSP code so I can only vaguely imagine how irksome it must be for someone trying to code around all the little quirks and issues.  You do what you need to do to get yourself where you feel good about things and if that means you don\u0027t add anything else, so be it.  What you have created is truly one of the all time best mods this game has ever seen and I think I can safely say those of us that use it thoroughly appreciate everything you have accomplished and do for us as players."},{"CreatedByName":"Domfluff","CreatedById":64903,"CreatedDateTime":"2016-07-22T01:28:27Z","Content":"Thinking about usi-ls support some more, and doing a bit of research - the DOS modules had a mission duration of 90 days, which with a crew of two implies a total of six seats (30 days per seat, divided by two kerbals) - this would mean that the station itself would have two available seats, with no bonuses on hab time. I think this is fine, since these  are low-tech stations, more sophisticated hab modules would perform better. The other four seats come from the soyuz capsule itself.\n\nIn terms of supplies, 500 supplies is enough for one kerbal/month, therefore the station needs to hold 3000 supplies, with no need for recycling (low tech). The early Salyuts had no resupply, so this puts a fairly hard limit on the station lifespan. Salyut 6\u002B could dock a Progress vehicle for supply, and judging by the mission logs, it looks like one Progress could supply the full ninety day duration. This implies that the Progress can hold 3000 supplies, or three tons of cargo. Since that mostly matches the real world, that\u0027s pretty straightforward. I\u0027ll write a basic mm patch when I\u0027m in front of a pc, and see if that causes any other problems.\n\nMir and ISS modules would require some more thought/research, as would inflatables or anything more sophisticated. Going the other direction, a MOL-like station would require minimal supplies and perhaps only one seat (for the lab) to match it\u0027s forty day mission duration."}]}