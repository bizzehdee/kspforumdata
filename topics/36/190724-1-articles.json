{"TopicId":190724,"ForumId":36,"TopicTitle":"AVC Updater","CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-29T02:19:33Z","PageNum":1,"Articles":[{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-29T02:19:33Z","Content":"\n\u003Cp\u003E\n\u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0026amp;do=hovercard\u0022 data-mentionid=\u002257146\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/57146-sarbian/\u0022 rel=\u0022\u0022\u003E@sarbian\u003C/a\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nDue to some issues in MiniAVC.dll as a result of the Unity upgrade, I\u0027ve written a mod which will go through and replace all MiniAVC.dll files with a new one with a different name (MiniAVC-v2.dll).\n\u003C/p\u003E\n\u003Cp\u003E\nIt\u0027s working, but now I\u0027m getting a \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E error:\n\u003C/p\u003E\n\u003Cpre class=\u0022ipsCode prettyprint lang-html prettyprinted\u0022\u003E\n\u003Cspan class=\u0022pln\u0022\u003EUploading Crash Report\n[ModuleManager] The patching thread threw an exception: System.IO.FileNotFoundException: R:\\KSP_1.8.0_dev\\GameData\\KWRocketry\\MiniAVC.dll\n  at System.Diagnostics.FileVersionInfo.GetVersionInfo (System.String fileName) [0x0000d] in \u0026lt;376e8c39bbab4f1193a569c8dbe4305c\u0026gt;:0 \n  at ModuleManager.ModListGenerator.GenerateModList (System.Collections.Generic.IEnumerable\u00601[T] modsAddedByAssemblies, ModuleManager.Progress.IPatchProgress progress, ModuleManager.Logging.IBasicLogger logger) [0x000a2] in \u0026lt;6cc6df54448a4c2b97e086234872a67b\u0026gt;:0 \n  at ModuleManager.MMPatchLoader.Run () [0x000f3] in \u0026lt;6cc6df54448a4c2b97e086234872a67b\u0026gt;:0 \n  at ModuleManager.MMPatchRunner\u002B\u0026lt;\u0026gt;c__DisplayClass11_0.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Run\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eb__1 () [0x00001] in \u0026lt;6cc6df54448a4c2b97e086234872a67b\u0026gt;:0 \n  at ModuleManager.Threading.BackgroundTask\u002B\u0026lt;\u0026gt;c__DisplayClass0_0.\u003C/span\u003E\u003Cspan class=\u0022tag\u0022\u003E\u0026lt;Start\u0026gt;\u003C/span\u003E\u003Cspan class=\u0022pln\u0022\u003Eg__RunAction|0 () [0x00002] in \u0026lt;6cc6df54448a4c2b97e086234872a67b\u0026gt;:0 \u003C/span\u003E\u003C/pre\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nI don\u0027t know why \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E is looking for files like this, but what I\u0027m going to have to do is to put a do-nothing assembly there.\u00A0 Is there a better thing to do?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 Apparently just creating a file there works, so at least I can test it\n\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222019-12-29T02:23:08Z\u0022 title=\u002212/29/2019 02:23  AM\u0022 data-short=\u00224 yr\u0022\u003EDecember 29, 2019\u003C/time\u003E by linuxgurugamer\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"blowfish","CreatedById":119688,"CreatedDateTime":"2019-12-29T06:02:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223721983\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577585973\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI don\u0027t know why \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E is looking for files like this, but what I\u0027m going to have to do is to put a do-nothing assembly there.\u00A0 Is there a better thing to do?\n\u003C/p\u003E\n\u003Cp\u003E\nEdit:\u00A0 Apparently just creating a file there works, so at least I can test it\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe only reason it actually tries to open the file is to get the file version, which only matters for the assembly debug info that \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E puts in the log.\u00A0 Personally I\u0027d be fine with wrapping this in a conditional for whether the file actually exists.\u00A0 It\u0027ll still show the assembly version and KSPAssembly version even if the file is missing.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2019-12-29T10:35:29Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223721983\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577585973\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n8 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nDue to some issues in MiniAVC.dll as a result of the Unity upgrade, I\u0027ve written a mod which will go through and replace all MiniAVC.dll files with a new one with a different name (MiniAVC-v2.dll).\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nWould not that cause issues with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E installs ? If you rename files, \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will not be able to delete those on next mod update or on uninstall of unwanted mod. Might be better idea to check file version and overwrite same file name with newer version. For manual installs should not be issue if user knows what he is doing.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-29T12:26:14Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722076\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577615729\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWould not that cause issues with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E installs ? If you rename files, \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will not be able to delete those on next mod update or on uninstall of unwanted mod. Might be better idea to check file version and overwrite same file name with newer version. For manual installs should not be issue if user knows what he is doing.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s a good point. But you have it slightly wrong.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will happily delete a file that isn\u0027t\u00A0 there the problem is with the new file.\u00A0 \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E won\u0027t overwrite a file if its already there.\u00A0 The solution is to have different file names, and have the file distributed in mod file be able to remove the one put there by the updater mod.\n\u003C/p\u003E\n\u003Cp\u003E\nDifferent file names so that it is visually obvious what the\u00A0\u00A0files are\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2019-12-29T15:23:13Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722103\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577622374\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will happily delete a file that isn\u0027t\u00A0 there the problem is with the new file.\u00A0 \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E won\u0027t overwrite a file if its already there.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nNope. Almost all of cases of faulty installs comes becasue \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E don\u0027t delete new files that are made after install with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E. For example, if some mod write custom xml or config file with user presets for mod on the first run in game. Such mod is not properly uninstalled, folder with mentioned xml file will remain, leaving (almost) empty folder and only xml file. That messes up further \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches if user does not manualy delete whole folder. \u003Cabbr title=\u0022Ferram Aerospace Research (mod)\u0022\u003EFAR\u003C/abbr\u003E is example that comes from top of my head, but there is quite a lot of other mods with similar behaviour.\n\u003C/p\u003E\n\u003Cp\u003E\nSame file overwritting policy is for any other file, including DLL plugin or any other user created file made without \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E knowladge. You might want to check with \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119649-politas/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022119649\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/119649-politas/\u0022 rel=\u0022\u0022\u003E@politas\u003C/a\u003E or \u003Ca contenteditable=\u0022false\u0022 data-ipshover=\u0022\u0022 data-ipshover-target=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156657-hebarusan/\u0026amp;do=hovercard\u0022 data-mentionid=\u0022156657\u0022 href=\u0022https://forum.kerbalspaceprogram.com/index.php?/profile/156657-hebarusan/\u0022 rel=\u0022\u0022\u003E@HebaruSan\u003C/a\u003E to confirm or deny this, but AFAIK this was not changed in a long time and \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E will not delete either, new file or same but renamed file outside of \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E install process. And there is also possibility that I have missinterprated quoted sentance, since I\u0027m not native english speaker.\n\u003C/p\u003E\n\u003Cp\u003E\nIf I understand your new mod behaviour, \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E would know only about \u0022 MiniAVC.dll\u0022 file trough install. Your mod would delete that file and copy new \u0022 MiniAVC-v2.dll\u0022 in same folder. \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E would not be aware of new \u0022 MiniAVC-v2.dll\u0022 file as it is not caught in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E cache file trough install. Better option would be that you delete obsolete \u0022 MiniAVC.dll\u0022 file and overwrite it with new version, but with same name \u0022MiniAVC.dll\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nSorry for being slightly offtopic, but that new WIP mod might affect a lot of users who rally only on \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E to do things for them, without knowladge what is going on behind scene. I also understand your desire for such mod, to quickly fix KSP installs by removing obsolete plugin that may do more harm than any good. Just have to consider all options before going public with this new mod.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-29T19:15:07Z","Content":"\n\u003Cp\u003E\nI fail to see what you are saying that is different than what I said.\n\u003C/p\u003E\n\u003Cp\u003E\nSpecifically, if a file was installed by \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, and removed, and then \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E updates or deletes the mod, it won\u0027t be bothered by a missing file.\n\u003C/p\u003E\n\u003Cp\u003E\nIf \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E tries to install a file which is already there, it will generate an error and revert the changes.\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nSo, this is what I\u0027m going to do.\u00A0 For now, I\u0027ll call this new mod the AVCUpdater:\n\u003C/p\u003E\n\u003Cp\u003E\nThe AVCUpdater will do the following steps:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nFind any and all files called MiniAVC.dll.old and delete them (from any previous run)\n\u003C/li\u003E\n\u003Cli\u003E\nFind all MiniAVC.dll files\n\u003C/li\u003E\n\u003Cli\u003E\nRename each MiniAVC.dll files to MiniAVC.dll.old (necessary because it can\u0027t be deleted in this run on Windows)\n\u003C/li\u003E\n\u003Cli\u003E\nCopy a new file:\u00A0 MiniAVC-v2-Updated.dll to the same directory where the MiniAVC.dll file is\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nThe next release of MiniAVC will be named:\u00A0 MiniAVC-v2.dll\n\u003C/p\u003E\n\u003Cp\u003E\nMiniAVC-v2.dll will be updated to do the following:\n\u003C/p\u003E\n\u003Col\u003E\u003Cli\u003E\nDelete any MiniAVC.v2-Updated.dll.old\n\u003C/li\u003E\n\u003Cli\u003E\nRename any MiniAVC-v2-Updated.dll to\u00A0 MiniAVC.v2-Updated.dll.old\n\u003C/li\u003E\n\u003C/ol\u003E\u003Cp\u003E\nWith these two set of changes, there won\u0027t be any issue with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E because no file will be overwritten, and for anybody who runs the AVCUpdater, any changes it makes to old mods will not impact \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E\n\u003C/p\u003E\n\u003Cp\u003E\nAdditionally, ZeroMiniAVC.dll will be updated to delete MiniAVC-v2.dll files as well.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722143\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577632993\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n3 hours ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSorry for being slightly offtopic, but that new WIP mod might affect a lot of users who rally only on \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E to do things for them, without knowladge what is going on behind scene. I also understand your desire for such mod, to quickly fix KSP installs by removing obsolete plugin that may do more harm than any good. Just have to consider all options before going public with this new mod.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThe problem is that the old MiniAVC.dll will cause KSP to crash, either immediately or sometimes in the future.\u00A0 It\u0027s very important to get this fix out, so important that I\u0027m delaying other work to finish this.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd if I don\u0027t change the name, there will be no obvious visual that the mod has been updated or not.\n\u003C/p\u003E\n"},{"CreatedByName":"kcs123","CreatedById":127158,"CreatedDateTime":"2019-12-30T14:31:17Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722214\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577646907\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n18 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem is that the old MiniAVC.dll will cause KSP to crash, either immediately or sometimes in the future.\u00A0 It\u0027s very important to get this fix out, so important that I\u0027m delaying other work to finish this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nI\u0027m aware of this issue and I understand why you are creating this mod in the first place. But, let say that your mod is done with all delete/copy of new files. After that, user might need to update some mod trough \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E that also have MiniAVC as dependency (old version and name). Let say that in mod folder exist new file version \u0022 MiniAVC-v2.dll\u0022 becasue \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E was unable to remove it trough uninstall. After update, you will get again broken \u0022MiniAVC.dll\u0022 along with new \u0022MiniAVC-v2.dll\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the next run old MiniAVC.dll still can create havoc on loading and break things.\n\u003C/p\u003E\n\u003Cp\u003E\nSo, each mod developer or \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E staff need to update metadata files to use new version of MiniAVC with new filename to avoid this. There is also issue with mods that don\u0027t need update and it will install old MiniAVC version due to old metadata files. In case of manual install there is also possible that older mod will have bundled MiniAVC within archive. Users might also copy older file again without realising it.\n\u003C/p\u003E\n\u003Cp\u003E\nIn case of just removal of mod trough \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, after uninstall there will be leftover of mod with empty folder and only \u0022MiniAVC-v2.dll\u0022 in it. That can mess up \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches on the next run if some other mod use uninstalled mod as dependency. Users need to be warned about this.\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722214\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577646907\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n19 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSpecifically, if a file was installed by \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, and removed, and then \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E updates or deletes the mod, it won\u0027t be bothered by a missing file.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt was several verions of \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, but IIRC I was having exceptions in \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E because of missing files. It was long time ago and I may be wrong about it and also that might be fixed in latest \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E. Therefore was my concerns and warning about it. Just wanted to point out of possible issues, there is no easy way to make all this foolproof for each possible issue that migt arise. Anyhow, I appreciate all your work, not only for this new mod, but also for all other mods that you maintain.\n\u003C/p\u003E\n"},{"CreatedByName":"Lisias","CreatedById":187168,"CreatedDateTime":"2019-12-30T15:59:42Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722214\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577646907\u0022 data-ipsquote-userid=\u0022129964\u0022 data-ipsquote-username=\u0022linuxgurugamer\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n20 hours ago, linuxgurugamer said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThe problem is that the old MiniAVC.dll will cause KSP to crash, either immediately or sometimes in the future.\u00A0 It\u0027s very important to get this fix out, so important that I\u0027m delaying other work to finish this.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd if I don\u0027t change the name, there will be no obvious visual that the mod has been updated or not.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722469\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577716277\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 hour ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nIn case of just removal of mod trough \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, after uninstall there will be leftover of mod with empty folder and only \u0022MiniAVC-v2.dll\u0022 in it. That can mess up \u003Cabbr title=\u0022Module Manager (mod)\u0022\u003EMM\u003C/abbr\u003E patches on the next run if some other mod use uninstalled mod as dependency. Users need to be warned about this.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nThere\u0027s a way out if this, but it will need close cooperation from \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E guys: hot patches on the \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E data files to \u0022teach\u0022 \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E about the MiniAVC V2.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E allows Plugins to be added - I don\u0027t know the details of this thing, but with a bit of luck, a Plugin can be written allowing you to hot patch the installed Add\u0027Ons metadata that contains MiniAVC V1 to be replaced by MiniAVC V2. You probably would be able to replace V1 by V2 on the Add\u0027On installing too.\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming that \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E Plugin is possible, the AVCUpdater is unneeded for \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E users.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd non \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E users has no problem with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, and could use AVC Updater without hassle.\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-30T18:43:32Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722469\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577716277\u0022 data-ipsquote-userid=\u0022127158\u0022 data-ipsquote-username=\u0022kcs123\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n4 hours ago, kcs123 said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nI\u0027m aware of this issue and I understand why you are creating this mod in the first place. But, let say that your mod is done with all delete/copy of new files. After that, user might need to update some mod trough \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E that also have MiniAVC as dependency (old version and name). Let say that in mod folder exist new file version \u0022 MiniAVC-v2.dll\u0022 becasue \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E was unable to remove it trough uninstall. After update, you will get again broken \u0022MiniAVC.dll\u0022 along with new \u0022MiniAVC-v2.dll\u0022.\n\u003C/p\u003E\n\u003Cp\u003E\nOn the next run old MiniAVC.dll still can create havoc on loading and break things.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nMiniAVC is not a dependency of anything.\u00A0 Period.\u00A0 It is a dll included in mods to check the version file.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd if you follow my logic properly, you will see that there will never be a name collision.\u00A0 Once the MiniAVC.dll files are gone, this won\u0027t do anything, but if somehow an older mod is installed\u00A0 with the old MiniAVC.dll (quite possible), then this will catch it before it causes a problem.\n\u003C/p\u003E\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722486\u0022 data-ipsquote-contentid=\u002250533\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577721582\u0022 data-ipsquote-userid=\u0022187168\u0022 data-ipsquote-username=\u0022Lisias\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n2 hours ago, Lisias said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nThere\u0027s a way out if this, but it will need close cooperation from \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E guys: hot patches on the \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E data files to \u0022teach\u0022 \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E about the MiniAVC V2.\n\u003C/p\u003E\n\u003Cp\u003E\n\u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E allows Plugins to be added - I don\u0027t know the details of this thing, but with a bit of luck, a Plugin can be written allowing you to hot patch the installed Add\u0027Ons metadata that contains MiniAVC V1 to be replaced by MiniAVC V2. You probably would be able to replace V1 by V2 on the Add\u0027On installing too.\n\u003C/p\u003E\n\u003Cp\u003E\nAssuming that \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E Plugin is possible, the AVCUpdater is unneeded for \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E users.\n\u003C/p\u003E\n\u003Cp\u003E\nAnd non \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E users has no problem with \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E, and could use AVC Updater without hassle.\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt\u0027s not needed.\u00A0 \u00A0And would just make \u003Cabbr title=\u0022Comprehensive Kerbal Archive Network (a KSP mod manager)\u0022\u003ECKAN\u003C/abbr\u003E that much more problematic to use, because it would then be changing mod files\n\u003C/p\u003E\n"},{"CreatedByName":"Geonovast","CreatedById":179753,"CreatedDateTime":"2019-12-30T20:18:16Z","Content":"\n\u003Cp\u003E\nThis conversation about a new mod\u0027s development has been split off from the ModuleManager thread.\n\u003C/p\u003E\n"},{"CreatedByName":"DoctorDavinci","CreatedById":150019,"CreatedDateTime":"2019-12-30T20:31:56Z","Content":"\n\u003Cp\u003E\nSimple solution would be to create a mod that just deletes any avc or mini avc plugins\n\u003C/p\u003E\n\u003Cp\u003E\nI seem to remember there was one such mod but the latest versions have dependencies\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh well, guess everyone is stuck .... I\u0027ll see what I can come up with to nuke the problem from orbit\n\u003C/p\u003E\n\u003Cp\u003E\nExterminatus\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-30T20:33:45Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722610\u0022 data-ipsquote-contentid=\u0022190724\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577737916\u0022 data-ipsquote-userid=\u0022150019\u0022 data-ipsquote-username=\u0022DoctorDavinci\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n1 minute ago, DoctorDavinci said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nSimple solution would be to create a mod that just deletes any avc or mini avc plugins\n\u003C/p\u003E\n\u003Cp\u003E\nI seem to remember there was one such mod but the latest versions have dependencies\u00A0\n\u003C/p\u003E\n\u003Cp\u003E\nOh well, guess everyone is stuck .... I\u0027ll see what I can come up with to nuke the problem from orbit\n\u003C/p\u003E\n\u003Cp\u003E\nExterminatus\u00A0\u003Cimg alt=\u0022:wink:\u0022 data-emoticon=\u0022\u0022 src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_wink.gif\u0022 title=\u0022:wink:\u0022\u003E\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nDon\u0027t bother.\u00A0 ZeroMiniAVC still works, and doesn\u0027t have any dependencies\n\u003C/p\u003E\n"},{"CreatedByName":"HebaruSan","CreatedById":156657,"CreatedDateTime":"2019-12-30T20:54:20Z","Content":"\n\u003Cp\u003E\nWhat happens if a user installs AVCUpdater on KSP 1.7.3?\n\u003C/p\u003E\n"},{"CreatedByName":"linuxgurugamer","CreatedById":129964,"CreatedDateTime":"2019-12-30T21:00:19Z","Content":"\n\u003Cblockquote class=\u0022ipsQuote\u0022 data-ipsquote=\u0022\u0022 data-ipsquote-contentapp=\u0022forums\u0022 data-ipsquote-contentclass=\u0022forums_Topic\u0022 data-ipsquote-contentcommentid=\u00223722624\u0022 data-ipsquote-contentid=\u0022190724\u0022 data-ipsquote-contenttype=\u0022forums\u0022 data-ipsquote-timestamp=\u00221577739260\u0022 data-ipsquote-userid=\u0022156657\u0022 data-ipsquote-username=\u0022HebaruSan\u0022\u003E\n\u003Cdiv class=\u0022ipsQuote_citation\u0022\u003E\n5 minutes ago, HebaruSan said:\n\u003C/div\u003E\n\u003Cdiv class=\u0022ipsQuote_contents\u0022\u003E\n\u003Cp\u003E\nWhat happens if a user installs AVCUpdater on KSP 1.7.3?\n\u003C/p\u003E\n\u003C/div\u003E\n\u003C/blockquote\u003E\n\u003Cp\u003E\nIt will have code to prevent it from running on 1.7.3\n\u003C/p\u003E\n\u003Cp\u003E\n\u00A0\n\u003C/p\u003E\n"}]}