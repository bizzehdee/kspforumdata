{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":182,"Articles":[{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2016-05-20T18:51:50Z","Content":"\u003E \n\u003E \n\u003E On 5/17/2016 at 6:22 AM, Galenmacil said:\n\u003E \n\u003E \n\u003E Here are the two images showing the glitch. Note that this happen for about one frame or two. Very apparent when zoom in, zooming out or rotating the view quickly.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E I tried a few things in the nVidia control panel. Toggling triple buffering, toggling anisotropic filtering and filtering quality, tried single GPU and multi-GPU rendering without effect. Then, I noticed something unusual: When the frame rate stays constant below 50 FPS, the glitching is not present. If it goes above it, even at 51, it starts to shows. At constant 100\u002B FPS it is a big visual breaker. Could the drawing of the ocean be limited to 50 FPS? Just a thought...\n\u003E \n\nIt\u0027s a known issue, some people have it worse than others (mostly high-end rigs).\n\n\u003E \n\u003E \n\u003E On 5/17/2016 at 4:05 PM, selfish\\_meme said:\n\u003E \n\u003E \n\u003E [@blackrack](https://forum.kerbalspaceprogram.com/index.php?/profile/104258-blackrack/) I am trying to recreate the atmosphere on Venus as seen in the Venera photos, I am wondering how to bring the scattering in closer so it is more apparent. I have tried a few things but nothing seems to do what I want, also the how to change the tint of the scatter? Second picture is actual photo (probably brightened)\n\u003E \n\nTake all the betaR values and multiply them by x2, x3 or x4 and so on until you find what works for you, also lower the postprocessing\\_depth value.\n\n\u003E \n\u003E \n\u003E 18 minutes ago, Galenmacil said:\n\u003E \n\u003E \n\u003E So KSP build-in screenshot supersampling could be the culprit? Going to verify that...\n\u003E \n\nThe sunflare shader doesn\u0027t work with F1 **supersampling,** this will be fixed soon, ocean shader used to have the same issue and it\u0027s fixed now."},{"CreatedByName":"TimKerbin","CreatedById":83805,"CreatedDateTime":"2016-05-20T20:22:58Z","Content":"I don\u0027t know if this is a scatterer config issue or what (I know nothing about coding or mods!) but every now and then when I go from the Map View to Ship View and back again I get this (see image). It seems to happen randomly, whether I am in low-Kerbin orbit, or in space. At the time of writing I am using the latest version 0.0246. I\u0027m running KSP v 1.1.1 and the Spacedock mod page says it\u0027s for 1.1.2 so I don\u0027t know if this is anything to do with it. [Screenshot](https://www.dropbox.com/s/ab6l9ttkbbjzgdt/screenshot22.png?dl=0)\n\n**Edited \u003Ctime datetime=\u00222016-05-20T20:23:51Z\u0022 title=\u002205/20/2016 08:23  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 20, 2016\u003C/time\u003E by TimKerbin**"},{"CreatedByName":"CodeFantastic","CreatedById":130141,"CreatedDateTime":"2016-05-21T16:13:29Z","Content":"Sun flare doesn\u0027t work very well with KSP 64k :(, is there a way to change the size?"},{"CreatedByName":"mcdouble","CreatedById":151872,"CreatedDateTime":"2016-05-21T23:31:51Z","Content":"\u003E \n\u003E \n\u003E On 5/20/2016 at 8:22 AM, TimKerbin said:\n\u003E \n\u003E \n\u003E I don\u0027t know if this is a scatterer config issue or what (I know nothing about coding or mods!) but every now and then when I go from the Map View to Ship View and back again I get this (see image). It seems to happen randomly, whether I am in low-Kerbin orbit, or in space. At the time of writing I am using the latest version 0.0246. I\u0027m running KSP v 1.1.1 and the Spacedock mod page says it\u0027s for 1.1.2 so I don\u0027t know if this is anything to do with it. [Screenshot](https://www.dropbox.com/s/ab6l9ttkbbjzgdt/screenshot22.png?dl=0)\n\u003E \n\nalt-F11 and click rebuild ocean.\n\n\u003E \n\u003E \n\u003E 7 hours ago, CodeFantastic said:\n\u003E \n\u003E \n\u003E Sun flare doesn\u0027t work very well with KSP 64k :(, is there a way to change the size?\n\u003E \n\nFollow the instructions in OP for adjusting sun flare for RSS I would assume. Maybe you\u0027ll have to experiment with some slightly different settings"},{"CreatedByName":"CodeFantastic","CreatedById":130141,"CreatedDateTime":"2016-05-22T01:41:53Z","Content":"\u003E \n\u003E \n\u003E 2 hours ago, mcdouble said:\n\u003E \n\u003E \n\u003E alt-F11 and click rebuild ocean.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Follow the instructions in OP for adjusting sun flare for RSS I would assume. Maybe you\u0027ll have to experiment with some slightly different settings\n\u003E \n\nCould you be a bit more specific? \n\nEDIT\n\nLooks like this\n\n[http://imgur.com/KpRnnhg](http://imgur.com/KpRnnhg)\n\n**Edited \u003Ctime datetime=\u00222016-05-22T01:55:00Z\u0022 title=\u002205/22/2016 01:55  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 22, 2016\u003C/time\u003E by CodeFantastic**"},{"CreatedByName":"mcdouble","CreatedById":151872,"CreatedDateTime":"2016-05-22T02:03:52Z","Content":"\u003E \n\u003E \n\u003E 17 minutes ago, CodeFantastic said:\n\u003E \n\u003E \n\u003E Could you be a bit more specific? \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E EDIT\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Looks like this\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://imgur.com/KpRnnhg](http://imgur.com/KpRnnhg)\n\u003E \n\nI was talking about this :\n\n\u003E \n\u003E \n\u003E Quote\n\u003E \n\u003E \n\u003E The sun flare is tailored for the stock system but resizing it for RSS is easy, Just replace these lines flaresSettings and spikesSettings in the sunflare.cfg file with this\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E     \n\u003E     \n\u003E     //sunFlare.png\n\u003E     flareSettings = 0.45,1,0.085\n\u003E     \n\u003E     //sunSpikes.png\n\u003E     spikesSettings = 0.6,1,0.1\n\u003E \n\nbut looking at your pic that may not be the problem, it looks like the actual disc of the sun is a lot larger than normal. Sorry I can\u0027t be of any more help, not sure how 64k works"},{"CreatedByName":"Omegaton","CreatedById":164602,"CreatedDateTime":"2016-05-22T12:53:40Z","Content":"I have been having the following visual glitches since a few days. Both of them appeared at the same time.\n\n[http://steamcommunity.com/sharedfiles/filedetails/?id=689311857](http://steamcommunity.com/sharedfiles/filedetails/?id=689311857)\n\n[http://steamcommunity.com/sharedfiles/filedetails/?id=689311828](http://steamcommunity.com/sharedfiles/filedetails/?id=689311828)\n\nI have the following mods installed:  \n\n- Kerbal Engineer Redux  \n\n- Kerbal Alarm Clock  \n\n- scatterer  \n\n- EVE  \n\n- Ferram Aerospace Research  \n\nI tried deleting all other mods and installing on a fresh copy of the game - the problem persisted.\n\nAny help will be greatly appreciated!  \n\nEdit: I should also mention that I tried rebuilding the database already.\n\n**Edited \u003Ctime datetime=\u00222016-05-22T13:04:49Z\u0022 title=\u002205/22/2016 01:04  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 22, 2016\u003C/time\u003E by Omegaton**\n  \nAdditional information"},{"CreatedByName":"dawidpotok","CreatedById":159648,"CreatedDateTime":"2016-05-22T14:15:02Z","Content":"[@Omegaton](https://forum.kerbalspaceprogram.com/index.php?/profile/164602-omegaton/) It happens to me too. It has something to do with scatterer, directx 11 and some broken shaders. In dx9 mode everything is fine."},{"CreatedByName":"Omegaton","CreatedById":164602,"CreatedDateTime":"2016-05-22T14:34:48Z","Content":"Hey @dawidpotok , thanks for your reply.\n\nDisabling the d3d11 shaders makes the game crash when I try to load any save. I think I will have to uninstall the mod for now.\n\n**Edited \u003Ctime datetime=\u00222016-05-22T15:26:33Z\u0022 title=\u002205/22/2016 03:26  PM\u0022 data-short=\u00228 yr\u0022\u003EMay 22, 2016\u003C/time\u003E by Omegaton**"},{"CreatedByName":"dawidpotok","CreatedById":159648,"CreatedDateTime":"2016-05-22T17:59:28Z","Content":"[@Omegaton](https://forum.kerbalspaceprogram.com/index.php?/profile/164602-omegaton/) Hmm, maybe you\u0060re using 32bit version? Try launch KSP\\_x64.exe in DX9 mode instead and all should be fine."},{"CreatedByName":"TeiwazVIE","CreatedById":116518,"CreatedDateTime":"2016-05-23T22:10:51Z","Content":"During night I\u0027m seeing some black artifacts moving over my launch site. Couldn\u0027t find anything similar in the thread so does anyone else have this and maybe knows which setting I can tweak to get rid of it?  \n  \n[http://imgur.com/2torZEi](http://imgur.com/2torZEi)\n\nYou can see it a bit top and right of the VAB (to the launch pad) and left side of the runway.\n\n[edit]\n\n2 more screens where it\u0027s more clear to see.\n\n[http://imgur.com/a/8PFzR](http://imgur.com/a/8PFzR)\n\n[/edit]\n\n**Edited \u003Ctime datetime=\u00222016-05-24T00:05:50Z\u0022 title=\u002205/24/2016 12:05  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 24, 2016\u003C/time\u003E by TeiwazVIE**"},{"CreatedByName":"cheesykerb","CreatedById":138222,"CreatedDateTime":"2016-05-24T01:39:53Z","Content":"In the newest version of KSP and of this mod I am having a graphical glitch. I have been able to pinpoint Scatterer as the cause and haven\u0027t seen anyone else with this issue.\n\nThis first screenshot shows what the game looks like without Scatterer\n\n![K31CSk1.png](http://i.imgur.com/K31CSk1.png)\n\nand now what the game looks like while running scatterer:\n\n![f72FQsm.png](http://i.imgur.com/f72FQsm.png)\n\nso essentially this is the view from an inline cockpit with a part in front of it. As you can clearly see from the screenshots, when running the mod I get some weird see through transparency bug. If it helps, here are some of my other mods:\n\nEVE (for clouds)\n\nTweakscale\n\nProcedural Parts\n\nI have been able to pinpoint scatterer as the mod causing the issue. I would appreciate if somone could help me out. (also, i\u0027m not using any command line parameters)"},{"CreatedByName":"Starwaster","CreatedById":71262,"CreatedDateTime":"2016-05-24T01:51:18Z","Content":"\u003E \n\u003E \n\u003E 3 hours ago, TeiwazVIE said:\n\u003E \n\u003E \n\u003E During night I\u0027m seeing some black artifacts moving over my launch site. Couldn\u0027t find anything similar in the thread so does anyone else have this and maybe knows which setting I can tweak to get rid of it?  \n\u003E   \n\u003E [http://imgur.com/2torZEi](http://imgur.com/2torZEi)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E You can see it a bit top and right of the VAB (to the launch pad) and left side of the runway.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [edit]\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E 2 more screens where it\u0027s more clear to see.\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [http://imgur.com/a/8PFzR](http://imgur.com/a/8PFzR)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [/edit]\n\u003E \n\nAre their ratios 1:4:9?\n\n(sorry, I couldn\u0027t resist. Bad Starwaster ![:sealed:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif \u0022:sealed:\u0022) )"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-05-24T03:04:07Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, Starwaster said:\n\u003E \n\u003E \n\u003E Are their ratios 1:4:9?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (sorry, I couldn\u0027t resist. Bad Starwaster ![:sealed:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif \u0022:sealed:\u0022) )\n\u003E \n\nDo you have EVE installed, these look like cloud edges"},{"CreatedByName":"Jacke","CreatedById":103694,"CreatedDateTime":"2016-05-24T06:49:44Z","Content":"\u003E \n\u003E \n\u003E 4 hours ago, Starwaster said:\n\u003E \n\u003E \n\u003E Are their ratios 1:4:9?\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E (sorry, I couldn\u0027t resist. Bad Starwaster ![:sealed:](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_lipssealed.gif \u0022:sealed:\u0022) )\n\u003E \n\nYou know, that\u0027s from the written version.  The film\u0027s version obviously has greater ratios, maybe 1:8:27 ?  Maybe greater? ![:)](//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif \u0022:)\u0022)"},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-05-25T10:02:40Z","Content":"I don\u0027t seem to be getting the shaders, only the waves and atmosphere coloring. Do the other effects only work on PC? As it\u0027s supposed to look somewhat like this:\n\n![PkyliU3.png](http://i.imgur.com/PkyliU3.png)\n\nbut I\u0027m only getting this:\n\n![Gw0XjVK.png](http://i.imgur.com/Gw0XjVK.png)It\u0027s still amazing, just a lot less amazing than it\u0027s supposed to be. I would really appreciate a prompt reply / solution to this."},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-05-25T11:27:51Z","Content":"\u003E \n\u003E \n\u003E 1 hour ago, cy4n said:\n\u003E \n\u003E \n\u003E I don\u0027t seem to be getting the shaders, only the waves and atmosphere coloring. Do the other effects only work on PC? As it\u0027s supposed to look somewhat like this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![PkyliU3.png](http://i.imgur.com/PkyliU3.png)](http://i.imgur.com/PkyliU3.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E but I\u0027m only getting this:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![Gw0XjVK.png](http://i.imgur.com/Gw0XjVK.png)](http://i.imgur.com/Gw0XjVK.png \u0022Enlarge image\u0022)It\u0027s still amazing, just a lot less amazing than it\u0027s supposed to be. I would really appreciate a prompt reply / solution to this.\n\u003E \n\nThat first shot has been put through gemfx processing which is not part of scatterer. Also this is WIP so a lot of stuff is hown that is not released yet."},{"CreatedByName":"autumnalequinox","CreatedById":114782,"CreatedDateTime":"2016-05-25T17:30:09Z","Content":"After building my new rig I was finally able to get this mod after hearing so much about it and seeing so many screen shots going \u0022WHAT THE HECK IS THAT?  PRETTY\u0022.\n\nAnd wow.  Like I\u0027m blown away by how nice everything looks.  I\u0027ve caught myself just admiring scenery and taking mental photographs (I don\u0027t do too many screenshots).\n\nThat gorgeous blur between atmosphere and space.  \n\nTruly awesome this should so be integrated into stock as an option for those users with decent GPUs."},{"CreatedByName":"cy4n","CreatedById":185531,"CreatedDateTime":"2016-05-25T17:41:58Z","Content":"\u003E \n\u003E \n\u003E 23 hours ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E That first shot has been put through gemfx processing which is not part of scatterer. Also this is WIP so a lot of stuff is hown that is not released yet.\n\u003E \n\nOh, that explains it. ~~GEMFX only works on PCs. Any alternatives I could use?~~ EDIT: Scatterer also appears to include DirectX11 shaders which don\u0027t work on my Mac.\n\n**Edited \u003Ctime datetime=\u00222016-05-26T11:07:19Z\u0022 title=\u002205/26/2016 11:07  AM\u0022 data-short=\u00228 yr\u0022\u003EMay 26, 2016\u003C/time\u003E by Osmium**"},{"CreatedByName":"Galenmacil","CreatedById":118681,"CreatedDateTime":"2016-05-25T19:09:15Z","Content":"\u003E \n\u003E \n\u003E On 5/24/2016 at 9:39 PM, cheesykerb said:\n\u003E \n\u003E \n\u003E In the newest version of KSP and of this mod I am having a graphical glitch. I have been able to pinpoint Scatterer as the cause and haven\u0027t seen anyone else with this issue.\n\u003E \n\u003E \n\u003E \n\u003E Spoiler\n\u003E \n\u003E \n\u003E This first screenshot shows what the game looks like without Scatterer\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![K31CSk1.png](http://i.imgur.com/K31CSk1.png)](http://i.imgur.com/K31CSk1.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E and now what the game looks like while running scatterer:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E [![f72FQsm.png](http://i.imgur.com/f72FQsm.png)](http://i.imgur.com/f72FQsm.png \u0022Enlarge image\u0022)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E so essentially this is the view from an inline cockpit with a part in front of it. As you can clearly see from the screenshots, when running the mod I get some weird see through transparency bug. If it helps, here are some of my other mods:\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E  \n\u003E \n\u003E \n\u003E \n\u003E \n\u003E EVE (for clouds)\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Tweakscale\n\u003E \n\u003E \n\u003E \n\u003E \n\u003E Procedural Parts\n\u003E \n\u003E \n\u003E \n\u003E I have been able to pinpoint scatterer as the mod causing the issue. I would appreciate if somone could help me out. (also, i\u0027m not using any command line parameters)\n\u003E \n\nI also have a similar issue."},{"CreatedByName":"Calvin_Maclure","CreatedById":162815,"CreatedDateTime":"2016-05-26T02:09:02Z","Content":"Can somebody explain to me what the \u0027\u0027load alternate d3d11 shadders\u0027\u0027 does?  \n\nThanks,  \n\nCM"},{"CreatedByName":"AdmiralTigerclaw","CreatedById":92104,"CreatedDateTime":"2016-05-26T02:53:21Z","Content":"\u003E \n\u003E \n\u003E 37 minutes ago, Calvin\\_Maclure said:\n\u003E \n\u003E \n\u003E Can somebody explain to me what the \u0027\u0027load alternate d3d11 shadders\u0027\u0027 does?  \n\u003E   \n\u003E \n\u003E Thanks,  \n\u003E   \n\u003E \n\u003E CM\n\u003E \n\nI couldn\u0027t tell you details since I\u0027m not really involved in working on this, but the moment I read that my brain parsed: \u0027Direct 3D 11\u0027 shaders.  So I would assume it loads an alternate set of Direct 3D shaders from DirectX 11."},{"CreatedByName":"C04L","CreatedById":160397,"CreatedDateTime":"2016-05-26T10:12:04Z","Content":"Hi, loving scatterer Thanks!\n\nI checked the OP for this but didn\u0027t notice it there, sometimes after coming out of map view I seem to be getting a massive planet shadow that is out in space rather than by a planet. at least that\u0027s the best way to explain it. it covers half my screen and is the size of a planet like kerbin for instance at around 100k orbit. I can only see a qtr of this shadow across my screen that\u0027s how big it is. if I goto KSC and back it goes away.\n\ndoes anyone know what this is? is it known or is it settings or is it graphic hardware?\n\nif no ones seen this before i\u0027l post pics spec\u0027s etc."},{"CreatedByName":"MrMeeb","CreatedById":84238,"CreatedDateTime":"2016-05-26T10:52:54Z","Content":"\u003E \n\u003E \n\u003E 23 hours ago, selfish\\_meme said:\n\u003E \n\u003E \n\u003E That first shot has been put through gemfx processing\n\u003E \n\nDo you happen to have a link to the gemfx configurations used? I tried it, but couldn\u0027t seem to get an effect like that"},{"CreatedByName":"selfish_meme","CreatedById":125899,"CreatedDateTime":"2016-05-26T11:25:47Z","Content":"\u003E \n\u003E \n\u003E 32 minutes ago, MrMeeb said:\n\u003E \n\u003E \n\u003E Do you happen to have a link to the gemfx configurations used? I tried it, but couldn\u0027t seem to get an effect like that\n\u003E \n\nNah, I use linux so I can\u0027t use gemfx"}]}