{"TopicId":103963,"ForumId":36,"TopicTitle":"[WIP][1.9.x-1.12.x] Scatterer-atmospheric scattering (0.0838 - 14/08/2022) Scattering improvements, in-game atmo generation and multi-sun support","CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-04-12T08:37:35Z","PageNum":77,"Articles":[{"CreatedByName":"Poodmund","CreatedById":128643,"CreatedDateTime":"2015-11-17T06:06:12Z","Content":"Rbray, if implementing this feature could you make it a togglebale option, I for one enjoy the EVE (and Scatterer when active) working in map view as a significant time is spent in them?"},{"CreatedByName":"Elthy","CreatedById":63317,"CreatedDateTime":"2015-11-17T10:20:32Z","Content":"[quote name=\u0027blackrack\u0027]I get it, but I still think this should grow into it\u0027s own mod. Also, I\u0027d imagine for planets never visited/scanned the map view should just look like an empty sphere or a low-res one or something, and once you scan them you get the continents/topography view and it looks more like this [URL=\u0022http://www.ufopaedia.org/images/e/e5/Control.png\u0022]http://www.ufopaedia.org/images/e/e5/Control.png[/URL].[/QUOTE]  \n\nSuch an awesome idea for a Mod. To bad stock reveals everything (and we know how all the plantes look like), otherwise we could get the same feeling of exploring unseen worlds like when New Horizons send back the first pictures of Pluto..."},{"CreatedByName":"Astronomer","CreatedById":18673,"CreatedDateTime":"2015-11-17T16:42:57Z","Content":"[quote name=\u0027rbray89\u0027]Bingo. Abstracting things to bare minimum. Pretty views should come from those sending craft to the places :)[/QUOTE]  \n\n[img]http://www.htxt.co.za/wp-content/uploads/2014/06/elite-dangerous.jpg[/img]  \n\n(bottom left?)"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T16:55:40Z","Content":"[quote name=\u0027Astronomer\u0027][url]http://www.htxt.co.za/wp-content/uploads/2014/06/elite-dangerous.jpg[/url]  \n\n(bottom left?)[/QUOTE]  \n\nYeah... Something with lines of latitude and longitude, where landmasses and oceans have been reduced to lines, as though looking at a map or atlas."},{"CreatedByName":"Proot","CreatedById":98932,"CreatedDateTime":"2015-11-17T17:43:34Z","Content":"I\u0027m pretty scared right now, lol... I\u0027ve been thinking precisely in all those things lately, in truly similar ways..."},{"CreatedByName":"CaptRobau","CreatedById":41695,"CreatedDateTime":"2015-11-17T17:48:27Z","Content":"[quote name=\u0027Poodmund\u0027]Loving the new multi-planet support, I have been playing around with Tekto this evening trying it out using all homemade textures with the new EVE release.  \n\n[url]http://imgur.com/a/6j1ck[/url][/QUOTE]  \n\nVery cool!"},{"CreatedByName":"Pixely","CreatedById":153366,"CreatedDateTime":"2015-11-17T18:32:53Z","Content":"[quote name=\u0027Proot\u0027]I\u0027m pretty scared right now, lol... I\u0027ve been thinking precisely in all those things lately, in truly similar ways...[/QUOTE]  \n\nBetter get those tinfoil hats out; Astronomer is the head of the Illuminati after all ;)"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T18:48:43Z","Content":"Quick question to whoever would know: Does the water PQS/PQS sphere thing have a different fading altitude than the terrain PQS?"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T19:44:00Z","Content":"[quote name=\u0027blackrack\u0027]Quick question to whoever would know: Does the water PQS/PQS sphere thing have a different fading altitude than the terrain PQS?[/QUOTE]  \n\nDon\u0027t think so."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T19:56:19Z","Content":"[quote name=\u0027rbray89\u0027]Don\u0027t think so.[/QUOTE]  \n\nI\u0027m getting the impression they do, will have to check."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T20:11:54Z","Content":"[quote name=\u0027blackrack\u0027]I\u0027m getting the impression they do, will have to check.[/QUOTE]  \n\nIt should get the same global shader value PlanetOpacity or some such value passed to it."},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T20:55:45Z","Content":"First, love this work.  \n\nSadly, I encountered a rather strange problem.  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]  \n\nI haven\u0027t tried scatterer on it\u0027s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0027m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T20:58:11Z","Content":"[quote name=\u0027Manwith Noname\u0027]First, love this work.  \n\nSadly, I encountered a rather strange problem.  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]  \n\nI haven\u0027t tried scatterer on it\u0027s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0027m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering.[/QUOTE]  \n\nYou don\u0027t need skytonemapper with the latest version of scatterer. Also, test with scatterer only, we\u0027re not psychics."},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T20:59:07Z","Content":"[quote name=\u0027Manwith Noname\u0027]First, love this work.  \n\nSadly, I encountered a rather strange problem.  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198023[/url]  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557198289[/url]  \n\nI haven\u0027t tried scatterer on it\u0027s own but as you can probably tell I am using this with E.V.E and the seperate tone mapper plugin. I\u0027m not sure if the logs will tell you anything but I can upload them if you feel they may show something. What also happens but is hard to capture in a screenshot, when zooming out in the map view I get this strange zooming black area toward the camera. This is 1.0.5 KSP 32 bit on Windows with no launch parameters to alter rendering.[/QUOTE]  \n\nHmmm....  \n\nBlackrack, does your shader perchance include \u0022IgnoreProjector\u0022=\u0022True\u0022? If it doesn\u0027t, it should :)"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T21:01:34Z","Content":"I\u0027ll go and remove everything but scatterer but I only added it in the early hours of this morning and had not encountered this prior...even in older versions of the game with the same group of mods.  \n\nEdit: Right, before going down that route I thought I\u0027d try with just removing the tone mapper. That seems to have resolved it mostly. I\u0027ll do some more testing with just scatterer, then add just E.V.E back and see how it goes. I figure compatibility between these two is important.\n\n**Edited \u003Ctime datetime=\u00222015-11-17T21:29:17Z\u0022 title=\u002211/17/2015 09:29  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname**"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T21:21:03Z","Content":"[quote name=\u0027rbray89\u0027]Hmmm....  \n\nBlackrack, does your shader perchance include \u0022IgnoreProjector\u0022=\u0022True\u0022? If it doesn\u0027t, it should :)[/QUOTE]  \n\nIt doesn\u0027t, I\u0027ll add it. I guess it\u0027s time for me to catch up with the new EVE features.  \n\nManwithNoname can you put back EVE and try if this fixes it?  \n\n[URL=\u0022https://mega.nz/#!2ZQgTBxQ!3\\_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW\\_Pne2YfxrU\u0022]https://mega.nz/#!2ZQgTBxQ!3\\_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW\\_Pne2YfxrU[/URL]"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T21:32:53Z","Content":"I\u0027ve grabbed that file and will check it out as I noticed the gap in the atmo appear but it kinda scrolled out of view by itself before I thought about a screenshot but see my edit above, removing tone mapper has made a huge difference.  \n\nEdit: Replacing those files in the scatterer folder brought the zooming box thing back...  \n\n[url]http://steamcommunity.com/sharedfiles/filedetails/?id=557236976[/url]  \n\nAs I zoom out it starts small and expands out toward the camera. This didn\u0027t occur when I had removed the separate tone mapper plugin but don\u0027t panic yet. I\u0027ll do some proper testing starting from a clean install adding things one at a time as I noticed I am using E.V.E 1.0.5-1, I just downloaded 1.0.5-2. I believe this might resolve something else I noticed when I reverted to hangar from the map view...which kind of killed everything. Had no atmo scatter and I could see the cloud texture that should only appear outside of the atmo. At least I think that\u0027s what it was.\n\n**Edited \u003Ctime datetime=\u00222015-11-17T21:55:29Z\u0022 title=\u002211/17/2015 09:55  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname**"},{"CreatedByName":"rbray89","CreatedById":48847,"CreatedDateTime":"2015-11-17T22:09:06Z","Content":"[quote name=\u0027blackrack\u0027]It doesn\u0027t, I\u0027ll add it. I guess it\u0027s time for me to catch up with the new EVE features.  \n\nManwithNoname can you put back EVE and try if this fixes it?  \n\n[URL=\u0022https://mega.nz/#!2ZQgTBxQ!3\\_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW\\_Pne2YfxrU\u0022]https://mega.nz/#!2ZQgTBxQ!3\\_6QQu07-3yyQBvEhd6NLFaCXYqlrVDiW\\_Pne2YfxrU[/URL][/QUOTE]  \n\nI thought shader tags were case sensitive? Is that not the case?"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T22:36:20Z","Content":"Ok, progress report.  \n\nClean install just scatterer - No anomalies loading into launch and viewing map. Reverting to hangar from map view kills atmo effects when exiting out to KSC As does simply returning to space center from map view. Entering a hangar and exiting again does not force them to load however, entering the tracking station and exiting out does. As does launching another vessel.  \n\nClean install just scatterer but with replaced files - Same as above, but I\u0027m not surprised as the change in code seems like it would be unrelated to this.  \n\nOff to add the latest E.V.E and see what happens. I\u0027ll also revert Scatterer back to the original download and try with the replacement shaders.\n\n**Edited \u003Ctime datetime=\u00222015-11-17T22:48:03Z\u0022 title=\u002211/17/2015 10:48  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by Manwith Noname**"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:25:48Z","Content":"I think I\u0027m experiencing something similar to Manwith Noname... This is using the latest version of EVE (1-05-2) and I tried the default new Scatterer download as well as using the two .shader files you posted above and this happens still. You load the game and the sky goes black, go to a craft, it\u0027s still black, go to map view everything is fine, go back to your craft and scatterer effects are showing but it seems to me it breaks EVE and the clouds stop doing what they are configured to do... if that makes sense... I can provide more details if you need me to :P  \n\n[imgur]H38F0[/imgur]"},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T23:26:25Z","Content":"[quote name=\u0027rbray89\u0027]I thought shader tags were case sensitive? Is that not the case?[/QUOTE]  \n\nI actually didn\u0027t know this, I copied that from another shader so no idea why it\u0027s in caps to begin with.  \n\nBtw is your celestial object shadow shader functional in the newest EVE?  \n\nAnd another question about projectors, how do you geenerate them from the clouds texture for the shadows?  \n\n[quote name=\u0027Manwith Noname\u0027]Ok, progress report.  \n\nClean install just scatterer - No anomalies loading into launch and viewing map. Reverting to hangar from map view kills atmo effects when exiting out to KSC As does simply returning to space center from map view. Entering a hangar and exiting again does not force them to load however, entering the tracking station and exiting out does. As does launching another vessel.  \n\nClean install just scatterer but with replaced files - Same as above, but I\u0027m not surprised as the change in code seems like it would be unrelated to this.  \n\nOff to add the latest E.V.E and see what happens. I\u0027ll also revert Scatterer back to the original download and try with the replacement shaders.[/QUOTE]  \n\n[quote name=\u0027Nhawks17\u0027]I think I\u0027m experiencing something similar to Manwith Noname... This is using the latest version of EVE (1-05-2) and I tried the default new Scatterer download as well as using the two .shader files you posted above and this happens still. You load the game and the sky goes black, go to a craft, it\u0027s still black, go to map view everything is fine, go back to your craft and scatterer effects are showing but it seems to me it breaks EVE and the clouds stop doing what they are configured to do... if that makes sense... I can provide more details if you need me to :P  \n\n[url]http://imgur.com/a/H38F0[/url][/QUOTE]  \n\nAs rbray said I messed up the tags. Try scatterer again with these files and the latest EVE: [URL=\u0022https://mega.nz/#!CMISkRRA!NLq6s5CIxx2P30XkVq-h3OSDwZZiM0\\_QUg1\\_BDuI7Gk\u0022]https://mega.nz/#!CMISkRRA!NLq6s5CIxx2P30XkVq-h3OSDwZZiM0\\_QUg1\\_BDuI7Gk[/URL]\n\n**Edited \u003Ctime datetime=\u00222015-11-17T23:29:05Z\u0022 title=\u002211/17/2015 11:29  PM\u0022 data-short=\u00228 yr\u0022\u003ENovember 17, 2015\u003C/time\u003E by blackrack**"},{"CreatedByName":"Manwith Noname","CreatedById":117203,"CreatedDateTime":"2015-11-17T23:31:29Z","Content":"I\u0027ll try those new files but I\u0027ll just add...  \n\nLatest EVE and default Scatterer has the weird glitches but when I replaced those shaders with the earlier files the bulk of the problem goes away. Now I get a strange little box that seems to occupy a point in space relative to the camera. I\u0027m trying to set up shadow play to capture it but I\u0027ve never captured video and have no editing software so bear with me."},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:33:41Z","Content":"Ok... now it\u0027s doing this :P  \n\n[imgur]1FvpS[/imgur]  \n\nThat third image was taken after I had gone to map view and back again."},{"CreatedByName":"blackrack","CreatedById":104258,"CreatedDateTime":"2015-11-17T23:38:06Z","Content":"[quote name=\u0027Nhawks17\u0027]Ok... now it\u0027s doing this :P  \n\n[url]http://imgur.com/a/1FvpS[/url]  \n\nThat third image was taken after I had gone to map view and back again.[/QUOTE]  \n\n[quote name=\u0027Manwith Noname\u0027]I\u0027ll try those new files but I\u0027ll just add...  \n\nLatest EVE and default Scatterer has the weird glitches but when I replaced those shaders with the earlier files the bulk of the problem goes away. Now I get a strange little box that seems to occupy a point in space relative to the camera. I\u0027m trying to set up shadow play to capture it but I\u0027ve never captured video and have no editing software so bear with me.[/QUOTE]  \n\nOk wait, give it one last try with this [URL=\u0022https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0\u0022]https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0[/URL]"},{"CreatedByName":"Nhawks17","CreatedById":32999,"CreatedDateTime":"2015-11-17T23:39:51Z","Content":"[quote name=\u0027blackrack\u0027]Ok wait, give it one last try with this [URL=\u0022https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0\u0022]https://mega.nz/#!fQhiWL7S!sOG0rJu-W2HeT7LKaMYLzHZYLAchod0YwAeaXmfH9d0[/URL][/QUOTE]  \n\nFixed the black land but the sky is still black :("}]}