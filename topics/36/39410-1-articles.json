{"TopicId":39410,"ForumId":36,"TopicTitle":"Making a greenhouse consume/produce ElectricCharge","CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-27T15:18:58Z","PageNum":1,"Articles":[{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-27T15:18:58Z","Content":"\n\u003Cp\u003EI\u0027m trying to modify someone\u0027s greenhouse for my personal use. I stripped out the IonCross stuff without trouble. However, I\u0027m running into trouble getting it to both produce and consume electric charge: when the doors are open, I want it to act like a solar panel and generate electricity. But I also want it to be a constant electricity drain. Peak electricity production is equal to the drain, so you lose electricity if the sun\u0027s not directly overhead. Also, instead of \u0022extend solar panel\u0022 and \u0022retract solar panel\u0022, I want the buttons to read \u0022open shutters\u0022 and \u0022close shutters\u0022. The part\u0027s creator did this through giving the shutters a separate animation module, but this meant it acted as a solar panel regardless of whether the shutters were open, which is silly.\u003C/p\u003E\u003Cp\u003EProducing electricity seems to be working--generation happens only if the shutters are open. However, I can\u0027t seem to figure out how to give it a constant electricity drain, or how to change the button labels. Currently, the code looks like this:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleDeployableSolarPanel\u003Cbr\u003E\u003Cbr\u003E\tsunTracking = false\u003Cbr\u003E\u003Cbr\u003E\traycastTransformName = glass\u003Cbr\u003E\tpivotName = glass\u003Cbr\u003E\u003Cbr\u003E\tisBreakable = false\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\tresourceName = ElectricCharge\u003Cbr\u003E\u003Cbr\u003E\tchargeRate = 2\u003Cbr\u003E\u003Cbr\u003E\tanimationName = door\u003Cbr\u003E\u003Cbr\u003E \tpowerCurve\u003Cbr\u003E \t{\u003Cbr\u003E\t\tkey = 206000000000 0 0 0\u003Cbr\u003E\t\tkey = 13599840256 1 0 0\u003Cbr\u003E\t\tkey = 68773560320 0.5 0 0\u003Cbr\u003E\t\tkey = 0 10 0 0\u003Cbr\u003E \t}\u003Cbr\u003E}\u003Cbr\u003ERESOURCE\u003Cbr\u003E{\u003Cbr\u003E\tname = ElectricCharge\u003Cbr\u003E\tamount = 50\u003Cbr\u003E\tmaxAmount = 50\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EAny tips?\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-27T15:22:34Z\u0022 title=\u002207/27/2013 03:22  PM\u0022 data-short=\u002210 yr\u0022\u003EJuly 27, 2013\u003C/time\u003E by Kimberly\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"KhaosCorp","CreatedById":61149,"CreatedDateTime":"2013-07-27T15:40:10Z","Content":"\n\u003Cp\u003EI think the majority of this is past my skill so far (been modding a month=P) but I do have a couple ideas that may help.\u003C/p\u003E\u003Cp\u003EFirst off I dont thing its possible to change GUI options for certain things, my guess is the solar pannel controls are in this group..I know landing legs are like this too.\u003C/p\u003E\u003Cp\u003EAs for getting it to use electric charge you could set up a generator module with electric charge as input instead of output. If that does not work you could use the Kethane conversion module, have it burn electric and make something pointless, like intake air (or make a new resource so the converter burns electric and makes \u0027plant food\u0027 or some such).\u003C/p\u003E\n"},{"CreatedByName":"Kimberly","CreatedById":71980,"CreatedDateTime":"2013-07-27T16:41:54Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022KhaosCorp\u0022 data-cite=\u0022KhaosCorp\u0022\u003E\u003Cdiv\u003EI think the majority of this is past my skill so far (been modding a month=P) but I do have a couple ideas that may help.\u003Cp\u003EFirst off I dont thing its possible to change GUI options for certain things, my guess is the solar pannel controls are in this group..I know landing legs are like this too.\u003C/p\u003E\u003Cp\u003EAs for getting it to use electric charge you could set up a generator module with electric charge as input instead of output. If that does not work you could use the Kethane conversion module, have it burn electric and make something pointless, like intake air (or make a new resource so the converter burns electric and makes \u0027plant food\u0027 or some such).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI tried a GeneratorModule, but this makes the description window show \u0022Output\u0022 and then a blank line, and changes the right-click GUI as well, so that\u0027s not ideal.\u003C/p\u003E\n"},{"CreatedByName":"PrivateFlip","CreatedById":68273,"CreatedDateTime":"2013-07-28T10:04:46Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Kimberly\u0022 data-cite=\u0022Kimberly\u0022\u003E\u003Cdiv\u003EI tried a GeneratorModule, but this makes the description window show \u0022Output\u0022 and then a blank line, and changes the right-click GUI as well, so that\u0027s not ideal.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThat\u0027s weird. What\u0027s the code you use for the GeneratorModule? I would think this should work:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003EMODULE\u003Cbr\u003E{\u003Cbr\u003E\tname = ModuleGenerator\u003Cbr\u003E\tisAlwaysActive = true\u003Cbr\u003E\tINPUT_RESOURCE\u003Cbr\u003E\t{\u003Cbr\u003E\t   name = ElectricCharge\u003Cbr\u003E\t   rate = 0.75\u003Cbr\u003E\t}\t\u003Cbr\u003E}\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-28T10:08:05Z\u0022 title=\u002207/28/2013 10:08  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 28, 2013\u003C/time\u003E by PrivateFlip\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Commander Zoom","CreatedById":8333,"CreatedDateTime":"2013-07-30T23:24:37Z","Content":"\n\u003Cp\u003EBy an amazing coincidence, this is exactly the same thing I came here for help on also. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_smiley.gif\u0022 alt=\u0022:)\u0022\u003E\u003C/p\u003E\u003Cp\u003EEDIT: A link to \u003Ca href=\u0022http://www./download/jbxl5xj6t3uyosx/z_greenhouse.7z\u0022 rel=\u0022external nofollow\u0022\u003Ethe part\u003C/a\u003E, and to \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/showthread.php/26935-0-20-Ioncross-Crew-Support-Plugin?p=431399\u0026amp;viewfull=1#post431399\u0022 rel=\u0022external nofollow\u0022\u003Ethe post in the IonCross thread\u003C/a\u003E if that helps at all (the latter contains a screenshot, as well as permission - \u0022If some one else need it then can to use it by any way without ask.\u0022).\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-07-31T00:43:27Z\u0022 title=\u002207/31/2013 12:43  AM\u0022 data-short=\u002210 yr\u0022\u003EJuly 31, 2013\u003C/time\u003E by Commander Zoom\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Commander Zoom","CreatedById":8333,"CreatedDateTime":"2013-08-01T15:47:44Z","Content":"\n\u003Cp\u003Ebump.\u003C/p\u003E\u003Cp\u003EAnyone have any ideas on making this work? Would this question be better asked in another subforum?\u003C/p\u003E\n"},{"CreatedByName":"tomwillp","CreatedById":77227,"CreatedDateTime":"2013-08-02T21:59:16Z","Content":"\n\u003Cp\u003EGood and bad news...\u003C/p\u003E\u003Cp\u003EI know \u0022Exactly\u0022 how to get to work... (Maybe. but you should ask someone more skilled than i)\u003C/p\u003E\u003Cp\u003Eyou need to make a plugin to add a module with more functions. \u003C/p\u003E\u003Cp\u003Ewhere it says \u0022MODULE { Name = ModuleGenerator\u0022 it refers to a class file in (where it is on your computer)\\Kerbal Space Program\\KSP_Data\\Managed\\Assembly-CSharp.dll and the values in the part.cfg simply fill in variables already in that file. and when it loads that file it overwrites some gui elements which is why the parts ingame interface changed. \u003C/p\u003E\u003Cp\u003Ebut unfortunately the process you want it to do is simply not programmed in to that class file, so you may enter the correct variables but the class file is simply not looking for them, so nothing happens.\u003C/p\u003E\u003Cp\u003Eand this is the rest of the bad news i cant program dll\u0027s, I ran into the same problem for a mod i am building, and am attempting to make a dll myself. but am failing. and i too am looking for help \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_sad.gif\u0022 alt=\u0022:(\u0022\u003E\u003C/p\u003E\u003Cp\u003Eso actually no \u0022good\u0022 news then sorry. but i hoped i helped you understand what the problem is. \u003C/p\u003E\u003Cp\u003EAnd if you or someone you know is good a C# or even C\u002B\u002B (because they\u0027re similar) programming you could get them to help\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222013-08-02T22:02:20Z\u0022 title=\u002208/02/2013 10:02  PM\u0022 data-short=\u002210 yr\u0022\u003EAugust 2, 2013\u003C/time\u003E by tomwillp\u003C/strong\u003E\n\u003C/span\u003E\n"}]}