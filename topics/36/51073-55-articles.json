{"TopicId":51073,"ForumId":36,"TopicTitle":"[PLUGIN\u002BPARTS][0.23] SCANsat terrain mapping","CreatedByName":"damny","CreatedById":78621,"CreatedDateTime":"2013-10-29T16:06:22Z","PageNum":55,"Articles":[{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-04-29T00:03:19Z","Content":"\n\u003Cp\u003EI just got to try out v6rc1, and it works really well. Great work!\u003C/p\u003E\u003Cp\u003EI know you\u0027re working on just getting a release out, but here\u0027s what I\u0027d like to see in upcoming releases...\u003C/p\u003E\u003Cp\u003E1) Better coloring as was suggested earlier in the thread.\u003C/p\u003E\u003Cp\u003E2) Normalized coloring. For instance, here\u0027s the elevation map for Bop, below. There\u0027s not a lot of visual information there. If the color maps were normalized to the min and max heights, then the maps would be a lot more useful, visually.\u003C/p\u003E\u003Cp\u003E3) The ability to export larger maps than are displayed on screen, perhaps with the ability to specify the exported size in settings.\u003C/p\u003E\u003Cp\u003E4) For markers, grids, orbits/groundtracks, and map keys to be included on exported maps.\u003C/p\u003E\u003Cp\u003E5) The ability to export map data which could be used with GIS software\u003C/p\u003E\u003Cp\u003E\u003Cimg src=\u0022http://i.imgur.com/eg59Iiq.png\u0022 alt=\u0022eg59Iiq.png\u0022\u003E\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EAHEM. COUGH. COUGH.\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/releases/tag/v6\u0022 rel=\u0022external nofollow\u0022\u003E\u003Cstrong\u003ESCANsat v6rc1\u003C/strong\u003E for KSP [0.23.5]\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://github.com/technogeeky/SCANsat/tree/v6\u0022 rel=\u0022external nofollow\u0022\u003E \u003Cstrong\u003ESCANsat v6rc1 \u003C/strong\u003Efor KSP [0.23.5] SOURCE\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003EBuild 6 - 2014-04-28\u003Cbr\u003E--------------------\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [REQUIRED] Update for KSP version 0.23.5. This version of SCANsat now requires KSP 0.23.5.\u003Cbr\u003E\u003Cbr\u003E\u002B [ADDED] Added support for showing the vessel icons for Asteroids in orbit around the same\u003Cbr\u003E mainBody.\u003Cbr\u003E\u003Cbr\u003E\u002B [OPTIONAL] Toolbar support. Built against 1.7.1. TOTALLY OPTIONAL. Though the experience\u003Cbr\u003E is better and more consistent with the Toolbar. [thanks DMagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [REMOVED] Removed the old expanding/contracting floating SCANsat button. Replaced instead with\u003Cbr\u003E either a Toolbar toolbar or with nothing, but maps become visible upon starting a scan. [thanks Dmagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [REMOVED] Non-animated parts no longer show an \u0027Extend\u0027 option in EDITOR. [... Dmagic is doing all the work!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [COMPATABILITY] \u0022Change access modifiers to allow for more control from RPM\u0022.\u003Cbr\u003E Yes, it\u0027s in quotes because I trust Dmagic THAT much.\u003Cbr\u003E [thanks Dmagic!]\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E- [BUGFIX] Scanning high inclinations with wide-enough FOV scanners \u003Cbr\u003E (ie, Multi, RADAR, but not SAR) will no longer reveal the opposite polar region. [thanks DMagic!]\u003Cbr\u003E [example orbit]: Minmus 250.000x250.000km @ 91.0 degrees\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u002B [HUMOR] This file is different, and so is TODO.txt.\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003Cbr\u003E\u002B [dev] Support for changing what you define as \u0027sea level\u0027. Compiled to be default (ie, 0).\u003Cbr\u003E- [dev] Removed all unused declerations\u003Cbr\u003E\u002B [dev] switched to unix line endings.\u003Cbr\u003E\u002B [dev] switched to custom, but uniform formatting (for now done by MonoDevelop).\u003Cbr\u003E- [dev] removed windows commands in .csproj and .sln.\u003Cbr\u003E\u002B [dev] added unix commands. I will be happy to have both if I can be shown how.\u003Cbr\u003E\u002B [dev] added debugging and profiling support. Includes dummy executable.\u003Cbr\u003E\u002B [dev] [requires] that the SCANsat.dll be put directly in place (ie, GameData\\SCANsat\\.)\u003Cbr\u003E for debugging to work\u003Cbr\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"Virtualgenius","CreatedById":67644,"CreatedDateTime":"2014-04-29T00:16:49Z","Content":"\n\u003Cp\u003EWhy not talk to Akatze who made the calypso scansat its very realistic performs well and looks good he might be interested in expanding his lineup page 64 post 640 \u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping/page64\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping/page64\u003C/a\u003E\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-29T01:16:57Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI just got to try out v6rc1, and it works really well. Great work!\u003Cp\u003EI know you\u0027re working on just getting a release out, but here\u0027s what I\u0027d like to see in upcoming releases...\u003C/p\u003E\u003Cp\u003E1) Better coloring as was suggested earlier in the thread.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E2) Normalized coloring. For instance, here\u0027s the elevation map for Bop, below. There\u0027s not a lot of visual information there. If the color maps were normalized to the min and max heights, then the maps would be a lot more useful, visually.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E3) The ability to export larger maps than are displayed on screen, perhaps with the ability to specify the exported size in settings.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK. I have thought about the \u0022supersampling\u0022 technique that the B.O.S.S. (something something something screenshot) uses. I wonder if that technique is amenable to this kind of thing.\u003C/p\u003E\u003Cp\u003EI suppose I already have several text field boxes (all integers so far, as it turns out) that I would need to add. I suppose two more wouldn\u0027t hurt.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E4) For markers, grids, orbits/groundtracks, and map keys to be included on exported maps.\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E5) The ability to export map data which could be used with GIS software\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EWhoa, whoa, whoa! I\u0027m not a supergenius.\u003C/p\u003E\u003Cp\u003EJust kidding. I don\u0027t really even know where to begin on that one. The other four I can wrap my head around.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E\u003Ca href=\u0022http://i.imgur.com/eg59Iiq.png\u0022 rel=\u0022external nofollow\u0022\u003E...\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EOK. They seem like reasonable feature requests.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-29T01:26:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Virtualgenius\u0022 data-cite=\u0022Virtualgenius\u0022\u003E\u003Cdiv\u003EWhy not talk to Akatze who made the calypso scansat its very realistic performs well and looks good he might be interested in expanding his lineup page 64 post 640 \u003Cp\u003E\u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping/page64\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping/page64\u003C/a\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EInteresting. I\u0027m not sure I think it\u0027s better looking than the other ones, but that\u0027s not for me to decide.\u003C/p\u003E\u003Cp\u003EHere are the parameters for the original SCANsat satellites:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EName    FOV    HalfFOV    AltitudeMin    AltitudeIdeal    AltitudeMax    LongName\u003Cbr\u003ERADAR    5.00    2.50    5000.00        5000.00        500000.00    SCAN RADAR Altimetry Sensor\u003Cbr\u003EMulti    4.00    2.00    5000.00        250000.00    500000.00    SCAN Multispectral Sensor\u003Cbr\u003ESAR    2.00    1.00    5000.00        750000.00    800000.00    SCAN SAR Altimetry Sensor\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHowever, it clearly has totally different height profile:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMODULE \u003Cbr\u003E{ \u003Cbr\u003E    name = SCANsat \u003Cbr\u003E    sensorType = 24 Altimetry \u002B Biome\u003Cbr\u003E    fov = 4 \u003Cbr\u003E    min_alt = 5000 \u003Cbr\u003E    max_alt = 12000000 \u003Cbr\u003E    best_alt = 750000 \u003Cbr\u003E    power = 3.5 \u003Cbr\u003E} \u003Cbr\u003EMODULE \u003Cbr\u003E{ \u003Cbr\u003E    name = SCANsat \u003Cbr\u003E    sensorType = 1 [B]RADAR[/B]\u003Cbr\u003E    fov = 4 (down from [B]5[/B])\u003Cbr\u003E    min_alt = 5000 \u003Cbr\u003E    max_alt = 12000000 (up from [B]500000[/B])\u003Cbr\u003E    best_alt = 750000 (up from [B]5000[/B])\u003Cbr\u003E    power = 0.1 \u003Cbr\u003E} \u003Cbr\u003EMODULE \u003Cbr\u003E{ \u003Cbr\u003E    name = SCANsat \u003Cbr\u003E    sensorType = 2 [B]SAR[/B]\u003Cbr\u003E    fov = 4 (up from [B]2[/B])\u003Cbr\u003E    min_alt = 5000 \u003Cbr\u003E    max_alt = 12000000 (up from [B]800k[/B])\u003Cbr\u003E    best_alt = 750000 \u003Cbr\u003E    power = 1 \u003Cbr\u003E} \u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EHmm...\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-29T01:41:43Z\u0022 title=\u002204/29/2014 01:41  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 29, 2014\u003C/time\u003E by technogeeky\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-29T02:41:11Z","Content":"\n\u003Cp\u003EOn the topic of parts, make sure to check out this post about fixing the hard-to-click multispectral scanner: \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping?p=1105732\u0026amp;viewfull=1#post1105732\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.kerbalspaceprogram.com/threads/55832-PLUGIN-PARTS-0-23-SCANsat-terrain-mapping?p=1105732\u0026amp;viewfull=1#post1105732\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EIt would be better just to get the Unity file and move the colliders, but failing that I think this will make it a little bit easier to use.\u003C/p\u003E\n"},{"CreatedByName":"frango9000","CreatedById":109856,"CreatedDateTime":"2014-04-29T04:14:57Z","Content":"\n\u003Cp\u003Ehello im just about to test your v6rc1 but i was wandering, if i unify these values in the part.cfg for all sensors and place them on a sat will it work? \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003E fov = x min_alt = x\u003C/p\u003E\u003Cp\u003E max_alt = x000\u003C/p\u003E\u003Cp\u003E best_alt = x\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003Ei dont want to have 3 or 4 sats scaning, just 1 per planet, maybe im just an idiot who missed something in the readme or in the OP but given that the documentacion of RCs aren\u0027t always perfect just cut me some slack \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EPS:Thanks for your work on the mod, it is great! Ill test v6rc1 and folowings as much as i can!\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-29T06:42:05Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022frango9000\u0022 data-cite=\u0022frango9000\u0022\u003E\u003Cdiv\u003Ehello im just about to test your v6rc1 but i was wandering, if i unify these values in the part.cfg for all sensors and place them on a sat will it work? \u003Cp\u003Ei dont want to have 3 or 4 sats scaning, just 1 per planet, maybe im just an idiot who missed something in the readme or in the OP but given that the documentacion of RCs aren\u0027t always perfect just cut me some slack \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_tongue.gif\u0022 alt=\u0022:P\u0022\u003E\u003C/p\u003E\u003Cp\u003EPS:Thanks for your work on the mod, it is great! Ill test v6rc1 and folowings as much as i can!\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027m not sure I totally follow what you are asking, but I can give you the facts as I know them:\u003C/p\u003E\u003Cp\u003E1) No matter what you choose for FOV, the settings in the .dll will never allow it to be higher than 20*.\u003C/p\u003E\u003Cp\u003E2) You can just set the best altitude to exactly the minimum altitude, so everything above it will get the best FOV possible.\u003C/p\u003E\u003Cp\u003E3) You can set the maximum altitude to whatever you want. 1,500 km should do.\u003C/p\u003E\u003Cp\u003EI think you should be able to \u0022unify\u0022 them (I take this to mean that you are adjusting all four sensors to have the same values -- not that you want to have one sensor only).\u003C/p\u003E\n"},{"CreatedByName":"frango9000","CreatedById":109856,"CreatedDateTime":"2014-04-29T07:05:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EI\u0027m not sure I totally follow what you are asking, but I can give you the facts as I know them:\u003Cp\u003E1) No matter what you choose for FOV, the settings in the .dll will never allow it to be higher than 20*.\u003C/p\u003E\u003Cp\u003E2) You can just set the best altitude to exactly the minimum altitude, so everything above it will get the best FOV possible.\u003C/p\u003E\u003Cp\u003E3) You can set the maximum altitude to whatever you want. 1,500 km should do.\u003C/p\u003E\u003Cp\u003EI think you should be able to \u0022unify\u0022 them (I take this to mean that you are adjusting all four sensors to have the same values -- not that you want to have one sensor only).\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ESorry if i wasnt very clear, (English isnt my main language), but you understood correctly... thats precisly the info I needed, I just wanted to check if (and how to) placing all scaners on 1 sat, orbiting it to an efficient polar orbit that would scan for all diferent types of maps... (making 1 scaner part that scans for everything sould have the same effect but that is over my skill ATM, but that would be nice maybe for a new part that is far more advanced tchnologicaly and of course ulocked far later in the tech tree.\u003C/p\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-04-29T12:39:59Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EI have thought about the \u0022supersampling\u0022 technique that the B.O.S.S. (something something something screenshot) uses. I wonder if that technique is amenable to this kind of thing.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI\u0027d hate to see that, but only because my machine has just 2GB of memory. BOSS kills it every time. I took a look at the source code, and I\u0027m having a really hard time understanding how ScanSat gets its data, and then creates a map. That\u0027s more a function of me being ignorant about how KSP and Unity works than your source code. \u003C/p\u003E\u003Cp\u003EWhat exactly is it querying to get the height data of the surface? How do you decide on which color to use for a region? Are you averaging the heights for the circle enclosed by the base of the observation cone, or just using the center point of that circle as representative of the height of that region? What exactly is being stored in the persistence file, and how is it encoded?\u003C/p\u003E\u003Cp\u003EOh, and please don\u0027t take my previous list as a set of demands. It\u0027s just what I\u0027d like to see. I want axial tilt, Van Allen Belts, and photon pressure too, but that doesn\u0027t mean I don\u0027t appreciate the game. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003EThanks for all your work! It\u0027s fantastic to see this mod being worked on again.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-29T13:49:30Z\u0022 title=\u002204/29/2014 01:49  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 29, 2014\u003C/time\u003E by lincourtl\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"Ruedii","CreatedById":57704,"CreatedDateTime":"2014-04-29T14:18:39Z","Content":"\n\u003Cp\u003EI\u0027m wondering if ScanSat should keep a cache of the data it\u0027s collected so far. This will save on time loading maps.\u003C/p\u003E\u003Cp\u003EAdditionally, I too would like to see a surface imagery scan. This one should probably just fetch directly from the textures. It should come in high-res and low-res varieties just like the altimeter, and possibly also have a \u0022surface reflectivity scan\u0022 that only does the brightness. (This can be done by applying a color space conversion to the planet texture and selecting the Luminosity channel. If Unity doesn\u0027t have access to the graphic-acceleration of this color-space conversion option, you can do it with a shader.)\u003C/p\u003E\u003Cp\u003EAs a note, I really like the plugin.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-29T15:00:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022Ruedii\u0022 data-cite=\u0022Ruedii\u0022\u003E\u003Cdiv\u003EI\u0027m wondering if ScanSat should keep a cache of the data it\u0027s collected so far. This will save on time loading maps.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIt does, but if you mean it should keep a texture of each map cached then you would run right back into the problem that ISA had, huge amounts of memory usage.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EWhat exactly is being stored in the persistence file, and how is it encoded?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIf you really want to know about what is being stored and how it is encoded you can check out this Unity thread about the compression algorithm being used. \u003Ca href=\u0022http://forum.unity3d.com/threads/152579-LZF-compression-and-decompression-for-Unity\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.unity3d.com/threads/152579-LZF-compression-and-decompression-for-Unity\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EI\u0027m not entirely sure what it\u0027s doing, but I think this is what\u0027s being used to convert the coverage map for each scanner, for each planet, into that string of gibberish stored in the persistent file.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-29T15:08:27Z\u0022 title=\u002204/29/2014 03:08  PM\u0022 data-short=\u002210 yr\u0022\u003EApril 29, 2014\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"lincourtl","CreatedById":72218,"CreatedDateTime":"2014-04-29T19:48:45Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003EIf you really want to know about what is being stored and how it is encoded you can check out this Unity thread about the compression algorithm being used. \u003Ca href=\u0022http://forum.unity3d.com/threads/152579-LZF-compression-and-decompression-for-Unity\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://forum.unity3d.com/threads/152579-LZF-compression-and-decompression-for-Unity\u003C/a\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ECool! Thanks, will do. I hadn\u0027t even considered it might be compressed data. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-30T01:20:28Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EI\u0027d hate to see that, but only because my machine has just 2GB of memory. BOSS kills it every time. I took a look at the source code, and I\u0027m having a really hard time understanding how ScanSat gets its data, and then creates a map. That\u0027s more a function of me being ignorant about how KSP and Unity works than your source code. \u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know yet either.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EWhat exactly is it querying to get the height data of the surface? How do you decide on which color to use for a region? Are you averaging the heights for the circle enclosed by the base of the observation cone, or just using the center point of that circle as representative of the height of that region? What exactly is being stored in the persistence file, and how is it encoded?\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t know yet. \u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EOh, and please don\u0027t take my previous list as a set of demands. It\u0027s just what I\u0027d like to see. I want axial tilt, Van Allen Belts, and photon pressure too, but that doesn\u0027t mean I don\u0027t appreciate the game. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI very quickly learned to not worry about the intention of feature requests. I sorted the TODO.txt that came with v5 of SCANsat. I moved this item here, and that item there. I read every line and wondered what they were asking for.\u003C/p\u003E\u003Cp\u003EThen I read some line about changing sea level and how some guy\u0027s wife liked a pink Mun, but he didn\u0027t.\u003C/p\u003E\u003Cp\u003EI laughed at that request, assuming I would never do it.\u003C/p\u003E\u003Cp\u003ELater that night, it was the first \u0022new\u0022 feature I actually implemented and left in the code. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_embarrassed.gif\u0022 alt=\u0022:blush:\u0022\u003E.\u003C/p\u003E\u003Cp\u003ESo I\u0027ll take the lists in stride, try to understand the code quickly, and get to improving it.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022\u003E\u003Cdiv\u003E\u003Cp\u003EThanks for all your work! It\u0027s fantastic to see this mod being worked on again.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-30T03:27:39Z","Content":"\n\u003Cp\u003EYou can essentially ignore these: these are just screenshot dumps of variations on the theme of seeing more orbits. I want to delete them from my computer, so they go here:\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0022http://imgur.com/a/1uh1O#0\u0022 rel=\u0022external nofollow\u0022\u003Ehttp://imgur.com/a/1uh1O#0\u003C/a\u003E\u003C/p\u003E\u003Cp\u003EFeel free to say if you like the look of any. Two of them includes experimental Solarized coloration, which I did incorrectly.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-30T03:32:36Z","Content":"\n\u003Cp\u003EI think the best solution for drawing Orbits in general, is to divide up the current function into two (one which draws orbits, one which draws the equatorial crossings).\u003C/p\u003E\u003Cp\u003EThen I can leave the default (read: small, not FOV proportional ) orbital tracks for the *vessels* themselves, and then overlay/underlay FOV tracks of significantly less opacity \u003Cstrong\u003Ewith\u003C/strong\u003E FOV-proportional sized orbital tracks, for every available active scanner. This is necessary because they don\u0027t have similar FOVs.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-30T04:23:04Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022lincourtl\u0022 data-cite=\u0022lincourtl\u0022\u003E\u003Cdiv\u003EWhat exactly is it querying to get the height data of the surface? How do you decide on which color to use for a region? Are you averaging the heights for the circle enclosed by the base of the observation cone, or just using the center point of that circle as representative of the height of that region? What exactly is being stored in the persistence file, and how is it encoded?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ENow that I\u0027ve updated my mod I\u0027ve been looking at this more carefully. I think my original post was basically correct. It stores a record of which regions of the map have been scanned and by which scanners. This is a grid 360 units wide and 180 units high with a value in each cell that shows which scanners, if any, have scanned each section of the map. Uncompressed this would use almost 65000 values for each planet, so it\u0027s a good thing this gets shrunk down. \u003C/p\u003E\u003Cp\u003EThis coverage map is used to determine which parts of the map can remain as the unscanned grey color, and which need to have values calculated. Both the small and the big map seem to use the same method for doing so, the big just does more of it.\u003C/p\u003E\u003Cp\u003EEdit: Actually, it looks like the small map does cache the terrain height values, so it only has to build the map once after loading, then it can just repeat those cached values every time the scan line moves up the map.\u003C/p\u003E\u003Cp\u003EFor the small map the terrain height is queried for each degree of longitude as the red line moves up the map, so you get 360 calculations per line. For the big map it calculates values at every pixel along the red line, so you can easily have 1000-1500 calculations per line. Even shrunk down the big map is still 400-500 pixels wide. Maybe there is more of a difference, but I couldn\u0027t see it; they both seem to repeat the same code to calculate this instead of using a single method, so it\u0027s hard to say for sure.\u003C/p\u003E\u003Cp\u003EThe actual function used to calculate terrain height is provided by KSP\u0027s code. It takes a position and returns the terrain height from the center of the planet (so you just subtract the radius of the planet to get the height above \u0022sea level\u0022). The low resolution scanner seems to round off the lat/long values, while the high resolution scanner gives as much precision as possible.\u003C/p\u003E\u003Cp\u003EThe function requires some kind of conversion from \u003Ca href=\u0022https://en.wikipedia.org/wiki/Spherical_coordinate_system#Cartesian_coordinates\u0022 rel=\u0022external nofollow\u0022\u003Espherical coordinates\u003C/a\u003E (latitude, longitude) to a vector. There seems to be a standard way of doing this that SCANsat doesn\u0027t exactly follow. It uses this method\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMath.Cos(rlat) * Math.Cos(rlon), Math.Sin(rlat), Math.Cos(rlat) * Math.Sin(rlon)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich is some kind of inverse conversion from spherical to Cartesian coordinates (actually, the x,y,z values * by the radius) using the equations in the wikipedia link above. This vector is then passed off to pqsController.GetSurfaceHeight.\u003C/p\u003E\u003Cp\u003EThe standard method that every other mod uses is \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EQuaternionD.AngleAxis(theta, Vector3d.down) * QuaternionD.AngleAxis(phi, Vector3d.forward) * Vector3d.right\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s about as opaque as it gets for me, but there might be some potential performance difference. At first glance I can see that the SCANsat method requires the extra step of converting every lat/long values from degrees to radians, maybe the second method does that later on, but it might make a difference.\u003C/p\u003E\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EI noticed it just a day or two ago, when switching from my full complement of mods to the development set. I didn\u0027t think about it at the time.\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EThe Unity-to-KSP buttons definitely seems to be caused by other mods. I was testing Connected Living Space and Ship Manager when I saw this happen (and they seemed to be bugged out, not properly displaying their toolbar icons), after removing them it went away.\u003C/p\u003E\n\u003Cspan class=\u0022ipsType_reset ipsType_medium ipsType_light\u0022 data-excludequote=\u0022\u0022\u003E\n\u003Cstrong\u003EEdited \u003Ctime datetime=\u00222014-04-30T04:30:35Z\u0022 title=\u002204/30/2014 04:30  AM\u0022 data-short=\u002210 yr\u0022\u003EApril 30, 2014\u003C/time\u003E by DMagic\u003C/strong\u003E\n\u003C/span\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-30T04:57:37Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022DMagic\u0022 data-cite=\u0022DMagic\u0022\u003E\u003Cdiv\u003ENow that I\u0027ve updated my mod I\u0027ve been looking at this more carefully. I think my original post was basically correct. It stores a record of which regions of the map have been scanned and by which scanners. This is a grid 360 units wide and 180 units high with a value in each cell that shows which scanners, if any, have scanned each section of the map. Uncompressed this would use almost 65000 values for each planet, so it\u0027s a good thing this gets shrunk down. \u003Cp\u003EThis coverage map is used to determine which parts of the map can remain as the unscanned grey color, and which need to have values calculated. Both the small and the big map seem to use the same method for doing so, the big just does more of it.\u003C/p\u003E\u003Cp\u003EEdit: Actually, it looks like the small map does cache the terrain height values, so it only has to build the map once after loading, then it can just repeat those cached values every time the scan line moves up the map.\u003C/p\u003E\u003Cp\u003EFor the small map the terrain height is queried for each degree of longitude as the red line moves up the map, so you get 360 calculations per line. For the big map it calculates values at every pixel along the red line, so you can easily have 1000-1500 calculations per line. Even shrunk down the big map is still 400-500 pixels wide. Maybe there is more of a difference, but I couldn\u0027t see it; they both seem to repeat the same code to calculate this instead of using a single method, so it\u0027s hard to say for sure.\u003C/p\u003E\u003Cp\u003EThe actual function used to calculate terrain height is provided by KSP\u0027s code. It takes a position and returns the terrain height from the center of the planet (so you just subtract the radius of the planet to get the height above \u0022sea level\u0022). The low resolution scanner seems to round off the lat/long values, while the high resolution scanner gives as much precision as possible.\u003C/p\u003E\u003Cp\u003EThe function requires some kind of conversion from \u003Ca href=\u0022https://en.wikipedia.org/wiki/Spherical_coordinate_system#Cartesian_coordinates\u0022 rel=\u0022external nofollow\u0022\u003Espherical coordinates\u003C/a\u003E (latitude, longitude) to a vector. There seems to be a standard way of doing this that SCANsat doesn\u0027t exactly follow. It uses this method\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EMath.Cos(rlat) * Math.Cos(rlon), Math.Sin(rlat), Math.Cos(rlat) * Math.Sin(rlon)\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EWhich is some kind of inverse conversion from spherical to Cartesian coordinates (actually, the x,y,z values * by the radius) using the equations in the wikipedia link above. This vector is then passed off to pqsController.GetSurfaceHeight.\u003C/p\u003E\u003Cp\u003EThe standard method that every other mod uses is \u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003E\u003C/div\u003E\u003Cpre class=\u0022ipsCode\u0022\u003E\u003Cbr\u003EQuaternionD.AngleAxis(theta, Vector3d.down) * QuaternionD.AngleAxis(phi, Vector3d.forward) * Vector3d.right\u003Cbr\u003E\u003C/pre\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003EThat\u0027s about as opaque as it gets for me, but there might be some potential performance difference. At first glance I can see that the SCANsat method requires the extra step of converting every lat/long values from degrees to radians, maybe the second method does that later on, but it might make a difference.\u003C/p\u003E\u003Cp\u003EThe Unity-to-KSP buttons definitely seems to be caused by other mods. I was testing Connected Living Space and Ship Manager when I saw this happen (and they seemed to be bugged out, not properly displaying their toolbar icons), after removing them it went away.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003ELuckily, I am already familiar with quaternions (and not just their application to rotations in space). Though I doubt we\u0027ll see any performance increase.\u003C/p\u003E\u003Cp\u003EI\u0027ll be sure to enable caching of the big map, where possible. I don\u0027t understand the decision to cache the small map but not the big map. There is a strange mix of re-use for both maps, and differences for both maps. It must be for hysterical raisins.\u003C/p\u003E\u003Cp\u003EI also intend to break up drawing the map into the grid shown by Grid, and drawing each box individually (including a partial scanline, or something that looks good). That way, I can avoid re-drawing the majority of the map and just re-draw the components where active vessels have made changes. I also hope to make the red scanline go in both directions, maybe. Depending on the current direction of motion (towards the descending or ascending node).\u003C/p\u003E\u003Cp\u003EThanks for taking a look at it for me. I hadn\u0027t gotten that far yet. I still need to rescue a few Kerbin from the Mun before I switch my development install back in.\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-30T05:46:51Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EI\u0027ll be sure to enable caching of the big map, where possible. I don\u0027t understand the decision to cache the small map but not the big map. There is a strange mix of re-use for both maps, and differences for both maps. It must be for hysterical raisins.\u003Cp\u003EI also intend to break up drawing the map into the grid shown by Grid, and drawing each box individually (including a partial scanline, or something that looks good). That way, I can avoid re-drawing the majority of the map and just re-draw the components where active vessels have made changes. I also hope to make the red scanline go in both directions, maybe. Depending on the current direction of motion (towards the descending or ascending node).\u003C/p\u003E\u003Cp\u003EThanks for taking a look at it for me. I hadn\u0027t gotten that far yet. I still need to rescue a few Kerbin from the Mun before I switch my development install back in.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI was thinking that another height_map array for the big map could be used to at least store values for a given map size. Whenever the map size is changed the array could be recreated with dimensions set at the current width/height of the map. Storing values for different sizes doesn\u0027t seem feasible, but at least you could keep the data cached for simply rebuilding the map with the same size, and maybe with different map types. \u003C/p\u003E\u003Cp\u003EIt looks to me like the code for the two maps was created at different times since they seem to be so completely isolated. I\u0027m guessing that the small map code has remained mostly the same while the big map has had many features added along the way. \u003C/p\u003E\u003Cp\u003EMaybe it would be best to unify the two. Use the same methods to create both maps with the difference being that the small map is continually updated and uses a fixed size array.\u003C/p\u003E\n"},{"CreatedByName":"TomatoSoup","CreatedById":59394,"CreatedDateTime":"2014-04-30T14:13:10Z","Content":"\n\u003Cp\u003EI\u0027ve noticed that SCANSat doesn\u0027t seem to work with background scanning anymore. Did I miss an update?\u003C/p\u003E\n"},{"CreatedByName":"DMagic","CreatedById":57416,"CreatedDateTime":"2014-04-30T20:18:51Z","Content":"\n\u003Cp\u003EThis looks promising. I implemented a very simple caching system for the big map to store the terrain height values for any already scanned pixels on the map. It has to be recreated every time the map is resized, but when simply rebuilding the big map it cuts down the build time for a nearly complete, low-res scan from around 17 sec to around 8 or 9 sec. The big map in my case was nearly full screen, about 1200 or 1300 pixels wide, the difference should be less the smaller the map is and greater the bigger the map is.\u003C/p\u003E\u003Cp\u003ERAM usage didn\u0027t seem to be affected. It bounced up and down from around 950 to 1130 MB the entire time while testing both the standard and the cached version.\u003C/p\u003E\u003Cp\u003EThis was all very quickly setup with minimal changes made, so there could be a lot of room for improvement, but it\u0027s a good sign so far.\u003C/p\u003E\u003Cp\u003EIt breaks changes in map projection mode, so it would have to be recreated for each projection too (or maybe each projection could be stored in a separate array). The big map obviously has a huge combination of different styles and modes, so it\u0027s probably not possible to cache every possibility, but there\u0027s obviously room for improvement.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-04-30T22:57:29Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TomatoSoup\u0022 data-cite=\u0022TomatoSoup\u0022\u003E\u003Cdiv\u003EI\u0027ve noticed that SCANSat doesn\u0027t seem to work with background scanning anymore. Did I miss an update?\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EIn what way does it not work? As I understand it (I haven\u0027t made the test for this yet, lazily...) all you need is:\u003C/p\u003E\u003Cp\u003E1. At least two vessels with the same kind of scanner around the same mainBody.\u003C/p\u003E\u003Cp\u003E2. Both need to have the scanners active, and have enough resources (battery/solar) to sustain them for the desired time warp.\u003C/p\u003E\u003Cp\u003ESo assuming you fulfill these basic requirements, it should work. Which KSP (I assume 0.23.5) and which SCANsat version (I assume v5 or v6rc) are you using?\u003C/p\u003E\n"},{"CreatedByName":"TomatoSoup","CreatedById":59394,"CreatedDateTime":"2014-05-01T00:10:47Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022technogeeky\u0022 data-cite=\u0022technogeeky\u0022\u003E\u003Cdiv\u003EIn what way does it not work? As I understand it (I haven\u0027t made the test for this yet, lazily...) all you need is:\u003Cp\u003E1. At least two vessels with the same kind of scanner around the same mainBody.\u003C/p\u003E\u003Cp\u003E2. Both need to have the scanners active, and have enough resources (battery/solar) to sustain them for the desired time warp.\u003C/p\u003E\u003Cp\u003ESo assuming you fulfill these basic requirements, it should work. Which KSP (I assume 0.23.5) and which SCANsat version (I assume v5 or v6rc) are you using?\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI mean they don\u0027t scan in the background: the vessel must be focused to scan.\u003C/p\u003E\u003Cp\u003EYou\u0027re actually wrong on point 1. Prior to 23.5 I did all my scanning with a single vessel. As for point 2, they both had full batteries and, as I understand, Kerbal doesn\u0027t track electric charge on unfocused vessels, so they should have kept functioning.\u003C/p\u003E\u003Cp\u003EWhat I mean is: Vessels and techniques that worked perfectly prior to 23.5 no longer seem to work.\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-05-01T00:16:08Z","Content":"\n\u003Cp\u003EDMagic:\u003C/p\u003E\u003Cp\u003ECan we sync whatever is necessary to get both of us developing from the same master (ie, mine)? I presume that will mean adding back whatever is necessary to the \u003Cstrong\u003E.csproj\u003C/strong\u003E and \u003Cstrong\u003E.sln\u003C/strong\u003E files for you to build. I also converted everything to Unix-like line endings, and I think such a change will persist normally.\u003C/p\u003E\u003Cp\u003EYou mentioned that you didn\u0027t expect to be able to debug and/or profile with ksp-devtools and Visual Studio, but I think you should be able to (without Professional, even). The worst case scenario is that you would have to use MonoDevelop for such things (which is a pretty bad case). But I was able to get profiling results (which I\u0027m told actually do represent complete time intervals, and not just number of function calls -- modulo the RTDSC inaccuracies and recursive functions). And I was able to get the debugger working, and to add breakpoints and watches.\u003C/p\u003E\u003Cp\u003EI also want to do something to automate a few other processes (though I\u0027m unsure exactly how to do them, but I think it\u0027s a good idea):\u003C/p\u003E\u003Cp\u003E1. The building of the \u0022first post\u0022 for the module, including re-building it for updated versions\u003C/p\u003E\u003Cp\u003E2. The inclusion and appropriate copying/installation/removal of an example scanning vessel and several savegames/scenarios that needed to be tested. I have spoken with Pshwan (the original creator of \u003Ca href=\u0022https://forum.kerbalspaceprogram.com/threads/75854-Ideal-Altitude-Calulator-%28Revitalized%29?p=1125480\u0022 rel=\u0022external nofollow\u0022\u003Ethe scanner calculator\u003C/a\u003E that I am working on simultaneously) and we tend to agree on a minimal set of scanning scenarios that need to be tested to ensure that \u003Cem\u003Eboth\u003C/em\u003E SCANsat and the calculator are working correctly. I believe that these would be included with the developmental version, copied to the appropriate places as long as you are building the Debug version (as opposed to the Release version), and removed afterwards.\u003C/p\u003E\u003Cp\u003E3. Using those (or perhaps different) savegames to build / harvest / upload screenshots that would naturally be included in #1. That way, I can avoid the outcome that SCANsat (and other mods) fall victim to: having out of date screenshots which do not represent the full glory of the current mod version.\u003C/p\u003E\u003Cp\u003E4. Get a Jenkins CI buildbot going, so users can see what development is going on (especially since you are a more prolific SCANsat developer than I am, at this point) and decide for themselves if they want to get dev versions.\u003C/p\u003E\u003Cp\u003EAs for what I\u0027d ask you to do most urgently... Either:\u003C/p\u003E\u003Cp\u003E1.) Change your .csproj and/or .sln files so that you are building from Source *in place* \u003Cstrong\u003EOR\u003C/strong\u003E at least change the target of your build to be GameData\\SCANsat itself (ie, where SCANsat.dll goes). The default for me was ${ProjectDir}\\build. As long as I have disabled \u0022Local Copy\u0022 (which simply seems to copy all of the .dll files that are required to build SCANsat to that build directory), this setting would be almost perfectly valid -- even if \u0022in place\u0022 means what it does for me:\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EKerbal Space Program\\GameData\\SCANsat\\Source\\build\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EExcept that this requires a post-build hook which copies SCANsat.dll to:\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EKerbal Space Program\\GameData\\SCANsat\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EAnd then a second hook which deletes:\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EKerbal Space Program\\GameData\\SCANsat\\Source\\build\\SCANsat.dll\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cdiv\u003EI don\u0027t like running any post-build hooks if I can avoid it, but I \u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E\u003Cstrong\u003Ereally\u003C/strong\u003E\u003C/div\u003E\u003Cstrong\u003E\u003C/strong\u003E\u003Cdiv\u003E don\u0027t like running ones which delete files. I\u0027m OK with the ones which copy the .txt files (and soon, all of the images, models, textures, and config files). I\u0027m OK with having two versions: one with xcopy for Windows, one with plain old cp for Linux. I\u0027m sure some other hooks will be necessary to get my above list going smoothly, too.\u003C/div\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E\u003C/p\u003E\u003Cp\u003E2.) \u003Cstrong\u003EOR\u003C/strong\u003E simply destroy/rebase/rebuild your copies of SCANsat with my latest one; modify my latest .csproj and .sln files to fit your desired deployment configuration (so I can clearly see your choices and don\u0027t make mistakes manipulating paths), and I will merge them into the master (either as they are, if possible, or under Windows Debug / Windows Release).\u003C/p\u003E\u003Cp\u003EI will note that it seems to be \u003Cstrong\u003Emandatory\u003C/strong\u003E that I have the target directory of the SCANsat project (but not necessarily the .sln) be my GameData\\SCANsat folder for debugging to work. I haven\u0027t tried symlinks for this scenario (though I suspect they would work) -- but I don\u0027t even know if I know enough Windows junction to setup a similar situation in Windows.\u003C/p\u003E\u003Cp\u003EYou are the more experienced developer here, so tell me what I should/shouldn\u0027t do and what I can change to be most correct. But I would \u003Cstrong\u003Ereally\u003C/strong\u003E like to be able to directly use git to directly import your code and changes (like, for example, your bigmap caching attempts). So far, I have done everything manually because of differences in these things (and in differences in Line endings). (Another reason for me doing things manually is because some of your changes were whitespace-only changes that despite all my attempts did not fall out the diffs.)\u003C/p\u003E\u003Cp\u003EThanks,\u003C/p\u003E\u003Cp\u003Etg\u003C/p\u003E\n"},{"CreatedByName":"Mecripp","CreatedById":181994,"CreatedDateTime":"2014-05-01T00:35:49Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TomatoSoup\u0022 data-cite=\u0022TomatoSoup\u0022\u003E\u003Cdiv\u003EI mean they don\u0027t scan in the background: the vessel must be focused to scan.\u003Cp\u003EYou\u0027re actually wrong on point 1. Prior to 23.5 I did all my scanning with a single vessel. As for point 2, they both had full batteries and, as I understand, Kerbal doesn\u0027t track electric charge on unfocused vessels, so they should have kept functioning.\u003C/p\u003E\u003Cp\u003EWhat I mean is: Vessels and techniques that worked perfectly prior to 23.5 no longer seem to work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EHad same problem but then remember had to click open map on the MapTraq part which, I added to my probe cores so just clicked on probe core and open map and all good now scanning in background. \u003Cimg src=\u0022//kerbal-forum-uploads.s3.us-west-2.amazonaws.com/emoticons/default_k_cheesy.gif\u0022 alt=\u0022:D\u0022\u003E\u003C/p\u003E\n"},{"CreatedByName":"technogeeky","CreatedById":107155,"CreatedDateTime":"2014-05-01T01:06:38Z","Content":"\n\u003Cblockquote data-ipsquote=\u0022\u0022 class=\u0022ipsQuote\u0022 data-ipsquote-username=\u0022TomatoSoup\u0022 data-cite=\u0022TomatoSoup\u0022\u003E\u003Cdiv\u003EI mean they don\u0027t scan in the background: the vessel must be focused to scan.\u003Cp\u003EYou\u0027re actually wrong on point 1. Prior to 23.5 I did all my scanning with a single vessel. As for point 2, they both had full batteries and, as I understand, Kerbal doesn\u0027t track electric charge on unfocused vessels, so they should have kept functioning.\u003C/p\u003E\u003Cp\u003EWhat I mean is: Vessels and techniques that worked perfectly prior to 23.5 no longer seem to work.\u003C/p\u003E\u003C/div\u003E\u003C/blockquote\u003E\u003Cp\u003EI don\u0027t mind being wrong. I may be the future maintainer of SCANsat, but I am certainly not the author and more than 50% of the code has never seen my eyes. And I will switch back to my dev environment tonight, so I will check the code myself. And the following may be wrong, but I want to be sure I say what I mean to say carefully:\u003C/p\u003E\u003Cp\u003E1.) In order to take advantage of background scanning, your \u003Cstrong\u003Eactive vessel\u003C/strong\u003E must have some type of SCANsat sensor on it (even if it\u0027s just MapTraq). I relent and submit this statement instead of the previous one (which is weaker than my previous statement that the active vessel must have the \u003Cem\u003Esame kind\u003C/em\u003E of scanner on it). I say this because I don\u0027t see a way for any of the SCANsat code to run when the active vessel is not even loading SCANsat in the first place.\u003C/p\u003E\u003Cp\u003EAs for #2, I think you are probably right re: background vessels and resource consumption. I do know that the \u003Cem\u003Eactive\u003C/em\u003E vessel must have enough charge to survive the draining of the batteries; otherwise, SCANsat starts to display static on top of the small map (I\u0027m not sure if the battery must be empty or nearly so, but I have seen the static happen when I forgot to deploy my panels).\u003C/p\u003E\u003Cp\u003EI do not really doubt that I\u0027m wrong, and I started playing KSP about three or four days before 0.23.5 came out, so I don\u0027t have any base of experience on prior versions.\u003C/p\u003E\u003Cp\u003ERegardless of the above, I again ask: which version of SCANsat are you talking about? I presume from your lack including that information that you are using the latest official release (v5) and not my (v6rc). The only change that I\u0027m aware of is that vessels can now be SpaceObjects (which did not exist prior to 0.23.5). I\u0027m not sure why this would break anything related to multiple vessel scanning, but I will check tonight.\u003C/p\u003E\n"}]}